function yj(e,t){for(var a=0;a<t.length;a++){const s=t[a];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=a(o);fetch(o.href,l)}})();var eM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f2={exports:{}},Uf={},p2={exports:{}},tr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=Symbol.for("react.element"),bj=Symbol.for("react.portal"),vj=Symbol.for("react.fragment"),wj=Symbol.for("react.strict_mode"),kj=Symbol.for("react.profiler"),Nj=Symbol.for("react.provider"),Bj=Symbol.for("react.context"),Cj=Symbol.for("react.forward_ref"),jj=Symbol.for("react.suspense"),Sj=Symbol.for("react.memo"),Fj=Symbol.for("react.lazy"),Jb=Symbol.iterator;function Ej(e){return e===null||typeof e!="object"?null:(e=Jb&&e[Jb]||e["@@iterator"],typeof e=="function"?e:null)}var m2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x2=Object.assign,y2={};function FA(e,t,a){this.props=e,this.context=t,this.refs=y2,this.updater=a||m2}FA.prototype.isReactComponent={};FA.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};FA.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b2(){}b2.prototype=FA.prototype;function sy(e,t,a){this.props=e,this.context=t,this.refs=y2,this.updater=a||m2}var ny=sy.prototype=new b2;ny.constructor=sy;x2(ny,FA.prototype);ny.isPureReactComponent=!0;var Zb=Array.isArray,v2=Object.prototype.hasOwnProperty,iy={current:null},w2={key:!0,ref:!0,__self:!0,__source:!0};function k2(e,t,a){var s,o={},l=null,d=null;if(t!=null)for(s in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)v2.call(t,s)&&!w2.hasOwnProperty(s)&&(o[s]=t[s]);var g=arguments.length-2;if(g===1)o.children=a;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];o.children=f}if(e&&e.defaultProps)for(s in g=e.defaultProps,g)o[s]===void 0&&(o[s]=g[s]);return{$$typeof:Cu,type:e,key:l,ref:d,props:o,_owner:iy.current}}function Lj(e,t){return{$$typeof:Cu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cu}function Ij(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var ev=/\/+/g;function Z0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ij(""+e.key):t.toString(36)}function dg(e,t,a,s,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Cu:case bj:d=!0}}if(d)return d=e,o=o(d),e=s===""?"."+Z0(d,0):s,Zb(o)?(a="",e!=null&&(a=e.replace(ev,"$&/")+"/"),dg(o,t,a,"",function(m){return m})):o!=null&&(oy(o)&&(o=Lj(o,a+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(ev,"$&/")+"/")+e)),t.push(o)),1;if(d=0,s=s===""?".":s+":",Zb(e))for(var g=0;g<e.length;g++){l=e[g];var f=s+Z0(l,g);d+=dg(l,t,a,f,o)}else if(f=Ej(e),typeof f=="function")for(e=f.call(e),g=0;!(l=e.next()).done;)l=l.value,f=s+Z0(l,g++),d+=dg(l,t,a,f,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function mh(e,t,a){if(e==null)return e;var s=[],o=0;return dg(e,s,"","",function(l){return t.call(a,l,o++)}),s}function Pj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vs={current:null},ug={transition:null},Uj={ReactCurrentDispatcher:vs,ReactCurrentBatchConfig:ug,ReactCurrentOwner:iy};function N2(){throw Error("act(...) is not supported in production builds of React.")}tr.Children={map:mh,forEach:function(e,t,a){mh(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return mh(e,function(){t++}),t},toArray:function(e){return mh(e,function(t){return t})||[]},only:function(e){if(!oy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tr.Component=FA;tr.Fragment=vj;tr.Profiler=kj;tr.PureComponent=sy;tr.StrictMode=wj;tr.Suspense=jj;tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uj;tr.act=N2;tr.cloneElement=function(e,t,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=x2({},e.props),o=e.key,l=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=iy.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(f in t)v2.call(t,f)&&!w2.hasOwnProperty(f)&&(s[f]=t[f]===void 0&&g!==void 0?g[f]:t[f])}var f=arguments.length-2;if(f===1)s.children=a;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];s.children=g}return{$$typeof:Cu,type:e.type,key:o,ref:l,props:s,_owner:d}};tr.createContext=function(e){return e={$$typeof:Bj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nj,_context:e},e.Consumer=e};tr.createElement=k2;tr.createFactory=function(e){var t=k2.bind(null,e);return t.type=e,t};tr.createRef=function(){return{current:null}};tr.forwardRef=function(e){return{$$typeof:Cj,render:e}};tr.isValidElement=oy;tr.lazy=function(e){return{$$typeof:Fj,_payload:{_status:-1,_result:e},_init:Pj}};tr.memo=function(e,t){return{$$typeof:Sj,type:e,compare:t===void 0?null:t}};tr.startTransition=function(e){var t=ug.transition;ug.transition={};try{e()}finally{ug.transition=t}};tr.unstable_act=N2;tr.useCallback=function(e,t){return vs.current.useCallback(e,t)};tr.useContext=function(e){return vs.current.useContext(e)};tr.useDebugValue=function(){};tr.useDeferredValue=function(e){return vs.current.useDeferredValue(e)};tr.useEffect=function(e,t){return vs.current.useEffect(e,t)};tr.useId=function(){return vs.current.useId()};tr.useImperativeHandle=function(e,t,a){return vs.current.useImperativeHandle(e,t,a)};tr.useInsertionEffect=function(e,t){return vs.current.useInsertionEffect(e,t)};tr.useLayoutEffect=function(e,t){return vs.current.useLayoutEffect(e,t)};tr.useMemo=function(e,t){return vs.current.useMemo(e,t)};tr.useReducer=function(e,t,a){return vs.current.useReducer(e,t,a)};tr.useRef=function(e){return vs.current.useRef(e)};tr.useState=function(e){return vs.current.useState(e)};tr.useSyncExternalStore=function(e,t,a){return vs.current.useSyncExternalStore(e,t,a)};tr.useTransition=function(){return vs.current.useTransition()};tr.version="18.3.1";p2.exports=tr;var X=p2.exports;const Gt=g2(X),um=yj({__proto__:null,default:Gt},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qj=X,Dj=Symbol.for("react.element"),Tj=Symbol.for("react.fragment"),Rj=Object.prototype.hasOwnProperty,Mj=Qj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hj={key:!0,ref:!0,__self:!0,__source:!0};function B2(e,t,a){var s,o={},l=null,d=null;a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(s in t)Rj.call(t,s)&&!Hj.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:Dj,type:e,key:l,ref:d,props:o,_owner:Mj.current}}Uf.Fragment=Tj;Uf.jsx=B2;Uf.jsxs=B2;f2.exports=Uf;var r=f2.exports,C2={exports:{}},cn={},j2={exports:{}},S2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(fe,je){var Pe=fe.length;fe.push(je);e:for(;0<Pe;){var Ve=Pe-1>>>1,de=fe[Ve];if(0<o(de,je))fe[Ve]=je,fe[Pe]=de,Pe=Ve;else break e}}function a(fe){return fe.length===0?null:fe[0]}function s(fe){if(fe.length===0)return null;var je=fe[0],Pe=fe.pop();if(Pe!==je){fe[0]=Pe;e:for(var Ve=0,de=fe.length,he=de>>>1;Ve<he;){var Ne=2*(Ve+1)-1,Ee=fe[Ne],Se=Ne+1,Ie=fe[Se];if(0>o(Ee,Pe))Se<de&&0>o(Ie,Ee)?(fe[Ve]=Ie,fe[Se]=Pe,Ve=Se):(fe[Ve]=Ee,fe[Ne]=Pe,Ve=Ne);else if(Se<de&&0>o(Ie,Pe))fe[Ve]=Ie,fe[Se]=Pe,Ve=Se;else break e}}return je}function o(fe,je){var Pe=fe.sortIndex-je.sortIndex;return Pe!==0?Pe:fe.id-je.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var f=[],m=[],v=1,N=null,C=3,k=!1,U=!1,F=!1,O=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(fe){for(var je=a(m);je!==null;){if(je.callback===null)s(m);else if(je.startTime<=fe)s(m),je.sortIndex=je.expirationTime,t(f,je);else break;je=a(m)}}function q(fe){if(F=!1,T(fe),!U)if(a(f)!==null)U=!0,Y(M);else{var je=a(m);je!==null&&we(q,je.startTime-fe)}}function M(fe,je){U=!1,F&&(F=!1,L(V),V=-1),k=!0;var Pe=C;try{for(T(je),N=a(f);N!==null&&(!(N.expirationTime>je)||fe&&!$());){var Ve=N.callback;if(typeof Ve=="function"){N.callback=null,C=N.priorityLevel;var de=Ve(N.expirationTime<=je);je=e.unstable_now(),typeof de=="function"?N.callback=de:N===a(f)&&s(f),T(je)}else s(f);N=a(f)}if(N!==null)var he=!0;else{var Ne=a(m);Ne!==null&&we(q,Ne.startTime-je),he=!1}return he}finally{N=null,C=Pe,k=!1}}var re=!1,G=null,V=-1,ue=5,ne=-1;function $(){return!(e.unstable_now()-ne<ue)}function J(){if(G!==null){var fe=e.unstable_now();ne=fe;var je=!0;try{je=G(!0,fe)}finally{je?oe():(re=!1,G=null)}}else re=!1}var oe;if(typeof I=="function")oe=function(){I(J)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ie=le.port2;le.port1.onmessage=J,oe=function(){ie.postMessage(null)}}else oe=function(){O(J,0)};function Y(fe){G=fe,re||(re=!0,oe())}function we(fe,je){V=O(function(){fe(e.unstable_now())},je)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(fe){fe.callback=null},e.unstable_continueExecution=function(){U||k||(U=!0,Y(M))},e.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<fe?Math.floor(1e3/fe):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return a(f)},e.unstable_next=function(fe){switch(C){case 1:case 2:case 3:var je=3;break;default:je=C}var Pe=C;C=je;try{return fe()}finally{C=Pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(fe,je){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Pe=C;C=fe;try{return je()}finally{C=Pe}},e.unstable_scheduleCallback=function(fe,je,Pe){var Ve=e.unstable_now();switch(typeof Pe=="object"&&Pe!==null?(Pe=Pe.delay,Pe=typeof Pe=="number"&&0<Pe?Ve+Pe:Ve):Pe=Ve,fe){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Pe+de,fe={id:v++,callback:je,priorityLevel:fe,startTime:Pe,expirationTime:de,sortIndex:-1},Pe>Ve?(fe.sortIndex=Pe,t(m,fe),a(f)===null&&fe===a(m)&&(F?(L(V),V=-1):F=!0,we(q,Pe-Ve))):(fe.sortIndex=de,t(f,fe),U||k||(U=!0,Y(M))),fe},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(fe){var je=C;return function(){var Pe=C;C=je;try{return fe.apply(this,arguments)}finally{C=Pe}}}})(S2);j2.exports=S2;var Oj=j2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j=X,ln=Oj;function it(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F2=new Set,ru={};function oc(e,t){yA(e,t),yA(e+"Capture",t)}function yA(e,t){for(ru[e]=t,e=0;e<t.length;e++)F2.add(t[e])}var to=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hm=Object.prototype.hasOwnProperty,zj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tv={},rv={};function Vj(e){return hm.call(rv,e)?!0:hm.call(tv,e)?!1:zj.test(e)?rv[e]=!0:(tv[e]=!0,!1)}function Gj(e,t,a,s){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qj(e,t,a,s){if(t===null||typeof t>"u"||Gj(e,t,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ws(e,t,a,s,o,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var Ga={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ga[e]=new ws(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ga[t]=new ws(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ga[e]=new ws(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ga[e]=new ws(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ga[e]=new ws(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ga[e]=new ws(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ga[e]=new ws(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ga[e]=new ws(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ga[e]=new ws(e,5,!1,e.toLowerCase(),null,!1,!1)});var ly=/[\-:]([a-z])/g;function cy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ly,cy);Ga[t]=new ws(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ly,cy);Ga[t]=new ws(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ly,cy);Ga[t]=new ws(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ga[e]=new ws(e,1,!1,e.toLowerCase(),null,!1,!1)});Ga.xlinkHref=new ws("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ga[e]=new ws(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ay(e,t,a,s){var o=Ga.hasOwnProperty(t)?Ga[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qj(t,a,o,s)&&(a=null),s||o===null?Vj(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):o.mustUseProperty?e[o.propertyName]=a===null?o.type===3?!1:"":a:(t=o.attributeName,s=o.attributeNamespace,a===null?e.removeAttribute(t):(o=o.type,a=o===3||o===4&&a===!0?"":""+a,s?e.setAttributeNS(s,t,a):e.setAttribute(t,a))))}var oo=_j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xh=Symbol.for("react.element"),Gc=Symbol.for("react.portal"),qc=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),E2=Symbol.for("react.provider"),L2=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),pm=Symbol.for("react.suspense_list"),hy=Symbol.for("react.memo"),Lo=Symbol.for("react.lazy"),I2=Symbol.for("react.offscreen"),av=Symbol.iterator;function cd(e){return e===null||typeof e!="object"?null:(e=av&&e[av]||e["@@iterator"],typeof e=="function"?e:null)}var Wr=Object.assign,ep;function Nd(e){if(ep===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ep=t&&t[1]||""}return`
`+ep+e}var tp=!1;function rp(e,t){if(!e||tp)return"";tp=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var s=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){s=m}e.call(t.prototype)}else{try{throw Error()}catch(m){s=m}e()}}catch(m){if(m&&s&&typeof m.stack=="string"){for(var o=m.stack.split(`
`),l=s.stack.split(`
`),d=o.length-1,g=l.length-1;1<=d&&0<=g&&o[d]!==l[g];)g--;for(;1<=d&&0<=g;d--,g--)if(o[d]!==l[g]){if(d!==1||g!==1)do if(d--,g--,0>g||o[d]!==l[g]){var f=`
`+o[d].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=d&&0<=g);break}}}finally{tp=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Nd(e):""}function Xj(e){switch(e.tag){case 5:return Nd(e.type);case 16:return Nd("Lazy");case 13:return Nd("Suspense");case 19:return Nd("SuspenseList");case 0:case 2:case 15:return e=rp(e.type,!1),e;case 11:return e=rp(e.type.render,!1),e;case 1:return e=rp(e.type,!0),e;default:return""}}function mm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qc:return"Fragment";case Gc:return"Portal";case gm:return"Profiler";case dy:return"StrictMode";case fm:return"Suspense";case pm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L2:return(e.displayName||"Context")+".Consumer";case E2:return(e._context.displayName||"Context")+".Provider";case uy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hy:return t=e.displayName||null,t!==null?t:mm(e.type)||"Memo";case Lo:t=e._payload,e=e._init;try{return mm(e(t))}catch{}}return null}function Kj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mm(t);case 8:return t===dy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function il(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wj(e){var t=P2(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,l=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){s=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yh(e){e._valueTracker||(e._valueTracker=Wj(e))}function U2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=P2(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Tg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xm(e,t){var a=t.checked;return Wr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function sv(e,t){var a=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;a=il(t.value!=null?t.value:a),e._wrapperState={initialChecked:s,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Q2(e,t){t=t.checked,t!=null&&Ay(e,"checked",t,!1)}function ym(e,t){Q2(e,t);var a=il(t.value),s=t.type;if(a!=null)s==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bm(e,t.type,a):t.hasOwnProperty("defaultValue")&&bm(e,t.type,il(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nv(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function bm(e,t,a){(t!=="number"||Tg(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Bd=Array.isArray;function nA(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+il(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function vm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(it(91));return Wr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iv(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(it(92));if(Bd(a)){if(1<a.length)throw Error(it(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:il(a)}}function D2(e,t){var a=il(t.value),s=il(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),s!=null&&(e.defaultValue=""+s)}function ov(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function T2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?T2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bh,R2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,a,s,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function au(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yj=["Webkit","ms","Moz","O"];Object.keys(Rd).forEach(function(e){Yj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rd[t]=Rd[e]})});function M2(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||Rd.hasOwnProperty(e)&&Rd[e]?(""+t).trim():t+"px"}function H2(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=a.indexOf("--")===0,o=M2(a,t[a],s);a==="float"&&(a="cssFloat"),s?e.setProperty(a,o):e[a]=o}}var $j=Wr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(e,t){if(t){if($j[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(it(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(it(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(it(61))}if(t.style!=null&&typeof t.style!="object")throw Error(it(62))}}function Nm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=null;function gy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cm=null,iA=null,oA=null;function lv(e){if(e=Fu(e)){if(typeof Cm!="function")throw Error(it(280));var t=e.stateNode;t&&(t=Mf(t),Cm(e.stateNode,e.type,t))}}function O2(e){iA?oA?oA.push(e):oA=[e]:iA=e}function _2(){if(iA){var e=iA,t=oA;if(oA=iA=null,lv(e),t)for(e=0;e<t.length;e++)lv(t[e])}}function z2(e,t){return e(t)}function V2(){}var ap=!1;function G2(e,t,a){if(ap)return e(t,a);ap=!0;try{return z2(e,t,a)}finally{ap=!1,(iA!==null||oA!==null)&&(V2(),_2())}}function su(e,t){var a=e.stateNode;if(a===null)return null;var s=Mf(a);if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(it(231,t,typeof a));return a}var jm=!1;if(to)try{var Ad={};Object.defineProperty(Ad,"passive",{get:function(){jm=!0}}),window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{jm=!1}function Jj(e,t,a,s,o,l,d,g,f){var m=Array.prototype.slice.call(arguments,3);try{t.apply(a,m)}catch(v){this.onError(v)}}var Md=!1,Rg=null,Mg=!1,Sm=null,Zj={onError:function(e){Md=!0,Rg=e}};function eS(e,t,a,s,o,l,d,g,f){Md=!1,Rg=null,Jj.apply(Zj,arguments)}function tS(e,t,a,s,o,l,d,g,f){if(eS.apply(this,arguments),Md){if(Md){var m=Rg;Md=!1,Rg=null}else throw Error(it(198));Mg||(Mg=!0,Sm=m)}}function lc(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function q2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cv(e){if(lc(e)!==e)throw Error(it(188))}function rS(e){var t=e.alternate;if(!t){if(t=lc(e),t===null)throw Error(it(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var l=o.alternate;if(l===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===a)return cv(o),e;if(l===s)return cv(o),t;l=l.sibling}throw Error(it(188))}if(a.return!==s.return)a=o,s=l;else{for(var d=!1,g=o.child;g;){if(g===a){d=!0,a=o,s=l;break}if(g===s){d=!0,s=o,a=l;break}g=g.sibling}if(!d){for(g=l.child;g;){if(g===a){d=!0,a=l,s=o;break}if(g===s){d=!0,s=l,a=o;break}g=g.sibling}if(!d)throw Error(it(189))}}if(a.alternate!==s)throw Error(it(190))}if(a.tag!==3)throw Error(it(188));return a.stateNode.current===a?e:t}function X2(e){return e=rS(e),e!==null?K2(e):null}function K2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=K2(e);if(t!==null)return t;e=e.sibling}return null}var W2=ln.unstable_scheduleCallback,Av=ln.unstable_cancelCallback,aS=ln.unstable_shouldYield,sS=ln.unstable_requestPaint,ca=ln.unstable_now,nS=ln.unstable_getCurrentPriorityLevel,fy=ln.unstable_ImmediatePriority,Y2=ln.unstable_UserBlockingPriority,Hg=ln.unstable_NormalPriority,iS=ln.unstable_LowPriority,$2=ln.unstable_IdlePriority,Qf=null,bi=null;function oS(e){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(Qf,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:AS,lS=Math.log,cS=Math.LN2;function AS(e){return e>>>=0,e===0?32:31-(lS(e)/cS|0)|0}var vh=64,wh=4194304;function Cd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Og(e,t){var a=e.pendingLanes;if(a===0)return 0;var s=0,o=e.suspendedLanes,l=e.pingedLanes,d=a&268435455;if(d!==0){var g=d&~o;g!==0?s=Cd(g):(l&=d,l!==0&&(s=Cd(l)))}else d=a&~o,d!==0?s=Cd(d):l!==0&&(s=Cd(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&o)&&(o=s&-s,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(s&4&&(s|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)a=31-Wn(t),o=1<<a,s|=e[a],t&=~o;return s}function dS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uS(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-Wn(l),g=1<<d,f=o[d];f===-1?(!(g&a)||g&s)&&(o[d]=dS(g,t)):f<=t&&(e.expiredLanes|=g),l&=~g}}function Fm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function J2(){var e=vh;return vh<<=1,!(vh&4194240)&&(vh=64),e}function sp(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ju(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=a}function hS(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<a;){var o=31-Wn(a),l=1<<o;t[o]=0,s[o]=-1,e[o]=-1,a&=~l}}function py(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-Wn(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}var Nr=0;function Z2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ek,my,tk,rk,ak,Em=!1,kh=[],Xo=null,Ko=null,Wo=null,nu=new Map,iu=new Map,Uo=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dv(e,t){switch(e){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":nu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(t.pointerId)}}function dd(e,t,a,s,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Fu(t),t!==null&&my(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function fS(e,t,a,s,o){switch(t){case"focusin":return Xo=dd(Xo,e,t,a,s,o),!0;case"dragenter":return Ko=dd(Ko,e,t,a,s,o),!0;case"mouseover":return Wo=dd(Wo,e,t,a,s,o),!0;case"pointerover":var l=o.pointerId;return nu.set(l,dd(nu.get(l)||null,e,t,a,s,o)),!0;case"gotpointercapture":return l=o.pointerId,iu.set(l,dd(iu.get(l)||null,e,t,a,s,o)),!0}return!1}function sk(e){var t=Dl(e.target);if(t!==null){var a=lc(t);if(a!==null){if(t=a.tag,t===13){if(t=q2(a),t!==null){e.blockedOn=t,ak(e.priority,function(){tk(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Lm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Bm=s,a.target.dispatchEvent(s),Bm=null}else return t=Fu(a),t!==null&&my(t),e.blockedOn=a,!1;t.shift()}return!0}function uv(e,t,a){hg(e)&&a.delete(t)}function pS(){Em=!1,Xo!==null&&hg(Xo)&&(Xo=null),Ko!==null&&hg(Ko)&&(Ko=null),Wo!==null&&hg(Wo)&&(Wo=null),nu.forEach(uv),iu.forEach(uv)}function ud(e,t){e.blockedOn===t&&(e.blockedOn=null,Em||(Em=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,pS)))}function ou(e){function t(o){return ud(o,e)}if(0<kh.length){ud(kh[0],e);for(var a=1;a<kh.length;a++){var s=kh[a];s.blockedOn===e&&(s.blockedOn=null)}}for(Xo!==null&&ud(Xo,e),Ko!==null&&ud(Ko,e),Wo!==null&&ud(Wo,e),nu.forEach(t),iu.forEach(t),a=0;a<Uo.length;a++)s=Uo[a],s.blockedOn===e&&(s.blockedOn=null);for(;0<Uo.length&&(a=Uo[0],a.blockedOn===null);)sk(a),a.blockedOn===null&&Uo.shift()}var lA=oo.ReactCurrentBatchConfig,_g=!0;function mS(e,t,a,s){var o=Nr,l=lA.transition;lA.transition=null;try{Nr=1,xy(e,t,a,s)}finally{Nr=o,lA.transition=l}}function xS(e,t,a,s){var o=Nr,l=lA.transition;lA.transition=null;try{Nr=4,xy(e,t,a,s)}finally{Nr=o,lA.transition=l}}function xy(e,t,a,s){if(_g){var o=Lm(e,t,a,s);if(o===null)gp(e,t,s,zg,a),dv(e,s);else if(fS(o,e,t,a,s))s.stopPropagation();else if(dv(e,s),t&4&&-1<gS.indexOf(e)){for(;o!==null;){var l=Fu(o);if(l!==null&&ek(l),l=Lm(e,t,a,s),l===null&&gp(e,t,s,zg,a),l===o)break;o=l}o!==null&&s.stopPropagation()}else gp(e,t,s,null,a)}}var zg=null;function Lm(e,t,a,s){if(zg=null,e=gy(s),e=Dl(e),e!==null)if(t=lc(e),t===null)e=null;else if(a=t.tag,a===13){if(e=q2(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zg=e,null}function nk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nS()){case fy:return 1;case Y2:return 4;case Hg:case iS:return 16;case $2:return 536870912;default:return 16}default:return 16}}var To=null,yy=null,gg=null;function ik(){if(gg)return gg;var e,t=yy,a=t.length,s,o="value"in To?To.value:To.textContent,l=o.length;for(e=0;e<a&&t[e]===o[e];e++);var d=a-e;for(s=1;s<=d&&t[a-s]===o[l-s];s++);return gg=o.slice(e,1<s?1-s:void 0)}function fg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nh(){return!0}function hv(){return!1}function An(e){function t(a,s,o,l,d){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(l):l[g]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Nh:hv,this.isPropagationStopped=hv,this}return Wr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nh)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nh)},persist:function(){},isPersistent:Nh}),t}var EA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},by=An(EA),Su=Wr({},EA,{view:0,detail:0}),yS=An(Su),np,ip,hd,Df=Wr({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hd&&(hd&&e.type==="mousemove"?(np=e.screenX-hd.screenX,ip=e.screenY-hd.screenY):ip=np=0,hd=e),np)},movementY:function(e){return"movementY"in e?e.movementY:ip}}),gv=An(Df),bS=Wr({},Df,{dataTransfer:0}),vS=An(bS),wS=Wr({},Su,{relatedTarget:0}),op=An(wS),kS=Wr({},EA,{animationName:0,elapsedTime:0,pseudoElement:0}),NS=An(kS),BS=Wr({},EA,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CS=An(BS),jS=Wr({},EA,{data:0}),fv=An(jS),SS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ES={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ES[e])?!!t[e]:!1}function vy(){return LS}var IS=Wr({},Su,{key:function(e){if(e.key){var t=SS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vy,charCode:function(e){return e.type==="keypress"?fg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PS=An(IS),US=Wr({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pv=An(US),QS=Wr({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vy}),DS=An(QS),TS=Wr({},EA,{propertyName:0,elapsedTime:0,pseudoElement:0}),RS=An(TS),MS=Wr({},Df,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HS=An(MS),OS=[9,13,27,32],wy=to&&"CompositionEvent"in window,Hd=null;to&&"documentMode"in document&&(Hd=document.documentMode);var _S=to&&"TextEvent"in window&&!Hd,ok=to&&(!wy||Hd&&8<Hd&&11>=Hd),mv=String.fromCharCode(32),xv=!1;function lk(e,t){switch(e){case"keyup":return OS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ck(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xc=!1;function zS(e,t){switch(e){case"compositionend":return ck(t);case"keypress":return t.which!==32?null:(xv=!0,mv);case"textInput":return e=t.data,e===mv&&xv?null:e;default:return null}}function VS(e,t){if(Xc)return e==="compositionend"||!wy&&lk(e,t)?(e=ik(),gg=yy=To=null,Xc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ok&&t.locale!=="ko"?null:t.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GS[e.type]:t==="textarea"}function Ak(e,t,a,s){O2(s),t=Vg(t,"onChange"),0<t.length&&(a=new by("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Od=null,lu=null;function qS(e){vk(e,0)}function Tf(e){var t=Yc(e);if(U2(t))return e}function XS(e,t){if(e==="change")return t}var dk=!1;if(to){var lp;if(to){var cp="oninput"in document;if(!cp){var bv=document.createElement("div");bv.setAttribute("oninput","return;"),cp=typeof bv.oninput=="function"}lp=cp}else lp=!1;dk=lp&&(!document.documentMode||9<document.documentMode)}function vv(){Od&&(Od.detachEvent("onpropertychange",uk),lu=Od=null)}function uk(e){if(e.propertyName==="value"&&Tf(lu)){var t=[];Ak(t,lu,e,gy(e)),G2(qS,t)}}function KS(e,t,a){e==="focusin"?(vv(),Od=t,lu=a,Od.attachEvent("onpropertychange",uk)):e==="focusout"&&vv()}function WS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tf(lu)}function YS(e,t){if(e==="click")return Tf(t)}function $S(e,t){if(e==="input"||e==="change")return Tf(t)}function JS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zn=typeof Object.is=="function"?Object.is:JS;function cu(e,t){if(Zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!hm.call(t,o)||!Zn(e[o],t[o]))return!1}return!0}function wv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kv(e,t){var a=wv(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wv(a)}}function hk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gk(){for(var e=window,t=Tg();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Tg(e.document)}return t}function ky(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZS(e){var t=gk(),a=e.focusedElem,s=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&hk(a.ownerDocument.documentElement,a)){if(s!==null&&ky(a)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=a.textContent.length,l=Math.min(s.start,o);s=s.end===void 0?l:Math.min(s.end,o),!e.extend&&l>s&&(o=s,s=l,l=o),o=kv(a,l);var d=kv(a,s);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var e4=to&&"documentMode"in document&&11>=document.documentMode,Kc=null,Im=null,_d=null,Pm=!1;function Nv(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pm||Kc==null||Kc!==Tg(s)||(s=Kc,"selectionStart"in s&&ky(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_d&&cu(_d,s)||(_d=s,s=Vg(Im,"onSelect"),0<s.length&&(t=new by("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Kc)))}function Bh(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Wc={animationend:Bh("Animation","AnimationEnd"),animationiteration:Bh("Animation","AnimationIteration"),animationstart:Bh("Animation","AnimationStart"),transitionend:Bh("Transition","TransitionEnd")},Ap={},fk={};to&&(fk=document.createElement("div").style,"AnimationEvent"in window||(delete Wc.animationend.animation,delete Wc.animationiteration.animation,delete Wc.animationstart.animation),"TransitionEvent"in window||delete Wc.transitionend.transition);function Rf(e){if(Ap[e])return Ap[e];if(!Wc[e])return e;var t=Wc[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in fk)return Ap[e]=t[a];return e}var pk=Rf("animationend"),mk=Rf("animationiteration"),xk=Rf("animationstart"),yk=Rf("transitionend"),bk=new Map,Bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hl(e,t){bk.set(e,t),oc(t,[e])}for(var dp=0;dp<Bv.length;dp++){var up=Bv[dp],t4=up.toLowerCase(),r4=up[0].toUpperCase()+up.slice(1);hl(t4,"on"+r4)}hl(pk,"onAnimationEnd");hl(mk,"onAnimationIteration");hl(xk,"onAnimationStart");hl("dblclick","onDoubleClick");hl("focusin","onFocus");hl("focusout","onBlur");hl(yk,"onTransitionEnd");yA("onMouseEnter",["mouseout","mouseover"]);yA("onMouseLeave",["mouseout","mouseover"]);yA("onPointerEnter",["pointerout","pointerover"]);yA("onPointerLeave",["pointerout","pointerover"]);oc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oc("onBeforeInput",["compositionend","keypress","textInput","paste"]);oc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a4=new Set("cancel close invalid load scroll toggle".split(" ").concat(jd));function Cv(e,t,a){var s=e.type||"unknown-event";e.currentTarget=a,tS(s,t,void 0,e),e.currentTarget=null}function vk(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var d=s.length-1;0<=d;d--){var g=s[d],f=g.instance,m=g.currentTarget;if(g=g.listener,f!==l&&o.isPropagationStopped())break e;Cv(o,g,m),l=f}else for(d=0;d<s.length;d++){if(g=s[d],f=g.instance,m=g.currentTarget,g=g.listener,f!==l&&o.isPropagationStopped())break e;Cv(o,g,m),l=f}}}if(Mg)throw e=Sm,Mg=!1,Sm=null,e}function Mr(e,t){var a=t[Rm];a===void 0&&(a=t[Rm]=new Set);var s=e+"__bubble";a.has(s)||(wk(t,e,2,!1),a.add(s))}function hp(e,t,a){var s=0;t&&(s|=4),wk(a,e,s,t)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function Au(e){if(!e[Ch]){e[Ch]=!0,F2.forEach(function(a){a!=="selectionchange"&&(a4.has(a)||hp(a,!1,e),hp(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ch]||(t[Ch]=!0,hp("selectionchange",!1,t))}}function wk(e,t,a,s){switch(nk(t)){case 1:var o=mS;break;case 4:o=xS;break;default:o=xy}a=o.bind(null,t,a,e),o=void 0,!jm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function gp(e,t,a,s,o){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var g=s.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(d===4)for(d=s.return;d!==null;){var f=d.tag;if((f===3||f===4)&&(f=d.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;d=d.return}for(;g!==null;){if(d=Dl(g),d===null)return;if(f=d.tag,f===5||f===6){s=l=d;continue e}g=g.parentNode}}s=s.return}G2(function(){var m=l,v=gy(a),N=[];e:{var C=bk.get(e);if(C!==void 0){var k=by,U=e;switch(e){case"keypress":if(fg(a)===0)break e;case"keydown":case"keyup":k=PS;break;case"focusin":U="focus",k=op;break;case"focusout":U="blur",k=op;break;case"beforeblur":case"afterblur":k=op;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=vS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=DS;break;case pk:case mk:case xk:k=NS;break;case yk:k=RS;break;case"scroll":k=yS;break;case"wheel":k=HS;break;case"copy":case"cut":case"paste":k=CS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=pv}var F=(t&4)!==0,O=!F&&e==="scroll",L=F?C!==null?C+"Capture":null:C;F=[];for(var I=m,T;I!==null;){T=I;var q=T.stateNode;if(T.tag===5&&q!==null&&(T=q,L!==null&&(q=su(I,L),q!=null&&F.push(du(I,q,T)))),O)break;I=I.return}0<F.length&&(C=new k(C,U,null,a,v),N.push({event:C,listeners:F}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",C&&a!==Bm&&(U=a.relatedTarget||a.fromElement)&&(Dl(U)||U[ro]))break e;if((k||C)&&(C=v.window===v?v:(C=v.ownerDocument)?C.defaultView||C.parentWindow:window,k?(U=a.relatedTarget||a.toElement,k=m,U=U?Dl(U):null,U!==null&&(O=lc(U),U!==O||U.tag!==5&&U.tag!==6)&&(U=null)):(k=null,U=m),k!==U)){if(F=gv,q="onMouseLeave",L="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(F=pv,q="onPointerLeave",L="onPointerEnter",I="pointer"),O=k==null?C:Yc(k),T=U==null?C:Yc(U),C=new F(q,I+"leave",k,a,v),C.target=O,C.relatedTarget=T,q=null,Dl(v)===m&&(F=new F(L,I+"enter",U,a,v),F.target=T,F.relatedTarget=O,q=F),O=q,k&&U)t:{for(F=k,L=U,I=0,T=F;T;T=Lc(T))I++;for(T=0,q=L;q;q=Lc(q))T++;for(;0<I-T;)F=Lc(F),I--;for(;0<T-I;)L=Lc(L),T--;for(;I--;){if(F===L||L!==null&&F===L.alternate)break t;F=Lc(F),L=Lc(L)}F=null}else F=null;k!==null&&jv(N,C,k,F,!1),U!==null&&O!==null&&jv(N,O,U,F,!0)}}e:{if(C=m?Yc(m):window,k=C.nodeName&&C.nodeName.toLowerCase(),k==="select"||k==="input"&&C.type==="file")var M=XS;else if(yv(C))if(dk)M=$S;else{M=WS;var re=KS}else(k=C.nodeName)&&k.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(M=YS);if(M&&(M=M(e,m))){Ak(N,M,a,v);break e}re&&re(e,C,m),e==="focusout"&&(re=C._wrapperState)&&re.controlled&&C.type==="number"&&bm(C,"number",C.value)}switch(re=m?Yc(m):window,e){case"focusin":(yv(re)||re.contentEditable==="true")&&(Kc=re,Im=m,_d=null);break;case"focusout":_d=Im=Kc=null;break;case"mousedown":Pm=!0;break;case"contextmenu":case"mouseup":case"dragend":Pm=!1,Nv(N,a,v);break;case"selectionchange":if(e4)break;case"keydown":case"keyup":Nv(N,a,v)}var G;if(wy)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Xc?lk(e,a)&&(V="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(V="onCompositionStart");V&&(ok&&a.locale!=="ko"&&(Xc||V!=="onCompositionStart"?V==="onCompositionEnd"&&Xc&&(G=ik()):(To=v,yy="value"in To?To.value:To.textContent,Xc=!0)),re=Vg(m,V),0<re.length&&(V=new fv(V,e,null,a,v),N.push({event:V,listeners:re}),G?V.data=G:(G=ck(a),G!==null&&(V.data=G)))),(G=_S?zS(e,a):VS(e,a))&&(m=Vg(m,"onBeforeInput"),0<m.length&&(v=new fv("onBeforeInput","beforeinput",null,a,v),N.push({event:v,listeners:m}),v.data=G))}vk(N,t)})}function du(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Vg(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=su(e,a),l!=null&&s.unshift(du(e,l,o)),l=su(e,t),l!=null&&s.push(du(e,l,o))),e=e.return}return s}function Lc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jv(e,t,a,s,o){for(var l=t._reactName,d=[];a!==null&&a!==s;){var g=a,f=g.alternate,m=g.stateNode;if(f!==null&&f===s)break;g.tag===5&&m!==null&&(g=m,o?(f=su(a,l),f!=null&&d.unshift(du(a,f,g))):o||(f=su(a,l),f!=null&&d.push(du(a,f,g)))),a=a.return}d.length!==0&&e.push({event:t,listeners:d})}var s4=/\r\n?/g,n4=/\u0000|\uFFFD/g;function Sv(e){return(typeof e=="string"?e:""+e).replace(s4,`
`).replace(n4,"")}function jh(e,t,a){if(t=Sv(t),Sv(e)!==t&&a)throw Error(it(425))}function Gg(){}var Um=null,Qm=null;function Dm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,i4=typeof clearTimeout=="function"?clearTimeout:void 0,Fv=typeof Promise=="function"?Promise:void 0,o4=typeof queueMicrotask=="function"?queueMicrotask:typeof Fv<"u"?function(e){return Fv.resolve(null).then(e).catch(l4)}:Tm;function l4(e){setTimeout(function(){throw e})}function fp(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(s===0){e.removeChild(o),ou(t);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=o}while(a);ou(t)}function Yo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ev(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var LA=Math.random().toString(36).slice(2),xi="__reactFiber$"+LA,uu="__reactProps$"+LA,ro="__reactContainer$"+LA,Rm="__reactEvents$"+LA,c4="__reactListeners$"+LA,A4="__reactHandles$"+LA;function Dl(e){var t=e[xi];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ro]||a[xi]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ev(e);e!==null;){if(a=e[xi])return a;e=Ev(e)}return t}e=a,a=e.parentNode}return null}function Fu(e){return e=e[xi]||e[ro],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(it(33))}function Mf(e){return e[uu]||null}var Mm=[],$c=-1;function gl(e){return{current:e}}function Or(e){0>$c||(e.current=Mm[$c],Mm[$c]=null,$c--)}function Tr(e,t){$c++,Mm[$c]=e.current,e.current=t}var ol={},ls=gl(ol),Qs=gl(!1),Yl=ol;function bA(e,t){var a=e.type.contextTypes;if(!a)return ol;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in a)o[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ds(e){return e=e.childContextTypes,e!=null}function qg(){Or(Qs),Or(ls)}function Lv(e,t,a){if(ls.current!==ol)throw Error(it(168));Tr(ls,t),Tr(Qs,a)}function kk(e,t,a){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(it(108,Kj(e)||"Unknown",o));return Wr({},a,s)}function Xg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ol,Yl=ls.current,Tr(ls,e),Tr(Qs,Qs.current),!0}function Iv(e,t,a){var s=e.stateNode;if(!s)throw Error(it(169));a?(e=kk(e,t,Yl),s.__reactInternalMemoizedMergedChildContext=e,Or(Qs),Or(ls),Tr(ls,e)):Or(Qs),Tr(Qs,a)}var Xi=null,Hf=!1,pp=!1;function Nk(e){Xi===null?Xi=[e]:Xi.push(e)}function d4(e){Hf=!0,Nk(e)}function fl(){if(!pp&&Xi!==null){pp=!0;var e=0,t=Nr;try{var a=Xi;for(Nr=1;e<a.length;e++){var s=a[e];do s=s(!0);while(s!==null)}Xi=null,Hf=!1}catch(o){throw Xi!==null&&(Xi=Xi.slice(e+1)),W2(fy,fl),o}finally{Nr=t,pp=!1}}return null}var Jc=[],Zc=0,Kg=null,Wg=0,kn=[],Nn=0,$l=null,Wi=1,Yi="";function Fl(e,t){Jc[Zc++]=Wg,Jc[Zc++]=Kg,Kg=e,Wg=t}function Bk(e,t,a){kn[Nn++]=Wi,kn[Nn++]=Yi,kn[Nn++]=$l,$l=e;var s=Wi;e=Yi;var o=32-Wn(s)-1;s&=~(1<<o),a+=1;var l=32-Wn(t)+o;if(30<l){var d=o-o%5;l=(s&(1<<d)-1).toString(32),s>>=d,o-=d,Wi=1<<32-Wn(t)+o|a<<o|s,Yi=l+e}else Wi=1<<l|a<<o|s,Yi=e}function Ny(e){e.return!==null&&(Fl(e,1),Bk(e,1,0))}function By(e){for(;e===Kg;)Kg=Jc[--Zc],Jc[Zc]=null,Wg=Jc[--Zc],Jc[Zc]=null;for(;e===$l;)$l=kn[--Nn],kn[Nn]=null,Yi=kn[--Nn],kn[Nn]=null,Wi=kn[--Nn],kn[Nn]=null}var nn=null,rn=null,Vr=!1,Xn=null;function Ck(e,t){var a=Cn(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function Pv(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nn=e,rn=Yo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nn=e,rn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=$l!==null?{id:Wi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=Cn(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,nn=e,rn=null,!0):!1;default:return!1}}function Hm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Om(e){if(Vr){var t=rn;if(t){var a=t;if(!Pv(e,t)){if(Hm(e))throw Error(it(418));t=Yo(a.nextSibling);var s=nn;t&&Pv(e,t)?Ck(s,a):(e.flags=e.flags&-4097|2,Vr=!1,nn=e)}}else{if(Hm(e))throw Error(it(418));e.flags=e.flags&-4097|2,Vr=!1,nn=e}}}function Uv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nn=e}function Sh(e){if(e!==nn)return!1;if(!Vr)return Uv(e),Vr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dm(e.type,e.memoizedProps)),t&&(t=rn)){if(Hm(e))throw jk(),Error(it(418));for(;t;)Ck(e,t),t=Yo(t.nextSibling)}if(Uv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(it(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){rn=Yo(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}rn=null}}else rn=nn?Yo(e.stateNode.nextSibling):null;return!0}function jk(){for(var e=rn;e;)e=Yo(e.nextSibling)}function vA(){rn=nn=null,Vr=!1}function Cy(e){Xn===null?Xn=[e]:Xn.push(e)}var u4=oo.ReactCurrentBatchConfig;function gd(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(it(309));var s=a.stateNode}if(!s)throw Error(it(147,e));var o=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var g=o.refs;d===null?delete g[l]:g[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(it(284));if(!a._owner)throw Error(it(290,e))}return e}function Fh(e,t){throw e=Object.prototype.toString.call(t),Error(it(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qv(e){var t=e._init;return t(e._payload)}function Sk(e){function t(L,I){if(e){var T=L.deletions;T===null?(L.deletions=[I],L.flags|=16):T.push(I)}}function a(L,I){if(!e)return null;for(;I!==null;)t(L,I),I=I.sibling;return null}function s(L,I){for(L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function o(L,I){return L=el(L,I),L.index=0,L.sibling=null,L}function l(L,I,T){return L.index=T,e?(T=L.alternate,T!==null?(T=T.index,T<I?(L.flags|=2,I):T):(L.flags|=2,I)):(L.flags|=1048576,I)}function d(L){return e&&L.alternate===null&&(L.flags|=2),L}function g(L,I,T,q){return I===null||I.tag!==6?(I=kp(T,L.mode,q),I.return=L,I):(I=o(I,T),I.return=L,I)}function f(L,I,T,q){var M=T.type;return M===qc?v(L,I,T.props.children,q,T.key):I!==null&&(I.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Lo&&Qv(M)===I.type)?(q=o(I,T.props),q.ref=gd(L,I,T),q.return=L,q):(q=wg(T.type,T.key,T.props,null,L.mode,q),q.ref=gd(L,I,T),q.return=L,q)}function m(L,I,T,q){return I===null||I.tag!==4||I.stateNode.containerInfo!==T.containerInfo||I.stateNode.implementation!==T.implementation?(I=Np(T,L.mode,q),I.return=L,I):(I=o(I,T.children||[]),I.return=L,I)}function v(L,I,T,q,M){return I===null||I.tag!==7?(I=Gl(T,L.mode,q,M),I.return=L,I):(I=o(I,T),I.return=L,I)}function N(L,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return I=kp(""+I,L.mode,T),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case xh:return T=wg(I.type,I.key,I.props,null,L.mode,T),T.ref=gd(L,null,I),T.return=L,T;case Gc:return I=Np(I,L.mode,T),I.return=L,I;case Lo:var q=I._init;return N(L,q(I._payload),T)}if(Bd(I)||cd(I))return I=Gl(I,L.mode,T,null),I.return=L,I;Fh(L,I)}return null}function C(L,I,T,q){var M=I!==null?I.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:g(L,I,""+T,q);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case xh:return T.key===M?f(L,I,T,q):null;case Gc:return T.key===M?m(L,I,T,q):null;case Lo:return M=T._init,C(L,I,M(T._payload),q)}if(Bd(T)||cd(T))return M!==null?null:v(L,I,T,q,null);Fh(L,T)}return null}function k(L,I,T,q,M){if(typeof q=="string"&&q!==""||typeof q=="number")return L=L.get(T)||null,g(I,L,""+q,M);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case xh:return L=L.get(q.key===null?T:q.key)||null,f(I,L,q,M);case Gc:return L=L.get(q.key===null?T:q.key)||null,m(I,L,q,M);case Lo:var re=q._init;return k(L,I,T,re(q._payload),M)}if(Bd(q)||cd(q))return L=L.get(T)||null,v(I,L,q,M,null);Fh(I,q)}return null}function U(L,I,T,q){for(var M=null,re=null,G=I,V=I=0,ue=null;G!==null&&V<T.length;V++){G.index>V?(ue=G,G=null):ue=G.sibling;var ne=C(L,G,T[V],q);if(ne===null){G===null&&(G=ue);break}e&&G&&ne.alternate===null&&t(L,G),I=l(ne,I,V),re===null?M=ne:re.sibling=ne,re=ne,G=ue}if(V===T.length)return a(L,G),Vr&&Fl(L,V),M;if(G===null){for(;V<T.length;V++)G=N(L,T[V],q),G!==null&&(I=l(G,I,V),re===null?M=G:re.sibling=G,re=G);return Vr&&Fl(L,V),M}for(G=s(L,G);V<T.length;V++)ue=k(G,L,V,T[V],q),ue!==null&&(e&&ue.alternate!==null&&G.delete(ue.key===null?V:ue.key),I=l(ue,I,V),re===null?M=ue:re.sibling=ue,re=ue);return e&&G.forEach(function($){return t(L,$)}),Vr&&Fl(L,V),M}function F(L,I,T,q){var M=cd(T);if(typeof M!="function")throw Error(it(150));if(T=M.call(T),T==null)throw Error(it(151));for(var re=M=null,G=I,V=I=0,ue=null,ne=T.next();G!==null&&!ne.done;V++,ne=T.next()){G.index>V?(ue=G,G=null):ue=G.sibling;var $=C(L,G,ne.value,q);if($===null){G===null&&(G=ue);break}e&&G&&$.alternate===null&&t(L,G),I=l($,I,V),re===null?M=$:re.sibling=$,re=$,G=ue}if(ne.done)return a(L,G),Vr&&Fl(L,V),M;if(G===null){for(;!ne.done;V++,ne=T.next())ne=N(L,ne.value,q),ne!==null&&(I=l(ne,I,V),re===null?M=ne:re.sibling=ne,re=ne);return Vr&&Fl(L,V),M}for(G=s(L,G);!ne.done;V++,ne=T.next())ne=k(G,L,V,ne.value,q),ne!==null&&(e&&ne.alternate!==null&&G.delete(ne.key===null?V:ne.key),I=l(ne,I,V),re===null?M=ne:re.sibling=ne,re=ne);return e&&G.forEach(function(J){return t(L,J)}),Vr&&Fl(L,V),M}function O(L,I,T,q){if(typeof T=="object"&&T!==null&&T.type===qc&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case xh:e:{for(var M=T.key,re=I;re!==null;){if(re.key===M){if(M=T.type,M===qc){if(re.tag===7){a(L,re.sibling),I=o(re,T.props.children),I.return=L,L=I;break e}}else if(re.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Lo&&Qv(M)===re.type){a(L,re.sibling),I=o(re,T.props),I.ref=gd(L,re,T),I.return=L,L=I;break e}a(L,re);break}else t(L,re);re=re.sibling}T.type===qc?(I=Gl(T.props.children,L.mode,q,T.key),I.return=L,L=I):(q=wg(T.type,T.key,T.props,null,L.mode,q),q.ref=gd(L,I,T),q.return=L,L=q)}return d(L);case Gc:e:{for(re=T.key;I!==null;){if(I.key===re)if(I.tag===4&&I.stateNode.containerInfo===T.containerInfo&&I.stateNode.implementation===T.implementation){a(L,I.sibling),I=o(I,T.children||[]),I.return=L,L=I;break e}else{a(L,I);break}else t(L,I);I=I.sibling}I=Np(T,L.mode,q),I.return=L,L=I}return d(L);case Lo:return re=T._init,O(L,I,re(T._payload),q)}if(Bd(T))return U(L,I,T,q);if(cd(T))return F(L,I,T,q);Fh(L,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,I!==null&&I.tag===6?(a(L,I.sibling),I=o(I,T),I.return=L,L=I):(a(L,I),I=kp(T,L.mode,q),I.return=L,L=I),d(L)):a(L,I)}return O}var wA=Sk(!0),Fk=Sk(!1),Yg=gl(null),$g=null,eA=null,jy=null;function Sy(){jy=eA=$g=null}function Fy(e){var t=Yg.current;Or(Yg),e._currentValue=t}function _m(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function cA(e,t){$g=e,jy=eA=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Is=!0),e.firstContext=null)}function En(e){var t=e._currentValue;if(jy!==e)if(e={context:e,memoizedValue:t,next:null},eA===null){if($g===null)throw Error(it(308));eA=e,$g.dependencies={lanes:0,firstContext:e}}else eA=eA.next=e;return t}var Tl=null;function Ey(e){Tl===null?Tl=[e]:Tl.push(e)}function Ek(e,t,a,s){var o=t.interleaved;return o===null?(a.next=a,Ey(t)):(a.next=o.next,o.next=a),t.interleaved=a,ao(e,s)}function ao(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Io=!1;function Ly(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $o(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,hr&2){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,ao(e,a)}return o=s.interleaved,o===null?(t.next=t,Ey(s)):(t.next=o.next,o.next=t),s.interleaved=t,ao(e,a)}function pg(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,py(e,a)}}function Dv(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var d={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};l===null?o=l=d:l=l.next=d,a=a.next}while(a!==null);l===null?o=l=t:l=l.next=t}else o=l=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Jg(e,t,a,s){var o=e.updateQueue;Io=!1;var l=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var f=g,m=f.next;f.next=null,d===null?l=m:d.next=m,d=f;var v=e.alternate;v!==null&&(v=v.updateQueue,g=v.lastBaseUpdate,g!==d&&(g===null?v.firstBaseUpdate=m:g.next=m,v.lastBaseUpdate=f))}if(l!==null){var N=o.baseState;d=0,v=m=f=null,g=l;do{var C=g.lane,k=g.eventTime;if((s&C)===C){v!==null&&(v=v.next={eventTime:k,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var U=e,F=g;switch(C=t,k=a,F.tag){case 1:if(U=F.payload,typeof U=="function"){N=U.call(k,N,C);break e}N=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=F.payload,C=typeof U=="function"?U.call(k,N,C):U,C==null)break e;N=Wr({},N,C);break e;case 2:Io=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,C=o.effects,C===null?o.effects=[g]:C.push(g))}else k={eventTime:k,lane:C,tag:g.tag,payload:g.payload,callback:g.callback,next:null},v===null?(m=v=k,f=N):v=v.next=k,d|=C;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;C=g,g=C.next,C.next=null,o.lastBaseUpdate=C,o.shared.pending=null}}while(1);if(v===null&&(f=N),o.baseState=f,o.firstBaseUpdate=m,o.lastBaseUpdate=v,t=o.shared.interleaved,t!==null){o=t;do d|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);Zl|=d,e.lanes=d,e.memoizedState=N}}function Tv(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=a,typeof o!="function")throw Error(it(191,o));o.call(s)}}}var Eu={},vi=gl(Eu),hu=gl(Eu),gu=gl(Eu);function Rl(e){if(e===Eu)throw Error(it(174));return e}function Iy(e,t){switch(Tr(gu,t),Tr(hu,e),Tr(vi,Eu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wm(t,e)}Or(vi),Tr(vi,t)}function kA(){Or(vi),Or(hu),Or(gu)}function Ik(e){Rl(gu.current);var t=Rl(vi.current),a=wm(t,e.type);t!==a&&(Tr(hu,e),Tr(vi,a))}function Py(e){hu.current===e&&(Or(vi),Or(hu))}var qr=gl(0);function Zg(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mp=[];function Uy(){for(var e=0;e<mp.length;e++)mp[e]._workInProgressVersionPrimary=null;mp.length=0}var mg=oo.ReactCurrentDispatcher,xp=oo.ReactCurrentBatchConfig,Jl=0,Xr=null,Ca=null,Qa=null,ef=!1,zd=!1,fu=0,h4=0;function Wa(){throw Error(it(321))}function Qy(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Zn(e[a],t[a]))return!1;return!0}function Dy(e,t,a,s,o,l){if(Jl=l,Xr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mg.current=e===null||e.memoizedState===null?m4:x4,e=a(s,o),zd){l=0;do{if(zd=!1,fu=0,25<=l)throw Error(it(301));l+=1,Qa=Ca=null,t.updateQueue=null,mg.current=y4,e=a(s,o)}while(zd)}if(mg.current=tf,t=Ca!==null&&Ca.next!==null,Jl=0,Qa=Ca=Xr=null,ef=!1,t)throw Error(it(300));return e}function Ty(){var e=fu!==0;return fu=0,e}function mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qa===null?Xr.memoizedState=Qa=e:Qa=Qa.next=e,Qa}function Ln(){if(Ca===null){var e=Xr.alternate;e=e!==null?e.memoizedState:null}else e=Ca.next;var t=Qa===null?Xr.memoizedState:Qa.next;if(t!==null)Qa=t,Ca=e;else{if(e===null)throw Error(it(310));Ca=e,e={memoizedState:Ca.memoizedState,baseState:Ca.baseState,baseQueue:Ca.baseQueue,queue:Ca.queue,next:null},Qa===null?Xr.memoizedState=Qa=e:Qa=Qa.next=e}return Qa}function pu(e,t){return typeof t=="function"?t(e):t}function yp(e){var t=Ln(),a=t.queue;if(a===null)throw Error(it(311));a.lastRenderedReducer=e;var s=Ca,o=s.baseQueue,l=a.pending;if(l!==null){if(o!==null){var d=o.next;o.next=l.next,l.next=d}s.baseQueue=o=l,a.pending=null}if(o!==null){l=o.next,s=s.baseState;var g=d=null,f=null,m=l;do{var v=m.lane;if((Jl&v)===v)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),s=m.hasEagerState?m.eagerState:e(s,m.action);else{var N={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(g=f=N,d=s):f=f.next=N,Xr.lanes|=v,Zl|=v}m=m.next}while(m!==null&&m!==l);f===null?d=s:f.next=g,Zn(s,t.memoizedState)||(Is=!0),t.memoizedState=s,t.baseState=d,t.baseQueue=f,a.lastRenderedState=s}if(e=a.interleaved,e!==null){o=e;do l=o.lane,Xr.lanes|=l,Zl|=l,o=o.next;while(o!==e)}else o===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function bp(e){var t=Ln(),a=t.queue;if(a===null)throw Error(it(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,l=t.memoizedState;if(o!==null){a.pending=null;var d=o=o.next;do l=e(l,d.action),d=d.next;while(d!==o);Zn(l,t.memoizedState)||(Is=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),a.lastRenderedState=l}return[l,s]}function Pk(){}function Uk(e,t){var a=Xr,s=Ln(),o=t(),l=!Zn(s.memoizedState,o);if(l&&(s.memoizedState=o,Is=!0),s=s.queue,Ry(Tk.bind(null,a,s,e),[e]),s.getSnapshot!==t||l||Qa!==null&&Qa.memoizedState.tag&1){if(a.flags|=2048,mu(9,Dk.bind(null,a,s,o,t),void 0,null),Ta===null)throw Error(it(349));Jl&30||Qk(a,t,o)}return o}function Qk(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Xr.updateQueue,t===null?(t={lastEffect:null,stores:null},Xr.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Dk(e,t,a,s){t.value=a,t.getSnapshot=s,Rk(t)&&Mk(e)}function Tk(e,t,a){return a(function(){Rk(t)&&Mk(e)})}function Rk(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Zn(e,a)}catch{return!0}}function Mk(e){var t=ao(e,1);t!==null&&Yn(t,e,1,-1)}function Rv(e){var t=mi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:e},t.queue=e,e=e.dispatch=p4.bind(null,Xr,e),[t.memoizedState,e]}function mu(e,t,a,s){return e={tag:e,create:t,destroy:a,deps:s,next:null},t=Xr.updateQueue,t===null?(t={lastEffect:null,stores:null},Xr.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e)),e}function Hk(){return Ln().memoizedState}function xg(e,t,a,s){var o=mi();Xr.flags|=e,o.memoizedState=mu(1|t,a,void 0,s===void 0?null:s)}function Of(e,t,a,s){var o=Ln();s=s===void 0?null:s;var l=void 0;if(Ca!==null){var d=Ca.memoizedState;if(l=d.destroy,s!==null&&Qy(s,d.deps)){o.memoizedState=mu(t,a,l,s);return}}Xr.flags|=e,o.memoizedState=mu(1|t,a,l,s)}function Mv(e,t){return xg(8390656,8,e,t)}function Ry(e,t){return Of(2048,8,e,t)}function Ok(e,t){return Of(4,2,e,t)}function _k(e,t){return Of(4,4,e,t)}function zk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vk(e,t,a){return a=a!=null?a.concat([e]):null,Of(4,4,zk.bind(null,t,e),a)}function My(){}function Gk(e,t){var a=Ln();t=t===void 0?null:t;var s=a.memoizedState;return s!==null&&t!==null&&Qy(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function qk(e,t){var a=Ln();t=t===void 0?null:t;var s=a.memoizedState;return s!==null&&t!==null&&Qy(t,s[1])?s[0]:(e=e(),a.memoizedState=[e,t],e)}function Xk(e,t,a){return Jl&21?(Zn(a,t)||(a=J2(),Xr.lanes|=a,Zl|=a,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Is=!0),e.memoizedState=a)}function g4(e,t){var a=Nr;Nr=a!==0&&4>a?a:4,e(!0);var s=xp.transition;xp.transition={};try{e(!1),t()}finally{Nr=a,xp.transition=s}}function Kk(){return Ln().memoizedState}function f4(e,t,a){var s=Zo(e);if(a={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null},Wk(e))Yk(t,a);else if(a=Ek(e,t,a,s),a!==null){var o=ys();Yn(a,e,s,o),$k(a,t,s)}}function p4(e,t,a){var s=Zo(e),o={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wk(e))Yk(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,g=l(d,a);if(o.hasEagerState=!0,o.eagerState=g,Zn(g,d)){var f=t.interleaved;f===null?(o.next=o,Ey(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}a=Ek(e,t,o,s),a!==null&&(o=ys(),Yn(a,e,s,o),$k(a,t,s))}}function Wk(e){var t=e.alternate;return e===Xr||t!==null&&t===Xr}function Yk(e,t){zd=ef=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function $k(e,t,a){if(a&4194240){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,py(e,a)}}var tf={readContext:En,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useInsertionEffect:Wa,useLayoutEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useDeferredValue:Wa,useTransition:Wa,useMutableSource:Wa,useSyncExternalStore:Wa,useId:Wa,unstable_isNewReconciler:!1},m4={readContext:En,useCallback:function(e,t){return mi().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:Mv,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,xg(4194308,4,zk.bind(null,t,e),a)},useLayoutEffect:function(e,t){return xg(4194308,4,e,t)},useInsertionEffect:function(e,t){return xg(4,2,e,t)},useMemo:function(e,t){var a=mi();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var s=mi();return t=a!==void 0?a(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=f4.bind(null,Xr,e),[s.memoizedState,e]},useRef:function(e){var t=mi();return e={current:e},t.memoizedState=e},useState:Rv,useDebugValue:My,useDeferredValue:function(e){return mi().memoizedState=e},useTransition:function(){var e=Rv(!1),t=e[0];return e=g4.bind(null,e[1]),mi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var s=Xr,o=mi();if(Vr){if(a===void 0)throw Error(it(407));a=a()}else{if(a=t(),Ta===null)throw Error(it(349));Jl&30||Qk(s,t,a)}o.memoizedState=a;var l={value:a,getSnapshot:t};return o.queue=l,Mv(Tk.bind(null,s,l,e),[e]),s.flags|=2048,mu(9,Dk.bind(null,s,l,a,t),void 0,null),a},useId:function(){var e=mi(),t=Ta.identifierPrefix;if(Vr){var a=Yi,s=Wi;a=(s&~(1<<32-Wn(s)-1)).toString(32)+a,t=":"+t+"R"+a,a=fu++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=h4++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},x4={readContext:En,useCallback:Gk,useContext:En,useEffect:Ry,useImperativeHandle:Vk,useInsertionEffect:Ok,useLayoutEffect:_k,useMemo:qk,useReducer:yp,useRef:Hk,useState:function(){return yp(pu)},useDebugValue:My,useDeferredValue:function(e){var t=Ln();return Xk(t,Ca.memoizedState,e)},useTransition:function(){var e=yp(pu)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:Pk,useSyncExternalStore:Uk,useId:Kk,unstable_isNewReconciler:!1},y4={readContext:En,useCallback:Gk,useContext:En,useEffect:Ry,useImperativeHandle:Vk,useInsertionEffect:Ok,useLayoutEffect:_k,useMemo:qk,useReducer:bp,useRef:Hk,useState:function(){return bp(pu)},useDebugValue:My,useDeferredValue:function(e){var t=Ln();return Ca===null?t.memoizedState=e:Xk(t,Ca.memoizedState,e)},useTransition:function(){var e=bp(pu)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:Pk,useSyncExternalStore:Uk,useId:Kk,unstable_isNewReconciler:!1};function Vn(e,t){if(e&&e.defaultProps){t=Wr({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function zm(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:Wr({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var _f={isMounted:function(e){return(e=e._reactInternals)?lc(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var s=ys(),o=Zo(e),l=Ji(s,o);l.payload=t,a!=null&&(l.callback=a),t=$o(e,l,o),t!==null&&(Yn(t,e,o,s),pg(t,e,o))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=ys(),o=Zo(e),l=Ji(s,o);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=$o(e,l,o),t!==null&&(Yn(t,e,o,s),pg(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ys(),s=Zo(e),o=Ji(a,s);o.tag=2,t!=null&&(o.callback=t),t=$o(e,o,s),t!==null&&(Yn(t,e,s,a),pg(t,e,s))}};function Hv(e,t,a,s,o,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,d):t.prototype&&t.prototype.isPureReactComponent?!cu(a,s)||!cu(o,l):!0}function Jk(e,t,a){var s=!1,o=ol,l=t.contextType;return typeof l=="object"&&l!==null?l=En(l):(o=Ds(t)?Yl:ls.current,s=t.contextTypes,l=(s=s!=null)?bA(e,o):ol),t=new t(a,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_f,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ov(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&_f.enqueueReplaceState(t,t.state,null)}function Vm(e,t,a,s){var o=e.stateNode;o.props=a,o.state=e.memoizedState,o.refs={},Ly(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=En(l):(l=Ds(t)?Yl:ls.current,o.context=bA(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(zm(e,t,l,a),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&_f.enqueueReplaceState(o,o.state,null),Jg(e,a,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function NA(e,t){try{var a="",s=t;do a+=Xj(s),s=s.return;while(s);var o=a}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function vp(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function Gm(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var b4=typeof WeakMap=="function"?WeakMap:Map;function Zk(e,t,a){a=Ji(-1,a),a.tag=3,a.payload={element:null};var s=t.value;return a.callback=function(){af||(af=!0,tx=s),Gm(e,t)},a}function eN(e,t,a){a=Ji(-1,a),a.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;a.payload=function(){return s(o)},a.callback=function(){Gm(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(a.callback=function(){Gm(e,t),typeof s!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),a}function _v(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new b4;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(o.add(a),e=U4.bind(null,e,t,a),t.then(e,e))}function zv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vv(e,t,a,s,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=Ji(-1,1),t.tag=2,$o(a,t,1))),a.lanes|=1),e)}var v4=oo.ReactCurrentOwner,Is=!1;function ps(e,t,a,s){t.child=e===null?Fk(t,null,a,s):wA(t,e.child,a,s)}function Gv(e,t,a,s,o){a=a.render;var l=t.ref;return cA(t,o),s=Dy(e,t,a,s,l,o),a=Ty(),e!==null&&!Is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,so(e,t,o)):(Vr&&a&&Ny(t),t.flags|=1,ps(e,t,s,o),t.child)}function qv(e,t,a,s,o){if(e===null){var l=a.type;return typeof l=="function"&&!Xy(l)&&l.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=l,tN(e,t,l,s,o)):(e=wg(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var d=l.memoizedProps;if(a=a.compare,a=a!==null?a:cu,a(d,s)&&e.ref===t.ref)return so(e,t,o)}return t.flags|=1,e=el(l,s),e.ref=t.ref,e.return=t,t.child=e}function tN(e,t,a,s,o){if(e!==null){var l=e.memoizedProps;if(cu(l,s)&&e.ref===t.ref)if(Is=!1,t.pendingProps=s=l,(e.lanes&o)!==0)e.flags&131072&&(Is=!0);else return t.lanes=e.lanes,so(e,t,o)}return qm(e,t,a,s,o)}function rN(e,t,a){var s=t.pendingProps,o=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(rA,en),en|=a;else{if(!(a&1073741824))return e=l!==null?l.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tr(rA,en),en|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:a,Tr(rA,en),en|=s}else l!==null?(s=l.baseLanes|a,t.memoizedState=null):s=a,Tr(rA,en),en|=s;return ps(e,t,o,a),t.child}function aN(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function qm(e,t,a,s,o){var l=Ds(a)?Yl:ls.current;return l=bA(t,l),cA(t,o),a=Dy(e,t,a,s,l,o),s=Ty(),e!==null&&!Is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,so(e,t,o)):(Vr&&s&&Ny(t),t.flags|=1,ps(e,t,a,o),t.child)}function Xv(e,t,a,s,o){if(Ds(a)){var l=!0;Xg(t)}else l=!1;if(cA(t,o),t.stateNode===null)yg(e,t),Jk(t,a,s),Vm(t,a,s,o),s=!0;else if(e===null){var d=t.stateNode,g=t.memoizedProps;d.props=g;var f=d.context,m=a.contextType;typeof m=="object"&&m!==null?m=En(m):(m=Ds(a)?Yl:ls.current,m=bA(t,m));var v=a.getDerivedStateFromProps,N=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function";N||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==s||f!==m)&&Ov(t,d,s,m),Io=!1;var C=t.memoizedState;d.state=C,Jg(t,s,d,o),f=t.memoizedState,g!==s||C!==f||Qs.current||Io?(typeof v=="function"&&(zm(t,a,v,s),f=t.memoizedState),(g=Io||Hv(t,a,g,s,C,f,m))?(N||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=f),d.props=s,d.state=f,d.context=m,s=g):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Lk(e,t),g=t.memoizedProps,m=t.type===t.elementType?g:Vn(t.type,g),d.props=m,N=t.pendingProps,C=d.context,f=a.contextType,typeof f=="object"&&f!==null?f=En(f):(f=Ds(a)?Yl:ls.current,f=bA(t,f));var k=a.getDerivedStateFromProps;(v=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==N||C!==f)&&Ov(t,d,s,f),Io=!1,C=t.memoizedState,d.state=C,Jg(t,s,d,o);var U=t.memoizedState;g!==N||C!==U||Qs.current||Io?(typeof k=="function"&&(zm(t,a,k,s),U=t.memoizedState),(m=Io||Hv(t,a,m,s,C,U,f)||!1)?(v||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,U,f),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,U,f)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=U),d.props=s,d.state=U,d.context=f,s=m):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),s=!1)}return Xm(e,t,a,s,l,o)}function Xm(e,t,a,s,o,l){aN(e,t);var d=(t.flags&128)!==0;if(!s&&!d)return o&&Iv(t,a,!1),so(e,t,l);s=t.stateNode,v4.current=t;var g=d&&typeof a.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&d?(t.child=wA(t,e.child,null,l),t.child=wA(t,null,g,l)):ps(e,t,g,l),t.memoizedState=s.state,o&&Iv(t,a,!0),t.child}function sN(e){var t=e.stateNode;t.pendingContext?Lv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lv(e,t.context,!1),Iy(e,t.containerInfo)}function Kv(e,t,a,s,o){return vA(),Cy(o),t.flags|=256,ps(e,t,a,s),t.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Wm(e){return{baseLanes:e,cachePool:null,transitions:null}}function nN(e,t,a){var s=t.pendingProps,o=qr.current,l=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(o&2)!==0),g?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Tr(qr,o&1),e===null)return Om(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=s.children,e=s.fallback,l?(s=t.mode,l=t.child,d={mode:"hidden",children:d},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=Gf(d,s,0,null),e=Gl(e,s,a,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Wm(a),t.memoizedState=Km,e):Hy(t,d));if(o=e.memoizedState,o!==null&&(g=o.dehydrated,g!==null))return w4(e,t,d,s,g,o,a);if(l){l=s.fallback,d=t.mode,o=e.child,g=o.sibling;var f={mode:"hidden",children:s.children};return!(d&1)&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=f,t.deletions=null):(s=el(o,f),s.subtreeFlags=o.subtreeFlags&14680064),g!==null?l=el(g,l):(l=Gl(l,d,a,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,d=e.child.memoizedState,d=d===null?Wm(a):{baseLanes:d.baseLanes|a,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~a,t.memoizedState=Km,s}return l=e.child,e=l.sibling,s=el(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=a),s.return=t,s.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=s,t.memoizedState=null,s}function Hy(e,t){return t=Gf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eh(e,t,a,s){return s!==null&&Cy(s),wA(t,e.child,null,a),e=Hy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w4(e,t,a,s,o,l,d){if(a)return t.flags&256?(t.flags&=-257,s=vp(Error(it(422))),Eh(e,t,d,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,o=t.mode,s=Gf({mode:"visible",children:s.children},o,0,null),l=Gl(l,o,d,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&wA(t,e.child,null,d),t.child.memoizedState=Wm(d),t.memoizedState=Km,l);if(!(t.mode&1))return Eh(e,t,d,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var g=s.dgst;return s=g,l=Error(it(419)),s=vp(l,s,void 0),Eh(e,t,d,s)}if(g=(d&e.childLanes)!==0,Is||g){if(s=Ta,s!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(s.suspendedLanes|d)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,ao(e,o),Yn(s,e,o,-1))}return qy(),s=vp(Error(it(421))),Eh(e,t,d,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Q4.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,rn=Yo(o.nextSibling),nn=t,Vr=!0,Xn=null,e!==null&&(kn[Nn++]=Wi,kn[Nn++]=Yi,kn[Nn++]=$l,Wi=e.id,Yi=e.overflow,$l=t),t=Hy(t,s.children),t.flags|=4096,t)}function Wv(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),_m(e.return,t,a)}function wp(e,t,a,s,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=a,l.tailMode=o)}function iN(e,t,a){var s=t.pendingProps,o=s.revealOrder,l=s.tail;if(ps(e,t,s.children,a),s=qr.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wv(e,a,t);else if(e.tag===19)Wv(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Tr(qr,s),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Zg(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),wp(t,!1,o,a,l);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Zg(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}wp(t,!0,a,null,l);break;case"together":wp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function so(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Zl|=t.lanes,!(a&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(it(153));if(t.child!==null){for(e=t.child,a=el(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=el(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function k4(e,t,a){switch(t.tag){case 3:sN(t),vA();break;case 5:Ik(t);break;case 1:Ds(t.type)&&Xg(t);break;case 4:Iy(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;Tr(Yg,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Tr(qr,qr.current&1),t.flags|=128,null):a&t.child.childLanes?nN(e,t,a):(Tr(qr,qr.current&1),e=so(e,t,a),e!==null?e.sibling:null);Tr(qr,qr.current&1);break;case 19:if(s=(a&t.childLanes)!==0,e.flags&128){if(s)return iN(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Tr(qr,qr.current),s)break;return null;case 22:case 23:return t.lanes=0,rN(e,t,a)}return so(e,t,a)}var oN,Ym,lN,cN;oN=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Ym=function(){};lN=function(e,t,a,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,Rl(vi.current);var l=null;switch(a){case"input":o=xm(e,o),s=xm(e,s),l=[];break;case"select":o=Wr({},o,{value:void 0}),s=Wr({},s,{value:void 0}),l=[];break;case"textarea":o=vm(e,o),s=vm(e,s),l=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Gg)}km(a,s);var d;a=null;for(m in o)if(!s.hasOwnProperty(m)&&o.hasOwnProperty(m)&&o[m]!=null)if(m==="style"){var g=o[m];for(d in g)g.hasOwnProperty(d)&&(a||(a={}),a[d]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ru.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in s){var f=s[m];if(g=o!=null?o[m]:void 0,s.hasOwnProperty(m)&&f!==g&&(f!=null||g!=null))if(m==="style")if(g){for(d in g)!g.hasOwnProperty(d)||f&&f.hasOwnProperty(d)||(a||(a={}),a[d]="");for(d in f)f.hasOwnProperty(d)&&g[d]!==f[d]&&(a||(a={}),a[d]=f[d])}else a||(l||(l=[]),l.push(m,a)),a=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,g=g?g.__html:void 0,f!=null&&g!==f&&(l=l||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(l=l||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ru.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&Mr("scroll",e),l||g===f||(l=[])):(l=l||[]).push(m,f))}a&&(l=l||[]).push("style",a);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};cN=function(e,t,a,s){a!==s&&(t.flags|=4)};function fd(e,t){if(!Vr)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ya(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function N4(e,t,a){var s=t.pendingProps;switch(By(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(t),null;case 1:return Ds(t.type)&&qg(),Ya(t),null;case 3:return s=t.stateNode,kA(),Or(Qs),Or(ls),Uy(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Sh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xn!==null&&(sx(Xn),Xn=null))),Ym(e,t),Ya(t),null;case 5:Py(t);var o=Rl(gu.current);if(a=t.type,e!==null&&t.stateNode!=null)lN(e,t,a,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(it(166));return Ya(t),null}if(e=Rl(vi.current),Sh(t)){s=t.stateNode,a=t.type;var l=t.memoizedProps;switch(s[xi]=t,s[uu]=l,e=(t.mode&1)!==0,a){case"dialog":Mr("cancel",s),Mr("close",s);break;case"iframe":case"object":case"embed":Mr("load",s);break;case"video":case"audio":for(o=0;o<jd.length;o++)Mr(jd[o],s);break;case"source":Mr("error",s);break;case"img":case"image":case"link":Mr("error",s),Mr("load",s);break;case"details":Mr("toggle",s);break;case"input":sv(s,l),Mr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Mr("invalid",s);break;case"textarea":iv(s,l),Mr("invalid",s)}km(a,l),o=null;for(var d in l)if(l.hasOwnProperty(d)){var g=l[d];d==="children"?typeof g=="string"?s.textContent!==g&&(l.suppressHydrationWarning!==!0&&jh(s.textContent,g,e),o=["children",g]):typeof g=="number"&&s.textContent!==""+g&&(l.suppressHydrationWarning!==!0&&jh(s.textContent,g,e),o=["children",""+g]):ru.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&Mr("scroll",s)}switch(a){case"input":yh(s),nv(s,l,!0);break;case"textarea":yh(s),ov(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Gg)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=T2(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=d.createElement(a,{is:s.is}):(e=d.createElement(a),a==="select"&&(d=e,s.multiple?d.multiple=!0:s.size&&(d.size=s.size))):e=d.createElementNS(e,a),e[xi]=t,e[uu]=s,oN(e,t,!1,!1),t.stateNode=e;e:{switch(d=Nm(a,s),a){case"dialog":Mr("cancel",e),Mr("close",e),o=s;break;case"iframe":case"object":case"embed":Mr("load",e),o=s;break;case"video":case"audio":for(o=0;o<jd.length;o++)Mr(jd[o],e);o=s;break;case"source":Mr("error",e),o=s;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),o=s;break;case"details":Mr("toggle",e),o=s;break;case"input":sv(e,s),o=xm(e,s),Mr("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=Wr({},s,{value:void 0}),Mr("invalid",e);break;case"textarea":iv(e,s),o=vm(e,s),Mr("invalid",e);break;default:o=s}km(a,o),g=o;for(l in g)if(g.hasOwnProperty(l)){var f=g[l];l==="style"?H2(e,f):l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&R2(e,f)):l==="children"?typeof f=="string"?(a!=="textarea"||f!=="")&&au(e,f):typeof f=="number"&&au(e,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ru.hasOwnProperty(l)?f!=null&&l==="onScroll"&&Mr("scroll",e):f!=null&&Ay(e,l,f,d))}switch(a){case"input":yh(e),nv(e,s,!1);break;case"textarea":yh(e),ov(e);break;case"option":s.value!=null&&e.setAttribute("value",""+il(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?nA(e,!!s.multiple,l,!1):s.defaultValue!=null&&nA(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Gg)}switch(a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ya(t),null;case 6:if(e&&t.stateNode!=null)cN(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(it(166));if(a=Rl(gu.current),Rl(vi.current),Sh(t)){if(s=t.stateNode,a=t.memoizedProps,s[xi]=t,(l=s.nodeValue!==a)&&(e=nn,e!==null))switch(e.tag){case 3:jh(s.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jh(s.nodeValue,a,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[xi]=t,t.stateNode=s}return Ya(t),null;case 13:if(Or(qr),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vr&&rn!==null&&t.mode&1&&!(t.flags&128))jk(),vA(),t.flags|=98560,l=!1;else if(l=Sh(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(it(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(it(317));l[xi]=t}else vA(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ya(t),l=!1}else Xn!==null&&(sx(Xn),Xn=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=a,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||qr.current&1?Fa===0&&(Fa=3):qy())),t.updateQueue!==null&&(t.flags|=4),Ya(t),null);case 4:return kA(),Ym(e,t),e===null&&Au(t.stateNode.containerInfo),Ya(t),null;case 10:return Fy(t.type._context),Ya(t),null;case 17:return Ds(t.type)&&qg(),Ya(t),null;case 19:if(Or(qr),l=t.memoizedState,l===null)return Ya(t),null;if(s=(t.flags&128)!==0,d=l.rendering,d===null)if(s)fd(l,!1);else{if(Fa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=Zg(e),d!==null){for(t.flags|=128,fd(l,!1),s=d.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=a,a=t.child;a!==null;)l=a,e=s,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Tr(qr,qr.current&1|2),t.child}e=e.sibling}l.tail!==null&&ca()>BA&&(t.flags|=128,s=!0,fd(l,!1),t.lanes=4194304)}else{if(!s)if(e=Zg(d),e!==null){if(t.flags|=128,s=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),fd(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Vr)return Ya(t),null}else 2*ca()-l.renderingStartTime>BA&&a!==1073741824&&(t.flags|=128,s=!0,fd(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(a=l.last,a!==null?a.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ca(),t.sibling=null,a=qr.current,Tr(qr,s?a&1|2:a&1),t):(Ya(t),null);case 22:case 23:return Gy(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?en&1073741824&&(Ya(t),t.subtreeFlags&6&&(t.flags|=8192)):Ya(t),null;case 24:return null;case 25:return null}throw Error(it(156,t.tag))}function B4(e,t){switch(By(t),t.tag){case 1:return Ds(t.type)&&qg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kA(),Or(Qs),Or(ls),Uy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Py(t),null;case 13:if(Or(qr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(it(340));vA()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Or(qr),null;case 4:return kA(),null;case 10:return Fy(t.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var Lh=!1,ss=!1,C4=typeof WeakSet=="function"?WeakSet:Set,jt=null;function tA(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){ta(e,t,s)}else a.current=null}function $m(e,t,a){try{a()}catch(s){ta(e,t,s)}}var Yv=!1;function j4(e,t){if(Um=_g,e=gk(),ky(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var d=0,g=-1,f=-1,m=0,v=0,N=e,C=null;t:for(;;){for(var k;N!==a||o!==0&&N.nodeType!==3||(g=d+o),N!==l||s!==0&&N.nodeType!==3||(f=d+s),N.nodeType===3&&(d+=N.nodeValue.length),(k=N.firstChild)!==null;)C=N,N=k;for(;;){if(N===e)break t;if(C===a&&++m===o&&(g=d),C===l&&++v===s&&(f=d),(k=N.nextSibling)!==null)break;N=C,C=N.parentNode}N=k}a=g===-1||f===-1?null:{start:g,end:f}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qm={focusedElem:e,selectionRange:a},_g=!1,jt=t;jt!==null;)if(t=jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,jt=e;else for(;jt!==null;){t=jt;try{var U=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var F=U.memoizedProps,O=U.memoizedState,L=t.stateNode,I=L.getSnapshotBeforeUpdate(t.elementType===t.type?F:Vn(t.type,F),O);L.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(q){ta(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,jt=e;break}jt=t.return}return U=Yv,Yv=!1,U}function Vd(e,t,a){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&$m(t,a,l)}o=o.next}while(o!==s)}}function zf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var s=a.create;a.destroy=s()}a=a.next}while(a!==t)}}function Jm(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function AN(e){var t=e.alternate;t!==null&&(e.alternate=null,AN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xi],delete t[uu],delete t[Rm],delete t[c4],delete t[A4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dN(e){return e.tag===5||e.tag===3||e.tag===4}function $v(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zm(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Gg));else if(s!==4&&(e=e.child,e!==null))for(Zm(e,t,a),e=e.sibling;e!==null;)Zm(e,t,a),e=e.sibling}function ex(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ex(e,t,a),e=e.sibling;e!==null;)ex(e,t,a),e=e.sibling}var Oa=null,qn=!1;function Co(e,t,a){for(a=a.child;a!==null;)uN(e,t,a),a=a.sibling}function uN(e,t,a){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(Qf,a)}catch{}switch(a.tag){case 5:ss||tA(a,t);case 6:var s=Oa,o=qn;Oa=null,Co(e,t,a),Oa=s,qn=o,Oa!==null&&(qn?(e=Oa,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Oa.removeChild(a.stateNode));break;case 18:Oa!==null&&(qn?(e=Oa,a=a.stateNode,e.nodeType===8?fp(e.parentNode,a):e.nodeType===1&&fp(e,a),ou(e)):fp(Oa,a.stateNode));break;case 4:s=Oa,o=qn,Oa=a.stateNode.containerInfo,qn=!0,Co(e,t,a),Oa=s,qn=o;break;case 0:case 11:case 14:case 15:if(!ss&&(s=a.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var l=o,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&$m(a,t,d),o=o.next}while(o!==s)}Co(e,t,a);break;case 1:if(!ss&&(tA(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=a.memoizedProps,s.state=a.memoizedState,s.componentWillUnmount()}catch(g){ta(a,t,g)}Co(e,t,a);break;case 21:Co(e,t,a);break;case 22:a.mode&1?(ss=(s=ss)||a.memoizedState!==null,Co(e,t,a),ss=s):Co(e,t,a);break;default:Co(e,t,a)}}function Jv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new C4),t.forEach(function(s){var o=D4.bind(null,e,s);a.has(s)||(a.add(s),s.then(o,o))})}}function Hn(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];try{var l=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 5:Oa=g.stateNode,qn=!1;break e;case 3:Oa=g.stateNode.containerInfo,qn=!0;break e;case 4:Oa=g.stateNode.containerInfo,qn=!0;break e}g=g.return}if(Oa===null)throw Error(it(160));uN(l,d,o),Oa=null,qn=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(m){ta(o,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hN(t,e),t=t.sibling}function hN(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(t,e),ui(e),s&4){try{Vd(3,e,e.return),zf(3,e)}catch(F){ta(e,e.return,F)}try{Vd(5,e,e.return)}catch(F){ta(e,e.return,F)}}break;case 1:Hn(t,e),ui(e),s&512&&a!==null&&tA(a,a.return);break;case 5:if(Hn(t,e),ui(e),s&512&&a!==null&&tA(a,a.return),e.flags&32){var o=e.stateNode;try{au(o,"")}catch(F){ta(e,e.return,F)}}if(s&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,d=a!==null?a.memoizedProps:l,g=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{g==="input"&&l.type==="radio"&&l.name!=null&&Q2(o,l),Nm(g,d);var m=Nm(g,l);for(d=0;d<f.length;d+=2){var v=f[d],N=f[d+1];v==="style"?H2(o,N):v==="dangerouslySetInnerHTML"?R2(o,N):v==="children"?au(o,N):Ay(o,v,N,m)}switch(g){case"input":ym(o,l);break;case"textarea":D2(o,l);break;case"select":var C=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var k=l.value;k!=null?nA(o,!!l.multiple,k,!1):C!==!!l.multiple&&(l.defaultValue!=null?nA(o,!!l.multiple,l.defaultValue,!0):nA(o,!!l.multiple,l.multiple?[]:"",!1))}o[uu]=l}catch(F){ta(e,e.return,F)}}break;case 6:if(Hn(t,e),ui(e),s&4){if(e.stateNode===null)throw Error(it(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(F){ta(e,e.return,F)}}break;case 3:if(Hn(t,e),ui(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ou(t.containerInfo)}catch(F){ta(e,e.return,F)}break;case 4:Hn(t,e),ui(e);break;case 13:Hn(t,e),ui(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(zy=ca())),s&4&&Jv(e);break;case 22:if(v=a!==null&&a.memoizedState!==null,e.mode&1?(ss=(m=ss)||v,Hn(t,e),ss=m):Hn(t,e),ui(e),s&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!v&&e.mode&1)for(jt=e,v=e.child;v!==null;){for(N=jt=v;jt!==null;){switch(C=jt,k=C.child,C.tag){case 0:case 11:case 14:case 15:Vd(4,C,C.return);break;case 1:tA(C,C.return);var U=C.stateNode;if(typeof U.componentWillUnmount=="function"){s=C,a=C.return;try{t=s,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch(F){ta(s,a,F)}}break;case 5:tA(C,C.return);break;case 22:if(C.memoizedState!==null){ew(N);continue}}k!==null?(k.return=C,jt=k):ew(N)}v=v.sibling}e:for(v=null,N=e;;){if(N.tag===5){if(v===null){v=N;try{o=N.stateNode,m?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(g=N.stateNode,f=N.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null,g.style.display=M2("display",d))}catch(F){ta(e,e.return,F)}}}else if(N.tag===6){if(v===null)try{N.stateNode.nodeValue=m?"":N.memoizedProps}catch(F){ta(e,e.return,F)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;v===N&&(v=null),N=N.return}v===N&&(v=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:Hn(t,e),ui(e),s&4&&Jv(e);break;case 21:break;default:Hn(t,e),ui(e)}}function ui(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(dN(a)){var s=a;break e}a=a.return}throw Error(it(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(au(o,""),s.flags&=-33);var l=$v(e);ex(e,l,o);break;case 3:case 4:var d=s.stateNode.containerInfo,g=$v(e);Zm(e,g,d);break;default:throw Error(it(161))}}catch(f){ta(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S4(e,t,a){jt=e,gN(e)}function gN(e,t,a){for(var s=(e.mode&1)!==0;jt!==null;){var o=jt,l=o.child;if(o.tag===22&&s){var d=o.memoizedState!==null||Lh;if(!d){var g=o.alternate,f=g!==null&&g.memoizedState!==null||ss;g=Lh;var m=ss;if(Lh=d,(ss=f)&&!m)for(jt=o;jt!==null;)d=jt,f=d.child,d.tag===22&&d.memoizedState!==null?tw(o):f!==null?(f.return=d,jt=f):tw(o);for(;l!==null;)jt=l,gN(l),l=l.sibling;jt=o,Lh=g,ss=m}Zv(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,jt=l):Zv(e)}}function Zv(e){for(;jt!==null;){var t=jt;if(t.flags&8772){var a=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ss||zf(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ss)if(a===null)s.componentDidMount();else{var o=t.elementType===t.type?a.memoizedProps:Vn(t.type,a.memoizedProps);s.componentDidUpdate(o,a.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Tv(t,l,s);break;case 3:var d=t.updateQueue;if(d!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}Tv(t,d,a)}break;case 5:var g=t.stateNode;if(a===null&&t.flags&4){a=g;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&a.focus();break;case"img":f.src&&(a.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var N=v.dehydrated;N!==null&&ou(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(it(163))}ss||t.flags&512&&Jm(t)}catch(C){ta(t,t.return,C)}}if(t===e){jt=null;break}if(a=t.sibling,a!==null){a.return=t.return,jt=a;break}jt=t.return}}function ew(e){for(;jt!==null;){var t=jt;if(t===e){jt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,jt=a;break}jt=t.return}}function tw(e){for(;jt!==null;){var t=jt;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{zf(4,t)}catch(f){ta(t,a,f)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(f){ta(t,o,f)}}var l=t.return;try{Jm(t)}catch(f){ta(t,l,f)}break;case 5:var d=t.return;try{Jm(t)}catch(f){ta(t,d,f)}}}catch(f){ta(t,t.return,f)}if(t===e){jt=null;break}var g=t.sibling;if(g!==null){g.return=t.return,jt=g;break}jt=t.return}}var F4=Math.ceil,rf=oo.ReactCurrentDispatcher,Oy=oo.ReactCurrentOwner,Fn=oo.ReactCurrentBatchConfig,hr=0,Ta=null,ya=null,Va=0,en=0,rA=gl(0),Fa=0,xu=null,Zl=0,Vf=0,_y=0,Gd=null,Ls=null,zy=0,BA=1/0,qi=null,af=!1,tx=null,Jo=null,Ih=!1,Ro=null,sf=0,qd=0,rx=null,bg=-1,vg=0;function ys(){return hr&6?ca():bg!==-1?bg:bg=ca()}function Zo(e){return e.mode&1?hr&2&&Va!==0?Va&-Va:u4.transition!==null?(vg===0&&(vg=J2()),vg):(e=Nr,e!==0||(e=window.event,e=e===void 0?16:nk(e.type)),e):1}function Yn(e,t,a,s){if(50<qd)throw qd=0,rx=null,Error(it(185));ju(e,a,s),(!(hr&2)||e!==Ta)&&(e===Ta&&(!(hr&2)&&(Vf|=a),Fa===4&&Qo(e,Va)),Ts(e,s),a===1&&hr===0&&!(t.mode&1)&&(BA=ca()+500,Hf&&fl()))}function Ts(e,t){var a=e.callbackNode;uS(e,t);var s=Og(e,e===Ta?Va:0);if(s===0)a!==null&&Av(a),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(a!=null&&Av(a),t===1)e.tag===0?d4(rw.bind(null,e)):Nk(rw.bind(null,e)),o4(function(){!(hr&6)&&fl()}),a=null;else{switch(Z2(s)){case 1:a=fy;break;case 4:a=Y2;break;case 16:a=Hg;break;case 536870912:a=$2;break;default:a=Hg}a=wN(a,fN.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function fN(e,t){if(bg=-1,vg=0,hr&6)throw Error(it(327));var a=e.callbackNode;if(AA()&&e.callbackNode!==a)return null;var s=Og(e,e===Ta?Va:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=nf(e,s);else{t=s;var o=hr;hr|=2;var l=mN();(Ta!==e||Va!==t)&&(qi=null,BA=ca()+500,Vl(e,t));do try{I4();break}catch(g){pN(e,g)}while(1);Sy(),rf.current=l,hr=o,ya!==null?t=0:(Ta=null,Va=0,t=Fa)}if(t!==0){if(t===2&&(o=Fm(e),o!==0&&(s=o,t=ax(e,o))),t===1)throw a=xu,Vl(e,0),Qo(e,s),Ts(e,ca()),a;if(t===6)Qo(e,s);else{if(o=e.current.alternate,!(s&30)&&!E4(o)&&(t=nf(e,s),t===2&&(l=Fm(e),l!==0&&(s=l,t=ax(e,l))),t===1))throw a=xu,Vl(e,0),Qo(e,s),Ts(e,ca()),a;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(it(345));case 2:El(e,Ls,qi);break;case 3:if(Qo(e,s),(s&130023424)===s&&(t=zy+500-ca(),10<t)){if(Og(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){ys(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Tm(El.bind(null,e,Ls,qi),t);break}El(e,Ls,qi);break;case 4:if(Qo(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var d=31-Wn(s);l=1<<d,d=t[d],d>o&&(o=d),s&=~l}if(s=o,s=ca()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*F4(s/1960))-s,10<s){e.timeoutHandle=Tm(El.bind(null,e,Ls,qi),s);break}El(e,Ls,qi);break;case 5:El(e,Ls,qi);break;default:throw Error(it(329))}}}return Ts(e,ca()),e.callbackNode===a?fN.bind(null,e):null}function ax(e,t){var a=Gd;return e.current.memoizedState.isDehydrated&&(Vl(e,t).flags|=256),e=nf(e,t),e!==2&&(t=Ls,Ls=a,t!==null&&sx(t)),e}function sx(e){Ls===null?Ls=e:Ls.push.apply(Ls,e)}function E4(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var s=0;s<a.length;s++){var o=a[s],l=o.getSnapshot;o=o.value;try{if(!Zn(l(),o))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qo(e,t){for(t&=~_y,t&=~Vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-Wn(t),s=1<<a;e[a]=-1,t&=~s}}function rw(e){if(hr&6)throw Error(it(327));AA();var t=Og(e,0);if(!(t&1))return Ts(e,ca()),null;var a=nf(e,t);if(e.tag!==0&&a===2){var s=Fm(e);s!==0&&(t=s,a=ax(e,s))}if(a===1)throw a=xu,Vl(e,0),Qo(e,t),Ts(e,ca()),a;if(a===6)throw Error(it(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,Ls,qi),Ts(e,ca()),null}function Vy(e,t){var a=hr;hr|=1;try{return e(t)}finally{hr=a,hr===0&&(BA=ca()+500,Hf&&fl())}}function ec(e){Ro!==null&&Ro.tag===0&&!(hr&6)&&AA();var t=hr;hr|=1;var a=Fn.transition,s=Nr;try{if(Fn.transition=null,Nr=1,e)return e()}finally{Nr=s,Fn.transition=a,hr=t,!(hr&6)&&fl()}}function Gy(){en=rA.current,Or(rA)}function Vl(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,i4(a)),ya!==null)for(a=ya.return;a!==null;){var s=a;switch(By(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&qg();break;case 3:kA(),Or(Qs),Or(ls),Uy();break;case 5:Py(s);break;case 4:kA();break;case 13:Or(qr);break;case 19:Or(qr);break;case 10:Fy(s.type._context);break;case 22:case 23:Gy()}a=a.return}if(Ta=e,ya=e=el(e.current,null),Va=en=t,Fa=0,xu=null,_y=Vf=Zl=0,Ls=Gd=null,Tl!==null){for(t=0;t<Tl.length;t++)if(a=Tl[t],s=a.interleaved,s!==null){a.interleaved=null;var o=s.next,l=a.pending;if(l!==null){var d=l.next;l.next=o,s.next=d}a.pending=s}Tl=null}return e}function pN(e,t){do{var a=ya;try{if(Sy(),mg.current=tf,ef){for(var s=Xr.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}ef=!1}if(Jl=0,Qa=Ca=Xr=null,zd=!1,fu=0,Oy.current=null,a===null||a.return===null){Fa=1,xu=t,ya=null;break}e:{var l=e,d=a.return,g=a,f=t;if(t=Va,g.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,v=g,N=v.tag;if(!(v.mode&1)&&(N===0||N===11||N===15)){var C=v.alternate;C?(v.updateQueue=C.updateQueue,v.memoizedState=C.memoizedState,v.lanes=C.lanes):(v.updateQueue=null,v.memoizedState=null)}var k=zv(d);if(k!==null){k.flags&=-257,Vv(k,d,g,l,t),k.mode&1&&_v(l,m,t),t=k,f=m;var U=t.updateQueue;if(U===null){var F=new Set;F.add(f),t.updateQueue=F}else U.add(f);break e}else{if(!(t&1)){_v(l,m,t),qy();break e}f=Error(it(426))}}else if(Vr&&g.mode&1){var O=zv(d);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Vv(O,d,g,l,t),Cy(NA(f,g));break e}}l=f=NA(f,g),Fa!==4&&(Fa=2),Gd===null?Gd=[l]:Gd.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var L=Zk(l,f,t);Dv(l,L);break e;case 1:g=f;var I=l.type,T=l.stateNode;if(!(l.flags&128)&&(typeof I.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Jo===null||!Jo.has(T)))){l.flags|=65536,t&=-t,l.lanes|=t;var q=eN(l,g,t);Dv(l,q);break e}}l=l.return}while(l!==null)}yN(a)}catch(M){t=M,ya===a&&a!==null&&(ya=a=a.return);continue}break}while(1)}function mN(){var e=rf.current;return rf.current=tf,e===null?tf:e}function qy(){(Fa===0||Fa===3||Fa===2)&&(Fa=4),Ta===null||!(Zl&268435455)&&!(Vf&268435455)||Qo(Ta,Va)}function nf(e,t){var a=hr;hr|=2;var s=mN();(Ta!==e||Va!==t)&&(qi=null,Vl(e,t));do try{L4();break}catch(o){pN(e,o)}while(1);if(Sy(),hr=a,rf.current=s,ya!==null)throw Error(it(261));return Ta=null,Va=0,Fa}function L4(){for(;ya!==null;)xN(ya)}function I4(){for(;ya!==null&&!aS();)xN(ya)}function xN(e){var t=vN(e.alternate,e,en);e.memoizedProps=e.pendingProps,t===null?yN(e):ya=t,Oy.current=null}function yN(e){var t=e;do{var a=t.alternate;if(e=t.return,t.flags&32768){if(a=B4(a,t),a!==null){a.flags&=32767,ya=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fa=6,ya=null;return}}else if(a=N4(a,t,en),a!==null){ya=a;return}if(t=t.sibling,t!==null){ya=t;return}ya=t=e}while(t!==null);Fa===0&&(Fa=5)}function El(e,t,a){var s=Nr,o=Fn.transition;try{Fn.transition=null,Nr=1,P4(e,t,a,s)}finally{Fn.transition=o,Nr=s}return null}function P4(e,t,a,s){do AA();while(Ro!==null);if(hr&6)throw Error(it(327));a=e.finishedWork;var o=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(it(177));e.callbackNode=null,e.callbackPriority=0;var l=a.lanes|a.childLanes;if(hS(e,l),e===Ta&&(ya=Ta=null,Va=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ih||(Ih=!0,wN(Hg,function(){return AA(),null})),l=(a.flags&15990)!==0,a.subtreeFlags&15990||l){l=Fn.transition,Fn.transition=null;var d=Nr;Nr=1;var g=hr;hr|=4,Oy.current=null,j4(e,a),hN(a,e),ZS(Qm),_g=!!Um,Qm=Um=null,e.current=a,S4(a),sS(),hr=g,Nr=d,Fn.transition=l}else e.current=a;if(Ih&&(Ih=!1,Ro=e,sf=o),l=e.pendingLanes,l===0&&(Jo=null),oS(a.stateNode),Ts(e,ca()),t!==null)for(s=e.onRecoverableError,a=0;a<t.length;a++)o=t[a],s(o.value,{componentStack:o.stack,digest:o.digest});if(af)throw af=!1,e=tx,tx=null,e;return sf&1&&e.tag!==0&&AA(),l=e.pendingLanes,l&1?e===rx?qd++:(qd=0,rx=e):qd=0,fl(),null}function AA(){if(Ro!==null){var e=Z2(sf),t=Fn.transition,a=Nr;try{if(Fn.transition=null,Nr=16>e?16:e,Ro===null)var s=!1;else{if(e=Ro,Ro=null,sf=0,hr&6)throw Error(it(331));var o=hr;for(hr|=4,jt=e.current;jt!==null;){var l=jt,d=l.child;if(jt.flags&16){var g=l.deletions;if(g!==null){for(var f=0;f<g.length;f++){var m=g[f];for(jt=m;jt!==null;){var v=jt;switch(v.tag){case 0:case 11:case 15:Vd(8,v,l)}var N=v.child;if(N!==null)N.return=v,jt=N;else for(;jt!==null;){v=jt;var C=v.sibling,k=v.return;if(AN(v),v===m){jt=null;break}if(C!==null){C.return=k,jt=C;break}jt=k}}}var U=l.alternate;if(U!==null){var F=U.child;if(F!==null){U.child=null;do{var O=F.sibling;F.sibling=null,F=O}while(F!==null)}}jt=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,jt=d;else e:for(;jt!==null;){if(l=jt,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Vd(9,l,l.return)}var L=l.sibling;if(L!==null){L.return=l.return,jt=L;break e}jt=l.return}}var I=e.current;for(jt=I;jt!==null;){d=jt;var T=d.child;if(d.subtreeFlags&2064&&T!==null)T.return=d,jt=T;else e:for(d=I;jt!==null;){if(g=jt,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:zf(9,g)}}catch(M){ta(g,g.return,M)}if(g===d){jt=null;break e}var q=g.sibling;if(q!==null){q.return=g.return,jt=q;break e}jt=g.return}}if(hr=o,fl(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(Qf,e)}catch{}s=!0}return s}finally{Nr=a,Fn.transition=t}}return!1}function aw(e,t,a){t=NA(a,t),t=Zk(e,t,1),e=$o(e,t,1),t=ys(),e!==null&&(ju(e,1,t),Ts(e,t))}function ta(e,t,a){if(e.tag===3)aw(e,e,a);else for(;t!==null;){if(t.tag===3){aw(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jo===null||!Jo.has(s))){e=NA(a,e),e=eN(t,e,1),t=$o(t,e,1),e=ys(),t!==null&&(ju(t,1,e),Ts(t,e));break}}t=t.return}}function U4(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),t=ys(),e.pingedLanes|=e.suspendedLanes&a,Ta===e&&(Va&a)===a&&(Fa===4||Fa===3&&(Va&130023424)===Va&&500>ca()-zy?Vl(e,0):_y|=a),Ts(e,t)}function bN(e,t){t===0&&(e.mode&1?(t=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):t=1);var a=ys();e=ao(e,t),e!==null&&(ju(e,t,a),Ts(e,a))}function Q4(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),bN(e,a)}function D4(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(it(314))}s!==null&&s.delete(t),bN(e,a)}var vN;vN=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qs.current)Is=!0;else{if(!(e.lanes&a)&&!(t.flags&128))return Is=!1,k4(e,t,a);Is=!!(e.flags&131072)}else Is=!1,Vr&&t.flags&1048576&&Bk(t,Wg,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;yg(e,t),e=t.pendingProps;var o=bA(t,ls.current);cA(t,a),o=Dy(null,t,s,e,o,a);var l=Ty();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ds(s)?(l=!0,Xg(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ly(t),o.updater=_f,t.stateNode=o,o._reactInternals=t,Vm(t,s,e,a),t=Xm(null,t,s,!0,l,a)):(t.tag=0,Vr&&l&&Ny(t),ps(null,t,o,a),t=t.child),t;case 16:s=t.elementType;e:{switch(yg(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=R4(s),e=Vn(s,e),o){case 0:t=qm(null,t,s,e,a);break e;case 1:t=Xv(null,t,s,e,a);break e;case 11:t=Gv(null,t,s,e,a);break e;case 14:t=qv(null,t,s,Vn(s.type,e),a);break e}throw Error(it(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Vn(s,o),qm(e,t,s,o,a);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Vn(s,o),Xv(e,t,s,o,a);case 3:e:{if(sN(t),e===null)throw Error(it(387));s=t.pendingProps,l=t.memoizedState,o=l.element,Lk(e,t),Jg(t,s,null,a);var d=t.memoizedState;if(s=d.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=NA(Error(it(423)),t),t=Kv(e,t,s,a,o);break e}else if(s!==o){o=NA(Error(it(424)),t),t=Kv(e,t,s,a,o);break e}else for(rn=Yo(t.stateNode.containerInfo.firstChild),nn=t,Vr=!0,Xn=null,a=Fk(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vA(),s===o){t=so(e,t,a);break e}ps(e,t,s,a)}t=t.child}return t;case 5:return Ik(t),e===null&&Om(t),s=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,d=o.children,Dm(s,o)?d=null:l!==null&&Dm(s,l)&&(t.flags|=32),aN(e,t),ps(e,t,d,a),t.child;case 6:return e===null&&Om(t),null;case 13:return nN(e,t,a);case 4:return Iy(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=wA(t,null,s,a):ps(e,t,s,a),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Vn(s,o),Gv(e,t,s,o,a);case 7:return ps(e,t,t.pendingProps,a),t.child;case 8:return ps(e,t,t.pendingProps.children,a),t.child;case 12:return ps(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,l=t.memoizedProps,d=o.value,Tr(Yg,s._currentValue),s._currentValue=d,l!==null)if(Zn(l.value,d)){if(l.children===o.children&&!Qs.current){t=so(e,t,a);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var g=l.dependencies;if(g!==null){d=l.child;for(var f=g.firstContext;f!==null;){if(f.context===s){if(l.tag===1){f=Ji(-1,a&-a),f.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?f.next=f:(f.next=v.next,v.next=f),m.pending=f}}l.lanes|=a,f=l.alternate,f!==null&&(f.lanes|=a),_m(l.return,a,t),g.lanes|=a;break}f=f.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(it(341));d.lanes|=a,g=d.alternate,g!==null&&(g.lanes|=a),_m(d,a,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}ps(e,t,o.children,a),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,cA(t,a),o=En(o),s=s(o),t.flags|=1,ps(e,t,s,a),t.child;case 14:return s=t.type,o=Vn(s,t.pendingProps),o=Vn(s.type,o),qv(e,t,s,o,a);case 15:return tN(e,t,t.type,t.pendingProps,a);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Vn(s,o),yg(e,t),t.tag=1,Ds(s)?(e=!0,Xg(t)):e=!1,cA(t,a),Jk(t,s,o),Vm(t,s,o,a),Xm(null,t,s,!0,e,a);case 19:return iN(e,t,a);case 22:return rN(e,t,a)}throw Error(it(156,t.tag))};function wN(e,t){return W2(e,t)}function T4(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,a,s){return new T4(e,t,a,s)}function Xy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R4(e){if(typeof e=="function")return Xy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uy)return 11;if(e===hy)return 14}return 2}function el(e,t){var a=e.alternate;return a===null?(a=Cn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function wg(e,t,a,s,o,l){var d=2;if(s=e,typeof e=="function")Xy(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case qc:return Gl(a.children,o,l,t);case dy:d=8,o|=8;break;case gm:return e=Cn(12,a,t,o|2),e.elementType=gm,e.lanes=l,e;case fm:return e=Cn(13,a,t,o),e.elementType=fm,e.lanes=l,e;case pm:return e=Cn(19,a,t,o),e.elementType=pm,e.lanes=l,e;case I2:return Gf(a,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E2:d=10;break e;case L2:d=9;break e;case uy:d=11;break e;case hy:d=14;break e;case Lo:d=16,s=null;break e}throw Error(it(130,e==null?e:typeof e,""))}return t=Cn(d,a,t,o),t.elementType=e,t.type=s,t.lanes=l,t}function Gl(e,t,a,s){return e=Cn(7,e,s,t),e.lanes=a,e}function Gf(e,t,a,s){return e=Cn(22,e,s,t),e.elementType=I2,e.lanes=a,e.stateNode={isHidden:!1},e}function kp(e,t,a){return e=Cn(6,e,null,t),e.lanes=a,e}function Np(e,t,a){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M4(e,t,a,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ky(e,t,a,s,o,l,d,g,f){return e=new M4(e,t,a,g,f),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Cn(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ly(l),e}function H4(e,t,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gc,key:s==null?null:""+s,children:e,containerInfo:t,implementation:a}}function kN(e){if(!e)return ol;e=e._reactInternals;e:{if(lc(e)!==e||e.tag!==1)throw Error(it(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(it(171))}if(e.tag===1){var a=e.type;if(Ds(a))return kk(e,a,t)}return t}function NN(e,t,a,s,o,l,d,g,f){return e=Ky(a,s,!0,e,o,l,d,g,f),e.context=kN(null),a=e.current,s=ys(),o=Zo(a),l=Ji(s,o),l.callback=t??null,$o(a,l,o),e.current.lanes=o,ju(e,o,s),Ts(e,s),e}function qf(e,t,a,s){var o=t.current,l=ys(),d=Zo(o);return a=kN(a),t.context===null?t.context=a:t.pendingContext=a,t=Ji(l,d),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=$o(o,t,d),e!==null&&(Yn(e,o,d,l),pg(e,o,d)),d}function of(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Wy(e,t){sw(e,t),(e=e.alternate)&&sw(e,t)}function O4(){return null}var BN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yy(e){this._internalRoot=e}Xf.prototype.render=Yy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(it(409));qf(e,t,null,null)};Xf.prototype.unmount=Yy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ec(function(){qf(null,e,null,null)}),t[ro]=null}};function Xf(e){this._internalRoot=e}Xf.prototype.unstable_scheduleHydration=function(e){if(e){var t=rk();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Uo.length&&t!==0&&t<Uo[a].priority;a++);Uo.splice(a,0,e),a===0&&sk(e)}};function $y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nw(){}function _4(e,t,a,s,o){if(o){if(typeof s=="function"){var l=s;s=function(){var m=of(d);l.call(m)}}var d=NN(t,s,e,0,null,!1,!1,"",nw);return e._reactRootContainer=d,e[ro]=d.current,Au(e.nodeType===8?e.parentNode:e),ec(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var g=s;s=function(){var m=of(f);g.call(m)}}var f=Ky(e,0,!1,null,null,!1,!1,"",nw);return e._reactRootContainer=f,e[ro]=f.current,Au(e.nodeType===8?e.parentNode:e),ec(function(){qf(t,f,a,s)}),f}function Wf(e,t,a,s,o){var l=a._reactRootContainer;if(l){var d=l;if(typeof o=="function"){var g=o;o=function(){var f=of(d);g.call(f)}}qf(t,d,e,o)}else d=_4(a,t,e,o,s);return of(d)}ek=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=Cd(t.pendingLanes);a!==0&&(py(t,a|1),Ts(t,ca()),!(hr&6)&&(BA=ca()+500,fl()))}break;case 13:ec(function(){var s=ao(e,1);if(s!==null){var o=ys();Yn(s,e,1,o)}}),Wy(e,1)}};my=function(e){if(e.tag===13){var t=ao(e,134217728);if(t!==null){var a=ys();Yn(t,e,134217728,a)}Wy(e,134217728)}};tk=function(e){if(e.tag===13){var t=Zo(e),a=ao(e,t);if(a!==null){var s=ys();Yn(a,e,t,s)}Wy(e,t)}};rk=function(){return Nr};ak=function(e,t){var a=Nr;try{return Nr=e,t()}finally{Nr=a}};Cm=function(e,t,a){switch(t){case"input":if(ym(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=Mf(s);if(!o)throw Error(it(90));U2(s),ym(s,o)}}}break;case"textarea":D2(e,a);break;case"select":t=a.value,t!=null&&nA(e,!!a.multiple,t,!1)}};z2=Vy;V2=ec;var z4={usingClientEntryPoint:!1,Events:[Fu,Yc,Mf,O2,_2,Vy]},pd={findFiberByHostInstance:Dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V4={bundleType:pd.bundleType,version:pd.version,rendererPackageName:pd.rendererPackageName,rendererConfig:pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=X2(e),e===null?null:e.stateNode},findFiberByHostInstance:pd.findFiberByHostInstance||O4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{Qf=Ph.inject(V4),bi=Ph}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z4;cn.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$y(t))throw Error(it(200));return H4(e,t,null,a)};cn.createRoot=function(e,t){if(!$y(e))throw Error(it(299));var a=!1,s="",o=BN;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ky(e,1,!1,null,null,a,!1,s,o),e[ro]=t.current,Au(e.nodeType===8?e.parentNode:e),new Yy(t)};cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(it(188)):(e=Object.keys(e).join(","),Error(it(268,e)));return e=X2(t),e=e===null?null:e.stateNode,e};cn.flushSync=function(e){return ec(e)};cn.hydrate=function(e,t,a){if(!Kf(t))throw Error(it(200));return Wf(null,e,t,!0,a)};cn.hydrateRoot=function(e,t,a){if(!$y(e))throw Error(it(405));var s=a!=null&&a.hydratedSources||null,o=!1,l="",d=BN;if(a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onRecoverableError!==void 0&&(d=a.onRecoverableError)),t=NN(t,null,e,1,a??null,o,!1,l,d),e[ro]=t.current,Au(e),s)for(e=0;e<s.length;e++)a=s[e],o=a._getVersion,o=o(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,o]:t.mutableSourceEagerHydrationData.push(a,o);return new Xf(t)};cn.render=function(e,t,a){if(!Kf(t))throw Error(it(200));return Wf(null,e,t,!1,a)};cn.unmountComponentAtNode=function(e){if(!Kf(e))throw Error(it(40));return e._reactRootContainer?(ec(function(){Wf(null,null,e,!1,function(){e._reactRootContainer=null,e[ro]=null})}),!0):!1};cn.unstable_batchedUpdates=Vy;cn.unstable_renderSubtreeIntoContainer=function(e,t,a,s){if(!Kf(a))throw Error(it(200));if(e==null||e._reactInternals===void 0)throw Error(it(38));return Wf(e,t,a,!1,s)};cn.version="18.3.1-next-f1338f8080-20240426";function CN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CN)}catch(e){console.error(e)}}CN(),C2.exports=cn;var jN=C2.exports,SN,iw=jN;SN=iw.createRoot,iw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},yu.apply(this,arguments)}var Mo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mo||(Mo={}));const ow="popstate";function G4(e){e===void 0&&(e={});function t(s,o){let{pathname:l,search:d,hash:g}=s.location;return nx("",{pathname:l,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(s,o){return typeof o=="string"?o:lf(o)}return X4(t,a,null,e)}function Kr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function FN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q4(){return Math.random().toString(36).substr(2,8)}function lw(e,t){return{usr:e.state,key:e.key,idx:t}}function nx(e,t,a,s){return a===void 0&&(a=null),yu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?IA(t):t,{state:a,key:t&&t.key||s||q4()})}function lf(e){let{pathname:t="/",search:a="",hash:s=""}=e;return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function IA(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function X4(e,t,a,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,d=o.history,g=Mo.Pop,f=null,m=v();m==null&&(m=0,d.replaceState(yu({},d.state,{idx:m}),""));function v(){return(d.state||{idx:null}).idx}function N(){g=Mo.Pop;let O=v(),L=O==null?null:O-m;m=O,f&&f({action:g,location:F.location,delta:L})}function C(O,L){g=Mo.Push;let I=nx(F.location,O,L);a&&a(I,O),m=v()+1;let T=lw(I,m),q=F.createHref(I);try{d.pushState(T,"",q)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(q)}l&&f&&f({action:g,location:F.location,delta:1})}function k(O,L){g=Mo.Replace;let I=nx(F.location,O,L);a&&a(I,O),m=v();let T=lw(I,m),q=F.createHref(I);d.replaceState(T,"",q),l&&f&&f({action:g,location:F.location,delta:0})}function U(O){let L=o.location.origin!=="null"?o.location.origin:o.location.href,I=typeof O=="string"?O:lf(O);return I=I.replace(/ $/,"%20"),Kr(L,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,L)}let F={get action(){return g},get location(){return e(o,d)},listen(O){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(ow,N),f=O,()=>{o.removeEventListener(ow,N),f=null}},createHref(O){return t(o,O)},createURL:U,encodeLocation(O){let L=U(O);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:C,replace:k,go(O){return d.go(O)}};return F}var cw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cw||(cw={}));function K4(e,t,a){return a===void 0&&(a="/"),W4(e,t,a,!1)}function W4(e,t,a,s){let o=typeof t=="string"?IA(t):t,l=CA(o.pathname||"/",a);if(l==null)return null;let d=EN(e);Y4(d);let g=null;for(let f=0;g==null&&f<d.length;++f){let m=o3(l);g=n3(d[f],m,s)}return g}function EN(e,t,a,s){t===void 0&&(t=[]),a===void 0&&(a=[]),s===void 0&&(s="");let o=(l,d,g)=>{let f={relativePath:g===void 0?l.path||"":g,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};f.relativePath.startsWith("/")&&(Kr(f.relativePath.startsWith(s),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(s.length));let m=tl([s,f.relativePath]),v=a.concat(f);l.children&&l.children.length>0&&(Kr(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),EN(l.children,t,v,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:a3(m,l.index),routesMeta:v})};return e.forEach((l,d)=>{var g;if(l.path===""||!((g=l.path)!=null&&g.includes("?")))o(l,d);else for(let f of LN(l.path))o(l,d,f)}),t}function LN(e){let t=e.split("/");if(t.length===0)return[];let[a,...s]=t,o=a.endsWith("?"),l=a.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let d=LN(s.join("/")),g=[];return g.push(...d.map(f=>f===""?l:[l,f].join("/"))),o&&g.push(...d),g.map(f=>e.startsWith("/")&&f===""?"/":f)}function Y4(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:s3(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const $4=/^:[\w-]+$/,J4=3,Z4=2,e3=1,t3=10,r3=-2,Aw=e=>e==="*";function a3(e,t){let a=e.split("/"),s=a.length;return a.some(Aw)&&(s+=r3),t&&(s+=Z4),a.filter(o=>!Aw(o)).reduce((o,l)=>o+($4.test(l)?J4:l===""?e3:t3),s)}function s3(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function n3(e,t,a){a===void 0&&(a=!1);let{routesMeta:s}=e,o={},l="/",d=[];for(let g=0;g<s.length;++g){let f=s[g],m=g===s.length-1,v=l==="/"?t:t.slice(l.length)||"/",N=cf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),C=f.route;if(!N&&m&&a&&!s[s.length-1].route.index&&(N=cf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!N)return null;Object.assign(o,N.params),d.push({params:o,pathname:tl([l,N.pathname]),pathnameBase:d3(tl([l,N.pathnameBase])),route:C}),N.pathnameBase!=="/"&&(l=tl([l,N.pathnameBase]))}return d}function cf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,s]=i3(e.path,e.caseSensitive,e.end),o=t.match(a);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((m,v,N)=>{let{paramName:C,isOptional:k}=v;if(C==="*"){let F=g[N]||"";d=l.slice(0,l.length-F.length).replace(/(.)\/+$/,"$1")}const U=g[N];return k&&!U?m[C]=void 0:m[C]=(U||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:e}}function i3(e,t,a){t===void 0&&(t=!1),a===void 0&&(a=!0),FN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,f)=>(s.push({paramName:g,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function o3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return FN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function CA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=e.charAt(a);return s&&s!=="/"?null:e.slice(a)||"/"}function l3(e,t){t===void 0&&(t="/");let{pathname:a,search:s="",hash:o=""}=typeof e=="string"?IA(e):e;return{pathname:a?a.startsWith("/")?a:c3(a,t):t,search:u3(s),hash:h3(o)}}function c3(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function Bp(e,t,a,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A3(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Jy(e,t){let a=A3(e);return t?a.map((s,o)=>o===a.length-1?s.pathname:s.pathnameBase):a.map(s=>s.pathnameBase)}function Zy(e,t,a,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=IA(e):(o=yu({},e),Kr(!o.pathname||!o.pathname.includes("?"),Bp("?","pathname","search",o)),Kr(!o.pathname||!o.pathname.includes("#"),Bp("#","pathname","hash",o)),Kr(!o.search||!o.search.includes("#"),Bp("#","search","hash",o)));let l=e===""||o.pathname==="",d=l?"/":o.pathname,g;if(d==null)g=a;else{let N=t.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),N-=1;o.pathname=C.join("/")}g=N>=0?t[N]:"/"}let f=l3(o,g),m=d&&d!=="/"&&d.endsWith("/"),v=(l||d===".")&&a.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}const tl=e=>e.join("/").replace(/\/\/+/g,"/"),d3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function g3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const IN=["post","put","patch","delete"];new Set(IN);const f3=["get",...IN];new Set(f3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},bu.apply(this,arguments)}const Yf=X.createContext(null),PN=X.createContext(null),lo=X.createContext(null),$f=X.createContext(null),pl=X.createContext({outlet:null,matches:[],isDataRoute:!1}),UN=X.createContext(null);function p3(e,t){let{relative:a}=t===void 0?{}:t;PA()||Kr(!1);let{basename:s,navigator:o}=X.useContext(lo),{hash:l,pathname:d,search:g}=Jf(e,{relative:a}),f=d;return s!=="/"&&(f=d==="/"?s:tl([s,d])),o.createHref({pathname:f,search:g,hash:l})}function PA(){return X.useContext($f)!=null}function cc(){return PA()||Kr(!1),X.useContext($f).location}function QN(e){X.useContext(lo).static||X.useLayoutEffect(e)}function Pn(){let{isDataRoute:e}=X.useContext(pl);return e?F3():m3()}function m3(){PA()||Kr(!1);let e=X.useContext(Yf),{basename:t,future:a,navigator:s}=X.useContext(lo),{matches:o}=X.useContext(pl),{pathname:l}=cc(),d=JSON.stringify(Jy(o,a.v7_relativeSplatPath)),g=X.useRef(!1);return QN(()=>{g.current=!0}),X.useCallback(function(m,v){if(v===void 0&&(v={}),!g.current)return;if(typeof m=="number"){s.go(m);return}let N=Zy(m,JSON.parse(d),l,v.relative==="path");e==null&&t!=="/"&&(N.pathname=N.pathname==="/"?t:tl([t,N.pathname])),(v.replace?s.replace:s.push)(N,v.state,v)},[t,s,d,l,e])}function Jf(e,t){let{relative:a}=t===void 0?{}:t,{future:s}=X.useContext(lo),{matches:o}=X.useContext(pl),{pathname:l}=cc(),d=JSON.stringify(Jy(o,s.v7_relativeSplatPath));return X.useMemo(()=>Zy(e,JSON.parse(d),l,a==="path"),[e,d,l,a])}function x3(e,t){return y3(e,t)}function y3(e,t,a,s){PA()||Kr(!1);let{navigator:o}=X.useContext(lo),{matches:l}=X.useContext(pl),d=l[l.length-1],g=d?d.params:{};d&&d.pathname;let f=d?d.pathnameBase:"/";d&&d.route;let m=cc(),v;if(t){var N;let O=typeof t=="string"?IA(t):t;f==="/"||(N=O.pathname)!=null&&N.startsWith(f)||Kr(!1),v=O}else v=m;let C=v.pathname||"/",k=C;if(f!=="/"){let O=f.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(O.length).join("/")}let U=K4(e,{pathname:k}),F=N3(U&&U.map(O=>Object.assign({},O,{params:Object.assign({},g,O.params),pathname:tl([f,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?f:tl([f,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,a,s);return t&&F?X.createElement($f.Provider,{value:{location:bu({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Mo.Pop}},F):F}function b3(){let e=S3(),t=g3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),a?X.createElement("pre",{style:o},a):null,l)}const v3=X.createElement(b3,null);class w3 extends X.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?X.createElement(pl.Provider,{value:this.props.routeContext},X.createElement(UN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k3(e){let{routeContext:t,match:a,children:s}=e,o=X.useContext(Yf);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),X.createElement(pl.Provider,{value:t},s)}function N3(e,t,a,s){var o;if(t===void 0&&(t=[]),a===void 0&&(a=null),s===void 0&&(s=null),e==null){var l;if(!a)return null;if(a.errors)e=a.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let d=e,g=(o=a)==null?void 0:o.errors;if(g!=null){let v=d.findIndex(N=>N.route.id&&(g==null?void 0:g[N.route.id])!==void 0);v>=0||Kr(!1),d=d.slice(0,Math.min(d.length,v+1))}let f=!1,m=-1;if(a&&s&&s.v7_partialHydration)for(let v=0;v<d.length;v++){let N=d[v];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(m=v),N.route.id){let{loaderData:C,errors:k}=a,U=N.route.loader&&C[N.route.id]===void 0&&(!k||k[N.route.id]===void 0);if(N.route.lazy||U){f=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}return d.reduceRight((v,N,C)=>{let k,U=!1,F=null,O=null;a&&(k=g&&N.route.id?g[N.route.id]:void 0,F=N.route.errorElement||v3,f&&(m<0&&C===0?(E3("route-fallback",!1),U=!0,O=null):m===C&&(U=!0,O=N.route.hydrateFallbackElement||null)));let L=t.concat(d.slice(0,C+1)),I=()=>{let T;return k?T=F:U?T=O:N.route.Component?T=X.createElement(N.route.Component,null):N.route.element?T=N.route.element:T=v,X.createElement(k3,{match:N,routeContext:{outlet:v,matches:L,isDataRoute:a!=null},children:T})};return a&&(N.route.ErrorBoundary||N.route.errorElement||C===0)?X.createElement(w3,{location:a.location,revalidation:a.revalidation,component:F,error:k,children:I(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):I()},null)}var DN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DN||{}),Af=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Af||{});function B3(e){let t=X.useContext(Yf);return t||Kr(!1),t}function C3(e){let t=X.useContext(PN);return t||Kr(!1),t}function j3(e){let t=X.useContext(pl);return t||Kr(!1),t}function TN(e){let t=j3(),a=t.matches[t.matches.length-1];return a.route.id||Kr(!1),a.route.id}function S3(){var e;let t=X.useContext(UN),a=C3(Af.UseRouteError),s=TN(Af.UseRouteError);return t!==void 0?t:(e=a.errors)==null?void 0:e[s]}function F3(){let{router:e}=B3(DN.UseNavigateStable),t=TN(Af.UseNavigateStable),a=X.useRef(!1);return QN(()=>{a.current=!0}),X.useCallback(function(o,l){l===void 0&&(l={}),a.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,bu({fromRouteId:t},l)))},[e,t])}const dw={};function E3(e,t,a){!t&&!dw[e]&&(dw[e]=!0)}function L3(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Uh(e){let{to:t,replace:a,state:s,relative:o}=e;PA()||Kr(!1);let{future:l,static:d}=X.useContext(lo),{matches:g}=X.useContext(pl),{pathname:f}=cc(),m=Pn(),v=Zy(t,Jy(g,l.v7_relativeSplatPath),f,o==="path"),N=JSON.stringify(v);return X.useEffect(()=>m(JSON.parse(N),{replace:a,state:s,relative:o}),[m,N,o,a,s]),null}function or(e){Kr(!1)}function I3(e){let{basename:t="/",children:a=null,location:s,navigationType:o=Mo.Pop,navigator:l,static:d=!1,future:g}=e;PA()&&Kr(!1);let f=t.replace(/^\/*/,"/"),m=X.useMemo(()=>({basename:f,navigator:l,static:d,future:bu({v7_relativeSplatPath:!1},g)}),[f,g,l,d]);typeof s=="string"&&(s=IA(s));let{pathname:v="/",search:N="",hash:C="",state:k=null,key:U="default"}=s,F=X.useMemo(()=>{let O=CA(v,f);return O==null?null:{location:{pathname:O,search:N,hash:C,state:k,key:U},navigationType:o}},[f,v,N,C,k,U,o]);return F==null?null:X.createElement(lo.Provider,{value:m},X.createElement($f.Provider,{children:a,value:F}))}function ix(e){let{children:t,location:a}=e;return x3(ox(t),a)}new Promise(()=>{});function ox(e,t){t===void 0&&(t=[]);let a=[];return X.Children.forEach(e,(s,o)=>{if(!X.isValidElement(s))return;let l=[...t,o];if(s.type===X.Fragment){a.push.apply(a,ox(s.props.children,l));return}s.type!==or&&Kr(!1),!s.props.index||!s.props.children||Kr(!1);let d={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=ox(s.props.children,l)),a.push(d)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},df.apply(this,arguments)}function RN(e,t){if(e==null)return{};var a={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(a[o]=e[o]);return a}function P3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function U3(e,t){return e.button===0&&(!t||t==="_self")&&!P3(e)}const Q3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],T3="6";try{window.__reactRouterVersion=T3}catch{}const R3=X.createContext({isTransitioning:!1}),M3="startTransition",uw=um[M3];function H3(e){let{basename:t,children:a,future:s,window:o}=e,l=X.useRef();l.current==null&&(l.current=G4({window:o,v5Compat:!0}));let d=l.current,[g,f]=X.useState({action:d.action,location:d.location}),{v7_startTransition:m}=s||{},v=X.useCallback(N=>{m&&uw?uw(()=>f(N)):f(N)},[f,m]);return X.useLayoutEffect(()=>d.listen(v),[d,v]),X.useEffect(()=>L3(s),[s]),X.createElement(I3,{basename:t,children:a,location:g.location,navigationType:g.action,navigator:d,future:s})}const O3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z3=X.forwardRef(function(t,a){let{onClick:s,relative:o,reloadDocument:l,replace:d,state:g,target:f,to:m,preventScrollReset:v,viewTransition:N}=t,C=RN(t,Q3),{basename:k}=X.useContext(lo),U,F=!1;if(typeof m=="string"&&_3.test(m)&&(U=m,O3))try{let T=new URL(window.location.href),q=m.startsWith("//")?new URL(T.protocol+m):new URL(m),M=CA(q.pathname,k);q.origin===T.origin&&M!=null?m=M+q.search+q.hash:F=!0}catch{}let O=p3(m,{relative:o}),L=G3(m,{replace:d,state:g,target:f,preventScrollReset:v,relative:o,viewTransition:N});function I(T){s&&s(T),T.defaultPrevented||L(T)}return X.createElement("a",df({},C,{href:U||O,onClick:F||l?s:I,ref:a,target:f}))}),Cp=X.forwardRef(function(t,a){let{"aria-current":s="page",caseSensitive:o=!1,className:l="",end:d=!1,style:g,to:f,viewTransition:m,children:v}=t,N=RN(t,D3),C=Jf(f,{relative:N.relative}),k=cc(),U=X.useContext(PN),{navigator:F,basename:O}=X.useContext(lo),L=U!=null&&q3(C)&&m===!0,I=F.encodeLocation?F.encodeLocation(C).pathname:C.pathname,T=k.pathname,q=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;o||(T=T.toLowerCase(),q=q?q.toLowerCase():null,I=I.toLowerCase()),q&&O&&(q=CA(q,O)||q);const M=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let re=T===I||!d&&T.startsWith(I)&&T.charAt(M)==="/",G=q!=null&&(q===I||!d&&q.startsWith(I)&&q.charAt(I.length)==="/"),V={isActive:re,isPending:G,isTransitioning:L},ue=re?s:void 0,ne;typeof l=="function"?ne=l(V):ne=[l,re?"active":null,G?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let $=typeof g=="function"?g(V):g;return X.createElement(z3,df({},N,{"aria-current":ue,className:ne,ref:a,style:$,to:f,viewTransition:m}),typeof v=="function"?v(V):v)});var lx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lx||(lx={}));var hw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hw||(hw={}));function V3(e){let t=X.useContext(Yf);return t||Kr(!1),t}function G3(e,t){let{target:a,replace:s,state:o,preventScrollReset:l,relative:d,viewTransition:g}=t===void 0?{}:t,f=Pn(),m=cc(),v=Jf(e,{relative:d});return X.useCallback(N=>{if(U3(N,a)){N.preventDefault();let C=s!==void 0?s:lf(m)===lf(v);f(e,{replace:C,state:o,preventScrollReset:l,relative:d,viewTransition:g})}},[m,f,v,s,o,a,e,l,d,g])}function q3(e,t){t===void 0&&(t={});let a=X.useContext(R3);a==null&&Kr(!1);let{basename:s}=V3(lx.useViewTransitionState),o=Jf(e,{relative:t.relative});if(!a.isTransitioning)return!1;let l=CA(a.currentLocation.pathname,s)||a.currentLocation.pathname,d=CA(a.nextLocation.pathname,s)||a.nextLocation.pathname;return cf(o.pathname,d)!=null||cf(o.pathname,l)!=null}var X3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const K3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pt=(e,t)=>{const a=X.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:d,children:g,...f},m)=>X.createElement("svg",{ref:m,...X3,width:o,height:o,stroke:s,strokeWidth:d?Number(l)*24/Number(o):l,className:`lucide lucide-${K3(e)}`,...f},[...t.map(([v,N])=>X.createElement(v,N)),...(Array.isArray(g)?g:[g])||[]]));return a.displayName=`${e}`,a},Ps=pt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),$i=pt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ir=pt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["line",{x1:"12",x2:"12",y1:"9",y2:"13",key:"1gkch0"}],["line",{x1:"12",x2:"12.01",y1:"17",y2:"17",key:"io3f8k"}]]),W3=pt("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),tc=pt("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]),uf=pt("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),Y3=pt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Sa=pt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),$3=pt("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),MN=pt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),rl=pt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),on=pt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Pr=pt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),J3=pt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Z3=pt("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),e6=pt("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),gw=pt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),ms=pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),HN=pt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),hf=pt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),t6=pt("DatabaseBackup",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14c0 1.4 3 2.7 7 3",key:"jgylly"}],["path",{d:"M3 12c0 1.2 2 2.5 5 3",key:"vxrdms"}],["path",{d:"M21 5v4",key:"1vq2e7"}],["path",{d:"M13 20a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L12 16",key:"1f4ei9"}],["path",{d:"M12 12v4h4",key:"1bxaet"}]]),bs=pt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),In=pt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Bi=pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),co=pt("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]]),Ms=pt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),r6=pt("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),a6=pt("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Ea=pt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),UA=pt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),s6=pt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),ON=pt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),_N=pt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),n6=pt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),zN=pt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),fw=pt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),i6=pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),eb=pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),rc=pt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),o6=pt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),l6=pt("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]),c6=pt("Minus",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),pw=pt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),A6=pt("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),xs=pt("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),d6=pt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),tb=pt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),VN=pt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),GN=pt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),ha=pt("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),ql=pt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),mw=pt("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]),an=pt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),cs=pt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ba=pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),u6=pt("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]]),$n=pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dA=pt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),qN=pt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),jA=pt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),xw=pt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),h6=pt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),gf=pt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ei=pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),g6=pt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),ll=pt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Us=pt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),XN=pt("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),ff=pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),f6=pt("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]),As=pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ac=pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),yw=pt("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),KN=pt("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),cl=pt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]),er=pt("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]]),kg=pt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Cl="http://localhost:5001/api",jl=()=>({Authorization:`Bearer ${localStorage.getItem("sil_lab_token")}`,"Content-Type":"application/json"}),wi={async getAllQCResults(e={}){const t=new URLSearchParams;Object.entries(e).forEach(([s,o])=>{o!==void 0&&o!==""&&t.append(s,o.toString())});const a=await fetch(`${Cl}/automates/qc-results/all?${t}`,{headers:jl()});if(!a.ok)throw new Error("Failed to fetch QC results");return a.json()},async getAutomateQCResults(e,t={}){const a=new URLSearchParams;Object.entries(t).forEach(([o,l])=>{l!==void 0&&l!==""&&a.append(o,l.toString())});const s=await fetch(`${Cl}/automates/${e}/qc-results?${a}`,{headers:jl()});if(!s.ok)throw new Error("Failed to fetch automate QC results");return s.json()},async getQCStats(e,t=30){const a=await fetch(`${Cl}/automates/${e}/qc-stats?days=${t}`,{headers:jl()});if(!a.ok)throw new Error("Failed to fetch QC statistics");return a.json()},async createQCResult(e,t){const a=await fetch(`${Cl}/automates/${e}/qc-results`,{method:"POST",headers:jl(),body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to create QC result");return a.json()},async updateQCResult(e,t){const a=await fetch(`${Cl}/automates/qc-results/${e}`,{method:"PUT",headers:jl(),body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to update QC result");return a.json()},async deleteQCResult(e){const t=await fetch(`${Cl}/automates/qc-results/${e}`,{method:"DELETE",headers:jl()});if(!t.ok)throw new Error("Failed to delete QC result");return t.json()},async getAutomates(){const e=await fetch(`${Cl}/automates`,{headers:jl()});if(!e.ok)throw new Error("Failed to fetch automates");return e.json()}};function p6(){const{language:e}=qt(),[t,a]=X.useState([]),[s,o]=X.useState(!1),[l,d]=X.useState(!1),g={fr:{qcAlerts:"Alertes CQ",noAlerts:"Aucune alerte",warning:"Avertissement",fail:"Échec",deviation:"Déviation",viewAll:"Voir toutes les alertes",newAlert:"Nouvelle alerte CQ"},en:{qcAlerts:"QC Alerts",noAlerts:"No alerts",warning:"Warning",fail:"Fail",deviation:"Deviation",viewAll:"View all alerts",newAlert:"New QC alert"}}[e];X.useEffect(()=>{f();const C=setInterval(f,6e4);return()=>clearInterval(C)},[]);const f=async()=>{try{d(!0);const k=(await wi.getAllQCResults({limit:20})).qcResults.filter(U=>{const F=new Date(U.timestamp).getTime(),O=Date.now()-24*60*60*1e3;return(U.status==="warning"||U.status==="fail")&&F>O}).map(U=>({id:U.id,automateId:U.automateId,automateName:U.automate.name,testName:U.testName,status:U.status,deviation:U.deviation,timestamp:U.timestamp}));a(k)}catch(C){console.error("Error loading QC notifications:",C)}finally{d(!1)}},m=C=>{switch(C){case"fail":return r.jsx(cl,{className:"h-4 w-4 text-red-500"});case"warning":return r.jsx(Ir,{className:"h-4 w-4 text-yellow-500"});default:return null}},v=C=>{switch(C){case"fail":return"text-red-600";case"warning":return"text-yellow-600";default:return"text-gray-600"}},N=t.length;return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>o(!s),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg",children:[r.jsx(MN,{size:20}),N>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:N>9?"9+":N})]}),s&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:g.qcAlerts})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:l?r.jsx("div",{className:"p-4 text-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):t.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:g.noAlerts}):r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.slice(0,5).map(C=>r.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[m(C.status),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:C.automateName}),r.jsx("span",{className:`text-xs font-medium ${v(C.status)}`,children:C.status==="fail"?g.fail:g.warning})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:C.testName}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[g.deviation,": ",C.deviation>0?"+":"",C.deviation.toFixed(1),"%"]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(C.timestamp).toLocaleTimeString()})]})]})]})},C.id))})}),t.length>0&&r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:r.jsx("button",{onClick:()=>{o(!1),window.location.href="/quality-control"},className:"w-full text-center text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:g.viewAll})})]}),s&&r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]})}function m6({onMenuClick:e}){const{user:t,logout:a,theme:s,toggleTheme:o,language:l,setLanguage:d}=qt();return r.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 h-16 flex items-center justify-between px-3 sm:px-4 lg:px-6",children:[r.jsxs("div",{className:"flex items-center min-w-0",children:[r.jsx("button",{onClick:e,className:"mr-2 p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 lg:hidden transition-colors","aria-label":"Toggle menu",children:r.jsx(o6,{size:24})}),r.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 dark:text-white truncate",children:"SIL Laboratory System"})]}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-4",children:[r.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors sm:hidden","aria-label":s==="light"?"Switch to dark mode":"Switch to light mode",children:s==="light"?r.jsx(pw,{size:18,className:"text-gray-600 dark:text-gray-300"}):r.jsx(xw,{size:18,className:"text-gray-600 dark:text-gray-300"})}),r.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[r.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":s==="light"?"Switch to dark mode":"Switch to light mode",children:s==="light"?r.jsx(pw,{size:20,className:"text-gray-600 dark:text-gray-300"}):r.jsx(xw,{size:20,className:"text-gray-600 dark:text-gray-300"})}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(s6,{size:18,className:"text-gray-600 dark:text-gray-300"}),r.jsxs("select",{value:l,onChange:g=>d(g.target.value),className:"bg-transparent text-sm text-gray-700 dark:text-gray-300 focus:outline-none",children:[r.jsx("option",{value:"fr",children:"FR"}),r.jsx("option",{value:"en",children:"EN"})]})]})]}),((t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="BIOLOGIST"||(t==null?void 0:t.role)==="TECHNICIAN")&&r.jsx(p6,{}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-3",children:[r.jsx("span",{className:"hidden sm:inline text-sm text-gray-700 dark:text-gray-300 truncate max-w-[100px] lg:max-w-[120px]",children:t==null?void 0:t.name}),r.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Logout",children:r.jsx(i6,{size:18,className:"sm:w-5 sm:h-5 text-gray-600 dark:text-gray-300"})})]})]})]})}const bw="http://localhost:5001/api";class x6{isAuthenticated(){const t=localStorage.getItem("sil_lab_token"),a=localStorage.getItem("sil_lab_user");return!!(t&&a)}getCurrentUser(){try{const t=localStorage.getItem("sil_lab_user");return t?JSON.parse(t):null}catch(t){return console.error("Error parsing user data:",t),null}}async apiRequest(t,a={}){const s=`${bw}${t}`,o=localStorage.getItem("sil_lab_token");if(!o)throw console.error("No authentication token found. User may need to log in."),console.error("Current authentication status:",{hasToken:!!o,hasUser:!!localStorage.getItem("sil_lab_user"),currentUser:this.getCurrentUser()}),new Error("Authentication required. Please log in.");const l={"Content-Type":"application/json",Authorization:`Bearer ${o}`,...a.headers};try{const d=await fetch(s,{...a,headers:l});if(!d.ok){if(console.error(`API Error: ${d.status} ${d.statusText} for ${s}`),d.status===401)throw console.error("Authentication failed. Token may be expired or invalid."),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user"),new Error("Authentication failed. Please log in again.");const g=await d.json().catch(()=>({}));throw new Error(g.error||`HTTP error! status: ${d.status}`)}return d.json()}catch(d){throw console.error(`Network Error for ${s}:`,d),d}}async getModules(){return this.apiRequest("/modules")}async getInstalledModules(){return this.apiRequest("/modules/installed")}async installModule(t,a,s,o){return this.apiRequest("/modules/install",{method:"POST",body:JSON.stringify({moduleId:t,licenseKey:a,organizationName:s,contactEmail:o})})}async startTrial(t,a,s){return this.apiRequest("/modules/trial",{method:"POST",body:JSON.stringify({moduleId:t,organizationName:a,contactEmail:s})})}async checkModuleAccess(t){return this.apiRequest(`/modules/access/${t}`)}async deactivateModule(t){return this.apiRequest(`/modules/${t}`,{method:"DELETE"})}generateLicenseKey(t){var o;const a=t.substring(0,3).toUpperCase(),s=Math.random().toString(36).substring(2,15).toUpperCase();return`${a}-${((o=s.match(/.{4}/g))==null?void 0:o.join("-"))||s}`}isValidLicenseKey(t,a){const s=a.substring(0,3).toUpperCase();return t.startsWith(s)&&t.length>=15}formatDaysRemaining(t){return t<=0?"Expired":t===1?"1 day left":t<=30?`${t} days left`:t<=365?`${Math.ceil(t/30)} months left`:`${Math.ceil(t/365)} years left`}getStatusColor(t,a){return t==="EXPIRED"||a<=0?"text-red-500":t==="TRIAL"||a<=7?"text-yellow-500":a<=30?"text-orange-500":"text-green-500"}getStatusBadgeColor(t,a){return t==="EXPIRED"||a<=0?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":t==="TRIAL"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":a<=7?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":a<=30?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}checkAuthenticationStatus(){const t=localStorage.getItem("sil_lab_token"),a=localStorage.getItem("sil_lab_user"),s=this.getCurrentUser();return console.log("Authentication Status Check:",{hasToken:!!t,tokenLength:(t==null?void 0:t.length)||0,hasUser:!!a,currentUser:s,isAuthenticated:this.isAuthenticated()}),{isAuthenticated:this.isAuthenticated(),hasToken:!!t,hasUser:!!a,currentUser:s}}async testAuthentication(){try{const t=await fetch(`${bw}/auth/me`,{headers:{Authorization:`Bearer ${localStorage.getItem("sil_lab_token")}`,"Content-Type":"application/json"}});if(t.ok){const a=await t.json();return console.log("Authentication test successful:",a),{success:!0,data:a}}else return console.error("Authentication test failed:",t.status,t.statusText),{success:!1,status:t.status,statusText:t.statusText}}catch(t){return console.error("Authentication test error:",t),{success:!1,error:t.message}}}}const la=new x6,WN=X.createContext(void 0),y6=({children:e})=>{const[t,a]=X.useState(0),s=X.useCallback(()=>{a(o=>o+1)},[]);return r.jsx(WN.Provider,{value:{moduleVersion:t,refreshModules:s},children:e})},Zf=()=>{const e=X.useContext(WN);if(e===void 0)throw new Error("useModules must be used within a ModuleProvider");return e},jp="http://localhost:5001/api";class b6{async apiRequest(t,a={}){const s=`${jp}${t}`,o=localStorage.getItem("sil_lab_token"),l={"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`},...a.headers};try{const d=await fetch(s,{...a,headers:l});if(!d.ok){console.error(`Backup API Error: ${d.status} ${d.statusText} for ${s}`);const g=await d.json().catch(()=>({}));throw new Error(g.error||`HTTP error! status: ${d.status}`)}return d.json()}catch(d){throw console.error(`Backup Network Error for ${s}:`,d),d}}async getBackups(){return this.apiRequest("/admin/backups")}async createBackup(t){return this.apiRequest("/admin/backup",{method:"POST",body:JSON.stringify({description:t||"Manual backup",type:"MANUAL"})})}async downloadBackup(t){const a=localStorage.getItem("sil_lab_token"),s={};a&&(s.Authorization=`Bearer ${a}`);const o=await fetch(`${jp}/admin/backup/${t}/download`,{headers:s});if(!o.ok)throw new Error(`Download failed: ${o.status}`);return o.blob()}async uploadBackup(t,a){const s=new FormData;s.append("backup",t);const o=localStorage.getItem("sil_lab_token");return new Promise((l,d)=>{const g=new XMLHttpRequest;a&&g.upload.addEventListener("progress",f=>{if(f.lengthComputable){const m=f.loaded/f.total*100;a(m)}}),g.addEventListener("load",()=>{if(g.status===200)try{const f=JSON.parse(g.responseText);l(f)}catch{d(new Error("Invalid response format"))}else d(new Error(`Upload failed: ${g.status}`))}),g.addEventListener("error",()=>{d(new Error("Upload failed"))}),g.open("POST",`${jp}/admin/backup/upload`),o&&g.setRequestHeader("Authorization",`Bearer ${o}`),g.send(s)})}async restoreBackup(t){return this.apiRequest(`/admin/backup/${t}/restore`,{method:"POST"})}async deleteBackup(t){return this.apiRequest(`/admin/backup/${t}`,{method:"DELETE"})}async getBackupSettings(){return this.apiRequest("/admin/backup/settings")}async updateBackupSettings(t){return this.apiRequest("/admin/backup/settings",{method:"PUT",body:JSON.stringify(t)})}async getBackupStats(){return this.apiRequest("/admin/backup/stats")}async getJobStatus(){return this.apiRequest("/admin/backup/job-status")}async shouldShowBackupReminder(){try{const a=(await this.getBackupStats()).daysSinceLastBackup;return a>=30?{show:!0,daysSince:a,message:`It's been ${a} days since your last backup. Consider creating a backup to protect your data.`}:{show:!1,daysSince:a,message:""}}catch(t){return console.error("Error checking backup reminder:",t),{show:!0,daysSince:999,message:"Unable to check backup status. Consider creating a backup to protect your data."}}}async validateBackupFile(t){try{if(t.size>500*1024*1024)return{valid:!1,error:"Backup file is too large (max 500MB)"};if(!t.name.endsWith(".backup")&&!t.name.endsWith(".json"))return{valid:!1,error:"Invalid file format. Expected .backup or .json file"};if(t.name.endsWith(".json")){const a=await t.text(),s=JSON.parse(a);return!s.metadata||!s.data?{valid:!1,error:"Invalid backup file structure"}:{valid:!0,info:{version:s.metadata.version,createdAt:s.metadata.createdAt,size:t.size,tables:Object.keys(s.data).length}}}return{valid:!0}}catch{return{valid:!1,error:"Unable to validate backup file"}}}formatSize(t){const a=["Bytes","KB","MB","GB"];if(t===0)return"0 Bytes";const s=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,s)).toFixed(2)+" "+a[s]}formatBackupAge(t){const a=new Date,s=new Date(t),o=Math.abs(a.getTime()-s.getTime()),l=Math.ceil(o/(1e3*60*60*24));if(l===1)return"1 day ago";if(l<30)return`${l} days ago`;if(l<365){const g=Math.floor(l/30);return g===1?"1 month ago":`${g} months ago`}const d=Math.floor(l/365);return d===1?"1 year ago":`${d} years ago`}}const ts=new b6;var v6=Object.defineProperty,w6=(e,t,a)=>t in e?v6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Sp=(e,t,a)=>(w6(e,typeof t!="symbol"?t+"":t,a),a);let k6=class{constructor(){Sp(this,"current",this.detect()),Sp(this,"handoffState","pending"),Sp(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ki=new k6;function e0(e){var t,a;return ki.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(a=(t=e.current)==null?void 0:t.ownerDocument)!=null?a:document:null:document}function t0(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Ao(){let e=[],t={addEventListener(a,s,o,l){return a.addEventListener(s,o,l),t.add(()=>a.removeEventListener(s,o,l))},requestAnimationFrame(...a){let s=requestAnimationFrame(...a);return t.add(()=>cancelAnimationFrame(s))},nextFrame(...a){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...a))},setTimeout(...a){let s=setTimeout(...a);return t.add(()=>clearTimeout(s))},microTask(...a){let s={current:!0};return t0(()=>{s.current&&a[0]()}),t.add(()=>{s.current=!1})},style(a,s,o){let l=a.style.getPropertyValue(s);return Object.assign(a.style,{[s]:o}),this.add(()=>{Object.assign(a.style,{[s]:l})})},group(a){let s=Ao();return a(s),this.add(()=>s.dispose())},add(a){return e.includes(a)||e.push(a),()=>{let s=e.indexOf(a);if(s>=0)for(let o of e.splice(s,1))o()}},dispose(){for(let a of e.splice(0))a()}};return t}function rb(){let[e]=X.useState(Ao);return X.useEffect(()=>()=>e.dispose(),[e]),e}let os=(e,t)=>{ki.isServer?X.useEffect(e,t):X.useLayoutEffect(e,t)};function Ac(e){let t=X.useRef(e);return os(()=>{t.current=e},[e]),t}let Lr=function(e){let t=Ac(e);return Gt.useCallback((...a)=>t.current(...a),[t])},N6=X.createContext(void 0);function B6(){return X.useContext(N6)}function cx(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function no(e,t,...a){if(e in t){let o=t[e];return typeof o=="function"?o(...a):o}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,no),s}var pf=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(pf||{}),Ho=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ho||{});function Un(){let e=j6();return X.useCallback(t=>C6({mergeRefs:e,...t}),[e])}function C6({ourProps:e,theirProps:t,slot:a,defaultTag:s,features:o,visible:l=!0,name:d,mergeRefs:g}){g=g??S6;let f=YN(t,e);if(l)return Qh(f,a,s,d,g);let m=o??0;if(m&2){let{static:v=!1,...N}=f;if(v)return Qh(N,a,s,d,g)}if(m&1){let{unmount:v=!0,...N}=f;return no(v?0:1,{0(){return null},1(){return Qh({...N,hidden:!0,style:{display:"none"}},a,s,d,g)}})}return Qh(f,a,s,d,g)}function Qh(e,t={},a,s,o){let{as:l=a,children:d,refName:g="ref",...f}=Fp(e,["unmount","static"]),m=e.ref!==void 0?{[g]:e.ref}:{},v=typeof d=="function"?d(t):d;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(t)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let N={};if(t){let C=!1,k=[];for(let[U,F]of Object.entries(t))typeof F=="boolean"&&(C=!0),F===!0&&k.push(U.replace(/([A-Z])/g,O=>`-${O.toLowerCase()}`));if(C){N["data-headlessui-state"]=k.join(" ");for(let U of k)N[`data-${U}`]=""}}if(l===X.Fragment&&(Object.keys(Ll(f)).length>0||Object.keys(Ll(N)).length>0))if(!X.isValidElement(v)||Array.isArray(v)&&v.length>1){if(Object.keys(Ll(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ll(f)).concat(Object.keys(Ll(N))).map(C=>`  - ${C}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(C=>`  - ${C}`).join(`
`)].join(`
`))}else{let C=v.props,k=C==null?void 0:C.className,U=typeof k=="function"?(...L)=>cx(k(...L),f.className):cx(k,f.className),F=U?{className:U}:{},O=YN(v.props,Ll(Fp(f,["ref"])));for(let L in N)L in O&&delete N[L];return X.cloneElement(v,Object.assign({},O,N,m,{ref:o(F6(v),m.ref)},F))}return X.createElement(l,Object.assign({},Fp(f,["ref"]),l!==X.Fragment&&m,l!==X.Fragment&&N),v)}function j6(){let e=X.useRef([]),t=X.useCallback(a=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(a):s.current=a)},[]);return(...a)=>{if(!a.every(s=>s==null))return e.current=a,t}}function S6(...e){return e.every(t=>t==null)?void 0:t=>{for(let a of e)a!=null&&(typeof a=="function"?a(t):a.current=t)}}function YN(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},a={};for(let s of e)for(let o in s)o.startsWith("on")&&typeof s[o]=="function"?(a[o]!=null||(a[o]=[]),a[o].push(s[o])):t[o]=s[o];if(t.disabled||t["aria-disabled"])for(let s in a)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(a[s]=[o=>{var l;return(l=o==null?void 0:o.preventDefault)==null?void 0:l.call(o)}]);for(let s in a)Object.assign(t,{[s](o,...l){let d=a[s];for(let g of d){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;g(o,...l)}}});return t}function Hs(e){var t;return Object.assign(X.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ll(e){let t=Object.assign({},e);for(let a in t)t[a]===void 0&&delete t[a];return t}function Fp(e,t=[]){let a=Object.assign({},e);for(let s of t)s in a&&delete a[s];return a}function F6(e){return Gt.version.split(".")[0]>="19"?e.props.ref:e.ref}let E6="span";var mf=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(mf||{});function L6(e,t){var a;let{features:s=1,...o}=e,l={ref:t,"aria-hidden":(s&2)===2?!0:(a=o["aria-hidden"])!=null?a:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Un()({ourProps:l,theirProps:o,slot:{},defaultTag:E6,name:"Hidden"})}let Ax=Hs(L6);function $N(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function al(e){return $N(e)&&"tagName"in e}function sc(e){return al(e)&&"accessKey"in e}function Oo(e){return al(e)&&"tabIndex"in e}function I6(e){return al(e)&&"style"in e}function P6(e){return sc(e)&&e.nodeName==="IFRAME"}function U6(e){return sc(e)&&e.nodeName==="INPUT"}let JN=Symbol();function Q6(e,t=!0){return Object.assign(e,{[JN]:t})}function Ci(...e){let t=X.useRef(e);X.useEffect(()=>{t.current=e},[e]);let a=Lr(s=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(s):o.current=s)});return e.every(s=>s==null||(s==null?void 0:s[JN]))?void 0:a}let ab=X.createContext(null);ab.displayName="DescriptionContext";function ZN(){let e=X.useContext(ab);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ZN),t}return e}function D6(){let[e,t]=X.useState([]);return[e.length>0?e.join(" "):void 0,X.useMemo(()=>function(a){let s=Lr(l=>(t(d=>[...d,l]),()=>t(d=>{let g=d.slice(),f=g.indexOf(l);return f!==-1&&g.splice(f,1),g}))),o=X.useMemo(()=>({register:s,slot:a.slot,name:a.name,props:a.props,value:a.value}),[s,a.slot,a.name,a.props,a.value]);return Gt.createElement(ab.Provider,{value:o},a.children)},[t])]}let T6="p";function R6(e,t){let a=X.useId(),s=B6(),{id:o=`headlessui-description-${a}`,...l}=e,d=ZN(),g=Ci(t);os(()=>d.register(o),[o,d.register]);let f=s||!1,m=X.useMemo(()=>({...d.slot,disabled:f}),[d.slot,f]),v={ref:g,...d.props,id:o};return Un()({ourProps:v,theirProps:l,slot:m,defaultTag:T6,name:d.name||"Description"})}let M6=Hs(R6),H6=Object.assign(M6,{});var eB=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(eB||{});let O6=X.createContext(()=>{});function _6({value:e,children:t}){return Gt.createElement(O6.Provider,{value:e},t)}let tB=class extends Map{constructor(t){super(),this.factory=t}get(t){let a=super.get(t);return a===void 0&&(a=this.factory(t),this.set(t,a)),a}};var z6=Object.defineProperty,V6=(e,t,a)=>t in e?z6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,G6=(e,t,a)=>(V6(e,typeof t!="symbol"?t+"":t,a),a),rB=(e,t,a)=>{if(!t.has(e))throw TypeError("Cannot "+a)},vn=(e,t,a)=>(rB(e,t,"read from private field"),a?a.call(e):t.get(e)),Ep=(e,t,a)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,a)},vw=(e,t,a,s)=>(rB(e,t,"write to private field"),s?s.call(e,a):t.set(e,a),a),fi,Sd,Fd;let q6=class{constructor(t){Ep(this,fi,{}),Ep(this,Sd,new tB(()=>new Set)),Ep(this,Fd,new Set),G6(this,"disposables",Ao()),vw(this,fi,t),ki.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return vn(this,fi)}subscribe(t,a){if(ki.isServer)return()=>{};let s={selector:t,callback:a,current:t(vn(this,fi))};return vn(this,Fd).add(s),this.disposables.add(()=>{vn(this,Fd).delete(s)})}on(t,a){return ki.isServer?()=>{}:(vn(this,Sd).get(t).add(a),this.disposables.add(()=>{vn(this,Sd).get(t).delete(a)}))}send(t){let a=this.reduce(vn(this,fi),t);if(a!==vn(this,fi)){vw(this,fi,a);for(let s of vn(this,Fd)){let o=s.selector(vn(this,fi));aB(s.current,o)||(s.current=o,s.callback(o))}for(let s of vn(this,Sd).get(t.type))s(vn(this,fi),t)}}};fi=new WeakMap,Sd=new WeakMap,Fd=new WeakMap;function aB(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Lp(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Lp(e.entries(),t.entries()):ww(e)&&ww(t)?Lp(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Lp(e,t){do{let a=e.next(),s=t.next();if(a.done&&s.done)return!0;if(a.done||s.done||!Object.is(a.value,s.value))return!1}while(!0)}function ww(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var X6=Object.defineProperty,K6=(e,t,a)=>t in e?X6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,kw=(e,t,a)=>(K6(e,typeof t!="symbol"?t+"":t,a),a),W6=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(W6||{});let Y6={0(e,t){let a=t.id,s=e.stack,o=e.stack.indexOf(a);if(o!==-1){let l=e.stack.slice();return l.splice(o,1),l.push(a),s=l,{...e,stack:s}}return{...e,stack:[...e.stack,a]}},1(e,t){let a=t.id,s=e.stack.indexOf(a);if(s===-1)return e;let o=e.stack.slice();return o.splice(s,1),{...e,stack:o}}},$6=class sB extends q6{constructor(){super(...arguments),kw(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),kw(this,"selectors",{isTop:(t,a)=>t.stack[t.stack.length-1]===a,inStack:(t,a)=>t.stack.includes(a)})}static new(){return new sB({stack:[]})}reduce(t,a){return no(a.type,Y6,t,a)}};const nB=new tB(()=>$6.new());var iB={exports:{}},oB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=X;function J6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Z6=typeof Object.is=="function"?Object.is:J6,eF=Lu.useSyncExternalStore,tF=Lu.useRef,rF=Lu.useEffect,aF=Lu.useMemo,sF=Lu.useDebugValue;oB.useSyncExternalStoreWithSelector=function(e,t,a,s,o){var l=tF(null);if(l.current===null){var d={hasValue:!1,value:null};l.current=d}else d=l.current;l=aF(function(){function f(k){if(!m){if(m=!0,v=k,k=s(k),o!==void 0&&d.hasValue){var U=d.value;if(o(U,k))return N=U}return N=k}if(U=N,Z6(v,k))return U;var F=s(k);return o!==void 0&&o(U,F)?(v=k,U):(v=k,N=F)}var m=!1,v,N,C=a===void 0?null:a;return[function(){return f(t())},C===null?void 0:function(){return f(C())}]},[t,a,s,o]);var g=eF(e,l[0],l[1]);return rF(function(){d.hasValue=!0,d.value=g},[g]),sF(g),g};iB.exports=oB;var nF=iB.exports;function lB(e,t,a=aB){return nF.useSyncExternalStoreWithSelector(Lr(s=>e.subscribe(iF,s)),Lr(()=>e.state),Lr(()=>e.state),Lr(t),a)}function iF(e){return e}function Iu(e,t){let a=X.useId(),s=nB.get(t),[o,l]=lB(s,X.useCallback(d=>[s.selectors.isTop(d,a),s.selectors.inStack(d,a)],[s,a]));return os(()=>{if(e)return s.actions.push(a),()=>s.actions.pop(a)},[s,e,a]),e?l?o:!0:!1}let dx=new Map,Xd=new Map;function Nw(e){var t;let a=(t=Xd.get(e))!=null?t:0;return Xd.set(e,a+1),a!==0?()=>Bw(e):(dx.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Bw(e))}function Bw(e){var t;let a=(t=Xd.get(e))!=null?t:1;if(a===1?Xd.delete(e):Xd.set(e,a-1),a!==1)return;let s=dx.get(e);s&&(s["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",s["aria-hidden"]),e.inert=s.inert,dx.delete(e))}function oF(e,{allowed:t,disallowed:a}={}){let s=Iu(e,"inert-others");os(()=>{var o,l;if(!s)return;let d=Ao();for(let f of(o=a==null?void 0:a())!=null?o:[])f&&d.add(Nw(f));let g=(l=t==null?void 0:t())!=null?l:[];for(let f of g){if(!f)continue;let m=e0(f);if(!m)continue;let v=f.parentElement;for(;v&&v!==m.body;){for(let N of v.children)g.some(C=>N.contains(C))||d.add(Nw(N));v=v.parentElement}}return d.dispose},[s,t,a])}function lF(e,t,a){let s=Ac(o=>{let l=o.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&a()});X.useEffect(()=>{if(!e)return;let o=t===null?null:sc(t)?t:t.current;if(!o)return;let l=Ao();if(typeof ResizeObserver<"u"){let d=new ResizeObserver(()=>s.current(o));d.observe(o),l.add(()=>d.disconnect())}if(typeof IntersectionObserver<"u"){let d=new IntersectionObserver(()=>s.current(o));d.observe(o),l.add(()=>d.disconnect())}return()=>l.dispose()},[t,s,e])}let xf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),cF=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ki=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Ki||{}),ux=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ux||{}),AF=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(AF||{});function dF(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(xf)).sort((t,a)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(a.tabIndex||Number.MAX_SAFE_INTEGER)))}function uF(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(cF)).sort((t,a)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(a.tabIndex||Number.MAX_SAFE_INTEGER)))}var cB=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(cB||{});function hF(e,t=0){var a;return e===((a=e0(e))==null?void 0:a.body)?!1:no(t,{0(){return e.matches(xf)},1(){let s=e;for(;s!==null;){if(s.matches(xf))return!0;s=s.parentElement}return!1}})}var gF=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(gF||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Zi(e){e==null||e.focus({preventScroll:!0})}let fF=["textarea","input"].join(",");function pF(e){var t,a;return(a=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,fF))!=null?a:!1}function mF(e,t=a=>a){return e.slice().sort((a,s)=>{let o=t(a),l=t(s);if(o===null||l===null)return 0;let d=o.compareDocumentPosition(l);return d&Node.DOCUMENT_POSITION_FOLLOWING?-1:d&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Kd(e,t,{sorted:a=!0,relativeTo:s=null,skipElements:o=[]}={}){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,d=Array.isArray(e)?a?mF(e):e:t&64?uF(e):dF(e);o.length>0&&d.length>1&&(d=d.filter(k=>!o.some(U=>U!=null&&"current"in U?(U==null?void 0:U.current)===k:U===k))),s=s??l.activeElement;let g=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,d.indexOf(s))-1;if(t&4)return Math.max(0,d.indexOf(s))+1;if(t&8)return d.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=t&32?{preventScroll:!0}:{},v=0,N=d.length,C;do{if(v>=N||v+N<=0)return 0;let k=f+v;if(t&16)k=(k+N)%N;else{if(k<0)return 3;if(k>=N)return 1}C=d[k],C==null||C.focus(m),v+=g}while(C!==l.activeElement);return t&6&&pF(C)&&C.select(),2}function AB(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function xF(){return/Android/gi.test(window.navigator.userAgent)}function Cw(){return AB()||xF()}function Dh(e,t,a,s){let o=Ac(a);X.useEffect(()=>{if(!e)return;function l(d){o.current(d)}return document.addEventListener(t,l,s),()=>document.removeEventListener(t,l,s)},[e,t,s])}function dB(e,t,a,s){let o=Ac(a);X.useEffect(()=>{if(!e)return;function l(d){o.current(d)}return window.addEventListener(t,l,s),()=>window.removeEventListener(t,l,s)},[e,t,s])}const jw=30;function yF(e,t,a){let s=Ac(a),o=X.useCallback(function(g,f){if(g.defaultPrevented)return;let m=f(g);if(m===null||!m.getRootNode().contains(m)||!m.isConnected)return;let v=function N(C){return typeof C=="function"?N(C()):Array.isArray(C)||C instanceof Set?C:[C]}(t);for(let N of v)if(N!==null&&(N.contains(m)||g.composed&&g.composedPath().includes(N)))return;return!hF(m,cB.Loose)&&m.tabIndex!==-1&&g.preventDefault(),s.current(g,m)},[s,t]),l=X.useRef(null);Dh(e,"pointerdown",g=>{var f,m;Cw()||(l.current=((m=(f=g.composedPath)==null?void 0:f.call(g))==null?void 0:m[0])||g.target)},!0),Dh(e,"pointerup",g=>{if(Cw()||!l.current)return;let f=l.current;return l.current=null,o(g,()=>f)},!0);let d=X.useRef({x:0,y:0});Dh(e,"touchstart",g=>{d.current.x=g.touches[0].clientX,d.current.y=g.touches[0].clientY},!0),Dh(e,"touchend",g=>{let f={x:g.changedTouches[0].clientX,y:g.changedTouches[0].clientY};if(!(Math.abs(f.x-d.current.x)>=jw||Math.abs(f.y-d.current.y)>=jw))return o(g,()=>Oo(g.target)?g.target:null)},!0),dB(e,"blur",g=>o(g,()=>P6(window.document.activeElement)?window.document.activeElement:null),!0)}function r0(...e){return X.useMemo(()=>e0(...e),[...e])}function uB(e,t,a,s){let o=Ac(a);X.useEffect(()=>{e=e??window;function l(d){o.current(d)}return e.addEventListener(t,l,s),()=>e.removeEventListener(t,l,s)},[e,t,s])}function bF(e){return X.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function vF(e,t){let a=e(),s=new Set;return{getSnapshot(){return a},subscribe(o){return s.add(o),()=>s.delete(o)},dispatch(o,...l){let d=t[o].call(a,...l);d&&(a=d,s.forEach(g=>g()))}}}function wF(){let e;return{before({doc:t}){var a;let s=t.documentElement,o=(a=t.defaultView)!=null?a:window;e=Math.max(0,o.innerWidth-s.clientWidth)},after({doc:t,d:a}){let s=t.documentElement,o=Math.max(0,s.clientWidth-s.offsetWidth),l=Math.max(0,e-o);a.style(s,"paddingRight",`${l}px`)}}}function kF(){return AB()?{before({doc:e,d:t,meta:a}){function s(o){return a.containers.flatMap(l=>l()).some(l=>l.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let g=Ao();g.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>g.dispose()))}let l=(o=window.scrollY)!=null?o:window.pageYOffset,d=null;t.addEventListener(e,"click",g=>{if(Oo(g.target))try{let f=g.target.closest("a");if(!f)return;let{hash:m}=new URL(f.href),v=e.querySelector(m);Oo(v)&&!s(v)&&(d=v)}catch{}},!0),t.addEventListener(e,"touchstart",g=>{if(Oo(g.target)&&I6(g.target))if(s(g.target)){let f=g.target;for(;f.parentElement&&s(f.parentElement);)f=f.parentElement;t.style(f,"overscrollBehavior","contain")}else t.style(g.target,"touchAction","none")}),t.addEventListener(e,"touchmove",g=>{if(Oo(g.target)){if(U6(g.target))return;if(s(g.target)){let f=g.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&g.preventDefault()}else g.preventDefault()}},{passive:!1}),t.add(()=>{var g;let f=(g=window.scrollY)!=null?g:window.pageYOffset;l!==f&&window.scrollTo(0,l),d&&d.isConnected&&(d.scrollIntoView({block:"nearest"}),d=null)})})}}:{}}function NF(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function BF(e){let t={};for(let a of e)Object.assign(t,a(t));return t}let Ml=vF(()=>new Map,{PUSH(e,t){var a;let s=(a=this.get(e))!=null?a:{doc:e,count:0,d:Ao(),meta:new Set};return s.count++,s.meta.add(t),this.set(e,s),this},POP(e,t){let a=this.get(e);return a&&(a.count--,a.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:a}){let s={doc:e,d:t,meta:BF(a)},o=[kF(),wF(),NF()];o.forEach(({before:l})=>l==null?void 0:l(s)),o.forEach(({after:l})=>l==null?void 0:l(s))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ml.subscribe(()=>{let e=Ml.getSnapshot(),t=new Map;for(let[a]of e)t.set(a,a.documentElement.style.overflow);for(let a of e.values()){let s=t.get(a.doc)==="hidden",o=a.count!==0;(o&&!s||!o&&s)&&Ml.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),a.count===0&&Ml.dispatch("TEARDOWN",a)}});function CF(e,t,a=()=>({containers:[]})){let s=bF(Ml),o=t?s.get(t):void 0,l=o?o.count>0:!1;return os(()=>{if(!(!t||!e))return Ml.dispatch("PUSH",t,a),()=>Ml.dispatch("POP",t,a)},[e,t]),l}function jF(e,t,a=()=>[document.body]){let s=Iu(e,"scroll-lock");CF(s,t,o=>{var l;return{containers:[...(l=o.containers)!=null?l:[],a]}})}function SF(e=0){let[t,a]=X.useState(e),s=X.useCallback(f=>a(f),[t]),o=X.useCallback(f=>a(m=>m|f),[t]),l=X.useCallback(f=>(t&f)===f,[t]),d=X.useCallback(f=>a(m=>m&~f),[a]),g=X.useCallback(f=>a(m=>m^f),[a]);return{flags:t,setFlag:s,addFlag:o,hasFlag:l,removeFlag:d,toggleFlag:g}}var Sw,Fw;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Sw=process==null?void 0:process.env)==null?void 0:Sw.NODE_ENV)==="test"&&typeof((Fw=Element==null?void 0:Element.prototype)==null?void 0:Fw.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var FF=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(FF||{});function EF(e){let t={};for(let a in e)e[a]===!0&&(t[`data-${a}`]="");return t}function LF(e,t,a,s){let[o,l]=X.useState(a),{hasFlag:d,addFlag:g,removeFlag:f}=SF(e&&o?3:0),m=X.useRef(!1),v=X.useRef(!1),N=rb();return os(()=>{var C;if(e){if(a&&l(!0),!t){a&&g(3);return}return(C=s==null?void 0:s.start)==null||C.call(s,a),IF(t,{inFlight:m,prepare(){v.current?v.current=!1:v.current=m.current,m.current=!0,!v.current&&(a?(g(3),f(4)):(g(4),f(2)))},run(){v.current?a?(f(3),g(4)):(f(4),g(3)):a?f(1):g(1)},done(){var k;v.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(m.current=!1,f(7),a||l(!1),(k=s==null?void 0:s.end)==null||k.call(s,a))}})}},[e,a,t,N]),e?[o,{closed:d(1),enter:d(2),leave:d(4),transition:d(2)||d(4)}]:[a,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function IF(e,{prepare:t,run:a,done:s,inFlight:o}){let l=Ao();return UF(e,{prepare:t,inFlight:o}),l.nextFrame(()=>{a(),l.requestAnimationFrame(()=>{l.add(PF(e,s))})}),l.dispose}function PF(e,t){var a,s;let o=Ao();if(!e)return o.dispose;let l=!1;o.add(()=>{l=!0});let d=(s=(a=e.getAnimations)==null?void 0:a.call(e).filter(g=>g instanceof CSSTransition))!=null?s:[];return d.length===0?(t(),o.dispose):(Promise.allSettled(d.map(g=>g.finished)).then(()=>{l||t()}),o.dispose)}function UF(e,{inFlight:t,prepare:a}){if(t!=null&&t.current){a();return}let s=e.style.transition;e.style.transition="none",a(),e.offsetHeight,e.style.transition=s}function sb(e,t){let a=X.useRef([]),s=Lr(e);X.useEffect(()=>{let o=[...a.current];for(let[l,d]of t.entries())if(a.current[l]!==d){let g=s(t,o);return a.current=t,g}},[s,...t])}let a0=X.createContext(null);a0.displayName="OpenClosedContext";var Kn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Kn||{});function s0(){return X.useContext(a0)}function QF({value:e,children:t}){return Gt.createElement(a0.Provider,{value:e},t)}function DF({children:e}){return Gt.createElement(a0.Provider,{value:null},e)}function TF(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Do=[];TF(()=>{function e(t){if(!Oo(t.target)||t.target===document.body||Do[0]===t.target)return;let a=t.target;a=a.closest(xf),Do.unshift(a??t.target),Do=Do.filter(s=>s!=null&&s.isConnected),Do.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function hB(e){let t=Lr(e),a=X.useRef(!1);X.useEffect(()=>(a.current=!1,()=>{a.current=!0,t0(()=>{a.current&&t()})}),[t])}function RF(){let e=typeof document>"u";return"useSyncExternalStore"in um?(t=>t.useSyncExternalStore)(um)(()=>()=>{},()=>!1,()=>!e):!1}function Pu(){let e=RF(),[t,a]=X.useState(ki.isHandoffComplete);return t&&ki.isHandoffComplete===!1&&a(!1),X.useEffect(()=>{t!==!0&&a(!0)},[t]),X.useEffect(()=>ki.handoff(),[]),e?!1:t}let gB=X.createContext(!1);function MF(){return X.useContext(gB)}function Ew(e){return Gt.createElement(gB.Provider,{value:e.force},e.children)}function HF(e){let t=MF(),a=X.useContext(pB),[s,o]=X.useState(()=>{var l;if(!t&&a!==null)return(l=a.current)!=null?l:null;if(ki.isServer)return null;let d=e==null?void 0:e.getElementById("headlessui-portal-root");if(d)return d;if(e===null)return null;let g=e.createElement("div");return g.setAttribute("id","headlessui-portal-root"),e.body.appendChild(g)});return X.useEffect(()=>{s!==null&&(e!=null&&e.body.contains(s)||e==null||e.body.appendChild(s))},[s,e]),X.useEffect(()=>{t||a!==null&&o(a.current)},[a,o,t]),s}let fB=X.Fragment,OF=Hs(function(e,t){let{ownerDocument:a=null,...s}=e,o=X.useRef(null),l=Ci(Q6(k=>{o.current=k}),t),d=r0(o),g=a??d,f=HF(g),[m]=X.useState(()=>{var k;return ki.isServer?null:(k=g==null?void 0:g.createElement("div"))!=null?k:null}),v=X.useContext(hx),N=Pu();os(()=>{!f||!m||f.contains(m)||(m.setAttribute("data-headlessui-portal",""),f.appendChild(m))},[f,m]),os(()=>{if(m&&v)return v.register(m)},[v,m]),hB(()=>{var k;!f||!m||($N(m)&&f.contains(m)&&f.removeChild(m),f.childNodes.length<=0&&((k=f.parentElement)==null||k.removeChild(f)))});let C=Un();return N?!f||!m?null:jN.createPortal(C({ourProps:{ref:l},theirProps:s,slot:{},defaultTag:fB,name:"Portal"}),m):null});function _F(e,t){let a=Ci(t),{enabled:s=!0,ownerDocument:o,...l}=e,d=Un();return s?Gt.createElement(OF,{...l,ownerDocument:o,ref:a}):d({ourProps:{ref:a},theirProps:l,slot:{},defaultTag:fB,name:"Portal"})}let zF=X.Fragment,pB=X.createContext(null);function VF(e,t){let{target:a,...s}=e,o={ref:Ci(t)},l=Un();return Gt.createElement(pB.Provider,{value:a},l({ourProps:o,theirProps:s,defaultTag:zF,name:"Popover.Group"}))}let hx=X.createContext(null);function GF(){let e=X.useContext(hx),t=X.useRef([]),a=Lr(l=>(t.current.push(l),e&&e.register(l),()=>s(l))),s=Lr(l=>{let d=t.current.indexOf(l);d!==-1&&t.current.splice(d,1),e&&e.unregister(l)}),o=X.useMemo(()=>({register:a,unregister:s,portals:t}),[a,s,t]);return[t,X.useMemo(()=>function({children:l}){return Gt.createElement(hx.Provider,{value:o},l)},[o])]}let qF=Hs(_F),mB=Hs(VF),XF=Object.assign(qF,{Group:mB});function KF(e,t=typeof document<"u"?document.defaultView:null,a){let s=Iu(e,"escape");uB(t,"keydown",o=>{s&&(o.defaultPrevented||o.key===eB.Escape&&a(o))})}function WF(){var e;let[t]=X.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[a,s]=X.useState((e=t==null?void 0:t.matches)!=null?e:!1);return os(()=>{if(!t)return;function o(l){s(l.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),a}function YF({defaultContainers:e=[],portals:t,mainTreeNode:a}={}){let s=r0(a),o=Lr(()=>{var l,d;let g=[];for(let f of e)f!==null&&(al(f)?g.push(f):"current"in f&&al(f.current)&&g.push(f.current));if(t!=null&&t.current)for(let f of t.current)g.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&al(f)&&f.id!=="headlessui-portal-root"&&(a&&(f.contains(a)||f.contains((d=a==null?void 0:a.getRootNode())==null?void 0:d.host))||g.some(m=>f.contains(m))||g.push(f));return g});return{resolveContainers:o,contains:Lr(l=>o().some(d=>d.contains(l)))}}let xB=X.createContext(null);function Lw({children:e,node:t}){let[a,s]=X.useState(null),o=yB(t??a);return Gt.createElement(xB.Provider,{value:o},e,o===null&&Gt.createElement(Ax,{features:mf.Hidden,ref:l=>{var d,g;if(l){for(let f of(g=(d=e0(l))==null?void 0:d.querySelectorAll("html > *, body > *"))!=null?g:[])if(f!==document.body&&f!==document.head&&al(f)&&f!=null&&f.contains(l)){s(f);break}}}}))}function yB(e=null){var t;return(t=X.useContext(xB))!=null?t:e}function nb(){let e=X.useRef(!1);return os(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ed=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ed||{});function $F(){let e=X.useRef(0);return dB(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function bB(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let a of e.current)al(a.current)&&t.add(a.current);return t}let JF="div";var Pl=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Pl||{});function ZF(e,t){let a=X.useRef(null),s=Ci(a,t),{initialFocus:o,initialFocusFallback:l,containers:d,features:g=15,...f}=e;Pu()||(g=0);let m=r0(a);aE(g,{ownerDocument:m});let v=sE(g,{ownerDocument:m,container:a,initialFocus:o,initialFocusFallback:l});nE(g,{ownerDocument:m,container:a,containers:d,previousActiveElement:v});let N=$F(),C=Lr(I=>{if(!sc(a.current))return;let T=a.current;(q=>q())(()=>{no(N.current,{[Ed.Forwards]:()=>{Kd(T,Ki.First,{skipElements:[I.relatedTarget,l]})},[Ed.Backwards]:()=>{Kd(T,Ki.Last,{skipElements:[I.relatedTarget,l]})}})})}),k=Iu(!!(g&2),"focus-trap#tab-lock"),U=rb(),F=X.useRef(!1),O={ref:s,onKeyDown(I){I.key=="Tab"&&(F.current=!0,U.requestAnimationFrame(()=>{F.current=!1}))},onBlur(I){if(!(g&4))return;let T=bB(d);sc(a.current)&&T.add(a.current);let q=I.relatedTarget;Oo(q)&&q.dataset.headlessuiFocusGuard!=="true"&&(vB(T,q)||(F.current?Kd(a.current,no(N.current,{[Ed.Forwards]:()=>Ki.Next,[Ed.Backwards]:()=>Ki.Previous})|Ki.WrapAround,{relativeTo:I.target}):Oo(I.target)&&Zi(I.target)))}},L=Un();return Gt.createElement(Gt.Fragment,null,k&&Gt.createElement(Ax,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:C,features:mf.Focusable}),L({ourProps:O,theirProps:f,defaultTag:JF,name:"FocusTrap"}),k&&Gt.createElement(Ax,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:C,features:mf.Focusable}))}let eE=Hs(ZF),tE=Object.assign(eE,{features:Pl});function rE(e=!0){let t=X.useRef(Do.slice());return sb(([a],[s])=>{s===!0&&a===!1&&t0(()=>{t.current.splice(0)}),s===!1&&a===!0&&(t.current=Do.slice())},[e,Do,t]),Lr(()=>{var a;return(a=t.current.find(s=>s!=null&&s.isConnected))!=null?a:null})}function aE(e,{ownerDocument:t}){let a=!!(e&8),s=rE(a);sb(()=>{a||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Zi(s())},[a]),hB(()=>{a&&Zi(s())})}function sE(e,{ownerDocument:t,container:a,initialFocus:s,initialFocusFallback:o}){let l=X.useRef(null),d=Iu(!!(e&1),"focus-trap#initial-focus"),g=nb();return sb(()=>{if(e===0)return;if(!d){o!=null&&o.current&&Zi(o.current);return}let f=a.current;f&&t0(()=>{if(!g.current)return;let m=t==null?void 0:t.activeElement;if(s!=null&&s.current){if((s==null?void 0:s.current)===m){l.current=m;return}}else if(f.contains(m)){l.current=m;return}if(s!=null&&s.current)Zi(s.current);else{if(e&16){if(Kd(f,Ki.First|Ki.AutoFocus)!==ux.Error)return}else if(Kd(f,Ki.First)!==ux.Error)return;if(o!=null&&o.current&&(Zi(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t==null?void 0:t.activeElement})},[o,d,e]),l}function nE(e,{ownerDocument:t,container:a,containers:s,previousActiveElement:o}){let l=nb(),d=!!(e&4);uB(t==null?void 0:t.defaultView,"focus",g=>{if(!d||!l.current)return;let f=bB(s);sc(a.current)&&f.add(a.current);let m=o.current;if(!m)return;let v=g.target;sc(v)?vB(f,v)?(o.current=v,Zi(v)):(g.preventDefault(),g.stopPropagation(),Zi(m)):Zi(o.current)},!0)}function vB(e,t){for(let a of e)if(a.contains(t))return!0;return!1}function wB(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:NB)!==X.Fragment||Gt.Children.count(e.children)===1}let n0=X.createContext(null);n0.displayName="TransitionContext";var iE=(e=>(e.Visible="visible",e.Hidden="hidden",e))(iE||{});function oE(){let e=X.useContext(n0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function lE(){let e=X.useContext(i0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let i0=X.createContext(null);i0.displayName="NestingContext";function o0(e){return"children"in e?o0(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function kB(e,t){let a=Ac(e),s=X.useRef([]),o=nb(),l=rb(),d=Lr((k,U=Ho.Hidden)=>{let F=s.current.findIndex(({el:O})=>O===k);F!==-1&&(no(U,{[Ho.Unmount](){s.current.splice(F,1)},[Ho.Hidden](){s.current[F].state="hidden"}}),l.microTask(()=>{var O;!o0(s)&&o.current&&((O=a.current)==null||O.call(a))}))}),g=Lr(k=>{let U=s.current.find(({el:F})=>F===k);return U?U.state!=="visible"&&(U.state="visible"):s.current.push({el:k,state:"visible"}),()=>d(k,Ho.Unmount)}),f=X.useRef([]),m=X.useRef(Promise.resolve()),v=X.useRef({enter:[],leave:[]}),N=Lr((k,U,F)=>{f.current.splice(0),t&&(t.chains.current[U]=t.chains.current[U].filter(([O])=>O!==k)),t==null||t.chains.current[U].push([k,new Promise(O=>{f.current.push(O)})]),t==null||t.chains.current[U].push([k,new Promise(O=>{Promise.all(v.current[U].map(([L,I])=>I)).then(()=>O())})]),U==="enter"?m.current=m.current.then(()=>t==null?void 0:t.wait.current).then(()=>F(U)):F(U)}),C=Lr((k,U,F)=>{Promise.all(v.current[U].splice(0).map(([O,L])=>L)).then(()=>{var O;(O=f.current.shift())==null||O()}).then(()=>F(U))});return X.useMemo(()=>({children:s,register:g,unregister:d,onStart:N,onStop:C,wait:m,chains:v}),[g,d,s,N,C,v,m])}let NB=X.Fragment,BB=pf.RenderStrategy;function cE(e,t){var a,s;let{transition:o=!0,beforeEnter:l,afterEnter:d,beforeLeave:g,afterLeave:f,enter:m,enterFrom:v,enterTo:N,entered:C,leave:k,leaveFrom:U,leaveTo:F,...O}=e,[L,I]=X.useState(null),T=X.useRef(null),q=wB(e),M=Ci(...q?[T,t,I]:t===null?[]:[t]),re=(a=O.unmount)==null||a?Ho.Unmount:Ho.Hidden,{show:G,appear:V,initial:ue}=oE(),[ne,$]=X.useState(G?"visible":"hidden"),J=lE(),{register:oe,unregister:le}=J;os(()=>oe(T),[oe,T]),os(()=>{if(re===Ho.Hidden&&T.current){if(G&&ne!=="visible"){$("visible");return}return no(ne,{hidden:()=>le(T),visible:()=>oe(T)})}},[ne,T,oe,le,G,re]);let ie=Pu();os(()=>{if(q&&ie&&ne==="visible"&&T.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[T,ne,ie,q]);let Y=ue&&!V,we=V&&G&&ue,fe=X.useRef(!1),je=kB(()=>{fe.current||($("hidden"),le(T))},J),Pe=Lr(Ie=>{fe.current=!0;let ke=Ie?"enter":"leave";je.onStart(T,ke,Qe=>{Qe==="enter"?l==null||l():Qe==="leave"&&(g==null||g())})}),Ve=Lr(Ie=>{let ke=Ie?"enter":"leave";fe.current=!1,je.onStop(T,ke,Qe=>{Qe==="enter"?d==null||d():Qe==="leave"&&(f==null||f())}),ke==="leave"&&!o0(je)&&($("hidden"),le(T))});X.useEffect(()=>{q&&o||(Pe(G),Ve(G))},[G,q,o]);let de=(()=>!(!o||!q||!ie||Y))(),[,he]=LF(de,L,G,{start:Pe,end:Ve}),Ne=Ll({ref:M,className:((s=cx(O.className,we&&m,we&&v,he.enter&&m,he.enter&&he.closed&&v,he.enter&&!he.closed&&N,he.leave&&k,he.leave&&!he.closed&&U,he.leave&&he.closed&&F,!he.transition&&G&&C))==null?void 0:s.trim())||void 0,...EF(he)}),Ee=0;ne==="visible"&&(Ee|=Kn.Open),ne==="hidden"&&(Ee|=Kn.Closed),G&&ne==="hidden"&&(Ee|=Kn.Opening),!G&&ne==="visible"&&(Ee|=Kn.Closing);let Se=Un();return Gt.createElement(i0.Provider,{value:je},Gt.createElement(QF,{value:Ee},Se({ourProps:Ne,theirProps:O,defaultTag:NB,features:BB,visible:ne==="visible",name:"Transition.Child"})))}function AE(e,t){let{show:a,appear:s=!1,unmount:o=!0,...l}=e,d=X.useRef(null),g=wB(e),f=Ci(...g?[d,t]:t===null?[]:[t]);Pu();let m=s0();if(a===void 0&&m!==null&&(a=(m&Kn.Open)===Kn.Open),a===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,N]=X.useState(a?"visible":"hidden"),C=kB(()=>{a||N("hidden")}),[k,U]=X.useState(!0),F=X.useRef([a]);os(()=>{k!==!1&&F.current[F.current.length-1]!==a&&(F.current.push(a),U(!1))},[F,a]);let O=X.useMemo(()=>({show:a,appear:s,initial:k}),[a,s,k]);os(()=>{a?N("visible"):!o0(C)&&d.current!==null&&N("hidden")},[a,C]);let L={unmount:o},I=Lr(()=>{var M;k&&U(!1),(M=e.beforeEnter)==null||M.call(e)}),T=Lr(()=>{var M;k&&U(!1),(M=e.beforeLeave)==null||M.call(e)}),q=Un();return Gt.createElement(i0.Provider,{value:C},Gt.createElement(n0.Provider,{value:O},q({ourProps:{...L,as:X.Fragment,children:Gt.createElement(CB,{ref:f,...L,...l,beforeEnter:I,beforeLeave:T})},theirProps:{},defaultTag:X.Fragment,features:BB,visible:v==="visible",name:"Transition"})))}function dE(e,t){let a=X.useContext(n0)!==null,s=s0()!==null;return Gt.createElement(Gt.Fragment,null,!a&&s?Gt.createElement(gx,{ref:t,...e}):Gt.createElement(CB,{ref:t,...e}))}let gx=Hs(AE),CB=Hs(cE),ib=Hs(dE),Ng=Object.assign(gx,{Child:ib,Root:gx});var uE=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(uE||{}),hE=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(hE||{});let gE={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},ob=X.createContext(null);ob.displayName="DialogContext";function l0(e){let t=X.useContext(ob);if(t===null){let a=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,l0),a}return t}function fE(e,t){return no(t.type,gE,e,t)}let Iw=Hs(function(e,t){let a=X.useId(),{id:s=`headlessui-dialog-${a}`,open:o,onClose:l,initialFocus:d,role:g="dialog",autoFocus:f=!0,__demoMode:m=!1,unmount:v=!1,...N}=e,C=X.useRef(!1);g=function(){return g==="dialog"||g==="alertdialog"?g:(C.current||(C.current=!0,console.warn(`Invalid role [${g}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let k=s0();o===void 0&&k!==null&&(o=(k&Kn.Open)===Kn.Open);let U=X.useRef(null),F=Ci(U,t),O=r0(U),L=o?0:1,[I,T]=X.useReducer(fE,{titleId:null,descriptionId:null,panelRef:X.createRef()}),q=Lr(()=>l(!1)),M=Lr(he=>T({type:0,id:he})),re=Pu()?L===0:!1,[G,V]=GF(),ue={get current(){var he;return(he=I.panelRef.current)!=null?he:U.current}},ne=yB(),{resolveContainers:$}=YF({mainTreeNode:ne,portals:G,defaultContainers:[ue]}),J=k!==null?(k&Kn.Closing)===Kn.Closing:!1;oF(m||J?!1:re,{allowed:Lr(()=>{var he,Ne;return[(Ne=(he=U.current)==null?void 0:he.closest("[data-headlessui-portal]"))!=null?Ne:null]}),disallowed:Lr(()=>{var he;return[(he=ne==null?void 0:ne.closest("body > *:not(#headlessui-portal-root)"))!=null?he:null]})});let oe=nB.get(null);os(()=>{if(re)return oe.actions.push(s),()=>oe.actions.pop(s)},[oe,s,re]);let le=lB(oe,X.useCallback(he=>oe.selectors.isTop(he,s),[oe,s]));yF(le,$,he=>{he.preventDefault(),q()}),KF(le,O==null?void 0:O.defaultView,he=>{he.preventDefault(),he.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),q()}),jF(m||J?!1:re,O,$),lF(re,U,q);let[ie,Y]=D6(),we=X.useMemo(()=>[{dialogState:L,close:q,setTitleId:M,unmount:v},I],[L,I,q,M,v]),fe=X.useMemo(()=>({open:L===0}),[L]),je={ref:F,id:s,role:g,tabIndex:-1,"aria-modal":m?void 0:L===0?!0:void 0,"aria-labelledby":I.titleId,"aria-describedby":ie,unmount:v},Pe=!WF(),Ve=Pl.None;re&&!m&&(Ve|=Pl.RestoreFocus,Ve|=Pl.TabLock,f&&(Ve|=Pl.AutoFocus),Pe&&(Ve|=Pl.InitialFocus));let de=Un();return Gt.createElement(DF,null,Gt.createElement(Ew,{force:!0},Gt.createElement(XF,null,Gt.createElement(ob.Provider,{value:we},Gt.createElement(mB,{target:U},Gt.createElement(Ew,{force:!1},Gt.createElement(Y,{slot:fe},Gt.createElement(V,null,Gt.createElement(tE,{initialFocus:d,initialFocusFallback:U,containers:$,features:Ve},Gt.createElement(_6,{value:q},de({ourProps:je,theirProps:N,slot:fe,defaultTag:pE,features:mE,visible:L===0,name:"Dialog"})))))))))))}),pE="div",mE=pf.RenderStrategy|pf.Static;function xE(e,t){let{transition:a=!1,open:s,...o}=e,l=s0(),d=e.hasOwnProperty("open")||l!==null,g=e.hasOwnProperty("onClose");if(!d&&!g)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!d)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!g)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(s!==void 0||a)&&!o.static?Gt.createElement(Lw,null,Gt.createElement(Ng,{show:s,transition:a,unmount:o.unmount},Gt.createElement(Iw,{ref:t,...o}))):Gt.createElement(Lw,null,Gt.createElement(Iw,{ref:t,open:s,...o}))}let yE="div";function bE(e,t){let a=X.useId(),{id:s=`headlessui-dialog-panel-${a}`,transition:o=!1,...l}=e,[{dialogState:d,unmount:g},f]=l0("Dialog.Panel"),m=Ci(t,f.panelRef),v=X.useMemo(()=>({open:d===0}),[d]),N=Lr(O=>{O.stopPropagation()}),C={ref:m,id:s,onClick:N},k=o?ib:X.Fragment,U=o?{unmount:g}:{},F=Un();return Gt.createElement(k,{...U},F({ourProps:C,theirProps:l,slot:v,defaultTag:yE,name:"Dialog.Panel"}))}let vE="div";function wE(e,t){let{transition:a=!1,...s}=e,[{dialogState:o,unmount:l}]=l0("Dialog.Backdrop"),d=X.useMemo(()=>({open:o===0}),[o]),g={ref:t,"aria-hidden":!0},f=a?ib:X.Fragment,m=a?{unmount:l}:{},v=Un();return Gt.createElement(f,{...m},v({ourProps:g,theirProps:s,slot:d,defaultTag:vE,name:"Dialog.Backdrop"}))}let kE="h2";function NE(e,t){let a=X.useId(),{id:s=`headlessui-dialog-title-${a}`,...o}=e,[{dialogState:l,setTitleId:d}]=l0("Dialog.Title"),g=Ci(t);X.useEffect(()=>(d(s),()=>d(null)),[s,d]);let f=X.useMemo(()=>({open:l===0}),[l]),m={ref:g,id:s};return Un()({ourProps:m,theirProps:o,slot:f,defaultTag:kE,name:"Dialog.Title"})}let BE=Hs(xE),CE=Hs(bE);Hs(wE);let jE=Hs(NE),Ip=Object.assign(BE,{Panel:CE,Title:jE,Description:H6});const fx=({isOpen:e,onClose:t,onConfirm:a,title:s,message:o,confirmText:l="Confirm",cancelText:d="Cancel",type:g="warning",loading:f=!1})=>{const v=(()=>{switch(g){case"danger":return{icon:r.jsx(Ir,{className:"w-6 h-6 text-red-600"}),iconBg:"bg-red-100",confirmButton:"bg-red-600 hover:bg-red-700 focus:ring-red-500"};case"warning":return{icon:r.jsx(Ir,{className:"w-6 h-6 text-yellow-600"}),iconBg:"bg-yellow-100",confirmButton:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"};case"info":return{icon:r.jsx(zN,{className:"w-6 h-6 text-blue-600"}),iconBg:"bg-blue-100",confirmButton:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"};case"success":return{icon:r.jsx(Pr,{className:"w-6 h-6 text-green-600"}),iconBg:"bg-green-100",confirmButton:"bg-green-600 hover:bg-green-700 focus:ring-green-500"};default:return{icon:r.jsx(Ir,{className:"w-6 h-6 text-yellow-600"}),iconBg:"bg-yellow-100",confirmButton:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"}}})();return r.jsx(Ng,{appear:!0,show:e,as:X.Fragment,children:r.jsxs(Ip,{as:"div",className:"relative z-50",onClose:t,children:[r.jsx(Ng.Child,{as:X.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm"})}),r.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:r.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:r.jsx(Ng.Child,{as:X.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:r.jsxs(Ip.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-6 text-left align-middle shadow-xl transition-all",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:`mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${v.iconBg} sm:mx-0 sm:h-10 sm:w-10`,children:v.icon}),r.jsxs("div",{className:"ml-4 flex-1",children:[r.jsx(Ip.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",children:s}),r.jsx("div",{className:"mt-2",children:r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o})})]}),r.jsx("button",{type:"button",className:"ml-4 rounded-md text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500",onClick:t,children:r.jsx(er,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",onClick:t,disabled:f,children:d}),r.jsx("button",{type:"button",className:`inline-flex justify-center rounded-md px-4 py-2 text-sm font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${v.confirmButton}`,onClick:a,disabled:f,children:f?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):l})]})]})})})})]})})},jB=()=>{const{language:e}=qt(),t=X.useRef(null),[a,s]=X.useState([]),[o,l]=X.useState(null),[d,g]=X.useState(null),[f,m]=X.useState(null),[v,N]=X.useState(!1),[C,k]=X.useState(0),[U,F]=X.useState(!1),[O,L]=X.useState(!1),[I,T]=X.useState(""),[q,M]=X.useState(""),[re,G]=X.useState(""),[V,ue]=X.useState(!1),[ne,$]=X.useState(!1),[J,oe]=X.useState(null),[le,ie]=X.useState(!1),Y={fr:{title:"Sauvegarde et Restauration",subtitle:"Gérez vos sauvegardes système",createBackup:"Créer Sauvegarde",uploadBackup:"Importer Sauvegarde",settings:"Paramètres",refresh:"Actualiser",noBackups:"Aucune sauvegarde disponible",date:"Date",size:"Taille",status:"Statut",type:"Type",actions:"Actions",download:"Télécharger",restore:"Restaurer",delete:"Supprimer",manual:"Manuel",automatic:"Automatique",completed:"Terminé",failed:"Échoué",pending:"En attente",inProgress:"En cours",creating:"Création...",uploading:"Téléchargement...",restoring:"Restauration...",deleting:"Suppression...",description:"Description",descriptionPlaceholder:"Description de la sauvegarde (optionnel)",create:"Créer",cancel:"Annuler",close:"Fermer",save:"Enregistrer",backupStats:"Statistiques des Sauvegardes",totalBackups:"Total Sauvegardes",totalSize:"Taille Totale",lastBackup:"Dernière Sauvegarde",averageSize:"Taille Moyenne",daysSince:"jours depuis",never:"Jamais",backupSettings:"Paramètres de Sauvegarde",autoBackup:"Sauvegarde Automatique",frequency:"Fréquence",retention:"Rétention (jours)",includeFiles:"Inclure les Fichiers",compression:"Compression",encryption:"Chiffrement",daily:"Quotidien",weekly:"Hebdomadaire",monthly:"Mensuel",confirmDelete:"Êtes-vous sûr de vouloir supprimer cette sauvegarde?",confirmRestore:"Êtes-vous sûr de vouloir restaurer cette sauvegarde? Cette action remplacera toutes les données actuelles.",uploadSuccess:"Sauvegarde importée avec succès",createSuccess:"Sauvegarde créée avec succès",restoreSuccess:"Restauration terminée avec succès",deleteSuccess:"Sauvegarde supprimée avec succès",settingsSuccess:"Paramètres sauvegardés avec succès",selectFile:"Sélectionner un fichier de sauvegarde",dragDrop:"Glissez-déposez un fichier de sauvegarde ici",fileFormats:"Formats supportés: .backup, .json",maxSize:"Taille max: 500MB",validating:"Validation du fichier...",invalidFile:"Fichier de sauvegarde invalide",reminder:"Rappel de Sauvegarde",reminderMessage:"Il y a {days} jours depuis votre dernière sauvegarde. Considérez créer une sauvegarde pour protéger vos données.",cronJobStatus:"Statut du Job Automatique",jobActive:"Actif",jobInactive:"Inactif",nextBackup:"Prochaine Sauvegarde",cronJobInfo:"Informations du Job Cron",saving:"Sauvegarde..."},en:{title:"Backup & Restore",subtitle:"Manage your system backups",createBackup:"Create Backup",uploadBackup:"Import Backup",settings:"Settings",refresh:"Refresh",noBackups:"No backups available",date:"Date",size:"Size",status:"Status",type:"Type",actions:"Actions",download:"Download",restore:"Restore",delete:"Delete",manual:"Manual",automatic:"Automatic",completed:"Completed",failed:"Failed",pending:"Pending",inProgress:"In Progress",creating:"Creating...",uploading:"Uploading...",restoring:"Restoring...",deleting:"Deleting...",description:"Description",descriptionPlaceholder:"Backup description (optional)",create:"Create",cancel:"Cancel",close:"Close",save:"Save",backupStats:"Backup Statistics",totalBackups:"Total Backups",totalSize:"Total Size",lastBackup:"Last Backup",averageSize:"Average Size",daysSince:"days since",never:"Never",backupSettings:"Backup Settings",autoBackup:"Auto Backup",frequency:"Frequency",retention:"Retention (days)",includeFiles:"Include Files",compression:"Compression",encryption:"Encryption",daily:"Daily",weekly:"Weekly",monthly:"Monthly",confirmDelete:"Are you sure you want to delete this backup?",confirmRestore:"Are you sure you want to restore this backup? This will replace all current data.",uploadSuccess:"Backup imported successfully",createSuccess:"Backup created successfully",restoreSuccess:"Restore completed successfully",deleteSuccess:"Backup deleted successfully",settingsSuccess:"Settings saved successfully",selectFile:"Select backup file",dragDrop:"Drag and drop a backup file here",fileFormats:"Supported formats: .backup, .json",maxSize:"Max size: 500MB",validating:"Validating file...",invalidFile:"Invalid backup file",reminder:"Backup Reminder",reminderMessage:"It has been {days} days since your last backup. Consider creating a backup to protect your data.",cronJobStatus:"Automatic Job Status",jobActive:"Active",jobInactive:"Inactive",nextBackup:"Next Backup",cronJobInfo:"Cron Job Information",saving:"Saving..."}}[e];X.useEffect(()=>{we()},[]);const we=async()=>{try{const[ke,Qe,Ke,tt]=await Promise.all([ts.getBackups(),ts.getBackupStats(),ts.getBackupSettings(),ts.getJobStatus()]);s(ke),l(Qe),g(Ke),m(tt)}catch(ke){console.error("Error loading backup data:",ke),T("Failed to load backup data")}},fe=async()=>{N(!0),T("");try{await ts.createBackup(re),M(Y.createSuccess),L(!1),G(""),await we(),setTimeout(()=>M(""),3e3)}catch(ke){T(ke.message||"Failed to create backup")}finally{N(!1)}},je=async ke=>{N(!0),T(""),k(0);try{const Qe=await ts.validateBackupFile(ke);if(!Qe.valid)throw new Error(Qe.error);await ts.uploadBackup(ke,Ke=>{k(Ke)}),M(Y.uploadSuccess),await we(),setTimeout(()=>M(""),3e3)}catch(Qe){T(Qe.message||"Failed to upload backup")}finally{N(!1),k(0)}},Pe=async ke=>{try{const Qe=await ts.downloadBackup(ke.id),Ke=window.URL.createObjectURL(Qe),tt=document.createElement("a");tt.href=Ke,tt.download=ke.filename,document.body.appendChild(tt),tt.click(),window.URL.revokeObjectURL(Ke),document.body.removeChild(tt)}catch(Qe){T(Qe.message||"Failed to download backup")}},Ve=ke=>{oe(ke),$(!0)},de=async()=>{if(J){ie(!0),T("");try{const ke=await ts.restoreBackup(J.id);if(ke.success)M(Y.restoreSuccess),$(!1),oe(null),setTimeout(()=>M(""),3e3);else throw new Error(ke.message)}catch(ke){T(ke.message||"Failed to restore backup")}finally{ie(!1)}}},he=ke=>{oe(ke),ue(!0)},Ne=async()=>{if(J){ie(!0);try{await ts.deleteBackup(J.id),M(Y.deleteSuccess),ue(!1),oe(null),await we(),setTimeout(()=>M(""),3e3)}catch(ke){T(ke.message||"Failed to delete backup")}finally{ie(!1)}}},Ee=async()=>{if(d){N(!0),T("");try{await ts.updateBackupSettings(d),M(Y.settingsSuccess),F(!1),await we(),setTimeout(()=>M(""),3e3)}catch(ke){T(ke.message||"Failed to save settings")}finally{N(!1)}}},Se=ke=>{switch(ke){case"COMPLETED":return"bg-green-100 text-green-800";case"FAILED":return"bg-red-100 text-red-800";case"IN_PROGRESS":return"bg-blue-100 text-blue-800";case"PENDING":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Ie=ke=>{switch(ke){case"COMPLETED":return r.jsx(Pr,{size:16,className:"text-green-600"});case"FAILED":return r.jsx(Ir,{size:16,className:"text-red-600"});case"IN_PROGRESS":return r.jsx(an,{size:16,className:"text-blue-600 animate-spin"});case"PENDING":return r.jsx(ms,{size:16,className:"text-yellow-600"});default:return r.jsx(zN,{size:16,className:"text-gray-600"})}};return r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:Y.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:Y.subtitle})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>L(!0),disabled:v,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[r.jsx(ha,{size:20,className:"mr-2"}),Y.createBackup]}),r.jsxs("button",{onClick:()=>{var ke;return(ke=t.current)==null?void 0:ke.click()},disabled:v,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[r.jsx(ff,{size:20,className:"mr-2"}),Y.uploadBackup]}),r.jsxs("button",{onClick:()=>F(!0),className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:[r.jsx($n,{size:20,className:"mr-2"}),Y.settings]}),r.jsxs("button",{onClick:we,disabled:v,className:"flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:[r.jsx(an,{size:20,className:`mr-2 ${v?"animate-spin":""}`}),Y.refresh]})]})]}),I&&r.jsxs("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center",children:[r.jsx(Ir,{size:20,className:"mr-2"}),I,r.jsx("button",{onClick:()=>T(""),className:"ml-auto",children:r.jsx(er,{size:16})})]}),q&&r.jsxs("div",{className:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg flex items-center",children:[r.jsx(Pr,{size:20,className:"mr-2"}),q,r.jsx("button",{onClick:()=>M(""),className:"ml-auto",children:r.jsx(er,{size:16})})]}),C>0&&C<100&&r.jsxs("div",{className:"mb-4 p-4 bg-blue-100 border border-blue-400 text-blue-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{children:Y.uploading}),r.jsxs("span",{children:[Math.round(C),"%"]})]}),r.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${C}%`}})})]})]}),o&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(bs,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:Y.totalBackups}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.totalBackups})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ON,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:Y.totalSize}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ts.formatSize(o.totalSize)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(on,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:Y.lastBackup}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.lastBackupDate?ts.formatBackupAge(o.lastBackupDate):Y.never}),o.daysSinceLastBackup>0&&r.jsxs("p",{className:"text-sm text-gray-500",children:[o.daysSinceLastBackup," ",Y.daysSince]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ea,{className:"h-8 w-8 text-orange-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:Y.averageSize}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ts.formatSize(o.averageSize)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx($n,{className:"h-8 w-8 text-indigo-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:Y.cronJobStatus}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f!=null&&f.backupJobActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f!=null&&f.backupJobActive?Y.jobActive:Y.jobInactive})}),(f==null?void 0:f.nextScheduledBackup)&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Y.nextBackup,": ",new Date(f.nextScheduledBackup).toLocaleString()]})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:Y.title})}),a.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(bs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:Y.noBackups})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:Y.date}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:Y.size}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:Y.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:Y.type}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:Y.description}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:Y.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map(ke=>{var Qe;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(ke.date).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ts.formatSize(ke.size)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[Ie(ke.status),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${Se(ke.status)}`,children:Y[ke.status.toLowerCase()]||ke.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Y[(Qe=ke.type)==null?void 0:Qe.toLowerCase()]||ke.type}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate",children:ke.description||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[ke.status==="COMPLETED"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>Pe(ke),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:Y.download,children:r.jsx(Bi,{size:16})}),r.jsx("button",{onClick:()=>Ve(ke),disabled:v,className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 disabled:opacity-50",title:Y.restore,children:r.jsx(an,{size:16})})]}),r.jsx("button",{onClick:()=>he(ke),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:Y.delete,children:r.jsx(ei,{size:16})})]})})]},ke.id)})})]})})]}),r.jsx("input",{ref:t,type:"file",accept:".backup,.json",onChange:ke=>{var Ke;const Qe=(Ke=ke.target.files)==null?void 0:Ke[0];Qe&&je(Qe)},className:"hidden"}),O&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Y.createBackup}),r.jsx("button",{onClick:()=>L(!1),children:r.jsx(er,{size:20,className:"text-gray-500"})})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Y.description}),r.jsx("textarea",{value:re,onChange:ke=>G(ke.target.value),placeholder:Y.descriptionPlaceholder,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]})}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:Y.cancel}),r.jsx("button",{onClick:fe,disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:v?Y.creating:Y.create})]})]})}),U&&d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Y.backupSettings}),r.jsx("button",{onClick:()=>F(!1),children:r.jsx(er,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Y.autoBackup}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enable automatic backups"})]}),r.jsx("input",{type:"checkbox",checked:d.autoBackupEnabled,onChange:ke=>g({...d,autoBackupEnabled:ke.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Y.frequency}),r.jsxs("select",{value:d.backupFrequency,onChange:ke=>g({...d,backupFrequency:ke.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"DAILY",children:Y.daily}),r.jsx("option",{value:"WEEKLY",children:Y.weekly}),r.jsx("option",{value:"MONTHLY",children:Y.monthly})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Y.retention}),r.jsx("input",{type:"number",value:d.retentionDays,onChange:ke=>g({...d,retentionDays:parseInt(ke.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",min:"1",max:"365"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Y.includeFiles}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Include uploaded files in backup"})]}),r.jsx("input",{type:"checkbox",checked:d.includeFiles,onChange:ke=>g({...d,includeFiles:ke.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Y.compression}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Compress backup files"})]}),r.jsx("input",{type:"checkbox",checked:d.compressionEnabled,onChange:ke=>g({...d,compressionEnabled:ke.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Y.encryption}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Encrypt backup files"})]}),r.jsx("input",{type:"checkbox",checked:d.encryptionEnabled,onChange:ke=>g({...d,encryptionEnabled:ke.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]}),d.autoBackupEnabled&&f&&r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:Y.cronJobInfo}),r.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[r.jsxs("p",{children:["Status: ",f.backupJobActive?Y.jobActive:Y.jobInactive]}),f.nextScheduledBackup&&r.jsxs("p",{children:[Y.nextBackup,": ",new Date(f.nextScheduledBackup).toLocaleString()]}),r.jsxs("p",{children:["Frequency: ",d.backupFrequency]}),r.jsxs("p",{children:["Retention: ",d.retentionDays," days"]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>F(!1),disabled:v,className:"px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50",children:Y.cancel}),r.jsxs("button",{onClick:Ee,disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:[v&&r.jsx(an,{size:16,className:"mr-2 animate-spin"}),v?Y.saving:Y.save]})]})]})}),r.jsx(fx,{isOpen:V,onClose:()=>{ue(!1),oe(null)},onConfirm:Ne,title:e==="fr"?"Supprimer la sauvegarde":"Delete Backup",message:Y.confirmDelete,confirmText:Y.delete,cancelText:Y.cancel,type:"danger",loading:le}),r.jsx(fx,{isOpen:ne,onClose:()=>{$(!1),oe(null)},onConfirm:de,title:e==="fr"?"Restaurer la sauvegarde":"Restore Backup",message:Y.confirmRestore,confirmText:Y.restore,cancelText:Y.cancel,type:"warning",loading:le})]})},SE={id:"backup-manager",name:{fr:"Gestionnaire de Sauvegarde",en:"Backup Manager"},description:{fr:"Système complet de sauvegarde et restauration avec rappels automatiques et gestion des paramètres",en:"Complete backup and restore system with automatic reminders and settings management"},version:"1.0.0",category:"system",icon:bs,color:"bg-blue-600",features:{fr:["Création de sauvegardes manuelles et automatiques","Import/Export de fichiers de sauvegarde","Restauration complète du système","Rappels intelligents sur le tableau de bord","Statistiques et monitoring des sauvegardes","Configuration des paramètres de rétention","Validation et compression des fichiers","Suivi de progression en temps réel"],en:["Manual and automatic backup creation","Import/Export backup files","Complete system restoration","Smart dashboard reminders","Backup statistics and monitoring","Retention settings configuration","File validation and compression","Real-time progress tracking"]},permissions:["ADMIN"],routes:[{path:"/backup",component:jB,name:{fr:"Sauvegarde et Restauration",en:"Backup & Restore"}}],menuItems:[{name:{fr:"Sauvegardes",en:"Backups"},path:"/backup",icon:bs,permissions:["ADMIN"]}],dashboardWidgets:[{id:"backup-stats",name:{fr:"Statistiques de Sauvegarde",en:"Backup Statistics"},component:({language:e})=>{const t={fr:{title:"Statistiques de Sauvegarde",totalBackups:"Total Sauvegardes",lastBackup:"Dernière Sauvegarde",totalSize:"Taille Totale",status:"Statut Système"},en:{title:"Backup Statistics",totalBackups:"Total Backups",lastBackup:"Last Backup",totalSize:"Total Size",status:"System Status"}}[e];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),r.jsx(bs,{className:"h-6 w-6 text-blue-600"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"5"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.totalBackups})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:"2d"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.lastBackup})]})]})]})},size:"small",permissions:["ADMIN"]}],quickActions:[{name:{fr:"Créer Sauvegarde",en:"Create Backup"},icon:Bi,action:"create-backup",color:"bg-blue-600",permissions:["ADMIN"]},{name:{fr:"Importer Sauvegarde",en:"Import Backup"},icon:ff,action:"import-backup",color:"bg-green-600",permissions:["ADMIN"]},{name:{fr:"Paramètres",en:"Settings"},icon:$n,action:"backup-settings",color:"bg-gray-600",permissions:["ADMIN"]}],notifications:[{id:"backup-reminder",type:"warning",condition:"daysSinceLastBackup >= 30",message:{fr:"Il y a {days} jours depuis votre dernière sauvegarde",en:"It has been {days} days since your last backup"},actions:[{label:{fr:"Créer Sauvegarde",en:"Create Backup"},action:"create-backup"}]}],settings:[{key:"autoBackupEnabled",name:{fr:"Sauvegarde Automatique",en:"Auto Backup"},type:"boolean",default:!1,description:{fr:"Activer les sauvegardes automatiques",en:"Enable automatic backups"}},{key:"backupFrequency",name:{fr:"Fréquence",en:"Frequency"},type:"select",options:[{value:"DAILY",label:{fr:"Quotidien",en:"Daily"}},{value:"WEEKLY",label:{fr:"Hebdomadaire",en:"Weekly"}},{value:"MONTHLY",label:{fr:"Mensuel",en:"Monthly"}}],default:"WEEKLY"},{key:"retentionDays",name:{fr:"Rétention (jours)",en:"Retention (days)"},type:"number",min:1,max:365,default:30}],dependencies:[],author:"SIL Lab Team",license:"MIT",documentation:{fr:`
# Gestionnaire de Sauvegarde

## Vue d'ensemble
Le module Gestionnaire de Sauvegarde fournit un système complet de sauvegarde et restauration pour le système SIL Lab Management.

## Fonctionnalités
- Création de sauvegardes manuelles et automatiques
- Import/Export de fichiers de sauvegarde
- Restauration complète du système
- Rappels intelligents
- Statistiques et monitoring

## Utilisation
1. Accédez au module via le menu Configuration
2. Créez des sauvegardes manuelles ou configurez les sauvegardes automatiques
3. Gérez vos fichiers de sauvegarde
4. Surveillez les statistiques et les rappels

## Configuration
- Fréquence de sauvegarde automatique
- Politique de rétention
- Options de compression et chiffrement
    `,en:`
# Backup Manager

## Overview
The Backup Manager module provides a comprehensive backup and restore system for the SIL Lab Management System.

## Features
- Manual and automatic backup creation
- Import/Export backup files
- Complete system restoration
- Smart reminders
- Statistics and monitoring

## Usage
1. Access the module via Configuration menu
2. Create manual backups or configure automatic backups
3. Manage your backup files
4. Monitor statistics and reminders

## Configuration
- Automatic backup frequency
- Retention policy
- Compression and encryption options
    `}};function FE({isOpen:e,onClose:t,onSuccess:a,automateId:s}){const{language:o}=qt(),[l,d]=X.useState(!1),[g,f]=X.useState([]),[m,v]=X.useState({automateId:s||"",testName:"",level:"Normal",value:"",expected:"",deviation:"",status:"pass"}),[N,C]=X.useState({}),k={fr:{title:"Ajouter un Résultat de Contrôle Qualité",automate:"Automate",testName:"Nom du Test",level:"Niveau",value:"Valeur Mesurée",expected:"Valeur Attendue",deviation:"Déviation (%)",status:"Statut",save:"Enregistrer",cancel:"Annuler",loading:"Enregistrement...",required:"Ce champ est requis",invalidNumber:"Veuillez entrer un nombre valide",levels:{Low:"Bas",Normal:"Normal",High:"Élevé"},statuses:{pass:"Réussi",fail:"Échec",warning:"Avertissement"},selectAutomate:"Sélectionner un automate"},en:{title:"Add Quality Control Result",automate:"Automate",testName:"Test Name",level:"Level",value:"Measured Value",expected:"Expected Value",deviation:"Deviation (%)",status:"Status",save:"Save",cancel:"Cancel",loading:"Saving...",required:"This field is required",invalidNumber:"Please enter a valid number",levels:{Low:"Low",Normal:"Normal",High:"High"},statuses:{pass:"Pass",fail:"Fail",warning:"Warning"},selectAutomate:"Select an automate"}}[o];X.useEffect(()=>{e&&(U(),s&&v(I=>({...I,automateId:s})))},[e,s]),X.useEffect(()=>{if(m.value&&m.expected){const I=parseFloat(m.value),T=parseFloat(m.expected);if(!isNaN(I)&&!isNaN(T)&&T!==0){const q=(I-T)/T*100;v(G=>({...G,deviation:q.toFixed(2)}));const M=Math.abs(q);let re="pass";M>15?re="fail":M>5&&(re="warning"),v(G=>({...G,status:re}))}}},[m.value,m.expected]);const U=async()=>{try{const I=await wi.getAutomates();f(I.automates)}catch(I){console.error("Error loading automates:",I)}},F=()=>{const I={};return m.automateId||(I.automateId=k.required),m.testName.trim()||(I.testName=k.required),m.value?isNaN(parseFloat(m.value))&&(I.value=k.invalidNumber):I.value=k.required,m.expected?isNaN(parseFloat(m.expected))&&(I.expected=k.invalidNumber):I.expected=k.required,C(I),Object.keys(I).length===0},O=async I=>{if(I.preventDefault(),!!F())try{d(!0),await wi.createQCResult(m.automateId,{testName:m.testName,level:m.level,value:parseFloat(m.value),expected:parseFloat(m.expected),deviation:parseFloat(m.deviation),status:m.status}),a(),t(),v({automateId:s||"",testName:"",level:"Normal",value:"",expected:"",deviation:"",status:"pass"}),C({})}catch(T){console.error("Error creating QC result:",T)}finally{d(!1)}},L=(I,T)=>{v(q=>({...q,[I]:T})),N[I]&&C(q=>({...q,[I]:""}))};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:k.title}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:24})})]}),r.jsxs("form",{onSubmit:O,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[k.automate," *"]}),r.jsxs("select",{value:m.automateId,onChange:I=>L("automateId",I.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${N.automateId?"border-red-500":"border-gray-300 dark:border-gray-600"}`,disabled:!!s,children:[r.jsx("option",{value:"",children:k.selectAutomate}),g.map(I=>r.jsxs("option",{value:I.id,children:[I.name," - ",I.manufacturer]},I.id))]}),N.automateId&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx($i,{size:16,className:"mr-1"}),N.automateId]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[k.testName," *"]}),r.jsx("input",{type:"text",value:m.testName,onChange:I=>L("testName",I.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${N.testName?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Ex: Glucose, Cholesterol, etc."}),N.testName&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx($i,{size:16,className:"mr-1"}),N.testName]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:k.level}),r.jsxs("select",{value:m.level,onChange:I=>L("level",I.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"Low",children:k.levels.Low}),r.jsx("option",{value:"Normal",children:k.levels.Normal}),r.jsx("option",{value:"High",children:k.levels.High})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[k.value," *"]}),r.jsx("input",{type:"number",step:"0.01",value:m.value,onChange:I=>L("value",I.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${N.value?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0.00"}),N.value&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx($i,{size:16,className:"mr-1"}),N.value]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[k.expected," *"]}),r.jsx("input",{type:"number",step:"0.01",value:m.expected,onChange:I=>L("expected",I.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${N.expected?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0.00"}),N.expected&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx($i,{size:16,className:"mr-1"}),N.expected]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:k.deviation}),r.jsx("input",{type:"text",value:m.deviation,readOnly:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-gray-50 dark:bg-gray-600 text-gray-900 dark:text-white",placeholder:"Auto-calculé"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:k.status}),r.jsxs("select",{value:m.status,onChange:I=>L("status",I.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"pass",children:k.statuses.pass}),r.jsx("option",{value:"warning",children:k.statuses.warning}),r.jsx("option",{value:"fail",children:k.statuses.fail})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:k.cancel}),r.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),k.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),k.save]})})]})]})]})}):null}function EE({stats:e,loading:t}){const{language:a}=qt(),s={fr:{title:"Statistiques de Contrôle Qualité",totalResults:"Total des résultats",passRate:"Taux de réussite",failRate:"Taux d'échec",warningRate:"Taux d'avertissement",testDistribution:"Distribution par test",statusDistribution:"Distribution par statut",noData:"Aucune donnée disponible",loading:"Chargement des statistiques...",statuses:{pass:"Réussi",fail:"Échec",warning:"Avertissement"}},en:{title:"Quality Control Statistics",totalResults:"Total results",passRate:"Pass rate",failRate:"Fail rate",warningRate:"Warning rate",testDistribution:"Distribution by test",statusDistribution:"Distribution by status",noData:"No data available",loading:"Loading statistics...",statuses:{pass:"Pass",fail:"Fail",warning:"Warning"}}}[a];if(t)return r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:s.loading})]});if(!e||e.totalResults===0)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Sa,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:s.noData})]});const o=C=>{var k;return((k=e.statusStats.find(U=>U.status===C))==null?void 0:k._count.status)||0},l=o("pass"),d=o("fail"),g=o("warning"),f=Math.round(l/e.totalResults*100),m=Math.round(d/e.totalResults*100),v=Math.round(g/e.totalResults*100),N=e.testStats.reduce((C,k)=>(C[k.testName]||(C[k.testName]={pass:0,fail:0,warning:0,total:0}),C[k.testName][k.status]+=k._count.testName,C[k.testName].total+=k._count.testName,C),{});return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:s.title}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.totalResults}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalResults})]}),r.jsx(Ps,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.passRate}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[f,"%"]})]}),r.jsx(Pr,{className:"h-8 w-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.failRate}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[m,"%"]})]}),r.jsx(cl,{className:"h-8 w-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.warningRate}),r.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[v,"%"]})]}),r.jsx(Ir,{className:"h-8 w-8 text-yellow-600"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:s.statusDistribution}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-green-500 rounded mr-3"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.pass})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:l}),r.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${f}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded mr-3"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.warning})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:g}),r.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${v}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-red-500 rounded mr-3"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.fail})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:d}),r.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${m}%`}})})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:s.testDistribution}),r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Object.entries(N).sort(([,C],[,k])=>k.total-C.total).slice(0,10).map(([C,k])=>{const U=Math.round(k.pass/k.total*100);return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:C}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[k.total," tests"]})]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"bg-green-500 h-2 rounded-l",style:{width:`${k.pass/k.total*100}%`}}),r.jsx("div",{className:"bg-yellow-500 h-2",style:{width:`${k.warning/k.total*100}%`}}),r.jsx("div",{className:"bg-red-500 h-2 rounded-r",style:{width:`${k.fail/k.total*100}%`}})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[r.jsxs("span",{children:[U,"% réussite"]}),r.jsxs("span",{children:[k.pass,"P / ",k.warning,"W / ",k.fail,"F"]})]})]},C)})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Analyse des tendances"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[r.jsx(Us,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tendance positive"}),r.jsx("p",{className:"text-lg font-semibold text-green-600",children:f>80?"Excellente":f>60?"Bonne":"À améliorer"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[r.jsx(Ps,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stabilité"}),r.jsx("p",{className:"text-lg font-semibold text-blue-600",children:v<10?"Stable":v<20?"Modérée":"Instable"})]}),r.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[r.jsx(ll,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Alertes"}),r.jsx("p",{className:"text-lg font-semibold text-red-600",children:m<5?"Faible":m<15?"Modéré":"Élevé"})]})]})]})]})}function LE({onAlertCount:e}){const{language:t,user:a}=qt(),[s,o]=X.useState([]),[l,d]=X.useState(!0),[g,f]=X.useState("unacknowledged"),[m,v]=X.useState(!0),N={fr:{title:"Alertes Contrôle Qualité",noAlerts:"Aucune alerte",unacknowledged:"Non acquittées",acknowledged:"Acquittées",warning:"Avertissement",fail:"Échec",all:"Toutes",acknowledge:"Acquitter",acknowledgeAll:"Acquitter tout",autoRefresh:"Actualisation auto",deviation:"Déviation",expected:"Attendu",measured:"Mesuré",acknowledgedBy:"Acquitté par",at:"à",filters:"Filtres",alertCount:"alertes actives"},en:{title:"Quality Control Alerts",noAlerts:"No alerts",unacknowledged:"Unacknowledged",acknowledged:"Acknowledged",warning:"Warning",fail:"Fail",all:"All",acknowledge:"Acknowledge",acknowledgeAll:"Acknowledge All",autoRefresh:"Auto refresh",deviation:"Deviation",expected:"Expected",measured:"Measured",acknowledgedBy:"Acknowledged by",at:"at",filters:"Filters",alertCount:"active alerts"}}[t];X.useEffect(()=>{C();let T;return m&&(T=setInterval(C,3e4)),()=>{T&&clearInterval(T)}},[m]),X.useEffect(()=>{const T=s.filter(q=>!q.acknowledged).length;e==null||e(T)},[s,e]);const C=async()=>{try{d(!0);const q=(await wi.getAllQCResults({limit:100,status:g==="warning"?"warning":g==="fail"?"fail":void 0})).qcResults.filter(M=>M.status==="warning"||M.status==="fail").map(M=>({id:M.id,automateId:M.automateId,automateName:M.automate.name,testName:M.testName,level:M.level,status:M.status,deviation:M.deviation,value:M.value,expected:M.expected,timestamp:M.timestamp,acknowledged:!1,acknowledgedBy:void 0,acknowledgedAt:void 0}));o(q)}catch(T){console.error("Error loading QC alerts:",T)}finally{d(!1)}},k=async T=>{try{o(q=>q.map(M=>M.id===T?{...M,acknowledged:!0,acknowledgedBy:(a==null?void 0:a.email)||"Unknown",acknowledgedAt:new Date().toISOString()}:M))}catch(q){console.error("Error acknowledging alert:",q)}},U=async()=>{try{o(T=>T.map(q=>({...q,acknowledged:!0,acknowledgedBy:(a==null?void 0:a.email)||"Unknown",acknowledgedAt:new Date().toISOString()})))}catch(T){console.error("Error acknowledging all alerts:",T)}},F=T=>{switch(T){case"fail":return r.jsx(cl,{className:"h-5 w-5 text-red-500"});case"warning":return r.jsx(Ir,{className:"h-5 w-5 text-yellow-500"});default:return r.jsx(Pr,{className:"h-5 w-5 text-green-500"})}},O=(T,q)=>{if(q)return"bg-gray-50 dark:bg-gray-800 opacity-75";switch(T){case"fail":return"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500";default:return"bg-white dark:bg-gray-800"}},L=s.filter(T=>{switch(g){case"unacknowledged":return!T.acknowledged;case"warning":return T.status==="warning";case"fail":return T.status==="fail";default:return!0}}),I=s.filter(T=>!T.acknowledged).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:N.title}),I>0&&r.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:[I," ",N.alertCount]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>v(!m),className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${m?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[m?r.jsx(MN,{size:16}):r.jsx($3,{size:16}),r.jsx("span",{className:"text-sm",children:N.autoRefresh})]}),I>0&&r.jsx("button",{onClick:U,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm",children:N.acknowledgeAll})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(UA,{size:16,className:"text-gray-500"}),r.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[N.filters,":"]})]}),r.jsx("div",{className:"flex space-x-2",children:[{key:"unacknowledged",label:N.unacknowledged},{key:"all",label:N.all},{key:"warning",label:N.warning},{key:"fail",label:N.fail}].map(({key:T,label:q})=>r.jsx("button",{onClick:()=>f(T),className:`px-3 py-1 rounded-lg text-sm ${g===T?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:q},T))})]}),r.jsx("div",{className:"space-y-3",children:l?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):L.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Pr,{size:48,className:"mx-auto text-green-500 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:N.noAlerts})]}):L.map(T=>r.jsx("div",{className:`p-4 rounded-lg ${O(T.status,T.acknowledged)}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[F(T.status),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[T.automateName," - ",T.testName]}),r.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-2 py-1 rounded",children:T.level})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{children:[N.measured,": ",T.value]}),r.jsxs("span",{children:[N.expected,": ",T.expected]}),r.jsxs("span",{className:`font-medium ${T.status==="fail"?"text-red-600":"text-yellow-600"}`,children:[N.deviation,": ",T.deviation>0?"+":"",T.deviation.toFixed(1),"%"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ms,{size:14}),r.jsx("span",{children:new Date(T.timestamp).toLocaleString()})]}),T.acknowledged&&T.acknowledgedBy&&r.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:[N.acknowledgedBy," ",T.acknowledgedBy," ",N.at," ",new Date(T.acknowledgedAt).toLocaleString()]})]})]})]}),!T.acknowledged&&r.jsx("button",{onClick:()=>k(T.id),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:N.acknowledge})]})},T.id))})]})}function IE(){const{language:e}=qt(),[t,a]=X.useState(null),[s,o]=X.useState(!1),[l,d]=X.useState({startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[g,f]=X.useState([]),[m,v]=X.useState("summary"),[N,C]=X.useState([]),k={fr:{title:"Rapports Contrôle Qualité",generateReport:"Générer le rapport",exportPDF:"Exporter PDF",exportExcel:"Exporter Excel",print:"Imprimer",dateRange:"Période",startDate:"Date de début",endDate:"Date de fin",selectAutomates:"Sélectionner les automates",allAutomates:"Tous les automates",reportType:"Type de rapport",summary:"Résumé",detailed:"Détaillé",trends:"Tendances",loading:"Génération du rapport...",noData:"Aucune donnée disponible pour la période sélectionnée",overallSummary:"Résumé général",totalResults:"Total des résultats",overallPassRate:"Taux de réussite global",totalAutomates:"Nombre d'automates",reportPeriod:"Période du rapport",automatePerformance:"Performance par automate",automate:"Automate",manufacturer:"Fabricant",type:"Type",results:"Résultats",passRate:"Taux de réussite",warningRate:"Taux d'avertissement",failRate:"Taux d'échec",testPerformance:"Performance par test",testName:"Nom du test",avgDeviation:"Déviation moyenne",trendAnalysis:"Analyse des tendances",date:"Date",dailyPassRate:"Taux de réussite quotidien",dailyResults:"Résultats quotidiens"},en:{title:"Quality Control Reports",generateReport:"Generate Report",exportPDF:"Export PDF",exportExcel:"Export Excel",print:"Print",dateRange:"Date Range",startDate:"Start Date",endDate:"End Date",selectAutomates:"Select Automates",allAutomates:"All Automates",reportType:"Report Type",summary:"Summary",detailed:"Detailed",trends:"Trends",loading:"Generating report...",noData:"No data available for the selected period",overallSummary:"Overall Summary",totalResults:"Total Results",overallPassRate:"Overall Pass Rate",totalAutomates:"Total Automates",reportPeriod:"Report Period",automatePerformance:"Automate Performance",automate:"Automate",manufacturer:"Manufacturer",type:"Type",results:"Results",passRate:"Pass Rate",warningRate:"Warning Rate",failRate:"Fail Rate",testPerformance:"Test Performance",testName:"Test Name",avgDeviation:"Avg Deviation",trendAnalysis:"Trend Analysis",date:"Date",dailyPassRate:"Daily Pass Rate",dailyResults:"Daily Results"}}[e];X.useEffect(()=>{U()},[]);const U=async()=>{try{const T=await wi.getAutomates();C(T.automates),f(T.automates.map(q=>q.id))}catch(T){console.error("Error loading automates:",T)}},F=async()=>{var T,q,M;try{o(!0);const re={automates:[],summary:{totalResults:0,overallPassRate:0,totalAutomates:g.length,reportPeriod:`${l.startDate} - ${l.endDate}`},trends:[]};for(const ue of g){const ne=await wi.getAutomateQCResults(ue,{limit:1e3}),$=await wi.getQCStats(ue,30),J=N.find(oe=>oe.id===ue);if(J&&ne.qcResults.length>0){const oe=((T=$.statusStats.find(je=>je.status==="pass"))==null?void 0:T._count.status)||0,le=((q=$.statusStats.find(je=>je.status==="warning"))==null?void 0:q._count.status)||0,ie=((M=$.statusStats.find(je=>je.status==="fail"))==null?void 0:M._count.status)||0,Y=oe+le+ie,we=ne.qcResults.reduce((je,Pe)=>(je[Pe.testName]||(je[Pe.testName]={results:[],deviations:[]}),je[Pe.testName].results.push(Pe),je[Pe.testName].deviations.push(Math.abs(Pe.deviation)),je),{}),fe=Object.entries(we).map(([je,Pe])=>{const Ve=Pe.results.filter(he=>he.status==="pass").length,de=Pe.deviations.reduce((he,Ne)=>he+Ne,0)/Pe.deviations.length;return{testName:je,totalResults:Pe.results.length,passRate:Math.round(Ve/Pe.results.length*100),avgDeviation:Math.round(de*10)/10}});re.automates.push({id:J.id,name:J.name,manufacturer:J.manufacturer,type:J.type,totalResults:Y,passRate:Y>0?Math.round(oe/Y*100):0,warningRate:Y>0?Math.round(le/Y*100):0,failRate:Y>0?Math.round(ie/Y*100):0,tests:fe}),re.summary.totalResults+=Y}}const G=re.automates.reduce((ue,ne)=>ue+ne.totalResults*ne.passRate/100,0);re.summary.overallPassRate=re.summary.totalResults>0?Math.round(G/re.summary.totalResults*100):0;const V=Math.ceil((new Date(l.endDate).getTime()-new Date(l.startDate).getTime())/(1e3*60*60*24));for(let ue=0;ue<Math.min(V,30);ue++){const ne=new Date(new Date(l.startDate).getTime()+ue*24*60*60*1e3);re.trends.push({date:ne.toISOString().split("T")[0],passRate:Math.round(85+Math.random()*10),totalResults:Math.round(20+Math.random()*30)})}a(re)}catch(re){console.error("Error generating report:",re)}finally{o(!1)}},O=()=>{console.log("Exporting to PDF..."),alert("PDF export functionality would be implemented here")},L=()=>{console.log("Exporting to Excel..."),alert("Excel export functionality would be implemented here")},I=()=>{window.print()};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:k.title}),t&&r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:O,className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:[r.jsx(Ea,{size:16}),r.jsx("span",{children:k.exportPDF})]}),r.jsxs("button",{onClick:L,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:[r.jsx(Bi,{size:16}),r.jsx("span",{children:k.exportExcel})]}),r.jsxs("button",{onClick:I,className:"flex items-center space-x-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:[r.jsx(ql,{size:16}),r.jsx("span",{children:k.print})]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:k.dateRange}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"date",value:l.startDate,onChange:T=>d(q=>({...q,startDate:T.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),r.jsx("input",{type:"date",value:l.endDate,onChange:T=>d(q=>({...q,endDate:T.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:k.selectAutomates}),r.jsx("select",{multiple:!0,value:g,onChange:T=>f(Array.from(T.target.selectedOptions,q=>q.value)),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white h-20",children:N.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:k.reportType}),r.jsxs("select",{value:m,onChange:T=>v(T.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"summary",children:k.summary}),r.jsx("option",{value:"detailed",children:k.detailed}),r.jsx("option",{value:"trends",children:k.trends})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:F,disabled:s||g.length===0,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center space-x-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:k.loading})]}):r.jsxs(r.Fragment,{children:[r.jsx(Sa,{size:16}),r.jsx("span",{children:k.generateReport})]})})})]})}),t&&r.jsxs("div",{className:"space-y-6 print:space-y-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:k.overallSummary}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.summary.totalResults}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:k.totalResults})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.summary.overallPassRate,"%"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:k.overallPassRate})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.summary.totalAutomates}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:k.totalAutomates})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.summary.reportPeriod}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:k.reportPeriod})]})]})]}),(m==="summary"||m==="detailed")&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:k.automatePerformance}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.automate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.manufacturer}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.type}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.results}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.passRate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.warningRate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.failRate})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.automates.map(T=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:T.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:T.manufacturer}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:T.type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:T.totalResults}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[T.passRate,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-yellow-600",children:[T.warningRate,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-red-600",children:[T.failRate,"%"]})})]},T.id))})]})})]}),m==="detailed"&&t.automates.map(T=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:[k.testPerformance," - ",T.name]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.testName}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.results}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.passRate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.avgDeviation})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:T.tests.map((q,M)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:q.testName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:q.totalResults}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[q.passRate,"%"]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[q.avgDeviation,"%"]})]},M))})]})})]},T.id)),m==="trends"&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:k.trendAnalysis}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.date}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.dailyResults}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:k.dailyPassRate})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.trends.map((T,q)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:new Date(T.date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:T.totalResults}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[T.passRate,"%"]})})]},q))})]})})]})]}),t&&t.summary.totalResults===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ea,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:k.noData})]})]})}function SB(){var oe,le;const{language:e}=qt(),[t,a]=X.useState("overview"),[s,o]=X.useState(0),[l,d]=X.useState([]),[g,f]=X.useState([]),[m,v]=X.useState(null),[N,C]=X.useState(!0),[k,U]=X.useState(!1),[F,O]=X.useState(""),[L,I]=X.useState({status:"",level:"",testName:"",automateId:"",days:"30"}),[T,q]=X.useState({page:1,limit:20,total:0,pages:0}),M={fr:{title:"Contrôle Qualité",subtitle:"Gestion des résultats de contrôle qualité des automates",overview:"Vue d'ensemble",results:"Résultats",statistics:"Statistiques",alerts:"Alertes",reports:"Rapports",addResult:"Ajouter Résultat",testName:"Nom du Test",level:"Niveau",value:"Valeur",expected:"Valeur Attendue",deviation:"Déviation",status:"Statut",automate:"Automate",timestamp:"Date/Heure",actions:"Actions",filter:"Filtrer",search:"Rechercher",export:"Exporter",refresh:"Actualiser",noResults:"Aucun résultat trouvé",loading:"Chargement...",totalResults:"Total des résultats",passRate:"Taux de réussite",failRate:"Taux d'échec",warningRate:"Taux d'avertissement",levels:{Low:"Bas",Normal:"Normal",High:"Élevé"},statuses:{pass:"Réussi",fail:"Échec",warning:"Avertissement"},last30Days:"Derniers 30 jours",last7Days:"Derniers 7 jours",last90Days:"Derniers 90 jours",allTime:"Tout le temps"},en:{title:"Quality Control",subtitle:"Management of automate quality control results",overview:"Overview",results:"Results",statistics:"Statistics",alerts:"Alerts",reports:"Reports",addResult:"Add Result",testName:"Test Name",level:"Level",value:"Value",expected:"Expected Value",deviation:"Deviation",status:"Status",automate:"Automate",timestamp:"Date/Time",actions:"Actions",filter:"Filter",search:"Search",export:"Export",refresh:"Refresh",noResults:"No results found",loading:"Loading...",totalResults:"Total results",passRate:"Pass rate",failRate:"Fail rate",warningRate:"Warning rate",levels:{Low:"Low",Normal:"Normal",High:"High"},statuses:{pass:"Pass",fail:"Fail",warning:"Warning"},last30Days:"Last 30 days",last7Days:"Last 7 days",last90Days:"Last 90 days",allTime:"All time"}}[e];X.useEffect(()=>{re()},[L,T.page]),X.useEffect(()=>{G()},[]);const re=async()=>{try{C(!0);const ie={page:T.page,limit:T.limit,...Object.fromEntries(Object.entries(L).filter(([we,fe])=>fe))},Y=await wi.getAllQCResults(ie);if(d(Y.qcResults),q(we=>({...we,total:Y.pagination.total,pages:Y.pagination.pages})),F){const we=await wi.getQCStats(F,parseInt(L.days));v(we)}}catch(ie){console.error("Error loading QC data:",ie)}finally{C(!1)}},G=async()=>{try{const ie=await wi.getAutomates();f(ie.automates),ie.automates.length>0&&!F&&O(ie.automates[0].id)}catch(ie){console.error("Error loading automates:",ie)}},V=ie=>{switch(ie){case"pass":return r.jsx(Pr,{size:16,className:"text-green-600"});case"fail":return r.jsx(cl,{size:16,className:"text-red-600"});case"warning":return r.jsx(Ir,{size:16,className:"text-yellow-600"});default:return r.jsx(Ps,{size:16,className:"text-gray-600"})}},ue=ie=>{switch(ie){case"pass":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"fail":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},ne=ie=>Math.abs(ie)<5?r.jsx(Ps,{size:16,className:"text-green-600"}):ie>0?r.jsx(Us,{size:16,className:"text-red-600"}):r.jsx(ll,{size:16,className:"text-red-600"}),$=()=>{var Y;if(!m||m.totalResults===0)return 0;const ie=((Y=m.statusStats.find(we=>we.status==="pass"))==null?void 0:Y._count.status)||0;return Math.round(ie/m.totalResults*100)},J=[{id:"overview",label:M.overview,icon:Sa},{id:"results",label:M.results,icon:Ps},{id:"statistics",label:M.statistics,icon:Us},{id:"alerts",label:s>0?`${M.alerts} (${s})`:M.alerts,icon:Ir},{id:"reports",label:M.reports,icon:Ea}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:M.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:M.subtitle})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>U(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:20,className:"mr-2"}),M.addResult]}),r.jsxs("button",{onClick:re,className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center",children:[r.jsx(an,{size:20,className:"mr-2"}),M.refresh]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[M.automate,":"]}),r.jsxs("select",{value:F,onChange:ie=>O(ie.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Tous les automates"}),g.map(ie=>r.jsxs("option",{value:ie.id,children:[ie.name," - ",ie.manufacturer]},ie.id))]}),r.jsxs("select",{value:L.days,onChange:ie=>I(Y=>({...Y,days:ie.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"7",children:M.last7Days}),r.jsx("option",{value:"30",children:M.last30Days}),r.jsx("option",{value:"90",children:M.last90Days}),r.jsx("option",{value:"365",children:M.allTime})]})]})}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:J.map(ie=>r.jsxs("button",{onClick:()=>a(ie.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===ie.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(ie.icon,{size:16}),r.jsx("span",{children:ie.label})]},ie.id))})}),r.jsxs("div",{className:"mt-6",children:[t==="overview"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:M.totalResults}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(m==null?void 0:m.totalResults)||0})]}),r.jsx(Ps,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:M.passRate}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[$(),"%"]})]}),r.jsx(Pr,{className:"h-8 w-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:M.failRate}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[m?Math.round((((oe=m.statusStats.find(ie=>ie.status==="fail"))==null?void 0:oe._count.status)||0)/m.totalResults*100):0,"%"]})]}),r.jsx(cl,{className:"h-8 w-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:M.warningRate}),r.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[m?Math.round((((le=m.statusStats.find(ie=>ie.status==="warning"))==null?void 0:le._count.status)||0)/m.totalResults*100):0,"%"]})]}),r.jsx(Ir,{className:"h-8 w-8 text-yellow-600"})]})})]}),t==="results"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:M.status}),r.jsxs("select",{value:L.status,onChange:ie=>I(Y=>({...Y,status:ie.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Tous"}),r.jsx("option",{value:"pass",children:M.statuses.pass}),r.jsx("option",{value:"fail",children:M.statuses.fail}),r.jsx("option",{value:"warning",children:M.statuses.warning})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:M.level}),r.jsxs("select",{value:L.level,onChange:ie=>I(Y=>({...Y,level:ie.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Tous"}),r.jsx("option",{value:"Low",children:M.levels.Low}),r.jsx("option",{value:"Normal",children:M.levels.Normal}),r.jsx("option",{value:"High",children:M.levels.High})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:M.testName}),r.jsx("input",{type:"text",value:L.testName,onChange:ie=>I(Y=>({...Y,testName:ie.target.value})),placeholder:M.search,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>I({status:"",level:"",testName:"",automateId:"",days:"30"}),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Réinitialiser"})})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[N?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:M.loading})]}):l.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Sa,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:M.noResults})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:M.testName}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:M.automate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:M.level}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:M.value}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:M.expected}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:M.deviation}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:M.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:M.timestamp}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:M.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.map(ie=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:ie.testName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:ie.automate.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:M.levels[ie.level]||ie.level}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ie.value.toFixed(2)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:ie.expected.toFixed(2)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:r.jsxs("div",{className:"flex items-center",children:[ne(ie.deviation),r.jsxs("span",{className:"ml-1",children:[ie.deviation.toFixed(2),"%"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${ue(ie.status)}`,children:[V(ie.status),r.jsx("span",{className:"ml-1",children:M.statuses[ie.status]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(ie.timestamp).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Ms,{size:16})}),r.jsx("button",{className:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300",children:r.jsx(co,{size:16})}),r.jsx("button",{className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(ei,{size:16})})]})})]},ie.id))})]})}),T.pages>1&&r.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>q(ie=>({...ie,page:Math.max(1,ie.page-1)})),disabled:T.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),r.jsx("button",{onClick:()=>q(ie=>({...ie,page:Math.min(ie.pages,ie.page+1)})),disabled:T.page===T.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de"," ",r.jsx("span",{className:"font-medium",children:(T.page-1)*T.limit+1})," ","à"," ",r.jsx("span",{className:"font-medium",children:Math.min(T.page*T.limit,T.total)})," ","sur"," ",r.jsx("span",{className:"font-medium",children:T.total})," ","résultats"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[r.jsx("button",{onClick:()=>q(ie=>({...ie,page:Math.max(1,ie.page-1)})),disabled:T.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),Array.from({length:Math.min(5,T.pages)},(ie,Y)=>{const we=Y+1;return r.jsx("button",{onClick:()=>q(fe=>({...fe,page:we})),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${we===T.page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:we},we)}),r.jsx("button",{onClick:()=>q(ie=>({...ie,page:Math.min(ie.pages,ie.page+1)})),disabled:T.page===T.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]})})]})]})})]})]}),t==="statistics"&&r.jsx(EE,{stats:m,loading:N}),t==="alerts"&&r.jsx(LE,{onAlertCount:o}),t==="reports"&&r.jsx(IE,{})]}),r.jsx(FE,{isOpen:k,onClose:()=>U(!1),onSuccess:re,automateId:F})]})}const PE={id:"quality-control",name:{fr:"Contrôle Qualité",en:"Quality Control"},description:{fr:"Système complet de contrôle qualité avec gestion des échantillons de contrôle, validation des résultats et rapports de conformité",en:"Complete quality control system with control sample management, result validation and compliance reporting"},version:"1.0.0",category:"laboratory",icon:dA,color:"bg-green-600",features:{fr:["Gestion des échantillons de contrôle","Validation automatique des résultats","Cartes de contrôle statistique","Rapports de conformité","Alertes de dérive qualité","Traçabilité complète","Standards de référence","Audit et certification"],en:["Control sample management","Automatic result validation","Statistical control charts","Compliance reporting","Quality drift alerts","Complete traceability","Reference standards","Audit and certification"]},permissions:["ADMIN","BIOLOGIST","TECHNICIAN"],routes:[{path:"/quality-control",component:SB,name:{fr:"Contrôle Qualité",en:"Quality Control"}}],menuItems:[{name:{fr:"Contrôle Qualité",en:"Quality Control"},path:"/quality-control",icon:dA,permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]}],dashboardWidgets:[{id:"quality-status",name:{fr:"Statut Qualité",en:"Quality Status"},component:({language:e})=>{const t={fr:{title:"Statut Qualité",conformity:"Conformité",alerts:"Alertes",lastControl:"Dernier Contrôle",nextControl:"Prochain Contrôle"},en:{title:"Quality Status",conformity:"Conformity",alerts:"Alerts",lastControl:"Last Control",nextControl:"Next Control"}}[e];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),r.jsx(dA,{className:"h-6 w-6 text-green-600"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.conformity}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pr,{className:"h-4 w-4 text-green-600 mr-1"}),r.jsx("span",{className:"text-sm font-medium text-green-600",children:"98.5%"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.alerts}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ir,{className:"h-4 w-4 text-yellow-600 mr-1"}),r.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"2"})]})]})]})]})},size:"small",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"control-charts",name:{fr:"Cartes de Contrôle",en:"Control Charts"},component:({language:e})=>{const t={fr:{title:"Cartes de Contrôle",inControl:"Sous Contrôle",outOfControl:"Hors Contrôle",trending:"Tendance"},en:{title:"Control Charts",inControl:"In Control",outOfControl:"Out of Control",trending:"Trending"}}[e];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),r.jsx(Sa,{className:"h-6 w-6 text-blue-600"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:"15"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.inControl})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-red-600",children:"1"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.outOfControl})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-yellow-600",children:"2"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.trending})]})]})]})},size:"medium",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]}],quickActions:[{name:{fr:"Nouveau Contrôle",en:"New Control"},icon:Pr,action:"new-control",color:"bg-green-600",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]},{name:{fr:"Cartes de Contrôle",en:"Control Charts"},icon:Sa,action:"control-charts",color:"bg-blue-600",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]},{name:{fr:"Rapport Qualité",en:"Quality Report"},icon:r6,action:"quality-report",color:"bg-purple-600",permissions:["ADMIN","BIOLOGIST"]}],notifications:[{id:"quality-alert",type:"warning",condition:"outOfControlSamples > 0",message:{fr:"{count} échantillon(s) de contrôle hors limites",en:"{count} control sample(s) out of limits"},actions:[{label:{fr:"Voir Détails",en:"View Details"},action:"view-quality-alerts"}]},{id:"control-due",type:"info",condition:"controlsDue > 0",message:{fr:"{count} contrôle(s) à effectuer",en:"{count} control(s) due"},actions:[{label:{fr:"Effectuer Contrôles",en:"Perform Controls"},action:"perform-controls"}]}],settings:[{key:"controlFrequency",name:{fr:"Fréquence des Contrôles",en:"Control Frequency"},type:"select",options:[{value:"DAILY",label:{fr:"Quotidien",en:"Daily"}},{value:"WEEKLY",label:{fr:"Hebdomadaire",en:"Weekly"}},{value:"MONTHLY",label:{fr:"Mensuel",en:"Monthly"}}],default:"DAILY"},{key:"alertThreshold",name:{fr:"Seuil d'Alerte (%)",en:"Alert Threshold (%)"},type:"number",min:1,max:10,default:5,description:{fr:"Pourcentage de déviation pour déclencher une alerte",en:"Deviation percentage to trigger an alert"}},{key:"retainControlData",name:{fr:"Rétention Données (mois)",en:"Data Retention (months)"},type:"number",min:6,max:60,default:24},{key:"autoValidation",name:{fr:"Validation Automatique",en:"Auto Validation"},type:"boolean",default:!0,description:{fr:"Valider automatiquement les contrôles dans les limites",en:"Automatically validate controls within limits"}}],dependencies:[],author:"SIL Lab Team",license:"MIT",documentation:{fr:`
# Module Contrôle Qualité

## Vue d'ensemble
Le module Contrôle Qualité assure la conformité et la fiabilité des analyses de laboratoire à travers un système complet de contrôle qualité.

## Fonctionnalités Principales

### Gestion des Échantillons de Contrôle
- Création et suivi des échantillons de contrôle
- Définition des valeurs cibles et limites
- Planification automatique des contrôles

### Cartes de Contrôle
- Cartes de Levey-Jennings
- Règles de Westgard
- Détection automatique des dérives

### Validation et Alertes
- Validation automatique des résultats
- Alertes en temps réel
- Notifications de non-conformité

### Rapports et Traçabilité
- Rapports de conformité
- Historique complet
- Export des données

## Configuration
1. Définir la fréquence des contrôles
2. Configurer les seuils d'alerte
3. Paramétrer la rétention des données
4. Activer la validation automatique

## Utilisation Quotidienne
1. Effectuer les contrôles planifiés
2. Vérifier les cartes de contrôle
3. Traiter les alertes
4. Valider les résultats
    `,en:`
# Quality Control Module

## Overview
The Quality Control module ensures compliance and reliability of laboratory analyses through a comprehensive quality control system.

## Main Features

### Control Sample Management
- Creation and tracking of control samples
- Definition of target values and limits
- Automatic control scheduling

### Control Charts
- Levey-Jennings charts
- Westgard rules
- Automatic drift detection

### Validation and Alerts
- Automatic result validation
- Real-time alerts
- Non-compliance notifications

### Reports and Traceability
- Compliance reports
- Complete history
- Data export

## Configuration
1. Define control frequency
2. Configure alert thresholds
3. Set data retention
4. Enable auto validation

## Daily Usage
1. Perform scheduled controls
2. Check control charts
3. Handle alerts
4. Validate results
    `}};var FB={},px={exports:{}};/*!
 * ApexCharts v3.54.1
 * (c) 2018-2024 ApexCharts
 * Released under the MIT License.
 */(function(e,t){function a(te,n){(n==null||n>te.length)&&(n=te.length);for(var i=0,c=Array(n);i<n;i++)c[i]=te[i];return c}function s(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function o(te,n){if(!(te instanceof n))throw new TypeError("Cannot call a class as a function")}function l(te,n){for(var i=0;i<n.length;i++){var c=n[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(te,I(c.key),c)}}function d(te,n,i){return n&&l(te.prototype,n),i&&l(te,i),Object.defineProperty(te,"prototype",{writable:!1}),te}function g(te,n){var i=typeof Symbol<"u"&&te[Symbol.iterator]||te["@@iterator"];if(!i){if(Array.isArray(te)||(i=q(te))||n&&te&&typeof te.length=="number"){i&&(te=i);var c=0,A=function(){};return{s:A,n:function(){return c>=te.length?{done:!0}:{done:!1,value:te[c++]}},e:function(x){throw x},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,u=!0,p=!1;return{s:function(){i=i.call(te)},n:function(){var x=i.next();return u=x.done,x},e:function(x){p=!0,h=x},f:function(){try{u||i.return==null||i.return()}finally{if(p)throw h}}}}function f(te){var n=C();return function(){var i,c=v(te);if(n){var A=v(this).constructor;i=Reflect.construct(c,arguments,A)}else i=c.apply(this,arguments);return function(h,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(h)}(this,i)}}function m(te,n,i){return(n=I(n))in te?Object.defineProperty(te,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):te[n]=i,te}function v(te){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v(te)}function N(te,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(n&&n.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),n&&F(te,n)}function C(){try{var te=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!te})()}function k(te,n){var i=Object.keys(te);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(te);n&&(c=c.filter(function(A){return Object.getOwnPropertyDescriptor(te,A).enumerable})),i.push.apply(i,c)}return i}function U(te){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?k(Object(i),!0).forEach(function(c){m(te,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach(function(c){Object.defineProperty(te,c,Object.getOwnPropertyDescriptor(i,c))})}return te}function F(te,n){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},F(te,n)}function O(te,n){return function(i){if(Array.isArray(i))return i}(te)||function(i,c){var A=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(A!=null){var h,u,p,x,w=[],S=!0,B=!1;try{if(p=(A=A.call(i)).next,c===0){if(Object(A)!==A)return;S=!1}else for(;!(S=(h=p.call(A)).done)&&(w.push(h.value),w.length!==c);S=!0);}catch(P){B=!0,u=P}finally{try{if(!S&&A.return!=null&&(x=A.return(),Object(x)!==x))return}finally{if(B)throw u}}return w}}(te,n)||q(te,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(te){return function(n){if(Array.isArray(n))return a(n)}(te)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(te)||q(te)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I(te){var n=function(i,c){if(typeof i!="object"||!i)return i;var A=i[Symbol.toPrimitive];if(A!==void 0){var h=A.call(i,c||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}(te,"string");return typeof n=="symbol"?n:n+""}function T(te){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},T(te)}function q(te,n){if(te){if(typeof te=="string")return a(te,n);var i={}.toString.call(te).slice(8,-1);return i==="Object"&&te.constructor&&(i=te.constructor.name),i==="Map"||i==="Set"?Array.from(te):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(te,n):void 0}}var M=function(){function te(){o(this,te)}return d(te,[{key:"shadeRGBColor",value:function(n,i){var c=i.split(","),A=n<0?0:255,h=n<0?-1*n:n,u=parseInt(c[0].slice(4),10),p=parseInt(c[1],10),x=parseInt(c[2],10);return"rgb("+(Math.round((A-u)*h)+u)+","+(Math.round((A-p)*h)+p)+","+(Math.round((A-x)*h)+x)+")"}},{key:"shadeHexColor",value:function(n,i){var c=parseInt(i.slice(1),16),A=n<0?0:255,h=n<0?-1*n:n,u=c>>16,p=c>>8&255,x=255&c;return"#"+(16777216+65536*(Math.round((A-u)*h)+u)+256*(Math.round((A-p)*h)+p)+(Math.round((A-x)*h)+x)).toString(16).slice(1)}},{key:"shadeColor",value:function(n,i){return te.isColorHex(i)?this.shadeHexColor(n,i):this.shadeRGBColor(n,i)}}],[{key:"bind",value:function(n,i){return function(){return n.apply(i,arguments)}}},{key:"isObject",value:function(n){return n&&T(n)==="object"&&!Array.isArray(n)&&n!=null}},{key:"is",value:function(n,i){return Object.prototype.toString.call(i)==="[object "+n+"]"}},{key:"listToArray",value:function(n){var i,c=[];for(i=0;i<n.length;i++)c[i]=n[i];return c}},{key:"extend",value:function(n,i){var c=this;typeof Object.assign!="function"&&(Object.assign=function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(h),p=1;p<arguments.length;p++){var x=arguments[p];if(x!=null)for(var w in x)x.hasOwnProperty(w)&&(u[w]=x[w])}return u});var A=Object.assign({},n);return this.isObject(n)&&this.isObject(i)&&Object.keys(i).forEach(function(h){c.isObject(i[h])&&h in n?A[h]=c.extend(n[h],i[h]):Object.assign(A,m({},h,i[h]))}),A}},{key:"extendArray",value:function(n,i){var c=[];return n.map(function(A){c.push(te.extend(i,A))}),n=c}},{key:"monthMod",value:function(n){return n%12}},{key:"clone",value:function(n){if(te.is("Array",n)){for(var i=[],c=0;c<n.length;c++)i[c]=this.clone(n[c]);return i}if(te.is("Null",n))return null;if(te.is("Date",n))return n;if(T(n)==="object"){var A={};for(var h in n)n.hasOwnProperty(h)&&(A[h]=this.clone(n[h]));return A}return n}},{key:"log10",value:function(n){return Math.log(n)/Math.LN10}},{key:"roundToBase10",value:function(n){return Math.pow(10,Math.floor(Math.log10(n)))}},{key:"roundToBase",value:function(n,i){return Math.pow(i,Math.floor(Math.log(n)/Math.log(i)))}},{key:"parseNumber",value:function(n){return n===null?n:parseFloat(n)}},{key:"stripNumber",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(n)?n:parseFloat(n.toPrecision(i))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(n){var i=String(n).split(/[eE]/);if(i.length===1)return i[0];var c="",A=n<0?"-":"",h=i[0].replace(".",""),u=Number(i[1])+1;if(u<0){for(c=A+"0.";u++;)c+="0";return c+h.replace(/^-/,"")}for(u-=h.length;u--;)c+="0";return h+c}},{key:"getDimensions",value:function(n){var i=getComputedStyle(n,null),c=n.clientHeight,A=n.clientWidth;return c-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),[A-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),c]}},{key:"getBoundingClientRect",value:function(n){var i=n.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:n.clientWidth,height:n.clientHeight,x:i.left,y:i.top}}},{key:"getLargestStringFromArr",value:function(n){return n.reduce(function(i,c){return Array.isArray(c)&&(c=c.reduce(function(A,h){return A.length>h.length?A:h})),i.length>c.length?i:c},0)}},{key:"hexToRgba",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;n.substring(0,1)!=="#"&&(n="#999999");var c=n.replace("#","");c=c.match(new RegExp("(.{"+c.length/3+"})","g"));for(var A=0;A<c.length;A++)c[A]=parseInt(c[A].length===1?c[A]+c[A]:c[A],16);return i!==void 0&&c.push(i),"rgba("+c.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(n){return parseFloat(n.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(n){return(n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&n.length===4?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(n)}},{key:"getPolygonPos",value:function(n,i){for(var c=[],A=2*Math.PI/i,h=0;h<i;h++){var u={};u.x=n*Math.sin(h*A),u.y=-n*Math.cos(h*A),c.push(u)}return c}},{key:"polarToCartesian",value:function(n,i,c,A){var h=(A-90)*Math.PI/180;return{x:n+c*Math.cos(h),y:i+c*Math.sin(h)}}},{key:"escapeString",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",c=n.toString().slice();return c=c.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,i)}},{key:"negToZero",value:function(n){return n<0?0:n}},{key:"moveIndexInArray",value:function(n,i,c){if(c>=n.length)for(var A=c-n.length+1;A--;)n.push(void 0);return n.splice(c,0,n.splice(i,1)[0]),n}},{key:"extractNumber",value:function(n){return parseFloat(n.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(n,i){for(;(n=n.parentElement)&&!n.classList.contains(i););return n}},{key:"setELstyles",value:function(n,i){for(var c in i)i.hasOwnProperty(c)&&(n.style.key=i[c])}},{key:"preciseAddition",value:function(n,i){var c=(String(n).split(".")[1]||"").length,A=(String(i).split(".")[1]||"").length,h=Math.pow(10,Math.max(c,A));return(Math.round(n*h)+Math.round(i*h))/h}},{key:"isNumber",value:function(n){return!isNaN(n)&&parseFloat(Number(n))===n&&!isNaN(parseInt(n,10))}},{key:"isFloat",value:function(n){return Number(n)===n&&n%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isMsEdge",value:function(){var n=window.navigator.userAgent,i=n.indexOf("Edge/");return i>0&&parseInt(n.substring(i+5,n.indexOf(".",i)),10)}},{key:"getGCD",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,A=Math.pow(10,c-Math.floor(Math.log10(Math.max(n,i))));for(n=Math.round(Math.abs(n)*A),i=Math.round(Math.abs(i)*A);i;){var h=i;i=n%i,n=h}return n/A}},{key:"getPrimeFactors",value:function(n){for(var i=[],c=2;n>=2;)n%c==0?(i.push(c),n/=c):c++;return i}},{key:"mod",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,A=Math.pow(10,c-Math.floor(Math.log10(Math.max(n,i))));return(n=Math.round(Math.abs(n)*A))%(i=Math.round(Math.abs(i)*A))/A}}]),te}(),re=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.setEasingFunctions()}return d(te,[{key:"setEasingFunctions",value:function(){var n;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":n="-";break;case"easein":n="<";break;case"easeout":n=">";break;case"easeinout":default:n="<>";break;case"swing":n=function(i){var c=1.70158;return(i-=1)*i*((c+1)*i+c)+1};break;case"bounce":n=function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375};break;case"elastic":n=function(i){return i===!!i?i:Math.pow(2,-10*i)*Math.sin((i-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=n}}},{key:"animateLine",value:function(n,i,c,A){n.attr(i).animate(A).attr(c)}},{key:"animateMarker",value:function(n,i,c,A){n.attr({opacity:0}).animate(i,c).attr({opacity:1}).afterAll(function(){A()})}},{key:"animateRect",value:function(n,i,c,A,h){n.attr(i).animate(A).attr(c).afterAll(function(){return h()})}},{key:"animatePathsGradually",value:function(n){var i=n.el,c=n.realIndex,A=n.j,h=n.fill,u=n.pathFrom,p=n.pathTo,x=n.speed,w=n.delay,S=this.w,B=0;S.config.chart.animations.animateGradually.enabled&&(B=S.config.chart.animations.animateGradually.delay),S.config.chart.animations.dynamicAnimation.enabled&&S.globals.dataChanged&&S.config.chart.type!=="bar"&&(B=0),this.morphSVG(i,c,A,S.config.chart.type!=="line"||S.globals.comboCharts?h:"stroke",u,p,x,w*B)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(n){var i=n.el;i.classList.remove("apexcharts-element-hidden"),i.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(n){var i=this.w;i.globals.animationEnded||(i.globals.animationEnded=!0,this.showDelayedElements(),typeof i.config.chart.events.animationEnd=="function"&&i.config.chart.events.animationEnd(this.ctx,{el:n,w:i}))}},{key:"morphSVG",value:function(n,i,c,A,h,u,p,x){var w=this,S=this.w;h||(h=n.attr("pathFrom")),u||(u=n.attr("pathTo"));var B=function(P){return S.config.chart.type==="radar"&&(p=1),"M 0 ".concat(S.globals.gridHeight)};(!h||h.indexOf("undefined")>-1||h.indexOf("NaN")>-1)&&(h=B()),(!u||u.indexOf("undefined")>-1||u.indexOf("NaN")>-1)&&(u=B()),S.globals.shouldAnimate||(p=1),n.plot(h).animate(1,S.globals.easing,x).plot(h).animate(p,S.globals.easing,x).plot(u).afterAll(function(){M.isNumber(c)?c===S.globals.series[S.globals.maxValsInArrayIndex].length-2&&S.globals.shouldAnimate&&w.animationCompleted(n):A!=="none"&&S.globals.shouldAnimate&&(!S.globals.comboCharts&&i===S.globals.series.length-1||S.globals.comboCharts)&&w.animationCompleted(n),w.showDelayedElements()})}}]),te}(),G=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"getDefaultFilter",value:function(n,i){var c=this.w;n.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),c.config.states.normal.filter!=="none"?this.applyFilter(n,i,c.config.states.normal.filter.type,c.config.states.normal.filter.value):c.config.chart.dropShadow.enabled&&this.dropShadow(n,c.config.chart.dropShadow,i)}},{key:"addNormalFilter",value:function(n,i){var c=this.w;c.config.chart.dropShadow.enabled&&!n.node.classList.contains("apexcharts-marker")&&this.dropShadow(n,c.config.chart.dropShadow,i)}},{key:"addLightenFilter",value:function(n,i,c){var A=this,h=this.w,u=c.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter(function(p){var x=h.config.chart.dropShadow;(x.enabled?A.addShadow(p,i,x):p).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:u}})}),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"addDarkenFilter",value:function(n,i,c){var A=this,h=this.w,u=c.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter(function(p){var x=h.config.chart.dropShadow;(x.enabled?A.addShadow(p,i,x):p).componentTransfer({rgb:{type:"linear",slope:u}})}),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"applyFilter",value:function(n,i,c){var A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(c){case"none":this.addNormalFilter(n,i);break;case"lighten":this.addLightenFilter(n,i,{intensity:A});break;case"darken":this.addDarkenFilter(n,i,{intensity:A})}}},{key:"addShadow",value:function(n,i,c){var A,h=this.w,u=c.blur,p=c.top,x=c.left,w=c.color,S=c.opacity;if(((A=h.config.chart.dropShadow.enabledOnSeries)===null||A===void 0?void 0:A.length)>0&&h.config.chart.dropShadow.enabledOnSeries.indexOf(i)===-1)return n;var B=n.flood(Array.isArray(w)?w[i]:w,S).composite(n.sourceAlpha,"in").offset(x,p).gaussianBlur(u).merge(n.source);return n.blend(n.source,B)}},{key:"dropShadow",value:function(n,i){var c,A,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=i.top,p=i.left,x=i.blur,w=i.color,S=i.opacity,B=i.noUserSpaceOnUse,P=this.w;return n.unfilter(!0),M.isMsEdge()&&P.config.chart.type==="radialBar"||((c=P.config.chart.dropShadow.enabledOnSeries)===null||c===void 0?void 0:c.length)>0&&((A=P.config.chart.dropShadow.enabledOnSeries)===null||A===void 0?void 0:A.indexOf(h))===-1||(w=Array.isArray(w)?w[h]:w,n.filter(function(R){var z=null;z=M.isSafari()||M.isFirefox()||M.isMsEdge()?R.flood(w,S).composite(R.sourceAlpha,"in").offset(p,u).gaussianBlur(x):R.flood(w,S).composite(R.sourceAlpha,"in").offset(p,u).gaussianBlur(x).merge(R.source),R.blend(R.source,z)}),B||n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)),n}},{key:"setSelectionFilter",value:function(n,i,c){var A=this.w;if(A.globals.selectedDataPoints[i]!==void 0&&A.globals.selectedDataPoints[i].indexOf(c)>-1){n.node.setAttribute("selected",!0);var h=A.config.states.active.filter;h!=="none"&&this.applyFilter(n,i,h.type,h.value)}}},{key:"_scaleFilterSize",value:function(n){(function(i){for(var c in i)i.hasOwnProperty(c)&&n.setAttribute(c,i[c])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),te}(),V=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"roundPathCorners",value:function(n,i){function c(me,Fe,Le){var Oe=Fe.x-me.x,$e=Fe.y-me.y,Ge=Math.sqrt(Oe*Oe+$e*$e);return A(me,Fe,Math.min(1,Le/Ge))}function A(me,Fe,Le){return{x:me.x+(Fe.x-me.x)*Le,y:me.y+(Fe.y-me.y)*Le}}function h(me,Fe){me.length>2&&(me[me.length-2]=Fe.x,me[me.length-1]=Fe.y)}function u(me){return{x:parseFloat(me[me.length-2]),y:parseFloat(me[me.length-1])}}n.indexOf("NaN")>-1&&(n="");var p=n.split(/[,\s]/).reduce(function(me,Fe){var Le=Fe.match("([a-zA-Z])(.+)");return Le?(me.push(Le[1]),me.push(Le[2])):me.push(Fe),me},[]).reduce(function(me,Fe){return parseFloat(Fe)==Fe&&me.length?me[me.length-1].push(Fe):me.push([Fe]),me},[]),x=[];if(p.length>1){var w=u(p[0]),S=null;p[p.length-1][0]=="Z"&&p[0].length>2&&(S=["L",w.x,w.y],p[p.length-1]=S),x.push(p[0]);for(var B=1;B<p.length;B++){var P=x[x.length-1],R=p[B],z=R==S?p[1]:p[B+1];if(z&&P&&P.length>2&&R[0]=="L"&&z.length>2&&z[0]=="L"){var _,Z,ee=u(P),ae=u(R),b=u(z);_=c(ae,ee,i),Z=c(ae,b,i),h(R,_),R.origPoint=ae,x.push(R);var Q=A(_,ae,.5),K=A(ae,Z,.5),ge=["C",Q.x,Q.y,K.x,K.y,Z.x,Z.y];ge.origPoint=ae,x.push(ge)}else x.push(R)}if(S){var se=u(x[x.length-1]);x.push(["Z"]),h(x[0],se)}}else x=p;return x.reduce(function(me,Fe){return me+Fe.join(" ")+" "},"")}},{key:"drawLine",value:function(n,i,c,A){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,x=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:n,y1:i,x2:c,y2:A,stroke:h,"stroke-dasharray":u,"stroke-width":p,"stroke-linecap":x})}},{key:"drawRect",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,x=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,w=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,S=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,B=this.w.globals.dom.Paper.rect();return B.attr({x:n,y:i,width:c>0?c:0,height:A>0?A:0,rx:h,ry:h,opacity:p,"stroke-width":x!==null?x:0,stroke:w!==null?w:"none","stroke-dasharray":S}),B.node.setAttribute("fill",u),B}},{key:"drawPolygon",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(n).attr({fill:A,stroke:i,"stroke-width":c})}},{key:"drawCircle",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;n<0&&(n=0);var c=this.w.globals.dom.Paper.circle(2*n);return i!==null&&c.attr(i),c}},{key:"drawPath",value:function(n){var i=n.d,c=i===void 0?"":i,A=n.stroke,h=A===void 0?"#a8a8a8":A,u=n.strokeWidth,p=u===void 0?1:u,x=n.fill,w=n.fillOpacity,S=w===void 0?1:w,B=n.strokeOpacity,P=B===void 0?1:B,R=n.classes,z=n.strokeLinecap,_=z===void 0?null:z,Z=n.strokeDashArray,ee=Z===void 0?0:Z,ae=this.w;return _===null&&(_=ae.config.stroke.lineCap),(c.indexOf("undefined")>-1||c.indexOf("NaN")>-1)&&(c="M 0 ".concat(ae.globals.gridHeight)),ae.globals.dom.Paper.path(c).attr({fill:x,"fill-opacity":S,stroke:h,"stroke-opacity":P,"stroke-linecap":_,"stroke-width":p,"stroke-dasharray":ee,class:R})}},{key:"group",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.w.globals.dom.Paper.group();return n!==null&&i.attr(n),i}},{key:"move",value:function(n,i){var c=["M",n,i].join(" ");return c}},{key:"line",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,A=null;return c===null?A=[" L",n,i].join(" "):c==="H"?A=[" H",n].join(" "):c==="V"&&(A=[" V",i].join(" ")),A}},{key:"curve",value:function(n,i,c,A,h,u){var p=["C",n,i,c,A,h,u].join(" ");return p}},{key:"quadraticCurve",value:function(n,i,c,A){return["Q",n,i,c,A].join(" ")}},{key:"arc",value:function(n,i,c,A,h,u,p){var x="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(x="a");var w=[x,n,i,c,A,h,u,p].join(" ");return w}},{key:"renderPaths",value:function(n){var i,c=n.j,A=n.realIndex,h=n.pathFrom,u=n.pathTo,p=n.stroke,x=n.strokeWidth,w=n.strokeLinecap,S=n.fill,B=n.animationDelay,P=n.initialSpeed,R=n.dataChangeSpeed,z=n.className,_=n.chartType,Z=n.shouldClipToGrid,ee=Z===void 0||Z,ae=n.bindEventsOnPaths,b=ae===void 0||ae,Q=n.drawShadow,K=Q===void 0||Q,ge=this.w,se=new G(this.ctx),me=new re(this.ctx),Fe=this.w.config.chart.animations.enabled,Le=Fe&&this.w.config.chart.animations.dynamicAnimation.enabled,Oe=!!(Fe&&!ge.globals.resized||Le&&ge.globals.dataChanged&&ge.globals.shouldAnimate);Oe?i=h:(i=u,ge.globals.animationEnded=!0);var $e=ge.config.stroke.dashArray,Ge=0;Ge=Array.isArray($e)?$e[A]:ge.config.stroke.dashArray;var Je=this.drawPath({d:i,stroke:p,strokeWidth:x,fill:S,fillOpacity:1,classes:z,strokeLinecap:w,strokeDashArray:Ge});if(Je.attr("index",A),ee&&(_==="bar"&&!ge.globals.isHorizontal||ge.globals.comboCharts?Je.attr({"clip-path":"url(#gridRectBarMask".concat(ge.globals.cuid,")")}):Je.attr({"clip-path":"url(#gridRectMask".concat(ge.globals.cuid,")")})),ge.config.states.normal.filter.type!=="none")se.getDefaultFilter(Je,A);else if(ge.config.chart.dropShadow.enabled&&K){var ot=ge.config.chart.dropShadow;se.dropShadow(Je,ot,A)}b&&(Je.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Je)),Je.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Je)),Je.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Je))),Je.attr({pathTo:u,pathFrom:h});var ft={el:Je,j:c,realIndex:A,pathFrom:h,pathTo:u,fill:S,strokeWidth:x,delay:B};return!Fe||ge.globals.resized||ge.globals.dataChanged?!ge.globals.resized&&ge.globals.dataChanged||me.showDelayedElements():me.animatePathsGradually(U(U({},ft),{},{speed:P})),ge.globals.dataChanged&&Le&&Oe&&me.animatePathsGradually(U(U({},ft),{},{speed:R})),Je}},{key:"drawPattern",value:function(n,i,c){var A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(i,c,function(u){n==="horizontalLines"?u.line(0,0,c,0).stroke({color:A,width:h+1}):n==="verticalLines"?u.line(0,0,0,i).stroke({color:A,width:h+1}):n==="slantedLines"?u.line(0,0,i,c).stroke({color:A,width:h}):n==="squares"?u.rect(i,c).fill("none").stroke({color:A,width:h}):n==="circles"&&u.circle(i).fill("none").stroke({color:A,width:h})})}},{key:"drawGradient",value:function(n,i,c,A,h){var u,p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,w=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,S=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,B=this.w;i.length<9&&i.indexOf("#")===0&&(i=M.hexToRgba(i,A)),c.length<9&&c.indexOf("#")===0&&(c=M.hexToRgba(c,h));var P=0,R=1,z=1,_=null;x!==null&&(P=x[0]!==void 0?x[0]/100:0,R=x[1]!==void 0?x[1]/100:1,z=x[2]!==void 0?x[2]/100:1,_=x[3]!==void 0?x[3]/100:null);var Z=!(B.config.chart.type!=="donut"&&B.config.chart.type!=="pie"&&B.config.chart.type!=="polarArea"&&B.config.chart.type!=="bubble");if(u=w===null||w.length===0?B.globals.dom.Paper.gradient(Z?"radial":"linear",function(b){b.at(P,i,A),b.at(R,c,h),b.at(z,c,h),_!==null&&b.at(_,i,A)}):B.globals.dom.Paper.gradient(Z?"radial":"linear",function(b){(Array.isArray(w[S])?w[S]:w).forEach(function(Q){b.at(Q.offset/100,Q.color,Q.opacity)})}),Z){var ee=B.globals.gridWidth/2,ae=B.globals.gridHeight/2;B.config.chart.type!=="bubble"?u.attr({gradientUnits:"userSpaceOnUse",cx:ee,cy:ae,r:p}):u.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else n==="vertical"?u.from(0,0).to(0,1):n==="diagonal"?u.from(0,0).to(1,1):n==="horizontal"?u.from(0,1).to(1,1):n==="diagonal2"&&u.from(1,0).to(0,1);return u}},{key:"getTextBasedOnMaxWidth",value:function(n){var i=n.text,c=n.maxWidth,A=n.fontSize,h=n.fontFamily,u=this.getTextRects(i,A,h),p=u.width/i.length,x=Math.floor(c/p);return c<u.width?i.slice(0,x-3)+"...":i}},{key:"drawText",value:function(n){var i=this,c=n.x,A=n.y,h=n.text,u=n.textAnchor,p=n.fontSize,x=n.fontFamily,w=n.fontWeight,S=n.foreColor,B=n.opacity,P=n.maxWidth,R=n.cssClass,z=R===void 0?"":R,_=n.isPlainText,Z=_===void 0||_,ee=n.dominantBaseline,ae=ee===void 0?"auto":ee,b=this.w;h===void 0&&(h="");var Q=h;u||(u="start"),S&&S.length||(S=b.config.chart.foreColor),x=x||b.config.chart.fontFamily,w=w||"regular";var K,ge={maxWidth:P,fontSize:p=p||"11px",fontFamily:x};return Array.isArray(h)?K=b.globals.dom.Paper.text(function(se){for(var me=0;me<h.length;me++)Q=h[me],P&&(Q=i.getTextBasedOnMaxWidth(U({text:h[me]},ge))),me===0?se.tspan(Q):se.tspan(Q).newLine()}):(P&&(Q=this.getTextBasedOnMaxWidth(U({text:h},ge))),K=Z?b.globals.dom.Paper.plain(h):b.globals.dom.Paper.text(function(se){return se.tspan(Q)})),K.attr({x:c,y:A,"text-anchor":u,"dominant-baseline":ae,"font-size":p,"font-family":x,"font-weight":w,fill:S,class:"apexcharts-text "+z}),K.node.style.fontFamily=x,K.node.style.opacity=B,K}},{key:"getMarkerPath",value:function(n,i,c,A){var h="";switch(c){case"cross":h="M ".concat(n-(A/=1.4)," ").concat(i-A," L ").concat(n+A," ").concat(i+A,"  M ").concat(n-A," ").concat(i+A," L ").concat(n+A," ").concat(i-A);break;case"plus":h="M ".concat(n-(A/=1.12)," ").concat(i," L ").concat(n+A," ").concat(i,"  M ").concat(n," ").concat(i-A," L ").concat(n," ").concat(i+A);break;case"star":case"sparkle":var u=5;A*=1.15,c==="sparkle"&&(A/=1.1,u=4);for(var p=Math.PI/u,x=0;x<=2*u;x++){var w=x*p,S=x%2==0?A:A/2;h+=(x===0?"M":"L")+(n+S*Math.sin(w))+","+(i-S*Math.cos(w))}h+="Z";break;case"triangle":h="M ".concat(n," ").concat(i-A,` 
             L `).concat(n+A," ").concat(i+A,` 
             L `).concat(n-A," ").concat(i+A,` 
             Z`);break;case"square":case"rect":h="M ".concat(n-(A/=1.125)," ").concat(i-A,` 
           L `).concat(n+A," ").concat(i-A,` 
           L `).concat(n+A," ").concat(i+A,` 
           L `).concat(n-A," ").concat(i+A,` 
           Z`);break;case"diamond":A*=1.05,h="M ".concat(n," ").concat(i-A,` 
             L `).concat(n+A," ").concat(i,` 
             L `).concat(n," ").concat(i+A,` 
             L `).concat(n-A," ").concat(i,` 
            Z`);break;case"line":h="M ".concat(n-(A/=1.1)," ").concat(i,` 
           L `).concat(n+A," ").concat(i);break;default:A*=2,h="M ".concat(n,", ").concat(i,` 
           m -`).concat(A/2,`, 0 
           a `).concat(A/2,",").concat(A/2," 0 1,0 ").concat(A,`,0 
           a `).concat(A/2,",").concat(A/2," 0 1,0 -").concat(A,",0")}return h}},{key:"drawMarkerShape",value:function(n,i,c,A,h){var u=this.drawPath({d:this.getMarkerPath(n,i,c,A,h),stroke:h.pointStrokeColor,strokeDashArray:h.pointStrokeDashArray,strokeWidth:h.pointStrokeWidth,fill:h.pointFillColor,fillOpacity:h.pointFillOpacity,strokeOpacity:h.pointStrokeOpacity});return u.attr({cx:n,cy:i,shape:h.shape,class:h.class?h.class:""}),u}},{key:"drawMarker",value:function(n,i,c){n=n||0;var A=c.pSize||0;return M.isNumber(i)||(A=0,i=0),this.drawMarkerShape(n,i,c==null?void 0:c.shape,A,U(U({},c),c.shape==="line"||c.shape==="plus"||c.shape==="cross"?{pointStrokeColor:c.pointFillColor,pointStrokeOpacity:c.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(n,i){var c=this.w,A=new G(this.ctx),h=parseInt(n.node.getAttribute("index"),10),u=parseInt(n.node.getAttribute("j"),10);if(typeof c.config.chart.events.dataPointMouseEnter=="function"&&c.config.chart.events.dataPointMouseEnter(i,this.ctx,{seriesIndex:h,dataPointIndex:u,w:c}),this.ctx.events.fireEvent("dataPointMouseEnter",[i,this.ctx,{seriesIndex:h,dataPointIndex:u,w:c}]),(c.config.states.active.filter.type==="none"||n.node.getAttribute("selected")!=="true")&&c.config.states.hover.filter.type!=="none"&&!c.globals.isTouchDevice){var p=c.config.states.hover.filter;A.applyFilter(n,h,p.type,p.value)}}},{key:"pathMouseLeave",value:function(n,i){var c=this.w,A=new G(this.ctx),h=parseInt(n.node.getAttribute("index"),10),u=parseInt(n.node.getAttribute("j"),10);typeof c.config.chart.events.dataPointMouseLeave=="function"&&c.config.chart.events.dataPointMouseLeave(i,this.ctx,{seriesIndex:h,dataPointIndex:u,w:c}),this.ctx.events.fireEvent("dataPointMouseLeave",[i,this.ctx,{seriesIndex:h,dataPointIndex:u,w:c}]),c.config.states.active.filter.type!=="none"&&n.node.getAttribute("selected")==="true"||c.config.states.hover.filter.type!=="none"&&A.getDefaultFilter(n,h)}},{key:"pathMouseDown",value:function(n,i){var c=this.w,A=new G(this.ctx),h=parseInt(n.node.getAttribute("index"),10),u=parseInt(n.node.getAttribute("j"),10),p="false";if(n.node.getAttribute("selected")==="true"){if(n.node.setAttribute("selected","false"),c.globals.selectedDataPoints[h].indexOf(u)>-1){var x=c.globals.selectedDataPoints[h].indexOf(u);c.globals.selectedDataPoints[h].splice(x,1)}}else{if(!c.config.states.active.allowMultipleDataPointsSelection&&c.globals.selectedDataPoints.length>0){c.globals.selectedDataPoints=[];var w=c.globals.dom.Paper.select(".apexcharts-series path").members,S=c.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,B=function(z){Array.prototype.forEach.call(z,function(_){_.node.setAttribute("selected","false"),A.getDefaultFilter(_,h)})};B(w),B(S)}n.node.setAttribute("selected","true"),p="true",c.globals.selectedDataPoints[h]===void 0&&(c.globals.selectedDataPoints[h]=[]),c.globals.selectedDataPoints[h].push(u)}if(p==="true"){var P=c.config.states.active.filter;if(P!=="none")A.applyFilter(n,h,P.type,P.value);else if(c.config.states.hover.filter!=="none"&&!c.globals.isTouchDevice){var R=c.config.states.hover.filter;A.applyFilter(n,h,R.type,R.value)}}else c.config.states.active.filter.type!=="none"&&(c.config.states.hover.filter.type==="none"||c.globals.isTouchDevice?A.getDefaultFilter(n,h):(R=c.config.states.hover.filter,A.applyFilter(n,h,R.type,R.value)));typeof c.config.chart.events.dataPointSelection=="function"&&c.config.chart.events.dataPointSelection(i,this.ctx,{selectedDataPoints:c.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:u,w:c}),i&&this.ctx.events.fireEvent("dataPointSelection",[i,this.ctx,{selectedDataPoints:c.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:u,w:c}])}},{key:"rotateAroundCenter",value:function(n){var i={};return n&&typeof n.getBBox=="function"&&(i=n.getBBox()),{x:i.x+i.width/2,y:i.y+i.height/2}}},{key:"getTextRects",value:function(n,i,c,A){var h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],u=this.w,p=this.drawText({x:-200,y:-200,text:n,textAnchor:"start",fontSize:i,fontFamily:c,foreColor:"#fff",opacity:0});A&&p.attr("transform",A),u.globals.dom.Paper.add(p);var x=p.bbox();return h||(x=p.node.getBoundingClientRect()),p.remove(),{width:x.width,height:x.height}}},{key:"placeTextWithEllipsis",value:function(n,i,c){if(typeof n.getComputedTextLength=="function"&&(n.textContent=i,i.length>0&&n.getComputedTextLength()>=c/1.1)){for(var A=i.length-3;A>0;A-=3)if(n.getSubStringLength(0,A)<=c/1.1)return void(n.textContent=i.substring(0,A)+"...");n.textContent="."}}}],[{key:"setAttrs",value:function(n,i){for(var c in i)i.hasOwnProperty(c)&&n.setAttribute(c,i[c])}}]),te}(),ue=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"getStackedSeriesTotals",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=this.w,c=[];if(i.globals.series.length===0)return c;for(var A=0;A<i.globals.series[i.globals.maxValsInArrayIndex].length;A++){for(var h=0,u=0;u<i.globals.series.length;u++)i.globals.series[u][A]!==void 0&&n.indexOf(u)===-1&&(h+=i.globals.series[u][A]);c.push(h)}return c}},{key:"getSeriesTotalByIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return n===null?this.w.config.series.reduce(function(i,c){return i+c},0):this.w.globals.series[n].reduce(function(i,c){return i+c},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var n=this,i=this.w,c=[];return i.globals.seriesGroups.forEach(function(A){var h=[];i.config.series.forEach(function(p,x){A.indexOf(i.globals.seriesNames[x])>-1&&h.push(x)});var u=i.globals.series.map(function(p,x){return h.indexOf(x)===-1?x:-1}).filter(function(p){return p!==-1});c.push(n.getStackedSeriesTotals(u))}),c}},{key:"setSeriesYAxisMappings",value:function(){var n=this.w.globals,i=this.w.config,c=[],A=[],h=[],u=n.series.length>i.yaxis.length||i.yaxis.some(function(B){return Array.isArray(B.seriesName)});i.series.forEach(function(B,P){h.push(P),A.push(null)}),i.yaxis.forEach(function(B,P){c[P]=[]});var p=[];i.yaxis.forEach(function(B,P){var R=!1;if(B.seriesName){var z=[];Array.isArray(B.seriesName)?z=B.seriesName:z.push(B.seriesName),z.forEach(function(_){i.series.forEach(function(Z,ee){if(Z.name===_){var ae=ee;P===ee||u?!u||h.indexOf(ee)>-1?c[P].push([P,ee]):console.warn("Series '"+Z.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(c[ee].push([ee,P]),ae=P),R=!0,(ae=h.indexOf(ae))!==-1&&h.splice(ae,1)}})})}R||p.push(P)}),c=c.map(function(B,P){var R=[];return B.forEach(function(z){A[z[1]]=z[0],R.push(z[1])}),R});for(var x=i.yaxis.length-1,w=0;w<p.length&&(x=p[w],c[x]=[],h);w++){var S=h[0];h.shift(),c[x].push(S),A[S]=x}h.forEach(function(B){c[x].push(B),A[B]=x}),n.seriesYAxisMap=c.map(function(B){return B}),n.seriesYAxisReverseMap=A.map(function(B){return B}),n.seriesYAxisMap.forEach(function(B,P){B.forEach(function(R){i.series[R]&&i.series[R].group===void 0&&(i.series[R].group="apexcharts-axis-".concat(P.toString()))})})}},{key:"isSeriesNull",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(n===null?this.w.config.series.filter(function(i){return i!==null}):this.w.config.series[n].data.filter(function(i){return i!==null})).length===0}},{key:"seriesHaveSameValues",value:function(n){return this.w.globals.series[n].every(function(i,c,A){return i===A[0]})}},{key:"getCategoryLabels",value:function(n){var i=this.w,c=n.slice();return i.config.xaxis.convertedCatToNumeric&&(c=n.map(function(A,h){return i.config.xaxis.labels.formatter(A-i.globals.minX+1)})),c}},{key:"getLargestSeries",value:function(){var n=this.w;n.globals.maxValsInArrayIndex=n.globals.series.map(function(i){return i.length}).indexOf(Math.max.apply(Math,n.globals.series.map(function(i){return i.length})))}},{key:"getLargestMarkerSize",value:function(){var n=this.w,i=0;return n.globals.markers.size.forEach(function(c){i=Math.max(i,c)}),n.config.markers.discrete&&n.config.markers.discrete.length&&n.config.markers.discrete.forEach(function(c){i=Math.max(i,c.size)}),i>0&&(n.config.markers.hover.size>0?i=n.config.markers.hover.size:i+=n.config.markers.hover.sizeOffset),n.globals.markers.largestSize=i,i}},{key:"getSeriesTotals",value:function(){var n=this.w;n.globals.seriesTotals=n.globals.series.map(function(i,c){var A=0;if(Array.isArray(i))for(var h=0;h<i.length;h++)A+=i[h];else A+=i;return A})}},{key:"getSeriesTotalsXRange",value:function(n,i){var c=this.w;return c.globals.series.map(function(A,h){for(var u=0,p=0;p<A.length;p++)c.globals.seriesX[h][p]>n&&c.globals.seriesX[h][p]<i&&(u+=A[p]);return u})}},{key:"getPercentSeries",value:function(){var n=this.w;n.globals.seriesPercent=n.globals.series.map(function(i,c){var A=[];if(Array.isArray(i))for(var h=0;h<i.length;h++){var u=n.globals.stackedSeriesTotals[h],p=0;u&&(p=100*i[h]/u),A.push(p)}else{var x=100*i/n.globals.seriesTotals.reduce(function(w,S){return w+S},0);A.push(x)}return A})}},{key:"getCalculatedRatios",value:function(){var n,i,c,A=this,h=this.w,u=h.globals,p=[],x=0,w=[],S=.1,B=0;if(u.yRange=[],u.isMultipleYAxis)for(var P=0;P<u.minYArr.length;P++)u.yRange.push(Math.abs(u.minYArr[P]-u.maxYArr[P])),w.push(0);else u.yRange.push(Math.abs(u.minY-u.maxY));u.xRange=Math.abs(u.maxX-u.minX),u.zRange=Math.abs(u.maxZ-u.minZ);for(var R=0;R<u.yRange.length;R++)p.push(u.yRange[R]/u.gridHeight);if(i=u.xRange/u.gridWidth,n=u.yRange/u.gridWidth,c=u.xRange/u.gridHeight,(x=u.zRange/u.gridHeight*16)||(x=1),u.minY!==Number.MIN_VALUE&&Math.abs(u.minY)!==0&&(u.hasNegs=!0),h.globals.seriesYAxisReverseMap.length>0){var z=function(Z,ee){var ae=h.config.yaxis[h.globals.seriesYAxisReverseMap[ee]],b=Z<0?-1:1;return Z=Math.abs(Z),ae.logarithmic&&(Z=A.getBaseLog(ae.logBase,Z)),-b*Z/p[ee]};if(u.isMultipleYAxis){w=[];for(var _=0;_<p.length;_++)w.push(z(u.minYArr[_],_))}else(w=[]).push(z(u.minY,0)),u.minY!==Number.MIN_VALUE&&Math.abs(u.minY)!==0&&(S=-u.minY/n,B=u.minX/i)}else(w=[]).push(0),S=0,B=0;return{yRatio:p,invertedYRatio:n,zRatio:x,xRatio:i,invertedXRatio:c,baseLineInvertedY:S,baseLineY:w,baseLineX:B}}},{key:"getLogSeries",value:function(n){var i=this,c=this.w;return c.globals.seriesLog=n.map(function(A,h){var u=c.globals.seriesYAxisReverseMap[h];return c.config.yaxis[u]&&c.config.yaxis[u].logarithmic?A.map(function(p){return p===null?null:i.getLogVal(c.config.yaxis[u].logBase,p,h)}):A}),c.globals.invalidLogScale?n:c.globals.seriesLog}},{key:"getBaseLog",value:function(n,i){return Math.log(i)/Math.log(n)}},{key:"getLogVal",value:function(n,i,c){if(i<=0)return 0;var A=this.w,h=A.globals.minYArr[c]===0?-1:this.getBaseLog(n,A.globals.minYArr[c]),u=(A.globals.maxYArr[c]===0?0:this.getBaseLog(n,A.globals.maxYArr[c]))-h;return i<1?i/u:(this.getBaseLog(n,i)-h)/u}},{key:"getLogYRatios",value:function(n){var i=this,c=this.w,A=this.w.globals;return A.yLogRatio=n.slice(),A.logYRange=A.yRange.map(function(h,u){var p=c.globals.seriesYAxisReverseMap[u];if(c.config.yaxis[p]&&i.w.config.yaxis[p].logarithmic){var x,w=-Number.MAX_VALUE,S=Number.MIN_VALUE;return A.seriesLog.forEach(function(B,P){B.forEach(function(R){c.config.yaxis[P]&&c.config.yaxis[P].logarithmic&&(w=Math.max(R,w),S=Math.min(R,S))})}),x=Math.pow(A.yRange[u],Math.abs(S-w)/A.yRange[u]),A.yLogRatio[u]=x/A.gridHeight,x}}),A.invalidLogScale?n.slice():A.yLogRatio}},{key:"drawSeriesByGroup",value:function(n,i,c,A){var h=this.w,u=[];return n.series.length>0&&i.forEach(function(p){var x=[],w=[];n.i.forEach(function(S,B){h.config.series[S].group===p&&(x.push(n.series[B]),w.push(S))}),x.length>0&&u.push(A.draw(x,c,w))}),u}}],[{key:"checkComboSeries",value:function(n,i){var c=!1,A=0,h=0;return i===void 0&&(i="line"),n.length&&n[0].type!==void 0&&n.forEach(function(u){u.type!=="bar"&&u.type!=="column"&&u.type!=="candlestick"&&u.type!=="boxPlot"||A++,u.type!==void 0&&u.type!==i&&h++}),h>0&&(c=!0),{comboBarCount:A,comboCharts:c}}},{key:"extendArrayProps",value:function(n,i,c){var A,h,u,p,x,w;return(A=i)!==null&&A!==void 0&&A.yaxis&&(i=n.extendYAxis(i,c)),(h=i)!==null&&h!==void 0&&h.annotations&&(i.annotations.yaxis&&(i=n.extendYAxisAnnotations(i)),(u=i)!==null&&u!==void 0&&(p=u.annotations)!==null&&p!==void 0&&p.xaxis&&(i=n.extendXAxisAnnotations(i)),(x=i)!==null&&x!==void 0&&(w=x.annotations)!==null&&w!==void 0&&w.points&&(i=n.extendPointAnnotations(i))),i}}]),te}(),ne=function(){function te(n){o(this,te),this.w=n.w,this.annoCtx=n}return d(te,[{key:"setOrientations",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=this.w;if(n.label.orientation==="vertical"){var A=i!==null?i:0,h=c.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(A,"']"));if(h!==null){var u=h.getBoundingClientRect();h.setAttribute("x",parseFloat(h.getAttribute("x"))-u.height+4);var p=n.label.position==="top"?u.width:-u.width;h.setAttribute("y",parseFloat(h.getAttribute("y"))+p);var x=this.annoCtx.graphics.rotateAroundCenter(h),w=x.x,S=x.y;h.setAttribute("transform","rotate(-90 ".concat(w," ").concat(S,")"))}}}},{key:"addBackgroundToAnno",value:function(n,i){var c=this.w;if(!n||!i.label.text||!String(i.label.text).trim())return null;var A=c.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),h=n.getBoundingClientRect(),u=i.label.style.padding,p=u.left,x=u.right,w=u.top,S=u.bottom;if(i.label.orientation==="vertical"){var B=[p,x,w,S];w=B[0],S=B[1],p=B[2],x=B[3]}var P=h.left-A.left-p,R=h.top-A.top-w,z=this.annoCtx.graphics.drawRect(P-c.globals.barPadForNumericAxis,R,h.width+p+x,h.height+w+S,i.label.borderRadius,i.label.style.background,1,i.label.borderWidth,i.label.borderColor,0);return i.id&&z.node.classList.add(i.id),z}},{key:"annotationsBackground",value:function(){var n=this,i=this.w,c=function(A,h,u){var p=i.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-annotations .apexcharts-").concat(u,"-annotation-label[rel='").concat(h,"']"));if(p){var x=p.parentNode,w=n.addBackgroundToAnno(p,A);w&&(x.insertBefore(w.node,p),A.label.mouseEnter&&w.node.addEventListener("mouseenter",A.label.mouseEnter.bind(n,A)),A.label.mouseLeave&&w.node.addEventListener("mouseleave",A.label.mouseLeave.bind(n,A)),A.label.click&&w.node.addEventListener("click",A.label.click.bind(n,A)))}};i.config.annotations.xaxis.forEach(function(A,h){return c(A,h,"xaxis")}),i.config.annotations.yaxis.forEach(function(A,h){return c(A,h,"yaxis")}),i.config.annotations.points.forEach(function(A,h){return c(A,h,"point")})}},{key:"getY1Y2",value:function(n,i){var c,A=this.w,h=n==="y1"?i.y:i.y2,u=!1;if(this.annoCtx.invertAxis){var p=A.config.xaxis.convertedCatToNumeric?A.globals.categoryLabels:A.globals.labels,x=p.indexOf(h),w=A.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(x+1,")"));c=w?parseFloat(w.getAttribute("y")):(A.globals.gridHeight/p.length-1)*(x+1)-A.globals.barHeight,i.seriesIndex!==void 0&&A.globals.barHeight&&(c-=A.globals.barHeight/2*(A.globals.series.length-1)-A.globals.barHeight*i.seriesIndex)}else{var S,B=A.globals.seriesYAxisMap[i.yAxisIndex][0],P=A.config.yaxis[i.yAxisIndex].logarithmic?new ue(this.annoCtx.ctx).getLogVal(A.config.yaxis[i.yAxisIndex].logBase,h,B)/A.globals.yLogRatio[B]:(h-A.globals.minYArr[B])/(A.globals.yRange[B]/A.globals.gridHeight);c=A.globals.gridHeight-Math.min(Math.max(P,0),A.globals.gridHeight),u=P>A.globals.gridHeight||P<0,!i.marker||i.y!==void 0&&i.y!==null||(c=0),(S=A.config.yaxis[i.yAxisIndex])!==null&&S!==void 0&&S.reversed&&(c=P)}return typeof h=="string"&&h.includes("px")&&(c=parseFloat(h)),{yP:c,clipped:u}}},{key:"getX1X2",value:function(n,i){var c=this.w,A=n==="x1"?i.x:i.x2,h=this.annoCtx.invertAxis?c.globals.minY:c.globals.minX,u=this.annoCtx.invertAxis?c.globals.maxY:c.globals.maxX,p=this.annoCtx.invertAxis?c.globals.yRange[0]:c.globals.xRange,x=!1,w=this.annoCtx.inversedReversedAxis?(u-A)/(p/c.globals.gridWidth):(A-h)/(p/c.globals.gridWidth);return c.config.xaxis.type!=="category"&&!c.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||c.globals.dataFormatXNumeric||c.config.chart.sparkline.enabled||(w=this.getStringX(A)),typeof A=="string"&&A.includes("px")&&(w=parseFloat(A)),A==null&&i.marker&&(w=c.globals.gridWidth),i.seriesIndex!==void 0&&c.globals.barWidth&&!this.annoCtx.invertAxis&&(w-=c.globals.barWidth/2*(c.globals.series.length-1)-c.globals.barWidth*i.seriesIndex),w>c.globals.gridWidth?(w=c.globals.gridWidth,x=!0):w<0&&(w=0,x=!0),{x:w,clipped:x}}},{key:"getStringX",value:function(n){var i=this.w,c=n;i.config.xaxis.convertedCatToNumeric&&i.globals.categoryLabels.length&&(n=i.globals.categoryLabels.indexOf(n)+1);var A=i.globals.labels.map(function(u){return Array.isArray(u)?u.join(" "):u}).indexOf(n),h=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(A+1,")"));return h&&(c=parseFloat(h.getAttribute("x"))),c}}]),te}(),$=function(){function te(n){o(this,te),this.w=n.w,this.annoCtx=n,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new ne(this.annoCtx)}return d(te,[{key:"addXaxisAnnotation",value:function(n,i,c){var A,h=this.w,u=this.helpers.getX1X2("x1",n),p=u.x,x=u.clipped,w=!0,S=n.label.text,B=n.strokeDashArray;if(M.isNumber(p)){if(n.x2===null||n.x2===void 0){if(!x){var P=this.annoCtx.graphics.drawLine(p+n.offsetX,0+n.offsetY,p+n.offsetX,h.globals.gridHeight+n.offsetY,n.borderColor,B,n.borderWidth);i.appendChild(P.node),n.id&&P.node.classList.add(n.id)}}else{var R=this.helpers.getX1X2("x2",n);if(A=R.x,w=R.clipped,!x||!w){if(A<p){var z=p;p=A,A=z}var _=this.annoCtx.graphics.drawRect(p+n.offsetX,0+n.offsetY,A-p,h.globals.gridHeight+n.offsetY,0,n.fillColor,n.opacity,1,n.borderColor,B);_.node.classList.add("apexcharts-annotation-rect"),_.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),i.appendChild(_.node),n.id&&_.node.classList.add(n.id)}}if(!x||!w){var Z=this.annoCtx.graphics.getTextRects(S,parseFloat(n.label.style.fontSize)),ee=n.label.position==="top"?4:n.label.position==="center"?h.globals.gridHeight/2+(n.label.orientation==="vertical"?Z.width/2:0):h.globals.gridHeight,ae=this.annoCtx.graphics.drawText({x:p+n.label.offsetX,y:ee+n.label.offsetY-(n.label.orientation==="vertical"?n.label.position==="top"?Z.width/2-12:-Z.width/2:0),text:S,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});ae.attr({rel:c}),i.appendChild(ae.node),this.annoCtx.helpers.setOrientations(n,c)}}}},{key:"drawXAxisAnnotations",value:function(){var n=this,i=this.w,c=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return i.config.annotations.xaxis.map(function(A,h){n.addXaxisAnnotation(A,c.node,h)}),c}}]),te}(),J=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return d(te,[{key:"isValidDate",value:function(n){return typeof n!="number"&&!isNaN(this.parseDate(n))}},{key:"getTimeStamp",value:function(n){return Date.parse(n)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toISOString().substr(0,25)).getTime():new Date(n).getTime():n}},{key:"getDate",value:function(n){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toUTCString()):new Date(n)}},{key:"parseDate",value:function(n){var i=Date.parse(n);if(!isNaN(i))return this.getTimeStamp(n);var c=Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "));return c=this.getTimeStamp(c)}},{key:"parseDateWithTimezone",value:function(n){return Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(n,i){var c=this.w.globals.locale,A=this.w.config.xaxis.labels.datetimeUTC,h=["\0"].concat(L(c.months)),u=[""].concat(L(c.shortMonths)),p=[""].concat(L(c.days)),x=[""].concat(L(c.shortDays));function w(me,Fe){var Le=me+"";for(Fe=Fe||2;Le.length<Fe;)Le="0"+Le;return Le}var S=A?n.getUTCFullYear():n.getFullYear();i=(i=(i=i.replace(/(^|[^\\])yyyy+/g,"$1"+S)).replace(/(^|[^\\])yy/g,"$1"+S.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+S);var B=(A?n.getUTCMonth():n.getMonth())+1;i=(i=(i=(i=i.replace(/(^|[^\\])MMMM+/g,"$1"+h[0])).replace(/(^|[^\\])MMM/g,"$1"+u[0])).replace(/(^|[^\\])MM/g,"$1"+w(B))).replace(/(^|[^\\])M/g,"$1"+B);var P=A?n.getUTCDate():n.getDate();i=(i=(i=(i=i.replace(/(^|[^\\])dddd+/g,"$1"+p[0])).replace(/(^|[^\\])ddd/g,"$1"+x[0])).replace(/(^|[^\\])dd/g,"$1"+w(P))).replace(/(^|[^\\])d/g,"$1"+P);var R=A?n.getUTCHours():n.getHours(),z=R>12?R-12:R===0?12:R;i=(i=(i=(i=i.replace(/(^|[^\\])HH+/g,"$1"+w(R))).replace(/(^|[^\\])H/g,"$1"+R)).replace(/(^|[^\\])hh+/g,"$1"+w(z))).replace(/(^|[^\\])h/g,"$1"+z);var _=A?n.getUTCMinutes():n.getMinutes();i=(i=i.replace(/(^|[^\\])mm+/g,"$1"+w(_))).replace(/(^|[^\\])m/g,"$1"+_);var Z=A?n.getUTCSeconds():n.getSeconds();i=(i=i.replace(/(^|[^\\])ss+/g,"$1"+w(Z))).replace(/(^|[^\\])s/g,"$1"+Z);var ee=A?n.getUTCMilliseconds():n.getMilliseconds();i=i.replace(/(^|[^\\])fff+/g,"$1"+w(ee,3)),ee=Math.round(ee/10),i=i.replace(/(^|[^\\])ff/g,"$1"+w(ee)),ee=Math.round(ee/10);var ae=R<12?"AM":"PM";i=(i=(i=i.replace(/(^|[^\\])f/g,"$1"+ee)).replace(/(^|[^\\])TT+/g,"$1"+ae)).replace(/(^|[^\\])T/g,"$1"+ae.charAt(0));var b=ae.toLowerCase();i=(i=i.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var Q=-n.getTimezoneOffset(),K=A||!Q?"Z":Q>0?"+":"-";if(!A){var ge=(Q=Math.abs(Q))%60;K+=w(Math.floor(Q/60))+":"+w(ge)}i=i.replace(/(^|[^\\])K/g,"$1"+K);var se=(A?n.getUTCDay():n.getDay())+1;return i=(i=(i=(i=(i=i.replace(new RegExp(p[0],"g"),p[se])).replace(new RegExp(x[0],"g"),x[se])).replace(new RegExp(h[0],"g"),h[B])).replace(new RegExp(u[0],"g"),u[B])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(n,i,c){var A=this.w;A.config.xaxis.min!==void 0&&(n=A.config.xaxis.min),A.config.xaxis.max!==void 0&&(i=A.config.xaxis.max);var h=this.getDate(n),u=this.getDate(i),p=this.formatDate(h,"yyyy MM dd HH mm ss fff").split(" "),x=this.formatDate(u,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(p[6],10),maxMillisecond:parseInt(x[6],10),minSecond:parseInt(p[5],10),maxSecond:parseInt(x[5],10),minMinute:parseInt(p[4],10),maxMinute:parseInt(x[4],10),minHour:parseInt(p[3],10),maxHour:parseInt(x[3],10),minDate:parseInt(p[2],10),maxDate:parseInt(x[2],10),minMonth:parseInt(p[1],10)-1,maxMonth:parseInt(x[1],10)-1,minYear:parseInt(p[0],10),maxYear:parseInt(x[0],10)}}},{key:"isLeapYear",value:function(n){return n%4==0&&n%100!=0||n%400==0}},{key:"calculcateLastDaysOfMonth",value:function(n,i,c){return this.determineDaysOfMonths(n,i)-c}},{key:"determineDaysOfYear",value:function(n){var i=365;return this.isLeapYear(n)&&(i=366),i}},{key:"determineRemainingDaysOfYear",value:function(n,i,c){var A=this.daysCntOfYear[i]+c;return i>1&&this.isLeapYear()&&A++,A}},{key:"determineDaysOfMonths",value:function(n,i){var c=30;switch(n=M.monthMod(n),!0){case this.months30.indexOf(n)>-1:n===2&&(c=this.isLeapYear(i)?29:28);break;case this.months31.indexOf(n)>-1:default:c=31}return c}}]),te}(),oe=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.tooltipKeyFormat="dd MMM"}return d(te,[{key:"xLabelFormat",value:function(n,i,c,A){var h=this.w;if(h.config.xaxis.type==="datetime"&&h.config.xaxis.labels.formatter===void 0&&h.config.tooltip.x.formatter===void 0){var u=new J(this.ctx);return u.formatDate(u.getDate(i),h.config.tooltip.x.format)}return n(i,c,A)}},{key:"defaultGeneralFormatter",value:function(n){return Array.isArray(n)?n.map(function(i){return i}):n}},{key:"defaultYFormatter",value:function(n,i,c){var A=this.w;if(M.isNumber(n))if(A.globals.yValueDecimal!==0)n=n.toFixed(i.decimalsInFloat!==void 0?i.decimalsInFloat:A.globals.yValueDecimal);else{var h=n.toFixed(0);n=n==h?h:n.toFixed(1)}return n}},{key:"setLabelFormatters",value:function(){var n=this,i=this.w;return i.globals.xaxisTooltipFormatter=function(c){return n.defaultGeneralFormatter(c)},i.globals.ttKeyFormatter=function(c){return n.defaultGeneralFormatter(c)},i.globals.ttZFormatter=function(c){return c},i.globals.legendFormatter=function(c){return n.defaultGeneralFormatter(c)},i.config.xaxis.labels.formatter!==void 0?i.globals.xLabelFormatter=i.config.xaxis.labels.formatter:i.globals.xLabelFormatter=function(c){if(M.isNumber(c)){if(!i.config.xaxis.convertedCatToNumeric&&i.config.xaxis.type==="numeric"){if(M.isNumber(i.config.xaxis.decimalsInFloat))return c.toFixed(i.config.xaxis.decimalsInFloat);var A=i.globals.maxX-i.globals.minX;return A>0&&A<100?c.toFixed(1):c.toFixed(0)}return i.globals.isBarHorizontal&&i.globals.maxY-i.globals.minYArr<4?c.toFixed(1):c.toFixed(0)}return c},typeof i.config.tooltip.x.formatter=="function"?i.globals.ttKeyFormatter=i.config.tooltip.x.formatter:i.globals.ttKeyFormatter=i.globals.xLabelFormatter,typeof i.config.xaxis.tooltip.formatter=="function"&&(i.globals.xaxisTooltipFormatter=i.config.xaxis.tooltip.formatter),(Array.isArray(i.config.tooltip.y)||i.config.tooltip.y.formatter!==void 0)&&(i.globals.ttVal=i.config.tooltip.y),i.config.tooltip.z.formatter!==void 0&&(i.globals.ttZFormatter=i.config.tooltip.z.formatter),i.config.legend.formatter!==void 0&&(i.globals.legendFormatter=i.config.legend.formatter),i.config.yaxis.forEach(function(c,A){c.labels.formatter!==void 0?i.globals.yLabelFormatters[A]=c.labels.formatter:i.globals.yLabelFormatters[A]=function(h){return i.globals.xyCharts?Array.isArray(h)?h.map(function(u){return n.defaultYFormatter(u,c,A)}):n.defaultYFormatter(h,c,A):h}}),i.globals}},{key:"heatmapLabelFormatters",value:function(){var n=this.w;if(n.config.chart.type==="heatmap"){n.globals.yAxisScale[0].result=n.globals.seriesNames.slice();var i=n.globals.seriesNames.reduce(function(c,A){return c.length>A.length?c:A},0);n.globals.yAxisScale[0].niceMax=i,n.globals.yAxisScale[0].niceMin=i}}}]),te}(),le=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"getLabel",value:function(n,i,c,A){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",p=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],x=this.w,w=n[A]===void 0?"":n[A],S=w,B=x.globals.xLabelFormatter,P=x.config.xaxis.labels.formatter,R=!1,z=new oe(this.ctx),_=w;p&&(S=z.xLabelFormat(B,w,_,{i:A,dateFormatter:new J(this.ctx).formatDate,w:x}),P!==void 0&&(S=P(w,n[A],{i:A,dateFormatter:new J(this.ctx).formatDate,w:x})));var Z,ee;i.length>0?(Z=i[A].unit,ee=null,i.forEach(function(K){K.unit==="month"?ee="year":K.unit==="day"?ee="month":K.unit==="hour"?ee="day":K.unit==="minute"&&(ee="hour")}),R=ee===Z,c=i[A].position,S=i[A].value):x.config.xaxis.type==="datetime"&&P===void 0&&(S=""),S===void 0&&(S=""),S=Array.isArray(S)?S:S.toString();var ae=new V(this.ctx),b={};b=x.globals.rotateXLabels&&p?ae.getTextRects(S,parseInt(u,10),null,"rotate(".concat(x.config.xaxis.labels.rotate," 0 0)"),!1):ae.getTextRects(S,parseInt(u,10));var Q=!x.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(S)&&(String(S)==="NaN"||h.indexOf(S)>=0&&Q)&&(S=""),{x:c,text:S,textRect:b,isBold:R}}},{key:"checkLabelBasedOnTickamount",value:function(n,i,c){var A=this.w,h=A.config.xaxis.tickAmount;return h==="dataPoints"&&(h=Math.round(A.globals.gridWidth/120)),h>c||n%Math.round(c/(h+1))==0||(i.text=""),i}},{key:"checkForOverflowingLabels",value:function(n,i,c,A,h){var u=this.w;if(n===0&&u.globals.skipFirstTimelinelabel&&(i.text=""),n===c-1&&u.globals.skipLastTimelinelabel&&(i.text=""),u.config.xaxis.labels.hideOverlappingLabels&&A.length>0){var p=h[h.length-1];i.x<p.textRect.width/(u.globals.rotateXLabels?Math.abs(u.config.xaxis.labels.rotate)/12:1.01)+p.x&&(i.text="")}return i}},{key:"checkForReversedLabels",value:function(n,i){var c=this.w;return c.config.yaxis[n]&&c.config.yaxis[n].reversed&&i.reverse(),i}},{key:"yAxisAllSeriesCollapsed",value:function(n){var i=this.w.globals;return!i.seriesYAxisMap[n].some(function(c){return i.collapsedSeriesIndices.indexOf(c)===-1})}},{key:"translateYAxisIndex",value:function(n){var i=this.w,c=i.globals,A=i.config.yaxis;return c.series.length>A.length||A.some(function(h){return Array.isArray(h.seriesName)})?n:c.seriesYAxisReverseMap[n]}},{key:"isYAxisHidden",value:function(n){var i=this.w,c=i.config.yaxis[n];if(!c.show||this.yAxisAllSeriesCollapsed(n))return!0;if(!c.showForNullSeries){var A=i.globals.seriesYAxisMap[n],h=new ue(this.ctx);return A.every(function(u){return h.isSeriesNull(u)})}return!1}},{key:"getYAxisForeColor",value:function(n,i){var c=this.w;return Array.isArray(n)&&c.globals.yAxisScale[i]&&this.ctx.theme.pushExtraColors(n,c.globals.yAxisScale[i].result.length,!1),n}},{key:"drawYAxisTicks",value:function(n,i,c,A,h,u,p){var x=this.w,w=new V(this.ctx),S=x.globals.translateY+x.config.yaxis[h].labels.offsetY;if(x.globals.isBarHorizontal?S=0:x.config.chart.type==="heatmap"&&(S+=u/2),A.show&&i>0){x.config.yaxis[h].opposite===!0&&(n+=A.width);for(var B=i;B>=0;B--){var P=w.drawLine(n+c.offsetX-A.width+A.offsetX,S+A.offsetY,n+c.offsetX+A.offsetX,S+A.offsetY,A.color);p.add(P),S+=u}}}}]),te}(),ie=function(){function te(n){o(this,te),this.w=n.w,this.annoCtx=n,this.helpers=new ne(this.annoCtx),this.axesUtils=new le(this.annoCtx)}return d(te,[{key:"addYaxisAnnotation",value:function(n,i,c){var A,h=this.w,u=n.strokeDashArray,p=this.helpers.getY1Y2("y1",n),x=p.yP,w=p.clipped,S=!0,B=!1,P=n.label.text;if(n.y2===null||n.y2===void 0){if(!w){B=!0;var R=this.annoCtx.graphics.drawLine(0+n.offsetX,x+n.offsetY,this._getYAxisAnnotationWidth(n),x+n.offsetY,n.borderColor,u,n.borderWidth);i.appendChild(R.node),n.id&&R.node.classList.add(n.id)}}else{if(A=(p=this.helpers.getY1Y2("y2",n)).yP,S=p.clipped,A>x){var z=x;x=A,A=z}if(!w||!S){B=!0;var _=this.annoCtx.graphics.drawRect(0+n.offsetX,A+n.offsetY,this._getYAxisAnnotationWidth(n),x-A,0,n.fillColor,n.opacity,1,n.borderColor,u);_.node.classList.add("apexcharts-annotation-rect"),_.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),i.appendChild(_.node),n.id&&_.node.classList.add(n.id)}}if(B){var Z=n.label.position==="right"?h.globals.gridWidth:n.label.position==="center"?h.globals.gridWidth/2:0,ee=this.annoCtx.graphics.drawText({x:Z+n.label.offsetX,y:(A??x)+n.label.offsetY-3,text:P,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});ee.attr({rel:c}),i.appendChild(ee.node)}}},{key:"_getYAxisAnnotationWidth",value:function(n){var i=this.w;return i.globals.gridWidth,(n.width.indexOf("%")>-1?i.globals.gridWidth*parseInt(n.width,10)/100:parseInt(n.width,10))+n.offsetX}},{key:"drawYAxisAnnotations",value:function(){var n=this,i=this.w,c=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return i.config.annotations.yaxis.forEach(function(A,h){A.yAxisIndex=n.axesUtils.translateYAxisIndex(A.yAxisIndex),n.axesUtils.isYAxisHidden(A.yAxisIndex)&&n.axesUtils.yAxisAllSeriesCollapsed(A.yAxisIndex)||n.addYaxisAnnotation(A,c.node,h)}),c}}]),te}(),Y=function(){function te(n){o(this,te),this.w=n.w,this.annoCtx=n,this.helpers=new ne(this.annoCtx)}return d(te,[{key:"addPointAnnotation",value:function(n,i,c){if(!(this.w.globals.collapsedSeriesIndices.indexOf(n.seriesIndex)>-1)){var A=this.helpers.getX1X2("x1",n),h=A.x,u=A.clipped,p=(A=this.helpers.getY1Y2("y1",n)).yP,x=A.clipped;if(M.isNumber(h)&&!x&&!u){var w={pSize:n.marker.size,pointStrokeWidth:n.marker.strokeWidth,pointFillColor:n.marker.fillColor,pointStrokeColor:n.marker.strokeColor,shape:n.marker.shape,pRadius:n.marker.radius,class:"apexcharts-point-annotation-marker ".concat(n.marker.cssClass," ").concat(n.id?n.id:"")},S=this.annoCtx.graphics.drawMarker(h+n.marker.offsetX,p+n.marker.offsetY,w);i.appendChild(S.node);var B=n.label.text?n.label.text:"",P=this.annoCtx.graphics.drawText({x:h+n.label.offsetX,y:p+n.label.offsetY-n.marker.size-parseFloat(n.label.style.fontSize)/1.6,text:B,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});if(P.attr({rel:c}),i.appendChild(P.node),n.customSVG.SVG){var R=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+n.customSVG.cssClass});R.attr({transform:"translate(".concat(h+n.customSVG.offsetX,", ").concat(p+n.customSVG.offsetY,")")}),R.node.innerHTML=n.customSVG.SVG,i.appendChild(R.node)}if(n.image.path){var z=n.image.width?n.image.width:20,_=n.image.height?n.image.height:20;S=this.annoCtx.addImage({x:h+n.image.offsetX-z/2,y:p+n.image.offsetY-_/2,width:z,height:_,path:n.image.path,appendTo:".apexcharts-point-annotations"})}n.mouseEnter&&S.node.addEventListener("mouseenter",n.mouseEnter.bind(this,n)),n.mouseLeave&&S.node.addEventListener("mouseleave",n.mouseLeave.bind(this,n)),n.click&&S.node.addEventListener("click",n.click.bind(this,n))}}}},{key:"drawPointAnnotations",value:function(){var n=this,i=this.w,c=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return i.config.annotations.points.map(function(A,h){n.addPointAnnotation(A,c.node,h)}),c}}]),te}(),we={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},fe=function(){function te(){o(this,te),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return d(te,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[we],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(n){return n}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(n){return n+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce(function(i,c){return i+c},0)/n.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(n){return n},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(n){return n}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(n){return n}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce(function(i,c){return i+c},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(n){return n!==null?n:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(n){return n?n+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),te}(),je=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.graphics=new V(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new ne(this),this.xAxisAnnotations=new $(this),this.yAxisAnnotations=new ie(this),this.pointsAnnotations=new Y(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return d(te,[{key:"drawAxesAnnotations",value:function(){var n=this.w;if(n.globals.axisCharts&&n.globals.dataPoints){for(var i=this.yAxisAnnotations.drawYAxisAnnotations(),c=this.xAxisAnnotations.drawXAxisAnnotations(),A=this.pointsAnnotations.drawPointAnnotations(),h=n.config.chart.animations.enabled,u=[i,c,A],p=[c.node,i.node,A.node],x=0;x<3;x++)n.globals.dom.elGraphical.add(u[x]),!h||n.globals.resized||n.globals.dataChanged||n.config.chart.type!=="scatter"&&n.config.chart.type!=="bubble"&&n.globals.dataPoints>1&&p[x].classList.add("apexcharts-element-hidden"),n.globals.delayedElements.push({el:p[x],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var n=this;this.w.config.annotations.images.map(function(i,c){n.addImage(i,c)})}},{key:"drawTextAnnos",value:function(){var n=this;this.w.config.annotations.texts.map(function(i,c){n.addText(i,c)})}},{key:"addXaxisAnnotation",value:function(n,i,c){this.xAxisAnnotations.addXaxisAnnotation(n,i,c)}},{key:"addYaxisAnnotation",value:function(n,i,c){this.yAxisAnnotations.addYaxisAnnotation(n,i,c)}},{key:"addPointAnnotation",value:function(n,i,c){this.pointsAnnotations.addPointAnnotation(n,i,c)}},{key:"addText",value:function(n,i){var c=n.x,A=n.y,h=n.text,u=n.textAnchor,p=n.foreColor,x=n.fontSize,w=n.fontFamily,S=n.fontWeight,B=n.cssClass,P=n.backgroundColor,R=n.borderWidth,z=n.strokeDashArray,_=n.borderRadius,Z=n.borderColor,ee=n.appendTo,ae=ee===void 0?".apexcharts-svg":ee,b=n.paddingLeft,Q=b===void 0?4:b,K=n.paddingRight,ge=K===void 0?4:K,se=n.paddingBottom,me=se===void 0?2:se,Fe=n.paddingTop,Le=Fe===void 0?2:Fe,Oe=this.w,$e=this.graphics.drawText({x:c,y:A,text:h,textAnchor:u||"start",fontSize:x||"12px",fontWeight:S||"regular",fontFamily:w||Oe.config.chart.fontFamily,foreColor:p||Oe.config.chart.foreColor,cssClass:B}),Ge=Oe.globals.dom.baseEl.querySelector(ae);Ge&&Ge.appendChild($e.node);var Je=$e.bbox();if(h){var ot=this.graphics.drawRect(Je.x-Q,Je.y-Le,Je.width+Q+ge,Je.height+me+Le,_,P||"transparent",1,R,Z,z);Ge.insertBefore(ot.node,$e.node)}}},{key:"addImage",value:function(n,i){var c=this.w,A=n.path,h=n.x,u=h===void 0?0:h,p=n.y,x=p===void 0?0:p,w=n.width,S=w===void 0?20:w,B=n.height,P=B===void 0?20:B,R=n.appendTo,z=R===void 0?".apexcharts-svg":R,_=c.globals.dom.Paper.image(A);_.size(S,P).move(u,x);var Z=c.globals.dom.baseEl.querySelector(z);return Z&&Z.appendChild(_.node),_}},{key:"addXaxisAnnotationExternal",value:function(n,i,c){return this.addAnnotationExternal({params:n,pushToMemory:i,context:c,type:"xaxis",contextMethod:c.addXaxisAnnotation}),c}},{key:"addYaxisAnnotationExternal",value:function(n,i,c){return this.addAnnotationExternal({params:n,pushToMemory:i,context:c,type:"yaxis",contextMethod:c.addYaxisAnnotation}),c}},{key:"addPointAnnotationExternal",value:function(n,i,c){return this.invertAxis===void 0&&(this.invertAxis=c.w.globals.isBarHorizontal),this.addAnnotationExternal({params:n,pushToMemory:i,context:c,type:"point",contextMethod:c.addPointAnnotation}),c}},{key:"addAnnotationExternal",value:function(n){var i=n.params,c=n.pushToMemory,A=n.context,h=n.type,u=n.contextMethod,p=A,x=p.w,w=x.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations")),S=w.childNodes.length+1,B=new fe,P=Object.assign({},h==="xaxis"?B.xAxisAnnotation:h==="yaxis"?B.yAxisAnnotation:B.pointAnnotation),R=M.extend(P,i);switch(h){case"xaxis":this.addXaxisAnnotation(R,w,S);break;case"yaxis":this.addYaxisAnnotation(R,w,S);break;case"point":this.addPointAnnotation(R,w,S)}var z=x.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations .apexcharts-").concat(h,"-annotation-label[rel='").concat(S,"']")),_=this.helpers.addBackgroundToAnno(z,R);return _&&w.insertBefore(_.node,z),c&&x.globals.memory.methodsToExec.push({context:p,id:R.id?R.id:M.randomId(),method:u,label:"addAnnotation",params:i}),A}},{key:"clearAnnotations",value:function(n){for(var i=n.w,c=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),A=i.globals.memory.methodsToExec.length-1;A>=0;A--)i.globals.memory.methodsToExec[A].label!=="addText"&&i.globals.memory.methodsToExec[A].label!=="addAnnotation"||i.globals.memory.methodsToExec.splice(A,1);c=M.listToArray(c),Array.prototype.forEach.call(c,function(h){for(;h.firstChild;)h.removeChild(h.firstChild)})}},{key:"removeAnnotation",value:function(n,i){var c=n.w,A=c.globals.dom.baseEl.querySelectorAll(".".concat(i));A&&(c.globals.memory.methodsToExec.map(function(h,u){h.id===i&&c.globals.memory.methodsToExec.splice(u,1)}),Array.prototype.forEach.call(A,function(h){h.parentElement.removeChild(h)}))}}]),te}(),Pe=function(te){var n,i=te.isTimeline,c=te.ctx,A=te.seriesIndex,h=te.dataPointIndex,u=te.y1,p=te.y2,x=te.w,w=x.globals.seriesRangeStart[A][h],S=x.globals.seriesRangeEnd[A][h],B=x.globals.labels[h],P=x.config.series[A].name?x.config.series[A].name:"",R=x.globals.ttKeyFormatter,z=x.config.tooltip.y.title.formatter,_={w:x,seriesIndex:A,dataPointIndex:h,start:w,end:S};typeof z=="function"&&(P=z(P,_)),(n=x.config.series[A].data[h])!==null&&n!==void 0&&n.x&&(B=x.config.series[A].data[h].x),i||x.config.xaxis.type==="datetime"&&(B=new oe(c).xLabelFormat(x.globals.ttKeyFormatter,B,B,{i:void 0,dateFormatter:new J(c).formatDate,w:x})),typeof R=="function"&&(B=R(B,_)),Number.isFinite(u)&&Number.isFinite(p)&&(w=u,S=p);var Z="",ee="",ae=x.globals.colors[A];if(x.config.tooltip.x.formatter===void 0)if(x.config.xaxis.type==="datetime"){var b=new J(c);Z=b.formatDate(b.getDate(w),x.config.tooltip.x.format),ee=b.formatDate(b.getDate(S),x.config.tooltip.x.format)}else Z=w,ee=S;else Z=x.config.tooltip.x.formatter(w),ee=x.config.tooltip.x.formatter(S);return{start:w,end:S,startVal:Z,endVal:ee,ylabel:B,color:ae,seriesName:P}},Ve=function(te){var n=te.color,i=te.seriesName,c=te.ylabel,A=te.start,h=te.end,u=te.seriesIndex,p=te.dataPointIndex,x=te.ctx.tooltip.tooltipLabels.getFormatters(u);A=x.yLbFormatter(A),h=x.yLbFormatter(h);var w=x.yLbFormatter(te.w.globals.series[u][p]),S=`<span class="value start-value">
  `.concat(A,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(h,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+n+'">'+(i||"")+'</span></div><div> <span class="category">'+c+": </span> "+(te.w.globals.comboCharts?te.w.config.series[u].type==="rangeArea"||te.w.config.series[u].type==="rangeBar"?S:"<span>".concat(w,"</span>"):S)+" </div></div>"},de=function(){function te(n){o(this,te),this.opts=n}return d(te,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(n){return this.hideYAxis(),M.extend(n,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(n,i){var c=i.w.config.series[i.seriesIndex].name;return n!==null?c+": "+n:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),U(U({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var n=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(i){var c=i.seriesIndex,A=i.dataPointIndex,h=i.w;return n._getBoxTooltip(h,c,A,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var n=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(i){var c=i.seriesIndex,A=i.dataPointIndex,h=i.w;return n._getBoxTooltip(h,c,A,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(n,i){i.ctx;var c=i.seriesIndex,A=i.dataPointIndex,h=i.w,u=function(){var p=h.globals.seriesRangeStart[c][A];return h.globals.seriesRangeEnd[c][A]-p};return h.globals.comboCharts?h.config.series[c].type==="rangeBar"||h.config.series[c].type==="rangeArea"?u():n:u()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(n){return n.w.config.plotOptions&&n.w.config.plotOptions.bar&&n.w.config.plotOptions.bar.horizontal?function(i){var c=Pe(U(U({},i),{},{isTimeline:!0})),A=c.color,h=c.seriesName,u=c.ylabel,p=c.startVal,x=c.endVal;return Ve(U(U({},i),{},{color:A,seriesName:h,ylabel:u,start:p,end:x}))}(n):function(i){var c=Pe(i),A=c.color,h=c.seriesName,u=c.ylabel,p=c.start,x=c.end;return Ve(U(U({},i),{},{color:A,seriesName:h,ylabel:u,start:p,end:x}))}(n)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(n){var i,c;return(i=n.plotOptions.bar)!==null&&i!==void 0&&i.barHeight||(n.plotOptions.bar.barHeight=2),(c=n.plotOptions.bar)!==null&&c!==void 0&&c.columnWidth||(n.plotOptions.bar.columnWidth=2),n}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(n){return function(i){var c=Pe(i),A=c.color,h=c.seriesName,u=c.ylabel,p=c.start,x=c.end;return Ve(U(U({},i),{},{color:A,seriesName:h,ylabel:u,start:p,end:x}))}(n)}}}}},{key:"brush",value:function(n){return M.extend(n,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(n){n.dataLabels=n.dataLabels||{},n.dataLabels.formatter=n.dataLabels.formatter||void 0;var i=n.dataLabels.formatter;return n.yaxis.forEach(function(c,A){n.yaxis[A].min=0,n.yaxis[A].max=100}),n.chart.type==="bar"&&(n.dataLabels.formatter=i||function(c){return typeof c=="number"&&c?c.toFixed(0)+"%":c}),n}},{key:"stackedBars",value:function(){var n=this.bar();return U(U({},n),{},{plotOptions:U(U({},n.plotOptions),{},{bar:U(U({},n.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(n){return n.xaxis.convertedCatToNumeric=!0,n}},{key:"convertCatToNumericXaxis",value:function(n,i,c){n.xaxis.type="numeric",n.xaxis.labels=n.xaxis.labels||{},n.xaxis.labels.formatter=n.xaxis.labels.formatter||function(u){return M.isNumber(u)?Math.floor(u):u};var A=n.xaxis.labels.formatter,h=n.xaxis.categories&&n.xaxis.categories.length?n.xaxis.categories:n.labels;return c&&c.length&&(h=c.map(function(u){return Array.isArray(u)?u:String(u)})),h&&h.length&&(n.xaxis.labels.formatter=function(u){return M.isNumber(u)?A(h[Math.floor(u)-1]):A(u)}),n.xaxis.categories=[],n.labels=[],n.xaxis.tickAmount=n.xaxis.tickAmount||"dataPoints",n}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(n){return n},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(n,i,c,A,h){var u=n.globals.seriesCandleO[i][c],p=n.globals.seriesCandleH[i][c],x=n.globals.seriesCandleM[i][c],w=n.globals.seriesCandleL[i][c],S=n.globals.seriesCandleC[i][c];return n.config.series[i].type&&n.config.series[i].type!==h?`<div class="apexcharts-custom-tooltip">
          `.concat(n.config.series[i].name?n.config.series[i].name:"series-"+(i+1),": <strong>").concat(n.globals.series[i][c],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(n.config.chart.type,'">')+"<div>".concat(A[0],': <span class="value">')+u+"</span></div>"+"<div>".concat(A[1],': <span class="value">')+p+"</span></div>"+(x?"<div>".concat(A[2],': <span class="value">')+x+"</span></div>":"")+"<div>".concat(A[3],': <span class="value">')+w+"</span></div>"+"<div>".concat(A[4],': <span class="value">')+S+"</span></div></div>"}}]),te}(),he=function(){function te(n){o(this,te),this.opts=n}return d(te,[{key:"init",value:function(n){var i=n.responsiveOverride,c=this.opts,A=new fe,h=new de(c);this.chartType=c.chart.type,c=this.extendYAxis(c),c=this.extendAnnotations(c);var u=A.init(),p={};if(c&&T(c)==="object"){var x,w,S,B,P,R,z,_,Z,ee,ae={};ae=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(c.chart.type)!==-1?h[c.chart.type]():h.line(),(x=c.plotOptions)!==null&&x!==void 0&&(w=x.bar)!==null&&w!==void 0&&w.isFunnel&&(ae=h.funnel()),c.chart.stacked&&c.chart.type==="bar"&&(ae=h.stackedBars()),(S=c.chart.brush)!==null&&S!==void 0&&S.enabled&&(ae=h.brush(ae)),(B=c.plotOptions)!==null&&B!==void 0&&(P=B.line)!==null&&P!==void 0&&P.isSlopeChart&&(ae=h.slope()),c.chart.stacked&&c.chart.stackType==="100%"&&(c=h.stacked100(c)),(R=c.plotOptions)!==null&&R!==void 0&&(z=R.bar)!==null&&z!==void 0&&z.isDumbbell&&(c=h.dumbbell(c)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(c),c.xaxis=c.xaxis||window.Apex.xaxis||{},i||(c.xaxis.convertedCatToNumeric=!1),((_=(c=this.checkForCatToNumericXAxis(this.chartType,ae,c)).chart.sparkline)!==null&&_!==void 0&&_.enabled||(Z=window.Apex.chart)!==null&&Z!==void 0&&(ee=Z.sparkline)!==null&&ee!==void 0&&ee.enabled)&&(ae=h.sparkline(ae)),p=M.extend(u,ae)}var b=M.extend(p,window.Apex);return u=M.extend(b,c),u=this.handleUserInputErrors(u)}},{key:"checkForCatToNumericXAxis",value:function(n,i,c){var A,h,u=new de(c),p=(n==="bar"||n==="boxPlot")&&((A=c.plotOptions)===null||A===void 0||(h=A.bar)===null||h===void 0?void 0:h.horizontal),x=n==="pie"||n==="polarArea"||n==="donut"||n==="radar"||n==="radialBar"||n==="heatmap",w=c.xaxis.type!=="datetime"&&c.xaxis.type!=="numeric",S=c.xaxis.tickPlacement?c.xaxis.tickPlacement:i.xaxis&&i.xaxis.tickPlacement;return p||x||!w||S==="between"||(c=u.convertCatToNumeric(c)),c}},{key:"extendYAxis",value:function(n,i){var c=new fe;(n.yaxis===void 0||!n.yaxis||Array.isArray(n.yaxis)&&n.yaxis.length===0)&&(n.yaxis={}),n.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(n.yaxis=M.extend(n.yaxis,window.Apex.yaxis)),n.yaxis.constructor!==Array?n.yaxis=[M.extend(c.yAxis,n.yaxis)]:n.yaxis=M.extendArray(n.yaxis,c.yAxis);var A=!1;n.yaxis.forEach(function(u){u.logarithmic&&(A=!0)});var h=n.series;return i&&!h&&(h=i.config.series),A&&h.length!==n.yaxis.length&&h.length&&(n.yaxis=h.map(function(u,p){if(u.name||(h[p].name="series-".concat(p+1)),n.yaxis[p])return n.yaxis[p].seriesName=h[p].name,n.yaxis[p];var x=M.extend(c.yAxis,n.yaxis[0]);return x.show=!1,x})),A&&h.length>1&&h.length!==n.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),n}},{key:"extendAnnotations",value:function(n){return n.annotations===void 0&&(n.annotations={},n.annotations.yaxis=[],n.annotations.xaxis=[],n.annotations.points=[]),n=this.extendYAxisAnnotations(n),n=this.extendXAxisAnnotations(n),n=this.extendPointAnnotations(n)}},{key:"extendYAxisAnnotations",value:function(n){var i=new fe;return n.annotations.yaxis=M.extendArray(n.annotations.yaxis!==void 0?n.annotations.yaxis:[],i.yAxisAnnotation),n}},{key:"extendXAxisAnnotations",value:function(n){var i=new fe;return n.annotations.xaxis=M.extendArray(n.annotations.xaxis!==void 0?n.annotations.xaxis:[],i.xAxisAnnotation),n}},{key:"extendPointAnnotations",value:function(n){var i=new fe;return n.annotations.points=M.extendArray(n.annotations.points!==void 0?n.annotations.points:[],i.pointAnnotation),n}},{key:"checkForDarkTheme",value:function(n){n.theme&&n.theme.mode==="dark"&&(n.tooltip||(n.tooltip={}),n.tooltip.theme!=="light"&&(n.tooltip.theme="dark"),n.chart.foreColor||(n.chart.foreColor="#f6f7f8"),n.theme.palette||(n.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(n){var i=n;if(i.tooltip.shared&&i.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(i.chart.type==="bar"&&i.plotOptions.bar.horizontal){if(i.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");i.yaxis[0].reversed&&(i.yaxis[0].opposite=!0),i.xaxis.tooltip.enabled=!1,i.yaxis[0].tooltip.enabled=!1,i.chart.zoom.enabled=!1}return i.chart.type!=="bar"&&i.chart.type!=="rangeBar"||i.tooltip.shared&&i.xaxis.crosshairs.width==="barWidth"&&i.series.length>1&&(i.xaxis.crosshairs.width="tickWidth"),i.chart.type!=="candlestick"&&i.chart.type!=="boxPlot"||i.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(i.chart.type," chart is not supported.")),i.yaxis[0].reversed=!1),i}}]),te}(),Ne=function(){function te(){o(this,te)}return d(te,[{key:"initGlobalVars",value:function(n){n.series=[],n.seriesCandleO=[],n.seriesCandleH=[],n.seriesCandleM=[],n.seriesCandleL=[],n.seriesCandleC=[],n.seriesRangeStart=[],n.seriesRangeEnd=[],n.seriesRange=[],n.seriesPercent=[],n.seriesGoals=[],n.seriesX=[],n.seriesZ=[],n.seriesNames=[],n.seriesTotals=[],n.seriesLog=[],n.seriesColors=[],n.stackedSeriesTotals=[],n.seriesXvalues=[],n.seriesYvalues=[],n.labels=[],n.hasXaxisGroups=!1,n.groups=[],n.barGroups=[],n.lineGroups=[],n.areaGroups=[],n.hasSeriesGroups=!1,n.seriesGroups=[],n.categoryLabels=[],n.timescaleLabels=[],n.noLabelsProvided=!1,n.resizeTimer=null,n.selectionResizeTimer=null,n.lastWheelExecution=0,n.delayedElements=[],n.pointsArray=[],n.dataLabelsRects=[],n.isXNumeric=!1,n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1,n.isDataXYZ=!1,n.isMultiLineX=!1,n.isMultipleYAxis=!1,n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE,n.minYArr=[],n.maxYArr=[],n.maxX=-Number.MAX_VALUE,n.minX=Number.MAX_VALUE,n.initialMaxX=-Number.MAX_VALUE,n.initialMinX=Number.MAX_VALUE,n.maxDate=0,n.minDate=Number.MAX_VALUE,n.minZ=Number.MAX_VALUE,n.maxZ=-Number.MAX_VALUE,n.minXDiff=Number.MAX_VALUE,n.yAxisScale=[],n.xAxisScale=null,n.xAxisTicksPositions=[],n.yLabelsCoords=[],n.yTitleCoords=[],n.barPadForNumericAxis=0,n.padHorizontal=0,n.xRange=0,n.yRange=[],n.zRange=0,n.dataPoints=0,n.xTickAmount=0,n.multiAxisTickAmount=0}},{key:"globalVars",value:function(n){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:n.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:n.chart.toolbar.autoSelected==="zoom"&&n.chart.toolbar.tools.zoom&&n.chart.zoom.enabled,panEnabled:n.chart.toolbar.autoSelected==="pan"&&n.chart.toolbar.tools.pan,selectionEnabled:n.chart.toolbar.autoSelected==="selection"&&n.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:n.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(n){var i=this.globalVars(n);return this.initGlobalVars(i),i.initialConfig=M.extend({},n),i.initialSeries=M.clone(n.series),i.lastXAxis=M.clone(i.initialConfig.xaxis),i.lastYAxis=M.clone(i.initialConfig.yaxis),i}}]),te}(),Ee=function(){function te(n){o(this,te),this.opts=n}return d(te,[{key:"init",value:function(){var n=new he(this.opts).init({responsiveOverride:!1});return{config:n,globals:new Ne().init(n)}}}]),te}(),Se=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return d(te,[{key:"clippedImgArea",value:function(n){var i=this.w,c=i.config,A=parseInt(i.globals.gridWidth,10),h=parseInt(i.globals.gridHeight,10),u=A>h?A:h,p=n.image,x=0,w=0;n.width===void 0&&n.height===void 0?c.fill.image.width!==void 0&&c.fill.image.height!==void 0?(x=c.fill.image.width+1,w=c.fill.image.height):(x=u+1,w=u):(x=n.width,w=n.height);var S=document.createElementNS(i.globals.SVGNS,"pattern");V.setAttrs(S,{id:n.patternID,patternUnits:n.patternUnits?n.patternUnits:"userSpaceOnUse",width:x+"px",height:w+"px"});var B=document.createElementNS(i.globals.SVGNS,"image");S.appendChild(B),B.setAttributeNS(window.SVG.xlink,"href",p),V.setAttrs(B,{x:0,y:0,preserveAspectRatio:"none",width:x+"px",height:w+"px"}),B.style.opacity=n.opacity,i.globals.dom.elDefs.node.appendChild(S)}},{key:"getSeriesIndex",value:function(n){var i=this.w,c=i.config.chart.type;return(c==="bar"||c==="rangeBar")&&i.config.plotOptions.bar.distributed||c==="heatmap"||c==="treemap"?this.seriesIndex=n.seriesNumber:this.seriesIndex=n.seriesNumber%i.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(n){var i=this.w;this.opts=n;var c,A,h,u=this.w.config;this.seriesIndex=this.getSeriesIndex(n);var p=this.getFillColors()[this.seriesIndex];i.globals.seriesColors[this.seriesIndex]!==void 0&&(p=i.globals.seriesColors[this.seriesIndex]),typeof p=="function"&&(p=p({seriesIndex:this.seriesIndex,dataPointIndex:n.dataPointIndex,value:n.value,w:i}));var x=n.fillType?n.fillType:this.getFillType(this.seriesIndex),w=Array.isArray(u.fill.opacity)?u.fill.opacity[this.seriesIndex]:u.fill.opacity;n.color&&(p=n.color),p||(p="#fff",console.warn("undefined color - ApexCharts"));var S=p;if(p.indexOf("rgb")===-1?p.length<9&&(S=M.hexToRgba(p,w)):p.indexOf("rgba")>-1&&(w=M.getOpacityFromRGBA(p)),n.opacity&&(w=n.opacity),x==="pattern"&&(A=this.handlePatternFill({fillConfig:n.fillConfig,patternFill:A,fillColor:p,fillOpacity:w,defaultColor:S})),x==="gradient"&&(h=this.handleGradientFill({fillConfig:n.fillConfig,fillColor:p,fillOpacity:w,i:this.seriesIndex})),x==="image"){var B=u.fill.image.src,P=n.patternID?n.patternID:"",R="pattern".concat(i.globals.cuid).concat(n.seriesNumber+1).concat(P);this.patternIDs.indexOf(R)===-1&&(this.clippedImgArea({opacity:w,image:Array.isArray(B)?n.seriesNumber<B.length?B[n.seriesNumber]:B[0]:B,width:n.width?n.width:void 0,height:n.height?n.height:void 0,patternUnits:n.patternUnits,patternID:R}),this.patternIDs.push(R)),c="url(#".concat(R,")")}else c=x==="gradient"?h:x==="pattern"?A:S;return n.solid&&(c=S),c}},{key:"getFillType",value:function(n){var i=this.w;return Array.isArray(i.config.fill.type)?i.config.fill.type[n]:i.config.fill.type}},{key:"getFillColors",value:function(){var n=this.w,i=n.config,c=this.opts,A=[];return n.globals.comboCharts?n.config.series[this.seriesIndex].type==="line"?Array.isArray(n.globals.stroke.colors)?A=n.globals.stroke.colors:A.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?A=n.globals.fill.colors:A.push(n.globals.fill.colors):i.chart.type==="line"?Array.isArray(n.globals.stroke.colors)?A=n.globals.stroke.colors:A.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?A=n.globals.fill.colors:A.push(n.globals.fill.colors),c.fillColors!==void 0&&(A=[],Array.isArray(c.fillColors)?A=c.fillColors.slice():A.push(c.fillColors)),A}},{key:"handlePatternFill",value:function(n){var i=n.fillConfig,c=n.patternFill,A=n.fillColor,h=n.fillOpacity,u=n.defaultColor,p=this.w.config.fill;i&&(p=i);var x=this.opts,w=new V(this.ctx),S=Array.isArray(p.pattern.strokeWidth)?p.pattern.strokeWidth[this.seriesIndex]:p.pattern.strokeWidth,B=A;return Array.isArray(p.pattern.style)?c=p.pattern.style[x.seriesNumber]!==void 0?w.drawPattern(p.pattern.style[x.seriesNumber],p.pattern.width,p.pattern.height,B,S,h):u:c=w.drawPattern(p.pattern.style,p.pattern.width,p.pattern.height,B,S,h),c}},{key:"handleGradientFill",value:function(n){var i=n.fillColor,c=n.fillOpacity,A=n.fillConfig,h=n.i,u=this.w.config.fill;A&&(u=U(U({},u),A));var p,x=this.opts,w=new V(this.ctx),S=new M,B=u.gradient.type,P=i,R=u.gradient.opacityFrom===void 0?c:Array.isArray(u.gradient.opacityFrom)?u.gradient.opacityFrom[h]:u.gradient.opacityFrom;P.indexOf("rgba")>-1&&(R=M.getOpacityFromRGBA(P));var z=u.gradient.opacityTo===void 0?c:Array.isArray(u.gradient.opacityTo)?u.gradient.opacityTo[h]:u.gradient.opacityTo;if(u.gradient.gradientToColors===void 0||u.gradient.gradientToColors.length===0)p=u.gradient.shade==="dark"?S.shadeColor(-1*parseFloat(u.gradient.shadeIntensity),i.indexOf("rgb")>-1?M.rgb2hex(i):i):S.shadeColor(parseFloat(u.gradient.shadeIntensity),i.indexOf("rgb")>-1?M.rgb2hex(i):i);else if(u.gradient.gradientToColors[x.seriesNumber]){var _=u.gradient.gradientToColors[x.seriesNumber];p=_,_.indexOf("rgba")>-1&&(z=M.getOpacityFromRGBA(_))}else p=i;if(u.gradient.gradientFrom&&(P=u.gradient.gradientFrom),u.gradient.gradientTo&&(p=u.gradient.gradientTo),u.gradient.inverseColors){var Z=P;P=p,p=Z}return P.indexOf("rgb")>-1&&(P=M.rgb2hex(P)),p.indexOf("rgb")>-1&&(p=M.rgb2hex(p)),w.drawGradient(B,P,p,R,z,x.size,u.gradient.stops,u.gradient.colorStops,h)}}]),te}(),Ie=function(){function te(n,i){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"setGlobalMarkerSize",value:function(){var n=this.w;if(n.globals.markers.size=Array.isArray(n.config.markers.size)?n.config.markers.size:[n.config.markers.size],n.globals.markers.size.length>0){if(n.globals.markers.size.length<n.globals.series.length+1)for(var i=0;i<=n.globals.series.length;i++)n.globals.markers.size[i]===void 0&&n.globals.markers.size.push(n.globals.markers.size[0])}else n.globals.markers.size=n.config.series.map(function(c){return n.config.markers.size})}},{key:"plotChartMarkers",value:function(n,i,c,A){var h,u=arguments.length>4&&arguments[4]!==void 0&&arguments[4],p=this.w,x=i,w=n,S=null,B=new V(this.ctx),P=p.config.markers.discrete&&p.config.markers.discrete.length;if((p.globals.markers.size[i]>0||u||P)&&(S=B.group({class:u||P?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(p.globals.cuid,")")),Array.isArray(w.x))for(var R=0;R<w.x.length;R++){var z=c;c===1&&R===0&&(z=0),c===1&&R===1&&(z=1);var _="apexcharts-marker";if(p.config.chart.type!=="line"&&p.config.chart.type!=="area"||p.globals.comboCharts||p.config.tooltip.intersect||(_+=" no-pointer-events"),(Array.isArray(p.config.markers.size)?p.globals.markers.size[i]>0:p.config.markers.size>0)||u||P){M.isNumber(w.y[R])?_+=" w".concat(M.randomId()):_="apexcharts-nullpoint";var Z=this.getMarkerConfig({cssClass:_,seriesIndex:i,dataPointIndex:z});p.config.series[x].data[z]&&(p.config.series[x].data[z].fillColor&&(Z.pointFillColor=p.config.series[x].data[z].fillColor),p.config.series[x].data[z].strokeColor&&(Z.pointStrokeColor=p.config.series[x].data[z].strokeColor)),A!==void 0&&(Z.pSize=A),(w.x[R]<-p.globals.markers.largestSize||w.x[R]>p.globals.gridWidth+p.globals.markers.largestSize||w.y[R]<-p.globals.markers.largestSize||w.y[R]>p.globals.gridHeight+p.globals.markers.largestSize)&&(Z.pSize=0),(h=B.drawMarker(w.x[R],w.y[R],Z)).attr("rel",z),h.attr("j",z),h.attr("index",i),h.node.setAttribute("default-marker-size",Z.pSize),new G(this.ctx).setSelectionFilter(h,i,z),this.addEvents(h),S&&S.add(h)}else p.globals.pointsArray[i]===void 0&&(p.globals.pointsArray[i]=[]),p.globals.pointsArray[i].push([w.x[R],w.y[R]])}return S}},{key:"getMarkerConfig",value:function(n){var i=n.cssClass,c=n.seriesIndex,A=n.dataPointIndex,h=A===void 0?null:A,u=n.radius,p=u===void 0?null:u,x=n.size,w=x===void 0?null:x,S=n.strokeWidth,B=S===void 0?null:S,P=this.w,R=this.getMarkerStyle(c),z=w===null?P.globals.markers.size[c]:w,_=P.config.markers;return h!==null&&_.discrete.length&&_.discrete.map(function(Z){Z.seriesIndex===c&&Z.dataPointIndex===h&&(R.pointStrokeColor=Z.strokeColor,R.pointFillColor=Z.fillColor,z=Z.size,R.pointShape=Z.shape)}),{pSize:p===null?z:p,pRadius:p!==null?p:_.radius,pointStrokeWidth:B!==null?B:Array.isArray(_.strokeWidth)?_.strokeWidth[c]:_.strokeWidth,pointStrokeColor:R.pointStrokeColor,pointFillColor:R.pointFillColor,shape:R.pointShape||(Array.isArray(_.shape)?_.shape[c]:_.shape),class:i,pointStrokeOpacity:Array.isArray(_.strokeOpacity)?_.strokeOpacity[c]:_.strokeOpacity,pointStrokeDashArray:Array.isArray(_.strokeDashArray)?_.strokeDashArray[c]:_.strokeDashArray,pointFillOpacity:Array.isArray(_.fillOpacity)?_.fillOpacity[c]:_.fillOpacity,seriesIndex:c}}},{key:"addEvents",value:function(n){var i=this.w,c=new V(this.ctx);n.node.addEventListener("mouseenter",c.pathMouseEnter.bind(this.ctx,n)),n.node.addEventListener("mouseleave",c.pathMouseLeave.bind(this.ctx,n)),n.node.addEventListener("mousedown",c.pathMouseDown.bind(this.ctx,n)),n.node.addEventListener("click",i.config.markers.onClick),n.node.addEventListener("dblclick",i.config.markers.onDblClick),n.node.addEventListener("touchstart",c.pathMouseDown.bind(this.ctx,n),{passive:!0})}},{key:"getMarkerStyle",value:function(n){var i=this.w,c=i.globals.markers.colors,A=i.config.markers.strokeColor||i.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(A)?A[n]:A,pointFillColor:Array.isArray(c)?c[n]:c}}}]),te}(),ke=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.initialAnim=this.w.config.chart.animations.enabled}return d(te,[{key:"draw",value:function(n,i,c){var A=this.w,h=new V(this.ctx),u=c.realIndex,p=c.pointsPos,x=c.zRatio,w=c.elParent,S=h.group({class:"apexcharts-series-markers apexcharts-series-".concat(A.config.chart.type)});if(S.attr("clip-path","url(#gridRectMarkerMask".concat(A.globals.cuid,")")),Array.isArray(p.x))for(var B=0;B<p.x.length;B++){var P=i+1,R=!0;i===0&&B===0&&(P=0),i===0&&B===1&&(P=1);var z=A.globals.markers.size[u];if(x!==1/0){var _=A.config.plotOptions.bubble;z=A.globals.seriesZ[u][P],_.zScaling&&(z/=x),_.minBubbleRadius&&z<_.minBubbleRadius&&(z=_.minBubbleRadius),_.maxBubbleRadius&&z>_.maxBubbleRadius&&(z=_.maxBubbleRadius)}var Z=p.x[B],ee=p.y[B];if(z=z||0,ee!==null&&A.globals.series[u][P]!==void 0||(R=!1),R){var ae=this.drawPoint(Z,ee,z,u,P,i);S.add(ae)}w.add(S)}}},{key:"drawPoint",value:function(n,i,c,A,h,u){var p=this.w,x=A,w=new re(this.ctx),S=new G(this.ctx),B=new Se(this.ctx),P=new Ie(this.ctx),R=new V(this.ctx),z=P.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:x,dataPointIndex:h,radius:p.config.chart.type==="bubble"||p.globals.comboCharts&&p.config.series[A]&&p.config.series[A].type==="bubble"?c:null}),_=B.fillPath({seriesNumber:A,dataPointIndex:h,color:z.pointFillColor,patternUnits:"objectBoundingBox",value:p.globals.series[A][u]}),Z=R.drawMarker(n,i,z);if(p.config.series[x].data[h]&&p.config.series[x].data[h].fillColor&&(_=p.config.series[x].data[h].fillColor),Z.attr({fill:_}),p.config.chart.dropShadow.enabled){var ee=p.config.chart.dropShadow;S.dropShadow(Z,ee,A)}if(!this.initialAnim||p.globals.dataChanged||p.globals.resized)p.globals.animationEnded=!0;else{var ae=p.config.chart.animations.speed;w.animateMarker(Z,ae,p.globals.easing,function(){window.setTimeout(function(){w.animationCompleted(Z)},100)})}return Z.attr({rel:h,j:h,index:A,"default-marker-size":z.pSize}),S.setSelectionFilter(Z,A,h),P.addEvents(Z),Z.node.classList.add("apexcharts-marker"),Z}},{key:"centerTextInBubble",value:function(n){var i=this.w;return{y:n+=parseInt(i.config.dataLabels.style.fontSize,10)/4}}}]),te}(),Qe=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"dataLabelsCorrection",value:function(n,i,c,A,h,u,p){var x=this.w,w=!1,S=new V(this.ctx).getTextRects(c,p),B=S.width,P=S.height;i<0&&(i=0),i>x.globals.gridHeight+P&&(i=x.globals.gridHeight+P/2),x.globals.dataLabelsRects[A]===void 0&&(x.globals.dataLabelsRects[A]=[]),x.globals.dataLabelsRects[A].push({x:n,y:i,width:B,height:P});var R=x.globals.dataLabelsRects[A].length-2,z=x.globals.lastDrawnDataLabelsIndexes[A]!==void 0?x.globals.lastDrawnDataLabelsIndexes[A][x.globals.lastDrawnDataLabelsIndexes[A].length-1]:0;if(x.globals.dataLabelsRects[A][R]!==void 0){var _=x.globals.dataLabelsRects[A][z];(n>_.x+_.width||i>_.y+_.height||i+P<_.y||n+B<_.x)&&(w=!0)}return(h===0||u)&&(w=!0),{x:n,y:i,textRects:S,drawnextLabel:w}}},{key:"drawDataLabel",value:function(n){var i=this,c=n.type,A=n.pos,h=n.i,u=n.j,p=n.isRangeStart,x=n.strokeWidth,w=x===void 0?2:x,S=this.w,B=new V(this.ctx),P=S.config.dataLabels,R=0,z=0,_=u,Z=null;if(S.globals.collapsedSeriesIndices.indexOf(h)!==-1||!P.enabled||!Array.isArray(A.x))return Z;Z=B.group({class:"apexcharts-data-labels"});for(var ee=0;ee<A.x.length;ee++)if(R=A.x[ee]+P.offsetX,z=A.y[ee]+P.offsetY+w,!isNaN(R)){u===1&&ee===0&&(_=0),u===1&&ee===1&&(_=1);var ae=S.globals.series[h][_];c==="rangeArea"&&(ae=p?S.globals.seriesRangeStart[h][_]:S.globals.seriesRangeEnd[h][_]);var b="",Q=function(ge){return S.config.dataLabels.formatter(ge,{ctx:i.ctx,seriesIndex:h,dataPointIndex:_,w:S})};S.config.chart.type==="bubble"?(b=Q(ae=S.globals.seriesZ[h][_]),z=A.y[ee],z=new ke(this.ctx).centerTextInBubble(z,h,_).y):ae!==void 0&&(b=Q(ae));var K=S.config.dataLabels.textAnchor;S.globals.isSlopeChart&&(K=_===0?"end":_===S.config.series[h].data.length-1?"start":"middle"),this.plotDataLabelsText({x:R,y:z,text:b,i:h,j:_,parent:Z,offsetCorrection:!0,dataLabelsConfig:S.config.dataLabels,textAnchor:K})}return Z}},{key:"plotDataLabelsText",value:function(n){var i=this.w,c=new V(this.ctx),A=n.x,h=n.y,u=n.i,p=n.j,x=n.text,w=n.textAnchor,S=n.fontSize,B=n.parent,P=n.dataLabelsConfig,R=n.color,z=n.alwaysDrawDataLabel,_=n.offsetCorrection,Z=n.className,ee=null;if(Array.isArray(i.config.dataLabels.enabledOnSeries)&&i.config.dataLabels.enabledOnSeries.indexOf(u)<0)return ee;var ae={x:A,y:h,drawnextLabel:!0,textRects:null};_&&(ae=this.dataLabelsCorrection(A,h,x,u,p,z,parseInt(P.style.fontSize,10))),i.globals.zoomed||(A=ae.x,h=ae.y),ae.textRects&&(A<-20-ae.textRects.width||A>i.globals.gridWidth+ae.textRects.width+30)&&(x="");var b=i.globals.dataLabels.style.colors[u];((i.config.chart.type==="bar"||i.config.chart.type==="rangeBar")&&i.config.plotOptions.bar.distributed||i.config.dataLabels.distributed)&&(b=i.globals.dataLabels.style.colors[p]),typeof b=="function"&&(b=b({series:i.globals.series,seriesIndex:u,dataPointIndex:p,w:i})),R&&(b=R);var Q=P.offsetX,K=P.offsetY;if(i.config.chart.type!=="bar"&&i.config.chart.type!=="rangeBar"||(Q=0,K=0),i.globals.isSlopeChart&&(p!==0&&(Q=-2*P.offsetX+5),p!==0&&p!==i.config.series[u].data.length-1&&(Q=0)),ae.drawnextLabel){if((ee=c.drawText({width:100,height:parseInt(P.style.fontSize,10),x:A+Q,y:h+K,foreColor:b,textAnchor:w||P.textAnchor,text:x,fontSize:S||P.style.fontSize,fontFamily:P.style.fontFamily,fontWeight:P.style.fontWeight||"normal"})).attr({class:Z||"apexcharts-datalabel",cx:A,cy:h}),P.dropShadow.enabled){var ge=P.dropShadow;new G(this.ctx).dropShadow(ee,ge)}B.add(ee),i.globals.lastDrawnDataLabelsIndexes[u]===void 0&&(i.globals.lastDrawnDataLabelsIndexes[u]=[]),i.globals.lastDrawnDataLabelsIndexes[u].push(p)}return ee}},{key:"addBackgroundToDataLabel",value:function(n,i){var c=this.w,A=c.config.dataLabels.background,h=A.padding,u=A.padding/2,p=i.width,x=i.height,w=new V(this.ctx).drawRect(i.x-h,i.y-u/2,p+2*h,x+u,A.borderRadius,c.config.chart.background!=="transparent"&&c.config.chart.background?c.config.chart.background:"#fff",A.opacity,A.borderWidth,A.borderColor);return A.dropShadow.enabled&&new G(this.ctx).dropShadow(w,A.dropShadow),w}},{key:"dataLabelsBackground",value:function(){var n=this.w;if(n.config.chart.type!=="bubble")for(var i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),c=0;c<i.length;c++){var A=i[c],h=A.getBBox(),u=null;if(h.width&&h.height&&(u=this.addBackgroundToDataLabel(A,h)),u){A.parentNode.insertBefore(u.node,A);var p=A.getAttribute("fill");n.config.chart.animations.enabled&&!n.globals.resized&&!n.globals.dataChanged?u.animate().attr({fill:p}):u.attr({fill:p}),A.setAttribute("fill",n.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var n=this.w,i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),c=n.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),A=0;A<i.length;A++)c&&c.insertBefore(i[A],c.nextSibling)}}]),te}(),Ke=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.legendInactiveClass="legend-mouseover-inactive"}return d(te,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(n){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(M.escapeString(n),"']"))}},{key:"isSeriesHidden",value:function(n){var i=this.getSeriesByName(n),c=parseInt(i.getAttribute("data:realIndex"),10);return{isHidden:i.classList.contains("apexcharts-series-collapsed"),realIndex:c}}},{key:"addCollapsedClassToSeries",value:function(n,i){var c=this.w;function A(h){for(var u=0;u<h.length;u++)h[u].index===i&&n.node.classList.add("apexcharts-series-collapsed")}A(c.globals.collapsedSeries),A(c.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(n){var i=this.isSeriesHidden(n);return this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,i.isHidden),i.isHidden}},{key:"showSeries",value:function(n){var i=this.isSeriesHidden(n);i.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,!0)}},{key:"hideSeries",value:function(n){var i=this.isSeriesHidden(n);i.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,!1)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],A=this.w,h=M.clone(A.globals.initialSeries);A.globals.previousPaths=[],c?(A.globals.collapsedSeries=[],A.globals.ancillaryCollapsedSeries=[],A.globals.collapsedSeriesIndices=[],A.globals.ancillaryCollapsedSeriesIndices=[]):h=this.emptyCollapsedSeries(h),A.config.series=h,n&&(i&&(A.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(h,A.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(n){for(var i=this.w,c=0;c<n.length;c++)i.globals.collapsedSeriesIndices.indexOf(c)>-1&&(n[c].data=[]);return n}},{key:"highlightSeries",value:function(n){var i=this.w,c=this.getSeriesByName(n),A=parseInt(c==null?void 0:c.getAttribute("data:realIndex"),10),h=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),u=null,p=null,x=null;if(i.globals.axisCharts||i.config.chart.type==="radialBar")if(i.globals.axisCharts){u=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(A,"']")),p=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(A,"']"));var w=i.globals.seriesYAxisReverseMap[A];x=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(w,"']"))}else u=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(A+1,"']"));else u=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(A+1,"'] path"));for(var S=0;S<h.length;S++)h[S].classList.add(this.legendInactiveClass);if(u)i.globals.axisCharts||u.parentNode.classList.remove(this.legendInactiveClass),u.classList.remove(this.legendInactiveClass),p!==null&&p.classList.remove(this.legendInactiveClass),x!==null&&x.classList.remove(this.legendInactiveClass);else for(var B=0;B<h.length;B++)h[B].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(n,i){var c=this.w;i||(i=n.target);var A=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(n.type==="mousemove"){var h=parseInt(i.getAttribute("rel"),10)-1;this.highlightSeries(c.globals.seriesNames[h])}else if(n.type==="mouseout")for(var u=0;u<A.length;u++)A[u].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(n,i){var c=this,A=this.w,h=A.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),u=function(w){for(var S=0;S<h.length;S++)h[S].classList[w](c.legendInactiveClass)};if(n.type==="mousemove"){var p=parseInt(i.getAttribute("rel"),10)-1;u("add");var x=A.config.plotOptions.heatmap.colorScale.ranges;(function(w,S){for(var B=0;B<h.length;B++){var P=Number(h[B].getAttribute("val"));P>=w.from&&(P<w.to||w.to===S&&P===S)&&h[B].classList.remove(c.legendInactiveClass)}})(x[p],x.reduce(function(w,S){return Math.max(w,S.to)},0))}else n.type==="mouseout"&&u("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=this.w,A=0;if(c.config.series.length>1){for(var h=c.config.series.map(function(p,x){return p.data&&p.data.length>0&&c.globals.collapsedSeriesIndices.indexOf(x)===-1&&(!c.globals.comboCharts||i.length===0||i.length&&i.indexOf(c.config.series[x].type)>-1)?x:-1}),u=n==="asc"?0:h.length-1;n==="asc"?u<h.length:u>=0;n==="asc"?u++:u--)if(h[u]!==-1){A=h[u];break}}return A}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(n,i){return n.type==="bar"||n.type==="column"?i:-1}).filter(function(n){return n!==-1}):this.w.config.series.map(function(n,i){return i})}},{key:"getPreviousPaths",value:function(){var n=this.w;function i(u,p,x){for(var w=u[p].childNodes,S={type:x,paths:[],realIndex:u[p].getAttribute("data:realIndex")},B=0;B<w.length;B++)if(w[B].hasAttribute("pathTo")){var P=w[B].getAttribute("pathTo");S.paths.push({d:P})}n.globals.previousPaths.push(S)}n.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(u){for(var p,x=(p=u,n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p,"-series .apexcharts-series"))),w=0;w<x.length;w++)i(x,w,u)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var c=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series"));if(c.length>0)for(var A=function(u){for(var p=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(u,"'] rect")),x=[],w=function(B){var P=function(z){return p[B].getAttribute(z)},R={x:parseFloat(P("x")),y:parseFloat(P("y")),width:parseFloat(P("width")),height:parseFloat(P("height"))};x.push({rect:R,color:p[B].getAttribute("color")})},S=0;S<p.length;S++)w(S);n.globals.previousPaths.push(x)},h=0;h<c.length;h++)A(h);n.globals.axisCharts||(n.globals.previousPaths=n.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(n){var i=this.w,c=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series"));if(c.length>0)for(var A=0;A<c.length;A++){for(var h=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series[data\\:realIndex='").concat(A,"'] circle")),u=[],p=0;p<h.length;p++)u.push({x:h[p].getAttribute("cx"),y:h[p].getAttribute("cy"),r:h[p].getAttribute("r")});i.globals.previousPaths.push(u)}}},{key:"clearPreviousPaths",value:function(){var n=this.w;n.globals.previousPaths=[],n.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var n=this.w,i=n.config.noData,c=new V(this.ctx),A=n.globals.svgWidth/2,h=n.globals.svgHeight/2,u="middle";if(n.globals.noData=!0,n.globals.animationEnded=!0,i.align==="left"?(A=10,u="start"):i.align==="right"&&(A=n.globals.svgWidth-10,u="end"),i.verticalAlign==="top"?h=50:i.verticalAlign==="bottom"&&(h=n.globals.svgHeight-50),A+=i.offsetX,h=h+parseInt(i.style.fontSize,10)+2+i.offsetY,i.text!==void 0&&i.text!==""){var p=c.drawText({x:A,y:h,text:i.text,textAnchor:u,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,foreColor:i.style.color,opacity:1,class:"apexcharts-text-nodata"});n.globals.dom.Paper.add(p)}}},{key:"setNullSeriesToZeroValues",value:function(n){for(var i=this.w,c=0;c<n.length;c++)if(n[c].length===0)for(var A=0;A<n[i.globals.maxValsInArrayIndex].length;A++)n[c].push(0);return n}},{key:"hasAllSeriesEqualX",value:function(){for(var n=!0,i=this.w,c=this.filteredSeriesX(),A=0;A<c.length-1;A++)if(c[A][0]!==c[A+1][0]){n=!1;break}return i.globals.allSeriesHasEqualX=n,n}},{key:"filteredSeriesX",value:function(){var n=this.w.globals.seriesX.map(function(i){return i.length>0?i:[]});return n}}]),te}(),tt=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new ue(this.ctx)}return d(te,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var n=this.w.config.series.slice(),i=new Ke(this.ctx);if(this.activeSeriesIndex=i.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].x!==void 0&&n[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var n=this.w.config.series.slice(),i=new Ke(this.ctx);if(this.activeSeriesIndex=i.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==void 0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(n,i){for(var c=this.w.config,A=this.w.globals,h=c.chart.type==="boxPlot"||c.series[i].type==="boxPlot",u=0;u<n[i].data.length;u++)if(n[i].data[u][1]!==void 0&&(Array.isArray(n[i].data[u][1])&&n[i].data[u][1].length===4&&!h?this.twoDSeries.push(M.parseNumber(n[i].data[u][1][3])):n[i].data[u].length>=5?this.twoDSeries.push(M.parseNumber(n[i].data[u][4])):this.twoDSeries.push(M.parseNumber(n[i].data[u][1])),A.dataFormatXNumeric=!0),c.xaxis.type==="datetime"){var p=new Date(n[i].data[u][0]);p=new Date(p).getTime(),this.twoDSeriesX.push(p)}else this.twoDSeriesX.push(n[i].data[u][0]);for(var x=0;x<n[i].data.length;x++)n[i].data[x][2]!==void 0&&(this.threeDSeries.push(n[i].data[x][2]),A.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(n,i){var c=this.w.config,A=this.w.globals,h=new J(this.ctx),u=i;A.collapsedSeriesIndices.indexOf(i)>-1&&(u=this.activeSeriesIndex);for(var p=0;p<n[i].data.length;p++)n[i].data[p].y!==void 0&&(Array.isArray(n[i].data[p].y)?this.twoDSeries.push(M.parseNumber(n[i].data[p].y[n[i].data[p].y.length-1])):this.twoDSeries.push(M.parseNumber(n[i].data[p].y))),n[i].data[p].goals!==void 0&&Array.isArray(n[i].data[p].goals)?(this.seriesGoals[i]===void 0&&(this.seriesGoals[i]=[]),this.seriesGoals[i].push(n[i].data[p].goals)):(this.seriesGoals[i]===void 0&&(this.seriesGoals[i]=[]),this.seriesGoals[i].push(null));for(var x=0;x<n[u].data.length;x++){var w=typeof n[u].data[x].x=="string",S=Array.isArray(n[u].data[x].x),B=!S&&!!h.isValidDate(n[u].data[x].x);if(w||B)if(w||c.xaxis.convertedCatToNumeric){var P=A.isBarHorizontal&&A.isRangeData;c.xaxis.type!=="datetime"||P?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[u].data[x].x),isNaN(n[u].data[x].x)||this.w.config.xaxis.type==="category"||typeof n[u].data[x].x=="string"||(A.isXNumeric=!0)):this.twoDSeriesX.push(h.parseDate(n[u].data[x].x))}else c.xaxis.type==="datetime"?this.twoDSeriesX.push(h.parseDate(n[u].data[x].x.toString())):(A.dataFormatXNumeric=!0,A.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(n[u].data[x].x)));else S?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[u].data[x].x)):(A.isXNumeric=!0,A.dataFormatXNumeric=!0,this.twoDSeriesX.push(n[u].data[x].x))}if(n[i].data[0]&&n[i].data[0].z!==void 0){for(var R=0;R<n[i].data.length;R++)this.threeDSeries.push(n[i].data[R].z);A.isDataXYZ=!0}}},{key:"handleRangeData",value:function(n,i){var c=this.w.globals,A={};return this.isFormat2DArray()?A=this.handleRangeDataFormat("array",n,i):this.isFormatXY()&&(A=this.handleRangeDataFormat("xy",n,i)),c.seriesRangeStart.push(A.start===void 0?[]:A.start),c.seriesRangeEnd.push(A.end===void 0?[]:A.end),c.seriesRange.push(A.rangeUniques),c.seriesRange.forEach(function(h,u){h&&h.forEach(function(p,x){p.y.forEach(function(w,S){for(var B=0;B<p.y.length;B++)if(S!==B){var P=w.y1,R=w.y2,z=p.y[B].y1;P<=p.y[B].y2&&z<=R&&(p.overlaps.indexOf(w.rangeName)<0&&p.overlaps.push(w.rangeName),p.overlaps.indexOf(p.y[B].rangeName)<0&&p.overlaps.push(p.y[B].rangeName))}})})}),A}},{key:"handleCandleStickBoxData",value:function(n,i){var c=this.w.globals,A={};return this.isFormat2DArray()?A=this.handleCandleStickBoxDataFormat("array",n,i):this.isFormatXY()&&(A=this.handleCandleStickBoxDataFormat("xy",n,i)),c.seriesCandleO[i]=A.o,c.seriesCandleH[i]=A.h,c.seriesCandleM[i]=A.m,c.seriesCandleL[i]=A.l,c.seriesCandleC[i]=A.c,A}},{key:"handleRangeDataFormat",value:function(n,i,c){var A=[],h=[],u=i[c].data.filter(function(S,B,P){return B===P.findIndex(function(R){return R.x===S.x})}).map(function(S,B){return{x:S.x,overlaps:[],y:[]}});if(n==="array")for(var p=0;p<i[c].data.length;p++)Array.isArray(i[c].data[p])?(A.push(i[c].data[p][1][0]),h.push(i[c].data[p][1][1])):(A.push(i[c].data[p]),h.push(i[c].data[p]));else if(n==="xy")for(var x=function(S){var B=Array.isArray(i[c].data[S].y),P=M.randomId(),R=i[c].data[S].x,z={y1:B?i[c].data[S].y[0]:i[c].data[S].y,y2:B?i[c].data[S].y[1]:i[c].data[S].y,rangeName:P};i[c].data[S].rangeName=P;var _=u.findIndex(function(Z){return Z.x===R});u[_].y.push(z),A.push(z.y1),h.push(z.y2)},w=0;w<i[c].data.length;w++)x(w);return{start:A,end:h,rangeUniques:u}}},{key:"handleCandleStickBoxDataFormat",value:function(n,i,c){var A=this.w,h=A.config.chart.type==="boxPlot"||A.config.series[c].type==="boxPlot",u=[],p=[],x=[],w=[],S=[];if(n==="array")if(h&&i[c].data[0].length===6||!h&&i[c].data[0].length===5)for(var B=0;B<i[c].data.length;B++)u.push(i[c].data[B][1]),p.push(i[c].data[B][2]),h?(x.push(i[c].data[B][3]),w.push(i[c].data[B][4]),S.push(i[c].data[B][5])):(w.push(i[c].data[B][3]),S.push(i[c].data[B][4]));else for(var P=0;P<i[c].data.length;P++)Array.isArray(i[c].data[P][1])&&(u.push(i[c].data[P][1][0]),p.push(i[c].data[P][1][1]),h?(x.push(i[c].data[P][1][2]),w.push(i[c].data[P][1][3]),S.push(i[c].data[P][1][4])):(w.push(i[c].data[P][1][2]),S.push(i[c].data[P][1][3])));else if(n==="xy")for(var R=0;R<i[c].data.length;R++)Array.isArray(i[c].data[R].y)&&(u.push(i[c].data[R].y[0]),p.push(i[c].data[R].y[1]),h?(x.push(i[c].data[R].y[2]),w.push(i[c].data[R].y[3]),S.push(i[c].data[R].y[4])):(w.push(i[c].data[R].y[2]),S.push(i[c].data[R].y[3])));return{o:u,h:p,m:x,l:w,c:S}}},{key:"parseDataAxisCharts",value:function(n){var i=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,A=this.w.config,h=this.w.globals,u=new J(c),p=A.labels.length>0?A.labels.slice():A.xaxis.categories.slice();h.isRangeBar=A.chart.type==="rangeBar"&&h.isBarHorizontal,h.hasXaxisGroups=A.xaxis.type==="category"&&A.xaxis.group.groups.length>0,h.hasXaxisGroups&&(h.groups=A.xaxis.group.groups),n.forEach(function(R,z){R.name!==void 0?h.seriesNames.push(R.name):h.seriesNames.push("series-"+parseInt(z+1,10))}),this.coreUtils.setSeriesYAxisMappings();var x=[],w=L(new Set(A.series.map(function(R){return R.group})));A.series.forEach(function(R,z){var _=w.indexOf(R.group);x[_]||(x[_]=[]),x[_].push(h.seriesNames[z])}),h.seriesGroups=x;for(var S=function(){for(var R=0;R<p.length;R++)if(typeof p[R]=="string"){if(!u.isValidDate(p[R]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");i.twoDSeriesX.push(u.parseDate(p[R]))}else i.twoDSeriesX.push(p[R])},B=0;B<n.length;B++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],n[B].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(A.chart.type!=="rangeBar"&&A.chart.type!=="rangeArea"&&n[B].type!=="rangeBar"&&n[B].type!=="rangeArea"||(h.isRangeData=!0,A.chart.type!=="rangeBar"&&A.chart.type!=="rangeArea"||this.handleRangeData(n,B)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(n,B):this.isFormatXY()&&this.handleFormatXY(n,B),A.chart.type!=="candlestick"&&n[B].type!=="candlestick"&&A.chart.type!=="boxPlot"&&n[B].type!=="boxPlot"||this.handleCandleStickBoxData(n,B),h.series.push(this.twoDSeries),h.labels.push(this.twoDSeriesX),h.seriesX.push(this.twoDSeriesX),h.seriesGoals=this.seriesGoals,B!==this.activeSeriesIndex||this.fallbackToCategory||(h.isXNumeric=!0);else{A.xaxis.type==="datetime"?(h.isXNumeric=!0,S(),h.seriesX.push(this.twoDSeriesX)):A.xaxis.type==="numeric"&&(h.isXNumeric=!0,p.length>0&&(this.twoDSeriesX=p,h.seriesX.push(this.twoDSeriesX))),h.labels.push(this.twoDSeriesX);var P=n[B].data.map(function(R){return M.parseNumber(R)});h.series.push(P)}h.seriesZ.push(this.threeDSeries),n[B].color!==void 0?h.seriesColors.push(n[B].color):h.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(n){var i=this.w.globals,c=this.w.config;i.series=n.slice(),i.seriesNames=c.labels.slice();for(var A=0;A<i.series.length;A++)i.seriesNames[A]===void 0&&i.seriesNames.push("series-"+(A+1));return this.w}},{key:"handleExternalLabelsData",value:function(n){var i=this.w.config,c=this.w.globals;i.xaxis.categories.length>0?c.labels=i.xaxis.categories:i.labels.length>0?c.labels=i.labels.slice():this.fallbackToCategory?(c.labels=c.labels[0],c.seriesRange.length&&(c.seriesRange.map(function(A){A.forEach(function(h){c.labels.indexOf(h.x)<0&&h.x&&c.labels.push(h.x)})}),c.labels=Array.from(new Set(c.labels.map(JSON.stringify)),JSON.parse)),i.xaxis.convertedCatToNumeric&&(new de(i).convertCatToNumericXaxis(i,this.ctx,c.seriesX[0]),this._generateExternalLabels(n))):this._generateExternalLabels(n)}},{key:"_generateExternalLabels",value:function(n){var i=this.w.globals,c=this.w.config,A=[];if(i.axisCharts){if(i.series.length>0)if(this.isFormatXY())for(var h=c.series.map(function(B,P){return B.data.filter(function(R,z,_){return _.findIndex(function(Z){return Z.x===R.x})===z})}),u=h.reduce(function(B,P,R,z){return z[B].length>P.length?B:R},0),p=0;p<h[u].length;p++)A.push(p+1);else for(var x=0;x<i.series[i.maxValsInArrayIndex].length;x++)A.push(x+1);i.seriesX=[];for(var w=0;w<n.length;w++)i.seriesX.push(A);this.w.globals.isBarHorizontal||(i.isXNumeric=!0)}if(A.length===0){A=i.axisCharts?[]:i.series.map(function(B,P){return P+1});for(var S=0;S<n.length;S++)i.seriesX.push(A)}i.labels=A,c.xaxis.convertedCatToNumeric&&(i.categoryLabels=A.map(function(B){return c.xaxis.labels.formatter(B)})),i.noLabelsProvided=!0}},{key:"parseData",value:function(n){var i=this.w,c=i.config,A=i.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),A.axisCharts?(this.parseDataAxisCharts(n),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(n),c.chart.stacked){var h=new Ke(this.ctx);A.series=h.setNullSeriesToZeroValues(A.series)}this.coreUtils.getSeriesTotals(),A.axisCharts&&(A.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),A.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),A.dataFormatXNumeric||A.isXNumeric&&(c.xaxis.type!=="numeric"||c.labels.length!==0||c.xaxis.categories.length!==0)||this.handleExternalLabelsData(n);for(var u=this.coreUtils.getCategoryLabels(A.labels),p=0;p<u.length;p++)if(Array.isArray(u[p])){A.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var n=this.w,i=[];n.globals.seriesYAxisMap.forEach(function(c,A){var h=0;c.forEach(function(u){n.globals.collapsedSeriesIndices.indexOf(u)!==-1&&h++}),h>0&&h==c.length&&i.push(A)}),n.globals.ignoreYAxisIndexes=i.map(function(c){return c})}}]),te}(),ct=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"scaleSvgNode",value:function(n,i){var c=parseFloat(n.getAttributeNS(null,"width")),A=parseFloat(n.getAttributeNS(null,"height"));n.setAttributeNS(null,"width",c*i),n.setAttributeNS(null,"height",A*i),n.setAttributeNS(null,"viewBox","0 0 "+c+" "+A)}},{key:"getSvgString",value:function(){var n=this;return new Promise(function(i){var c=n.w,A=c.config.chart.toolbar.export.width,h=c.config.chart.toolbar.export.scale||A/c.globals.svgWidth;h||(h=1);var u=n.w.globals.dom.Paper.svg(),p=n.w.globals.dom.Paper.node.cloneNode(!0);h!==1&&n.scaleSvgNode(p,h),n.convertImagesToBase64(p).then(function(){u=new XMLSerializer().serializeToString(p),i(u.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(n){var i=this,c=n.getElementsByTagName("image"),A=Array.from(c).map(function(h){var u=h.getAttributeNS("http://www.w3.org/1999/xlink","href");return u&&!u.startsWith("data:")?i.getBase64FromUrl(u).then(function(p){h.setAttributeNS("http://www.w3.org/1999/xlink","href",p)}).catch(function(p){console.error("Error converting image to base64:",p)}):Promise.resolve()});return Promise.all(A)}},{key:"getBase64FromUrl",value:function(n){return new Promise(function(i,c){var A=new Image;A.crossOrigin="Anonymous",A.onload=function(){var h=document.createElement("canvas");h.width=A.width,h.height=A.height,h.getContext("2d").drawImage(A,0,0),i(h.toDataURL())},A.onerror=c,A.src=n})}},{key:"cleanup",value:function(){var n=this.w,i=n.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),c=n.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),A=n.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(A,function(h){h.setAttribute("width",0)}),i&&i[0]&&(i[0].setAttribute("x",-500),i[0].setAttribute("x1",-500),i[0].setAttribute("x2",-500)),c&&c[0]&&(c[0].setAttribute("y",-100),c[0].setAttribute("y1",-100),c[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var n=this;return new Promise(function(i){n.cleanup(),n.getSvgString().then(function(c){var A=new Blob([c],{type:"image/svg+xml;charset=utf-8"});i(URL.createObjectURL(A))})})}},{key:"dataURI",value:function(n){var i=this;return new Promise(function(c){var A=i.w,h=n?n.scale||n.width/A.globals.svgWidth:1;i.cleanup();var u=document.createElement("canvas");u.width=A.globals.svgWidth*h,u.height=parseInt(A.globals.dom.elWrap.style.height,10)*h;var p=A.config.chart.background!=="transparent"&&A.config.chart.background?A.config.chart.background:"#fff",x=u.getContext("2d");x.fillStyle=p,x.fillRect(0,0,u.width*h,u.height*h),i.getSvgString().then(function(w){var S="data:image/svg+xml,"+encodeURIComponent(w),B=new Image;B.crossOrigin="anonymous",B.onload=function(){if(x.drawImage(B,0,0),u.msToBlob){var P=u.msToBlob();c({blob:P})}else{var R=u.toDataURL("image/png");c({imgURI:R})}},B.src=S})})}},{key:"exportToSVG",value:function(){var n=this;this.svgUrl().then(function(i){n.triggerDownload(i,n.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var n=this,i=this.w.config.chart.toolbar.export.scale,c=this.w.config.chart.toolbar.export.width,A=i?{scale:i}:c?{width:c}:void 0;this.dataURI(A).then(function(h){var u=h.imgURI,p=h.blob;p?navigator.msSaveOrOpenBlob(p,n.w.globals.chartID+".png"):n.triggerDownload(u,n.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(n){var i=this,c=n.series,A=n.fileName,h=n.columnDelimiter,u=h===void 0?",":h,p=n.lineDelimiter,x=p===void 0?`
`:p,w=this.w;c||(c=w.config.series);var S,B,P=[],R=[],z="",_=w.globals.series.map(function(se,me){return w.globals.collapsedSeriesIndices.indexOf(me)===-1?se:[]}),Z=function(se){return typeof w.config.chart.toolbar.export.csv.categoryFormatter=="function"?w.config.chart.toolbar.export.csv.categoryFormatter(se):w.config.xaxis.type==="datetime"&&String(se).length>=10?new Date(se).toDateString():M.isNumber(se)?se:se.split(u).join("")},ee=function(se){return typeof w.config.chart.toolbar.export.csv.valueFormatter=="function"?w.config.chart.toolbar.export.csv.valueFormatter(se):se},ae=Math.max.apply(Math,L(c.map(function(se){return se.data?se.data.length:0}))),b=new tt(this.ctx),Q=new le(this.ctx),K=function(se){var me="";if(w.globals.axisCharts){if(w.config.xaxis.type==="category"||w.config.xaxis.convertedCatToNumeric)if(w.globals.isBarHorizontal){var Fe=w.globals.yLabelFormatters[0],Le=new Ke(i.ctx).getActiveConfigSeriesIndex();me=Fe(w.globals.labels[se],{seriesIndex:Le,dataPointIndex:se,w})}else me=Q.getLabel(w.globals.labels,w.globals.timescaleLabels,0,se).text;w.config.xaxis.type==="datetime"&&(w.config.xaxis.categories.length?me=w.config.xaxis.categories[se]:w.config.labels.length&&(me=w.config.labels[se]))}else me=w.config.labels[se];return me===null?"nullvalue":(Array.isArray(me)&&(me=me.join(" ")),M.isNumber(me)?me:me.split(u).join(""))},ge=function(se,me){if(P.length&&me===0&&R.push(P.join(u)),se.data){se.data=se.data.length&&se.data||L(Array(ae)).map(function(){return""});for(var Fe=0;Fe<se.data.length;Fe++){P=[];var Le=K(Fe);if(Le!=="nullvalue"){if(Le||(b.isFormatXY()?Le=c[me].data[Fe].x:b.isFormat2DArray()&&(Le=c[me].data[Fe]?c[me].data[Fe][0]:"")),me===0){P.push(Z(Le));for(var Oe=0;Oe<w.globals.series.length;Oe++){var $e,Ge=b.isFormatXY()?($e=c[Oe].data[Fe])===null||$e===void 0?void 0:$e.y:_[Oe][Fe];P.push(ee(Ge))}}(w.config.chart.type==="candlestick"||se.type&&se.type==="candlestick")&&(P.pop(),P.push(w.globals.seriesCandleO[me][Fe]),P.push(w.globals.seriesCandleH[me][Fe]),P.push(w.globals.seriesCandleL[me][Fe]),P.push(w.globals.seriesCandleC[me][Fe])),(w.config.chart.type==="boxPlot"||se.type&&se.type==="boxPlot")&&(P.pop(),P.push(w.globals.seriesCandleO[me][Fe]),P.push(w.globals.seriesCandleH[me][Fe]),P.push(w.globals.seriesCandleM[me][Fe]),P.push(w.globals.seriesCandleL[me][Fe]),P.push(w.globals.seriesCandleC[me][Fe])),w.config.chart.type==="rangeBar"&&(P.pop(),P.push(w.globals.seriesRangeStart[me][Fe]),P.push(w.globals.seriesRangeEnd[me][Fe])),P.length&&R.push(P.join(u))}}}};P.push(w.config.chart.toolbar.export.csv.headerCategory),w.config.chart.type==="boxPlot"?(P.push("minimum"),P.push("q1"),P.push("median"),P.push("q3"),P.push("maximum")):w.config.chart.type==="candlestick"?(P.push("open"),P.push("high"),P.push("low"),P.push("close")):w.config.chart.type==="rangeBar"?(P.push("minimum"),P.push("maximum")):c.map(function(se,me){var Fe=(se.name?se.name:"series-".concat(me))+"";w.globals.axisCharts&&P.push(Fe.split(u).join("")?Fe.split(u).join(""):"series-".concat(me))}),w.globals.axisCharts||(P.push(w.config.chart.toolbar.export.csv.headerValue),R.push(P.join(u))),w.globals.allSeriesHasEqualX||!w.globals.axisCharts||w.config.xaxis.categories.length||w.config.labels.length?c.map(function(se,me){w.globals.axisCharts?ge(se,me):((P=[]).push(Z(w.globals.labels[me])),P.push(ee(_[me])),R.push(P.join(u)))}):(S=new Set,B={},c.forEach(function(se,me){se==null||se.data.forEach(function(Fe){var Le,Oe;if(b.isFormatXY())Le=Fe.x,Oe=Fe.y;else{if(!b.isFormat2DArray())return;Le=Fe[0],Oe=Fe[1]}B[Le]||(B[Le]=Array(c.length).fill("")),B[Le][me]=ee(Oe),S.add(Le)})}),P.length&&R.push(P.join(u)),Array.from(S).sort().forEach(function(se){R.push([Z(se),B[se].join(u)])})),z+=R.join(x),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+z),A||w.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(n,i,c){var A=document.createElement("a");A.href=n,A.download=(i||this.w.globals.chartID)+c,document.body.appendChild(A),A.click(),document.body.removeChild(A)}}]),te}(),lt=function(){function te(n,i){o(this,te),this.ctx=n,this.elgrid=i,this.w=n.w;var c=this.w;this.axesUtils=new le(n),this.xaxisLabels=c.globals.labels.slice(),c.globals.timescaleLabels.length>0&&!c.globals.isBarHorizontal&&(this.xaxisLabels=c.globals.timescaleLabels.slice()),c.config.xaxis.overwriteCategories&&(this.xaxisLabels=c.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],c.config.xaxis.position==="top"?this.offY=0:this.offY=c.globals.gridHeight,this.offY=this.offY+c.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=c.config.chart.type==="bar"&&c.config.plotOptions.bar.horizontal,this.xaxisFontSize=c.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=c.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=c.config.xaxis.labels.style.colors,this.xaxisBorderWidth=c.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=c.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=c.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=c.config.xaxis.axisBorder.height,this.yaxis=c.config.yaxis[0]}return d(te,[{key:"drawXaxis",value:function(){var n=this.w,i=new V(this.ctx),c=i.group({class:"apexcharts-xaxis",transform:"translate(".concat(n.config.xaxis.offsetX,", ").concat(n.config.xaxis.offsetY,")")}),A=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(n.globals.translateXAxisX,", ").concat(n.globals.translateXAxisY,")")});c.add(A);for(var h=[],u=0;u<this.xaxisLabels.length;u++)h.push(this.xaxisLabels[u]);if(this.drawXAxisLabelAndGroup(!0,i,A,h,n.globals.isXNumeric,function(z,_){return _}),n.globals.hasXaxisGroups){var p=n.globals.groups;h=[];for(var x=0;x<p.length;x++)h.push(p[x].title);var w={};n.config.xaxis.group.style&&(w.xaxisFontSize=n.config.xaxis.group.style.fontSize,w.xaxisFontFamily=n.config.xaxis.group.style.fontFamily,w.xaxisForeColors=n.config.xaxis.group.style.colors,w.fontWeight=n.config.xaxis.group.style.fontWeight,w.cssClass=n.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,i,A,h,!1,function(z,_){return p[z].cols*_},w)}if(n.config.xaxis.title.text!==void 0){var S=i.group({class:"apexcharts-xaxis-title"}),B=i.drawText({x:n.globals.gridWidth/2+n.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(n.config.xaxis.position==="bottom"?n.globals.xAxisLabelsHeight:-n.globals.xAxisLabelsHeight-10)+n.config.xaxis.title.offsetY,text:n.config.xaxis.title.text,textAnchor:"middle",fontSize:n.config.xaxis.title.style.fontSize,fontFamily:n.config.xaxis.title.style.fontFamily,fontWeight:n.config.xaxis.title.style.fontWeight,foreColor:n.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+n.config.xaxis.title.style.cssClass});S.add(B),c.add(S)}if(n.config.xaxis.axisBorder.show){var P=n.globals.barPadForNumericAxis,R=i.drawLine(n.globals.padHorizontal+n.config.xaxis.axisBorder.offsetX-P,this.offY,this.xaxisBorderWidth+P,this.offY,n.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(R):c.add(R)}return c}},{key:"drawXAxisLabelAndGroup",value:function(n,i,c,A,h,u){var p,x=this,w=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},S=[],B=[],P=this.w,R=w.xaxisFontSize||this.xaxisFontSize,z=w.xaxisFontFamily||this.xaxisFontFamily,_=w.xaxisForeColors||this.xaxisForeColors,Z=w.fontWeight||P.config.xaxis.labels.style.fontWeight,ee=w.cssClass||P.config.xaxis.labels.style.cssClass,ae=P.globals.padHorizontal,b=A.length,Q=P.config.xaxis.type==="category"?P.globals.dataPoints:b;if(Q===0&&b>Q&&(Q=b),h){var K=Q>1?Q-1:Q;p=P.globals.gridWidth/Math.min(K,b-1),ae=ae+u(0,p)/2+P.config.xaxis.labels.offsetX}else p=P.globals.gridWidth/Q,ae=ae+u(0,p)+P.config.xaxis.labels.offsetX;for(var ge=function(me){var Fe=ae-u(me,p)/2+P.config.xaxis.labels.offsetX;me===0&&b===1&&p/2===ae&&Q===1&&(Fe=P.globals.gridWidth/2);var Le=x.axesUtils.getLabel(A,P.globals.timescaleLabels,Fe,me,S,R,n),Oe=28;if(P.globals.rotateXLabels&&n&&(Oe=22),P.config.xaxis.title.text&&P.config.xaxis.position==="top"&&(Oe+=parseFloat(P.config.xaxis.title.style.fontSize)+2),n||(Oe=Oe+parseFloat(R)+(P.globals.xAxisLabelsHeight-P.globals.xAxisGroupLabelsHeight)+(P.globals.rotateXLabels?10:0)),Le=P.config.xaxis.tickAmount!==void 0&&P.config.xaxis.tickAmount!=="dataPoints"&&P.config.xaxis.type!=="datetime"?x.axesUtils.checkLabelBasedOnTickamount(me,Le,b):x.axesUtils.checkForOverflowingLabels(me,Le,b,S,B),P.config.xaxis.labels.show){var $e=i.drawText({x:Le.x,y:x.offY+P.config.xaxis.labels.offsetY+Oe-(P.config.xaxis.position==="top"?P.globals.xAxisHeight+P.config.xaxis.axisTicks.height-2:0),text:Le.text,textAnchor:"middle",fontWeight:Le.isBold?600:Z,fontSize:R,fontFamily:z,foreColor:Array.isArray(_)?n&&P.config.xaxis.convertedCatToNumeric?_[P.globals.minX+me-1]:_[me]:_,isPlainText:!1,cssClass:(n?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+ee});if(c.add($e),$e.on("click",function(Je){if(typeof P.config.chart.events.xAxisLabelClick=="function"){var ot=Object.assign({},P,{labelIndex:me});P.config.chart.events.xAxisLabelClick(Je,x.ctx,ot)}}),n){var Ge=document.createElementNS(P.globals.SVGNS,"title");Ge.textContent=Array.isArray(Le.text)?Le.text.join(" "):Le.text,$e.node.appendChild(Ge),Le.text!==""&&(S.push(Le.text),B.push(Le))}}me<b-1&&(ae+=u(me+1,p))},se=0;se<=b-1;se++)ge(se)}},{key:"drawXaxisInversed",value:function(n){var i,c,A=this,h=this.w,u=new V(this.ctx),p=h.config.yaxis[0].opposite?h.globals.translateYAxisX[n]:0,x=u.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:n}),w=u.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+p+", 0)"});x.add(w);var S=[];if(h.config.yaxis[n].show)for(var B=0;B<this.xaxisLabels.length;B++)S.push(this.xaxisLabels[B]);i=h.globals.gridHeight/S.length,c=-i/2.2;var P=h.globals.yLabelFormatters[0],R=h.config.yaxis[0].labels;if(R.show)for(var z=function(K){var ge=S[K]===void 0?"":S[K];ge=P(ge,{seriesIndex:n,dataPointIndex:K,w:h});var se=A.axesUtils.getYAxisForeColor(R.style.colors,n),me=0;Array.isArray(ge)&&(me=ge.length/2*parseInt(R.style.fontSize,10));var Fe=R.offsetX-15,Le="end";A.yaxis.opposite&&(Le="start"),h.config.yaxis[0].labels.align==="left"?(Fe=R.offsetX,Le="start"):h.config.yaxis[0].labels.align==="center"?(Fe=R.offsetX,Le="middle"):h.config.yaxis[0].labels.align==="right"&&(Le="end");var Oe=u.drawText({x:Fe,y:c+i+R.offsetY-me,text:ge,textAnchor:Le,foreColor:Array.isArray(se)?se[K]:se,fontSize:R.style.fontSize,fontFamily:R.style.fontFamily,fontWeight:R.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+R.style.cssClass,maxWidth:R.maxWidth});w.add(Oe),Oe.on("click",function(Je){if(typeof h.config.chart.events.xAxisLabelClick=="function"){var ot=Object.assign({},h,{labelIndex:K});h.config.chart.events.xAxisLabelClick(Je,A.ctx,ot)}});var $e=document.createElementNS(h.globals.SVGNS,"title");if($e.textContent=Array.isArray(ge)?ge.join(" "):ge,Oe.node.appendChild($e),h.config.yaxis[n].labels.rotate!==0){var Ge=u.rotateAroundCenter(Oe.node);Oe.node.setAttribute("transform","rotate(".concat(h.config.yaxis[n].labels.rotate," 0 ").concat(Ge.y,")"))}c+=i},_=0;_<=S.length-1;_++)z(_);if(h.config.yaxis[0].title.text!==void 0){var Z=u.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+p+", 0)"}),ee=u.drawText({x:h.config.yaxis[0].title.offsetX,y:h.globals.gridHeight/2+h.config.yaxis[0].title.offsetY,text:h.config.yaxis[0].title.text,textAnchor:"middle",foreColor:h.config.yaxis[0].title.style.color,fontSize:h.config.yaxis[0].title.style.fontSize,fontWeight:h.config.yaxis[0].title.style.fontWeight,fontFamily:h.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+h.config.yaxis[0].title.style.cssClass});Z.add(ee),x.add(Z)}var ae=0;this.isCategoryBarHorizontal&&h.config.yaxis[0].opposite&&(ae=h.globals.gridWidth);var b=h.config.xaxis.axisBorder;if(b.show){var Q=u.drawLine(h.globals.padHorizontal+b.offsetX+ae,1+b.offsetY,h.globals.padHorizontal+b.offsetX+ae,h.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&h.config.grid.show?this.elgrid.elGridBorders.add(Q):x.add(Q)}return h.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(ae,S.length,h.config.yaxis[0].axisBorder,h.config.yaxis[0].axisTicks,0,i,x),x}},{key:"drawXaxisTicks",value:function(n,i,c){var A=this.w,h=n;if(!(n<0||n-2>A.globals.gridWidth)){var u=this.offY+A.config.xaxis.axisTicks.offsetY;if(i=i+u+A.config.xaxis.axisTicks.height,A.config.xaxis.position==="top"&&(i=u-A.config.xaxis.axisTicks.height),A.config.xaxis.axisTicks.show){var p=new V(this.ctx).drawLine(n+A.config.xaxis.axisTicks.offsetX,u+A.config.xaxis.offsetY,h+A.config.xaxis.axisTicks.offsetX,i+A.config.xaxis.offsetY,A.config.xaxis.axisTicks.color);c.add(p),p.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var n=this.w,i=[],c=this.xaxisLabels.length,A=n.globals.padHorizontal;if(n.globals.timescaleLabels.length>0)for(var h=0;h<c;h++)A=this.xaxisLabels[h].position,i.push(A);else for(var u=c,p=0;p<u;p++){var x=u;n.globals.isXNumeric&&n.config.chart.type!=="bar"&&(x-=1),A+=n.globals.gridWidth/x,i.push(A)}return i}},{key:"xAxisLabelCorrections",value:function(){var n=this.w,i=new V(this.ctx),c=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),A=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),h=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),u=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(n.globals.rotateXLabels||n.config.xaxis.labels.rotateAlways)for(var p=0;p<A.length;p++){var x=i.rotateAroundCenter(A[p]);x.y=x.y-1,x.x=x.x+1,A[p].setAttribute("transform","rotate(".concat(n.config.xaxis.labels.rotate," ").concat(x.x," ").concat(x.y,")")),A[p].setAttribute("text-anchor","end"),c.setAttribute("transform","translate(0, ".concat(-10,")"));var w=A[p].childNodes;n.config.xaxis.labels.trim&&Array.prototype.forEach.call(w,function(R){i.placeTextWithEllipsis(R,R.textContent,n.globals.xAxisLabelsHeight-(n.config.legend.position==="bottom"?20:10))})}else(function(){for(var R=n.globals.gridWidth/(n.globals.labels.length+1),z=0;z<A.length;z++){var _=A[z].childNodes;n.config.xaxis.labels.trim&&n.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(_,function(Z){i.placeTextWithEllipsis(Z,Z.textContent,R)})}})();if(h.length>0){var S=h[h.length-1].getBBox(),B=h[0].getBBox();S.x<-20&&h[h.length-1].parentNode.removeChild(h[h.length-1]),B.x+B.width>n.globals.gridWidth&&!n.globals.isBarHorizontal&&h[0].parentNode.removeChild(h[0]);for(var P=0;P<u.length;P++)i.placeTextWithEllipsis(u[P],u[P].textContent,n.config.yaxis[0].labels.maxWidth-(n.config.yaxis[0].title.text?2*parseFloat(n.config.yaxis[0].title.style.fontSize):0)-15)}}}]),te}(),Qt=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w;var i=this.w;this.xaxisLabels=i.globals.labels.slice(),this.axesUtils=new le(n),this.isRangeBar=i.globals.seriesRange.length&&i.globals.isBarHorizontal,i.globals.timescaleLabels.length>0&&(this.xaxisLabels=i.globals.timescaleLabels.slice())}return d(te,[{key:"drawGridArea",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.w,c=new V(this.ctx);n||(n=c.group({class:"apexcharts-grid"}));var A=c.drawLine(i.globals.padHorizontal,1,i.globals.padHorizontal,i.globals.gridHeight,"transparent"),h=c.drawLine(i.globals.padHorizontal,i.globals.gridHeight,i.globals.gridWidth,i.globals.gridHeight,"transparent");return n.add(h),n.add(A),n}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var n=this.renderGrid();return this.drawGridArea(n.el),n}return null}},{key:"createGridMask",value:function(){var n=this.w,i=n.globals,c=new V(this.ctx),A=Array.isArray(n.config.stroke.width)?Math.max.apply(Math,L(n.config.stroke.width)):n.config.stroke.width,h=function(S){var B=document.createElementNS(i.SVGNS,"clipPath");return B.setAttribute("id",S),B};i.dom.elGridRectMask=h("gridRectMask".concat(i.cuid)),i.dom.elGridRectBarMask=h("gridRectBarMask".concat(i.cuid)),i.dom.elGridRectMarkerMask=h("gridRectMarkerMask".concat(i.cuid)),i.dom.elForecastMask=h("forecastMask".concat(i.cuid)),i.dom.elNonForecastMask=h("nonForecastMask".concat(i.cuid));var u=0,p=0;(["bar","rangeBar","candlestick","boxPlot"].includes(n.config.chart.type)||n.globals.comboBarCount>0)&&n.globals.isXNumeric&&!n.globals.isBarHorizontal&&(u=Math.max(n.config.grid.padding.left,i.barPadForNumericAxis),p=Math.max(n.config.grid.padding.right,i.barPadForNumericAxis)),i.dom.elGridRect=c.drawRect(0,0,i.gridWidth,i.gridHeight,0,"#fff"),i.dom.elGridRectBar=c.drawRect(-A/2-u-2,-A/2-2,i.gridWidth+A+p+u+4,i.gridHeight+A+4,0,"#fff");var x=n.globals.markers.largestSize;i.dom.elGridRectMarker=c.drawRect(-x,-x,i.gridWidth+2*x,i.gridHeight+2*x,0,"#fff"),i.dom.elGridRectMask.appendChild(i.dom.elGridRect.node),i.dom.elGridRectBarMask.appendChild(i.dom.elGridRectBar.node),i.dom.elGridRectMarkerMask.appendChild(i.dom.elGridRectMarker.node);var w=i.dom.baseEl.querySelector("defs");w.appendChild(i.dom.elGridRectMask),w.appendChild(i.dom.elGridRectBarMask),w.appendChild(i.dom.elGridRectMarkerMask),w.appendChild(i.dom.elForecastMask),w.appendChild(i.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(n){var i=n.i,c=n.x1,A=n.y1,h=n.x2,u=n.y2,p=n.xCount,x=n.parent,w=this.w;if(!(i===0&&w.globals.skipFirstTimelinelabel||i===p-1&&w.globals.skipLastTimelinelabel&&!w.config.xaxis.labels.formatter||w.config.chart.type==="radar")){w.config.grid.xaxis.lines.show&&this._drawGridLine({i,x1:c,y1:A,x2:h,y2:u,xCount:p,parent:x});var S=0;if(w.globals.hasXaxisGroups&&w.config.xaxis.tickPlacement==="between"){var B=w.globals.groups;if(B){for(var P=0,R=0;P<i&&R<B.length;R++)P+=B[R].cols;P===i&&(S=.6*w.globals.xAxisLabelsHeight)}}new lt(this.ctx).drawXaxisTicks(c,S,w.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(n){var i=n.i,c=n.x1,A=n.y1,h=n.x2,u=n.y2,p=n.xCount,x=n.parent,w=this.w,S=x.node.classList.contains("apexcharts-gridlines-horizontal"),B=w.globals.barPadForNumericAxis,P=A===0&&u===0||c===0&&h===0||A===w.globals.gridHeight&&u===w.globals.gridHeight||w.globals.isBarHorizontal&&(i===0||i===p-1),R=new V(this).drawLine(c-(S?B:0),A,h+(S?B:0),u,w.config.grid.borderColor,w.config.grid.strokeDashArray);R.node.classList.add("apexcharts-gridline"),P&&w.config.grid.show?this.elGridBorders.add(R):x.add(R)}},{key:"_drawGridBandRect",value:function(n){var i=n.c,c=n.x1,A=n.y1,h=n.x2,u=n.y2,p=n.type,x=this.w,w=new V(this.ctx),S=x.globals.barPadForNumericAxis,B=x.config.grid[p].colors[i],P=w.drawRect(c-(p==="row"?S:0),A,h+(p==="row"?2*S:0),u,0,B,x.config.grid[p].opacity);this.elg.add(P),P.attr("clip-path","url(#gridRectMask".concat(x.globals.cuid,")")),P.node.classList.add("apexcharts-grid-".concat(p))}},{key:"_drawXYLines",value:function(n){var i=this,c=n.xCount,A=n.tickAmount,h=this.w;if(h.config.grid.xaxis.lines.show||h.config.xaxis.axisTicks.show){var u,p=h.globals.padHorizontal,x=h.globals.gridHeight;h.globals.timescaleLabels.length?function(z){for(var _=z.xC,Z=z.x1,ee=z.y1,ae=z.x2,b=z.y2,Q=0;Q<_;Q++)Z=i.xaxisLabels[Q].position,ae=i.xaxisLabels[Q].position,i._drawGridLines({i:Q,x1:Z,y1:ee,x2:ae,y2:b,xCount:c,parent:i.elgridLinesV})}({xC:c,x1:p,y1:0,x2:u,y2:x}):(h.globals.isXNumeric&&(c=h.globals.xAxisScale.result.length),function(z){for(var _=z.xC,Z=z.x1,ee=z.y1,ae=z.x2,b=z.y2,Q=0;Q<_+(h.globals.isXNumeric?0:1);Q++)Q===0&&_===1&&h.globals.dataPoints===1&&(ae=Z=h.globals.gridWidth/2),i._drawGridLines({i:Q,x1:Z,y1:ee,x2:ae,y2:b,xCount:c,parent:i.elgridLinesV}),ae=Z+=h.globals.gridWidth/(h.globals.isXNumeric?_-1:_)}({xC:c,x1:p,y1:0,x2:u,y2:x}))}if(h.config.grid.yaxis.lines.show){var w=0,S=0,B=h.globals.gridWidth,P=A+1;this.isRangeBar&&(P=h.globals.labels.length);for(var R=0;R<P+(this.isRangeBar?1:0);R++)this._drawGridLine({i:R,xCount:P+(this.isRangeBar?1:0),x1:0,y1:w,x2:B,y2:S,parent:this.elgridLinesH}),S=w+=h.globals.gridHeight/(this.isRangeBar?P:A)}}},{key:"_drawInvertedXYLines",value:function(n){var i=n.xCount,c=this.w;if(c.config.grid.xaxis.lines.show||c.config.xaxis.axisTicks.show)for(var A,h=c.globals.padHorizontal,u=c.globals.gridHeight,p=0;p<i+1;p++)c.config.grid.xaxis.lines.show&&this._drawGridLine({i:p,xCount:i+1,x1:h,y1:0,x2:A,y2:u,parent:this.elgridLinesV}),new lt(this.ctx).drawXaxisTicks(h,0,c.globals.dom.elGraphical),A=h+=c.globals.gridWidth/i;if(c.config.grid.yaxis.lines.show)for(var x=0,w=0,S=c.globals.gridWidth,B=0;B<c.globals.dataPoints+1;B++)this._drawGridLine({i:B,xCount:c.globals.dataPoints+1,x1:0,y1:x,x2:S,y2:w,parent:this.elgridLinesH}),w=x+=c.globals.gridHeight/c.globals.dataPoints}},{key:"renderGrid",value:function(){var n=this.w,i=n.globals,c=new V(this.ctx);this.elg=c.group({class:"apexcharts-grid"}),this.elgridLinesH=c.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=c.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=c.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),n.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var A=0;A<i.seriesYAxisMap.length&&i.ignoreYAxisIndexes.includes(A);)A++;A===i.seriesYAxisMap.length&&(A=0);var h,u=i.yAxisScale[A].result.length-1;if(!i.isBarHorizontal||this.isRangeBar){var p,x,w;h=this.xaxisLabels.length,this.isRangeBar&&(u=i.labels.length,n.config.xaxis.tickAmount&&n.config.xaxis.labels.formatter&&(h=n.config.xaxis.tickAmount),((p=i.yAxisScale)===null||p===void 0||(x=p[A])===null||x===void 0||(w=x.result)===null||w===void 0?void 0:w.length)>0&&n.config.xaxis.type!=="datetime"&&(h=i.yAxisScale[A].result.length-1)),this._drawXYLines({xCount:h,tickAmount:u})}else h=u,u=i.xTickAmount,this._drawInvertedXYLines({xCount:h,tickAmount:u});return this.drawGridBands(h,u),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:i.gridWidth/h}}},{key:"drawGridBands",value:function(n,i){var c,A,h=this,u=this.w;if(((c=u.config.grid.row.colors)===null||c===void 0?void 0:c.length)>0&&function(z,_,Z,ee,ae,b){for(var Q=0,K=0;Q<_;Q++,K++)K>=u.config.grid[z].colors.length&&(K=0),h._drawGridBandRect({c:K,x1:Z,y1:ee,x2:ae,y2:b,type:z}),ee+=u.globals.gridHeight/i}("row",i,0,0,u.globals.gridWidth,u.globals.gridHeight/i),((A=u.config.grid.column.colors)===null||A===void 0?void 0:A.length)>0){var p=u.globals.isBarHorizontal||u.config.xaxis.tickPlacement!=="on"||u.config.xaxis.type!=="category"&&!u.config.xaxis.convertedCatToNumeric?n:n-1;u.globals.isXNumeric&&(p=u.globals.xAxisScale.result.length-1);for(var x=u.globals.padHorizontal,w=u.globals.padHorizontal+u.globals.gridWidth/p,S=u.globals.gridHeight,B=0,P=0;B<n;B++,P++){var R;P>=u.config.grid.column.colors.length&&(P=0),u.config.xaxis.type==="datetime"&&(x=this.xaxisLabels[B].position,w=(((R=this.xaxisLabels[B+1])===null||R===void 0?void 0:R.position)||u.globals.gridWidth)-this.xaxisLabels[B].position),this._drawGridBandRect({c:P,x1:x,y1:0,x2:w,y2:S,type:"column"}),x+=u.globals.gridWidth/p}}}}]),te}(),We=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.coreUtils=new ue(this.ctx)}return d(te,[{key:"niceScale",value:function(n,i){var c,A,h,u,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=1e-11,w=this.w,S=w.globals;S.isBarHorizontal?(c=w.config.xaxis,A=Math.max((S.svgWidth-100)/25,2)):(c=w.config.yaxis[p],A=Math.max((S.svgHeight-100)/15,2)),M.isNumber(A)||(A=10),h=c.min!==void 0&&c.min!==null,u=c.max!==void 0&&c.min!==null;var B=c.stepSize!==void 0&&c.stepSize!==null,P=c.tickAmount!==void 0&&c.tickAmount!==null,R=P?c.tickAmount:S.niceScaleDefaultTicks[Math.min(Math.round(A/2),S.niceScaleDefaultTicks.length-1)];if(S.isMultipleYAxis&&!P&&S.multiAxisTickAmount>0&&(R=S.multiAxisTickAmount,P=!0),R=R==="dataPoints"?S.dataPoints-1:Math.abs(Math.round(R)),(n===Number.MIN_VALUE&&i===0||!M.isNumber(n)&&!M.isNumber(i)||n===Number.MIN_VALUE&&i===-Number.MAX_VALUE)&&(n=M.isNumber(c.min)?c.min:0,i=M.isNumber(c.max)?c.max:n+R,S.allSeriesCollapsed=!1),n>i){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var z=i;i=n,n=z}else n===i&&(n=n===0?0:n-1,i=i===0?2:i+1);var _=[];R<1&&(R=1);var Z=R,ee=Math.abs(i-n);!h&&n>0&&n/ee<.15&&(n=0,h=!0),!u&&i<0&&-i/ee<.15&&(i=0,u=!0);var ae=(ee=Math.abs(i-n))/Z,b=ae,Q=Math.floor(Math.log10(b)),K=Math.pow(10,Q),ge=Math.ceil(b/K);if(ae=b=(ge=S.niceScaleAllowedMagMsd[S.yValueDecimal===0?0:1][ge])*K,S.isBarHorizontal&&c.stepSize&&c.type!=="datetime"?(ae=c.stepSize,B=!0):B&&(ae=c.stepSize),B&&c.forceNiceScale){var se=Math.floor(Math.log10(ae));ae*=Math.pow(10,Q-se)}if(h&&u){var me=ee/Z;if(P)if(B)if(M.mod(ee,ae)!=0){var Fe=M.getGCD(ae,me);ae=me/Fe<10?Fe:me}else M.mod(ae,me)==0?ae=me:(me=ae,P=!1);else ae=me;else if(B)M.mod(ee,ae)==0?me=ae:ae=me;else if(M.mod(ee,ae)==0)me=ae;else{me=ee/(Z=Math.ceil(ee/ae));var Le=M.getGCD(ee,ae);ee/Le<A&&(me=Le),ae=me}Z=Math.round(ee/ae)}else{if(h||u){if(u)if(P)n=i-ae*Z;else{var Oe=n;n=ae*Math.floor(n/ae),Math.abs(i-n)/M.getGCD(ee,ae)>A&&(n=i-ae*R,n+=ae*Math.floor((Oe-n)/ae))}else if(h)if(P)i=n+ae*Z;else{var $e=i;i=ae*Math.ceil(i/ae),Math.abs(i-n)/M.getGCD(ee,ae)>A&&(i=n+ae*R,i+=ae*Math.ceil(($e-i)/ae))}}else if(S.isMultipleYAxis&&P){var Ge=ae*Math.floor(n/ae),Je=Ge+ae*Z;Je<i&&(ae*=2),Je=i,i=(n=Ge)+ae*Z,ee=Math.abs(i-n),n>0&&n<Math.abs(Je-i)&&(n=0,i=ae*Z),i<0&&-i<Math.abs(Ge-n)&&(i=0,n=-ae*Z)}else n=ae*Math.floor(n/ae),i=ae*Math.ceil(i/ae);ee=Math.abs(i-n),ae=M.getGCD(ee,ae),Z=Math.round(ee/ae)}if(P||h||u||(Z=Math.ceil((ee-x)/(ae+x)))>16&&M.getPrimeFactors(Z).length<2&&Z++,!P&&c.forceNiceScale&&S.yValueDecimal===0&&Z>ee&&(Z=ee,ae=Math.round(ee/Z)),Z>A&&(!P&&!B||c.forceNiceScale)){var ot=M.getPrimeFactors(Z),ft=ot.length-1,vt=Z;e:for(var It=0;It<ft;It++)for(var Ft=0;Ft<=ft-It;Ft++){for(var Pt=Math.min(Ft+It,ft),Kt=vt,kt=1,Br=Ft;Br<=Pt;Br++)kt*=ot[Br];if((Kt/=kt)<A){vt=Kt;break e}}ae=vt===Z?ee:ee/vt,Z=Math.round(ee/ae)}S.isMultipleYAxis&&S.multiAxisTickAmount==0&&S.ignoreYAxisIndexes.indexOf(p)<0&&(S.multiAxisTickAmount=Z);var fr=n-ae,_r=ae*x;do fr+=ae,_.push(M.stripNumber(fr,7));while(i-fr>_r);return{result:_,niceMin:_[0],niceMax:_[_.length-1]}}},{key:"linearScale",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,u=Math.abs(i-n),p=[];if(n===i)return{result:p=[n],niceMin:p[0],niceMax:p[p.length-1]};(c=this._adjustTicksForSmallRange(c,A,u))==="dataPoints"&&(c=this.w.globals.dataPoints-1),h||(h=u/c),h=Math.round(10*(h+Number.EPSILON))/10,c===Number.MAX_VALUE&&(c=5,h=1);for(var x=n;c>=0;)p.push(x),x=M.preciseAddition(x,h),c-=1;return{result:p,niceMin:p[0],niceMax:p[p.length-1]}}},{key:"logarithmicScaleNice",value:function(n,i,c){i<=0&&(i=Math.max(n,c)),n<=0&&(n=Math.min(i,c));for(var A=[],h=Math.ceil(Math.log(i)/Math.log(c)+1),u=Math.floor(Math.log(n)/Math.log(c));u<h;u++)A.push(Math.pow(c,u));return{result:A,niceMin:A[0],niceMax:A[A.length-1]}}},{key:"logarithmicScale",value:function(n,i,c){i<=0&&(i=Math.max(n,c)),n<=0&&(n=Math.min(i,c));for(var A=[],h=Math.log(i)/Math.log(c),u=Math.log(n)/Math.log(c),p=h-u,x=Math.round(p),w=p/x,S=0,B=u;S<x;S++,B+=w)A.push(Math.pow(c,B));return A.push(Math.pow(c,h)),{result:A,niceMin:n,niceMax:i}}},{key:"_adjustTicksForSmallRange",value:function(n,i,c){var A=n;if(i!==void 0&&this.w.config.yaxis[i].labels.formatter&&this.w.config.yaxis[i].tickAmount===void 0){var h=Number(this.w.config.yaxis[i].labels.formatter(1));M.isNumber(h)&&this.w.globals.yValueDecimal===0&&(A=Math.ceil(c))}return A<n?A:n}},{key:"setYScaleForIndex",value:function(n,i,c){var A=this.w.globals,h=this.w.config,u=A.isBarHorizontal?h.xaxis:h.yaxis[n];A.yAxisScale[n]===void 0&&(A.yAxisScale[n]=[]);var p=Math.abs(c-i);u.logarithmic&&p<=5&&(A.invalidLogScale=!0),u.logarithmic&&p>5?(A.allSeriesCollapsed=!1,A.yAxisScale[n]=u.forceNiceScale?this.logarithmicScaleNice(i,c,u.logBase):this.logarithmicScale(i,c,u.logBase)):c!==-Number.MAX_VALUE&&M.isNumber(c)&&i!==Number.MAX_VALUE&&M.isNumber(i)?(A.allSeriesCollapsed=!1,A.yAxisScale[n]=this.niceScale(i,c,n)):A.yAxisScale[n]=this.niceScale(Number.MIN_VALUE,0,n)}},{key:"setXScale",value:function(n,i){var c=this.w,A=c.globals,h=Math.abs(i-n);if(i!==-Number.MAX_VALUE&&M.isNumber(i)){var u=A.xTickAmount+1;h<10&&h>1&&(u=h),A.xAxisScale=this.linearScale(n,i,u,0,c.config.xaxis.stepSize)}else A.xAxisScale=this.linearScale(0,10,10);return A.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var n=this,i=this.w.config,c=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var A=c.seriesYAxisMap,h=c.minYArr,u=c.maxYArr;c.allSeriesCollapsed=!0,c.barGroups=[],A.forEach(function(p,x){var w=[];p.forEach(function(S){var B=i.series[S].group;w.indexOf(B)<0&&w.push(B)}),p.length>0?function(){var S,B,P=Number.MAX_VALUE,R=-Number.MAX_VALUE,z=P,_=R;if(i.chart.stacked)(function(){var ae=new Array(c.dataPoints).fill(0),b=[],Q=[],K=[];w.forEach(function(){b.push(ae.map(function(){return Number.MIN_VALUE})),Q.push(ae.map(function(){return Number.MIN_VALUE})),K.push(ae.map(function(){return Number.MIN_VALUE}))});for(var ge=function(me){!S&&i.series[p[me]].type&&(S=i.series[p[me]].type);var Fe=p[me];B=i.series[Fe].group?i.series[Fe].group:"axis-".concat(x),!(c.collapsedSeriesIndices.indexOf(Fe)<0&&c.ancillaryCollapsedSeriesIndices.indexOf(Fe)<0)||(c.allSeriesCollapsed=!1,w.forEach(function(Le,Oe){if(i.series[Fe].group===Le)for(var $e=0;$e<c.series[Fe].length;$e++){var Ge=c.series[Fe][$e];Ge>=0?Q[Oe][$e]+=Ge:K[Oe][$e]+=Ge,b[Oe][$e]+=Ge,z=Math.min(z,Ge),_=Math.max(_,Ge)}})),S!=="bar"&&S!=="column"||c.barGroups.push(B)},se=0;se<p.length;se++)ge(se);S||(S=i.chart.type),S==="bar"||S==="column"?w.forEach(function(me,Fe){P=Math.min(P,Math.min.apply(null,K[Fe])),R=Math.max(R,Math.max.apply(null,Q[Fe]))}):(w.forEach(function(me,Fe){z=Math.min(z,Math.min.apply(null,b[Fe])),_=Math.max(_,Math.max.apply(null,b[Fe]))}),P=z,R=_),P===Number.MIN_VALUE&&R===Number.MIN_VALUE&&(R=-Number.MAX_VALUE)})();else for(var Z=0;Z<p.length;Z++){var ee=p[Z];P=Math.min(P,h[ee]),R=Math.max(R,u[ee]),!(c.collapsedSeriesIndices.indexOf(ee)<0&&c.ancillaryCollapsedSeriesIndices.indexOf(ee)<0)||(c.allSeriesCollapsed=!1)}i.yaxis[x].min!==void 0&&(P=typeof i.yaxis[x].min=="function"?i.yaxis[x].min(P):i.yaxis[x].min),i.yaxis[x].max!==void 0&&(R=typeof i.yaxis[x].max=="function"?i.yaxis[x].max(R):i.yaxis[x].max),c.barGroups=c.barGroups.filter(function(ae,b,Q){return Q.indexOf(ae)===b}),n.setYScaleForIndex(x,P,R),p.forEach(function(ae){h[ae]=c.yAxisScale[x].niceMin,u[ae]=c.yAxisScale[x].niceMax})}():n.setYScaleForIndex(x,0,-Number.MAX_VALUE)})}}]),te}(),be=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.scales=new We(n)}return d(te,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w.config,u=this.w.globals,p=-Number.MAX_VALUE,x=Number.MIN_VALUE;A===null&&(A=n+1);var w=u.series,S=w,B=w;h.chart.type==="candlestick"?(S=u.seriesCandleL,B=u.seriesCandleH):h.chart.type==="boxPlot"?(S=u.seriesCandleO,B=u.seriesCandleC):u.isRangeData&&(S=u.seriesRangeStart,B=u.seriesRangeEnd);var P=!1;if(u.seriesX.length>=A){var R,z=(R=u.brushSource)===null||R===void 0?void 0:R.w.config.chart.brush;(h.chart.zoom.enabled&&h.chart.zoom.autoScaleYaxis||z!=null&&z.enabled&&z!=null&&z.autoScaleYaxis)&&(P=!0)}for(var _=n;_<A;_++){u.dataPoints=Math.max(u.dataPoints,w[_].length);var Z=h.series[_].type;u.categoryLabels.length&&(u.dataPoints=u.categoryLabels.filter(function(K){return K!==void 0}).length),u.labels.length&&h.xaxis.type!=="datetime"&&u.series.reduce(function(K,ge){return K+ge.length},0)!==0&&(u.dataPoints=Math.max(u.dataPoints,u.labels.length));var ee=0,ae=w[_].length-1;if(P){if(h.xaxis.min)for(;ee<ae&&u.seriesX[_][ee]<h.xaxis.min;ee++);if(h.xaxis.max)for(;ae>ee&&u.seriesX[_][ae]>h.xaxis.max;ae--);}for(var b=ee;b<=ae&&b<u.series[_].length;b++){var Q=w[_][b];if(Q!==null&&M.isNumber(Q)){switch(B[_][b]!==void 0&&(p=Math.max(p,B[_][b]),i=Math.min(i,B[_][b])),S[_][b]!==void 0&&(i=Math.min(i,S[_][b]),c=Math.max(c,S[_][b])),Z){case"candlestick":u.seriesCandleC[_][b]!==void 0&&(p=Math.max(p,u.seriesCandleH[_][b]),i=Math.min(i,u.seriesCandleL[_][b]));break;case"boxPlot":u.seriesCandleC[_][b]!==void 0&&(p=Math.max(p,u.seriesCandleC[_][b]),i=Math.min(i,u.seriesCandleO[_][b]))}Z&&Z!=="candlestick"&&Z!=="boxPlot"&&Z!=="rangeArea"&&Z!=="rangeBar"&&(p=Math.max(p,u.series[_][b]),i=Math.min(i,u.series[_][b])),c=p,u.seriesGoals[_]&&u.seriesGoals[_][b]&&Array.isArray(u.seriesGoals[_][b])&&u.seriesGoals[_][b].forEach(function(K){x!==Number.MIN_VALUE&&(x=Math.min(x,K.value),i=x),p=Math.max(p,K.value),c=p}),M.isFloat(Q)&&(Q=M.noExponents(Q),u.yValueDecimal=Math.max(u.yValueDecimal,Q.toString().split(".")[1].length)),x>S[_][b]&&S[_][b]<0&&(x=S[_][b])}else u.hasNullValues=!0}Z!=="bar"&&Z!=="column"||(x<0&&p<0&&(p=0,c=Math.max(c,0)),x===Number.MIN_VALUE&&(x=0,i=Math.min(i,0)))}return h.chart.type==="rangeBar"&&u.seriesRangeStart.length&&u.isBarHorizontal&&(x=i),h.chart.type==="bar"&&(x<0&&p<0&&(p=0),x===Number.MIN_VALUE&&(x=0)),{minY:x,maxY:p,lowestY:i,highestY:c}}},{key:"setYRange",value:function(){var n=this.w.globals,i=this.w.config;n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE;var c,A=Number.MAX_VALUE;if(n.isMultipleYAxis){A=Number.MAX_VALUE;for(var h=0;h<n.series.length;h++)c=this.getMinYMaxY(h),n.minYArr[h]=c.lowestY,n.maxYArr[h]=c.highestY,A=Math.min(A,c.lowestY)}return c=this.getMinYMaxY(0,A,null,n.series.length),i.chart.type==="bar"?(n.minY=c.minY,n.maxY=c.maxY):(n.minY=c.lowestY,n.maxY=c.highestY),A=c.lowestY,i.chart.stacked&&this._setStackedMinMax(),i.chart.type==="line"||i.chart.type==="area"||i.chart.type==="scatter"||i.chart.type==="candlestick"||i.chart.type==="boxPlot"||i.chart.type==="rangeBar"&&!n.isBarHorizontal?n.minY===Number.MIN_VALUE&&A!==-Number.MAX_VALUE&&A!==n.maxY&&(n.minY=A):n.minY=n.minY!==Number.MIN_VALUE?Math.min(c.minY,n.minY):c.minY,i.yaxis.forEach(function(u,p){u.max!==void 0&&(typeof u.max=="number"?n.maxYArr[p]=u.max:typeof u.max=="function"&&(n.maxYArr[p]=u.max(n.isMultipleYAxis?n.maxYArr[p]:n.maxY)),n.maxY=n.maxYArr[p]),u.min!==void 0&&(typeof u.min=="number"?n.minYArr[p]=u.min:typeof u.min=="function"&&(n.minYArr[p]=u.min(n.isMultipleYAxis?n.minYArr[p]===Number.MIN_VALUE?0:n.minYArr[p]:n.minY)),n.minY=n.minYArr[p])}),n.isBarHorizontal&&["min","max"].forEach(function(u){i.xaxis[u]!==void 0&&typeof i.xaxis[u]=="number"&&(u==="min"?n.minY=i.xaxis[u]:n.maxY=i.xaxis[u])}),n.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),n.minY=A):(this.scales.setYScaleForIndex(0,n.minY,n.maxY),n.minY=n.yAxisScale[0].niceMin,n.maxY=n.yAxisScale[0].niceMax,n.minYArr[0]=n.minY,n.maxYArr[0]=n.maxY),n.barGroups=[],n.lineGroups=[],n.areaGroups=[],i.series.forEach(function(u){switch(u.type||i.chart.type){case"bar":case"column":n.barGroups.push(u.group);break;case"line":n.lineGroups.push(u.group);break;case"area":n.areaGroups.push(u.group)}}),n.barGroups=n.barGroups.filter(function(u,p,x){return x.indexOf(u)===p}),n.lineGroups=n.lineGroups.filter(function(u,p,x){return x.indexOf(u)===p}),n.areaGroups=n.areaGroups.filter(function(u,p,x){return x.indexOf(u)===p}),{minY:n.minY,maxY:n.maxY,minYArr:n.minYArr,maxYArr:n.maxYArr,yAxisScale:n.yAxisScale}}},{key:"setXRange",value:function(){var n=this.w.globals,i=this.w.config,c=i.xaxis.type==="numeric"||i.xaxis.type==="datetime"||i.xaxis.type==="category"&&!n.noLabelsProvided||n.noLabelsProvided||n.isXNumeric;if(n.isXNumeric&&function(){for(var x=0;x<n.series.length;x++)if(n.labels[x])for(var w=0;w<n.labels[x].length;w++)n.labels[x][w]!==null&&M.isNumber(n.labels[x][w])&&(n.maxX=Math.max(n.maxX,n.labels[x][w]),n.initialMaxX=Math.max(n.maxX,n.labels[x][w]),n.minX=Math.min(n.minX,n.labels[x][w]),n.initialMinX=Math.min(n.minX,n.labels[x][w]))}(),n.noLabelsProvided&&i.xaxis.categories.length===0&&(n.maxX=n.labels[n.labels.length-1],n.initialMaxX=n.labels[n.labels.length-1],n.minX=1,n.initialMinX=1),n.isXNumeric||n.noLabelsProvided||n.dataFormatXNumeric){var A=10;if(i.xaxis.tickAmount===void 0)A=Math.round(n.svgWidth/150),i.xaxis.type==="numeric"&&n.dataPoints<30&&(A=n.dataPoints-1),A>n.dataPoints&&n.dataPoints!==0&&(A=n.dataPoints-1);else if(i.xaxis.tickAmount==="dataPoints"){if(n.series.length>1&&(A=n.series[n.maxValsInArrayIndex].length-1),n.isXNumeric){var h=n.maxX-n.minX;h<30&&(A=h-1)}}else A=i.xaxis.tickAmount;if(n.xTickAmount=A,i.xaxis.max!==void 0&&typeof i.xaxis.max=="number"&&(n.maxX=i.xaxis.max),i.xaxis.min!==void 0&&typeof i.xaxis.min=="number"&&(n.minX=i.xaxis.min),i.xaxis.range!==void 0&&(n.minX=n.maxX-i.xaxis.range),n.minX!==Number.MAX_VALUE&&n.maxX!==-Number.MAX_VALUE)if(i.xaxis.convertedCatToNumeric&&!n.dataFormatXNumeric){for(var u=[],p=n.minX-1;p<n.maxX;p++)u.push(p+1);n.xAxisScale={result:u,niceMin:u[0],niceMax:u[u.length-1]}}else n.xAxisScale=this.scales.setXScale(n.minX,n.maxX);else n.xAxisScale=this.scales.linearScale(0,A,A,0,i.xaxis.stepSize),n.noLabelsProvided&&n.labels.length>0&&(n.xAxisScale=this.scales.linearScale(1,n.labels.length,A-1,0,i.xaxis.stepSize),n.seriesX=n.labels.slice());c&&(n.labels=n.xAxisScale.result.slice())}return n.isBarHorizontal&&n.labels.length&&(n.xTickAmount=n.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:n.minX,maxX:n.maxX}}},{key:"setZRange",value:function(){var n=this.w.globals;if(n.isDataXYZ){for(var i=0;i<n.series.length;i++)if(n.seriesZ[i]!==void 0)for(var c=0;c<n.seriesZ[i].length;c++)n.seriesZ[i][c]!==null&&M.isNumber(n.seriesZ[i][c])&&(n.maxZ=Math.max(n.maxZ,n.seriesZ[i][c]),n.minZ=Math.min(n.minZ,n.seriesZ[i][c]))}}},{key:"_handleSingleDataPoint",value:function(){var n=this.w.globals,i=this.w.config;if(n.minX===n.maxX){var c=new J(this.ctx);if(i.xaxis.type==="datetime"){var A=c.getDate(n.minX);i.xaxis.labels.datetimeUTC?A.setUTCDate(A.getUTCDate()-2):A.setDate(A.getDate()-2),n.minX=new Date(A).getTime();var h=c.getDate(n.maxX);i.xaxis.labels.datetimeUTC?h.setUTCDate(h.getUTCDate()+2):h.setDate(h.getDate()+2),n.maxX=new Date(h).getTime()}else(i.xaxis.type==="numeric"||i.xaxis.type==="category"&&!n.noLabelsProvided)&&(n.minX=n.minX-2,n.initialMinX=n.minX,n.maxX=n.maxX+2,n.initialMaxX=n.maxX)}}},{key:"_getMinXDiff",value:function(){var n=this.w.globals;n.isXNumeric&&n.seriesX.forEach(function(i,c){i.length===1&&i.push(n.seriesX[n.maxValsInArrayIndex][n.seriesX[n.maxValsInArrayIndex].length-1]);var A=i.slice();A.sort(function(h,u){return h-u}),A.forEach(function(h,u){if(u>0){var p=h-A[u-1];p>0&&(n.minXDiff=Math.min(p,n.minXDiff))}}),n.dataPoints!==1&&n.minXDiff!==Number.MAX_VALUE||(n.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var n=this,i=this.w.globals;if(i.series.length){var c=i.seriesGroups;c.length||(c=[this.w.globals.seriesNames.map(function(u){return u})]);var A={},h={};c.forEach(function(u){A[u]=[],h[u]=[],n.w.config.series.map(function(p,x){return u.indexOf(i.seriesNames[x])>-1?x:null}).filter(function(p){return p!==null}).forEach(function(p){for(var x=0;x<i.series[i.maxValsInArrayIndex].length;x++){var w,S,B,P;A[u][x]===void 0&&(A[u][x]=0,h[u][x]=0),(n.w.config.chart.stacked&&!i.comboCharts||n.w.config.chart.stacked&&i.comboCharts&&(!n.w.config.chart.stackOnlyBar||((w=n.w.config.series)===null||w===void 0||(S=w[p])===null||S===void 0?void 0:S.type)==="bar"||((B=n.w.config.series)===null||B===void 0||(P=B[p])===null||P===void 0?void 0:P.type)==="column"))&&i.series[p][x]!==null&&M.isNumber(i.series[p][x])&&(i.series[p][x]>0?A[u][x]+=parseFloat(i.series[p][x])+1e-4:h[u][x]+=parseFloat(i.series[p][x]))}})}),Object.entries(A).forEach(function(u){var p=O(u,1)[0];A[p].forEach(function(x,w){i.maxY=Math.max(i.maxY,A[p][w]),i.minY=Math.min(i.minY,h[p][w])})})}}}]),te}(),yt=function(){function te(n,i){o(this,te),this.ctx=n,this.elgrid=i,this.w=n.w;var c=this.w;this.xaxisFontSize=c.config.xaxis.labels.style.fontSize,this.axisFontFamily=c.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=c.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=c.config.chart.type==="bar"&&c.config.plotOptions.bar.horizontal,this.xAxisoffX=c.config.xaxis.position==="bottom"?c.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new le(n)}return d(te,[{key:"drawYaxis",value:function(n){var i=this.w,c=new V(this.ctx),A=i.config.yaxis[n].labels.style,h=A.fontSize,u=A.fontFamily,p=A.fontWeight,x=c.group({class:"apexcharts-yaxis",rel:n,transform:"translate(".concat(i.globals.translateYAxisX[n],", 0)")});if(this.axesUtils.isYAxisHidden(n))return x;var w=c.group({class:"apexcharts-yaxis-texts-g"});x.add(w);var S=i.globals.yAxisScale[n].result.length-1,B=i.globals.gridHeight/S,P=i.globals.yLabelFormatters[n],R=this.axesUtils.checkForReversedLabels(n,i.globals.yAxisScale[n].result.slice());if(i.config.yaxis[n].labels.show){var z=i.globals.translateY+i.config.yaxis[n].labels.offsetY;i.globals.isBarHorizontal?z=0:i.config.chart.type==="heatmap"&&(z-=B/2),z+=parseInt(h,10)/3;for(var _=S;_>=0;_--){var Z=P(R[_],_,i),ee=i.config.yaxis[n].labels.padding;i.config.yaxis[n].opposite&&i.config.yaxis.length!==0&&(ee*=-1);var ae=this.getTextAnchor(i.config.yaxis[n].labels.align,i.config.yaxis[n].opposite),b=this.axesUtils.getYAxisForeColor(A.colors,n),Q=Array.isArray(b)?b[_]:b,K=M.listToArray(i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label tspan"))).map(function(se){return se.textContent}),ge=c.drawText({x:ee,y:z,text:K.includes(Z)&&!i.config.yaxis[n].labels.showDuplicates?"":Z,textAnchor:ae,fontSize:h,fontFamily:u,fontWeight:p,maxWidth:i.config.yaxis[n].labels.maxWidth,foreColor:Q,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(A.cssClass)});w.add(ge),this.addTooltip(ge,Z),i.config.yaxis[n].labels.rotate!==0&&this.rotateLabel(c,ge,firstLabel,i.config.yaxis[n].labels.rotate),z+=B}}return this.addYAxisTitle(c,x,n),this.addAxisBorder(c,x,n,S,B),x}},{key:"getTextAnchor",value:function(n,i){return n==="left"?"start":n==="center"?"middle":n==="right"?"end":i?"start":"end"}},{key:"addTooltip",value:function(n,i){var c=document.createElementNS(this.w.globals.SVGNS,"title");c.textContent=Array.isArray(i)?i.join(" "):i,n.node.appendChild(c)}},{key:"rotateLabel",value:function(n,i,c,A){var h=n.rotateAroundCenter(c.node),u=n.rotateAroundCenter(i.node);i.node.setAttribute("transform","rotate(".concat(A," ").concat(h.x," ").concat(u.y,")"))}},{key:"addYAxisTitle",value:function(n,i,c){var A=this.w;if(A.config.yaxis[c].title.text!==void 0){var h=n.group({class:"apexcharts-yaxis-title"}),u=A.config.yaxis[c].opposite?A.globals.translateYAxisX[c]:0,p=n.drawText({x:u,y:A.globals.gridHeight/2+A.globals.translateY+A.config.yaxis[c].title.offsetY,text:A.config.yaxis[c].title.text,textAnchor:"end",foreColor:A.config.yaxis[c].title.style.color,fontSize:A.config.yaxis[c].title.style.fontSize,fontWeight:A.config.yaxis[c].title.style.fontWeight,fontFamily:A.config.yaxis[c].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(A.config.yaxis[c].title.style.cssClass)});h.add(p),i.add(h)}}},{key:"addAxisBorder",value:function(n,i,c,A,h){var u=this.w,p=u.config.yaxis[c].axisBorder,x=31+p.offsetX;if(u.config.yaxis[c].opposite&&(x=-31-p.offsetX),p.show){var w=n.drawLine(x,u.globals.translateY+p.offsetY-2,x,u.globals.gridHeight+u.globals.translateY+p.offsetY+2,p.color,0,p.width);i.add(w)}u.config.yaxis[c].axisTicks.show&&this.axesUtils.drawYAxisTicks(x,A,p,u.config.yaxis[c].axisTicks,c,h,i)}},{key:"drawYaxisInversed",value:function(n){var i=this.w,c=new V(this.ctx),A=c.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),h=c.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(i.globals.translateXAxisX,", ").concat(i.globals.translateXAxisY,")")});A.add(h);var u=i.globals.yAxisScale[n].result.length-1,p=i.globals.gridWidth/u+.1,x=p+i.config.xaxis.labels.offsetX,w=i.globals.xLabelFormatter,S=this.axesUtils.checkForReversedLabels(n,i.globals.yAxisScale[n].result.slice()),B=i.globals.timescaleLabels;if(B.length>0&&(this.xaxisLabels=B.slice(),u=(S=B.slice()).length),i.config.xaxis.labels.show)for(var P=B.length?0:u;B.length?P<B.length:P>=0;B.length?P++:P--){var R=w(S[P],P,i),z=i.globals.gridWidth+i.globals.padHorizontal-(x-p+i.config.xaxis.labels.offsetX);if(B.length){var _=this.axesUtils.getLabel(S,B,z,P,this.drawnLabels,this.xaxisFontSize);z=_.x,R=_.text,this.drawnLabels.push(_.text),P===0&&i.globals.skipFirstTimelinelabel&&(R=""),P===S.length-1&&i.globals.skipLastTimelinelabel&&(R="")}var Z=c.drawText({x:z,y:this.xAxisoffX+i.config.xaxis.labels.offsetY+30-(i.config.xaxis.position==="top"?i.globals.xAxisHeight+i.config.xaxis.axisTicks.height-2:0),text:R,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[n]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:i.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(i.config.xaxis.labels.style.cssClass)});h.add(Z),Z.tspan(R),this.addTooltip(Z,R),x+=p}return this.inversedYAxisTitleText(A),this.inversedYAxisBorder(A),A}},{key:"inversedYAxisBorder",value:function(n){var i=this.w,c=new V(this.ctx),A=i.config.xaxis.axisBorder;if(A.show){var h=0;i.config.chart.type==="bar"&&i.globals.isXNumeric&&(h-=15);var u=c.drawLine(i.globals.padHorizontal+h+A.offsetX,this.xAxisoffX,i.globals.gridWidth,this.xAxisoffX,A.color,0,A.height);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(u):n.add(u)}}},{key:"inversedYAxisTitleText",value:function(n){var i=this.w,c=new V(this.ctx);if(i.config.xaxis.title.text!==void 0){var A=c.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),h=c.drawText({x:i.globals.gridWidth/2+i.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(i.config.xaxis.title.style.fontSize)+i.config.xaxis.title.offsetY+20,text:i.config.xaxis.title.text,textAnchor:"middle",fontSize:i.config.xaxis.title.style.fontSize,fontFamily:i.config.xaxis.title.style.fontFamily,fontWeight:i.config.xaxis.title.style.fontWeight,foreColor:i.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(i.config.xaxis.title.style.cssClass)});A.add(h),n.add(A)}}},{key:"yAxisTitleRotate",value:function(n,i){var c=this.w,A=new V(this.ctx),h=c.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),u=h?h.getBoundingClientRect():{width:0,height:0},p=c.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-title text")),x=p?p.getBoundingClientRect():{width:0,height:0};if(p){var w=this.xPaddingForYAxisTitle(n,u,x,i);p.setAttribute("x",w.xPos-(i?10:0));var S=A.rotateAroundCenter(p);p.setAttribute("transform","rotate(".concat(i?-1*c.config.yaxis[n].title.rotate:c.config.yaxis[n].title.rotate," ").concat(S.x," ").concat(S.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(n,i,c,A){var h=this.w,u=0,p=10;return h.config.yaxis[n].title.text===void 0||n<0?{xPos:u,padd:0}:(A?u=i.width+h.config.yaxis[n].title.offsetX+c.width/2+p/2:(u=-1*i.width+h.config.yaxis[n].title.offsetX+p/2+c.width/2,h.globals.isBarHorizontal&&(p=25,u=-1*i.width-h.config.yaxis[n].title.offsetX-p)),{xPos:u,padd:p})}},{key:"setYAxisXPosition",value:function(n,i){var c=this.w,A=0,h=0,u=18,p=1;c.config.yaxis.length>1&&(this.multipleYs=!0),c.config.yaxis.forEach(function(x,w){var S=c.globals.ignoreYAxisIndexes.includes(w)||!x.show||x.floating||n[w].width===0,B=n[w].width+i[w].width;x.opposite?c.globals.isBarHorizontal?(h=c.globals.gridWidth+c.globals.translateX-1,c.globals.translateYAxisX[w]=h-x.labels.offsetX):(h=c.globals.gridWidth+c.globals.translateX+p,S||(p+=B+20),c.globals.translateYAxisX[w]=h-x.labels.offsetX+20):(A=c.globals.translateX-u,S||(u+=B+20),c.globals.translateYAxisX[w]=A+x.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var n=this.w;M.listToArray(n.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(i,c){var A=n.config.yaxis[c];if(A&&!A.floating&&A.labels.align!==void 0){var h=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-texts-g")),u=M.listToArray(n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-label"))),p=h.getBoundingClientRect();u.forEach(function(x){x.setAttribute("text-anchor",A.labels.align)}),A.labels.align!=="left"||A.opposite?A.labels.align==="center"?h.setAttribute("transform","translate(".concat(p.width/2*(A.opposite?1:-1),", 0)")):A.labels.align==="right"&&A.opposite&&h.setAttribute("transform","translate(".concat(p.width,", 0)")):h.setAttribute("transform","translate(-".concat(p.width,", 0)"))}})}}]),te}(),dt=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.documentEvent=M.bind(this.documentEvent,this)}return d(te,[{key:"addEventListener",value:function(n,i){var c=this.w;c.globals.events.hasOwnProperty(n)?c.globals.events[n].push(i):c.globals.events[n]=[i]}},{key:"removeEventListener",value:function(n,i){var c=this.w;if(c.globals.events.hasOwnProperty(n)){var A=c.globals.events[n].indexOf(i);A!==-1&&c.globals.events[n].splice(A,1)}}},{key:"fireEvent",value:function(n,i){var c=this.w;if(c.globals.events.hasOwnProperty(n)){i&&i.length||(i=[]);for(var A=c.globals.events[n],h=A.length,u=0;u<h;u++)A[u].apply(null,i)}}},{key:"setupEventHandlers",value:function(){var n=this,i=this.w,c=this.ctx,A=i.globals.dom.baseEl.querySelector(i.globals.chartClass);this.ctx.eventList.forEach(function(h){A.addEventListener(h,function(u){var p=Object.assign({},i,{seriesIndex:i.globals.axisCharts?i.globals.capturedSeriesIndex:0,dataPointIndex:i.globals.capturedDataPointIndex});u.type==="mousemove"||u.type==="touchmove"?typeof i.config.chart.events.mouseMove=="function"&&i.config.chart.events.mouseMove(u,c,p):u.type==="mouseleave"||u.type==="touchleave"?typeof i.config.chart.events.mouseLeave=="function"&&i.config.chart.events.mouseLeave(u,c,p):(u.type==="mouseup"&&u.which===1||u.type==="touchend")&&(typeof i.config.chart.events.click=="function"&&i.config.chart.events.click(u,c,p),c.ctx.events.fireEvent("click",[u,c,p]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(h){i.globals.dom.baseEl.addEventListener(h,n.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(n){var i=this.w,c=n.target.className;if(n.type==="click"){var A=i.globals.dom.baseEl.querySelector(".apexcharts-menu");A&&A.classList.contains("apexcharts-menu-open")&&c!=="apexcharts-menu-icon"&&A.classList.remove("apexcharts-menu-open")}i.globals.clientX=n.type==="touchmove"?n.touches[0].clientX:n.clientX,i.globals.clientY=n.type==="touchmove"?n.touches[0].clientY:n.clientY}}]),te}(),nt=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"setCurrentLocaleValues",value:function(n){var i=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(i=this.w.config.chart.locales.concat(window.Apex.chart.locales));var c=i.filter(function(h){return h.name===n})[0];if(!c)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var A=M.extend(we,c);this.w.globals.locale=A.options}}]),te}(),At=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"drawAxis",value:function(n,i){var c,A,h=this,u=this.w.globals,p=this.w.config,x=new lt(this.ctx,i),w=new yt(this.ctx,i);u.axisCharts&&n!=="radar"&&(u.isBarHorizontal?(A=w.drawYaxisInversed(0),c=x.drawXaxisInversed(0),u.dom.elGraphical.add(c),u.dom.elGraphical.add(A)):(c=x.drawXaxis(),u.dom.elGraphical.add(c),p.yaxis.map(function(S,B){if(u.ignoreYAxisIndexes.indexOf(B)===-1&&(A=w.drawYaxis(B),u.dom.Paper.add(A),h.w.config.grid.position==="back")){var P=u.dom.Paper.children()[1];P.remove(),u.dom.Paper.add(P)}})))}}]),te}(),gt=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"drawXCrosshairs",value:function(){var n=this.w,i=new V(this.ctx),c=new G(this.ctx),A=n.config.xaxis.crosshairs.fill.gradient,h=n.config.xaxis.crosshairs.dropShadow,u=n.config.xaxis.crosshairs.fill.type,p=A.colorFrom,x=A.colorTo,w=A.opacityFrom,S=A.opacityTo,B=A.stops,P=h.enabled,R=h.left,z=h.top,_=h.blur,Z=h.color,ee=h.opacity,ae=n.config.xaxis.crosshairs.fill.color;if(n.config.xaxis.crosshairs.show){u==="gradient"&&(ae=i.drawGradient("vertical",p,x,w,S,null,B,null));var b=i.drawRect();n.config.xaxis.crosshairs.width===1&&(b=i.drawLine());var Q=n.globals.gridHeight;(!M.isNumber(Q)||Q<0)&&(Q=0);var K=n.config.xaxis.crosshairs.width;(!M.isNumber(K)||K<0)&&(K=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:Q,width:K,height:Q,fill:ae,filter:"none","fill-opacity":n.config.xaxis.crosshairs.opacity,stroke:n.config.xaxis.crosshairs.stroke.color,"stroke-width":n.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":n.config.xaxis.crosshairs.stroke.dashArray}),P&&(b=c.dropShadow(b,{left:R,top:z,blur:_,color:Z,opacity:ee})),n.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var n=this.w,i=new V(this.ctx),c=n.config.yaxis[0].crosshairs,A=n.globals.barPadForNumericAxis;if(n.config.yaxis[0].crosshairs.show){var h=i.drawLine(-A,0,n.globals.gridWidth+A,0,c.stroke.color,c.stroke.dashArray,c.stroke.width);h.attr({class:"apexcharts-ycrosshairs"}),n.globals.dom.elGraphical.add(h)}var u=i.drawLine(-A,0,n.globals.gridWidth+A,0,c.stroke.color,0,0);u.attr({class:"apexcharts-ycrosshairs-hidden"}),n.globals.dom.elGraphical.add(u)}}]),te}(),ut=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"checkResponsiveConfig",value:function(n){var i=this,c=this.w,A=c.config;if(A.responsive.length!==0){var h=A.responsive.slice();h.sort(function(w,S){return w.breakpoint>S.breakpoint?1:S.breakpoint>w.breakpoint?-1:0}).reverse();var u=new he({}),p=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=h[0].breakpoint,B=window.innerWidth>0?window.innerWidth:screen.width;if(B>S){var P=M.clone(c.globals.initialConfig);P.series=M.clone(c.config.series);var R=ue.extendArrayProps(u,P,c);w=M.extend(R,w),w=M.extend(c.config,w),i.overrideResponsiveOptions(w)}else for(var z=0;z<h.length;z++)B<h[z].breakpoint&&(w=ue.extendArrayProps(u,h[z].options,c),w=M.extend(c.config,w),i.overrideResponsiveOptions(w))};if(n){var x=ue.extendArrayProps(u,n,c);x=M.extend(c.config,x),p(x=M.extend(x,n))}else p({})}}},{key:"overrideResponsiveOptions",value:function(n){var i=new he(n).init({responsiveOverride:!0});this.w.config=i}}]),te}(),Et=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return d(te,[{key:"checkHeatmapDistributed",value:function(){var n=this.w.config,i=n.chart,c=n.plotOptions;return i.type==="treemap"&&c.treemap&&c.treemap.distributed||i.type==="heatmap"&&c.heatmap&&c.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var n=this.w.config,i=n.chart,c=n.plotOptions;return c.bar&&c.bar.distributed&&(i.type==="bar"||i.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var n=this.w,i=new M;n.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(n.config.theme.mode));var c=L(n.config.colors||n.config.fill.colors||[]);n.globals.colors=this.getColors(c),this.applySeriesColors(n.globals.seriesColors,n.globals.colors),n.config.theme.monochrome.enabled&&(n.globals.colors=this.getMonochromeColors(n.config.theme.monochrome,n.globals.series,i));var A=n.globals.colors.slice();this.pushExtraColors(n.globals.colors),this.applyColorTypes(["fill","stroke"],A),this.applyDataLabelsColors(A),this.applyRadarPolygonsColors(),this.applyMarkersColors(A)}},{key:"getColors",value:function(n){var i=this,c=this.w;return n&&n.length!==0?Array.isArray(n)&&n.length>0&&typeof n[0]=="function"?(this.isColorFn=!0,c.config.series.map(function(A,h){var u=n[h]||n[0];return typeof u=="function"?u({value:c.globals.axisCharts?c.globals.series[h][0]||0:c.globals.series[h],seriesIndex:h,dataPointIndex:h,w:i.w}):u})):n:this.predefined()}},{key:"applySeriesColors",value:function(n,i){n.forEach(function(c,A){c&&(i[A]=c)})}},{key:"getMonochromeColors",value:function(n,i,c){var A=n.color,h=n.shadeIntensity,u=n.shadeTo,p=this.isBarDistributed||this.isHeatmapDistributed?i[0].length*i.length:i.length,x=1/(p/h),w=0;return Array.from({length:p},function(){var S=u==="dark"?c.shadeColor(-1*w,A):c.shadeColor(w,A);return w+=x,S})}},{key:"applyColorTypes",value:function(n,i){var c=this,A=this.w;n.forEach(function(h){A.globals[h].colors=A.config[h].colors===void 0?c.isColorFn?A.config.colors:i:A.config[h].colors.slice(),c.pushExtraColors(A.globals[h].colors)})}},{key:"applyDataLabelsColors",value:function(n){var i=this.w;i.globals.dataLabels.style.colors=i.config.dataLabels.style.colors===void 0?n:i.config.dataLabels.style.colors.slice(),this.pushExtraColors(i.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var n=this.w;n.globals.radarPolygons.fill.colors=n.config.plotOptions.radar.polygons.fill.colors===void 0?[n.config.theme.mode==="dark"?"#424242":"none"]:n.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(n.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(n){var i=this.w;i.globals.markers.colors=i.config.markers.colors===void 0?n:i.config.markers.colors.slice(),this.pushExtraColors(i.globals.markers.colors)}},{key:"pushExtraColors",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,A=this.w,h=i||A.globals.series.length;if(c===null&&(c=this.isBarDistributed||this.isHeatmapDistributed||A.config.chart.type==="heatmap"&&A.config.plotOptions.heatmap&&A.config.plotOptions.heatmap.colorScale.inverse),c&&A.globals.series.length&&(h=A.globals.series[A.globals.maxValsInArrayIndex].length*A.globals.series.length),n.length<h)for(var u=h-n.length,p=0;p<u;p++)n.push(n[p])}},{key:"updateThemeOptions",value:function(n){n.chart=n.chart||{},n.tooltip=n.tooltip||{};var i=n.theme.mode,c=i==="dark"?"palette4":i==="light"?"palette1":n.theme.palette||"palette1",A=i==="dark"?"#f6f7f8":i==="light"?"#373d3f":n.chart.foreColor||"#373d3f";return n.tooltip.theme=i||"light",n.chart.foreColor=A,n.theme.palette=c,n}},{key:"predefined",value:function(){var n={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return n[this.w.config.theme.palette]||n.default}}]),te}(),Rt=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(n){var i=this.w,c=n==="title"?i.config.title:i.config.subtitle,A=i.globals.svgWidth/2,h=c.offsetY,u="middle";if(c.align==="left"?(A=10,u="start"):c.align==="right"&&(A=i.globals.svgWidth-10,u="end"),A+=c.offsetX,h=h+parseInt(c.style.fontSize,10)+c.margin/2,c.text!==void 0){var p=new V(this.ctx).drawText({x:A,y:h,text:c.text,textAnchor:u,fontSize:c.style.fontSize,fontFamily:c.style.fontFamily,fontWeight:c.style.fontWeight,foreColor:c.style.color,opacity:1});p.node.setAttribute("class","apexcharts-".concat(n,"-text")),i.globals.dom.Paper.add(p)}}}]),te}(),_t=function(){function te(n){o(this,te),this.w=n.w,this.dCtx=n}return d(te,[{key:"getTitleSubtitleCoords",value:function(n){var i=this.w,c=0,A=0,h=n==="title"?i.config.title.floating:i.config.subtitle.floating,u=i.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-text"));if(u!==null&&!h){var p=u.getBoundingClientRect();c=p.width,A=i.globals.axisCharts?p.height+5:p.height}return{width:c,height:A}}},{key:"getLegendsRect",value:function(){var n=this.w,i=n.globals.dom.elLegendWrap;n.config.legend.height||n.config.legend.position!=="top"&&n.config.legend.position!=="bottom"||(i.style.maxHeight=n.globals.svgHeight/2+"px");var c=Object.assign({},M.getBoundingClientRect(i));return i!==null&&!n.config.legend.floating&&n.config.legend.show?this.dCtx.lgRect={x:c.x,y:c.y,height:c.height,width:c.height===0?0:c.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},n.config.legend.position!=="left"&&n.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>n.globals.svgWidth&&(this.dCtx.lgRect.width=n.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var n=this,i=this.w,c=[];i.config.series.forEach(function(x,w){x.data.forEach(function(S,B){var P;P=i.globals.series[w][B],A=i.config.dataLabels.formatter(P,{ctx:n.dCtx.ctx,seriesIndex:w,dataPointIndex:B,w:i}),c.push(A)})});var A=M.getLargestStringFromArr(c),h=new V(this.dCtx.ctx),u=i.config.dataLabels.style,p=h.getTextRects(A,parseInt(u.fontSize),u.fontFamily);return{width:1.05*p.width,height:p.height}}},{key:"getLargestStringFromMultiArr",value:function(n,i){var c=n;if(this.w.globals.isMultiLineX){var A=i.map(function(u,p){return Array.isArray(u)?u.length:1}),h=Math.max.apply(Math,L(A));c=i[A.indexOf(h)]}return c}}]),te}(),Xt=function(){function te(n){o(this,te),this.w=n.w,this.dCtx=n}return d(te,[{key:"getxAxisLabelsCoords",value:function(){var n,i=this.w,c=i.globals.labels.slice();if(i.config.xaxis.convertedCatToNumeric&&c.length===0&&(c=i.globals.categoryLabels),i.globals.timescaleLabels.length>0){var A=this.getxAxisTimeScaleLabelsCoords();n={width:A.width,height:A.height},i.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=i.config.legend.position!=="left"&&i.config.legend.position!=="right"||i.config.legend.floating?0:this.dCtx.lgRect.width;var h=i.globals.xLabelFormatter,u=M.getLargestStringFromArr(c),p=this.dCtx.dimHelpers.getLargestStringFromMultiArr(u,c);i.globals.isBarHorizontal&&(p=u=i.globals.yAxisScale[0].result.reduce(function(z,_){return z.length>_.length?z:_},0));var x=new oe(this.dCtx.ctx),w=u;u=x.xLabelFormat(h,u,w,{i:void 0,dateFormatter:new J(this.dCtx.ctx).formatDate,w:i}),p=x.xLabelFormat(h,p,w,{i:void 0,dateFormatter:new J(this.dCtx.ctx).formatDate,w:i}),(i.config.xaxis.convertedCatToNumeric&&u===void 0||String(u).trim()==="")&&(p=u="1");var S=new V(this.dCtx.ctx),B=S.getTextRects(u,i.config.xaxis.labels.style.fontSize),P=B;if(u!==p&&(P=S.getTextRects(p,i.config.xaxis.labels.style.fontSize)),(n={width:B.width>=P.width?B.width:P.width,height:B.height>=P.height?B.height:P.height}).width*c.length>i.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&i.config.xaxis.labels.rotate!==0||i.config.xaxis.labels.rotateAlways){if(!i.globals.isBarHorizontal){i.globals.rotateXLabels=!0;var R=function(z){return S.getTextRects(z,i.config.xaxis.labels.style.fontSize,i.config.xaxis.labels.style.fontFamily,"rotate(".concat(i.config.xaxis.labels.rotate," 0 0)"),!1)};B=R(u),u!==p&&(P=R(p)),n.height=(B.height>P.height?B.height:P.height)/1.5,n.width=B.width>P.width?B.width:P.width}}else i.globals.rotateXLabels=!1}return i.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var n,i=this.w;if(!i.globals.hasXaxisGroups)return{width:0,height:0};var c,A=((n=i.config.xaxis.group.style)===null||n===void 0?void 0:n.fontSize)||i.config.xaxis.labels.style.fontSize,h=i.globals.groups.map(function(B){return B.title}),u=M.getLargestStringFromArr(h),p=this.dCtx.dimHelpers.getLargestStringFromMultiArr(u,h),x=new V(this.dCtx.ctx),w=x.getTextRects(u,A),S=w;return u!==p&&(S=x.getTextRects(p,A)),c={width:w.width>=S.width?w.width:S.width,height:w.height>=S.height?w.height:S.height},i.config.xaxis.labels.show||(c={width:0,height:0}),{width:c.width,height:c.height}}},{key:"getxAxisTitleCoords",value:function(){var n=this.w,i=0,c=0;if(n.config.xaxis.title.text!==void 0){var A=new V(this.dCtx.ctx).getTextRects(n.config.xaxis.title.text,n.config.xaxis.title.style.fontSize);i=A.width,c=A.height}return{width:i,height:c}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var n,i=this.w;this.dCtx.timescaleLabels=i.globals.timescaleLabels.slice();var c=this.dCtx.timescaleLabels.map(function(h){return h.value}),A=c.reduce(function(h,u){return h===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):h.length>u.length?h:u},0);return 1.05*(n=new V(this.dCtx.ctx).getTextRects(A,i.config.xaxis.labels.style.fontSize)).width*c.length>i.globals.gridWidth&&i.config.xaxis.labels.rotate!==0&&(i.globals.overlappingXLabels=!0),n}},{key:"additionalPaddingXLabels",value:function(n){var i=this,c=this.w,A=c.globals,h=c.config,u=h.xaxis.type,p=n.width;A.skipLastTimelinelabel=!1,A.skipFirstTimelinelabel=!1;var x=c.config.yaxis[0].opposite&&c.globals.isBarHorizontal,w=function(S,B){h.yaxis.length>1&&function(P){return A.collapsedSeriesIndices.indexOf(P)!==-1}(B)||function(P){if(i.dCtx.timescaleLabels&&i.dCtx.timescaleLabels.length){var R=i.dCtx.timescaleLabels[0],z=i.dCtx.timescaleLabels[i.dCtx.timescaleLabels.length-1].position+p/1.75-i.dCtx.yAxisWidthRight,_=R.position-p/1.75+i.dCtx.yAxisWidthLeft,Z=c.config.legend.position==="right"&&i.dCtx.lgRect.width>0?i.dCtx.lgRect.width:0;z>A.svgWidth-A.translateX-Z&&(A.skipLastTimelinelabel=!0),_<-(P.show&&!P.floating||h.chart.type!=="bar"&&h.chart.type!=="candlestick"&&h.chart.type!=="rangeBar"&&h.chart.type!=="boxPlot"?10:p/1.75)&&(A.skipFirstTimelinelabel=!0)}else u==="datetime"?i.dCtx.gridPad.right<p&&!A.rotateXLabels&&(A.skipLastTimelinelabel=!0):u!=="datetime"&&i.dCtx.gridPad.right<p/2-i.dCtx.yAxisWidthRight&&!A.rotateXLabels&&!c.config.xaxis.labels.trim&&(i.dCtx.xPadRight=p/2+1)}(S)};h.yaxis.forEach(function(S,B){x?(i.dCtx.gridPad.left<p&&(i.dCtx.xPadLeft=p/2+1),i.dCtx.xPadRight=p/2+1):w(S,B)})}}]),te}(),Zt=function(){function te(n){o(this,te),this.w=n.w,this.dCtx=n}return d(te,[{key:"getyAxisLabelsCoords",value:function(){var n=this,i=this.w,c=[],A=10,h=new le(this.dCtx.ctx);return i.config.yaxis.map(function(u,p){var x={seriesIndex:p,dataPointIndex:-1,w:i},w=i.globals.yAxisScale[p],S=0;if(!h.isYAxisHidden(p)&&u.labels.show&&u.labels.minWidth!==void 0&&(S=u.labels.minWidth),!h.isYAxisHidden(p)&&u.labels.show&&w.result.length){var B=i.globals.yLabelFormatters[p],P=w.niceMin===Number.MIN_VALUE?0:w.niceMin,R=w.result.reduce(function(Q,K){var ge,se;return((ge=String(B(Q,x)))===null||ge===void 0?void 0:ge.length)>((se=String(B(K,x)))===null||se===void 0?void 0:se.length)?Q:K},P),z=R=B(R,x);if(R!==void 0&&R.length!==0||(R=w.niceMax),i.globals.isBarHorizontal){A=0;var _=i.globals.labels.slice();R=M.getLargestStringFromArr(_),R=B(R,{seriesIndex:p,dataPointIndex:-1,w:i}),z=n.dCtx.dimHelpers.getLargestStringFromMultiArr(R,_)}var Z=new V(n.dCtx.ctx),ee="rotate(".concat(u.labels.rotate," 0 0)"),ae=Z.getTextRects(R,u.labels.style.fontSize,u.labels.style.fontFamily,ee,!1),b=ae;R!==z&&(b=Z.getTextRects(z,u.labels.style.fontSize,u.labels.style.fontFamily,ee,!1)),c.push({width:(S>b.width||S>ae.width?S:b.width>ae.width?b.width:ae.width)+A,height:b.height>ae.height?b.height:ae.height})}else c.push({width:0,height:0})}),c}},{key:"getyAxisTitleCoords",value:function(){var n=this,i=this.w,c=[];return i.config.yaxis.map(function(A,h){if(A.show&&A.title.text!==void 0){var u=new V(n.dCtx.ctx),p="rotate(".concat(A.title.rotate," 0 0)"),x=u.getTextRects(A.title.text,A.title.style.fontSize,A.title.style.fontFamily,p,!1);c.push({width:x.width,height:x.height})}else c.push({width:0,height:0})}),c}},{key:"getTotalYAxisWidth",value:function(){var n=this.w,i=0,c=0,A=0,h=n.globals.yAxisScale.length>1?10:0,u=new le(this.dCtx.ctx),p=function(x,w){var S=n.config.yaxis[w].floating,B=0;x.width>0&&!S?(B=x.width+h,function(P){return n.globals.ignoreYAxisIndexes.indexOf(P)>-1}(w)&&(B=B-x.width-h)):B=S||u.isYAxisHidden(w)?0:5,n.config.yaxis[w].opposite?A+=B:c+=B,i+=B};return n.globals.yLabelsCoords.map(function(x,w){p(x,w)}),n.globals.yTitleCoords.map(function(x,w){p(x,w)}),n.globals.isBarHorizontal&&!n.config.yaxis[0].floating&&(i=n.globals.yLabelsCoords[0].width+n.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=c,this.dCtx.yAxisWidthRight=A,i}}]),te}(),dr=function(){function te(n){o(this,te),this.w=n.w,this.dCtx=n}return d(te,[{key:"gridPadForColumnsInNumericAxis",value:function(n){var i=this.w,c=i.config,A=i.globals;if(A.noData||A.collapsedSeries.length+A.ancillaryCollapsedSeries.length===c.series.length)return 0;var h=function(R){return["bar","rangeBar","candlestick","boxPlot"].includes(R)},u=c.chart.type,p=0,x=h(u)?c.series.length:1;A.comboBarCount>0&&(x=A.comboBarCount),A.collapsedSeries.forEach(function(R){h(R.type)&&(x-=1)}),c.chart.stacked&&(x=1);var w=h(u)||A.comboBarCount>0,S=Math.abs(A.initialMaxX-A.initialMinX);if(w&&A.isXNumeric&&!A.isBarHorizontal&&x>0&&S!==0){S<=3&&(S=A.dataPoints);var B=S/n,P=A.minXDiff&&A.minXDiff/B>0?A.minXDiff/B:0;P>n/2&&(P/=2),(p=P*parseInt(c.plotOptions.bar.columnWidth,10)/100)<1&&(p=1),A.barPadForNumericAxis=p}return p}},{key:"gridPadFortitleSubtitle",value:function(){var n=this,i=this.w,c=i.globals,A=this.dCtx.isSparkline||!c.axisCharts?0:10;["title","subtitle"].forEach(function(p){i.config[p].text!==void 0?A+=i.config[p].margin:A+=n.dCtx.isSparkline||!c.axisCharts?0:5}),!i.config.legend.show||i.config.legend.position!=="bottom"||i.config.legend.floating||c.axisCharts||(A+=10);var h=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),u=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");c.gridHeight-=h.height+u.height+A,c.translateY+=h.height+u.height+A}},{key:"setGridXPosForDualYAxis",value:function(n,i){var c=this.w,A=new le(this.dCtx.ctx);c.config.yaxis.forEach(function(h,u){c.globals.ignoreYAxisIndexes.indexOf(u)!==-1||h.floating||A.isYAxisHidden(u)||(h.opposite&&(c.globals.translateX-=i[u].width+n[u].width+parseInt(h.labels.style.fontSize,10)/1.2+12),c.globals.translateX<2&&(c.globals.translateX=2))})}}]),te}(),Lt=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new _t(this),this.dimYAxis=new Zt(this),this.dimXAxis=new Xt(this),this.dimGrid=new dr(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return d(te,[{key:"plotCoords",value:function(){var n=this,i=this.w,c=i.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var A=Array.isArray(i.config.stroke.width)?Math.max.apply(Math,L(i.config.stroke.width)):i.config.stroke.width;this.isSparkline&&((i.config.markers.discrete.length>0||i.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(u){var p=O(u,2),x=p[0],w=p[1];n.gridPad[x]=Math.max(w,n.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(A/2,this.gridPad.top),this.gridPad.bottom=Math.max(A/2,this.gridPad.bottom)),c.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),c.gridHeight=c.gridHeight-this.gridPad.top-this.gridPad.bottom,c.gridWidth=c.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var h=this.dimGrid.gridPadForColumnsInNumericAxis(c.gridWidth);c.gridWidth=c.gridWidth-2*h,c.translateX=c.translateX+this.gridPad.left+this.xPadLeft+(h>0?h:0),c.translateY=c.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var n=this,i=this.w,c=i.globals,A=this.dimYAxis.getyAxisLabelsCoords(),h=this.dimYAxis.getyAxisTitleCoords();c.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),i.globals.yLabelsCoords=[],i.globals.yTitleCoords=[],i.config.yaxis.map(function(R,z){i.globals.yLabelsCoords.push({width:A[z].width,index:z}),i.globals.yTitleCoords.push({width:h[z].width,index:z})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var u=this.dimXAxis.getxAxisLabelsCoords(),p=this.dimXAxis.getxAxisGroupLabelsCoords(),x=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(u,x,p),c.translateXAxisY=i.globals.rotateXLabels?this.xAxisHeight/8:-4,c.translateXAxisX=i.globals.rotateXLabels&&i.globals.isXNumeric&&i.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,i.globals.isBarHorizontal&&(c.rotateXLabels=!1,c.translateXAxisY=parseInt(i.config.xaxis.labels.style.fontSize,10)/1.5*-1),c.translateXAxisY=c.translateXAxisY+i.config.xaxis.labels.offsetY,c.translateXAxisX=c.translateXAxisX+i.config.xaxis.labels.offsetX;var w=this.yAxisWidth,S=this.xAxisHeight;c.xAxisLabelsHeight=this.xAxisHeight-x.height,c.xAxisGroupLabelsHeight=c.xAxisLabelsHeight-u.height,c.xAxisLabelsWidth=this.xAxisWidth,c.xAxisHeight=this.xAxisHeight;var B=10;(i.config.chart.type==="radar"||this.isSparkline)&&(w=0,S=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||i.config.chart.type==="treemap")&&(w=0,S=0,B=0),this.isSparkline||i.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(u);var P=function(){c.translateX=w+n.datalabelsCoords.width,c.gridHeight=c.svgHeight-n.lgRect.height-S-(n.isSparkline||i.config.chart.type==="treemap"?0:i.globals.rotateXLabels?10:15),c.gridWidth=c.svgWidth-w-2*n.datalabelsCoords.width};switch(i.config.xaxis.position==="top"&&(B=c.xAxisHeight-i.config.xaxis.axisTicks.height-5),i.config.legend.position){case"bottom":c.translateY=B,P();break;case"top":c.translateY=this.lgRect.height+B,P();break;case"left":c.translateY=B,c.translateX=this.lgRect.width+w+this.datalabelsCoords.width,c.gridHeight=c.svgHeight-S-12,c.gridWidth=c.svgWidth-this.lgRect.width-w-2*this.datalabelsCoords.width;break;case"right":c.translateY=B,c.translateX=w+this.datalabelsCoords.width,c.gridHeight=c.svgHeight-S-12,c.gridWidth=c.svgWidth-this.lgRect.width-w-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(h,A),new yt(this.ctx).setYAxisXPosition(A,h)}},{key:"setDimensionsForNonAxisCharts",value:function(){var n=this.w,i=n.globals,c=n.config,A=0;n.config.legend.show&&!n.config.legend.floating&&(A=20);var h=c.chart.type==="pie"||c.chart.type==="polarArea"||c.chart.type==="donut"?"pie":"radialBar",u=c.plotOptions[h].offsetY,p=c.plotOptions[h].offsetX;if(!c.legend.show||c.legend.floating){i.gridHeight=i.svgHeight;var x=i.dom.elWrap.getBoundingClientRect().width;return i.gridWidth=Math.min(x,i.gridHeight),i.translateY=u,void(i.translateX=p+(i.svgWidth-i.gridWidth)/2)}switch(c.legend.position){case"bottom":i.gridHeight=i.svgHeight-this.lgRect.height,i.gridWidth=i.svgWidth,i.translateY=u-10,i.translateX=p+(i.svgWidth-i.gridWidth)/2;break;case"top":i.gridHeight=i.svgHeight-this.lgRect.height,i.gridWidth=i.svgWidth,i.translateY=this.lgRect.height+u+10,i.translateX=p+(i.svgWidth-i.gridWidth)/2;break;case"left":i.gridWidth=i.svgWidth-this.lgRect.width-A,i.gridHeight=c.chart.height!=="auto"?i.svgHeight:i.gridWidth,i.translateY=u,i.translateX=p+this.lgRect.width+A;break;case"right":i.gridWidth=i.svgWidth-this.lgRect.width-A-5,i.gridHeight=c.chart.height!=="auto"?i.svgHeight:i.gridWidth,i.translateY=u,i.translateX=p+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(n,i,c){var A=this.w,h=A.globals.hasXaxisGroups?2:1,u=c.height+n.height+i.height,p=A.globals.isMultiLineX?1.2:A.globals.LINE_HEIGHT_RATIO,x=A.globals.rotateXLabels?22:10,w=A.globals.rotateXLabels&&A.config.legend.position==="bottom"?10:0;this.xAxisHeight=u*p+h*x+w,this.xAxisWidth=n.width,this.xAxisHeight-i.height>A.config.xaxis.labels.maxHeight&&(this.xAxisHeight=A.config.xaxis.labels.maxHeight),A.config.xaxis.labels.minHeight&&this.xAxisHeight<A.config.xaxis.labels.minHeight&&(this.xAxisHeight=A.config.xaxis.labels.minHeight),A.config.xaxis.floating&&(this.xAxisHeight=0);var S=0,B=0;A.config.yaxis.forEach(function(P){S+=P.labels.minWidth,B+=P.labels.maxWidth}),this.yAxisWidth<S&&(this.yAxisWidth=S),this.yAxisWidth>B&&(this.yAxisWidth=B)}}]),te}(),Jt=function(){function te(n){o(this,te),this.w=n.w,this.lgCtx=n}return d(te,[{key:"getLegendStyles",value:function(){var n,i,c,A=document.createElement("style");A.setAttribute("type","text/css");var h=((n=this.lgCtx.ctx)===null||n===void 0||(i=n.opts)===null||i===void 0||(c=i.chart)===null||c===void 0?void 0:c.nonce)||this.w.config.chart.nonce;h&&A.setAttribute("nonce",h);var u=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }`);return A.appendChild(u),A}},{key:"getLegendDimensions",value:function(){var n=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),i=n.width;return{clwh:n.height,clww:i}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(n,i){var c=this,A=this.w;if(A.globals.axisCharts||A.config.chart.type==="radialBar"){A.globals.resized=!0;var h=null,u=null;A.globals.risingSeries=[],A.globals.axisCharts?(h=A.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"']")),u=parseInt(h.getAttribute("data:realIndex"),10)):(h=A.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"']")),u=parseInt(h.getAttribute("rel"),10)-1),i?[{cs:A.globals.collapsedSeries,csi:A.globals.collapsedSeriesIndices},{cs:A.globals.ancillaryCollapsedSeries,csi:A.globals.ancillaryCollapsedSeriesIndices}].forEach(function(S){c.riseCollapsedSeries(S.cs,S.csi,u)}):this.hideSeries({seriesEl:h,realIndex:u})}else{var p=A.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(n+1,"'] path")),x=A.config.chart.type;if(x==="pie"||x==="polarArea"||x==="donut"){var w=A.config.plotOptions.pie.donut.labels;new V(this.lgCtx.ctx).pathMouseDown(p.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(p.members[0].node,w)}p.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(n){var i=n.realIndex,c=this.w,A=c.globals,h=M.clone(c.config.series);if(A.axisCharts){var u=c.config.yaxis[A.seriesYAxisReverseMap[i]],p={index:i,data:h[i].data.slice(),type:h[i].type||c.config.chart.type};if(u&&u.show&&u.showAlways)A.ancillaryCollapsedSeriesIndices.indexOf(i)<0&&(A.ancillaryCollapsedSeries.push(p),A.ancillaryCollapsedSeriesIndices.push(i));else if(A.collapsedSeriesIndices.indexOf(i)<0){A.collapsedSeries.push(p),A.collapsedSeriesIndices.push(i);var x=A.risingSeries.indexOf(i);A.risingSeries.splice(x,1)}}else A.collapsedSeries.push({index:i,data:h[i]}),A.collapsedSeriesIndices.push(i);return A.allSeriesCollapsed=A.collapsedSeries.length+A.ancillaryCollapsedSeries.length===c.config.series.length,this._getSeriesBasedOnCollapsedState(h)}},{key:"hideSeries",value:function(n){for(var i=n.seriesEl,c=n.realIndex,A=this.w,h=this.getSeriesAfterCollapsing({realIndex:c}),u=i.childNodes,p=0;p<u.length;p++)u[p].classList.contains("apexcharts-series-markers-wrap")&&(u[p].classList.contains("apexcharts-hide")?u[p].classList.remove("apexcharts-hide"):u[p].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(h,A.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(n,i,c){var A=this.w,h=M.clone(A.config.series);if(n.length>0){for(var u=0;u<n.length;u++)n[u].index===c&&(A.globals.axisCharts?h[c].data=n[u].data.slice():h[c]=n[u].data,h[c].hidden=!1,n.splice(u,1),i.splice(u,1),A.globals.risingSeries.push(c));h=this._getSeriesBasedOnCollapsedState(h),this.lgCtx.ctx.updateHelpers._updateSeries(h,A.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(n){var i=this.w,c=0;return i.globals.axisCharts?n.forEach(function(A,h){i.globals.collapsedSeriesIndices.indexOf(h)<0&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(h)<0||(n[h].data=[],c++)}):n.forEach(function(A,h){!i.globals.collapsedSeriesIndices.indexOf(h)<0&&(n[h]=0,c++)}),i.globals.allSeriesCollapsed=c===n.length,n}}]),te}(),xt=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Jt(this)}return d(te,[{key:"init",value:function(){var n=this.w,i=n.globals,c=n.config,A=c.legend.showForSingleSeries&&i.series.length===1||this.isBarsDistributed||i.series.length>1;if(this.legendHelpers.appendToForeignObject(),(A||!i.axisCharts)&&c.legend.show){for(;i.dom.elLegendWrap.firstChild;)i.dom.elLegendWrap.removeChild(i.dom.elLegendWrap.firstChild);this.drawLegends(),c.legend.position==="bottom"||c.legend.position==="top"?this.legendAlignHorizontal():c.legend.position!=="right"&&c.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(n){var i=n.i,c=n.fillcolor,A=this.w,h=document.createElement("span");h.classList.add("apexcharts-legend-marker");var u=A.config.legend.markers.shape||A.config.markers.shape,p=u;Array.isArray(u)&&(p=u[i]);var x=Array.isArray(A.config.legend.markers.size)?parseFloat(A.config.legend.markers.size[i]):parseFloat(A.config.legend.markers.size),w=Array.isArray(A.config.legend.markers.offsetX)?parseFloat(A.config.legend.markers.offsetX[i]):parseFloat(A.config.legend.markers.offsetX),S=Array.isArray(A.config.legend.markers.offsetY)?parseFloat(A.config.legend.markers.offsetY[i]):parseFloat(A.config.legend.markers.offsetY),B=Array.isArray(A.config.legend.markers.strokeWidth)?parseFloat(A.config.legend.markers.strokeWidth[i]):parseFloat(A.config.legend.markers.strokeWidth),P=h.style;if(P.height=2*(x+B)+"px",P.width=2*(x+B)+"px",P.left=w+"px",P.top=S+"px",A.config.legend.markers.customHTML)P.background="transparent",P.color=c[i],Array.isArray(A.config.legend.markers.customHTML)?A.config.legend.markers.customHTML[i]&&(h.innerHTML=A.config.legend.markers.customHTML[i]()):h.innerHTML=A.config.legend.markers.customHTML();else{var R=new Ie(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(p),seriesIndex:i,strokeWidth:B,size:x}),z=SVG(h).size("100%","100%"),_=new V(this.ctx).drawMarker(0,0,U(U({},R),{},{pointFillColor:Array.isArray(c)?c[i]:R.pointFillColor,shape:p}));SVG.select(".apexcharts-legend-marker.apexcharts-marker").members.forEach(function(Z){Z.node.classList.contains("apexcharts-marker-triangle")?Z.node.style.transform="translate(50%, 45%)":Z.node.style.transform="translate(50%, 50%)"}),z.add(_)}return h}},{key:"drawLegends",value:function(){var n=this,i=this.w,c=i.config.legend.fontFamily,A=i.globals.seriesNames,h=i.config.legend.markers.fillColors?i.config.legend.markers.fillColors.slice():i.globals.colors.slice();if(i.config.chart.type==="heatmap"){var u=i.config.plotOptions.heatmap.colorScale.ranges;A=u.map(function(K){return K.name?K.name:K.from+" - "+K.to}),h=u.map(function(K){return K.color})}else this.isBarsDistributed&&(A=i.globals.labels.slice());i.config.legend.customLegendItems.length&&(A=i.config.legend.customLegendItems);for(var p=i.globals.legendFormatter,x=i.config.legend.inverseOrder,w=x?A.length-1:0;x?w>=0:w<=A.length-1;x?w--:w++){var S,B=p(A[w],{seriesIndex:w,w:i}),P=!1,R=!1;if(i.globals.collapsedSeries.length>0)for(var z=0;z<i.globals.collapsedSeries.length;z++)i.globals.collapsedSeries[z].index===w&&(P=!0);if(i.globals.ancillaryCollapsedSeriesIndices.length>0)for(var _=0;_<i.globals.ancillaryCollapsedSeriesIndices.length;_++)i.globals.ancillaryCollapsedSeriesIndices[_]===w&&(R=!0);var Z=this.createLegendMarker({i:w,fillcolor:h});V.setAttrs(Z,{rel:w+1,"data:collapsed":P||R}),(P||R)&&Z.classList.add("apexcharts-inactive-legend");var ee=document.createElement("div"),ae=document.createElement("span");ae.classList.add("apexcharts-legend-text"),ae.innerHTML=Array.isArray(B)?B.join(" "):B;var b=i.config.legend.labels.useSeriesColors?i.globals.colors[w]:Array.isArray(i.config.legend.labels.colors)?(S=i.config.legend.labels.colors)===null||S===void 0?void 0:S[w]:i.config.legend.labels.colors;b||(b=i.config.chart.foreColor),ae.style.color=b,ae.style.fontSize=parseFloat(i.config.legend.fontSize)+"px",ae.style.fontWeight=i.config.legend.fontWeight,ae.style.fontFamily=c||i.config.chart.fontFamily,V.setAttrs(ae,{rel:w+1,i:w,"data:default-text":encodeURIComponent(B),"data:collapsed":P||R}),ee.appendChild(Z),ee.appendChild(ae);var Q=new ue(this.ctx);i.config.legend.showForZeroSeries||Q.getSeriesTotalByIndex(w)===0&&Q.seriesHaveSameValues(w)&&!Q.isSeriesNull(w)&&i.globals.collapsedSeriesIndices.indexOf(w)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(w)===-1&&ee.classList.add("apexcharts-hidden-zero-series"),i.config.legend.showForNullSeries||Q.isSeriesNull(w)&&i.globals.collapsedSeriesIndices.indexOf(w)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(w)===-1&&ee.classList.add("apexcharts-hidden-null-series"),i.globals.dom.elLegendWrap.appendChild(ee),i.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(i.config.legend.horizontalAlign)),i.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+i.config.legend.position),ee.classList.add("apexcharts-legend-series"),ee.style.margin="".concat(i.config.legend.itemMargin.vertical,"px ").concat(i.config.legend.itemMargin.horizontal,"px"),i.globals.dom.elLegendWrap.style.width=i.config.legend.width?i.config.legend.width+"px":"",i.globals.dom.elLegendWrap.style.height=i.config.legend.height?i.config.legend.height+"px":"",V.setAttrs(ee,{rel:w+1,seriesName:M.escapeString(A[w]),"data:collapsed":P||R}),(P||R)&&ee.classList.add("apexcharts-inactive-legend"),i.config.legend.onItemClick.toggleDataSeries||ee.classList.add("apexcharts-no-click")}i.globals.dom.elWrap.addEventListener("click",n.onLegendClick,!0),i.config.legend.onItemHover.highlightDataSeries&&i.config.legend.customLegendItems.length===0&&(i.globals.dom.elWrap.addEventListener("mousemove",n.onLegendHovered,!0),i.globals.dom.elWrap.addEventListener("mouseout",n.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(n,i){var c=this.w,A=c.globals.dom.elLegendWrap,h=A.clientHeight,u=0,p=0;if(c.config.legend.position==="bottom")p=c.globals.svgHeight-Math.min(h,c.globals.svgHeight/2)-5;else if(c.config.legend.position==="top"){var x=new Lt(this.ctx),w=x.dimHelpers.getTitleSubtitleCoords("title").height,S=x.dimHelpers.getTitleSubtitleCoords("subtitle").height;p=(w>0?w-10:0)+(S>0?S-10:0)}A.style.position="absolute",u=u+n+c.config.legend.offsetX,p=p+i+c.config.legend.offsetY,A.style.left=u+"px",A.style.top=p+"px",c.config.legend.position==="right"&&(A.style.left="auto",A.style.right=25+c.config.legend.offsetX+"px"),["width","height"].forEach(function(B){A.style[B]&&(A.style[B]=parseInt(c.config.legend[B],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var n=this.w;n.globals.dom.elLegendWrap.style.right=0;var i=new Lt(this.ctx),c=i.dimHelpers.getTitleSubtitleCoords("title"),A=i.dimHelpers.getTitleSubtitleCoords("subtitle"),h=0;n.config.legend.position==="top"&&(h=c.height+A.height+n.config.title.margin+n.config.subtitle.margin-10),this.setLegendWrapXY(20,h)}},{key:"legendAlignVertical",value:function(){var n=this.w,i=this.legendHelpers.getLegendDimensions(),c=0;n.config.legend.position==="left"&&(c=20),n.config.legend.position==="right"&&(c=n.globals.svgWidth-i.clww-10),this.setLegendWrapXY(c,20)}},{key:"onLegendHovered",value:function(n){var i=this.w,c=n.target.classList.contains("apexcharts-legend-series")||n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker");if(i.config.chart.type==="heatmap"||this.isBarsDistributed){if(c){var A=parseInt(n.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,A,this.w]),new Ke(this.ctx).highlightRangeInSeries(n,n.target)}}else!n.target.classList.contains("apexcharts-inactive-legend")&&c&&new Ke(this.ctx).toggleSeriesOnHover(n,n.target)}},{key:"onLegendClick",value:function(n){var i=this.w;if(!i.config.legend.customLegendItems.length&&(n.target.classList.contains("apexcharts-legend-series")||n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker"))){var c=parseInt(n.target.getAttribute("rel"),10)-1,A=n.target.getAttribute("data:collapsed")==="true",h=this.w.config.chart.events.legendClick;typeof h=="function"&&h(this.ctx,c,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,c,this.w]);var u=this.w.config.legend.markers.onClick;typeof u=="function"&&n.target.classList.contains("apexcharts-legend-marker")&&(u(this.ctx,c,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,c,this.w])),i.config.chart.type!=="treemap"&&i.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&i.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(c,A)}}}]),te}(),wa=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w;var i=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=i.globals.minX,this.maxX=i.globals.maxX}return d(te,[{key:"createToolbar",value:function(){var n=this,i=this.w,c=function(){return document.createElement("div")},A=c();if(A.setAttribute("class","apexcharts-toolbar"),A.style.top=i.config.chart.toolbar.offsetY+"px",A.style.right=3-i.config.chart.toolbar.offsetX+"px",i.globals.dom.elWrap.appendChild(A),this.elZoom=c(),this.elZoomIn=c(),this.elZoomOut=c(),this.elPan=c(),this.elSelection=c(),this.elZoomReset=c(),this.elMenuIcon=c(),this.elMenu=c(),this.elCustomIcons=[],this.t=i.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var h=0;h<this.t.customIcons.length;h++)this.elCustomIcons.push(c());var u=[],p=function(B,P,R){var z=B.toLowerCase();n.t[z]&&i.config.chart.zoom.enabled&&u.push({el:P,icon:typeof n.t[z]=="string"?n.t[z]:R,title:n.localeValues[B],class:"apexcharts-".concat(z,"-icon")})};p("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),p("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var x=function(B){n.t[B]&&i.config.chart[B].enabled&&u.push({el:B==="zoom"?n.elZoom:n.elSelection,icon:typeof n.t[B]=="string"?n.t[B]:B==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:n.localeValues[B==="zoom"?"selectionZoom":"selection"],class:i.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(B,"-icon")})};x("zoom"),x("selection"),this.t.pan&&i.config.chart.zoom.enabled&&u.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:i.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),p("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&u.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var w=0;w<this.elCustomIcons.length;w++)u.push({el:this.elCustomIcons[w],icon:this.t.customIcons[w].icon,title:this.t.customIcons[w].title,index:this.t.customIcons[w].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[w].class});u.forEach(function(B,P){B.index&&M.moveIndexInArray(u,P,B.index)});for(var S=0;S<u.length;S++)V.setAttrs(u[S].el,{class:u[S].class,title:u[S].title}),u[S].el.innerHTML=u[S].icon,A.appendChild(u[S].el);this._createHamburgerMenu(A),i.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):i.globals.panEnabled?this.elPan.classList.add(this.selectedClass):i.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(n){this.elMenuItems=[],n.appendChild(this.elMenu),V.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var i=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],c=0;c<i.length;c++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[c].innerHTML=i[c].title,V.setAttrs(this.elMenuItems[c],{class:"apexcharts-menu-item ".concat(i[c].name),title:i[c].title}),this.elMenu.appendChild(this.elMenuItems[c])}},{key:"addToolbarEventListeners",value:function(){var n=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(c){c.classList.contains("exportSVG")?c.addEventListener("click",n.handleDownload.bind(n,"svg")):c.classList.contains("exportPNG")?c.addEventListener("click",n.handleDownload.bind(n,"png")):c.classList.contains("exportCSV")&&c.addEventListener("click",n.handleDownload.bind(n,"csv"))});for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons[i].addEventListener("click",this.t.customIcons[i].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(n){this.ctx.getSyncedCharts().forEach(function(i){i.ctx.toolbar.toggleOtherControls();var c=n==="selection"?i.ctx.toolbar.elSelection:i.ctx.toolbar.elZoom,A=n==="selection"?"selectionEnabled":"zoomEnabled";i.w.globals[A]=!i.w.globals[A],c.classList.contains(i.ctx.toolbar.selectedClass)?c.classList.remove(i.ctx.toolbar.selectedClass):c.classList.add(i.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var n=this.w;this.elZoom||(this.elZoom=n.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=n.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=n.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(n){this.toggleOtherControls(),n==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var i=n==="pan"?this.elPan:this.elZoom,c=n==="pan"?this.elZoom:this.elPan;i&&i.classList.add(this.selectedClass),c&&c.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(n){n.ctx.toolbar.toggleOtherControls(),n.w.globals.panEnabled=!n.w.globals.panEnabled,n.ctx.toolbar.elPan.classList.contains(n.ctx.toolbar.selectedClass)?n.ctx.toolbar.elPan.classList.remove(n.ctx.toolbar.selectedClass):n.ctx.toolbar.elPan.classList.add(n.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var n=this,i=this.w;i.globals.panEnabled=!1,i.globals.zoomEnabled=!1,i.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(c){c&&c.classList.remove(n.selectedClass)})}},{key:"handleZoomIn",value:function(){var n=this.w;n.globals.isRangeBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY);var i=(this.minX+this.maxX)/2,c=(this.minX+i)/2,A=(this.maxX+i)/2,h=this._getNewMinXMaxX(c,A);n.globals.disableZoomIn||this.zoomUpdateOptions(h.minX,h.maxX)}},{key:"handleZoomOut",value:function(){var n=this.w;if(n.globals.isRangeBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY),!(n.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var i=(this.minX+this.maxX)/2,c=this.minX-(i-this.minX),A=this.maxX-(i-this.maxX),h=this._getNewMinXMaxX(c,A);n.globals.disableZoomOut||this.zoomUpdateOptions(h.minX,h.maxX)}}},{key:"_getNewMinXMaxX",value:function(n,i){var c=this.w.config.xaxis.convertedCatToNumeric;return{minX:c?Math.floor(n):n,maxX:c?Math.floor(i):i}}},{key:"zoomUpdateOptions",value:function(n,i){var c=this.w;if(n!==void 0||i!==void 0){if(!(c.config.xaxis.convertedCatToNumeric&&(n<1&&(n=1,i=c.globals.dataPoints),i-n<2))){var A={min:n,max:i},h=this.getBeforeZoomRange(A);h&&(A=h.xaxis);var u={xaxis:A},p=M.clone(c.globals.initialConfig.yaxis);c.config.chart.group||(u.yaxis=p),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(u,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(A,p)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(n,i){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:n,yaxis:i})}},{key:"getBeforeZoomRange",value:function(n,i){var c=null;return typeof this.ev.beforeZoom=="function"&&(c=this.ev.beforeZoom(this,{xaxis:n,yaxis:i})),c}},{key:"toggleMenu",value:function(){var n=this;window.setTimeout(function(){n.elMenu.classList.contains("apexcharts-menu-open")?n.elMenu.classList.remove("apexcharts-menu-open"):n.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(n){var i=this.w,c=new ct(this.ctx);switch(n){case"svg":c.exportToSVG(this.ctx);break;case"png":c.exportToPng(this.ctx);break;case"csv":c.exportToCSV({series:i.config.series,columnDelimiter:i.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(n){this.ctx.getSyncedCharts().forEach(function(i){var c=i.w;if(c.globals.lastXAxis.min=c.globals.initialConfig.xaxis.min,c.globals.lastXAxis.max=c.globals.initialConfig.xaxis.max,i.updateHelpers.revertDefaultAxisMinMax(),typeof c.config.chart.events.beforeResetZoom=="function"){var A=c.config.chart.events.beforeResetZoom(i,c);A&&i.updateHelpers.revertDefaultAxisMinMax(A)}typeof c.config.chart.events.zoomed=="function"&&i.ctx.toolbar.zoomCallback({min:c.config.xaxis.min,max:c.config.xaxis.max}),c.globals.zoomed=!1;var h=i.ctx.series.emptyCollapsedSeries(M.clone(c.globals.initialSeries));i.updateHelpers._updateSeries(h,c.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),te}(),lr=function(te){N(i,wa);var n=f(i);function i(c){var A;return o(this,i),(A=n.call(this,c)).ctx=c,A.w=c.w,A.dragged=!1,A.graphics=new V(A.ctx),A.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],A.clientX=0,A.clientY=0,A.startX=0,A.endX=0,A.dragX=0,A.startY=0,A.endY=0,A.dragY=0,A.moveDirection="none",A.debounceTimer=null,A.debounceDelay=100,A.wheelDelay=400,A}return d(i,[{key:"init",value:function(c){var A=this,h=c.xyRatios,u=this.w,p=this;this.xyRatios=h,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=u.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),u.globals.dom.elGraphical.add(this.zoomRect),u.globals.dom.elGraphical.add(this.selectionRect),u.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:u.globals.gridWidth,maxY:u.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):u.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:u.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=u.globals.dom.baseEl.querySelector("".concat(u.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(x){A.hoverArea.addEventListener(x,p.svgMouseEvents.bind(p,h),{capture:!1,passive:!0})}),u.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",p.mouseWheelEvent.bind(p),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(c,A){var h=this.w,u=this,p=this.ctx.toolbar,x=h.globals.zoomEnabled?h.config.chart.zoom.type:h.config.chart.selection.type,w=h.config.chart.toolbar.autoSelected;if(A.shiftKey?(this.shiftWasPressed=!0,p.enableZoomPanFromToolbar(w==="pan"?"zoom":"pan")):this.shiftWasPressed&&(p.enableZoomPanFromToolbar(w),this.shiftWasPressed=!1),A.target){var S,B=A.target.classList;if(A.target.parentNode&&A.target.parentNode!==null&&(S=A.target.parentNode.classList),!(B.contains("apexcharts-selection-rect")||B.contains("apexcharts-legend-marker")||B.contains("apexcharts-legend-text")||S&&S.contains("apexcharts-toolbar"))){if(u.clientX=A.type==="touchmove"||A.type==="touchstart"?A.touches[0].clientX:A.type==="touchend"?A.changedTouches[0].clientX:A.clientX,u.clientY=A.type==="touchmove"||A.type==="touchstart"?A.touches[0].clientY:A.type==="touchend"?A.changedTouches[0].clientY:A.clientY,A.type==="mousedown"&&A.which===1){var P=u.gridRect.getBoundingClientRect();u.startX=u.clientX-P.left,u.startY=u.clientY-P.top,u.dragged=!1,u.w.globals.mousedown=!0}if((A.type==="mousemove"&&A.which===1||A.type==="touchmove")&&(u.dragged=!0,h.globals.panEnabled?(h.globals.selection=null,u.w.globals.mousedown&&u.panDragging({context:u,zoomtype:x,xyRatios:c})):(u.w.globals.mousedown&&h.globals.zoomEnabled||u.w.globals.mousedown&&h.globals.selectionEnabled)&&(u.selection=u.selectionDrawing({context:u,zoomtype:x}))),A.type==="mouseup"||A.type==="touchend"||A.type==="mouseleave"){var R,z=(R=u.gridRect)===null||R===void 0?void 0:R.getBoundingClientRect();z&&u.w.globals.mousedown&&(u.endX=u.clientX-z.left,u.endY=u.clientY-z.top,u.dragX=Math.abs(u.endX-u.startX),u.dragY=Math.abs(u.endY-u.startY),(h.globals.zoomEnabled||h.globals.selectionEnabled)&&u.selectionDrawn({context:u,zoomtype:x}),h.globals.panEnabled&&h.config.xaxis.convertedCatToNumeric&&u.delayedPanScrolled()),h.globals.zoomEnabled&&u.hideSelectionRect(this.selectionRect),u.dragged=!1,u.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"mouseWheelEvent",value:function(c){var A=this,h=this.w;c.preventDefault();var u=Date.now();u-h.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(c),h.globals.lastWheelExecution=u),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){u-h.globals.lastWheelExecution>A.wheelDelay&&(A.executeMouseWheelZoom(c),h.globals.lastWheelExecution=u)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(c){var A,h=this.w;this.minX=h.globals.isRangeBar?h.globals.minY:h.globals.minX,this.maxX=h.globals.isRangeBar?h.globals.maxY:h.globals.maxX;var u=(A=this.gridRect)===null||A===void 0?void 0:A.getBoundingClientRect();if(u){var p,x,w,S=(c.clientX-u.left)/u.width,B=this.minX,P=this.maxX,R=P-B;if(c.deltaY<0){var z=B+S*R;x=z-(p=.5*R)/2,w=z+p/2}else x=B-(p=1.5*R)/2,w=P+p/2;if(!h.globals.isRangeBar){x=Math.max(x,h.globals.initialMinX),w=Math.min(w,h.globals.initialMaxX);var _=.01*(h.globals.initialMaxX-h.globals.initialMinX);if(w-x<_){var Z=(x+w)/2;x=Z-_/2,w=Z+_/2}}var ee=this._getNewMinXMaxX(x,w);isNaN(ee.minX)||isNaN(ee.maxX)||this.zoomUpdateOptions(ee.minX,ee.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var c=this.w;if(this.selectionRect){var A=this.selectionRect.node.getBoundingClientRect();A.width>0&&A.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:c.globals.gridWidth,maxY:c.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var c=this.w,A=this.xyRatios;if(!c.globals.zoomEnabled){if(c.globals.selection!==void 0&&c.globals.selection!==null)this.drawSelectionRect(c.globals.selection);else if(c.config.chart.selection.xaxis.min!==void 0&&c.config.chart.selection.xaxis.max!==void 0){var h=(c.config.chart.selection.xaxis.min-c.globals.minX)/A.xRatio,u=c.globals.gridWidth-(c.globals.maxX-c.config.chart.selection.xaxis.max)/A.xRatio-h;c.globals.isRangeBar&&(h=(c.config.chart.selection.xaxis.min-c.globals.yAxisScale[0].niceMin)/A.invertedYRatio,u=(c.config.chart.selection.xaxis.max-c.config.chart.selection.xaxis.min)/A.invertedYRatio);var p={x:h,y:0,width:u,height:c.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(p),this.makeSelectionRectDraggable(),typeof c.config.chart.events.selection=="function"&&c.config.chart.events.selection(this.ctx,{xaxis:{min:c.config.chart.selection.xaxis.min,max:c.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(c){var A=c.x,h=c.y,u=c.width,p=c.height,x=c.translateX,w=x===void 0?0:x,S=c.translateY,B=S===void 0?0:S,P=this.w,R=this.zoomRect,z=this.selectionRect;if(this.dragged||P.globals.selection!==null){var _={transform:"translate("+w+", "+B+")"};P.globals.zoomEnabled&&this.dragged&&(u<0&&(u=1),R.attr({x:A,y:h,width:u,height:p,fill:P.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":P.config.chart.zoom.zoomedArea.fill.opacity,stroke:P.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":P.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":P.config.chart.zoom.zoomedArea.stroke.opacity}),V.setAttrs(R.node,_)),P.globals.selectionEnabled&&(z.attr({x:A,y:h,width:u>0?u:0,height:p>0?p:0,fill:P.config.chart.selection.fill.color,"fill-opacity":P.config.chart.selection.fill.opacity,stroke:P.config.chart.selection.stroke.color,"stroke-width":P.config.chart.selection.stroke.width,"stroke-dasharray":P.config.chart.selection.stroke.dashArray,"stroke-opacity":P.config.chart.selection.stroke.opacity}),V.setAttrs(z.node,_))}}},{key:"hideSelectionRect",value:function(c){c&&c.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(c){var A=c.context,h=c.zoomtype,u=this.w,p=A,x=this.gridRect.getBoundingClientRect(),w=p.startX-1,S=p.startY,B=!1,P=!1,R=p.clientX-x.left-w,z=p.clientY-x.top-S,_={};return Math.abs(R+w)>u.globals.gridWidth?R=u.globals.gridWidth-w:p.clientX-x.left<0&&(R=w),w>p.clientX-x.left&&(B=!0,R=Math.abs(R)),S>p.clientY-x.top&&(P=!0,z=Math.abs(z)),_=h==="x"?{x:B?w-R:w,y:0,width:R,height:u.globals.gridHeight}:h==="y"?{x:0,y:P?S-z:S,width:u.globals.gridWidth,height:z}:{x:B?w-R:w,y:P?S-z:S,width:R,height:z},p.drawSelectionRect(_),p.selectionDragging("resizing"),_}},{key:"selectionDragging",value:function(c,A){var h=this,u=this.w,p=this.xyRatios,x=this.selectionRect,w=0;c==="resizing"&&(w=30);var S=function(P){return parseFloat(x.node.getAttribute(P))},B={x:S("x"),y:S("y"),width:S("width"),height:S("height")};u.globals.selection=B,typeof u.config.chart.events.selection=="function"&&u.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var P,R,z,_,Z=h.gridRect.getBoundingClientRect(),ee=x.node.getBoundingClientRect();u.globals.isRangeBar?(P=u.globals.yAxisScale[0].niceMin+(ee.left-Z.left)*p.invertedYRatio,R=u.globals.yAxisScale[0].niceMin+(ee.right-Z.left)*p.invertedYRatio,z=0,_=1):(P=u.globals.xAxisScale.niceMin+(ee.left-Z.left)*p.xRatio,R=u.globals.xAxisScale.niceMin+(ee.right-Z.left)*p.xRatio,z=u.globals.yAxisScale[0].niceMin+(Z.bottom-ee.bottom)*p.yRatio[0],_=u.globals.yAxisScale[0].niceMax-(ee.top-Z.top)*p.yRatio[0]);var ae={xaxis:{min:P,max:R},yaxis:{min:z,max:_}};u.config.chart.events.selection(h.ctx,ae),u.config.chart.brush.enabled&&u.config.chart.events.brushScrolled!==void 0&&u.config.chart.events.brushScrolled(h.ctx,ae)},w))}},{key:"selectionDrawn",value:function(c){var A=c.context,h=c.zoomtype,u=this.w,p=A,x=this.xyRatios,w=this.ctx.toolbar;if(p.startX>p.endX){var S=p.startX;p.startX=p.endX,p.endX=S}if(p.startY>p.endY){var B=p.startY;p.startY=p.endY,p.endY=B}var P=void 0,R=void 0;u.globals.isRangeBar?(P=u.globals.yAxisScale[0].niceMin+p.startX*x.invertedYRatio,R=u.globals.yAxisScale[0].niceMin+p.endX*x.invertedYRatio):(P=u.globals.xAxisScale.niceMin+p.startX*x.xRatio,R=u.globals.xAxisScale.niceMin+p.endX*x.xRatio);var z=[],_=[];if(u.config.yaxis.forEach(function(ge,se){var me=u.globals.seriesYAxisMap[se][0];z.push(u.globals.yAxisScale[se].niceMax-x.yRatio[me]*p.startY),_.push(u.globals.yAxisScale[se].niceMax-x.yRatio[me]*p.endY)}),p.dragged&&(p.dragX>10||p.dragY>10)&&P!==R){if(u.globals.zoomEnabled){var Z=M.clone(u.globals.initialConfig.yaxis),ee=M.clone(u.globals.initialConfig.xaxis);if(u.globals.zoomed=!0,u.config.xaxis.convertedCatToNumeric&&(P=Math.floor(P),R=Math.floor(R),P<1&&(P=1,R=u.globals.dataPoints),R-P<2&&(R=P+1)),h!=="xy"&&h!=="x"||(ee={min:P,max:R}),h!=="xy"&&h!=="y"||Z.forEach(function(ge,se){Z[se].min=_[se],Z[se].max=z[se]}),w){var ae=w.getBeforeZoomRange(ee,Z);ae&&(ee=ae.xaxis?ae.xaxis:ee,Z=ae.yaxis?ae.yaxis:Z)}var b={xaxis:ee};u.config.chart.group||(b.yaxis=Z),p.ctx.updateHelpers._updateOptions(b,!1,p.w.config.chart.animations.dynamicAnimation.enabled),typeof u.config.chart.events.zoomed=="function"&&w.zoomCallback(ee,Z)}else if(u.globals.selectionEnabled){var Q,K=null;Q={min:P,max:R},h!=="xy"&&h!=="y"||(K=M.clone(u.config.yaxis)).forEach(function(ge,se){K[se].min=_[se],K[se].max=z[se]}),u.globals.selection=p.selection,typeof u.config.chart.events.selection=="function"&&u.config.chart.events.selection(p.ctx,{xaxis:Q,yaxis:K})}}}},{key:"panDragging",value:function(c){var A=c.context,h=this.w,u=A;if(h.globals.lastClientPosition.x!==void 0){var p=h.globals.lastClientPosition.x-u.clientX,x=h.globals.lastClientPosition.y-u.clientY;Math.abs(p)>Math.abs(x)&&p>0?this.moveDirection="left":Math.abs(p)>Math.abs(x)&&p<0?this.moveDirection="right":Math.abs(x)>Math.abs(p)&&x>0?this.moveDirection="up":Math.abs(x)>Math.abs(p)&&x<0&&(this.moveDirection="down")}h.globals.lastClientPosition={x:u.clientX,y:u.clientY};var w=h.globals.isRangeBar?h.globals.minY:h.globals.minX,S=h.globals.isRangeBar?h.globals.maxY:h.globals.maxX;h.config.xaxis.convertedCatToNumeric||u.panScrolled(w,S)}},{key:"delayedPanScrolled",value:function(){var c=this.w,A=c.globals.minX,h=c.globals.maxX,u=(c.globals.maxX-c.globals.minX)/2;this.moveDirection==="left"?(A=c.globals.minX+u,h=c.globals.maxX+u):this.moveDirection==="right"&&(A=c.globals.minX-u,h=c.globals.maxX-u),A=Math.floor(A),h=Math.floor(h),this.updateScrolledChart({xaxis:{min:A,max:h}},A,h)}},{key:"panScrolled",value:function(c,A){var h=this.w,u=this.xyRatios,p=M.clone(h.globals.initialConfig.yaxis),x=u.xRatio,w=h.globals.minX,S=h.globals.maxX;h.globals.isRangeBar&&(x=u.invertedYRatio,w=h.globals.minY,S=h.globals.maxY),this.moveDirection==="left"?(c=w+h.globals.gridWidth/15*x,A=S+h.globals.gridWidth/15*x):this.moveDirection==="right"&&(c=w-h.globals.gridWidth/15*x,A=S-h.globals.gridWidth/15*x),h.globals.isRangeBar||(c<h.globals.initialMinX||A>h.globals.initialMaxX)&&(c=w,A=S);var B={xaxis:{min:c,max:A}};h.config.chart.group||(B.yaxis=p),this.updateScrolledChart(B,c,A)}},{key:"updateScrolledChart",value:function(c,A,h){var u=this.w;this.ctx.updateHelpers._updateOptions(c,!1,!1),typeof u.config.chart.events.scrolled=="function"&&u.config.chart.events.scrolled(this.ctx,{xaxis:{min:A,max:h}})}}]),i}(),ks=function(){function te(n){o(this,te),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx}return d(te,[{key:"getNearestValues",value:function(n){var i=n.hoverArea,c=n.elGrid,A=n.clientX,h=n.clientY,u=this.w,p=c.getBoundingClientRect(),x=p.width,w=p.height,S=x/(u.globals.dataPoints-1),B=w/u.globals.dataPoints,P=this.hasBars();!u.globals.comboCharts&&!P||u.config.xaxis.convertedCatToNumeric||(S=x/u.globals.dataPoints);var R=A-p.left-u.globals.barPadForNumericAxis,z=h-p.top;R<0||z<0||R>x||z>w?(i.classList.remove("hovering-zoom"),i.classList.remove("hovering-pan")):u.globals.zoomEnabled?(i.classList.remove("hovering-pan"),i.classList.add("hovering-zoom")):u.globals.panEnabled&&(i.classList.remove("hovering-zoom"),i.classList.add("hovering-pan"));var _=Math.round(R/S),Z=Math.floor(z/B);P&&!u.config.xaxis.convertedCatToNumeric&&(_=Math.ceil(R/S),_-=1);var ee=null,ae=null,b=u.globals.seriesXvalues.map(function(me){return me.filter(function(Fe){return M.isNumber(Fe)})}),Q=u.globals.seriesYvalues.map(function(me){return me.filter(function(Fe){return M.isNumber(Fe)})});if(u.globals.isXNumeric){var K=this.ttCtx.getElGrid().getBoundingClientRect(),ge=R*(K.width/x),se=z*(K.height/w);ee=(ae=this.closestInMultiArray(ge,se,b,Q)).index,_=ae.j,ee!==null&&(b=u.globals.seriesXvalues[ee],_=(ae=this.closestInArray(ge,b)).index)}return u.globals.capturedSeriesIndex=ee===null?-1:ee,(!_||_<1)&&(_=0),u.globals.isBarHorizontal?u.globals.capturedDataPointIndex=Z:u.globals.capturedDataPointIndex=_,{capturedSeries:ee,j:u.globals.isBarHorizontal?Z:_,hoverX:R,hoverY:z}}},{key:"closestInMultiArray",value:function(n,i,c,A){var h=this.w,u=0,p=null,x=-1;h.globals.series.length>1?u=this.getFirstActiveXArray(c):p=0;var w=c[u][0],S=Math.abs(n-w);if(c.forEach(function(R){R.forEach(function(z,_){var Z=Math.abs(n-z);Z<=S&&(S=Z,x=_)})}),x!==-1){var B=A[u][x],P=Math.abs(i-B);p=u,A.forEach(function(R,z){var _=Math.abs(i-R[x]);_<=P&&(P=_,p=z)})}return{index:p,j:x}}},{key:"getFirstActiveXArray",value:function(n){for(var i=this.w,c=0,A=n.map(function(u,p){return u.length>0?p:-1}),h=0;h<A.length;h++)if(A[h]!==-1&&i.globals.collapsedSeriesIndices.indexOf(h)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(h)===-1){c=A[h];break}return c}},{key:"closestInArray",value:function(n,i){for(var c=i[0],A=null,h=Math.abs(n-c),u=0;u<i.length;u++){var p=Math.abs(n-i[u]);p<h&&(h=p,A=u)}return{index:A}}},{key:"isXoverlap",value:function(n){var i=[],c=this.w.globals.seriesX.filter(function(h){return h[0]!==void 0});if(c.length>0)for(var A=0;A<c.length-1;A++)c[A][n]!==void 0&&c[A+1][n]!==void 0&&c[A][n]!==c[A+1][n]&&i.push("unEqual");return i.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var n=!0,i=this.w.globals.initialSeries,c=0;c<i.length-1;c++)if(i[c].data.length!==i[c+1].data.length){n=!1;break}return n}},{key:"getBarsHeight",value:function(n){return L(n).reduce(function(i,c){return i+c.getBBox().height},0)}},{key:"getElMarkers",value:function(n){return typeof n=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(n=L(n)).sort(function(c,A){var h=Number(c.getAttribute("data:realIndex")),u=Number(A.getAttribute("data:realIndex"));return u<h?1:u>h?-1:0});var i=[];return n.forEach(function(c){i.push(c.querySelector(".apexcharts-marker"))}),i}},{key:"hasMarkers",value:function(n){return this.getElMarkers(n).length>0}},{key:"getPathFromPoint",value:function(n,i){var c=Number(n.getAttribute("cx")),A=Number(n.getAttribute("cy")),h=n.getAttribute("shape");return new V(this.ctx).getMarkerPath(c,A,h,i)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(n){var i=this.w,c=i.config.markers.hover.size;return c===void 0&&(c=i.globals.markers.size[n]+i.config.markers.hover.sizeOffset),c}},{key:"toggleAllTooltipSeriesGroups",value:function(n){var i=this.w,c=this.ttCtx;c.allTooltipSeriesGroups.length===0&&(c.allTooltipSeriesGroups=i.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var A=c.allTooltipSeriesGroups,h=0;h<A.length;h++)n==="enable"?(A[h].classList.add("apexcharts-active"),A[h].style.display=i.config.tooltip.items.display):(A[h].classList.remove("apexcharts-active"),A[h].style.display="none")}}]),te}(),yr=function(){function te(n){o(this,te),this.w=n.w,this.ctx=n.ctx,this.ttCtx=n,this.tooltipUtil=new ks(n)}return d(te,[{key:"drawSeriesTexts",value:function(n){var i=n.shared,c=i===void 0||i,A=n.ttItems,h=n.i,u=h===void 0?0:h,p=n.j,x=p===void 0?null:p,w=n.y1,S=n.y2,B=n.e,P=this.w;P.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:u,j:x,y1:w,y2:S,w:P}):this.toggleActiveInactiveSeries(c,u);var R=this.getValuesToPrint({i:u,j:x});this.printLabels({i:u,j:x,values:R,ttItems:A,shared:c,e:B});var z=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=z.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=z.getBoundingClientRect().height}},{key:"printLabels",value:function(n){var i,c=this,A=n.i,h=n.j,u=n.values,p=n.ttItems,x=n.shared,w=n.e,S=this.w,B=[],P=function(K){return S.globals.seriesGoals[K]&&S.globals.seriesGoals[K][h]&&Array.isArray(S.globals.seriesGoals[K][h])},R=u.xVal,z=u.zVal,_=u.xAxisTTVal,Z="",ee=S.globals.colors[A];h!==null&&S.config.plotOptions.bar.distributed&&(ee=S.globals.colors[h]);for(var ae=function(K,ge){var se=c.getFormatters(A);Z=c.getSeriesName({fn:se.yLbTitleFormatter,index:A,seriesIndex:A,j:h}),S.config.chart.type==="treemap"&&(Z=se.yLbTitleFormatter(String(S.config.series[A].data[h].x),{series:S.globals.series,seriesIndex:A,dataPointIndex:h,w:S}));var me=S.config.tooltip.inverseOrder?ge:K;if(S.globals.axisCharts){var Fe=function($e){var Ge,Je,ot,ft;return S.globals.isRangeData?se.yLbFormatter((Ge=S.globals.seriesRangeStart)===null||Ge===void 0||(Je=Ge[$e])===null||Je===void 0?void 0:Je[h],{series:S.globals.seriesRangeStart,seriesIndex:$e,dataPointIndex:h,w:S})+" - "+se.yLbFormatter((ot=S.globals.seriesRangeEnd)===null||ot===void 0||(ft=ot[$e])===null||ft===void 0?void 0:ft[h],{series:S.globals.seriesRangeEnd,seriesIndex:$e,dataPointIndex:h,w:S}):se.yLbFormatter(S.globals.series[$e][h],{series:S.globals.series,seriesIndex:$e,dataPointIndex:h,w:S})};if(x)se=c.getFormatters(me),Z=c.getSeriesName({fn:se.yLbTitleFormatter,index:me,seriesIndex:A,j:h}),ee=S.globals.colors[me],i=Fe(me),P(me)&&(B=S.globals.seriesGoals[me][h].map(function($e){return{attrs:$e,val:se.yLbFormatter($e.value,{seriesIndex:me,dataPointIndex:h,w:S})}}));else{var Le,Oe=w==null||(Le=w.target)===null||Le===void 0?void 0:Le.getAttribute("fill");Oe&&(Oe.indexOf("url")!==-1?Oe.indexOf("Pattern")!==-1&&(ee=S.globals.dom.baseEl.querySelector(Oe.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):ee=Oe),i=Fe(A),P(A)&&Array.isArray(S.globals.seriesGoals[A][h])&&(B=S.globals.seriesGoals[A][h].map(function($e){return{attrs:$e,val:se.yLbFormatter($e.value,{seriesIndex:A,dataPointIndex:h,w:S})}}))}}h===null&&(i=se.yLbFormatter(S.globals.series[A],U(U({},S),{},{seriesIndex:A,dataPointIndex:A}))),c.DOMHandling({i:A,t:me,j:h,ttItems:p,values:{val:i,goalVals:B,xVal:R,xAxisTTVal:_,zVal:z},seriesName:Z,shared:x,pColor:ee})},b=0,Q=S.globals.series.length-1;b<S.globals.series.length;b++,Q--)ae(b,Q)}},{key:"getFormatters",value:function(n){var i,c=this.w,A=c.globals.yLabelFormatters[n];return c.globals.ttVal!==void 0?Array.isArray(c.globals.ttVal)?(A=c.globals.ttVal[n]&&c.globals.ttVal[n].formatter,i=c.globals.ttVal[n]&&c.globals.ttVal[n].title&&c.globals.ttVal[n].title.formatter):(A=c.globals.ttVal.formatter,typeof c.globals.ttVal.title.formatter=="function"&&(i=c.globals.ttVal.title.formatter)):i=c.config.tooltip.y.title.formatter,typeof A!="function"&&(A=c.globals.yLabelFormatters[0]?c.globals.yLabelFormatters[0]:function(h){return h}),typeof i!="function"&&(i=function(h){return h}),{yLbFormatter:A,yLbTitleFormatter:i}}},{key:"getSeriesName",value:function(n){var i=n.fn,c=n.index,A=n.seriesIndex,h=n.j,u=this.w;return i(String(u.globals.seriesNames[c]),{series:u.globals.series,seriesIndex:A,dataPointIndex:h,w:u})}},{key:"DOMHandling",value:function(n){n.i;var i=n.t,c=n.j,A=n.ttItems,h=n.values,u=n.seriesName,p=n.shared,x=n.pColor,w=this.w,S=this.ttCtx,B=h.val,P=h.goalVals,R=h.xVal,z=h.xAxisTTVal,_=h.zVal,Z=null;Z=A[i].children,w.config.tooltip.fillSeriesColor&&(A[i].style.backgroundColor=x,Z[0].style.display="none"),S.showTooltipTitle&&(S.tooltipTitle===null&&(S.tooltipTitle=w.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),S.tooltipTitle.innerHTML=R),S.isXAxisTooltipEnabled&&(S.xaxisTooltipText.innerHTML=z!==""?z:R);var ee=A[i].querySelector(".apexcharts-tooltip-text-y-label");ee&&(ee.innerHTML=u||"");var ae=A[i].querySelector(".apexcharts-tooltip-text-y-value");ae&&(ae.innerHTML=B!==void 0?B:""),Z[0]&&Z[0].classList.contains("apexcharts-tooltip-marker")&&(w.config.tooltip.marker.fillColors&&Array.isArray(w.config.tooltip.marker.fillColors)&&(x=w.config.tooltip.marker.fillColors[i]),Z[0].style.backgroundColor=x),w.config.tooltip.marker.show||(Z[0].style.display="none");var b=A[i].querySelector(".apexcharts-tooltip-text-goals-label"),Q=A[i].querySelector(".apexcharts-tooltip-text-goals-value");if(P.length&&w.globals.seriesGoals[i]){var K=function(){var me="<div >",Fe="<div>";P.forEach(function(Le,Oe){me+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Le.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Le.attrs.name,"</div>"),Fe+="<div>".concat(Le.val,"</div>")}),b.innerHTML=me+"</div>",Q.innerHTML=Fe+"</div>"};p?w.globals.seriesGoals[i][c]&&Array.isArray(w.globals.seriesGoals[i][c])?K():(b.innerHTML="",Q.innerHTML=""):K()}else b.innerHTML="",Q.innerHTML="";if(_!==null&&(A[i].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=w.config.tooltip.z.title,A[i].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=_!==void 0?_:""),p&&Z[0]){if(w.config.tooltip.hideEmptySeries){var ge=A[i].querySelector(".apexcharts-tooltip-marker"),se=A[i].querySelector(".apexcharts-tooltip-text");parseFloat(B)==0?(ge.style.display="none",se.style.display="none"):(ge.style.display="block",se.style.display="block")}B==null||w.globals.ancillaryCollapsedSeriesIndices.indexOf(i)>-1||w.globals.collapsedSeriesIndices.indexOf(i)>-1||Array.isArray(S.tConfig.enabledOnSeries)&&S.tConfig.enabledOnSeries.indexOf(i)===-1?Z[0].parentNode.style.display="none":Z[0].parentNode.style.display=w.config.tooltip.items.display}else Array.isArray(S.tConfig.enabledOnSeries)&&S.tConfig.enabledOnSeries.indexOf(i)===-1&&(Z[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(n,i){var c=this.w;if(n)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var A=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(i));A&&(A.classList.add("apexcharts-active"),A.style.display=c.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(n){var i=n.i,c=n.j,A=this.w,h=this.ctx.series.filteredSeriesX(),u="",p="",x=null,w=null,S={series:A.globals.series,seriesIndex:i,dataPointIndex:c,w:A},B=A.globals.ttZFormatter;c===null?w=A.globals.series[i]:A.globals.isXNumeric&&A.config.chart.type!=="treemap"?(u=h[i][c],h[i].length===0&&(u=h[this.tooltipUtil.getFirstActiveXArray(h)][c])):u=new tt(this.ctx).isFormatXY()?A.config.series[i].data[c]!==void 0?A.config.series[i].data[c].x:"":A.globals.labels[c]!==void 0?A.globals.labels[c]:"";var P=u;return A.globals.isXNumeric&&A.config.xaxis.type==="datetime"?u=new oe(this.ctx).xLabelFormat(A.globals.ttKeyFormatter,P,P,{i:void 0,dateFormatter:new J(this.ctx).formatDate,w:this.w}):u=A.globals.isBarHorizontal?A.globals.yLabelFormatters[0](P,S):A.globals.xLabelFormatter(P,S),A.config.tooltip.x.formatter!==void 0&&(u=A.globals.ttKeyFormatter(P,S)),A.globals.seriesZ.length>0&&A.globals.seriesZ[i].length>0&&(x=B(A.globals.seriesZ[i][c],A)),p=typeof A.config.xaxis.tooltip.formatter=="function"?A.globals.xaxisTooltipFormatter(P,S):u,{val:Array.isArray(w)?w.join(" "):w,xVal:Array.isArray(u)?u.join(" "):u,xAxisTTVal:Array.isArray(p)?p.join(" "):p,zVal:x}}},{key:"handleCustomTooltip",value:function(n){var i=n.i,c=n.j,A=n.y1,h=n.y2,u=n.w,p=this.ttCtx.getElTooltip(),x=u.config.tooltip.custom;Array.isArray(x)&&x[i]&&(x=x[i]),p.innerHTML=x({ctx:this.ctx,series:u.globals.series,seriesIndex:i,dataPointIndex:c,y1:A,y2:h,w:u})}}]),te}(),Sr=function(){function te(n){o(this,te),this.ttCtx=n,this.ctx=n.ctx,this.w=n.w}return d(te,[{key:"moveXCrosshairs",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=this.ttCtx,A=this.w,h=c.getElXCrosshairs(),u=n-c.xcrosshairsWidth/2,p=A.globals.labels.slice().length;if(i!==null&&(u=A.globals.gridWidth/p*i),h===null||A.globals.isBarHorizontal||(h.setAttribute("x",u),h.setAttribute("x1",u),h.setAttribute("x2",u),h.setAttribute("y2",A.globals.gridHeight),h.classList.add("apexcharts-active")),u<0&&(u=0),u>A.globals.gridWidth&&(u=A.globals.gridWidth),c.isXAxisTooltipEnabled){var x=u;A.config.xaxis.crosshairs.width!=="tickWidth"&&A.config.xaxis.crosshairs.width!=="barWidth"||(x=u+c.xcrosshairsWidth/2),this.moveXAxisTooltip(x)}}},{key:"moveYCrosshairs",value:function(n){var i=this.ttCtx;i.ycrosshairs!==null&&V.setAttrs(i.ycrosshairs,{y1:n,y2:n}),i.ycrosshairsHidden!==null&&V.setAttrs(i.ycrosshairsHidden,{y1:n,y2:n})}},{key:"moveXAxisTooltip",value:function(n){var i=this.w,c=this.ttCtx;if(c.xaxisTooltip!==null&&c.xcrosshairsWidth!==0){c.xaxisTooltip.classList.add("apexcharts-active");var A=c.xaxisOffY+i.config.xaxis.tooltip.offsetY+i.globals.translateY+1+i.config.xaxis.offsetY;if(n-=c.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(n)){n+=i.globals.translateX;var h;h=new V(this.ctx).getTextRects(c.xaxisTooltipText.innerHTML),c.xaxisTooltipText.style.minWidth=h.width+"px",c.xaxisTooltip.style.left=n+"px",c.xaxisTooltip.style.top=A+"px"}}}},{key:"moveYAxisTooltip",value:function(n){var i=this.w,c=this.ttCtx;c.yaxisTTEls===null&&(c.yaxisTTEls=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var A=parseInt(c.ycrosshairsHidden.getAttribute("y1"),10),h=i.globals.translateY+A,u=c.yaxisTTEls[n].getBoundingClientRect().height,p=i.globals.translateYAxisX[n]-2;i.config.yaxis[n].opposite&&(p-=26),h-=u/2,i.globals.ignoreYAxisIndexes.indexOf(n)===-1?(c.yaxisTTEls[n].classList.add("apexcharts-active"),c.yaxisTTEls[n].style.top=h+"px",c.yaxisTTEls[n].style.left=p+i.config.yaxis[n].tooltip.offsetX+"px"):c.yaxisTTEls[n].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,A=this.w,h=this.ttCtx,u=h.getElTooltip(),p=h.tooltipRect,x=c!==null?parseFloat(c):1,w=parseFloat(n)+x+5,S=parseFloat(i)+x/2;if(w>A.globals.gridWidth/2&&(w=w-p.ttWidth-x-10),w>A.globals.gridWidth-p.ttWidth-10&&(w=A.globals.gridWidth-p.ttWidth),w<-20&&(w=-20),A.config.tooltip.followCursor){var B=h.getElGrid().getBoundingClientRect();(w=h.e.clientX-B.left)>A.globals.gridWidth/2&&(w-=h.tooltipRect.ttWidth),(S=h.e.clientY+A.globals.translateY-B.top)>A.globals.gridHeight/2&&(S-=h.tooltipRect.ttHeight)}else A.globals.isBarHorizontal||p.ttHeight/2+S>A.globals.gridHeight&&(S=A.globals.gridHeight-p.ttHeight+A.globals.translateY);isNaN(w)||(w+=A.globals.translateX,u.style.left=w+"px",u.style.top=S+"px")}},{key:"moveMarkers",value:function(n,i){var c=this.w,A=this.ttCtx;if(c.globals.markers.size[n]>0)for(var h=c.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-marker")),u=0;u<h.length;u++)parseInt(h[u].getAttribute("rel"),10)===i&&(A.marker.resetPointsSize(),A.marker.enlargeCurrentPoint(i,h[u]));else A.marker.resetPointsSize(),this.moveDynamicPointOnHover(i,n)}},{key:"moveDynamicPointOnHover",value:function(n,i){var c,A,h,u,p=this.w,x=this.ttCtx,w=new V(this.ctx),S=p.globals.pointsArray,B=x.tooltipUtil.getHoverMarkerSize(i),P=p.config.series[i].type;if(!P||P!=="column"&&P!=="candlestick"&&P!=="boxPlot"){h=(c=S[i][n])===null||c===void 0?void 0:c[0],u=((A=S[i][n])===null||A===void 0?void 0:A[1])||0;var R=p.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"'] .apexcharts-series-markers path"));if(R&&u<p.globals.gridHeight&&u>0){var z=R.getAttribute("shape"),_=w.getMarkerPath(h,u,z,1.5*B);R.setAttribute("d",_)}this.moveXCrosshairs(h),x.fixedTooltip||this.moveTooltip(h,u,B)}}},{key:"moveDynamicPointsOnHover",value:function(n){var i,c=this.ttCtx,A=c.w,h=0,u=0,p=A.globals.pointsArray,x=new Ke(this.ctx),w=new V(this.ctx);i=x.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var S=c.tooltipUtil.getHoverMarkerSize(i);p[i]&&(h=p[i][n][0],u=p[i][n][1]);var B=c.tooltipUtil.getAllMarkers();if(B!==null)for(var P=0;P<A.globals.series.length;P++){var R=p[P];if(A.globals.comboCharts&&R===void 0&&B.splice(P,0,null),R&&R.length){var z=p[P][n][1],_=void 0;B[P].setAttribute("cx",h);var Z=B[P].getAttribute("shape");if(A.config.chart.type==="rangeArea"&&!A.globals.comboCharts){var ee=n+A.globals.series[P].length;_=p[P][ee][1],z-=Math.abs(z-_)/2}if(z!==null&&!isNaN(z)&&z<A.globals.gridHeight+S&&z+S>0){var ae=w.getMarkerPath(h,z,Z,S);B[P].setAttribute("d",ae)}else B[P].setAttribute("d","")}}this.moveXCrosshairs(h),c.fixedTooltip||this.moveTooltip(h,u||A.globals.gridHeight,S)}},{key:"moveStickyTooltipOverBars",value:function(n,i){var c=this.w,A=this.ttCtx,h=c.globals.columnSeries?c.globals.columnSeries.length:c.globals.series.length,u=h>=2&&h%2==0?Math.floor(h/2):Math.floor(h/2)+1;c.globals.isBarHorizontal&&(u=new Ke(this.ctx).getActiveConfigSeriesIndex("desc")+1);var p=c.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(u,"'] path[j='").concat(n,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(u,"'] path[j='").concat(n,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(u,"'] path[j='").concat(n,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(u,"'] path[j='").concat(n,"']"));p||typeof i!="number"||(p=c.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(i,"'] path[j='").concat(n,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(n,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(n,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(n,"']")));var x=p?parseFloat(p.getAttribute("cx")):0,w=p?parseFloat(p.getAttribute("cy")):0,S=p?parseFloat(p.getAttribute("barWidth")):0,B=A.getElGrid().getBoundingClientRect(),P=p&&(p.classList.contains("apexcharts-candlestick-area")||p.classList.contains("apexcharts-boxPlot-area"));c.globals.isXNumeric?(p&&!P&&(x-=h%2!=0?S/2:0),p&&P&&c.globals.comboCharts&&(x-=S/2)):c.globals.isBarHorizontal||(x=A.xAxisTicksPositions[n-1]+A.dataPointsDividedWidth/2,isNaN(x)&&(x=A.xAxisTicksPositions[n]-A.dataPointsDividedWidth/2)),c.globals.isBarHorizontal?w-=A.tooltipRect.ttHeight:c.config.tooltip.followCursor?w=A.e.clientY-B.top-A.tooltipRect.ttHeight/2:w+A.tooltipRect.ttHeight+15>c.globals.gridHeight&&(w=c.globals.gridHeight),c.globals.isBarHorizontal||this.moveXCrosshairs(x),A.fixedTooltip||this.moveTooltip(x,w||c.globals.gridHeight)}}]),te}(),dn=function(){function te(n){o(this,te),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx,this.tooltipPosition=new Sr(n)}return d(te,[{key:"drawDynamicPoints",value:function(){var n=this.w,i=new V(this.ctx),c=new Ie(this.ctx),A=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");A=L(A),n.config.chart.stacked&&A.sort(function(B,P){return parseFloat(B.getAttribute("data:realIndex"))-parseFloat(P.getAttribute("data:realIndex"))});for(var h=0;h<A.length;h++){var u=A[h].querySelector(".apexcharts-series-markers-wrap");if(u!==null){var p=void 0,x="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));n.config.chart.type!=="line"&&n.config.chart.type!=="area"||n.globals.comboCharts||n.config.tooltip.intersect||(x+=" no-pointer-events");var w=c.getMarkerConfig({cssClass:x,seriesIndex:Number(u.getAttribute("data:realIndex"))});(p=i.drawMarker(0,0,w)).node.setAttribute("default-marker-size",0);var S=document.createElementNS(n.globals.SVGNS,"g");S.classList.add("apexcharts-series-markers"),S.appendChild(p.node),u.appendChild(S)}}}},{key:"enlargeCurrentPoint",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w;h.config.chart.type!=="bubble"&&this.newPointSize(n,i);var u=i.getAttribute("cx"),p=i.getAttribute("cy");if(c!==null&&A!==null&&(u=c,p=A),this.tooltipPosition.moveXCrosshairs(u),!this.fixedTooltip){if(h.config.chart.type==="radar"){var x=this.ttCtx.getElGrid().getBoundingClientRect();u=this.ttCtx.e.clientX-x.left}this.tooltipPosition.moveTooltip(u,p,h.config.markers.hover.size)}}},{key:"enlargePoints",value:function(n){for(var i=this.w,c=this,A=this.ttCtx,h=n,u=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),p=i.config.markers.hover.size,x=0;x<u.length;x++){var w=u[x].getAttribute("rel"),S=u[x].getAttribute("index");if(p===void 0&&(p=i.globals.markers.size[S]+i.config.markers.hover.sizeOffset),h===parseInt(w,10)){c.newPointSize(h,u[x]);var B=u[x].getAttribute("cx"),P=u[x].getAttribute("cy");c.tooltipPosition.moveXCrosshairs(B),A.fixedTooltip||c.tooltipPosition.moveTooltip(B,P,p)}else c.oldPointSize(u[x])}}},{key:"newPointSize",value:function(n,i){var c=this.w,A=c.config.markers.hover.size,h=n===0?i.parentNode.firstChild:i.parentNode.lastChild;if(h.getAttribute("default-marker-size")!=="0"){var u=parseInt(h.getAttribute("index"),10);A===void 0&&(A=c.globals.markers.size[u]+c.config.markers.hover.sizeOffset),A<0&&(A=0);var p=this.ttCtx.tooltipUtil.getPathFromPoint(i,A);i.setAttribute("d",p)}}},{key:"oldPointSize",value:function(n){var i=parseFloat(n.getAttribute("default-marker-size")),c=this.ttCtx.tooltipUtil.getPathFromPoint(n,i);n.setAttribute("d",c)}},{key:"resetPointsSize",value:function(){for(var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),i=0;i<n.length;i++){var c=parseFloat(n[i].getAttribute("default-marker-size"));if(M.isNumber(c)&&c>=0){var A=this.ttCtx.tooltipUtil.getPathFromPoint(n[i],c);n[i].setAttribute("d",A)}else n[i].setAttribute("d","M0,0")}}}]),te}(),gr=function(){function te(n){o(this,te),this.w=n.w;var i=this.w;this.ttCtx=n,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.config.chart.type==="rangeBar"&&i.config.plotOptions.bar.rangeBarGroupRows}return d(te,[{key:"getAttr",value:function(n,i){return parseFloat(n.target.getAttribute(i))}},{key:"handleHeatTreeTooltip",value:function(n){var i=n.e,c=n.opt,A=n.x,h=n.y,u=n.type,p=this.ttCtx,x=this.w;if(i.target.classList.contains("apexcharts-".concat(u,"-rect"))){var w=this.getAttr(i,"i"),S=this.getAttr(i,"j"),B=this.getAttr(i,"cx"),P=this.getAttr(i,"cy"),R=this.getAttr(i,"width"),z=this.getAttr(i,"height");if(p.tooltipLabels.drawSeriesTexts({ttItems:c.ttItems,i:w,j:S,shared:!1,e:i}),x.globals.capturedSeriesIndex=w,x.globals.capturedDataPointIndex=S,A=B+p.tooltipRect.ttWidth/2+R,h=P+p.tooltipRect.ttHeight/2-z/2,p.tooltipPosition.moveXCrosshairs(B+R/2),A>x.globals.gridWidth/2&&(A=B-p.tooltipRect.ttWidth/2+R),p.w.config.tooltip.followCursor){var _=x.globals.dom.elWrap.getBoundingClientRect();A=x.globals.clientX-_.left-(A>x.globals.gridWidth/2?p.tooltipRect.ttWidth:0),h=x.globals.clientY-_.top-(h>x.globals.gridHeight/2?p.tooltipRect.ttHeight:0)}}return{x:A,y:h}}},{key:"handleMarkerTooltip",value:function(n){var i,c,A=n.e,h=n.opt,u=n.x,p=n.y,x=this.w,w=this.ttCtx;if(A.target.classList.contains("apexcharts-marker")){var S=parseInt(h.paths.getAttribute("cx"),10),B=parseInt(h.paths.getAttribute("cy"),10),P=parseFloat(h.paths.getAttribute("val"));if(c=parseInt(h.paths.getAttribute("rel"),10),i=parseInt(h.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,w.intersect){var R=M.findAncestor(h.paths,"apexcharts-series");R&&(i=parseInt(R.getAttribute("data:realIndex"),10))}if(w.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i,j:c,shared:!w.showOnIntersect&&x.config.tooltip.shared,e:A}),A.type==="mouseup"&&w.markerClick(A,i,c),x.globals.capturedSeriesIndex=i,x.globals.capturedDataPointIndex=c,u=S,p=B+x.globals.translateY-1.4*w.tooltipRect.ttHeight,w.w.config.tooltip.followCursor){var z=w.getElGrid().getBoundingClientRect();p=w.e.clientY+x.globals.translateY-z.top}P<0&&(p=B),w.marker.enlargeCurrentPoint(c,h.paths,u,p)}return{x:u,y:p}}},{key:"handleBarTooltip",value:function(n){var i,c,A=n.e,h=n.opt,u=this.w,p=this.ttCtx,x=p.getElTooltip(),w=0,S=0,B=0,P=this.getBarTooltipXY({e:A,opt:h});i=P.i;var R=P.j;u.globals.capturedSeriesIndex=i,u.globals.capturedDataPointIndex=R,u.globals.isBarHorizontal&&p.tooltipUtil.hasBars()||!u.config.tooltip.shared?(S=P.x,B=P.y,c=Array.isArray(u.config.stroke.width)?u.config.stroke.width[i]:u.config.stroke.width,w=S):u.globals.comboCharts||u.config.tooltip.shared||(w/=2),isNaN(B)&&(B=u.globals.svgHeight-p.tooltipRect.ttHeight);var z=parseInt(h.paths.parentNode.getAttribute("data:realIndex"),10);if(u.globals.isMultipleYAxis?u.config.yaxis[z]&&u.config.yaxis[z].reversed:u.config.yaxis[0].reversed,S+p.tooltipRect.ttWidth>u.globals.gridWidth?S-=p.tooltipRect.ttWidth:S<0&&(S=0),p.w.config.tooltip.followCursor){var _=p.getElGrid().getBoundingClientRect();B=p.e.clientY-_.top}p.tooltip===null&&(p.tooltip=u.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),u.config.tooltip.shared||(u.globals.comboBarCount>0?p.tooltipPosition.moveXCrosshairs(w+c/2):p.tooltipPosition.moveXCrosshairs(w)),!p.fixedTooltip&&(!u.config.tooltip.shared||u.globals.isBarHorizontal&&p.tooltipUtil.hasBars())&&(B=B+u.globals.translateY-p.tooltipRect.ttHeight/2,x.style.left=S+u.globals.translateX+"px",x.style.top=B+"px")}},{key:"getBarTooltipXY",value:function(n){var i=this,c=n.e,A=n.opt,h=this.w,u=null,p=this.ttCtx,x=0,w=0,S=0,B=0,P=0,R=c.target.classList;if(R.contains("apexcharts-bar-area")||R.contains("apexcharts-candlestick-area")||R.contains("apexcharts-boxPlot-area")||R.contains("apexcharts-rangebar-area")){var z=c.target,_=z.getBoundingClientRect(),Z=A.elGrid.getBoundingClientRect(),ee=_.height;P=_.height;var ae=_.width,b=parseInt(z.getAttribute("cx"),10),Q=parseInt(z.getAttribute("cy"),10);B=parseFloat(z.getAttribute("barWidth"));var K=c.type==="touchmove"?c.touches[0].clientX:c.clientX;u=parseInt(z.getAttribute("j"),10),x=parseInt(z.parentNode.getAttribute("rel"),10)-1;var ge=z.getAttribute("data-range-y1"),se=z.getAttribute("data-range-y2");h.globals.comboCharts&&(x=parseInt(z.parentNode.getAttribute("data:realIndex"),10));var me=function(Le){return h.globals.isXNumeric?b-ae/2:i.isVerticalGroupedRangeBar?b+ae/2:b-p.dataPointsDividedWidth+ae/2},Fe=function(){return Q-p.dataPointsDividedHeight+ee/2-p.tooltipRect.ttHeight/2};p.tooltipLabels.drawSeriesTexts({ttItems:A.ttItems,i:x,j:u,y1:ge?parseInt(ge,10):null,y2:se?parseInt(se,10):null,shared:!p.showOnIntersect&&h.config.tooltip.shared,e:c}),h.config.tooltip.followCursor?h.globals.isBarHorizontal?(w=K-Z.left+15,S=Fe()):(w=me(),S=c.clientY-Z.top-p.tooltipRect.ttHeight/2-15):h.globals.isBarHorizontal?((w=b)<p.xyRatios.baseLineInvertedY&&(w=b-p.tooltipRect.ttWidth),S=Fe()):(w=me(),S=Q)}return{x:w,y:S,barHeight:P,barWidth:B,i:x,j:u}}}]),te}(),Ei=function(){function te(n){o(this,te),this.w=n.w,this.ttCtx=n}return d(te,[{key:"drawXaxisTooltip",value:function(){var n=this.w,i=this.ttCtx,c=n.config.xaxis.position==="bottom";i.xaxisOffY=c?n.globals.gridHeight+1:-n.globals.xAxisHeight-n.config.xaxis.axisTicks.height+3;var A=c?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",h=n.globals.dom.elWrap;i.isXAxisTooltipEnabled&&n.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(i.xaxisTooltip=document.createElement("div"),i.xaxisTooltip.setAttribute("class",A+" apexcharts-theme-"+n.config.tooltip.theme),h.appendChild(i.xaxisTooltip),i.xaxisTooltipText=document.createElement("div"),i.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),i.xaxisTooltipText.style.fontFamily=n.config.xaxis.tooltip.style.fontFamily||n.config.chart.fontFamily,i.xaxisTooltipText.style.fontSize=n.config.xaxis.tooltip.style.fontSize,i.xaxisTooltip.appendChild(i.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var n=this.w,i=this.ttCtx,c=0;c<n.config.yaxis.length;c++){var A=n.config.yaxis[c].opposite||n.config.yaxis[c].crosshairs.opposite;i.yaxisOffX=A?n.globals.gridWidth+1:1;var h="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(c,A?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),u=n.globals.dom.elWrap;n.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(c))===null&&(i.yaxisTooltip=document.createElement("div"),i.yaxisTooltip.setAttribute("class",h+" apexcharts-theme-"+n.config.tooltip.theme),u.appendChild(i.yaxisTooltip),c===0&&(i.yaxisTooltipText=[]),i.yaxisTooltipText[c]=document.createElement("div"),i.yaxisTooltipText[c].classList.add("apexcharts-yaxistooltip-text"),i.yaxisTooltip.appendChild(i.yaxisTooltipText[c]))}}},{key:"setXCrosshairWidth",value:function(){var n=this.w,i=this.ttCtx,c=i.getElXCrosshairs();if(i.xcrosshairsWidth=parseInt(n.config.xaxis.crosshairs.width,10),n.globals.comboCharts){var A=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(A!==null&&n.config.xaxis.crosshairs.width==="barWidth"){var h=parseFloat(A.getAttribute("barWidth"));i.xcrosshairsWidth=h}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var u=n.globals.labels.length;i.xcrosshairsWidth=n.globals.gridWidth/u}}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var p=n.globals.labels.length;i.xcrosshairsWidth=n.globals.gridWidth/p}else if(n.config.xaxis.crosshairs.width==="barWidth"){var x=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(x!==null){var w=parseFloat(x.getAttribute("barWidth"));i.xcrosshairsWidth=w}else i.xcrosshairsWidth=1}n.globals.isBarHorizontal&&(i.xcrosshairsWidth=0),c!==null&&i.xcrosshairsWidth>0&&c.setAttribute("width",i.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var n=this.w,i=this.ttCtx;i.ycrosshairs=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),i.ycrosshairsHidden=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(n,i,c){var A=this.ttCtx,h=this.w,u=h.globals,p=u.seriesYAxisMap[n];if(A.yaxisTooltips[n]&&p.length>0){var x=u.yLabelFormatters[n],w=A.getElGrid().getBoundingClientRect(),S=p[0],B=0;c.yRatio.length>1&&(B=S);var P=(i-w.top)*c.yRatio[B],R=u.maxYArr[S]-u.minYArr[S],z=u.minYArr[S]+(R-P);h.config.yaxis[n].reversed&&(z=u.maxYArr[S]-(R-P)),A.tooltipPosition.moveYCrosshairs(i-w.top),A.yaxisTooltipText[n].innerHTML=x(z),A.tooltipPosition.moveYAxisTooltip(n)}}}]),te}(),Rr=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w;var i=this.w;this.tConfig=i.config.tooltip,this.tooltipUtil=new ks(this),this.tooltipLabels=new yr(this),this.tooltipPosition=new Sr(this),this.marker=new dn(this),this.intersect=new gr(this),this.axesTooltip=new Ei(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!i.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return d(te,[{key:"getElTooltip",value:function(n){return n||(n=this),n.w.globals.dom.baseEl?n.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(n){var i=this.w;this.xyRatios=n,this.isXAxisTooltipEnabled=i.config.xaxis.tooltip.enabled&&i.globals.axisCharts,this.yaxisTooltips=i.config.yaxis.map(function(u,p){return!!(u.show&&u.tooltip.enabled&&i.globals.axisCharts)}),this.allTooltipSeriesGroups=[],i.globals.axisCharts||(this.showTooltipTitle=!1);var c=document.createElement("div");if(c.classList.add("apexcharts-tooltip"),i.config.tooltip.cssClass&&c.classList.add(i.config.tooltip.cssClass),c.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),i.globals.dom.elWrap.appendChild(c),i.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var A=new lt(this.ctx);this.xAxisTicksPositions=A.getXAxisTicksPositions()}if(!i.globals.comboCharts&&!this.tConfig.intersect&&i.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),i.config.markers.size!==0&&i.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),i.globals.collapsedSeries.length!==i.globals.series.length){this.dataPointsDividedHeight=i.globals.gridHeight/i.globals.dataPoints,this.dataPointsDividedWidth=i.globals.gridWidth/i.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||i.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,c.appendChild(this.tooltipTitle));var h=i.globals.series.length;(i.globals.xyCharts||i.globals.comboCharts)&&this.tConfig.shared&&(h=this.showOnIntersect?1:i.globals.series.length),this.legendLabels=i.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(h),this.addSVGEvents()}}},{key:"createTTElements",value:function(n){for(var i=this,c=this.w,A=[],h=this.getElTooltip(),u=function(x){var w=document.createElement("div");w.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(x)),w.style.order=c.config.tooltip.inverseOrder?n-x:x+1;var S=document.createElement("span");S.classList.add("apexcharts-tooltip-marker"),S.style.backgroundColor=c.globals.colors[x],w.appendChild(S);var B=document.createElement("div");B.classList.add("apexcharts-tooltip-text"),B.style.fontFamily=i.tConfig.style.fontFamily||c.config.chart.fontFamily,B.style.fontSize=i.tConfig.style.fontSize,["y","goals","z"].forEach(function(P){var R=document.createElement("div");R.classList.add("apexcharts-tooltip-".concat(P,"-group"));var z=document.createElement("span");z.classList.add("apexcharts-tooltip-text-".concat(P,"-label")),R.appendChild(z);var _=document.createElement("span");_.classList.add("apexcharts-tooltip-text-".concat(P,"-value")),R.appendChild(_),B.appendChild(R)}),w.appendChild(B),h.appendChild(w),A.push(w)},p=0;p<n;p++)u(p);return A}},{key:"addSVGEvents",value:function(){var n=this.w,i=n.config.chart.type,c=this.getElTooltip(),A=!(i!=="bar"&&i!=="candlestick"&&i!=="boxPlot"&&i!=="rangeBar"),h=i==="area"||i==="line"||i==="scatter"||i==="bubble"||i==="radar",u=n.globals.dom.Paper.node,p=this.getElGrid();p&&(this.seriesBound=p.getBoundingClientRect());var x,w=[],S=[],B={hoverArea:u,elGrid:p,tooltipEl:c,tooltipY:w,tooltipX:S,ttItems:this.ttItems};if(n.globals.axisCharts&&(h?x=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):A?x=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):i!=="heatmap"&&i!=="treemap"||(x=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),x&&x.length))for(var P=0;P<x.length;P++)w.push(x[P].getAttribute("cy")),S.push(x[P].getAttribute("cx"));if(n.globals.xyCharts&&!this.showOnIntersect||n.globals.comboCharts&&!this.showOnIntersect||A&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([u],B);else if(A&&!n.globals.comboCharts||h&&this.showOnIntersect)this.addDatapointEventsListeners(B);else if(!n.globals.axisCharts||i==="heatmap"||i==="treemap"){var R=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(R,B)}if(this.showOnIntersect){var z=n.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");z.length>0&&this.addPathsEventListeners(z,B),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(B)}}},{key:"drawFixedTooltipRect",value:function(){var n=this.w,i=this.getElTooltip(),c=i.getBoundingClientRect(),A=c.width+10,h=c.height+10,u=this.tConfig.fixed.offsetX,p=this.tConfig.fixed.offsetY,x=this.tConfig.fixed.position.toLowerCase();return x.indexOf("right")>-1&&(u=u+n.globals.svgWidth-A+10),x.indexOf("bottom")>-1&&(p=p+n.globals.svgHeight-h-10),i.style.left=u+"px",i.style.top=p+"px",{x:u,y:p,ttWidth:A,ttHeight:h}}},{key:"addDatapointEventsListeners",value:function(n){var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(i,n)}},{key:"addPathsEventListeners",value:function(n,i){for(var c=this,A=function(u){var p={paths:n[u],tooltipEl:i.tooltipEl,tooltipY:i.tooltipY,tooltipX:i.tooltipX,elGrid:i.elGrid,hoverArea:i.hoverArea,ttItems:i.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(x){return n[u].addEventListener(x,c.onSeriesHover.bind(c,p),{capture:!1,passive:!0})})},h=0;h<n.length;h++)A(h)}},{key:"onSeriesHover",value:function(n,i){var c=this,A=Date.now()-this.lastHoverTime;A>=100?this.seriesHover(n,i):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){c.seriesHover(n,i)},100-A))}},{key:"seriesHover",value:function(n,i){var c=this;this.lastHoverTime=Date.now();var A=[],h=this.w;h.config.chart.group&&(A=this.ctx.getGroupedCharts()),h.globals.axisCharts&&(h.globals.minX===-1/0&&h.globals.maxX===1/0||h.globals.dataPoints===0)||(A.length?A.forEach(function(u){var p=c.getElTooltip(u),x={paths:n.paths,tooltipEl:p,tooltipY:n.tooltipY,tooltipX:n.tooltipX,elGrid:n.elGrid,hoverArea:n.hoverArea,ttItems:u.w.globals.tooltip.ttItems};u.w.globals.minX===c.w.globals.minX&&u.w.globals.maxX===c.w.globals.maxX&&u.w.globals.tooltip.seriesHoverByContext({chartCtx:u,ttCtx:u.w.globals.tooltip,opt:x,e:i})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:n,e:i}))}},{key:"seriesHoverByContext",value:function(n){var i=n.chartCtx,c=n.ttCtx,A=n.opt,h=n.e,u=i.w,p=this.getElTooltip(i);p&&(c.tooltipRect={x:0,y:0,ttWidth:p.getBoundingClientRect().width,ttHeight:p.getBoundingClientRect().height},c.e=h,c.tooltipUtil.hasBars()&&!u.globals.comboCharts&&!c.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ke(i).toggleSeriesOnHover(h,h.target.parentNode),c.fixedTooltip&&c.drawFixedTooltipRect(),u.globals.axisCharts?c.axisChartsTooltips({e:h,opt:A,tooltipRect:c.tooltipRect}):c.nonAxisChartsTooltips({e:h,opt:A,tooltipRect:c.tooltipRect}))}},{key:"axisChartsTooltips",value:function(n){var i,c,A=n.e,h=n.opt,u=this.w,p=h.elGrid.getBoundingClientRect(),x=A.type==="touchmove"?A.touches[0].clientX:A.clientX,w=A.type==="touchmove"?A.touches[0].clientY:A.clientY;if(this.clientY=w,this.clientX=x,u.globals.capturedSeriesIndex=-1,u.globals.capturedDataPointIndex=-1,w<p.top||w>p.top+p.height)this.handleMouseOut(h);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!u.config.tooltip.shared){var S=parseInt(h.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(S)<0)return void this.handleMouseOut(h)}var B=this.getElTooltip(),P=this.getElXCrosshairs(),R=[];u.config.chart.group&&(R=this.ctx.getSyncedCharts());var z=u.globals.xyCharts||u.config.chart.type==="bar"&&!u.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||u.globals.comboCharts&&this.tooltipUtil.hasBars();if(A.type==="mousemove"||A.type==="touchmove"||A.type==="mouseup"){if(u.globals.collapsedSeries.length+u.globals.ancillaryCollapsedSeries.length===u.globals.series.length)return;P!==null&&P.classList.add("apexcharts-active");var _=this.yaxisTooltips.filter(function(ae){return ae===!0});if(this.ycrosshairs!==null&&_.length&&this.ycrosshairs.classList.add("apexcharts-active"),z&&!this.showOnIntersect||R.length>1)this.handleStickyTooltip(A,x,w,h);else if(u.config.chart.type==="heatmap"||u.config.chart.type==="treemap"){var Z=this.intersect.handleHeatTreeTooltip({e:A,opt:h,x:i,y:c,type:u.config.chart.type});i=Z.x,c=Z.y,B.style.left=i+"px",B.style.top=c+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:A,opt:h}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:A,opt:h,x:i,y:c});if(this.yaxisTooltips.length)for(var ee=0;ee<u.config.yaxis.length;ee++)this.axesTooltip.drawYaxisTooltipText(ee,w,this.xyRatios);u.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),h.tooltipEl.classList.add("apexcharts-active")}else A.type!=="mouseout"&&A.type!=="touchend"||this.handleMouseOut(h)}}},{key:"nonAxisChartsTooltips",value:function(n){var i=n.e,c=n.opt,A=n.tooltipRect,h=this.w,u=c.paths.getAttribute("rel"),p=this.getElTooltip(),x=h.globals.dom.elWrap.getBoundingClientRect();if(i.type==="mousemove"||i.type==="touchmove"){h.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),p.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:c.ttItems,i:parseInt(u,10)-1,shared:!1});var w=h.globals.clientX-x.left-A.ttWidth/2,S=h.globals.clientY-x.top-A.ttHeight-10;if(p.style.left=w+"px",p.style.top=S+"px",h.config.legend.tooltipHoverFormatter){var B=u-1,P=(0,h.config.legend.tooltipHoverFormatter)(this.legendLabels[B].getAttribute("data:default-text"),{seriesIndex:B,dataPointIndex:B,w:h});this.legendLabels[B].innerHTML=P}}else i.type!=="mouseout"&&i.type!=="touchend"||(p.classList.remove("apexcharts-active"),h.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),h.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(R){var z=R.getAttribute("data:default-text");R.innerHTML=decodeURIComponent(z)}))}},{key:"handleStickyTooltip",value:function(n,i,c,A){var h=this.w,u=this.tooltipUtil.getNearestValues({context:this,hoverArea:A.hoverArea,elGrid:A.elGrid,clientX:i,clientY:c}),p=u.j,x=u.capturedSeries;h.globals.collapsedSeriesIndices.includes(x)&&(x=null);var w=A.elGrid.getBoundingClientRect();if(u.hoverX<0||u.hoverX>w.width)this.handleMouseOut(A);else if(x!==null)this.handleStickyCapturedSeries(n,x,A,p);else if(this.tooltipUtil.isXoverlap(p)||h.globals.isBarHorizontal){var S=h.globals.series.findIndex(function(B,P){return!h.globals.collapsedSeriesIndices.includes(P)});this.create(n,this,S,p,A.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(n,i,c,A){var h=this.w;if(!this.tConfig.shared&&h.globals.series[i][A]===null)return void this.handleMouseOut(c);if(h.globals.series[i][A]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(A)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(n,this,i,A,c.ttItems):this.create(n,this,i,A,c.ttItems,!1);else if(this.tooltipUtil.isXoverlap(A)){var u=h.globals.series.findIndex(function(p,x){return!h.globals.collapsedSeriesIndices.includes(x)});this.create(n,this,u,A,c.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var n=this.w,i=new V(this.ctx),c=n.globals.dom.Paper.select(".apexcharts-bar-area"),A=0;A<c.length;A++)i.pathMouseLeave(c[A])}},{key:"handleMouseOut",value:function(n){var i=this.w,c=this.getElXCrosshairs();if(i.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),n.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),i.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),c!==null&&c.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var A=0;A<this.yaxisTTEls.length;A++)this.yaxisTTEls[A].classList.remove("apexcharts-active")}i.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(h){var u=h.getAttribute("data:default-text");h.innerHTML=decodeURIComponent(u)})}},{key:"markerClick",value:function(n,i,c){var A=this.w;typeof A.config.chart.events.markerClick=="function"&&A.config.chart.events.markerClick(n,this.ctx,{seriesIndex:i,dataPointIndex:c,w:A}),this.ctx.events.fireEvent("markerClick",[n,this.ctx,{seriesIndex:i,dataPointIndex:c,w:A}])}},{key:"create",value:function(n,i,c,A,h){var u,p,x,w,S,B,P,R,z,_,Z,ee,ae,b,Q,K,ge=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,se=this.w,me=i;n.type==="mouseup"&&this.markerClick(n,c,A),ge===null&&(ge=this.tConfig.shared);var Fe=this.tooltipUtil.hasMarkers(c),Le=this.tooltipUtil.getElBars();if(se.config.legend.tooltipHoverFormatter){var Oe=se.config.legend.tooltipHoverFormatter,$e=Array.from(this.legendLabels);$e.forEach(function(kt){var Br=kt.getAttribute("data:default-text");kt.innerHTML=decodeURIComponent(Br)});for(var Ge=0;Ge<$e.length;Ge++){var Je=$e[Ge],ot=parseInt(Je.getAttribute("i"),10),ft=decodeURIComponent(Je.getAttribute("data:default-text")),vt=Oe(ft,{seriesIndex:ge?ot:c,dataPointIndex:A,w:se});if(ge)Je.innerHTML=se.globals.collapsedSeriesIndices.indexOf(ot)<0?vt:ft;else if(Je.innerHTML=ot===c?vt:ft,c===ot)break}}var It=U(U({ttItems:h,i:c,j:A},((u=se.globals.seriesRange)===null||u===void 0||(p=u[c])===null||p===void 0||(x=p[A])===null||x===void 0||(w=x.y[0])===null||w===void 0?void 0:w.y1)!==void 0&&{y1:(S=se.globals.seriesRange)===null||S===void 0||(B=S[c])===null||B===void 0||(P=B[A])===null||P===void 0||(R=P.y[0])===null||R===void 0?void 0:R.y1}),((z=se.globals.seriesRange)===null||z===void 0||(_=z[c])===null||_===void 0||(Z=_[A])===null||Z===void 0||(ee=Z.y[0])===null||ee===void 0?void 0:ee.y2)!==void 0&&{y2:(ae=se.globals.seriesRange)===null||ae===void 0||(b=ae[c])===null||b===void 0||(Q=b[A])===null||Q===void 0||(K=Q.y[0])===null||K===void 0?void 0:K.y2});if(ge){if(me.tooltipLabels.drawSeriesTexts(U(U({},It),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),Fe)se.globals.markers.largestSize>0?me.marker.enlargePoints(A):me.tooltipPosition.moveDynamicPointsOnHover(A);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(Le),this.barSeriesHeight>0)){var Ft=new V(this.ctx),Pt=se.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(A,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(A,c);for(var Kt=0;Kt<Pt.length;Kt++)Ft.pathMouseEnter(Pt[Kt])}}else me.tooltipLabels.drawSeriesTexts(U({shared:!1},It)),this.tooltipUtil.hasBars()&&me.tooltipPosition.moveStickyTooltipOverBars(A,c),Fe&&me.tooltipPosition.moveMarkers(c,A)}}]),te}(),_s=function(){function te(n){o(this,te),this.w=n.w,this.barCtx=n,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return d(te,[{key:"handleBarDataLabels",value:function(n){var i,c,A=n.x,h=n.y,u=n.y1,p=n.y2,x=n.i,w=n.j,S=n.realIndex,B=n.columnGroupIndex,P=n.series,R=n.barHeight,z=n.barWidth,_=n.barXPosition,Z=n.barYPosition,ee=n.visibleSeries,ae=n.renderedPath,b=this.w,Q=new V(this.barCtx.ctx),K=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[S]:this.barCtx.strokeWidth;b.globals.isXNumeric&&!b.globals.isBarHorizontal?(i=A+parseFloat(z*(ee+1)),c=h+parseFloat(R*(ee+1))-K):(i=A+parseFloat(z*ee),c=h+parseFloat(R*ee));var ge,se=null,me=A,Fe=h,Le={},Oe=b.config.dataLabels,$e=this.barCtx.barOptions.dataLabels,Ge=this.barCtx.barOptions.dataLabels.total;Z!==void 0&&this.barCtx.isRangeBar&&(c=Z,Fe=Z),_!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(i=_,me=_);var Je=Oe.offsetX,ot=Oe.offsetY,ft={width:0,height:0};if(b.config.dataLabels.enabled){var vt=b.globals.series[x][w];ft=Q.getTextRects(b.config.dataLabels.formatter?b.config.dataLabels.formatter(vt,U(U({},b),{},{seriesIndex:x,dataPointIndex:w,w:b})):b.globals.yLabelFormatters[0](vt),parseFloat(Oe.style.fontSize))}var It={x:A,y:h,i:x,j:w,realIndex:S,columnGroupIndex:B,renderedPath:ae,bcx:i,bcy:c,barHeight:R,barWidth:z,textRects:ft,strokeWidth:K,dataLabelsX:me,dataLabelsY:Fe,dataLabelsConfig:Oe,barDataLabelsConfig:$e,barTotalDataLabelsConfig:Ge,offX:Je,offY:ot};return Le=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(It):this.calculateColumnsDataLabelsPosition(It),ae.attr({cy:Le.bcy,cx:Le.bcx,j:w,val:b.globals.series[x][w],barHeight:R,barWidth:z}),ge=this.drawCalculatedDataLabels({x:Le.dataLabelsX,y:Le.dataLabelsY,val:this.barCtx.isRangeBar?[u,p]:b.config.chart.stackType==="100%"?P[S][w]:b.globals.series[S][w],i:S,j:w,barWidth:z,barHeight:R,textRects:ft,dataLabelsConfig:Oe}),b.config.chart.stacked&&Ge.enabled&&(se=this.drawTotalDataLabels({x:Le.totalDataLabelsX,y:Le.totalDataLabelsY,barWidth:z,barHeight:R,realIndex:S,textAnchor:Le.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:S,j:w}),dataLabelsConfig:Oe,barTotalDataLabelsConfig:Ge})),{dataLabels:ge,totalDataLabels:se}}},{key:"getStackedTotalDataLabel",value:function(n){var i=n.realIndex,c=n.j,A=this.w,h=this.barCtx.stackedSeriesTotals[c];return this.totalFormatter&&(h=this.totalFormatter(h,U(U({},A),{},{seriesIndex:i,dataPointIndex:c,w:A}))),h}},{key:"calculateColumnsDataLabelsPosition",value:function(n){var i=this.w,c=n.i,A=n.j,h=n.realIndex;n.columnGroupIndex;var u,p,x=n.y,w=n.bcx,S=n.barWidth,B=n.barHeight,P=n.textRects,R=n.dataLabelsX,z=n.dataLabelsY,_=n.dataLabelsConfig,Z=n.barDataLabelsConfig,ee=n.barTotalDataLabelsConfig,ae=n.strokeWidth,b=n.offX,Q=n.offY,K=w;B=Math.abs(B);var ge=i.config.plotOptions.bar.dataLabels.orientation==="vertical",se=this.barCtx.barHelpers.getZeroValueEncounters({i:c,j:A}).zeroEncounters;w-=ae/2;var me=i.globals.gridWidth/i.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?R+=S/2:(R=i.globals.isXNumeric?w-S/2+b:w-me+S/2+b,se>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(R-=S*se)),ge&&(R=R+P.height/2-ae/2-2);var Fe=i.globals.series[c][A]<0,Le=x;switch(this.barCtx.isReversed&&(Le=x+(Fe?B:-B)),Z.position){case"center":z=ge?Fe?Le-B/2+Q:Le+B/2-Q:Fe?Le-B/2+P.height/2+Q:Le+B/2+P.height/2-Q;break;case"bottom":z=ge?Fe?Le-B+Q:Le+B-Q:Fe?Le-B+P.height+ae+Q:Le+B-P.height/2+ae-Q;break;case"top":z=ge?Fe?Le+Q:Le-Q:Fe?Le-P.height/2-Q:Le+P.height+Q}if(this.barCtx.lastActiveBarSerieIndex===h&&ee.enabled){var Oe=new V(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:h,j:A}),_.fontSize);u=Fe?Le-Oe.height/2-Q-ee.offsetY+18:Le+Oe.height+Q+ee.offsetY-18;var $e=me;p=K+(i.globals.isXNumeric?-S*i.globals.barGroups.length/2:i.globals.barGroups.length*S/2-(i.globals.barGroups.length-1)*S-$e)+ee.offsetX}return i.config.chart.stacked||(z<0?z=0+ae:z+P.height/3>i.globals.gridHeight&&(z=i.globals.gridHeight-ae)),{bcx:w,bcy:x,dataLabelsX:R,dataLabelsY:z,totalDataLabelsX:p,totalDataLabelsY:u,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(n){var i=this.w,c=n.x,A=n.i,h=n.j,u=n.realIndex,p=n.bcy,x=n.barHeight,w=n.barWidth,S=n.textRects,B=n.dataLabelsX,P=n.strokeWidth,R=n.dataLabelsConfig,z=n.barDataLabelsConfig,_=n.barTotalDataLabelsConfig,Z=n.offX,ee=n.offY,ae=i.globals.gridHeight/i.globals.dataPoints;w=Math.abs(w);var b,Q,K=p-(this.barCtx.isRangeBar?0:ae)+x/2+S.height/2+ee-3,ge="start",se=i.globals.series[A][h]<0,me=c;switch(this.barCtx.isReversed&&(me=c+(se?-w:w),ge=se?"start":"end"),z.position){case"center":B=se?me+w/2-Z:Math.max(S.width/2,me-w/2)+Z;break;case"bottom":B=se?me+w-P-Z:me-w+P+Z;break;case"top":B=se?me-P-Z:me-P+Z}if(this.barCtx.lastActiveBarSerieIndex===u&&_.enabled){var Fe=new V(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:u,j:h}),R.fontSize);se?(b=me-P-Z-_.offsetX,ge="end"):b=me+Z+_.offsetX+(this.barCtx.isReversed?-(w+P):P),Q=K-S.height/2+Fe.height/2+_.offsetY+P}return i.config.chart.stacked||(R.textAnchor==="start"?B-S.width<0?B=se?S.width+P:P:B+S.width>i.globals.gridWidth&&(B=se?i.globals.gridWidth-P:i.globals.gridWidth-S.width-P):R.textAnchor==="middle"?B-S.width/2<0?B=S.width/2+P:B+S.width/2>i.globals.gridWidth&&(B=i.globals.gridWidth-S.width/2-P):R.textAnchor==="end"&&(B<1?B=S.width+P:B+1>i.globals.gridWidth&&(B=i.globals.gridWidth-S.width-P))),{bcx:c,bcy:p,dataLabelsX:B,dataLabelsY:K,totalDataLabelsX:b,totalDataLabelsY:Q,totalDataLabelsAnchor:ge}}},{key:"drawCalculatedDataLabels",value:function(n){var i=n.x,c=n.y,A=n.val,h=n.i,u=n.j,p=n.textRects,x=n.barHeight,w=n.barWidth,S=n.dataLabelsConfig,B=this.w,P="rotate(0)";B.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(P="rotate(-90, ".concat(i,", ").concat(c,")"));var R=new Qe(this.barCtx.ctx),z=new V(this.barCtx.ctx),_=S.formatter,Z=null,ee=B.globals.collapsedSeriesIndices.indexOf(h)>-1;if(S.enabled&&!ee){Z=z.group({class:"apexcharts-data-labels",transform:P});var ae="";A!==void 0&&(ae=_(A,U(U({},B),{},{seriesIndex:h,dataPointIndex:u,w:B}))),!A&&B.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(ae="");var b=B.globals.series[h][u]<0,Q=B.config.plotOptions.bar.dataLabels.position;B.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(Q==="top"&&(S.textAnchor=b?"end":"start"),Q==="center"&&(S.textAnchor="middle"),Q==="bottom"&&(S.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&w<z.getTextRects(ae,parseFloat(S.style.fontSize)).width&&(ae=""),B.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?p.width/1.6>Math.abs(w)&&(ae=""):p.height/1.6>Math.abs(x)&&(ae=""));var K=U({},S);this.barCtx.isHorizontal&&A<0&&(S.textAnchor==="start"?K.textAnchor="end":S.textAnchor==="end"&&(K.textAnchor="start")),R.plotDataLabelsText({x:i,y:c,text:ae,i:h,j:u,parent:Z,dataLabelsConfig:K,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return Z}},{key:"drawTotalDataLabels",value:function(n){var i=n.x,c=n.y,A=n.val,h=n.realIndex,u=n.textAnchor,p=n.barTotalDataLabelsConfig;this.w;var x,w=new V(this.barCtx.ctx);return p.enabled&&i!==void 0&&c!==void 0&&this.barCtx.lastActiveBarSerieIndex===h&&(x=w.drawText({x:i,y:c,foreColor:p.style.color,text:A,textAnchor:u,fontFamily:p.style.fontFamily,fontSize:p.style.fontSize,fontWeight:p.style.fontWeight})),x}}]),te}(),Qn=function(){function te(n){o(this,te),this.w=n.w,this.barCtx=n}return d(te,[{key:"initVariables",value:function(n){var i=this.w;this.barCtx.series=n,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var c=0;c<n.length;c++)if(n[c].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=n[c].length),i.globals.isXNumeric)for(var A=0;A<n[c].length;A++)i.globals.seriesX[c][A]>i.globals.minX&&i.globals.seriesX[c][A]<i.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=i.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(i.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],i.globals.comboCharts||this.checkZeroSeries({series:n})}},{key:"initialPositions",value:function(){var n,i,c,A,h,u,p,x,w=this.w,S=w.globals.dataPoints;this.barCtx.isRangeBar&&(S=w.globals.labels.length);var B=this.barCtx.seriesLen;if(w.config.plotOptions.bar.rangeBarGroupRows&&(B=1),this.barCtx.isHorizontal)h=(c=w.globals.gridHeight/S)/B,w.globals.isXNumeric&&(h=(c=w.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),h=h*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(h=parseInt(this.barCtx.barOptions.barHeight,10)),x=this.barCtx.baseLineInvertedY+w.globals.padHorizontal+(this.barCtx.isReversed?w.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(x=w.globals.gridWidth/2),i=(c-h*this.barCtx.seriesLen)/2;else{if(A=w.globals.gridWidth/this.barCtx.visibleItems,w.config.xaxis.convertedCatToNumeric&&(A=w.globals.gridWidth/w.globals.dataPoints),u=A/B*parseInt(this.barCtx.barOptions.columnWidth,10)/100,w.globals.isXNumeric){var P=this.barCtx.xRatio;w.globals.minXDiff&&w.globals.minXDiff!==.5&&w.globals.minXDiff/P>0&&(A=w.globals.minXDiff/P),(u=A/B*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(u=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(u=parseInt(this.barCtx.barOptions.columnWidth,10)),p=w.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?w.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),n=w.globals.padHorizontal+(A-u*this.barCtx.seriesLen)/2}return w.globals.barHeight=h,w.globals.barWidth=u,{x:n,y:i,yDivision:c,xDivision:A,barHeight:h,barWidth:u,zeroH:p,zeroW:x}}},{key:"initializeStackedPrevVars",value:function(n){n.w.globals.seriesGroups.forEach(function(i){n[i]||(n[i]={}),n[i].prevY=[],n[i].prevX=[],n[i].prevYF=[],n[i].prevXF=[],n[i].prevYVal=[],n[i].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(n){n.w.globals.seriesGroups.forEach(function(i){n[i]||(n[i]={}),n[i].xArrj=[],n[i].xArrjF=[],n[i].xArrjVal=[],n[i].yArrj=[],n[i].yArrjF=[],n[i].yArrjVal=[]})}},{key:"getPathFillColor",value:function(n,i,c,A){var h,u,p,x,w,S=this.w,B=this.barCtx.ctx.fill,P=null,R=this.barCtx.barOptions.distributed?c:i;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(z){n[i][c]>=z.from&&n[i][c]<=z.to&&(P=z.color)}),(h=S.config.series[i].data[c])!==null&&h!==void 0&&h.fillColor&&(P=S.config.series[i].data[c].fillColor),B.fillPath({seriesNumber:this.barCtx.barOptions.distributed?R:A,dataPointIndex:c,color:P,value:n[i][c],fillConfig:(u=S.config.series[i].data[c])===null||u===void 0?void 0:u.fill,fillType:(p=S.config.series[i].data[c])!==null&&p!==void 0&&(x=p.fill)!==null&&x!==void 0&&x.type?(w=S.config.series[i].data[c])===null||w===void 0?void 0:w.fill.type:Array.isArray(S.config.fill.type)?S.config.fill.type[A]:S.config.fill.type})}},{key:"getStrokeWidth",value:function(n,i,c){var A=0,h=this.w;return this.barCtx.series[n][i]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,h.config.stroke.show&&(this.barCtx.isNullValue||(A=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[c]:this.barCtx.strokeWidth)),A}},{key:"createBorderRadiusArr",value:function(n){var i=this.w,c=!this.w.config.chart.stacked||i.config.plotOptions.bar.borderRadiusWhenStacked!=="last"||i.config.plotOptions.bar.borderRadius<=0,A=n.length,h=n[0].length,u=Array.from({length:A},function(){return Array(h).fill(c?"top":"none")});if(c)return u;for(var p=0;p<h;p++){for(var x=[],w=[],S=0,B=0;B<A;B++){var P=n[B][p];P>0?(x.push(B),S++):P<0&&(w.push(B),S++)}if(x.length>0&&w.length===0)if(x.length===1)u[x[0]][p]="both";else{var R,z=x[0],_=x[x.length-1],Z=g(x);try{for(Z.s();!(R=Z.n()).done;){var ee=R.value;u[ee][p]=ee===z?"bottom":ee===_?"top":"none"}}catch(ot){Z.e(ot)}finally{Z.f()}}else if(w.length>0&&x.length===0)if(w.length===1)u[w[0]][p]="both";else{var ae,b=w[0],Q=w[w.length-1],K=g(w);try{for(K.s();!(ae=K.n()).done;){var ge=ae.value;u[ge][p]=ge===b?"bottom":ge===Q?"top":"none"}}catch(ot){K.e(ot)}finally{K.f()}}else if(x.length>0&&w.length>0){var se,me=x[x.length-1],Fe=g(x);try{for(Fe.s();!(se=Fe.n()).done;){var Le=se.value;u[Le][p]=Le===me?"top":"none"}}catch(ot){Fe.e(ot)}finally{Fe.f()}var Oe,$e=w[w.length-1],Ge=g(w);try{for(Ge.s();!(Oe=Ge.n()).done;){var Je=Oe.value;u[Je][p]=Je===$e?"bottom":"none"}}catch(ot){Ge.e(ot)}finally{Ge.f()}}else S===1&&(u[x[0]||w[0]][p]="both")}return u}},{key:"barBackground",value:function(n){var i=n.j,c=n.i,A=n.x1,h=n.x2,u=n.y1,p=n.y2,x=n.elSeries,w=this.w,S=new V(this.barCtx.ctx),B=new Ke(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&B===c){i>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(i%=this.barCtx.barOptions.colors.backgroundBarColors.length);var P=this.barCtx.barOptions.colors.backgroundBarColors[i],R=S.drawRect(A!==void 0?A:0,u!==void 0?u:0,h!==void 0?h:w.globals.gridWidth,p!==void 0?p:w.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,P,this.barCtx.barOptions.colors.backgroundBarOpacity);x.add(R),R.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(n){var i,c=n.barWidth,A=n.barXPosition,h=n.y1,u=n.y2,p=n.strokeWidth,x=n.isReversed,w=n.series,S=n.seriesGroup,B=n.realIndex,P=n.i,R=n.j,z=n.w,_=new V(this.barCtx.ctx);(p=Array.isArray(p)?p[B]:p)||(p=0);var Z=c,ee=A;(i=z.config.series[B].data[R])!==null&&i!==void 0&&i.columnWidthOffset&&(ee=A-z.config.series[B].data[R].columnWidthOffset/2,Z=c+z.config.series[B].data[R].columnWidthOffset);var ae=p/2,b=ee+ae,Q=ee+Z-ae,K=(w[P][R]>=0?1:-1)*(x?-1:1);h+=.001-ae*K,u+=.001+ae*K;var ge=_.move(b,h),se=_.move(b,h),me=_.line(Q,h);if(z.globals.previousPaths.length>0&&(se=this.barCtx.getPreviousPath(B,R,!1)),ge=ge+_.line(b,u)+_.line(Q,u)+me+(z.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[B][R]==="both"?" Z":" z"),se=se+_.line(b,h)+me+me+me+me+me+_.line(b,h)+(z.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[B][R]==="both"?" Z":" z"),this.arrBorderRadius[B][R]!=="none"&&(ge=_.roundPathCorners(ge,z.config.plotOptions.bar.borderRadius)),z.config.chart.stacked){var Fe=this.barCtx;(Fe=this.barCtx[S]).yArrj.push(u-ae*K),Fe.yArrjF.push(Math.abs(h-u+p*K)),Fe.yArrjVal.push(this.barCtx.series[P][R])}return{pathTo:ge,pathFrom:se}}},{key:"getBarpaths",value:function(n){var i,c=n.barYPosition,A=n.barHeight,h=n.x1,u=n.x2,p=n.strokeWidth,x=n.isReversed,w=n.series,S=n.seriesGroup,B=n.realIndex,P=n.i,R=n.j,z=n.w,_=new V(this.barCtx.ctx);(p=Array.isArray(p)?p[B]:p)||(p=0);var Z=c,ee=A;(i=z.config.series[B].data[R])!==null&&i!==void 0&&i.barHeightOffset&&(Z=c-z.config.series[B].data[R].barHeightOffset/2,ee=A+z.config.series[B].data[R].barHeightOffset);var ae=p/2,b=Z+ae,Q=Z+ee-ae,K=(w[P][R]>=0?1:-1)*(x?-1:1);h+=.001+ae*K,u+=.001-ae*K;var ge=_.move(h,b),se=_.move(h,b);z.globals.previousPaths.length>0&&(se=this.barCtx.getPreviousPath(B,R,!1));var me=_.line(h,Q);if(ge=ge+_.line(u,b)+_.line(u,Q)+me+(z.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[B][R]==="both"?" Z":" z"),se=se+_.line(h,b)+me+me+me+me+me+_.line(h,b)+(z.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[B][R]==="both"?" Z":" z"),this.arrBorderRadius[B][R]!=="none"&&(ge=_.roundPathCorners(ge,z.config.plotOptions.bar.borderRadius)),z.config.chart.stacked){var Fe=this.barCtx;(Fe=this.barCtx[S]).xArrj.push(u+ae*K),Fe.xArrjF.push(Math.abs(h-u-p*K)),Fe.xArrjVal.push(this.barCtx.series[P][R])}return{pathTo:ge,pathFrom:se}}},{key:"checkZeroSeries",value:function(n){for(var i=n.series,c=this.w,A=0;A<i.length;A++){for(var h=0,u=0;u<i[c.globals.maxValsInArrayIndex].length;u++)h+=i[A][u];h===0&&this.barCtx.zeroSerieses.push(A)}}},{key:"getXForValue",value:function(n,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?i:null;return n!=null&&(c=i+n/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?n/this.barCtx.invertedYRatio:0)),c}},{key:"getYForValue",value:function(n,i,c){var A=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?i:null;return n!=null&&(A=i-n/this.barCtx.yRatio[c]+2*(this.barCtx.isReversed?n/this.barCtx.yRatio[c]:0)),A}},{key:"getGoalValues",value:function(n,i,c,A,h,u){var p=this,x=this.w,w=[],S=function(R,z){var _;w.push((m(_={},n,n==="x"?p.getXForValue(R,i,!1):p.getYForValue(R,c,u,!1)),m(_,"attrs",z),_))};if(x.globals.seriesGoals[A]&&x.globals.seriesGoals[A][h]&&Array.isArray(x.globals.seriesGoals[A][h])&&x.globals.seriesGoals[A][h].forEach(function(R){S(R.value,R)}),this.barCtx.barOptions.isDumbbell&&x.globals.seriesRange.length){var B=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:x.globals.colors,P={strokeHeight:n==="x"?0:x.globals.markers.size[A],strokeWidth:n==="x"?x.globals.markers.size[A]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(B[A])?B[A][0]:B[A]};S(x.globals.seriesRangeStart[A][h],P),S(x.globals.seriesRangeEnd[A][h],U(U({},P),{},{strokeColor:Array.isArray(B[A])?B[A][1]:B[A]}))}return w}},{key:"drawGoalLine",value:function(n){var i=n.barXPosition,c=n.barYPosition,A=n.goalX,h=n.goalY,u=n.barWidth,p=n.barHeight,x=new V(this.barCtx.ctx),w=x.group({className:"apexcharts-bar-goals-groups"});w.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:w.node}),w.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var S=null;return this.barCtx.isHorizontal?Array.isArray(A)&&A.forEach(function(B){if(B.x>=-1&&B.x<=x.w.globals.gridWidth+1){var P=B.attrs.strokeHeight!==void 0?B.attrs.strokeHeight:p/2,R=c+P+p/2;S=x.drawLine(B.x,R-2*P,B.x,R,B.attrs.strokeColor?B.attrs.strokeColor:void 0,B.attrs.strokeDashArray,B.attrs.strokeWidth?B.attrs.strokeWidth:2,B.attrs.strokeLineCap),w.add(S)}}):Array.isArray(h)&&h.forEach(function(B){if(B.y>=-1&&B.y<=x.w.globals.gridHeight+1){var P=B.attrs.strokeWidth!==void 0?B.attrs.strokeWidth:u/2,R=i+P+u/2;S=x.drawLine(R-2*P,B.y,R,B.y,B.attrs.strokeColor?B.attrs.strokeColor:void 0,B.attrs.strokeDashArray,B.attrs.strokeHeight?B.attrs.strokeHeight:2,B.attrs.strokeLineCap),w.add(S)}}),w}},{key:"drawBarShadow",value:function(n){var i=n.prevPaths,c=n.currPaths,A=n.color,h=this.w,u=i.x,p=i.x1,x=i.barYPosition,w=c.x,S=c.x1,B=c.barYPosition,P=x+c.barHeight,R=new V(this.barCtx.ctx),z=new M,_=R.move(p,P)+R.line(u,P)+R.line(w,B)+R.line(S,B)+R.line(p,P)+(h.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return R.drawPath({d:_,fill:z.shadeColor(.5,M.rgb2hex(A)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(n){var i,c=n.i,A=n.j,h=this.w,u=0,p=0;return(h.config.plotOptions.bar.horizontal?h.globals.series.map(function(x,w){return w}):((i=h.globals.columnSeries)===null||i===void 0?void 0:i.i.map(function(x){return x}))||[]).forEach(function(x){var w=h.globals.seriesPercent[x][A];w&&u++,x<c&&w===0&&p++}),{nonZeroColumns:u,zeroEncounters:p}}},{key:"getGroupIndex",value:function(n){var i=this.w,c=i.globals.seriesGroups.findIndex(function(u){return u.indexOf(i.globals.seriesNames[n])>-1}),A=this.barCtx.columnGroupIndices,h=A.indexOf(c);return h<0&&(A.push(c),h=A.length-1),{groupIndex:c,columnGroupIndex:h}}}]),te}(),br=function(){function te(n,i){o(this,te),this.ctx=n,this.w=n.w;var c=this.w;this.barOptions=c.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=c.config.stroke.width,this.isNullValue=!1,this.isRangeBar=c.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!c.globals.isBarHorizontal&&c.globals.seriesRange.length&&c.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=i,this.xyRatios!==null&&(this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.invertedXRatio=i.invertedXRatio,this.invertedYRatio=i.invertedYRatio,this.baseLineY=i.baseLineY,this.baseLineInvertedY=i.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var A=new Ke(this.ctx);this.lastActiveBarSerieIndex=A.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var h=A.getBarSeriesIndices(),u=new ue(this.ctx);this.stackedSeriesTotals=u.getStackedSeriesTotals(this.w.config.series.map(function(p,x){return h.indexOf(x)===-1?x:-1}).filter(function(p){return p!==-1})),this.barHelpers=new Qn(this)}return d(te,[{key:"draw",value:function(n,i){var c=this.w,A=new V(this.ctx),h=new ue(this.ctx,c);n=h.getLogSeries(n),this.series=n,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);var u=A.group({class:"apexcharts-bar-series apexcharts-plot-series"});c.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var p=0,x=0;p<n.length;p++,x++){var w,S,B,P,R=void 0,z=void 0,_=[],Z=[],ee=c.globals.comboCharts?i[p]:p,ae=this.barHelpers.getGroupIndex(ee).columnGroupIndex,b=A.group({class:"apexcharts-series",rel:p+1,seriesName:M.escapeString(c.globals.seriesNames[ee]),"data:realIndex":ee});this.ctx.series.addCollapsedClassToSeries(b,ee),n[p].length>0&&(this.visibleI=this.visibleI+1);var Q=0,K=0;this.yRatio.length>1&&(this.yaxisIndex=c.globals.seriesYAxisReverseMap[ee],this.translationsIndex=ee);var ge=this.translationsIndex;this.isReversed=c.config.yaxis[this.yaxisIndex]&&c.config.yaxis[this.yaxisIndex].reversed;var se=this.barHelpers.initialPositions();z=se.y,Q=se.barHeight,S=se.yDivision,P=se.zeroW,R=se.x,K=se.barWidth,w=se.xDivision,B=se.zeroH,this.horizontal||Z.push(R+K/2);var me=A.group({class:"apexcharts-datalabels","data:realIndex":ee});c.globals.delayedElements.push({el:me.node}),me.node.classList.add("apexcharts-element-hidden");var Fe=A.group({class:"apexcharts-bar-goals-markers"}),Le=A.group({class:"apexcharts-bar-shadows"});c.globals.delayedElements.push({el:Le.node}),Le.node.classList.add("apexcharts-element-hidden");for(var Oe=0;Oe<n[p].length;Oe++){var $e=this.barHelpers.getStrokeWidth(p,Oe,ee),Ge=null,Je={indexes:{i:p,j:Oe,realIndex:ee,translationsIndex:ge,bc:x},x:R,y:z,strokeWidth:$e,elSeries:b};this.isHorizontal?(Ge=this.drawBarPaths(U(U({},Je),{},{barHeight:Q,zeroW:P,yDivision:S})),K=this.series[p][Oe]/this.invertedYRatio):(Ge=this.drawColumnPaths(U(U({},Je),{},{xDivision:w,barWidth:K,zeroH:B})),Q=this.series[p][Oe]/this.yRatio[ge]);var ot=this.barHelpers.getPathFillColor(n,p,Oe,ee);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&Oe>0){var ft=this.barHelpers.drawBarShadow({color:typeof ot=="string"&&(ot==null?void 0:ot.indexOf("url"))===-1?ot:M.hexToRgba(c.globals.colors[p]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:Ge});ft&&Le.add(ft)}this.pathArr.push(Ge);var vt=this.barHelpers.drawGoalLine({barXPosition:Ge.barXPosition,barYPosition:Ge.barYPosition,goalX:Ge.goalX,goalY:Ge.goalY,barHeight:Q,barWidth:K});vt&&Fe.add(vt),z=Ge.y,R=Ge.x,Oe>0&&Z.push(R+K/2),_.push(z),this.renderSeries({realIndex:ee,pathFill:ot,j:Oe,i:p,columnGroupIndex:ae,pathFrom:Ge.pathFrom,pathTo:Ge.pathTo,strokeWidth:$e,elSeries:b,x:R,y:z,series:n,barHeight:Math.abs(Ge.barHeight?Ge.barHeight:Q),barWidth:Math.abs(Ge.barWidth?Ge.barWidth:K),elDataLabelsWrap:me,elGoalsMarkers:Fe,elBarShadows:Le,visibleSeries:this.visibleI,type:"bar"})}c.globals.seriesXvalues[ee]=Z,c.globals.seriesYvalues[ee]=_,u.add(b)}return u}},{key:"renderSeries",value:function(n){var i=n.realIndex,c=n.pathFill,A=n.lineFill,h=n.j,u=n.i,p=n.columnGroupIndex,x=n.pathFrom,w=n.pathTo,S=n.strokeWidth,B=n.elSeries,P=n.x,R=n.y,z=n.y1,_=n.y2,Z=n.series,ee=n.barHeight,ae=n.barWidth,b=n.barXPosition,Q=n.barYPosition,K=n.elDataLabelsWrap,ge=n.elGoalsMarkers,se=n.elBarShadows,me=n.visibleSeries,Fe=n.type,Le=n.classes,Oe=this.w,$e=new V(this.ctx);if(!A){var Ge=typeof Oe.globals.stroke.colors[i]=="function"?function(It){var Ft,Pt=Oe.config.stroke.colors;return Array.isArray(Pt)&&Pt.length>0&&((Ft=Pt[It])||(Ft=""),typeof Ft=="function")?Ft({value:Oe.globals.series[It][h],dataPointIndex:h,w:Oe}):Ft}(i):Oe.globals.stroke.colors[i];A=this.barOptions.distributed?Oe.globals.stroke.colors[h]:Ge}Oe.config.series[u].data[h]&&Oe.config.series[u].data[h].strokeColor&&(A=Oe.config.series[u].data[h].strokeColor),this.isNullValue&&(c="none");var Je=h/Oe.config.chart.animations.animateGradually.delay*(Oe.config.chart.animations.speed/Oe.globals.dataPoints)/2.4,ot=$e.renderPaths({i:u,j:h,realIndex:i,pathFrom:x,pathTo:w,stroke:A,strokeWidth:S,strokeLineCap:Oe.config.stroke.lineCap,fill:c,animationDelay:Je,initialSpeed:Oe.config.chart.animations.speed,dataChangeSpeed:Oe.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Fe,"-area ").concat(Le),chartType:Fe});ot.attr("clip-path","url(#gridRectBarMask".concat(Oe.globals.cuid,")"));var ft=Oe.config.forecastDataPoints;ft.count>0&&h>=Oe.globals.dataPoints-ft.count&&(ot.node.setAttribute("stroke-dasharray",ft.dashArray),ot.node.setAttribute("stroke-width",ft.strokeWidth),ot.node.setAttribute("fill-opacity",ft.fillOpacity)),z!==void 0&&_!==void 0&&(ot.attr("data-range-y1",z),ot.attr("data-range-y2",_)),new G(this.ctx).setSelectionFilter(ot,i,h),B.add(ot);var vt=new _s(this).handleBarDataLabels({x:P,y:R,y1:z,y2:_,i:u,j:h,series:Z,realIndex:i,columnGroupIndex:p,barHeight:ee,barWidth:ae,barXPosition:b,barYPosition:Q,renderedPath:ot,visibleSeries:me});return vt.dataLabels!==null&&K.add(vt.dataLabels),vt.totalDataLabels&&K.add(vt.totalDataLabels),B.add(K),ge&&B.add(ge),se&&B.add(se),B}},{key:"drawBarPaths",value:function(n){var i,c=n.indexes,A=n.barHeight,h=n.strokeWidth,u=n.zeroW,p=n.x,x=n.y,w=n.yDivision,S=n.elSeries,B=this.w,P=c.i,R=c.j;if(B.globals.isXNumeric)i=(x=(B.globals.seriesX[P][R]-B.globals.minX)/this.invertedXRatio-A)+A*this.visibleI;else if(B.config.plotOptions.bar.hideZeroBarsWhenGrouped){var z=0,_=0;B.globals.seriesPercent.forEach(function(ee,ae){ee[R]&&z++,ae<P&&ee[R]===0&&_++}),z>0&&(A=this.seriesLen*A/z),i=x+A*this.visibleI,i-=A*_}else i=x+A*this.visibleI;this.isFunnel&&(u-=(this.barHelpers.getXForValue(this.series[P][R],u)-u)/2),p=this.barHelpers.getXForValue(this.series[P][R],u);var Z=this.barHelpers.getBarpaths({barYPosition:i,barHeight:A,x1:u,x2:p,strokeWidth:h,isReversed:this.isReversed,series:this.series,realIndex:c.realIndex,i:P,j:R,w:B});return B.globals.isXNumeric||(x+=w),this.barHelpers.barBackground({j:R,i:P,y1:i-A*this.visibleI,y2:A*this.seriesLen,elSeries:S}),{pathTo:Z.pathTo,pathFrom:Z.pathFrom,x1:u,x:p,y:x,goalX:this.barHelpers.getGoalValues("x",u,null,P,R),barYPosition:i,barHeight:A}}},{key:"drawColumnPaths",value:function(n){var i,c=n.indexes,A=n.x,h=n.y,u=n.xDivision,p=n.barWidth,x=n.zeroH,w=n.strokeWidth,S=n.elSeries,B=this.w,P=c.realIndex,R=c.translationsIndex,z=c.i,_=c.j,Z=c.bc;if(B.globals.isXNumeric){var ee=this.getBarXForNumericXAxis({x:A,j:_,realIndex:P,barWidth:p});A=ee.x,i=ee.barXPosition}else if(B.config.plotOptions.bar.hideZeroBarsWhenGrouped){var ae=this.barHelpers.getZeroValueEncounters({i:z,j:_}),b=ae.nonZeroColumns,Q=ae.zeroEncounters;b>0&&(p=this.seriesLen*p/b),i=A+p*this.visibleI,i-=p*Q}else i=A+p*this.visibleI;h=this.barHelpers.getYForValue(this.series[z][_],x,R);var K=this.barHelpers.getColumnPaths({barXPosition:i,barWidth:p,y1:x,y2:h,strokeWidth:w,isReversed:this.isReversed,series:this.series,realIndex:P,i:z,j:_,w:B});return B.globals.isXNumeric||(A+=u),this.barHelpers.barBackground({bc:Z,j:_,i:z,x1:i-w/2-p*this.visibleI,x2:p*this.seriesLen+w/2,elSeries:S}),{pathTo:K.pathTo,pathFrom:K.pathFrom,x:A,y:h,goalY:this.barHelpers.getGoalValues("y",null,x,z,_,R),barXPosition:i,barWidth:p}}},{key:"getBarXForNumericXAxis",value:function(n){var i=n.x,c=n.barWidth,A=n.realIndex,h=n.j,u=this.w,p=A;return u.globals.seriesX[A].length||(p=u.globals.maxValsInArrayIndex),u.globals.seriesX[p][h]&&(i=(u.globals.seriesX[p][h]-u.globals.minX)/this.xRatio-c*this.seriesLen/2),{barXPosition:i+c*this.visibleI,x:i}}},{key:"getPreviousPath",value:function(n,i){for(var c,A=this.w,h=0;h<A.globals.previousPaths.length;h++){var u=A.globals.previousPaths[h];u.paths&&u.paths.length>0&&parseInt(u.realIndex,10)===parseInt(n,10)&&A.globals.previousPaths[h].paths[i]!==void 0&&(c=A.globals.previousPaths[h].paths[i].d)}return c}}]),te}(),Ot=function(te){N(i,br);var n=f(i);function i(){return o(this,i),n.apply(this,arguments)}return d(i,[{key:"draw",value:function(c,A){var h=this,u=this.w;this.graphics=new V(this.ctx),this.bar=new br(this.ctx,this.xyRatios);var p=new ue(this.ctx,u);c=p.getLogSeries(c),this.yRatio=p.getLogYRatios(this.yRatio),this.barHelpers.initVariables(c),u.config.chart.stackType==="100%"&&(c=u.globals.comboCharts?A.map(function(z){return u.globals.seriesPercent[z]}):u.globals.seriesPercent.slice()),this.series=c,this.barHelpers.initializeStackedPrevVars(this);for(var x=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),w=0,S=0,B=function(z,_){var Z=void 0,ee=void 0,ae=void 0,b=void 0,Q=u.globals.comboCharts?A[z]:z,K=h.barHelpers.getGroupIndex(Q),ge=K.groupIndex,se=K.columnGroupIndex;h.groupCtx=h[u.globals.seriesGroups[ge]];var me=[],Fe=[],Le=0;h.yRatio.length>1&&(h.yaxisIndex=u.globals.seriesYAxisReverseMap[Q][0],Le=Q),h.isReversed=u.config.yaxis[h.yaxisIndex]&&u.config.yaxis[h.yaxisIndex].reversed;var Oe=h.graphics.group({class:"apexcharts-series",seriesName:M.escapeString(u.globals.seriesNames[Q]),rel:z+1,"data:realIndex":Q});h.ctx.series.addCollapsedClassToSeries(Oe,Q);var $e=h.graphics.group({class:"apexcharts-datalabels","data:realIndex":Q}),Ge=h.graphics.group({class:"apexcharts-bar-goals-markers"}),Je=0,ot=0,ft=h.initialPositions(w,S,Z,ee,ae,b,Le);S=ft.y,Je=ft.barHeight,ee=ft.yDivision,b=ft.zeroW,w=ft.x,ot=ft.barWidth,Z=ft.xDivision,ae=ft.zeroH,u.globals.barHeight=Je,u.globals.barWidth=ot,h.barHelpers.initializeStackedXYVars(h),h.groupCtx.prevY.length===1&&h.groupCtx.prevY[0].every(function(fr){return isNaN(fr)})&&(h.groupCtx.prevY[0]=h.groupCtx.prevY[0].map(function(){return ae}),h.groupCtx.prevYF[0]=h.groupCtx.prevYF[0].map(function(){return 0}));for(var vt=0;vt<u.globals.dataPoints;vt++){var It=h.barHelpers.getStrokeWidth(z,vt,Q),Ft={indexes:{i:z,j:vt,realIndex:Q,translationsIndex:Le,bc:_},strokeWidth:It,x:w,y:S,elSeries:Oe,columnGroupIndex:se,seriesGroup:u.globals.seriesGroups[ge]},Pt=null;h.isHorizontal?(Pt=h.drawStackedBarPaths(U(U({},Ft),{},{zeroW:b,barHeight:Je,yDivision:ee})),ot=h.series[z][vt]/h.invertedYRatio):(Pt=h.drawStackedColumnPaths(U(U({},Ft),{},{xDivision:Z,barWidth:ot,zeroH:ae})),Je=h.series[z][vt]/h.yRatio[Le]);var Kt=h.barHelpers.drawGoalLine({barXPosition:Pt.barXPosition,barYPosition:Pt.barYPosition,goalX:Pt.goalX,goalY:Pt.goalY,barHeight:Je,barWidth:ot});Kt&&Ge.add(Kt),S=Pt.y,w=Pt.x,me.push(w),Fe.push(S);var kt=h.barHelpers.getPathFillColor(c,z,vt,Q),Br="";u.globals.isBarHorizontal?h.barHelpers.arrBorderRadius[Q][vt]==="bottom"&&u.globals.series[Q][vt]>0&&(Br="apexcharts-flip-x"):h.barHelpers.arrBorderRadius[Q][vt]==="bottom"&&u.globals.series[Q][vt]>0&&(Br="apexcharts-flip-y"),Oe=h.renderSeries({realIndex:Q,pathFill:kt,j:vt,i:z,columnGroupIndex:se,pathFrom:Pt.pathFrom,pathTo:Pt.pathTo,strokeWidth:It,elSeries:Oe,x:w,y:S,series:c,barHeight:Je,barWidth:ot,elDataLabelsWrap:$e,elGoalsMarkers:Ge,type:"bar",visibleSeries:se,classes:Br})}u.globals.seriesXvalues[Q]=me,u.globals.seriesYvalues[Q]=Fe,h.groupCtx.prevY.push(h.groupCtx.yArrj),h.groupCtx.prevYF.push(h.groupCtx.yArrjF),h.groupCtx.prevYVal.push(h.groupCtx.yArrjVal),h.groupCtx.prevX.push(h.groupCtx.xArrj),h.groupCtx.prevXF.push(h.groupCtx.xArrjF),h.groupCtx.prevXVal.push(h.groupCtx.xArrjVal),x.add(Oe)},P=0,R=0;P<c.length;P++,R++)B(P,R);return x}},{key:"initialPositions",value:function(c,A,h,u,p,x,w){var S,B,P=this.w;if(this.isHorizontal){u=P.globals.gridHeight/P.globals.dataPoints;var R=P.config.plotOptions.bar.barHeight;S=String(R).indexOf("%")===-1?parseInt(R,10):u*parseInt(R,10)/100,x=P.globals.padHorizontal+(this.isReversed?P.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),A=(u-S)/2}else{B=h=P.globals.gridWidth/P.globals.dataPoints;var z=P.config.plotOptions.bar.columnWidth;P.globals.isXNumeric&&P.globals.dataPoints>1?B=(h=P.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(z).indexOf("%")===-1?B=parseInt(z,10):B*=parseInt(z,10)/100,p=this.isReversed?this.baseLineY[w]:P.globals.gridHeight-this.baseLineY[w],c=P.globals.padHorizontal+(h-B)/2}var _=P.globals.barGroups.length||1;return{x:c,y:A,yDivision:u,xDivision:h,barHeight:S/_,barWidth:B/_,zeroH:p,zeroW:x}}},{key:"drawStackedBarPaths",value:function(c){for(var A,h=c.indexes,u=c.barHeight,p=c.strokeWidth,x=c.zeroW,w=c.x,S=c.y,B=c.columnGroupIndex,P=c.seriesGroup,R=c.yDivision,z=c.elSeries,_=this.w,Z=S+B*u,ee=h.i,ae=h.j,b=h.realIndex,Q=h.translationsIndex,K=0,ge=0;ge<this.groupCtx.prevXF.length;ge++)K+=this.groupCtx.prevXF[ge][ae];var se;if((se=P.indexOf(_.config.series[b].name))>0){var me=x;this.groupCtx.prevXVal[se-1][ae]<0?me=this.series[ee][ae]>=0?this.groupCtx.prevX[se-1][ae]+K-2*(this.isReversed?K:0):this.groupCtx.prevX[se-1][ae]:this.groupCtx.prevXVal[se-1][ae]>=0&&(me=this.series[ee][ae]>=0?this.groupCtx.prevX[se-1][ae]:this.groupCtx.prevX[se-1][ae]-K+2*(this.isReversed?K:0)),A=me}else A=x;w=this.series[ee][ae]===null?A:A+this.series[ee][ae]/this.invertedYRatio-2*(this.isReversed?this.series[ee][ae]/this.invertedYRatio:0);var Fe=this.barHelpers.getBarpaths({barYPosition:Z,barHeight:u,x1:A,x2:w,strokeWidth:p,isReversed:this.isReversed,series:this.series,realIndex:h.realIndex,seriesGroup:P,i:ee,j:ae,w:_});return this.barHelpers.barBackground({j:ae,i:ee,y1:Z,y2:u,elSeries:z}),S+=R,{pathTo:Fe.pathTo,pathFrom:Fe.pathFrom,goalX:this.barHelpers.getGoalValues("x",x,null,ee,ae,Q),barXPosition:A,barYPosition:Z,x:w,y:S}}},{key:"drawStackedColumnPaths",value:function(c){var A=c.indexes,h=c.x,u=c.y,p=c.xDivision,x=c.barWidth,w=c.zeroH,S=c.columnGroupIndex,B=c.seriesGroup,P=c.elSeries,R=this.w,z=A.i,_=A.j,Z=A.bc,ee=A.realIndex,ae=A.translationsIndex;if(R.globals.isXNumeric){var b=R.globals.seriesX[ee][_];b||(b=0),h=(b-R.globals.minX)/this.xRatio-x/2*R.globals.barGroups.length}for(var Q,K=h+S*x,ge=0,se=0;se<this.groupCtx.prevYF.length;se++)ge+=isNaN(this.groupCtx.prevYF[se][_])?0:this.groupCtx.prevYF[se][_];var me=z;if(B&&(me=B.indexOf(R.globals.seriesNames[ee])),me>0&&!R.globals.isXNumeric||me>0&&R.globals.isXNumeric&&R.globals.seriesX[ee-1][_]===R.globals.seriesX[ee][_]){var Fe,Le,Oe,$e=Math.min(this.yRatio.length+1,ee+1);if(this.groupCtx.prevY[me-1]!==void 0&&this.groupCtx.prevY[me-1].length)for(var Ge=1;Ge<$e;Ge++){var Je;if(!isNaN((Je=this.groupCtx.prevY[me-Ge])===null||Je===void 0?void 0:Je[_])){Oe=this.groupCtx.prevY[me-Ge][_];break}}for(var ot=1;ot<$e;ot++){var ft,vt;if(((ft=this.groupCtx.prevYVal[me-ot])===null||ft===void 0?void 0:ft[_])<0){Le=this.series[z][_]>=0?Oe-ge+2*(this.isReversed?ge:0):Oe;break}if(((vt=this.groupCtx.prevYVal[me-ot])===null||vt===void 0?void 0:vt[_])>=0){Le=this.series[z][_]>=0?Oe:Oe+ge-2*(this.isReversed?ge:0);break}}Le===void 0&&(Le=R.globals.gridHeight),Q=(Fe=this.groupCtx.prevYF[0])!==null&&Fe!==void 0&&Fe.every(function(Ft){return Ft===0})&&this.groupCtx.prevYF.slice(1,me).every(function(Ft){return Ft.every(function(Pt){return isNaN(Pt)})})?w:Le}else Q=w;u=this.series[z][_]?Q-this.series[z][_]/this.yRatio[ae]+2*(this.isReversed?this.series[z][_]/this.yRatio[ae]:0):Q;var It=this.barHelpers.getColumnPaths({barXPosition:K,barWidth:x,y1:Q,y2:u,yRatio:this.yRatio[ae],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:B,realIndex:A.realIndex,i:z,j:_,w:R});return this.barHelpers.barBackground({bc:Z,j:_,i:z,x1:K,x2:x,elSeries:P}),{pathTo:It.pathTo,pathFrom:It.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,w,z,_),barXPosition:K,x:R.globals.isXNumeric?h:h+p,y:u}}}]),i}(),cr=function(te){N(i,br);var n=f(i);function i(){return o(this,i),n.apply(this,arguments)}return d(i,[{key:"draw",value:function(c,A,h){var u=this,p=this.w,x=new V(this.ctx),w=p.globals.comboCharts?A:p.config.chart.type,S=new Se(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=p.config.plotOptions.bar.horizontal;var B=new ue(this.ctx,p);c=B.getLogSeries(c),this.series=c,this.yRatio=B.getLogYRatios(this.yRatio),this.barHelpers.initVariables(c);for(var P=x.group({class:"apexcharts-".concat(w,"-series apexcharts-plot-series")}),R=function(_){u.isBoxPlot=p.config.chart.type==="boxPlot"||p.config.series[_].type==="boxPlot";var Z,ee,ae,b,Q=void 0,K=void 0,ge=[],se=[],me=p.globals.comboCharts?h[_]:_,Fe=u.barHelpers.getGroupIndex(me).columnGroupIndex,Le=x.group({class:"apexcharts-series",seriesName:M.escapeString(p.globals.seriesNames[me]),rel:_+1,"data:realIndex":me});u.ctx.series.addCollapsedClassToSeries(Le,me),c[_].length>0&&(u.visibleI=u.visibleI+1);var Oe,$e,Ge=0;u.yRatio.length>1&&(u.yaxisIndex=p.globals.seriesYAxisReverseMap[me][0],Ge=me);var Je=u.barHelpers.initialPositions();K=Je.y,Oe=Je.barHeight,ee=Je.yDivision,b=Je.zeroW,Q=Je.x,$e=Je.barWidth,Z=Je.xDivision,ae=Je.zeroH,se.push(Q+$e/2);for(var ot=x.group({class:"apexcharts-datalabels","data:realIndex":me}),ft=function(It){var Ft=u.barHelpers.getStrokeWidth(_,It,me),Pt=null,Kt={indexes:{i:_,j:It,realIndex:me,translationsIndex:Ge},x:Q,y:K,strokeWidth:Ft,elSeries:Le};Pt=u.isHorizontal?u.drawHorizontalBoxPaths(U(U({},Kt),{},{yDivision:ee,barHeight:Oe,zeroW:b})):u.drawVerticalBoxPaths(U(U({},Kt),{},{xDivision:Z,barWidth:$e,zeroH:ae})),K=Pt.y,Q=Pt.x,It>0&&se.push(Q+$e/2),ge.push(K),Pt.pathTo.forEach(function(kt,Br){var fr=!u.isBoxPlot&&u.candlestickOptions.wick.useFillColor?Pt.color[Br]:p.globals.stroke.colors[_],_r=S.fillPath({seriesNumber:me,dataPointIndex:It,color:Pt.color[Br],value:c[_][It]});u.renderSeries({realIndex:me,pathFill:_r,lineFill:fr,j:It,i:_,pathFrom:Pt.pathFrom,pathTo:kt,strokeWidth:Ft,elSeries:Le,x:Q,y:K,series:c,columnGroupIndex:Fe,barHeight:Oe,barWidth:$e,elDataLabelsWrap:ot,visibleSeries:u.visibleI,type:p.config.chart.type})})},vt=0;vt<p.globals.dataPoints;vt++)ft(vt);p.globals.seriesXvalues[me]=se,p.globals.seriesYvalues[me]=ge,P.add(Le)},z=0;z<c.length;z++)R(z);return P}},{key:"drawVerticalBoxPaths",value:function(c){var A=c.indexes,h=c.x;c.y;var u=c.xDivision,p=c.barWidth,x=c.zeroH,w=c.strokeWidth,S=this.w,B=new V(this.ctx),P=A.i,R=A.j,z=!0,_=S.config.plotOptions.candlestick.colors.upward,Z=S.config.plotOptions.candlestick.colors.downward,ee="";this.isBoxPlot&&(ee=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var ae=this.yRatio[A.translationsIndex],b=A.realIndex,Q=this.getOHLCValue(b,R),K=x,ge=x;Q.o>Q.c&&(z=!1);var se=Math.min(Q.o,Q.c),me=Math.max(Q.o,Q.c),Fe=Q.m;S.globals.isXNumeric&&(h=(S.globals.seriesX[b][R]-S.globals.minX)/this.xRatio-p/2);var Le=h+p*this.visibleI;this.series[P][R]===void 0||this.series[P][R]===null?(se=x,me=x):(se=x-se/ae,me=x-me/ae,K=x-Q.h/ae,ge=x-Q.l/ae,Fe=x-Q.m/ae);var Oe=B.move(Le,x),$e=B.move(Le+p/2,se);return S.globals.previousPaths.length>0&&($e=this.getPreviousPath(b,R,!0)),Oe=this.isBoxPlot?[B.move(Le,se)+B.line(Le+p/2,se)+B.line(Le+p/2,K)+B.line(Le+p/4,K)+B.line(Le+p-p/4,K)+B.line(Le+p/2,K)+B.line(Le+p/2,se)+B.line(Le+p,se)+B.line(Le+p,Fe)+B.line(Le,Fe)+B.line(Le,se+w/2),B.move(Le,Fe)+B.line(Le+p,Fe)+B.line(Le+p,me)+B.line(Le+p/2,me)+B.line(Le+p/2,ge)+B.line(Le+p-p/4,ge)+B.line(Le+p/4,ge)+B.line(Le+p/2,ge)+B.line(Le+p/2,me)+B.line(Le,me)+B.line(Le,Fe)+"z"]:[B.move(Le,me)+B.line(Le+p/2,me)+B.line(Le+p/2,K)+B.line(Le+p/2,me)+B.line(Le+p,me)+B.line(Le+p,se)+B.line(Le+p/2,se)+B.line(Le+p/2,ge)+B.line(Le+p/2,se)+B.line(Le,se)+B.line(Le,me-w/2)],$e+=B.move(Le,se),S.globals.isXNumeric||(h+=u),{pathTo:Oe,pathFrom:$e,x:h,y:me,barXPosition:Le,color:this.isBoxPlot?ee:z?[_]:[Z]}}},{key:"drawHorizontalBoxPaths",value:function(c){var A=c.indexes;c.x;var h=c.y,u=c.yDivision,p=c.barHeight,x=c.zeroW,w=c.strokeWidth,S=this.w,B=new V(this.ctx),P=A.i,R=A.j,z=this.boxOptions.colors.lower;this.isBoxPlot&&(z=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var _=this.invertedYRatio,Z=A.realIndex,ee=this.getOHLCValue(Z,R),ae=x,b=x,Q=Math.min(ee.o,ee.c),K=Math.max(ee.o,ee.c),ge=ee.m;S.globals.isXNumeric&&(h=(S.globals.seriesX[Z][R]-S.globals.minX)/this.invertedXRatio-p/2);var se=h+p*this.visibleI;this.series[P][R]===void 0||this.series[P][R]===null?(Q=x,K=x):(Q=x+Q/_,K=x+K/_,ae=x+ee.h/_,b=x+ee.l/_,ge=x+ee.m/_);var me=B.move(x,se),Fe=B.move(Q,se+p/2);return S.globals.previousPaths.length>0&&(Fe=this.getPreviousPath(Z,R,!0)),me=[B.move(Q,se)+B.line(Q,se+p/2)+B.line(ae,se+p/2)+B.line(ae,se+p/2-p/4)+B.line(ae,se+p/2+p/4)+B.line(ae,se+p/2)+B.line(Q,se+p/2)+B.line(Q,se+p)+B.line(ge,se+p)+B.line(ge,se)+B.line(Q+w/2,se),B.move(ge,se)+B.line(ge,se+p)+B.line(K,se+p)+B.line(K,se+p/2)+B.line(b,se+p/2)+B.line(b,se+p-p/4)+B.line(b,se+p/4)+B.line(b,se+p/2)+B.line(K,se+p/2)+B.line(K,se)+B.line(ge,se)+"z"],Fe+=B.move(Q,se),S.globals.isXNumeric||(h+=u),{pathTo:me,pathFrom:Fe,x:K,y:h,barYPosition:se,color:z}}},{key:"getOHLCValue",value:function(c,A){var h=this.w;return{o:this.isBoxPlot?h.globals.seriesCandleH[c][A]:h.globals.seriesCandleO[c][A],h:this.isBoxPlot?h.globals.seriesCandleO[c][A]:h.globals.seriesCandleH[c][A],m:h.globals.seriesCandleM[c][A],l:this.isBoxPlot?h.globals.seriesCandleC[c][A]:h.globals.seriesCandleL[c][A],c:this.isBoxPlot?h.globals.seriesCandleL[c][A]:h.globals.seriesCandleC[c][A]}}}]),i}(),ni=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"checkColorRange",value:function(){var n=this.w,i=!1,c=n.config.plotOptions[n.config.chart.type];return c.colorScale.ranges.length>0&&c.colorScale.ranges.map(function(A,h){A.from<=0&&(i=!0)}),i}},{key:"getShadeColor",value:function(n,i,c,A){var h=this.w,u=1,p=h.config.plotOptions[n].shadeIntensity,x=this.determineColor(n,i,c);h.globals.hasNegs||A?u=h.config.plotOptions[n].reverseNegativeShade?x.percent<0?x.percent/100*(1.25*p):(1-x.percent/100)*(1.25*p):x.percent<=0?1-(1+x.percent/100)*p:(1-x.percent/100)*p:(u=1-x.percent/100,n==="treemap"&&(u=(1-x.percent/100)*(1.25*p)));var w=x.color,S=new M;if(h.config.plotOptions[n].enableShades)if(this.w.config.theme.mode==="dark"){var B=S.shadeColor(-1*u,x.color);w=M.hexToRgba(M.isColorHex(B)?B:M.rgb2hex(B),h.config.fill.opacity)}else{var P=S.shadeColor(u,x.color);w=M.hexToRgba(M.isColorHex(P)?P:M.rgb2hex(P),h.config.fill.opacity)}return{color:w,colorProps:x}}},{key:"determineColor",value:function(n,i,c){var A=this.w,h=A.globals.series[i][c],u=A.config.plotOptions[n],p=u.colorScale.inverse?c:i;u.distributed&&A.config.chart.type==="treemap"&&(p=c);var x=A.globals.colors[p],w=null,S=Math.min.apply(Math,L(A.globals.series[i])),B=Math.max.apply(Math,L(A.globals.series[i]));u.distributed||n!=="heatmap"||(S=A.globals.minY,B=A.globals.maxY),u.colorScale.min!==void 0&&(S=u.colorScale.min<A.globals.minY?u.colorScale.min:A.globals.minY,B=u.colorScale.max>A.globals.maxY?u.colorScale.max:A.globals.maxY);var P=Math.abs(B)+Math.abs(S),R=100*h/(P===0?P-1e-6:P);return u.colorScale.ranges.length>0&&u.colorScale.ranges.map(function(z,_){if(h>=z.from&&h<=z.to){x=z.color,w=z.foreColor?z.foreColor:null,S=z.from,B=z.to;var Z=Math.abs(B)+Math.abs(S);R=100*h/(Z===0?Z-1e-6:Z)}}),{color:x,foreColor:w,percent:R}}},{key:"calculateDataLabels",value:function(n){var i=n.text,c=n.x,A=n.y,h=n.i,u=n.j,p=n.colorProps,x=n.fontSize,w=this.w.config.dataLabels,S=new V(this.ctx),B=new Qe(this.ctx),P=null;if(w.enabled){P=S.group({class:"apexcharts-data-labels"});var R=w.offsetX,z=w.offsetY,_=c+R,Z=A+parseFloat(w.style.fontSize)/3+z;B.plotDataLabelsText({x:_,y:Z,text:i,i:h,j:u,color:p.foreColor,parent:P,fontSize:x,dataLabelsConfig:w})}return P}},{key:"addListeners",value:function(n){var i=new V(this.ctx);n.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,n)),n.node.addEventListener("mousedown",i.pathMouseDown.bind(this,n))}}]),te}(),ka=function(){function te(n,i){o(this,te),this.ctx=n,this.w=n.w,this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new ni(n),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return d(te,[{key:"draw",value:function(n){var i=this.w,c=new V(this.ctx),A=c.group({class:"apexcharts-heatmap"});A.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")"));var h=i.globals.gridWidth/i.globals.dataPoints,u=i.globals.gridHeight/i.globals.series.length,p=0,x=!1;this.negRange=this.helpers.checkColorRange();var w=n.slice();i.config.yaxis[0].reversed&&(x=!0,w.reverse());for(var S=x?0:w.length-1;x?S<w.length:S>=0;x?S++:S--){var B=c.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:M.escapeString(i.globals.seriesNames[S]),rel:S+1,"data:realIndex":S});if(this.ctx.series.addCollapsedClassToSeries(B,S),i.config.chart.dropShadow.enabled){var P=i.config.chart.dropShadow;new G(this.ctx).dropShadow(B,P,S)}for(var R=0,z=i.config.plotOptions.heatmap.shadeIntensity,_=0;_<w[S].length;_++){var Z=this.helpers.getShadeColor(i.config.chart.type,S,_,this.negRange),ee=Z.color,ae=Z.colorProps;i.config.fill.type==="image"&&(ee=new Se(this.ctx).fillPath({seriesNumber:S,dataPointIndex:_,opacity:i.globals.hasNegs?ae.percent<0?1-(1+ae.percent/100):z+ae.percent/100:ae.percent/100,patternID:M.randomId(),width:i.config.fill.image.width?i.config.fill.image.width:h,height:i.config.fill.image.height?i.config.fill.image.height:u}));var b=this.rectRadius,Q=c.drawRect(R,p,h,u,b);if(Q.attr({cx:R,cy:p}),Q.node.classList.add("apexcharts-heatmap-rect"),B.add(Q),Q.attr({fill:ee,i:S,index:S,j:_,val:n[S][_],"stroke-width":this.strokeWidth,stroke:i.config.plotOptions.heatmap.useFillColorAsStroke?ee:i.globals.stroke.colors[0],color:ee}),this.helpers.addListeners(Q),i.config.chart.animations.enabled&&!i.globals.dataChanged){var K=1;i.globals.resized||(K=i.config.chart.animations.speed),this.animateHeatMap(Q,R,p,h,u,K)}if(i.globals.dataChanged){var ge=1;if(this.dynamicAnim.enabled&&i.globals.shouldAnimate){ge=this.dynamicAnim.speed;var se=i.globals.previousPaths[S]&&i.globals.previousPaths[S][_]&&i.globals.previousPaths[S][_].color;se||(se="rgba(255, 255, 255, 0)"),this.animateHeatColor(Q,M.isColorHex(se)?se:M.rgb2hex(se),M.isColorHex(ee)?ee:M.rgb2hex(ee),ge)}}var me=(0,i.config.dataLabels.formatter)(i.globals.series[S][_],{value:i.globals.series[S][_],seriesIndex:S,dataPointIndex:_,w:i}),Fe=this.helpers.calculateDataLabels({text:me,x:R+h/2,y:p+u/2,i:S,j:_,colorProps:ae,series:w});Fe!==null&&B.add(Fe),R+=h}p+=u,A.add(B)}var Le=i.globals.yAxisScale[0].result.slice();return i.config.yaxis[0].reversed?Le.unshift(""):Le.push(""),i.globals.yAxisScale[0].result=Le,A}},{key:"animateHeatMap",value:function(n,i,c,A,h,u){var p=new re(this.ctx);p.animateRect(n,{x:i+A/2,y:c+h/2,width:0,height:0},{x:i,y:c,width:A,height:h},u,function(){p.animationCompleted(n)})}},{key:"animateHeatColor",value:function(n,i,c,A){n.attr({fill:i}).animate(A).attr({fill:c})}}]),te}(),zs=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"drawYAxisTexts",value:function(n,i,c,A){var h=this.w,u=h.config.yaxis[0],p=h.globals.yLabelFormatters[0];return new V(this.ctx).drawText({x:n+u.labels.offsetX,y:i+u.labels.offsetY,text:p(A,c),textAnchor:"middle",fontSize:u.labels.style.fontSize,fontFamily:u.labels.style.fontFamily,foreColor:Array.isArray(u.labels.style.colors)?u.labels.style.colors[c]:u.labels.style.colors})}}]),te}(),Vs=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w;var i=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=i.globals.stroke.colors!==void 0?i.globals.stroke.colors:i.globals.colors,this.defaultSize=Math.min(i.globals.gridWidth,i.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=i.globals.gridWidth/2,i.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(i.config.plotOptions.pie.endAngle-i.config.plotOptions.pie.startAngle),this.initialAngle=i.config.plotOptions.pie.startAngle%this.fullAngle,i.globals.radialSize=this.defaultSize/2.05-i.config.stroke.width-(i.config.chart.sparkline.enabled?0:i.config.chart.dropShadow.blur),this.donutSize=i.globals.radialSize*parseInt(i.config.plotOptions.pie.donut.size,10)/100;var c=i.config.plotOptions.pie.customScale,A=i.globals.gridWidth/2,h=i.globals.gridHeight/2;this.translateX=A-A*c,this.translateY=h-h*c,this.dataLabelsGroup=new V(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(c,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return d(te,[{key:"draw",value:function(n){var i=this,c=this.w,A=new V(this.ctx),h=A.group({class:"apexcharts-pie"});if(c.globals.noData)return h;for(var u=0,p=0;p<n.length;p++)u+=M.negToZero(n[p]);var x=[],w=A.group();u===0&&(u=1e-5),n.forEach(function(b){i.maxY=Math.max(i.maxY,b)}),c.config.yaxis[0].max&&(this.maxY=c.config.yaxis[0].max),c.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(h);for(var S=0;S<n.length;S++){var B=this.fullAngle*M.negToZero(n[S])/u;x.push(B),this.chartType==="polarArea"?(x[S]=this.fullAngle/n.length,this.sliceSizes.push(c.globals.radialSize*n[S]/this.maxY)):this.sliceSizes.push(c.globals.radialSize)}if(c.globals.dataChanged){for(var P,R=0,z=0;z<c.globals.previousPaths.length;z++)R+=M.negToZero(c.globals.previousPaths[z]);for(var _=0;_<c.globals.previousPaths.length;_++)P=this.fullAngle*M.negToZero(c.globals.previousPaths[_])/R,this.prevSectorAngleArr.push(P)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var Z=A.drawCircle(this.donutSize);Z.attr({cx:this.centerX,cy:this.centerY,fill:c.config.plotOptions.pie.donut.background?c.config.plotOptions.pie.donut.background:"transparent"}),w.add(Z)}var ee=this.drawArcs(x,n);if(this.sliceLabels.forEach(function(b){ee.add(b)}),w.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(c.config.plotOptions.pie.customScale,")")}),w.add(ee),h.add(w),this.donutDataLabels.show){var ae=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});h.add(ae)}return c.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(h),h}},{key:"drawArcs",value:function(n,i){var c=this.w,A=new G(this.ctx),h=new V(this.ctx),u=new Se(this.ctx),p=h.group({class:"apexcharts-slices"}),x=this.initialAngle,w=this.initialAngle,S=this.initialAngle,B=this.initialAngle;this.strokeWidth=c.config.stroke.show?c.config.stroke.width:0;for(var P=0;P<n.length;P++){var R=h.group({class:"apexcharts-series apexcharts-pie-series",seriesName:M.escapeString(c.globals.seriesNames[P]),rel:P+1,"data:realIndex":P});p.add(R),w=B,S=(x=S)+n[P],B=w+this.prevSectorAngleArr[P];var z=S<x?this.fullAngle+S-x:S-x,_=u.fillPath({seriesNumber:P,size:this.sliceSizes[P],value:i[P]}),Z=this.getChangedPath(w,B),ee=h.drawPath({d:Z,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[P]:this.lineColorArr,strokeWidth:0,fill:_,fillOpacity:c.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(P)});if(ee.attr({index:0,j:P}),A.setSelectionFilter(ee,0,P),c.config.chart.dropShadow.enabled){var ae=c.config.chart.dropShadow;A.dropShadow(ee,ae,P)}this.addListeners(ee,this.donutDataLabels),V.setAttrs(ee.node,{"data:angle":z,"data:startAngle":x,"data:strokeWidth":this.strokeWidth,"data:value":i[P]});var b={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?b=M.polarToCartesian(this.centerX,this.centerY,c.globals.radialSize/1.25+c.config.plotOptions.pie.dataLabels.offset,(x+z/2)%this.fullAngle):this.chartType==="donut"&&(b=M.polarToCartesian(this.centerX,this.centerY,(c.globals.radialSize+this.donutSize)/2+c.config.plotOptions.pie.dataLabels.offset,(x+z/2)%this.fullAngle)),R.add(ee);var Q=0;if(!this.initialAnim||c.globals.resized||c.globals.dataChanged?this.animBeginArr.push(0):((Q=z/this.fullAngle*c.config.chart.animations.speed)===0&&(Q=1),this.animDur=Q+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&c.globals.dataChanged?this.animatePaths(ee,{size:this.sliceSizes[P],endAngle:S,startAngle:x,prevStartAngle:w,prevEndAngle:B,animateStartingPos:!0,i:P,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:c.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(ee,{size:this.sliceSizes[P],endAngle:S,startAngle:x,i:P,totalItems:n.length-1,animBeginArr:this.animBeginArr,dur:Q}),c.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&ee.node.addEventListener("mouseup",this.pieClicked.bind(this,P)),c.globals.selectedDataPoints[0]!==void 0&&c.globals.selectedDataPoints[0].indexOf(P)>-1&&this.pieClicked(P),c.config.dataLabels.enabled){var K=b.x,ge=b.y,se=100*z/this.fullAngle+"%";if(z!==0&&c.config.plotOptions.pie.dataLabels.minAngleToShowLabel<n[P]){var me=c.config.dataLabels.formatter;me!==void 0&&(se=me(c.globals.seriesPercent[P][0],{seriesIndex:P,w:c}));var Fe=c.globals.dataLabels.style.colors[P],Le=h.group({class:"apexcharts-datalabels"}),Oe=h.drawText({x:K,y:ge,text:se,textAnchor:"middle",fontSize:c.config.dataLabels.style.fontSize,fontFamily:c.config.dataLabels.style.fontFamily,fontWeight:c.config.dataLabels.style.fontWeight,foreColor:Fe});if(Le.add(Oe),c.config.dataLabels.dropShadow.enabled){var $e=c.config.dataLabels.dropShadow;A.dropShadow(Oe,$e)}Oe.node.classList.add("apexcharts-pie-label"),c.config.chart.animations.animate&&c.globals.resized===!1&&(Oe.node.classList.add("apexcharts-pie-label-delay"),Oe.node.style.animationDelay=c.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Le)}}}return p}},{key:"addListeners",value:function(n,i){var c=new V(this.ctx);n.node.addEventListener("mouseenter",c.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",c.pathMouseLeave.bind(this,n)),n.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,n.node,i)),n.node.addEventListener("mousedown",c.pathMouseDown.bind(this,n)),this.donutDataLabels.total.showAlways||(n.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,n.node,i)),n.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,n.node,i)))}},{key:"animatePaths",value:function(n,i){var c=this.w,A=i.endAngle<i.startAngle?this.fullAngle+i.endAngle-i.startAngle:i.endAngle-i.startAngle,h=A,u=i.startAngle,p=i.startAngle;i.prevStartAngle!==void 0&&i.prevEndAngle!==void 0&&(u=i.prevEndAngle,h=i.prevEndAngle<i.prevStartAngle?this.fullAngle+i.prevEndAngle-i.prevStartAngle:i.prevEndAngle-i.prevStartAngle),i.i===c.config.series.length-1&&(A+p>this.fullAngle?i.endAngle=i.endAngle-(A+p):A+p<this.fullAngle&&(i.endAngle=i.endAngle+(this.fullAngle-(A+p)))),A===this.fullAngle&&(A=this.fullAngle-.01),this.animateArc(n,u,p,A,h,i)}},{key:"animateArc",value:function(n,i,c,A,h,u){var p,x=this,w=this.w,S=new re(this.ctx),B=u.size;(isNaN(i)||isNaN(h))&&(i=c,h=A,u.dur=0);var P=A,R=c,z=i<c?this.fullAngle+i-c:i-c;w.globals.dataChanged&&u.shouldSetPrevPaths&&u.prevEndAngle&&(p=x.getPiePath({me:x,startAngle:u.prevStartAngle,angle:u.prevEndAngle<u.prevStartAngle?this.fullAngle+u.prevEndAngle-u.prevStartAngle:u.prevEndAngle-u.prevStartAngle,size:B}),n.attr({d:p})),u.dur!==0?n.animate(u.dur,w.globals.easing,u.animBeginArr[u.i]).afterAll(function(){x.chartType!=="pie"&&x.chartType!=="donut"&&x.chartType!=="polarArea"||this.animate(w.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":x.strokeWidth}),u.i===w.config.series.length-1&&S.animationCompleted(n)}).during(function(_){P=z+(A-z)*_,u.animateStartingPos&&(P=h+(A-h)*_,R=i-h+(c-(i-h))*_),p=x.getPiePath({me:x,startAngle:R,angle:P,size:B}),n.node.setAttribute("data:pathOrig",p),n.attr({d:p})}):(p=x.getPiePath({me:x,startAngle:R,angle:A,size:B}),u.isTrack||(w.globals.animationEnded=!0),n.node.setAttribute("data:pathOrig",p),n.attr({d:p,"stroke-width":x.strokeWidth}))}},{key:"pieClicked",value:function(n){var i,c=this.w,A=this,h=A.sliceSizes[n]+(c.config.plotOptions.pie.expandOnClick?4:0),u=c.globals.dom.Paper.select(".apexcharts-".concat(A.chartType.toLowerCase(),"-slice-").concat(n)).members[0];if(u.attr("data:pieClicked")!=="true"){var p=c.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(p,function(B){B.setAttribute("data:pieClicked","false");var P=B.getAttribute("data:pathOrig");P&&B.setAttribute("d",P)}),c.globals.capturedDataPointIndex=n,u.attr("data:pieClicked","true");var x=parseInt(u.attr("data:startAngle"),10),w=parseInt(u.attr("data:angle"),10);i=A.getPiePath({me:A,startAngle:x,angle:w,size:h}),w!==360&&u.plot(i)}else{u.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(u.node,this.donutDataLabels);var S=u.attr("data:pathOrig");u.attr({d:S})}}},{key:"getChangedPath",value:function(n,i){var c="";return this.dynamicAnim&&this.w.globals.dataChanged&&(c=this.getPiePath({me:this,startAngle:n,angle:i-n,size:this.size})),c}},{key:"getPiePath",value:function(n){var i,c=n.me,A=n.startAngle,h=n.angle,u=n.size,p=new V(this.ctx),x=A,w=Math.PI*(x-90)/180,S=h+A;Math.ceil(S)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(S=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(S)>this.fullAngle&&(S-=this.fullAngle);var B=Math.PI*(S-90)/180,P=c.centerX+u*Math.cos(w),R=c.centerY+u*Math.sin(w),z=c.centerX+u*Math.cos(B),_=c.centerY+u*Math.sin(B),Z=M.polarToCartesian(c.centerX,c.centerY,c.donutSize,S),ee=M.polarToCartesian(c.centerX,c.centerY,c.donutSize,x),ae=h>180?1:0,b=["M",P,R,"A",u,u,0,ae,1,z,_];return i=c.chartType==="donut"?[].concat(b,["L",Z.x,Z.y,"A",c.donutSize,c.donutSize,0,ae,0,ee.x,ee.y,"L",P,R,"z"]).join(" "):c.chartType==="pie"||c.chartType==="polarArea"?[].concat(b,["L",c.centerX,c.centerY,"L",P,R]).join(" "):[].concat(b).join(" "),p.roundPathCorners(i,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(n){var i=this.w,c=new We(this.ctx),A=new V(this.ctx),h=new zs(this.ctx),u=A.group(),p=A.group(),x=c.niceScale(0,Math.ceil(this.maxY),0),w=x.result.reverse(),S=x.result.length;this.maxY=x.niceMax;for(var B=i.globals.radialSize,P=B/(S-1),R=0;R<S-1;R++){var z=A.drawCircle(B);if(z.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":i.config.plotOptions.polarArea.rings.strokeWidth,stroke:i.config.plotOptions.polarArea.rings.strokeColor}),i.config.yaxis[0].show){var _=h.drawYAxisTexts(this.centerX,this.centerY-B+parseInt(i.config.yaxis[0].labels.style.fontSize,10)/2,R,w[R]);p.add(_)}u.add(z),B-=P}this.drawSpokes(n),n.add(u),n.add(p)}},{key:"renderInnerDataLabels",value:function(n,i,c){var A=this.w,h=new V(this.ctx),u=i.total.show;n.node.innerHTML="",n.node.style.opacity=c.opacity;var p,x,w=c.centerX,S=this.donutDataLabels.total.label?c.centerY:c.centerY-c.centerY/6;p=i.name.color===void 0?A.globals.colors[0]:i.name.color;var B=i.name.fontSize,P=i.name.fontFamily,R=i.name.fontWeight;x=i.value.color===void 0?A.config.chart.foreColor:i.value.color;var z=i.value.formatter,_="",Z="";if(u?(p=i.total.color,B=i.total.fontSize,P=i.total.fontFamily,R=i.total.fontWeight,Z=this.donutDataLabels.total.label?i.total.label:"",_=i.total.formatter(A)):A.globals.series.length===1&&(_=z(A.globals.series[0],A),Z=A.globals.seriesNames[0]),Z&&(Z=i.name.formatter(Z,i.total.show,A)),i.name.show){var ee=h.drawText({x:w,y:S+parseFloat(i.name.offsetY),text:Z,textAnchor:"middle",foreColor:p,fontSize:B,fontWeight:R,fontFamily:P});ee.node.classList.add("apexcharts-datalabel-label"),n.add(ee)}if(i.value.show){var ae=i.name.show?parseFloat(i.value.offsetY)+16:i.value.offsetY,b=h.drawText({x:w,y:S+ae,text:_,textAnchor:"middle",foreColor:x,fontWeight:i.value.fontWeight,fontSize:i.value.fontSize,fontFamily:i.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),n.add(b)}return n}},{key:"printInnerLabels",value:function(n,i,c,A){var h,u=this.w;A?h=n.name.color===void 0?u.globals.colors[parseInt(A.parentNode.getAttribute("rel"),10)-1]:n.name.color:u.globals.series.length>1&&n.total.show&&(h=n.total.color);var p=u.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),x=u.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");c=(0,n.value.formatter)(c,u),A||typeof n.total.formatter!="function"||(c=n.total.formatter(u));var w=i===n.total.label;i=this.donutDataLabels.total.label?n.name.formatter(i,w,u):"",p!==null&&(p.textContent=i),x!==null&&(x.textContent=c),p!==null&&(p.style.fill=h)}},{key:"printDataLabelsInner",value:function(n,i){var c=this.w,A=n.getAttribute("data:value"),h=c.globals.seriesNames[parseInt(n.parentNode.getAttribute("rel"),10)-1];c.globals.series.length>1&&this.printInnerLabels(i,h,A,n);var u=c.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");u!==null&&(u.style.opacity=1)}},{key:"drawSpokes",value:function(n){var i=this,c=this.w,A=new V(this.ctx),h=c.config.plotOptions.polarArea.spokes;if(h.strokeWidth!==0){for(var u=[],p=360/c.globals.series.length,x=0;x<c.globals.series.length;x++)u.push(M.polarToCartesian(this.centerX,this.centerY,c.globals.radialSize,c.config.plotOptions.pie.startAngle+p*x));u.forEach(function(w,S){var B=A.drawLine(w.x,w.y,i.centerX,i.centerY,Array.isArray(h.connectorColors)?h.connectorColors[S]:h.connectorColors);n.add(B)})}}},{key:"revertDataLabelsInner",value:function(){var n=this.w;if(this.donutDataLabels.show){var i=n.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0],c=this.renderInnerDataLabels(i,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});n.globals.dom.Paper.select(".apexcharts-radialbar, .apexcharts-pie").members[0].add(c)}}}]),te}(),Dt=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var i=this.w;this.graphics=new V(this.ctx),this.lineColorArr=i.globals.stroke.colors!==void 0?i.globals.stroke.colors:i.globals.colors,this.defaultSize=i.globals.svgHeight<i.globals.svgWidth?i.globals.gridHeight:i.globals.gridWidth,this.isLog=i.config.yaxis[0].logarithmic,this.logBase=i.config.yaxis[0].logBase,this.coreUtils=new ue(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,i.globals.maxY,0):i.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):i.globals.minY,this.polygons=i.config.plotOptions.radar.polygons,this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-i.config.chart.dropShadow.blur,i.config.xaxis.labels.show&&(this.size=this.size-i.globals.xAxisLabelsWidth/1.75),i.config.plotOptions.radar.size!==void 0&&(this.size=i.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return d(te,[{key:"draw",value:function(n){var i=this,c=this.w,A=new Se(this.ctx),h=[],u=new Qe(this.ctx);n.length&&(this.dataPointsLen=n[c.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var p=c.globals.gridWidth/2,x=c.globals.gridHeight/2,w=p+c.config.plotOptions.radar.offsetX,S=x+c.config.plotOptions.radar.offsetY,B=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(w||0,", ").concat(S||0,")")}),P=[],R=null,z=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),n.forEach(function(Z,ee){var ae=Z.length===c.globals.dataPoints,b=i.graphics.group().attr({class:"apexcharts-series","data:longestSeries":ae,seriesName:M.escapeString(c.globals.seriesNames[ee]),rel:ee+1,"data:realIndex":ee});i.dataRadiusOfPercent[ee]=[],i.dataRadius[ee]=[],i.angleArr[ee]=[],Z.forEach(function(Ge,Je){var ot=Math.abs(i.maxValue-i.minValue);Ge-=i.minValue,i.isLog&&(Ge=i.coreUtils.getLogVal(i.logBase,Ge,0)),i.dataRadiusOfPercent[ee][Je]=Ge/ot,i.dataRadius[ee][Je]=i.dataRadiusOfPercent[ee][Je]*i.size,i.angleArr[ee][Je]=Je*i.disAngle}),P=i.getDataPointsPos(i.dataRadius[ee],i.angleArr[ee]);var Q=i.createPaths(P,{x:0,y:0});R=i.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),z=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":ee}),c.globals.delayedElements.push({el:R.node,index:ee});var K={i:ee,realIndex:ee,animationDelay:ee,initialSpeed:c.config.chart.animations.speed,dataChangeSpeed:c.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:c.globals.stroke.colors[ee],strokeLineCap:c.config.stroke.lineCap},ge=null;c.globals.previousPaths.length>0&&(ge=i.getPreviousPath(ee));for(var se=0;se<Q.linePathsTo.length;se++){var me=i.graphics.renderPaths(U(U({},K),{},{pathFrom:ge===null?Q.linePathsFrom[se]:ge,pathTo:Q.linePathsTo[se],strokeWidth:Array.isArray(i.strokeWidth)?i.strokeWidth[ee]:i.strokeWidth,fill:"none",drawShadow:!1}));b.add(me);var Fe=A.fillPath({seriesNumber:ee}),Le=i.graphics.renderPaths(U(U({},K),{},{pathFrom:ge===null?Q.areaPathsFrom[se]:ge,pathTo:Q.areaPathsTo[se],strokeWidth:0,fill:Fe,drawShadow:!1}));if(c.config.chart.dropShadow.enabled){var Oe=new G(i.ctx),$e=c.config.chart.dropShadow;Oe.dropShadow(Le,Object.assign({},$e,{noUserSpaceOnUse:!0}),ee)}b.add(Le)}Z.forEach(function(Ge,Je){var ot=new Ie(i.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:ee,dataPointIndex:Je}),ft=i.graphics.drawMarker(P[Je].x,P[Je].y,ot);ft.attr("rel",Je),ft.attr("j",Je),ft.attr("index",ee),ft.node.setAttribute("default-marker-size",ot.pSize);var vt=i.graphics.group({class:"apexcharts-series-markers"});vt&&vt.add(ft),R.add(vt),b.add(R);var It=c.config.dataLabels;if(It.enabled){var Ft=It.formatter(c.globals.series[ee][Je],{seriesIndex:ee,dataPointIndex:Je,w:c});u.plotDataLabelsText({x:P[Je].x,y:P[Je].y,text:Ft,textAnchor:"middle",i:ee,j:ee,parent:z,offsetCorrection:!1,dataLabelsConfig:U({},It)})}b.add(z)}),h.push(b)}),this.drawPolygons({parent:B}),c.config.xaxis.labels.show){var _=this.drawXAxisTexts();B.add(_)}return h.forEach(function(Z){B.add(Z)}),B.add(this.yaxisLabels),B}},{key:"drawPolygons",value:function(n){for(var i=this,c=this.w,A=n.parent,h=new zs(this.ctx),u=c.globals.yAxisScale[0].result.reverse(),p=u.length,x=[],w=this.size/(p-1),S=0;S<p;S++)x[S]=w*S;x.reverse();var B=[],P=[];x.forEach(function(R,z){var _=M.getPolygonPos(R,i.dataPointsLen),Z="";_.forEach(function(ee,ae){if(z===0){var b=i.graphics.drawLine(ee.x,ee.y,0,0,Array.isArray(i.polygons.connectorColors)?i.polygons.connectorColors[ae]:i.polygons.connectorColors);P.push(b)}ae===0&&i.yaxisLabelsTextsPos.push({x:ee.x,y:ee.y}),Z+=ee.x+","+ee.y+" "}),B.push(Z)}),B.forEach(function(R,z){var _=i.polygons.strokeColors,Z=i.polygons.strokeWidth,ee=i.graphics.drawPolygon(R,Array.isArray(_)?_[z]:_,Array.isArray(Z)?Z[z]:Z,c.globals.radarPolygons.fill.colors[z]);A.add(ee)}),P.forEach(function(R){A.add(R)}),c.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(R,z){var _=h.drawYAxisTexts(R.x,R.y,z,u[z]);i.yaxisLabels.add(_)})}},{key:"drawXAxisTexts",value:function(){var n=this,i=this.w,c=i.config.xaxis.labels,A=this.graphics.group({class:"apexcharts-xaxis"}),h=M.getPolygonPos(this.size,this.dataPointsLen);return i.globals.labels.forEach(function(u,p){var x=i.config.xaxis.labels.formatter,w=new Qe(n.ctx);if(h[p]){var S=n.getTextPos(h[p],n.size),B=x(u,{seriesIndex:-1,dataPointIndex:p,w:i});w.plotDataLabelsText({x:S.newX,y:S.newY,text:B,textAnchor:S.textAnchor,i:p,j:p,parent:A,className:"apexcharts-xaxis-label",color:Array.isArray(c.style.colors)&&c.style.colors[p]?c.style.colors[p]:"#a8a8a8",dataLabelsConfig:U({textAnchor:S.textAnchor,dropShadow:{enabled:!1}},c),offsetCorrection:!1}).on("click",function(P){if(typeof i.config.chart.events.xAxisLabelClick=="function"){var R=Object.assign({},i,{labelIndex:p});i.config.chart.events.xAxisLabelClick(P,n.ctx,R)}})}}),A}},{key:"createPaths",value:function(n,i){var c=this,A=[],h=[],u=[],p=[];if(n.length){h=[this.graphics.move(i.x,i.y)],p=[this.graphics.move(i.x,i.y)];var x=this.graphics.move(n[0].x,n[0].y),w=this.graphics.move(n[0].x,n[0].y);n.forEach(function(S,B){x+=c.graphics.line(S.x,S.y),w+=c.graphics.line(S.x,S.y),B===n.length-1&&(x+="Z",w+="Z")}),A.push(x),u.push(w)}return{linePathsFrom:h,linePathsTo:A,areaPathsFrom:p,areaPathsTo:u}}},{key:"getTextPos",value:function(n,i){var c="middle",A=n.x,h=n.y;return Math.abs(n.x)>=10?n.x>0?(c="start",A+=10):n.x<0&&(c="end",A-=10):c="middle",Math.abs(n.y)>=i-10&&(n.y<0?h-=10:n.y>0&&(h+=10)),{textAnchor:c,newX:A,newY:h}}},{key:"getPreviousPath",value:function(n){for(var i=this.w,c=null,A=0;A<i.globals.previousPaths.length;A++){var h=i.globals.previousPaths[A];h.paths.length>0&&parseInt(h.realIndex,10)===parseInt(n,10)&&i.globals.previousPaths[A].paths[0]!==void 0&&(c=i.globals.previousPaths[A].paths[0].d)}return c}},{key:"getDataPointsPos",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;n=n||[],i=i||[];for(var A=[],h=0;h<c;h++){var u={};u.x=n[h]*Math.sin(i[h]),u.y=-n[h]*Math.cos(i[h]),A.push(u)}return A}}]),te}(),Gs=function(te){N(i,Vs);var n=f(i);function i(c){var A;o(this,i),(A=n.call(this,c)).ctx=c,A.w=c.w,A.animBeginArr=[0],A.animDur=0;var h=A.w;return A.startAngle=h.config.plotOptions.radialBar.startAngle,A.endAngle=h.config.plotOptions.radialBar.endAngle,A.totalAngle=Math.abs(h.config.plotOptions.radialBar.endAngle-h.config.plotOptions.radialBar.startAngle),A.trackStartAngle=h.config.plotOptions.radialBar.track.startAngle,A.trackEndAngle=h.config.plotOptions.radialBar.track.endAngle,A.barLabels=A.w.config.plotOptions.radialBar.barLabels,A.donutDataLabels=A.w.config.plotOptions.radialBar.dataLabels,A.radialDataLabels=A.donutDataLabels,A.trackStartAngle||(A.trackStartAngle=A.startAngle),A.trackEndAngle||(A.trackEndAngle=A.endAngle),A.endAngle===360&&(A.endAngle=359.99),A.margin=parseInt(h.config.plotOptions.radialBar.track.margin,10),A.onBarLabelClick=A.onBarLabelClick.bind(s(A)),A}return d(i,[{key:"draw",value:function(c){var A=this.w,h=new V(this.ctx),u=h.group({class:"apexcharts-radialbar"});if(A.globals.noData)return u;var p=h.group(),x=this.defaultSize/2,w=A.globals.gridWidth/2,S=this.defaultSize/2.05;A.config.chart.sparkline.enabled||(S=S-A.config.stroke.width-A.config.chart.dropShadow.blur);var B=A.globals.fill.colors;if(A.config.plotOptions.radialBar.track.show){var P=this.drawTracks({size:S,centerX:w,centerY:x,colorArr:B,series:c});p.add(P)}var R=this.drawArcs({size:S,centerX:w,centerY:x,colorArr:B,series:c}),z=360;A.config.plotOptions.radialBar.startAngle<0&&(z=this.totalAngle);var _=(360-z)/360;if(A.globals.radialSize=S-S*_,this.radialDataLabels.value.show){var Z=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);A.globals.radialSize+=Z*_}return p.add(R.g),A.config.plotOptions.radialBar.hollow.position==="front"&&(R.g.add(R.elHollow),R.dataLabels&&R.g.add(R.dataLabels)),u.add(p),u}},{key:"drawTracks",value:function(c){var A=this.w,h=new V(this.ctx),u=h.group({class:"apexcharts-tracks"}),p=new G(this.ctx),x=new Se(this.ctx),w=this.getStrokeWidth(c);c.size=c.size-w/2;for(var S=0;S<c.series.length;S++){var B=h.group({class:"apexcharts-radialbar-track apexcharts-track"});u.add(B),B.attr({rel:S+1}),c.size=c.size-w-this.margin;var P=A.config.plotOptions.radialBar.track,R=x.fillPath({seriesNumber:0,size:c.size,fillColors:Array.isArray(P.background)?P.background[S]:P.background,solid:!0}),z=this.trackStartAngle,_=this.trackEndAngle;Math.abs(_)+Math.abs(z)>=360&&(_=360-Math.abs(this.startAngle)-.1);var Z=h.drawPath({d:"",stroke:R,strokeWidth:w*parseInt(P.strokeWidth,10)/100,fill:"none",strokeOpacity:P.opacity,classes:"apexcharts-radialbar-area"});if(P.dropShadow.enabled){var ee=P.dropShadow;p.dropShadow(Z,ee)}B.add(Z),Z.attr("id","apexcharts-radialbarTrack-"+S),this.animatePaths(Z,{centerX:c.centerX,centerY:c.centerY,endAngle:_,startAngle:z,size:c.size,i:S,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:A.globals.easing})}return u}},{key:"drawArcs",value:function(c){var A=this.w,h=new V(this.ctx),u=new Se(this.ctx),p=new G(this.ctx),x=h.group(),w=this.getStrokeWidth(c);c.size=c.size-w/2;var S=A.config.plotOptions.radialBar.hollow.background,B=c.size-w*c.series.length-this.margin*c.series.length-w*parseInt(A.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,P=B-A.config.plotOptions.radialBar.hollow.margin;A.config.plotOptions.radialBar.hollow.image!==void 0&&(S=this.drawHollowImage(c,x,B,S));var R=this.drawHollow({size:P,centerX:c.centerX,centerY:c.centerY,fill:S||"transparent"});if(A.config.plotOptions.radialBar.hollow.dropShadow.enabled){var z=A.config.plotOptions.radialBar.hollow.dropShadow;p.dropShadow(R,z)}var _=1;!this.radialDataLabels.total.show&&A.globals.series.length>1&&(_=0);var Z=null;if(this.radialDataLabels.show){var ee=A.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0];Z=this.renderInnerDataLabels(ee,this.radialDataLabels,{hollowSize:B,centerX:c.centerX,centerY:c.centerY,opacity:_})}A.config.plotOptions.radialBar.hollow.position==="back"&&(x.add(R),Z&&x.add(Z));var ae=!1;A.config.plotOptions.radialBar.inverseOrder&&(ae=!0);for(var b=ae?c.series.length-1:0;ae?b>=0:b<c.series.length;ae?b--:b++){var Q=h.group({class:"apexcharts-series apexcharts-radial-series",seriesName:M.escapeString(A.globals.seriesNames[b])});x.add(Q),Q.attr({rel:b+1,"data:realIndex":b}),this.ctx.series.addCollapsedClassToSeries(Q,b),c.size=c.size-w-this.margin;var K=u.fillPath({seriesNumber:b,size:c.size,value:c.series[b]}),ge=this.startAngle,se=void 0,me=M.negToZero(c.series[b]>100?100:c.series[b])/100,Fe=Math.round(this.totalAngle*me)+this.startAngle,Le=void 0;A.globals.dataChanged&&(se=this.startAngle,Le=Math.round(this.totalAngle*M.negToZero(A.globals.previousPaths[b])/100)+se),Math.abs(Fe)+Math.abs(ge)>360&&(Fe-=.01),Math.abs(Le)+Math.abs(se)>360&&(Le-=.01);var Oe=Fe-ge,$e=Array.isArray(A.config.stroke.dashArray)?A.config.stroke.dashArray[b]:A.config.stroke.dashArray,Ge=h.drawPath({d:"",stroke:K,strokeWidth:w,fill:"none",fillOpacity:A.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+b,strokeDashArray:$e});if(V.setAttrs(Ge.node,{"data:angle":Oe,"data:value":c.series[b]}),A.config.chart.dropShadow.enabled){var Je=A.config.chart.dropShadow;p.dropShadow(Ge,Je,b)}if(p.setSelectionFilter(Ge,0,b),this.addListeners(Ge,this.radialDataLabels),Q.add(Ge),Ge.attr({index:0,j:b}),this.barLabels.enabled){var ot=M.polarToCartesian(c.centerX,c.centerY,c.size,ge),ft=this.barLabels.formatter(A.globals.seriesNames[b],{seriesIndex:b,w:A}),vt=["apexcharts-radialbar-label"];this.barLabels.onClick||vt.push("apexcharts-no-click");var It=this.barLabels.useSeriesColors?A.globals.colors[b]:A.config.chart.foreColor;It||(It=A.config.chart.foreColor);var Ft=ot.x+this.barLabels.offsetX,Pt=ot.y+this.barLabels.offsetY,Kt=h.drawText({x:Ft,y:Pt,text:ft,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:It,cssClass:vt.join(" ")});Kt.on("click",this.onBarLabelClick),Kt.attr({rel:b+1}),ge!==0&&Kt.attr({"transform-origin":"".concat(Ft," ").concat(Pt),transform:"rotate(".concat(ge," 0 0)")}),Q.add(Kt)}var kt=0;!this.initialAnim||A.globals.resized||A.globals.dataChanged||(kt=A.config.chart.animations.speed),A.globals.dataChanged&&(kt=A.config.chart.animations.dynamicAnimation.speed),this.animDur=kt/(1.2*c.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Ge,{centerX:c.centerX,centerY:c.centerY,endAngle:Fe,startAngle:ge,prevEndAngle:Le,prevStartAngle:se,size:c.size,i:b,totalItems:2,animBeginArr:this.animBeginArr,dur:kt,shouldSetPrevPaths:!0,easing:A.globals.easing})}return{g:x,elHollow:R,dataLabels:Z}}},{key:"drawHollow",value:function(c){var A=new V(this.ctx).drawCircle(2*c.size);return A.attr({class:"apexcharts-radialbar-hollow",cx:c.centerX,cy:c.centerY,r:c.size,fill:c.fill}),A}},{key:"drawHollowImage",value:function(c,A,h,u){var p=this.w,x=new Se(this.ctx),w=M.randomId(),S=p.config.plotOptions.radialBar.hollow.image;if(p.config.plotOptions.radialBar.hollow.imageClipped)x.clippedImgArea({width:h,height:h,image:S,patternID:"pattern".concat(p.globals.cuid).concat(w)}),u="url(#pattern".concat(p.globals.cuid).concat(w,")");else{var B=p.config.plotOptions.radialBar.hollow.imageWidth,P=p.config.plotOptions.radialBar.hollow.imageHeight;if(B===void 0&&P===void 0){var R=p.globals.dom.Paper.image(S).loaded(function(_){this.move(c.centerX-_.width/2+p.config.plotOptions.radialBar.hollow.imageOffsetX,c.centerY-_.height/2+p.config.plotOptions.radialBar.hollow.imageOffsetY)});A.add(R)}else{var z=p.globals.dom.Paper.image(S).loaded(function(_){this.move(c.centerX-B/2+p.config.plotOptions.radialBar.hollow.imageOffsetX,c.centerY-P/2+p.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(B,P)});A.add(z)}}return u}},{key:"getStrokeWidth",value:function(c){var A=this.w;return c.size*(100-parseInt(A.config.plotOptions.radialBar.hollow.size,10))/100/(c.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(c){var A=parseInt(c.target.getAttribute("rel"),10)-1,h=this.barLabels.onClick,u=this.w;h&&h(u.globals.seriesNames[A],{w:u,seriesIndex:A})}}]),i}(),un=function(te){N(i,br);var n=f(i);function i(){return o(this,i),n.apply(this,arguments)}return d(i,[{key:"draw",value:function(c,A){var h=this.w,u=new V(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=c,this.seriesRangeStart=h.globals.seriesRangeStart,this.seriesRangeEnd=h.globals.seriesRangeEnd,this.barHelpers.initVariables(c);for(var p=u.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),x=0;x<c.length;x++){var w,S,B,P,R=void 0,z=void 0,_=h.globals.comboCharts?A[x]:x,Z=this.barHelpers.getGroupIndex(_).columnGroupIndex,ee=u.group({class:"apexcharts-series",seriesName:M.escapeString(h.globals.seriesNames[_]),rel:x+1,"data:realIndex":_});this.ctx.series.addCollapsedClassToSeries(ee,_),c[x].length>0&&(this.visibleI=this.visibleI+1);var ae=0,b=0,Q=0;this.yRatio.length>1&&(this.yaxisIndex=h.globals.seriesYAxisReverseMap[_][0],Q=_);var K=this.barHelpers.initialPositions();z=K.y,P=K.zeroW,R=K.x,b=K.barWidth,ae=K.barHeight,w=K.xDivision,S=K.yDivision,B=K.zeroH;for(var ge=u.group({class:"apexcharts-datalabels","data:realIndex":_}),se=u.group({class:"apexcharts-rangebar-goals-markers"}),me=0;me<h.globals.dataPoints;me++){var Fe=this.barHelpers.getStrokeWidth(x,me,_),Le=this.seriesRangeStart[x][me],Oe=this.seriesRangeEnd[x][me],$e=null,Ge=null,Je=null,ot={x:R,y:z,strokeWidth:Fe,elSeries:ee},ft=this.seriesLen;if(h.config.plotOptions.bar.rangeBarGroupRows&&(ft=1),h.config.series[x].data[me]===void 0)break;if(this.isHorizontal){Je=z+ae*this.visibleI;var vt=(S-ae*ft)/2;if(h.config.series[x].data[me].x){var It=this.detectOverlappingBars({i:x,j:me,barYPosition:Je,srty:vt,barHeight:ae,yDivision:S,initPositions:K});ae=It.barHeight,Je=It.barYPosition}b=($e=this.drawRangeBarPaths(U({indexes:{i:x,j:me,realIndex:_},barHeight:ae,barYPosition:Je,zeroW:P,yDivision:S,y1:Le,y2:Oe},ot))).barWidth}else{h.globals.isXNumeric&&(R=(h.globals.seriesX[x][me]-h.globals.minX)/this.xRatio-b/2),Ge=R+b*this.visibleI;var Ft=(w-b*ft)/2;if(h.config.series[x].data[me].x){var Pt=this.detectOverlappingBars({i:x,j:me,barXPosition:Ge,srtx:Ft,barWidth:b,xDivision:w,initPositions:K});b=Pt.barWidth,Ge=Pt.barXPosition}ae=($e=this.drawRangeColumnPaths(U({indexes:{i:x,j:me,realIndex:_,translationsIndex:Q},barWidth:b,barXPosition:Ge,zeroH:B,xDivision:w},ot))).barHeight}var Kt=this.barHelpers.drawGoalLine({barXPosition:$e.barXPosition,barYPosition:Je,goalX:$e.goalX,goalY:$e.goalY,barHeight:ae,barWidth:b});Kt&&se.add(Kt),z=$e.y,R=$e.x;var kt=this.barHelpers.getPathFillColor(c,x,me,_),Br=h.globals.stroke.colors[_];this.renderSeries({realIndex:_,pathFill:kt,lineFill:Br,j:me,i:x,x:R,y:z,y1:Le,y2:Oe,pathFrom:$e.pathFrom,pathTo:$e.pathTo,strokeWidth:Fe,elSeries:ee,series:c,barHeight:ae,barWidth:b,barXPosition:Ge,barYPosition:Je,columnGroupIndex:Z,elDataLabelsWrap:ge,elGoalsMarkers:se,visibleSeries:this.visibleI,type:"rangebar"})}p.add(ee)}return p}},{key:"detectOverlappingBars",value:function(c){var A=c.i,h=c.j,u=c.barYPosition,p=c.barXPosition,x=c.srty,w=c.srtx,S=c.barHeight,B=c.barWidth,P=c.yDivision,R=c.xDivision,z=c.initPositions,_=this.w,Z=[],ee=_.config.series[A].data[h].rangeName,ae=_.config.series[A].data[h].x,b=Array.isArray(ae)?ae.join(" "):ae,Q=_.globals.labels.map(function(ge){return Array.isArray(ge)?ge.join(" "):ge}).indexOf(b),K=_.globals.seriesRange[A].findIndex(function(ge){return ge.x===b&&ge.overlaps.length>0});return this.isHorizontal?(u=_.config.plotOptions.bar.rangeBarGroupRows?x+P*Q:x+S*this.visibleI+P*Q,K>-1&&!_.config.plotOptions.bar.rangeBarOverlap&&(Z=_.globals.seriesRange[A][K].overlaps).indexOf(ee)>-1&&(u=(S=z.barHeight/Z.length)*this.visibleI+P*(100-parseInt(this.barOptions.barHeight,10))/100/2+S*(this.visibleI+Z.indexOf(ee))+P*Q)):(Q>-1&&!_.globals.timescaleLabels.length&&(p=_.config.plotOptions.bar.rangeBarGroupRows?w+R*Q:w+B*this.visibleI+R*Q),K>-1&&!_.config.plotOptions.bar.rangeBarOverlap&&(Z=_.globals.seriesRange[A][K].overlaps).indexOf(ee)>-1&&(p=(B=z.barWidth/Z.length)*this.visibleI+R*(100-parseInt(this.barOptions.barWidth,10))/100/2+B*(this.visibleI+Z.indexOf(ee))+R*Q)),{barYPosition:u,barXPosition:p,barHeight:S,barWidth:B}}},{key:"drawRangeColumnPaths",value:function(c){var A=c.indexes,h=c.x,u=c.xDivision,p=c.barWidth,x=c.barXPosition,w=c.zeroH,S=this.w,B=A.i,P=A.j,R=A.realIndex,z=A.translationsIndex,_=this.yRatio[z],Z=this.getRangeValue(R,P),ee=Math.min(Z.start,Z.end),ae=Math.max(Z.start,Z.end);this.series[B][P]===void 0||this.series[B][P]===null?ee=w:(ee=w-ee/_,ae=w-ae/_);var b=Math.abs(ae-ee),Q=this.barHelpers.getColumnPaths({barXPosition:x,barWidth:p,y1:ee,y2:ae,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:R,i:R,j:P,w:S});if(S.globals.isXNumeric){var K=this.getBarXForNumericXAxis({x:h,j:P,realIndex:R,barWidth:p});h=K.x,x=K.barXPosition}else h+=u;return{pathTo:Q.pathTo,pathFrom:Q.pathFrom,barHeight:b,x:h,y:Z.start<0&&Z.end<0?ee:ae,goalY:this.barHelpers.getGoalValues("y",null,w,B,P,z),barXPosition:x}}},{key:"preventBarOverflow",value:function(c){var A=this.w;return c<0&&(c=0),c>A.globals.gridWidth&&(c=A.globals.gridWidth),c}},{key:"drawRangeBarPaths",value:function(c){var A=c.indexes,h=c.y,u=c.y1,p=c.y2,x=c.yDivision,w=c.barHeight,S=c.barYPosition,B=c.zeroW,P=this.w,R=A.realIndex,z=A.j,_=this.preventBarOverflow(B+u/this.invertedYRatio),Z=this.preventBarOverflow(B+p/this.invertedYRatio),ee=this.getRangeValue(R,z),ae=Math.abs(Z-_),b=this.barHelpers.getBarpaths({barYPosition:S,barHeight:w,x1:_,x2:Z,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:R,realIndex:R,j:z,w:P});return P.globals.isXNumeric||(h+=x),{pathTo:b.pathTo,pathFrom:b.pathFrom,barWidth:ae,x:ee.start<0&&ee.end<0?_:Z,goalX:this.barHelpers.getGoalValues("x",B,null,R,z),y:h}}},{key:"getRangeValue",value:function(c,A){var h=this.w;return{start:h.globals.seriesRangeStart[c][A],end:h.globals.seriesRangeEnd[c][A]}}}]),i}(),qa=function(){function te(n){o(this,te),this.w=n.w,this.lineCtx=n}return d(te,[{key:"sameValueSeriesFix",value:function(n,i){var c=this.w;if((c.config.fill.type==="gradient"||c.config.fill.type[n]==="gradient")&&new ue(this.lineCtx.ctx,c).seriesHaveSameValues(n)){var A=i[n].slice();A[A.length-1]=A[A.length-1]+1e-6,i[n]=A}return i}},{key:"calculatePoints",value:function(n){var i=n.series,c=n.realIndex,A=n.x,h=n.y,u=n.i,p=n.j,x=n.prevY,w=this.w,S=[],B=[];if(p===0){var P=this.lineCtx.categoryAxisCorrection+w.config.markers.offsetX;w.globals.isXNumeric&&(P=(w.globals.seriesX[c][0]-w.globals.minX)/this.lineCtx.xRatio+w.config.markers.offsetX),S.push(P),B.push(M.isNumber(i[u][0])?x+w.config.markers.offsetY:null),S.push(A+w.config.markers.offsetX),B.push(M.isNumber(i[u][p+1])?h+w.config.markers.offsetY:null)}else S.push(A+w.config.markers.offsetX),B.push(M.isNumber(i[u][p+1])?h+w.config.markers.offsetY:null);return{x:S,y:B}}},{key:"checkPreviousPaths",value:function(n){for(var i=n.pathFromLine,c=n.pathFromArea,A=n.realIndex,h=this.w,u=0;u<h.globals.previousPaths.length;u++){var p=h.globals.previousPaths[u];(p.type==="line"||p.type==="area")&&p.paths.length>0&&parseInt(p.realIndex,10)===parseInt(A,10)&&(p.type==="line"?(this.lineCtx.appendPathFrom=!1,i=h.globals.previousPaths[u].paths[0].d):p.type==="area"&&(this.lineCtx.appendPathFrom=!1,c=h.globals.previousPaths[u].paths[0].d,h.config.stroke.show&&h.globals.previousPaths[u].paths[1]&&(i=h.globals.previousPaths[u].paths[1].d)))}return{pathFromLine:i,pathFromArea:c}}},{key:"determineFirstPrevY",value:function(n){var i,c,A,h=n.i,u=n.realIndex,p=n.series,x=n.prevY,w=n.lineYPosition,S=n.translationsIndex,B=this.w,P=B.config.chart.stacked&&!B.globals.comboCharts||B.config.chart.stacked&&B.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((i=this.w.config.series[u])===null||i===void 0?void 0:i.type)==="bar"||((c=this.w.config.series[u])===null||c===void 0?void 0:c.type)==="column");if(((A=p[h])===null||A===void 0?void 0:A[0])!==void 0)x=(w=P&&h>0?this.lineCtx.prevSeriesY[h-1][0]:this.lineCtx.zeroY)-p[h][0]/this.lineCtx.yRatio[S]+2*(this.lineCtx.isReversed?p[h][0]/this.lineCtx.yRatio[S]:0);else if(P&&h>0&&p[h][0]===void 0){for(var R=h-1;R>=0;R--)if(p[R][0]!==null&&p[R][0]!==void 0){x=w=this.lineCtx.prevSeriesY[R][0];break}}return{prevY:x,lineYPosition:w}}}]),te}(),ra=function(te){for(var n,i,c,A,h=function(S){for(var B=[],P=S[0],R=S[1],z=B[0]=ii(P,R),_=1,Z=S.length-1;_<Z;_++)P=R,R=S[_+1],B[_]=.5*(z+(z=ii(P,R)));return B[_]=z,B}(te),u=te.length-1,p=[],x=0;x<u;x++)c=ii(te[x],te[x+1]),Math.abs(c)<1e-6?h[x]=h[x+1]=0:(A=(n=h[x]/c)*n+(i=h[x+1]/c)*i)>9&&(A=3*c/Math.sqrt(A),h[x]=A*n,h[x+1]=A*i);for(var w=0;w<=u;w++)A=(te[Math.min(u,w+1)][0]-te[Math.max(0,w-1)][0])/(6*(1+h[w]*h[w])),p.push([A||0,h[w]*A||0]);return p},Yr=function(te){var n=ra(te),i=te[1],c=te[0],A=[],h=n[1],u=n[0];A.push(c,[c[0]+u[0],c[1]+u[1],i[0]-h[0],i[1]-h[1],i[0],i[1]]);for(var p=2,x=n.length;p<x;p++){var w=te[p],S=n[p];A.push([w[0]-S[0],w[1]-S[1],w[0],w[1]])}return A},ds=function(te,n,i){var c=te.slice(n,i);if(n){if(i-n>1&&c[1].length<6){var A=c[0].length;c[1]=[2*c[0][A-2]-c[0][A-4],2*c[0][A-1]-c[0][A-3]].concat(c[1])}c[0]=c[0].slice(-2)}return c};function ii(te,n){return(n[1]-te[1])/(n[0]-te[0])}var qs=function(){function te(n,i,c){o(this,te),this.ctx=n,this.w=n.w,this.xyRatios=i,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||c,this.scatter=new ke(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new qa(this),this.markers=new Ie(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return d(te,[{key:"draw",value:function(n,i,c,A){var h,u=this.w,p=new V(this.ctx),x=u.globals.comboCharts?i:u.config.chart.type,w=p.group({class:"apexcharts-".concat(x,"-series apexcharts-plot-series")}),S=new ue(this.ctx,u);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,n=S.getLogSeries(n),this.yRatio=S.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var B=[],P=0;P<n.length;P++){n=this.lineHelpers.sameValueSeriesFix(P,n);var R=u.globals.comboCharts?c[P]:P,z=this.yRatio.length>1?R:0;this._initSerieVariables(n,P,R);var _=[],Z=[],ee=[],ae=u.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,R),u.globals.isXNumeric&&u.globals.seriesX.length>0&&(ae=(u.globals.seriesX[R][0]-u.globals.minX)/this.xRatio),ee.push(ae);var b,Q=ae,K=void 0,ge=Q,se=this.zeroY,me=this.zeroY;se=this.lineHelpers.determineFirstPrevY({i:P,realIndex:R,series:n,prevY:se,lineYPosition:0,translationsIndex:z}).prevY,u.config.stroke.curve==="monotoneCubic"&&n[P][0]===null?_.push(null):_.push(se),b=se,x==="rangeArea"&&(K=me=this.lineHelpers.determineFirstPrevY({i:P,realIndex:R,series:A,prevY:me,lineYPosition:0,translationsIndex:z}).prevY,Z.push(_[0]!==null?me:null));var Fe=this._calculatePathsFrom({type:x,series:n,i:P,realIndex:R,translationsIndex:z,prevX:ge,prevY:se,prevY2:me}),Le=[_[0]],Oe=[Z[0]],$e={type:x,series:n,realIndex:R,translationsIndex:z,i:P,x:ae,y:1,pX:Q,pY:b,pathsFrom:Fe,linePaths:[],areaPaths:[],seriesIndex:c,lineYPosition:0,xArrj:ee,yArrj:_,y2Arrj:Z,seriesRangeEnd:A},Ge=this._iterateOverDataPoints(U(U({},$e),{},{iterations:x==="rangeArea"?n[P].length-1:void 0,isRangeStart:!0}));if(x==="rangeArea"){for(var Je=this._calculatePathsFrom({series:A,i:P,realIndex:R,prevX:ge,prevY:me}),ot=this._iterateOverDataPoints(U(U({},$e),{},{series:A,xArrj:[ae],yArrj:Le,y2Arrj:Oe,pY:K,areaPaths:Ge.areaPaths,pathsFrom:Je,iterations:A[P].length-1,isRangeStart:!1})),ft=Ge.linePaths.length/2,vt=0;vt<ft;vt++)Ge.linePaths[vt]=ot.linePaths[vt+ft]+Ge.linePaths[vt];Ge.linePaths.splice(ft),Ge.pathFromLine=ot.pathFromLine+Ge.pathFromLine}else Ge.pathFromArea+="z";this._handlePaths({type:x,realIndex:R,i:P,paths:Ge}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),B.push(this.elSeries)}if(((h=u.config.series[0])===null||h===void 0?void 0:h.zIndex)!==void 0&&B.sort(function(Pt,Kt){return Number(Pt.node.getAttribute("zIndex"))-Number(Kt.node.getAttribute("zIndex"))}),u.config.chart.stacked)for(var It=B.length-1;It>=0;It--)w.add(B[It]);else for(var Ft=0;Ft<B.length;Ft++)w.add(B[Ft]);return w}},{key:"_initSerieVariables",value:function(n,i,c){var A=this.w,h=new V(this.ctx);this.xDivision=A.globals.gridWidth/(A.globals.dataPoints-(A.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(A.config.stroke.width)?A.config.stroke.width[c]:A.config.stroke.width;var u=0;this.yRatio.length>1&&(this.yaxisIndex=A.globals.seriesYAxisReverseMap[c],u=c),this.isReversed=A.config.yaxis[this.yaxisIndex]&&A.config.yaxis[this.yaxisIndex].reversed,this.zeroY=A.globals.gridHeight-this.baseLineY[u]-(this.isReversed?A.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[u]:0),this.areaBottomY=this.zeroY,(this.zeroY>A.globals.gridHeight||A.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=A.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=h.group({class:"apexcharts-series",zIndex:A.config.series[c].zIndex!==void 0?A.config.series[c].zIndex:c,seriesName:M.escapeString(A.globals.seriesNames[c])}),this.elPointsMain=h.group({class:"apexcharts-series-markers-wrap","data:realIndex":c}),this.elDataLabelsWrap=h.group({class:"apexcharts-datalabels","data:realIndex":c});var p=n[i].length===A.globals.dataPoints;this.elSeries.attr({"data:longestSeries":p,rel:i+1,"data:realIndex":c}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(n){var i,c,A,h,u=n.type,p=n.series,x=n.i,w=n.realIndex,S=n.translationsIndex,B=n.prevX,P=n.prevY,R=n.prevY2,z=this.w,_=new V(this.ctx);if(p[x][0]===null){for(var Z=0;Z<p[x].length;Z++)if(p[x][Z]!==null){B=this.xDivision*Z,P=this.zeroY-p[x][Z]/this.yRatio[S],i=_.move(B,P),c=_.move(B,this.areaBottomY);break}}else i=_.move(B,P),u==="rangeArea"&&(i=_.move(B,R)+_.line(B,P)),c=_.move(B,this.areaBottomY)+_.line(B,P);if(A=_.move(0,this.zeroY)+_.line(0,this.zeroY),h=_.move(0,this.zeroY)+_.line(0,this.zeroY),z.globals.previousPaths.length>0){var ee=this.lineHelpers.checkPreviousPaths({pathFromLine:A,pathFromArea:h,realIndex:w});A=ee.pathFromLine,h=ee.pathFromArea}return{prevX:B,prevY:P,linePath:i,areaPath:c,pathFromLine:A,pathFromArea:h}}},{key:"_handlePaths",value:function(n){var i=n.type,c=n.realIndex,A=n.i,h=n.paths,u=this.w,p=new V(this.ctx),x=new Se(this.ctx);this.prevSeriesY.push(h.yArrj),u.globals.seriesXvalues[c]=h.xArrj,u.globals.seriesYvalues[c]=h.yArrj;var w=u.config.forecastDataPoints;if(w.count>0&&i!=="rangeArea"){var S=u.globals.seriesXvalues[c][u.globals.seriesXvalues[c].length-w.count-1],B=p.drawRect(S,0,u.globals.gridWidth,u.globals.gridHeight,0);u.globals.dom.elForecastMask.appendChild(B.node);var P=p.drawRect(0,0,S,u.globals.gridHeight,0);u.globals.dom.elNonForecastMask.appendChild(P.node)}this.pointsChart||u.globals.delayedElements.push({el:this.elPointsMain.node,index:c});var R={i:A,realIndex:c,animationDelay:A,initialSpeed:u.config.chart.animations.speed,dataChangeSpeed:u.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(i)};if(i==="area")for(var z=x.fillPath({seriesNumber:c}),_=0;_<h.areaPaths.length;_++){var Z=p.renderPaths(U(U({},R),{},{pathFrom:h.pathFromArea,pathTo:h.areaPaths[_],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:z}));this.elSeries.add(Z)}if(u.config.stroke.show&&!this.pointsChart){var ee=null;if(i==="line")ee=x.fillPath({seriesNumber:c,i:A});else if(u.config.stroke.fill.type==="solid")ee=u.globals.stroke.colors[c];else{var ae=u.config.fill;u.config.fill=u.config.stroke.fill,ee=x.fillPath({seriesNumber:c,i:A}),u.config.fill=ae}for(var b=0;b<h.linePaths.length;b++){var Q=ee;i==="rangeArea"&&(Q=x.fillPath({seriesNumber:c}));var K=U(U({},R),{},{pathFrom:h.pathFromLine,pathTo:h.linePaths[b],stroke:ee,strokeWidth:this.strokeWidth,strokeLineCap:u.config.stroke.lineCap,fill:i==="rangeArea"?Q:"none"}),ge=p.renderPaths(K);if(this.elSeries.add(ge),ge.attr("fill-rule","evenodd"),w.count>0&&i!=="rangeArea"){var se=p.renderPaths(K);se.node.setAttribute("stroke-dasharray",w.dashArray),w.strokeWidth&&se.node.setAttribute("stroke-width",w.strokeWidth),this.elSeries.add(se),se.attr("clip-path","url(#forecastMask".concat(u.globals.cuid,")")),ge.attr("clip-path","url(#nonForecastMask".concat(u.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(n){var i,c,A=this,h=n.type,u=n.series,p=n.iterations,x=n.realIndex,w=n.translationsIndex,S=n.i,B=n.x,P=n.y,R=n.pX,z=n.pY,_=n.pathsFrom,Z=n.linePaths,ee=n.areaPaths,ae=n.seriesIndex,b=n.lineYPosition,Q=n.xArrj,K=n.yArrj,ge=n.y2Arrj,se=n.isRangeStart,me=n.seriesRangeEnd,Fe=this.w,Le=new V(this.ctx),Oe=this.yRatio,$e=_.prevY,Ge=_.linePath,Je=_.areaPath,ot=_.pathFromLine,ft=_.pathFromArea,vt=M.isNumber(Fe.globals.minYArr[x])?Fe.globals.minYArr[x]:Fe.globals.minY;p||(p=Fe.globals.dataPoints>1?Fe.globals.dataPoints-1:Fe.globals.dataPoints);var It=function($r,ga){return ga-$r/Oe[w]+2*(A.isReversed?$r/Oe[w]:0)},Ft=P,Pt=Fe.config.chart.stacked&&!Fe.globals.comboCharts||Fe.config.chart.stacked&&Fe.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((i=this.w.config.series[x])===null||i===void 0?void 0:i.type)==="bar"||((c=this.w.config.series[x])===null||c===void 0?void 0:c.type)==="column"),Kt=Fe.config.stroke.curve;Array.isArray(Kt)&&(Kt=Array.isArray(ae)?Kt[ae[S]]:Kt[S]);for(var kt,Br=0,fr=0;fr<p;fr++){var _r=u[S][fr+1]===void 0||u[S][fr+1]===null;if(Fe.globals.isXNumeric){var ir=Fe.globals.seriesX[x][fr+1];Fe.globals.seriesX[x][fr+1]===void 0&&(ir=Fe.globals.seriesX[x][p-1]),B=(ir-Fe.globals.minX)/this.xRatio}else B+=this.xDivision;Pt?S>0&&Fe.globals.collapsedSeries.length<Fe.config.series.length-1?b=this.prevSeriesY[function($r){for(var ga=$r;ga>0;ga--){if(!(Fe.globals.collapsedSeriesIndices.indexOf((ae==null?void 0:ae[ga])||ga)>-1))return ga;ga--}return 0}(S-1)][fr+1]:b=this.zeroY:b=this.zeroY,_r?P=It(vt,b):(P=It(u[S][fr+1],b),h==="rangeArea"&&(Ft=It(me[S][fr+1],b))),Q.push(B),!_r||Fe.config.stroke.curve!=="smooth"&&Fe.config.stroke.curve!=="monotoneCubic"?(K.push(P),ge.push(Ft)):(K.push(null),ge.push(null));var rr=this.lineHelpers.calculatePoints({series:u,x:B,y:P,realIndex:x,i:S,j:fr,prevY:$e}),ar=this._createPaths({type:h,series:u,i:S,realIndex:x,j:fr,x:B,y:P,y2:Ft,xArrj:Q,yArrj:K,y2Arrj:ge,pX:R,pY:z,pathState:Br,segmentStartX:kt,linePath:Ge,areaPath:Je,linePaths:Z,areaPaths:ee,curve:Kt,isRangeStart:se});ee=ar.areaPaths,Z=ar.linePaths,R=ar.pX,z=ar.pY,Br=ar.pathState,kt=ar.segmentStartX,Je=ar.areaPath,Ge=ar.linePath,!this.appendPathFrom||Kt==="monotoneCubic"&&h==="rangeArea"||(ot+=Le.line(B,this.zeroY),ft+=Le.line(B,this.zeroY)),this.handleNullDataPoints(u,rr,S,fr,x),this._handleMarkersAndLabels({type:h,pointsPos:rr,i:S,j:fr,realIndex:x,isRangeStart:se})}return{yArrj:K,xArrj:Q,pathFromArea:ft,areaPaths:ee,pathFromLine:ot,linePaths:Z,linePath:Ge,areaPath:Je}}},{key:"_handleMarkersAndLabels",value:function(n){var i=n.type,c=n.pointsPos,A=n.isRangeStart,h=n.i,u=n.j,p=n.realIndex,x=this.w,w=new Qe(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,u,{realIndex:p,pointsPos:c,zRatio:this.zRatio,elParent:this.elPointsMain});else{x.globals.series[h].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var S=this.markers.plotChartMarkers(c,p,u+1);S!==null&&this.elPointsMain.add(S)}var B=w.drawDataLabel({type:i,isRangeStart:A,pos:c,i:p,j:u+1});B!==null&&this.elDataLabelsWrap.add(B)}},{key:"_createPaths",value:function(n){var i=n.type,c=n.series,A=n.i;n.realIndex;var h,u=n.j,p=n.x,x=n.y,w=n.xArrj,S=n.yArrj,B=n.y2,P=n.y2Arrj,R=n.pX,z=n.pY,_=n.pathState,Z=n.segmentStartX,ee=n.linePath,ae=n.areaPath,b=n.linePaths,Q=n.areaPaths,K=n.curve,ge=n.isRangeStart,se=new V(this.ctx),me=this.areaBottomY,Fe=i==="rangeArea",Le=i==="rangeArea"&&ge;switch(K){case"monotoneCubic":var Oe=ge?S:P;switch(_){case 0:if(Oe[u+1]===null)break;_=1;case 1:if(!(Fe?w.length===c[A].length:u===c[A].length-2))break;case 2:var $e=ge?w:w.slice().reverse(),Ge=ge?Oe:Oe.slice().reverse(),Je=(h=Ge,$e.map(function(ir,rr){return[ir,h[rr]]}).filter(function(ir){return ir[1]!==null})),ot=Je.length>1?Yr(Je):Je,ft=[];Fe&&(Le?Q=Je:ft=Q.reverse());var vt=0,It=0;if(function(ir,rr){for(var ar=function(Ui){var aa=[],Ra=0;return Ui.forEach(function(li){li!==null?Ra++:Ra>0&&(aa.push(Ra),Ra=0)}),Ra>0&&aa.push(Ra),aa}(ir),$r=[],ga=0,Bs=0;ga<ar.length;Bs+=ar[ga++])$r[ga]=ds(rr,Bs,Bs+ar[ga]);return $r}(Ge,ot).forEach(function(ir){vt++;var rr=function(ga){for(var Bs="",Ui=0;Ui<ga.length;Ui++){var aa=ga[Ui],Ra=aa.length;Ra>4?(Bs+="C".concat(aa[0],", ").concat(aa[1]),Bs+=", ".concat(aa[2],", ").concat(aa[3]),Bs+=", ".concat(aa[4],", ").concat(aa[5])):Ra>2&&(Bs+="S".concat(aa[0],", ").concat(aa[1]),Bs+=", ".concat(aa[2],", ").concat(aa[3]))}return Bs}(ir),ar=It,$r=(It+=ir.length)-1;Le?ee=se.move(Je[ar][0],Je[ar][1])+rr:Fe?ee=se.move(ft[ar][0],ft[ar][1])+se.line(Je[ar][0],Je[ar][1])+rr+se.line(ft[$r][0],ft[$r][1]):(ee=se.move(Je[ar][0],Je[ar][1])+rr,ae=ee+se.line(Je[$r][0],me)+se.line(Je[ar][0],me)+"z",Q.push(ae)),b.push(ee)}),Fe&&vt>1&&!Le){var Ft=b.slice(vt).reverse();b.splice(vt),Ft.forEach(function(ir){return b.push(ir)})}_=0}break;case"smooth":var Pt=.35*(p-R);if(c[A][u]===null)_=0;else switch(_){case 0:if(Z=R,ee=Le?se.move(R,P[u])+se.line(R,z):se.move(R,z),ae=se.move(R,z),c[A][u+1]===null){b.push(ee),Q.push(ae);break}if(_=1,u<c[A].length-2){var Kt=se.curve(R+Pt,z,p-Pt,x,p,x);ee+=Kt,ae+=Kt;break}case 1:if(c[A][u+1]===null)ee+=Le?se.line(R,B):se.move(R,z),ae+=se.line(R,me)+se.line(Z,me)+"z",b.push(ee),Q.push(ae),_=-1;else{var kt=se.curve(R+Pt,z,p-Pt,x,p,x);ee+=kt,ae+=kt,u>=c[A].length-2&&(Le&&(ee+=se.curve(p,x,p,x,p,B)+se.move(p,B)),ae+=se.curve(p,x,p,x,p,me)+se.line(Z,me)+"z",b.push(ee),Q.push(ae),_=-1)}}R=p,z=x;break;default:var Br=function(ir,rr,ar){var $r=[];switch(ir){case"stepline":$r=se.line(rr,null,"H")+se.line(null,ar,"V");break;case"linestep":$r=se.line(null,ar,"V")+se.line(rr,null,"H");break;case"straight":$r=se.line(rr,ar)}return $r};if(c[A][u]===null)_=0;else switch(_){case 0:if(Z=R,ee=Le?se.move(R,P[u])+se.line(R,z):se.move(R,z),ae=se.move(R,z),c[A][u+1]===null){b.push(ee),Q.push(ae);break}if(_=1,u<c[A].length-2){var fr=Br(K,p,x);ee+=fr,ae+=fr;break}case 1:if(c[A][u+1]===null)ee+=Le?se.line(R,B):se.move(R,z),ae+=se.line(R,me)+se.line(Z,me)+"z",b.push(ee),Q.push(ae),_=-1;else{var _r=Br(K,p,x);ee+=_r,ae+=_r,u>=c[A].length-2&&(Le&&(ee+=se.line(p,B)),ae+=se.line(p,me)+se.line(Z,me)+"z",b.push(ee),Q.push(ae),_=-1)}}R=p,z=x}return{linePaths:b,areaPaths:Q,pX:R,pY:z,pathState:_,segmentStartX:Z,linePath:ee,areaPath:ae}}},{key:"handleNullDataPoints",value:function(n,i,c,A,h){var u=this.w;if(n[c][A]===null&&u.config.markers.showNullDataPoints||n[c].length===1){var p=this.strokeWidth-u.config.markers.strokeWidth/2;p>0||(p=0);var x=this.markers.plotChartMarkers(i,h,A+1,p,!0);x!==null&&this.elPointsMain.add(x)}}}]),te}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function te(p,x,w,S){this.xoffset=p,this.yoffset=x,this.height=S,this.width=w,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(B){var P,R=[],z=this.xoffset,_=this.yoffset,Z=h(B)/this.height,ee=h(B)/this.width;if(this.width>=this.height)for(P=0;P<B.length;P++)R.push([z,_,z+Z,_+B[P]/Z]),_+=B[P]/Z;else for(P=0;P<B.length;P++)R.push([z,_,z+B[P]/ee,_+ee]),z+=B[P]/ee;return R},this.cutArea=function(B){var P;if(this.width>=this.height){var R=B/this.height,z=this.width-R;P=new te(this.xoffset+R,this.yoffset,z,this.height)}else{var _=B/this.width,Z=this.height-_;P=new te(this.xoffset,this.yoffset+_,this.width,Z)}return P}}function n(p,x,w,S,B){S=S===void 0?0:S,B=B===void 0?0:B;var P=i(function(R,z){var _,Z=[],ee=z/h(R);for(_=0;_<R.length;_++)Z[_]=R[_]*ee;return Z}(p,x*w),[],new te(S,B,x,w),[]);return function(R){var z,_,Z=[];for(z=0;z<R.length;z++)for(_=0;_<R[z].length;_++)Z.push(R[z][_]);return Z}(P)}function i(p,x,w,S){var B,P,R;if(p.length!==0)return B=w.shortestEdge(),function(z,_,Z){var ee;if(z.length===0)return!0;(ee=z.slice()).push(_);var ae=c(z,Z),b=c(ee,Z);return ae>=b}(x,P=p[0],B)?(x.push(P),i(p.slice(1),x,w,S)):(R=w.cutArea(h(x),S),S.push(w.getCoordinates(x)),i(p,[],R,S)),S;S.push(w.getCoordinates(x))}function c(p,x){var w=Math.min.apply(Math,p),S=Math.max.apply(Math,p),B=h(p);return Math.max(Math.pow(x,2)*S/Math.pow(B,2),Math.pow(B,2)/(Math.pow(x,2)*w))}function A(p){return p&&p.constructor===Array}function h(p){var x,w=0;for(x=0;x<p.length;x++)w+=p[x];return w}function u(p){var x,w=0;if(A(p[0]))for(x=0;x<p.length;x++)w+=u(p[x]);else w=h(p);return w}return function p(x,w,S,B,P){B=B===void 0?0:B,P=P===void 0?0:P;var R,z,_=[],Z=[];if(A(x[0])){for(z=0;z<x.length;z++)_[z]=u(x[z]);for(R=n(_,w,S,B,P),z=0;z<x.length;z++)Z.push(p(x[z],R[z][2]-R[z][0],R[z][3]-R[z][1],R[z][0],R[z][1]))}else Z=n(x,w,S,B,P);return Z}}();var Na,Xa,Xs=function(){function te(n,i){o(this,te),this.ctx=n,this.w=n.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new ni(n),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return d(te,[{key:"draw",value:function(n){var i=this,c=this.w,A=new V(this.ctx),h=new Se(this.ctx),u=A.group({class:"apexcharts-treemap"});if(c.globals.noData)return u;var p=[];return n.forEach(function(x){var w=x.map(function(S){return Math.abs(S)});p.push(w)}),this.negRange=this.helpers.checkColorRange(),c.config.series.forEach(function(x,w){x.data.forEach(function(S){Array.isArray(i.labels[w])||(i.labels[w]=[]),i.labels[w].push(S.x)})}),window.TreemapSquared.generate(p,c.globals.gridWidth,c.globals.gridHeight).forEach(function(x,w){var S=A.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:M.escapeString(c.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});if(c.config.chart.dropShadow.enabled){var B=c.config.chart.dropShadow;new G(i.ctx).dropShadow(u,B,w)}var P=A.group({class:"apexcharts-data-labels"});x.forEach(function(R,z){var _=R[0],Z=R[1],ee=R[2],ae=R[3],b=A.drawRect(_,Z,ee-_,ae-Z,c.config.plotOptions.treemap.borderRadius,"#fff",1,i.strokeWidth,c.config.plotOptions.treemap.useFillColorAsStroke?K:c.globals.stroke.colors[w]);b.attr({cx:_,cy:Z,index:w,i:w,j:z,width:ee-_,height:ae-Z});var Q=i.helpers.getShadeColor(c.config.chart.type,w,z,i.negRange),K=Q.color;c.config.series[w].data[z]!==void 0&&c.config.series[w].data[z].fillColor&&(K=c.config.series[w].data[z].fillColor);var ge=h.fillPath({color:K,seriesNumber:w,dataPointIndex:z});b.node.classList.add("apexcharts-treemap-rect"),b.attr({fill:ge}),i.helpers.addListeners(b);var se={x:_+(ee-_)/2,y:Z+(ae-Z)/2,width:0,height:0},me={x:_,y:Z,width:ee-_,height:ae-Z};if(c.config.chart.animations.enabled&&!c.globals.dataChanged){var Fe=1;c.globals.resized||(Fe=c.config.chart.animations.speed),i.animateTreemap(b,se,me,Fe)}if(c.globals.dataChanged){var Le=1;i.dynamicAnim.enabled&&c.globals.shouldAnimate&&(Le=i.dynamicAnim.speed,c.globals.previousPaths[w]&&c.globals.previousPaths[w][z]&&c.globals.previousPaths[w][z].rect&&(se=c.globals.previousPaths[w][z].rect),i.animateTreemap(b,se,me,Le))}var Oe=i.getFontSize(R),$e=c.config.dataLabels.formatter(i.labels[w][z],{value:c.globals.series[w][z],seriesIndex:w,dataPointIndex:z,w:c});c.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Oe=parseInt(c.config.dataLabels.style.fontSize,10),$e=i.truncateLabels($e,Oe,_,Z,ee,ae));var Ge=null;c.globals.series[w][z]&&(Ge=i.helpers.calculateDataLabels({text:$e,x:(_+ee)/2,y:(Z+ae)/2+i.strokeWidth/2+Oe/3,i:w,j:z,colorProps:Q,fontSize:Oe,series:n})),c.config.dataLabels.enabled&&Ge&&i.rotateToFitLabel(Ge,Oe,$e,_,Z,ee,ae),S.add(b),Ge!==null&&S.add(Ge)}),S.add(P),u.add(S)}),u}},{key:"getFontSize",value:function(n){var i=this.w,c,A,h,u,p=function x(w){var S,B=0;if(Array.isArray(w[0]))for(S=0;S<w.length;S++)B+=x(w[S]);else for(S=0;S<w.length;S++)B+=w[S].length;return B}(this.labels)/function x(w){var S,B=0;if(Array.isArray(w[0]))for(S=0;S<w.length;S++)B+=x(w[S]);else for(S=0;S<w.length;S++)B+=1;return B}(this.labels);return c=n[2]-n[0],A=n[3]-n[1],h=c*A,u=Math.pow(h,.5),Math.min(u/p,parseInt(i.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(n,i,c,A,h,u,p){var x=new V(this.ctx),w=x.getTextRects(c,i);if(w.width+this.w.config.stroke.width+5>u-A&&w.width<=p-h){var S=x.rotateAroundCenter(n.node);n.node.setAttribute("transform","rotate(-90 ".concat(S.x," ").concat(S.y,") translate(").concat(w.height/3,")"))}}},{key:"truncateLabels",value:function(n,i,c,A,h,u){var p=new V(this.ctx),x=p.getTextRects(n,i).width+this.w.config.stroke.width+5>h-c&&u-A>h-c?u-A:h-c,w=p.getTextBasedOnMaxWidth({text:n,maxWidth:x,fontSize:i});return n.length!==w.length&&x/i<5?"":w}},{key:"animateTreemap",value:function(n,i,c,A){var h=new re(this.ctx);h.animateRect(n,{x:i.x,y:i.y,width:i.width,height:i.height},{x:c.x,y:c.y,width:c.width,height:c.height},A,function(){h.animationCompleted(n)})}}]),te}(),Ks=86400,Ns=10/Ks,hn=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return d(te,[{key:"calculateTimeScaleTicks",value:function(n,i){var c=this,A=this.w;if(A.globals.allSeriesCollapsed)return A.globals.labels=[],A.globals.timescaleLabels=[],[];var h=new J(this.ctx),u=(i-n)/864e5;this.determineInterval(u),A.globals.disableZoomIn=!1,A.globals.disableZoomOut=!1,u<Ns?A.globals.disableZoomIn=!0:u>5e4&&(A.globals.disableZoomOut=!0);var p=h.getTimeUnitsfromTimestamp(n,i,this.utc),x=A.globals.gridWidth/u,w=x/24,S=w/60,B=S/60,P=Math.floor(24*u),R=Math.floor(1440*u),z=Math.floor(u*Ks),_=Math.floor(u),Z=Math.floor(u/30),ee=Math.floor(u/365),ae={minMillisecond:p.minMillisecond,minSecond:p.minSecond,minMinute:p.minMinute,minHour:p.minHour,minDate:p.minDate,minMonth:p.minMonth,minYear:p.minYear},b={firstVal:ae,currentMillisecond:ae.minMillisecond,currentSecond:ae.minSecond,currentMinute:ae.minMinute,currentHour:ae.minHour,currentMonthDate:ae.minDate,currentDate:ae.minDate,currentMonth:ae.minMonth,currentYear:ae.minYear,daysWidthOnXAxis:x,hoursWidthOnXAxis:w,minutesWidthOnXAxis:S,secondsWidthOnXAxis:B,numberOfSeconds:z,numberOfMinutes:R,numberOfHours:P,numberOfDays:_,numberOfMonths:Z,numberOfYears:ee};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var Q=this.timeScaleArray.map(function(K){var ge={position:K.position,unit:K.unit,year:K.year,day:K.day?K.day:1,hour:K.hour?K.hour:0,month:K.month+1};return K.unit==="month"?U(U({},ge),{},{day:1,value:K.value+1}):K.unit==="day"||K.unit==="hour"?U(U({},ge),{},{value:K.value}):K.unit==="minute"?U(U({},ge),{},{value:K.value,minute:K.value}):K.unit==="second"?U(U({},ge),{},{value:K.value,minute:K.minute,second:K.second}):K});return Q.filter(function(K){var ge=1,se=Math.ceil(A.globals.gridWidth/120),me=K.value;A.config.xaxis.tickAmount!==void 0&&(se=A.config.xaxis.tickAmount),Q.length>se&&(ge=Math.floor(Q.length/se));var Fe=!1,Le=!1;switch(c.tickInterval){case"years":K.unit==="year"&&(Fe=!0);break;case"half_year":ge=7,K.unit==="year"&&(Fe=!0);break;case"months":ge=1,K.unit==="year"&&(Fe=!0);break;case"months_fortnight":ge=15,K.unit!=="year"&&K.unit!=="month"||(Fe=!0),me===30&&(Le=!0);break;case"months_days":ge=10,K.unit==="month"&&(Fe=!0),me===30&&(Le=!0);break;case"week_days":ge=8,K.unit==="month"&&(Fe=!0);break;case"days":ge=1,K.unit==="month"&&(Fe=!0);break;case"hours":K.unit==="day"&&(Fe=!0);break;case"minutes_fives":case"seconds_fives":me%5!=0&&(Le=!0);break;case"seconds_tens":me%10!=0&&(Le=!0)}if(c.tickInterval==="hours"||c.tickInterval==="minutes_fives"||c.tickInterval==="seconds_tens"||c.tickInterval==="seconds_fives"){if(!Le)return!0}else if((me%ge==0||Fe)&&!Le)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(n,i){var c=this.w,A=this.formatDates(n),h=this.removeOverlappingTS(A);c.globals.timescaleLabels=h.slice(),new Lt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(n){var i=24*n,c=60*i;switch(!0){case n/365>5:this.tickInterval="years";break;case n>800:this.tickInterval="half_year";break;case n>180:this.tickInterval="months";break;case n>90:this.tickInterval="months_fortnight";break;case n>60:this.tickInterval="months_days";break;case n>30:this.tickInterval="week_days";break;case n>2:this.tickInterval="days";break;case i>2.4:this.tickInterval="hours";break;case c>15:this.tickInterval="minutes_fives";break;case c>5:this.tickInterval="minutes";break;case c>1:this.tickInterval="seconds_tens";break;case 60*c>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(n){var i=n.firstVal,c=n.currentMonth,A=n.currentYear,h=n.daysWidthOnXAxis,u=n.numberOfYears,p=i.minYear,x=0,w=new J(this.ctx),S="year";if(i.minDate>1||i.minMonth>0){var B=w.determineRemainingDaysOfYear(i.minYear,i.minMonth,i.minDate);x=(w.determineDaysOfYear(i.minYear)-B+1)*h,p=i.minYear+1,this.timeScaleArray.push({position:x,value:p,unit:S,year:p,month:M.monthMod(c+1)})}else i.minDate===1&&i.minMonth===0&&this.timeScaleArray.push({position:x,value:p,unit:S,year:A,month:M.monthMod(c+1)});for(var P=p,R=x,z=0;z<u;z++)P++,R=w.determineDaysOfYear(P-1)*h+R,this.timeScaleArray.push({position:R,value:P,unit:S,year:P,month:1})}},{key:"generateMonthScale",value:function(n){var i=n.firstVal,c=n.currentMonthDate,A=n.currentMonth,h=n.currentYear,u=n.daysWidthOnXAxis,p=n.numberOfMonths,x=A,w=0,S=new J(this.ctx),B="month",P=0;if(i.minDate>1){w=(S.determineDaysOfMonths(A+1,i.minYear)-c+1)*u,x=M.monthMod(A+1);var R=h+P,z=M.monthMod(x),_=x;x===0&&(B="year",_=R,z=1,R+=P+=1),this.timeScaleArray.push({position:w,value:_,unit:B,year:R,month:z})}else this.timeScaleArray.push({position:w,value:x,unit:B,year:h,month:M.monthMod(A)});for(var Z=x+1,ee=w,ae=0,b=1;ae<p;ae++,b++){(Z=M.monthMod(Z))===0?(B="year",P+=1):B="month";var Q=this._getYear(h,Z,P);ee=S.determineDaysOfMonths(Z,Q)*u+ee;var K=Z===0?Q:Z;this.timeScaleArray.push({position:ee,value:K,unit:B,year:Q,month:Z===0?1:Z}),Z++}}},{key:"generateDayScale",value:function(n){var i=n.firstVal,c=n.currentMonth,A=n.currentYear,h=n.hoursWidthOnXAxis,u=n.numberOfDays,p=new J(this.ctx),x="day",w=i.minDate+1,S=w,B=function(b,Q,K){return b>p.determineDaysOfMonths(Q+1,K)&&(S=1,x="month",R=Q+=1),Q},P=(24-i.minHour)*h,R=w,z=B(S,c,A);i.minHour===0&&i.minDate===1?(P=0,R=M.monthMod(i.minMonth),x="month",S=i.minDate):i.minDate!==1&&i.minHour===0&&i.minMinute===0&&(P=0,w=i.minDate,R=w,z=B(S=w,c,A)),this.timeScaleArray.push({position:P,value:R,unit:x,year:this._getYear(A,z,0),month:M.monthMod(z),day:S});for(var _=P,Z=0;Z<u;Z++){x="day",z=B(S+=1,z,this._getYear(A,z,0));var ee=this._getYear(A,z,0);_=24*h+_;var ae=S===1?M.monthMod(z):S;this.timeScaleArray.push({position:_,value:ae,unit:x,year:ee,month:M.monthMod(z),day:ae})}}},{key:"generateHourScale",value:function(n){var i=n.firstVal,c=n.currentDate,A=n.currentMonth,h=n.currentYear,u=n.minutesWidthOnXAxis,p=n.numberOfHours,x=new J(this.ctx),w="hour",S=function(ge,se){return ge>x.determineDaysOfMonths(se+1,h)&&(Z=1,se+=1),{month:se,date:Z}},B=function(ge,se){return ge>x.determineDaysOfMonths(se+1,h)?se+=1:se},P=60-(i.minMinute+i.minSecond/60),R=P*u,z=i.minHour+1,_=z;P===60&&(R=0,_=z=i.minHour);var Z=c;_>=24&&(_=0,Z+=1,w="day");var ee=S(Z,A).month;ee=B(Z,ee),this.timeScaleArray.push({position:R,value:z,unit:w,day:Z,hour:_,year:h,month:M.monthMod(ee)}),_++;for(var ae=R,b=0;b<p;b++){w="hour",_>=24&&(_=0,w="day",ee=S(Z+=1,ee).month,ee=B(Z,ee));var Q=this._getYear(h,ee,0);ae=60*u+ae;var K=_===0?Z:_;this.timeScaleArray.push({position:ae,value:K,unit:w,hour:_,day:Z,year:Q,month:M.monthMod(ee)}),_++}}},{key:"generateMinuteScale",value:function(n){for(var i=n.currentMillisecond,c=n.currentSecond,A=n.currentMinute,h=n.currentHour,u=n.currentDate,p=n.currentMonth,x=n.currentYear,w=n.minutesWidthOnXAxis,S=n.secondsWidthOnXAxis,B=n.numberOfMinutes,P=A+1,R=u,z=p,_=x,Z=h,ee=(60-c-i/1e3)*S,ae=0;ae<B;ae++)P>=60&&(P=0,(Z+=1)===24&&(Z=0)),this.timeScaleArray.push({position:ee,value:P,unit:"minute",hour:Z,minute:P,day:R,year:this._getYear(_,z,0),month:M.monthMod(z)}),ee+=w,P++}},{key:"generateSecondScale",value:function(n){for(var i=n.currentMillisecond,c=n.currentSecond,A=n.currentMinute,h=n.currentHour,u=n.currentDate,p=n.currentMonth,x=n.currentYear,w=n.secondsWidthOnXAxis,S=n.numberOfSeconds,B=c+1,P=A,R=u,z=p,_=x,Z=h,ee=(1e3-i)/1e3*w,ae=0;ae<S;ae++)B>=60&&(B=0,++P>=60&&(P=0,++Z===24&&(Z=0))),this.timeScaleArray.push({position:ee,value:B,unit:"second",hour:Z,minute:P,second:B,day:R,year:this._getYear(_,z,0),month:M.monthMod(z)}),ee+=w,B++}},{key:"createRawDateString",value:function(n,i){var c=n.year;return n.month===0&&(n.month=1),c+="-"+("0"+n.month.toString()).slice(-2),n.unit==="day"?c+=n.unit==="day"?"-"+("0"+i).slice(-2):"-01":c+="-"+("0"+(n.day?n.day:"1")).slice(-2),n.unit==="hour"?c+=n.unit==="hour"?"T"+("0"+i).slice(-2):"T00":c+="T"+("0"+(n.hour?n.hour:"0")).slice(-2),n.unit==="minute"?c+=":"+("0"+i).slice(-2):c+=":"+(n.minute?("0"+n.minute).slice(-2):"00"),n.unit==="second"?c+=":"+("0"+i).slice(-2):c+=":00",this.utc&&(c+=".000Z"),c}},{key:"formatDates",value:function(n){var i=this,c=this.w;return n.map(function(A){var h=A.value.toString(),u=new J(i.ctx),p=i.createRawDateString(A,h),x=u.getDate(u.parseDate(p));if(i.utc||(x=u.getDate(u.parseDateWithTimezone(p))),c.config.xaxis.labels.format===void 0){var w="dd MMM",S=c.config.xaxis.labels.datetimeFormatter;A.unit==="year"&&(w=S.year),A.unit==="month"&&(w=S.month),A.unit==="day"&&(w=S.day),A.unit==="hour"&&(w=S.hour),A.unit==="minute"&&(w=S.minute),A.unit==="second"&&(w=S.second),h=u.formatDate(x,w)}else h=u.formatDate(x,c.config.xaxis.labels.format);return{dateString:p,position:A.position,value:h,unit:A.unit,year:A.year,month:A.month}})}},{key:"removeOverlappingTS",value:function(n){var i,c=this,A=new V(this.ctx),h=!1;n.length>0&&n[0].value&&n.every(function(x){return x.value.length===n[0].value.length})&&(h=!0,i=A.getTextRects(n[0].value).width);var u=0,p=n.map(function(x,w){if(w>0&&c.w.config.xaxis.labels.hideOverlappingLabels){var S=h?i:A.getTextRects(n[u].value).width,B=n[u].position;return x.position>B+S+10?(u=w,x):null}return x});return p=p.filter(function(x){return x!==null})}},{key:"_getYear",value:function(n,i,c){return n+Math.floor(i/12)+c}}]),te}(),Li=function(){function te(n,i){o(this,te),this.ctx=i,this.w=i.w,this.el=n}return d(te,[{key:"setupElements",value:function(){var n=this.w,i=n.globals,c=n.config,A=c.chart.type;i.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(A),i.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(A),i.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(A)&&c.plotOptions.bar.horizontal,i.chartClass=".apexcharts".concat(i.chartID),i.dom.baseEl=this.el,i.dom.elWrap=document.createElement("div"),V.setAttrs(i.dom.elWrap,{id:i.chartClass.substring(1),class:"apexcharts-canvas ".concat(i.chartClass.substring(1))}),this.el.appendChild(i.dom.elWrap),i.dom.Paper=new window.SVG.Doc(i.dom.elWrap),i.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(c.chart.offsetX,", ").concat(c.chart.offsetY,")")}),i.dom.Paper.node.style.background=c.theme.mode!=="dark"||c.chart.background?c.theme.mode!=="light"||c.chart.background?c.chart.background:"#fff":"#424242",this.setSVGDimensions(),i.dom.elLegendForeign=document.createElementNS(i.SVGNS,"foreignObject"),V.setAttrs(i.dom.elLegendForeign,{x:0,y:0,width:i.svgWidth,height:i.svgHeight}),i.dom.elLegendWrap=document.createElement("div"),i.dom.elLegendWrap.classList.add("apexcharts-legend"),i.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),i.dom.elLegendForeign.appendChild(i.dom.elLegendWrap),i.dom.Paper.node.appendChild(i.dom.elLegendForeign),i.dom.elGraphical=i.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),i.dom.elDefs=i.dom.Paper.defs(),i.dom.Paper.add(i.dom.elGraphical),i.dom.elGraphical.add(i.dom.elDefs)}},{key:"plotChartType",value:function(n,i){var c=this.w,A=this.ctx,h=c.config,u=c.globals,p={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},x=h.chart.type||"line",w=null,S=0;u.series.forEach(function(ge,se){var me=n[se].type||x;p[me]?(me==="rangeArea"?(p[me].series.push(u.seriesRangeStart[se]),p[me].seriesRangeEnd.push(u.seriesRangeEnd[se])):p[me].series.push(ge),p[me].i.push(se),me!=="column"&&me!=="bar"||(c.globals.columnSeries=p.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(me)?w=me:me==="bar"?(p.column.series.push(ge),p.column.i.push(se)):console.warn("You have specified an unrecognized series type (".concat(me,").")),x!==me&&me!=="scatter"&&S++}),S>0&&(w&&console.warn("Chart or series type ".concat(w," cannot appear with other chart or series types.")),p.column.series.length>0&&h.plotOptions.bar.horizontal&&(S-=p.column.series.length,p.column={series:[],i:[]},c.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),u.comboCharts||(u.comboCharts=S>0);var B=new qs(A,i),P=new cr(A,i);A.pie=new Vs(A);var R=new Gs(A);A.rangeBar=new un(A,i);var z=new Dt(A),_=[];if(u.comboCharts){var Z,ee,ae=new ue(A);if(p.area.series.length>0&&(Z=_).push.apply(Z,L(ae.drawSeriesByGroup(p.area,u.areaGroups,"area",B))),p.column.series.length>0)if(h.chart.stacked){var b=new Ot(A,i);_.push(b.draw(p.column.series,p.column.i))}else A.bar=new br(A,i),_.push(A.bar.draw(p.column.series,p.column.i));if(p.rangeArea.series.length>0&&_.push(B.draw(p.rangeArea.series,"rangeArea",p.rangeArea.i,p.rangeArea.seriesRangeEnd)),p.line.series.length>0&&(ee=_).push.apply(ee,L(ae.drawSeriesByGroup(p.line,u.lineGroups,"line",B))),p.candlestick.series.length>0&&_.push(P.draw(p.candlestick.series,"candlestick",p.candlestick.i)),p.boxPlot.series.length>0&&_.push(P.draw(p.boxPlot.series,"boxPlot",p.boxPlot.i)),p.rangeBar.series.length>0&&_.push(A.rangeBar.draw(p.rangeBar.series,p.rangeBar.i)),p.scatter.series.length>0){var Q=new qs(A,i,!0);_.push(Q.draw(p.scatter.series,"scatter",p.scatter.i))}if(p.bubble.series.length>0){var K=new qs(A,i,!0);_.push(K.draw(p.bubble.series,"bubble",p.bubble.i))}}else switch(h.chart.type){case"line":_=B.draw(u.series,"line");break;case"area":_=B.draw(u.series,"area");break;case"bar":h.chart.stacked?_=new Ot(A,i).draw(u.series):(A.bar=new br(A,i),_=A.bar.draw(u.series));break;case"candlestick":_=new cr(A,i).draw(u.series,"candlestick");break;case"boxPlot":_=new cr(A,i).draw(u.series,h.chart.type);break;case"rangeBar":_=A.rangeBar.draw(u.series);break;case"rangeArea":_=B.draw(u.seriesRangeStart,"rangeArea",void 0,u.seriesRangeEnd);break;case"heatmap":_=new ka(A,i).draw(u.series);break;case"treemap":_=new Xs(A,i).draw(u.series);break;case"pie":case"donut":case"polarArea":_=A.pie.draw(u.series);break;case"radialBar":_=R.draw(u.series);break;case"radar":_=z.draw(u.series);break;default:_=B.draw(u.series)}return _}},{key:"setSVGDimensions",value:function(){var n=this.w,i=n.globals,c=n.config;c.chart.width=c.chart.width||"100%",c.chart.height=c.chart.height||"auto",i.svgWidth=c.chart.width,i.svgHeight=c.chart.height;var A=M.getDimensions(this.el),h=c.chart.width.toString().split(/[0-9]+/g).pop();h==="%"?M.isNumber(A[0])&&(A[0].width===0&&(A=M.getDimensions(this.el.parentNode)),i.svgWidth=A[0]*parseInt(c.chart.width,10)/100):h!=="px"&&h!==""||(i.svgWidth=parseInt(c.chart.width,10));var u=String(c.chart.height).toString().split(/[0-9]+/g).pop();if(i.svgHeight!=="auto"&&i.svgHeight!=="")if(u==="%"){var p=M.getDimensions(this.el.parentNode);i.svgHeight=p[1]*parseInt(c.chart.height,10)/100}else i.svgHeight=parseInt(c.chart.height,10);else i.svgHeight=i.axisCharts?i.svgWidth/1.61:i.svgWidth/1.2;if(i.svgWidth=Math.max(i.svgWidth,0),i.svgHeight=Math.max(i.svgHeight,0),V.setAttrs(i.dom.Paper.node,{width:i.svgWidth,height:i.svgHeight}),u!=="%"){var x=c.chart.sparkline.enabled?0:i.axisCharts?c.chart.parentHeightOffset:0;i.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(i.svgHeight+x,"px")}i.dom.elWrap.style.width="".concat(i.svgWidth,"px"),i.dom.elWrap.style.height="".concat(i.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var n=this.w.globals,i=n.translateY,c=n.translateX;V.setAttrs(n.dom.elGraphical.node,{transform:"translate(".concat(c,", ").concat(i,")")})}},{key:"resizeNonAxisCharts",value:function(){var n=this.w,i=n.globals,c=0,A=n.config.chart.sparkline.enabled?1:15;A+=n.config.grid.padding.bottom,["top","bottom"].includes(n.config.legend.position)&&n.config.legend.show&&!n.config.legend.floating&&(c=new xt(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var h=n.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),u=2.05*n.globals.radialSize;if(h&&!n.config.chart.sparkline.enabled&&n.config.plotOptions.radialBar.startAngle!==0){var p=M.getBoundingClientRect(h);u=p.bottom;var x=p.bottom-p.top;u=Math.max(2.05*n.globals.radialSize,x)}var w=Math.ceil(u+i.translateY+c+A);i.dom.elLegendForeign&&i.dom.elLegendForeign.setAttribute("height",w),n.config.chart.height&&String(n.config.chart.height).includes("%")||(i.dom.elWrap.style.height="".concat(w,"px"),V.setAttrs(i.dom.Paper.node,{height:w}),i.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(w,"px"))}},{key:"coreCalculations",value:function(){new be(this.ctx).init()}},{key:"resetGlobals",value:function(){var n=this,i=function(){return n.w.config.series.map(function(){return[]})},c=new Ne,A=this.w.globals;c.initGlobalVars(A),A.seriesXvalues=i(),A.seriesYvalues=i()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var n=this.w,i=null;if(n.globals.axisCharts){if(n.config.xaxis.crosshairs.position==="back"&&new gt(this.ctx).drawXCrosshairs(),n.config.yaxis[0].crosshairs.position==="back"&&new gt(this.ctx).drawYCrosshairs(),n.config.xaxis.type==="datetime"&&n.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new hn(this.ctx);var c=[];isFinite(n.globals.minX)&&isFinite(n.globals.maxX)&&!n.globals.isBarHorizontal?c=this.ctx.timeScale.calculateTimeScaleTicks(n.globals.minX,n.globals.maxX):n.globals.isBarHorizontal&&(c=this.ctx.timeScale.calculateTimeScaleTicks(n.globals.minY,n.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(c)}i=new ue(this.ctx).getCalculatedRatios()}return i}},{key:"updateSourceChart",value:function(n){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:n.w.globals.minX,max:n.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var n=this,i=this.w;if(i.config.chart.brush.enabled&&typeof i.config.chart.events.selection!="function"){var c=Array.isArray(i.config.chart.brush.targets)?i.config.chart.brush.targets:[i.config.chart.brush.target];c.forEach(function(A){var h=ApexCharts.getChartByID(A);h.w.globals.brushSource=n.ctx,typeof h.w.config.chart.events.zoomed!="function"&&(h.w.config.chart.events.zoomed=function(){return n.updateSourceChart(h)}),typeof h.w.config.chart.events.scrolled!="function"&&(h.w.config.chart.events.scrolled=function(){return n.updateSourceChart(h)})}),i.config.chart.events.selection=function(A,h){c.forEach(function(u){ApexCharts.getChartByID(u).ctx.updateHelpers._updateOptions({xaxis:{min:h.xaxis.min,max:h.xaxis.max}},!1,!1,!1,!1)})}}}}]),te}(),uo=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"_updateOptions",value:function(n){var i=this,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],A=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],u=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(p){var x=[i.ctx];h&&(x=i.ctx.getSyncedCharts()),i.ctx.w.globals.isExecCalled&&(x=[i.ctx],i.ctx.w.globals.isExecCalled=!1),x.forEach(function(w,S){var B=w.w;if(B.globals.shouldAnimate=A,c||(B.globals.resized=!0,B.globals.dataChanged=!0,A&&w.series.getPreviousPaths()),n&&T(n)==="object"&&(w.config=new he(n),n=ue.extendArrayProps(w.config,n,B),w.w.globals.chartID!==i.ctx.w.globals.chartID&&delete n.series,B.config=M.extend(B.config,n),u&&(B.globals.lastXAxis=n.xaxis?M.clone(n.xaxis):[],B.globals.lastYAxis=n.yaxis?M.clone(n.yaxis):[],B.globals.initialConfig=M.extend({},B.config),B.globals.initialSeries=M.clone(B.config.series),n.series))){for(var P=0;P<B.globals.collapsedSeriesIndices.length;P++){var R=B.config.series[B.globals.collapsedSeriesIndices[P]];B.globals.collapsedSeries[P].data=B.globals.axisCharts?R.data.slice():R}for(var z=0;z<B.globals.ancillaryCollapsedSeriesIndices.length;z++){var _=B.config.series[B.globals.ancillaryCollapsedSeriesIndices[z]];B.globals.ancillaryCollapsedSeries[z].data=B.globals.axisCharts?_.data.slice():_}w.series.emptyCollapsedSeries(B.config.series)}return w.update(n).then(function(){S===x.length-1&&p(w)})})})}},{key:"_updateSeries",value:function(n,i){var c=this,A=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(h){var u,p=c.w;return p.globals.shouldAnimate=i,p.globals.dataChanged=!0,i&&c.ctx.series.getPreviousPaths(),p.globals.axisCharts?((u=n.map(function(x,w){return c._extendSeries(x,w)})).length===0&&(u=[{data:[]}]),p.config.series=u):p.config.series=n.slice(),A&&(p.globals.initialConfig.series=M.clone(p.config.series),p.globals.initialSeries=M.clone(p.config.series)),c.ctx.update().then(function(){h(c.ctx)})})}},{key:"_extendSeries",value:function(n,i){var c=this.w,A=c.config.series[i];return U(U({},c.config.series[i]),{},{name:n.name?n.name:A==null?void 0:A.name,color:n.color?n.color:A==null?void 0:A.color,type:n.type?n.type:A==null?void 0:A.type,group:n.group?n.group:A==null?void 0:A.group,hidden:n.hidden!==void 0?n.hidden:A==null?void 0:A.hidden,data:n.data?n.data:A==null?void 0:A.data,zIndex:n.zIndex!==void 0?n.zIndex:i})}},{key:"toggleDataPointSelection",value:function(n,i){var c=this.w,A=null,h=".apexcharts-series[data\\:realIndex='".concat(n,"']");return c.globals.axisCharts?A=c.globals.dom.Paper.select("".concat(h," path[j='").concat(i,"'], ").concat(h," circle[j='").concat(i,"'], ").concat(h," rect[j='").concat(i,"']")).members[0]:i===void 0&&(A=c.globals.dom.Paper.select("".concat(h," path[j='").concat(n,"']")).members[0],c.config.chart.type!=="pie"&&c.config.chart.type!=="polarArea"&&c.config.chart.type!=="donut"||this.ctx.pie.pieClicked(n)),A?(new V(this.ctx).pathMouseDown(A,null),A.node?A.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(n){var i=this.w;if(["min","max"].forEach(function(A){n.xaxis[A]!==void 0&&(i.config.xaxis[A]=n.xaxis[A],i.globals.lastXAxis[A]=n.xaxis[A])}),n.xaxis.categories&&n.xaxis.categories.length&&(i.config.xaxis.categories=n.xaxis.categories),i.config.xaxis.convertedCatToNumeric){var c=new de(n);n=c.convertCatToNumericXaxis(n,this.ctx)}return n}},{key:"forceYAxisUpdate",value:function(n){return n.chart&&n.chart.stacked&&n.chart.stackType==="100%"&&(Array.isArray(n.yaxis)?n.yaxis.forEach(function(i,c){n.yaxis[c].min=0,n.yaxis[c].max=100}):(n.yaxis.min=0,n.yaxis.max=100)),n}},{key:"revertDefaultAxisMinMax",value:function(n){var i=this,c=this.w,A=c.globals.lastXAxis,h=c.globals.lastYAxis;n&&n.xaxis&&(A=n.xaxis),n&&n.yaxis&&(h=n.yaxis),c.config.xaxis.min=A.min,c.config.xaxis.max=A.max;var u=function(p){h[p]!==void 0&&(c.config.yaxis[p].min=h[p].min,c.config.yaxis[p].max=h[p].max)};c.config.yaxis.map(function(p,x){c.globals.zoomed||h[x]!==void 0?u(x):i.ctx.opts.yaxis[x]!==void 0&&(p.min=i.ctx.opts.yaxis[x].min,p.max=i.ctx.opts.yaxis[x].max)})}}]),te}();Na=typeof window<"u"?window:void 0,Xa=function(te,n){var i=(this!==void 0?this:te).SVG=function(b){if(i.supported)return b=new i.Doc(b),i.parser.draw||i.prepare(),b};if(i.ns="http://www.w3.org/2000/svg",i.xmlns="http://www.w3.org/2000/xmlns/",i.xlink="http://www.w3.org/1999/xlink",i.svgjs="http://svgjs.dev",i.supported=!0,!i.supported)return!1;i.did=1e3,i.eid=function(b){return"Svgjs"+S(b)+i.did++},i.create=function(b){var Q=n.createElementNS(this.ns,b);return Q.setAttribute("id",this.eid(b)),Q},i.extend=function(){var b,Q;Q=(b=[].slice.call(arguments)).pop();for(var K=b.length-1;K>=0;K--)if(b[K])for(var ge in Q)b[K].prototype[ge]=Q[ge];i.Set&&i.Set.inherit&&i.Set.inherit()},i.invent=function(b){var Q=typeof b.create=="function"?b.create:function(){this.constructor.call(this,i.create(b.create))};return b.inherit&&(Q.prototype=new b.inherit),b.extend&&i.extend(Q,b.extend),b.construct&&i.extend(b.parent||i.Container,b.construct),Q},i.adopt=function(b){return b?b.instance?b.instance:((Q=b.nodeName=="svg"?b.parentNode instanceof te.SVGElement?new i.Nested:new i.Doc:b.nodeName=="linearGradient"?new i.Gradient("linear"):b.nodeName=="radialGradient"?new i.Gradient("radial"):i[S(b.nodeName)]?new i[S(b.nodeName)]:new i.Element(b)).type=b.nodeName,Q.node=b,b.instance=Q,Q instanceof i.Doc&&Q.namespace().defs(),Q.setData(JSON.parse(b.getAttribute("svgjs:data"))||{}),Q):null;var Q},i.prepare=function(){var b=n.getElementsByTagName("body")[0],Q=(b?new i.Doc(b):i.adopt(n.documentElement).nested()).size(2,0);i.parser={body:b||n.documentElement,draw:Q.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:Q.polyline().node,path:Q.path().node,native:i.create("svg")}},i.parser={native:i.create("svg")},n.addEventListener("DOMContentLoaded",function(){i.parser.draw||i.prepare()},!1),i.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},i.utils={map:function(b,Q){for(var K=b.length,ge=[],se=0;se<K;se++)ge.push(Q(b[se]));return ge},filter:function(b,Q){for(var K=b.length,ge=[],se=0;se<K;se++)Q(b[se])&&ge.push(b[se]);return ge},filterSVGElements:function(b){return this.filter(b,function(Q){return Q instanceof te.SVGElement})}},i.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},i.Color=function(b){var Q,K;this.r=0,this.g=0,this.b=0,b&&(typeof b=="string"?i.regex.isRgb.test(b)?(Q=i.regex.rgb.exec(b.replace(i.regex.whitespace,"")),this.r=parseInt(Q[1]),this.g=parseInt(Q[2]),this.b=parseInt(Q[3])):i.regex.isHex.test(b)&&(Q=i.regex.hex.exec((K=b).length==4?["#",K.substring(1,2),K.substring(1,2),K.substring(2,3),K.substring(2,3),K.substring(3,4),K.substring(3,4)].join(""):K),this.r=parseInt(Q[1],16),this.g=parseInt(Q[2],16),this.b=parseInt(Q[3],16)):T(b)==="object"&&(this.r=b.r,this.g=b.g,this.b=b.b))},i.extend(i.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+B(this.r)+B(this.g)+B(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(b){return this.destination=new i.Color(b),this},at:function(b){return this.destination?(b=b<0?0:b>1?1:b,new i.Color({r:~~(this.r+(this.destination.r-this.r)*b),g:~~(this.g+(this.destination.g-this.g)*b),b:~~(this.b+(this.destination.b-this.b)*b)})):this}}),i.Color.test=function(b){return b+="",i.regex.isHex.test(b)||i.regex.isRgb.test(b)},i.Color.isRgb=function(b){return b&&typeof b.r=="number"&&typeof b.g=="number"&&typeof b.b=="number"},i.Color.isColor=function(b){return i.Color.isRgb(b)||i.Color.test(b)},i.Array=function(b,Q){(b=(b||[]).valueOf()).length==0&&Q&&(b=Q.valueOf()),this.value=this.parse(b)},i.extend(i.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(b){return b=b.valueOf(),Array.isArray(b)?b:this.split(b)}}),i.PointArray=function(b,Q){i.Array.call(this,b,Q||[[0,0]])},i.PointArray.prototype=new i.Array,i.PointArray.prototype.constructor=i.PointArray;for(var c={M:function(b,Q,K){return Q.x=K.x=b[0],Q.y=K.y=b[1],["M",Q.x,Q.y]},L:function(b,Q){return Q.x=b[0],Q.y=b[1],["L",b[0],b[1]]},H:function(b,Q){return Q.x=b[0],["H",b[0]]},V:function(b,Q){return Q.y=b[0],["V",b[0]]},C:function(b,Q){return Q.x=b[4],Q.y=b[5],["C",b[0],b[1],b[2],b[3],b[4],b[5]]},Q:function(b,Q){return Q.x=b[2],Q.y=b[3],["Q",b[0],b[1],b[2],b[3]]},S:function(b,Q){return Q.x=b[2],Q.y=b[3],["S",b[0],b[1],b[2],b[3]]},Z:function(b,Q,K){return Q.x=K.x,Q.y=K.y,["Z"]}},A="mlhvqtcsaz".split(""),h=0,u=A.length;h<u;++h)c[A[h]]=function(b){return function(Q,K,ge){if(b=="H")Q[0]=Q[0]+K.x;else if(b=="V")Q[0]=Q[0]+K.y;else if(b=="A")Q[5]=Q[5]+K.x,Q[6]=Q[6]+K.y;else for(var se=0,me=Q.length;se<me;++se)Q[se]=Q[se]+(se%2?K.y:K.x);if(c&&typeof c[b]=="function")return c[b](Q,K,ge)}}(A[h].toUpperCase());i.PathArray=function(b,Q){i.Array.call(this,b,Q||[["M",0,0]])},i.PathArray.prototype=new i.Array,i.PathArray.prototype.constructor=i.PathArray,i.extend(i.PathArray,{toString:function(){return function(b){for(var Q=0,K=b.length,ge="";Q<K;Q++)ge+=b[Q][0],b[Q][1]!=null&&(ge+=b[Q][1],b[Q][2]!=null&&(ge+=" ",ge+=b[Q][2],b[Q][3]!=null&&(ge+=" ",ge+=b[Q][3],ge+=" ",ge+=b[Q][4],b[Q][5]!=null&&(ge+=" ",ge+=b[Q][5],ge+=" ",ge+=b[Q][6],b[Q][7]!=null&&(ge+=" ",ge+=b[Q][7])))));return ge+" "}(this.value)},move:function(b,Q){var K=this.bbox();return K.x,K.y,this},at:function(b){if(!this.destination)return this;for(var Q=this.value,K=this.destination.value,ge=[],se=new i.PathArray,me=0,Fe=Q.length;me<Fe;me++){ge[me]=[Q[me][0]];for(var Le=1,Oe=Q[me].length;Le<Oe;Le++)ge[me][Le]=Q[me][Le]+(K[me][Le]-Q[me][Le])*b;ge[me][0]==="A"&&(ge[me][4]=+(ge[me][4]!=0),ge[me][5]=+(ge[me][5]!=0))}return se.value=ge,se},parse:function(b){if(b instanceof i.PathArray)return b.valueOf();var Q,K={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};b=typeof b=="string"?b.replace(i.regex.numbersWithDots,x).replace(i.regex.pathLetters," $& ").replace(i.regex.hyphen,"$1 -").trim().split(i.regex.delimiter):b.reduce(function(Oe,$e){return[].concat.call(Oe,$e)},[]);var ge=[],se=new i.Point,me=new i.Point,Fe=0,Le=b.length;do i.regex.isPathLetter.test(b[Fe])?(Q=b[Fe],++Fe):Q=="M"?Q="L":Q=="m"&&(Q="l"),ge.push(c[Q].call(null,b.slice(Fe,Fe+=K[Q.toUpperCase()]).map(parseFloat),se,me));while(Le>Fe);return ge},bbox:function(){return i.parser.draw||i.prepare(),i.parser.path.setAttribute("d",this.toString()),i.parser.path.getBBox()}}),i.Number=i.invent({create:function(b,Q){this.value=0,this.unit=Q||"",typeof b=="number"?this.value=isNaN(b)?0:isFinite(b)?b:b<0?-34e37:34e37:typeof b=="string"?(Q=b.match(i.regex.numberAndUnit))&&(this.value=parseFloat(Q[1]),Q[5]=="%"?this.value/=100:Q[5]=="s"&&(this.value*=1e3),this.unit=Q[5]):b instanceof i.Number&&(this.value=b.valueOf(),this.unit=b.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(b){return b=new i.Number(b),new i.Number(this+b,this.unit||b.unit)},minus:function(b){return b=new i.Number(b),new i.Number(this-b,this.unit||b.unit)},times:function(b){return b=new i.Number(b),new i.Number(this*b,this.unit||b.unit)},divide:function(b){return b=new i.Number(b),new i.Number(this/b,this.unit||b.unit)},to:function(b){var Q=new i.Number(this);return typeof b=="string"&&(Q.unit=b),Q},morph:function(b){return this.destination=new i.Number(b),b.relative&&(this.destination.value+=this.value),this},at:function(b){return this.destination?new i.Number(this.destination).minus(this).times(b).plus(this):this}}}),i.Element=i.invent({create:function(b){this._stroke=i.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=b)&&(this.type=b.nodeName,this.node.instance=this,this._stroke=b.getAttribute("stroke")||this._stroke)},extend:{x:function(b){return this.attr("x",b)},y:function(b){return this.attr("y",b)},cx:function(b){return b==null?this.x()+this.width()/2:this.x(b-this.width()/2)},cy:function(b){return b==null?this.y()+this.height()/2:this.y(b-this.height()/2)},move:function(b,Q){return this.x(b).y(Q)},center:function(b,Q){return this.cx(b).cy(Q)},width:function(b){return this.attr("width",b)},height:function(b){return this.attr("height",b)},size:function(b,Q){var K=P(this,b,Q);return this.width(new i.Number(K.width)).height(new i.Number(K.height))},clone:function(b){this.writeDataToDom();var Q=_(this.node.cloneNode(!0));return b?b.add(Q):this.after(Q),Q},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(b){return this.after(b).remove(),b},addTo:function(b){return b.put(this)},putIn:function(b){return b.add(this)},id:function(b){return this.attr("id",b)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var b=this.attr("class");return b==null?[]:b.trim().split(i.regex.delimiter)},hasClass:function(b){return this.classes().indexOf(b)!=-1},addClass:function(b){if(!this.hasClass(b)){var Q=this.classes();Q.push(b),this.attr("class",Q.join(" "))}return this},removeClass:function(b){return this.hasClass(b)&&this.attr("class",this.classes().filter(function(Q){return Q!=b}).join(" ")),this},toggleClass:function(b){return this.hasClass(b)?this.removeClass(b):this.addClass(b)},reference:function(b){return i.get(this.attr(b))},parent:function(b){var Q=this;if(!Q.node.parentNode)return null;if(Q=i.adopt(Q.node.parentNode),!b)return Q;for(;Q&&Q.node instanceof te.SVGElement;){if(typeof b=="string"?Q.matches(b):Q instanceof b)return Q;if(!Q.node.parentNode||Q.node.parentNode.nodeName=="#document")return null;Q=i.adopt(Q.node.parentNode)}},doc:function(){return this instanceof i.Doc?this:this.parent(i.Doc)},parents:function(b){var Q=[],K=this;do{if(!(K=K.parent(b))||!K.node)break;Q.push(K)}while(K.parent);return Q},matches:function(b){return function(Q,K){return(Q.matches||Q.matchesSelector||Q.msMatchesSelector||Q.mozMatchesSelector||Q.webkitMatchesSelector||Q.oMatchesSelector).call(Q,K)}(this.node,b)},native:function(){return this.node},svg:function(b){var Q=n.createElementNS("http://www.w3.org/2000/svg","svg");if(!(b&&this instanceof i.Parent))return Q.appendChild(b=n.createElementNS("http://www.w3.org/2000/svg","svg")),this.writeDataToDom(),b.appendChild(this.node.cloneNode(!0)),Q.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");Q.innerHTML="<svg>"+b.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var K=0,ge=Q.firstChild.childNodes.length;K<ge;K++)this.node.appendChild(Q.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(b){return this.dom=b,this},is:function(b){return function(Q,K){return Q instanceof K}(this,b)}}}),i.easing={"-":function(b){return b},"<>":function(b){return-Math.cos(b*Math.PI)/2+.5},">":function(b){return Math.sin(b*Math.PI/2)},"<":function(b){return 1-Math.cos(b*Math.PI/2)}},i.morph=function(b){return function(Q,K){return new i.MorphObj(Q,K).at(b)}},i.Situation=i.invent({create:function(b){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new i.Number(b.duration).valueOf(),this.delay=new i.Number(b.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=b.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),i.FX=i.invent({create:function(b){this._target=b,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(b,Q,K){T(b)==="object"&&(Q=b.ease,K=b.delay,b=b.duration);var ge=new i.Situation({duration:b||1e3,delay:K||0,ease:i.easing[Q||"-"]||Q});return this.queue(ge),this},target:function(b){return b&&b instanceof i.Element?(this._target=b,this):this._target},timeToAbsPos:function(b){return(b-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(b){return this.situation.duration/this._speed*b+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=te.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){te.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(b){return(typeof b=="function"||b instanceof i.Situation)&&this.situations.push(b),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof i.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var b,Q=this.situation;if(Q.init)return this;for(var K in Q.animations){b=this.target()[K](),Array.isArray(b)||(b=[b]),Array.isArray(Q.animations[K])||(Q.animations[K]=[Q.animations[K]]);for(var ge=b.length;ge--;)Q.animations[K][ge]instanceof i.Number&&(b[ge]=new i.Number(b[ge])),Q.animations[K][ge]=b[ge].morph(Q.animations[K][ge])}for(var K in Q.attrs)Q.attrs[K]=new i.MorphObj(this.target().attr(K),Q.attrs[K]);for(var K in Q.styles)Q.styles[K]=new i.MorphObj(this.target().style(K),Q.styles[K]);return Q.initialTransformation=this.target().matrixify(),Q.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(b,Q){var K=this.active;return this.active=!1,Q&&this.clearQueue(),b&&this.situation&&(!K&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(b){var Q=this.last();return this.target().on("finished.fx",function K(ge){ge.detail.situation==Q&&(b.call(this,Q),this.off("finished.fx",K))}),this._callStart()},during:function(b){var Q=this.last(),K=function(ge){ge.detail.situation==Q&&b.call(this,ge.detail.pos,i.morph(ge.detail.pos),ge.detail.eased,Q)};return this.target().off("during.fx",K).on("during.fx",K),this.after(function(){this.off("during.fx",K)}),this._callStart()},afterAll:function(b){var Q=function K(ge){b.call(this),this.off("allfinished.fx",K)};return this.target().off("allfinished.fx",Q).on("allfinished.fx",Q),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(b,Q,K){return this.last()[K||"animations"][b]=Q,this._callStart()},step:function(b){var Q,K,ge;b||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(Q=Math.max(this.absPos,0),K=Math.floor(Q),this.situation.loops===!0||K<this.situation.loops?(this.pos=Q-K,ge=this.situation.loop,this.situation.loop=K):(this.absPos=this.situation.loops,this.pos=1,ge=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-ge)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var se=this.situation.ease(this.pos);for(var me in this.situation.once)me>this.lastPos&&me<=se&&(this.situation.once[me].call(this.target(),this.pos,se),delete this.situation.once[me]);return this.active&&this.target().fire("during",{pos:this.pos,eased:se,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=se,this):this},eachAt:function(){var b,Q=this,K=this.target(),ge=this.situation;for(var se in ge.animations)b=[].concat(ge.animations[se]).map(function(Le){return typeof Le!="string"&&Le.at?Le.at(ge.ease(Q.pos),Q.pos):Le}),K[se].apply(K,b);for(var se in ge.attrs)b=[se].concat(ge.attrs[se]).map(function(Oe){return typeof Oe!="string"&&Oe.at?Oe.at(ge.ease(Q.pos),Q.pos):Oe}),K.attr.apply(K,b);for(var se in ge.styles)b=[se].concat(ge.styles[se]).map(function(Oe){return typeof Oe!="string"&&Oe.at?Oe.at(ge.ease(Q.pos),Q.pos):Oe}),K.style.apply(K,b);if(ge.transforms.length){b=ge.initialTransformation,se=0;for(var me=ge.transforms.length;se<me;se++){var Fe=ge.transforms[se];Fe instanceof i.Matrix?b=Fe.relative?b.multiply(new i.Matrix().morph(Fe).at(ge.ease(this.pos))):b.morph(Fe).at(ge.ease(this.pos)):(Fe.relative||Fe.undo(b.extract()),b=b.multiply(Fe.at(ge.ease(this.pos))))}K.matrix(b)}return this},once:function(b,Q,K){var ge=this.last();return K||(b=ge.ease(b)),ge.once[b]=Q,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:i.Element,construct:{animate:function(b,Q,K){return(this.fx||(this.fx=new i.FX(this))).animate(b,Q,K)},delay:function(b){return(this.fx||(this.fx=new i.FX(this))).delay(b)},stop:function(b,Q){return this.fx&&this.fx.stop(b,Q),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),i.MorphObj=i.invent({create:function(b,Q){return i.Color.isColor(Q)?new i.Color(b).morph(Q):i.regex.delimiter.test(b)?i.regex.pathLetters.test(b)?new i.PathArray(b).morph(Q):new i.Array(b).morph(Q):i.regex.numberAndUnit.test(Q)?new i.Number(b).morph(Q):(this.value=b,void(this.destination=Q))},extend:{at:function(b,Q){return Q<1?this.value:this.destination},valueOf:function(){return this.value}}}),i.extend(i.FX,{attr:function(b,Q,K){if(T(b)==="object")for(var ge in b)this.attr(ge,b[ge]);else this.add(b,Q,"attrs");return this},plot:function(b,Q,K,ge){return arguments.length==4?this.plot([b,Q,K,ge]):this.add("plot",new(this.target()).morphArray(b))}}),i.Box=i.invent({create:function(b,Q,K,ge){if(!(T(b)!=="object"||b instanceof i.Element))return i.Box.call(this,b.left!=null?b.left:b.x,b.top!=null?b.top:b.y,b.width,b.height);var se;arguments.length==4&&(this.x=b,this.y=Q,this.width=K,this.height=ge),(se=this).x==null&&(se.x=0,se.y=0,se.width=0,se.height=0),se.w=se.width,se.h=se.height,se.x2=se.x+se.width,se.y2=se.y+se.height,se.cx=se.x+se.width/2,se.cy=se.y+se.height/2}}),i.BBox=i.invent({create:function(b){if(i.Box.apply(this,[].slice.call(arguments)),b instanceof i.Element){var Q;try{if(!n.documentElement.contains){for(var K=b.node;K.parentNode;)K=K.parentNode;if(K!=n)throw new Error("Element not in the dom")}Q=b.node.getBBox()}catch{if(b instanceof i.Shape){i.parser.draw||i.prepare();var ge=b.clone(i.parser.draw.instance).show();ge&&ge.node&&typeof ge.node.getBBox=="function"&&(Q=ge.node.getBBox()),ge&&typeof ge.remove=="function"&&ge.remove()}else Q={x:b.node.clientLeft,y:b.node.clientTop,width:b.node.clientWidth,height:b.node.clientHeight}}i.Box.call(this,Q)}},inherit:i.Box,parent:i.Element,construct:{bbox:function(){return new i.BBox(this)}}}),i.BBox.prototype.constructor=i.BBox,i.Matrix=i.invent({create:function(b){var Q=z([1,0,0,1,0,0]);b=b===null?Q:b instanceof i.Element?b.matrixify():typeof b=="string"?z(b.split(i.regex.delimiter).map(parseFloat)):arguments.length==6?z([].slice.call(arguments)):Array.isArray(b)?z(b):b&&T(b)==="object"?b:Q;for(var K=ee.length-1;K>=0;--K)this[ee[K]]=b[ee[K]]!=null?b[ee[K]]:Q[ee[K]]},extend:{extract:function(){var b=R(this,0,1);R(this,1,0);var Q=180/Math.PI*Math.atan2(b.y,b.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(Q*Math.PI/180)+this.f*Math.sin(Q*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(Q*Math.PI/180)+this.e*Math.sin(-Q*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:Q,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new i.Matrix(this)}},clone:function(){return new i.Matrix(this)},morph:function(b){return this.destination=new i.Matrix(b),this},multiply:function(b){return new i.Matrix(this.native().multiply(function(Q){return Q instanceof i.Matrix||(Q=new i.Matrix(Q)),Q}(b).native()))},inverse:function(){return new i.Matrix(this.native().inverse())},translate:function(b,Q){return new i.Matrix(this.native().translate(b||0,Q||0))},native:function(){for(var b=i.parser.native.createSVGMatrix(),Q=ee.length-1;Q>=0;Q--)b[ee[Q]]=this[ee[Q]];return b},toString:function(){return"matrix("+Z(this.a)+","+Z(this.b)+","+Z(this.c)+","+Z(this.d)+","+Z(this.e)+","+Z(this.f)+")"}},parent:i.Element,construct:{ctm:function(){return new i.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof i.Nested){var b=this.rect(1,1),Q=b.node.getScreenCTM();return b.remove(),new i.Matrix(Q)}return new i.Matrix(this.node.getScreenCTM())}}}),i.Point=i.invent({create:function(b,Q){var K;K=Array.isArray(b)?{x:b[0],y:b[1]}:T(b)==="object"?{x:b.x,y:b.y}:b!=null?{x:b,y:Q??b}:{x:0,y:0},this.x=K.x,this.y=K.y},extend:{clone:function(){return new i.Point(this)},morph:function(b,Q){return this.destination=new i.Point(b,Q),this}}}),i.extend(i.Element,{point:function(b,Q){return new i.Point(b,Q).transform(this.screenCTM().inverse())}}),i.extend(i.Element,{attr:function(b,Q,K){if(b==null){for(b={},K=(Q=this.node.attributes).length-1;K>=0;K--)b[Q[K].nodeName]=i.regex.isNumber.test(Q[K].nodeValue)?parseFloat(Q[K].nodeValue):Q[K].nodeValue;return b}if(T(b)==="object")for(var ge in b)this.attr(ge,b[ge]);else if(Q===null)this.node.removeAttribute(b);else{if(Q==null)return(Q=this.node.getAttribute(b))==null?i.defaults.attrs[b]:i.regex.isNumber.test(Q)?parseFloat(Q):Q;b=="stroke-width"?this.attr("stroke",parseFloat(Q)>0?this._stroke:null):b=="stroke"&&(this._stroke=Q),b!="fill"&&b!="stroke"||(i.regex.isImage.test(Q)&&(Q=this.doc().defs().image(Q,0,0)),Q instanceof i.Image&&(Q=this.doc().defs().pattern(0,0,function(){this.add(Q)}))),typeof Q=="number"?Q=new i.Number(Q):i.Color.isColor(Q)?Q=new i.Color(Q):Array.isArray(Q)&&(Q=new i.Array(Q)),b=="leading"?this.leading&&this.leading(Q):typeof K=="string"?this.node.setAttributeNS(K,b,Q.toString()):this.node.setAttribute(b,Q.toString()),!this.rebuild||b!="font-size"&&b!="x"||this.rebuild(b,Q)}return this}}),i.extend(i.Element,{transform:function(b,Q){var K;return T(b)!=="object"?(K=new i.Matrix(this).extract(),typeof b=="string"?K[b]:K):(K=new i.Matrix(this),Q=!!Q||!!b.relative,b.a!=null&&(K=Q?K.multiply(new i.Matrix(b)):new i.Matrix(b)),this.attr("transform",K))}}),i.extend(i.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(i.regex.transforms).slice(0,-1).map(function(b){var Q=b.trim().split("(");return[Q[0],Q[1].split(i.regex.delimiter).map(function(K){return parseFloat(K)})]}).reduce(function(b,Q){return Q[0]=="matrix"?b.multiply(z(Q[1])):b[Q[0]].apply(b,Q[1])},new i.Matrix)},toParent:function(b){if(this==b)return this;var Q=this.screenCTM(),K=b.screenCTM().inverse();return this.addTo(b).untransform().transform(K.multiply(Q)),this},toDoc:function(){return this.toParent(this.doc())}}),i.Transformation=i.invent({create:function(b,Q){if(arguments.length>1&&typeof Q!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(b))for(var K=0,ge=this.arguments.length;K<ge;++K)this[this.arguments[K]]=b[K];else if(b&&T(b)==="object")for(K=0,ge=this.arguments.length;K<ge;++K)this[this.arguments[K]]=b[this.arguments[K]];this.inversed=!1,Q===!0&&(this.inversed=!0)}}),i.Translate=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(b,Q){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),i.extend(i.Element,{style:function(b,Q){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(T(b)==="object")for(var K in b)this.style(K,b[K]);else{if(!i.regex.isCss.test(b))return this.node.style[w(b)];for(b=b.split(/\s*;\s*/).filter(function(ge){return!!ge}).map(function(ge){return ge.split(/\s*:\s*/)});Q=b.pop();)this.style(Q[0],Q[1])}else this.node.style[w(b)]=Q===null||i.regex.isBlank.test(Q)?"":Q;return this}}),i.Parent=i.invent({create:function(b){this.constructor.call(this,b)},inherit:i.Element,extend:{children:function(){return i.utils.map(i.utils.filterSVGElements(this.node.childNodes),function(b){return i.adopt(b)})},add:function(b,Q){return Q==null?this.node.appendChild(b.node):b.node!=this.node.childNodes[Q]&&this.node.insertBefore(b.node,this.node.childNodes[Q]),this},put:function(b,Q){return this.add(b,Q),b},has:function(b){return this.index(b)>=0},index:function(b){return[].slice.call(this.node.childNodes).indexOf(b.node)},get:function(b){return i.adopt(this.node.childNodes[b])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(b,Q){for(var K=this.children(),ge=0,se=K.length;ge<se;ge++)K[ge]instanceof i.Element&&b.apply(K[ge],[ge,K]),Q&&K[ge]instanceof i.Container&&K[ge].each(b,Q);return this},removeElement:function(b){return this.node.removeChild(b.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),i.extend(i.Parent,{ungroup:function(b,Q){return Q===0||this instanceof i.Defs||this.node==i.parser.draw||(b=b||(this instanceof i.Doc?this:this.parent(i.Parent)),Q=Q||1/0,this.each(function(){return this instanceof i.Defs?this:this instanceof i.Parent?this.ungroup(b,Q-1):this.toParent(b)}),this.node.firstChild||this.remove()),this},flatten:function(b,Q){return this.ungroup(b,Q)}}),i.Container=i.invent({create:function(b){this.constructor.call(this,b)},inherit:i.Parent}),i.ViewBox=i.invent({parent:i.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(b){i.Element.prototype[b]=function(Q){return i.on(this.node,b,Q),this}}),i.listeners=[],i.handlerMap=[],i.listenerId=0,i.on=function(b,Q,K,ge,se){var me=K.bind(ge||b.instance||b),Fe=(i.handlerMap.indexOf(b)+1||i.handlerMap.push(b))-1,Le=Q.split(".")[0],Oe=Q.split(".")[1]||"*";i.listeners[Fe]=i.listeners[Fe]||{},i.listeners[Fe][Le]=i.listeners[Fe][Le]||{},i.listeners[Fe][Le][Oe]=i.listeners[Fe][Le][Oe]||{},K._svgjsListenerId||(K._svgjsListenerId=++i.listenerId),i.listeners[Fe][Le][Oe][K._svgjsListenerId]=me,b.addEventListener(Le,me,se||{passive:!1})},i.off=function(b,Q,K){var ge=i.handlerMap.indexOf(b),se=Q&&Q.split(".")[0],me=Q&&Q.split(".")[1],Fe="";if(ge!=-1)if(K){if(typeof K=="function"&&(K=K._svgjsListenerId),!K)return;i.listeners[ge][se]&&i.listeners[ge][se][me||"*"]&&(b.removeEventListener(se,i.listeners[ge][se][me||"*"][K],!1),delete i.listeners[ge][se][me||"*"][K])}else if(me&&se){if(i.listeners[ge][se]&&i.listeners[ge][se][me]){for(var Le in i.listeners[ge][se][me])i.off(b,[se,me].join("."),Le);delete i.listeners[ge][se][me]}}else if(me)for(var Oe in i.listeners[ge])for(var Fe in i.listeners[ge][Oe])me===Fe&&i.off(b,[Oe,me].join("."));else if(se){if(i.listeners[ge][se]){for(var Fe in i.listeners[ge][se])i.off(b,[se,Fe].join("."));delete i.listeners[ge][se]}}else{for(var Oe in i.listeners[ge])i.off(b,Oe);delete i.listeners[ge],delete i.handlerMap[ge]}},i.extend(i.Element,{on:function(b,Q,K,ge){return i.on(this.node,b,Q,K,ge),this},off:function(b,Q){return i.off(this.node,b,Q),this},fire:function(b,Q){return b instanceof te.Event?this.node.dispatchEvent(b):this.node.dispatchEvent(b=new i.CustomEvent(b,{detail:Q,cancelable:!0})),this._event=b,this},event:function(){return this._event}}),i.Defs=i.invent({create:"defs",inherit:i.Container}),i.G=i.invent({create:"g",inherit:i.Container,extend:{x:function(b){return b==null?this.transform("x"):this.transform({x:b-this.x()},!0)}},construct:{group:function(){return this.put(new i.G)}}}),i.Doc=i.invent({create:function(b){b&&((b=typeof b=="string"?n.getElementById(b):b).nodeName=="svg"?this.constructor.call(this,b):(this.constructor.call(this,i.create("svg")),b.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:i.Container,extend:{namespace:function(){return this.attr({xmlns:i.ns,version:"1.1"}).attr("xmlns:xlink",i.xlink,i.xmlns).attr("xmlns:svgjs",i.svgjs,i.xmlns)},defs:function(){var b;return this._defs||((b=this.node.getElementsByTagName("defs")[0])?this._defs=i.adopt(b):this._defs=new i.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,i.parser.draw&&!i.parser.draw.parentNode&&this.node.appendChild(i.parser.draw),this},clone:function(b){this.writeDataToDom();var Q=this.node,K=_(Q.cloneNode(!0));return b?(b.node||b).appendChild(K.node):Q.parentNode.insertBefore(K.node,Q.nextSibling),K}}}),i.extend(i.Element,{}),i.Gradient=i.invent({create:function(b){this.constructor.call(this,i.create(b+"Gradient")),this.type=b},inherit:i.Container,extend:{at:function(b,Q,K){return this.put(new i.Stop).update(b,Q,K)},update:function(b){return this.clear(),typeof b=="function"&&b.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(b,Q,K){return b=="transform"&&(b="gradientTransform"),i.Container.prototype.attr.call(this,b,Q,K)}},construct:{gradient:function(b,Q){return this.defs().gradient(b,Q)}}}),i.extend(i.Gradient,i.FX,{from:function(b,Q){return(this._target||this).type=="radial"?this.attr({fx:new i.Number(b),fy:new i.Number(Q)}):this.attr({x1:new i.Number(b),y1:new i.Number(Q)})},to:function(b,Q){return(this._target||this).type=="radial"?this.attr({cx:new i.Number(b),cy:new i.Number(Q)}):this.attr({x2:new i.Number(b),y2:new i.Number(Q)})}}),i.extend(i.Defs,{gradient:function(b,Q){return this.put(new i.Gradient(b)).update(Q)}}),i.Stop=i.invent({create:"stop",inherit:i.Element,extend:{update:function(b){return(typeof b=="number"||b instanceof i.Number)&&(b={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),b.opacity!=null&&this.attr("stop-opacity",b.opacity),b.color!=null&&this.attr("stop-color",b.color),b.offset!=null&&this.attr("offset",new i.Number(b.offset)),this}}}),i.Pattern=i.invent({create:"pattern",inherit:i.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(b){return this.clear(),typeof b=="function"&&b.call(this,this),this},toString:function(){return this.fill()},attr:function(b,Q,K){return b=="transform"&&(b="patternTransform"),i.Container.prototype.attr.call(this,b,Q,K)}},construct:{pattern:function(b,Q,K){return this.defs().pattern(b,Q,K)}}}),i.extend(i.Defs,{pattern:function(b,Q,K){return this.put(new i.Pattern).update(K).attr({x:0,y:0,width:b,height:Q,patternUnits:"userSpaceOnUse"})}}),i.Shape=i.invent({create:function(b){this.constructor.call(this,b)},inherit:i.Element}),i.Symbol=i.invent({create:"symbol",inherit:i.Container,construct:{symbol:function(){return this.put(new i.Symbol)}}}),i.Use=i.invent({create:"use",inherit:i.Shape,extend:{element:function(b,Q){return this.attr("href",(Q||"")+"#"+b,i.xlink)}},construct:{use:function(b,Q){return this.put(new i.Use).element(b,Q)}}}),i.Rect=i.invent({create:"rect",inherit:i.Shape,construct:{rect:function(b,Q){return this.put(new i.Rect).size(b,Q)}}}),i.Circle=i.invent({create:"circle",inherit:i.Shape,construct:{circle:function(b){return this.put(new i.Circle).rx(new i.Number(b).divide(2)).move(0,0)}}}),i.extend(i.Circle,i.FX,{rx:function(b){return this.attr("r",b)},ry:function(b){return this.rx(b)}}),i.Ellipse=i.invent({create:"ellipse",inherit:i.Shape,construct:{ellipse:function(b,Q){return this.put(new i.Ellipse).size(b,Q).move(0,0)}}}),i.extend(i.Ellipse,i.Rect,i.FX,{rx:function(b){return this.attr("rx",b)},ry:function(b){return this.attr("ry",b)}}),i.extend(i.Circle,i.Ellipse,{x:function(b){return b==null?this.cx()-this.rx():this.cx(b+this.rx())},y:function(b){return b==null?this.cy()-this.ry():this.cy(b+this.ry())},cx:function(b){return b==null?this.attr("cx"):this.attr("cx",b)},cy:function(b){return b==null?this.attr("cy"):this.attr("cy",b)},width:function(b){return b==null?2*this.rx():this.rx(new i.Number(b).divide(2))},height:function(b){return b==null?2*this.ry():this.ry(new i.Number(b).divide(2))},size:function(b,Q){var K=P(this,b,Q);return this.rx(new i.Number(K.width).divide(2)).ry(new i.Number(K.height).divide(2))}}),i.Line=i.invent({create:"line",inherit:i.Shape,extend:{array:function(){return new i.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(b,Q,K,ge){return b==null?this.array():(b=Q!==void 0?{x1:b,y1:Q,x2:K,y2:ge}:new i.PointArray(b).toLine(),this.attr(b))},move:function(b,Q){return this.attr(this.array().move(b,Q).toLine())},size:function(b,Q){var K=P(this,b,Q);return this.attr(this.array().size(K.width,K.height).toLine())}},construct:{line:function(b,Q,K,ge){return i.Line.prototype.plot.apply(this.put(new i.Line),b!=null?[b,Q,K,ge]:[0,0,0,0])}}}),i.Polyline=i.invent({create:"polyline",inherit:i.Shape,construct:{polyline:function(b){return this.put(new i.Polyline).plot(b||new i.PointArray)}}}),i.Polygon=i.invent({create:"polygon",inherit:i.Shape,construct:{polygon:function(b){return this.put(new i.Polygon).plot(b||new i.PointArray)}}}),i.extend(i.Polyline,i.Polygon,{array:function(){return this._array||(this._array=new i.PointArray(this.attr("points")))},plot:function(b){return b==null?this.array():this.clear().attr("points",typeof b=="string"?b:this._array=new i.PointArray(b))},clear:function(){return delete this._array,this},move:function(b,Q){return this.attr("points",this.array().move(b,Q))},size:function(b,Q){var K=P(this,b,Q);return this.attr("points",this.array().size(K.width,K.height))}}),i.extend(i.Line,i.Polyline,i.Polygon,{morphArray:i.PointArray,x:function(b){return b==null?this.bbox().x:this.move(b,this.bbox().y)},y:function(b){return b==null?this.bbox().y:this.move(this.bbox().x,b)},width:function(b){var Q=this.bbox();return b==null?Q.width:this.size(b,Q.height)},height:function(b){var Q=this.bbox();return b==null?Q.height:this.size(Q.width,b)}}),i.Path=i.invent({create:"path",inherit:i.Shape,extend:{morphArray:i.PathArray,array:function(){return this._array||(this._array=new i.PathArray(this.attr("d")))},plot:function(b){return b==null?this.array():this.clear().attr("d",typeof b=="string"?b:this._array=new i.PathArray(b))},clear:function(){return delete this._array,this}},construct:{path:function(b){return this.put(new i.Path).plot(b||new i.PathArray)}}}),i.Image=i.invent({create:"image",inherit:i.Shape,extend:{load:function(b){if(!b)return this;var Q=this,K=new te.Image;return i.on(K,"load",function(){i.off(K);var ge=Q.parent(i.Pattern);ge!==null&&(Q.width()==0&&Q.height()==0&&Q.size(K.width,K.height),ge&&ge.width()==0&&ge.height()==0&&ge.size(Q.width(),Q.height()),typeof Q._loaded=="function"&&Q._loaded.call(Q,{width:K.width,height:K.height,ratio:K.width/K.height,url:b}))}),i.on(K,"error",function(ge){i.off(K),typeof Q._error=="function"&&Q._error.call(Q,ge)}),this.attr("href",K.src=this.src=b,i.xlink)},loaded:function(b){return this._loaded=b,this},error:function(b){return this._error=b,this}},construct:{image:function(b,Q,K){return this.put(new i.Image).load(b).size(Q||0,K||Q||0)}}}),i.Text=i.invent({create:function(){this.constructor.call(this,i.create("text")),this.dom.leading=new i.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",i.defaults.attrs["font-family"])},inherit:i.Shape,extend:{x:function(b){return b==null?this.attr("x"):this.attr("x",b)},text:function(b){if(b===void 0){b="";for(var Q=this.node.childNodes,K=0,ge=Q.length;K<ge;++K)K!=0&&Q[K].nodeType!=3&&i.adopt(Q[K]).dom.newLined==1&&(b+=`
`),b+=Q[K].textContent;return b}if(this.clear().build(!0),typeof b=="function")b.call(this,this);else{K=0;for(var se=(b=b.split(`
`)).length;K<se;K++)this.tspan(b[K]).newLine()}return this.build(!1).rebuild()},size:function(b){return this.attr("font-size",b).rebuild()},leading:function(b){return b==null?this.dom.leading:(this.dom.leading=new i.Number(b),this.rebuild())},lines:function(){var b=(this.textPath&&this.textPath()||this).node,Q=i.utils.map(i.utils.filterSVGElements(b.childNodes),function(K){return i.adopt(K)});return new i.Set(Q)},rebuild:function(b){if(typeof b=="boolean"&&(this._rebuild=b),this._rebuild){var Q=this,K=0,ge=this.dom.leading*new i.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(Q.textPath()||this.attr("x",Q.attr("x")),this.text()==`
`?K+=ge:(this.attr("dy",ge+K),K=0))}),this.fire("rebuild")}return this},build:function(b){return this._build=!!b,this},setData:function(b){return this.dom=b,this.dom.leading=new i.Number(b.leading||1.3),this}},construct:{text:function(b){return this.put(new i.Text).text(b)},plain:function(b){return this.put(new i.Text).plain(b)}}}),i.Tspan=i.invent({create:"tspan",inherit:i.Shape,extend:{text:function(b){return b==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof b=="function"?b.call(this,this):this.plain(b),this)},dx:function(b){return this.attr("dx",b)},dy:function(b){return this.attr("dy",b)},newLine:function(){var b=this.parent(i.Text);return this.dom.newLined=!0,this.dy(b.dom.leading*b.attr("font-size")).attr("x",b.x())}}}),i.extend(i.Text,i.Tspan,{plain:function(b){return this._build===!1&&this.clear(),this.node.appendChild(n.createTextNode(b)),this},tspan:function(b){var Q=(this.textPath&&this.textPath()||this).node,K=new i.Tspan;return this._build===!1&&this.clear(),Q.appendChild(K.node),K.text(b)},clear:function(){for(var b=(this.textPath&&this.textPath()||this).node;b.hasChildNodes();)b.removeChild(b.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),i.TextPath=i.invent({create:"textPath",inherit:i.Parent,parent:i.Text,construct:{morphArray:i.PathArray,array:function(){var b=this.track();return b?b.array():null},plot:function(b){var Q=this.track(),K=null;return Q&&(K=Q.plot(b)),b==null?K:this},track:function(){var b=this.textPath();if(b)return b.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return i.adopt(this.node.firstChild)}}}),i.Nested=i.invent({create:function(){this.constructor.call(this,i.create("svg")),this.style("overflow","visible")},inherit:i.Container,construct:{nested:function(){return this.put(new i.Nested)}}});var p={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(b,Q){return Q=="color"?b:b+"-"+Q}};function x(b,Q,K,ge){return K+ge.replace(i.regex.dots," .")}function w(b){return b.toLowerCase().replace(/-(.)/g,function(Q,K){return K.toUpperCase()})}function S(b){return b.charAt(0).toUpperCase()+b.slice(1)}function B(b){var Q=b.toString(16);return Q.length==1?"0"+Q:Q}function P(b,Q,K){if(Q==null||K==null){var ge=b.bbox();Q==null?Q=ge.width/ge.height*K:K==null&&(K=ge.height/ge.width*Q)}return{width:Q,height:K}}function R(b,Q,K){return{x:Q*b.a+K*b.c+0,y:Q*b.b+K*b.d+0}}function z(b){return{a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]}}function _(b){for(var Q=b.childNodes.length-1;Q>=0;Q--)b.childNodes[Q]instanceof te.SVGElement&&_(b.childNodes[Q]);return i.adopt(b).id(i.eid(b.nodeName))}function Z(b){return Math.abs(b)>1e-37?b:0}["fill","stroke"].forEach(function(b){var Q={};Q[b]=function(K){if(K===void 0)return this;if(typeof K=="string"||i.Color.isRgb(K)||K&&typeof K.fill=="function")this.attr(b,K);else for(var ge=p[b].length-1;ge>=0;ge--)K[p[b][ge]]!=null&&this.attr(p.prefix(b,p[b][ge]),K[p[b][ge]]);return this},i.extend(i.Element,i.FX,Q)}),i.extend(i.Element,i.FX,{translate:function(b,Q){return this.transform({x:b,y:Q})},matrix:function(b){return this.attr("transform",new i.Matrix(arguments.length==6?[].slice.call(arguments):b))},opacity:function(b){return this.attr("opacity",b)},dx:function(b){return this.x(new i.Number(b).plus(this instanceof i.FX?0:this.x()),!0)},dy:function(b){return this.y(new i.Number(b).plus(this instanceof i.FX?0:this.y()),!0)}}),i.extend(i.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(b){return this.node.getPointAtLength(b)}}),i.Set=i.invent({create:function(b){Array.isArray(b)?this.members=b:this.clear()},extend:{add:function(){for(var b=[].slice.call(arguments),Q=0,K=b.length;Q<K;Q++)this.members.push(b[Q]);return this},remove:function(b){var Q=this.index(b);return Q>-1&&this.members.splice(Q,1),this},each:function(b){for(var Q=0,K=this.members.length;Q<K;Q++)b.apply(this.members[Q],[Q,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(b){return this.index(b)>=0},index:function(b){return this.members.indexOf(b)},get:function(b){return this.members[b]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(b){return new i.Set(b)}}}),i.FX.Set=i.invent({create:function(b){this.set=b}}),i.Set.inherit=function(){var b=[];for(var Q in i.Shape.prototype)typeof i.Shape.prototype[Q]=="function"&&typeof i.Set.prototype[Q]!="function"&&b.push(Q);for(var Q in b.forEach(function(ge){i.Set.prototype[ge]=function(){for(var se=0,me=this.members.length;se<me;se++)this.members[se]&&typeof this.members[se][ge]=="function"&&this.members[se][ge].apply(this.members[se],arguments);return ge=="animate"?this.fx||(this.fx=new i.FX.Set(this)):this}}),b=[],i.FX.prototype)typeof i.FX.prototype[Q]=="function"&&typeof i.FX.Set.prototype[Q]!="function"&&b.push(Q);b.forEach(function(K){i.FX.Set.prototype[K]=function(){for(var ge=0,se=this.set.members.length;ge<se;ge++)this.set.members[ge].fx[K].apply(this.set.members[ge].fx,arguments);return this}})},i.extend(i.Element,{}),i.extend(i.Element,{remember:function(b,Q){if(T(arguments[0])==="object")for(var K in b)this.remember(K,b[K]);else{if(arguments.length==1)return this.memory()[b];this.memory()[b]=Q}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var b=arguments.length-1;b>=0;b--)delete this.memory()[arguments[b]];return this},memory:function(){return this._memory||(this._memory={})}}),i.get=function(b){var Q=n.getElementById(function(K){var ge=(K||"").toString().match(i.regex.reference);if(ge)return ge[1]}(b)||b);return i.adopt(Q)},i.select=function(b,Q){return new i.Set(i.utils.map((Q||n).querySelectorAll(b),function(K){return i.adopt(K)}))},i.extend(i.Parent,{select:function(b){return i.select(b,this.node)}});var ee="abcdef".split("");if(typeof te.CustomEvent!="function"){var ae=function(b,Q){Q=Q||{bubbles:!1,cancelable:!1,detail:void 0};var K=n.createEvent("CustomEvent");return K.initCustomEvent(b,Q.bubbles,Q.cancelable,Q.detail),K};ae.prototype=te.Event.prototype,i.CustomEvent=ae}else i.CustomEvent=te.CustomEvent;return i},T(t)==="object"?e.exports=Na.document?Xa(Na,Na.document):function(te){return Xa(te,te.document)}:Na.SVG=Xa(Na,Na.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(u,p){return this.add(u,p),!u.attr("in")&&this.autoSetIn&&u.attr("in",this.source),u.attr("result")||u.attr("result",u),u},blend:function(u,p,x){return this.put(new SVG.BlendEffect(u,p,x))},colorMatrix:function(u,p){return this.put(new SVG.ColorMatrixEffect(u,p))},convolveMatrix:function(u){return this.put(new SVG.ConvolveMatrixEffect(u))},componentTransfer:function(u){return this.put(new SVG.ComponentTransferEffect(u))},composite:function(u,p,x){return this.put(new SVG.CompositeEffect(u,p,x))},flood:function(u,p){return this.put(new SVG.FloodEffect(u,p))},offset:function(u,p){return this.put(new SVG.OffsetEffect(u,p))},image:function(u){return this.put(new SVG.ImageEffect(u))},merge:function(){var u=[void 0];for(var p in arguments)u.push(arguments[p]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,u)))},gaussianBlur:function(u,p){return this.put(new SVG.GaussianBlurEffect(u,p))},morphology:function(u,p){return this.put(new SVG.MorphologyEffect(u,p))},diffuseLighting:function(u,p,x){return this.put(new SVG.DiffuseLightingEffect(u,p,x))},displacementMap:function(u,p,x,w,S){return this.put(new SVG.DisplacementMapEffect(u,p,x,w,S))},specularLighting:function(u,p,x,w){return this.put(new SVG.SpecularLightingEffect(u,p,x,w))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(u,p,x,w,S){return this.put(new SVG.TurbulenceEffect(u,p,x,w,S))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(u){var p=this.put(new SVG.Filter);return typeof u=="function"&&u.call(p,p),p}}),SVG.extend(SVG.Container,{filter:function(u){return this.defs().filter(u)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(u){return this.filterer=u instanceof SVG.Element?u:this.doc().filter(u),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(u){return this.filterer&&u===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",u)},result:function(u){return u==null?this.attr("result"):this.attr("result",u)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",u)},result:function(u){return u==null?this.attr("result"):this.attr("result",u)},toString:function(){return this.result()}}});var te={blend:function(u,p){return this.parent()&&this.parent().blend(this,u,p)},colorMatrix:function(u,p){return this.parent()&&this.parent().colorMatrix(u,p).in(this)},convolveMatrix:function(u){return this.parent()&&this.parent().convolveMatrix(u).in(this)},componentTransfer:function(u){return this.parent()&&this.parent().componentTransfer(u).in(this)},composite:function(u,p){return this.parent()&&this.parent().composite(this,u,p)},flood:function(u,p){return this.parent()&&this.parent().flood(u,p)},offset:function(u,p){return this.parent()&&this.parent().offset(u,p).in(this)},image:function(u){return this.parent()&&this.parent().image(u)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(u,p){return this.parent()&&this.parent().gaussianBlur(u,p).in(this)},morphology:function(u,p){return this.parent()&&this.parent().morphology(u,p).in(this)},diffuseLighting:function(u,p,x){return this.parent()&&this.parent().diffuseLighting(u,p,x).in(this)},displacementMap:function(u,p,x,w){return this.parent()&&this.parent().displacementMap(this,u,p,x,w)},specularLighting:function(u,p,x,w){return this.parent()&&this.parent().specularLighting(u,p,x,w).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(u,p,x,w,S){return this.parent()&&this.parent().turbulence(u,p,x,w,S).in(this)}};SVG.extend(SVG.Effect,te),SVG.extend(SVG.ParentEffect,te),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(u){this.attr("in",u)}}});var n={blend:function(u,p,x){this.attr({in:u,in2:p,mode:x||"normal"})},colorMatrix:function(u,p){u=="matrix"&&(p=A(p)),this.attr({type:u,values:p===void 0?null:p})},convolveMatrix:function(u){u=A(u),this.attr({order:Math.sqrt(u.split(" ").length),kernelMatrix:u})},composite:function(u,p,x){this.attr({in:u,in2:p,operator:x})},flood:function(u,p){this.attr("flood-color",u),p!=null&&this.attr("flood-opacity",p)},offset:function(u,p){this.attr({dx:u,dy:p})},image:function(u){this.attr("href",u,SVG.xlink)},displacementMap:function(u,p,x,w,S){this.attr({in:u,in2:p,scale:x,xChannelSelector:w,yChannelSelector:S})},gaussianBlur:function(u,p){u!=null||p!=null?this.attr("stdDeviation",function(x){if(!Array.isArray(x))return x;for(var w=0,S=x.length,B=[];w<S;w++)B.push(x[w]);return B.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(u,p){this.attr({operator:u,radius:p})},tile:function(){},turbulence:function(u,p,x,w,S){this.attr({numOctaves:p,seed:x,stitchTiles:w,baseFrequency:u,type:S})}},i={merge:function(){var u;if(arguments[0]instanceof SVG.Set){var p=this;arguments[0].each(function(w){this instanceof SVG.MergeNode?p.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&p.put(new SVG.MergeNode(this))})}else{u=Array.isArray(arguments[0])?arguments[0]:arguments;for(var x=0;x<u.length;x++)u[x]instanceof SVG.MergeNode?this.put(u[x]):this.put(new SVG.MergeNode(u[x]))}},componentTransfer:function(u){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(x){this[x]=new SVG["Func"+x.toUpperCase()]("identity"),this.rgb.add(this[x]),this.node.appendChild(this[x].node)}).bind(this)),u)for(var p in u.rgb&&(["r","g","b"].forEach((function(x){this[x].attr(u.rgb)}).bind(this)),delete u.rgb),u)this[p].attr(u[p])},diffuseLighting:function(u,p,x){this.attr({surfaceScale:u,diffuseConstant:p,kernelUnitLength:x})},specularLighting:function(u,p,x,w){this.attr({surfaceScale:u,diffuseConstant:p,specularExponent:x,kernelUnitLength:w})}},c={distantLight:function(u,p){this.attr({azimuth:u,elevation:p})},pointLight:function(u,p,x){this.attr({x:u,y:p,z:x})},spotLight:function(u,p,x,w,S,B){this.attr({x:u,y:p,z:x,pointsAtX:w,pointsAtY:S,pointsAtZ:B})},mergeNode:function(u){this.attr("in",u)}};function A(u){return Array.isArray(u)&&(u=new SVG.Array(u)),u.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function h(){var u=function(){};for(var p in typeof arguments[arguments.length-1]=="function"&&(u=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var x in arguments[p])u(arguments[p][x],x,arguments[p])}["r","g","b","a"].forEach(function(u){c["Func"+u.toUpperCase()]=function(p){switch(this.attr("type",p),p){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),h(n,function(u,p){var x=p.charAt(0).toUpperCase()+p.slice(1);SVG[x+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+x)),u.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),h(i,function(u,p){var x=p.charAt(0).toUpperCase()+p.slice(1);SVG[x+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+x)),u.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),h(c,function(u,p){var x=p.charAt(0).toUpperCase()+p.slice(1);SVG[x]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+x)),u.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(u){return u instanceof SVG.MergeNode?this.add(u,0):this.add(new SVG.MergeNode(u),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",u)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function te(h,u,p,x,w,S,B){for(var P=h.slice(u,p||B),R=x.slice(w,S||B),z=0,_={pos:[0,0],start:[0,0]},Z={pos:[0,0],start:[0,0]};P[z]=n.call(_,P[z]),R[z]=n.call(Z,R[z]),P[z][0]!=R[z][0]||P[z][0]=="M"||P[z][0]=="A"&&(P[z][4]!=R[z][4]||P[z][5]!=R[z][5])?(Array.prototype.splice.apply(P,[z,1].concat(c.call(_,P[z]))),Array.prototype.splice.apply(R,[z,1].concat(c.call(Z,R[z])))):(P[z]=i.call(_,P[z]),R[z]=i.call(Z,R[z])),!(++z==P.length&&z==R.length);)z==P.length&&P.push(["C",_.pos[0],_.pos[1],_.pos[0],_.pos[1],_.pos[0],_.pos[1]]),z==R.length&&R.push(["C",Z.pos[0],Z.pos[1],Z.pos[0],Z.pos[1],Z.pos[0],Z.pos[1]]);return{start:P,dest:R}}function n(h){switch(h[0]){case"z":case"Z":h[0]="L",h[1]=this.start[0],h[2]=this.start[1];break;case"H":h[0]="L",h[2]=this.pos[1];break;case"V":h[0]="L",h[2]=h[1],h[1]=this.pos[0];break;case"T":h[0]="Q",h[3]=h[1],h[4]=h[2],h[1]=this.reflection[1],h[2]=this.reflection[0];break;case"S":h[0]="C",h[6]=h[4],h[5]=h[3],h[4]=h[2],h[3]=h[1],h[2]=this.reflection[1],h[1]=this.reflection[0]}return h}function i(h){var u=h.length;return this.pos=[h[u-2],h[u-1]],"SCQT".indexOf(h[0])!=-1&&(this.reflection=[2*this.pos[0]-h[u-4],2*this.pos[1]-h[u-3]]),h}function c(h){var u=[h];switch(h[0]){case"M":return this.pos=this.start=[h[1],h[2]],u;case"L":h[5]=h[3]=h[1],h[6]=h[4]=h[2],h[1]=this.pos[0],h[2]=this.pos[1];break;case"Q":h[6]=h[4],h[5]=h[3],h[4]=1*h[4]/3+2*h[2]/3,h[3]=1*h[3]/3+2*h[1]/3,h[2]=1*this.pos[1]/3+2*h[2]/3,h[1]=1*this.pos[0]/3+2*h[1]/3;break;case"A":u=function(p,x){var w,S,B,P,R,z,_,Z,ee,ae,b,Q,K,ge,se,me,Fe,Le,Oe,$e,Ge,Je,ot,ft,vt,It,Ft=Math.abs(x[1]),Pt=Math.abs(x[2]),Kt=x[3]%360,kt=x[4],Br=x[5],fr=x[6],_r=x[7],ir=new SVG.Point(p),rr=new SVG.Point(fr,_r),ar=[];if(Ft===0||Pt===0||ir.x===rr.x&&ir.y===rr.y)return[["C",ir.x,ir.y,rr.x,rr.y,rr.x,rr.y]];for(w=new SVG.Point((ir.x-rr.x)/2,(ir.y-rr.y)/2).transform(new SVG.Matrix().rotate(Kt)),(S=w.x*w.x/(Ft*Ft)+w.y*w.y/(Pt*Pt))>1&&(Ft*=S=Math.sqrt(S),Pt*=S),B=new SVG.Matrix().rotate(Kt).scale(1/Ft,1/Pt).rotate(-Kt),ir=ir.transform(B),rr=rr.transform(B),P=[rr.x-ir.x,rr.y-ir.y],z=P[0]*P[0]+P[1]*P[1],R=Math.sqrt(z),P[0]/=R,P[1]/=R,_=z<4?Math.sqrt(1-z/4):0,kt===Br&&(_*=-1),Z=new SVG.Point((rr.x+ir.x)/2+_*-P[1],(rr.y+ir.y)/2+_*P[0]),ee=new SVG.Point(ir.x-Z.x,ir.y-Z.y),ae=new SVG.Point(rr.x-Z.x,rr.y-Z.y),b=Math.acos(ee.x/Math.sqrt(ee.x*ee.x+ee.y*ee.y)),ee.y<0&&(b*=-1),Q=Math.acos(ae.x/Math.sqrt(ae.x*ae.x+ae.y*ae.y)),ae.y<0&&(Q*=-1),Br&&b>Q&&(Q+=2*Math.PI),!Br&&b<Q&&(Q-=2*Math.PI),ge=Math.ceil(2*Math.abs(b-Q)/Math.PI),me=[],Fe=b,K=(Q-b)/ge,se=4*Math.tan(K/4)/3,Ge=0;Ge<=ge;Ge++)Oe=Math.cos(Fe),Le=Math.sin(Fe),$e=new SVG.Point(Z.x+Oe,Z.y+Le),me[Ge]=[new SVG.Point($e.x+se*Le,$e.y-se*Oe),$e,new SVG.Point($e.x-se*Le,$e.y+se*Oe)],Fe+=K;for(me[0][0]=me[0][1].clone(),me[me.length-1][2]=me[me.length-1][1].clone(),B=new SVG.Matrix().rotate(Kt).scale(Ft,Pt).rotate(-Kt),Ge=0,Je=me.length;Ge<Je;Ge++)me[Ge][0]=me[Ge][0].transform(B),me[Ge][1]=me[Ge][1].transform(B),me[Ge][2]=me[Ge][2].transform(B);for(Ge=1,Je=me.length;Ge<Je;Ge++)ot=($e=me[Ge-1][2]).x,ft=$e.y,vt=($e=me[Ge][0]).x,It=$e.y,fr=($e=me[Ge][1]).x,_r=$e.y,ar.push(["C",ot,ft,vt,It,fr,_r]);return ar}(this.pos,h),h=u[0]}return h[0]="C",this.pos=[h[5],h[6]],this.reflection=[2*h[5]-h[3],2*h[6]-h[4]],u}function A(h,u){if(u===!1)return!1;for(var p=u,x=h.length;p<x;++p)if(h[p][0]=="M")return p;return!1}SVG.extend(SVG.PathArray,{morph:function(h){for(var u=this.value,p=this.parse(h),x=0,w=0,S=!1,B=!1;x!==!1||w!==!1;){var P;S=A(u,x!==!1&&x+1),B=A(p,w!==!1&&w+1),x===!1&&(x=(P=new SVG.PathArray(R.start).bbox()).height==0||P.width==0?u.push(u[0])-1:u.push(["M",P.x+P.width/2,P.y+P.height/2])-1),w===!1&&(w=(P=new SVG.PathArray(R.dest).bbox()).height==0||P.width==0?p.push(p[0])-1:p.push(["M",P.x+P.width/2,P.y+P.height/2])-1);var R=te(u,x,S,p,w,B);u=u.slice(0,x).concat(R.start,S===!1?[]:u.slice(S)),p=p.slice(0,w).concat(R.dest,B===!1?[]:p.slice(B)),x=S!==!1&&x+R.start.length,w=B!==!1&&w+R.dest.length}return this.value=u,this.destination=new SVG.PathArray,this.destination.value=p,this}})}(),(function(){function te(n){n.remember("_draggable",this),this.el=n}te.prototype.init=function(n,i){var c=this;this.constraint=n,this.value=i,this.el.on("mousedown.drag",function(A){c.start(A)}),this.el.on("touchstart.drag",function(A){c.start(A)})},te.prototype.transformPoint=function(n,i){var c=(n=n||window.event).changedTouches&&n.changedTouches[0]||n;return this.p.x=c.clientX-(i||0),this.p.y=c.clientY,this.p.matrixTransform(this.m)},te.prototype.getBBox=function(){var n=this.el.bbox();return this.el instanceof SVG.Nested&&(n=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(n.x=this.el.x(),n.y=this.el.y()),n},te.prototype.start=function(n){if(n.type!="click"&&n.type!="mousedown"&&n.type!="mousemove"||(n.which||n.buttons)==1){var i=this;if(this.el.fire("beforedrag",{event:n,handler:this}),!this.el.event().defaultPrevented){n.preventDefault(),n.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var c,A=this.getBBox();if(this.el instanceof SVG.Text)switch(c=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":c/=2;break;case"start":c=0}this.startPoints={point:this.transformPoint(n,c),box:A,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(h){i.drag(h)}),SVG.on(window,"touchmove.drag",function(h){i.drag(h)}),SVG.on(window,"mouseup.drag",function(h){i.end(h)}),SVG.on(window,"touchend.drag",function(h){i.end(h)}),this.el.fire("dragstart",{event:n,p:this.startPoints.point,m:this.m,handler:this})}}},te.prototype.drag=function(n){var i=this.getBBox(),c=this.transformPoint(n),A=this.startPoints.box.x+c.x-this.startPoints.point.x,h=this.startPoints.box.y+c.y-this.startPoints.point.y,u=this.constraint,p=c.x-this.startPoints.point.x,x=c.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:n,p:c,m:this.m,handler:this}),this.el.event().defaultPrevented)return c;if(typeof u=="function"){var w=u.call(this.el,A,h,this.m);typeof w=="boolean"&&(w={x:w,y:w}),w.x===!0?this.el.x(A):w.x!==!1&&this.el.x(w.x),w.y===!0?this.el.y(h):w.y!==!1&&this.el.y(w.y)}else typeof u=="object"&&(u.minX!=null&&A<u.minX?p=(A=u.minX)-this.startPoints.box.x:u.maxX!=null&&A>u.maxX-i.width&&(p=(A=u.maxX-i.width)-this.startPoints.box.x),u.minY!=null&&h<u.minY?x=(h=u.minY)-this.startPoints.box.y:u.maxY!=null&&h>u.maxY-i.height&&(x=(h=u.maxY-i.height)-this.startPoints.box.y),u.snapToGrid!=null&&(A-=A%u.snapToGrid,h-=h%u.snapToGrid,p-=p%u.snapToGrid,x-=x%u.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:p,y:x},!0):this.el.move(A,h));return c},te.prototype.end=function(n){var i=this.drag(n);this.el.fire("dragend",{event:n,p:i,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(n,i){typeof n!="function"&&typeof n!="object"||(i=n,n=!0);var c=this.remember("_draggable")||new te(this);return(n=n===void 0||n)?c.init(i||{},n):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function te(n){this.el=n,n.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(i,c,A){var h=typeof i!="string"?i:c[i];return A?h/2:h},this.pointCoords=function(i,c){var A=this.pointsList[i];return{x:this.pointCoord(A[0],c,i==="t"||i==="b"),y:this.pointCoord(A[1],c,i==="r"||i==="l")}}}te.prototype.init=function(n,i){var c=this.el.bbox();this.options={};var A=this.el.selectize.defaults.points;for(var h in this.el.selectize.defaults)this.options[h]=this.el.selectize.defaults[h],i[h]!==void 0&&(this.options[h]=i[h]);var u=["points","pointsExclude"];for(var h in u){var p=this.options[u[h]];typeof p=="string"?p=p.length>0?p.split(/\s*,\s*/i):[]:typeof p=="boolean"&&u[h]==="points"&&(p=p?A:[]),this.options[u[h]]=p}this.options.points=[A,this.options.points].reduce(function(x,w){return x.filter(function(S){return w.indexOf(S)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(x,w){return x.filter(function(S){return w.indexOf(S)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(c.x,c.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(n):this.selectRect(n),this.observe(),this.cleanup()},te.prototype.selectPoints=function(n){return this.pointSelection.isSelected=n,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},te.prototype.getPointArray=function(){var n=this.el.bbox();return this.el.array().valueOf().map(function(i){return[i[0]-n.x,i[1]-n.y]})},te.prototype.drawPoints=function(){for(var n=this,i=this.getPointArray(),c=0,A=i.length;c<A;++c){var h=function(p){return function(x){(x=x||window.event).preventDefault?x.preventDefault():x.returnValue=!1,x.stopPropagation();var w=x.pageX||x.touches[0].pageX,S=x.pageY||x.touches[0].pageY;n.el.fire("point",{x:w,y:S,i:p,event:x})}}(c),u=this.drawPoint(i[c][0],i[c][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",h).on("mousedown",h);this.pointSelection.set.add(u)}},te.prototype.drawPoint=function(n,i){var c=this.options.pointType;switch(c){case"circle":return this.drawCircle(n,i);case"rect":return this.drawRect(n,i);default:if(typeof c=="function")return c.call(this,n,i);throw new Error("Unknown "+c+" point type!")}},te.prototype.drawCircle=function(n,i){return this.nested.circle(this.options.pointSize).center(n,i)},te.prototype.drawRect=function(n,i){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(n,i)},te.prototype.updatePointSelection=function(){var n=this.getPointArray();this.pointSelection.set.each(function(i){this.cx()===n[i][0]&&this.cy()===n[i][1]||this.center(n[i][0],n[i][1])})},te.prototype.updateRectSelection=function(){var n=this,i=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:i.width,height:i.height}),this.options.points.length&&this.options.points.map(function(A,h){var u=n.pointCoords(A,i);n.rectSelection.set.get(h+1).center(u.x,u.y)}),this.options.rotationPoint){var c=this.rectSelection.set.length();this.rectSelection.set.get(c-1).center(i.width/2,20)}},te.prototype.selectRect=function(n){var i=this,c=this.el.bbox();function A(p){return function(x){(x=x||window.event).preventDefault?x.preventDefault():x.returnValue=!1,x.stopPropagation();var w=x.pageX||x.touches[0].pageX,S=x.pageY||x.touches[0].pageY;i.el.fire(p,{x:w,y:S,event:x})}}if(this.rectSelection.isSelected=n,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(c.width,c.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(p,x){var w=i.pointCoords(p,c),S=i.drawPoint(w.x,w.y).attr("class",i.options.classPoints+"_"+p).on("mousedown",A(p)).on("touchstart",A(p));i.rectSelection.set.add(S)}),this.rectSelection.set.each(function(){this.addClass(i.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var h=function(p){(p=p||window.event).preventDefault?p.preventDefault():p.returnValue=!1,p.stopPropagation();var x=p.pageX||p.touches[0].pageX,w=p.pageY||p.touches[0].pageY;i.el.fire("rot",{x,y:w,event:p})},u=this.drawPoint(c.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",h).on("mousedown",h);this.rectSelection.set.add(u)}},te.prototype.handler=function(){var n=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},te.prototype.observe=function(){var n=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){n.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){n.handler()})},te.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(n,i){return typeof n=="object"&&(i=n,n=!0),(this.remember("_selectHandler")||new te(this)).init(n===void 0||n,i||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function te(n){n.remember("_resizeHandler",this),this.el=n,this.parameters={},this.lastUpdateCall=null,this.p=n.doc().node.createSVGPoint()}te.prototype.transformPoint=function(n,i,c){return this.p.x=n-(this.offset.x-window.pageXOffset),this.p.y=i-(this.offset.y-window.pageYOffset),this.p.matrixTransform(c||this.m)},te.prototype._extractPosition=function(n){return{x:n.clientX!=null?n.clientX:n.touches[0].clientX,y:n.clientY!=null?n.clientY:n.touches[0].clientY}},te.prototype.init=function(n){var i=this;if(this.stop(),n!=="stop"){for(var c in this.options={},this.el.resize.defaults)this.options[c]=this.el.resize.defaults[c],n[c]!==void 0&&(this.options[c]=n[c]);this.el.on("lt.resize",function(A){i.resize(A||window.event)}),this.el.on("rt.resize",function(A){i.resize(A||window.event)}),this.el.on("rb.resize",function(A){i.resize(A||window.event)}),this.el.on("lb.resize",function(A){i.resize(A||window.event)}),this.el.on("t.resize",function(A){i.resize(A||window.event)}),this.el.on("r.resize",function(A){i.resize(A||window.event)}),this.el.on("b.resize",function(A){i.resize(A||window.event)}),this.el.on("l.resize",function(A){i.resize(A||window.event)}),this.el.on("rot.resize",function(A){i.resize(A||window.event)}),this.el.on("point.resize",function(A){i.resize(A||window.event)}),this.update()}},te.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},te.prototype.resize=function(n){var i=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var c=this._extractPosition(n.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(c.x,c.y),x:n.detail.x,y:n.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),n.detail.i!==void 0){var A=this.el.array().valueOf();this.parameters.i=n.detail.i,this.parameters.pointCoords=[A[n.detail.i][0],A[n.detail.i][1]]}switch(n.type){case"lt":this.calc=function(h,u){var p=this.snapToGrid(h,u);if(this.parameters.box.width-p[0]>0&&this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-p[0]);p=this.checkAspectRatio(p),this.el.move(this.parameters.box.x+p[0],this.parameters.box.y+p[1]).size(this.parameters.box.width-p[0],this.parameters.box.height-p[1])}};break;case"rt":this.calc=function(h,u){var p=this.snapToGrid(h,u,2);if(this.parameters.box.width+p[0]>0&&this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+p[0]);p=this.checkAspectRatio(p,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+p[1]).size(this.parameters.box.width+p[0],this.parameters.box.height-p[1])}};break;case"rb":this.calc=function(h,u){var p=this.snapToGrid(h,u,0);if(this.parameters.box.width+p[0]>0&&this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+p[0]);p=this.checkAspectRatio(p),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+p[0],this.parameters.box.height+p[1])}};break;case"lb":this.calc=function(h,u){var p=this.snapToGrid(h,u,1);if(this.parameters.box.width-p[0]>0&&this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-p[0]);p=this.checkAspectRatio(p,!0),this.el.move(this.parameters.box.x+p[0],this.parameters.box.y).size(this.parameters.box.width-p[0],this.parameters.box.height+p[1])}};break;case"t":this.calc=function(h,u){var p=this.snapToGrid(h,u,2);if(this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+p[1]).height(this.parameters.box.height-p[1])}};break;case"r":this.calc=function(h,u){var p=this.snapToGrid(h,u,0);if(this.parameters.box.width+p[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+p[0])}};break;case"b":this.calc=function(h,u){var p=this.snapToGrid(h,u,0);if(this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+p[1])}};break;case"l":this.calc=function(h,u){var p=this.snapToGrid(h,u,1);if(this.parameters.box.width-p[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+p[0],this.parameters.box.y).width(this.parameters.box.width-p[0])}};break;case"rot":this.calc=function(h,u){var p=h+this.parameters.p.x,x=u+this.parameters.p.y,w=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),S=Math.atan2(x-this.parameters.box.y-this.parameters.box.height/2,p-this.parameters.box.x-this.parameters.box.width/2),B=this.parameters.rotation+180*(S-w)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(B-B%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(h,u){var p=this.snapToGrid(h,u,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),x=this.el.array().valueOf();x[this.parameters.i][0]=this.parameters.pointCoords[0]+p[0],x[this.parameters.i][1]=this.parameters.pointCoords[1]+p[1],this.el.plot(x)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:n}),SVG.on(window,"touchmove.resize",function(h){i.update(h||window.event)}),SVG.on(window,"touchend.resize",function(){i.done()}),SVG.on(window,"mousemove.resize",function(h){i.update(h||window.event)}),SVG.on(window,"mouseup.resize",function(){i.done()})},te.prototype.update=function(n){if(n){var i=this._extractPosition(n),c=this.transformPoint(i.x,i.y),A=c.x-this.parameters.p.x,h=c.y-this.parameters.p.y;this.lastUpdateCall=[A,h],this.calc(A,h),this.el.fire("resizing",{dx:A,dy:h,event:n})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},te.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},te.prototype.snapToGrid=function(n,i,c,A){var h;return A!==void 0?h=[(c+n)%this.options.snapToGrid,(A+i)%this.options.snapToGrid]:(c=c??3,h=[(this.parameters.box.x+n+(1&c?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+i+(2&c?0:this.parameters.box.height))%this.options.snapToGrid]),n<0&&(h[0]-=this.options.snapToGrid),i<0&&(h[1]-=this.options.snapToGrid),n-=Math.abs(h[0])<this.options.snapToGrid/2?h[0]:h[0]-(n<0?-this.options.snapToGrid:this.options.snapToGrid),i-=Math.abs(h[1])<this.options.snapToGrid/2?h[1]:h[1]-(i<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(n,i,c,A)},te.prototype.constraintToBox=function(n,i,c,A){var h,u,p=this.options.constraint||{};return A!==void 0?(h=c,u=A):(h=this.parameters.box.x+(1&c?0:this.parameters.box.width),u=this.parameters.box.y+(2&c?0:this.parameters.box.height)),p.minX!==void 0&&h+n<p.minX&&(n=p.minX-h),p.maxX!==void 0&&h+n>p.maxX&&(n=p.maxX-h),p.minY!==void 0&&u+i<p.minY&&(i=p.minY-u),p.maxY!==void 0&&u+i>p.maxY&&(i=p.maxY-u),[n,i]},te.prototype.checkAspectRatio=function(n,i){if(!this.options.saveAspectRatio)return n;var c=n.slice(),A=this.parameters.box.width/this.parameters.box.height,h=this.parameters.box.width+n[0],u=this.parameters.box.height-n[1],p=h/u;return p<A?(c[1]=h/A-this.parameters.box.height,i&&(c[1]=-c[1])):p>A&&(c[0]=this.parameters.box.width-u*A,i&&(c[0]=-c[0])),c},SVG.extend(SVG.Element,{resize:function(n){return(this.remember("_resizeHandler")||new te(this)).init(n||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var Ii=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new re(this.ctx),this.ctx.axes=new At(this.ctx),this.ctx.core=new Li(this.ctx.el,this.ctx),this.ctx.config=new he({}),this.ctx.data=new tt(this.ctx),this.ctx.grid=new Qt(this.ctx),this.ctx.graphics=new V(this.ctx),this.ctx.coreUtils=new ue(this.ctx),this.ctx.crosshairs=new gt(this.ctx),this.ctx.events=new dt(this.ctx),this.ctx.exports=new ct(this.ctx),this.ctx.fill=new Se(this.ctx),this.ctx.localization=new nt(this.ctx),this.ctx.options=new fe,this.ctx.responsive=new ut(this.ctx),this.ctx.series=new Ke(this.ctx),this.ctx.theme=new Et(this.ctx),this.ctx.formatters=new oe(this.ctx),this.ctx.titleSubtitle=new Rt(this.ctx),this.ctx.legend=new xt(this.ctx),this.ctx.toolbar=new wa(this.ctx),this.ctx.tooltip=new Rr(this.ctx),this.ctx.dimensions=new Lt(this.ctx),this.ctx.updateHelpers=new uo(this.ctx),this.ctx.zoomPanSelection=new lr(this.ctx),this.ctx.w.globals.tooltip=new Rr(this.ctx)}}]),te}(),Pi=function(){function te(n){o(this,te),this.ctx=n,this.w=n.w}return d(te,[{key:"clear",value:function(n){var i=n.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:i})}},{key:"killSVG",value:function(n){n.each(function(){this.removeClass("*"),this.off(),this.stop()},!0),n.ungroup(),n.clear()}},{key:"clearDomElements",value:function(n){var i=this,c=n.isUpdating,A=this.w.globals.dom.Paper.node;A.parentNode&&A.parentNode.parentNode&&!c&&(A.parentNode.parentNode.style.minHeight="unset");var h=this.w.globals.dom.baseEl;h&&this.ctx.eventList.forEach(function(p){h.removeEventListener(p,i.ctx.events.documentEvent)});var u=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(u.Paper),u.Paper.remove(),u.elWrap=null,u.elGraphical=null,u.elLegendWrap=null,u.elLegendForeign=null,u.baseEl=null,u.elGridRect=null,u.elGridRectMask=null,u.elGridRectBarMask=null,u.elGridRectMarkerMask=null,u.elForecastMask=null,u.elNonForecastMask=null,u.elDefs=null}}]),te}(),oi=new WeakMap,uc=function(){function te(n,i){o(this,te),this.opts=i,this.ctx=this,this.w=new Ee(i).init(),this.el=n,this.w.globals.cuid=M.randomId(),this.w.globals.chartID=this.w.config.chart.id?M.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ii(this).initModules(),this.create=M.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return d(te,[{key:"render",value:function(){var n=this;return new Promise(function(i,c){if(n.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),n.w.config.chart.id&&Apex._chartInstances.push({id:n.w.globals.chartID,group:n.w.config.chart.group,chart:n}),n.setLocale(n.w.config.chart.defaultLocale);var A=n.w.config.chart.events.beforeMount;typeof A=="function"&&A(n,n.w),n.events.fireEvent("beforeMount",[n,n.w]),window.addEventListener("resize",n.windowResizeHandler),function(P,R){var z=!1;if(P.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var _=P.getBoundingClientRect();P.style.display!=="none"&&_.width!==0||(z=!0)}var Z=new ResizeObserver(function(ee){z&&R.call(P,ee),z=!0});P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(P.children).forEach(function(ee){return Z.observe(ee)}):Z.observe(P),oi.set(R,Z)}(n.el.parentNode,n.parentResizeHandler);var h=n.el.getRootNode&&n.el.getRootNode(),u=M.is("ShadowRoot",h),p=n.el.ownerDocument,x=u?h.getElementById("apexcharts-css"):p.getElementById("apexcharts-css");if(!x){var w;(x=document.createElement("style")).id="apexcharts-css",x.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,
.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,
.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,
.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}
`;var S=((w=n.opts.chart)===null||w===void 0?void 0:w.nonce)||n.w.config.chart.nonce;S&&x.setAttribute("nonce",S),u?h.prepend(x):p.head.appendChild(x)}var B=n.create(n.w.config.series,{});if(!B)return i(n);n.mount(B).then(function(){typeof n.w.config.chart.events.mounted=="function"&&n.w.config.chart.events.mounted(n,n.w),n.events.fireEvent("mounted",[n,n.w]),i(B)}).catch(function(P){c(P)})}else c(new Error("Element not found"))})}},{key:"create",value:function(n,i){var c=this,A=this.w;new Ii(this).initModules();var h=this.w.globals;if(h.noData=!1,h.animationEnded=!1,this.responsive.checkResponsiveConfig(i),A.config.xaxis.convertedCatToNumeric&&new de(A.config).convertCatToNumericXaxis(A.config,this.ctx),this.el===null||(this.core.setupElements(),A.config.chart.type==="treemap"&&(A.config.grid.show=!1,A.config.yaxis[0].show=!1),h.svgWidth===0))return h.animationEnded=!0,null;var u=n;n.forEach(function(P,R){P.hidden&&(u=c.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:R}))});var p=ue.checkComboSeries(u,A.config.chart.type);h.comboCharts=p.comboCharts,h.comboBarCount=p.comboBarCount;var x=u.every(function(P){return P.data&&P.data.length===0});(u.length===0||x&&h.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(u),this.theme.init(),new Ie(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),h.noData&&h.collapsedSeries.length!==h.series.length&&!A.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),h.axisCharts&&(this.core.coreCalculations(),A.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=A.globals.minX,this.ctx.toolbar.maxX=A.globals.maxX),this.formatters.heatmapLabelFormatters(),new ue(this).getLargestMarkerSize(),this.dimensions.plotCoords();var w=this.core.xySettings();this.grid.createGridMask();var S=this.core.plotChartType(u,w),B=new Qe(this);return B.bringForward(),A.config.dataLabels.background.enabled&&B.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:S,xyRatios:w,dimensions:{plot:{left:A.globals.translateX,top:A.globals.translateY,width:A.globals.gridWidth,height:A.globals.gridHeight}}}}},{key:"mount",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,c=this,A=c.w;return new Promise(function(h,u){if(c.el===null)return u(new Error("Not enough data to display or target element not found"));(i===null||A.globals.allSeriesCollapsed)&&c.series.handleNoData(),c.grid=new Qt(c);var p,x,w=c.grid.drawGrid();if(c.annotations=new je(c),c.annotations.drawImageAnnos(),c.annotations.drawTextAnnos(),A.config.grid.position==="back"&&(w&&A.globals.dom.elGraphical.add(w.el),w!=null&&(p=w.elGridBorders)!==null&&p!==void 0&&p.node&&A.globals.dom.elGraphical.add(w.elGridBorders)),Array.isArray(i.elGraph))for(var S=0;S<i.elGraph.length;S++)A.globals.dom.elGraphical.add(i.elGraph[S]);else A.globals.dom.elGraphical.add(i.elGraph);A.config.grid.position==="front"&&(w&&A.globals.dom.elGraphical.add(w.el),w!=null&&(x=w.elGridBorders)!==null&&x!==void 0&&x.node&&A.globals.dom.elGraphical.add(w.elGridBorders)),A.config.xaxis.crosshairs.position==="front"&&c.crosshairs.drawXCrosshairs(),A.config.yaxis[0].crosshairs.position==="front"&&c.crosshairs.drawYCrosshairs(),A.config.chart.type!=="treemap"&&c.axes.drawAxis(A.config.chart.type,w);var B=new lt(n.ctx,w),P=new yt(n.ctx,w);if(w!==null&&(B.xAxisLabelCorrections(w.xAxisTickWidth),P.setYAxisTextAlignments(),A.config.yaxis.map(function(z,_){A.globals.ignoreYAxisIndexes.indexOf(_)===-1&&P.yAxisTitleRotate(_,z.opposite)})),c.annotations.drawAxesAnnotations(),!A.globals.noData){if(A.config.tooltip.enabled&&!A.globals.noData&&c.w.globals.tooltip.drawTooltip(i.xyRatios),A.globals.axisCharts&&(A.globals.isXNumeric||A.config.xaxis.convertedCatToNumeric||A.globals.isRangeBar))(A.config.chart.zoom.enabled||A.config.chart.selection&&A.config.chart.selection.enabled||A.config.chart.pan&&A.config.chart.pan.enabled)&&c.zoomPanSelection.init({xyRatios:i.xyRatios});else{var R=A.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(z){R[z]=!1})}A.config.chart.toolbar.show&&!A.globals.allSeriesCollapsed&&c.toolbar.createToolbar()}A.globals.memory.methodsToExec.length>0&&A.globals.memory.methodsToExec.forEach(function(z){z.method(z.params,!1,z.context)}),A.globals.axisCharts||A.globals.noData||c.core.resizeNonAxisCharts(),h(c)})}},{key:"destroy",value:function(){var n,i;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,n=this.parentResizeHandler,(i=oi.get(n))&&(i.disconnect(),oi.delete(n));var c=this.w.config.chart.id;c&&Apex._chartInstances.forEach(function(A,h){A.id===M.escapeString(c)&&Apex._chartInstances.splice(h,1)}),new Pi(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(n){var i=this,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],A=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],u=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],p=this.w;return p.globals.selection=void 0,n.series&&(this.series.resetSeries(!1,!0,!1),n.series.length&&n.series[0].data&&(n.series=n.series.map(function(x,w){return i.updateHelpers._extendSeries(x,w)})),this.updateHelpers.revertDefaultAxisMinMax()),n.xaxis&&(n=this.updateHelpers.forceXAxisUpdate(n)),n.yaxis&&(n=this.updateHelpers.forceYAxisUpdate(n)),p.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),n.theme&&(n=this.theme.updateThemeOptions(n)),this.updateHelpers._updateOptions(n,c,A,h,u)}},{key:"updateSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,i,c)}},{key:"appendSeries",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],A=this.w.config.series.slice();return A.push(n),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(A,i,c)}},{key:"appendData",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=this;c.w.globals.dataChanged=!0,c.series.getPreviousPaths();for(var A=c.w.config.series.slice(),h=0;h<A.length;h++)if(n[h]!==null&&n[h]!==void 0)for(var u=0;u<n[h].data.length;u++)A[h].data.push(n[h].data[u]);return c.w.config.series=A,i&&(c.w.globals.initialSeries=M.clone(c.w.config.series)),this.update()}},{key:"update",value:function(n){var i=this;return new Promise(function(c,A){new Pi(i.ctx).clear({isUpdating:!0});var h=i.create(i.w.config.series,n);if(!h)return c(i);i.mount(h).then(function(){typeof i.w.config.chart.events.updated=="function"&&i.w.config.chart.events.updated(i,i.w),i.events.fireEvent("updated",[i,i.w]),i.w.globals.isDirty=!0,c(i)}).catch(function(u){A(u)})})}},{key:"getSyncedCharts",value:function(){var n=this.getGroupedCharts(),i=[this];return n.length&&(i=[],n.forEach(function(c){i.push(c)})),i}},{key:"getGroupedCharts",value:function(){var n=this;return Apex._chartInstances.filter(function(i){if(i.group)return!0}).map(function(i){return n.w.config.chart.group===i.group?i.chart:n})}},{key:"toggleSeries",value:function(n){return this.series.toggleSeries(n)}},{key:"highlightSeriesOnLegendHover",value:function(n,i){return this.series.toggleSeriesOnHover(n,i)}},{key:"showSeries",value:function(n){this.series.showSeries(n)}},{key:"hideSeries",value:function(n){this.series.hideSeries(n)}},{key:"highlightSeries",value:function(n){this.series.highlightSeries(n)}},{key:"isSeriesHidden",value:function(n){this.series.isSeriesHidden(n)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(n,i)}},{key:"addEventListener",value:function(n,i){this.events.addEventListener(n,i)}},{key:"removeEventListener",value:function(n,i){this.events.removeEventListener(n,i)}},{key:"addXaxisAnnotation",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,A=this;c&&(A=c),A.annotations.addXaxisAnnotationExternal(n,i,A)}},{key:"addYaxisAnnotation",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,A=this;c&&(A=c),A.annotations.addYaxisAnnotationExternal(n,i,A)}},{key:"addPointAnnotation",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,A=this;c&&(A=c),A.annotations.addPointAnnotationExternal(n,i,A)}},{key:"clearAnnotations",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=this;n&&(i=n),i.annotations.clearAnnotations(i)}},{key:"removeAnnotation",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,c=this;i&&(c=i),c.annotations.removeAnnotation(c,n)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(n,i){return this.coreUtils.getSeriesTotalsXRange(n,i)}},{key:"getHighestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new be(this.ctx).getMinYMaxY(n).highestY}},{key:"getLowestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new be(this.ctx).getMinYMaxY(n).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(n,i){return this.updateHelpers.toggleDataPointSelection(n,i)}},{key:"zoomX",value:function(n,i){this.ctx.toolbar.zoomUpdateOptions(n,i)}},{key:"setLocale",value:function(n){this.localization.setCurrentLocaleValues(n)}},{key:"dataURI",value:function(n){return new ct(this.ctx).dataURI(n)}},{key:"exportToCSV",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new ct(this.ctx).exportToCSV(n)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var n=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){n.w.globals.resized=!0,n.w.globals.dataChanged=!1,n.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var n=this.w.config.chart.redrawOnWindowResize;typeof n=="function"&&(n=n()),n&&this._windowResize()}}],[{key:"getChartByID",value:function(n){var i=M.escapeString(n);if(Apex._chartInstances){var c=Apex._chartInstances.filter(function(A){return A.id===i})[0];return c&&c.chart}}},{key:"initOnLoad",value:function(){for(var n=document.querySelectorAll("[data-apexcharts]"),i=0;i<n.length;i++)new te(n[i],JSON.parse(n[i].getAttribute("data-options"))).render()}},{key:"exec",value:function(n,i){var c=this.getChartByID(n);if(c){c.w.globals.isExecCalled=!0;var A=null;if(c.publicMethods.indexOf(i)!==-1){for(var h=arguments.length,u=new Array(h>2?h-2:0),p=2;p<h;p++)u[p-2]=arguments[p];A=c[i].apply(c,u)}return A}}},{key:"merge",value:function(n,i){return M.extend(n,i)}}]),te}();e.exports=uc})(px,px.exports);var UE=px.exports,EB={exports:{}},QE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DE=QE,TE=DE;function LB(){}function IB(){}IB.resetWarningCache=LB;var RE=function(){function e(s,o,l,d,g,f){if(f!==TE){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:IB,resetWarningCache:LB};return a.PropTypes=a,a};EB.exports=RE();var ME=EB.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=T;var t=g(X),a=l(UE),s=l(ME),o=["type","width","height","series","options"];function l(q){return q&&q.__esModule?q:{default:q}}function d(q){var M,re;return typeof WeakMap!="function"?null:(M=new WeakMap,re=new WeakMap,(d=function(G){return G?re:M})(q))}function g(q,M){if(!M&&q&&q.__esModule)return q;if(q===null||N(q)!="object"&&typeof q!="function")return{default:q};if(M=d(M),M&&M.has(q))return M.get(q);var re,G,V={__proto__:null},ue=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(re in q)re!=="default"&&{}.hasOwnProperty.call(q,re)&&((G=ue?Object.getOwnPropertyDescriptor(q,re):null)&&(G.get||G.set)?Object.defineProperty(V,re,G):V[re]=q[re]);return V.default=q,M&&M.set(q,V),V}function f(){return(f=Object.assign?Object.assign.bind():function(q){for(var M=1;M<arguments.length;M++){var re,G=arguments[M];for(re in G)!{}.hasOwnProperty.call(G,re)||(q[re]=G[re])}return q}).apply(null,arguments)}function m(q,M){if(q==null)return{};var re,G=v(q,M);if(Object.getOwnPropertySymbols)for(var V=Object.getOwnPropertySymbols(q),ue=0;ue<V.length;ue++)re=V[ue],M.includes(re)||{}.propertyIsEnumerable.call(q,re)&&(G[re]=q[re]);return G}function v(q,M){if(q==null)return{};var re,G={};for(re in q)if({}.hasOwnProperty.call(q,re)){if(M.includes(re))continue;G[re]=q[re]}return G}function N(q){return(N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(q)}function C(q,M){var re,G=Object.keys(q);return Object.getOwnPropertySymbols&&(re=Object.getOwnPropertySymbols(q),M&&(re=re.filter(function(V){return Object.getOwnPropertyDescriptor(q,V).enumerable})),G.push.apply(G,re)),G}function k(q){for(var M=1;M<arguments.length;M++){var re=arguments[M]!=null?arguments[M]:{};M%2?C(Object(re),!0).forEach(function(G){U(q,G,re[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(re)):C(Object(re)).forEach(function(G){Object.defineProperty(q,G,Object.getOwnPropertyDescriptor(re,G))})}return q}function U(q,M,re){return(M=F(M))in q?Object.defineProperty(q,M,{value:re,enumerable:!0,configurable:!0,writable:!0}):q[M]=re,q}function F(q){return q=O(q,"string"),N(q)=="symbol"?q:q+""}function O(q,M){if(N(q)!="object"||!q)return q;var re=q[Symbol.toPrimitive];if(re===void 0)return(M==="string"?String:Number)(q);if(re=re.call(q,M||"default"),N(re)!="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}function L(q,M){var re=k({},q);return M.forEach(function(G){delete re[G]}),re}function I(q,M){var re=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(q!==M){if(N(q)!=="object"||q===null||N(M)!=="object"||M===null)return!1;if(!re.has(q)&&!re.has(M)){re.add(q),re.add(M);var G=Object.keys(q),V=Object.keys(M);if(G.length!==V.length)return!1;for(var ue=0,ne=G;ue<ne.length;ue++){var $=ne[ue];if(!V.includes($)||!I(q[$],M[$],re))return!1}}}return!0}function T(we){function M(fe){return fe&&N(fe)==="object"&&!Array.isArray(fe)}var $=we.type,re=$===void 0?"line":$,$=we.width,G=$===void 0?"100%":$,$=we.height,V=$===void 0?"auto":$,ue=we.series,ne=we.options,$=m(we,o),J=(0,t.useRef)(null),oe=(0,t.useRef)(null),le=(0,t.useRef)(),ie=((0,t.useEffect)(function(){le.current=ne;var fe=J.current;return oe.current=new a.default(fe,ie()),oe.current.render(),function(){oe.current&&typeof oe.current.destroy=="function"&&oe.current.destroy()}},[]),(0,t.useEffect)(function(){var fe=!I(oe.current.w.config.series,ue),je=!I(le.current,ne)||V!==oe.current.opts.chart.height||G!==oe.current.opts.chart.width;(fe||je)&&(!fe||je?oe.current.updateOptions(ie()):oe.current.updateSeries(ue)),le.current=ne},[ne,ue,V,G]),function(){return Y(ne,{chart:{type:re,height:V,width:G},series:ue})}),Y=function(fe,je){var Pe=k({},fe);return M(fe)&&M(je)&&Object.keys(je).forEach(function(Ve){M(je[Ve])&&Ve in fe?Pe[Ve]=Y(fe[Ve],je[Ve]):Object.assign(Pe,U({},Ve,je[Ve]))}),Pe},we=L($,Object.keys(T.propTypes));return t.default.createElement("div",f({ref:J},we))}T.propTypes={type:s.default.string.isRequired,series:s.default.array.isRequired,options:s.default.object.isRequired,width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number])}})(FB);const QA=g2(FB),PB=({title:e,icon:t,data:a,height:s=300,color:o="#3B82F6",smooth:l=!0,gradient:d=!0,className:g=""})=>{const f={chart:{id:`line-${e.replace(/\s+/g,"-").toLowerCase()}`,toolbar:{show:!1},background:"transparent"},theme:{mode:"light"},xaxis:{categories:a.map(v=>new Date(v.date).toLocaleDateString()),labels:{style:{colors:"#6B7280"}}},yaxis:{labels:{style:{colors:"#6B7280"}}},colors:[o],stroke:{curve:l?"smooth":"straight",width:3},fill:d?{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.3}}:void 0,grid:{borderColor:"#E5E7EB"}},m=[{name:e,data:a.map(v=>v.value)}];return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${g}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(QA,{options:f,series:m,type:"area",height:s})]})},HE=({title:e,icon:t,data:a,height:s=300,colors:o=["#10B981","#F59E0B","#EF4444","#8B5CF6"],horizontal:l=!1,className:d=""})=>{const g={chart:{id:`bar-${e.replace(/\s+/g,"-").toLowerCase()}`,toolbar:{show:!1},background:"transparent"},theme:{mode:"light"},xaxis:{categories:a.map(m=>m.category),labels:{style:{colors:"#6B7280"}}},yaxis:{labels:{style:{colors:"#6B7280"}}},colors:o,plotOptions:{bar:{borderRadius:4,horizontal:l}},grid:{borderColor:"#E5E7EB"}},f=[{name:e,data:a.map(m=>m.value)}];return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${d}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(QA,{options:g,series:f,type:"bar",height:s})]})},UB=({title:e,icon:t,data:a,height:s=300,colors:o=["#3B82F6","#10B981","#F59E0B","#EF4444"],donut:l=!0,className:d=""})=>{const g={chart:{type:l?"donut":"pie",background:"transparent"},theme:{mode:"light"},labels:a.map(m=>m.category),colors:o,legend:{position:"bottom",labels:{colors:"#6B7280"}},plotOptions:l?{pie:{donut:{size:"70%"}}}:void 0},f=a.map(m=>m.value);return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${d}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(QA,{options:g,series:f,type:l?"donut":"pie",height:s})]})},OE=({title:e,icon:t,series:a,categories:s,height:o=350,colors:l=["#3B82F6","#10B981","#F59E0B","#EF4444"],className:d=""})=>{const g={chart:{type:"bar",stacked:!0,toolbar:{show:!1},background:"transparent"},theme:{mode:"light"},plotOptions:{bar:{horizontal:!1,borderRadius:4}},xaxis:{categories:s,labels:{style:{colors:"#6B7280"}}},yaxis:{labels:{style:{colors:"#6B7280"}}},colors:l,legend:{position:"top",labels:{colors:"#6B7280"}},grid:{borderColor:"#E5E7EB"}};return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${d}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(QA,{options:g,series:a,type:"bar",height:o})]})},_E=({title:e,icon:t,series:a,categories:s,height:o=300,color:l="#3B82F6",className:d=""})=>{const g={chart:{type:"heatmap",toolbar:{show:!1},background:"transparent"},theme:{mode:"light"},xaxis:{categories:s,labels:{style:{colors:"#6B7280"}}},yaxis:{labels:{style:{colors:"#6B7280"}}},colors:[l],grid:{borderColor:"#E5E7EB"}};return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${d}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(QA,{options:g,series:a,type:"heatmap",height:o})]})},zE=({title:e,icon:t,actualData:a,forecastData:s,categories:o,height:l=400,className:d=""})=>{const g={chart:{type:"line",toolbar:{show:!1},background:"transparent"},theme:{mode:"light"},xaxis:{categories:o,labels:{style:{colors:"#6B7280"}}},yaxis:{labels:{style:{colors:"#6B7280"}}},colors:["#3B82F6","#F59E0B"],stroke:{curve:"smooth",width:[3,2],dashArray:[0,5]},grid:{borderColor:"#E5E7EB"},legend:{labels:{colors:"#6B7280"}}},f=[{name:"Actual",data:a},{name:"Forecast",data:s}];return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${d}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(QA,{options:g,series:f,type:"line",height:l})]})},_o=({title:e,value:t,unit:a,icon:s,trend:o,className:l=""})=>{const d=f=>{switch(f){case"up":return"text-green-500";case"down":return"text-red-500";default:return"text-gray-500"}},g=f=>{switch(f){case"up":return"↗";case"down":return"↘";default:return"→"}};return r.jsx("div",{className:`p-4 bg-white dark:bg-gray-800 rounded-lg shadow ${l}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t,a&&r.jsx("span",{className:"text-sm ml-1",children:a})]}),o&&r.jsxs("div",{className:`text-xs flex items-center ${d(o.direction)}`,children:[r.jsx("span",{className:"mr-1",children:g(o.direction)}),o.value," ",o.label]})]}),r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:s})]})})},VE=()=>r.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Analytics Pro"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Advanced analytics and BI: custom dashboards, KPI tracking, and predictive insights."}),r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:"Advanced"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Interactive Charts"})]}),r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:"Predictive"}),r.jsx("div",{className:"text-sm text-gray-500",children:"AI Insights"})]})]})]}),QB=()=>{const[e,t]=X.useState("dashboard"),[a,s]=X.useState("30d"),[o,l]=X.useState("all"),[d,g]=X.useState("all"),[f,m]=X.useState(!0),[v,N]=X.useState(null),[C,k]=X.useState(null),[U,F]=X.useState(null),[O,L]=X.useState(null),I=async()=>{try{m(!0),N(null);const $="http://localhost:5001/api",J=localStorage.getItem("sil_lab_token"),oe={"Content-Type":"application/json"};J&&(oe.Authorization=`Bearer ${J}`);const[le,ie,Y]=await Promise.all([fetch(`${$}/analytics/overview?period=${a}`,{headers:oe}),fetch(`${$}/analytics/advanced?period=${a}&department=${o}&technician=${d}`,{headers:oe}),fetch(`${$}/analytics/predictions`,{headers:oe})]);if(le.ok){const we=await le.json();k(we)}if(ie.ok){const we=await ie.json();F(we)}if(Y.ok){const we=await Y.json();L(we)}}catch($){console.error("Failed to fetch analytics data:",$),N("Failed to load analytics data. Using sample data for demonstration."),k({testsPerDay:[{date:"2025-08-15",count:45},{date:"2025-08-16",count:52},{date:"2025-08-17",count:38},{date:"2025-08-18",count:61},{date:"2025-08-19",count:49},{date:"2025-08-20",count:55},{date:"2025-08-21",count:43}],avgTAT:4.2,departmentShare:[{category:"Hematology",revenue:45},{category:"Biochemistry",revenue:35},{category:"Immunology",revenue:20}],totalRequests:156,completedRequests:142,pendingRequests:14,activeTechnicians:8,completionRate:91}),F({workloadByDept:{"2025-08-20":{Hematology:15,Biochemistry:12,Immunology:8},"2025-08-21":{Hematology:18,Biochemistry:10,Immunology:6}},heatmapData:{8:{1:5,2:8,3:12,4:15,5:10},9:{1:8,2:12,3:18,4:20,5:15},10:{1:12,2:15,3:22,4:25,5:18}},errorData:[],technicianPerformance:[],dailyRevenue:{"2025-08-20":1250,"2025-08-21":1180},period:"30d"}),L({historical:[{date:"2025-08-15",count:45},{date:"2025-08-16",count:52},{date:"2025-08-17",count:38}],forecast:[{day:1,predicted:48,confidence:.85},{day:2,predicted:52,confidence:.8},{day:3,predicted:46,confidence:.75}],insights:{trend:"stable",averageDaily:48,recommendation:"Maintain current staffing levels"}})}finally{m(!1)}};X.useEffect(()=>{I()},[a,o,d]);const T=$=>{console.log(`Exporting data in ${$} format`),alert(`Export in ${$} format - Feature coming soon!`)},q=[{id:"dashboard",label:"Dashboard",icon:r.jsx(Sa,{className:"w-4 h-4"})},{id:"trends",label:"Trends",icon:r.jsx(Us,{className:"w-4 h-4"})},{id:"predictions",label:"Predictions",icon:r.jsx(kg,{className:"w-4 h-4"})},{id:"reports",label:"Reports",icon:r.jsx(Ms,{className:"w-4 h-4"})}];if(f)return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),r.jsx("div",{className:"flex space-x-4 mb-6",children:[...Array(4)].map(($,J)=>r.jsx("div",{className:"h-10 bg-gray-200 rounded w-24"},J))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map(($,J)=>r.jsx("div",{className:"h-24 bg-gray-200 rounded"},J))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"h-80 bg-gray-200 rounded"}),r.jsx("div",{className:"h-80 bg-gray-200 rounded"})]})]})});const M=()=>{if(!(U!=null&&U.workloadByDept))return{series:[],categories:[]};const $=Object.keys(U.workloadByDept).sort(),J=new Set;return $.forEach(le=>{Object.keys(U.workloadByDept[le]).forEach(ie=>{J.add(ie)})}),{series:Array.from(J).map(le=>({name:le,data:$.map(ie=>U.workloadByDept[ie][le]||0)})),categories:$.map(le=>new Date(le).toLocaleDateString())}},re=()=>{if(!(U!=null&&U.heatmapData))return{series:[],categories:[]};const $=Object.keys(U.heatmapData).sort((le,ie)=>parseInt(le)-parseInt(ie)),J=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return{series:$.map(le=>({name:`${le}:00`,data:J.map((ie,Y)=>{var we;return((we=U.heatmapData[le])==null?void 0:we[Y])||0})})),categories:J}},G=()=>{if(!O)return{actualData:[],forecastData:[],categories:[]};const $=O.historical.map(Y=>Y.count),J=O.forecast.map(Y=>Y.predicted),oe=[...$,...Array(J.length).fill(null)],le=[...Array($.length).fill(null),...J],ie=[...O.historical.map(Y=>new Date(Y.date).toLocaleDateString()),...O.forecast.map(Y=>`Day +${Y.day}`)];return{actualData:oe,forecastData:le,categories:ie}},V=M(),ue=re(),ne=G();return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Analytics Pro"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Advanced laboratory analytics with predictive insights"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{value:a,onChange:$=>s($.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"}),r.jsx("option",{value:"1y",children:"Last year"})]}),r.jsxs("select",{value:o,onChange:$=>l($.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Departments"}),r.jsx("option",{value:"Hematology",children:"Hematology"}),r.jsx("option",{value:"Biochemistry",children:"Biochemistry"}),r.jsx("option",{value:"Immunology",children:"Immunology"})]}),r.jsxs("button",{onClick:()=>T("csv"),className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors flex items-center gap-2",children:[r.jsx(Bi,{className:"w-4 h-4"}),"Export"]}),r.jsxs("button",{onClick:I,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors flex items-center gap-2",children:[r.jsx(an,{className:"w-4 h-4"}),"Refresh"]})]})]}),v&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx(Ir,{className:"w-5 h-5 text-yellow-400 mr-2"}),r.jsxs("div",{className:"text-yellow-800",children:[r.jsx("strong",{children:"Note:"})," ",v]})]})}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:q.map($=>r.jsxs("button",{onClick:()=>t($.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${e===$.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[$.icon,$.label]},$.id))})}),e==="dashboard"&&C&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(_o,{title:"Total Samples",value:C.totalRequests,icon:r.jsx(Ps,{className:"w-6 h-6 text-blue-500"}),trend:{direction:"up",value:"+12%",label:"vs last period"}}),r.jsx(_o,{title:"Avg Turnaround Time",value:C.avgTAT.toFixed(1),unit:"hrs",icon:r.jsx(ms,{className:"w-6 h-6 text-orange-500"}),trend:{direction:"down",value:"-8%",label:"improvement"}}),r.jsx(_o,{title:"Active Technicians",value:C.activeTechnicians,icon:r.jsx(ac,{className:"w-6 h-6 text-green-500"}),trend:{direction:"stable",value:"0%",label:"no change"}}),r.jsx(_o,{title:"Completion Rate",value:C.completionRate.toFixed(1),unit:"%",icon:r.jsx(Pr,{className:"w-6 h-6 text-purple-500"}),trend:{direction:"up",value:"+3%",label:"vs last period"}})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(OE,{title:"Workload by Department Over Time",icon:r.jsx(Sa,{className:"w-5 h-5 text-blue-500"}),series:V.series,categories:V.categories,height:350,colors:["#3B82F6","#10B981","#F59E0B","#EF4444"]}),r.jsx(_E,{title:"Test Volumes by Hour & Day",icon:r.jsx(gf,{className:"w-5 h-5 text-red-500"}),series:ue.series,categories:ue.categories,height:350,color:"#EF4444"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[C.testsPerDay.length>0&&r.jsx(PB,{title:"Daily Test Volume Trend",icon:r.jsx(Us,{className:"w-5 h-5 text-green-500"}),data:C.testsPerDay.map($=>({date:$.date,value:$.count})),height:300,color:"#10B981",smooth:!0,gradient:!0}),C.departmentShare.length>0&&r.jsx(UB,{title:"Department Distribution",icon:r.jsx(VN,{className:"w-5 h-5 text-purple-500"}),data:C.departmentShare.map($=>({category:$.category,value:$.revenue})),height:300,colors:["#8B5CF6","#06B6D4","#F59E0B","#EF4444"],donut:!0})]})]}),e==="trends"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Us,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Trend Analysis"}),r.jsx("p",{className:"text-gray-500",children:"Detailed trend analysis and comparative views coming soon!"})]})}),e==="predictions"&&O&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Us,{className:"w-8 h-8 text-blue-500 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Trend"}),r.jsx("div",{className:"text-xl font-bold capitalize",children:O.insights.trend})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ps,{className:"w-8 h-8 text-green-500 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Daily Average"}),r.jsx("div",{className:"text-xl font-bold",children:O.insights.averageDaily})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(kg,{className:"w-8 h-8 text-yellow-500 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Forecast Confidence"}),r.jsx("div",{className:"text-xl font-bold",children:"85%"})]})]})})]}),r.jsx(zE,{title:"7-Day Workload Forecast",icon:r.jsx(kg,{className:"w-5 h-5 text-yellow-500"}),actualData:ne.actualData,forecastData:ne.forecastData,categories:ne.categories,height:400}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(gf,{className:"w-6 h-6 text-blue-500 mr-3 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"AI Recommendation"}),r.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:O.insights.recommendation})]})]})})]}),e==="reports"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ms,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Custom Reports"}),r.jsx("p",{className:"text-gray-500",children:"Advanced report builder and custom analytics coming soon!"})]})})]})},uA={"backup-manager":SE,"quality-control":PE,"analytics-pro":{id:"analytics-pro",name:{fr:"Analytics Pro",en:"Analytics Pro"},description:{fr:"Analytique avancée et intelligence d'affaires avec tableaux de bord personnalisés, suivi des KPI et insights prédictifs.",en:"Advanced analytics and business intelligence with custom dashboards, KPI tracking, and predictive insights."},version:"0.1.0",category:"analytics",icon:null,color:"#4F46E5",features:{fr:["Tableaux de bord personnalisés","Suivi des KPI","Analyses prédictives"],en:["Custom dashboards","KPI tracking","Predictive analytics"]},permissions:["ADMIN","BIOLOGIST"],routes:[{path:"/modules/analytics-pro",component:QB,name:{fr:"Analytics Pro",en:"Analytics Pro"}}],menuItems:[{name:{fr:"Analytics",en:"Analytics"},path:"/modules/analytics-pro",icon:Sa,permissions:["ADMIN","BIOLOGIST"]}],dashboardWidgets:[{id:"analytics-pro-kpi",name:{fr:"KPI Analytics",en:"KPI Analytics"},component:VE,size:"large",permissions:["ADMIN","BIOLOGIST"]}],quickActions:[],notifications:[],settings:[{key:"analytics.enablePredictive",name:{fr:"Activer prédictif",en:"Enable Predictive"},type:"boolean",default:!0,description:{fr:"Activer les analyses prédictives",en:"Enable predictive analytics"}}],dependencies:[],author:"SIL Labs",license:"proprietary",documentation:{fr:"",en:""}}},hA=e=>uA[e],c0=()=>Object.values(uA),Uu=(e,t)=>{const a=hA(e);return a?a.permissions.includes(t)||a.permissions.includes("ALL"):!1},GE=e=>c0().filter(t=>Uu(t.id,e)).flatMap(t=>t.routes),qE=e=>c0().filter(t=>Uu(t.id,e)).flatMap(t=>t.menuItems).filter(t=>t.permissions.includes(e)||t.permissions.includes("ALL")),XE=e=>c0().filter(t=>Uu(t.id,e)).flatMap(t=>t.dashboardWidgets||[]).filter(t=>t.permissions.includes(e)||t.permissions.includes("ALL")),KE=e=>c0().filter(t=>Uu(t.id,e)).flatMap(t=>t.quickActions||[]).filter(t=>t.permissions.includes(e)||t.permissions.includes("ALL")),DB=(e,t)=>t.some(a=>a.moduleId===e&&(a.status==="ACTIVE"||a.status==="TRIAL")&&new Date(a.expiresAt)>new Date),WE=({children:e})=>{const{user:t,language:a}=qt(),[s,o]=X.useState([]),[l,d]=X.useState(!0);X.useState({});const[g,f]=X.useState(!1),{moduleVersion:m}=Zf();X.useEffect(()=>{v()},[m]);const v=async()=>{try{if(!la.checkAuthenticationStatus().isAuthenticated){console.warn("User not authenticated, skipping module loading");return}const k=await la.getInstalledModules();o(k)}catch(C){console.error("Error loading installed modules:",C),C instanceof Error&&C.message.includes("Authentication")&&(console.warn("Authentication error in module loading. User may need to re-login."),la.checkAuthenticationStatus())}finally{d(!1)}},N=()=>{if(!t)return[];const C=GE(t.role).filter(k=>{const U=Object.keys(uA).find(F=>{const O=hA(F);return O==null?void 0:O.routes.some(L=>L.path===k.path)});return U?DB(U,s)&&Uu(U,t.role):!1});return g&&!C.some(k=>k.path==="/modules/analytics-pro")&&C.push({path:"/modules/analytics-pro",component:hA("analytics-pro").routes[0].component}),C};return l?r.jsxs(r.Fragment,{children:[e,r.jsx(ix,{})]}):r.jsxs(r.Fragment,{children:[e,r.jsx(ix,{children:N().map((C,k)=>r.jsx(or,{path:C.path,element:r.jsx(C.component,{})},`${C.path}-${k}`))})]})},TB=()=>{const{user:e}=qt(),[t,a]=X.useState([]),[s,o]=X.useState(!0);X.useEffect(()=>{l()},[]);const l=async()=>{try{if(!la.checkAuthenticationStatus().isAuthenticated){console.warn("User not authenticated, skipping module loading");return}const C=await la.getInstalledModules();a(C)}catch(N){console.error("Error loading installed modules:",N),N instanceof Error&&N.message.includes("Authentication")&&(console.warn("Authentication error in module loading. User may need to re-login."),la.checkAuthenticationStatus())}finally{o(!1)}},d=N=>DB(N,t);return{installedModules:t,loading:s,isModuleActive:d,getModuleLicense:N=>t.find(C=>C.moduleId===N),getActiveMenuItems:()=>e?qE(e.role).filter(N=>{const C=Object.keys(uA).find(k=>{const U=hA(k);return U==null?void 0:U.menuItems.some(F=>F.path===N.path)});return C&&d(C)}):[],getActiveDashboardWidgets:()=>e?XE(e.role).filter(N=>{const C=Object.keys(uA).find(k=>{var F;const U=hA(k);return(F=U==null?void 0:U.dashboardWidgets)==null?void 0:F.some(O=>O.id===N.id)});return C&&d(C)}):[],getActiveQuickActions:()=>e?KE(e.role).filter(N=>{const C=Object.keys(uA).find(k=>{var F;const U=hA(k);return(F=U==null?void 0:U.quickActions)==null?void 0:F.some(O=>O.action===N.action)});return C&&d(C)}):[],refresh:l}};function YE({onClose:e}){const{user:t,language:a}=qt(),{moduleVersion:s}=Zf(),{getActiveMenuItems:o}=TB(),[l,d]=X.useState(null),[g,f]=X.useState(null),[m,v]=X.useState(null),[N,C]=X.useState(!1),k={fr:{analyticsBasic:"Analytics",analyticsPro:"Analytics Pro",dashboard:"Tableau de bord",patients:"Patients",doctors:"Médecins",analyses:"Analyses",requests:"Demandes",newRequest:"Nouvelle Demande",results:"Résultats",validation:"Validation",billing:"Facturation",config:"Configuration",logout:"Déconnexion",stockManagement:"Gestion des Stocks",stockDashboard:"Tableau de bord",addStock:"Ajouter Stock",createProduct:"Créer un nouveau produit",useStock:"Utiliser Stock",transferStock:"Transférer Stock",adjustInventory:"Ajuster Inventaire",suppliers:"Fournisseurs",orders:"Commandes",reports:"Rapports",priceManagement:"Gestion des Prix",userManagement:"Gestion des Utilisateurs",systemSettings:"Paramètres Système",moduleStore:"Store de Modules",auditTrail:"Journal d'Audit",backupRestore:"Sauvegarde & Restauration",automates:"Intégration Automates",qualityControl:"Contrôle Qualité"},en:{analyticsBasic:"Analytics",analyticsPro:"Analytics Pro",dashboard:"Dashboard",patients:"Patients",doctors:"Doctors",analyses:"Analyses",requests:"Requests",newRequest:"New Request",results:"Results",validation:"Validation",billing:"Billing",config:"Configuration",logout:"Logout",stockManagement:"Stock Management",stockDashboard:"Stock Dashboard",addStock:"Add Stock",createProduct:"Create New Product",useStock:"Use Stock",transferStock:"Transfer Stock",adjustInventory:"Adjust Inventory",suppliers:"Suppliers",orders:"Orders",reports:"Reports",priceManagement:"Price Management",userManagement:"User Management",systemSettings:"System Settings",moduleStore:"Module Store",auditTrail:"Audit Trail",backupRestore:"Backup & Restore",automates:"Automate Integration",qualityControl:"Quality Control"}}[a];X.useEffect(()=>{(async()=>{C(!0);try{const[G,V]=await Promise.all([la.checkModuleAccess("stock-manager"),la.checkModuleAccess("analytics-pro")]);f(G),v(V)}catch(G){console.error("Error checking module access:",G),g||f({hasAccess:!1,daysRemaining:0,status:null,expiresAt:null,features:[]}),m||v({hasAccess:!1,daysRemaining:0,status:null,expiresAt:null,features:[]})}finally{C(!1)}})()},[s]);const U=[{id:"dashboard",label:k.dashboard,icon:r.jsx(n6,{size:20}),path:"/dashboard",roles:["ADMIN","BIOLOGIST","TECHNICIAN","SECRETARY"]},{id:"patients",label:k.patients,icon:r.jsx(ac,{size:20}),path:"/patients",roles:["ADMIN","SECRETARY"]},{id:"doctors",label:k.doctors,icon:r.jsx(jA,{size:20}),path:"/doctors",roles:["ADMIN","SECRETARY"]},{id:"analyses",label:k.analyses,icon:r.jsx(Ea,{size:20}),path:"/analyses",roles:["ADMIN","BIOLOGIST"]},{id:"requests",label:k.requests,icon:r.jsx(gw,{size:20}),path:"/requests",roles:["ADMIN","SECRETARY","BIOLOGIST"],subItems:[{id:"requests-list",label:k.requests,icon:r.jsx(gw,{size:16}),path:"/requests",roles:["ADMIN","SECRETARY","BIOLOGIST"]},{id:"new-request",label:k.newRequest,icon:r.jsx(ha,{size:16}),path:"/new-request",roles:["ADMIN","SECRETARY","BIOLOGIST"]}]},{id:"results",label:k.results,icon:r.jsx(l6,{size:20}),path:"/results",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"validation",label:k.validation,icon:r.jsx(Pr,{size:20}),path:"/validation",roles:["ADMIN","BIOLOGIST"]}],F=N?{id:"stock-loading",label:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{className:"text-gray-400",children:k.stockManagement}),r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-400"})]}),icon:r.jsx(xs,{size:20,className:"text-gray-400"}),path:"#",roles:["ADMIN","TECHNICIAN"],subItems:[]}:g!=null&&g.hasAccess?{id:"stock",label:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{children:k.stockManagement}),g.daysRemaining<=30&&r.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[r.jsx(ms,{size:12}),r.jsxs("span",{className:g.daysRemaining<=7?"text-red-400":"text-yellow-400",children:[g.daysRemaining,"d"]})]})]}),icon:r.jsx(xs,{size:20}),path:"/stock",roles:["ADMIN","TECHNICIAN"],subItems:[{id:"stock-dashboard",label:k.stockDashboard,icon:r.jsx(Sa,{size:16}),path:"/stock/dashboard",roles:["ADMIN","TECHNICIAN"]},{id:"add-stock",label:k.addStock,icon:r.jsx(ha,{size:16}),path:"/stock/add",roles:["ADMIN","TECHNICIAN"]},{id:"create-product",label:k.createProduct,icon:r.jsx(A6,{size:16}),path:"/stock/create-product",roles:["ADMIN","TECHNICIAN"]},{id:"use-stock",label:k.useStock,icon:r.jsx(c6,{size:16}),path:"/stock/use",roles:["ADMIN","TECHNICIAN"]},{id:"transfer-stock",label:k.transferStock,icon:r.jsx(W3,{size:16}),path:"/stock/transfer",roles:["ADMIN","TECHNICIAN"]},{id:"adjust-inventory",label:k.adjustInventory,icon:r.jsx($n,{size:16}),path:"/stock/adjust",roles:["ADMIN","TECHNICIAN"]},{id:"suppliers",label:k.suppliers,icon:r.jsx(XN,{size:16}),path:"/stock/suppliers",roles:["ADMIN","TECHNICIAN"]},{id:"orders",label:k.orders,icon:r.jsx(qN,{size:16}),path:"/stock/orders",roles:["ADMIN","TECHNICIAN"]},{id:"reports",label:k.reports,icon:r.jsx(a6,{size:16}),path:"/stock/reports",roles:["ADMIN","TECHNICIAN"]}]}:null,O=N?{id:"analytics-pro-loading",label:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{className:"text-gray-400",children:k.analyticsPro}),r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-400"})]}),icon:r.jsx(Sa,{size:20,className:"text-gray-400"}),path:"#",roles:["ADMIN","BIOLOGIST"]}:m!=null&&m.hasAccess||(t==null?void 0:t.role)==="ADMIN"?{id:"analytics-pro",label:k.analyticsPro,icon:r.jsx(Sa,{size:20}),path:"/modules/analytics-pro",roles:["ADMIN","BIOLOGIST"]}:null,I=[...U,...F?[F]:[],{id:"analytics-basic",label:k.analyticsBasic,icon:r.jsx(Sa,{size:20}),path:"/analytics",roles:["ADMIN","BIOLOGIST","TECHNICIAN","SECRETARY"]},...O?[O]:[],{id:"billing",label:k.billing,icon:r.jsx(In,{size:20}),path:"/billing",roles:["ADMIN","SECRETARY"]},{id:"automates",label:k.automates,icon:r.jsx(bs,{size:20}),path:"/automates",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"quality-control",label:k.qualityControl,icon:r.jsx(dA,{size:20}),path:"/quality-control",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"moduleStore",label:k.moduleStore,icon:r.jsx(mw,{size:20,color:"rgb(197 112 0)"}),path:"/config/modules",roles:["ADMIN"]},{id:"config",label:k.config,icon:r.jsx($n,{size:20}),path:"/config",roles:["ADMIN"],subItems:[{id:"price-management",label:k.priceManagement,icon:r.jsx(In,{size:16}),path:"/config/prices",roles:["ADMIN"]},{id:"user-management",label:k.userManagement,icon:r.jsx(ac,{size:16}),path:"/config/users",roles:["ADMIN"]},{id:"system-settings",label:k.systemSettings,icon:r.jsx($n,{size:16}),path:"/config/system",roles:["ADMIN"]},{id:"auditTrail",label:k.auditTrail,icon:r.jsx(Ea,{size:20}),path:"/config/audit",roles:["ADMIN"]}]},{id:"backupRestore",label:k.backupRestore,icon:r.jsx(t6,{size:20}),path:"/config/backup",roles:["ADMIN"]}].filter(re=>re.roles.includes((t==null?void 0:t.role)||"")),T={BarChart3:Sa,Package:xs,Puzzle:mw,Database:bs},q=o().filter(re=>!(re.path==="/modules/analytics-pro"&&(m!=null&&m.hasAccess))).map(re=>{let G=null;if(typeof re.icon=="string"){const V=T[re.icon];G=V?r.jsx(V,{size:20}):r.jsx(xs,{size:20})}else if(typeof re.icon=="function"){const V=re.icon;G=r.jsx(V,{size:20})}else G=re.icon;return{id:`module-${re.path}`,label:re.name[a],icon:G,path:re.path,roles:re.permissions}}),M=()=>{e&&e()};return r.jsxs("nav",{className:"fixed lg:static top-0 left-0 h-full w-64 max-w-full bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col z-30 transition-transform lg:translate-x-0 overflow-y-auto shadow-lg lg:shadow-none",children:[r.jsxs("div",{className:"flex lg:hidden items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Menu"}),r.jsx("button",{onClick:e,className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close menu",children:r.jsx(er,{size:24})})]}),r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 hidden lg:block",children:r.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"SIL Lab System"})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[I.map(re=>r.jsx("div",{children:re.subItems?r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"w-full flex items-center justify-between px-3 sm:px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",onClick:()=>d(l===re.id?null:re.id),children:[r.jsxs("span",{className:"flex items-center min-w-0",children:[re.icon,r.jsx("span",{className:"ml-2 sm:ml-3 text-sm font-medium truncate",children:re.label})]}),l===re.id?r.jsx(Z3,{size:18}):r.jsx(e6,{size:18})]}),l===re.id&&r.jsx("div",{className:"ml-4 sm:ml-6 mt-1 space-y-1",children:re.subItems.filter(G=>G.roles.includes((t==null?void 0:t.role)||"")).map(G=>r.jsxs(Cp,{to:G.path,className:({isActive:V})=>`flex items-center px-2 sm:px-3 py-2 text-sm rounded-lg transition-colors ${V?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"}`,onClick:M,children:[G.icon,r.jsx("span",{className:"ml-2 truncate",children:G.label})]},G.id))})]}):r.jsxs(Cp,{to:re.path,className:({isActive:G})=>`flex items-center px-3 sm:px-4 py-2 text-sm rounded-lg transition-colors ${G?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:M,children:[re.icon,r.jsx("span",{className:"ml-2 sm:ml-3 font-medium truncate",children:re.label})]})},re.id)),q.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Modules"}),q.map(re=>r.jsx("div",{children:r.jsxs(Cp,{to:re.path,className:({isActive:G})=>`flex items-center px-3 sm:px-4 py-2 text-sm rounded-lg transition-colors ${G?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:M,children:[re.icon,r.jsx("span",{className:"ml-2 sm:ml-3 font-medium truncate",children:re.label})]})},re.id))]})]}),r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 mt-auto",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 text-center",children:"v1.0.0"})})]})}function $E(){const[e,t]=X.useState(""),[a,s]=X.useState(""),[o,l]=X.useState(""),{login:d}=qt(),g=async f=>{f.preventDefault(),l(""),await d(e,a)||l("Invalid credentials")};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8 p-6 sm:p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4",children:"🧪"}),r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"SIL Laboratory"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Sign in to your account"})]}),r.jsxs("form",{className:"mt-6 sm:mt-8 space-y-4 sm:space-y-6",onSubmit:g,children:[r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-sm sm:text-base",placeholder:"admin@lab.fr"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),r.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:a,onChange:f=>s(f.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-sm sm:text-base",placeholder:"admin"})]})]}),o&&r.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:o}),r.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800 transition-colors",children:"Sign in"})]}),r.jsxs("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"hidden sm:block",children:"Demo credentials: admin@sil-lab.com / admin123 | secretary@sil-lab.com / sec123"}),r.jsx("div",{className:"sm:hidden",children:"Demo: admin@sil-lab.com / admin123"})]})]})})}const JE="http://localhost:5001/api";let Pw=localStorage.getItem("sil_lab_token");const Ct=async(e,t={},a=2)=>{const s=`${JE}${e}`,o={"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",...t.headers||{}};Pw&&(o.Authorization=`Bearer ${Pw}`),console.log("API Request:",s,o);try{const l=await fetch(s,{...t,headers:o,cache:"no-store"});if(l.status===304&&a>0){const g=s.includes("?")?`${s}&_=${Date.now()}`:`${s}?_=${Date.now()}`,f=await fetch(g,{...t,headers:o,cache:"no-store"});if(!f.ok){const v=await f.json().catch(()=>({}));throw new Error(v.error||`HTTP error! status: ${f.status}`)}const m=await f.json();return console.log("API Response (retry):",e,m),m}if(!l.ok){const g=await l.json().catch(()=>({}));if(l.status===429&&a>0){const f=Math.pow(2,3-a)*1e3;return await new Promise(m=>setTimeout(m,f)),Ct(e,t,a-1)}throw new Error(g.error||`HTTP error! status: ${l.status}`)}const d=await l.json();return console.log("API Response:",e,d),d}catch(l){throw console.error("API request failed:",l),l}},Hc={getPatients:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ct(`/patients?${t}`)},getPatient:async e=>(await Ct(`/patients/${e}`)).patient,createPatient:async e=>(await Ct("/patients",{method:"POST",body:JSON.stringify(e)})).patient,updatePatient:async(e,t)=>(await Ct(`/patients/${e}`,{method:"PUT",body:JSON.stringify(t)})).patient,deletePatient:async e=>{await Ct(`/patients/${e}`,{method:"DELETE"})},getPatientStats:async()=>await Ct("/patients/stats/overview")},ZE={getDoctors:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ct(`/doctors?${t}`)},getDoctor:async e=>(await Ct(`/doctors/${e}`)).doctor,createDoctor:async e=>(await Ct("/doctors",{method:"POST",body:JSON.stringify(e)})).doctor,updateDoctor:async(e,t)=>(await Ct(`/doctors/${e}`,{method:"PUT",body:JSON.stringify(t)})).doctor,deleteDoctor:async e=>{await Ct(`/doctors/${e}`,{method:"DELETE"})},searchDoctors:async e=>(await Ct(`/doctors/search/autocomplete?q=${encodeURIComponent(e)}`)).doctors,getDoctorStats:async()=>await Ct("/doctors/stats/overview")},mx={getAnalyses:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ct(`/analyses?${t}`)},getAnalysis:async e=>(await Ct(`/analyses/${e}`)).analysis,createAnalysis:async e=>(await Ct("/analyses",{method:"POST",body:JSON.stringify(e)})).analysis,updateAnalysis:async(e,t)=>(await Ct(`/analyses/${e}`,{method:"PUT",body:JSON.stringify(t)})).analysis,deleteAnalysis:async e=>{await Ct(`/analyses/${e}`,{method:"DELETE"})},getCategories:async()=>(await Ct("/analyses/categories/list")).categories,searchAnalyses:async e=>(await Ct(`/analyses/search/autocomplete?q=${encodeURIComponent(e)}`)).analyses,bulkUpdatePrices:async e=>await Ct("/analyses/prices/bulk",{method:"PUT",body:JSON.stringify({updates:e})}),getAnalysisStats:async()=>await Ct("/analyses/stats/overview")},nc={getRequests:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ct(`/requests?${t}`)},getRequest:async e=>(await Ct(`/requests/${e}?_=${Date.now()}`)).request,createRequest:async e=>(await Ct("/requests",{method:"POST",body:JSON.stringify(e)})).request,updateRequest:async(e,t)=>(await Ct(`/requests/${e}`,{method:"PUT",body:JSON.stringify(t)})).request,updateRequestStatus:async(e,t)=>(await Ct(`/requests/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})})).request,deleteRequest:async e=>{await Ct(`/requests/${e}`,{method:"DELETE"})},getRequestStats:async(e="month")=>await Ct(`/requests/stats/overview?period=${e}`),markAsDelivered:async(e,t)=>(await Ct(`/requests/${e}/deliver`,{method:"PATCH",body:JSON.stringify({deliveredBy:t})})).request},Wd={getResults:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ct(`/results?${t}`)},getResult:async e=>(await Ct(`/results/${e}`)).result,createResult:async e=>(await Ct("/results",{method:"POST",body:JSON.stringify(e)})).result,updateResult:async(e,t)=>(await Ct(`/results/${e}`,{method:"PUT",body:JSON.stringify(t)})).result,validateResult:async(e,t)=>(await Ct(`/results/${e}/validate`,{method:"PATCH",body:JSON.stringify({validatedBy:t})})).result,getResultsByRequest:async e=>(await Ct(`/results/request/${e}`)).results,getResultStats:async()=>await Ct("/results/stats/overview")},eL={saveRequest:async e=>{try{return{success:!0,data:await nc.createRequest(e)}}catch(t){return console.error("Save request error:",t),{success:!1,error:t.message}}},getRequests:async()=>{try{return{success:!0,data:(await nc.getRequests()).requests}}catch(e){return console.error("Get requests error:",e),{success:!1,error:e.message}}}},Hl={getPrices:async()=>{try{return(await mx.getAnalyses()).analyses.map(t=>({code:t.code,nom:t.nom,category:t.category,price:t.price,tva:t.tva,cost:t.cost}))}catch(e){return console.error("Get prices error:",e),[]}},savePrices:async e=>{try{const t=e.map(s=>({id:s.id,price:s.price,tva:s.tva}));return(await mx.bulkUpdatePrices(t)).results.every(s=>s.success)}catch(t){return console.error("Save prices error:",t),!1}},calculateRequestTotal:(e,t=0,a=0)=>{let s=0,o=0;e.forEach(m=>{const v=m.price||0,N=m.tva||20,C=v*(N/100);s+=v,o+=C});const l=s+o,d=l*(t/100),g=l-d,f=g-a;return{subtotal:s,tvaTotal:o,totalBeforeDiscount:l,discount:t,discountAmount:d,totalAfterDiscount:g,advancePayment:a,amountDue:f}},getCurrencySettings:()=>{try{const e=localStorage.getItem("sil_lab_currency");if(e)return JSON.parse(e)}catch(e){console.error("Error loading currency settings:",e)}return{symbol:"dh",code:"MAD",position:"after",decimalPlaces:2}},saveCurrencySettings:e=>{try{return localStorage.setItem("sil_lab_currency",JSON.stringify(e)),!0}catch(t){return console.error("Error saving currency settings:",t),!1}}},Uw={printLabels:e=>{var o,l,d,g,f,m;const t=window.open("","_blank");if(!t)return;const a=`SIL${Date.now()}`,s=`
      <html>
        <head>
          <title>Sample Labels</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .label { border: 2px solid #000; padding: 10px; margin: 10px 0; width: 300px; }
            .barcode { font-family: monospace; font-size: 12px; }
            .urgent { background-color: #ffebee; border-color: #f44336; }
          </style>
        </head>
        <body>
          <div class="label ${e.urgent?"urgent":""}">
            <h3>SIL Laboratory</h3>
            <p><strong>Patient:</strong> ${(o=e.patient)==null?void 0:o.prenom} ${(l=e.patient)==null?void 0:l.nom}</p>
            <p><strong>CNSS:</strong> ${(d=e.patient)==null?void 0:d.numeroCNSS}</p>
            <p><strong>Date:</strong> ${(g=e.appointment)==null?void 0:g.date} ${(f=e.appointment)==null?void 0:f.time}</p>
            <p><strong>Analyses:</strong></p>
            <ul>
              ${((m=e.analyses)==null?void 0:m.map(v=>`<li>${v.nom}</li>`).join(""))||""}
            </ul>
            <p class="barcode">${a}</p>
            ${e.urgent?'<p style="color: red; font-weight: bold;">URGENT</p>':""}
          </div>
        </body>
      </html>
    `;t.document.write(s),t.document.close(),t.print()},printReceipt:(e,t)=>{var o,l,d;const a=window.open("","_blank");if(!a)return;const s=`
      <html>
        <head>
          <title>Payment Receipt</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .receipt { border: 1px solid #ccc; padding: 20px; width: 400px; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; }
            .item { display: flex; justify-content: space-between; margin: 5px 0; }
            .total { border-top: 1px solid #000; padding-top: 10px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h2>SIL Laboratory</h2>
              <p>123 Medical Center, City, Country</p>
              <p>Phone: +1234567890 | Email: info@sil.lab</p>
            </div>
            
            <h3>Payment Receipt</h3>
            <p><strong>Patient:</strong> ${(o=e.patient)==null?void 0:o.prenom} ${(l=e.patient)==null?void 0:l.nom}</p>
            <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
            <p><strong>Request ID:</strong> ${e.id}</p>
            
            <h4>Analyses:</h4>
            ${((d=e.analyses)==null?void 0:d.map(g=>`
              <div class="item">
                <span>${g.nom}</span>
                <span>${g.price} €</span>
              </div>
            `).join(""))||""}
            
            <div class="total">
              <div class="item">
                <span>Subtotal:</span>
                <span>${t.subtotal} €</span>
              </div>
              <div class="item">
                <span>TVA:</span>
                <span>${t.tvaTotal} €</span>
              </div>
              ${t.discount>0?`
                <div class="item">
                  <span>Discount (${t.discount}%):</span>
                  <span>-${t.discountAmount} €</span>
                </div>
              `:""}
              ${t.advancePayment>0?`
                <div class="item">
                  <span>Advance Payment:</span>
                  <span>-${t.advancePayment} €</span>
                </div>
              `:""}
              <div class="item">
                <span><strong>Amount Due:</strong></span>
                <span><strong>${t.amountDue} €</strong></span>
              </div>
            </div>
            
            <p style="margin-top: 20px; text-align: center;">
              Thank you for choosing SIL Laboratory
            </p>
          </div>
        </body>
      </html>
    `;a.document.write(s),a.document.close(),a.print()}},mr={getDashboard:()=>Ct("/stock/dashboard"),getProducts:(e={})=>{const t=new URLSearchParams(e).toString();return Ct(`/stock/products?${t}`)},createProduct:e=>Ct("/stock/products",{method:"POST",body:JSON.stringify(e)}),updateProduct:(e,t)=>Ct(`/stock/products/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteProduct:e=>Ct(`/stock/products/${e}`,{method:"DELETE"}),getSuppliers:(e={})=>{const t=new URLSearchParams(e).toString();return Ct(`/stock/suppliers?${t}`)},createSupplier:e=>Ct("/stock/suppliers",{method:"POST",body:JSON.stringify(e)}),updateSupplier:(e,t)=>Ct(`/stock/suppliers/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteSupplier:e=>Ct(`/stock/suppliers/${e}`,{method:"DELETE"}),getOrders:(e={})=>{const t=new URLSearchParams(e).toString();return Ct(`/stock/orders?${t}`)},createOrder:e=>Ct("/stock/orders",{method:"POST",body:JSON.stringify(e)}),updateOrder:(e,t)=>Ct(`/stock/orders/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteOrder:e=>Ct(`/stock/orders/${e}`,{method:"DELETE"}),addStock:e=>Ct("/stock/stock-in",{method:"POST",body:JSON.stringify(e)}),useStock:e=>Ct("/stock/stock-out",{method:"POST",body:JSON.stringify(e)}),transferStock:e=>Ct("/stock/transfer",{method:"POST",body:JSON.stringify(e)}),adjustInventory:e=>Ct("/stock/adjust",{method:"POST",body:JSON.stringify(e)}),getStockHistory:(e={})=>{const t=new URLSearchParams(e).toString();return Ct(`/stock/history?${t}`)},getStockActivities:(e={})=>{const t=new URLSearchParams(e).toString();return Ct(`/stock/activities?${t}`)},exportStockReport:(e={})=>{const t=new URLSearchParams(e).toString();return Ct(`/stock/export?${t}`)}},tL=()=>{console.log("Debug function - API is now connected to PostgreSQL backend"),console.log("Use the browser network tab to see API requests")},tn={getAutomates:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ct(`/automates?${t}`)},getAutomate:async e=>await Ct(`/automates/${e}`),createAutomate:async e=>await Ct("/automates",{method:"POST",body:JSON.stringify(e)}),updateAutomate:async(e,t)=>await Ct(`/automates/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteAutomate:async e=>await Ct(`/automates/${e}`,{method:"DELETE"}),addCodeMapping:async(e,t)=>await Ct(`/automates/${e}/codes`,{method:"POST",body:JSON.stringify(t)}),updateCodeMapping:async(e,t,a)=>await Ct(`/automates/${e}/codes/${t}`,{method:"PUT",body:JSON.stringify(a)}),deleteCodeMapping:async(e,t)=>await Ct(`/automates/${e}/codes/${t}`,{method:"DELETE"}),getTransferLogs:async(e,t={})=>{const a=new URLSearchParams(t).toString();return await Ct(`/automates/${e}/logs?${a}`)},updateStatus:async(e,t)=>await Ct(`/automates/${e}/status`,{method:"PATCH",body:JSON.stringify(t)})},rL=({onDismiss:e})=>{const{language:t}=qt(),a=Pn(),[s,o]=X.useState(null),[l,d]=X.useState(!1),g={fr:{backupReminder:"Rappel de Sauvegarde",message:"Il y a {days} jours depuis votre dernière sauvegarde. Considérez créer une sauvegarde pour protéger vos données.",noBackupMessage:"Aucune sauvegarde n'a été créée. Il est recommandé de créer une sauvegarde pour protéger vos données.",createBackup:"Créer Sauvegarde",manageBackups:"Gérer Sauvegardes",dismiss:"Ignorer",critical:"Critique",warning:"Attention",info:"Information",dataProtection:"Protection des Données",lastBackup:"Dernière sauvegarde",never:"Jamais",daysAgo:"il y a {days} jours"},en:{backupReminder:"Backup Reminder",message:"It has been {days} days since your last backup. Consider creating a backup to protect your data.",noBackupMessage:"No backup has been created yet. It is recommended to create a backup to protect your data.",createBackup:"Create Backup",manageBackups:"Manage Backups",dismiss:"Dismiss",critical:"Critical",warning:"Warning",info:"Info",dataProtection:"Data Protection",lastBackup:"Last backup",never:"Never",daysAgo:"{days} days ago"}}[t];X.useEffect(()=>{(async()=>{try{const L=await ts.shouldShowBackupReminder();o(L)}catch(L){console.error("Error checking backup reminder:",L),o({show:!0,daysSince:999,message:g.noBackupMessage})}})()},[]);const f=()=>{d(!0),e&&e(),localStorage.setItem("backupReminderDismissed",new Date().toDateString())},m=()=>{a("/config/backup")},v=()=>{a("/config/backup")};if(X.useEffect(()=>{localStorage.getItem("backupReminderDismissed")===new Date().toDateString()&&d(!0)},[]),l||!s||!s.show)return null;const N=O=>O>=90?"critical":O>=30?"warning":"info",C=O=>{switch(O){case"critical":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}},k=O=>{switch(O){case"critical":return r.jsx(Ir,{className:"h-5 w-5 text-red-600"});case"warning":return r.jsx(Ir,{className:"h-5 w-5 text-yellow-600"});default:return r.jsx(bs,{className:"h-5 w-5 text-blue-600"})}},U=N(s.daysSince),F=s.daysSince===999?g.noBackupMessage:g.message.replace("{days}",s.daysSince.toString());return r.jsx("div",{className:`rounded-lg border p-4 mb-6 ${C(U)}`,children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:k(U)}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-sm font-medium",children:[g.backupReminder,r.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-white bg-opacity-50",children:g[U]})]}),r.jsx("button",{onClick:f,className:"flex-shrink-0 ml-4 text-gray-400 hover:text-gray-600",children:r.jsx(er,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"mt-2",children:r.jsx("p",{className:"text-sm",children:F})}),r.jsxs("div",{className:"mt-3 flex items-center space-x-4 text-xs",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(on,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{children:[g.lastBackup,": ",s.daysSince===999?g.never:g.daysAgo.replace("{days}",s.daysSince.toString())]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(dA,{className:"h-4 w-4 mr-1"}),r.jsx("span",{children:g.dataProtection})]})]}),r.jsxs("div",{className:"mt-4 flex space-x-3",children:[r.jsxs("button",{onClick:m,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r.jsx(bs,{className:"h-4 w-4 mr-1"}),g.createBackup]}),r.jsx("button",{onClick:v,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:g.manageBackups}),r.jsx("button",{onClick:f,className:"inline-flex items-center px-3 py-2 text-sm leading-4 font-medium text-gray-500 hover:text-gray-700",children:g.dismiss})]})]})]})})};function aL(){const{language:e,user:t}=qt(),{moduleVersion:a}=Zf(),{getActiveDashboardWidgets:s,getActiveQuickActions:o}=TB(),l=Pn(),[d,g]=X.useState(null),[f,m]=X.useState({totalRequests:0,pendingRequests:0,completedRequests:0,urgentRequests:0,totalRevenue:0,averageRevenue:0,totalPatients:0,totalDoctors:0,monthlyGrowth:0,topAnalyses:[],recentRequests:[],revenueByMonth:[],statusDistribution:[],expiringProducts:[],lowStockProducts:[]}),[v,N]=X.useState(!0),[C,k]=X.useState("month"),U={fr:{title:"Tableau de Bord",subtitle:"Vue d'ensemble du laboratoire",totalRequests:"Total Demandes",pendingRequests:"Demandes en Attente",completedRequests:"Demandes Terminées",urgentRequests:"Demandes Urgentes",totalRevenue:"Revenu Total",averageRevenue:"Revenu Moyen",totalPatients:"Total Patients",totalDoctors:"Total Médecins",monthlyGrowth:"Croissance Mensuelle",topAnalyses:"Analyses les Plus Demandées",recentRequests:"Demandes Récentes",revenueByMonth:"Revenus par Mois",statusDistribution:"Répartition par Statut",efficiencyMetrics:"Métriques d'Efficacité",qualityMetrics:"Métriques de Qualité",performance:"Performance",turnaroundTime:"Temps de Traitement",accuracy:"Précision",satisfaction:"Satisfaction",hours:"heures",percentage:"%",outOf:"/5",newPatients:"Nouveaux Patients",returningPatients:"Patients Récurrents",doctorReferrals:"Références Médecins",viewAll:"Voir Tout",period:"Période",today:"Aujourd'hui",week:"Cette Semaine",month:"Ce Mois",quarter:"Ce Trimestre",year:"Cette Année",patient:"Patient",doctor:"Médecin",analyses:"Analyses",status:"Statut",date:"Date",amount:"Montant",urgent:"Urgent",normal:"Normal",pending:"En attente",completed:"Terminé",processing:"En cours",cancelled:"Annulé",noData:"Aucune donnée disponible",loading:"Chargement...",rating:"Note",averageTime:"Temps Moyen",productivity:"Productivité",topDoctors:"Médecins les Plus Actifs",revenueTrend:"Tendance des Revenus",requestTrend:"Tendance des Demandes",financialMetrics:"Métriques Financières",operationalMetrics:"Métriques Opérationnelles",expiringProducts:"Produits Expirant Bientôt",lowStockProducts:"Produits en Stock Faible",expiryDate:"expire bientôt",currentStock:"Stock actuel",minStock:"Stock min",viewStockReport:"Voir Rapport Complet"},en:{title:"Dashboard",subtitle:"Laboratory Overview",totalRequests:"Total Requests",pendingRequests:"Pending Requests",completedRequests:"Completed Requests",urgentRequests:"Urgent Requests",totalRevenue:"Total Revenue",averageRevenue:"Average Revenue",totalPatients:"Total Patients",totalDoctors:"Total Doctors",monthlyGrowth:"Monthly Growth",topAnalyses:"Top Analyses",recentRequests:"Recent Requests",revenueByMonth:"Revenue by Month",statusDistribution:"Status Distribution",efficiencyMetrics:"Efficiency Metrics",qualityMetrics:"Quality Metrics",performance:"Performance",turnaroundTime:"Turnaround Time",accuracy:"Accuracy",satisfaction:"Satisfaction",hours:"hours",percentage:"%",outOf:"/5",newPatients:"New Patients",returningPatients:"Returning Patients",doctorReferrals:"Doctor Referrals",viewAll:"View All",period:"Period",today:"Today",week:"This Week",month:"This Month",quarter:"This Quarter",year:"This Year",patient:"Patient",doctor:"Doctor",analyses:"Analyses",status:"Status",date:"Date",amount:"Amount",urgent:"Urgent",normal:"Normal",pending:"Pending",completed:"Completed",processing:"Processing",cancelled:"Cancelled",noData:"No data available",loading:"Loading...",rating:"Rating",averageTime:"Average Time",productivity:"Productivity",topDoctors:"Most Active Doctors",revenueTrend:"Revenue Trend",requestTrend:"Request Trend",financialMetrics:"Financial Metrics",operationalMetrics:"Operational Metrics",expiringProducts:"Expiring Products",lowStockProducts:"Low Stock Products",expiryDate:"expiring soon",currentStock:"Current stock",minStock:"Min stock",viewStockReport:"View Full Report"}}[e];X.useEffect(()=>{F()},[C,d]),X.useEffect(()=>{(async()=>{try{const T=await la.checkModuleAccess("stock-manager");g(T)}catch(T){console.error("Error checking stock module access:",T),g({hasAccess:!1,daysRemaining:0,status:null,expiresAt:null,features:[]})}})()},[a]);const F=async()=>{N(!0);try{const T=(await nc.getRequests({_t:Date.now()})).requests||[],q=Hl.getPrices(),M=T.length,re=T.filter(Se=>Se.status==="PENDING"||Se.status==="PROCESSING").length,G=T.filter(Se=>Se.status==="COMPLETED").length,V=T.filter(Se=>Se.priority==="URGENT").length;let ue=0;const ne={};T.forEach(Se=>{ue+=Se.totalAmount||0,Se.requestAnalyses&&Se.requestAnalyses.forEach(Ie=>{const ke=Ie.analysis.name;ne[ke]=(ne[ke]||0)+1})});const $=M>0?ue/M:0,J=new Set(T.map(Se=>{var Ie;return(Ie=Se.patient)==null?void 0:Ie.id})).size,oe=new Set(T.map(Se=>{var Ie;return(Ie=Se.doctor)==null?void 0:Ie.id})).size,le=new Date().getMonth(),ie=new Date;ie.setMonth(le-1);const Y=T.filter(Se=>new Date(Se.createdAt).getMonth()===le).length,we=T.filter(Se=>new Date(Se.createdAt).getMonth()===ie.getMonth()).length,fe=we>0?(Y-we)/we*100:0,je=Object.entries(ne).map(([Se,Ie])=>{let ke=0;return T.forEach(Qe=>{Qe.requestAnalyses&&Qe.requestAnalyses.forEach(Ke=>{Ke.analysis.name===Se&&(ke+=Ke.price)})}),{name:Se,count:Ie,revenue:ke}}).sort((Se,Ie)=>Ie.count-Se.count).slice(0,5),Pe=T.sort((Se,Ie)=>new Date(Ie.createdAt).getTime()-new Date(Se.createdAt).getTime()).slice(0,5),Ve=[];for(let Se=5;Se>=0;Se--){const Ie=new Date;Ie.setMonth(Ie.getMonth()-Se);const ke=Ie.toLocaleDateString(e==="fr"?"fr-FR":"en-US",{month:"short"}),Qe=T.filter(tt=>{const ct=new Date(tt.createdAt);return ct.getMonth()===Ie.getMonth()&&ct.getFullYear()===Ie.getFullYear()});let Ke=0;Qe.forEach(tt=>{Ke+=tt.totalAmount||0}),Ve.push({month:ke,revenue:Ke})}const de={};T.forEach(Se=>{const Ie=Se.status||"pending";de[Ie]=(de[Ie]||0)+1});const he=Object.entries(de).map(([Se,Ie])=>({status:Se,count:Ie,percentage:Ie/M*100}));let Ne=[],Ee=[];if(d!=null&&d.hasAccess)try{const Se=await mr.exportStockReport();Se&&Array.isArray(Se)&&(Ne=Se.filter(Ie=>Ie.expiringStock>0).sort((Ie,ke)=>ke.expiringStock-Ie.expiringStock).slice(0,5).map(Ie=>({name:Ie.name,code:Ie.code,expiringStock:Ie.expiringStock,currentStock:Ie.currentStock,expiryDate:Ie.earliestExpiryDate})),Ee=Se.filter(Ie=>Ie.currentStock<=Ie.minStock&&Ie.currentStock>0).sort((Ie,ke)=>Ie.currentStock/Ie.minStock-ke.currentStock/ke.minStock).slice(0,5).map(Ie=>({name:Ie.name,code:Ie.code,currentStock:Ie.currentStock,minStock:Ie.minStock})))}catch(Se){console.error("Error loading stock data:",Se)}m({totalRequests:M,pendingRequests:re,completedRequests:G,urgentRequests:V,totalRevenue:ue,averageRevenue:$,totalPatients:J,totalDoctors:oe,monthlyGrowth:fe,topAnalyses:je,recentRequests:Pe,revenueByMonth:Ve,statusDistribution:he,expiringProducts:Ne,lowStockProducts:Ee})}catch(I){console.error("Error loading dashboard data:",I)}finally{N(!1)}},O=I=>{switch(I){case"completed":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"processing":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"pending":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20 dark:text-yellow-400";case"cancelled":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20 dark:text-gray-400"}},L=I=>{switch(I){case"completed":return U.completed;case"processing":return U.processing;case"pending":return U.pending;case"cancelled":return U.cancelled;default:return U.pending}};return v?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:U.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:U.subtitle})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:["today","week","month","quarter","year"].map(I=>r.jsx("button",{onClick:()=>k(I),className:`px-3 sm:px-4 py-2 rounded-lg text-sm font-medium transition-colors ${C===I?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:U[I]},I))})}),r.jsx(rL,{}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:e==="fr"?"Actions Rapides":"Quick Actions"}),r.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[r.jsxs("button",{onClick:()=>l("/new-request"),className:"flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[r.jsx(Ea,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Nouvelle Demande":"New Request"}),r.jsx("span",{className:"sm:hidden",children:e==="fr"?"Demande":"Request"})]}),r.jsxs("button",{onClick:()=>l("/patients"),className:"flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm sm:text-base",children:[r.jsx(ac,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Nouveau Patient":"New Patient"}),r.jsx("span",{className:"sm:hidden",children:"Patient"})]}),r.jsxs("button",{onClick:()=>l("/results"),className:"flex items-center px-3 sm:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm sm:text-base",children:[r.jsx(Sa,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Saisir Résultats":"Enter Results"}),r.jsx("span",{className:"sm:hidden",children:e==="fr"?"Résultats":"Results"})]}),o().map((I,T)=>r.jsxs("button",{onClick:()=>{I.action==="create-backup"?l("/config/backup"):(I.action==="new-control"||I.action==="control-charts")&&l("/quality-control")},className:`flex items-center px-3 sm:px-4 py-2 text-white rounded-lg hover:opacity-90 transition-colors text-sm sm:text-base ${I.color}`,children:[r.jsx(I.icon,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:I.name[e]}),r.jsx("span",{className:"sm:hidden",children:I.name[e].split(" ")[0]})]},`module-action-${T}`))]})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ea,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:U.totalRequests}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:f.totalRequests})]})]}),r.jsxs("div",{className:"mt-2 flex items-center text-xs sm:text-sm",children:[f.monthlyGrowth>0?r.jsx(Us,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 mr-1"}):r.jsx(ll,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600 mr-1"}),r.jsxs("span",{className:f.monthlyGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(f.monthlyGrowth).toFixed(1),"%"]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(In,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:U.totalRevenue}),r.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:[f.totalRevenue.toFixed(2)," dh"]})]})]}),r.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[U.averageRevenue,": ",f.averageRevenue.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ac,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:U.totalPatients}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:f.totalPatients})]})]}),r.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[U.totalDoctors,": ",f.totalDoctors]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ir,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:U.urgentRequests}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:f.urgentRequests})]})]}),r.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[U.pendingRequests,": ",f.pendingRequests]})]})]}),s().length>0&&r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Modules"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:s().map((I,T)=>r.jsx("div",{children:r.jsx(I.component,{language:e})},`module-widget-${I.id}-${T}`))})]}),(d==null?void 0:d.hasAccess)&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ms,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:U.expiringProducts})]}),r.jsx("button",{onClick:()=>l("/stock/reports"),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:U.viewStockReport})]}),r.jsx("div",{className:"space-y-2",children:f.expiringProducts&&f.expiringProducts.length>0?f.expiringProducts.map((I,T)=>r.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.name}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:I.code})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[I.expiringStock," ",U.expiryDate]}),I.expiryDate&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(I.expiryDate).toLocaleDateString(e==="fr"?"fr-FR":"en-US")}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[U.currentStock,": ",I.currentStock]})]})]},T)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:U.noData})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ir,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:U.lowStockProducts})]}),r.jsx("button",{onClick:()=>l("/stock/reports"),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:U.viewStockReport})]}),r.jsx("div",{className:"space-y-2",children:f.lowStockProducts&&f.lowStockProducts.length>0?f.lowStockProducts.map((I,T)=>r.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.name}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:I.code})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-yellow-600",children:[I.currentStock," / ",I.minStock]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[U.minStock,": ",I.minStock]})]})]},T)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:U.noData})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[r.jsx(Ps,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:U.efficiencyMetrics})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[U.turnaroundTime,":"]}),r.jsxs("span",{className:"font-medium",children:["24 ",U.hours]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[U.accuracy,":"]}),r.jsxs("span",{className:"font-medium text-green-600",children:["99.8",U.percentage]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[U.satisfaction,":"]}),r.jsxs("span",{className:"font-medium",children:["4.8 ",U.outOf]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[r.jsx(gf,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:U.qualityMetrics})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[U.completedRequests,":"]}),r.jsx("span",{className:"font-medium text-green-600",children:f.completedRequests})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[U.processing,":"]}),r.jsx("span",{className:"font-medium text-blue-600",children:f.pendingRequests})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[U.urgentRequests,":"]}),r.jsx("span",{className:"font-medium text-orange-600",children:f.urgentRequests})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[r.jsx(Y3,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:U.performance})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[U.newPatients,":"]}),r.jsx("span",{className:"font-medium",children:Math.floor(f.totalPatients*.3)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[U.returningPatients,":"]}),r.jsx("span",{className:"font-medium",children:Math.floor(f.totalPatients*.7)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[U.doctorReferrals,":"]}),r.jsx("span",{className:"font-medium",children:f.totalDoctors})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:U.topAnalyses}),r.jsx(Sa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),r.jsx("div",{className:"space-y-2 sm:space-y-3",children:f.topAnalyses.length>0?f.topAnalyses.map((I,T)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mr-2 sm:mr-3 flex-shrink-0",children:r.jsx("span",{className:"text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400",children:T+1})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:I.name}),r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[I.count," ",U.analyses]})]})]}),r.jsxs("span",{className:"text-sm font-medium text-green-600 ml-2 flex-shrink-0",children:[I.revenue.toFixed(2)," dh"]})]},I.name)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:U.noData})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:U.statusDistribution}),r.jsx(VN,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),r.jsx("div",{className:"space-y-2 sm:space-y-3",children:f.statusDistribution.length>0?f.statusDistribution.map(I=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[r.jsx("div",{className:"w-3 h-3 rounded-full mr-2 sm:mr-3 bg-blue-500 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white truncate",children:L(I.status)})]}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-shrink-0",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.count}),r.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["(",I.percentage.toFixed(1),"%)"]})]})]},I.status)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:U.noData})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:U.recentRequests}),r.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:U.viewAll})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.patient}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:U.doctor}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.analyses}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.status}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:U.date}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.amount})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:f.recentRequests.length>0?f.recentRequests.map(I=>{var T,q;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"truncate max-w-[120px] sm:max-w-none",children:I.patient?`${I.patient.firstName} ${I.patient.lastName}`:"N/A"})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden sm:table-cell",children:r.jsx("div",{className:"truncate max-w-[120px]",children:I.doctor?`Dr. ${I.doctor.firstName} ${I.doctor.lastName}`:"N/A"})}),r.jsxs("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:[((T=I.requestAnalyses)==null?void 0:T.length)||0," ",U.analyses]}),r.jsx("td",{className:"px-3 sm:px-6 py-4",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O(I.status)}`,children:L(I.status)})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-600 dark:text-gray-400 hidden lg:table-cell",children:new Date(I.createdAt).toLocaleDateString()}),r.jsxs("td",{className:"px-3 sm:px-6 py-4 text-sm font-medium text-green-600",children:[((q=I.amountDue)==null?void 0:q.toFixed(2))||"0.00"," dh"]})]},I.id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:U.noData})})})]})})]})]})}function sL(){const{language:e}=qt(),t=Pn(),[a,s]=X.useState(""),[o,l]=X.useState(!1),[d,g]=X.useState(!1),[f,m]=X.useState(null),v={fr:{title:"Gestion des Patients",newPatient:"Nouveau Patient",search:"Rechercher un patient...",name:"Nom",birthDate:"Date de Naissance",socialSecurity:"Sécurité Sociale",phone:"Téléphone",email:"Email",lastVisit:"Dernière Visite",actions:"Actions",close:"Fermer",save:"Enregistrer",cancel:"Annuler",viewResults:"Voir les résultats"},en:{title:"Patient Management",newPatient:"New Patient",search:"Search patient...",name:"Name",birthDate:"Birth Date",socialSecurity:"Social Security",phone:"Phone",email:"Email",lastVisit:"Last Visit",actions:"Actions",close:"Close",save:"Save",cancel:"Cancel",viewResults:"View Results"}}[e],[N,C]=X.useState([]),[k,U]=X.useState(!0);X.useEffect(()=>{(async()=>{try{const M=await Hc.getPatients();M.patients?C(M.patients):C([])}catch(M){console.error("Error loading patients:",M),C([])}finally{U(!1)}})()},[]);const F=q=>{m(q),g(!0)},O=q=>{m(q),l(!0)},L=q=>{t(`/results?patientId=${q.id}`),console.log("Navigating to results for patient:",q.id)},I=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:f?"Modifier Patient":v.newPatient}),r.jsx("button",{onClick:()=>l(!1),className:"p-1",children:r.jsx(er,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Prénom",defaultValue:(f==null?void 0:f.firstName)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"text",placeholder:"Nom",defaultValue:(f==null?void 0:f.lastName)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"date",defaultValue:f!=null&&f.dateOfBirth?new Date(f.dateOfBirth).toISOString().split("T")[0]:"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"text",placeholder:"Sécurité Sociale",defaultValue:(f==null?void 0:f.cnssNumber)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"tel",placeholder:"Téléphone",defaultValue:(f==null?void 0:f.phone)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"email",placeholder:"Email",defaultValue:(f==null?void 0:f.email)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:v.cancel}),r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:v.save})]})]})}),T=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Détails du patient"}),r.jsx("button",{onClick:()=>g(!1),className:"p-1",children:r.jsx(er,{size:20,className:"text-gray-500"})})]}),f&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",f.id]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Nom:"})," ",`${f.firstName} ${f.lastName}`]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Date de naissance:"})," ",new Date(f.dateOfBirth).toLocaleDateString()]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Genre:"})," ",f.gender]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Sécurité Sociale:"})," ",f.cnssNumber||"N/A"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Téléphone:"})," ",f.phone]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email:"})," ",f.email]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Adresse:"})," ",f.address||"N/A"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Créé le:"})," ",new Date(f.createdAt).toLocaleDateString()]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:v.close})})]})});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-4",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:v.title}),r.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center transition-colors",children:[r.jsx(ha,{size:18,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:v.newPatient}),r.jsx("span",{className:"sm:hidden",children:"+"})]})]}),r.jsx("div",{className:"mb-4 sm:mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(ba,{size:18,className:"absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:v.search,value:a,onChange:q=>s(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm sm:text-base"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:v.name}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:v.birthDate}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:v.socialSecurity}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden md:table-cell",children:v.phone}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:v.lastVisit}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:v.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:k?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Chargement..."})]})})}):N.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Aucun patient enregistré."})}):N.map(q=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:r.jsx("div",{className:"truncate max-w-[120px] sm:max-w-none",children:`${q.firstName} ${q.lastName}`})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden sm:table-cell",children:new Date(q.dateOfBirth).toLocaleDateString()}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden lg:table-cell",children:r.jsx("div",{className:"truncate max-w-[120px]",children:q.cnssNumber||"N/A"})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden md:table-cell",children:q.phone}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden lg:table-cell",children:new Date(q.createdAt).toLocaleDateString()}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>F(q),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"View",children:r.jsx(Ms,{size:16})}),r.jsx("button",{onClick:()=>O(q),className:"text-green-600 hover:text-green-900 transition-colors",title:"Edit",children:r.jsx(co,{size:16})}),r.jsx("button",{onClick:()=>L(q),className:"text-purple-600 hover:text-purple-900 transition-colors",title:v.viewResults,children:r.jsx(Ea,{size:16})})]})})]},q.id))})]})})}),o&&r.jsx(I,{}),d&&r.jsx(T,{})]})}function nL(){const{language:e}=qt(),[t,a]=X.useState([]),[s,o]=X.useState(""),[l,d]=X.useState("all"),[g,f]=X.useState("all"),[m,v]=X.useState(!1),[N,C]=X.useState(null),[k,U]=X.useState(!0),F={fr:{title:"Gestion des Médecins",subtitle:"Gestion des médecins référents",search:"Rechercher un médecin...",filter:"Filtrer",allSpecialties:"Toutes les spécialités",allStatus:"Tous les statuts",addDoctor:"Ajouter un médecin",editDoctor:"Modifier le médecin",nom:"Nom",prenom:"Prénom",specialite:"Spécialité",email:"Email",telephone:"Téléphone",adresse:"Adresse",numeroOrdre:"Numéro d'ordre",dateInscription:"Date d'inscription",statut:"Statut",notes:"Notes",actif:"Actif",inactif:"Inactif",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",actions:"Actions",totalDoctors:"Total médecins",activeDoctors:"Médecins actifs",specialties:"Spécialités",recentRegistrations:"Inscriptions récentes",success:"Médecin enregistré avec succès",error:"Erreur lors de l'enregistrement",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce médecin ?",doctorDetails:"Détails du médecin",noDoctors:"Aucun médecin trouvé",addNewDoctor:"Ajouter un nouveau médecin"},en:{title:"Doctor Management",subtitle:"Managing referring doctors",search:"Search for a doctor...",filter:"Filter",allSpecialties:"All specialties",allStatus:"All status",addDoctor:"Add doctor",editDoctor:"Edit doctor",nom:"Last Name",prenom:"First Name",specialite:"Specialty",email:"Email",telephone:"Phone",adresse:"Address",numeroOrdre:"License Number",dateInscription:"Registration Date",statut:"Status",notes:"Notes",actif:"Active",inactif:"Inactive",save:"Save",cancel:"Cancel",delete:"Delete",actions:"Actions",totalDoctors:"Total doctors",activeDoctors:"Active doctors",specialties:"Specialties",recentRegistrations:"Recent registrations",success:"Doctor saved successfully",error:"Error saving doctor",confirmDelete:"Are you sure you want to delete this doctor?",doctorDetails:"Doctor details",noDoctors:"No doctors found",addNewDoctor:"Add new doctor"}}[e],O=["Médecine générale","Cardiologie","Endocrinologie","Dermatologie","Gastroentérologie","Neurologie","Pneumologie","Rhumatologie","Urologie","Gynécologie","Pédiatrie","Psychiatrie","Radiologie","Chirurgie générale","Orthopédie"];X.useEffect(()=>{L()},[]);const L=()=>{try{const J=localStorage.getItem("sil_lab_doctors");if(J)a(JSON.parse(J));else{const oe=[{id:"1",nom:"Boulahcen",prenom:"Hicham",specialite:"Médecine générale",email:"h.boulahcen@medecin.fr",telephone:"01.42.34.56.78",adresse:"123 Rue de la Santé, 75014 Paris",numeroOrdre:"12345678",dateInscription:"2020-01-15",statut:"actif",notes:"Médecin généraliste expérimenté"},{id:"2",nom:"Bensaïd",prenom:"Youssef",specialite:"Cardiologie",email:"y.bensaid@cardio.fr",telephone:"01.42.34.56.79",adresse:"456 Avenue des Médecins, 75016 Paris",numeroOrdre:"87654321",dateInscription:"2019-03-20",statut:"actif",notes:"Cardiologue spécialisé en échographie"},{id:"3",nom:"Alaoui",prenom:"Fatima",specialite:"Endocrinologie",email:"f.alaoui@endo.fr",telephone:"01.42.34.56.80",adresse:"789 Boulevard de la Médecine, 75008 Paris",numeroOrdre:"11223344",dateInscription:"2021-06-10",statut:"actif",notes:"Spécialiste en diabétologie"},{id:"4",nom:"Tazi",prenom:"Mohamed",specialite:"Médecine générale",email:"m.tazi@medecin.fr",telephone:"01.42.34.56.81",adresse:"321 Rue du Médecin, 75011 Paris",numeroOrdre:"55667788",dateInscription:"2018-09-05",statut:"actif",notes:"Médecin de famille"},{id:"5",nom:"El Amrani",prenom:"Karim",specialite:"Dermatologie",email:"k.elamrani@dermato.fr",telephone:"01.42.34.56.82",adresse:"654 Avenue de la Dermatologie, 75006 Paris",numeroOrdre:"99887766",dateInscription:"2022-01-12",statut:"actif",notes:"Dermatologue esthétique"}];a(oe),localStorage.setItem("sil_lab_doctors",JSON.stringify(oe))}U(!1)}catch(J){console.error("Error loading doctors:",J),U(!1)}},I=t.filter(J=>{const oe=`${J.prenom} ${J.nom}`.toLowerCase().includes(s.toLowerCase())||J.specialite.toLowerCase().includes(s.toLowerCase())||J.email.toLowerCase().includes(s.toLowerCase()),le=l==="all"||J.specialite===l,ie=g==="all"||J.statut===g;return oe&&le&&ie}),T=()=>{try{localStorage.setItem("sil_lab_doctors",JSON.stringify(t)),alert(F.success)}catch(J){console.error("Save error:",J),alert(F.error)}},q=()=>{const J={id:Date.now().toString(),nom:"",prenom:"",specialite:"Médecine générale",email:"",telephone:"",adresse:"",numeroOrdre:"",dateInscription:new Date().toISOString().split("T")[0],statut:"actif",notes:""};C(J),v(!0)},M=J=>{C(J),v(!0)},re=J=>{if(window.confirm(F.confirmDelete)){const oe=t.filter(le=>le.id!==J);a(oe),localStorage.setItem("sil_lab_doctors",JSON.stringify(oe))}},G=()=>{if(N&&N.nom&&N.prenom){let J;if(N.id&&t.find(oe=>oe.id===N.id))J=t.map(oe=>oe.id===N.id?N:oe);else{const oe={...N,id:Date.now().toString()};J=[...t,oe]}a(J),localStorage.setItem("sil_lab_doctors",JSON.stringify(J)),C(null),v(!1),alert(F.success)}},V=t.length,ue=t.filter(J=>J.statut==="actif").length,ne=new Set(t.map(J=>J.specialite)).size,$=t.filter(J=>{const oe=new Date(J.dateInscription),le=new Date;return le.setMonth(le.getMonth()-3),oe>le}).length;return k?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:F.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:F.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(As,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:F.totalDoctors}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:V})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(jA,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:F.activeDoctors}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ue})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(UA,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:F.specialties}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ne})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(As,{className:"h-8 w-8 text-orange-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:F.recentRegistrations}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:$})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:s,onChange:J=>o(J.target.value),placeholder:F.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:l,onChange:J=>d(J.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:F.allSpecialties}),O.map(J=>r.jsx("option",{value:J,children:J},J))]}),r.jsxs("select",{value:g,onChange:J=>f(J.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:F.allStatus}),r.jsx("option",{value:"actif",children:F.actif}),r.jsx("option",{value:"inactif",children:F.inactif})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:q,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:16,className:"mr-2"}),F.addDoctor]}),r.jsx("button",{onClick:T,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Sauvegarder"})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.doctorDetails}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.specialite}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.statut}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:I.length>0?I.map(J=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Dr. ",J.prenom," ",J.nom]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.numeroOrdre,": ",J.numeroOrdre]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.dateInscription,": ",new Date(J.dateInscription).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.specialite}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(eb,{size:14,className:"mr-2 text-gray-400"}),J.email]}),r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(tb,{size:14,className:"mr-2 text-gray-400"}),J.telephone]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(rc,{size:14,className:"mr-2 text-gray-400"}),J.adresse]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${J.statut==="actif"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:J.statut==="actif"?F.actif:F.inactif})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>M(J),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(co,{size:16})}),r.jsx("button",{onClick:()=>re(J.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(ei,{size:16})})]})})]},J.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:F.noDoctors})})})]})})}),m&&N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:N.id&&t.find(J=>J.id===N.id)?F.editDoctor:F.addNewDoctor}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[F.nom," *"]}),r.jsx("input",{type:"text",required:!0,value:N.nom,onChange:J=>C(oe=>oe?{...oe,nom:J.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[F.prenom," *"]}),r.jsx("input",{type:"text",required:!0,value:N.prenom,onChange:J=>C(oe=>oe?{...oe,prenom:J.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[F.specialite," *"]}),r.jsx("select",{value:N.specialite,onChange:J=>C(oe=>oe?{...oe,specialite:J.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:O.map(J=>r.jsx("option",{value:J,children:J},J))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[F.email," *"]}),r.jsx("input",{type:"email",required:!0,value:N.email,onChange:J=>C(oe=>oe?{...oe,email:J.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[F.telephone," *"]}),r.jsx("input",{type:"tel",required:!0,value:N.telephone,onChange:J=>C(oe=>oe?{...oe,telephone:J.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[F.numeroOrdre," *"]}),r.jsx("input",{type:"text",required:!0,value:N.numeroOrdre,onChange:J=>C(oe=>oe?{...oe,numeroOrdre:J.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.dateInscription}),r.jsx("input",{type:"date",value:N.dateInscription,onChange:J=>C(oe=>oe?{...oe,dateInscription:J.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.statut}),r.jsxs("select",{value:N.statut,onChange:J=>C(oe=>oe?{...oe,statut:J.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"actif",children:F.actif}),r.jsx("option",{value:"inactif",children:F.inactif})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.adresse}),r.jsx("input",{type:"text",value:N.adresse,onChange:J=>C(oe=>oe?{...oe,adresse:J.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.notes}),r.jsx("textarea",{value:N.notes||"",onChange:J=>C(oe=>oe?{...oe,notes:J.target.value}:null),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>{v(!1),C(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:F.cancel}),r.jsx("button",{onClick:G,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:F.save})]})]})})]})}function iL(){const{language:e}=qt(),t=Pn(),[a,s]=X.useState(""),[o,l]=X.useState(!1),[d,g]=X.useState(!1),[f,m]=X.useState(null),[v,N]=X.useState(!1),[C,k]=X.useState([]),[U,F]=X.useState(!0),[O,L]=X.useState("ALL"),[I,T]=X.useState("ALL"),[q,M]=X.useState(""),[re,G]=X.useState("createdAt"),[V,ue]=X.useState("desc"),[ne,$]=X.useState(1),[J,oe]=X.useState(10),[le,ie]=X.useState(0),Y={fr:{title:"Gestion des Demandes",newRequest:"Nouvelle Demande",search:"Rechercher...",id:"ID",patient:"Patient",tests:"Analyses",status:"Statut",priority:"Priorité",sampleType:"Type d'échantillon",date:"Date",actions:"Actions",close:"Fermer",save:"Enregistrer",cancel:"Annuler",refresh:"Actualiser",export:"Exporter",print:"Imprimer",filter:"Filtrer",allStatuses:"Tous les statuts",allPriorities:"Toutes priorités",itemsPerPage:"Éléments par page",page:"Page",of:"sur",previous:"Précédent",next:"Suivant",deleteConfirm:"Êtes-vous sûr de vouloir supprimer cette demande?",viewResults:"Voir résultats",enterResults:"Saisir résultats",validateResults:"Valider résultats",printReport:"Imprimer rapport",created:"Créé",pending:"En attente",processing:"En traitement",completed:"Terminé",cancelled:"Annulé",normal:"Normal",urgent:"Urgent",emergency:"Urgence",paymentStatus:"Statut paiement",paid:"Payé",partiallyPaid:"Partiellement payé",unpaid:"Non payé",totalAmount:"Montant total",amountDue:"Montant dû",doctor:"Médecin",collectionDate:"Date de prélèvement",collectionTime:"Heure de prélèvement",notes:"Notes",createdAt:"Créé le",updatedAt:"Mis à jour le"},en:{title:"Request Management",newRequest:"New Request",search:"Search...",id:"ID",patient:"Patient",tests:"Tests",status:"Status",priority:"Priority",sampleType:"Sample Type",date:"Date",actions:"Actions",close:"Close",save:"Save",cancel:"Cancel",refresh:"Refresh",export:"Export",print:"Print",filter:"Filter",allStatuses:"All statuses",allPriorities:"All priorities",itemsPerPage:"Items per page",page:"Page",of:"of",previous:"Previous",next:"Next",deleteConfirm:"Are you sure you want to delete this request?",viewResults:"View results",enterResults:"Enter results",validateResults:"Validate results",printReport:"Print report",created:"Created",pending:"Pending",processing:"Processing",completed:"Completed",cancelled:"Cancelled",normal:"Normal",urgent:"Urgent",emergency:"Emergency",paymentStatus:"Payment status",paid:"Paid",partiallyPaid:"Partially paid",unpaid:"Unpaid",totalAmount:"Total amount",amountDue:"Amount due",doctor:"Doctor",collectionDate:"Collection date",collectionTime:"Collection time",notes:"Notes",createdAt:"Created at",updatedAt:"Updated at"}}[e];X.useEffect(()=>{(async()=>{try{F(!0);const yt=await nc.getRequests({_t:Date.now()});yt.requests?k(yt.requests):k([])}catch(yt){console.error("Error loading requests:",yt),k([])}finally{F(!1)}})()},[le]);const we=C.filter(be=>{var Rt,_t,Xt,Zt,dr;const yt=`${((Rt=be.patient)==null?void 0:Rt.firstName)||""} ${((_t=be.patient)==null?void 0:_t.lastName)||""}`.toLowerCase(),dt=((Xt=be.requestAnalyses)==null?void 0:Xt.map(Lt=>Lt.analysis.name.toLowerCase()))||[],nt=`${((Zt=be.doctor)==null?void 0:Zt.firstName)||""} ${((dr=be.doctor)==null?void 0:dr.lastName)||""}`.toLowerCase(),At=yt.includes(a.toLowerCase())||be.id.toLowerCase().includes(a.toLowerCase())||dt.some(Lt=>Lt.includes(a.toLowerCase()))||nt.includes(a.toLowerCase()),gt=O==="ALL"||be.status===O,ut=I==="ALL"||be.priority===I,Et=!q||be.collectionDate&&be.collectionDate.includes(q);return At&&gt&&ut&&Et}).sort((be,yt)=>{if(re==="createdAt")return V==="asc"?new Date(be.createdAt).getTime()-new Date(yt.createdAt).getTime():new Date(yt.createdAt).getTime()-new Date(be.createdAt).getTime();if(re==="priority"){const dt={NORMAL:0,URGENT:1,EMERGENCY:2};return V==="asc"?(dt[be.priority]||0)-(dt[yt.priority]||0):(dt[yt.priority]||0)-(dt[be.priority]||0)}else if(re==="status"){const dt={CREATED:0,PENDING:1,PROCESSING:2,COMPLETED:3,CANCELLED:4};return V==="asc"?(dt[be.status]||0)-(dt[yt.status]||0):(dt[yt.status]||0)-(dt[be.status]||0)}return 0}),fe=Math.ceil(we.length/J),je=we.slice((ne-1)*J,ne*J),Pe=be=>({CREATED:"bg-gray-100 text-gray-800",PENDING:"bg-yellow-100 text-yellow-800",PROCESSING:"bg-blue-100 text-blue-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[be]||"bg-gray-100 text-gray-800",Ve=be=>({NORMAL:"bg-gray-100 text-gray-800",URGENT:"bg-orange-100 text-orange-800",EMERGENCY:"bg-red-100 text-red-800"})[be]||"bg-gray-100 text-gray-800",de=be=>be.amountDue<=0?"bg-green-100 text-green-800":be.advancePayment>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",he=be=>be.amountDue<=0?e==="fr"?"Payé":"Paid":be.advancePayment>0?e==="fr"?"Partiellement payé":"Partially paid":e==="fr"?"Non payé":"Unpaid",Ne=be=>{m(be),g(!0)},Ee=be=>{m(be),l(!0)},Se=async be=>{if(window.confirm(Y.deleteConfirm))try{await nc.deleteRequest(be.id),ie(yt=>yt+1)}catch(yt){console.error("Error deleting request:",yt),alert("Error deleting request")}},Ie=()=>{ie(be=>be+1)},ke=async()=>{try{alert("Export functionality would be implemented here")}catch(be){console.error("Error exporting data:",be)}},Qe=()=>{window.print()},Ke=be=>{t(`/results?requestId=${be.id}`)},tt=be=>{t(`/results/entry?requestId=${be.id}`)},ct=be=>{t(`/results/print?requestId=${be.id}`)},lt=be=>{re===be?ue(V==="asc"?"desc":"asc"):(G(be),ue("asc"))},Qt=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:f?"Modifier Demande":Y.newRequest}),r.jsx("button",{onClick:()=>l(!1),children:r.jsx(er,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Nom du patient",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{children:"Sélectionner tests"}),r.jsx("option",{children:"Hémogramme"}),r.jsx("option",{children:"Glycémie"})]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{children:"Priorité normale"}),r.jsx("option",{children:"Urgent"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:Y.cancel}),r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:Y.save})]})]})}),We=()=>{var be,yt;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e==="fr"?"Détails de la demande":"Request Details"}),r.jsx("button",{onClick:()=>g(!1),children:r.jsx(er,{size:20,className:"text-gray-500"})})]}),f&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations patient":"Patient Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[Y.patient,":"]})," ",f.patient?`${f.patient.firstName} ${f.patient.lastName}`:"N/A"]}),((be=f.patient)==null?void 0:be.cnssNumber)&&r.jsxs("div",{children:[r.jsx("strong",{children:"CNSS:"})," ",f.patient.cnssNumber]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Statut de la demande":"Request Status"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("strong",{className:"mr-2",children:[Y.status,":"]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Pe(f.status)}`,children:f.status})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("strong",{className:"mr-2",children:[Y.priority,":"]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ve(f.priority)}`,children:f.priority})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("strong",{className:"mr-2",children:[Y.paymentStatus,":"]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${de(f)}`,children:he(f)})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Analyses demandées":"Requested Tests"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:(yt=f.requestAnalyses)==null?void 0:yt.map(dt=>r.jsxs("li",{children:[dt.analysis.name," ",r.jsxs("span",{className:"text-gray-500",children:["(",dt.analysis.code,")"]})]},dt.id))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations de prélèvement":"Collection Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[Y.sampleType,":"]})," ",f.sampleType]}),f.tubeType&&r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Type de tube":"Tube Type",":"]})," ",f.tubeType]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[Y.collectionDate,":"]})," ",f.collectionDate?new Date(f.collectionDate).toLocaleString():"N/A"]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[Y.collectionTime,":"]})," ",f.collectionTime||"N/A"]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations financières":"Financial Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[Y.totalAmount,":"]})," ",f.totalAmount.toFixed(2)," MAD"]}),f.discount>0&&r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Remise":"Discount",":"]})," ",f.discount,"%"]}),f.advancePayment>0&&r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Avance":"Advance Payment",":"]})," ",f.advancePayment.toFixed(2)," MAD"]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[Y.amountDue,":"]})," ",f.amountDue.toFixed(2)," MAD"]})]})]})]}),f.doctor&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Médecin référent":"Referring Doctor"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[Y.doctor,":"]})," ",`${f.doctor.firstName} ${f.doctor.lastName}`]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Spécialité":"Specialty",":"]})," ",f.doctor.specialty]})]})]}),f.notes&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:Y.notes}),r.jsx("p",{className:"whitespace-pre-line",children:f.notes})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations système":"System Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",f.id]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[Y.createdAt,":"]})," ",new Date(f.createdAt).toLocaleString()]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[Y.updatedAt,":"]})," ",new Date(f.updatedAt).toLocaleString()]})]})]})]}),r.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-6",children:[r.jsxs("button",{onClick:()=>Ke(f),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(Ms,{size:16,className:"mr-2"}),Y.viewResults]}),r.jsxs("button",{onClick:()=>tt(f),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Ea,{size:16,className:"mr-2"}),Y.enterResults]}),r.jsxs("button",{onClick:()=>ct(f),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[r.jsx(ql,{size:16,className:"mr-2"}),Y.printReport]}),r.jsxs("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 flex items-center",children:[r.jsx(er,{size:16,className:"mr-2"}),Y.close]})]})]})})};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:Y.title}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:Ie,className:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center",children:[r.jsx(an,{size:16,className:"mr-2"}),Y.refresh]}),r.jsxs("button",{onClick:ke,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Bi,{size:16,className:"mr-2"}),Y.export]}),r.jsxs("button",{onClick:Qe,className:"bg-purple-600 text-white px-3 py-2 rounded-lg hover:bg-purple-700 flex items-center",children:[r.jsx(ql,{size:16,className:"mr-2"}),Y.print]}),r.jsxs("button",{onClick:()=>t("/new-request"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:16,className:"mr-2"}),Y.newRequest]})]})]}),r.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ba,{size:20,className:"absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:Y.search,value:a,onChange:be=>s(be.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("button",{onClick:()=>N(!v),className:`px-4 py-2 rounded-lg flex items-center ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[r.jsx(UA,{size:16,className:"mr-2"}),Y.filter]})]}),v&&r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:Y.status}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:O,onChange:be=>L(be.target.value),children:[r.jsx("option",{value:"ALL",children:Y.allStatuses}),r.jsx("option",{value:"CREATED",children:Y.created}),r.jsx("option",{value:"PENDING",children:Y.pending}),r.jsx("option",{value:"PROCESSING",children:Y.processing}),r.jsx("option",{value:"COMPLETED",children:Y.completed}),r.jsx("option",{value:"CANCELLED",children:Y.cancelled})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:Y.priority}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:I,onChange:be=>T(be.target.value),children:[r.jsx("option",{value:"ALL",children:Y.allPriorities}),r.jsx("option",{value:"NORMAL",children:Y.normal}),r.jsx("option",{value:"URGENT",children:Y.urgent}),r.jsx("option",{value:"EMERGENCY",children:Y.emergency})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:Y.date}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:q,onChange:be=>M(be.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:Y.itemsPerPage}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:J,onChange:be=>oe(Number(be.target.value)),children:[r.jsx("option",{value:"5",children:"5"}),r.jsx("option",{value:"10",children:"10"}),r.jsx("option",{value:"25",children:"25"}),r.jsx("option",{value:"50",children:"50"}),r.jsx("option",{value:"100",children:"100"})]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Y.patient}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Y.tests}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>lt("status"),children:r.jsxs("div",{className:"flex items-center",children:[Y.status,re==="status"&&r.jsx("span",{className:"ml-1",children:V==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>lt("priority"),children:r.jsxs("div",{className:"flex items-center",children:[Y.priority,re==="priority"&&r.jsx("span",{className:"ml-1",children:V==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Y.paymentStatus}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Y.sampleType}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>lt("createdAt"),children:r.jsxs("div",{className:"flex items-center",children:[Y.date,re==="createdAt"&&r.jsx("span",{className:"ml-1",children:V==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Y.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:U?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:e==="fr"?"Chargement...":"Loading..."})]})})}):je.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:a||O!=="ALL"||I!=="ALL"||q?e==="fr"?"Aucune demande trouvée pour cette recherche.":"No requests found for this search.":e==="fr"?"Aucune demande enregistrée.":"No requests recorded."})})}):je.map(be=>{var yt,dt,nt;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[be.patient?`${be.patient.firstName} ${be.patient.lastName}`:"N/A",((yt=be.patient)==null?void 0:yt.cnssNumber)&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["CNSS: ",be.patient.cnssNumber]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[r.jsx("div",{className:"max-w-xs truncate",children:((dt=be.requestAnalyses)==null?void 0:dt.map(At=>At.analysis.name).join(", "))||"N/A"}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[((nt=be.requestAnalyses)==null?void 0:nt.length)||0," ","test(s)"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Pe(be.status)}`,children:be.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ve(be.priority)}`,children:be.priority})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${de(be)}`,children:he(be)})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[be.sampleType,be.tubeType&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:["(",be.tubeType,")"]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[r.jsx("div",{children:new Date(be.createdAt).toLocaleDateString()}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(be.createdAt).toLocaleTimeString()})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Ne(be),className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:e==="fr"?"Voir détails":"View details",children:r.jsx(Ms,{size:16})}),r.jsx("button",{onClick:()=>Ee(be),className:"text-green-600 hover:text-green-900 dark:hover:text-green-400",title:e==="fr"?"Modifier":"Edit",children:r.jsx(co,{size:16})}),r.jsx("button",{onClick:()=>Ke(be),className:"text-purple-600 hover:text-purple-900 dark:hover:text-purple-400",title:e==="fr"?"Voir résultats":"View results",children:r.jsx(Ea,{size:16})}),r.jsx("button",{onClick:()=>ct(be),className:"text-indigo-600 hover:text-indigo-900 dark:hover:text-indigo-400",title:e==="fr"?"Imprimer rapport":"Print report",children:r.jsx(ql,{size:16})}),r.jsx("button",{onClick:()=>Se(be),className:"text-red-600 hover:text-red-900 dark:hover:text-red-400",title:e==="fr"?"Supprimer":"Delete",children:r.jsx(ei,{size:16})})]})})]},be.id)})})]})})}),je.length>0&&r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[Y.page," ",ne," ",Y.of," ",fe]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>$(be=>Math.max(be-1,1)),disabled:ne===1,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md disabled:opacity-50",children:Y.previous}),r.jsx("button",{onClick:()=>$(be=>Math.min(be+1,fe)),disabled:ne===fe,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md disabled:opacity-50",children:Y.next})]})]}),o&&r.jsx(Qt,{}),d&&r.jsx(We,{})]})}function oL(){const{language:e}=qt(),[t,a]=X.useState({nom:"",prenom:"",dateNaissance:"",numeroCNSS:"",sexe:"M"}),[s,o]=X.useState([{code:"4005",nom:"Hémogramme (CBC)",selected:!1,category:"Hématologie"},{code:"4010",nom:"Glycémie (Blood Sugar)",selected:!1,category:"Biochimie"},{code:"4015",nom:"Cholestérol Total",selected:!1,category:"Lipides"},{code:"4020",nom:"HDL Cholestérol",selected:!1,category:"Lipides"},{code:"4025",nom:"LDL Cholestérol",selected:!1,category:"Lipides"},{code:"4030",nom:"Triglycérides",selected:!1,category:"Lipides"},{code:"4035",nom:"Créatininémie",selected:!1,category:"Biochimie"},{code:"4040",nom:"Urée",selected:!1,category:"Biochimie"},{code:"4045",nom:"Bilan hépatique",selected:!1,category:"Biochimie"},{code:"4050",nom:"TSH",selected:!1,category:"Hormonologie"},{code:"4055",nom:"T4 Libre",selected:!1,category:"Hormonologie"},{code:"4060",nom:"T3 Libre",selected:!1,category:"Hormonologie"},{code:"4070",nom:"Groupe Sanguin",selected:!1,category:"Immunologie"},{code:"4075",nom:"CRP",selected:!1,category:"Inflammation"},{code:"4080",nom:"VS",selected:!1,category:"Inflammation"}]),[l,d]=X.useState(""),[g,f]=X.useState(null),[m,v]=X.useState(""),[N,C]=X.useState(""),[k,U]=X.useState(""),[F,O]=X.useState(!1),[L,I]=X.useState(!1),[T,q]=X.useState(""),[M,re]=X.useState("success"),[G,V]=X.useState(!1),[ue,ne]=X.useState(!1),[$,J]=X.useState(0),[oe,le]=X.useState(0),[ie,Y]=X.useState({subtotal:0,tvaTotal:0,totalBeforeDiscount:0,discount:0,discountAmount:0,totalAfterDiscount:0,advancePayment:0,amountDue:0}),we=[{id:"1",nom:"Boulahcen",prenom:"Hicham",specialite:"Médecine générale"},{id:"2",nom:"Bensaïd",prenom:"Youssef",specialite:"Cardiologie"},{id:"3",nom:"Alaoui",prenom:"Fatima",specialite:"Endocrinologie"},{id:"4",nom:"Tazi",prenom:"Mohamed",specialite:"Médecine générale"},{id:"5",nom:"El Amrani",prenom:"Karim",specialite:"Dermatologie"}],fe={fr:{title:"Nouvelle Demande d'Analyse",subtitle:"Interface Réceptionniste",patientInfo:"Informations Patient",nom:"Nom",prenom:"Prénom",dateNaissance:"Date de naissance",numeroCNSS:"Numéro CNSS",sexe:"Sexe",analyses:"Analyses Prescrites",addAnalysis:"Ajouter des analyses",searchAnalyses:"Rechercher des analyses...",selectedAnalyses:"Analyses sélectionnées",doctor:"Médecin Référent",searchDoctor:"Rechercher un médecin...",appointment:"Prélèvement",date:"Date",time:"Heure",urgent:"Demande Urgente",pricing:"Tarification",subtotal:"Sous-total HT",tva:"TVA",totalBeforeDiscount:"Total TTC",discount:"Remise (%)",discountAmount:"Montant remise",totalAfterDiscount:"Total après remise",advancePayment:"Acompte",amountDue:"Montant dû",submit:"Soumettre la Demande",clear:"Effacer le Formulaire",success:"Demande enregistrée avec succès",error:"Erreur lors de l'enregistrement",selectDoctor:"Sélectionner un médecin",noAnalysesSelected:"Aucune analyse sélectionnée",validationError:"Veuillez remplir tous les champs obligatoires",printLabels:"Imprimer Étiquettes",printReceipt:"Imprimer Reçu"},en:{title:"New Analysis Request",subtitle:"Receptionist Interface",patientInfo:"Patient Information",nom:"Last Name",prenom:"First Name",dateNaissance:"Date of Birth",numeroCNSS:"CNSS Number",sexe:"Gender",analyses:"Prescribed Analyses",addAnalysis:"Add Analyses",searchAnalyses:"Search analyses...",selectedAnalyses:"Selected Analyses",doctor:"Referring Doctor",searchDoctor:"Search for a doctor...",appointment:"Sample Collection",date:"Date",time:"Time",urgent:"Urgent Request",pricing:"Pricing",subtotal:"Subtotal (excl. tax)",tva:"VAT",totalBeforeDiscount:"Total (incl. tax)",discount:"Discount (%)",discountAmount:"Discount amount",totalAfterDiscount:"Total after discount",advancePayment:"Advance payment",amountDue:"Amount due",submit:"Submit Request",clear:"Clear Form",success:"Request saved successfully",error:"Error saving request",selectDoctor:"Select a doctor",noAnalysesSelected:"No analyses selected",validationError:"Please fill in all required fields",printLabels:"Print Labels",printReceipt:"Print Receipt"}}[e],je=s.filter(ke=>ke.nom.toLowerCase().includes(l.toLowerCase())||ke.code.includes(l)),Pe=we.filter(ke=>`${ke.prenom} ${ke.nom}`.toLowerCase().includes(m.toLowerCase())||ke.specialite.toLowerCase().includes(m.toLowerCase())),Ve=s.filter(ke=>ke.selected);X.useEffect(()=>{const ke=Hl.calculateRequestTotal(Ve,$,oe);Y(ke)},[Ve,$,oe]);const de=ke=>{o(Qe=>Qe.map(Ke=>Ke.code===ke?{...Ke,selected:!Ke.selected}:Ke))},he=ke=>{o(Qe=>Qe.map(Ke=>Ke.code===ke?{...Ke,selected:!1}:Ke))},Ne=(ke,Qe="success")=>{q(ke),re(Qe),I(!0),setTimeout(()=>I(!1),5e3)},Ee=()=>!t.nom||!t.prenom||!t.dateNaissance||!t.numeroCNSS?(Ne(fe.validationError,"error"),!1):Ve.length===0?(Ne(fe.noAnalysesSelected,"error"),!1):g?!N||!k?(Ne("Veuillez sélectionner une date et heure de prélèvement","error"),!1):!0:(Ne(fe.selectDoctor,"error"),!1),Se=async ke=>{if(ke.preventDefault(),!!Ee()){V(!0);try{const Qe={patient:{nom:t.nom,prenom:t.prenom,dateNaissance:t.dateNaissance,numeroCNSS:t.numeroCNSS,sexe:t.sexe},analyses:Ve.map(tt=>({code:tt.code,nom:tt.nom})),doctor:g,appointment:{date:N,time:k},urgent:F,pricing:ie,timestamp:new Date().toISOString()},Ke=await eL.saveRequest(Qe);Ke.success?(Ne(fe.success,"success"),setTimeout(()=>{Uw.printLabels(Ke.data),setTimeout(()=>{Uw.printReceipt(Ke.data,{...ie,prices:Hl.getPrices()})},1e3)},500),Ie()):Ne(fe.error,"error")}catch(Qe){console.error("Submit error:",Qe),Ne("Erreur de connexion. Les données ont été sauvegardées localement.","error"),Ie()}finally{V(!1)}}},Ie=()=>{a({nom:"",prenom:"",dateNaissance:"",numeroCNSS:"",sexe:"M"}),o(ke=>ke.map(Qe=>({...Qe,selected:!1}))),f(null),v(""),C(""),U(""),O(!1),d(""),J(0),le(0)};return X.useEffect(()=>{const ke=new Date;ke.setDate(ke.getDate()+1);const Qe=ke.toISOString().split("T")[0];C(Qe)},[]),r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:fe.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:fe.subtitle})]}),r.jsxs("form",{onSubmit:Se,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(As,{className:"h-6 w-6 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:fe.patientInfo})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.nom," *"]}),r.jsx("input",{type:"text",required:!0,value:t.nom,onChange:ke=>a(Qe=>({...Qe,nom:ke.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"El Amrani"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.prenom," *"]}),r.jsx("input",{type:"text",required:!0,value:t.prenom,onChange:ke=>a(Qe=>({...Qe,prenom:ke.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Soukaina"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.dateNaissance," *"]}),r.jsx("input",{type:"date",required:!0,value:t.dateNaissance,onChange:ke=>a(Qe=>({...Qe,dateNaissance:ke.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.numeroCNSS," *"]}),r.jsx("input",{type:"text",required:!0,value:t.numeroCNSS,onChange:ke=>a(Qe=>({...Qe,numeroCNSS:ke.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"J123456789"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:fe.sexe}),r.jsxs("select",{value:t.sexe,onChange:ke=>a(Qe=>({...Qe,sexe:ke.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"M",children:"Masculin"}),r.jsx("option",{value:"F",children:"Féminin"})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:fe.analyses}),r.jsxs("button",{type:"button",onClick:()=>ne(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:16,className:"mr-2"}),fe.addAnalysis]})]}),Ve.length>0?r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:fe.selectedAnalyses}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Ve.map(ke=>r.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full flex items-center",children:[r.jsx("span",{className:"text-sm",children:ke.nom}),r.jsx("button",{type:"button",onClick:()=>he(ke.code),className:"ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:r.jsx(er,{size:14})})]},ke.code))})]}):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:fe.noAnalysesSelected})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:fe.doctor}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:m,onChange:ke=>v(ke.target.value),placeholder:fe.searchDoctor,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Pe.map(ke=>r.jsxs("button",{type:"button",onClick:()=>{f(ke),v("")},className:`w-full text-left p-3 rounded-lg border transition-colors ${(g==null?void 0:g.id)===ke.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:["Dr. ",ke.prenom," ",ke.nom]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:ke.specialite})]},ke.id))}),g&&r.jsxs("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[r.jsxs("div",{className:"font-medium text-green-800 dark:text-green-200",children:["Médecin sélectionné: Dr. ",g.prenom," ",g.nom]}),r.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:g.specialite})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(on,{className:"h-6 w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:fe.appointment})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.date," *"]}),r.jsx("input",{type:"date",required:!0,value:N,onChange:ke=>C(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.time," *"]}),r.jsx("input",{type:"time",required:!0,value:k,onChange:ke=>U(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:F,onChange:ke=>O(ke.target.checked),className:"form-checkbox h-5 w-5 text-red-600 focus:ring-red-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ir,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:fe.urgent})]})]})})]}),Ve.length>0&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(In,{className:"h-6 w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:fe.pricing})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[fe.subtotal,":"]}),r.jsxs("span",{className:"font-medium",children:[ie.subtotal.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[fe.tva,":"]}),r.jsxs("span",{className:"font-medium",children:[ie.tvaTotal.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsxs("span",{className:"font-medium",children:[fe.totalBeforeDiscount,":"]}),r.jsxs("span",{className:"font-bold text-lg",children:[ie.totalBeforeDiscount.toFixed(2)," dh"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:fe.discount}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:$,onChange:ke=>J(parseFloat(ke.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:fe.advancePayment}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:oe,onChange:ke=>le(parseFloat(ke.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),$>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[fe.discountAmount,":"]}),r.jsxs("span",{className:"text-red-600",children:["-",ie.discountAmount.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsxs("span",{className:"font-bold text-lg",children:[fe.amountDue,":"]}),r.jsxs("span",{className:"font-bold text-lg text-green-600",children:[ie.amountDue.toFixed(2)," dh"]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{type:"button",onClick:Ie,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:fe.clear}),r.jsxs("button",{type:"submit",disabled:G,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center transition-colors",children:[G?r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):r.jsx(Pr,{size:20,className:"mr-2"}),fe.submit]})]})]}),ue&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:fe.analyses}),r.jsx("button",{onClick:()=>ne(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(er,{size:24})})]}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:l,onChange:ke=>d(ke.target.value),placeholder:fe.searchAnalyses,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:je.map(ke=>r.jsxs("label",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:ke.selected,onChange:()=>de(ke.code),className:"form-checkbox h-5 w-5 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ke.nom}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Code: ",ke.code," • ",ke.category]})]})]},ke.code))}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{onClick:()=>ne(!1),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Fermer"})})]})}),L&&r.jsxs("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg flex items-center z-50 ${M==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[M==="success"?r.jsx(Pr,{size:20,className:"mr-2"}):r.jsx(Ir,{size:20,className:"mr-2"}),T,r.jsx("button",{onClick:()=>I(!1),className:"ml-4",children:r.jsx(er,{size:16})})]})]})}const lL="modulepreload",cL=function(e){return"/"+e},Qw={},Ol=function(t,a,s){if(!a||a.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(a.map(l=>{if(l=cL(l),l in Qw)return;Qw[l]=!0;const d=l.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(!!s)for(let v=o.length-1;v>=0;v--){const N=o[v];if(N.href===l&&(!d||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${g}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":lL,d||(m.as="script",m.crossOrigin=""),m.href=l,document.head.appendChild(m),d)return new Promise((v,N)=>{m.addEventListener("load",v),m.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l})};function AL({data:e,updateData:t,language:a}){const s={title:a==="fr"?"Informations du Patient":"Patient Information",subtitle:a==="fr"?"Saisissez les informations personnelles du patient":"Enter the patient's personal information",firstName:a==="fr"?"Prénom":"First Name",lastName:a==="fr"?"Nom":"Last Name",dateOfBirth:a==="fr"?"Date de naissance":"Date of Birth",gender:a==="fr"?"Genre":"Gender",male:a==="fr"?"Masculin":"Male",female:a==="fr"?"Féminin":"Female",phone:a==="fr"?"Téléphone":"Phone",email:"Email",cnssNumber:a==="fr"?"Numéro CNSS":"CNSS Number",address:a==="fr"?"Adresse":"Address",required:a==="fr"?"Ce champ est requis":"This field is required",invalidEmail:a==="fr"?"Email invalide":"Invalid email",invalidPhone:a==="fr"?"Numéro de téléphone invalide":"Invalid phone number"},o=(l,d)=>{t(l,d)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.firstName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.firstName,onChange:l=>o("firstName",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:s.firstName,required:!0}),r.jsx(As,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.lastName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.lastName,onChange:l=>o("lastName",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:s.lastName,required:!0}),r.jsx(As,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.dateOfBirth," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",value:e.dateOfBirth,onChange:l=>o("dateOfBirth",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx(on,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.gender}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"gender",value:"M",checked:e.gender==="M",onChange:l=>o("gender",l.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.male]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"gender",value:"F",checked:e.gender==="F",onChange:l=>o("gender",l.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.female]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.phone," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"tel",value:e.phone,onChange:l=>o("phone",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+212612345678",pattern:"[0-9+\\-\\s]+",title:s.invalidPhone,required:!0}),r.jsx(tb,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.email}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",value:e.email,onChange:l=>o("email",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"patient@email.com"}),r.jsx(eb,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.cnssNumber}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.cnssNumber,onChange:l=>o("cnssNumber",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"CNSS-123456"}),r.jsx(_N,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.address}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:e.address,onChange:l=>o("address",l.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123 Rue Example, Ville, Code Postal"}),r.jsx(rc,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]})]})}function dL({data:e,prescription:t,updateData:a,updatePrescription:s,language:o}){const[l,d]=X.useState([]),[g,f]=X.useState(""),[m,v]=X.useState(""),[N,C]=X.useState(!1),[k,U]=X.useState(!1),[F,O]=X.useState([]),L={title:o==="fr"?"Sélection des Analyses":"Analysis Selection",subtitle:o==="fr"?"Sélectionnez les analyses à effectuer et téléchargez l'ordonnance":"Select the analyses to perform and upload the prescription",searchAnalyses:o==="fr"?"Rechercher des analyses...":"Search analyses...",category:o==="fr"?"Catégorie":"Category",allCategories:o==="fr"?"Toutes les catégories":"All Categories",selectedAnalyses:o==="fr"?"Analyses sélectionnées":"Selected Analyses",noAnalysesSelected:o==="fr"?"Aucune analyse sélectionnée":"No analyses selected",prescription:o==="fr"?"Ordonnance":"Prescription",uploadPrescription:o==="fr"?"Télécharger l'ordonnance":"Upload Prescription",dragDropText:o==="fr"?"Glissez-déposez un fichier ici ou cliquez pour sélectionner":"Drag and drop a file here or click to select",supportedFormats:o==="fr"?"Formats supportés: PDF, JPG, PNG":"Supported formats: PDF, JPG, PNG",remove:o==="fr"?"Supprimer":"Remove",addAnalysis:o==="fr"?"Ajouter des analyses":"Add Analyses",selectAll:o==="fr"?"Tout sélectionner":"Select All",deselectAll:o==="fr"?"Tout désélectionner":"Deselect All",addSelected:o==="fr"?"Ajouter sélectionnés":"Add Selected",selectedCount:o==="fr"?"sélectionnés":"selected",code:"Code",name:o==="fr"?"Nom":"Name",price:o==="fr"?"Prix":"Price",tva:o==="fr"?"TVA":"VAT",total:"Total",noAnalysesFound:o==="fr"?"Aucune analyse trouvée":"No analyses found",loading:o==="fr"?"Chargement...":"Loading..."};X.useEffect(()=>{I()},[]);const I=async()=>{C(!0);try{const oe=await mx.getAnalyses(),le=oe.analyses||oe||[];d(le)}catch(oe){console.error("Error loading analyses:",oe),d([])}finally{C(!1)}},T=oe=>{const le=oe.filter(ie=>!e.find(Y=>Y.id===ie.id));le.length>0&&a([...e,...le])},q=oe=>{a(e.filter(le=>le.id!==oe))},M=oe=>{var ie;const le=(ie=oe.target.files)==null?void 0:ie[0];le&&s(le)},re=oe=>{oe.preventDefault();const le=oe.dataTransfer.files[0];le&&s(le)},G=oe=>{oe.preventDefault()},V=l.filter(oe=>{const le=oe.name.toLowerCase().includes(g.toLowerCase())||oe.code.toLowerCase().includes(g.toLowerCase()),ie=!m||oe.category===m;return le&&ie}),ue=[...new Set(l.map(oe=>oe.category))],ne=e.reduce((oe,le)=>oe+le.price,0),$=e.reduce((oe,le)=>oe+le.price*le.tva/100,0),J=ne+$;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:L.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:L.selectedAnalyses}),r.jsxs("button",{onClick:()=>U(!0),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[r.jsx(ha,{size:16,className:"mr-1"}),L.addAnalysis]})]}),e.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:L.noAnalysesSelected}):r.jsx("div",{className:"space-y-3",children:e.map(oe=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:oe.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[oe.code," • ",oe.category]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[oe.price," dh"]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",oe.tva,"%"]})]}),r.jsx("button",{onClick:()=>q(oe.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(er,{size:16})})]})]},oe.id))}),e.length>0&&r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[L.total,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[J.toFixed(2)," dh"]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:L.prescription}),r.jsx("div",{onDrop:re,onDragOver:G,className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors",children:t?r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ea,{size:32,className:"mx-auto text-green-600 dark:text-green-400"}),r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(t.size/1024/1024).toFixed(2)," MB"]}),r.jsx("button",{onClick:()=>s(void 0),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm",children:L.remove})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(ff,{size:32,className:"mx-auto text-gray-400"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:L.dragDropText}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:L.supportedFormats}),r.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[r.jsx(ff,{size:16,className:"mr-2"}),L.uploadPrescription,r.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:M,className:"hidden"})]})]})})]})]}),k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:L.addAnalysis}),r.jsx("button",{onClick:()=>{U(!1),O([])},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:20})})]}),r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsx("input",{type:"text",placeholder:L.searchAnalyses,value:g,onChange:oe=>f(oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsxs("select",{value:m,onChange:oe=>v(oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:L.allCategories}),ue.map(oe=>r.jsx("option",{value:oe,children:oe},oe))]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>{const oe=V.filter(le=>!e.find(ie=>ie.id===le.id));O(oe)},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:L.selectAll}),r.jsx("button",{onClick:()=>O([]),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:L.deselectAll})]}),F.length>0&&r.jsxs("button",{onClick:()=>{T(F),O([]),U(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(ha,{size:16,className:"mr-2"}),L.addSelected," (",F.length,")"]})]})]})]}),r.jsx("div",{className:"p-6",children:N?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:L.loading})]}):r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:V.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:L.noAnalysesFound}):V.map(oe=>{const le=e.find(Y=>Y.id===oe.id),ie=F.find(Y=>Y.id===oe.id);return r.jsx("div",{className:`w-full text-left p-3 border rounded-lg cursor-pointer transition-colors ${le?"border-gray-300 bg-gray-100 dark:bg-gray-700 opacity-50 cursor-not-allowed":ie?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>{le||O(ie?F.filter(Y=>Y.id!==oe.id):[...F,oe])},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[!le&&r.jsx("input",{type:"checkbox",checked:!!ie,onChange:()=>{},className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:oe.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[oe.code," • ",oe.category]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[oe.price," dh"]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",oe.tva,"%"]})]})]})},oe.id)})})})]})})]})}function uL({data:e,updateData:t,language:a}){const[s,o]=X.useState([]),[l,d]=X.useState(""),[g,f]=X.useState(!1),[m,v]=X.useState(!1),[N,C]=X.useState(!1);X.useState(!1);const k={title:a==="fr"?"Référence du Médecin":"Doctor Reference",subtitle:a==="fr"?"Sélectionnez le médecin prescripteur ou ajoutez un nouveau":"Select the prescribing doctor or add a new one",searchDoctor:a==="fr"?"Rechercher un médecin...":"Search for a doctor...",selectDoctor:a==="fr"?"Sélectionner un médecin":"Select a doctor",addNewDoctor:a==="fr"?"Ajouter un nouveau médecin":"Add new doctor",firstName:a==="fr"?"Prénom":"First Name",lastName:a==="fr"?"Nom":"Last Name",email:"Email",phone:a==="fr"?"Téléphone":"Phone",specialty:a==="fr"?"Spécialité":"Specialty",orderNumber:a==="fr"?"Numéro d'ordre":"Order Number",selectedDoctor:a==="fr"?"Médecin sélectionné":"Selected Doctor",noDoctorSelected:a==="fr"?"Aucun médecin sélectionné":"No doctor selected",required:a==="fr"?"Ce champ est requis":"This field is required",noDoctorsFound:a==="fr"?"Aucun médecin trouvé":"No doctors found",loading:a==="fr"?"Chargement...":"Loading...",specialties:{cardiology:a==="fr"?"Cardiologie":"Cardiology",endocrinology:a==="fr"?"Endocrinologie":"Endocrinology",gastroenterology:a==="fr"?"Gastro-entérologie":"Gastroenterology",dermatology:a==="fr"?"Dermatologie":"Dermatology",neurology:a==="fr"?"Neurologie":"Neurology",oncology:a==="fr"?"Oncologie":"Oncology",pediatrics:a==="fr"?"Pédiatrie":"Pediatrics",psychiatry:a==="fr"?"Psychiatrie":"Psychiatry",radiology:a==="fr"?"Radiologie":"Radiology",surgery:a==="fr"?"Chirurgie":"Surgery",other:a==="fr"?"Autre":"Other"}};X.useEffect(()=>{console.log("Step3DoctorRef mounted, loading doctors..."),U()},[]);const U=async()=>{f(!0);try{const T=await ZE.getDoctors();console.log("Doctors API response:",T);const q=T.doctors||T||[];console.log("Processed doctors:",q),o(q)}catch(T){console.error("Error loading doctors:",T),o([])}finally{f(!1)}},F=T=>{t("id",T.id),t("firstName",T.firstName||""),t("lastName",T.lastName||""),t("email",T.email||""),t("phone",T.phone||""),t("specialty",T.specialty||""),t("orderNumber",T.orderNumber||""),v(!1),C(!1)},O=()=>{t("id",""),t("firstName",""),t("lastName",""),t("email",""),t("phone",""),t("specialty",""),t("orderNumber",""),C(!0)},L=s.filter(T=>{const q=T.firstName||"",M=T.lastName||"",re=T.specialty||"";return q.toLowerCase().includes(l.toLowerCase())||M.toLowerCase().includes(l.toLowerCase())||re.toLowerCase().includes(l.toLowerCase())});console.log("Available doctors:",s),console.log("Filtered doctors:",L),console.log("Search term:",l);const I=(T,q)=>{t(T,q)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:k.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:k.selectedDoctor}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>{console.log("Opening doctor modal, available doctors:",s),v(!0)},className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[r.jsx(ba,{size:16,className:"mr-1"}),k.selectDoctor]}),r.jsxs("button",{onClick:O,className:"flex items-center px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:[r.jsx(ha,{size:16,className:"mr-1"}),k.addNewDoctor]})]})]}),r.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Debug: availableDoctors=",s.length,", loading=",g.toString(),", modal=",m.toString()]}),!e.id&&!N?r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:k.noDoctorSelected}):r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(jA,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]})]}),e.id&&r.jsx("button",{onClick:O,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(er,{size:16})})]}),e.specialty&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.specialty}),e.email&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.email}),e.phone&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.phone})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:N?k.addNewDoctor:k.selectDoctor}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[k.firstName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.firstName,onChange:T=>I("firstName",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:k.firstName}),r.jsx(As,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[k.lastName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.lastName,onChange:T=>I("lastName",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:k.lastName}),r.jsx(As,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:k.email}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",value:e.email,onChange:T=>I("email",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"doctor@email.com"}),r.jsx(eb,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:k.phone}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"tel",value:e.phone,onChange:T=>I("phone",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+212-6-12-345678"}),r.jsx(tb,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:k.specialty}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:e.specialty,onChange:T=>I("specialty",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:k.selectDoctor}),Object.entries(k.specialties).map(([T,q])=>r.jsx("option",{value:q,children:q},T))]}),r.jsx(rl,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:k.orderNumber}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.orderNumber,onChange:T=>I("orderNumber",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ORD-001"}),r.jsx(rl,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]})]})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:k.selectDoctor}),r.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:k.searchDoctor,value:l,onChange:T=>d(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:g?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:k.loading})]}):r.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["Total doctors: ",s.length,", Filtered: ",L.length]}),L.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:k.noDoctorsFound}):L.map(T=>r.jsx("button",{onClick:()=>F(T),className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[T.firstName," ",T.lastName]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.specialty}),T.email&&r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.email})]}),r.jsx(jA,{size:20,className:"text-blue-600 dark:text-blue-400"})]})},T.id))]})})]})})]})}function hL({data:e,updateData:t,language:a}){const s={title:a==="fr"?"Rendez-vous":"Appointment",subtitle:a==="fr"?"Planifiez le rendez-vous pour la collecte d'échantillons":"Schedule the appointment for sample collection",date:"Date",time:a==="fr"?"Heure":"Time",location:a==="fr"?"Lieu":"Location",urgency:a==="fr"?"Urgence":"Urgency",sampleType:a==="fr"?"Type d'échantillon":"Sample Type",tubeType:a==="fr"?"Type de tube":"Tube Type",notes:"Notes",normal:"Normal",urgent:"Urgent",emergency:a==="fr"?"Urgence":"Emergency",required:a==="fr"?"Ce champ est requis":"This field is required",selectDate:a==="fr"?"Sélectionner une date":"Select a date",selectTime:a==="fr"?"Sélectionner une heure":"Select a time",enterLocation:a==="fr"?"Entrer le lieu":"Enter location",addNotes:a==="fr"?"Ajouter des notes":"Add notes",urgencyLevels:{normal:a==="fr"?"Résultats dans 24-48h":"Results in 24-48h",urgent:a==="fr"?"Résultats dans 2-4h":"Results in 2-4h",emergency:a==="fr"?"Résultats immédiats":"Immediate results"}},o=(g,f)=>{t(g,f)},l=g=>{switch(g){case"NORMAL":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"URGENT":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EMERGENCY":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},d=g=>{switch(g){case"NORMAL":return r.jsx(on,{size:16});case"URGENT":return r.jsx(ms,{size:16});case"EMERGENCY":return r.jsx(Ir,{size:16});default:return r.jsx(on,{size:16})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.date," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",value:e.date,onChange:g=>o("date",g.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx(on,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.time," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"time",value:e.time,onChange:g=>o("time",g.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx(ms,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.location}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.location,onChange:g=>o("location",g.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Laboratoire principal"}),r.jsx(rc,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.urgency}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"urgency",value:"NORMAL",checked:e.urgency==="NORMAL",onChange:g=>o("urgency",g.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:s.normal}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${l("NORMAL")}`,children:d("NORMAL")})]})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"urgency",value:"URGENT",checked:e.urgency==="URGENT",onChange:g=>o("urgency",g.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:s.urgent}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${l("URGENT")}`,children:d("URGENT")})]})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"urgency",value:"EMERGENCY",checked:e.urgency==="EMERGENCY",onChange:g=>o("urgency",g.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:s.emergency}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${l("EMERGENCY")}`,children:d("EMERGENCY")})]})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.sampleType," *"]}),r.jsxs("select",{value:e.sampleType,onChange:g=>o("sampleType",g.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"BLOOD",children:a==="fr"?"Sang":"Blood"}),r.jsx("option",{value:"URINE",children:"Urine"}),r.jsx("option",{value:"SALIVA",children:a==="fr"?"Salive":"Saliva"}),r.jsx("option",{value:"STOOL",children:a==="fr"?"Selles":"Stool"}),r.jsx("option",{value:"SPUTUM",children:a==="fr"?"Expectoration":"Sputum"}),r.jsx("option",{value:"CEREBROSPINAL_FLUID",children:a==="fr"?"Liquide céphalo-rachidien":"Cerebrospinal Fluid"}),r.jsx("option",{value:"SYNOVIAL_FLUID",children:a==="fr"?"Liquide synovial":"Synovial Fluid"}),r.jsx("option",{value:"PLEURAL_FLUID",children:a==="fr"?"Liquide pleural":"Pleural Fluid"}),r.jsx("option",{value:"PERITONEAL_FLUID",children:a==="fr"?"Liquide péritonéal":"Peritoneal Fluid"}),r.jsx("option",{value:"OTHER",children:a==="fr"?"Autre":"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.tubeType}),r.jsxs("select",{value:e.tubeType||"",onChange:g=>o("tubeType",g.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Sélectionner un type de tube":"Select tube type"}),r.jsx("option",{value:"EDTA",children:"EDTA"}),r.jsx("option",{value:"CITRATE",children:"Citrate"}),r.jsx("option",{value:"HEPARIN",children:"Héparine"}),r.jsx("option",{value:"SERUM",children:"Sérum"}),r.jsx("option",{value:"PLAIN",children:"Tube sec"}),r.jsx("option",{value:"FLUORIDE",children:"Fluorure"}),r.jsx("option",{value:"OTHER",children:a==="fr"?"Autre":"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.notes}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:e.notes,onChange:g=>o("notes",g.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Instructions spéciales, allergies, etc."}),r.jsx(Ea,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ir,{size:20,className:"text-blue-600 dark:text-blue-400 mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:[s.urgency," - ",s.urgencyLevels[e.urgency.toLowerCase()]]}),r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.urgency==="NORMAL"&&(a==="fr"?"Les résultats seront disponibles dans les 24-48 heures suivant la collecte.":"Results will be available within 24-48 hours after collection."),e.urgency==="URGENT"&&(a==="fr"?"Les résultats seront disponibles dans les 2-4 heures suivant la collecte.":"Results will be available within 2-4 hours after collection."),e.urgency==="EMERGENCY"&&(a==="fr"?"Les résultats seront disponibles immédiatement après la collecte.":"Results will be available immediately after collection.")]})]})]})})]})}function gL({data:e,analyses:t,updateData:a,language:s}){const o={title:s==="fr"?"Facturation":"Billing",subtitle:s==="fr"?"Informations de paiement et d'assurance":"Payment and insurance information",payer:s==="fr"?"Payeur":"Payer",patient:"Patient",insurance:s==="fr"?"Assurance":"Insurance",company:s==="fr"?"Entreprise":"Company",insuranceCompany:s==="fr"?"Compagnie d'assurance":"Insurance Company",insuranceNumber:s==="fr"?"Numéro d'assurance":"Insurance Number",discount:s==="fr"?"Remise (%)":"Discount (%)",advancePayment:s==="fr"?"Acompte":"Advance Payment",notes:"Notes",summary:s==="fr"?"Résumé de facturation":"Billing Summary",subtotal:s==="fr"?"Sous-total":"Subtotal",tva:s==="fr"?"TVA":"VAT",totalBeforeDiscount:s==="fr"?"Total avant remise":"Total before discount",discountAmount:s==="fr"?"Montant de la remise":"Discount amount",totalAfterDiscount:s==="fr"?"Total après remise":"Total after discount",amountDue:s==="fr"?"Montant dû":"Amount due",required:s==="fr"?"Ce champ est requis":"This field is required",invalidDiscount:s==="fr"?"La remise doit être entre 0 et 100":"Discount must be between 0 and 100",invalidAdvance:s==="fr"?"L'acompte ne peut pas dépasser le total":"Advance payment cannot exceed total"},l=(C,k)=>{a(C,k)},d=t.reduce((C,k)=>C+k.price,0),g=t.reduce((C,k)=>C+k.price*k.tva/100,0),f=d+g,m=f*(e.discount/100),v=f-m,N=v-e.advancePayment;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.payer}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"payer",value:"PATIENT",checked:e.payer==="PATIENT",onChange:C=>l("payer",C.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx(hf,{size:16,className:"mr-2 text-gray-400"}),o.patient]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"payer",value:"INSURANCE",checked:e.payer==="INSURANCE",onChange:C=>l("payer",C.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx(rl,{size:16,className:"mr-2 text-gray-400"}),o.insurance]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"payer",value:"COMPANY",checked:e.payer==="COMPANY",onChange:C=>l("payer",C.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx(rl,{size:16,className:"mr-2 text-gray-400"}),o.company]})]})]}),e.payer==="INSURANCE"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.insuranceCompany}),r.jsx("input",{type:"text",value:e.insuranceCompany,onChange:C=>l("insuranceCompany",C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nom de la compagnie d'assurance"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.insuranceNumber}),r.jsx("input",{type:"text",value:e.insuranceNumber,onChange:C=>l("insuranceNumber",C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Numéro de police"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.discount}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:e.discount,onChange:C=>l("discount",parseFloat(C.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"}),r.jsx(d6,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.advancePayment}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",step:"0.01",value:e.advancePayment,onChange:C=>l("advancePayment",parseFloat(C.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"}),r.jsx(In,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.notes}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:e.notes,onChange:C=>l("notes",C.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notes de facturation..."}),r.jsx(Ea,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:o.summary}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.subtotal,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[d.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.tva,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[g.toFixed(2)," dh"]})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.totalBeforeDiscount,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[f.toFixed(2)," dh"]})]})}),e.discount>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.discountAmount,":"]}),r.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:["-",m.toFixed(2)," dh"]})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.totalAfterDiscount,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[v.toFixed(2)," dh"]})]})})]}),e.advancePayment>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.advancePayment,":"]}),r.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["-",e.advancePayment.toFixed(2)," dh"]})]}),r.jsx("div",{className:"border-t-2 border-gray-300 dark:border-gray-500 pt-2",children:r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsxs("span",{className:"text-gray-900 dark:text-white",children:[o.amountDue,":"]}),r.jsxs("span",{className:`${N>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[N.toFixed(2)," dh"]})]})})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(hf,{size:20,className:"text-blue-600 dark:text-blue-400 mr-3"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:[e.payer==="PATIENT"&&o.patient,e.payer==="INSURANCE"&&o.insurance,e.payer==="COMPANY"&&o.company]}),r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.payer==="PATIENT"&&(s==="fr"?"Le patient paiera directement":"Patient will pay directly"),e.payer==="INSURANCE"&&(s==="fr"?"Paiement par assurance":"Payment by insurance"),e.payer==="COMPANY"&&(s==="fr"?"Paiement par entreprise":"Payment by company")]})]})]})})]})]})]})}function fL({data:e,language:t}){const a={title:t==="fr"?"Révision et Soumission":"Review and Submit",subtitle:t==="fr"?"Vérifiez toutes les informations avant de soumettre la demande":"Review all information before submitting the request",patientInfo:t==="fr"?"Informations du Patient":"Patient Information",analyses:"Analyses",doctorInfo:t==="fr"?"Informations du Médecin":"Doctor Information",appointment:t==="fr"?"Rendez-vous":"Appointment",billing:t==="fr"?"Facturation":"Billing",prescription:t==="fr"?"Ordonnance":"Prescription",name:t==="fr"?"Nom":"Name",dateOfBirth:t==="fr"?"Date de naissance":"Date of Birth",gender:t==="fr"?"Genre":"Gender",phone:t==="fr"?"Téléphone":"Phone",email:"Email",cnssNumber:t==="fr"?"Numéro CNSS":"CNSS Number",address:t==="fr"?"Adresse":"Address",specialty:t==="fr"?"Spécialité":"Specialty",orderNumber:t==="fr"?"Numéro d'ordre":"Order Number",date:"Date",time:t==="fr"?"Heure":"Time",location:t==="fr"?"Lieu":"Location",urgency:t==="fr"?"Urgence":"Urgency",notes:"Notes",payer:t==="fr"?"Payeur":"Payer",insuranceCompany:t==="fr"?"Compagnie d'assurance":"Insurance Company",insuranceNumber:t==="fr"?"Numéro d'assurance":"Insurance Number",discount:t==="fr"?"Remise":"Discount",advancePayment:t==="fr"?"Acompte":"Advance Payment",subtotal:t==="fr"?"Sous-total":"Subtotal",tva:t==="fr"?"TVA":"VAT",total:"Total",amountDue:t==="fr"?"Montant dû":"Amount due",uploaded:t==="fr"?"Téléchargé":"Uploaded",notUploaded:t==="fr"?"Non téléchargé":"Not uploaded",male:t==="fr"?"Masculin":"Male",female:t==="fr"?"Féminin":"Female",normal:"Normal",urgent:"Urgent",emergency:t==="fr"?"Urgence":"Emergency",patient:"Patient",insurance:t==="fr"?"Assurance":"Insurance",company:t==="fr"?"Entreprise":"Company",noData:t==="fr"?"Aucune donnée":"No data",readyToSubmit:t==="fr"?"Prêt à soumettre":"Ready to submit",reviewComplete:t==="fr"?"Révision terminée":"Review complete"},s=e.analyses.reduce((N,C)=>N+C.price,0),o=e.analyses.reduce((N,C)=>N+C.price*C.tva/100,0),l=s+o,d=l*(e.billing.discount/100),f=l-d-e.billing.advancePayment,m=N=>N?new Date(N).toLocaleDateString(t==="fr"?"fr-FR":"en-US"):a.noData,v=N=>{switch(N){case"NORMAL":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"URGENT":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EMERGENCY":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(As,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.patientInfo})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.name,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.patient.firstName," ",e.patient.lastName]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.dateOfBirth,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:m(e.patient.dateOfBirth)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.gender,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.gender==="M"?a.male:a.female})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.phone,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.phone})]}),e.patient.email&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.email,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.email})]}),e.patient.cnssNumber&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.cnssNumber,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.cnssNumber})]}),e.patient.address&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.address,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.address})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(jA,{size:20,className:"text-green-600 dark:text-green-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.doctorInfo})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.name,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.doctor.firstName," ",e.doctor.lastName]})]}),e.doctor.specialty&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.specialty,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.specialty})]}),e.doctor.email&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.email,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.email})]}),e.doctor.phone&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.phone,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.phone})]}),e.doctor.orderNumber&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.orderNumber,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.orderNumber})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(on,{size:20,className:"text-purple-600 dark:text-purple-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.appointment})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.date,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:m(e.appointment.date)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.time,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.time})]}),e.appointment.location&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.location,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.location})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.urgency,":"]}),r.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${v(e.appointment.urgency)}`,children:[e.appointment.urgency==="NORMAL"&&a.normal,e.appointment.urgency==="URGENT"&&a.urgent,e.appointment.urgency==="EMERGENCY"&&a.emergency]})]}),e.appointment.notes&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.notes,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.notes})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(hf,{size:20,className:"text-orange-600 dark:text-orange-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.billing})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.payer,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.payer==="PATIENT"&&a.patient,e.billing.payer==="INSURANCE"&&a.insurance,e.billing.payer==="COMPANY"&&a.company]})]}),e.billing.payer==="INSURANCE"&&e.billing.insuranceCompany&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.insuranceCompany,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.billing.insuranceCompany})]}),e.billing.payer==="INSURANCE"&&e.billing.insuranceNumber&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.insuranceNumber,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.billing.insuranceNumber})]}),e.billing.discount>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.discount,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.discount,"%"]})]}),e.billing.advancePayment>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.advancePayment,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.advancePayment," dh"]})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.amountDue,":"]}),r.jsxs("span",{className:`font-bold ${f>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[f.toFixed(2)," dh"]})]})})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Ea,{size:20,className:"text-indigo-600 dark:text-indigo-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.analyses})]}),r.jsxs("div",{className:"space-y-3",children:[e.analyses.map(N=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:N.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[N.code," • ",N.category]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[N.price," dh"]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",N.tva,"%"]})]})]},N.id)),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.subtotal,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[s.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.tva,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[o.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[r.jsxs("span",{className:"text-gray-900 dark:text-white",children:[a.total,":"]}),r.jsxs("span",{className:"text-gray-900 dark:text-white",children:[l.toFixed(2)," dh"]})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Ea,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.prescription})]}),r.jsx("div",{className:"flex items-center",children:e.prescription?r.jsxs(r.Fragment,{children:[r.jsx(Pr,{size:20,className:"text-green-600 dark:text-green-400 mr-2"}),r.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:a.uploaded}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:["(",e.prescription.name,")"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ir,{size:20,className:"text-yellow-600 dark:text-yellow-400 mr-2"}),r.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:a.notUploaded})]})})]}),r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pr,{size:24,className:"text-green-600 dark:text-green-400 mr-3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100",children:a.readyToSubmit}),r.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:a.reviewComplete})]})]})})]})}const Th=[{id:1,title:"Patient Info",icon:As},{id:2,title:"Analyses",icon:Ea},{id:3,title:"Doctor Ref",icon:jA},{id:4,title:"Appointment",icon:on},{id:5,title:"Billing",icon:hf},{id:6,title:"Review",icon:Ms}];function pL(){const{language:e}=qt(),t=Pn(),[a,s]=X.useState(1),[o,l]=X.useState(!1),[d,g]=X.useState({patient:{firstName:"",lastName:"",dateOfBirth:"",gender:"M",phone:"",email:"",cnssNumber:"",address:""},analyses:[],doctor:{id:"",firstName:"",lastName:"",email:"",phone:"",specialty:"",orderNumber:""},appointment:{date:"",time:"",location:"",urgency:"NORMAL",sampleType:"BLOOD",tubeType:void 0,notes:""},billing:{payer:"PATIENT",insuranceCompany:"",insuranceNumber:"",discount:0,advancePayment:0,notes:""}}),f={title:e==="fr"?"Nouvelle Demande d'Analyse":"New Analysis Request",subtitle:e==="fr"?"Créer une nouvelle demande d'analyse de laboratoire":"Create a new laboratory analysis request",back:e==="fr"?"Retour":"Back",next:e==="fr"?"Suivant":"Next",submit:e==="fr"?"Soumettre":"Submit",loading:e==="fr"?"Envoi en cours...":"Submitting...",success:e==="fr"?"Demande créée avec succès":"Request created successfully",error:e==="fr"?"Erreur lors de la création":"Error creating request",step:e==="fr"?"Étape":"Step",of:e==="fr"?"sur":"of"},m=(O,L)=>{g(I=>({...I,[O]:L}))},v=(O,L,I)=>{g(T=>({...T,[O]:{...T[O],[L]:I}}))},N=()=>{a<Th.length&&s(a+1)},C=()=>{a>1&&s(a-1)},k=async()=>{l(!0);try{const O=d.analyses.reduce((ne,$)=>ne+$.price,0),L=d.analyses.reduce((ne,$)=>ne+$.price*$.tva/100,0),I=O+L,T=I*(d.billing.discount/100),M=I-T-d.billing.advancePayment;let re;if(d.patient.cnssNumber)try{const ne=await Hc.getPatients({cnssNumber:d.patient.cnssNumber}),$=ne.patients||ne||[];if($.length>0){const J=$[0];if(re=J.id,J.firstName!==d.patient.firstName||J.lastName!==d.patient.lastName||(J.gender||"")!==d.patient.gender||(J.phone||"")!==d.patient.phone||(J.email||"")!==d.patient.email||(J.address||"")!==d.patient.address||(J.dateOfBirth?J.dateOfBirth.slice(0,10):"")!==d.patient.dateOfBirth)try{const le=d.patient.phone.replace(/[^\d+]/g,"");await Hc.updatePatient(J.id,{firstName:d.patient.firstName,lastName:d.patient.lastName,dateOfBirth:new Date(d.patient.dateOfBirth).toISOString(),gender:d.patient.gender,phone:le,email:d.patient.email||null,cnssNumber:d.patient.cnssNumber,address:d.patient.address})}catch{console.warn("Patient update failed, proceeding with existing data")}}else{const J=d.patient.phone.replace(/[^\d+]/g,"");re=(await Hc.createPatient({firstName:d.patient.firstName,lastName:d.patient.lastName,dateOfBirth:new Date(d.patient.dateOfBirth).toISOString(),gender:d.patient.gender,phone:J,email:d.patient.email||null,cnssNumber:d.patient.cnssNumber,address:d.patient.address})).id}}catch{const $=d.patient.phone.replace(/[^\d+]/g,"");re=(await Hc.createPatient({firstName:d.patient.firstName,lastName:d.patient.lastName,dateOfBirth:new Date(d.patient.dateOfBirth).toISOString(),gender:d.patient.gender,phone:$,email:d.patient.email||null,cnssNumber:d.patient.cnssNumber,address:d.patient.address})).id}else{const ne=d.patient.phone.replace(/[^\d+]/g,"");re=(await Hc.createPatient({firstName:d.patient.firstName,lastName:d.patient.lastName,dateOfBirth:new Date(d.patient.dateOfBirth).toISOString(),gender:d.patient.gender,phone:ne,email:d.patient.email||null,address:d.patient.address})).id}const G=d.analyses.map(ne=>{const $=ne.price+ne.price*ne.tva/100;return{analysisId:ne.id,price:$}}),V={patientId:re,doctorId:d.doctor.id||void 0,appointmentDate:new Date(d.appointment.date).toISOString(),appointmentTime:d.appointment.time,sampleType:d.appointment.sampleType,tubeType:d.appointment.tubeType,urgent:d.appointment.urgency==="URGENT"||d.appointment.urgency==="EMERGENCY",discount:d.billing.discount,advancePayment:d.billing.advancePayment,notes:d.appointment.notes+(d.billing.notes?`
Billing: ${d.billing.notes}`:""),analyses:G},ue=await nc.createRequest(V);alert(e==="fr"?"Demande créée avec succès!":"Request created successfully!");try{if(window.confirm(e==="fr"?"Imprimer le reçu patient ?":"Print patient receipt?")){const{printReceipt:le}=await Ol(()=>import("./printing-cfcc767e.js"),[]);le(ue,{amountPaid:d.billing.advancePayment,paymentMethod:d.billing.payer})}if(window.confirm(e==="fr"?"Imprimer la fiche de prélèvement ?":"Print collection sheet?")){const{printCollectionSheet:le}=await Ol(()=>import("./printing-cfcc767e.js"),[]);le(ue)}if(window.confirm(e==="fr"?"Imprimer les étiquettes des tubes ?":"Print tube labels?")){const{printTubeLabels:le}=await Ol(()=>import("./printing-cfcc767e.js"),[]);le(ue)}if(window.confirm(e==="fr"?"Imprimer le bordereau de routage interne ?":"Print internal routing slip?")){const{printRoutingSlip:le}=await Ol(()=>import("./printing-cfcc767e.js"),[]);le(ue)}}catch(ne){console.warn("Printing flow error",ne)}t("/requests")}catch(O){console.error("Error submitting request:",O);let L=e==="fr"?"Erreur lors de la création de la demande":"Error creating request";O instanceof Error&&(O.message.includes("Validation")?L+=e==="fr"?": Validation échouée. Veuillez vérifier les informations du patient (téléphone, email, etc.)":": Validation failed. Please check patient information (phone, email, etc.)":L+=`: ${O.message}`),alert(L)}finally{l(!1)}},U=()=>{switch(a){case 1:return r.jsx(AL,{data:d.patient,updateData:(O,L)=>v("patient",O,L),language:e});case 2:return r.jsx(dL,{data:d.analyses,prescription:d.prescription,updateData:O=>m("analyses",O),updatePrescription:O=>m("prescription",O),language:e});case 3:return r.jsx(uL,{data:d.doctor,updateData:(O,L)=>v("doctor",O,L),language:e});case 4:return r.jsx(hL,{data:d.appointment,updateData:(O,L)=>v("appointment",O,L),language:e});case 5:return r.jsx(gL,{data:d.billing,analyses:d.analyses,updateData:(O,L)=>v("billing",O,L),language:e});case 6:return r.jsx(fL,{data:d,language:e});default:return null}},F=()=>{switch(a){case 1:return d.patient.firstName&&d.patient.lastName&&d.patient.dateOfBirth&&d.patient.phone;case 2:return d.analyses.length>0;case 3:return d.doctor.id||d.doctor.firstName&&d.doctor.lastName;case 4:return d.appointment.date&&d.appointment.time;case 5:return!0;case 6:return!0;default:return!1}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("button",{onClick:()=>t("/requests"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mr-4",children:[r.jsx(tc,{size:20,className:"mr-2"}),f.back]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:f.title}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f.subtitle})]})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.step," ",a," ",f.of," ",Th.length]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:e==="fr"?"Progression":"Progress"}),r.jsx("nav",{className:"space-y-2",children:Th.map((O,L)=>{const I=O.icon,T=a===O.id,q=a>O.id;return r.jsxs("div",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-colors ${T?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700":q?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700":"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600"}`,onClick:()=>s(O.id),children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full mr-3",children:q?r.jsx(Pr,{size:20,className:"text-green-600 dark:text-green-400"}):r.jsx(I,{size:20,className:T?"text-blue-600 dark:text-blue-400":"text-gray-400"})}),r.jsx("span",{className:`text-sm font-medium ${T?"text-blue-900 dark:text-blue-100":q?"text-green-900 dark:text-green-100":"text-gray-600 dark:text-gray-400"}`,children:O.title})]},O.id)})})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"p-6",children:U()}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsxs("button",{onClick:C,disabled:a===1,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(tc,{size:16,className:"mr-2"}),f.back]}),r.jsx("div",{className:"flex items-center space-x-3",children:a<Th.length?r.jsxs("button",{onClick:N,disabled:!F(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.next,r.jsx(uf,{size:16,className:"ml-2"})]}):r.jsx("button",{onClick:k,disabled:!F()||o,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),f.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),f.submit]})})})]})]})})]})})]})}function kr(e){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(e)}var ns=Uint8Array,sn=Uint16Array,lb=Int32Array,A0=new ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),d0=new ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xx=new ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RB=function(e,t){for(var a=new sn(31),s=0;s<31;++s)a[s]=t+=1<<e[s-1];for(var o=new lb(a[30]),s=1;s<30;++s)for(var l=a[s];l<a[s+1];++l)o[l]=l-a[s]<<5|s;return{b:a,r:o}},MB=RB(A0,2),HB=MB.b,yx=MB.r;HB[28]=258,yx[258]=28;var OB=RB(d0,0),mL=OB.b,Dw=OB.r,bx=new sn(32768);for(var Hr=0;Hr<32768;++Hr){var jo=(Hr&43690)>>1|(Hr&21845)<<1;jo=(jo&52428)>>2|(jo&13107)<<2,jo=(jo&61680)>>4|(jo&3855)<<4,bx[Hr]=((jo&65280)>>8|(jo&255)<<8)>>1}var Ni=function(e,t,a){for(var s=e.length,o=0,l=new sn(t);o<s;++o)e[o]&&++l[e[o]-1];var d=new sn(t);for(o=1;o<t;++o)d[o]=d[o-1]+l[o-1]<<1;var g;if(a){g=new sn(1<<t);var f=15-t;for(o=0;o<s;++o)if(e[o])for(var m=o<<4|e[o],v=t-e[o],N=d[e[o]-1]++<<v,C=N|(1<<v)-1;N<=C;++N)g[bx[N]>>f]=m}else for(g=new sn(s),o=0;o<s;++o)e[o]&&(g[o]=bx[d[e[o]-1]++]>>15-e[o]);return g},Al=new ns(288);for(var Hr=0;Hr<144;++Hr)Al[Hr]=8;for(var Hr=144;Hr<256;++Hr)Al[Hr]=9;for(var Hr=256;Hr<280;++Hr)Al[Hr]=7;for(var Hr=280;Hr<288;++Hr)Al[Hr]=8;var vu=new ns(32);for(var Hr=0;Hr<32;++Hr)vu[Hr]=5;var xL=Ni(Al,9,0),yL=Ni(Al,9,1),bL=Ni(vu,5,0),vL=Ni(vu,5,1),Pp=function(e){for(var t=e[0],a=1;a<e.length;++a)e[a]>t&&(t=e[a]);return t},On=function(e,t,a){var s=t/8|0;return(e[s]|e[s+1]<<8)>>(t&7)&a},Up=function(e,t){var a=t/8|0;return(e[a]|e[a+1]<<8|e[a+2]<<16)>>(t&7)},cb=function(e){return(e+7)/8|0},_B=function(e,t,a){return(t==null||t<0)&&(t=0),(a==null||a>e.length)&&(a=e.length),new ns(e.subarray(t,a))},wL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Gn=function(e,t,a){var s=new Error(t||wL[e]);if(s.code=e,Error.captureStackTrace&&Error.captureStackTrace(s,Gn),!a)throw s;return s},kL=function(e,t,a,s){var o=e.length,l=s?s.length:0;if(!o||t.f&&!t.l)return a||new ns(0);var d=!a,g=d||t.i!=2,f=t.i;d&&(a=new ns(o*3));var m=function(tt){var ct=a.length;if(tt>ct){var lt=new ns(Math.max(ct*2,tt));lt.set(a),a=lt}},v=t.f||0,N=t.p||0,C=t.b||0,k=t.l,U=t.d,F=t.m,O=t.n,L=o*8;do{if(!k){v=On(e,N,1);var I=On(e,N+1,3);if(N+=3,I)if(I==1)k=yL,U=vL,F=9,O=5;else if(I==2){var re=On(e,N,31)+257,G=On(e,N+10,15)+4,V=re+On(e,N+5,31)+1;N+=14;for(var ue=new ns(V),ne=new ns(19),$=0;$<G;++$)ne[xx[$]]=On(e,N+$*3,7);N+=G*3;for(var J=Pp(ne),oe=(1<<J)-1,le=Ni(ne,J,1),$=0;$<V;){var ie=le[On(e,N,oe)];N+=ie&15;var T=ie>>4;if(T<16)ue[$++]=T;else{var Y=0,we=0;for(T==16?(we=3+On(e,N,3),N+=2,Y=ue[$-1]):T==17?(we=3+On(e,N,7),N+=3):T==18&&(we=11+On(e,N,127),N+=7);we--;)ue[$++]=Y}}var fe=ue.subarray(0,re),je=ue.subarray(re);F=Pp(fe),O=Pp(je),k=Ni(fe,F,1),U=Ni(je,O,1)}else Gn(1);else{var T=cb(N)+4,q=e[T-4]|e[T-3]<<8,M=T+q;if(M>o){f&&Gn(0);break}g&&m(C+q),a.set(e.subarray(T,M),C),t.b=C+=q,t.p=N=M*8,t.f=v;continue}if(N>L){f&&Gn(0);break}}g&&m(C+131072);for(var Pe=(1<<F)-1,Ve=(1<<O)-1,de=N;;de=N){var Y=k[Up(e,N)&Pe],he=Y>>4;if(N+=Y&15,N>L){f&&Gn(0);break}if(Y||Gn(2),he<256)a[C++]=he;else if(he==256){de=N,k=null;break}else{var Ne=he-254;if(he>264){var $=he-257,Ee=A0[$];Ne=On(e,N,(1<<Ee)-1)+HB[$],N+=Ee}var Se=U[Up(e,N)&Ve],Ie=Se>>4;Se||Gn(3),N+=Se&15;var je=mL[Ie];if(Ie>3){var Ee=d0[Ie];je+=Up(e,N)&(1<<Ee)-1,N+=Ee}if(N>L){f&&Gn(0);break}g&&m(C+131072);var ke=C+Ne;if(C<je){var Qe=l-je,Ke=Math.min(je,ke);for(Qe+C<0&&Gn(3);C<Ke;++C)a[C]=s[Qe+C]}for(;C<ke;++C)a[C]=a[C-je]}}t.l=k,t.p=de,t.b=C,t.f=v,k&&(v=1,t.m=F,t.d=U,t.n=O)}while(!v);return C!=a.length&&d?_B(a,0,C):a.subarray(0,C)},zi=function(e,t,a){a<<=t&7;var s=t/8|0;e[s]|=a,e[s+1]|=a>>8},md=function(e,t,a){a<<=t&7;var s=t/8|0;e[s]|=a,e[s+1]|=a>>8,e[s+2]|=a>>16},Qp=function(e,t){for(var a=[],s=0;s<e.length;++s)e[s]&&a.push({s,f:e[s]});var o=a.length,l=a.slice();if(!o)return{t:VB,l:0};if(o==1){var d=new ns(a[0].s+1);return d[a[0].s]=1,{t:d,l:1}}a.sort(function(M,re){return M.f-re.f}),a.push({s:-1,f:25001});var g=a[0],f=a[1],m=0,v=1,N=2;for(a[0]={s:-1,f:g.f+f.f,l:g,r:f};v!=o-1;)g=a[a[m].f<a[N].f?m++:N++],f=a[m!=v&&a[m].f<a[N].f?m++:N++],a[v++]={s:-1,f:g.f+f.f,l:g,r:f};for(var C=l[0].s,s=1;s<o;++s)l[s].s>C&&(C=l[s].s);var k=new sn(C+1),U=vx(a[v-1],k,0);if(U>t){var s=0,F=0,O=U-t,L=1<<O;for(l.sort(function(re,G){return k[G.s]-k[re.s]||re.f-G.f});s<o;++s){var I=l[s].s;if(k[I]>t)F+=L-(1<<U-k[I]),k[I]=t;else break}for(F>>=O;F>0;){var T=l[s].s;k[T]<t?F-=1<<t-k[T]++-1:++s}for(;s>=0&&F;--s){var q=l[s].s;k[q]==t&&(--k[q],++F)}U=t}return{t:new ns(k),l:U}},vx=function(e,t,a){return e.s==-1?Math.max(vx(e.l,t,a+1),vx(e.r,t,a+1)):t[e.s]=a},Tw=function(e){for(var t=e.length;t&&!e[--t];);for(var a=new sn(++t),s=0,o=e[0],l=1,d=function(f){a[s++]=f},g=1;g<=t;++g)if(e[g]==o&&g!=t)++l;else{if(!o&&l>2){for(;l>138;l-=138)d(32754);l>2&&(d(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(d(o),--l;l>6;l-=6)d(8304);l>2&&(d(l-3<<5|8208),l=0)}for(;l--;)d(o);l=1,o=e[g]}return{c:a.subarray(0,s),n:t}},xd=function(e,t){for(var a=0,s=0;s<t.length;++s)a+=e[s]*t[s];return a},zB=function(e,t,a){var s=a.length,o=cb(t+2);e[o]=s&255,e[o+1]=s>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var l=0;l<s;++l)e[o+l+4]=a[l];return(o+4+s)*8},Rw=function(e,t,a,s,o,l,d,g,f,m,v){zi(t,v++,a),++o[256];for(var N=Qp(o,15),C=N.t,k=N.l,U=Qp(l,15),F=U.t,O=U.l,L=Tw(C),I=L.c,T=L.n,q=Tw(F),M=q.c,re=q.n,G=new sn(19),V=0;V<I.length;++V)++G[I[V]&31];for(var V=0;V<M.length;++V)++G[M[V]&31];for(var ue=Qp(G,7),ne=ue.t,$=ue.l,J=19;J>4&&!ne[xx[J-1]];--J);var oe=m+5<<3,le=xd(o,Al)+xd(l,vu)+d,ie=xd(o,C)+xd(l,F)+d+14+3*J+xd(G,ne)+2*G[16]+3*G[17]+7*G[18];if(f>=0&&oe<=le&&oe<=ie)return zB(t,v,e.subarray(f,f+m));var Y,we,fe,je;if(zi(t,v,1+(ie<le)),v+=2,ie<le){Y=Ni(C,k,0),we=C,fe=Ni(F,O,0),je=F;var Pe=Ni(ne,$,0);zi(t,v,T-257),zi(t,v+5,re-1),zi(t,v+10,J-4),v+=14;for(var V=0;V<J;++V)zi(t,v+3*V,ne[xx[V]]);v+=3*J;for(var Ve=[I,M],de=0;de<2;++de)for(var he=Ve[de],V=0;V<he.length;++V){var Ne=he[V]&31;zi(t,v,Pe[Ne]),v+=ne[Ne],Ne>15&&(zi(t,v,he[V]>>5&127),v+=he[V]>>12)}}else Y=xL,we=Al,fe=bL,je=vu;for(var V=0;V<g;++V){var Ee=s[V];if(Ee>255){var Ne=Ee>>18&31;md(t,v,Y[Ne+257]),v+=we[Ne+257],Ne>7&&(zi(t,v,Ee>>23&31),v+=A0[Ne]);var Se=Ee&31;md(t,v,fe[Se]),v+=je[Se],Se>3&&(md(t,v,Ee>>5&8191),v+=d0[Se])}else md(t,v,Y[Ee]),v+=we[Ee]}return md(t,v,Y[256]),v+we[256]},NL=new lb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),VB=new ns(0),BL=function(e,t,a,s,o,l){var d=l.z||e.length,g=new ns(s+d+5*(1+Math.ceil(d/7e3))+o),f=g.subarray(s,g.length-o),m=l.l,v=(l.r||0)&7;if(t){v&&(f[0]=l.r>>3);for(var N=NL[t-1],C=N>>13,k=N&8191,U=(1<<a)-1,F=l.p||new sn(32768),O=l.h||new sn(U+1),L=Math.ceil(a/3),I=2*L,T=function(Qt){return(e[Qt]^e[Qt+1]<<L^e[Qt+2]<<I)&U},q=new lb(25e3),M=new sn(288),re=new sn(32),G=0,V=0,ue=l.i||0,ne=0,$=l.w||0,J=0;ue+2<d;++ue){var oe=T(ue),le=ue&32767,ie=O[oe];if(F[le]=ie,O[oe]=le,$<=ue){var Y=d-ue;if((G>7e3||ne>24576)&&(Y>423||!m)){v=Rw(e,f,0,q,M,re,V,ne,J,ue-J,v),ne=G=V=0,J=ue;for(var we=0;we<286;++we)M[we]=0;for(var we=0;we<30;++we)re[we]=0}var fe=2,je=0,Pe=k,Ve=le-ie&32767;if(Y>2&&oe==T(ue-Ve))for(var de=Math.min(C,Y)-1,he=Math.min(32767,ue),Ne=Math.min(258,Y);Ve<=he&&--Pe&&le!=ie;){if(e[ue+fe]==e[ue+fe-Ve]){for(var Ee=0;Ee<Ne&&e[ue+Ee]==e[ue+Ee-Ve];++Ee);if(Ee>fe){if(fe=Ee,je=Ve,Ee>de)break;for(var Se=Math.min(Ve,Ee-2),Ie=0,we=0;we<Se;++we){var ke=ue-Ve+we&32767,Qe=F[ke],Ke=ke-Qe&32767;Ke>Ie&&(Ie=Ke,ie=ke)}}}le=ie,ie=F[le],Ve+=le-ie&32767}if(je){q[ne++]=268435456|yx[fe]<<18|Dw[je];var tt=yx[fe]&31,ct=Dw[je]&31;V+=A0[tt]+d0[ct],++M[257+tt],++re[ct],$=ue+fe,++G}else q[ne++]=e[ue],++M[e[ue]]}}for(ue=Math.max(ue,$);ue<d;++ue)q[ne++]=e[ue],++M[e[ue]];v=Rw(e,f,m,q,M,re,V,ne,J,ue-J,v),m||(l.r=v&7|f[v/8|0]<<3,v-=7,l.h=O,l.p=F,l.i=ue,l.w=$)}else{for(var ue=l.w||0;ue<d+m;ue+=65535){var lt=ue+65535;lt>=d&&(f[v/8|0]=m,lt=d),v=zB(f,v+1,e.subarray(ue,lt))}l.i=d}return _B(g,0,s+cb(v)+o)},GB=function(){var e=1,t=0;return{p:function(a){for(var s=e,o=t,l=a.length|0,d=0;d!=l;){for(var g=Math.min(d+2655,l);d<g;++d)o+=s+=a[d];s=(s&65535)+15*(s>>16),o=(o&65535)+15*(o>>16)}e=s,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},CL=function(e,t,a,s,o){if(!o&&(o={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),d=new ns(l.length+e.length);d.set(l),d.set(e,l.length),e=d,o.w=l.length}return BL(e,t.level==null?6:t.level,t.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,a,s,o)},qB=function(e,t,a){for(;a;++t)e[t]=a,a>>>=8},jL=function(e,t){var a=t.level,s=a==0?0:a<6?1:a==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var o=GB();o.p(t.dictionary),qB(e,2,o.d())}},SL=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Gn(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Gn(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function wx(e,t){t||(t={});var a=GB();a.p(e);var s=CL(e,t,t.dictionary?6:2,4);return jL(s,t),qB(s,s.length-4,a.d()),s}function FL(e,t){return kL(e.subarray(SL(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var EL=typeof TextDecoder<"u"&&new TextDecoder,LL=0;try{EL.decode(VB,{stream:!0}),LL=1}catch{}var Ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Dp(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var Er={log:Dp,warn:function(e){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):Dp.call(null,arguments))},error:function(e){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):Dp(e))}};function Tp(e,t,a){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){Il(s.response,t,a)},s.onerror=function(){Er.error("could not download file")},s.send()}function Mw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Rh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Yd,kx,Il=Ht.saveAs||((typeof window>"u"?"undefined":kr(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,a){var s=Ht.URL||Ht.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener",typeof e=="string"?(o.href=e,o.origin!==location.origin?Mw(o.href)?Tp(e,t,a):Rh(o,o.target="_blank"):Rh(o)):(o.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(o.href)},4e4),setTimeout(function(){Rh(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download",typeof e=="string")if(Mw(e))Tp(e,t,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){Rh(s)})}else navigator.msSaveOrOpenBlob(function(o,l){return l===void 0?l={autoBom:!1}:kr(l)!=="object"&&(Er.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob([String.fromCharCode(65279),o],{type:o.type}):o}(e,a),t)}:function(e,t,a,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return Tp(e,t,a);var o=e.type==="application/octet-stream",l=/constructor/i.test(Ht.HTMLElement)||Ht.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||o&&l)&&(typeof FileReader>"u"?"undefined":kr(FileReader))==="object"){var g=new FileReader;g.onloadend=function(){var v=g.result;v=d?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=v:location=v,s=null},g.readAsDataURL(e)}else{var f=Ht.URL||Ht.webkitURL,m=f.createObjectURL(e);s?s.location=m:location.href=m,s=null,setTimeout(function(){f.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function XB(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(g){return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(g){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(g){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]}}],s=0;s<a.length;s++){var o=a[s].re,l=a[s].process,d=o.exec(e);d&&(t=l(d),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var g=this.r.toString(16),f=this.g.toString(16),m=this.b.toString(16);return g.length==1&&(g="0"+g),f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),"#"+g+f+m}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rp(e,t){var a=e[0],s=e[1],o=e[2],l=e[3];a=$a(a,s,o,l,t[0],7,-680876936),l=$a(l,a,s,o,t[1],12,-389564586),o=$a(o,l,a,s,t[2],17,606105819),s=$a(s,o,l,a,t[3],22,-1044525330),a=$a(a,s,o,l,t[4],7,-176418897),l=$a(l,a,s,o,t[5],12,1200080426),o=$a(o,l,a,s,t[6],17,-1473231341),s=$a(s,o,l,a,t[7],22,-45705983),a=$a(a,s,o,l,t[8],7,1770035416),l=$a(l,a,s,o,t[9],12,-1958414417),o=$a(o,l,a,s,t[10],17,-42063),s=$a(s,o,l,a,t[11],22,-1990404162),a=$a(a,s,o,l,t[12],7,1804603682),l=$a(l,a,s,o,t[13],12,-40341101),o=$a(o,l,a,s,t[14],17,-1502002290),a=Ja(a,s=$a(s,o,l,a,t[15],22,1236535329),o,l,t[1],5,-165796510),l=Ja(l,a,s,o,t[6],9,-1069501632),o=Ja(o,l,a,s,t[11],14,643717713),s=Ja(s,o,l,a,t[0],20,-373897302),a=Ja(a,s,o,l,t[5],5,-701558691),l=Ja(l,a,s,o,t[10],9,38016083),o=Ja(o,l,a,s,t[15],14,-660478335),s=Ja(s,o,l,a,t[4],20,-405537848),a=Ja(a,s,o,l,t[9],5,568446438),l=Ja(l,a,s,o,t[14],9,-1019803690),o=Ja(o,l,a,s,t[3],14,-187363961),s=Ja(s,o,l,a,t[8],20,1163531501),a=Ja(a,s,o,l,t[13],5,-1444681467),l=Ja(l,a,s,o,t[2],9,-51403784),o=Ja(o,l,a,s,t[7],14,1735328473),a=Za(a,s=Ja(s,o,l,a,t[12],20,-1926607734),o,l,t[5],4,-378558),l=Za(l,a,s,o,t[8],11,-2022574463),o=Za(o,l,a,s,t[11],16,1839030562),s=Za(s,o,l,a,t[14],23,-35309556),a=Za(a,s,o,l,t[1],4,-1530992060),l=Za(l,a,s,o,t[4],11,1272893353),o=Za(o,l,a,s,t[7],16,-155497632),s=Za(s,o,l,a,t[10],23,-1094730640),a=Za(a,s,o,l,t[13],4,681279174),l=Za(l,a,s,o,t[0],11,-358537222),o=Za(o,l,a,s,t[3],16,-722521979),s=Za(s,o,l,a,t[6],23,76029189),a=Za(a,s,o,l,t[9],4,-640364487),l=Za(l,a,s,o,t[12],11,-421815835),o=Za(o,l,a,s,t[15],16,530742520),a=es(a,s=Za(s,o,l,a,t[2],23,-995338651),o,l,t[0],6,-198630844),l=es(l,a,s,o,t[7],10,1126891415),o=es(o,l,a,s,t[14],15,-1416354905),s=es(s,o,l,a,t[5],21,-57434055),a=es(a,s,o,l,t[12],6,1700485571),l=es(l,a,s,o,t[3],10,-1894986606),o=es(o,l,a,s,t[10],15,-1051523),s=es(s,o,l,a,t[1],21,-2054922799),a=es(a,s,o,l,t[8],6,1873313359),l=es(l,a,s,o,t[15],10,-30611744),o=es(o,l,a,s,t[6],15,-1560198380),s=es(s,o,l,a,t[13],21,1309151649),a=es(a,s,o,l,t[4],6,-145523070),l=es(l,a,s,o,t[11],10,-1120210379),o=es(o,l,a,s,t[2],15,718787259),s=es(s,o,l,a,t[9],21,-343485551),e[0]=zo(a,e[0]),e[1]=zo(s,e[1]),e[2]=zo(o,e[2]),e[3]=zo(l,e[3])}function u0(e,t,a,s,o,l){return t=zo(zo(t,e),zo(s,l)),zo(t<<o|t>>>32-o,a)}function $a(e,t,a,s,o,l,d){return u0(t&a|~t&s,e,t,o,l,d)}function Ja(e,t,a,s,o,l,d){return u0(t&s|a&~s,e,t,o,l,d)}function Za(e,t,a,s,o,l,d){return u0(t^a^s,e,t,o,l,d)}function es(e,t,a,s,o,l,d){return u0(a^(t|~s),e,t,o,l,d)}function KB(e){var t,a=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Rp(s,IL(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(Rp(s,o),t=0;t<16;t++)o[t]=0;return o[14]=8*a,Rp(s,o),s}function IL(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}Yd=Ht.atob.bind(Ht),kx=Ht.btoa.bind(Ht);var Hw="0123456789abcdef".split("");function PL(e){for(var t="",a=0;a<4;a++)t+=Hw[e>>8*a+4&15]+Hw[e>>8*a&15];return t}function UL(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Nx(e){return KB(e).map(UL).join("")}var QL=function(e){for(var t=0;t<e.length;t++)e[t]=PL(e[t]);return e.join("")}(KB("hello"))!="5d41402abc4b2a76b9719d911017c592";function zo(e,t){if(QL){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Bx(e,t){var a,s,o,l;if(e!==a){for(var d=(o=e,l=1+(256/e.length>>0),new Array(l+1).join(o)),g=[],f=0;f<256;f++)g[f]=f;var m=0;for(f=0;f<256;f++){var v=g[f];m=(m+v+d.charCodeAt(f))%256,g[f]=g[m],g[m]=v}a=e,s=g}else g=s;var N=t.length,C=0,k=0,U="";for(f=0;f<N;f++)k=(k+(v=g[C=(C+1)%256]))%256,g[C]=g[k],g[k]=v,d=g[(g[C]+g[k])%256],U+=String.fromCharCode(t.charCodeAt(f)^d);return U}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ow={print:4,modify:8,copy:16,"annot-forms":32};function Oc(e,t,a,s){this.v=1,this.r=2;var o=192;e.forEach(function(g){if(Ow.perm!==void 0)throw new Error("Invalid permission: "+g);o+=Ow[g]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var l=(t+this.padding).substr(0,32),d=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,d),this.P=-(1+(255^o)),this.encryptionKey=Nx(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Bx(this.encryptionKey,this.padding)}function _c(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",a=e.length,s=0;s<a;s++){var o=e.charCodeAt(s);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?t+="#"+("0"+o.toString(16)).slice(-2):t+=e[s]}return t}function _w(e){if(kr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(a,s,o){if(o=o||!1,typeof a!="string"||typeof s!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(a)||(t[a]={});var l=Math.random().toString(35);return t[a][l]=[s,!!o],l},this.unsubscribe=function(a){for(var s in t)if(t[s][a])return delete t[s][a],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(a){if(t.hasOwnProperty(a)){var s=Array.prototype.slice.call(arguments,1),o=[];for(var l in t[a]){var d=t[a][l];try{d[0].apply(e,s)}catch(g){Ht.console&&Er.error("jsPDF PubSub Error",g.message,g)}d[1]&&o.push(l)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function yf(e){if(!(this instanceof yf))return new yf(e);var t="opacity,stroke-opacity".split(",");for(var a in e)e.hasOwnProperty(a)&&t.indexOf(a)>=0&&(this[a]=e[a]);this.id="",this.objectNumber=-1}function WB(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ul(e,t,a,s,o){if(!(this instanceof Ul))return new Ul(e,t,a,s,o);this.type=e==="axial"?2:3,this.coords=t,this.colors=a,WB.call(this,s,o)}function aA(e,t,a,s,o){if(!(this instanceof aA))return new aA(e,t,a,s,o);this.boundingBox=e,this.xStep=t,this.yStep=a,this.stream="",this.cloneIndex=0,WB.call(this,s,o)}function Mt(e){var t,a=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],o=arguments[2],l=arguments[3],d=[],g=1,f=16,m="S",v=null;kr(e=e||{})==="object"&&(a=e.orientation,s=e.unit||s,o=e.format||o,l=e.compress||e.compressPdf||l,(v=e.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),g=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(f=e.floatPrecision),m=e.defaultPathOperation||"S"),d=e.filters||(l===!0?["FlateEncode"]:d),s=s||"mm",a=(""+(a||"P")).toLowerCase();var N=e.putOnlyUsedFonts||!1,C={},k={internal:{},__private__:{}};k.__private__.PubSub=_w;var U="1.3",F=k.__private__.getPdfVersion=function(){return U};k.__private__.setPdfVersion=function(D){U=D};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};k.__private__.getPageFormats=function(){return O};var L=k.__private__.getPageFormat=function(D){return O[D]};o=o||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},T=I.COMPAT;function q(){this.saveGraphicsState(),be(new Dt(xt,0,0,-xt,0,go()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),m="n",T=I.ADVANCED}function M(){this.restoreGraphicsState(),m="S",T=I.COMPAT}var re=k.__private__.combineFontStyleAndFontWeight=function(D,Ae){if(D=="bold"&&Ae=="normal"||D=="bold"&&Ae==400||D=="normal"&&Ae=="italic"||D=="bold"&&Ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ae&&(D=Ae==400||Ae==="normal"?D==="italic"?"italic":"normal":Ae!=700&&Ae!=="bold"||D!=="normal"?(Ae==700?"bold":Ae)+""+D:"bold"),D};k.advancedAPI=function(D){var Ae=T===I.COMPAT;return Ae&&q.call(this),typeof D!="function"||(D(this),Ae&&M.call(this)),this},k.compatAPI=function(D){var Ae=T===I.ADVANCED;return Ae&&M.call(this),typeof D!="function"||(D(this),Ae&&q.call(this)),this},k.isAdvancedAPI=function(){return T===I.ADVANCED};var G,V=function(D){if(T!==I.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ue=k.roundToPrecision=k.__private__.roundToPrecision=function(D,Ae){var Ce=t||Ae;if(isNaN(D)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ce).replace(/0+$/,"")};G=k.hpf=k.__private__.hpf=typeof f=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(D,f)}:f==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(D,16)};var ne=k.f2=k.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return ue(D,2)},$=k.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return ue(D,3)},J=k.scale=k.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return T===I.COMPAT?D*xt:T===I.ADVANCED?D:void 0},oe=function(D){return T===I.COMPAT?go()-D:T===I.ADVANCED?D:void 0},le=function(D){return J(oe(D))};k.__private__.setPrecision=k.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(t=parseInt(D,10))};var ie,Y="00000000000000000000000000000000",we=k.__private__.getFileId=function(){return Y},fe=k.__private__.setFileId=function(D){return Y=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(Ft=new Oc(v.userPermissions,v.userPassword,v.ownerPassword,Y)),Y};k.setFileId=function(D){return fe(D),this},k.getFileId=function(){return we()};var je=k.__private__.convertDateToPDFDate=function(D){var Ae=D.getTimezoneOffset(),Ce=Ae<0?"+":"-",Ue=Math.floor(Math.abs(Ae/60)),He=Math.abs(Ae%60),Ye=[Ce,Ne(Ue),"'",Ne(He),"'"].join("");return["D:",D.getFullYear(),Ne(D.getMonth()+1),Ne(D.getDate()),Ne(D.getHours()),Ne(D.getMinutes()),Ne(D.getSeconds()),Ye].join("")},Pe=k.__private__.convertPDFDateToDate=function(D){var Ae=parseInt(D.substr(2,4),10),Ce=parseInt(D.substr(6,2),10)-1,Ue=parseInt(D.substr(8,2),10),He=parseInt(D.substr(10,2),10),Ye=parseInt(D.substr(12,2),10),st=parseInt(D.substr(14,2),10);return new Date(Ae,Ce,Ue,He,Ye,st,0)},Ve=k.__private__.setCreationDate=function(D){var Ae;if(D===void 0&&(D=new Date),D instanceof Date)Ae=je(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ae=D}return ie=Ae},de=k.__private__.getCreationDate=function(D){var Ae=ie;return D==="jsDate"&&(Ae=Pe(ie)),Ae};k.setCreationDate=function(D){return Ve(D),this},k.getCreationDate=function(D){return de(D)};var he,Ne=k.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},Ee=k.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},Se=0,Ie=[],ke=[],Qe=0,Ke=[],tt=[],ct=!1,lt=ke,Qt=function(){Se=0,Qe=0,ke=[],Ie=[],Ke=[],qs=Yr(),Na=Yr()};k.__private__.setCustomOutputDestination=function(D){ct=!0,lt=D};var We=function(D){ct||(lt=D)};k.__private__.resetCustomOutputDestination=function(){ct=!1,lt=ke};var be=k.__private__.out=function(D){return D=D.toString(),Qe+=D.length+1,lt.push(D),lt},yt=k.__private__.write=function(D){return be(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},dt=k.__private__.getArrayBuffer=function(D){for(var Ae=D.length,Ce=new ArrayBuffer(Ae),Ue=new Uint8Array(Ce);Ae--;)Ue[Ae]=D.charCodeAt(Ae);return Ce},nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];k.__private__.getStandardFonts=function(){return nt};var At=e.fontSize||16;k.__private__.setFontSize=k.setFontSize=function(D){return At=T===I.ADVANCED?D/xt:D,this};var gt,ut=k.__private__.getFontSize=k.getFontSize=function(){return T===I.COMPAT?At:At*xt},Et=e.R2L||!1;k.__private__.setR2L=k.setR2L=function(D){return Et=D,this},k.__private__.getR2L=k.getR2L=function(){return Et};var Rt,_t=k.__private__.setZoomMode=function(D){var Ae=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))gt=D;else if(isNaN(D)){if(Ae.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');gt=D}else gt=parseInt(D,10)};k.__private__.getZoomMode=function(){return gt};var Xt,Zt=k.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Rt=D};k.__private__.getPageMode=function(){return Rt};var dr=k.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Xt=D};k.__private__.getLayoutMode=function(){return Xt},k.__private__.setDisplayMode=k.setDisplayMode=function(D,Ae,Ce){return _t(D),dr(Ae),Zt(Ce),this};var Lt={title:"",subject:"",author:"",keywords:"",creator:""};k.__private__.getDocumentProperty=function(D){if(Object.keys(Lt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Lt[D]},k.__private__.getDocumentProperties=function(){return Lt},k.__private__.setDocumentProperties=k.setProperties=k.setDocumentProperties=function(D){for(var Ae in Lt)Lt.hasOwnProperty(Ae)&&D[Ae]&&(Lt[Ae]=D[Ae]);return this},k.__private__.setDocumentProperty=function(D,Ae){if(Object.keys(Lt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Lt[D]=Ae};var Jt,xt,wa,lr,ks,yr={},Sr={},dn=[],gr={},Ei={},Rr={},_s={},Qn=null,br=0,Ot=[],cr=new _w(k),ni=e.hotfixes||[],ka={},zs={},Vs=[],Dt=function D(Ae,Ce,Ue,He,Ye,st){if(!(this instanceof D))return new D(Ae,Ce,Ue,He,Ye,st);isNaN(Ae)&&(Ae=1),isNaN(Ce)&&(Ce=0),isNaN(Ue)&&(Ue=0),isNaN(He)&&(He=1),isNaN(Ye)&&(Ye=0),isNaN(st)&&(st=0),this._matrix=[Ae,Ce,Ue,He,Ye,st]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(G).join(D)},Dt.prototype.multiply=function(D){var Ae=D.sx*this.sx+D.shy*this.shx,Ce=D.sx*this.shy+D.shy*this.sy,Ue=D.shx*this.sx+D.sy*this.shx,He=D.shx*this.shy+D.sy*this.sy,Ye=D.tx*this.sx+D.ty*this.shx+this.tx,st=D.tx*this.shy+D.ty*this.sy+this.ty;return new Dt(Ae,Ce,Ue,He,Ye,st)},Dt.prototype.decompose=function(){var D=this.sx,Ae=this.shy,Ce=this.shx,Ue=this.sy,He=this.tx,Ye=this.ty,st=Math.sqrt(D*D+Ae*Ae),wt=(D/=st)*Ce+(Ae/=st)*Ue;Ce-=D*wt,Ue-=Ae*wt;var Ut=Math.sqrt(Ce*Ce+Ue*Ue);return wt/=Ut,D*(Ue/=Ut)<Ae*(Ce/=Ut)&&(D=-D,Ae=-Ae,wt=-wt,st=-st),{scale:new Dt(st,0,0,Ut,0,0),translate:new Dt(1,0,0,1,He,Ye),rotate:new Dt(D,Ae,-Ae,D,0,0),skew:new Dt(1,0,wt,1,0,0)}},Dt.prototype.toString=function(D){return this.join(" ")},Dt.prototype.inversed=function(){var D=this.sx,Ae=this.shy,Ce=this.shx,Ue=this.sy,He=this.tx,Ye=this.ty,st=1/(D*Ue-Ae*Ce),wt=Ue*st,Ut=-Ae*st,Wt=-Ce*st,zt=D*st;return new Dt(wt,Ut,Wt,zt,-wt*He-Wt*Ye,-Ut*He-zt*Ye)},Dt.prototype.applyToPoint=function(D){var Ae=D.x*this.sx+D.y*this.shx+this.tx,Ce=D.x*this.shy+D.y*this.sy+this.ty;return new fc(Ae,Ce)},Dt.prototype.applyToRectangle=function(D){var Ae=this.applyToPoint(D),Ce=this.applyToPoint(new fc(D.x+D.w,D.y+D.h));return new zA(Ae.x,Ae.y,Ce.x-Ae.x,Ce.y-Ae.y)},Dt.prototype.clone=function(){var D=this.sx,Ae=this.shy,Ce=this.shx,Ue=this.sy,He=this.tx,Ye=this.ty;return new Dt(D,Ae,Ce,Ue,He,Ye)},k.Matrix=Dt;var Gs=k.matrixMult=function(D,Ae){return Ae.multiply(D)},un=new Dt(1,0,0,1,0,0);k.unitMatrix=k.identityMatrix=un;var qa=function(D,Ae){if(!Ei[D]){var Ce=(Ae instanceof Ul?"Sh":"P")+(Object.keys(gr).length+1).toString(10);Ae.id=Ce,Ei[D]=Ce,gr[Ce]=Ae,cr.publish("addPattern",Ae)}};k.ShadingPattern=Ul,k.TilingPattern=aA,k.addShadingPattern=function(D,Ae){return V("addShadingPattern()"),qa(D,Ae),this},k.beginTilingPattern=function(D){V("beginTilingPattern()"),Gu(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},k.endTilingPattern=function(D,Ae){V("endTilingPattern()"),Ae.stream=tt[he].join(`
`),qa(D,Ae),cr.publish("endTilingPattern",Ae),Vs.pop().restore()};var ra=k.__private__.newObject=function(){var D=Yr();return ds(D,!0),D},Yr=k.__private__.newObjectDeferred=function(){return Se++,Ie[Se]=function(){return Qe},Se},ds=function(D,Ae){return Ae=typeof Ae=="boolean"&&Ae,Ie[D]=Qe,Ae&&be(D+" 0 obj"),D},ii=k.__private__.newAdditionalObject=function(){var D={objId:Yr(),content:""};return Ke.push(D),D},qs=Yr(),Na=Yr(),Xa=k.__private__.decodeColorString=function(D){var Ae=D.split(" ");if(Ae.length!==2||Ae[1]!=="g"&&Ae[1]!=="G")Ae.length===5&&(Ae[4]==="k"||Ae[4]==="K")&&(Ae=[(1-Ae[0])*(1-Ae[3]),(1-Ae[1])*(1-Ae[3]),(1-Ae[2])*(1-Ae[3]),"r"]);else{var Ce=parseFloat(Ae[0]);Ae=[Ce,Ce,Ce,"r"]}for(var Ue="#",He=0;He<3;He++)Ue+=("0"+Math.floor(255*parseFloat(Ae[He])).toString(16)).slice(-2);return Ue},Xs=k.__private__.encodeColorString=function(D){var Ae;typeof D=="string"&&(D={ch1:D});var Ce=D.ch1,Ue=D.ch2,He=D.ch3,Ye=D.ch4,st=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var wt=new XB(Ce);if(wt.ok)Ce=wt.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var Ut=parseInt(Ce.substr(1),16);Ce=Ut>>16&255,Ue=Ut>>8&255,He=255&Ut}if(Ue===void 0||Ye===void 0&&Ce===Ue&&Ue===He)if(typeof Ce=="string")Ae=Ce+" "+st[0];else switch(D.precision){case 2:Ae=ne(Ce/255)+" "+st[0];break;case 3:default:Ae=$(Ce/255)+" "+st[0]}else if(Ye===void 0||kr(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return Ae=["1.","1.","1.",st[1]].join(" ");if(typeof Ce=="string")Ae=[Ce,Ue,He,st[1]].join(" ");else switch(D.precision){case 2:Ae=[ne(Ce/255),ne(Ue/255),ne(He/255),st[1]].join(" ");break;default:case 3:Ae=[$(Ce/255),$(Ue/255),$(He/255),st[1]].join(" ")}}else if(typeof Ce=="string")Ae=[Ce,Ue,He,Ye,st[2]].join(" ");else switch(D.precision){case 2:Ae=[ne(Ce),ne(Ue),ne(He),ne(Ye),st[2]].join(" ");break;case 3:default:Ae=[$(Ce),$(Ue),$(He),$(Ye),st[2]].join(" ")}return Ae},Ks=k.__private__.getFilters=function(){return d},Ns=k.__private__.putStream=function(D){var Ae=(D=D||{}).data||"",Ce=D.filters||Ks(),Ue=D.alreadyAppliedFilters||[],He=D.addLength1||!1,Ye=Ae.length,st=D.objectId,wt=function(Ka){return Ka};if(v!==null&&st===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(wt=Ft.encryptor(st,0));var Ut={};Ce===!0&&(Ce=["FlateEncode"]);var Wt=D.additionalKeyValues||[],zt=(Ut=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(Ae,Ce):{data:Ae,reverseChain:[]}).reverseChain+(Array.isArray(Ue)?Ue.join(" "):Ue.toString());if(Ut.data.length!==0&&(Wt.push({key:"Length",value:Ut.data.length}),He===!0&&Wt.push({key:"Length1",value:Ye})),zt.length!=0)if(zt.split("/").length-1==1)Wt.push({key:"Filter",value:zt});else{Wt.push({key:"Filter",value:"["+zt+"]"});for(var Ar=0;Ar<Wt.length;Ar+=1)if(Wt[Ar].key==="DecodeParms"){for(var Gr=[],Jr=0;Jr<Ut.reverseChain.split("/").length-1;Jr+=1)Gr.push("null");Gr.push(Wt[Ar].value),Wt[Ar].value="["+Gr.join(" ")+"]"}}be("<<");for(var fa=0;fa<Wt.length;fa++)be("/"+Wt[fa].key+" "+Wt[fa].value);be(">>"),Ut.data.length!==0&&(be("stream"),be(wt(Ut.data)),be("endstream"))},hn=k.__private__.putPage=function(D){var Ae=D.number,Ce=D.data,Ue=D.objId,He=D.contentsObjId;ds(Ue,!0),be("<</Type /Page"),be("/Parent "+D.rootDictionaryObjId+" 0 R"),be("/Resources "+D.resourceDictionaryObjId+" 0 R"),be("/MediaBox ["+parseFloat(G(D.mediaBox.bottomLeftX))+" "+parseFloat(G(D.mediaBox.bottomLeftY))+" "+G(D.mediaBox.topRightX)+" "+G(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&be("/CropBox ["+G(D.cropBox.bottomLeftX)+" "+G(D.cropBox.bottomLeftY)+" "+G(D.cropBox.topRightX)+" "+G(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&be("/BleedBox ["+G(D.bleedBox.bottomLeftX)+" "+G(D.bleedBox.bottomLeftY)+" "+G(D.bleedBox.topRightX)+" "+G(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&be("/TrimBox ["+G(D.trimBox.bottomLeftX)+" "+G(D.trimBox.bottomLeftY)+" "+G(D.trimBox.topRightX)+" "+G(D.trimBox.topRightY)+"]"),D.artBox!==null&&be("/ArtBox ["+G(D.artBox.bottomLeftX)+" "+G(D.artBox.bottomLeftY)+" "+G(D.artBox.topRightX)+" "+G(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&be("/UserUnit "+D.userUnit),cr.publish("putPage",{objId:Ue,pageContext:Ot[Ae],pageNumber:Ae,page:Ce}),be("/Contents "+He+" 0 R"),be(">>"),be("endobj");var Ye=Ce.join(`
`);return T===I.ADVANCED&&(Ye+=`
Q`),ds(He,!0),Ns({data:Ye,filters:Ks(),objectId:He}),be("endobj"),Ue},Li=k.__private__.putPages=function(){var D,Ae,Ce=[];for(D=1;D<=br;D++)Ot[D].objId=Yr(),Ot[D].contentsObjId=Yr();for(D=1;D<=br;D++)Ce.push(hn({number:D,data:tt[D],objId:Ot[D].objId,contentsObjId:Ot[D].contentsObjId,mediaBox:Ot[D].mediaBox,cropBox:Ot[D].cropBox,bleedBox:Ot[D].bleedBox,trimBox:Ot[D].trimBox,artBox:Ot[D].artBox,userUnit:Ot[D].userUnit,rootDictionaryObjId:qs,resourceDictionaryObjId:Na}));ds(qs,!0),be("<</Type /Pages");var Ue="/Kids [";for(Ae=0;Ae<br;Ae++)Ue+=Ce[Ae]+" 0 R ";be(Ue+"]"),be("/Count "+br),be(">>"),be("endobj"),cr.publish("postPutPages")},uo=function(D){cr.publish("putFont",{font:D,out:be,newObject:ra,putStream:Ns}),D.isAlreadyPutted!==!0&&(D.objectNumber=ra(),be("<<"),be("/Type /Font"),be("/BaseFont /"+_c(D.postScriptName)),be("/Subtype /Type1"),typeof D.encoding=="string"&&be("/Encoding /"+D.encoding),be("/FirstChar 32"),be("/LastChar 255"),be(">>"),be("endobj"))},Ii=function(){for(var D in yr)yr.hasOwnProperty(D)&&(N===!1||N===!0&&C.hasOwnProperty(D))&&uo(yr[D])},Pi=function(D){D.objectNumber=ra();var Ae=[];Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Form"}),Ae.push({key:"BBox",value:"["+[G(D.x),G(D.y),G(D.x+D.width),G(D.y+D.height)].join(" ")+"]"}),Ae.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var Ce=D.pages[1].join(`
`);Ns({data:Ce,additionalKeyValues:Ae,objectId:D.objectNumber}),be("endobj")},oi=function(){for(var D in ka)ka.hasOwnProperty(D)&&Pi(ka[D])},uc=function(D,Ae){var Ce,Ue=[],He=1/(Ae-1);for(Ce=0;Ce<1;Ce+=He)Ue.push(Ce);if(Ue.push(1),D[0].offset!=0){var Ye={offset:0,color:D[0].color};D.unshift(Ye)}if(D[D.length-1].offset!=1){var st={offset:1,color:D[D.length-1].color};D.push(st)}for(var wt="",Ut=0,Wt=0;Wt<Ue.length;Wt++){for(Ce=Ue[Wt];Ce>D[Ut+1].offset;)Ut++;var zt=D[Ut].offset,Ar=(Ce-zt)/(D[Ut+1].offset-zt),Gr=D[Ut].color,Jr=D[Ut+1].color;wt+=Ee(Math.round((1-Ar)*Gr[0]+Ar*Jr[0]).toString(16))+Ee(Math.round((1-Ar)*Gr[1]+Ar*Jr[1]).toString(16))+Ee(Math.round((1-Ar)*Gr[2]+Ar*Jr[2]).toString(16))}return wt.trim()},te=function(D,Ae){Ae||(Ae=21);var Ce=ra(),Ue=uc(D.colors,Ae),He=[];He.push({key:"FunctionType",value:"0"}),He.push({key:"Domain",value:"[0.0 1.0]"}),He.push({key:"Size",value:"["+Ae+"]"}),He.push({key:"BitsPerSample",value:"8"}),He.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ns({data:Ue,additionalKeyValues:He,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),be("endobj"),D.objectNumber=ra(),be("<< /ShadingType "+D.type),be("/ColorSpace /DeviceRGB");var Ye="/Coords ["+G(parseFloat(D.coords[0]))+" "+G(parseFloat(D.coords[1]))+" ";D.type===2?Ye+=G(parseFloat(D.coords[2]))+" "+G(parseFloat(D.coords[3])):Ye+=G(parseFloat(D.coords[2]))+" "+G(parseFloat(D.coords[3]))+" "+G(parseFloat(D.coords[4]))+" "+G(parseFloat(D.coords[5])),be(Ye+="]"),D.matrix&&be("/Matrix ["+D.matrix.toString()+"]"),be("/Function "+Ce+" 0 R"),be("/Extend [true true]"),be(">>"),be("endobj")},n=function(D,Ae){var Ce=Yr(),Ue=ra();Ae.push({resourcesOid:Ce,objectOid:Ue}),D.objectNumber=Ue;var He=[];He.push({key:"Type",value:"/Pattern"}),He.push({key:"PatternType",value:"1"}),He.push({key:"PaintType",value:"1"}),He.push({key:"TilingType",value:"1"}),He.push({key:"BBox",value:"["+D.boundingBox.map(G).join(" ")+"]"}),He.push({key:"XStep",value:G(D.xStep)}),He.push({key:"YStep",value:G(D.yStep)}),He.push({key:"Resources",value:Ce+" 0 R"}),D.matrix&&He.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Ns({data:D.stream,additionalKeyValues:He,objectId:D.objectNumber}),be("endobj")},i=function(D){var Ae;for(Ae in gr)gr.hasOwnProperty(Ae)&&(gr[Ae]instanceof Ul?te(gr[Ae]):gr[Ae]instanceof aA&&n(gr[Ae],D))},c=function(D){for(var Ae in D.objectNumber=ra(),be("<<"),D)switch(Ae){case"opacity":be("/ca "+ne(D[Ae]));break;case"stroke-opacity":be("/CA "+ne(D[Ae]))}be(">>"),be("endobj")},A=function(){var D;for(D in Rr)Rr.hasOwnProperty(D)&&c(Rr[D])},h=function(){for(var D in be("/XObject <<"),ka)ka.hasOwnProperty(D)&&ka[D].objectNumber>=0&&be("/"+D+" "+ka[D].objectNumber+" 0 R");cr.publish("putXobjectDict"),be(">>")},u=function(){Ft.oid=ra(),be("<<"),be("/Filter /Standard"),be("/V "+Ft.v),be("/R "+Ft.r),be("/U <"+Ft.toHexString(Ft.U)+">"),be("/O <"+Ft.toHexString(Ft.O)+">"),be("/P "+Ft.P),be(">>"),be("endobj")},p=function(){for(var D in be("/Font <<"),yr)yr.hasOwnProperty(D)&&(N===!1||N===!0&&C.hasOwnProperty(D))&&be("/"+D+" "+yr[D].objectNumber+" 0 R");be(">>")},x=function(){if(Object.keys(gr).length>0){for(var D in be("/Shading <<"),gr)gr.hasOwnProperty(D)&&gr[D]instanceof Ul&&gr[D].objectNumber>=0&&be("/"+D+" "+gr[D].objectNumber+" 0 R");cr.publish("putShadingPatternDict"),be(">>")}},w=function(D){if(Object.keys(gr).length>0){for(var Ae in be("/Pattern <<"),gr)gr.hasOwnProperty(Ae)&&gr[Ae]instanceof k.TilingPattern&&gr[Ae].objectNumber>=0&&gr[Ae].objectNumber<D&&be("/"+Ae+" "+gr[Ae].objectNumber+" 0 R");cr.publish("putTilingPatternDict"),be(">>")}},S=function(){if(Object.keys(Rr).length>0){var D;for(D in be("/ExtGState <<"),Rr)Rr.hasOwnProperty(D)&&Rr[D].objectNumber>=0&&be("/"+D+" "+Rr[D].objectNumber+" 0 R");cr.publish("putGStateDict"),be(">>")}},B=function(D){ds(D.resourcesOid,!0),be("<<"),be("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),p(),x(),w(D.objectOid),S(),h(),be(">>"),be("endobj")},P=function(){var D=[];Ii(),A(),oi(),i(D),cr.publish("putResources"),D.forEach(B),B({resourcesOid:Na,objectOid:Number.MAX_SAFE_INTEGER}),cr.publish("postPutResources")},R=function(){cr.publish("putAdditionalObjects");for(var D=0;D<Ke.length;D++){var Ae=Ke[D];ds(Ae.objId,!0),be(Ae.content),be("endobj")}cr.publish("postPutAdditionalObjects")},z=function(D){Sr[D.fontName]=Sr[D.fontName]||{},Sr[D.fontName][D.fontStyle]=D.id},_=function(D,Ae,Ce,Ue,He){var Ye={id:"F"+(Object.keys(yr).length+1).toString(10),postScriptName:D,fontName:Ae,fontStyle:Ce,encoding:Ue,isStandardFont:He||!1,metadata:{}};return cr.publish("addFont",{font:Ye,instance:this}),yr[Ye.id]=Ye,z(Ye),Ye.id},Z=function(D){for(var Ae=0,Ce=nt.length;Ae<Ce;Ae++){var Ue=_.call(this,D[Ae][0],D[Ae][1],D[Ae][2],nt[Ae][3],!0);N===!1&&(C[Ue]=!0);var He=D[Ae][0].split("-");z({id:Ue,fontName:He[0],fontStyle:He[1]||""})}cr.publish("addFonts",{fonts:yr,dictionary:Sr})},ee=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Ue){var Ae=Ue.stack||"";~Ae.indexOf(" at ")&&(Ae=Ae.split(" at ")[1]);var Ce="Error in function "+Ae.split(`
`)[0].split("<")[0]+": "+Ue.message;if(!Ht.console)throw new Error(Ce);Ht.console.error(Ce,Ue),Ht.alert&&alert(Ce)}},D.foo.bar=D,D.foo},ae=function(D,Ae){var Ce,Ue,He,Ye,st,wt,Ut,Wt,zt;if(He=(Ae=Ae||{}).sourceEncoding||"Unicode",st=Ae.outputEncoding,(Ae.autoencode||st)&&yr[Jt].metadata&&yr[Jt].metadata[He]&&yr[Jt].metadata[He].encoding&&(Ye=yr[Jt].metadata[He].encoding,!st&&yr[Jt].encoding&&(st=yr[Jt].encoding),!st&&Ye.codePages&&(st=Ye.codePages[0]),typeof st=="string"&&(st=Ye[st]),st)){for(Ut=!1,wt=[],Ce=0,Ue=D.length;Ce<Ue;Ce++)(Wt=st[D.charCodeAt(Ce)])?wt.push(String.fromCharCode(Wt)):wt.push(D[Ce]),wt[Ce].charCodeAt(0)>>8&&(Ut=!0);D=wt.join("")}for(Ce=D.length;Ut===void 0&&Ce!==0;)D.charCodeAt(Ce-1)>>8&&(Ut=!0),Ce--;if(!Ut)return D;for(wt=Ae.noBOM?[]:[254,255],Ce=0,Ue=D.length;Ce<Ue;Ce++){if((zt=(Wt=D.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wt.push(zt),wt.push(Wt-(zt<<8))}return String.fromCharCode.apply(void 0,wt)},b=k.__private__.pdfEscape=k.pdfEscape=function(D,Ae){return ae(D,Ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Q=k.__private__.beginPage=function(D){tt[++br]=[],Ot[br]={objId:0,contentsObjId:0,userUnit:Number(g),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},se(br),We(tt[he])},K=function(D,Ae){var Ce,Ue,He;switch(a=Ae||a,typeof D=="string"&&(Ce=L(D.toLowerCase()),Array.isArray(Ce)&&(Ue=Ce[0],He=Ce[1])),Array.isArray(D)&&(Ue=D[0]*xt,He=D[1]*xt),isNaN(Ue)&&(Ue=o[0],He=o[1]),(Ue>14400||He>14400)&&(Er.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ue=Math.min(14400,Ue),He=Math.min(14400,He)),o=[Ue,He],a.substr(0,1)){case"l":He>Ue&&(o=[He,Ue]);break;case"p":Ue>He&&(o=[He,Ue])}Q(o),Hu(MA),be(Dn),OA!==0&&be(OA+" J"),_A!==0&&be(_A+" j"),cr.publish("addPage",{pageNumber:br})},ge=function(D){D>0&&D<=br&&(tt.splice(D,1),Ot.splice(D,1),br--,he>br&&(he=br),this.setPage(he))},se=function(D){D>0&&D<=br&&(he=D)},me=k.__private__.getNumberOfPages=k.getNumberOfPages=function(){return tt.length-1},Fe=function(D,Ae,Ce){var Ue,He=void 0;return Ce=Ce||{},D=D!==void 0?D:yr[Jt].fontName,Ae=Ae!==void 0?Ae:yr[Jt].fontStyle,Ue=D.toLowerCase(),Sr[Ue]!==void 0&&Sr[Ue][Ae]!==void 0?He=Sr[Ue][Ae]:Sr[D]!==void 0&&Sr[D][Ae]!==void 0?He=Sr[D][Ae]:Ce.disableWarning===!1&&Er.warn("Unable to look up font label for font '"+D+"', '"+Ae+"'. Refer to getFontList() for available fonts."),He||Ce.noFallback||(He=Sr.times[Ae])==null&&(He=Sr.times.normal),He},Le=k.__private__.putInfo=function(){var D=ra(),Ae=function(Ue){return Ue};for(var Ce in v!==null&&(Ae=Ft.encryptor(D,0)),be("<<"),be("/Producer ("+b(Ae("jsPDF "+Mt.version))+")"),Lt)Lt.hasOwnProperty(Ce)&&Lt[Ce]&&be("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+b(Ae(Lt[Ce]))+")");be("/CreationDate ("+b(Ae(ie))+")"),be(">>"),be("endobj")},Oe=k.__private__.putCatalog=function(D){var Ae=(D=D||{}).rootDictionaryObjId||qs;switch(ra(),be("<<"),be("/Type /Catalog"),be("/Pages "+Ae+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":be("/OpenAction [3 0 R /FitH null]");break;case"fullheight":be("/OpenAction [3 0 R /FitV null]");break;case"fullpage":be("/OpenAction [3 0 R /Fit]");break;case"original":be("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+gt;Ce.substr(Ce.length-1)==="%"&&(gt=parseInt(gt)/100),typeof gt=="number"&&be("/OpenAction [3 0 R /XYZ null null "+ne(gt)+"]")}switch(Xt||(Xt="continuous"),Xt){case"continuous":be("/PageLayout /OneColumn");break;case"single":be("/PageLayout /SinglePage");break;case"two":case"twoleft":be("/PageLayout /TwoColumnLeft");break;case"tworight":be("/PageLayout /TwoColumnRight")}Rt&&be("/PageMode /"+Rt),cr.publish("putCatalog"),be(">>"),be("endobj")},$e=k.__private__.putTrailer=function(){be("trailer"),be("<<"),be("/Size "+(Se+1)),be("/Root "+Se+" 0 R"),be("/Info "+(Se-1)+" 0 R"),v!==null&&be("/Encrypt "+Ft.oid+" 0 R"),be("/ID [ <"+Y+"> <"+Y+"> ]"),be(">>")},Ge=k.__private__.putHeader=function(){be("%PDF-"+U),be("%ºß¬à")},Je=k.__private__.putXRef=function(){var D="0000000000";be("xref"),be("0 "+(Se+1)),be("0000000000 65535 f ");for(var Ae=1;Ae<=Se;Ae++)typeof Ie[Ae]=="function"?be((D+Ie[Ae]()).slice(-10)+" 00000 n "):Ie[Ae]!==void 0?be((D+Ie[Ae]).slice(-10)+" 00000 n "):be("0000000000 00000 n ")},ot=k.__private__.buildDocument=function(){Qt(),We(ke),cr.publish("buildDocument"),Ge(),Li(),R(),P(),v!==null&&u(),Le(),Oe();var D=Qe;return Je(),$e(),be("startxref"),be(""+D),be("%%EOF"),We(tt[he]),ke.join(`
`)},ft=k.__private__.getBlob=function(D){return new Blob([dt(D)],{type:"application/pdf"})},vt=k.output=k.__private__.output=ee(function(D,Ae){switch(typeof(Ae=Ae||{})=="string"?Ae={filename:Ae}:Ae.filename=Ae.filename||"generated.pdf",D){case void 0:return ot();case"save":k.save(Ae.filename);break;case"arraybuffer":return dt(ot());case"blob":return ft(ot());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(ft(ot()))||void 0;Er.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",Ue=ot();try{Ce=kx(Ue)}catch{Ce=kx(unescape(encodeURIComponent(Ue)))}return"data:application/pdf;filename="+Ae.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var He="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ae.pdfObjectUrl&&(He=Ae.pdfObjectUrl,Ye="");var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+He+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ae)+");<\/script></body></html>",wt=Ht.open();return wt!==null&&wt.document.write(st),wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ae.filename+'" width="500px" height="400px" /></body></html>',Wt=Ht.open();if(Wt!==null){Wt.document.write(Ut);var zt=this;Wt.document.documentElement.querySelector("#pdfViewer").onload=function(){Wt.document.title=Ae.filename,Wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ae)+'"></iframe></body></html>',Gr=Ht.open();if(Gr!==null&&(Gr.document.write(Ar),Gr.document.title=Ae.filename),Gr||typeof safari>"u")return Gr;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",Ae);default:return null}}),It=function(D){return Array.isArray(ni)===!0&&ni.indexOf(D)>-1};switch(s){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=It("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);xt=s}var Ft=null;Ve(),fe();var Pt=function(D){return v!==null?Ft.encryptor(D,0):function(Ae){return Ae}},Kt=k.__private__.getPageInfo=k.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[D].objId,pageNumber:D,pageContext:Ot[D]}},kt=k.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ae in Ot)if(Ot[Ae].objId===D)break;return Kt(Ae)},Br=k.__private__.getCurrentPageInfo=k.getCurrentPageInfo=function(){return{objId:Ot[he].objId,pageNumber:he,pageContext:Ot[he]}};k.addPage=function(){return K.apply(this,arguments),this},k.setPage=function(){return se.apply(this,arguments),We.call(this,tt[he]),this},k.insertPage=function(D){return this.addPage(),this.movePage(he,D),this},k.movePage=function(D,Ae){var Ce,Ue;if(D>Ae){Ce=tt[D],Ue=Ot[D];for(var He=D;He>Ae;He--)tt[He]=tt[He-1],Ot[He]=Ot[He-1];tt[Ae]=Ce,Ot[Ae]=Ue,this.setPage(Ae)}else if(D<Ae){Ce=tt[D],Ue=Ot[D];for(var Ye=D;Ye<Ae;Ye++)tt[Ye]=tt[Ye+1],Ot[Ye]=Ot[Ye+1];tt[Ae]=Ce,Ot[Ae]=Ue,this.setPage(Ae)}return this},k.deletePage=function(){return ge.apply(this,arguments),this},k.__private__.text=k.text=function(D,Ae,Ce,Ue,He){var Ye,st,wt,Ut,Wt,zt,Ar,Gr,Jr,fa=(Ue=Ue||{}).scope||this;if(typeof D=="number"&&typeof Ae=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var Ka=Ce;Ce=Ae,Ae=D,D=Ka}if(arguments[3]instanceof Dt?(V("The transform parameter of text() with a Matrix value"),Jr=He):(wt=arguments[4],Ut=arguments[5],kr(Ar=arguments[3])==="object"&&Ar!==null||(typeof wt=="string"&&(Ut=wt,wt=null),typeof Ar=="string"&&(Ut=Ar,Ar=null),typeof Ar=="number"&&(wt=Ar,Ar=null),Ue={flags:Ar,angle:wt,align:Ut})),isNaN(Ae)||isNaN(Ce)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return fa;var La="",Tn=!1,Ws=typeof Ue.lineHeightFactor=="number"?Ue.lineHeightFactor:ml,Ai=fa.internal.scaleFactor;function qu(Ur){return Ur=Ur.split("	").join(Array(Ue.TabLen||9).join(" ")),b(Ur,Ar)}function XA(Ur){for(var Qr,na=Ur.concat(),Ba=[],Mi=na.length;Mi--;)typeof(Qr=na.shift())=="string"?Ba.push(Qr):Array.isArray(Ur)&&(Qr.length===1||Qr[1]===void 0&&Qr[2]===void 0)?Ba.push(Qr[0]):Ba.push([Qr[0],Qr[1],Qr[2]]);return Ba}function KA(Ur,Qr){var na;if(typeof Ur=="string")na=Qr(Ur)[0];else if(Array.isArray(Ur)){for(var Ba,Mi,rd=Ur.concat(),Cc=[],$u=rd.length;$u--;)typeof(Ba=rd.shift())=="string"?Cc.push(Qr(Ba)[0]):Array.isArray(Ba)&&typeof Ba[0]=="string"&&(Mi=Qr(Ba[0],Ba[1],Ba[2]),Cc.push([Mi[0],Mi[1],Mi[2]]));na=Cc}return na}var mc=!1,WA=!0;if(typeof D=="string")mc=!0;else if(Array.isArray(D)){var YA=D.concat();st=[];for(var xc,Ma=YA.length;Ma--;)(typeof(xc=YA.shift())!="string"||Array.isArray(xc)&&typeof xc[0]!="string")&&(WA=!1);mc=WA}if(mc===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var yc=At/fa.internal.scaleFactor,bc=yc*(Ws-1);switch(Ue.baseline){case"bottom":Ce-=bc;break;case"top":Ce+=yc-bc;break;case"hanging":Ce+=yc-2*bc;break;case"middle":Ce+=yc/2-bc}if((zt=Ue.maxWidth||0)>0&&(typeof D=="string"?D=fa.splitTextToSize(D,zt):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Ur,Qr){return Ur.concat(fa.splitTextToSize(Qr,zt))},[]))),Ye={text:D,x:Ae,y:Ce,options:Ue,mutex:{pdfEscape:b,activeFontKey:Jt,fonts:yr,activeFontSize:At}},cr.publish("preProcessText",Ye),D=Ye.text,wt=(Ue=Ye.options).angle,!(Jr instanceof Dt)&&wt&&typeof wt=="number"){wt*=Math.PI/180,Ue.rotationDirection===0&&(wt=-wt),T===I.ADVANCED&&(wt=-wt);var vc=Math.cos(wt),$A=Math.sin(wt);Jr=new Dt(vc,$A,-$A,vc,0,0)}else wt&&wt instanceof Dt&&(Jr=wt);T!==I.ADVANCED||Jr||(Jr=un),(Wt=Ue.charSpace||gc)!==void 0&&(La+=G(J(Wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Gr=Ue.horizontalScale)!==void 0&&(La+=G(100*Gr)+` Tz
`),Ue.lang;var Cs=-1,Q0=Ue.renderingMode!==void 0?Ue.renderingMode:Ue.stroke,JA=fa.internal.getCurrentPageInfo().pageContext;switch(Q0){case 0:case!1:case"fill":Cs=0;break;case 1:case!0:case"stroke":Cs=1;break;case 2:case"fillThenStroke":Cs=2;break;case 3:case"invisible":Cs=3;break;case 4:case"fillAndAddForClipping":Cs=4;break;case 5:case"strokeAndAddPathForClipping":Cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cs=6;break;case 7:case"addToPathForClipping":Cs=7}var Xu=JA.usedRenderingMode!==void 0?JA.usedRenderingMode:-1;Cs!==-1?La+=Cs+` Tr
`:Xu!==-1&&(La+=`0 Tr
`),Cs!==-1&&(JA.usedRenderingMode=Cs),Ut=Ue.align||"left";var gn,wc=At*Ws,Ku=fa.internal.pageSize.getWidth(),Wu=yr[Jt];Wt=Ue.charSpace||gc,zt=Ue.maxWidth||0,Ar=Object.assign({autoencode:!0,noBOM:!0},Ue.flags);var fo=[],bl=function(Ur){return fa.getStringUnitWidth(Ur,{font:Wu,charSpace:Wt,fontSize:At,doKerning:!1})*At/Ai};if(Object.prototype.toString.call(D)==="[object Array]"){var js;st=XA(D),Ut!=="left"&&(gn=st.map(bl));var us,po=0;if(Ut==="right"){Ae-=gn[0],D=[],Ma=st.length;for(var Di=0;Di<Ma;Di++)Di===0?(us=ci(Ae),js=Qi(Ce)):(us=J(po-gn[Di]),js=-wc),D.push([st[Di],us,js]),po=gn[Di]}else if(Ut==="center"){Ae-=gn[0]/2,D=[],Ma=st.length;for(var Ti=0;Ti<Ma;Ti++)Ti===0?(us=ci(Ae),js=Qi(Ce)):(us=J((po-gn[Ti])/2),js=-wc),D.push([st[Ti],us,js]),po=gn[Ti]}else if(Ut==="left"){D=[],Ma=st.length;for(var kc=0;kc<Ma;kc++)D.push(st[kc])}else if(Ut==="justify"&&Wu.encoding==="Identity-H"){D=[],Ma=st.length,zt=zt!==0?zt:Ku;for(var Ri=0,sa=0;sa<Ma;sa++)if(js=sa===0?Qi(Ce):-wc,us=sa===0?ci(Ae):Ri,sa<Ma-1){var ZA=J((zt-gn[sa])/(st[sa].split(" ").length-1)),hs=st[sa].split(" ");D.push([hs[0]+" ",us,js]),Ri=0;for(var fn=1;fn<hs.length;fn++){var Nc=(bl(hs[fn-1]+" "+hs[fn])-bl(hs[fn]))*Ai+ZA;fn==hs.length-1?D.push([hs[fn],Nc,0]):D.push([hs[fn]+" ",Nc,0]),Ri-=Nc}}else D.push([st[sa],us,js]);D.push(["",Ri,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Ma=st.length,zt=zt!==0?zt:Ku,sa=0;sa<Ma;sa++)js=sa===0?Qi(Ce):-wc,us=sa===0?ci(Ae):0,sa<Ma-1?fo.push(G(J((zt-gn[sa])/(st[sa].split(" ").length-1)))):fo.push(0),D.push([st[sa],us,js])}}var Yu=typeof Ue.R2L=="boolean"?Ue.R2L:Et;Yu===!0&&(D=KA(D,function(Ur,Qr,na){return[Ur.split("").reverse().join(""),Qr,na]})),Ye={text:D,x:Ae,y:Ce,options:Ue,mutex:{pdfEscape:b,activeFontKey:Jt,fonts:yr,activeFontSize:At}},cr.publish("postProcessText",Ye),D=Ye.text,Tn=Ye.mutex.isHex||!1;var ed=yr[Jt].encoding;ed!=="WinAnsiEncoding"&&ed!=="StandardEncoding"||(D=KA(D,function(Ur,Qr,na){return[qu(Ur),Qr,na]})),st=XA(D),D=[];for(var vl,wl,mo,kl=0,Bc=1,Nl=Array.isArray(st[0])?Bc:kl,xo="",td=function(Ur,Qr,na){var Ba="";return na instanceof Dt?(na=typeof Ue.angle=="number"?Gs(na,new Dt(1,0,0,1,Ur,Qr)):Gs(new Dt(1,0,0,1,Ur,Qr),na),T===I.ADVANCED&&(na=Gs(new Dt(1,0,0,-1,0,0),na)),Ba=na.join(" ")+` Tm
`):Ba=G(Ur)+" "+G(Qr)+` Td
`,Ba},pn=0;pn<st.length;pn++){switch(xo="",Nl){case Bc:mo=(Tn?"<":"(")+st[pn][0]+(Tn?">":")"),vl=parseFloat(st[pn][1]),wl=parseFloat(st[pn][2]);break;case kl:mo=(Tn?"<":"(")+st[pn]+(Tn?">":")"),vl=ci(Ae),wl=Qi(Ce)}fo!==void 0&&fo[pn]!==void 0&&(xo=fo[pn]+` Tw
`),pn===0?D.push(xo+td(vl,wl,Jr)+mo):Nl===kl?D.push(xo+mo):Nl===Bc&&D.push(xo+td(vl,wl,Jr)+mo)}D=Nl===kl?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var mn=`BT
/`;return mn+=Jt+" "+At+` Tf
`,mn+=G(At*Ws)+` TL
`,mn+=xl+`
`,mn+=La,mn+=D,be(mn+="ET"),C[Jt]=!0,fa};var fr=k.__private__.clip=k.clip=function(D){return be(D==="evenodd"?"W*":"W"),this};k.clipEvenOdd=function(){return fr("evenodd")},k.__private__.discardPath=k.discardPath=function(){return be("n"),this};var _r=k.__private__.isValidStyle=function(D){var Ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(Ae=!0),Ae};k.__private__.setDefaultPathOperation=k.setDefaultPathOperation=function(D){return _r(D)&&(m=D),this};var ir=k.__private__.getStyle=k.getStyle=function(D){var Ae=m;switch(D){case"D":case"S":Ae="S";break;case"F":Ae="f";break;case"FD":case"DF":Ae="B";break;case"f":case"f*":case"B":case"B*":Ae=D}return Ae},rr=k.close=function(){return be("h"),this};k.stroke=function(){return be("S"),this},k.fill=function(D){return ar("f",D),this},k.fillEvenOdd=function(D){return ar("f*",D),this},k.fillStroke=function(D){return ar("B",D),this},k.fillStrokeEvenOdd=function(D){return ar("B*",D),this};var ar=function(D,Ae){kr(Ae)==="object"?Bs(Ae,D):be(D)},$r=function(D){D===null||T===I.ADVANCED&&D===void 0||(D=ir(D),be(D))};function ga(D,Ae,Ce,Ue,He){var Ye=new aA(Ae||this.boundingBox,Ce||this.xStep,Ue||this.yStep,this.gState,He||this.matrix);Ye.stream=this.stream;var st=D+"$$"+this.cloneIndex+++"$$";return qa(st,Ye),Ye}var Bs=function(D,Ae){var Ce=Ei[D.key],Ue=gr[Ce];if(Ue instanceof Ul)be("q"),be(Ui(Ae)),Ue.gState&&k.setGState(Ue.gState),be(D.matrix.toString()+" cm"),be("/"+Ce+" sh"),be("Q");else if(Ue instanceof aA){var He=new Dt(1,0,0,-1,0,go());D.matrix&&(He=He.multiply(D.matrix||un),Ce=ga.call(Ue,D.key,D.boundingBox,D.xStep,D.yStep,He).id),be("q"),be("/Pattern cs"),be("/"+Ce+" scn"),Ue.gState&&k.setGState(Ue.gState),be(Ae),be("Q")}},Ui=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},aa=k.moveTo=function(D,Ae){return be(G(J(D))+" "+G(le(Ae))+" m"),this},Ra=k.lineTo=function(D,Ae){return be(G(J(D))+" "+G(le(Ae))+" l"),this},li=k.curveTo=function(D,Ae,Ce,Ue,He,Ye){return be([G(J(D)),G(le(Ae)),G(J(Ce)),G(le(Ue)),G(J(He)),G(le(Ye)),"c"].join(" ")),this};k.__private__.line=k.line=function(D,Ae,Ce,Ue,He){if(isNaN(D)||isNaN(Ae)||isNaN(Ce)||isNaN(Ue)||!_r(He))throw new Error("Invalid arguments passed to jsPDF.line");return T===I.COMPAT?this.lines([[Ce-D,Ue-Ae]],D,Ae,[1,1],He||"S"):this.lines([[Ce-D,Ue-Ae]],D,Ae,[1,1]).stroke()},k.__private__.lines=k.lines=function(D,Ae,Ce,Ue,He,Ye){var st,wt,Ut,Wt,zt,Ar,Gr,Jr,fa,Ka,La,Tn;if(typeof D=="number"&&(Tn=Ce,Ce=Ae,Ae=D,D=Tn),Ue=Ue||[1,1],Ye=Ye||!1,isNaN(Ae)||isNaN(Ce)||!Array.isArray(D)||!Array.isArray(Ue)||!_r(He)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(aa(Ae,Ce),st=Ue[0],wt=Ue[1],Wt=D.length,Ka=Ae,La=Ce,Ut=0;Ut<Wt;Ut++)(zt=D[Ut]).length===2?(Ka=zt[0]*st+Ka,La=zt[1]*wt+La,Ra(Ka,La)):(Ar=zt[0]*st+Ka,Gr=zt[1]*wt+La,Jr=zt[2]*st+Ka,fa=zt[3]*wt+La,Ka=zt[4]*st+Ka,La=zt[5]*wt+La,li(Ar,Gr,Jr,fa,Ka,La));return Ye&&rr(),$r(He),this},k.path=function(D){for(var Ae=0;Ae<D.length;Ae++){var Ce=D[Ae],Ue=Ce.c;switch(Ce.op){case"m":aa(Ue[0],Ue[1]);break;case"l":Ra(Ue[0],Ue[1]);break;case"c":li.apply(this,Ue);break;case"h":rr()}}return this},k.__private__.rect=k.rect=function(D,Ae,Ce,Ue,He){if(isNaN(D)||isNaN(Ae)||isNaN(Ce)||isNaN(Ue)||!_r(He))throw new Error("Invalid arguments passed to jsPDF.rect");return T===I.COMPAT&&(Ue=-Ue),be([G(J(D)),G(le(Ae)),G(J(Ce)),G(J(Ue)),"re"].join(" ")),$r(He),this},k.__private__.triangle=k.triangle=function(D,Ae,Ce,Ue,He,Ye,st){if(isNaN(D)||isNaN(Ae)||isNaN(Ce)||isNaN(Ue)||isNaN(He)||isNaN(Ye)||!_r(st))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-D,Ue-Ae],[He-Ce,Ye-Ue],[D-He,Ae-Ye]],D,Ae,[1,1],st,!0),this},k.__private__.roundedRect=k.roundedRect=function(D,Ae,Ce,Ue,He,Ye,st){if(isNaN(D)||isNaN(Ae)||isNaN(Ce)||isNaN(Ue)||isNaN(He)||isNaN(Ye)||!_r(st))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var wt=4/3*(Math.SQRT2-1);return He=Math.min(He,.5*Ce),Ye=Math.min(Ye,.5*Ue),this.lines([[Ce-2*He,0],[He*wt,0,He,Ye-Ye*wt,He,Ye],[0,Ue-2*Ye],[0,Ye*wt,-He*wt,Ye,-He,Ye],[2*He-Ce,0],[-He*wt,0,-He,-Ye*wt,-He,-Ye],[0,2*Ye-Ue],[0,-Ye*wt,He*wt,-Ye,He,-Ye]],D+He,Ae,[1,1],st,!0),this},k.__private__.ellipse=k.ellipse=function(D,Ae,Ce,Ue,He){if(isNaN(D)||isNaN(Ae)||isNaN(Ce)||isNaN(Ue)||!_r(He))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*Ce,st=4/3*(Math.SQRT2-1)*Ue;return aa(D+Ce,Ae),li(D+Ce,Ae-st,D+Ye,Ae-Ue,D,Ae-Ue),li(D-Ye,Ae-Ue,D-Ce,Ae-st,D-Ce,Ae),li(D-Ce,Ae+st,D-Ye,Ae+Ue,D,Ae+Ue),li(D+Ye,Ae+Ue,D+Ce,Ae+st,D+Ce,Ae),$r(He),this},k.__private__.circle=k.circle=function(D,Ae,Ce,Ue){if(isNaN(D)||isNaN(Ae)||isNaN(Ce)||!_r(Ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,Ae,Ce,Ce,Ue)},k.setFont=function(D,Ae,Ce){return Ce&&(Ae=re(Ae,Ce)),Jt=Fe(D,Ae,{disableWarning:!1}),this};var E0=k.__private__.getFont=k.getFont=function(){return yr[Fe.apply(k,arguments)]};k.__private__.getFontList=k.getFontList=function(){var D,Ae,Ce={};for(D in Sr)if(Sr.hasOwnProperty(D))for(Ae in Ce[D]=[],Sr[D])Sr[D].hasOwnProperty(Ae)&&Ce[D].push(Ae);return Ce},k.addFont=function(D,Ae,Ce,Ue,He){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?He=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(Ce=re(Ce,Ue)),He=He||"Identity-H",_.call(this,D,Ae,Ce,He)};var ml,MA=e.lineWidth||.200025,hc=k.__private__.getLineWidth=k.getLineWidth=function(){return MA},Hu=k.__private__.setLineWidth=k.setLineWidth=function(D){return MA=D,be(G(J(D))+" w"),this};k.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(D,Ae){if(D=D||[],Ae=Ae||0,isNaN(Ae)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ce){return G(J(Ce))}).join(" "),Ae=G(J(Ae)),be("["+D+"] "+Ae+" d"),this};var Ou=k.__private__.getLineHeight=k.getLineHeight=function(){return At*ml};k.__private__.getLineHeight=k.getLineHeight=function(){return At*ml};var _u=k.__private__.setLineHeightFactor=k.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(ml=D),this},zu=k.__private__.getLineHeightFactor=k.getLineHeightFactor=function(){return ml};_u(e.lineHeight);var ci=k.__private__.getHorizontalCoordinate=function(D){return J(D)},Qi=k.__private__.getVerticalCoordinate=function(D){return T===I.ADVANCED?D:Ot[he].mediaBox.topRightY-Ot[he].mediaBox.bottomLeftY-J(D)},L0=k.__private__.getHorizontalCoordinateString=k.getHorizontalCoordinateString=function(D){return G(ci(D))},ho=k.__private__.getVerticalCoordinateString=k.getVerticalCoordinateString=function(D){return G(Qi(D))},Dn=e.strokeColor||"0 G";k.__private__.getStrokeColor=k.getDrawColor=function(){return Xa(Dn)},k.__private__.setStrokeColor=k.setDrawColor=function(D,Ae,Ce,Ue){return Dn=Xs({ch1:D,ch2:Ae,ch3:Ce,ch4:Ue,pdfColorType:"draw",precision:2}),be(Dn),this};var HA=e.fillColor||"0 g";k.__private__.getFillColor=k.getFillColor=function(){return Xa(HA)},k.__private__.setFillColor=k.setFillColor=function(D,Ae,Ce,Ue){return HA=Xs({ch1:D,ch2:Ae,ch3:Ce,ch4:Ue,pdfColorType:"fill",precision:2}),be(HA),this};var xl=e.textColor||"0 g",I0=k.__private__.getTextColor=k.getTextColor=function(){return Xa(xl)};k.__private__.setTextColor=k.setTextColor=function(D,Ae,Ce,Ue){return xl=Xs({ch1:D,ch2:Ae,ch3:Ce,ch4:Ue,pdfColorType:"text",precision:3}),this};var gc=e.charSpace,P0=k.__private__.getCharSpace=k.getCharSpace=function(){return parseFloat(gc||0)};k.__private__.setCharSpace=k.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gc=D,this};var OA=0;k.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},k.__private__.setLineCap=k.setLineCap=function(D){var Ae=k.CapJoinStyles[D];if(Ae===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return OA=Ae,be(Ae+" J"),this};var _A=0;k.__private__.setLineJoin=k.setLineJoin=function(D){var Ae=k.CapJoinStyles[D];if(Ae===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _A=Ae,be(Ae+" j"),this},k.__private__.setLineMiterLimit=k.__private__.setMiterLimit=k.setLineMiterLimit=k.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return be(G(J(D))+" M"),this},k.GState=yf,k.setGState=function(D){(D=typeof D=="string"?Rr[_s[D]]:Vu(null,D)).equals(Qn)||(be("/"+D.id+" gs"),Qn=D)};var Vu=function(D,Ae){if(!D||!_s[D]){var Ce=!1;for(var Ue in Rr)if(Rr.hasOwnProperty(Ue)&&Rr[Ue].equals(Ae)){Ce=!0;break}if(Ce)Ae=Rr[Ue];else{var He="GS"+(Object.keys(Rr).length+1).toString(10);Rr[He]=Ae,Ae.id=He}return D&&(_s[D]=Ae.id),cr.publish("addGState",Ae),Ae}};k.addGState=function(D,Ae){return Vu(D,Ae),this},k.saveGraphicsState=function(){return be("q"),dn.push({key:Jt,size:At,color:xl}),this},k.restoreGraphicsState=function(){be("Q");var D=dn.pop();return Jt=D.key,At=D.size,xl=D.color,Qn=null,this},k.setCurrentTransformationMatrix=function(D){return be(D.toString()+" cm"),this},k.comment=function(D){return be("#"+D),this};var fc=function(D,Ae){var Ce=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(Ye){isNaN(Ye)||(Ce=parseFloat(Ye))}});var Ue=Ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ue},set:function(Ye){isNaN(Ye)||(Ue=parseFloat(Ye))}});var He="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return He},set:function(Ye){He=Ye.toString()}}),this},zA=function(D,Ae,Ce,Ue){fc.call(this,D,Ae),this.type="rect";var He=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return He},set:function(st){isNaN(st)||(He=parseFloat(st))}});var Ye=Ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(st){isNaN(st)||(Ye=parseFloat(st))}}),this},VA=function(){this.page=br,this.currentPage=he,this.pages=tt.slice(0),this.pagesContext=Ot.slice(0),this.x=wa,this.y=lr,this.matrix=ks,this.width=yl(he),this.height=go(he),this.outputDestination=lt,this.id="",this.objectNumber=-1};VA.prototype.restore=function(){br=this.page,he=this.currentPage,Ot=this.pagesContext,tt=this.pages,wa=this.x,lr=this.y,ks=this.matrix,GA(he,this.width),qA(he,this.height),lt=this.outputDestination};var Gu=function(D,Ae,Ce,Ue,He){Vs.push(new VA),br=he=0,tt=[],wa=D,lr=Ae,ks=He,Q([Ce,Ue])},U0=function(D){if(zs[D])Vs.pop().restore();else{var Ae=new VA,Ce="Xo"+(Object.keys(ka).length+1).toString(10);Ae.id=Ce,zs[D]=Ce,ka[Ce]=Ae,cr.publish("addFormObject",Ae),Vs.pop().restore()}};for(var pc in k.beginFormObject=function(D,Ae,Ce,Ue,He){return Gu(D,Ae,Ce,Ue,He),this},k.endFormObject=function(D){return U0(D),this},k.doFormObject=function(D,Ae){var Ce=ka[zs[D]];return be("q"),be(Ae.toString()+" cm"),be("/"+Ce.id+" Do"),be("Q"),this},k.getFormObject=function(D){var Ae=ka[zs[D]];return{x:Ae.x,y:Ae.y,width:Ae.width,height:Ae.height,matrix:Ae.matrix}},k.save=function(D,Ae){return D=D||"generated.pdf",(Ae=Ae||{}).returnPromise=Ae.returnPromise||!1,Ae.returnPromise===!1?(Il(ft(ot()),D),typeof Il.unload=="function"&&Ht.setTimeout&&setTimeout(Il.unload,911),this):new Promise(function(Ce,Ue){try{var He=Il(ft(ot()),D);typeof Il.unload=="function"&&Ht.setTimeout&&setTimeout(Il.unload,911),Ce(He)}catch(Ye){Ue(Ye.message)}})},Mt.API)Mt.API.hasOwnProperty(pc)&&(pc==="events"&&Mt.API.events.length?function(D,Ae){var Ce,Ue,He;for(He=Ae.length-1;He!==-1;He--)Ce=Ae[He][0],Ue=Ae[He][1],D.subscribe.apply(D,[Ce].concat(typeof Ue=="function"?[Ue]:Ue))}(cr,Mt.API.events):k[pc]=Mt.API[pc]);var yl=k.getPageWidth=function(D){return(Ot[D=D||he].mediaBox.topRightX-Ot[D].mediaBox.bottomLeftX)/xt},GA=k.setPageWidth=function(D,Ae){Ot[D].mediaBox.topRightX=Ae*xt+Ot[D].mediaBox.bottomLeftX},go=k.getPageHeight=function(D){return(Ot[D=D||he].mediaBox.topRightY-Ot[D].mediaBox.bottomLeftY)/xt},qA=k.setPageHeight=function(D,Ae){Ot[D].mediaBox.topRightY=Ae*xt+Ot[D].mediaBox.bottomLeftY};return k.internal={pdfEscape:b,getStyle:ir,getFont:E0,getFontSize:ut,getCharSpace:P0,getTextColor:I0,getLineHeight:Ou,getLineHeightFactor:zu,getLineWidth:hc,write:yt,getHorizontalCoordinate:ci,getVerticalCoordinate:Qi,getCoordinateString:L0,getVerticalCoordinateString:ho,collections:{},newObject:ra,newAdditionalObject:ii,newObjectDeferred:Yr,newObjectDeferredBegin:ds,getFilters:Ks,putStream:Ns,events:cr,scaleFactor:xt,pageSize:{getWidth:function(){return yl(he)},setWidth:function(D){GA(he,D)},getHeight:function(){return go(he)},setHeight:function(D){qA(he,D)}},encryptionOptions:v,encryption:Ft,getEncryptor:Pt,output:vt,getNumberOfPages:me,pages:tt,out:be,f2:ne,f3:$,getPageInfo:Kt,getPageInfoByObjId:kt,getCurrentPageInfo:Br,getPDFVersion:F,Point:fc,Rectangle:zA,Matrix:Dt,hasHotfix:It},Object.defineProperty(k.internal.pageSize,"width",{get:function(){return yl(he)},set:function(D){GA(he,D)},enumerable:!0,configurable:!0}),Object.defineProperty(k.internal.pageSize,"height",{get:function(){return go(he)},set:function(D){qA(he,D)},enumerable:!0,configurable:!0}),Z.call(k,nt),Jt="F1",K(o,a),cr.publish("initialized"),k}Oc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Oc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Oc.prototype.hexToBytes=function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(String.fromCharCode(parseInt(e.substr(a,2),16)));return t.join("")},Oc.prototype.processOwnerPassword=function(e,t){return Bx(Nx(t).substr(0,5),e)},Oc.prototype.encryptor=function(e,t){var a=Nx(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return Bx(a,s)}},yf.prototype.equals=function(e){var t,a="id,objectNumber,equals";if(!e||kr(e)!==kr(this))return!1;var s=0;for(t in this)if(!(a.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&a.indexOf(t)<0&&s--;return s===0},Mt.API={events:[]},Mt.version="3.0.1";var ea=Mt.API,Ab=1,dc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ic=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vt=function(e){return e.toFixed(2)},So=function(e){return e.toFixed(5)};ea.__acroform__={};var Os=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},zw=function(e){return e*Ab},pi=function(e){var t=new $B,a=St.internal.getHeight(e)||0,s=St.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Vt(s)),Number(Vt(a))],t},DL=ea.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},TL=ea.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},RL=ea.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Aa=ea.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return RL(e,t-1)},da=ea.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return DL(e,t-1)},ua=ea.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return TL(e,t-1)},ML=ea.__acroform__.calculateCoordinates=function(e,t){var a=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,o=e[0],l=e[1],d=e[2],g=e[3],f={};return f.lowerLeft_X=a(o)||0,f.lowerLeft_Y=s(l+g)||0,f.upperRight_X=a(o+d)||0,f.upperRight_Y=s(l)||0,[Number(Vt(f.lowerLeft_X)),Number(Vt(f.lowerLeft_Y)),Number(Vt(f.upperRight_X)),Number(Vt(f.upperRight_Y))]},HL=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],a=e._V||e.DV,s=Cx(e,a),o=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+o+" "+Vt(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=pi(e);return l.scope=e.scope,l.stream=t.join(`
`),l}},Cx=function(e,t){var a=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},o=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");o=e.multiline?o.map(function($){return $.split(`
`)}):o.map(function($){return[$]});var l=a,d=St.internal.getHeight(e)||0;d=d<0?-d:d;var g=St.internal.getWidth(e)||0;g=g<0?-g:g;var f=function($,J,oe){if($+1<o.length){var le=J+" "+o[$+1][0];return Mh(le,e,oe).width<=g-4}return!1};l++;e:for(;l>0;){t="",l--;var m,v,N=Mh("3",e,l).height,C=e.multiline?d-l:(d-N)/2,k=C+=2,U=0,F=0,O=0;if(l<=0){t=`(...) Tj
`,t+="% Width of Text: "+Mh(t,e,l=12).width+", FieldWidth:"+g+`
`;break}for(var L="",I=0,T=0;T<o.length;T++)if(o.hasOwnProperty(T)){var q=!1;if(o[T].length!==1&&O!==o[T].length-1){if((N+2)*(I+2)+2>d)continue e;L+=o[T][O],q=!0,F=T,T--}else{L=(L+=o[T][O]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var M=parseInt(T),re=f(M,L,l),G=T>=o.length-1;if(re&&!G){L+=" ",O=0;continue}if(re||G){if(G)F=M;else if(e.multiline&&(N+2)*(I+2)+2>d)continue e}else{if(!e.multiline||(N+2)*(I+2)+2>d)continue e;F=M}}for(var V="",ue=U;ue<=F;ue++){var ne=o[ue];if(e.multiline){if(ue===F){V+=ne[O]+" ",O=(O+1)%ne.length;continue}if(ue===U){V+=ne[ne.length-1]+" ";continue}}V+=ne[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,v=Mh(V,e,l).width,e.textAlign){case"right":m=g-v-2;break;case"center":m=(g-v)/2;break;case"left":default:m=2}t+=Vt(m)+" "+Vt(k)+` Td
`,t+="("+dc(V)+`) Tj
`,t+=-Vt(m)+` 0 Td
`,k=-(l+2),v=0,U=q?F:F+1,I++,L=""}break}return s.text=t,s.fontSize=l,s},Mh=function(e,t,a){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),o=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:o}},OL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_L=function(e,t){var a={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===a.type&&s.object===a.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(a)},zL=function(e,t){for(var a in e)if(e.hasOwnProperty(a)){var s=a,o=e[a];t.internal.newObjectDeferredBegin(o.objId,!0),kr(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete e[s]}},VL=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ti.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(OL)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ab=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new JB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];l.objId=void 0,l.hasAnnotation&&_L(l,a)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(a){(function(s,o){var l=!s;for(var d in s||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(d)){var g=s[d],f=[],m=g.Rect;if(g.Rect&&(g.Rect=ML(g.Rect,o)),o.internal.newObjectDeferredBegin(g.objId,!0),g.DA=St.createDefaultAppearanceStream(g),kr(g)==="object"&&typeof g.getKeyValueListForStream=="function"&&(f=g.getKeyValueListForStream()),g.Rect=m,g.hasAppearanceStream&&!g.appearanceStreamContent){var v=HL(g);f.push({key:"AP",value:"<</N "+v+">>"}),o.internal.acroformPlugin.xForms.push(v)}if(g.appearanceStreamContent){var N="";for(var C in g.appearanceStreamContent)if(g.appearanceStreamContent.hasOwnProperty(C)){var k=g.appearanceStreamContent[C];if(N+="/"+C+" ",N+="<<",Object.keys(k).length>=1||Array.isArray(k)){for(var d in k)if(k.hasOwnProperty(d)){var U=k[d];typeof U=="function"&&(U=U.call(o,g)),N+="/"+d+" "+U+" ",o.internal.acroformPlugin.xForms.indexOf(U)>=0||o.internal.acroformPlugin.xForms.push(U)}}else typeof(U=k)=="function"&&(U=U.call(o,g)),N+="/"+d+" "+U,o.internal.acroformPlugin.xForms.indexOf(U)>=0||o.internal.acroformPlugin.xForms.push(U);N+=">>"}f.push({key:"AP",value:`<<
`+N+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:g.objId}),o.internal.out("endobj")}l&&zL(o.internal.acroformPlugin.xForms,o)})(a,e)}),e.internal.acroformPlugin.isInitialized=!0}},YB=ea.__acroform__.arrayToPdfArray=function(e,t,a){var s=function(d){return d};if(Array.isArray(e)){for(var o="[",l=0;l<e.length;l++)switch(l!==0&&(o+=" "),kr(e[l])){case"boolean":case"number":case"object":o+=e[l].toString();break;case"string":e[l].substr(0,1)!=="/"?(t!==void 0&&a&&(s=a.internal.getEncryptor(t)),o+="("+dc(s(e[l].toString()))+")"):o+=e[l].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Mp=function(e,t,a){var s=function(o){return o};return t!==void 0&&a&&(s=a.internal.getEncryptor(t)),(e=e||"").toString(),e="("+dc(s(e))+")"},yi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};yi.prototype.toString=function(){return this.objId+" 0 R"},yi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},yi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var a in t)if(Object.getOwnPropertyDescriptor(this,t[a]).configurable===!1){var s=t[a],o=this[s];o&&(Array.isArray(o)?e.push({key:s,value:YB(o,this.objId,this.scope)}):o instanceof yi?(o.scope=this.scope,e.push({key:s,value:o.objId+" 0 R"})):typeof o!="function"&&e.push({key:s,value:o}))}return e};var $B=function(){yi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){e=a.trim()},get:function(){return e||null}})};Os($B,yi);var JB=function(){yi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var a=function(s){return s};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+dc(a(e))+")"}},set:function(a){e=a}})};Os(JB,yi);var ti=function e(){yi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');t=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Aa(t,3)},set:function(L){L?this.F=da(t,3):this.F=ua(t,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');a=L}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(L){s=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(L){s[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(L){s[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(L){s[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(L){s[3]=L}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof bf)return;l="FieldObject"+e.FieldNum++}var L=function(I){return I};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+dc(L(l))+")"},set:function(L){l=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(L){l=L}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(L){d=L}});var g="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return g},set:function(L){g=L}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(L){f=L}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/Ab:m},set:function(L){m=L}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(L){v=L}});var N="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!N||this instanceof bf||this instanceof Xl))return Mp(N,this.objId,this.scope)},set:function(L){L=L.toString(),N=L}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof Da?C:Mp(C,this.objId,this.scope)},set:function(L){L=L.toString(),C=this instanceof Da?L:L.substr(0,1)==="("?Ic(L.substr(1,L.length-2)):Ic(L)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Da?Ic(C.substr(1,C.length-1)):C},set:function(L){L=L.toString(),C=this instanceof Da?"/"+L:L}});var k=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(k)return k},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof Da?k:Mp(k,this.objId,this.scope)},set:function(L){L=L.toString(),k=this instanceof Da?L:L.substr(0,1)==="("?Ic(L.substr(1,L.length-2)):Ic(L)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Da?Ic(k.substr(1,k.length-1)):k},set:function(L){L=L.toString(),k=this instanceof Da?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,F=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return F},set:function(L){L=!!L,F=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(L){U=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,1)},set:function(L){L?this.Ff=da(this.Ff,1):this.Ff=ua(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,2)},set:function(L){L?this.Ff=da(this.Ff,2):this.Ff=ua(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,3)},set:function(L){L?this.Ff=da(this.Ff,3):this.Ff=ua(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');O=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(O){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:O=2;break;case"center":case 1:O=1;break;case"left":case 0:default:O=0}}})};Os(ti,yi);var gA=function(){ti.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(a){e=a}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return YB(t,this.objId,this.scope)},set:function(a){var s,o;o=[],typeof(s=a)=="string"&&(o=function(l,d,g){g||(g=1);for(var f,m=[];f=d.exec(l);)m.push(f[g]);return m}(s,/\((.*?)\)/g)),t=o}}),this.getOptions=function(){return t},this.setOptions=function(a){t=a,this.sort&&t.sort()},this.addOption=function(a){a=(a=a||"").toString(),t.push(a),this.sort&&t.sort()},this.removeOption=function(a,s){for(s=s||!1,a=(a=a||"").toString();t.indexOf(a)!==-1&&(t.splice(t.indexOf(a),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,18)},set:function(a){a?this.Ff=da(this.Ff,18):this.Ff=ua(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=da(this.Ff,19):this.Ff=ua(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,20)},set:function(a){a?(this.Ff=da(this.Ff,20),t.sort()):this.Ff=ua(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,22)},set:function(a){a?this.Ff=da(this.Ff,22):this.Ff=ua(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,23)},set:function(a){a?this.Ff=da(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,27)},set:function(a){a?this.Ff=da(this.Ff,27):this.Ff=ua(this.Ff,27)}}),this.hasAppearanceStream=!1};Os(gA,ti);var fA=function(){gA.call(this),this.fontName="helvetica",this.combo=!1};Os(fA,gA);var pA=function(){fA.call(this),this.combo=!0};Os(pA,fA);var Bg=function(){pA.call(this),this.edit=!0};Os(Bg,pA);var Da=function(){ti.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,15)},set:function(a){a?this.Ff=da(this.Ff,15):this.Ff=ua(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,16)},set:function(a){a?this.Ff=da(this.Ff,16):this.Ff=ua(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,17)},set:function(a){a?this.Ff=da(this.Ff,17):this.Ff=ua(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,26)},set:function(a){a?this.Ff=da(this.Ff,26):this.Ff=ua(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,o=[];for(s in o.push("<<"),t)o.push("/"+s+" ("+dc(a(t[s]))+")");return o.push(">>"),o.join(`
`)}},set:function(a){kr(a)==="object"&&(t=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(a){typeof a=="string"&&(t.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}})};Os(Da,ti);var Cg=function(){Da.call(this),this.pushButton=!0};Os(Cg,Da);var mA=function(){Da.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Os(mA,Da);var bf=function(){var e,t;ti.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(o){e=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(o){t=o}});var a,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(g){return g};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var l,d=[];for(l in d.push("<<"),s)d.push("/"+l+" ("+dc(o(s[l]))+")");return d.push(">>"),d.join(`
`)},set:function(o){kr(o)==="object"&&(s=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(o){typeof o=="string"&&(s.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(o){a="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Os(bf,ti),mA.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var a=this.Kids[t];a.appearanceStreamContent=e.createAppearanceStream(a.optionName),a.caption=e.getCA()}},mA.prototype.createOption=function(e){var t=new bf;return t.Parent=this,t.optionName=e,this.Kids.push(t),GL.call(this.scope,t),t};var jg=function(){Da.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};Os(jg,Da);var Xl=function(){ti.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,13)},set:function(t){t?this.Ff=da(this.Ff,13):this.Ff=ua(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,21)},set:function(t){t?this.Ff=da(this.Ff,21):this.Ff=ua(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,23)},set:function(t){t?this.Ff=da(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,24)},set:function(t){t?this.Ff=da(this.Ff,24):this.Ff=ua(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,25)},set:function(t){t?this.Ff=da(this.Ff,25):this.Ff=ua(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,26)},set:function(t){t?this.Ff=da(this.Ff,26):this.Ff=ua(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Os(Xl,ti);var Sg=function(){Xl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Aa(this.Ff,14)},set:function(e){e?this.Ff=da(this.Ff,14):this.Ff=ua(this.Ff,14)}}),this.password=!0};Os(Sg,Xl);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=pi(e);t.scope=e.scope;var a=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),l=Cx(e,e.caption);return a.push("0.749023 g"),a.push("0 0 "+Vt(St.internal.getWidth(e))+" "+Vt(St.internal.getHeight(e))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+s+" "+Vt(l.fontSize)+" Tf "+o),a.push("BT"),a.push(l.text),a.push("ET"),a.push("Q"),a.push("EMC"),t.stream=a.join(`
`),t},YesNormal:function(e){var t=pi(e);t.scope=e.scope;var a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),o=[],l=St.internal.getHeight(e),d=St.internal.getWidth(e),g=Cx(e,e.caption);return o.push("1 g"),o.push("0 0 "+Vt(d)+" "+Vt(l)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Vt(d-1)+" "+Vt(l-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+a+" "+Vt(g.fontSize)+" Tf "+s),o.push(g.text),o.push("ET"),o.push("Q"),t.stream=o.join(`
`),t},OffPushDown:function(e){var t=pi(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Vt(St.internal.getWidth(e))+" "+Vt(St.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Circle.YesNormal,t.D[e]=St.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=pi(e);t.scope=e.scope;var a=[],s=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var o=St.internal.Bezier_C,l=Number((s*o).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+So(St.internal.getWidth(e)/2)+" "+So(St.internal.getHeight(e)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),a.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),a.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),a.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=pi(e);t.scope=e.scope;var a=[],s=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var o=Number((2*s).toFixed(5)),l=Number((o*St.internal.Bezier_C).toFixed(5)),d=Number((s*St.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+So(St.internal.getWidth(e)/2)+" "+So(St.internal.getHeight(e)/2)+" cm"),a.push(o+" 0 m"),a.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),a.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),a.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),a.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+So(St.internal.getWidth(e)/2)+" "+So(St.internal.getHeight(e)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+d+" "+d+" "+s+" 0 "+s+" c"),a.push("-"+d+" "+s+" -"+s+" "+d+" -"+s+" 0 c"),a.push("-"+s+" -"+d+" -"+d+" -"+s+" 0 -"+s+" c"),a.push(d+" -"+s+" "+s+" -"+d+" "+s+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=pi(e);t.scope=e.scope;var a=[],s=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var o=Number((2*s).toFixed(5)),l=Number((o*St.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+So(St.internal.getWidth(e)/2)+" "+So(St.internal.getHeight(e)/2)+" cm"),a.push(o+" 0 m"),a.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),a.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),a.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),a.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Cross.YesNormal,t.D[e]=St.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=pi(e);t.scope=e.scope;var a=[],s=St.internal.calculateCross(e);return a.push("q"),a.push("1 1 "+Vt(St.internal.getWidth(e)-2)+" "+Vt(St.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Vt(s.x1.x)+" "+Vt(s.x1.y)+" m"),a.push(Vt(s.x2.x)+" "+Vt(s.x2.y)+" l"),a.push(Vt(s.x4.x)+" "+Vt(s.x4.y)+" m"),a.push(Vt(s.x3.x)+" "+Vt(s.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=pi(e);t.scope=e.scope;var a=St.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+Vt(St.internal.getWidth(e))+" "+Vt(St.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Vt(St.internal.getWidth(e)-2)+" "+Vt(St.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(Vt(a.x1.x)+" "+Vt(a.x1.y)+" m"),s.push(Vt(a.x2.x)+" "+Vt(a.x2.y)+" l"),s.push(Vt(a.x4.x)+" "+Vt(a.x4.y)+" m"),s.push(Vt(a.x3.x)+" "+Vt(a.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=pi(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Vt(St.internal.getWidth(e))+" "+Vt(St.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+a}};St.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=St.internal.getWidth(e),a=St.internal.getHeight(e),s=Math.min(t,a);return{x1:{x:(t-s)/2,y:(a-s)/2+s},x2:{x:(t-s)/2+s,y:(a-s)/2},x3:{x:(t-s)/2,y:(a-s)/2},x4:{x:(t-s)/2+s,y:(a-s)/2+s}}}},St.internal.getWidth=function(e){var t=0;return kr(e)==="object"&&(t=zw(e.Rect[2])),t},St.internal.getHeight=function(e){var t=0;return kr(e)==="object"&&(t=zw(e.Rect[3])),t};var GL=ea.addField=function(e){if(VL(this,e),!(e instanceof ti))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ea.AcroFormChoiceField=gA,ea.AcroFormListBox=fA,ea.AcroFormComboBox=pA,ea.AcroFormEditBox=Bg,ea.AcroFormButton=Da,ea.AcroFormPushButton=Cg,ea.AcroFormRadioButton=mA,ea.AcroFormCheckBox=jg,ea.AcroFormTextField=Xl,ea.AcroFormPasswordField=Sg,ea.AcroFormAppearance=St,ea.AcroForm={ChoiceField:gA,ListBox:fA,ComboBox:pA,EditBox:Bg,Button:Da,PushButton:Cg,RadioButton:mA,CheckBox:jg,TextField:Xl,PasswordField:Sg,Appearance:St},Mt.AcroForm={ChoiceField:gA,ListBox:fA,ComboBox:pA,EditBox:Bg,Button:Da,PushButton:Cg,RadioButton:mA,CheckBox:jg,TextField:Xl,PasswordField:Sg,Appearance:St};function ZB(e){return e.reduce(function(t,a,s){return t[a]=s,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function($,J){var oe,le,ie,Y,we,fe=t;if((J=J||t)==="RGBA"||$.data!==void 0&&$.data instanceof Uint8ClampedArray&&"height"in $&&"width"in $)return"RGBA";if(re($))for(we in a)for(ie=a[we],oe=0;oe<ie.length;oe+=1){for(Y=!0,le=0;le<ie[oe].length;le+=1)if(ie[oe][le]!==void 0&&ie[oe][le]!==$[le]){Y=!1;break}if(Y===!0){fe=we;break}}else for(we in a)for(ie=a[we],oe=0;oe<ie.length;oe+=1){for(Y=!0,le=0;le<ie[oe].length;le+=1)if(ie[oe][le]!==void 0&&ie[oe][le]!==$.charCodeAt(le)){Y=!1;break}if(Y===!0){fe=we;break}}return fe===t&&J!==t&&(fe=J),fe},o=function $(J){for(var oe=this.internal.write,le=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);J.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:J.width}),Y.push({key:"Height",value:J.height}),J.colorSpace===O.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(J.palette.length/3-1)+" "+("sMask"in J&&J.sMask!==void 0?J.objectId+2:J.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+J.colorSpace}),J.colorSpace===O.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:J.bitsPerComponent}),"decodeParameters"in J&&J.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+J.decodeParameters+">>"}),"transparency"in J&&Array.isArray(J.transparency)){for(var we="",fe=0,je=J.transparency.length;fe<je;fe++)we+=J.transparency[fe]+" "+J.transparency[fe]+" ";Y.push({key:"Mask",value:"["+we+"]"})}J.sMask!==void 0&&Y.push({key:"SMask",value:J.objectId+1+" 0 R"});var Pe=J.filter!==void 0?["/"+J.filter]:void 0;if(le({data:J.data,additionalKeyValues:Y,alreadyAppliedFilters:Pe,objectId:J.objectId}),oe("endobj"),"sMask"in J&&J.sMask!==void 0){var Ve="/Predictor "+J.predictor+" /Colors 1 /BitsPerComponent "+J.bitsPerComponent+" /Columns "+J.width,de={width:J.width,height:J.height,colorSpace:"DeviceGray",bitsPerComponent:J.bitsPerComponent,decodeParameters:Ve,data:J.sMask};"filter"in J&&(de.filter=J.filter),$.call(this,de)}if(J.colorSpace===O.INDEXED){var he=this.internal.newObject();le({data:V(new Uint8Array(J.palette)),objectId:he}),oe("endobj")}},l=function(){var $=this.internal.collections.addImage_images;for(var J in $)o.call(this,$[J])},d=function(){var $,J=this.internal.collections.addImage_images,oe=this.internal.write;for(var le in J)oe("/I"+($=J[le]).index,$.objectId,"0","R")},g=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",d))},f=function(){var $=this.internal.collections.addImage_images;return g.call(this),$},m=function(){return Object.keys(this.internal.collections.addImage_images).length},v=function($){return typeof e["process"+$.toUpperCase()]=="function"},N=function($){return kr($)==="object"&&$.nodeType===1},C=function($,J){if($.nodeName==="IMG"&&$.hasAttribute("src")){var oe=""+$.getAttribute("src");if(oe.indexOf("data:image/")===0)return Yd(unescape(oe).split("base64,").pop());var le=e.loadFile(oe,!0);if(le!==void 0)return le}if($.nodeName==="CANVAS"){if($.width===0||$.height===0)throw new Error("Given canvas must have data. Canvas width: "+$.width+", height: "+$.height);var ie;switch(J){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;case"JPEG":case"JPG":default:ie="image/jpeg"}return Yd($.toDataURL(ie,1).split("base64,").pop())}},k=function($){var J=this.internal.collections.addImage_images;if(J){for(var oe in J)if($===J[oe].alias)return J[oe]}},U=function($,J,oe){return $||J||($=-96,J=-96),$<0&&($=-1*oe.width*72/$/this.internal.scaleFactor),J<0&&(J=-1*oe.height*72/J/this.internal.scaleFactor),$===0&&($=J*oe.width/oe.height),J===0&&(J=$*oe.height/oe.width),[$,J]},F=function($,J,oe,le,ie,Y){var we=U.call(this,oe,le,ie),fe=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString,Pe=f.call(this);if(oe=we[0],le=we[1],Pe[ie.index]=ie,Y){Y*=Math.PI/180;var Ve=Math.cos(Y),de=Math.sin(Y),he=function(Ee){return Ee.toFixed(4)},Ne=[he(Ve),he(de),he(-1*de),he(Ve),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,fe($),je(J+le),"cm"].join(" ")),this.internal.write(Ne.join(" ")),this.internal.write([fe(oe),"0","0",fe(le),"0","0","cm"].join(" "))):this.internal.write([fe(oe),"0","0",fe(le),fe($),je(J+le),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},O=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=e.__addimage__.sHashCode=function($){var J,oe,le=0;if(typeof $=="string")for(oe=$.length,J=0;J<oe;J++)le=(le<<5)-le+$.charCodeAt(J),le|=0;else if(re($))for(oe=$.byteLength/2,J=0;J<oe;J++)le=(le<<5)-le+$[J],le|=0;return le},T=e.__addimage__.validateStringAsBase64=function($){($=$||"").toString().trim();var J=!0;return $.length===0&&(J=!1),$.length%4!=0&&(J=!1),/^[A-Za-z0-9+/]+$/.test($.substr(0,$.length-2))===!1&&(J=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test($.substr(-2))===!1&&(J=!1),J},q=e.__addimage__.extractImageFromDataUrl=function($){if($==null||!($=$.trim()).startsWith("data:"))return null;var J=$.indexOf(",");return J<0?null:$.substring(0,J).trim().endsWith("base64")?$.substring(J+1):null},M=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function($){return M()&&$ instanceof ArrayBuffer};var re=e.__addimage__.isArrayBufferView=function($){return M()&&typeof Uint32Array<"u"&&($ instanceof Int8Array||$ instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&$ instanceof Uint8ClampedArray||$ instanceof Int16Array||$ instanceof Uint16Array||$ instanceof Int32Array||$ instanceof Uint32Array||$ instanceof Float32Array||$ instanceof Float64Array)},G=e.__addimage__.binaryStringToUint8Array=function($){for(var J=$.length,oe=new Uint8Array(J),le=0;le<J;le++)oe[le]=$.charCodeAt(le);return oe},V=e.__addimage__.arrayBufferToBinaryString=function($){for(var J="",oe=re($)?$:new Uint8Array($),le=0;le<oe.length;le+=8192)J+=String.fromCharCode.apply(null,oe.subarray(le,le+8192));return J};e.addImage=function(){var $,J,oe,le,ie,Y,we,fe,je;if(typeof arguments[1]=="number"?(J=t,oe=arguments[1],le=arguments[2],ie=arguments[3],Y=arguments[4],we=arguments[5],fe=arguments[6],je=arguments[7]):(J=arguments[1],oe=arguments[2],le=arguments[3],ie=arguments[4],Y=arguments[5],we=arguments[6],fe=arguments[7],je=arguments[8]),kr($=arguments[0])==="object"&&!N($)&&"imageData"in $){var Pe=$;$=Pe.imageData,J=Pe.format||J||t,oe=Pe.x||oe||0,le=Pe.y||le||0,ie=Pe.w||Pe.width||ie,Y=Pe.h||Pe.height||Y,we=Pe.alias||we,fe=Pe.compression||fe,je=Pe.rotation||Pe.angle||je}var Ve=this.internal.getFilters();if(fe===void 0&&Ve.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(oe)||isNaN(le))throw new Error("Invalid coordinates passed to jsPDF.addImage");g.call(this);var de=ue.call(this,$,J,we,fe);return F.call(this,oe,le,ie,Y,de,je),this};var ue=function($,J,oe,le){var ie,Y,we;if(typeof $=="string"&&s($)===t){$=unescape($);var fe=ne($,!1);(fe!==""||(fe=e.loadFile($,!0))!==void 0)&&($=fe)}if(N($)&&($=C($,J)),J=s($,J),!v(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(((we=oe)==null||we.length===0)&&(oe=function(je){return typeof je=="string"||re(je)?I(je):re(je.data)?I(je.data):null}($)),(ie=k.call(this,oe))||(M()&&($ instanceof Uint8Array||J==="RGBA"||(Y=$,$=G($))),ie=this["process"+J.toUpperCase()]($,m.call(this),oe,function(je){return je&&typeof je=="string"&&(je=je.toUpperCase()),je in e.image_compression?je:L.NONE}(le),Y)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},ne=e.__addimage__.convertBase64ToBinaryString=function($,J){J=typeof J!="boolean"||J;var oe,le="";if(typeof $=="string"){var ie;oe=(ie=q($))!==null&&ie!==void 0?ie:$;try{le=Yd(oe)}catch(Y){if(J)throw T(oe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};e.getImageProperties=function($){var J,oe,le="";if(N($)&&($=C($)),typeof $=="string"&&s($)===t&&((le=ne($,!1))===""&&(le=e.loadFile($)||""),$=le),oe=s($),!v(oe))throw new Error("addImage does not support files of type '"+oe+"', please ensure that a plugin for '"+oe+"' support is added.");if(!M()||$ instanceof Uint8Array||($=G($)),!(J=this["process"+oe.toUpperCase()]($)))throw new Error("An unknown error occurred whilst processing the image");return J.fileType=oe,J}})(Mt.API),function(e){var t=function(a){if(a!==void 0&&a!="")return!0};Mt.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(a){for(var s,o,l,d=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(a.objId),m=a.pageContext.annotations,v=!1,N=0;N<m.length&&!v;N++)switch((s=m[N]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var C=0;C<m.length;C++){s=m[C];var k=this.internal.pdfEscape,U=this.internal.getEncryptor(a.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var F=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(F.objId),I=s.title||"Note";l="<</Type /Annot /Subtype /Text "+(o="/Rect ["+d(s.bounds.x)+" "+g(s.bounds.y+s.bounds.h)+" "+d(s.bounds.x+s.bounds.w)+" "+g(s.bounds.y)+"] ")+"/Contents ("+k(L(s.contents))+")",l+=" /Popup "+O.objId+" 0 R",l+=" /P "+f.objId+" 0 R",l+=" /T ("+k(L(I))+") >>",F.content=l;var T=F.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+d(s.bounds.x+30)+" "+g(s.bounds.y+s.bounds.h)+" "+d(s.bounds.x+s.bounds.w+30)+" "+g(s.bounds.y)+"] ")+" /Parent "+T,s.open&&(l+=" /Open true"),l+=" >>",O.content=l,this.internal.write(F.objId,"0 R",O.objId,"0 R");break;case"freetext":o="/Rect ["+d(s.bounds.x)+" "+g(s.bounds.y)+" "+d(s.bounds.x+s.bounds.w)+" "+g(s.bounds.y+s.bounds.h)+"] ";var q=s.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+k(U(s.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(s.options.name){var M=this.annotations._nameMap[s.options.name];s.options.pageNumber=M.page,s.options.top=M.y}else s.options.top||(s.options.top=0);if(o="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",l="",s.options.url)l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+k(U(s.options.url))+") >>";else if(s.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,l+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var re=g(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),l+=" /XYZ "+s.options.left+" "+re+" "+s.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),e.createAnnotation=function(a){var s=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":s.pageContext.annotations.push(a)}},e.link=function(a,s,o,l,d){var g=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;g.pageContext.annotations.push({finalBounds:{x:f(a),y:m(s),w:f(a+o),h:m(s+l)},options:d,type:"link"})},e.textWithLink=function(a,s,o,l){var d,g,f=this.getTextWidth(a),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){g=l.maxWidth;var v=this.splitTextToSize(a,g).length;d=Math.ceil(m*v)}else g=f,d=m;return this.text(a,s,o,l),o+=.2*m,l.align==="center"&&(s-=f/2),l.align==="right"&&(s-=f),this.link(s,o-m,g,d,l),f},e.getTextWidth=function(a){var s=this.internal.getFontSize();return this.getStringUnitWidth(a)*s/this.internal.scaleFactor}}(Mt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];e.__arabicParser__={};var l=e.__arabicParser__.isInArabicSubstitutionA=function(F){return t[F.charCodeAt(0)]!==void 0},d=e.__arabicParser__.isArabicLetter=function(F){return typeof F=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(F)},g=e.__arabicParser__.isArabicEndLetter=function(F){return d(F)&&l(F)&&t[F.charCodeAt(0)].length<=2},f=e.__arabicParser__.isArabicAlfLetter=function(F){return d(F)&&o.indexOf(F.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(F){return d(F)&&l(F)&&t[F.charCodeAt(0)].length>=1};var m=e.__arabicParser__.arabicLetterHasFinalForm=function(F){return d(F)&&l(F)&&t[F.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(F){return d(F)&&l(F)&&t[F.charCodeAt(0)].length>=3};var v=e.__arabicParser__.arabicLetterHasMedialForm=function(F){return d(F)&&l(F)&&t[F.charCodeAt(0)].length==4},N=e.__arabicParser__.resolveLigatures=function(F){var O=0,L=a,I="",T=0;for(O=0;O<F.length;O+=1)L[F.charCodeAt(O)]!==void 0?(T++,typeof(L=L[F.charCodeAt(O)])=="number"&&(I+=String.fromCharCode(L),L=a,T=0),O===F.length-1&&(L=a,I+=F.charAt(O-(T-1)),O-=T-1,T=0)):(L=a,I+=F.charAt(O-T),O-=T,T=0);return I};e.__arabicParser__.isArabicDiacritic=function(F){return F!==void 0&&s[F.charCodeAt(0)]!==void 0};var C=e.__arabicParser__.getCorrectForm=function(F,O,L){return d(F)?l(F)===!1?-1:!m(F)||!d(O)&&!d(L)||!d(L)&&g(O)||g(F)&&!d(O)||g(F)&&f(O)||g(F)&&g(O)?0:v(F)&&d(O)&&!g(O)&&d(L)&&m(L)?3:g(F)||!d(L)?1:2:-1},k=function(F){var O=0,L=0,I=0,T="",q="",M="",re=(F=F||"").split("\\s+"),G=[];for(O=0;O<re.length;O+=1){for(G.push(""),L=0;L<re[O].length;L+=1)T=re[O][L],q=re[O][L-1],M=re[O][L+1],d(T)?(I=C(T,q,M),G[O]+=I!==-1?String.fromCharCode(t[T.charCodeAt(0)][I]):T):G[O]+=T;G[O]=N(G[O])}return G.join(" ")},U=e.__arabicParser__.processArabic=e.processArabic=function(){var F,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(O)){var I=0;for(L=[],I=0;I<O.length;I+=1)Array.isArray(O[I])?L.push([k(O[I][0]),O[I][1],O[I][2]]):L.push([k(O[I])]);F=L}else F=k(O);return typeof arguments[0]=="string"?F:(arguments[0].text=F,arguments[0])};e.events.push(["preProcessText",U])}(Mt.API),Mt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(g){a=g}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(g){s=isNaN(g)||Number.isInteger(g)===!1||g<0?150:g,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(g){o=isNaN(g)||Number.isInteger(g)===!1||g<0?300:g,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(g){l=g}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(g){d=g}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(a,s){var o;if((a=a||"2d")!=="2d")return null;for(o in s)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=s[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Mt.API),function(e){var t={left:0,top:0,bottom:0,right:0},a=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(F){f=F}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(F){m=F}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(F){v=F}});var N=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return N},set:function(F){N=F}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(F){C=F}});var k=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return k},set:function(F){k=F}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(F){U=F}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(f){return s.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},e.getTextDimensions=function(f,m){s.call(this);var v=(m=m||{}).fontSize||this.getFontSize(),N=m.font||this.getFont(),C=m.scaleFactor||this.internal.scaleFactor,k=0,U=0,F=0,O=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var L=m.maxWidth;L>0?typeof f=="string"?f=this.splitTextToSize(f,L):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(T,q){return T.concat(O.splitTextToSize(q,L))},[])):f=Array.isArray(f)?f:[f];for(var I=0;I<f.length;I++)k<(F=this.getStringUnitWidth(f[I],{font:N})*v)&&(k=F);return k!==0&&(U=f.length),{w:k/=C,h:Math.max((U*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/C,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new l(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=e.cell=function(){var f;f=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var m=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,N=this.internal.__cell__.margins||t,C=this.internal.__cell__.tableHeaderRow,k=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===f.lineNumber?(f.x=(m.x||0)+(m.width||0),f.y=m.y||0):m.y+m.height+f.height+N.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=N.top,k&&C&&(this.printHeaderRow(f.lineNumber,!0),f.y+=C[0].height)):f.y=m.y+m.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,a===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};e.table=function(f,m,v,N,C){if(s.call(this),!v)throw new Error("No data for PDF table.");var k,U,F,O,L=[],I=[],T=[],q={},M={},re=[],G=[],V=(C=C||{}).autoSize||!1,ue=C.printHeaders!==!1,ne=C.css&&C.css["font-size"]!==void 0?16*C.css["font-size"]:C.fontSize||12,$=C.margins||Object.assign({width:this.getPageWidth()},t),J=typeof C.padding=="number"?C.padding:3,oe=C.headerBackgroundColor||"#c8c8c8",le=C.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=ue,this.internal.__cell__.margins=$,this.internal.__cell__.table_font_size=ne,this.internal.__cell__.padding=J,this.internal.__cell__.headerBackgroundColor=oe,this.internal.__cell__.headerTextColor=le,this.setFontSize(ne),N==null)I=L=Object.keys(v[0]),T=L.map(function(){return"left"});else if(Array.isArray(N)&&kr(N[0])==="object")for(L=N.map(function(Pe){return Pe.name}),I=N.map(function(Pe){return Pe.prompt||Pe.name||""}),T=N.map(function(Pe){return Pe.align||"left"}),k=0;k<N.length;k+=1)M[N[k].name]=N[k].width*(19.049976/25.4);else Array.isArray(N)&&typeof N[0]=="string"&&(I=L=N,T=L.map(function(){return"left"}));if(V||Array.isArray(N)&&typeof N[0]=="string")for(k=0;k<L.length;k+=1){for(q[O=L[k]]=v.map(function(Pe){return Pe[O]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(I[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=q[O],this.setFont(void 0,"normal"),F=0;F<U.length;F+=1)re.push(this.getTextDimensions(U[F],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[O]=Math.max.apply(null,re)+J+J,re=[]}if(ue){var ie={};for(k=0;k<L.length;k+=1)ie[L[k]]={},ie[L[k]].text=I[k],ie[L[k]].align=T[k];var Y=g.call(this,ie,M);G=L.map(function(Pe){return new l(f,m,M[Pe],Y,ie[Pe].text,void 0,ie[Pe].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var we=N.reduce(function(Pe,Ve){return Pe[Ve.name]=Ve.align,Pe},{});for(k=0;k<v.length;k+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:k,data:v[k]},this);var fe=g.call(this,v[k],M);for(F=0;F<L.length;F+=1){var je=v[k][L[F]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:k,col:F,data:je},this),d.call(this,new l(f,m,M[L[F]],fe,je,k+2,we[L[F]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=m,this};var g=function(f,m){var v=this.internal.__cell__.padding,N=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(f).map(function(k){var U=f[k];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,m[k]-v-v)},this).map(function(k){return this.getLineHeightFactor()*k.length*N/C+v+v},this).reduce(function(k,U){return Math.max(k,U)},0)};e.setTableHeaderRow=function(f){s.call(this),this.internal.__cell__.tableHeaderRow=f},e.printHeaderRow=function(f,m){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var N=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(N[0],N[1],N[2],N[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],k=0;k<this.internal.__cell__.tableHeaderRow.length;k+=1){v=this.internal.__cell__.tableHeaderRow[k].clone(),m&&(v.y=this.internal.__cell__.margins.top||0,C.push(v)),v.lineNumber=f;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,v),this.setTextColor(U)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),a=!1}}(Mt.API);var e5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},t5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],jx=ZB(t5),r5=[100,200,300,400,500,600,700,800,900],qL=ZB(r5);function Sx(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),a=function(l){return e5[l=l||"normal"]?l:"normal"}(e.style),s=function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}}(e.weight),o=function(l){return typeof jx[l=l||"normal"]=="number"?l:"normal"}(e.stretch);return{family:t,style:a,weight:s,stretch:o,src:e.src||[],ref:e.ref||{name:t,style:[o,a,s].join(" ")}}}function Vw(e,t,a,s){var o;for(o=a;o>=0&&o<t.length;o+=s)if(e[t[o]])return e[t[o]];for(o=a;o>=0&&o<t.length;o-=s)if(e[t[o]])return e[t[o]]}var XL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Gw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function KL(e,t,a){for(var s=(a=a||{}).defaultFontFamily||"times",o=Object.assign({},XL,a.genericFontFamilies||{}),l=null,d=null,g=0;g<t.length;++g)if(o[(l=Sx(t[g])).family]&&(l.family=o[l.family]),e.hasOwnProperty(l.family)){d=e[l.family];break}if(!(d=d||e[s]))throw new Error("Could not find a font-family for the rule '"+qw(l)+"' and default family '"+s+"'.");if(d=function(f,m){if(m[f])return m[f];var v=jx[f],N=v<=jx.normal?-1:1,C=Vw(m,t5,v,N);if(!C)throw new Error("Could not find a matching font-stretch value for "+f);return C}(l.stretch,d),d=function(f,m){if(m[f])return m[f];for(var v=e5[f],N=0;N<v.length;++N)if(m[v[N]])return m[v[N]];throw new Error("Could not find a matching font-style for "+f)}(l.style,d),!(d=function(f,m){if(m[f])return m[f];if(f===400&&m[500])return m[500];if(f===500&&m[400])return m[400];var v=qL[f],N=Vw(m,r5,v,f<400?-1:1);if(!N)throw new Error("Could not find a matching font-weight for value "+f);return N}(l.weight,d)))throw new Error("Failed to resolve a font for the rule '"+qw(l)+"'.");return d}function Xw(e){return e.trimLeft()}function WL(e,t){for(var a=0;a<e.length;){if(e.charAt(a)===t)return[e.substring(0,a),e.substring(a+1)];a+=1}return null}function YL(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Hh,Kw,Ww,Hp=["times"];(function(e){var t,a,s,o,l,d,g,f,m,v=function(de){return de=de||{},this.isStrokeTransparent=de.isStrokeTransparent||!1,this.strokeOpacity=de.strokeOpacity||1,this.strokeStyle=de.strokeStyle||"#000000",this.fillStyle=de.fillStyle||"#000000",this.isFillTransparent=de.isFillTransparent||!1,this.fillOpacity=de.fillOpacity||1,this.font=de.font||"10px sans-serif",this.textBaseline=de.textBaseline||"alphabetic",this.textAlign=de.textAlign||"left",this.lineWidth=de.lineWidth||1,this.lineJoin=de.lineJoin||"miter",this.lineCap=de.lineCap||"butt",this.path=de.path||[],this.transform=de.transform!==void 0?de.transform.clone():new f,this.globalCompositeOperation=de.globalCompositeOperation||"normal",this.globalAlpha=de.globalAlpha||1,this.clip_path=de.clip_path||[],this.currentPoint=de.currentPoint||new d,this.miterLimit=de.miterLimit||10,this.lastPoint=de.lastPoint||new d,this.lineDashOffset=de.lineDashOffset||0,this.lineDash=de.lineDash||[],this.margin=de.margin||[0,0,0,0],this.prevPageLastElemOffset=de.prevPageLastElemOffset||0,this.ignoreClearRect=typeof de.ignoreClearRect!="boolean"||de.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new N(this),t=this.internal.f2,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,d=this.internal.Point,g=this.internal.Rectangle,f=this.internal.Matrix,m=new v}]);var N=function(de){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var he=de;Object.defineProperty(this,"pdf",{get:function(){return he}});var Ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ne},set:function(We){Ne=!!We}});var Ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ee},set:function(We){Ee=!!We}});var Se=0;Object.defineProperty(this,"posX",{get:function(){return Se},set:function(We){isNaN(We)||(Se=We)}});var Ie=0;Object.defineProperty(this,"posY",{get:function(){return Ie},set:function(We){isNaN(We)||(Ie=We)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(We){var be;typeof We=="number"?be=[We,We,We,We]:((be=new Array(4))[0]=We[0],be[1]=We.length>=2?We[1]:be[0],be[2]=We.length>=3?We[2]:be[0],be[3]=We.length>=4?We[3]:be[1]),m.margin=be}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(We){ke=We}});var Qe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Qe},set:function(We){Qe=We}});var Ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ke},set:function(We){Ke=We}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(We){We instanceof v&&(m=We)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(We){m.path=We}});var tt=[];Object.defineProperty(this,"ctxStack",{get:function(){return tt},set:function(We){tt=We}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(We){var be;be=C(We),this.ctx.fillStyle=be.style,this.ctx.isFillTransparent=be.a===0,this.ctx.fillOpacity=be.a,this.pdf.setFillColor(be.r,be.g,be.b,{a:be.a}),this.pdf.setTextColor(be.r,be.g,be.b,{a:be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(We){var be=C(We);this.ctx.strokeStyle=be.style,this.ctx.isStrokeTransparent=be.a===0,this.ctx.strokeOpacity=be.a,be.a===0?this.pdf.setDrawColor(255,255,255):(be.a,this.pdf.setDrawColor(be.r,be.g,be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(We){["butt","round","square"].indexOf(We)!==-1&&(this.ctx.lineCap=We,this.pdf.setLineCap(We))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(We){isNaN(We)||(this.ctx.lineWidth=We,this.pdf.setLineWidth(We))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(We){["bevel","round","miter"].indexOf(We)!==-1&&(this.ctx.lineJoin=We,this.pdf.setLineJoin(We))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(We){isNaN(We)||(this.ctx.miterLimit=We,this.pdf.setMiterLimit(We))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(We){this.ctx.textBaseline=We}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(We){["right","end","center","left","start"].indexOf(We)!==-1&&(this.ctx.textAlign=We)}});var ct=null;function lt(We,be){if(ct===null){var yt=function(dt){var nt=[];return Object.keys(dt).forEach(function(At){dt[At].forEach(function(gt){var ut=null;switch(gt){case"bold":ut={family:At,weight:"bold"};break;case"italic":ut={family:At,style:"italic"};break;case"bolditalic":ut={family:At,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:At}}ut!==null&&(ut.ref={name:At,style:gt},nt.push(ut))})}),nt}(We.getFontList());ct=function(dt){for(var nt={},At=0;At<dt.length;++At){var gt=Sx(dt[At]),ut=gt.family,Et=gt.stretch,Rt=gt.style,_t=gt.weight;nt[ut]=nt[ut]||{},nt[ut][Et]=nt[ut][Et]||{},nt[ut][Et][Rt]=nt[ut][Et][Rt]||{},nt[ut][Et][Rt][_t]=gt}return nt}(yt.concat(be))}return ct}var Qt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qt},set:function(We){ct=null,Qt=We}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(We){var be;if(this.ctx.font=We,(be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(We))!==null){var yt=be[1];be[2];var dt=be[3],nt=be[4];be[5];var At=be[6],gt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(nt)[2];nt=Math.floor(gt==="px"?parseFloat(nt)*this.pdf.internal.scaleFactor:gt==="em"?parseFloat(nt)*this.pdf.getFontSize():parseFloat(nt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(nt);var ut=function(Lt){var Jt,xt,wa=[],lr=Lt.trim();if(lr==="")return Hp;if(lr in Gw)return[Gw[lr]];for(;lr!=="";){switch(xt=null,Jt=(lr=Xw(lr)).charAt(0)){case'"':case"'":xt=WL(lr.substring(1),Jt);break;default:xt=YL(lr)}if(xt===null||(wa.push(xt[0]),(lr=Xw(xt[1]))!==""&&lr.charAt(0)!==","))return Hp;lr=lr.replace(/^,/,"")}return wa}(At);if(this.fontFaces){var Et=KL(lt(this.pdf,this.fontFaces),ut.map(function(Lt){return{family:Lt,stretch:"normal",weight:dt,style:yt}}));this.pdf.setFont(Et.ref.name,Et.ref.style)}else{var Rt="";(dt==="bold"||parseInt(dt,10)>=700||yt==="bold")&&(Rt="bold"),yt==="italic"&&(Rt+="italic"),Rt.length===0&&(Rt="normal");for(var _t="",Xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Zt=0;Zt<ut.length;Zt++){if(this.pdf.internal.getFont(ut[Zt],Rt,{noFallback:!0,disableWarning:!0})!==void 0){_t=ut[Zt];break}if(Rt==="bolditalic"&&this.pdf.internal.getFont(ut[Zt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_t=ut[Zt],Rt="bold";else if(this.pdf.internal.getFont(ut[Zt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_t=ut[Zt],Rt="normal";break}}if(_t===""){for(var dr=0;dr<ut.length;dr++)if(Xt[ut[dr]]){_t=Xt[ut[dr]];break}}_t=_t===""?"Times":_t,this.pdf.setFont(_t,Rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(We){this.ctx.globalCompositeOperation=We}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(We){this.ctx.globalAlpha=We}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(We){this.ctx.lineDashOffset=We,Ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(We){this.ctx.lineDash=We,Ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(We){this.ctx.ignoreClearRect=!!We}})};N.prototype.setLineDash=function(de){this.lineDash=de},N.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},N.prototype.fill=function(){q.call(this,"fill",!1)},N.prototype.stroke=function(){q.call(this,"stroke",!1)},N.prototype.beginPath=function(){this.path=[{type:"begin"}]},N.prototype.moveTo=function(de,he){if(isNaN(de)||isNaN(he))throw Er.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ne=this.ctx.transform.applyToPoint(new d(de,he));this.path.push({type:"mt",x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new d(de,he)},N.prototype.closePath=function(){var de=new d(0,0),he=0;for(he=this.path.length-1;he!==-1;he--)if(this.path[he].type==="begin"&&kr(this.path[he+1])==="object"&&typeof this.path[he+1].x=="number"){de=new d(this.path[he+1].x,this.path[he+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(de.x,de.y)},N.prototype.lineTo=function(de,he){if(isNaN(de)||isNaN(he))throw Er.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ne=this.ctx.transform.applyToPoint(new d(de,he));this.path.push({type:"lt",x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new d(Ne.x,Ne.y)},N.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},N.prototype.quadraticCurveTo=function(de,he,Ne,Ee){if(isNaN(Ne)||isNaN(Ee)||isNaN(de)||isNaN(he))throw Er.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Se=this.ctx.transform.applyToPoint(new d(Ne,Ee)),Ie=this.ctx.transform.applyToPoint(new d(de,he));this.path.push({type:"qct",x1:Ie.x,y1:Ie.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new d(Se.x,Se.y)},N.prototype.bezierCurveTo=function(de,he,Ne,Ee,Se,Ie){if(isNaN(Se)||isNaN(Ie)||isNaN(de)||isNaN(he)||isNaN(Ne)||isNaN(Ee))throw Er.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new d(Se,Ie)),Qe=this.ctx.transform.applyToPoint(new d(de,he)),Ke=this.ctx.transform.applyToPoint(new d(Ne,Ee));this.path.push({type:"bct",x1:Qe.x,y1:Qe.y,x2:Ke.x,y2:Ke.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new d(ke.x,ke.y)},N.prototype.arc=function(de,he,Ne,Ee,Se,Ie){if(isNaN(de)||isNaN(he)||isNaN(Ne)||isNaN(Ee)||isNaN(Se))throw Er.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ie=!!Ie,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new d(de,he));de=ke.x,he=ke.y;var Qe=this.ctx.transform.applyToPoint(new d(0,Ne)),Ke=this.ctx.transform.applyToPoint(new d(0,0));Ne=Math.sqrt(Math.pow(Qe.x-Ke.x,2)+Math.pow(Qe.y-Ke.y,2))}Math.abs(Se-Ee)>=2*Math.PI&&(Ee=0,Se=2*Math.PI),this.path.push({type:"arc",x:de,y:he,radius:Ne,startAngle:Ee,endAngle:Se,counterclockwise:Ie})},N.prototype.arcTo=function(de,he,Ne,Ee,Se){throw new Error("arcTo not implemented.")},N.prototype.rect=function(de,he,Ne,Ee){if(isNaN(de)||isNaN(he)||isNaN(Ne)||isNaN(Ee))throw Er.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(de,he),this.lineTo(de+Ne,he),this.lineTo(de+Ne,he+Ee),this.lineTo(de,he+Ee),this.lineTo(de,he),this.lineTo(de+Ne,he),this.lineTo(de,he)},N.prototype.fillRect=function(de,he,Ne,Ee){if(isNaN(de)||isNaN(he)||isNaN(Ne)||isNaN(Ee))throw Er.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!k.call(this)){var Se={};this.lineCap!=="butt"&&(Se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(de,he,Ne,Ee),this.fill(),Se.hasOwnProperty("lineCap")&&(this.lineCap=Se.lineCap),Se.hasOwnProperty("lineJoin")&&(this.lineJoin=Se.lineJoin)}},N.prototype.strokeRect=function(de,he,Ne,Ee){if(isNaN(de)||isNaN(he)||isNaN(Ne)||isNaN(Ee))throw Er.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(de,he,Ne,Ee),this.stroke())},N.prototype.clearRect=function(de,he,Ne,Ee){if(isNaN(de)||isNaN(he)||isNaN(Ne)||isNaN(Ee))throw Er.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(de,he,Ne,Ee))},N.prototype.save=function(de){de=typeof de!="boolean"||de;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,Ne=0;Ne<this.pdf.internal.getNumberOfPages();Ne++)this.pdf.setPage(Ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(he),de){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ee=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ee}},N.prototype.restore=function(de){de=typeof de!="boolean"||de;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,Ne=0;Ne<this.pdf.internal.getNumberOfPages();Ne++)this.pdf.setPage(Ne+1),this.pdf.internal.out("Q");this.pdf.setPage(he),de&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},N.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(de){var he,Ne,Ee,Se;if(de.isCanvasGradient===!0&&(de=de.getColor()),!de)return{r:0,g:0,b:0,a:0,style:de};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(de))he=0,Ne=0,Ee=0,Se=0;else{var Ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(de);if(Ie!==null)he=parseInt(Ie[1]),Ne=parseInt(Ie[2]),Ee=parseInt(Ie[3]),Se=1;else if((Ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(de))!==null)he=parseInt(Ie[1]),Ne=parseInt(Ie[2]),Ee=parseInt(Ie[3]),Se=parseFloat(Ie[4]);else{if(Se=1,typeof de=="string"&&de.charAt(0)!=="#"){var ke=new XB(de);de=ke.ok?ke.toHex():"#000000"}de.length===4?(he=de.substring(1,2),he+=he,Ne=de.substring(2,3),Ne+=Ne,Ee=de.substring(3,4),Ee+=Ee):(he=de.substring(1,3),Ne=de.substring(3,5),Ee=de.substring(5,7)),he=parseInt(he,16),Ne=parseInt(Ne,16),Ee=parseInt(Ee,16)}}return{r:he,g:Ne,b:Ee,a:Se,style:de}},k=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},U=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};N.prototype.fillText=function(de,he,Ne,Ee){if(isNaN(he)||isNaN(Ne)||typeof de!="string")throw Er.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ee=isNaN(Ee)?void 0:Ee,!k.call(this)){var Se=fe(this.ctx.transform.rotation),Ie=this.ctx.transform.scaleX;J.call(this,{text:de,x:he,y:Ne,scale:Ie,angle:Se,align:this.textAlign,maxWidth:Ee})}},N.prototype.strokeText=function(de,he,Ne,Ee){if(isNaN(he)||isNaN(Ne)||typeof de!="string")throw Er.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){Ee=isNaN(Ee)?void 0:Ee;var Se=fe(this.ctx.transform.rotation),Ie=this.ctx.transform.scaleX;J.call(this,{text:de,x:he,y:Ne,scale:Ie,renderingMode:"stroke",angle:Se,align:this.textAlign,maxWidth:Ee})}},N.prototype.measureText=function(de){if(typeof de!="string")throw Er.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var he=this.pdf,Ne=this.pdf.internal.scaleFactor,Ee=he.internal.getFontSize(),Se=he.getStringUnitWidth(de)*Ee/he.internal.scaleFactor,Ie=function(ke){var Qe=(ke=ke||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Qe}}),this};return new Ie({width:Se*=Math.round(96*Ne/72*1e4)/1e4})},N.prototype.scale=function(de,he){if(isNaN(de)||isNaN(he))throw Er.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ne=new f(de,0,0,he,0,0);this.ctx.transform=this.ctx.transform.multiply(Ne)},N.prototype.rotate=function(de){if(isNaN(de))throw Er.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var he=new f(Math.cos(de),Math.sin(de),-Math.sin(de),Math.cos(de),0,0);this.ctx.transform=this.ctx.transform.multiply(he)},N.prototype.translate=function(de,he){if(isNaN(de)||isNaN(he))throw Er.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ne=new f(1,0,0,1,de,he);this.ctx.transform=this.ctx.transform.multiply(Ne)},N.prototype.transform=function(de,he,Ne,Ee,Se,Ie){if(isNaN(de)||isNaN(he)||isNaN(Ne)||isNaN(Ee)||isNaN(Se)||isNaN(Ie))throw Er.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new f(de,he,Ne,Ee,Se,Ie);this.ctx.transform=this.ctx.transform.multiply(ke)},N.prototype.setTransform=function(de,he,Ne,Ee,Se,Ie){de=isNaN(de)?1:de,he=isNaN(he)?0:he,Ne=isNaN(Ne)?0:Ne,Ee=isNaN(Ee)?1:Ee,Se=isNaN(Se)?0:Se,Ie=isNaN(Ie)?0:Ie,this.ctx.transform=new f(de,he,Ne,Ee,Se,Ie)};var F=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};N.prototype.drawImage=function(de,he,Ne,Ee,Se,Ie,ke,Qe,Ke){var tt=this.pdf.getImageProperties(de),ct=1,lt=1,Qt=1,We=1;Ee!==void 0&&Qe!==void 0&&(Qt=Qe/Ee,We=Ke/Se,ct=tt.width/Ee*Qe/Ee,lt=tt.height/Se*Ke/Se),Ie===void 0&&(Ie=he,ke=Ne,he=0,Ne=0),Ee!==void 0&&Qe===void 0&&(Qe=Ee,Ke=Se),Ee===void 0&&Qe===void 0&&(Qe=tt.width,Ke=tt.height);for(var be,yt=this.ctx.transform.decompose(),dt=fe(yt.rotate.shx),nt=new f,At=(nt=(nt=(nt=nt.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new g(Ie-he*Qt,ke-Ne*We,Ee*ct,Se*lt)),gt=O.call(this,At),ut=[],Et=0;Et<gt.length;Et+=1)ut.indexOf(gt[Et])===-1&&ut.push(gt[Et]);if(T(ut),this.autoPaging)for(var Rt=ut[0],_t=ut[ut.length-1],Xt=Rt;Xt<_t+1;Xt++){this.pdf.setPage(Xt);var Zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dr=Xt===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=Xt===1?0:Lt+(Xt-2)*Jt;if(this.ctx.clip_path.length!==0){var wa=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(be,this.posX+this.margin[3],-xt+dr+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=wa}var lr=JSON.parse(JSON.stringify(At));lr=I([lr],this.posX+this.margin[3],-xt+dr+this.ctx.prevPageLastElemOffset)[0];var ks=(Xt>Rt||Xt<_t)&&F.call(this);ks&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Zt,Jt,null).clip().discardPath()),this.pdf.addImage(de,"JPEG",lr.x,lr.y,lr.w,lr.h,null,null,dt),ks&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(de,"JPEG",At.x,At.y,At.w,At.h,null,null,dt)};var O=function(de,he,Ne){var Ee=[];he=he||this.pdf.internal.pageSize.width,Ne=Ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Se=this.posY+this.ctx.prevPageLastElemOffset;switch(de.type){default:case"mt":case"lt":Ee.push(Math.floor((de.y+Se)/Ne)+1);break;case"arc":Ee.push(Math.floor((de.y+Se-de.radius)/Ne)+1),Ee.push(Math.floor((de.y+Se+de.radius)/Ne)+1);break;case"qct":var Ie=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,de.x1,de.y1,de.x,de.y);Ee.push(Math.floor((Ie.y+Se)/Ne)+1),Ee.push(Math.floor((Ie.y+Ie.h+Se)/Ne)+1);break;case"bct":var ke=Pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,de.x1,de.y1,de.x2,de.y2,de.x,de.y);Ee.push(Math.floor((ke.y+Se)/Ne)+1),Ee.push(Math.floor((ke.y+ke.h+Se)/Ne)+1);break;case"rect":Ee.push(Math.floor((de.y+Se)/Ne)+1),Ee.push(Math.floor((de.y+de.h+Se)/Ne)+1)}for(var Qe=0;Qe<Ee.length;Qe+=1)for(;this.pdf.internal.getNumberOfPages()<Ee[Qe];)L.call(this);return Ee},L=function(){var de=this.fillStyle,he=this.strokeStyle,Ne=this.font,Ee=this.lineCap,Se=this.lineWidth,Ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=de,this.strokeStyle=he,this.font=Ne,this.lineCap=Ee,this.lineWidth=Se,this.lineJoin=Ie},I=function(de,he,Ne){for(var Ee=0;Ee<de.length;Ee++)switch(de[Ee].type){case"bct":de[Ee].x2+=he,de[Ee].y2+=Ne;case"qct":de[Ee].x1+=he,de[Ee].y1+=Ne;case"mt":case"lt":case"arc":default:de[Ee].x+=he,de[Ee].y+=Ne}return de},T=function(de){return de.sort(function(he,Ne){return he-Ne})},q=function(de,he){for(var Ne,Ee,Se=this.fillStyle,Ie=this.strokeStyle,ke=this.lineCap,Qe=this.lineWidth,Ke=Math.abs(Qe*this.ctx.transform.scaleX),tt=this.lineJoin,ct=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),Qt=[],We=0;We<lt.length;We++)if(lt[We].x!==void 0)for(var be=O.call(this,lt[We]),yt=0;yt<be.length;yt+=1)Qt.indexOf(be[yt])===-1&&Qt.push(be[yt]);for(var dt=0;dt<Qt.length;dt++)for(;this.pdf.internal.getNumberOfPages()<Qt[dt];)L.call(this);if(T(Qt),this.autoPaging)for(var nt=Qt[0],At=Qt[Qt.length-1],gt=nt;gt<At+1;gt++){this.pdf.setPage(gt),this.fillStyle=Se,this.strokeStyle=Ie,this.lineCap=ke,this.lineWidth=Ke,this.lineJoin=tt;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=gt===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xt=gt===1?0:Rt+(gt-2)*_t;if(this.ctx.clip_path.length!==0){var Zt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Ne,this.posX+this.margin[3],-Xt+Et+this.ctx.prevPageLastElemOffset),M.call(this,de,!0),this.path=Zt}if(Ee=JSON.parse(JSON.stringify(ct)),this.path=I(Ee,this.posX+this.margin[3],-Xt+Et+this.ctx.prevPageLastElemOffset),he===!1||gt===0){var dr=(gt>nt||gt<At)&&F.call(this);dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,_t,null).clip().discardPath()),M.call(this,de,he),dr&&this.pdf.restoreGraphicsState()}this.lineWidth=Qe}else this.lineWidth=Ke,M.call(this,de,he),this.lineWidth=Qe;this.path=ct},M=function(de,he){if((de!=="stroke"||he||!U.call(this))&&(de==="stroke"||he||!k.call(this))){for(var Ne,Ee,Se=[],Ie=this.path,ke=0;ke<Ie.length;ke++){var Qe=Ie[ke];switch(Qe.type){case"begin":Se.push({begin:!0});break;case"close":Se.push({close:!0});break;case"mt":Se.push({start:Qe,deltas:[],abs:[]});break;case"lt":var Ke=Se.length;if(Ie[ke-1]&&!isNaN(Ie[ke-1].x)&&(Ne=[Qe.x-Ie[ke-1].x,Qe.y-Ie[ke-1].y],Ke>0)){for(;Ke>=0;Ke--)if(Se[Ke-1].close!==!0&&Se[Ke-1].begin!==!0){Se[Ke-1].deltas.push(Ne),Se[Ke-1].abs.push(Qe);break}}break;case"bct":Ne=[Qe.x1-Ie[ke-1].x,Qe.y1-Ie[ke-1].y,Qe.x2-Ie[ke-1].x,Qe.y2-Ie[ke-1].y,Qe.x-Ie[ke-1].x,Qe.y-Ie[ke-1].y],Se[Se.length-1].deltas.push(Ne);break;case"qct":var tt=Ie[ke-1].x+2/3*(Qe.x1-Ie[ke-1].x),ct=Ie[ke-1].y+2/3*(Qe.y1-Ie[ke-1].y),lt=Qe.x+2/3*(Qe.x1-Qe.x),Qt=Qe.y+2/3*(Qe.y1-Qe.y),We=Qe.x,be=Qe.y;Ne=[tt-Ie[ke-1].x,ct-Ie[ke-1].y,lt-Ie[ke-1].x,Qt-Ie[ke-1].y,We-Ie[ke-1].x,be-Ie[ke-1].y],Se[Se.length-1].deltas.push(Ne);break;case"arc":Se.push({deltas:[],abs:[],arc:!0}),Array.isArray(Se[Se.length-1].abs)&&Se[Se.length-1].abs.push(Qe)}}Ee=he?null:de==="stroke"?"stroke":"fill";for(var yt=!1,dt=0;dt<Se.length;dt++)if(Se[dt].arc)for(var nt=Se[dt].abs,At=0;At<nt.length;At++){var gt=nt[At];gt.type==="arc"?V.call(this,gt.x,gt.y,gt.radius,gt.startAngle,gt.endAngle,gt.counterclockwise,void 0,he,!yt):oe.call(this,gt.x,gt.y),yt=!0}else if(Se[dt].close===!0)this.pdf.internal.out("h"),yt=!1;else if(Se[dt].begin!==!0){var ut=Se[dt].start.x,Et=Se[dt].start.y;le.call(this,Se[dt].deltas,ut,Et),yt=!0}Ee&&ue.call(this,Ee),he&&ne.call(this)}},re=function(de){var he=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ne=he*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return de-Ne;case"top":return de+he-Ne;case"hanging":return de+he-2*Ne;case"middle":return de+he/2-Ne;case"ideographic":return de;case"alphabetic":default:return de}},G=function(de){return de+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};N.prototype.createLinearGradient=function(){var de=function(){};return de.colorStops=[],de.addColorStop=function(he,Ne){this.colorStops.push([he,Ne])},de.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},de.isCanvasGradient=!0,de},N.prototype.createPattern=function(){return this.createLinearGradient()},N.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(de,he,Ne,Ee,Se,Ie,ke,Qe,Ke){for(var tt=Y.call(this,Ne,Ee,Se,Ie),ct=0;ct<tt.length;ct++){var lt=tt[ct];ct===0&&(Ke?$.call(this,lt.x1+de,lt.y1+he):oe.call(this,lt.x1+de,lt.y1+he)),ie.call(this,de,he,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}Qe?ne.call(this):ue.call(this,ke)},ue=function(de){switch(de){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ne=function(){this.pdf.clip(),this.pdf.discardPath()},$=function(de,he){this.pdf.internal.out(a(de)+" "+s(he)+" m")},J=function(de){var he;switch(de.align){case"right":case"end":he="right";break;case"center":he="center";break;case"left":case"start":default:he="left"}var Ne=this.pdf.getTextDimensions(de.text),Ee=re.call(this,de.y),Se=G.call(this,Ee)-Ne.h,Ie=this.ctx.transform.applyToPoint(new d(de.x,Ee)),ke=this.ctx.transform.decompose(),Qe=new f;Qe=(Qe=(Qe=Qe.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Ke,tt,ct,lt=this.ctx.transform.applyToRectangle(new g(de.x,Ee,Ne.w,Ne.h)),Qt=Qe.applyToRectangle(new g(de.x,Se,Ne.w,Ne.h)),We=O.call(this,Qt),be=[],yt=0;yt<We.length;yt+=1)be.indexOf(We[yt])===-1&&be.push(We[yt]);if(T(be),this.autoPaging)for(var dt=be[0],nt=be[be.length-1],At=dt;At<nt+1;At++){this.pdf.setPage(At);var gt=At===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[2],Rt=Et-this.margin[0],_t=this.pdf.internal.pageSize.width-this.margin[1],Xt=_t-this.margin[3],Zt=At===1?0:ut+(At-2)*Rt;if(this.ctx.clip_path.length!==0){var dr=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Ke,this.posX+this.margin[3],-1*Zt+gt),M.call(this,"fill",!0),this.path=dr}var Lt=I([JSON.parse(JSON.stringify(Qt))],this.posX+this.margin[3],-Zt+gt+this.ctx.prevPageLastElemOffset)[0];de.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*de.scale),ct=this.lineWidth,this.lineWidth=ct*de.scale);var Jt=this.autoPaging!=="text";if(Jt||Lt.y+Lt.h<=Et){if(Jt||Lt.y>=gt&&Lt.x<=_t){var xt=Jt?de.text:this.pdf.splitTextToSize(de.text,de.maxWidth||_t-Lt.x)[0],wa=I([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-Zt+gt+this.ctx.prevPageLastElemOffset)[0],lr=Jt&&(At>dt||At<nt)&&F.call(this);lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Rt,null).clip().discardPath()),this.pdf.text(xt,wa.x,wa.y,{angle:de.angle,align:he,renderingMode:de.renderingMode}),lr&&this.pdf.restoreGraphicsState()}}else Lt.y<Et&&(this.ctx.prevPageLastElemOffset+=Et-Lt.y);de.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=ct)}else de.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*de.scale),ct=this.lineWidth,this.lineWidth=ct*de.scale),this.pdf.text(de.text,Ie.x+this.posX,Ie.y+this.posY,{angle:de.angle,align:he,renderingMode:de.renderingMode,maxWidth:de.maxWidth}),de.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=ct)},oe=function(de,he,Ne,Ee){Ne=Ne||0,Ee=Ee||0,this.pdf.internal.out(a(de+Ne)+" "+s(he+Ee)+" l")},le=function(de,he,Ne){return this.pdf.lines(de,he,Ne,null,null)},ie=function(de,he,Ne,Ee,Se,Ie,ke,Qe){this.pdf.internal.out([t(o(Ne+de)),t(l(Ee+he)),t(o(Se+de)),t(l(Ie+he)),t(o(ke+de)),t(l(Qe+he)),"c"].join(" "))},Y=function(de,he,Ne,Ee){for(var Se=2*Math.PI,Ie=Math.PI/2;he>Ne;)he-=Se;var ke=Math.abs(Ne-he);ke<Se&&Ee&&(ke=Se-ke);for(var Qe=[],Ke=Ee?-1:1,tt=he;ke>1e-5;){var ct=tt+Ke*Math.min(ke,Ie);Qe.push(we.call(this,de,tt,ct)),ke-=Math.abs(ct-tt),tt=ct}return Qe},we=function(de,he,Ne){var Ee=(Ne-he)/2,Se=de*Math.cos(Ee),Ie=de*Math.sin(Ee),ke=Se,Qe=-Ie,Ke=ke*ke+Qe*Qe,tt=Ke+ke*Se+Qe*Ie,ct=4/3*(Math.sqrt(2*Ke*tt)-tt)/(ke*Ie-Qe*Se),lt=ke-ct*Qe,Qt=Qe+ct*ke,We=lt,be=-Qt,yt=Ee+he,dt=Math.cos(yt),nt=Math.sin(yt);return{x1:de*Math.cos(he),y1:de*Math.sin(he),x2:lt*dt-Qt*nt,y2:lt*nt+Qt*dt,x3:We*dt-be*nt,y3:We*nt+be*dt,x4:de*Math.cos(Ne),y4:de*Math.sin(Ne)}},fe=function(de){return 180*de/Math.PI},je=function(de,he,Ne,Ee,Se,Ie){var ke=de+.5*(Ne-de),Qe=he+.5*(Ee-he),Ke=Se+.5*(Ne-Se),tt=Ie+.5*(Ee-Ie),ct=Math.min(de,Se,ke,Ke),lt=Math.max(de,Se,ke,Ke),Qt=Math.min(he,Ie,Qe,tt),We=Math.max(he,Ie,Qe,tt);return new g(ct,Qt,lt-ct,We-Qt)},Pe=function(de,he,Ne,Ee,Se,Ie,ke,Qe){var Ke,tt,ct,lt,Qt,We,be,yt,dt,nt,At,gt,ut,Et,Rt=Ne-de,_t=Ee-he,Xt=Se-Ne,Zt=Ie-Ee,dr=ke-Se,Lt=Qe-Ie;for(tt=0;tt<41;tt++)dt=(be=(ct=de+(Ke=tt/40)*Rt)+Ke*((Qt=Ne+Ke*Xt)-ct))+Ke*(Qt+Ke*(Se+Ke*dr-Qt)-be),nt=(yt=(lt=he+Ke*_t)+Ke*((We=Ee+Ke*Zt)-lt))+Ke*(We+Ke*(Ie+Ke*Lt-We)-yt),tt==0?(At=dt,gt=nt,ut=dt,Et=nt):(At=Math.min(At,dt),gt=Math.min(gt,nt),ut=Math.max(ut,dt),Et=Math.max(Et,nt));return new g(Math.round(At),Math.round(gt),Math.round(ut-At),Math.round(Et-gt))},Ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var de,he,Ne=(de=this.ctx.lineDash,he=this.ctx.lineDashOffset,JSON.stringify({lineDash:de,lineDashOffset:he}));this.prevLineDash!==Ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ne)}}})(Mt.API),function(e){var t=function(l){var d,g,f,m,v,N,C,k,U,F;for(g=[],f=0,m=(l+=d="\0\0\0\0".slice(l.length%4||4)).length;m>f;f+=4)(v=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(N=(v=((v=((v=((v=(v-(F=v%85))/85)-(U=v%85))/85)-(k=v%85))/85)-(C=v%85))/85)%85,g.push(N+33,C+33,k+33,U+33,F+33)):g.push(122);return function(O,L){for(var I=L;I>0;I--)O.pop()}(g,d.length),String.fromCharCode.apply(String,g)+"~>"},a=function(l){var d,g,f,m,v,N=String,C="length",k=255,U="charCodeAt",F="slice",O="replace";for(l[F](-2),l=l[F](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),f=[],m=0,v=(l+=d="uuuuu"[F](l[C]%5||5))[C];v>m;m+=5)g=52200625*(l[U](m)-33)+614125*(l[U](m+1)-33)+7225*(l[U](m+2)-33)+85*(l[U](m+3)-33)+(l[U](m+4)-33),f.push(k&g>>24,k&g>>16,k&g>>8,k&g);return function(L,I){for(var T=I;T>0;T--)L.pop()}(f,d[C]),N.fromCharCode.apply(N,f)},s=function(l){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),d.test(l)===!1)return"";for(var g="",f=0;f<l.length;f+=2)g+=String.fromCharCode("0x"+(l[f]+l[f+1]));return g},o=function(l){for(var d=new Uint8Array(l.length),g=l.length;g--;)d[g]=l.charCodeAt(g);return l=(d=wx(d)).reduce(function(f,m){return f+String.fromCharCode(m)},"")};e.processDataByFilters=function(l,d){var g=0,f=l||"",m=[];for(typeof(d=d||[])=="string"&&(d=[d]),g=0;g<d.length;g+=1)switch(d[g]){case"ASCII85Decode":case"/ASCII85Decode":f=a(f),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=s(f),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map(function(v){return("0"+v.charCodeAt().toString(16)).slice(-2)}).join("")+">",m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[g]+'" is not implemented')}return{data:f,reverseChain:m.reverse().join(" ")}}}(Mt.API),function(e){e.loadFile=function(t,a,s){return function(o,l,d){l=l!==!1,d=typeof d=="function"?d:function(){};var g=void 0;try{g=function(f,m,v){var N=new XMLHttpRequest,C=0,k=function(U){var F=U.length,O=[],L=String.fromCharCode;for(C=0;C<F;C+=1)O.push(L(255&U.charCodeAt(C)));return O.join("")};if(N.open("GET",f,!m),N.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(N.onload=function(){N.status===200?v(k(this.responseText)):v(void 0)}),N.send(null),m&&N.status===200)return k(N.responseText)}(o,l,d)}catch{}return g}(t,a,s)},e.loadImageFile=e.loadFile}(Mt.API),function(e){function t(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):Ol(()=>Promise.resolve().then(()=>MT),void 0)).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function a(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):Ol(()=>import("./purify.es-31816194.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var s=function(d){var g=kr(d);return g==="undefined"?"undefined":g==="string"||d instanceof String?"string":g==="number"||d instanceof Number?"number":g==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":g==="object"?"object":"unknown"},o=function(d,g){var f=document.createElement(d);for(var m in g.className&&(f.className=g.className),g.innerHTML&&g.dompurify&&(f.innerHTML=g.dompurify.sanitize(g.innerHTML)),g.style)f.style[m]=g.style[m];return f},l=function d(g){var f=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),m=d.convert(Promise.resolve(),f);return m=(m=m.setProgress(1,d,1,[d])).set(g)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(d,g){return d.__proto__=g||l.prototype,d},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(d,g){return this.then(function(){switch(g=g||function(f){switch(s(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d)){case"string":return this.then(a).then(function(f){return this.set({src:o("div",{innerHTML:d,dompurify:f})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},l.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},g=function f(m,v){for(var N=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),C=m.firstChild;C;C=C.nextSibling)v!==!0&&C.nodeType===1&&C.nodeName==="SCRIPT"||N.appendChild(f(C,v));return m.nodeType===1&&(m.nodeName==="CANVAS"?(N.width=m.width,N.height=m.height,N.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(N.value=m.value),N.addEventListener("load",function(){N.scrollTop=m.scrollTop,N.scrollLeft=m.scrollLeft},!0)),N}(this.prop.src,this.opt.html2canvas.javascriptEnabled);g.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(g),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(t).then(function(g){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,g(this.prop.container,f)}).then(function(g){(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(t).then(function(g){var f=this.opt.jsPDF,m=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=m,m)for(var C=0;C<m.length;++C){var k=m[C],U=k.src.find(function(F){return F.format==="truetype"});U&&f.addFont(U.url,k.ref.name,k.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=N.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,f.context2d.save(!0),g(this.prop.container,N)}).then(function(g){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(d,g,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(d,g):this.outputPdf(d,g)},l.prototype.outputPdf=function(d,g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,g)})},l.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},l.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(d){if(s(d)!=="object")return this;var g=Object.keys(d||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=d[f]};switch(f){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[f]=d[f]}}},this);return this.then(function(){return this.thenList(g)})},l.prototype.get=function(d,g){return this.then(function(){var f=d in l.template.prop?this.prop[d]:this.opt[d];return g?g(f):f})},l.prototype.setMargin=function(d){return this.then(function(){switch(s(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},l.prototype.setPageSize=function(d){function g(f,m){return Math.floor(f*m/72*96)}return this.then(function(){(d=d||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:g(d.inner.width,d.k),height:g(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},l.prototype.setProgress=function(d,g,f,m){return d!=null&&(this.progress.val=d),g!=null&&(this.progress.state=g),f!=null&&(this.progress.n=f),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(d,g,f,m){return this.setProgress(d?this.progress.val+d:null,g||null,f?this.progress.n+f:null,m?this.progress.stack.concat(m):null)},l.prototype.then=function(d,g){var f=this;return this.thenCore(d,g,function(m,v){return f.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(N){return f.updateProgress(null,m),N}).then(m,v).then(function(N){return f.updateProgress(1),N})})},l.prototype.thenCore=function(d,g,f){f=f||Promise.prototype.then,d&&(d=d.bind(this)),g&&(g=g.bind(this));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),v=f.call(m,d,g);return l.convert(v,this.__proto__)},l.prototype.thenExternal=function(d,g){return Promise.prototype.then.call(this,d,g)},l.prototype.thenList=function(d){var g=this;return d.forEach(function(f){g=g.thenCore(f)}),g},l.prototype.catch=function(d){d&&(d=d.bind(this));var g=Promise.prototype.catch.call(this,d);return l.convert(g,this)},l.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},l.prototype.error=function(d){return this.then(function(){throw new Error(d)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Mt.getPageSize=function(d,g,f){if(kr(d)==="object"){var m=d;d=m.orientation,g=m.unit||g,f=m.format||f}g=g||"mm",f=f||"a4",d=(""+(d||"P")).toLowerCase();var v,N=(""+f).toLowerCase(),C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+g}var k,U=0,F=0;if(C.hasOwnProperty(N))U=C[N][1]/v,F=C[N][0]/v;else try{U=f[1],F=f[0]}catch{throw new Error("Invalid format: "+f)}if(d==="p"||d==="portrait")d="p",F>U&&(k=F,F=U,U=k);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",U>F&&(k=F,F=U,U=k)}return{width:F,height:U,unit:g,k:v,orientation:d}},e.html=function(d,g){(g=g||{}).callback=g.callback||function(){},g.html2canvas=g.html2canvas||{},g.html2canvas.canvas=g.html2canvas.canvas||this.canvas,g.jsPDF=g.jsPDF||this,g.fontFaces=g.fontFaces?g.fontFaces.map(Sx):null;var f=new l(g);return g.worker?f:f.from(d).doCallback()}}(Mt.API),Mt.API.addJS=function(e){return Ww=e,this.internal.events.subscribe("postPutResources",function(){Hh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Hh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Kw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ww+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Hh!==void 0&&Kw!==void 0&&this.internal.out("/Names <</JavaScript "+Hh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var a=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=a.outline.render().split(/\r\n/),l=0;l<o.length;l++){var d=o[l],g=s.exec(d);if(g!=null){var f=g[1];a.internal.newObjectDeferredBegin(f,!1)}a.internal.write(d)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,v=[];for(l=0;l<m;l++){var N=a.internal.newObject();v.push(N);var C=a.internal.getPageInfo(l+1);a.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var k=a.internal.newObject();for(a.internal.write("<< /Names [ "),l=0;l<v.length;l++)a.internal.write("(page_"+(l+1)+")"+v[l]+" 0 R");a.internal.write(" ] >>","endobj"),t=a.internal.newObject(),a.internal.write("<< /Dests "+k+" 0 R"),a.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(s,o,l){var d={title:o,options:l,children:[]};return s==null&&(s=this.root),s.children.push(d),d},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(s){s.id=a.internal.newObjectDeferred();for(var o=0;o<s.children.length;o++)this.genIds_r(s.children[o])},a.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},a.outline.renderItems=function(s){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<s.children.length;l++){var d=s.children[l];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(s)),l>0&&this.line("/Prev "+this.makeRef(s.children[l-1])),l<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[l+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var g=this.count=this.count_r({count:0},d);if(g>0&&this.line("/Count "+g),d.options&&d.options.pageNumber){var f=a.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var m=0;m<s.children.length;m++)this.renderItems(s.children[m])},a.outline.line=function(s){this.ctx.val+=s+`\r
`},a.outline.makeRef=function(s){return s.id+" 0 R"},a.outline.makeString=function(s){return"("+a.internal.pdfEscape(s)+")"},a.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(s,o){for(var l=0;l<o.children.length;l++)s.count++,this.count_r(s,o.children[l]);return s.count}}])}(Mt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(a,s,o,l,d,g){var f,m=this.decode.DCT_DECODE,v=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=d||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,(f=function(N){for(var C,k=256*N.charCodeAt(4)+N.charCodeAt(5),U=N.length,F={width:0,height:0,numcomponents:1},O=4;O<U;O+=2){if(O+=k,t.indexOf(N.charCodeAt(O+1))!==-1){C=256*N.charCodeAt(O+5)+N.charCodeAt(O+6),F={width:256*N.charCodeAt(O+7)+N.charCodeAt(O+8),height:C,numcomponents:N.charCodeAt(O+9)};break}k=256*N.charCodeAt(O+2)+N.charCodeAt(O+3)}return F}(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a)).numcomponents){case 1:g=this.color_spaces.DEVICE_GRAY;break;case 4:g=this.color_spaces.DEVICE_CMYK;break;case 3:g=this.color_spaces.DEVICE_RGB}v={data:a,width:f.width,height:f.height,colorSpace:g,bitsPerComponent:8,filter:m,index:s,alias:o}}return v}}(Mt.API);var Pc,Oh,Yw,$w,Jw,$L=function(){var e,t,a;function s(l){var d,g,f,m,v,N,C,k,U,F,O,L,I,T;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},N=null;;){switch(d=this.readUInt32(),U=(function(){var q,M;for(M=[],q=0;q<4;++q)M.push(String.fromCharCode(this.data[this.pos++]));return M}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":N&&this.animation.frames.push(N),this.pos+=4,N={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},v=this.readUInt16(),m=this.readUInt16()||100,N.delay=1e3*v/m,N.disposeOp=this.data[this.pos++],N.blendOp=this.data[this.pos++],N.data=[];break;case"IDAT":case"fdAT":for(U==="fdAT"&&(this.pos+=4,d-=4),l=(N!=null?N.data:void 0)||this.imgData,L=0;0<=d?L<d:L>d;0<=d?++L:--L)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(d),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((F=f-this.transparency.indexed.length)>0)for(I=0;0<=F?I<F:I>F;0<=F?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":C=(O=this.read(d)).indexOf(0),k=String.fromCharCode.apply(String,O.slice(0,C)),this.text[k]=String.fromCharCode.apply(String,O.slice(C+1));break;case"IEND":return N&&this.animation.frames.push(N),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,g=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*g,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(l){var d,g;for(g=[],d=0;0<=l?d<l:d>l;0<=l?++d:--d)g.push(this.data[this.pos++]);return g},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(l){var d=this.pixelBitlength/8,g=new Uint8Array(this.width*this.height*d),f=0,m=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function v(N,C,k,U){var F,O,L,I,T,q,M,re,G,V,ue,ne,$,J,oe,le,ie,Y,we,fe,je,Pe=Math.ceil((m.width-N)/k),Ve=Math.ceil((m.height-C)/U),de=m.width==Pe&&m.height==Ve;for(J=d*Pe,ne=de?g:new Uint8Array(J*Ve),q=l.length,$=0,O=0;$<Ve&&f<q;){switch(l[f++]){case 0:for(I=ie=0;ie<J;I=ie+=1)ne[O++]=l[f++];break;case 1:for(I=Y=0;Y<J;I=Y+=1)F=l[f++],T=I<d?0:ne[O-d],ne[O++]=(F+T)%256;break;case 2:for(I=we=0;we<J;I=we+=1)F=l[f++],L=(I-I%d)/d,oe=$&&ne[($-1)*J+L*d+I%d],ne[O++]=(oe+F)%256;break;case 3:for(I=fe=0;fe<J;I=fe+=1)F=l[f++],L=(I-I%d)/d,T=I<d?0:ne[O-d],oe=$&&ne[($-1)*J+L*d+I%d],ne[O++]=(F+Math.floor((T+oe)/2))%256;break;case 4:for(I=je=0;je<J;I=je+=1)F=l[f++],L=(I-I%d)/d,T=I<d?0:ne[O-d],$===0?oe=le=0:(oe=ne[($-1)*J+L*d+I%d],le=L&&ne[($-1)*J+(L-1)*d+I%d]),M=T+oe-le,re=Math.abs(M-T),V=Math.abs(M-oe),ue=Math.abs(M-le),G=re<=V&&re<=ue?T:V<=ue?oe:le,ne[O++]=(F+G)%256;break;default:throw new Error("Invalid filter algorithm: "+l[f-1])}if(!de){var he=((C+$*U)*m.width+N)*d,Ne=$*J;for(I=0;I<Pe;I+=1){for(var Ee=0;Ee<d;Ee+=1)g[he++]=ne[Ne++];he+=(k-1)*d}}$++}}return l=FL(l),m.interlaceMethod==1?(v(0,0,8,8),v(4,0,8,8),v(0,4,4,8),v(2,0,4,4),v(0,2,2,4),v(1,0,2,2),v(0,1,1,2)):v(0,0,1,1),g},s.prototype.decodePalette=function(){var l,d,g,f,m,v,N,C,k;for(g=this.palette,v=this.transparency.indexed||[],m=new Uint8Array((v.length||0)+g.length),f=0,l=0,d=N=0,C=g.length;N<C;d=N+=3)m[f++]=g[d],m[f++]=g[d+1],m[f++]=g[d+2],m[f++]=(k=v[l++])!=null?k:255;return m},s.prototype.copyToImageData=function(l,d){var g,f,m,v,N,C,k,U,F,O,L;if(f=this.colors,F=null,g=this.hasAlphaChannel,this.palette.length&&(F=(L=this._decodedPalette)!=null?L:this._decodedPalette=this.decodePalette(),f=4,g=!0),U=(m=l.data||l).length,N=F||d,v=C=0,f===1)for(;v<U;)k=F?4*d[v/4]:C,O=N[k++],m[v++]=O,m[v++]=O,m[v++]=O,m[v++]=g?N[k++]:255,C=k;else for(;v<U;)k=F?4*d[v/4]:C,m[v++]=N[k++],m[v++]=N[k++],m[v++]=N[k++],m[v++]=g?N[k++]:255,C=k},s.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var o=function(){if(Object.prototype.toString.call(Ht)==="[object Window]"){try{t=Ht.document.createElement("canvas"),a=t.getContext("2d")}catch{return!1}return!0}return!1};return o(),e=function(l){var d;if(o()===!0)return a.width=l.width,a.height=l.height,a.clearRect(0,0,l.width,l.height),a.putImageData(l,0,0),(d=new Image).src=t.toDataURL(),d;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(l){var d,g,f,m,v,N,C,k;if(this.animation){for(k=[],g=v=0,N=(C=this.animation.frames).length;v<N;g=++v)d=C[g],f=l.createImageData(d.width,d.height),m=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(f,m),d.imageData=f,k.push(d.image=e(f));return k}},s.prototype.renderFrame=function(l,d){var g,f,m;return g=(f=this.animation.frames)[d],m=f[d-1],d===0&&l.clearRect(0,0,this.width,this.height),(m!=null?m.disposeOp:void 0)===1?l.clearRect(m.xOffset,m.yOffset,m.width,m.height):(m!=null?m.disposeOp:void 0)===2&&l.putImageData(m.imageData,m.xOffset,m.yOffset),g.blendOp===0&&l.clearRect(g.xOffset,g.yOffset,g.width,g.height),l.drawImage(g.image,g.xOffset,g.yOffset)},s.prototype.animate=function(l){var d,g,f,m,v,N,C=this;return g=0,N=this.animation,m=N.numFrames,f=N.frames,v=N.numPlays,(d=function(){var k,U;if(k=g++%m,U=f[k],C.renderFrame(l,k),m>1&&g/m<v)return C.animation._timeout=setTimeout(d,U.delay)})()},s.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},s.prototype.render=function(l){var d,g;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,d=l.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(g=d.createImageData(this.width,this.height),this.copyToImageData(g,this.decodePixels()),d.putImageData(g,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function JL(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,o=e[t++],l=o>>7,d=1<<(7&o)+1;e[t++],e[t++];var g=null,f=null;l&&(g=t,f=d,t+=3*d);var m=!0,v=[],N=0,C=null,k=0,U=null;for(this.width=a,this.height=s;m&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,U=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!(($=e[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var F=e[t++];N=e[t++]|e[t++]<<8,C=e[t++],!(1&F)&&(C=null),k=F>>2&7,t++;break;case 254:for(;;){if(!(($=e[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var O=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,T=e[t++]|e[t++]<<8,q=e[t++],M=q>>6&1,re=1<<(7&q)+1,G=g,V=f,ue=!1;q>>7&&(ue=!0,G=t,V=re,t+=3*re);var ne=t;for(t++;;){var $;if(!(($=e[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}v.push({x:O,y:L,width:I,height:T,has_local_palette:ue,palette_offset:G,palette_size:V,data_offset:ne,data_length:t-ne,transparent_index:C,interlaced:!!M,delay:N,disposal:k});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return U},this.frameInfo=function(J){if(J<0||J>=v.length)throw new Error("Frame index out of range.");return v[J]},this.decodeAndBlitFrameBGRA=function(J,oe){var le=this.frameInfo(J),ie=le.width*le.height,Y=new Uint8Array(ie);Zw(e,le.data_offset,Y,ie);var we=le.palette_offset,fe=le.transparent_index;fe===null&&(fe=256);var je=le.width,Pe=a-je,Ve=je,de=4*(le.y*a+le.x),he=4*((le.y+le.height)*a+le.x),Ne=de,Ee=4*Pe;le.interlaced===!0&&(Ee+=4*a*7);for(var Se=8,Ie=0,ke=Y.length;Ie<ke;++Ie){var Qe=Y[Ie];if(Ve===0&&(Ve=je,(Ne+=Ee)>=he&&(Ee=4*Pe+4*a*(Se-1),Ne=de+(je+Pe)*(Se<<1),Se>>=1)),Qe===fe)Ne+=4;else{var Ke=e[we+3*Qe],tt=e[we+3*Qe+1],ct=e[we+3*Qe+2];oe[Ne++]=ct,oe[Ne++]=tt,oe[Ne++]=Ke,oe[Ne++]=255}--Ve}},this.decodeAndBlitFrameRGBA=function(J,oe){var le=this.frameInfo(J),ie=le.width*le.height,Y=new Uint8Array(ie);Zw(e,le.data_offset,Y,ie);var we=le.palette_offset,fe=le.transparent_index;fe===null&&(fe=256);var je=le.width,Pe=a-je,Ve=je,de=4*(le.y*a+le.x),he=4*((le.y+le.height)*a+le.x),Ne=de,Ee=4*Pe;le.interlaced===!0&&(Ee+=4*a*7);for(var Se=8,Ie=0,ke=Y.length;Ie<ke;++Ie){var Qe=Y[Ie];if(Ve===0&&(Ve=je,(Ne+=Ee)>=he&&(Ee=4*Pe+4*a*(Se-1),Ne=de+(je+Pe)*(Se<<1),Se>>=1)),Qe===fe)Ne+=4;else{var Ke=e[we+3*Qe],tt=e[we+3*Qe+1],ct=e[we+3*Qe+2];oe[Ne++]=Ke,oe[Ne++]=tt,oe[Ne++]=ct,oe[Ne++]=255}--Ve}}}function Zw(e,t,a,s){for(var o=e[t++],l=1<<o,d=l+1,g=d+1,f=o+1,m=(1<<f)-1,v=0,N=0,C=0,k=e[t++],U=new Int32Array(4096),F=null;;){for(;v<16&&k!==0;)N|=e[t++]<<v,v+=8,k===1?k=e[t++]:--k;if(v<f)break;var O=N&m;if(N>>=f,v-=f,O!==l){if(O===d)break;for(var L=O<g?O:F,I=0,T=L;T>l;)T=U[T]>>8,++I;var q=T;if(C+I+(L!==O?1:0)>s)return void Er.log("Warning, gif stream longer than expected.");a[C++]=q;var M=C+=I;for(L!==O&&(a[C++]=q),T=L;I--;)T=U[T],a[--M]=255&T,T>>=8;F!==null&&g<4096&&(U[g++]=F<<8|q,g>=m+1&&f<12&&(++f,m=m<<1|1)),F=O}else g=d+1,m=(1<<(f=o+1))-1,F=null}return C!==s&&Er.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Op(e){var t,a,s,o,l,d=Math.floor,g=new Array(64),f=new Array(64),m=new Array(64),v=new Array(64),N=new Array(65535),C=new Array(65535),k=new Array(64),U=new Array(64),F=[],O=0,L=7,I=new Array(64),T=new Array(64),q=new Array(64),M=new Array(256),re=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],J=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],oe=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(de,he){for(var Ne=0,Ee=0,Se=new Array,Ie=1;Ie<=16;Ie++){for(var ke=1;ke<=de[Ie];ke++)Se[he[Ee]]=[],Se[he[Ee]][0]=Ne,Se[he[Ee]][1]=Ie,Ee++,Ne++;Ne*=2}return Se}function we(de){for(var he=de[0],Ne=de[1]-1;Ne>=0;)he&1<<Ne&&(O|=1<<L),Ne--,--L<0&&(O==255?(fe(255),fe(0)):fe(O),L=7,O=0)}function fe(de){F.push(de)}function je(de){fe(de>>8&255),fe(255&de)}function Pe(de,he,Ne,Ee,Se){for(var Ie,ke=Se[0],Qe=Se[240],Ke=function(nt,At){var gt,ut,Et,Rt,_t,Xt,Zt,dr,Lt,Jt,xt=0;for(Lt=0;Lt<8;++Lt){gt=nt[xt],ut=nt[xt+1],Et=nt[xt+2],Rt=nt[xt+3],_t=nt[xt+4],Xt=nt[xt+5],Zt=nt[xt+6];var wa=gt+(dr=nt[xt+7]),lr=gt-dr,ks=ut+Zt,yr=ut-Zt,Sr=Et+Xt,dn=Et-Xt,gr=Rt+_t,Ei=Rt-_t,Rr=wa+gr,_s=wa-gr,Qn=ks+Sr,br=ks-Sr;nt[xt]=Rr+Qn,nt[xt+4]=Rr-Qn;var Ot=.707106781*(br+_s);nt[xt+2]=_s+Ot,nt[xt+6]=_s-Ot;var cr=.382683433*((Rr=Ei+dn)-(br=yr+lr)),ni=.5411961*Rr+cr,ka=1.306562965*br+cr,zs=.707106781*(Qn=dn+yr),Vs=lr+zs,Dt=lr-zs;nt[xt+5]=Dt+ni,nt[xt+3]=Dt-ni,nt[xt+1]=Vs+ka,nt[xt+7]=Vs-ka,xt+=8}for(xt=0,Lt=0;Lt<8;++Lt){gt=nt[xt],ut=nt[xt+8],Et=nt[xt+16],Rt=nt[xt+24],_t=nt[xt+32],Xt=nt[xt+40],Zt=nt[xt+48];var Gs=gt+(dr=nt[xt+56]),un=gt-dr,qa=ut+Zt,ra=ut-Zt,Yr=Et+Xt,ds=Et-Xt,ii=Rt+_t,qs=Rt-_t,Na=Gs+ii,Xa=Gs-ii,Xs=qa+Yr,Ks=qa-Yr;nt[xt]=Na+Xs,nt[xt+32]=Na-Xs;var Ns=.707106781*(Ks+Xa);nt[xt+16]=Xa+Ns,nt[xt+48]=Xa-Ns;var hn=.382683433*((Na=qs+ds)-(Ks=ra+un)),Li=.5411961*Na+hn,uo=1.306562965*Ks+hn,Ii=.707106781*(Xs=ds+ra),Pi=un+Ii,oi=un-Ii;nt[xt+40]=oi+Li,nt[xt+24]=oi-Li,nt[xt+8]=Pi+uo,nt[xt+56]=Pi-uo,xt++}for(Lt=0;Lt<64;++Lt)Jt=nt[Lt]*At[Lt],k[Lt]=Jt>0?Jt+.5|0:Jt-.5|0;return k}(de,he),tt=0;tt<64;++tt)U[G[tt]]=Ke[tt];var ct=U[0]-Ne;Ne=U[0],ct==0?we(Ee[0]):(we(Ee[C[Ie=32767+ct]]),we(N[Ie]));for(var lt=63;lt>0&&U[lt]==0;)lt--;if(lt==0)return we(ke),Ne;for(var Qt,We=1;We<=lt;){for(var be=We;U[We]==0&&We<=lt;)++We;var yt=We-be;if(yt>=16){Qt=yt>>4;for(var dt=1;dt<=Qt;++dt)we(Qe);yt&=15}Ie=32767+U[We],we(Se[(yt<<4)+C[Ie]]),we(N[Ie]),We++}return lt!=63&&we(ke),Ne}function Ve(de){de=Math.min(Math.max(de,1),100),l!=de&&(function(he){for(var Ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ee=0;Ee<64;Ee++){var Se=d((Ne[Ee]*he+50)/100);Se=Math.min(Math.max(Se,1),255),g[G[Ee]]=Se}for(var Ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var Qe=d((Ie[ke]*he+50)/100);Qe=Math.min(Math.max(Qe,1),255),f[G[ke]]=Qe}for(var Ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],tt=0,ct=0;ct<8;ct++)for(var lt=0;lt<8;lt++)m[tt]=1/(g[G[tt]]*Ke[ct]*Ke[lt]*8),v[tt]=1/(f[G[tt]]*Ke[ct]*Ke[lt]*8),tt++}(de<50?Math.floor(5e3/de):Math.floor(200-2*de)),l=de)}this.encode=function(de,he){he&&Ve(he),F=new Array,O=0,L=7,je(65496),je(65504),je(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),je(1),je(1),fe(0),fe(0),function(){je(65499),je(132),fe(0);for(var ut=0;ut<64;ut++)fe(g[ut]);fe(1);for(var Et=0;Et<64;Et++)fe(f[Et])}(),function(ut,Et){je(65472),je(17),fe(8),je(Et),je(ut),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)}(de.width,de.height),function(){je(65476),je(418),fe(0);for(var ut=0;ut<16;ut++)fe(V[ut+1]);for(var Et=0;Et<=11;Et++)fe(ue[Et]);fe(16);for(var Rt=0;Rt<16;Rt++)fe(ne[Rt+1]);for(var _t=0;_t<=161;_t++)fe($[_t]);fe(1);for(var Xt=0;Xt<16;Xt++)fe(J[Xt+1]);for(var Zt=0;Zt<=11;Zt++)fe(oe[Zt]);fe(17);for(var dr=0;dr<16;dr++)fe(le[dr+1]);for(var Lt=0;Lt<=161;Lt++)fe(ie[Lt])}(),je(65498),je(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var Ne=0,Ee=0,Se=0;O=0,L=7,this.encode.displayName="_encode_";for(var Ie,ke,Qe,Ke,tt,ct,lt,Qt,We,be=de.data,yt=de.width,dt=de.height,nt=4*yt,At=0;At<dt;){for(Ie=0;Ie<nt;){for(tt=nt*At+Ie,lt=-1,Qt=0,We=0;We<64;We++)ct=tt+(Qt=We>>3)*nt+(lt=4*(7&We)),At+Qt>=dt&&(ct-=nt*(At+1+Qt-dt)),Ie+lt>=nt&&(ct-=Ie+lt-nt+4),ke=be[ct++],Qe=be[ct++],Ke=be[ct++],I[We]=(re[ke]+re[Qe+256>>0]+re[Ke+512>>0]>>16)-128,T[We]=(re[ke+768>>0]+re[Qe+1024>>0]+re[Ke+1280>>0]>>16)-128,q[We]=(re[ke+1280>>0]+re[Qe+1536>>0]+re[Ke+1792>>0]>>16)-128;Ne=Pe(I,m,Ne,t,s),Ee=Pe(T,v,Ee,a,o),Se=Pe(q,v,Se,a,o),Ie+=32}At+=8}if(L>=0){var gt=[];gt[1]=L+1,gt[0]=(1<<L+1)-1,we(gt)}return je(65497),new Uint8Array(F)},e=e||50,function(){for(var de=String.fromCharCode,he=0;he<256;he++)M[he]=de(he)}(),t=Y(V,ue),a=Y(J,oe),s=Y(ne,$),o=Y(le,ie),function(){for(var de=1,he=2,Ne=1;Ne<=15;Ne++){for(var Ee=de;Ee<he;Ee++)C[32767+Ee]=Ne,N[32767+Ee]=[],N[32767+Ee][1]=Ne,N[32767+Ee][0]=Ee;for(var Se=-(he-1);Se<=-de;Se++)C[32767+Se]=Ne,N[32767+Se]=[],N[32767+Se][1]=Ne,N[32767+Se][0]=he-1+Se;de<<=1,he<<=1}}(),function(){for(var de=0;de<256;de++)re[de]=19595*de,re[de+256>>0]=38470*de,re[de+512>>0]=7471*de+32768,re[de+768>>0]=-11059*de,re[de+1024>>0]=-21709*de,re[de+1280>>0]=32768*de+8421375,re[de+1536>>0]=-27439*de,re[de+1792>>0]=-5329*de}(),Ve(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _n(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function e1(e){function t(V){if(!V)throw Error("assert :P")}function a(V,ue,ne){for(var $=0;4>$;$++)if(V[ue+$]!=ne.charCodeAt($))return!0;return!1}function s(V,ue,ne,$,J){for(var oe=0;oe<J;oe++)V[ue+oe]=ne[$+oe]}function o(V,ue,ne,$){for(var J=0;J<$;J++)V[ue+J]=ne}function l(V){return new Int32Array(V)}function d(V,ue){for(var ne=[],$=0;$<V;$++)ne.push(new ue);return ne}function g(V,ue){var ne=[];return function $(J,oe,le){for(var ie=le[oe],Y=0;Y<ie&&(J.push(le.length>oe+1?[]:new ue),!(le.length<oe+1));Y++)$(J[Y],oe+1,le)}(ne,0,V),ne}var f=function(){var V=this;function ue(y,E){for(var H=1<<E-1>>>0;y&H;)H>>>=1;return H?(y&H-1)+H:y}function ne(y,E,H,W,ce){t(!(W%H));do y[E+(W-=H)]=ce;while(0<W)}function $(y,E,H,W,ce){if(t(2328>=ce),512>=ce)var pe=l(512);else if((pe=l(ce))==null)return 0;return function(xe,ye,ve,Be,De,_e){var ze,Me,rt=ye,Xe=1<<ve,Te=l(16),Re=l(16);for(t(De!=0),t(Be!=null),t(xe!=null),t(0<ve),Me=0;Me<De;++Me){if(15<Be[Me])return 0;++Te[Be[Me]]}if(Te[0]==De)return 0;for(Re[1]=0,ze=1;15>ze;++ze){if(Te[ze]>1<<ze)return 0;Re[ze+1]=Re[ze]+Te[ze]}for(Me=0;Me<De;++Me)ze=Be[Me],0<Be[Me]&&(_e[Re[ze]++]=Me);if(Re[15]==1)return(Be=new J).g=0,Be.value=_e[0],ne(xe,rt,1,Xe,Be),Xe;var Ze,at=-1,et=Xe-1,Nt=0,ht=1,Tt=1,mt=1<<ve;for(Me=0,ze=1,De=2;ze<=ve;++ze,De<<=1){if(ht+=Tt<<=1,0>(Tt-=Te[ze]))return 0;for(;0<Te[ze];--Te[ze])(Be=new J).g=ze,Be.value=_e[Me++],ne(xe,rt+Nt,De,mt,Be),Nt=ue(Nt,ze)}for(ze=ve+1,De=2;15>=ze;++ze,De<<=1){if(ht+=Tt<<=1,0>(Tt-=Te[ze]))return 0;for(;0<Te[ze];--Te[ze]){if(Be=new J,(Nt&et)!=at){for(rt+=mt,Ze=1<<(at=ze)-ve;15>at&&!(0>=(Ze-=Te[at]));)++at,Ze<<=1;Xe+=mt=1<<(Ze=at-ve),xe[ye+(at=Nt&et)].g=Ze+ve,xe[ye+at].value=rt-ye-at}Be.g=ze-ve,Be.value=_e[Me++],ne(xe,rt+(Nt>>ve),De,mt,Be),Nt=ue(Nt,ze)}}return ht!=2*Re[15]-1?0:Xe}(y,E,H,W,ce,pe)}function J(){this.value=this.g=0}function oe(){this.value=this.g=0}function le(){this.G=d(5,J),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(Ma,oe)}function ie(y,E,H,W){t(y!=null),t(E!=null),t(2147483648>W),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=E,y.pa=H,y.Jd=E,y.Yc=H+W,y.Zc=4<=W?H+W-4+1:H,Ie(y)}function Y(y,E){for(var H=0;0<E--;)H|=Qe(y,128)<<E;return H}function we(y,E){var H=Y(y,E);return ke(y)?-H:H}function fe(y,E,H,W){var ce,pe=0;for(t(y!=null),t(E!=null),t(4294967288>W),y.Sb=W,y.Ra=0,y.u=0,y.h=0,4<W&&(W=4),ce=0;ce<W;++ce)pe+=E[H+ce]<<8*ce;y.Ra=pe,y.bb=W,y.oa=E,y.pa=H}function je(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<vc-8>>>0,++y.bb,y.u-=8;Ne(y)&&(y.h=1,y.u=0)}function Pe(y,E){if(t(0<=E),!y.h&&E<=bc){var H=he(y)&yc[E];return y.u+=E,je(y),H}return y.h=1,y.u=0}function Ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function de(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function he(y){return y.Ra>>>(y.u&vc-1)>>>0}function Ne(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>vc}function Ee(y,E){y.u=E,y.h=Ne(y)}function Se(y){y.u>=$A&&(t(y.u>=$A),je(y))}function Ie(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ke(y){return Y(y,1)}function Qe(y,E){var H=y.Ca;0>y.b&&Ie(y);var W=y.b,ce=H*E>>>8,pe=(y.I>>>W>ce)+0;for(pe?(H-=ce,y.I-=ce+1<<W>>>0):H=ce+1,W=H,ce=0;256<=W;)ce+=8,W>>=8;return W=7^ce+Cs[W],y.b-=W,y.Ca=(H<<W)-1,pe}function Ke(y,E,H){y[E+0]=H>>24&255,y[E+1]=H>>16&255,y[E+2]=H>>8&255,y[E+3]=H>>0&255}function tt(y,E){return y[E+0]<<0|y[E+1]<<8}function ct(y,E){return tt(y,E)|y[E+2]<<16}function lt(y,E){return tt(y,E)|tt(y,E+2)<<16}function Qt(y,E){var H=1<<E;return t(y!=null),t(0<E),y.X=l(H),y.X==null?0:(y.Mb=32-E,y.Xa=E,1)}function We(y,E){t(y!=null),t(E!=null),t(y.Xa==E.Xa),s(E.X,0,y.X,0,1<<E.Xa)}function be(){this.X=[],this.Xa=this.Mb=0}function yt(y,E,H,W){t(H!=null),t(W!=null);var ce=H[0],pe=W[0];return ce==0&&(ce=(y*pe+E/2)/E),pe==0&&(pe=(E*ce+y/2)/y),0>=ce||0>=pe?0:(H[0]=ce,W[0]=pe,1)}function dt(y,E){return y+(1<<E)-1>>>E}function nt(y,E){return((4278255360&y)+(4278255360&E)>>>0&4278255360)+((16711935&y)+(16711935&E)>>>0&16711935)>>>0}function At(y,E){V[E]=function(H,W,ce,pe,xe,ye,ve){var Be;for(Be=0;Be<xe;++Be){var De=V[y](ye[ve+Be-1],ce,pe+Be);ye[ve+Be]=nt(H[W+Be],De)}}}function gt(){this.ud=this.hd=this.jd=0}function ut(y,E){return((4278124286&(y^E))>>>1)+(y&E)>>>0}function Et(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Rt(y,E){return Et(y+(y-E+.5>>1))}function _t(y,E,H){return Math.abs(E-H)-Math.abs(y-H)}function Xt(y,E,H,W,ce,pe,xe){for(W=pe[xe-1],H=0;H<ce;++H)pe[xe+H]=W=nt(y[E+H],W)}function Zt(y,E,H,W,ce){var pe;for(pe=0;pe<H;++pe){var xe=y[E+pe],ye=xe>>8&255,ve=16711935&(ve=(ve=16711935&xe)+((ye<<16)+ye));W[ce+pe]=(4278255360&xe)+ve>>>0}}function dr(y,E){E.jd=y>>0&255,E.hd=y>>8&255,E.ud=y>>16&255}function Lt(y,E,H,W,ce,pe){var xe;for(xe=0;xe<W;++xe){var ye=E[H+xe],ve=ye>>>8,Be=ye,De=255&(De=(De=ye>>>16)+((y.jd<<24>>24)*(ve<<24>>24)>>>5));Be=255&(Be=(Be=Be+((y.hd<<24>>24)*(ve<<24>>24)>>>5))+((y.ud<<24>>24)*(De<<24>>24)>>>5)),ce[pe+xe]=(4278255360&ye)+(De<<16)+Be}}function Jt(y,E,H,W,ce){V[E]=function(pe,xe,ye,ve,Be,De,_e,ze,Me){for(ve=_e;ve<ze;++ve)for(_e=0;_e<Me;++_e)Be[De++]=ce(ye[W(pe[xe++])])},V[y]=function(pe,xe,ye,ve,Be,De,_e){var ze=8>>pe.b,Me=pe.Ea,rt=pe.K[0],Xe=pe.w;if(8>ze)for(pe=(1<<pe.b)-1,Xe=(1<<ze)-1;xe<ye;++xe){var Te,Re=0;for(Te=0;Te<Me;++Te)Te&pe||(Re=W(ve[Be++])),De[_e++]=ce(rt[Re&Xe]),Re>>=ze}else V["VP8LMapColor"+H](ve,Be,rt,Xe,De,_e,xe,ye,Me)}}function xt(y,E,H,W,ce){for(H=E+H;E<H;){var pe=y[E++];W[ce++]=pe>>16&255,W[ce++]=pe>>8&255,W[ce++]=pe>>0&255}}function wa(y,E,H,W,ce){for(H=E+H;E<H;){var pe=y[E++];W[ce++]=pe>>16&255,W[ce++]=pe>>8&255,W[ce++]=pe>>0&255,W[ce++]=pe>>24&255}}function lr(y,E,H,W,ce){for(H=E+H;E<H;){var pe=(xe=y[E++])>>16&240|xe>>12&15,xe=xe>>0&240|xe>>28&15;W[ce++]=pe,W[ce++]=xe}}function ks(y,E,H,W,ce){for(H=E+H;E<H;){var pe=(xe=y[E++])>>16&248|xe>>13&7,xe=xe>>5&224|xe>>3&31;W[ce++]=pe,W[ce++]=xe}}function yr(y,E,H,W,ce){for(H=E+H;E<H;){var pe=y[E++];W[ce++]=pe>>0&255,W[ce++]=pe>>8&255,W[ce++]=pe>>16&255}}function Sr(y,E,H,W,ce,pe){if(pe==0)for(H=E+H;E<H;)Ke(W,((pe=y[E++])[0]>>24|pe[1]>>8&65280|pe[2]<<8&16711680|pe[3]<<24)>>>0),ce+=32;else s(W,ce,y,E,H)}function dn(y,E){V[E][0]=V[y+"0"],V[E][1]=V[y+"1"],V[E][2]=V[y+"2"],V[E][3]=V[y+"3"],V[E][4]=V[y+"4"],V[E][5]=V[y+"5"],V[E][6]=V[y+"6"],V[E][7]=V[y+"7"],V[E][8]=V[y+"8"],V[E][9]=V[y+"9"],V[E][10]=V[y+"10"],V[E][11]=V[y+"11"],V[E][12]=V[y+"12"],V[E][13]=V[y+"13"],V[E][14]=V[y+"0"],V[E][15]=V[y+"0"]}function gr(y){return y==R0||y==M0||y==ah||y==H0}function Ei(){this.eb=[],this.size=this.A=this.fb=0}function Rr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _s(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ei,this.f.kb=new Rr,this.sd=null}function Qn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function br(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ot(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function cr(y,E){var H=y.T,W=E.ba.f.RGBA,ce=W.eb,pe=W.fb+y.ka*W.A,xe=yn[E.ba.S],ye=y.y,ve=y.O,Be=y.f,De=y.N,_e=y.ea,ze=y.W,Me=E.cc,rt=E.dc,Xe=E.Mc,Te=E.Nc,Re=y.ka,Ze=y.ka+y.T,at=y.U,et=at+1>>1;for(Re==0?xe(ye,ve,null,null,Be,De,_e,ze,Be,De,_e,ze,ce,pe,null,null,at):(xe(E.ec,E.fc,ye,ve,Me,rt,Xe,Te,Be,De,_e,ze,ce,pe-W.A,ce,pe,at),++H);Re+2<Ze;Re+=2)Me=Be,rt=De,Xe=_e,Te=ze,De+=y.Rc,ze+=y.Rc,pe+=2*W.A,xe(ye,(ve+=2*y.fa)-y.fa,ye,ve,Me,rt,Xe,Te,Be,De,_e,ze,ce,pe-W.A,ce,pe,at);return ve+=y.fa,y.j+Ze<y.o?(s(E.ec,E.fc,ye,ve,at),s(E.cc,E.dc,Be,De,et),s(E.Mc,E.Nc,_e,ze,et),H--):1&Ze||xe(ye,ve,null,null,Be,De,_e,ze,Be,De,_e,ze,ce,pe+W.A,null,null,at),H}function ni(y,E,H){var W=y.F,ce=[y.J];if(W!=null){var pe=y.U,xe=E.ba.S,ye=xe==rh||xe==ah;E=E.ba.f.RGBA;var ve=[0],Be=y.ka;ve[0]=y.T,y.Kb&&(Be==0?--ve[0]:(--Be,ce[0]-=y.width),y.j+y.ka+y.T==y.o&&(ve[0]=y.o-y.j-Be));var De=E.eb;Be=E.fb+Be*E.A,y=Qr(W,ce[0],y.width,pe,ve,De,Be+(ye?0:3),E.A),t(H==ve),y&&gr(xe)&&mn(De,Be,ye,pe,ve,E.A)}return 0}function ka(y){var E=y.ma,H=E.ba.S,W=11>H,ce=H==eh||H==th||H==rh||H==T0||H==12||gr(H);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!WA(E.Oa,y,ce?11:12))return 0;if(ce&&gr(H)&&st(),y.da)alert("todo:use_scaling");else{if(W){if(E.Ib=Ot,y.Kb){if(H=y.U+1>>1,E.memory=l(y.U+2*H),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+y.U,E.Mc=E.cc,E.Nc=E.dc+H,E.Ib=cr,st()}}else alert("todo:EmitYUV");ce&&(E.Jb=ni,W&&He())}if(W&&!Ub){for(y=0;256>y;++y)ej[y]=89858*(y-128)+nh>>sh,aj[y]=-22014*(y-128)+nh,rj[y]=-45773*(y-128),tj[y]=113618*(y-128)+nh>>sh;for(y=sd;y<z0;++y)E=76283*(y-16)+nh>>sh,sj[y-sd]=Ws(E,255),nj[y-sd]=Ws(E+8>>4,15);Ub=1}return 1}function zs(y){var E=y.ma,H=y.U,W=y.T;return t(!(1&y.ka)),0>=H||0>=W?0:(H=E.Ib(y,E),E.Jb!=null&&E.Jb(y,E,H),E.Dc+=H,1)}function Vs(y){y.ma.memory=null}function Dt(y,E,H,W){return Pe(y,8)!=47?0:(E[0]=Pe(y,14)+1,H[0]=Pe(y,14)+1,W[0]=Pe(y,1),Pe(y,3)!=0?0:!y.h)}function Gs(y,E){if(4>y)return y+1;var H=y-2>>1;return(2+(1&y)<<H)+Pe(E,H)+1}function un(y,E){return 120<E?E-120:1<=(H=((H=HC[E-1])>>4)*y+(8-(15&H)))?H:1;var H}function qa(y,E,H){var W=he(H),ce=y[E+=255&W].g-8;return 0<ce&&(Ee(H,H.u+8),W=he(H),E+=y[E].value,E+=W&(1<<ce)-1),Ee(H,H.u+y[E].g),y[E].value}function ra(y,E,H){return H.g+=y.g,H.value+=y.value<<E>>>0,t(8>=H.g),y.g}function Yr(y,E,H){var W=y.xc;return t((E=W==0?0:y.vc[y.md*(H>>W)+(E>>W)])<y.Wb),y.Ya[E]}function ds(y,E,H,W){var ce=y.ab,pe=y.c*E,xe=y.C;E=xe+E;var ye=H,ve=W;for(W=y.Ta,H=y.Ua;0<ce--;){var Be=y.gc[ce],De=xe,_e=E,ze=ye,Me=ve,rt=(ve=W,ye=H,Be.Ea);switch(t(De<_e),t(_e<=Be.nc),Be.hc){case 2:Xu(ze,Me,(_e-De)*rt,ve,ye);break;case 0:var Xe=De,Te=_e,Re=ve,Ze=ye,at=(mt=Be).Ea;Xe==0&&(Q0(ze,Me,null,null,1,Re,Ze),Xt(ze,Me+1,0,0,at-1,Re,Ze+1),Me+=at,Ze+=at,++Xe);for(var et=1<<mt.b,Nt=et-1,ht=dt(at,mt.b),Tt=mt.K,mt=mt.w+(Xe>>mt.b)*ht;Xe<Te;){var pr=Tt,vr=mt,ur=1;for(JA(ze,Me,Re,Ze-at,1,Re,Ze);ur<at;){var sr=(ur&~Nt)+et;sr>at&&(sr=at),(0,fo[pr[vr++]>>8&15])(ze,Me+ +ur,Re,Ze+ur-at,sr-ur,Re,Ze+ur),ur=sr}Me+=at,Ze+=at,++Xe&Nt||(mt+=ht)}_e!=Be.nc&&s(ve,ye-rt,ve,ye+(_e-De-1)*rt,rt);break;case 1:for(rt=ze,Te=Me,at=(ze=Be.Ea)-(Ze=ze&~(Re=(Me=1<<Be.b)-1)),Xe=dt(ze,Be.b),et=Be.K,Be=Be.w+(De>>Be.b)*Xe;De<_e;){for(Nt=et,ht=Be,Tt=new gt,mt=Te+Ze,pr=Te+ze;Te<mt;)dr(Nt[ht++],Tt),bl(Tt,rt,Te,Me,ve,ye),Te+=Me,ye+=Me;Te<pr&&(dr(Nt[ht++],Tt),bl(Tt,rt,Te,at,ve,ye),Te+=at,ye+=at),++De&Re||(Be+=Xe)}break;case 3:if(ze==ve&&Me==ye&&0<Be.b){for(Te=ve,ze=rt=ye+(_e-De)*rt-(Ze=(_e-De)*dt(Be.Ea,Be.b)),Me=ve,Re=ye,Xe=[],Ze=(at=Ze)-1;0<=Ze;--Ze)Xe[Ze]=Me[Re+Ze];for(Ze=at-1;0<=Ze;--Ze)Te[ze+Ze]=Xe[Ze];gn(Be,De,_e,ve,rt,ve,ye)}else gn(Be,De,_e,ze,Me,ve,ye)}ye=W,ve=H}ve!=H&&s(W,H,ye,ve,pe)}function ii(y,E){var H=y.V,W=y.Ba+y.c*y.C,ce=E-y.C;if(t(E<=y.l.o),t(16>=ce),0<ce){var pe=y.l,xe=y.Ta,ye=y.Ua,ve=pe.width;if(ds(y,ce,H,W),ce=ye=[ye],t((H=y.C)<(W=E)),t(pe.v<pe.va),W>pe.o&&(W=pe.o),H<pe.j){var Be=pe.j-H;H=pe.j,ce[0]+=Be*ve}if(H>=W?H=0:(ce[0]+=4*pe.v,pe.ka=H-pe.j,pe.U=pe.va-pe.v,pe.T=W-H,H=1),H){if(ye=ye[0],11>(H=y.ca).S){var De=H.f.RGBA,_e=(W=H.S,ce=pe.U,pe=pe.T,Be=De.eb,De.A),ze=pe;for(De=De.fb+y.Ma*De.A;0<ze--;){var Me=xe,rt=ye,Xe=ce,Te=Be,Re=De;switch(W){case Zu:js(Me,rt,Xe,Te,Re);break;case eh:us(Me,rt,Xe,Te,Re);break;case R0:us(Me,rt,Xe,Te,Re),mn(Te,Re,0,Xe,1,0);break;case Nb:Ti(Me,rt,Xe,Te,Re);break;case th:Sr(Me,rt,Xe,Te,Re,1);break;case M0:Sr(Me,rt,Xe,Te,Re,1),mn(Te,Re,0,Xe,1,0);break;case rh:Sr(Me,rt,Xe,Te,Re,0);break;case ah:Sr(Me,rt,Xe,Te,Re,0),mn(Te,Re,1,Xe,1,0);break;case T0:po(Me,rt,Xe,Te,Re);break;case H0:po(Me,rt,Xe,Te,Re),Ur(Te,Re,Xe,1,0);break;case Bb:Di(Me,rt,Xe,Te,Re);break;default:t(0)}ye+=ve,De+=_e}y.Ma+=pe}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=H.height)}}y.C=E,t(y.C<=y.i)}function qs(y){var E;if(0<y.ua)return 0;for(E=0;E<y.Wb;++E){var H=y.Ya[E].G,W=y.Ya[E].H;if(0<H[1][W[1]+0].g||0<H[2][W[2]+0].g||0<H[3][W[3]+0].g)return 0}return 1}function Na(y,E,H,W,ce,pe){if(y.Z!=0){var xe=y.qd,ye=y.rd;for(t(bo[y.Z]!=null);E<H;++E)bo[y.Z](xe,ye,W,ce,W,ce,pe),xe=W,ye=ce,ce+=pe;y.qd=xe,y.rd=ye}}function Xa(y,E){var H=y.l.ma,W=H.Z==0||H.Z==1?y.l.j:y.C;if(W=y.C<W?W:y.C,t(E<=y.l.o),E>W){var ce=y.l.width,pe=H.ca,xe=H.tb+ce*W,ye=y.V,ve=y.Ba+y.c*W,Be=y.gc;t(y.ab==1),t(Be[0].hc==3),Ku(Be[0],W,E,ye,ve,pe,xe),Na(H,W,E,pe,xe,ce)}y.C=y.Ma=E}function Xs(y,E,H,W,ce,pe,xe){var ye=y.$/W,ve=y.$%W,Be=y.m,De=y.s,_e=H+y.$,ze=_e;ce=H+W*ce;var Me=H+W*pe,rt=280+De.ua,Xe=y.Pb?ye:16777216,Te=0<De.ua?De.Wa:null,Re=De.wc,Ze=_e<Me?Yr(De,ve,ye):null;t(y.C<pe),t(Me<=ce);var at=!1;e:for(;;){for(;at||_e<Me;){var et=0;if(ye>=Xe){var Nt=_e-H;t((Xe=y).Pb),Xe.wd=Xe.m,Xe.xd=Nt,0<Xe.s.ua&&We(Xe.s.Wa,Xe.s.vb),Xe=ye+_C}if(ve&Re||(Ze=Yr(De,ve,ye)),t(Ze!=null),Ze.Qb&&(E[_e]=Ze.qb,at=!0),!at)if(Se(Be),Ze.jc){et=Be,Nt=E;var ht=_e,Tt=Ze.pd[he(et)&Ma-1];t(Ze.jc),256>Tt.g?(Ee(et,et.u+Tt.g),Nt[ht]=Tt.value,et=0):(Ee(et,et.u+Tt.g-256),t(256<=Tt.value),et=Tt.value),et==0&&(at=!0)}else et=qa(Ze.G[0],Ze.H[0],Be);if(Be.h)break;if(at||256>et){if(!at)if(Ze.nd)E[_e]=(Ze.qb|et<<8)>>>0;else{if(Se(Be),at=qa(Ze.G[1],Ze.H[1],Be),Se(Be),Nt=qa(Ze.G[2],Ze.H[2],Be),ht=qa(Ze.G[3],Ze.H[3],Be),Be.h)break;E[_e]=(ht<<24|at<<16|et<<8|Nt)>>>0}if(at=!1,++_e,++ve>=W&&(ve=0,++ye,xe!=null&&ye<=pe&&!(ye%16)&&xe(y,ye),Te!=null))for(;ze<_e;)et=E[ze++],Te.X[(506832829*et&4294967295)>>>Te.Mb]=et}else if(280>et){if(et=Gs(et-256,Be),Nt=qa(Ze.G[4],Ze.H[4],Be),Se(Be),Nt=un(W,Nt=Gs(Nt,Be)),Be.h)break;if(_e-H<Nt||ce-_e<et)break e;for(ht=0;ht<et;++ht)E[_e+ht]=E[_e+ht-Nt];for(_e+=et,ve+=et;ve>=W;)ve-=W,++ye,xe!=null&&ye<=pe&&!(ye%16)&&xe(y,ye);if(t(_e<=ce),ve&Re&&(Ze=Yr(De,ve,ye)),Te!=null)for(;ze<_e;)et=E[ze++],Te.X[(506832829*et&4294967295)>>>Te.Mb]=et}else{if(!(et<rt))break e;for(at=et-280,t(Te!=null);ze<_e;)et=E[ze++],Te.X[(506832829*et&4294967295)>>>Te.Mb]=et;et=_e,t(!(at>>>(Nt=Te).Xa)),E[et]=Nt.X[at],at=!0}at||t(Be.h==Ne(Be))}if(y.Pb&&Be.h&&_e<ce)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&We(y.s.vb,y.s.Wa);else{if(Be.h)break e;xe!=null&&xe(y,ye>pe?pe:ye),y.a=0,y.$=_e-H}return 1}return y.a=3,0}function Ks(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var E=y.Wa;E!=null&&(E.X=null),y.vb=null,t(y!=null)}function Ns(){var y=new U0;return y==null?null:(y.a=0,y.xb=Sb,dn("Predictor","VP8LPredictors"),dn("Predictor","VP8LPredictors_C"),dn("PredictorAdd","VP8LPredictorsAdd"),dn("PredictorAdd","VP8LPredictorsAdd_C"),Xu=Zt,bl=Lt,js=xt,us=wa,po=lr,Di=ks,Ti=yr,V.VP8LMapColor32b=wc,V.VP8LMapColor8b=Wu,y)}function hn(y,E,H,W,ce){var pe=1,xe=[y],ye=[E],ve=W.m,Be=W.s,De=null,_e=0;e:for(;;){if(H)for(;pe&&Pe(ve,1);){var ze=xe,Me=ye,rt=W,Xe=1,Te=rt.m,Re=rt.gc[rt.ab],Ze=Pe(Te,2);if(rt.Oc&1<<Ze)pe=0;else{switch(rt.Oc|=1<<Ze,Re.hc=Ze,Re.Ea=ze[0],Re.nc=Me[0],Re.K=[null],++rt.ab,t(4>=rt.ab),Ze){case 0:case 1:Re.b=Pe(Te,3)+2,Xe=hn(dt(Re.Ea,Re.b),dt(Re.nc,Re.b),0,rt,Re.K),Re.K=Re.K[0];break;case 3:var at,et=Pe(Te,8)+1,Nt=16<et?0:4<et?1:2<et?2:3;if(ze[0]=dt(Re.Ea,Nt),Re.b=Nt,at=Xe=hn(et,1,0,rt,Re.K)){var ht,Tt=et,mt=Re,pr=1<<(8>>mt.b),vr=l(pr);if(vr==null)at=0;else{var ur=mt.K[0],sr=mt.w;for(vr[0]=mt.K[0][0],ht=1;ht<1*Tt;++ht)vr[ht]=nt(ur[sr+ht],vr[ht-1]);for(;ht<4*pr;++ht)vr[ht]=0;mt.K[0]=null,mt.K[0]=vr,at=1}}Xe=at;break;case 2:break;default:t(0)}pe=Xe}}if(xe=xe[0],ye=ye[0],pe&&Pe(ve,1)&&!(pe=1<=(_e=Pe(ve,4))&&11>=_e)){W.a=3;break e}var Fr;if(Fr=pe)t:{var Cr,Yt,pa,Ss=W,ma=xe,Fs=ye,wr=_e,$s=H,Js=Ss.m,Ia=Ss.s,Ha=[null],gs=1,bn=0,di=OC[wr];r:for(;;){if($s&&Pe(Js,1)){var Pa=Pe(Js,3)+2,Oi=dt(ma,Pa),Bl=dt(Fs,Pa),jc=Oi*Bl;if(!hn(Oi,Bl,0,Ss,Ha))break r;for(Ha=Ha[0],Ia.xc=Pa,Cr=0;Cr<jc;++Cr){var vo=Ha[Cr]>>8&65535;Ha[Cr]=vo,vo>=gs&&(gs=vo+1)}}if(Js.h)break r;for(Yt=0;5>Yt;++Yt){var Zr=Cb[Yt];!Yt&&0<wr&&(Zr+=1<<wr),bn<Zr&&(bn=Zr)}var V0=d(gs*di,J),Tb=gs,Rb=d(Tb,le);if(Rb==null)var oh=null;else t(65536>=Tb),oh=Rb;var nd=l(bn);if(oh==null||nd==null||V0==null){Ss.a=1;break r}var lh=V0;for(Cr=pa=0;Cr<gs;++Cr){var Mn=oh[Cr],Sc=Mn.G,Fc=Mn.H,Mb=0,ch=1,Hb=0;for(Yt=0;5>Yt;++Yt){Zr=Cb[Yt],Sc[Yt]=lh,Fc[Yt]=pa,!Yt&&0<wr&&(Zr+=1<<wr);s:{var Ah,G0=Zr,dh=Ss,id=nd,lj=lh,cj=pa,q0=0,wo=dh.m,Aj=Pe(wo,1);if(o(id,0,0,G0),Aj){var dj=Pe(wo,1)+1,uj=Pe(wo,1),Ob=Pe(wo,uj==0?1:8);id[Ob]=1,dj==2&&(id[Ob=Pe(wo,8)]=1);var uh=1}else{var _b=l(19),zb=Pe(wo,4)+4;if(19<zb){dh.a=3;var hh=0;break s}for(Ah=0;Ah<zb;++Ah)_b[MC[Ah]]=Pe(wo,3);var X0=void 0,od=void 0,Vb=dh,hj=_b,gh=G0,Gb=id,K0=0,ko=Vb.m,qb=8,Xb=d(128,J);a:for(;$(Xb,0,7,hj,19);){if(Pe(ko,1)){var gj=2+2*Pe(ko,3);if((X0=2+Pe(ko,gj))>gh)break a}else X0=gh;for(od=0;od<gh&&X0--;){Se(ko);var Kb=Xb[0+(127&he(ko))];Ee(ko,ko.u+Kb.g);var Ec=Kb.value;if(16>Ec)Gb[od++]=Ec,Ec!=0&&(qb=Ec);else{var fj=Ec==16,Wb=Ec-16,pj=TC[Wb],Yb=Pe(ko,DC[Wb])+pj;if(od+Yb>gh)break a;for(var mj=fj?qb:0;0<Yb--;)Gb[od++]=mj}}K0=1;break a}K0||(Vb.a=3),uh=K0}(uh=uh&&!wo.h)&&(q0=$(lj,cj,8,id,G0)),uh&&q0!=0?hh=q0:(dh.a=3,hh=0)}if(hh==0)break r;if(ch&&RC[Yt]==1&&(ch=lh[pa].g==0),Mb+=lh[pa].g,pa+=hh,3>=Yt){var ld,W0=nd[0];for(ld=1;ld<Zr;++ld)nd[ld]>W0&&(W0=nd[ld]);Hb+=W0}}if(Mn.nd=ch,Mn.Qb=0,ch&&(Mn.qb=(Sc[3][Fc[3]+0].value<<24|Sc[1][Fc[1]+0].value<<16|Sc[2][Fc[2]+0].value)>>>0,Mb==0&&256>Sc[0][Fc[0]+0].value&&(Mn.Qb=1,Mn.qb+=Sc[0][Fc[0]+0].value<<8)),Mn.jc=!Mn.Qb&&6>Hb,Mn.jc){var fh,_i=Mn;for(fh=0;fh<Ma;++fh){var No=fh,Bo=_i.pd[No],ph=_i.G[0][_i.H[0]+No];256<=ph.value?(Bo.g=ph.g+256,Bo.value=ph.value):(Bo.g=0,Bo.value=0,No>>=ra(ph,8,Bo),No>>=ra(_i.G[1][_i.H[1]+No],16,Bo),No>>=ra(_i.G[2][_i.H[2]+No],0,Bo),ra(_i.G[3][_i.H[3]+No],24,Bo))}}}Ia.vc=Ha,Ia.Wb=gs,Ia.Ya=oh,Ia.yc=V0,Fr=1;break t}Fr=0}if(!(pe=Fr)){W.a=3;break e}if(0<_e){if(Be.ua=1<<_e,!Qt(Be.Wa,_e)){W.a=1,pe=0;break e}}else Be.ua=0;var Y0=W,$b=xe,xj=ye,$0=Y0.s,J0=$0.xc;if(Y0.c=$b,Y0.i=xj,$0.md=dt($b,J0),$0.wc=J0==0?-1:(1<<J0)-1,H){W.xb=WC;break e}if((De=l(xe*ye))==null){W.a=1,pe=0;break e}pe=(pe=Xs(W,De,0,xe,ye,ye,null))&&!ve.h;break e}return pe?(ce!=null?ce[0]=De:(t(De==null),t(H)),W.$=0,H||Ks(Be)):Ks(Be),pe}function Li(y,E){var H=y.c*y.i,W=H+E+16*E;return t(y.c<=E),y.V=l(W),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+H+E,1)}function uo(y,E){var H=y.C,W=E-H,ce=y.V,pe=y.Ba+y.c*H;for(t(E<=y.l.o);0<W;){var xe=16<W?16:W,ye=y.l.ma,ve=y.l.width,Be=ve*xe,De=ye.ca,_e=ye.tb+ve*H,ze=y.Ta,Me=y.Ua;ds(y,xe,ce,pe),na(ze,Me,De,_e,Be),Na(ye,H,H+xe,De,_e,ve),W-=xe,ce+=xe*y.c,H+=xe}t(H==E),y.C=y.Ma=E}function Ii(){this.ub=this.yd=this.td=this.Rb=0}function Pi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function oi(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function uc(){this.Yb=function(){var y=[];return function E(H,W,ce){for(var pe=ce[W],xe=0;xe<pe&&(H.push(ce.length>W+1?[]:0),!(ce.length<W+1));xe++)E(H[xe],W+1,ce)}(y,0,[3,11]),y}()}function te(){this.jb=l(3),this.Wc=g([4,8],uc),this.Xc=g([4,17],uc)}function n(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function i(){this.ld=this.La=this.dd=this.tc=0}function c(){this.Na=this.la=0}function A(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function h(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function u(){this.uc=this.M=this.Nb=0,this.wa=Array(new i),this.Y=0,this.ya=Array(new h),this.aa=0,this.l=new w}function p(){this.y=l(16),this.f=l(8),this.ea=l(8)}function x(){this.cb=this.a=0,this.sc="",this.m=new Ve,this.Od=new Ii,this.Kc=new Pi,this.ed=new n,this.Qa=new oi,this.Ic=this.$c=this.Aa=0,this.D=new u,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,Ve),this.ia=0,this.pb=d(4,A),this.Pa=new te,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new p),this.Hd=0,this.rb=Array(new c),this.sb=0,this.wa=Array(new i),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new h),this.L=this.aa=0,this.gd=g([4,2],i),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function w(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function S(){var y=new x;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,ad||(ad=z)),y}function B(y,E,H){return y.a==0&&(y.a=E,y.sc=H,y.cb=0),0}function P(y,E,H){return 3<=H&&y[E+0]==157&&y[E+1]==1&&y[E+2]==42}function R(y,E){if(y==null)return 0;if(y.a=0,y.sc="OK",E==null)return B(y,2,"null VP8Io passed to VP8GetHeaders()");var H=E.data,W=E.w,ce=E.ha;if(4>ce)return B(y,7,"Truncated header.");var pe=H[W+0]|H[W+1]<<8|H[W+2]<<16,xe=y.Od;if(xe.Rb=!(1&pe),xe.td=pe>>1&7,xe.yd=pe>>4&1,xe.ub=pe>>5,3<xe.td)return B(y,3,"Incorrect keyframe parameters.");if(!xe.yd)return B(y,4,"Frame not displayable.");W+=3,ce-=3;var ye=y.Kc;if(xe.Rb){if(7>ce)return B(y,7,"cannot parse picture header");if(!P(H,W,ce))return B(y,3,"Bad code word");ye.c=16383&(H[W+4]<<8|H[W+3]),ye.Td=H[W+4]>>6,ye.i=16383&(H[W+6]<<8|H[W+5]),ye.Ud=H[W+6]>>6,W+=7,ce-=7,y.za=ye.c+15>>4,y.Ub=ye.i+15>>4,E.width=ye.c,E.height=ye.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,o((pe=y.Pa).jb,0,255,pe.jb.length),t((pe=y.Qa)!=null),pe.Cb=0,pe.Bb=0,pe.Fb=1,o(pe.Zb,0,0,pe.Zb.length),o(pe.Lb,0,0,pe.Lb)}if(xe.ub>ce)return B(y,7,"bad partition length");ie(pe=y.m,H,W,xe.ub),W+=xe.ub,ce-=xe.ub,xe.Rb&&(ye.Ld=ke(pe),ye.Kd=ke(pe)),ye=y.Qa;var ve,Be=y.Pa;if(t(pe!=null),t(ye!=null),ye.Cb=ke(pe),ye.Cb){if(ye.Bb=ke(pe),ke(pe)){for(ye.Fb=ke(pe),ve=0;4>ve;++ve)ye.Zb[ve]=ke(pe)?we(pe,7):0;for(ve=0;4>ve;++ve)ye.Lb[ve]=ke(pe)?we(pe,6):0}if(ye.Bb)for(ve=0;3>ve;++ve)Be.jb[ve]=ke(pe)?Y(pe,8):255}else ye.Bb=0;if(pe.Ka)return B(y,3,"cannot parse segment header");if((ye=y.ed).zd=ke(pe),ye.Tb=Y(pe,6),ye.wb=Y(pe,3),ye.Pc=ke(pe),ye.Pc&&ke(pe)){for(Be=0;4>Be;++Be)ke(pe)&&(ye.vd[Be]=we(pe,6));for(Be=0;4>Be;++Be)ke(pe)&&(ye.od[Be]=we(pe,6))}if(y.L=ye.Tb==0?0:ye.zd?1:2,pe.Ka)return B(y,3,"cannot parse filter header");var De=ce;if(ce=ve=W,W=ve+De,ye=De,y.Xb=(1<<Y(y.m,2))-1,De<3*(Be=y.Xb))H=7;else{for(ve+=3*Be,ye-=3*Be,De=0;De<Be;++De){var _e=H[ce+0]|H[ce+1]<<8|H[ce+2]<<16;_e>ye&&(_e=ye),ie(y.Jc[+De],H,ve,_e),ve+=_e,ye-=_e,ce+=3}ie(y.Jc[+Be],H,ve,ye),H=ve<W?0:5}if(H!=0)return B(y,H,"cannot parse partitions");for(H=Y(ve=y.m,7),ce=ke(ve)?we(ve,4):0,W=ke(ve)?we(ve,4):0,ye=ke(ve)?we(ve,4):0,Be=ke(ve)?we(ve,4):0,ve=ke(ve)?we(ve,4):0,De=y.Qa,_e=0;4>_e;++_e){if(De.Cb){var ze=De.Zb[_e];De.Fb||(ze+=H)}else{if(0<_e){y.pb[_e]=y.pb[0];continue}ze=H}var Me=y.pb[_e];Me.Sc[0]=O0[Ws(ze+ce,127)],Me.Sc[1]=_0[Ws(ze+0,127)],Me.Eb[0]=2*O0[Ws(ze+W,127)],Me.Eb[1]=101581*_0[Ws(ze+ye,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=O0[Ws(ze+Be,117)],Me.Qc[1]=_0[Ws(ze+ve,127)],Me.lc=ze+ve}if(!xe.Rb)return B(y,4,"Not a key frame.");for(ke(pe),xe=y.Pa,H=0;4>H;++H){for(ce=0;8>ce;++ce)for(W=0;3>W;++W)for(ye=0;11>ye;++ye)Be=Qe(pe,XC[H][ce][W][ye])?Y(pe,8):GC[H][ce][W][ye],xe.Wc[H][ce].Yb[W][ye]=Be;for(ce=0;17>ce;++ce)xe.Xc[H][ce]=xe.Wc[H][KC[ce]]}return y.kc=ke(pe),y.kc&&(y.Bd=Y(pe,8)),y.cb=1}function z(y,E,H,W,ce,pe,xe){var ye=E[ce].Yb[H];for(H=0;16>ce;++ce){if(!Qe(y,ye[H+0]))return ce;for(;!Qe(y,ye[H+1]);)if(ye=E[++ce].Yb[0],H=0,ce==16)return 16;var ve=E[ce+1].Yb;if(Qe(y,ye[H+2])){var Be=y,De=0;if(Qe(Be,(ze=ye)[(_e=H)+3]))if(Qe(Be,ze[_e+6])){for(ye=0,_e=2*(De=Qe(Be,ze[_e+8]))+(ze=Qe(Be,ze[_e+9+De])),De=0,ze=zC[_e];ze[ye];++ye)De+=De+Qe(Be,ze[ye]);De+=3+(8<<_e)}else Qe(Be,ze[_e+7])?(De=7+2*Qe(Be,165),De+=Qe(Be,145)):De=5+Qe(Be,159);else De=Qe(Be,ze[_e+4])?3+Qe(Be,ze[_e+5]):2;ye=ve[2]}else De=1,ye=ve[1];ve=xe+VC[ce],0>(Be=y).b&&Ie(Be);var _e,ze=Be.b,Me=(_e=Be.Ca>>1)-(Be.I>>ze)>>31;--Be.b,Be.Ca+=Me,Be.Ca|=1,Be.I-=(_e+1&Me)<<ze,pe[ve]=((De^Me)-Me)*W[(0<ce)+0]}return 16}function _(y){var E=y.rb[y.sb-1];E.la=0,E.Na=0,o(y.zc,0,0,y.zc.length),y.ja=0}function Z(y,E){if(y==null)return 0;if(E==null)return B(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!R(y,E))return 0;if(t(y.cb),E.ac==null||E.ac(E)){E.ob&&(y.L=0);var H=ih[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=E.v-H>>4,y.zb=E.j-H>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=E.o+15+H>>4,y.Hb=E.va+15+H>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var W=y.ed;for(H=0;4>H;++H){var ce;if(y.Qa.Cb){var pe=y.Qa.Lb[H];y.Qa.Fb||(pe+=W.Tb)}else pe=W.Tb;for(ce=0;1>=ce;++ce){var xe=y.gd[H][ce],ye=pe;if(W.Pc&&(ye+=W.vd[0],ce&&(ye+=W.od[0])),0<(ye=0>ye?0:63<ye?63:ye)){var ve=ye;0<W.wb&&(ve=4<W.wb?ve>>2:ve>>1)>9-W.wb&&(ve=9-W.wb),1>ve&&(ve=1),xe.dd=ve,xe.tc=2*ye+ve,xe.ld=40<=ye?2:15<=ye?1:0}else xe.tc=0;xe.La=ce}}}H=0}else B(y,6,"Frame setup failed"),H=y.a;if(H=H==0){if(H){y.$c=0,0<y.Aa||(y.Ic=oj);e:{H=y.Ic,W=4*(ve=y.za);var Be=32*ve,De=ve+1,_e=0<y.L?ve*(0<y.Aa?2:1):0,ze=(y.Aa==2?2:1)*ve;if((xe=W+832+(ce=3*(16*H+ih[y.L])/2*Be)+(pe=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=xe)H=0;else{if(xe>y.Vb){if(y.Vb=0,y.Ec=l(xe),y.Fc=0,y.Ec==null){H=B(y,1,"no memory during frame initialization.");break e}y.Vb=xe}xe=y.Ec,ye=y.Fc,y.Ac=xe,y.Bc=ye,ye+=W,y.Gd=d(Be,p),y.Hd=0,y.rb=d(De+1,c),y.sb=1,y.wa=_e?d(_e,i):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=ve),t(!0),y.oc=xe,y.pc=ye,ye+=832,y.ya=d(ze,h),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=ve),y.R=16*ve,y.B=8*ve,ve=(Be=ih[y.L])*y.R,Be=Be/2*y.B,y.sa=xe,y.ta=ye+ve,y.qa=y.sa,y.ra=y.ta+16*H*y.R+Be,y.Ha=y.qa,y.Ia=y.ra+8*H*y.B+Be,y.$c=0,ye+=ce,y.mb=pe?xe:null,y.nb=pe?ye:null,t(ye+pe<=y.Fc+y.Vb),_(y),o(y.Ac,y.Bc,0,W),H=1}}if(H){if(E.ka=0,E.y=y.sa,E.O=y.ta,E.f=y.qa,E.N=y.ra,E.ea=y.Ha,E.Vd=y.Ia,E.fa=y.R,E.Rc=y.B,E.F=null,E.J=0,!$u){for(H=-255;255>=H;++H)Ba[255+H]=0>H?-H:H;for(H=-1020;1020>=H;++H)Mi[1020+H]=-128>H?-128:127<H?127:H;for(H=-112;112>=H;++H)rd[112+H]=-16>H?-16:15<H?15:H;for(H=-255;510>=H;++H)Cc[255+H]=0>H?0:255<H?255:H;$u=1}kc=Le,Ri=ge,ZA=se,hs=me,fn=Fe,sa=K,Nc=HA,Yu=xl,ed=P0,vl=OA,wl=I0,mo=gc,kl=_A,Bc=Vu,Nl=zu,xo=ci,td=Qi,pn=L0,Rn[0]=_r,Rn[1]=$e,Rn[2]=Br,Rn[3]=fr,Rn[4]=ir,Rn[5]=ar,Rn[6]=rr,Rn[7]=$r,Rn[8]=Bs,Rn[9]=ga,yo[0]=It,yo[1]=Je,yo[2]=ot,yo[3]=ft,yo[4]=Ft,yo[5]=Pt,yo[6]=Kt,Hi[0]=li,Hi[1]=Ge,Hi[2]=Ui,Hi[3]=aa,Hi[4]=ml,Hi[5]=E0,Hi[6]=MA,H=1}else H=0}H&&(H=function(Me,rt){for(Me.M=0;Me.M<Me.Va;++Me.M){var Xe,Te=Me.Jc[Me.M&Me.Xb],Re=Me.m,Ze=Me;for(Xe=0;Xe<Ze.za;++Xe){var at=Re,et=Ze,Nt=et.Ac,ht=et.Bc+4*Xe,Tt=et.zc,mt=et.ya[et.aa+Xe];if(et.Qa.Bb?mt.$b=Qe(at,et.Pa.jb[0])?2+Qe(at,et.Pa.jb[2]):Qe(at,et.Pa.jb[1]):mt.$b=0,et.kc&&(mt.Ad=Qe(at,et.Bd)),mt.Za=!Qe(at,145)+0,mt.Za){var pr=mt.Ob,vr=0;for(et=0;4>et;++et){var ur,sr=Tt[0+et];for(ur=0;4>ur;++ur){sr=qC[Nt[ht+ur]][sr];for(var Fr=jb[Qe(at,sr[0])];0<Fr;)Fr=jb[2*Fr+Qe(at,sr[Fr])];sr=-Fr,Nt[ht+ur]=sr}s(pr,vr,Nt,ht,4),vr+=4,Tt[0+et]=sr}}else sr=Qe(at,156)?Qe(at,128)?1:3:Qe(at,163)?2:0,mt.Ob[0]=sr,o(Nt,ht,sr,4),o(Tt,0,sr,4);mt.Dd=Qe(at,142)?Qe(at,114)?Qe(at,183)?1:3:2:0}if(Ze.m.Ka)return B(Me,7,"Premature end-of-partition0 encountered.");for(;Me.ja<Me.za;++Me.ja){if(Ze=Te,at=(Re=Me).rb[Re.sb-1],Nt=Re.rb[Re.sb+Re.ja],Xe=Re.ya[Re.aa+Re.ja],ht=Re.kc?Xe.Ad:0)at.la=Nt.la=0,Xe.Za||(at.Na=Nt.Na=0),Xe.Hc=0,Xe.Gc=0,Xe.ia=0;else{var Cr,Yt;if(at=Nt,Nt=Ze,ht=Re.Pa.Xc,Tt=Re.ya[Re.aa+Re.ja],mt=Re.pb[Tt.$b],et=Tt.ad,pr=0,vr=Re.rb[Re.sb-1],sr=ur=0,o(et,pr,0,384),Tt.Za)var pa=0,Ss=ht[3];else{Fr=l(16);var ma=at.Na+vr.Na;if(ma=ad(Nt,ht[1],ma,mt.Eb,0,Fr,0),at.Na=vr.Na=(0<ma)+0,1<ma)kc(Fr,0,et,pr);else{var Fs=Fr[0]+3>>3;for(Fr=0;256>Fr;Fr+=16)et[pr+Fr]=Fs}pa=1,Ss=ht[0]}var wr=15&at.la,$s=15&vr.la;for(Fr=0;4>Fr;++Fr){var Js=1&$s;for(Fs=Yt=0;4>Fs;++Fs)wr=wr>>1|(Js=(ma=ad(Nt,Ss,ma=Js+(1&wr),mt.Sc,pa,et,pr))>pa)<<7,Yt=Yt<<2|(3<ma?3:1<ma?2:et[pr+0]!=0),pr+=16;wr>>=4,$s=$s>>1|Js<<7,ur=(ur<<8|Yt)>>>0}for(Ss=wr,pa=$s>>4,Cr=0;4>Cr;Cr+=2){for(Yt=0,wr=at.la>>4+Cr,$s=vr.la>>4+Cr,Fr=0;2>Fr;++Fr){for(Js=1&$s,Fs=0;2>Fs;++Fs)ma=Js+(1&wr),wr=wr>>1|(Js=0<(ma=ad(Nt,ht[2],ma,mt.Qc,0,et,pr)))<<3,Yt=Yt<<2|(3<ma?3:1<ma?2:et[pr+0]!=0),pr+=16;wr>>=2,$s=$s>>1|Js<<5}sr|=Yt<<4*Cr,Ss|=wr<<4<<Cr,pa|=(240&$s)<<Cr}at.la=Ss,vr.la=pa,Tt.Hc=ur,Tt.Gc=sr,Tt.ia=43690&sr?0:mt.ia,ht=!(ur|sr)}if(0<Re.L&&(Re.wa[Re.Y+Re.ja]=Re.gd[Xe.$b][Xe.Za],Re.wa[Re.Y+Re.ja].La|=!ht),Ze.Ka)return B(Me,7,"Premature end-of-file encountered.")}if(_(Me),Re=rt,Ze=1,Xe=(Te=Me).D,at=0<Te.L&&Te.M>=Te.zb&&Te.M<=Te.Va,Te.Aa==0)e:{if(Xe.M=Te.M,Xe.uc=at,KA(Te,Xe),Ze=1,Xe=(Yt=Te.D).Nb,at=(sr=ih[Te.L])*Te.R,Nt=sr/2*Te.B,Fr=16*Xe*Te.R,Fs=8*Xe*Te.B,ht=Te.sa,Tt=Te.ta-at+Fr,mt=Te.qa,et=Te.ra-Nt+Fs,pr=Te.Ha,vr=Te.Ia-Nt+Fs,$s=(wr=Yt.M)==0,ur=wr>=Te.Va-1,Te.Aa==2&&KA(Te,Yt),Yt.uc)for(Js=(ma=Te).D.M,t(ma.D.uc),Yt=ma.yb;Yt<ma.Hb;++Yt){pa=Yt,Ss=Js;var Ia=(Ha=(Zr=ma).D).Nb;Cr=Zr.R;var Ha=Ha.wa[Ha.Y+pa],gs=Zr.sa,bn=Zr.ta+16*Ia*Cr+16*pa,di=Ha.dd,Pa=Ha.tc;if(Pa!=0)if(t(3<=Pa),Zr.L==1)0<pa&&xo(gs,bn,Cr,Pa+4),Ha.La&&pn(gs,bn,Cr,Pa),0<Ss&&Nl(gs,bn,Cr,Pa+4),Ha.La&&td(gs,bn,Cr,Pa);else{var Oi=Zr.B,Bl=Zr.qa,jc=Zr.ra+8*Ia*Oi+8*pa,vo=Zr.Ha,Zr=Zr.Ia+8*Ia*Oi+8*pa;Ia=Ha.ld,0<pa&&(Yu(gs,bn,Cr,Pa+4,di,Ia),vl(Bl,jc,vo,Zr,Oi,Pa+4,di,Ia)),Ha.La&&(mo(gs,bn,Cr,Pa,di,Ia),Bc(Bl,jc,vo,Zr,Oi,Pa,di,Ia)),0<Ss&&(Nc(gs,bn,Cr,Pa+4,di,Ia),ed(Bl,jc,vo,Zr,Oi,Pa+4,di,Ia)),Ha.La&&(wl(gs,bn,Cr,Pa,di,Ia),kl(Bl,jc,vo,Zr,Oi,Pa,di,Ia))}}if(Te.ia&&alert("todo:DitherRow"),Re.put!=null){if(Yt=16*wr,wr=16*(wr+1),$s?(Re.y=Te.sa,Re.O=Te.ta+Fr,Re.f=Te.qa,Re.N=Te.ra+Fs,Re.ea=Te.Ha,Re.W=Te.Ia+Fs):(Yt-=sr,Re.y=ht,Re.O=Tt,Re.f=mt,Re.N=et,Re.ea=pr,Re.W=vr),ur||(wr-=sr),wr>Re.o&&(wr=Re.o),Re.F=null,Re.J=null,Te.Fa!=null&&0<Te.Fa.length&&Yt<wr&&(Re.J=qA(Te,Re,Yt,wr-Yt),Re.F=Te.mb,Re.F==null&&Re.F.length==0)){Ze=B(Te,3,"Could not decode alpha data.");break e}Yt<Re.j&&(sr=Re.j-Yt,Yt=Re.j,t(!(1&sr)),Re.O+=Te.R*sr,Re.N+=Te.B*(sr>>1),Re.W+=Te.B*(sr>>1),Re.F!=null&&(Re.J+=Re.width*sr)),Yt<wr&&(Re.O+=Re.v,Re.N+=Re.v>>1,Re.W+=Re.v>>1,Re.F!=null&&(Re.J+=Re.v),Re.ka=Yt-Re.j,Re.U=Re.va-Re.v,Re.T=wr-Yt,Ze=Re.put(Re))}Xe+1!=Te.Ic||ur||(s(Te.sa,Te.ta-at,ht,Tt+16*Te.R,at),s(Te.qa,Te.ra-Nt,mt,et+8*Te.B,Nt),s(Te.Ha,Te.Ia-Nt,pr,vr+8*Te.B,Nt))}if(!Ze)return B(Me,6,"Output aborted.")}return 1}(y,E)),E.bc!=null&&E.bc(E),H&=1}return H?(y.cb=0,H):0}function ee(y,E,H,W,ce){ce=y[E+H+32*W]+(ce>>3),y[E+H+32*W]=-256&ce?0>ce?0:255:ce}function ae(y,E,H,W,ce,pe){ee(y,E,0,H,W+ce),ee(y,E,1,H,W+pe),ee(y,E,2,H,W-pe),ee(y,E,3,H,W-ce)}function b(y){return(20091*y>>16)+y}function Q(y,E,H,W){var ce,pe=0,xe=l(16);for(ce=0;4>ce;++ce){var ye=y[E+0]+y[E+8],ve=y[E+0]-y[E+8],Be=(35468*y[E+4]>>16)-b(y[E+12]),De=b(y[E+4])+(35468*y[E+12]>>16);xe[pe+0]=ye+De,xe[pe+1]=ve+Be,xe[pe+2]=ve-Be,xe[pe+3]=ye-De,pe+=4,E++}for(ce=pe=0;4>ce;++ce)ye=(y=xe[pe+0]+4)+xe[pe+8],ve=y-xe[pe+8],Be=(35468*xe[pe+4]>>16)-b(xe[pe+12]),ee(H,W,0,0,ye+(De=b(xe[pe+4])+(35468*xe[pe+12]>>16))),ee(H,W,1,0,ve+Be),ee(H,W,2,0,ve-Be),ee(H,W,3,0,ye-De),pe++,W+=32}function K(y,E,H,W){var ce=y[E+0]+4,pe=35468*y[E+4]>>16,xe=b(y[E+4]),ye=35468*y[E+1]>>16;ae(H,W,0,ce+xe,y=b(y[E+1]),ye),ae(H,W,1,ce+pe,y,ye),ae(H,W,2,ce-pe,y,ye),ae(H,W,3,ce-xe,y,ye)}function ge(y,E,H,W,ce){Q(y,E,H,W),ce&&Q(y,E+16,H,W+4)}function se(y,E,H,W){Ri(y,E+0,H,W,1),Ri(y,E+32,H,W+128,1)}function me(y,E,H,W){var ce;for(y=y[E+0]+4,ce=0;4>ce;++ce)for(E=0;4>E;++E)ee(H,W,E,ce,y)}function Fe(y,E,H,W){y[E+0]&&hs(y,E+0,H,W),y[E+16]&&hs(y,E+16,H,W+4),y[E+32]&&hs(y,E+32,H,W+128),y[E+48]&&hs(y,E+48,H,W+128+4)}function Le(y,E,H,W){var ce,pe=l(16);for(ce=0;4>ce;++ce){var xe=y[E+0+ce]+y[E+12+ce],ye=y[E+4+ce]+y[E+8+ce],ve=y[E+4+ce]-y[E+8+ce],Be=y[E+0+ce]-y[E+12+ce];pe[0+ce]=xe+ye,pe[8+ce]=xe-ye,pe[4+ce]=Be+ve,pe[12+ce]=Be-ve}for(ce=0;4>ce;++ce)xe=(y=pe[0+4*ce]+3)+pe[3+4*ce],ye=pe[1+4*ce]+pe[2+4*ce],ve=pe[1+4*ce]-pe[2+4*ce],Be=y-pe[3+4*ce],H[W+0]=xe+ye>>3,H[W+16]=Be+ve>>3,H[W+32]=xe-ye>>3,H[W+48]=Be-ve>>3,W+=64}function Oe(y,E,H){var W,ce=E-32,pe=Ys,xe=255-y[ce-1];for(W=0;W<H;++W){var ye,ve=pe,Be=xe+y[E-1];for(ye=0;ye<H;++ye)y[E+ye]=ve[Be+y[ce+ye]];E+=32}}function $e(y,E){Oe(y,E,4)}function Ge(y,E){Oe(y,E,8)}function Je(y,E){Oe(y,E,16)}function ot(y,E){var H;for(H=0;16>H;++H)s(y,E+32*H,y,E-32,16)}function ft(y,E){var H;for(H=16;0<H;--H)o(y,E,y[E-1],16),E+=32}function vt(y,E,H){var W;for(W=0;16>W;++W)o(E,H+32*W,y,16)}function It(y,E){var H,W=16;for(H=0;16>H;++H)W+=y[E-1+32*H]+y[E+H-32];vt(W>>5,y,E)}function Ft(y,E){var H,W=8;for(H=0;16>H;++H)W+=y[E-1+32*H];vt(W>>4,y,E)}function Pt(y,E){var H,W=8;for(H=0;16>H;++H)W+=y[E+H-32];vt(W>>4,y,E)}function Kt(y,E){vt(128,y,E)}function kt(y,E,H){return y+2*E+H+2>>2}function Br(y,E){var H,W=E-32;for(W=new Uint8Array([kt(y[W-1],y[W+0],y[W+1]),kt(y[W+0],y[W+1],y[W+2]),kt(y[W+1],y[W+2],y[W+3]),kt(y[W+2],y[W+3],y[W+4])]),H=0;4>H;++H)s(y,E+32*H,W,0,W.length)}function fr(y,E){var H=y[E-1],W=y[E-1+32],ce=y[E-1+64],pe=y[E-1+96];Ke(y,E+0,16843009*kt(y[E-1-32],H,W)),Ke(y,E+32,16843009*kt(H,W,ce)),Ke(y,E+64,16843009*kt(W,ce,pe)),Ke(y,E+96,16843009*kt(ce,pe,pe))}function _r(y,E){var H,W=4;for(H=0;4>H;++H)W+=y[E+H-32]+y[E-1+32*H];for(W>>=3,H=0;4>H;++H)o(y,E+32*H,W,4)}function ir(y,E){var H=y[E-1+0],W=y[E-1+32],ce=y[E-1+64],pe=y[E-1-32],xe=y[E+0-32],ye=y[E+1-32],ve=y[E+2-32],Be=y[E+3-32];y[E+0+96]=kt(W,ce,y[E-1+96]),y[E+1+96]=y[E+0+64]=kt(H,W,ce),y[E+2+96]=y[E+1+64]=y[E+0+32]=kt(pe,H,W),y[E+3+96]=y[E+2+64]=y[E+1+32]=y[E+0+0]=kt(xe,pe,H),y[E+3+64]=y[E+2+32]=y[E+1+0]=kt(ye,xe,pe),y[E+3+32]=y[E+2+0]=kt(ve,ye,xe),y[E+3+0]=kt(Be,ve,ye)}function rr(y,E){var H=y[E+1-32],W=y[E+2-32],ce=y[E+3-32],pe=y[E+4-32],xe=y[E+5-32],ye=y[E+6-32],ve=y[E+7-32];y[E+0+0]=kt(y[E+0-32],H,W),y[E+1+0]=y[E+0+32]=kt(H,W,ce),y[E+2+0]=y[E+1+32]=y[E+0+64]=kt(W,ce,pe),y[E+3+0]=y[E+2+32]=y[E+1+64]=y[E+0+96]=kt(ce,pe,xe),y[E+3+32]=y[E+2+64]=y[E+1+96]=kt(pe,xe,ye),y[E+3+64]=y[E+2+96]=kt(xe,ye,ve),y[E+3+96]=kt(ye,ve,ve)}function ar(y,E){var H=y[E-1+0],W=y[E-1+32],ce=y[E-1+64],pe=y[E-1-32],xe=y[E+0-32],ye=y[E+1-32],ve=y[E+2-32],Be=y[E+3-32];y[E+0+0]=y[E+1+64]=pe+xe+1>>1,y[E+1+0]=y[E+2+64]=xe+ye+1>>1,y[E+2+0]=y[E+3+64]=ye+ve+1>>1,y[E+3+0]=ve+Be+1>>1,y[E+0+96]=kt(ce,W,H),y[E+0+64]=kt(W,H,pe),y[E+0+32]=y[E+1+96]=kt(H,pe,xe),y[E+1+32]=y[E+2+96]=kt(pe,xe,ye),y[E+2+32]=y[E+3+96]=kt(xe,ye,ve),y[E+3+32]=kt(ye,ve,Be)}function $r(y,E){var H=y[E+0-32],W=y[E+1-32],ce=y[E+2-32],pe=y[E+3-32],xe=y[E+4-32],ye=y[E+5-32],ve=y[E+6-32],Be=y[E+7-32];y[E+0+0]=H+W+1>>1,y[E+1+0]=y[E+0+64]=W+ce+1>>1,y[E+2+0]=y[E+1+64]=ce+pe+1>>1,y[E+3+0]=y[E+2+64]=pe+xe+1>>1,y[E+0+32]=kt(H,W,ce),y[E+1+32]=y[E+0+96]=kt(W,ce,pe),y[E+2+32]=y[E+1+96]=kt(ce,pe,xe),y[E+3+32]=y[E+2+96]=kt(pe,xe,ye),y[E+3+64]=kt(xe,ye,ve),y[E+3+96]=kt(ye,ve,Be)}function ga(y,E){var H=y[E-1+0],W=y[E-1+32],ce=y[E-1+64],pe=y[E-1+96];y[E+0+0]=H+W+1>>1,y[E+2+0]=y[E+0+32]=W+ce+1>>1,y[E+2+32]=y[E+0+64]=ce+pe+1>>1,y[E+1+0]=kt(H,W,ce),y[E+3+0]=y[E+1+32]=kt(W,ce,pe),y[E+3+32]=y[E+1+64]=kt(ce,pe,pe),y[E+3+64]=y[E+2+64]=y[E+0+96]=y[E+1+96]=y[E+2+96]=y[E+3+96]=pe}function Bs(y,E){var H=y[E-1+0],W=y[E-1+32],ce=y[E-1+64],pe=y[E-1+96],xe=y[E-1-32],ye=y[E+0-32],ve=y[E+1-32],Be=y[E+2-32];y[E+0+0]=y[E+2+32]=H+xe+1>>1,y[E+0+32]=y[E+2+64]=W+H+1>>1,y[E+0+64]=y[E+2+96]=ce+W+1>>1,y[E+0+96]=pe+ce+1>>1,y[E+3+0]=kt(ye,ve,Be),y[E+2+0]=kt(xe,ye,ve),y[E+1+0]=y[E+3+32]=kt(H,xe,ye),y[E+1+32]=y[E+3+64]=kt(W,H,xe),y[E+1+64]=y[E+3+96]=kt(ce,W,H),y[E+1+96]=kt(pe,ce,W)}function Ui(y,E){var H;for(H=0;8>H;++H)s(y,E+32*H,y,E-32,8)}function aa(y,E){var H;for(H=0;8>H;++H)o(y,E,y[E-1],8),E+=32}function Ra(y,E,H){var W;for(W=0;8>W;++W)o(E,H+32*W,y,8)}function li(y,E){var H,W=8;for(H=0;8>H;++H)W+=y[E+H-32]+y[E-1+32*H];Ra(W>>4,y,E)}function E0(y,E){var H,W=4;for(H=0;8>H;++H)W+=y[E+H-32];Ra(W>>3,y,E)}function ml(y,E){var H,W=4;for(H=0;8>H;++H)W+=y[E-1+32*H];Ra(W>>3,y,E)}function MA(y,E){Ra(128,y,E)}function hc(y,E,H){var W=y[E-H],ce=y[E+0],pe=3*(ce-W)+D0[1020+y[E-2*H]-y[E+H]],xe=Ju[112+(pe+4>>3)];y[E-H]=Ys[255+W+Ju[112+(pe+3>>3)]],y[E+0]=Ys[255+ce-xe]}function Hu(y,E,H,W){var ce=y[E+0],pe=y[E+H];return xn[255+y[E-2*H]-y[E-H]]>W||xn[255+pe-ce]>W}function Ou(y,E,H,W){return 4*xn[255+y[E-H]-y[E+0]]+xn[255+y[E-2*H]-y[E+H]]<=W}function _u(y,E,H,W,ce){var pe=y[E-3*H],xe=y[E-2*H],ye=y[E-H],ve=y[E+0],Be=y[E+H],De=y[E+2*H],_e=y[E+3*H];return 4*xn[255+ye-ve]+xn[255+xe-Be]>W?0:xn[255+y[E-4*H]-pe]<=ce&&xn[255+pe-xe]<=ce&&xn[255+xe-ye]<=ce&&xn[255+_e-De]<=ce&&xn[255+De-Be]<=ce&&xn[255+Be-ve]<=ce}function zu(y,E,H,W){var ce=2*W+1;for(W=0;16>W;++W)Ou(y,E+W,H,ce)&&hc(y,E+W,H)}function ci(y,E,H,W){var ce=2*W+1;for(W=0;16>W;++W)Ou(y,E+W*H,1,ce)&&hc(y,E+W*H,1)}function Qi(y,E,H,W){var ce;for(ce=3;0<ce;--ce)zu(y,E+=4*H,H,W)}function L0(y,E,H,W){var ce;for(ce=3;0<ce;--ce)ci(y,E+=4,H,W)}function ho(y,E,H,W,ce,pe,xe,ye){for(pe=2*pe+1;0<ce--;){if(_u(y,E,H,pe,xe))if(Hu(y,E,H,ye))hc(y,E,H);else{var ve=y,Be=E,De=H,_e=ve[Be-2*De],ze=ve[Be-De],Me=ve[Be+0],rt=ve[Be+De],Xe=ve[Be+2*De],Te=27*(Ze=D0[1020+3*(Me-ze)+D0[1020+_e-rt]])+63>>7,Re=18*Ze+63>>7,Ze=9*Ze+63>>7;ve[Be-3*De]=Ys[255+ve[Be-3*De]+Ze],ve[Be-2*De]=Ys[255+_e+Re],ve[Be-De]=Ys[255+ze+Te],ve[Be+0]=Ys[255+Me-Te],ve[Be+De]=Ys[255+rt-Re],ve[Be+2*De]=Ys[255+Xe-Ze]}E+=W}}function Dn(y,E,H,W,ce,pe,xe,ye){for(pe=2*pe+1;0<ce--;){if(_u(y,E,H,pe,xe))if(Hu(y,E,H,ye))hc(y,E,H);else{var ve=y,Be=E,De=H,_e=ve[Be-De],ze=ve[Be+0],Me=ve[Be+De],rt=Ju[112+((Xe=3*(ze-_e))+4>>3)],Xe=Ju[112+(Xe+3>>3)],Te=rt+1>>1;ve[Be-2*De]=Ys[255+ve[Be-2*De]+Te],ve[Be-De]=Ys[255+_e+Xe],ve[Be+0]=Ys[255+ze-rt],ve[Be+De]=Ys[255+Me-Te]}E+=W}}function HA(y,E,H,W,ce,pe){ho(y,E,H,1,16,W,ce,pe)}function xl(y,E,H,W,ce,pe){ho(y,E,1,H,16,W,ce,pe)}function I0(y,E,H,W,ce,pe){var xe;for(xe=3;0<xe;--xe)Dn(y,E+=4*H,H,1,16,W,ce,pe)}function gc(y,E,H,W,ce,pe){var xe;for(xe=3;0<xe;--xe)Dn(y,E+=4,1,H,16,W,ce,pe)}function P0(y,E,H,W,ce,pe,xe,ye){ho(y,E,ce,1,8,pe,xe,ye),ho(H,W,ce,1,8,pe,xe,ye)}function OA(y,E,H,W,ce,pe,xe,ye){ho(y,E,1,ce,8,pe,xe,ye),ho(H,W,1,ce,8,pe,xe,ye)}function _A(y,E,H,W,ce,pe,xe,ye){Dn(y,E+4*ce,ce,1,8,pe,xe,ye),Dn(H,W+4*ce,ce,1,8,pe,xe,ye)}function Vu(y,E,H,W,ce,pe,xe,ye){Dn(y,E+4,1,ce,8,pe,xe,ye),Dn(H,W+4,1,ce,8,pe,xe,ye)}function fc(){this.ba=new _s,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new br,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function zA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function VA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gu(){this.ua=0,this.Wa=new be,this.vb=new be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new J}function U0(){this.xb=this.a=0,this.l=new w,this.ca=new _s,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new de,this.Pb=0,this.wd=new de,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gu,this.ab=0,this.gc=d(4,VA),this.Oc=0}function pc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new w,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yl(y,E,H,W,ce,pe,xe){for(y=y==null?0:y[E+0],E=0;E<xe;++E)ce[pe+E]=y+H[W+E]&255,y=ce[pe+E]}function GA(y,E,H,W,ce,pe,xe){var ye;if(y==null)yl(null,null,H,W,ce,pe,xe);else for(ye=0;ye<xe;++ye)ce[pe+ye]=y[E+ye]+H[W+ye]&255}function go(y,E,H,W,ce,pe,xe){if(y==null)yl(null,null,H,W,ce,pe,xe);else{var ye,ve=y[E+0],Be=ve,De=ve;for(ye=0;ye<xe;++ye)Be=De+(ve=y[E+ye])-Be,De=H[W+ye]+(-256&Be?0>Be?0:255:Be)&255,Be=ve,ce[pe+ye]=De}}function qA(y,E,H,W){var ce=E.width,pe=E.o;if(t(y!=null&&E!=null),0>H||0>=W||H+W>pe)return null;if(!y.Cc){if(y.ga==null){var xe;if(y.ga=new pc,(xe=y.ga==null)||(xe=E.width*E.o,t(y.Gb.length==0),y.Gb=l(xe),y.Uc=0,y.Gb==null?xe=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,xe=1),xe=!xe),!xe){xe=y.ga;var ye=y.Fa,ve=y.P,Be=y.qc,De=y.mb,_e=y.nb,ze=ve+1,Me=Be-1,rt=xe.l;if(t(ye!=null&&De!=null&&E!=null),bo[0]=null,bo[1]=yl,bo[2]=GA,bo[3]=go,xe.ca=De,xe.tb=_e,xe.c=E.width,xe.i=E.height,t(0<xe.c&&0<xe.i),1>=Be)E=0;else if(xe.$a=ye[ve+0]>>0&3,xe.Z=ye[ve+0]>>2&3,xe.Lc=ye[ve+0]>>4&3,ve=ye[ve+0]>>6&3,0>xe.$a||1<xe.$a||4<=xe.Z||1<xe.Lc||ve)E=0;else if(rt.put=zs,rt.ac=ka,rt.bc=Vs,rt.ma=xe,rt.width=E.width,rt.height=E.height,rt.Da=E.Da,rt.v=E.v,rt.va=E.va,rt.j=E.j,rt.o=E.o,xe.$a)e:{t(xe.$a==1),E=Ns();t:for(;;){if(E==null){E=0;break e}if(t(xe!=null),xe.mc=E,E.c=xe.c,E.i=xe.i,E.l=xe.l,E.l.ma=xe,E.l.width=xe.c,E.l.height=xe.i,E.a=0,fe(E.m,ye,ze,Me),!hn(xe.c,xe.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&qs(E.s)?(xe.ic=1,ye=E.c*E.i,E.Ta=null,E.Ua=0,E.V=l(ye),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(xe.ic=0,E=Li(E,xe.c)),!E))break t;E=1;break e}xe.mc=null,E=0}else E=Me>=xe.c*xe.i;xe=!E}if(xe)return null;y.ga.Lc!=1?y.Ga=0:W=pe-H}t(y.ga!=null),t(H+W<=pe);e:{if(E=(ye=y.ga).c,pe=ye.l.o,ye.$a==0){if(ze=y.rc,Me=y.Vc,rt=y.Fa,ve=y.P+1+H*E,Be=y.mb,De=y.nb+H*E,t(ve<=y.P+y.qc),ye.Z!=0)for(t(bo[ye.Z]!=null),xe=0;xe<W;++xe)bo[ye.Z](ze,Me,rt,ve,Be,De,E),ze=Be,Me=De,De+=E,ve+=E;else for(xe=0;xe<W;++xe)s(Be,De,rt,ve,E),ze=Be,Me=De,De+=E,ve+=E;y.rc=ze,y.Vc=Me}else{if(t(ye.mc!=null),E=H+W,t((xe=ye.mc)!=null),t(E<=xe.i),xe.C>=E)E=1;else if(ye.ic||He(),ye.ic){ye=xe.V,ze=xe.Ba,Me=xe.c;var Xe=xe.i,Te=(rt=1,ve=xe.$/Me,Be=xe.$%Me,De=xe.m,_e=xe.s,xe.$),Re=Me*Xe,Ze=Me*E,at=_e.wc,et=Te<Ze?Yr(_e,Be,ve):null;t(Te<=Re),t(E<=Xe),t(qs(_e));t:for(;;){for(;!De.h&&Te<Ze;){if(Be&at||(et=Yr(_e,Be,ve)),t(et!=null),Se(De),256>(Xe=qa(et.G[0],et.H[0],De)))ye[ze+Te]=Xe,++Te,++Be>=Me&&(Be=0,++ve<=E&&!(ve%16)&&Xa(xe,ve));else{if(!(280>Xe)){rt=0;break t}Xe=Gs(Xe-256,De);var Nt,ht=qa(et.G[4],et.H[4],De);if(Se(De),!(Te>=(ht=un(Me,ht=Gs(ht,De)))&&Re-Te>=Xe)){rt=0;break t}for(Nt=0;Nt<Xe;++Nt)ye[ze+Te+Nt]=ye[ze+Te+Nt-ht];for(Te+=Xe,Be+=Xe;Be>=Me;)Be-=Me,++ve<=E&&!(ve%16)&&Xa(xe,ve);Te<Ze&&Be&at&&(et=Yr(_e,Be,ve))}t(De.h==Ne(De))}Xa(xe,ve>E?E:ve);break t}!rt||De.h&&Te<Re?(rt=0,xe.a=De.h?5:3):xe.$=Te,E=rt}else E=Xs(xe,xe.V,xe.Ba,xe.c,xe.i,E,uo);if(!E){W=0;break e}}H+W>=pe&&(y.Cc=1),W=1}if(!W)return null;if(y.Cc&&((W=y.ga)!=null&&(W.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+H*ce}function D(y,E,H,W,ce,pe){for(;0<ce--;){var xe,ye=y,ve=E+(H?1:0),Be=y,De=E+(H?0:3);for(xe=0;xe<W;++xe){var _e=Be[De+4*xe];_e!=255&&(_e*=32897,ye[ve+4*xe+0]=ye[ve+4*xe+0]*_e>>23,ye[ve+4*xe+1]=ye[ve+4*xe+1]*_e>>23,ye[ve+4*xe+2]=ye[ve+4*xe+2]*_e>>23)}E+=pe}}function Ae(y,E,H,W,ce){for(;0<W--;){var pe;for(pe=0;pe<H;++pe){var xe=y[E+2*pe+0],ye=15&(Be=y[E+2*pe+1]),ve=4369*ye,Be=(240&Be|Be>>4)*ve>>16;y[E+2*pe+0]=(240&xe|xe>>4)*ve>>16&240|(15&xe|xe<<4)*ve>>16>>4&15,y[E+2*pe+1]=240&Be|ye}E+=ce}}function Ce(y,E,H,W,ce,pe,xe,ye){var ve,Be,De=255;for(Be=0;Be<ce;++Be){for(ve=0;ve<W;++ve){var _e=y[E+ve];pe[xe+4*ve]=_e,De&=_e}E+=H,xe+=ye}return De!=255}function Ue(y,E,H,W,ce){var pe;for(pe=0;pe<ce;++pe)H[W+pe]=y[E+pe]>>8}function He(){mn=D,Ur=Ae,Qr=Ce,na=Ue}function Ye(y,E,H){V[y]=function(W,ce,pe,xe,ye,ve,Be,De,_e,ze,Me,rt,Xe,Te,Re,Ze,at){var et,Nt=at-1>>1,ht=ye[ve+0]|Be[De+0]<<16,Tt=_e[ze+0]|Me[rt+0]<<16;t(W!=null);var mt=3*ht+Tt+131074>>2;for(E(W[ce+0],255&mt,mt>>16,Xe,Te),pe!=null&&(mt=3*Tt+ht+131074>>2,E(pe[xe+0],255&mt,mt>>16,Re,Ze)),et=1;et<=Nt;++et){var pr=ye[ve+et]|Be[De+et]<<16,vr=_e[ze+et]|Me[rt+et]<<16,ur=ht+pr+Tt+vr+524296,sr=ur+2*(pr+Tt)>>3;mt=sr+ht>>1,ht=(ur=ur+2*(ht+vr)>>3)+pr>>1,E(W[ce+2*et-1],255&mt,mt>>16,Xe,Te+(2*et-1)*H),E(W[ce+2*et-0],255&ht,ht>>16,Xe,Te+(2*et-0)*H),pe!=null&&(mt=ur+Tt>>1,ht=sr+vr>>1,E(pe[xe+2*et-1],255&mt,mt>>16,Re,Ze+(2*et-1)*H),E(pe[xe+2*et+0],255&ht,ht>>16,Re,Ze+(2*et+0)*H)),ht=pr,Tt=vr}1&at||(mt=3*ht+Tt+131074>>2,E(W[ce+at-1],255&mt,mt>>16,Xe,Te+(at-1)*H),pe!=null&&(mt=3*Tt+ht+131074>>2,E(pe[xe+at-1],255&mt,mt>>16,Re,Ze+(at-1)*H)))}}function st(){yn[Zu]=YC,yn[eh]=Fb,yn[Nb]=$C,yn[th]=Eb,yn[rh]=Lb,yn[T0]=Ib,yn[Bb]=JC,yn[R0]=Fb,yn[M0]=Eb,yn[ah]=Lb,yn[H0]=Ib}function wt(y){return y&~ZC?0>y?0:255:y>>Pb}function Ut(y,E){return wt((19077*y>>8)+(26149*E>>8)-14234)}function Wt(y,E,H){return wt((19077*y>>8)-(6419*E>>8)-(13320*H>>8)+8708)}function zt(y,E){return wt((19077*y>>8)+(33050*E>>8)-17685)}function Ar(y,E,H,W,ce){W[ce+0]=Ut(y,H),W[ce+1]=Wt(y,E,H),W[ce+2]=zt(y,E)}function Gr(y,E,H,W,ce){W[ce+0]=zt(y,E),W[ce+1]=Wt(y,E,H),W[ce+2]=Ut(y,H)}function Jr(y,E,H,W,ce){var pe=Wt(y,E,H);E=pe<<3&224|zt(y,E)>>3,W[ce+0]=248&Ut(y,H)|pe>>5,W[ce+1]=E}function fa(y,E,H,W,ce){var pe=240&zt(y,E)|15;W[ce+0]=240&Ut(y,H)|Wt(y,E,H)>>4,W[ce+1]=pe}function Ka(y,E,H,W,ce){W[ce+0]=255,Ar(y,E,H,W,ce+1)}function La(y,E,H,W,ce){Gr(y,E,H,W,ce),W[ce+3]=255}function Tn(y,E,H,W,ce){Ar(y,E,H,W,ce),W[ce+3]=255}function Ws(y,E){return 0>y?0:y>E?E:y}function Ai(y,E,H){V[y]=function(W,ce,pe,xe,ye,ve,Be,De,_e){for(var ze=De+(-2&_e)*H;De!=ze;)E(W[ce+0],pe[xe+0],ye[ve+0],Be,De),E(W[ce+1],pe[xe+0],ye[ve+0],Be,De+H),ce+=2,++xe,++ve,De+=2*H;1&_e&&E(W[ce+0],pe[xe+0],ye[ve+0],Be,De)}}function qu(y,E,H){return H==0?y==0?E==0?6:5:E==0?4:0:H}function XA(y,E,H,W,ce){switch(y>>>30){case 3:Ri(E,H,W,ce,0);break;case 2:sa(E,H,W,ce);break;case 1:hs(E,H,W,ce)}}function KA(y,E){var H,W,ce=E.M,pe=E.Nb,xe=y.oc,ye=y.pc+40,ve=y.oc,Be=y.pc+584,De=y.oc,_e=y.pc+600;for(H=0;16>H;++H)xe[ye+32*H-1]=129;for(H=0;8>H;++H)ve[Be+32*H-1]=129,De[_e+32*H-1]=129;for(0<ce?xe[ye-1-32]=ve[Be-1-32]=De[_e-1-32]=129:(o(xe,ye-32-1,127,21),o(ve,Be-32-1,127,9),o(De,_e-32-1,127,9)),W=0;W<y.za;++W){var ze=E.ya[E.aa+W];if(0<W){for(H=-1;16>H;++H)s(xe,ye+32*H-4,xe,ye+32*H+12,4);for(H=-1;8>H;++H)s(ve,Be+32*H-4,ve,Be+32*H+4,4),s(De,_e+32*H-4,De,_e+32*H+4,4)}var Me=y.Gd,rt=y.Hd+W,Xe=ze.ad,Te=ze.Hc;if(0<ce&&(s(xe,ye-32,Me[rt].y,0,16),s(ve,Be-32,Me[rt].f,0,8),s(De,_e-32,Me[rt].ea,0,8)),ze.Za){var Re=xe,Ze=ye-32+16;for(0<ce&&(W>=y.za-1?o(Re,Ze,Me[rt].y[15],4):s(Re,Ze,Me[rt+1].y,0,4)),H=0;4>H;H++)Re[Ze+128+H]=Re[Ze+256+H]=Re[Ze+384+H]=Re[Ze+0+H];for(H=0;16>H;++H,Te<<=2)Re=xe,Ze=ye+Qb[H],Rn[ze.Ob[H]](Re,Ze),XA(Te,Xe,16*+H,Re,Ze)}else if(Re=qu(W,ce,ze.Ob[0]),yo[Re](xe,ye),Te!=0)for(H=0;16>H;++H,Te<<=2)XA(Te,Xe,16*+H,xe,ye+Qb[H]);for(H=ze.Gc,Re=qu(W,ce,ze.Dd),Hi[Re](ve,Be),Hi[Re](De,_e),Te=Xe,Re=ve,Ze=Be,255&(ze=H>>0)&&(170&ze?ZA(Te,256,Re,Ze):fn(Te,256,Re,Ze)),ze=De,Te=_e,255&(H>>=8)&&(170&H?ZA(Xe,320,ze,Te):fn(Xe,320,ze,Te)),ce<y.Ub-1&&(s(Me[rt].y,0,xe,ye+480,16),s(Me[rt].f,0,ve,Be+224,8),s(Me[rt].ea,0,De,_e+224,8)),H=8*pe*y.B,Me=y.sa,rt=y.ta+16*W+16*pe*y.R,Xe=y.qa,ze=y.ra+8*W+H,Te=y.Ha,Re=y.Ia+8*W+H,H=0;16>H;++H)s(Me,rt+H*y.R,xe,ye+32*H,16);for(H=0;8>H;++H)s(Xe,ze+H*y.B,ve,Be+32*H,8),s(Te,Re+H*y.B,De,_e+32*H,8)}}function mc(y,E,H,W,ce,pe,xe,ye,ve){var Be=[0],De=[0],_e=0,ze=ve!=null?ve.kd:0,Me=ve??new zA;if(y==null||12>H)return 7;Me.data=y,Me.w=E,Me.ha=H,E=[E],H=[H],Me.gb=[Me.gb];e:{var rt=E,Xe=H,Te=Me.gb;if(t(y!=null),t(Xe!=null),t(Te!=null),Te[0]=0,12<=Xe[0]&&!a(y,rt[0],"RIFF")){if(a(y,rt[0]+8,"WEBP")){Te=3;break e}var Re=lt(y,rt[0]+4);if(12>Re||4294967286<Re){Te=3;break e}if(ze&&Re>Xe[0]-8){Te=7;break e}Te[0]=Re,rt[0]+=12,Xe[0]-=12}Te=0}if(Te!=0)return Te;for(Re=0<Me.gb[0],H=H[0];;){e:{var Ze=y;Xe=E,Te=H;var at=Be,et=De,Nt=rt=[0];if((mt=_e=[_e])[0]=0,8>Te[0])Te=7;else{if(!a(Ze,Xe[0],"VP8X")){if(lt(Ze,Xe[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var ht=lt(Ze,Xe[0]+8),Tt=1+ct(Ze,Xe[0]+12);if(2147483648<=Tt*(Ze=1+ct(Ze,Xe[0]+15))){Te=3;break e}Nt!=null&&(Nt[0]=ht),at!=null&&(at[0]=Tt),et!=null&&(et[0]=Ze),Xe[0]+=18,Te[0]-=18,mt[0]=1}Te=0}}if(_e=_e[0],rt=rt[0],Te!=0)return Te;if(Xe=!!(2&rt),!Re&&_e)return 3;if(pe!=null&&(pe[0]=!!(16&rt)),xe!=null&&(xe[0]=Xe),ye!=null&&(ye[0]=0),xe=Be[0],rt=De[0],_e&&Xe&&ve==null){Te=0;break}if(4>H){Te=7;break}if(Re&&_e||!Re&&!_e&&!a(y,E[0],"ALPH")){H=[H],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{ht=y,Te=E,Re=H;var mt=Me.gb;at=Me.na,et=Me.P,Nt=Me.Sa,Tt=22,t(ht!=null),t(Re!=null),Ze=Te[0];var pr=Re[0];for(t(at!=null),t(Nt!=null),at[0]=null,et[0]=null,Nt[0]=0;;){if(Te[0]=Ze,Re[0]=pr,8>pr){Te=7;break e}var vr=lt(ht,Ze+4);if(4294967286<vr){Te=3;break e}var ur=8+vr+1&-2;if(Tt+=ur,0<mt&&Tt>mt){Te=3;break e}if(!a(ht,Ze,"VP8 ")||!a(ht,Ze,"VP8L")){Te=0;break e}if(pr[0]<ur){Te=7;break e}a(ht,Ze,"ALPH")||(at[0]=ht,et[0]=Ze+8,Nt[0]=vr),Ze+=ur,pr-=ur}}if(H=H[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Te!=0)break}H=[H],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(mt=y,Te=E,Re=H,at=Me.gb[0],et=Me.Ja,Nt=Me.xa,ht=Te[0],Ze=!a(mt,ht,"VP8 "),Tt=!a(mt,ht,"VP8L"),t(mt!=null),t(Re!=null),t(et!=null),t(Nt!=null),8>Re[0])Te=7;else{if(Ze||Tt){if(mt=lt(mt,ht+4),12<=at&&mt>at-12){Te=3;break e}if(ze&&mt>Re[0]-8){Te=7;break e}et[0]=mt,Te[0]+=8,Re[0]-=8,Nt[0]=Tt}else Nt[0]=5<=Re[0]&&mt[ht+0]==47&&!(mt[ht+4]>>5),et[0]=Re[0];Te=0}if(H=H[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],E=E[0],Te!=0)break;if(4294967286<Me.Ja)return 3;if(ye==null||Xe||(ye[0]=Me.xa?2:1),xe=[xe],rt=[rt],Me.xa){if(5>H){Te=7;break}ye=xe,ze=rt,Xe=pe,y==null||5>H?y=0:5<=H&&y[E+0]==47&&!(y[E+4]>>5)?(Re=[0],mt=[0],at=[0],fe(et=new de,y,E,H),Dt(et,Re,mt,at)?(ye!=null&&(ye[0]=Re[0]),ze!=null&&(ze[0]=mt[0]),Xe!=null&&(Xe[0]=at[0]),y=1):y=0):y=0}else{if(10>H){Te=7;break}ye=rt,y==null||10>H||!P(y,E+3,H-3)?y=0:(ze=y[E+0]|y[E+1]<<8|y[E+2]<<16,Xe=16383&(y[E+7]<<8|y[E+6]),y=16383&(y[E+9]<<8|y[E+8]),1&ze||3<(ze>>1&7)||!(ze>>4&1)||ze>>5>=Me.Ja||!Xe||!y?y=0:(xe&&(xe[0]=Xe),ye&&(ye[0]=y),y=1))}if(!y||(xe=xe[0],rt=rt[0],_e&&(Be[0]!=xe||De[0]!=rt)))return 3;ve!=null&&(ve[0]=Me,ve.offset=E-ve.w,t(4294967286>E-ve.w),t(ve.offset==ve.ha-H));break}return Te==0||Te==7&&_e&&ve==null?(pe!=null&&(pe[0]|=Me.na!=null&&0<Me.na.length),W!=null&&(W[0]=xe),ce!=null&&(ce[0]=rt),0):Te}function WA(y,E,H){var W=E.width,ce=E.height,pe=0,xe=0,ye=W,ve=ce;if(E.Da=y!=null&&0<y.Da,E.Da&&(ye=y.cd,ve=y.bd,pe=y.v,xe=y.j,11>H||(pe&=-2,xe&=-2),0>pe||0>xe||0>=ye||0>=ve||pe+ye>W||xe+ve>ce))return 0;if(E.v=pe,E.j=xe,E.va=pe+ye,E.o=xe+ve,E.U=ye,E.T=ve,E.da=y!=null&&0<y.da,E.da){if(!yt(ye,ve,H=[y.ib],pe=[y.hb]))return 0;E.ib=H[0],E.hb=pe[0]}return E.ob=y!=null&&y.ob,E.Kb=y==null||!y.Sd,E.da&&(E.ob=E.ib<3*W/4&&E.hb<3*ce/4,E.Kb=0),1}function YA(y){if(y==null)return 2;if(11>y.S){var E=y.f.RGBA;E.fb+=(y.height-1)*E.A,E.A=-E.A}else E=y.f.kb,y=y.height,E.O+=(y-1)*E.fa,E.fa=-E.fa,E.N+=(y-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(y-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(y-1)*E.lb,E.lb=-E.lb);return 0}function xc(y,E,H,W){if(W==null||0>=y||0>=E)return 2;if(H!=null){if(H.Da){var ce=H.cd,pe=H.bd,xe=-2&H.v,ye=-2&H.j;if(0>xe||0>ye||0>=ce||0>=pe||xe+ce>y||ye+pe>E)return 2;y=ce,E=pe}if(H.da){if(!yt(y,E,ce=[H.ib],pe=[H.hb]))return 2;y=ce[0],E=pe[0]}}W.width=y,W.height=E;e:{var ve=W.width,Be=W.height;if(y=W.S,0>=ve||0>=Be||!(y>=Zu&&13>y))y=2;else{if(0>=W.Rd&&W.sd==null){xe=pe=ce=E=0;var De=(ye=ve*Db[y])*Be;if(11>y||(pe=(Be+1)/2*(E=(ve+1)/2),y==12&&(xe=(ce=ve)*Be)),(Be=l(De+2*pe+xe))==null){y=1;break e}W.sd=Be,11>y?((ve=W.f.RGBA).eb=Be,ve.fb=0,ve.A=ye,ve.size=De):((ve=W.f.kb).y=Be,ve.O=0,ve.fa=ye,ve.Fd=De,ve.f=Be,ve.N=0+De,ve.Ab=E,ve.Cd=pe,ve.ea=Be,ve.W=0+De+pe,ve.Db=E,ve.Ed=pe,y==12&&(ve.F=Be,ve.J=0+De+2*pe),ve.Tc=xe,ve.lb=ce)}if(E=1,ce=W.S,pe=W.width,xe=W.height,ce>=Zu&&13>ce)if(11>ce)y=W.f.RGBA,E&=(ye=Math.abs(y.A))*(xe-1)+pe<=y.size,E&=ye>=pe*Db[ce],E&=y.eb!=null;else{y=W.f.kb,ye=(pe+1)/2,De=(xe+1)/2,ve=Math.abs(y.fa),Be=Math.abs(y.Ab);var _e=Math.abs(y.Db),ze=Math.abs(y.lb),Me=ze*(xe-1)+pe;E&=ve*(xe-1)+pe<=y.Fd,E&=Be*(De-1)+ye<=y.Cd,E=(E&=_e*(De-1)+ye<=y.Ed)&ve>=pe&Be>=ye&_e>=ye,E&=y.y!=null,E&=y.f!=null,E&=y.ea!=null,ce==12&&(E&=ze>=pe,E&=Me<=y.Tc,E&=y.F!=null)}else E=0;y=E?0:2}}return y!=0||H!=null&&H.fd&&(y=YA(W)),y}var Ma=64,yc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bc=24,vc=32,$A=8,Cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];At("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(y){return y},V.Predictor2=function(y,E,H){return E[H+0]},V.Predictor3=function(y,E,H){return E[H+1]},V.Predictor4=function(y,E,H){return E[H-1]},V.Predictor5=function(y,E,H){return ut(ut(y,E[H+1]),E[H+0])},V.Predictor6=function(y,E,H){return ut(y,E[H-1])},V.Predictor7=function(y,E,H){return ut(y,E[H+0])},V.Predictor8=function(y,E,H){return ut(E[H-1],E[H+0])},V.Predictor9=function(y,E,H){return ut(E[H+0],E[H+1])},V.Predictor10=function(y,E,H){return ut(ut(y,E[H-1]),ut(E[H+0],E[H+1]))},V.Predictor11=function(y,E,H){var W=E[H+0];return 0>=_t(W>>24&255,y>>24&255,(E=E[H-1])>>24&255)+_t(W>>16&255,y>>16&255,E>>16&255)+_t(W>>8&255,y>>8&255,E>>8&255)+_t(255&W,255&y,255&E)?W:y},V.Predictor12=function(y,E,H){var W=E[H+0];return(Et((y>>24&255)+(W>>24&255)-((E=E[H-1])>>24&255))<<24|Et((y>>16&255)+(W>>16&255)-(E>>16&255))<<16|Et((y>>8&255)+(W>>8&255)-(E>>8&255))<<8|Et((255&y)+(255&W)-(255&E)))>>>0},V.Predictor13=function(y,E,H){var W=E[H-1];return(Rt((y=ut(y,E[H+0]))>>24&255,W>>24&255)<<24|Rt(y>>16&255,W>>16&255)<<16|Rt(y>>8&255,W>>8&255)<<8|Rt(y>>0&255,W>>0&255))>>>0};var Q0=V.PredictorAdd0;V.PredictorAdd1=Xt,At("Predictor2","PredictorAdd2"),At("Predictor3","PredictorAdd3"),At("Predictor4","PredictorAdd4"),At("Predictor5","PredictorAdd5"),At("Predictor6","PredictorAdd6"),At("Predictor7","PredictorAdd7"),At("Predictor8","PredictorAdd8"),At("Predictor9","PredictorAdd9"),At("Predictor10","PredictorAdd10"),At("Predictor11","PredictorAdd11"),At("Predictor12","PredictorAdd12"),At("Predictor13","PredictorAdd13");var JA=V.PredictorAdd2;Jt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Xu,gn=V.ColorIndexInverseTransform,wc=V.MapARGB,Ku=V.VP8LColorIndexInverseTransformAlpha,Wu=V.MapAlpha,fo=V.VP8LPredictorsAdd=[];fo.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var bl,js,us,po,Di,Ti,kc,Ri,sa,ZA,hs,fn,Nc,Yu,ed,vl,wl,mo,kl,Bc,Nl,xo,td,pn,mn,Ur,Qr,na,Ba=l(511),Mi=l(2041),rd=l(225),Cc=l(767),$u=0,D0=Mi,Ju=rd,Ys=Cc,xn=Ba,Zu=0,eh=1,Nb=2,th=3,rh=4,T0=5,Bb=6,R0=7,M0=8,ah=9,H0=10,DC=[2,3,7],TC=[3,3,11],Cb=[280,256,256,256,40],RC=[0,1,1,1,0],MC=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],HC=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],OC=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_C=8,O0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ad=null,zC=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VC=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],GC=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qC=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],XC=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],KC=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yo=[],Rn=[],Hi=[],WC=1,Sb=2,bo=[],yn=[];Ye("UpsampleRgbLinePair",Ar,3),Ye("UpsampleBgrLinePair",Gr,3),Ye("UpsampleRgbaLinePair",Tn,4),Ye("UpsampleBgraLinePair",La,4),Ye("UpsampleArgbLinePair",Ka,4),Ye("UpsampleRgba4444LinePair",fa,2),Ye("UpsampleRgb565LinePair",Jr,2);var YC=V.UpsampleRgbLinePair,$C=V.UpsampleBgrLinePair,Fb=V.UpsampleRgbaLinePair,Eb=V.UpsampleBgraLinePair,Lb=V.UpsampleArgbLinePair,Ib=V.UpsampleRgba4444LinePair,JC=V.UpsampleRgb565LinePair,sh=16,nh=1<<sh-1,sd=-227,z0=482,Pb=6,ZC=(256<<Pb)-1,Ub=0,ej=l(256),tj=l(256),rj=l(256),aj=l(256),sj=l(z0-sd),nj=l(z0-sd);Ai("YuvToRgbRow",Ar,3),Ai("YuvToBgrRow",Gr,3),Ai("YuvToRgbaRow",Tn,4),Ai("YuvToBgraRow",La,4),Ai("YuvToArgbRow",Ka,4),Ai("YuvToRgba4444Row",fa,2),Ai("YuvToRgb565Row",Jr,2);var Qb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ih=[0,2,8],ij=[8,7,6,4,4,2,2,2,1,1,1,1],oj=1;this.WebPDecodeRGBA=function(y,E,H,W,ce){var pe=eh,xe=new fc,ye=new _s;xe.ba=ye,ye.S=pe,ye.width=[ye.width],ye.height=[ye.height];var ve=ye.width,Be=ye.height,De=new Qn;if(De==null||y==null)var _e=2;else t(De!=null),_e=mc(y,E,H,De.width,De.height,De.Pd,De.Qd,De.format,null);if(_e!=0?ve=0:(ve!=null&&(ve[0]=De.width[0]),Be!=null&&(Be[0]=De.height[0]),ve=1),ve){ye.width=ye.width[0],ye.height=ye.height[0],W!=null&&(W[0]=ye.width),ce!=null&&(ce[0]=ye.height);e:{if(W=new w,(ce=new zA).data=y,ce.w=E,ce.ha=H,ce.kd=1,E=[0],t(ce!=null),((y=mc(ce.data,ce.w,ce.ha,null,null,null,E,null,ce))==0||y==7)&&E[0]&&(y=4),(E=y)==0){if(t(xe!=null),W.data=ce.data,W.w=ce.w+ce.offset,W.ha=ce.ha-ce.offset,W.put=zs,W.ac=ka,W.bc=Vs,W.ma=xe,ce.xa){if((y=Ns())==null){xe=1;break e}if(function(ze,Me){var rt=[0],Xe=[0],Te=[0];t:for(;;){if(ze==null)return 0;if(Me==null)return ze.a=2,0;if(ze.l=Me,ze.a=0,fe(ze.m,Me.data,Me.w,Me.ha),!Dt(ze.m,rt,Xe,Te)){ze.a=3;break t}if(ze.xb=Sb,Me.width=rt[0],Me.height=Xe[0],!hn(rt[0],Xe[0],1,ze,null))break t;return 1}return t(ze.a!=0),0}(y,W)){if(W=(E=xc(W.width,W.height,xe.Oa,xe.ba))==0){t:{W=y;r:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((H=W.l)!=null),t((ce=H.ma)!=null),W.xb!=0){if(W.ca=ce.ba,W.tb=ce.tb,t(W.ca!=null),!WA(ce.Oa,H,th)){W.a=2;break r}if(!Li(W,H.width)||H.da)break r;if((H.da||gr(W.ca.S))&&He(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&He()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!Qt(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!Xs(W,W.V,W.Ba,W.c,W.i,H.o,ii))break r;ce.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(E=y.a)}else E=y.a}else{if((y=new S)==null){xe=1;break e}if(y.Fa=ce.na,y.P=ce.P,y.qc=ce.Sa,R(y,W)){if((E=xc(W.width,W.height,xe.Oa,xe.ba))==0){if(y.Aa=0,H=xe.Oa,t((ce=y)!=null),H!=null){if(0<(ve=0>(ve=H.Md)?0:100<ve?255:255*ve/100)){for(Be=De=0;4>Be;++Be)12>(_e=ce.pb[Be]).lc&&(_e.ia=ve*ij[0>_e.lc?0:_e.lc]>>3),De|=_e.ia;De&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=H.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}Z(y,W)||(E=y.a)}}else E=y.a}E==0&&xe.Oa!=null&&xe.Oa.fd&&(E=YA(xe.ba))}xe=E}pe=xe!=0?null:11>pe?ye.f.RGBA.eb:ye.f.kb.y}else pe=null;return pe};var Db=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(V,ue){for(var ne="",$=0;$<4;$++)ne+=String.fromCharCode(V[ue++]);return ne}function v(V,ue){return(V[ue+0]<<0|V[ue+1]<<8|V[ue+2]<<16)>>>0}function N(V,ue){return(V[ue+0]<<0|V[ue+1]<<8|V[ue+2]<<16|V[ue+3]<<24)>>>0}new f;var C=[0],k=[0],U=[],F=new f,O=e,L=function(V,ue){var ne={},$=0,J=!1,oe=0,le=0;if(ne.frames=[],!function(he,Ne,Ee,Se){for(var Ie=0;Ie<Se;Ie++)if(he[Ne+Ie]!=Ee.charCodeAt(Ie))return!0;return!1}(V,ue,"RIFF",4)){for(N(V,ue+=4),ue+=8;ue<V.length;){var ie=m(V,ue),Y=N(V,ue+=4);ue+=4;var we=Y+(1&Y);switch(ie){case"VP8 ":case"VP8L":ne.frames[$]===void 0&&(ne.frames[$]={}),(Pe=ne.frames[$]).src_off=J?le:ue-8,Pe.src_size=oe+Y+8,$++,J&&(J=!1,oe=0,le=0);break;case"VP8X":(Pe=ne.header={}).feature_flags=V[ue];var fe=ue+4;Pe.canvas_width=1+v(V,fe),fe+=3,Pe.canvas_height=1+v(V,fe),fe+=3;break;case"ALPH":J=!0,oe=we+8,le=ue-8;break;case"ANIM":(Pe=ne.header).bgcolor=N(V,ue),fe=ue+4,Pe.loop_count=(Ve=V)[(de=fe)+0]<<0|Ve[de+1]<<8,fe+=2;break;case"ANMF":var je,Pe;(Pe=ne.frames[$]={}).offset_x=2*v(V,ue),ue+=3,Pe.offset_y=2*v(V,ue),ue+=3,Pe.width=1+v(V,ue),ue+=3,Pe.height=1+v(V,ue),ue+=3,Pe.duration=v(V,ue),ue+=3,je=V[ue++],Pe.dispose=1&je,Pe.blend=je>>1&1}ie!="ANMF"&&(ue+=we)}var Ve,de;return ne}}(O,0);L.response=O,L.rgbaoutput=!0,L.dataurl=!1;var I=L.header?L.header:null,T=L.frames?L.frames:null;if(I){I.loop_counter=I.loop_count,C=[I.canvas_height],k=[I.canvas_width];for(var q=0;q<T.length&&T[q].blend!=0;q++);}var M=T[0],re=F.WebPDecodeRGBA(O,M.src_off,M.src_size,k,C);M.rgba=re,M.imgwidth=k[0],M.imgheight=C[0];for(var G=0;G<k[0]*C[0]*4;G++)U[G]=re[G];return this.width=k,this.height=C,this.data=U,this}(function(e){var t=function(){return typeof wx=="function"},a=function(C,k,U,F){var O=4,L=d;switch(F){case e.image_compression.FAST:O=1,L=l;break;case e.image_compression.MEDIUM:O=6,L=g;break;case e.image_compression.SLOW:O=9,L=f}C=s(C,k,U,L);var I=wx(C,{level:O});return e.__addimage__.arrayBufferToBinaryString(I)},s=function(C,k,U,F){for(var O,L,I,T=C.length/k,q=new Uint8Array(C.length+T),M=v(),re=0;re<T;re+=1){if(I=re*k,O=C.subarray(I,I+k),F)q.set(F(O,U,L),I+re);else{for(var G,V=M.length,ue=[];G<V;G+=1)ue[G]=M[G](O,U,L);var ne=N(ue.concat());q.set(ue[ne],I+re)}L=O}return q},o=function(C){var k=Array.apply([],C);return k.unshift(0),k},l=function(C,k){var U,F=[],O=C.length;F[0]=1;for(var L=0;L<O;L+=1)U=C[L-k]||0,F[L+1]=C[L]-U+256&255;return F},d=function(C,k,U){var F,O=[],L=C.length;O[0]=2;for(var I=0;I<L;I+=1)F=U&&U[I]||0,O[I+1]=C[I]-F+256&255;return O},g=function(C,k,U){var F,O,L=[],I=C.length;L[0]=3;for(var T=0;T<I;T+=1)F=C[T-k]||0,O=U&&U[T]||0,L[T+1]=C[T]+256-(F+O>>>1)&255;return L},f=function(C,k,U){var F,O,L,I,T=[],q=C.length;T[0]=4;for(var M=0;M<q;M+=1)F=C[M-k]||0,O=U&&U[M]||0,L=U&&U[M-k]||0,I=m(F,O,L),T[M+1]=C[M]-I+256&255;return T},m=function(C,k,U){if(C===k&&k===U)return C;var F=Math.abs(k-U),O=Math.abs(C-U),L=Math.abs(C+k-U-U);return F<=O&&F<=L?C:O<=L?k:U},v=function(){return[o,l,d,g,f]},N=function(C){var k=C.map(function(U){return U.reduce(function(F,O){return F+Math.abs(O)},0)});return k.indexOf(Math.min.apply(null,k))};e.processPNG=function(C,k,U,F){var O,L,I,T,q,M,re,G,V,ue,ne,$,J,oe,le,ie=this.decode.FLATE_DECODE,Y="";if(this.__addimage__.isArrayBuffer(C)&&(C=new Uint8Array(C)),this.__addimage__.isArrayBufferView(C)){if(C=(I=new $L(C)).imgData,L=I.bits,O=I.colorSpace,q=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){V=(G=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,ne=new Uint8Array(V*I.colors),ue=new Uint8Array(V);var we,fe=I.pixelBitlength-I.bits;for(oe=0,le=0;oe<V;oe++){for(J=G[oe],we=0;we<fe;)ne[le++]=J>>>we&255,we+=I.bits;ue[oe]=J>>>we&255}}if(I.bits===16){V=(G=new Uint32Array(I.decodePixels().buffer)).length,ne=new Uint8Array(V*(32/I.pixelBitlength)*I.colors),ue=new Uint8Array(V*(32/I.pixelBitlength)),$=I.colors>1,oe=0,le=0;for(var je=0;oe<V;)J=G[oe++],ne[le++]=J>>>0&255,$&&(ne[le++]=J>>>16&255,J=G[oe++],ne[le++]=J>>>0&255),ue[je++]=J>>>16&255;L=8}F!==e.image_compression.NONE&&t()?(C=a(ne,I.width*I.colors,I.colors,F),re=a(ue,I.width,1,F)):(C=ne,re=ue,ie=void 0)}if(I.colorType===3&&(O=this.color_spaces.INDEXED,M=I.palette,I.transparency.indexed)){var Pe=I.transparency.indexed,Ve=0;for(oe=0,V=Pe.length;oe<V;++oe)Ve+=Pe[oe];if((Ve/=255)===V-1&&Pe.indexOf(0)!==-1)T=[Pe.indexOf(0)];else if(Ve!==V){for(G=I.decodePixels(),ue=new Uint8Array(G.length),oe=0,V=G.length;oe<V;oe++)ue[oe]=Pe[G[oe]];re=a(ue,I.width,1)}}var de=function(he){var Ne;switch(he){case e.image_compression.FAST:Ne=11;break;case e.image_compression.MEDIUM:Ne=13;break;case e.image_compression.SLOW:Ne=14;break;default:Ne=12}return Ne}(F);return ie===this.decode.FLATE_DECODE&&(Y="/Predictor "+de+" "),Y+="/Colors "+q+" /BitsPerComponent "+L+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),(re&&this.__addimage__.isArrayBuffer(re)||this.__addimage__.isArrayBufferView(re))&&(re=this.__addimage__.arrayBufferToBinaryString(re)),{alias:U,data:C,index:k,filter:ie,decodeParameters:Y,transparency:T,palette:M,sMask:re,predictor:de,width:I.width,height:I.height,bitsPerComponent:L,colorSpace:O}}}})(Mt.API),function(e){e.processGIF89A=function(t,a,s,o){var l=new JL(t),d=l.width,g=l.height,f=[];l.decodeAndBlitFrameRGBA(0,f);var m={data:f,width:d,height:g},v=new Op(100).encode(m,100);return e.processJPEG.call(this,v,a,s,o)},e.processGIF87A=e.processGIF89A}(Mt.API),_n.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:o,green:s,blue:a,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_n.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(a){Er.log("bit decode error:"+a)}},_n.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),a=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,o=0;o<t;o++)for(var l=this.datav.getUint8(this.pos++,!0),d=s*this.width*4+8*o*4,g=0;g<8&&8*o+g<this.width;g++){var f=this.palette[l>>7-g&1];this.data[d+4*g]=f.blue,this.data[d+4*g+1]=f.green,this.data[d+4*g+2]=f.red,this.data[d+4*g+3]=255}a!==0&&(this.pos+=4-a)}},_n.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,o=0;o<e;o++){var l=this.datav.getUint8(this.pos++,!0),d=s*this.width*4+2*o*4,g=l>>4,f=15&l,m=this.palette[g];if(this.data[d]=m.blue,this.data[d+1]=m.green,this.data[d+2]=m.red,this.data[d+3]=255,2*o+1>=this.width)break;m=this.palette[f],this.data[d+4]=m.blue,this.data[d+4+1]=m.green,this.data[d+4+2]=m.red,this.data[d+4+3]=255}t!==0&&(this.pos+=4-t)}},_n.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+4*s;if(o<this.palette.length){var d=this.palette[o];this.data[l]=d.red,this.data[l+1]=d.green,this.data[l+2]=d.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}e!==0&&(this.pos+=4-e)}},_n.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&t)/t*255|0,g=(l>>5&t)/t*255|0,f=(l>>10&t)/t*255|0,m=l>>15?255:0,v=s*this.width*4+4*o;this.data[v]=f,this.data[v+1]=g,this.data[v+2]=d,this.data[v+3]=m}this.pos+=e}},_n.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),a=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var o=this.bottom_up?s:this.height-1-s,l=0;l<this.width;l++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var g=(d&t)/t*255|0,f=(d>>5&a)/a*255|0,m=(d>>11)/t*255|0,v=o*this.width*4+4*l;this.data[v]=m,this.data[v+1]=f,this.data[v+2]=g,this.data[v+3]=255}this.pos+=e}},_n.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=255}this.pos+=this.width%4}},_n.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),g=t*this.width*4+4*a;this.data[g]=l,this.data[g+1]=o,this.data[g+2]=s,this.data[g+3]=d}},_n.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,a,s,o){var l=new _n(t,!1),d=l.width,g=l.height,f={data:l.getData(),width:d,height:g},m=new Op(100).encode(f,100);return e.processJPEG.call(this,m,a,s,o)}}(Mt.API),e1.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,a,s,o){var l=new e1(t),d=l.width,g=l.height,f={data:l.getData(),width:d,height:g},m=new Op(100).encode(f,100);return e.processJPEG.call(this,m,a,s,o)}}(Mt.API),Mt.API.processRGBA=function(e,t,a){for(var s=e.data,o=s.length,l=new Uint8Array(o/4*3),d=new Uint8Array(o/4),g=0,f=0,m=0;m<o;m+=4){var v=s[m],N=s[m+1],C=s[m+2],k=s[m+3];l[g++]=v,l[g++]=N,l[g++]=C,d[f++]=k}var U=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:U,index:t,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Mt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pc=Mt.API,Oh=Pc.getCharWidthsArray=function(e,t){var a,s,o=(t=t||{}).font||this.internal.getFont(),l=t.fontSize||this.internal.getFontSize(),d=t.charSpace||this.internal.getCharSpace(),g=t.widths?t.widths:o.metadata.Unicode.widths,f=g.fof?g.fof:1,m=t.kerning?t.kerning:o.metadata.Unicode.kerning,v=m.fof?m.fof:1,N=t.doKerning!==!1,C=0,k=e.length,U=0,F=g[0]||f,O=[];for(a=0;a<k;a++)s=e.charCodeAt(a),typeof o.metadata.widthOfString=="function"?O.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(s))+d*(1e3/l)||0)/1e3):(C=N&&kr(m[s])==="object"&&!isNaN(parseInt(m[s][U],10))?m[s][U]/v:0,O.push((g[s]||F)/f+C)),U=s;return O},Yw=Pc.getStringUnitWidth=function(e,t){var a=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),o=t.charSpace||this.internal.getCharSpace();return Pc.processArabic&&(e=Pc.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,a,o)/a:Oh.apply(this,arguments).reduce(function(l,d){return l+d},0)},$w=function(e,t,a,s){for(var o=[],l=0,d=e.length,g=0;l!==d&&g+t[l]<a;)g+=t[l],l++;o.push(e.slice(0,l));var f=l;for(g=0;l!==d;)g+t[l]>s&&(o.push(e.slice(f,l)),g=0,f=l),g+=t[l],l++;return f!==l&&o.push(e.slice(f,l)),o},Jw=function(e,t,a){a||(a={});var s,o,l,d,g,f,m,v=[],N=[v],C=a.textIndent||0,k=0,U=0,F=e.split(" "),O=Oh.apply(this,[" ",a])[0];if(f=a.lineIndent===-1?F[0].length+2:a.lineIndent||0){var L=Array(f).join(" "),I=[];F.map(function(q){(q=q.split(/\s*\n/)).length>1?I=I.concat(q.map(function(M,re){return(re&&M.length?`
`:"")+M})):I.push(q[0])}),F=I,f=Yw.apply(this,[L,a])}for(l=0,d=F.length;l<d;l++){var T=0;if(s=F[l],f&&s[0]==`
`&&(s=s.substr(1),T=1),C+k+(U=(o=Oh.apply(this,[s,a])).reduce(function(q,M){return q+M},0))>t||T){if(U>t){for(g=$w.apply(this,[s,o,t-(C+k),t]),v.push(g.shift()),v=[g.pop()];g.length;)N.push([g.shift()]);U=o.slice(s.length-(v[0]?v[0].length:0)).reduce(function(q,M){return q+M},0)}else v=[s];N.push(v),C=U+f,k=O}else v.push(s),C+=k+U,k=O}return m=f?function(q,M){return(M?L:"")+q.join(" ")}:function(q){return q.join(" ")},N.map(m)},Pc.splitTextToSize=function(e,t,a){var s,o=(a=a||{}).fontSize||this.internal.getFontSize(),l=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var N=this.internal.getFont(v.fontName,v.fontStyle);return N.metadata.Unicode?{widths:N.metadata.Unicode.widths||{0:1},kerning:N.metadata.Unicode.kerning||{}}:{font:N.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var d=1*this.internal.scaleFactor*t/o;l.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/o:0,l.lineIndent=a.lineIndent;var g,f,m=[];for(g=0,f=s.length;g<f;g++)m=m.concat(Jw.apply(this,[s[g],d,l]));return m},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",a={},s={},o=0;o<t.length;o++)a[t[o]]="0123456789abcdef"[o],s["0123456789abcdef"[o]]=t[o];var l=function(N){return"0x"+parseInt(N,10).toString(16)},d=e.__fontmetrics__.compress=function(N){var C,k,U,F,O=["{"];for(var L in N){if(C=N[L],isNaN(parseInt(L,10))?k="'"+L+"'":(L=parseInt(L,10),k=(k=l(L).slice(2)).slice(0,-1)+s[k.slice(-1)]),typeof C=="number")C<0?(U=l(C).slice(3),F="-"):(U=l(C).slice(2),F=""),U=F+U.slice(0,-1)+s[U.slice(-1)];else{if(kr(C)!=="object")throw new Error("Don't know what to do with value type "+kr(C)+".");U=d(C)}O.push(k+U)}return O.push("}"),O.join("")},g=e.__fontmetrics__.uncompress=function(N){if(typeof N!="string")throw new Error("Invalid argument passed to uncompress.");for(var C,k,U,F,O={},L=1,I=O,T=[],q="",M="",re=N.length-1,G=1;G<re;G+=1)(F=N[G])=="'"?C?(U=C.join(""),C=void 0):C=[]:C?C.push(F):F=="{"?(T.push([I,U]),I={},U=void 0):F=="}"?((k=T.pop())[0][k[1]]=I,U=void 0,I=k[0]):F=="-"?L=-1:U===void 0?a.hasOwnProperty(F)?(q+=a[F],U=parseInt(q,16)*L,L=1,q=""):q+=F:a.hasOwnProperty(F)?(M+=a[F],I[U]=parseInt(M,16)*L,L=1,U=void 0,M=""):M+=F;return O},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:g("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},v={Unicode:{"Courier-Oblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":g("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":g("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:g("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:g("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":g("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":g("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(N){var C=N.font,k=v.Unicode[C.postScriptName];k&&(C.metadata.Unicode={},C.metadata.Unicode.widths=k.widths,C.metadata.Unicode.kerning=k.kerning);var U=m.Unicode[C.postScriptName];U&&(C.metadata.Unicode.encoding=U,C.encoding=U.codePages[0])}])}(Mt.API),function(e){var t=function(a){for(var s=a.length,o=new Uint8Array(s),l=0;l<s;l++)o[l]=a.charCodeAt(l);return o};e.API.events.push(["addFont",function(a){var s=void 0,o=a.font,l=a.instance;if(!o.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(s=l.existsFileInVFS(o.postScriptName)===!1?l.loadFile(o.postScriptName):l.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(d,g){g=/^\x00\x01\x00\x00/.test(g)?t(g):t(Yd(g)),d.metadata=e.API.TTFFont.open(g),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(o,s)}}])}(Mt),function(e){function t(){return(Ht.canvg?Promise.resolve(Ht.canvg):Ol(()=>import("./index.es-24abacd4.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load canvg: "+a))}).then(function(a){return a.default?a.default:a})}Mt.API.addSvgAsImage=function(a,s,o,l,d,g,f,m){if(isNaN(s)||isNaN(o))throw Er.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(d))throw Er.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=l,v.height=d;var N=v.getContext("2d");N.fillStyle="#fff",N.fillRect(0,0,v.width,v.height);var C={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},k=this;return t().then(function(U){return U.fromString(N,a,C)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(U){return U.render(C)}).then(function(){k.addImage(v.toDataURL("image/jpeg",1),s,o,l,d,f,m)})}}(),Mt.API.putTotalPages=function(e){var t,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),a=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var o=0;o<this.internal.pages[s].length;o++)this.internal.pages[s][o]=this.internal.pages[s][o].replace(t,a);return this},Mt.API.viewerPreferences=function(e,t){var a;e=e||{},t=t||!1;var s,o,l,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},g=Object.keys(d),f=[],m=0,v=0,N=0;function C(U,F){var O,L=!1;for(O=0;O<U.length;O+=1)U[O]===F&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var k=g.length;for(N=0;N<k;N+=1)a[g[N]].value=a[g[N]].defaultValue,a[g[N]].explicitSet=!1}if(kr(e)==="object"){for(o in e)if(l=e[o],C(g,o)&&l!==void 0){if(a[o].type==="boolean"&&typeof l=="boolean")a[o].value=l;else if(a[o].type==="name"&&C(a[o].valueSet,l))a[o].value=l;else if(a[o].type==="integer"&&Number.isInteger(l))a[o].value=l;else if(a[o].type==="array"){for(m=0;m<l.length;m+=1)if(s=!0,l[m].length===1&&typeof l[m][0]=="number")f.push(String(l[m]-1));else if(l[m].length>1){for(v=0;v<l[m].length;v+=1)typeof l[m][v]!="number"&&(s=!1);s===!0&&f.push([l[m][0]-1,l[m][1]-1].join(" "))}a[o].value="["+f.join(" ")+"]"}else a[o].value=a[o].defaultValue;a[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var U,F=[];for(U in a)a[U].explicitSet===!0&&(a[U].type==="name"?F.push("/"+U+" /"+a[U].value):F.push("/"+U+" "+a[U].value));F.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+F.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(s)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),g=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),m=l.length+d.length+g.length+o.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(o+l+d+g+f),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",t)),this}}(Mt.API),function(e){var t=e.API,a=t.pdfEscape16=function(l,d){for(var g,f=d.metadata.Unicode.widths,m=["","0","00","000","0000"],v=[""],N=0,C=l.length;N<C;++N){if(g=d.metadata.characterToGlyph(l.charCodeAt(N)),d.metadata.glyIdsUsed.push(g),d.metadata.toUnicode[g]=l.charCodeAt(N),f.indexOf(g)==-1&&(f.push(g),f.push([parseInt(d.metadata.widthOfGlyph(g),10)])),g=="0")return v.join("");g=g.toString(16),v.push(m[4-g.length],g)}return v.join("")},s=function(l){var d,g,f,m,v,N,C;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],N=0,C=(g=Object.keys(l).sort(function(k,U){return k-U})).length;N<C;N++)d=g[N],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),l[d]!==void 0&&l[d]!==null&&typeof l[d].toString=="function"&&(m=("0000"+l[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),f.push("<"+d+"><"+m+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(l){(function(d){var g=d.font,f=d.out,m=d.newObject,v=d.putStream;if(g.metadata instanceof e.API.TTFFont&&g.encoding==="Identity-H"){for(var N=g.metadata.Unicode.widths,C=g.metadata.subset.encode(g.metadata.glyIdsUsed,1),k="",U=0;U<C.length;U++)k+=String.fromCharCode(C[U]);var F=m();v({data:k,addLength1:!0,objectId:F}),f("endobj");var O=m();v({data:s(g.metadata.toUnicode),addLength1:!0,objectId:O}),f("endobj");var L=m();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+_c(g.fontName)),f("/FontFile2 "+F+" 0 R"),f("/FontBBox "+e.API.PDFObject.convert(g.metadata.bbox)),f("/Flags "+g.metadata.flags),f("/StemV "+g.metadata.stemV),f("/ItalicAngle "+g.metadata.italicAngle),f("/Ascent "+g.metadata.ascender),f("/Descent "+g.metadata.decender),f("/CapHeight "+g.metadata.capHeight),f(">>"),f("endobj");var I=m();f("<<"),f("/Type /Font"),f("/BaseFont /"+_c(g.fontName)),f("/FontDescriptor "+L+" 0 R"),f("/W "+e.API.PDFObject.convert(N)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+g.encoding+")"),f(">>"),f(">>"),f("endobj"),g.objectNumber=m(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+O+" 0 R"),f("/BaseFont /"+_c(g.fontName)),f("/Encoding /"+g.encoding),f("/DescendantFonts ["+I+" 0 R]"),f(">>"),f("endobj"),g.isAlreadyPutted=!0}})(l)}]),t.events.push(["putFont",function(l){(function(d){var g=d.font,f=d.out,m=d.newObject,v=d.putStream;if(g.metadata instanceof e.API.TTFFont&&g.encoding==="WinAnsiEncoding"){for(var N=g.metadata.rawData,C="",k=0;k<N.length;k++)C+=String.fromCharCode(N[k]);var U=m();v({data:C,addLength1:!0,objectId:U}),f("endobj");var F=m();v({data:s(g.metadata.toUnicode),addLength1:!0,objectId:F}),f("endobj");var O=m();f("<<"),f("/Descent "+g.metadata.decender),f("/CapHeight "+g.metadata.capHeight),f("/StemV "+g.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+U+" 0 R"),f("/Flags 96"),f("/FontBBox "+e.API.PDFObject.convert(g.metadata.bbox)),f("/FontName /"+_c(g.fontName)),f("/ItalicAngle "+g.metadata.italicAngle),f("/Ascent "+g.metadata.ascender),f(">>"),f("endobj"),g.objectNumber=m();for(var L=0;L<g.metadata.hmtx.widths.length;L++)g.metadata.hmtx.widths[L]=parseInt(g.metadata.hmtx.widths[L]*(1e3/g.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+F+" 0 R/BaseFont/"+_c(g.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+g.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(g.metadata.hmtx.widths)+">>"),f("endobj"),g.isAlreadyPutted=!0}})(l)}]);var o=function(l){var d,g=l.text||"",f=l.x,m=l.y,v=l.options||{},N=l.mutex||{},C=N.pdfEscape,k=N.activeFontKey,U=N.fonts,F=k,O="",L=0,I="",T=U[F].encoding;if(U[F].encoding!=="Identity-H")return{text:g,x:f,y:m,options:v,mutex:N};for(I=g,F=k,Array.isArray(g)&&(I=g[0]),L=0;L<I.length;L+=1)U[F].metadata.hasOwnProperty("cmap")&&(d=U[F].metadata.cmap.unicode.codeMap[I[L].charCodeAt(0)]),d||I[L].charCodeAt(0)<256&&U[F].metadata.hasOwnProperty("Unicode")?O+=I[L]:O+="";var q="";return parseInt(F.slice(1))<14||T==="WinAnsiEncoding"?q=C(O,F).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(q=a(O,U[F])),N.isHex=!0,{text:q,x:f,y:m,options:v,mutex:N}};t.events.push(["postProcessText",function(l){var d=l.text||"",g=[],f={text:d,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(d)){var m=0;for(m=0;m<d.length;m+=1)Array.isArray(d[m])&&d[m].length===3?g.push([o(Object.assign({},f,{text:d[m][0]})).text,d[m][1],d[m][2]]):g.push(o(Object.assign({},f,{text:d[m]})).text);l.text=g}else l.text=o(Object.assign({},f,{text:d})).text}])}(Mt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0},e.addFileToVFS=function(a,s){return t.call(this),this.internal.vFS[a]=s,this},e.getFileFromVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}}(Mt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var o,l,d,g,f,m,v,N=t,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],k=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},F={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,T=0;this.__bidiEngine__={};var q=function($){var J=$.charCodeAt(),oe=J>>8,le=F[oe];return le!==void 0?N[256*le+(255&J)]:oe===252||oe===253?"AL":L.test(oe)?"L":oe===8?"R":"N"},M=function($){for(var J,oe=0;oe<$.length;oe++){if((J=q($.charAt(oe)))==="L")return!1;if(J==="R")return!0}return!1},re=function($,J,oe,le){var ie,Y,we,fe,je=J[le];switch(je){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(je="AN");break;case"AL":I=!0,je="R";break;case"WS":je="N";break;case"CS":le<1||le+1>=J.length||(ie=oe[le-1])!=="EN"&&ie!=="AN"||(Y=J[le+1])!=="EN"&&Y!=="AN"?je="N":I&&(Y="AN"),je=Y===ie?Y:"N";break;case"ES":je=(ie=le>0?oe[le-1]:"B")==="EN"&&le+1<J.length&&J[le+1]==="EN"?"EN":"N";break;case"ET":if(le>0&&oe[le-1]==="EN"){je="EN";break}if(I){je="N";break}for(we=le+1,fe=J.length;we<fe&&J[we]==="ET";)we++;je=we<fe&&J[we]==="EN"?"EN":"N";break;case"NSM":if(d&&!g){for(fe=J.length,we=le+1;we<fe&&J[we]==="NSM";)we++;if(we<fe){var Pe=$[le],Ve=Pe>=1425&&Pe<=2303||Pe===64286;if(ie=J[we],Ve&&(ie==="R"||ie==="AL")){je="R";break}}}je=le<1||(ie=J[le-1])==="B"?"N":oe[le-1];break;case"B":I=!1,o=!0,je=T;break;case"S":l=!0,je="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":je="N"}return je},G=function($,J,oe){var le=$.split("");return oe&&V(le,oe,{hiLevel:T}),le.reverse(),J&&J.reverse(),le.join("")},V=function($,J,oe){var le,ie,Y,we,fe,je=-1,Pe=$.length,Ve=0,de=[],he=T?k:C,Ne=[];for(I=!1,o=!1,l=!1,ie=0;ie<Pe;ie++)Ne[ie]=q($[ie]);for(Y=0;Y<Pe;Y++){if(fe=Ve,de[Y]=re($,Ne,de,Y),le=240&(Ve=he[fe][U[de[Y]]]),Ve&=15,J[Y]=we=he[Ve][5],le>0)if(le===16){for(ie=je;ie<Y;ie++)J[ie]=1;je=-1}else je=-1;if(he[Ve][6])je===-1&&(je=Y);else if(je>-1){for(ie=je;ie<Y;ie++)J[ie]=we;je=-1}Ne[Y]==="B"&&(J[Y]=0),oe.hiLevel|=we}l&&function(Ee,Se,Ie){for(var ke=0;ke<Ie;ke++)if(Ee[ke]==="S"){Se[ke]=T;for(var Qe=ke-1;Qe>=0&&Ee[Qe]==="WS";Qe--)Se[Qe]=T}}(Ne,J,Pe)},ue=function($,J,oe,le,ie){if(!(ie.hiLevel<$)){if($===1&&T===1&&!o)return J.reverse(),void(oe&&oe.reverse());for(var Y,we,fe,je,Pe=J.length,Ve=0;Ve<Pe;){if(le[Ve]>=$){for(fe=Ve+1;fe<Pe&&le[fe]>=$;)fe++;for(je=Ve,we=fe-1;je<we;je++,we--)Y=J[je],J[je]=J[we],J[we]=Y,oe&&(Y=oe[je],oe[je]=oe[we],oe[we]=Y);Ve=fe}Ve++}}},ne=function($,J,oe){var le=$.split(""),ie={hiLevel:T};return oe||(oe=[]),V(le,oe,ie),function(Y,we,fe){if(fe.hiLevel!==0&&v)for(var je,Pe=0;Pe<Y.length;Pe++)we[Pe]===1&&(je=O.indexOf(Y[Pe]))>=0&&(Y[Pe]=O[je+1])}(le,oe,ie),ue(2,le,J,oe,ie),ue(1,le,J,oe,ie),le.join("")};return this.__bidiEngine__.doBidiReorder=function($,J,oe){if(function(ie,Y){if(Y)for(var we=0;we<ie.length;we++)Y[we]=we;g===void 0&&(g=M(ie)),m===void 0&&(m=M(ie))}($,J),d||!f||m)if(d&&f&&g^m)T=g?1:0,$=G($,J,oe);else if(!d&&f&&m)T=g?1:0,$=ne($,J,oe),$=G($,J);else if(!d||g||f||m){if(d&&!f&&g^m)$=G($,J),g?(T=0,$=ne($,J,oe)):(T=1,$=ne($,J,oe),$=G($,J));else if(d&&g&&!f&&m)T=1,$=ne($,J,oe),$=G($,J);else if(!d&&!f&&g^m){var le=v;g?(T=1,$=ne($,J,oe),T=0,v=!1,$=ne($,J,oe),v=le):(T=0,$=ne($,J,oe),$=G($,J),T=1,v=!1,$=ne($,J,oe),v=le,$=G($,J))}}else T=0,$=ne($,J,oe);else T=g?1:0,$=ne($,J,oe);return $},this.__bidiEngine__.setOptions=function($){$&&(d=$.isInputVisual,f=$.isOutputVisual,g=$.isInputRtl,m=$.isOutputRtl,v=$.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var o=s.text;s.x,s.y;var l=s.options||{};s.mutex,l.lang;var d=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,a.setOptions(l),Object.prototype.toString.call(o)==="[object Array]"){var g=0;for(d=[],g=0;g<o.length;g+=1)Object.prototype.toString.call(o[g])==="[object Array]"?d.push([a.doBidiReorder(o[g][0]),o[g][1],o[g][2]]):d.push([a.doBidiReorder(o[g])]);s.text=d}else s.text=a.doBidiReorder(o);a.setOptions({isInputVisual:!0})}])}(Mt),Mt.API.TTFFont=function(){function e(t){var a;if(this.rawData=t,a=this.contents=new dl(t),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new hI(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new ZL(this.contents),this.head=new tI(this),this.name=new iI(this),this.cmap=new a5(this),this.toUnicode={},this.hhea=new rI(this),this.maxp=new oI(this),this.hmtx=new lI(this),this.post=new sI(this),this.os2=new aI(this),this.loca=new uI(this),this.glyf=new cI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,a,s,o,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,g,f,m;for(m=[],d=0,g=(f=this.bbox).length;d<g;d++)t=f[d],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(s=255&(o=this.post.italic_angle),32768&(a=o>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var a;return((a=this.cmap.unicode)!=null?a.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*a},e.prototype.widthOfString=function(t,a,s){var o,l,d,g;for(d=0,l=0,g=(t=""+t).length;0<=g?l<g:l>g;l=0<=g?++l:--l)o=t.charCodeAt(l),d+=this.widthOfGlyph(this.characterToGlyph(o))+s*(1e3/a)||0;return d*(a/1e3)},e.prototype.lineHeight=function(t,a){var s;return a==null&&(a=!1),s=a?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var ri,dl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var a,s;for(s=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)s[a]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var a,s,o;for(o=[],a=0,s=t.length;0<=s?a<s:a>s;a=0<=s?++a:--a)o.push(this.writeByte(t.charCodeAt(a)));return o},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,a,s,o,l,d,g,f;return t=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),d=this.readByte(),g=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^a)+1099511627776*(255^s)+4294967296*(255^o)+16777216*(255^l)+65536*(255^d)+256*(255^g)+(255^f)+1):72057594037927940*t+281474976710656*a+1099511627776*s+4294967296*o+16777216*l+65536*d+256*g+f},e.prototype.writeLongLong=function(t){var a,s;return a=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var a,s;for(a=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)a.push(this.readByte());return a},e.prototype.write=function(t){var a,s,o,l;for(l=[],s=0,o=t.length;s<o;s++)a=t[s],l.push(this.writeByte(a));return l},e}(),ZL=function(){var e;function t(a){var s,o,l;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},o=0,l=this.tableCount;0<=l?o<l:o>l;o=0<=l?++o:--o)s={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(a){var s,o,l,d,g,f,m,v,N,C,k,U,F;for(F in k=Object.keys(a).length,f=Math.log(2),N=16*Math.floor(Math.log(k)/f),d=Math.floor(N/f),v=16*k-N,(o=new dl).writeInt(this.scalarType),o.writeShort(k),o.writeShort(N),o.writeShort(d),o.writeShort(v),l=16*k,m=o.pos+l,g=null,U=[],a)for(C=a[F],o.writeString(F),o.writeInt(e(C)),o.writeInt(m),o.writeInt(C.length),U=U.concat(C),F==="head"&&(g=m),m+=C.length;m%4;)U.push(0),m++;return o.write(U),s=2981146554-e(o.data),o.pos=g+8,o.writeUInt32(s),o.data},e=function(a){var s,o,l,d;for(a=s5.call(a);a.length%4;)a.push(0);for(l=new dl(a),o=0,s=0,d=a.length;s<d;s=s+=4)o+=l.readUInt32();return 4294967295&o},t}(),eI={}.hasOwnProperty,ji=function(e,t){for(var a in t)eI.call(t,a)&&(e[a]=t[a]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};ri=function(){function e(t){var a;this.file=t,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var tI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ji(t,ri),t.prototype.tag="head",t.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.revision=a.readInt(),this.checkSumAdjustment=a.readInt(),this.magicNumber=a.readInt(),this.flags=a.readShort(),this.unitsPerEm=a.readShort(),this.created=a.readLongLong(),this.modified=a.readLongLong(),this.xMin=a.readShort(),this.yMin=a.readShort(),this.xMax=a.readShort(),this.yMax=a.readShort(),this.macStyle=a.readShort(),this.lowestRecPPEM=a.readShort(),this.fontDirectionHint=a.readShort(),this.indexToLocFormat=a.readShort(),this.glyphDataFormat=a.readShort()},t.prototype.encode=function(a){var s;return(s=new dl).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(a),s.writeShort(this.glyphDataFormat),s.data},t}(),t1=function(){function e(t,a){var s,o,l,d,g,f,m,v,N,C,k,U,F,O,L,I,T;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=a+t.readInt(),N=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(k=t.readUInt16(),C=k/2,t.pos+=6,l=function(){var q,M;for(M=[],f=q=0;0<=C?q<C:q>C;f=0<=C?++q:--q)M.push(t.readUInt16());return M}(),t.pos+=2,F=function(){var q,M;for(M=[],f=q=0;0<=C?q<C:q>C;f=0<=C?++q:--q)M.push(t.readUInt16());return M}(),m=function(){var q,M;for(M=[],f=q=0;0<=C?q<C:q>C;f=0<=C?++q:--q)M.push(t.readUInt16());return M}(),v=function(){var q,M;for(M=[],f=q=0;0<=C?q<C:q>C;f=0<=C?++q:--q)M.push(t.readUInt16());return M}(),o=(this.length-t.pos+this.offset)/2,g=function(){var q,M;for(M=[],f=q=0;0<=o?q<o:q>o;f=0<=o?++q:--q)M.push(t.readUInt16());return M}(),f=L=0,T=l.length;L<T;f=++L)for(O=l[f],s=I=U=F[f];U<=O?I<=O:I>=O;s=U<=O?++I:--I)v[f]===0?d=s+m[f]:(d=g[v[f]/2+(s-U)-(C-f)]||0)!==0&&(d+=m[f]),this.codeMap[s]=65535&d}t.pos=N}return e.encode=function(t,a){var s,o,l,d,g,f,m,v,N,C,k,U,F,O,L,I,T,q,M,re,G,V,ue,ne,$,J,oe,le,ie,Y,we,fe,je,Pe,Ve,de,he,Ne,Ee,Se,Ie,ke,Qe,Ke,tt,ct;switch(le=new dl,d=Object.keys(t).sort(function(lt,Qt){return lt-Qt}),a){case"macroman":for(F=0,O=function(){var lt=[];for(U=0;U<256;++U)lt.push(0);return lt}(),I={0:0},l={},ie=0,je=d.length;ie<je;ie++)I[Qe=t[o=d[ie]]]==null&&(I[Qe]=++F),l[o]={old:t[o],new:I[t[o]]},O[o]=I[t[o]];return le.writeUInt16(1),le.writeUInt16(0),le.writeUInt32(12),le.writeUInt16(0),le.writeUInt16(262),le.writeUInt16(0),le.write(O),{charMap:l,subtable:le.data,maxGlyphID:F+1};case"unicode":for(J=[],N=[],T=0,I={},s={},L=m=null,Y=0,Pe=d.length;Y<Pe;Y++)I[M=t[o=d[Y]]]==null&&(I[M]=++T),s[o]={old:M,new:I[M]},g=I[M]-o,L!=null&&g===m||(L&&N.push(L),J.push(o),m=g),L=o;for(L&&N.push(L),N.push(65535),J.push(65535),ne=2*(ue=J.length),V=2*Math.pow(Math.log(ue)/Math.LN2,2),C=Math.log(V/2)/Math.LN2,G=2*ue-V,f=[],re=[],k=[],U=we=0,Ve=J.length;we<Ve;U=++we){if($=J[U],v=N[U],$===65535){f.push(0),re.push(0);break}if($-(oe=s[$].new)>=32768)for(f.push(0),re.push(2*(k.length+ue-U)),o=fe=$;$<=v?fe<=v:fe>=v;o=$<=v?++fe:--fe)k.push(s[o].new);else f.push(oe-$),re.push(0)}for(le.writeUInt16(3),le.writeUInt16(1),le.writeUInt32(12),le.writeUInt16(4),le.writeUInt16(16+8*ue+2*k.length),le.writeUInt16(0),le.writeUInt16(ne),le.writeUInt16(V),le.writeUInt16(C),le.writeUInt16(G),Ie=0,de=N.length;Ie<de;Ie++)o=N[Ie],le.writeUInt16(o);for(le.writeUInt16(0),ke=0,he=J.length;ke<he;ke++)o=J[ke],le.writeUInt16(o);for(Ke=0,Ne=f.length;Ke<Ne;Ke++)g=f[Ke],le.writeUInt16(g);for(tt=0,Ee=re.length;tt<Ee;tt++)q=re[tt],le.writeUInt16(q);for(ct=0,Se=k.length;ct<Se;ct++)F=k[ct],le.writeUInt16(F);return{charMap:s,subtable:le.data,maxGlyphID:T+1}}},e}(),a5=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ji(t,ri),t.prototype.tag="cmap",t.prototype.parse=function(a){var s,o,l;for(a.pos=this.offset,this.version=a.readUInt16(),l=a.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=l?o<l:o>l;o=0<=l?++o:--o)s=new t1(a,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(a,s){var o,l;return s==null&&(s="macroman"),o=t1.encode(a,s),(l=new dl).writeUInt16(0),l.writeUInt16(1),o.table=l.data.concat(o.subtable),o},t}(),rI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ji(t,ri),t.prototype.tag="hhea",t.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.ascender=a.readShort(),this.decender=a.readShort(),this.lineGap=a.readShort(),this.advanceWidthMax=a.readShort(),this.minLeftSideBearing=a.readShort(),this.minRightSideBearing=a.readShort(),this.xMaxExtent=a.readShort(),this.caretSlopeRise=a.readShort(),this.caretSlopeRun=a.readShort(),this.caretOffset=a.readShort(),a.pos+=8,this.metricDataFormat=a.readShort(),this.numberOfMetrics=a.readUInt16()},t}(),aI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ji(t,ri),t.prototype.tag="OS/2",t.prototype.parse=function(a){if(a.pos=this.offset,this.version=a.readUInt16(),this.averageCharWidth=a.readShort(),this.weightClass=a.readUInt16(),this.widthClass=a.readUInt16(),this.type=a.readShort(),this.ySubscriptXSize=a.readShort(),this.ySubscriptYSize=a.readShort(),this.ySubscriptXOffset=a.readShort(),this.ySubscriptYOffset=a.readShort(),this.ySuperscriptXSize=a.readShort(),this.ySuperscriptYSize=a.readShort(),this.ySuperscriptXOffset=a.readShort(),this.ySuperscriptYOffset=a.readShort(),this.yStrikeoutSize=a.readShort(),this.yStrikeoutPosition=a.readShort(),this.familyClass=a.readShort(),this.panose=function(){var s,o;for(o=[],s=0;s<10;++s)o.push(a.readByte());return o}(),this.charRange=function(){var s,o;for(o=[],s=0;s<4;++s)o.push(a.readInt());return o}(),this.vendorID=a.readString(4),this.selection=a.readShort(),this.firstCharIndex=a.readShort(),this.lastCharIndex=a.readShort(),this.version>0&&(this.ascent=a.readShort(),this.descent=a.readShort(),this.lineGap=a.readShort(),this.winAscent=a.readShort(),this.winDescent=a.readShort(),this.codePageRange=function(){var s,o;for(o=[],s=0;s<2;s=++s)o.push(a.readInt());return o}(),this.version>1))return this.xHeight=a.readShort(),this.capHeight=a.readShort(),this.defaultChar=a.readShort(),this.breakChar=a.readShort(),this.maxContext=a.readShort()},t}(),sI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ji(t,ri),t.prototype.tag="post",t.prototype.parse=function(a){var s,o,l;switch(a.pos=this.offset,this.format=a.readInt(),this.italicAngle=a.readInt(),this.underlinePosition=a.readShort(),this.underlineThickness=a.readShort(),this.isFixedPitch=a.readInt(),this.minMemType42=a.readInt(),this.maxMemType42=a.readInt(),this.minMemType1=a.readInt(),this.maxMemType1=a.readInt(),this.format){case 65536:break;case 131072:var d;for(o=a.readUInt16(),this.glyphNameIndex=[],d=0;0<=o?d<o:d>o;d=0<=o?++d:--d)this.glyphNameIndex.push(a.readUInt16());for(this.names=[],l=[];a.pos<this.offset+this.length;)s=a.readByte(),l.push(this.names.push(a.readString(s)));return l;case 151552:return o=a.readUInt16(),this.offsets=a.read(o);case 196608:break;case 262144:return this.map=(function(){var g,f,m;for(m=[],d=g=0,f=this.file.maxp.numGlyphs;0<=f?g<f:g>f;d=0<=f?++g:--g)m.push(a.readUInt32());return m}).call(this)}},t}(),nI=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},iI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ji(t,ri),t.prototype.tag="name",t.prototype.parse=function(a){var s,o,l,d,g,f,m,v,N,C,k;for(a.pos=this.offset,a.readShort(),s=a.readShort(),f=a.readShort(),o=[],d=0;0<=s?d<s:d>s;d=0<=s?++d:--d)o.push({platformID:a.readShort(),encodingID:a.readShort(),languageID:a.readShort(),nameID:a.readShort(),length:a.readShort(),offset:this.offset+f+a.readShort()});for(m={},d=N=0,C=o.length;N<C;d=++N)l=o[d],a.pos=l.offset,v=a.readString(l.length),g=new nI(v,l),m[k=l.nameID]==null&&(m[k]=[]),m[l.nameID].push(g);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},t}(),oI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ji(t,ri),t.prototype.tag="maxp",t.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.numGlyphs=a.readUInt16(),this.maxPoints=a.readUInt16(),this.maxContours=a.readUInt16(),this.maxCompositePoints=a.readUInt16(),this.maxComponentContours=a.readUInt16(),this.maxZones=a.readUInt16(),this.maxTwilightPoints=a.readUInt16(),this.maxStorage=a.readUInt16(),this.maxFunctionDefs=a.readUInt16(),this.maxInstructionDefs=a.readUInt16(),this.maxStackElements=a.readUInt16(),this.maxSizeOfInstructions=a.readUInt16(),this.maxComponentElements=a.readUInt16(),this.maxComponentDepth=a.readUInt16()},t}(),lI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ji(t,ri),t.prototype.tag="hmtx",t.prototype.parse=function(a){var s,o,l,d,g,f,m;for(a.pos=this.offset,this.metrics=[],s=0,f=this.file.hhea.numberOfMetrics;0<=f?s<f:s>f;s=0<=f?++s:--s)this.metrics.push({advance:a.readUInt16(),lsb:a.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var v,N;for(N=[],s=v=0;0<=l?v<l:v>l;s=0<=l?++v:--v)N.push(a.readInt16());return N}(),this.widths=(function(){var v,N,C,k;for(k=[],v=0,N=(C=this.metrics).length;v<N;v++)d=C[v],k.push(d.advance);return k}).call(this),o=this.widths[this.widths.length-1],m=[],s=g=0;0<=l?g<l:g>l;s=0<=l?++g:--g)m.push(this.widths.push(o));return m},t.prototype.forGlyph=function(a){return a in this.metrics?this.metrics[a]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[a-this.metrics.length]}},t}(),s5=[].slice,cI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ji(t,ri),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(a){var s,o,l,d,g,f,m,v,N,C;return a in this.cache?this.cache[a]:(d=this.file.loca,s=this.file.contents,o=d.indexOf(a),(l=d.lengthOf(a))===0?this.cache[a]=null:(s.pos=this.offset+o,g=(f=new dl(s.read(l))).readShort(),v=f.readShort(),C=f.readShort(),m=f.readShort(),N=f.readShort(),this.cache[a]=g===-1?new dI(f,v,C,m,N):new AI(f,g,v,C,m,N),this.cache[a]))},t.prototype.encode=function(a,s,o){var l,d,g,f,m;for(g=[],d=[],f=0,m=s.length;f<m;f++)l=a[s[f]],d.push(g.length),l&&(g=g.concat(l.encode(o)));return d.push(g.length),{table:g,offsets:d}},t}(),AI=function(){function e(t,a,s,o,l,d){this.raw=t,this.numberOfContours=a,this.xMin=s,this.yMin=o,this.xMax=l,this.yMax=d,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),dI=function(){function e(t,a,s,o,l){var d,g;for(this.raw=t,this.xMin=a,this.yMin=s,this.xMax=o,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;g=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&g;)d.pos+=1&g?4:2,128&g?d.pos+=8:64&g?d.pos+=4:8&g&&(d.pos+=2)}return e.prototype.encode=function(){var t,a,s;for(a=new dl(s5.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)a.pos=this.glyphOffsets[t];return a.data},e}(),uI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ji(t,ri),t.prototype.tag="loca",t.prototype.parse=function(a){var s,o;return a.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var l,d;for(d=[],o=0,l=this.length;o<l;o+=2)d.push(2*a.readUInt16());return d}).call(this):(function(){var l,d;for(d=[],o=0,l=this.length;o<l;o+=4)d.push(a.readUInt32());return d}).call(this)},t.prototype.indexOf=function(a){return this.offsets[a]},t.prototype.lengthOf=function(a){return this.offsets[a+1]-this.offsets[a]},t.prototype.encode=function(a,s){for(var o=new Uint32Array(this.offsets.length),l=0,d=0,g=0;g<o.length;++g)if(o[g]=l,d<s.length&&s[d]==g){++d,o[g]=l;var f=this.offsets[g],m=this.offsets[g+1]-f;m>0&&(l+=m)}for(var v=new Array(4*o.length),N=0;N<o.length;++N)v[4*N+3]=255&o[N],v[4*N+2]=(65280&o[N])>>8,v[4*N+1]=(16711680&o[N])>>16,v[4*N]=(4278190080&o[N])>>24;return v},t}(),hI=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,a,s,o,l;for(a in o=this.font.cmap.tables[0].codeMap,t={},l=this.subset)s=l[a],t[a]=o[s];return t},e.prototype.glyphsFor=function(t){var a,s,o,l,d,g,f;for(o={},d=0,g=t.length;d<g;d++)o[l=t[d]]=this.font.glyf.glyphFor(l);for(l in a=[],o)(s=o[l])!=null&&s.compound&&a.push.apply(a,s.glyphIDs);if(a.length>0)for(l in f=this.glyphsFor(a))s=f[l],o[l]=s;return o},e.prototype.encode=function(t,a){var s,o,l,d,g,f,m,v,N,C,k,U,F,O,L;for(o in s=a5.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(t),k={0:0},L=s.charMap)k[(f=L[o]).old]=f.new;for(U in C=s.maxGlyphID,d)U in k||(k[U]=C++);return v=function(I){var T,q;for(T in q={},I)q[I[T]]=T;return q}(k),N=Object.keys(v).sort(function(I,T){return I-T}),F=function(){var I,T,q;for(q=[],I=0,T=N.length;I<T;I++)g=N[I],q.push(v[g]);return q}(),l=this.font.glyf.encode(d,F,k),m=this.font.loca.encode(l.offsets,F),O={cmap:this.font.cmap.raw(),glyf:l.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},e}();Mt.API.PDFObject=function(){var e;function t(){}return e=function(a,s){return(Array(s+1).join("0")+a).slice(-s)},t.convert=function(a){var s,o,l,d;if(Array.isArray(a))return"["+function(){var g,f,m;for(m=[],g=0,f=a.length;g<f;g++)s=a[g],m.push(t.convert(s));return m}().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a!=null&&a.isString)return"("+a+")";if(a instanceof Date)return"(D:"+e(a.getUTCFullYear(),4)+e(a.getUTCMonth(),2)+e(a.getUTCDate(),2)+e(a.getUTCHours(),2)+e(a.getUTCMinutes(),2)+e(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(o in l=["<<"],a)d=a[o],l.push("/"+o+" "+t.convert(d));return l.push(">>"),l.join(`
`)}return""+a},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fx=function(e,t){return Fx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])},Fx(e,t)};function ai(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Fx(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var Ex=function(){return Ex=Object.assign||function(t){for(var a,s=1,o=arguments.length;s<o;s++){a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},Ex.apply(this,arguments)};function fs(e,t,a,s){function o(l){return l instanceof a?l:new a(function(d){d(l)})}return new(a||(a=Promise))(function(l,d){function g(v){try{m(s.next(v))}catch(N){d(N)}}function f(v){try{m(s.throw(v))}catch(N){d(N)}}function m(v){v.done?l(v.value):o(v.value).then(g,f)}m((s=s.apply(e,t||[])).next())})}function rs(e,t){var a={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(m){return function(v){return f([m,v])}}function f(m){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return a.label++,{value:m[1],done:!1};case 5:a.label++,o=m[1],m=[0];continue;case 7:m=a.ops.pop(),a.trys.pop();continue;default:if(l=a.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){a=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){a.label=m[1];break}if(m[0]===6&&a.label<l[1]){a.label=l[1],l=m;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(m);break}l[2]&&a.ops.pop(),a.trys.pop();continue}m=t.call(e,a)}catch(v){m=[6,v],o=0}finally{s=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function _h(e,t,a){if(a||arguments.length===2)for(var s=0,o=t.length,l;s<o;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return e.concat(l||t)}var io=function(){function e(t,a,s,o){this.left=t,this.top=a,this.width=s,this.height=o}return e.prototype.add=function(t,a,s,o){return new e(this.left+t,this.top+a,this.width+s,this.height+o)},e.fromClientRect=function(t,a){return new e(a.left+t.windowBounds.left,a.top+t.windowBounds.top,a.width,a.height)},e.fromDOMRectList=function(t,a){var s=Array.from(a).find(function(o){return o.width!==0});return s?new e(s.left+t.windowBounds.left,s.top+t.windowBounds.top,s.width,s.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),h0=function(e,t){return io.fromClientRect(e,t.getBoundingClientRect())},gI=function(e){var t=e.body,a=e.documentElement;if(!t||!a)throw new Error("Unable to get document size");var s=Math.max(Math.max(t.scrollWidth,a.scrollWidth),Math.max(t.offsetWidth,a.offsetWidth),Math.max(t.clientWidth,a.clientWidth)),o=Math.max(Math.max(t.scrollHeight,a.scrollHeight),Math.max(t.offsetHeight,a.offsetHeight),Math.max(t.clientHeight,a.clientHeight));return new io(0,0,s,o)},g0=function(e){for(var t=[],a=0,s=e.length;a<s;){var o=e.charCodeAt(a++);if(o>=55296&&o<=56319&&a<s){var l=e.charCodeAt(a++);(l&64512)===56320?t.push(((o&1023)<<10)+(l&1023)+65536):(t.push(o),a--)}else t.push(o)}return t},oa=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var a=e.length;if(!a)return"";for(var s=[],o=-1,l="";++o<a;){var d=e[o];d<=65535?s.push(d):(d-=65536,s.push((d>>10)+55296,d%1024+56320)),(o+1===a||s.length>16384)&&(l+=String.fromCharCode.apply(String,s),s.length=0)}return l},r1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zh=0;zh<r1.length;zh++)fI[r1.charCodeAt(zh)]=zh;var a1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ld=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vh=0;Vh<a1.length;Vh++)Ld[a1.charCodeAt(Vh)]=Vh;var pI=function(e){var t=e.length*.75,a=e.length,s,o=0,l,d,g,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),v=Array.isArray(m)?m:new Uint8Array(m);for(s=0;s<a;s+=4)l=Ld[e.charCodeAt(s)],d=Ld[e.charCodeAt(s+1)],g=Ld[e.charCodeAt(s+2)],f=Ld[e.charCodeAt(s+3)],v[o++]=l<<2|d>>4,v[o++]=(d&15)<<4|g>>2,v[o++]=(g&3)<<6|f&63;return m},mI=function(e){for(var t=e.length,a=[],s=0;s<t;s+=2)a.push(e[s+1]<<8|e[s]);return a},xI=function(e){for(var t=e.length,a=[],s=0;s<t;s+=4)a.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return a},Kl=5,db=6+5,_p=2,yI=db-Kl,n5=65536>>Kl,bI=1<<Kl,zp=bI-1,vI=1024>>Kl,wI=n5+vI,kI=wI,NI=32,BI=kI+NI,CI=65536>>db,jI=1<<yI,SI=jI-1,s1=function(e,t,a){return e.slice?e.slice(t,a):new Uint16Array(Array.prototype.slice.call(e,t,a))},FI=function(e,t,a){return e.slice?e.slice(t,a):new Uint32Array(Array.prototype.slice.call(e,t,a))},EI=function(e,t){var a=pI(e),s=Array.isArray(a)?xI(a):new Uint32Array(a),o=Array.isArray(a)?mI(a):new Uint16Array(a),l=24,d=s1(o,l/2,s[4]/2),g=s[5]===2?s1(o,(l+s[4])/2):FI(s,Math.ceil((l+s[4])/4));return new LI(s[0],s[1],s[2],s[3],d,g)},LI=function(){function e(t,a,s,o,l,d){this.initialValue=t,this.errorValue=a,this.highStart=s,this.highValueIndex=o,this.index=l,this.data=d}return e.prototype.get=function(t){var a;if(t>=0){if(t<55296||t>56319&&t<=65535)return a=this.index[t>>Kl],a=(a<<_p)+(t&zp),this.data[a];if(t<=65535)return a=this.index[n5+(t-55296>>Kl)],a=(a<<_p)+(t&zp),this.data[a];if(t<this.highStart)return a=BI-CI+(t>>db),a=this.index[a],a+=t>>Kl&SI,a=this.index[a],a=(a<<_p)+(t&zp),this.data[a];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),n1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",II=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gh=0;Gh<n1.length;Gh++)II[n1.charCodeAt(Gh)]=Gh;var PI="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",i1=50,UI=1,i5=2,o5=3,QI=4,DI=5,o1=7,l5=8,l1=9,Vo=10,Lx=11,c1=12,Ix=13,TI=14,Id=15,Px=16,qh=17,yd=18,RI=19,A1=20,Ux=21,bd=22,Vp=23,Uc=24,Zs=25,Pd=26,Ud=27,Qc=28,MI=29,Ql=30,HI=31,Xh=32,Kh=33,Qx=34,Dx=35,Tx=36,wu=37,Rx=38,Fg=39,Eg=40,Gp=41,c5=42,OI=43,_I=[9001,65288],A5="!",nr="×",Wh="÷",Mx=EI(PI),Vi=[Ql,Tx],Hx=[UI,i5,o5,DI],d5=[Vo,l5],d1=[Ud,Pd],zI=Hx.concat(d5),u1=[Rx,Fg,Eg,Qx,Dx],VI=[Id,Ix],GI=function(e,t){t===void 0&&(t="strict");var a=[],s=[],o=[];return e.forEach(function(l,d){var g=Mx.get(l);if(g>i1?(o.push(!0),g-=i1):o.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(l)!==-1)return s.push(d),a.push(Px);if(g===QI||g===Lx){if(d===0)return s.push(d),a.push(Ql);var f=a[d-1];return zI.indexOf(f)===-1?(s.push(s[d-1]),a.push(f)):(s.push(d),a.push(Ql))}if(s.push(d),g===HI)return a.push(t==="strict"?Ux:wu);if(g===c5||g===MI)return a.push(Ql);if(g===OI)return l>=131072&&l<=196605||l>=196608&&l<=262141?a.push(wu):a.push(Ql);a.push(g)}),[s,a,o]},qp=function(e,t,a,s){var o=s[a];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var l=a;l<=s.length;){l++;var d=s[l];if(d===t)return!0;if(d!==Vo)break}if(o===Vo)for(var l=a;l>0;){l--;var g=s[l];if(Array.isArray(e)?e.indexOf(g)!==-1:e===g)for(var f=a;f<=s.length;){f++;var d=s[f];if(d===t)return!0;if(d!==Vo)break}if(g!==Vo)break}return!1},h1=function(e,t){for(var a=e;a>=0;){var s=t[a];if(s===Vo)a--;else return s}return 0},qI=function(e,t,a,s,o){if(a[s]===0)return nr;var l=s-1;if(Array.isArray(o)&&o[l]===!0)return nr;var d=l-1,g=l+1,f=t[l],m=d>=0?t[d]:0,v=t[g];if(f===i5&&v===o5)return nr;if(Hx.indexOf(f)!==-1)return A5;if(Hx.indexOf(v)!==-1||d5.indexOf(v)!==-1)return nr;if(h1(l,t)===l5)return Wh;if(Mx.get(e[l])===Lx||(f===Xh||f===Kh)&&Mx.get(e[g])===Lx||f===o1||v===o1||f===l1||[Vo,Ix,Id].indexOf(f)===-1&&v===l1||[qh,yd,RI,Uc,Qc].indexOf(v)!==-1||h1(l,t)===bd||qp(Vp,bd,l,t)||qp([qh,yd],Ux,l,t)||qp(c1,c1,l,t))return nr;if(f===Vo)return Wh;if(f===Vp||v===Vp)return nr;if(v===Px||f===Px)return Wh;if([Ix,Id,Ux].indexOf(v)!==-1||f===TI||m===Tx&&VI.indexOf(f)!==-1||f===Qc&&v===Tx||v===A1||Vi.indexOf(v)!==-1&&f===Zs||Vi.indexOf(f)!==-1&&v===Zs||f===Ud&&[wu,Xh,Kh].indexOf(v)!==-1||[wu,Xh,Kh].indexOf(f)!==-1&&v===Pd||Vi.indexOf(f)!==-1&&d1.indexOf(v)!==-1||d1.indexOf(f)!==-1&&Vi.indexOf(v)!==-1||[Ud,Pd].indexOf(f)!==-1&&(v===Zs||[bd,Id].indexOf(v)!==-1&&t[g+1]===Zs)||[bd,Id].indexOf(f)!==-1&&v===Zs||f===Zs&&[Zs,Qc,Uc].indexOf(v)!==-1)return nr;if([Zs,Qc,Uc,qh,yd].indexOf(v)!==-1)for(var N=l;N>=0;){var C=t[N];if(C===Zs)return nr;if([Qc,Uc].indexOf(C)!==-1)N--;else break}if([Ud,Pd].indexOf(v)!==-1)for(var N=[qh,yd].indexOf(f)!==-1?d:l;N>=0;){var C=t[N];if(C===Zs)return nr;if([Qc,Uc].indexOf(C)!==-1)N--;else break}if(Rx===f&&[Rx,Fg,Qx,Dx].indexOf(v)!==-1||[Fg,Qx].indexOf(f)!==-1&&[Fg,Eg].indexOf(v)!==-1||[Eg,Dx].indexOf(f)!==-1&&v===Eg||u1.indexOf(f)!==-1&&[A1,Pd].indexOf(v)!==-1||u1.indexOf(v)!==-1&&f===Ud||Vi.indexOf(f)!==-1&&Vi.indexOf(v)!==-1||f===Uc&&Vi.indexOf(v)!==-1||Vi.concat(Zs).indexOf(f)!==-1&&v===bd&&_I.indexOf(e[g])===-1||Vi.concat(Zs).indexOf(v)!==-1&&f===yd)return nr;if(f===Gp&&v===Gp){for(var k=a[l],U=1;k>0&&(k--,t[k]===Gp);)U++;if(U%2!==0)return nr}return f===Xh&&v===Kh?nr:Wh},XI=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var a=GI(e,t.lineBreak),s=a[0],o=a[1],l=a[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(o=o.map(function(g){return[Zs,Ql,c5].indexOf(g)!==-1?wu:g}));var d=t.wordBreak==="keep-all"?l.map(function(g,f){return g&&e[f]>=19968&&e[f]<=40959}):void 0;return[s,o,d]},KI=function(){function e(t,a,s,o){this.codePoints=t,this.required=a===A5,this.start=s,this.end=o}return e.prototype.slice=function(){return oa.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),WI=function(e,t){var a=g0(e),s=XI(a,t),o=s[0],l=s[1],d=s[2],g=a.length,f=0,m=0;return{next:function(){if(m>=g)return{done:!0,value:null};for(var v=nr;m<g&&(v=qI(a,l,o,++m,d))===nr;);if(v!==nr||m===g){var N=new KI(a,v,f,m);return f=m,{value:N,done:!1}}return{done:!0,value:null}}}},YI=1,$I=2,Qu=4,g1=8,vf=10,f1=47,$d=92,JI=9,ZI=32,Yh=34,vd=61,eP=35,tP=36,rP=37,$h=39,Jh=40,wd=41,aP=95,Es=45,sP=33,nP=60,iP=62,oP=64,lP=91,cP=93,AP=61,dP=123,Zh=63,uP=125,p1=124,hP=126,gP=128,m1=65533,Xp=42,_l=43,fP=44,pP=58,mP=59,ku=46,xP=0,yP=8,bP=11,vP=14,wP=31,kP=127,hi=-1,u5=48,h5=97,g5=101,NP=102,BP=117,CP=122,f5=65,p5=69,m5=70,jP=85,SP=90,as=function(e){return e>=u5&&e<=57},FP=function(e){return e>=55296&&e<=57343},Dc=function(e){return as(e)||e>=f5&&e<=m5||e>=h5&&e<=NP},EP=function(e){return e>=h5&&e<=CP},LP=function(e){return e>=f5&&e<=SP},IP=function(e){return EP(e)||LP(e)},PP=function(e){return e>=gP},eg=function(e){return e===vf||e===JI||e===ZI},wf=function(e){return IP(e)||PP(e)||e===aP},x1=function(e){return wf(e)||as(e)||e===Es},UP=function(e){return e>=xP&&e<=yP||e===bP||e>=vP&&e<=wP||e===kP},Po=function(e,t){return e!==$d?!1:t!==vf},tg=function(e,t,a){return e===Es?wf(t)||Po(t,a):wf(e)?!0:!!(e===$d&&Po(e,t))},Kp=function(e,t,a){return e===_l||e===Es?as(t)?!0:t===ku&&as(a):as(e===ku?t:e)},QP=function(e){var t=0,a=1;(e[t]===_l||e[t]===Es)&&(e[t]===Es&&(a=-1),t++);for(var s=[];as(e[t]);)s.push(e[t++]);var o=s.length?parseInt(oa.apply(void 0,s),10):0;e[t]===ku&&t++;for(var l=[];as(e[t]);)l.push(e[t++]);var d=l.length,g=d?parseInt(oa.apply(void 0,l),10):0;(e[t]===p5||e[t]===g5)&&t++;var f=1;(e[t]===_l||e[t]===Es)&&(e[t]===Es&&(f=-1),t++);for(var m=[];as(e[t]);)m.push(e[t++]);var v=m.length?parseInt(oa.apply(void 0,m),10):0;return a*(o+g*Math.pow(10,-d))*Math.pow(10,f*v)},DP={type:2},TP={type:3},RP={type:4},MP={type:13},HP={type:8},OP={type:21},_P={type:9},zP={type:10},VP={type:11},GP={type:12},qP={type:14},rg={type:23},XP={type:1},KP={type:25},WP={type:24},YP={type:26},$P={type:27},JP={type:28},ZP={type:29},eU={type:31},Ox={type:32},x5=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(g0(t))},e.prototype.read=function(){for(var t=[],a=this.consumeToken();a!==Ox;)t.push(a),a=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Yh:return this.consumeStringToken(Yh);case eP:var a=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(x1(a)||Po(s,o)){var l=tg(a,s,o)?$I:YI,d=this.consumeName();return{type:5,value:d,flags:l}}break;case tP:if(this.peekCodePoint(0)===vd)return this.consumeCodePoint(),MP;break;case $h:return this.consumeStringToken($h);case Jh:return DP;case wd:return TP;case Xp:if(this.peekCodePoint(0)===vd)return this.consumeCodePoint(),qP;break;case _l:if(Kp(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case fP:return RP;case Es:var g=t,f=this.peekCodePoint(0),m=this.peekCodePoint(1);if(Kp(g,f,m))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(tg(g,f,m))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(f===Es&&m===iP)return this.consumeCodePoint(),this.consumeCodePoint(),WP;break;case ku:if(Kp(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case f1:if(this.peekCodePoint(0)===Xp)for(this.consumeCodePoint();;){var v=this.consumeCodePoint();if(v===Xp&&(v=this.consumeCodePoint(),v===f1))return this.consumeToken();if(v===hi)return this.consumeToken()}break;case pP:return YP;case mP:return $P;case nP:if(this.peekCodePoint(0)===sP&&this.peekCodePoint(1)===Es&&this.peekCodePoint(2)===Es)return this.consumeCodePoint(),this.consumeCodePoint(),KP;break;case oP:var N=this.peekCodePoint(0),C=this.peekCodePoint(1),k=this.peekCodePoint(2);if(tg(N,C,k)){var d=this.consumeName();return{type:7,value:d}}break;case lP:return JP;case $d:if(Po(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case cP:return ZP;case AP:if(this.peekCodePoint(0)===vd)return this.consumeCodePoint(),HP;break;case dP:return VP;case uP:return GP;case BP:case jP:var U=this.peekCodePoint(0),F=this.peekCodePoint(1);return U===_l&&(Dc(F)||F===Zh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case p1:if(this.peekCodePoint(0)===vd)return this.consumeCodePoint(),_P;if(this.peekCodePoint(0)===p1)return this.consumeCodePoint(),OP;break;case hP:if(this.peekCodePoint(0)===vd)return this.consumeCodePoint(),zP;break;case hi:return Ox}return eg(t)?(this.consumeWhiteSpace(),eU):as(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):wf(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:oa(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],a=this.consumeCodePoint();Dc(a)&&t.length<6;)t.push(a),a=this.consumeCodePoint();for(var s=!1;a===Zh&&t.length<6;)t.push(a),a=this.consumeCodePoint(),s=!0;if(s){var o=parseInt(oa.apply(void 0,t.map(function(f){return f===Zh?u5:f})),16),l=parseInt(oa.apply(void 0,t.map(function(f){return f===Zh?m5:f})),16);return{type:30,start:o,end:l}}var d=parseInt(oa.apply(void 0,t),16);if(this.peekCodePoint(0)===Es&&Dc(this.peekCodePoint(1))){this.consumeCodePoint(),a=this.consumeCodePoint();for(var g=[];Dc(a)&&g.length<6;)g.push(a),a=this.consumeCodePoint();var l=parseInt(oa.apply(void 0,g),16);return{type:30,start:d,end:l}}else return{type:30,start:d,end:d}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Jh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Jh?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===hi)return{type:22,value:""};var a=this.peekCodePoint(0);if(a===$h||a===Yh){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===hi||this.peekCodePoint(0)===wd)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),rg)}for(;;){var o=this.consumeCodePoint();if(o===hi||o===wd)return{type:22,value:oa.apply(void 0,t)};if(eg(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===hi||this.peekCodePoint(0)===wd?(this.consumeCodePoint(),{type:22,value:oa.apply(void 0,t)}):(this.consumeBadUrlRemnants(),rg);if(o===Yh||o===$h||o===Jh||UP(o))return this.consumeBadUrlRemnants(),rg;if(o===$d)if(Po(o,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),rg;else t.push(o)}},e.prototype.consumeWhiteSpace=function(){for(;eg(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===wd||t===hi)return;Po(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var a=5e4,s="";t>0;){var o=Math.min(a,t);s+=oa.apply(void 0,this._value.splice(0,o)),t-=o}return this._value.shift(),s},e.prototype.consumeStringToken=function(t){var a="",s=0;do{var o=this._value[s];if(o===hi||o===void 0||o===t)return a+=this.consumeStringSlice(s),{type:0,value:a};if(o===vf)return this._value.splice(0,s),XP;if(o===$d){var l=this._value[s+1];l!==hi&&l!==void 0&&(l===vf?(a+=this.consumeStringSlice(s),s=-1,this._value.shift()):Po(o,l)&&(a+=this.consumeStringSlice(s),a+=oa(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},e.prototype.consumeNumber=function(){var t=[],a=Qu,s=this.peekCodePoint(0);for((s===_l||s===Es)&&t.push(this.consumeCodePoint());as(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(s===ku&&as(o))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),a=g1;as(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0),o=this.peekCodePoint(1);var l=this.peekCodePoint(2);if((s===p5||s===g5)&&((o===_l||o===Es)&&as(l)||as(o)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),a=g1;as(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[QP(t),a]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),a=t[0],s=t[1],o=this.peekCodePoint(0),l=this.peekCodePoint(1),d=this.peekCodePoint(2);if(tg(o,l,d)){var g=this.consumeName();return{type:15,number:a,flags:s,unit:g}}return o===rP?(this.consumeCodePoint(),{type:16,number:a,flags:s}):{type:17,number:a,flags:s}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Dc(t)){for(var a=oa(t);Dc(this.peekCodePoint(0))&&a.length<6;)a+=oa(this.consumeCodePoint());eg(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(a,16);return s===0||FP(s)||s>1114111?m1:s}return t===hi?m1:t},e.prototype.consumeName=function(){for(var t="";;){var a=this.consumeCodePoint();if(x1(a))t+=oa(a);else if(Po(a,this.peekCodePoint(0)))t+=oa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(a),t}},e}(),y5=function(){function e(t){this._tokens=t}return e.create=function(t){var a=new x5;return a.write(t),new e(a.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var a=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return a;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var a=this.consumeComponentValue();if(a.type===32)return t;t.push(a),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var a={type:t,values:[]},s=this.consumeToken();;){if(s.type===32||rU(s,t))return a;this.reconsumeToken(s),a.values.push(this.consumeComponentValue()),s=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var a={name:t.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return a;this.reconsumeToken(s),a.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Ox:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Du=function(e){return e.type===15},DA=function(e){return e.type===17},jr=function(e){return e.type===20},tU=function(e){return e.type===0},_x=function(e,t){return jr(e)&&e.value===t},b5=function(e){return e.type!==31},SA=function(e){return e.type!==31&&e.type!==4},Si=function(e){var t=[],a=[];return e.forEach(function(s){if(s.type===4){if(a.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(a),a=[];return}s.type!==31&&a.push(s)}),a.length&&t.push(a),t},rU=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},ul=function(e){return e.type===17||e.type===15},xa=function(e){return e.type===16||ul(e)},v5=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},za={type:17,number:0,flags:Qu},ub={type:16,number:50,flags:Qu},Go={type:16,number:100,flags:Qu},Qd=function(e,t,a){var s=e[0],o=e[1];return[Dr(s,t),Dr(typeof o<"u"?o:s,a)]},Dr=function(e,t){if(e.type===16)return e.number/100*t;if(Du(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},w5="deg",k5="grad",N5="rad",B5="turn",f0={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case w5:return Math.PI*t.number/180;case k5:return Math.PI/200*t.number;case N5:return t.number;case B5:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},C5=function(e){return e.type===15&&(e.unit===w5||e.unit===k5||e.unit===N5||e.unit===B5)},j5=function(e){var t=e.filter(jr).map(function(a){return a.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[za,za];case"to top":case"bottom":return jn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[za,Go];case"to right":case"left":return jn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Go,Go];case"to bottom":case"top":return jn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Go,za];case"to left":case"right":return jn(270)}return 0},jn=function(e){return Math.PI*e/180},sl={name:"color",parse:function(e,t){if(t.type===18){var a=aU[t.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return a(e,t.values)}if(t.type===5){if(t.value.length===3){var s=t.value.substring(0,1),o=t.value.substring(1,2),l=t.value.substring(2,3);return qo(parseInt(s+s,16),parseInt(o+o,16),parseInt(l+l,16),1)}if(t.value.length===4){var s=t.value.substring(0,1),o=t.value.substring(1,2),l=t.value.substring(2,3),d=t.value.substring(3,4);return qo(parseInt(s+s,16),parseInt(o+o,16),parseInt(l+l,16),parseInt(d+d,16)/255)}if(t.value.length===6){var s=t.value.substring(0,2),o=t.value.substring(2,4),l=t.value.substring(4,6);return qo(parseInt(s,16),parseInt(o,16),parseInt(l,16),1)}if(t.value.length===8){var s=t.value.substring(0,2),o=t.value.substring(2,4),l=t.value.substring(4,6),d=t.value.substring(6,8);return qo(parseInt(s,16),parseInt(o,16),parseInt(l,16),parseInt(d,16)/255)}}if(t.type===20){var g=eo[t.value.toUpperCase()];if(typeof g<"u")return g}return eo.TRANSPARENT}},nl=function(e){return(255&e)===0},Ua=function(e){var t=255&e,a=255&e>>8,s=255&e>>16,o=255&e>>24;return t<255?"rgba("+o+","+s+","+a+","+t/255+")":"rgb("+o+","+s+","+a+")"},qo=function(e,t,a,s){return(e<<24|t<<16|a<<8|Math.round(s*255)<<0)>>>0},y1=function(e,t){if(e.type===17)return e.number;if(e.type===16){var a=t===3?1:255;return t===3?e.number/100*a:Math.round(e.number/100*a)}return 0},b1=function(e,t){var a=t.filter(SA);if(a.length===3){var s=a.map(y1),o=s[0],l=s[1],d=s[2];return qo(o,l,d,1)}if(a.length===4){var g=a.map(y1),o=g[0],l=g[1],d=g[2],f=g[3];return qo(o,l,d,f)}return 0};function Wp(e,t,a){return a<0&&(a+=1),a>=1&&(a-=1),a<1/6?(t-e)*a*6+e:a<1/2?t:a<2/3?(t-e)*6*(2/3-a)+e:e}var v1=function(e,t){var a=t.filter(SA),s=a[0],o=a[1],l=a[2],d=a[3],g=(s.type===17?jn(s.number):f0.parse(e,s))/(Math.PI*2),f=xa(o)?o.number/100:0,m=xa(l)?l.number/100:0,v=typeof d<"u"&&xa(d)?Dr(d,1):1;if(f===0)return qo(m*255,m*255,m*255,1);var N=m<=.5?m*(f+1):m+f-m*f,C=m*2-N,k=Wp(C,N,g+1/3),U=Wp(C,N,g),F=Wp(C,N,g-1/3);return qo(k*255,U*255,F*255,v)},aU={hsl:v1,hsla:v1,rgb:b1,rgba:b1},Jd=function(e,t){return sl.parse(e,y5.create(t).parseComponentValue())},eo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},sU={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(a){if(jr(a))switch(a.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nU={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},p0=function(e,t){var a=sl.parse(e,t[0]),s=t[1];return s&&xa(s)?{color:a,stop:s}:{color:a,stop:null}},w1=function(e,t){var a=e[0],s=e[e.length-1];a.stop===null&&(a.stop=za),s.stop===null&&(s.stop=Go);for(var o=[],l=0,d=0;d<e.length;d++){var g=e[d].stop;if(g!==null){var f=Dr(g,t);f>l?o.push(f):o.push(l),l=f}else o.push(null)}for(var m=null,d=0;d<o.length;d++){var v=o[d];if(v===null)m===null&&(m=d);else if(m!==null){for(var N=d-m,C=o[m-1],k=(v-C)/(N+1),U=1;U<=N;U++)o[m+U-1]=k*U;m=null}}return e.map(function(F,O){var L=F.color;return{color:L,stop:Math.max(Math.min(1,o[O]/t),0)}})},iU=function(e,t,a){var s=t/2,o=a/2,l=Dr(e[0],t)-s,d=o-Dr(e[1],a);return(Math.atan2(d,l)+Math.PI*2)%(Math.PI*2)},oU=function(e,t,a){var s=typeof e=="number"?e:iU(e,t,a),o=Math.abs(t*Math.sin(s))+Math.abs(a*Math.cos(s)),l=t/2,d=a/2,g=o/2,f=Math.sin(s-Math.PI/2)*g,m=Math.cos(s-Math.PI/2)*g;return[o,l-m,l+m,d-f,d+f]},zn=function(e,t){return Math.sqrt(e*e+t*t)},k1=function(e,t,a,s,o){var l=[[0,0],[0,t],[e,0],[e,t]];return l.reduce(function(d,g){var f=g[0],m=g[1],v=zn(a-f,s-m);return(o?v<d.optimumDistance:v>d.optimumDistance)?{optimumCorner:g,optimumDistance:v}:d},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},lU=function(e,t,a,s,o){var l=0,d=0;switch(e.size){case 0:e.shape===0?l=d=Math.min(Math.abs(t),Math.abs(t-s),Math.abs(a),Math.abs(a-o)):e.shape===1&&(l=Math.min(Math.abs(t),Math.abs(t-s)),d=Math.min(Math.abs(a),Math.abs(a-o)));break;case 2:if(e.shape===0)l=d=Math.min(zn(t,a),zn(t,a-o),zn(t-s,a),zn(t-s,a-o));else if(e.shape===1){var g=Math.min(Math.abs(a),Math.abs(a-o))/Math.min(Math.abs(t),Math.abs(t-s)),f=k1(s,o,t,a,!0),m=f[0],v=f[1];l=zn(m-t,(v-a)/g),d=g*l}break;case 1:e.shape===0?l=d=Math.max(Math.abs(t),Math.abs(t-s),Math.abs(a),Math.abs(a-o)):e.shape===1&&(l=Math.max(Math.abs(t),Math.abs(t-s)),d=Math.max(Math.abs(a),Math.abs(a-o)));break;case 3:if(e.shape===0)l=d=Math.max(zn(t,a),zn(t,a-o),zn(t-s,a),zn(t-s,a-o));else if(e.shape===1){var g=Math.max(Math.abs(a),Math.abs(a-o))/Math.max(Math.abs(t),Math.abs(t-s)),N=k1(s,o,t,a,!1),m=N[0],v=N[1];l=zn(m-t,(v-a)/g),d=g*l}break}return Array.isArray(e.size)&&(l=Dr(e.size[0],s),d=e.size.length===2?Dr(e.size[1],o):l),[l,d]},cU=function(e,t){var a=jn(180),s=[];return Si(t).forEach(function(o,l){if(l===0){var d=o[0];if(d.type===20&&d.value==="to"){a=j5(o);return}else if(C5(d)){a=f0.parse(e,d);return}}var g=p0(e,o);s.push(g)}),{angle:a,stops:s,type:1}},ag=function(e,t){var a=jn(180),s=[];return Si(t).forEach(function(o,l){if(l===0){var d=o[0];if(d.type===20&&["top","left","right","bottom"].indexOf(d.value)!==-1){a=j5(o);return}else if(C5(d)){a=(f0.parse(e,d)+jn(270))%jn(360);return}}var g=p0(e,o);s.push(g)}),{angle:a,stops:s,type:1}},AU=function(e,t){var a=jn(180),s=[],o=1,l=0,d=3,g=[];return Si(t).forEach(function(f,m){var v=f[0];if(m===0){if(jr(v)&&v.value==="linear"){o=1;return}else if(jr(v)&&v.value==="radial"){o=2;return}}if(v.type===18){if(v.name==="from"){var N=sl.parse(e,v.values[0]);s.push({stop:za,color:N})}else if(v.name==="to"){var N=sl.parse(e,v.values[0]);s.push({stop:Go,color:N})}else if(v.name==="color-stop"){var C=v.values.filter(SA);if(C.length===2){var N=sl.parse(e,C[1]),k=C[0];DA(k)&&s.push({stop:{type:16,number:k.number*100,flags:k.flags},color:N})}}}}),o===1?{angle:(a+jn(180))%jn(360),stops:s,type:o}:{size:d,shape:l,stops:s,position:g,type:o}},S5="closest-side",F5="farthest-side",E5="closest-corner",L5="farthest-corner",I5="circle",P5="ellipse",U5="cover",Q5="contain",dU=function(e,t){var a=0,s=3,o=[],l=[];return Si(t).forEach(function(d,g){var f=!0;if(g===0){var m=!1;f=d.reduce(function(N,C){if(m)if(jr(C))switch(C.value){case"center":return l.push(ub),N;case"top":case"left":return l.push(za),N;case"right":case"bottom":return l.push(Go),N}else(xa(C)||ul(C))&&l.push(C);else if(jr(C))switch(C.value){case I5:return a=0,!1;case P5:return a=1,!1;case"at":return m=!0,!1;case S5:return s=0,!1;case U5:case F5:return s=1,!1;case Q5:case E5:return s=2,!1;case L5:return s=3,!1}else if(ul(C)||xa(C))return Array.isArray(s)||(s=[]),s.push(C),!1;return N},f)}if(f){var v=p0(e,d);o.push(v)}}),{size:s,shape:a,stops:o,position:l,type:2}},sg=function(e,t){var a=0,s=3,o=[],l=[];return Si(t).forEach(function(d,g){var f=!0;if(g===0?f=d.reduce(function(v,N){if(jr(N))switch(N.value){case"center":return l.push(ub),!1;case"top":case"left":return l.push(za),!1;case"right":case"bottom":return l.push(Go),!1}else if(xa(N)||ul(N))return l.push(N),!1;return v},f):g===1&&(f=d.reduce(function(v,N){if(jr(N))switch(N.value){case I5:return a=0,!1;case P5:return a=1,!1;case Q5:case S5:return s=0,!1;case F5:return s=1,!1;case E5:return s=2,!1;case U5:case L5:return s=3,!1}else if(ul(N)||xa(N))return Array.isArray(s)||(s=[]),s.push(N),!1;return v},f)),f){var m=p0(e,d);o.push(m)}}),{size:s,shape:a,stops:o,position:l,type:2}},uU=function(e){return e.type===1},hU=function(e){return e.type===2},hb={name:"image",parse:function(e,t){if(t.type===22){var a={url:t.value,type:0};return e.cache.addImage(t.value),a}if(t.type===18){var s=D5[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return s(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function gU(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!D5[e.name])}var D5={"linear-gradient":cU,"-moz-linear-gradient":ag,"-ms-linear-gradient":ag,"-o-linear-gradient":ag,"-webkit-linear-gradient":ag,"radial-gradient":dU,"-moz-radial-gradient":sg,"-ms-radial-gradient":sg,"-o-radial-gradient":sg,"-webkit-radial-gradient":sg,"-webkit-gradient":AU},fU={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var a=t[0];return a.type===20&&a.value==="none"?[]:t.filter(function(s){return SA(s)&&gU(s)}).map(function(s){return hb.parse(e,s)})}},pU={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(a){if(jr(a))switch(a.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mU={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Si(t).map(function(a){return a.filter(xa)}).map(v5)}},xU={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Si(t).map(function(a){return a.filter(jr).map(function(s){return s.value}).join(" ")}).map(yU)}},yU=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},xA;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(xA||(xA={}));var bU={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Si(t).map(function(a){return a.filter(vU)})}},vU=function(e){return jr(e)||xa(e)},m0=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},wU=m0("top"),kU=m0("right"),NU=m0("bottom"),BU=m0("left"),x0=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,a){return v5(a.filter(xa))}}},CU=x0("top-left"),jU=x0("top-right"),SU=x0("bottom-right"),FU=x0("bottom-left"),y0=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,a){switch(a){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},EU=y0("top"),LU=y0("right"),IU=y0("bottom"),PU=y0("left"),b0=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,a){return Du(a)?a.number:0}}},UU=b0("top"),QU=b0("right"),DU=b0("bottom"),TU=b0("left"),RU={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},MU={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},HU={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(jr).reduce(function(a,s){return a|OU(s.value)},0)}},OU=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},_U={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},zU={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},kf;(function(e){e.NORMAL="normal",e.STRICT="strict"})(kf||(kf={}));var VU={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return kf.STRICT;case"normal":default:return kf.NORMAL}}},GU={name:"line-height",initialValue:"normal",prefix:!1,type:4},N1=function(e,t){return jr(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:xa(e)?Dr(e,t):t},qU={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:hb.parse(e,t)}},XU={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},zx={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},v0=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},KU=v0("top"),WU=v0("right"),YU=v0("bottom"),$U=v0("left"),JU={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(jr).map(function(a){switch(a.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ZU={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},w0=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},eQ=w0("top"),tQ=w0("right"),rQ=w0("bottom"),aQ=w0("left"),sQ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},nQ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},iQ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&_x(t[0],"none")?[]:Si(t).map(function(a){for(var s={color:eo.TRANSPARENT,offsetX:za,offsetY:za,blur:za},o=0,l=0;l<a.length;l++){var d=a[l];ul(d)?(o===0?s.offsetX=d:o===1?s.offsetY=d:s.blur=d,o++):s.color=sl.parse(e,d)}return s})}},oQ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},lQ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var a=dQ[t.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return a(t.values)}return null}},cQ=function(e){var t=e.filter(function(a){return a.type===17}).map(function(a){return a.number});return t.length===6?t:null},AQ=function(e){var t=e.filter(function(f){return f.type===17}).map(function(f){return f.number}),a=t[0],s=t[1];t[2],t[3];var o=t[4],l=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var d=t[12],g=t[13];return t[14],t[15],t.length===16?[a,s,o,l,d,g]:null},dQ={matrix:cQ,matrix3d:AQ},B1={type:16,number:50,flags:Qu},uQ=[B1,B1],hQ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var a=t.filter(xa);return a.length!==2?uQ:[a[0],a[1]]}},gQ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Zd;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Zd||(Zd={}));var fQ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Zd.BREAK_ALL;case"keep-all":return Zd.KEEP_ALL;case"normal":default:return Zd.NORMAL}}},pQ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(DA(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},T5={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},mQ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return DA(t)?t.number:1}},xQ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yQ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(jr).map(function(a){switch(a.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(a){return a!==0})}},bQ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var a=[],s=[];return t.forEach(function(o){switch(o.type){case 20:case 0:a.push(o.value);break;case 17:a.push(o.number.toString());break;case 4:s.push(a.join(" ")),a.length=0;break}}),a.length&&s.push(a.join(" ")),s.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},vQ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},wQ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(DA(t))return t.number;if(jr(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},kQ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(jr).map(function(a){return a.value})}},NQ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ja=function(e,t){return(e&t)!==0},BQ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var a=t[0];return a.type===20&&a.value==="none"?[]:t}},CQ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var a=t[0];if(a.type===20&&a.value==="none")return null;for(var s=[],o=t.filter(b5),l=0;l<o.length;l++){var d=o[l],g=o[l+1];if(d.type===20){var f=g&&DA(g)?g.number:1;s.push({counter:d.value,increment:f})}}return s}},jQ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var a=[],s=t.filter(b5),o=0;o<s.length;o++){var l=s[o],d=s[o+1];if(jr(l)&&l.value!=="none"){var g=d&&DA(d)?d.number:0;a.push({counter:l.value,reset:g})}}return a}},SQ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Du).map(function(a){return T5.parse(e,a)})}},FQ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var a=t[0];if(a.type===20&&a.value==="none")return null;var s=[],o=t.filter(tU);if(o.length%2!==0)return null;for(var l=0;l<o.length;l+=2){var d=o[l].value,g=o[l+1].value;s.push({open:d,close:g})}return s}},C1=function(e,t,a){if(!e)return"";var s=e[Math.min(t,e.length-1)];return s?a?s.open:s.close:""},EQ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&_x(t[0],"none")?[]:Si(t).map(function(a){for(var s={color:255,offsetX:za,offsetY:za,blur:za,spread:za,inset:!1},o=0,l=0;l<a.length;l++){var d=a[l];_x(d,"inset")?s.inset=!0:ul(d)?(o===0?s.offsetX=d:o===1?s.offsetY=d:o===2?s.blur=d:s.spread=d,o++):s.color=sl.parse(e,d)}return s})}},LQ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var a=[0,1,2],s=[];return t.filter(jr).forEach(function(o){switch(o.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),a.forEach(function(o){s.indexOf(o)===-1&&s.push(o)}),s}},IQ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},PQ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Du(t)?t.number:0}},UQ=function(){function e(t,a){var s,o;this.animationDuration=Bt(t,SQ,a.animationDuration),this.backgroundClip=Bt(t,sU,a.backgroundClip),this.backgroundColor=Bt(t,nU,a.backgroundColor),this.backgroundImage=Bt(t,fU,a.backgroundImage),this.backgroundOrigin=Bt(t,pU,a.backgroundOrigin),this.backgroundPosition=Bt(t,mU,a.backgroundPosition),this.backgroundRepeat=Bt(t,xU,a.backgroundRepeat),this.backgroundSize=Bt(t,bU,a.backgroundSize),this.borderTopColor=Bt(t,wU,a.borderTopColor),this.borderRightColor=Bt(t,kU,a.borderRightColor),this.borderBottomColor=Bt(t,NU,a.borderBottomColor),this.borderLeftColor=Bt(t,BU,a.borderLeftColor),this.borderTopLeftRadius=Bt(t,CU,a.borderTopLeftRadius),this.borderTopRightRadius=Bt(t,jU,a.borderTopRightRadius),this.borderBottomRightRadius=Bt(t,SU,a.borderBottomRightRadius),this.borderBottomLeftRadius=Bt(t,FU,a.borderBottomLeftRadius),this.borderTopStyle=Bt(t,EU,a.borderTopStyle),this.borderRightStyle=Bt(t,LU,a.borderRightStyle),this.borderBottomStyle=Bt(t,IU,a.borderBottomStyle),this.borderLeftStyle=Bt(t,PU,a.borderLeftStyle),this.borderTopWidth=Bt(t,UU,a.borderTopWidth),this.borderRightWidth=Bt(t,QU,a.borderRightWidth),this.borderBottomWidth=Bt(t,DU,a.borderBottomWidth),this.borderLeftWidth=Bt(t,TU,a.borderLeftWidth),this.boxShadow=Bt(t,EQ,a.boxShadow),this.color=Bt(t,RU,a.color),this.direction=Bt(t,MU,a.direction),this.display=Bt(t,HU,a.display),this.float=Bt(t,_U,a.cssFloat),this.fontFamily=Bt(t,bQ,a.fontFamily),this.fontSize=Bt(t,vQ,a.fontSize),this.fontStyle=Bt(t,NQ,a.fontStyle),this.fontVariant=Bt(t,kQ,a.fontVariant),this.fontWeight=Bt(t,wQ,a.fontWeight),this.letterSpacing=Bt(t,zU,a.letterSpacing),this.lineBreak=Bt(t,VU,a.lineBreak),this.lineHeight=Bt(t,GU,a.lineHeight),this.listStyleImage=Bt(t,qU,a.listStyleImage),this.listStylePosition=Bt(t,XU,a.listStylePosition),this.listStyleType=Bt(t,zx,a.listStyleType),this.marginTop=Bt(t,KU,a.marginTop),this.marginRight=Bt(t,WU,a.marginRight),this.marginBottom=Bt(t,YU,a.marginBottom),this.marginLeft=Bt(t,$U,a.marginLeft),this.opacity=Bt(t,mQ,a.opacity);var l=Bt(t,JU,a.overflow);this.overflowX=l[0],this.overflowY=l[l.length>1?1:0],this.overflowWrap=Bt(t,ZU,a.overflowWrap),this.paddingTop=Bt(t,eQ,a.paddingTop),this.paddingRight=Bt(t,tQ,a.paddingRight),this.paddingBottom=Bt(t,rQ,a.paddingBottom),this.paddingLeft=Bt(t,aQ,a.paddingLeft),this.paintOrder=Bt(t,LQ,a.paintOrder),this.position=Bt(t,nQ,a.position),this.textAlign=Bt(t,sQ,a.textAlign),this.textDecorationColor=Bt(t,xQ,(s=a.textDecorationColor)!==null&&s!==void 0?s:a.color),this.textDecorationLine=Bt(t,yQ,(o=a.textDecorationLine)!==null&&o!==void 0?o:a.textDecoration),this.textShadow=Bt(t,iQ,a.textShadow),this.textTransform=Bt(t,oQ,a.textTransform),this.transform=Bt(t,lQ,a.transform),this.transformOrigin=Bt(t,hQ,a.transformOrigin),this.visibility=Bt(t,gQ,a.visibility),this.webkitTextStrokeColor=Bt(t,IQ,a.webkitTextStrokeColor),this.webkitTextStrokeWidth=Bt(t,PQ,a.webkitTextStrokeWidth),this.wordBreak=Bt(t,fQ,a.wordBreak),this.zIndex=Bt(t,pQ,a.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return nl(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return ja(this.display,4)||ja(this.display,33554432)||ja(this.display,268435456)||ja(this.display,536870912)||ja(this.display,67108864)||ja(this.display,134217728)},e}(),QQ=function(){function e(t,a){this.content=Bt(t,BQ,a.content),this.quotes=Bt(t,FQ,a.quotes)}return e}(),j1=function(){function e(t,a){this.counterIncrement=Bt(t,CQ,a.counterIncrement),this.counterReset=Bt(t,jQ,a.counterReset)}return e}(),Bt=function(e,t,a){var s=new x5,o=a!==null&&typeof a<"u"?a.toString():t.initialValue;s.write(o);var l=new y5(s.read());switch(t.type){case 2:var d=l.parseComponentValue();return t.parse(e,jr(d)?d.value:t.initialValue);case 0:return t.parse(e,l.parseComponentValue());case 1:return t.parse(e,l.parseComponentValues());case 4:return l.parseComponentValue();case 3:switch(t.format){case"angle":return f0.parse(e,l.parseComponentValue());case"color":return sl.parse(e,l.parseComponentValue());case"image":return hb.parse(e,l.parseComponentValue());case"length":var g=l.parseComponentValue();return ul(g)?g:za;case"length-percentage":var f=l.parseComponentValue();return xa(f)?f:za;case"time":return T5.parse(e,l.parseComponentValue())}break}},DQ="data-html2canvas-debug",TQ=function(e){var t=e.getAttribute(DQ);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Vx=function(e,t){var a=TQ(e);return a===1||t===a},Fi=function(){function e(t,a){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Vx(a,3))debugger;this.styles=new UQ(t,window.getComputedStyle(a,null)),Xx(a)&&(this.styles.animationDuration.some(function(s){return s>0})&&(a.style.animationDuration="0s"),this.styles.transform!==null&&(a.style.transform="none")),this.bounds=h0(this.context,a),Vx(a,4)&&(this.flags|=16)}return e}(),RQ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",S1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ng=0;ng<S1.length;ng++)Dd[S1.charCodeAt(ng)]=ng;var MQ=function(e){var t=e.length*.75,a=e.length,s,o=0,l,d,g,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),v=Array.isArray(m)?m:new Uint8Array(m);for(s=0;s<a;s+=4)l=Dd[e.charCodeAt(s)],d=Dd[e.charCodeAt(s+1)],g=Dd[e.charCodeAt(s+2)],f=Dd[e.charCodeAt(s+3)],v[o++]=l<<2|d>>4,v[o++]=(d&15)<<4|g>>2,v[o++]=(g&3)<<6|f&63;return m},HQ=function(e){for(var t=e.length,a=[],s=0;s<t;s+=2)a.push(e[s+1]<<8|e[s]);return a},OQ=function(e){for(var t=e.length,a=[],s=0;s<t;s+=4)a.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return a},Wl=5,gb=6+5,Yp=2,_Q=gb-Wl,R5=65536>>Wl,zQ=1<<Wl,$p=zQ-1,VQ=1024>>Wl,GQ=R5+VQ,qQ=GQ,XQ=32,KQ=qQ+XQ,WQ=65536>>gb,YQ=1<<_Q,$Q=YQ-1,F1=function(e,t,a){return e.slice?e.slice(t,a):new Uint16Array(Array.prototype.slice.call(e,t,a))},JQ=function(e,t,a){return e.slice?e.slice(t,a):new Uint32Array(Array.prototype.slice.call(e,t,a))},ZQ=function(e,t){var a=MQ(e),s=Array.isArray(a)?OQ(a):new Uint32Array(a),o=Array.isArray(a)?HQ(a):new Uint16Array(a),l=24,d=F1(o,l/2,s[4]/2),g=s[5]===2?F1(o,(l+s[4])/2):JQ(s,Math.ceil((l+s[4])/4));return new eD(s[0],s[1],s[2],s[3],d,g)},eD=function(){function e(t,a,s,o,l,d){this.initialValue=t,this.errorValue=a,this.highStart=s,this.highValueIndex=o,this.index=l,this.data=d}return e.prototype.get=function(t){var a;if(t>=0){if(t<55296||t>56319&&t<=65535)return a=this.index[t>>Wl],a=(a<<Yp)+(t&$p),this.data[a];if(t<=65535)return a=this.index[R5+(t-55296>>Wl)],a=(a<<Yp)+(t&$p),this.data[a];if(t<this.highStart)return a=KQ-WQ+(t>>gb),a=this.index[a],a+=t>>Wl&$Q,a=this.index[a],a=(a<<Yp)+(t&$p),this.data[a];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),E1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ig=0;ig<E1.length;ig++)tD[E1.charCodeAt(ig)]=ig;var rD=1,Jp=2,Zp=3,L1=4,I1=5,aD=7,P1=8,em=9,tm=10,U1=11,Q1=12,D1=13,T1=14,rm=15,sD=function(e){for(var t=[],a=0,s=e.length;a<s;){var o=e.charCodeAt(a++);if(o>=55296&&o<=56319&&a<s){var l=e.charCodeAt(a++);(l&64512)===56320?t.push(((o&1023)<<10)+(l&1023)+65536):(t.push(o),a--)}else t.push(o)}return t},nD=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var a=e.length;if(!a)return"";for(var s=[],o=-1,l="";++o<a;){var d=e[o];d<=65535?s.push(d):(d-=65536,s.push((d>>10)+55296,d%1024+56320)),(o+1===a||s.length>16384)&&(l+=String.fromCharCode.apply(String,s),s.length=0)}return l},iD=ZQ(RQ),wn="×",am="÷",oD=function(e){return iD.get(e)},lD=function(e,t,a){var s=a-2,o=t[s],l=t[a-1],d=t[a];if(l===Jp&&d===Zp)return wn;if(l===Jp||l===Zp||l===L1||d===Jp||d===Zp||d===L1)return am;if(l===P1&&[P1,em,U1,Q1].indexOf(d)!==-1||(l===U1||l===em)&&(d===em||d===tm)||(l===Q1||l===tm)&&d===tm||d===D1||d===I1||d===aD||l===rD)return wn;if(l===D1&&d===T1){for(;o===I1;)o=t[--s];if(o===T1)return wn}if(l===rm&&d===rm){for(var g=0;o===rm;)g++,o=t[--s];if(g%2===0)return wn}return am},cD=function(e){var t=sD(e),a=t.length,s=0,o=0,l=t.map(oD);return{next:function(){if(s>=a)return{done:!0,value:null};for(var d=wn;s<a&&(d=lD(t,l,++s))===wn;);if(d!==wn||s===a){var g=nD.apply(null,t.slice(o,s));return o=s,{value:g,done:!1}}return{done:!0,value:null}}}},AD=function(e){for(var t=cD(e),a=[],s;!(s=t.next()).done;)s.value&&a.push(s.value.slice());return a},dD=function(e){var t=123;if(e.createRange){var a=e.createRange();if(a.getBoundingClientRect){var s=e.createElement("boundtest");s.style.height=t+"px",s.style.display="block",e.body.appendChild(s),a.selectNode(s);var o=a.getBoundingClientRect(),l=Math.round(o.height);if(e.body.removeChild(s),l===t)return!0}}return!1},uD=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var a=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=t.firstChild,o=g0(s.data).map(function(f){return oa(f)}),l=0,d={},g=o.every(function(f,m){a.setStart(s,l),a.setEnd(s,l+f.length);var v=a.getBoundingClientRect();l+=f.length;var N=v.x>d.x||v.y>d.y;return d=v,m===0?!0:N});return e.body.removeChild(t),g},hD=function(){return typeof new Image().crossOrigin<"u"},gD=function(){return typeof new XMLHttpRequest().responseType=="string"},fD=function(e){var t=new Image,a=e.createElement("canvas"),s=a.getContext("2d");if(!s)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(t,0,0),a.toDataURL()}catch{return!1}return!0},R1=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},pD=function(e){var t=e.createElement("canvas"),a=100;t.width=a,t.height=a;var s=t.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,a,a);var o=new Image,l=t.toDataURL();o.src=l;var d=Gx(a,a,0,0,o);return s.fillStyle="red",s.fillRect(0,0,a,a),M1(d).then(function(g){s.drawImage(g,0,0);var f=s.getImageData(0,0,a,a).data;s.fillStyle="red",s.fillRect(0,0,a,a);var m=e.createElement("div");return m.style.backgroundImage="url("+l+")",m.style.height=a+"px",R1(f)?M1(Gx(a,a,0,0,m)):Promise.reject(!1)}).then(function(g){return s.drawImage(g,0,0),R1(s.getImageData(0,0,a,a).data)}).catch(function(){return!1})},Gx=function(e,t,a,s,o){var l="http://www.w3.org/2000/svg",d=document.createElementNS(l,"svg"),g=document.createElementNS(l,"foreignObject");return d.setAttributeNS(null,"width",e.toString()),d.setAttributeNS(null,"height",t.toString()),g.setAttributeNS(null,"width","100%"),g.setAttributeNS(null,"height","100%"),g.setAttributeNS(null,"x",a.toString()),g.setAttributeNS(null,"y",s.toString()),g.setAttributeNS(null,"externalResourcesRequired","true"),d.appendChild(g),g.appendChild(o),d},M1=function(e){return new Promise(function(t,a){var s=new Image;s.onload=function(){return t(s)},s.onerror=a,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},_a={get SUPPORT_RANGE_BOUNDS(){var e=dD(document);return Object.defineProperty(_a,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=_a.SUPPORT_RANGE_BOUNDS&&uD(document);return Object.defineProperty(_a,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=fD(document);return Object.defineProperty(_a,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?pD(document):Promise.resolve(!1);return Object.defineProperty(_a,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=hD();return Object.defineProperty(_a,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=gD();return Object.defineProperty(_a,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(_a,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(_a,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},eu=function(){function e(t,a){this.text=t,this.bounds=a}return e}(),mD=function(e,t,a,s){var o=bD(t,a),l=[],d=0;return o.forEach(function(g){if(a.textDecorationLine.length||g.trim().length>0)if(_a.SUPPORT_RANGE_BOUNDS){var f=H1(s,d,g.length).getClientRects();if(f.length>1){var m=fb(g),v=0;m.forEach(function(C){l.push(new eu(C,io.fromDOMRectList(e,H1(s,v+d,C.length).getClientRects()))),v+=C.length})}else l.push(new eu(g,io.fromDOMRectList(e,f)))}else{var N=s.splitText(g.length);l.push(new eu(g,xD(e,s))),s=N}else _a.SUPPORT_RANGE_BOUNDS||(s=s.splitText(g.length));d+=g.length}),l},xD=function(e,t){var a=t.ownerDocument;if(a){var s=a.createElement("html2canvaswrapper");s.appendChild(t.cloneNode(!0));var o=t.parentNode;if(o){o.replaceChild(s,t);var l=h0(e,s);return s.firstChild&&o.replaceChild(s.firstChild,s),l}}return io.EMPTY},H1=function(e,t,a){var s=e.ownerDocument;if(!s)throw new Error("Node has no owner document");var o=s.createRange();return o.setStart(e,t),o.setEnd(e,t+a),o},fb=function(e){if(_a.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(a){return a.segment})}return AD(e)},yD=function(e,t){if(_a.SUPPORT_NATIVE_TEXT_SEGMENTATION){var a=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(a.segment(e)).map(function(s){return s.segment})}return wD(e,t)},bD=function(e,t){return t.letterSpacing!==0?fb(e):yD(e,t)},vD=[32,160,4961,65792,65793,4153,4241],wD=function(e,t){for(var a=WI(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),s=[],o,l=function(){if(o.value){var d=o.value.slice(),g=g0(d),f="";g.forEach(function(m){vD.indexOf(m)===-1?f+=oa(m):(f.length&&s.push(f),s.push(oa(m)),f="")}),f.length&&s.push(f)}};!(o=a.next()).done;)l();return s},kD=function(){function e(t,a,s){this.text=ND(a.data,s.textTransform),this.textBounds=mD(t,this.text,s,a)}return e}(),ND=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(BD,CD);case 2:return e.toUpperCase();default:return e}},BD=/(^|\s|:|-|\(|\))([a-z])/g,CD=function(e,t,a){return e.length>0?t+a.toUpperCase():e},M5=function(e){ai(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.src=s.currentSrc||s.src,o.intrinsicWidth=s.naturalWidth,o.intrinsicHeight=s.naturalHeight,o.context.cache.addImage(o.src),o}return t}(Fi),H5=function(e){ai(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.canvas=s,o.intrinsicWidth=s.width,o.intrinsicHeight=s.height,o}return t}(Fi),O5=function(e){ai(t,e);function t(a,s){var o=e.call(this,a,s)||this,l=new XMLSerializer,d=h0(a,s);return s.setAttribute("width",d.width+"px"),s.setAttribute("height",d.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(l.serializeToString(s)),o.intrinsicWidth=s.width.baseVal.value,o.intrinsicHeight=s.height.baseVal.value,o.context.cache.addImage(o.svg),o}return t}(Fi),_5=function(e){ai(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.value=s.value,o}return t}(Fi),qx=function(e){ai(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.start=s.start,o.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,o}return t}(Fi),jD=[{type:15,flags:0,unit:"px",number:3}],SD=[{type:16,flags:0,number:50}],FD=function(e){return e.width>e.height?new io(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new io(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},ED=function(e){var t=e.type===LD?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},Nf="checkbox",Bf="radio",LD="password",O1=707406591,pb=function(e){ai(t,e);function t(a,s){var o=e.call(this,a,s)||this;switch(o.type=s.type.toLowerCase(),o.checked=s.checked,o.value=ED(s),(o.type===Nf||o.type===Bf)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=FD(o.bounds)),o.type){case Nf:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=jD;break;case Bf:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=SD;break}return o}return t}(Fi),z5=function(e){ai(t,e);function t(a,s){var o=e.call(this,a,s)||this,l=s.options[s.selectedIndex||0];return o.value=l&&l.text||"",o}return t}(Fi),V5=function(e){ai(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.value=s.value,o}return t}(Fi),G5=function(e){ai(t,e);function t(a,s){var o=e.call(this,a,s)||this;o.src=s.src,o.width=parseInt(s.width,10)||0,o.height=parseInt(s.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){o.tree=X5(a,s.contentWindow.document.documentElement);var l=s.contentWindow.document.documentElement?Jd(a,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):eo.TRANSPARENT,d=s.contentWindow.document.body?Jd(a,getComputedStyle(s.contentWindow.document.body).backgroundColor):eo.TRANSPARENT;o.backgroundColor=nl(l)?nl(d)?o.styles.backgroundColor:d:l}}catch{}return o}return t}(Fi),ID=["OL","UL","MENU"],Lg=function(e,t,a,s){for(var o=t.firstChild,l=void 0;o;o=l)if(l=o.nextSibling,K5(o)&&o.data.trim().length>0)a.textNodes.push(new kD(e,o,a.styles));else if(sA(o))if(J5(o)&&o.assignedNodes)o.assignedNodes().forEach(function(g){return Lg(e,g,a,s)});else{var d=q5(e,o);d.styles.isVisible()&&(PD(o,d,s)?d.flags|=4:UD(d.styles)&&(d.flags|=2),ID.indexOf(o.tagName)!==-1&&(d.flags|=8),a.elements.push(d),o.slot,o.shadowRoot?Lg(e,o.shadowRoot,d,s):!Cf(o)&&!W5(o)&&!jf(o)&&Lg(e,o,d,s))}},q5=function(e,t){return Kx(t)?new M5(e,t):Y5(t)?new H5(e,t):W5(t)?new O5(e,t):QD(t)?new _5(e,t):DD(t)?new qx(e,t):TD(t)?new pb(e,t):jf(t)?new z5(e,t):Cf(t)?new V5(e,t):$5(t)?new G5(e,t):new Fi(e,t)},X5=function(e,t){var a=q5(e,t);return a.flags|=4,Lg(e,t,a,a),a},PD=function(e,t,a){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||mb(e)&&a.styles.isTransparent()},UD=function(e){return e.isPositioned()||e.isFloating()},K5=function(e){return e.nodeType===Node.TEXT_NODE},sA=function(e){return e.nodeType===Node.ELEMENT_NODE},Xx=function(e){return sA(e)&&typeof e.style<"u"&&!Ig(e)},Ig=function(e){return typeof e.className=="object"},QD=function(e){return e.tagName==="LI"},DD=function(e){return e.tagName==="OL"},TD=function(e){return e.tagName==="INPUT"},RD=function(e){return e.tagName==="HTML"},W5=function(e){return e.tagName==="svg"},mb=function(e){return e.tagName==="BODY"},Y5=function(e){return e.tagName==="CANVAS"},_1=function(e){return e.tagName==="VIDEO"},Kx=function(e){return e.tagName==="IMG"},$5=function(e){return e.tagName==="IFRAME"},z1=function(e){return e.tagName==="STYLE"},MD=function(e){return e.tagName==="SCRIPT"},Cf=function(e){return e.tagName==="TEXTAREA"},jf=function(e){return e.tagName==="SELECT"},J5=function(e){return e.tagName==="SLOT"},V1=function(e){return e.tagName.indexOf("-")>0},HD=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var a=this.counters[t];return a&&a.length?a[a.length-1]:1},e.prototype.getCounterValues=function(t){var a=this.counters[t];return a||[]},e.prototype.pop=function(t){var a=this;t.forEach(function(s){return a.counters[s].pop()})},e.prototype.parse=function(t){var a=this,s=t.counterIncrement,o=t.counterReset,l=!0;s!==null&&s.forEach(function(g){var f=a.counters[g.counter];f&&g.increment!==0&&(l=!1,f.length||f.push(1),f[Math.max(0,f.length-1)]+=g.increment)});var d=[];return l&&o.forEach(function(g){var f=a.counters[g.counter];d.push(g.counter),f||(f=a.counters[g.counter]=[]),f.push(g.reset)}),d},e}(),G1={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},q1={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},OD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},_D={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Tc=function(e,t,a,s,o,l){return e<t||e>a?Nu(e,o,l.length>0):s.integers.reduce(function(d,g,f){for(;e>=g;)e-=g,d+=s.values[f];return d},"")+l},Z5=function(e,t,a,s){var o="";do a||e--,o=s(e)+o,e/=t;while(e*t>=t);return o},ia=function(e,t,a,s,o){var l=a-t+1;return(e<0?"-":"")+(Z5(Math.abs(e),l,s,function(d){return oa(Math.floor(d%l)+t)})+o)},Sl=function(e,t,a){a===void 0&&(a=". ");var s=t.length;return Z5(Math.abs(e),s,!1,function(o){return t[Math.floor(o%s)]})+a},zc=1,Fo=2,Eo=4,Td=8,Gi=function(e,t,a,s,o,l){if(e<-9999||e>9999)return Nu(e,4,o.length>0);var d=Math.abs(e),g=o;if(d===0)return t[0]+g;for(var f=0;d>0&&f<=4;f++){var m=d%10;m===0&&ja(l,zc)&&g!==""?g=t[m]+g:m>1||m===1&&f===0||m===1&&f===1&&ja(l,Fo)||m===1&&f===1&&ja(l,Eo)&&e>100||m===1&&f>1&&ja(l,Td)?g=t[m]+(f>0?a[f-1]:"")+g:m===1&&f>0&&(g=a[f-1]+g),d=Math.floor(d/10)}return(e<0?s:"")+g},X1="十百千萬",K1="拾佰仟萬",W1="マイナス",sm="마이너스",Nu=function(e,t,a){var s=a?". ":"",o=a?"、":"",l=a?", ":"",d=a?" ":"";switch(t){case 0:return"•"+d;case 1:return"◦"+d;case 2:return"◾"+d;case 5:var g=ia(e,48,57,!0,s);return g.length<4?"0"+g:g;case 4:return Sl(e,"〇一二三四五六七八九",o);case 6:return Tc(e,1,3999,G1,3,s).toLowerCase();case 7:return Tc(e,1,3999,G1,3,s);case 8:return ia(e,945,969,!1,s);case 9:return ia(e,97,122,!1,s);case 10:return ia(e,65,90,!1,s);case 11:return ia(e,1632,1641,!0,s);case 12:case 49:return Tc(e,1,9999,q1,3,s);case 35:return Tc(e,1,9999,q1,3,s).toLowerCase();case 13:return ia(e,2534,2543,!0,s);case 14:case 30:return ia(e,6112,6121,!0,s);case 15:return Sl(e,"子丑寅卯辰巳午未申酉戌亥",o);case 16:return Sl(e,"甲乙丙丁戊己庚辛壬癸",o);case 17:case 48:return Gi(e,"零一二三四五六七八九",X1,"負",o,Fo|Eo|Td);case 47:return Gi(e,"零壹貳參肆伍陸柒捌玖",K1,"負",o,zc|Fo|Eo|Td);case 42:return Gi(e,"零一二三四五六七八九",X1,"负",o,Fo|Eo|Td);case 41:return Gi(e,"零壹贰叁肆伍陆柒捌玖",K1,"负",o,zc|Fo|Eo|Td);case 26:return Gi(e,"〇一二三四五六七八九","十百千万",W1,o,0);case 25:return Gi(e,"零壱弐参四伍六七八九","拾百千万",W1,o,zc|Fo|Eo);case 31:return Gi(e,"영일이삼사오육칠팔구","십백천만",sm,l,zc|Fo|Eo);case 33:return Gi(e,"零一二三四五六七八九","十百千萬",sm,l,0);case 32:return Gi(e,"零壹貳參四五六七八九","拾百千",sm,l,zc|Fo|Eo);case 18:return ia(e,2406,2415,!0,s);case 20:return Tc(e,1,19999,_D,3,s);case 21:return ia(e,2790,2799,!0,s);case 22:return ia(e,2662,2671,!0,s);case 22:return Tc(e,1,10999,OD,3,s);case 23:return Sl(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Sl(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return ia(e,3302,3311,!0,s);case 28:return Sl(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",o);case 29:return Sl(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",o);case 34:return ia(e,3792,3801,!0,s);case 37:return ia(e,6160,6169,!0,s);case 38:return ia(e,4160,4169,!0,s);case 39:return ia(e,2918,2927,!0,s);case 40:return ia(e,1776,1785,!0,s);case 43:return ia(e,3046,3055,!0,s);case 44:return ia(e,3174,3183,!0,s);case 45:return ia(e,3664,3673,!0,s);case 46:return ia(e,3872,3881,!0,s);case 3:default:return ia(e,48,57,!0,s)}},eC="data-html2canvas-ignore",Y1=function(){function e(t,a,s){if(this.context=t,this.options=s,this.scrolledElements=[],this.referenceElement=a,this.counters=new HD,this.quoteDepth=0,!a.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(a.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,a){var s=this,o=zD(t,a);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var l=t.defaultView.pageXOffset,d=t.defaultView.pageYOffset,g=o.contentWindow,f=g.document,m=qD(o).then(function(){return fs(s,void 0,void 0,function(){var v,N;return rs(this,function(C){switch(C.label){case 0:return this.scrolledElements.forEach(YD),g&&(g.scrollTo(a.left,a.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(g.scrollY!==a.top||g.scrollX!==a.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(g.scrollX-a.left,g.scrollY-a.top,0,0))),v=this.options.onclone,N=this.clonedReferenceElement,typeof N>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:f.fonts&&f.fonts.ready?[4,f.fonts.ready]:[3,2];case 1:C.sent(),C.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,GD(f)]:[3,4];case 3:C.sent(),C.label=4;case 4:return typeof v=="function"?[2,Promise.resolve().then(function(){return v(f,N)}).then(function(){return o})]:[2,o]}})})});return f.open(),f.write(KD(document.doctype)+"<html></html>"),WD(this.referenceElement.ownerDocument,l,d),f.replaceChild(f.adoptNode(this.documentElement),f.documentElement),f.close(),m},e.prototype.createElementClone=function(t){if(Vx(t,2))debugger;if(Y5(t))return this.createCanvasClone(t);if(_1(t))return this.createVideoClone(t);if(z1(t))return this.createStyleClone(t);var a=t.cloneNode(!1);return Kx(a)&&(Kx(t)&&t.currentSrc&&t.currentSrc!==t.src&&(a.src=t.currentSrc,a.srcset=""),a.loading==="lazy"&&(a.loading="eager")),V1(a)?this.createCustomElementClone(a):a},e.prototype.createCustomElementClone=function(t){var a=document.createElement("html2canvascustomelement");return nm(t.style,a),a},e.prototype.createStyleClone=function(t){try{var a=t.sheet;if(a&&a.cssRules){var s=[].slice.call(a.cssRules,0).reduce(function(l,d){return d&&typeof d.cssText=="string"?l+d.cssText:l},""),o=t.cloneNode(!1);return o.textContent=s,o}}catch(l){if(this.context.logger.error("Unable to access cssRules property",l),l.name!=="SecurityError")throw l}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var a;if(this.options.inlineImages&&t.ownerDocument){var s=t.ownerDocument.createElement("img");try{return s.src=t.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var o=t.cloneNode(!1);try{o.width=t.width,o.height=t.height;var l=t.getContext("2d"),d=o.getContext("2d");if(d)if(!this.options.allowTaint&&l)d.putImageData(l.getImageData(0,0,t.width,t.height),0,0);else{var g=(a=t.getContext("webgl2"))!==null&&a!==void 0?a:t.getContext("webgl");if(g){var f=g.getContextAttributes();(f==null?void 0:f.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}d.drawImage(t,0,0)}return o}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return o},e.prototype.createVideoClone=function(t){var a=t.ownerDocument.createElement("canvas");a.width=t.offsetWidth,a.height=t.offsetHeight;var s=a.getContext("2d");try{return s&&(s.drawImage(t,0,0,a.width,a.height),this.options.allowTaint||s.getImageData(0,0,a.width,a.height)),a}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var o=t.ownerDocument.createElement("canvas");return o.width=t.offsetWidth,o.height=t.offsetHeight,o},e.prototype.appendChildNode=function(t,a,s){(!sA(a)||!MD(a)&&!a.hasAttribute(eC)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(a)))&&(!this.options.copyStyles||!sA(a)||!z1(a))&&t.appendChild(this.cloneNode(a,s))},e.prototype.cloneChildNodes=function(t,a,s){for(var o=this,l=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;l;l=l.nextSibling)if(sA(l)&&J5(l)&&typeof l.assignedNodes=="function"){var d=l.assignedNodes();d.length&&d.forEach(function(g){return o.appendChildNode(a,g,s)})}else this.appendChildNode(a,l,s)},e.prototype.cloneNode=function(t,a){if(K5(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var s=t.ownerDocument.defaultView;if(s&&sA(t)&&(Xx(t)||Ig(t))){var o=this.createElementClone(t);o.style.transitionProperty="none";var l=s.getComputedStyle(t),d=s.getComputedStyle(t,":before"),g=s.getComputedStyle(t,":after");this.referenceElement===t&&Xx(o)&&(this.clonedReferenceElement=o),mb(o)&&ZD(o);var f=this.counters.parse(new j1(this.context,l)),m=this.resolvePseudoContent(t,o,d,tu.BEFORE);V1(t)&&(a=!0),_1(t)||this.cloneChildNodes(t,o,a),m&&o.insertBefore(m,o.firstChild);var v=this.resolvePseudoContent(t,o,g,tu.AFTER);return v&&o.appendChild(v),this.counters.pop(f),(l&&(this.options.copyStyles||Ig(t))&&!$5(t)||a)&&nm(l,o),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([o,t.scrollLeft,t.scrollTop]),(Cf(t)||jf(t))&&(Cf(o)||jf(o))&&(o.value=t.value),o}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,a,s,o){var l=this;if(s){var d=s.content,g=a.ownerDocument;if(!(!g||!d||d==="none"||d==="-moz-alt-content"||s.display==="none")){this.counters.parse(new j1(this.context,s));var f=new QQ(this.context,s),m=g.createElement("html2canvaspseudoelement");nm(s,m),f.content.forEach(function(N){if(N.type===0)m.appendChild(g.createTextNode(N.value));else if(N.type===22){var C=g.createElement("img");C.src=N.value,C.style.opacity="1",m.appendChild(C)}else if(N.type===18){if(N.name==="attr"){var k=N.values.filter(jr);k.length&&m.appendChild(g.createTextNode(t.getAttribute(k[0].value)||""))}else if(N.name==="counter"){var U=N.values.filter(SA),F=U[0],O=U[1];if(F&&jr(F)){var L=l.counters.getCounterValue(F.value),I=O&&jr(O)?zx.parse(l.context,O.value):3;m.appendChild(g.createTextNode(Nu(L,I,!1)))}}else if(N.name==="counters"){var T=N.values.filter(SA),F=T[0],q=T[1],O=T[2];if(F&&jr(F)){var M=l.counters.getCounterValues(F.value),re=O&&jr(O)?zx.parse(l.context,O.value):3,G=q&&q.type===0?q.value:"",V=M.map(function($){return Nu($,re,!1)}).join(G);m.appendChild(g.createTextNode(V))}}}else if(N.type===20)switch(N.value){case"open-quote":m.appendChild(g.createTextNode(C1(f.quotes,l.quoteDepth++,!0)));break;case"close-quote":m.appendChild(g.createTextNode(C1(f.quotes,--l.quoteDepth,!1)));break;default:m.appendChild(g.createTextNode(N.value))}}),m.className=Wx+" "+Yx;var v=o===tu.BEFORE?" "+Wx:" "+Yx;return Ig(a)?a.className.baseValue+=v:a.className+=v,m}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),tu;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(tu||(tu={}));var zD=function(e,t){var a=e.createElement("iframe");return a.className="html2canvas-container",a.style.visibility="hidden",a.style.position="fixed",a.style.left="-10000px",a.style.top="0px",a.style.border="0",a.width=t.width.toString(),a.height=t.height.toString(),a.scrolling="no",a.setAttribute(eC,"true"),e.body.appendChild(a),a},VD=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},GD=function(e){return Promise.all([].slice.call(e.images,0).map(VD))},qD=function(e){return new Promise(function(t,a){var s=e.contentWindow;if(!s)return a("No window assigned for iframe");var o=s.document;s.onload=e.onload=function(){s.onload=e.onload=null;var l=setInterval(function(){o.body.childNodes.length>0&&o.readyState==="complete"&&(clearInterval(l),t(e))},50)}})},XD=["all","d","content"],nm=function(e,t){for(var a=e.length-1;a>=0;a--){var s=e.item(a);XD.indexOf(s)===-1&&t.style.setProperty(s,e.getPropertyValue(s))}return t},KD=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},WD=function(e,t,a){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||a!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,a)},YD=function(e){var t=e[0],a=e[1],s=e[2];t.scrollLeft=a,t.scrollTop=s},$D=":before",JD=":after",Wx="___html2canvas___pseudoelement_before",Yx="___html2canvas___pseudoelement_after",$1=`{
    content: "" !important;
    display: none !important;
}`,ZD=function(e){eT(e,"."+Wx+$D+$1+`
         .`+Yx+JD+$1)},eT=function(e,t){var a=e.ownerDocument;if(a){var s=a.createElement("style");s.textContent=t,e.appendChild(s)}},tC=function(){function e(){}return e.getOrigin=function(t){var a=e._link;return a?(a.href=t,a.href=a.href,a.protocol+a.hostname+a.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),tT=function(){function e(t,a){this.context=t,this._options=a,this._cache={}}return e.prototype.addImage=function(t){var a=Promise.resolve();return this.has(t)||(om(t)||nT(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),a},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return fs(this,void 0,void 0,function(){var a,s,o,l,d=this;return rs(this,function(g){switch(g.label){case 0:return a=tC.isSameOrigin(t),s=!im(t)&&this._options.useCORS===!0&&_a.SUPPORT_CORS_IMAGES&&!a,o=!im(t)&&!a&&!om(t)&&typeof this._options.proxy=="string"&&_a.SUPPORT_CORS_XHR&&!s,!a&&this._options.allowTaint===!1&&!im(t)&&!om(t)&&!o&&!s?[2]:(l=t,o?[4,this.proxy(l)]:[3,2]);case 1:l=g.sent(),g.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(f,m){var v=new Image;v.onload=function(){return f(v)},v.onerror=m,(iT(l)||s)&&(v.crossOrigin="anonymous"),v.src=l,v.complete===!0&&setTimeout(function(){return f(v)},500),d._options.imageTimeout>0&&setTimeout(function(){return m("Timed out ("+d._options.imageTimeout+"ms) loading image")},d._options.imageTimeout)})];case 3:return[2,g.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var a=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var o=t.substring(0,256);return new Promise(function(l,d){var g=_a.SUPPORT_RESPONSE_TYPE?"blob":"text",f=new XMLHttpRequest;f.onload=function(){if(f.status===200)if(g==="text")l(f.response);else{var N=new FileReader;N.addEventListener("load",function(){return l(N.result)},!1),N.addEventListener("error",function(C){return d(C)},!1),N.readAsDataURL(f.response)}else d("Failed to proxy resource "+o+" with status code "+f.status)},f.onerror=d;var m=s.indexOf("?")>-1?"&":"?";if(f.open("GET",""+s+m+"url="+encodeURIComponent(t)+"&responseType="+g),g!=="text"&&f instanceof XMLHttpRequest&&(f.responseType=g),a._options.imageTimeout){var v=a._options.imageTimeout;f.timeout=v,f.ontimeout=function(){return d("Timed out ("+v+"ms) proxying "+o)}}f.send()})},e}(),rT=/^data:image\/svg\+xml/i,aT=/^data:image\/.*;base64,/i,sT=/^data:image\/.*/i,nT=function(e){return _a.SUPPORT_SVG_DRAWING||!oT(e)},im=function(e){return sT.test(e)},iT=function(e){return aT.test(e)},om=function(e){return e.substr(0,4)==="blob"},oT=function(e){return e.substr(-3).toLowerCase()==="svg"||rT.test(e)},bt=function(){function e(t,a){this.type=0,this.x=t,this.y=a}return e.prototype.add=function(t,a){return new e(this.x+t,this.y+a)},e}(),Rc=function(e,t,a){return new bt(e.x+(t.x-e.x)*a,e.y+(t.y-e.y)*a)},og=function(){function e(t,a,s,o){this.type=1,this.start=t,this.startControl=a,this.endControl=s,this.end=o}return e.prototype.subdivide=function(t,a){var s=Rc(this.start,this.startControl,t),o=Rc(this.startControl,this.endControl,t),l=Rc(this.endControl,this.end,t),d=Rc(s,o,t),g=Rc(o,l,t),f=Rc(d,g,t);return a?new e(this.start,s,d,f):new e(f,g,l,this.end)},e.prototype.add=function(t,a){return new e(this.start.add(t,a),this.startControl.add(t,a),this.endControl.add(t,a),this.end.add(t,a))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Bn=function(e){return e.type===1},lT=function(){function e(t){var a=t.styles,s=t.bounds,o=Qd(a.borderTopLeftRadius,s.width,s.height),l=o[0],d=o[1],g=Qd(a.borderTopRightRadius,s.width,s.height),f=g[0],m=g[1],v=Qd(a.borderBottomRightRadius,s.width,s.height),N=v[0],C=v[1],k=Qd(a.borderBottomLeftRadius,s.width,s.height),U=k[0],F=k[1],O=[];O.push((l+f)/s.width),O.push((U+N)/s.width),O.push((d+F)/s.height),O.push((m+C)/s.height);var L=Math.max.apply(Math,O);L>1&&(l/=L,d/=L,f/=L,m/=L,N/=L,C/=L,U/=L,F/=L);var I=s.width-f,T=s.height-C,q=s.width-N,M=s.height-F,re=a.borderTopWidth,G=a.borderRightWidth,V=a.borderBottomWidth,ue=a.borderLeftWidth,ne=Dr(a.paddingTop,t.bounds.width),$=Dr(a.paddingRight,t.bounds.width),J=Dr(a.paddingBottom,t.bounds.width),oe=Dr(a.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=l>0||d>0?zr(s.left+ue/3,s.top+re/3,l-ue/3,d-re/3,xr.TOP_LEFT):new bt(s.left+ue/3,s.top+re/3),this.topRightBorderDoubleOuterBox=l>0||d>0?zr(s.left+I,s.top+re/3,f-G/3,m-re/3,xr.TOP_RIGHT):new bt(s.left+s.width-G/3,s.top+re/3),this.bottomRightBorderDoubleOuterBox=N>0||C>0?zr(s.left+q,s.top+T,N-G/3,C-V/3,xr.BOTTOM_RIGHT):new bt(s.left+s.width-G/3,s.top+s.height-V/3),this.bottomLeftBorderDoubleOuterBox=U>0||F>0?zr(s.left+ue/3,s.top+M,U-ue/3,F-V/3,xr.BOTTOM_LEFT):new bt(s.left+ue/3,s.top+s.height-V/3),this.topLeftBorderDoubleInnerBox=l>0||d>0?zr(s.left+ue*2/3,s.top+re*2/3,l-ue*2/3,d-re*2/3,xr.TOP_LEFT):new bt(s.left+ue*2/3,s.top+re*2/3),this.topRightBorderDoubleInnerBox=l>0||d>0?zr(s.left+I,s.top+re*2/3,f-G*2/3,m-re*2/3,xr.TOP_RIGHT):new bt(s.left+s.width-G*2/3,s.top+re*2/3),this.bottomRightBorderDoubleInnerBox=N>0||C>0?zr(s.left+q,s.top+T,N-G*2/3,C-V*2/3,xr.BOTTOM_RIGHT):new bt(s.left+s.width-G*2/3,s.top+s.height-V*2/3),this.bottomLeftBorderDoubleInnerBox=U>0||F>0?zr(s.left+ue*2/3,s.top+M,U-ue*2/3,F-V*2/3,xr.BOTTOM_LEFT):new bt(s.left+ue*2/3,s.top+s.height-V*2/3),this.topLeftBorderStroke=l>0||d>0?zr(s.left+ue/2,s.top+re/2,l-ue/2,d-re/2,xr.TOP_LEFT):new bt(s.left+ue/2,s.top+re/2),this.topRightBorderStroke=l>0||d>0?zr(s.left+I,s.top+re/2,f-G/2,m-re/2,xr.TOP_RIGHT):new bt(s.left+s.width-G/2,s.top+re/2),this.bottomRightBorderStroke=N>0||C>0?zr(s.left+q,s.top+T,N-G/2,C-V/2,xr.BOTTOM_RIGHT):new bt(s.left+s.width-G/2,s.top+s.height-V/2),this.bottomLeftBorderStroke=U>0||F>0?zr(s.left+ue/2,s.top+M,U-ue/2,F-V/2,xr.BOTTOM_LEFT):new bt(s.left+ue/2,s.top+s.height-V/2),this.topLeftBorderBox=l>0||d>0?zr(s.left,s.top,l,d,xr.TOP_LEFT):new bt(s.left,s.top),this.topRightBorderBox=f>0||m>0?zr(s.left+I,s.top,f,m,xr.TOP_RIGHT):new bt(s.left+s.width,s.top),this.bottomRightBorderBox=N>0||C>0?zr(s.left+q,s.top+T,N,C,xr.BOTTOM_RIGHT):new bt(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=U>0||F>0?zr(s.left,s.top+M,U,F,xr.BOTTOM_LEFT):new bt(s.left,s.top+s.height),this.topLeftPaddingBox=l>0||d>0?zr(s.left+ue,s.top+re,Math.max(0,l-ue),Math.max(0,d-re),xr.TOP_LEFT):new bt(s.left+ue,s.top+re),this.topRightPaddingBox=f>0||m>0?zr(s.left+Math.min(I,s.width-G),s.top+re,I>s.width+G?0:Math.max(0,f-G),Math.max(0,m-re),xr.TOP_RIGHT):new bt(s.left+s.width-G,s.top+re),this.bottomRightPaddingBox=N>0||C>0?zr(s.left+Math.min(q,s.width-ue),s.top+Math.min(T,s.height-V),Math.max(0,N-G),Math.max(0,C-V),xr.BOTTOM_RIGHT):new bt(s.left+s.width-G,s.top+s.height-V),this.bottomLeftPaddingBox=U>0||F>0?zr(s.left+ue,s.top+Math.min(M,s.height-V),Math.max(0,U-ue),Math.max(0,F-V),xr.BOTTOM_LEFT):new bt(s.left+ue,s.top+s.height-V),this.topLeftContentBox=l>0||d>0?zr(s.left+ue+oe,s.top+re+ne,Math.max(0,l-(ue+oe)),Math.max(0,d-(re+ne)),xr.TOP_LEFT):new bt(s.left+ue+oe,s.top+re+ne),this.topRightContentBox=f>0||m>0?zr(s.left+Math.min(I,s.width+ue+oe),s.top+re+ne,I>s.width+ue+oe?0:f-ue+oe,m-(re+ne),xr.TOP_RIGHT):new bt(s.left+s.width-(G+$),s.top+re+ne),this.bottomRightContentBox=N>0||C>0?zr(s.left+Math.min(q,s.width-(ue+oe)),s.top+Math.min(T,s.height+re+ne),Math.max(0,N-(G+$)),C-(V+J),xr.BOTTOM_RIGHT):new bt(s.left+s.width-(G+$),s.top+s.height-(V+J)),this.bottomLeftContentBox=U>0||F>0?zr(s.left+ue+oe,s.top+M,Math.max(0,U-(ue+oe)),F-(V+J),xr.BOTTOM_LEFT):new bt(s.left+ue+oe,s.top+s.height-(V+J))}return e}(),xr;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(xr||(xr={}));var zr=function(e,t,a,s,o){var l=4*((Math.sqrt(2)-1)/3),d=a*l,g=s*l,f=e+a,m=t+s;switch(o){case xr.TOP_LEFT:return new og(new bt(e,m),new bt(e,m-g),new bt(f-d,t),new bt(f,t));case xr.TOP_RIGHT:return new og(new bt(e,t),new bt(e+d,t),new bt(f,m-g),new bt(f,m));case xr.BOTTOM_RIGHT:return new og(new bt(f,t),new bt(f,t+g),new bt(e+d,m),new bt(e,m));case xr.BOTTOM_LEFT:default:return new og(new bt(f,m),new bt(f-d,m),new bt(e,t+g),new bt(e,t))}},Sf=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},cT=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Ff=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},AT=function(){function e(t,a,s){this.offsetX=t,this.offsetY=a,this.matrix=s,this.type=0,this.target=6}return e}(),lg=function(){function e(t,a){this.path=t,this.target=a,this.type=1}return e}(),dT=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),uT=function(e){return e.type===0},rC=function(e){return e.type===1},hT=function(e){return e.type===2},J1=function(e,t){return e.length===t.length?e.some(function(a,s){return a===t[s]}):!1},gT=function(e,t,a,s,o){return e.map(function(l,d){switch(d){case 0:return l.add(t,a);case 1:return l.add(t+s,a);case 2:return l.add(t+s,a+o);case 3:return l.add(t,a+o)}return l})},aC=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),sC=function(){function e(t,a){if(this.container=t,this.parent=a,this.effects=[],this.curves=new lT(this.container),this.container.styles.opacity<1&&this.effects.push(new dT(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,l=this.container.styles.transform;this.effects.push(new AT(s,o,l))}if(this.container.styles.overflowX!==0){var d=Sf(this.curves),g=Ff(this.curves);J1(d,g)?this.effects.push(new lg(d,6)):(this.effects.push(new lg(d,2)),this.effects.push(new lg(g,4)))}}return e.prototype.getEffects=function(t){for(var a=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,o=this.effects.slice(0);s;){var l=s.effects.filter(function(f){return!rC(f)});if(a||s.container.styles.position!==0||!s.parent){if(o.unshift.apply(o,l),a=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var d=Sf(s.curves),g=Ff(s.curves);J1(d,g)||o.unshift(new lg(g,6))}}else o.unshift.apply(o,l);s=s.parent}return o.filter(function(f){return ja(f.target,t)})},e}(),$x=function(e,t,a,s){e.container.elements.forEach(function(o){var l=ja(o.flags,4),d=ja(o.flags,2),g=new sC(o,e);ja(o.styles.display,2048)&&s.push(g);var f=ja(o.flags,8)?[]:s;if(l||d){var m=l||o.styles.isPositioned()?a:t,v=new aC(g);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var N=o.styles.zIndex.order;if(N<0){var C=0;m.negativeZIndex.some(function(U,F){return N>U.element.container.styles.zIndex.order?(C=F,!1):C>0}),m.negativeZIndex.splice(C,0,v)}else if(N>0){var k=0;m.positiveZIndex.some(function(U,F){return N>=U.element.container.styles.zIndex.order?(k=F+1,!1):k>0}),m.positiveZIndex.splice(k,0,v)}else m.zeroOrAutoZIndexOrTransformedOrOpacity.push(v)}else o.styles.isFloating()?m.nonPositionedFloats.push(v):m.nonPositionedInlineLevel.push(v);$x(g,v,l?v:a,f)}else o.styles.isInlineLevel()?t.inlineLevel.push(g):t.nonInlineLevel.push(g),$x(g,t,a,f);ja(o.flags,8)&&nC(o,f)})},nC=function(e,t){for(var a=e instanceof qx?e.start:1,s=e instanceof qx?e.reversed:!1,o=0;o<t.length;o++){var l=t[o];l.container instanceof _5&&typeof l.container.value=="number"&&l.container.value!==0&&(a=l.container.value),l.listValue=Nu(a,l.container.styles.listStyleType,!0),a+=s?-1:1}},fT=function(e){var t=new sC(e,null),a=new aC(t),s=[];return $x(t,a,a,s),nC(t.container,s),a},Z1=function(e,t){switch(t){case 0:return Sn(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Sn(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Sn(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Sn(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},pT=function(e,t){switch(t){case 0:return Sn(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Sn(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Sn(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Sn(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},mT=function(e,t){switch(t){case 0:return Sn(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Sn(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Sn(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Sn(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},xT=function(e,t){switch(t){case 0:return cg(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return cg(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return cg(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return cg(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},cg=function(e,t){var a=[];return Bn(e)?a.push(e.subdivide(.5,!1)):a.push(e),Bn(t)?a.push(t.subdivide(.5,!0)):a.push(t),a},Sn=function(e,t,a,s){var o=[];return Bn(e)?o.push(e.subdivide(.5,!1)):o.push(e),Bn(a)?o.push(a.subdivide(.5,!0)):o.push(a),Bn(s)?o.push(s.subdivide(.5,!0).reverse()):o.push(s),Bn(t)?o.push(t.subdivide(.5,!1).reverse()):o.push(t),o},iC=function(e){var t=e.bounds,a=e.styles;return t.add(a.borderLeftWidth,a.borderTopWidth,-(a.borderRightWidth+a.borderLeftWidth),-(a.borderTopWidth+a.borderBottomWidth))},Ef=function(e){var t=e.styles,a=e.bounds,s=Dr(t.paddingLeft,a.width),o=Dr(t.paddingRight,a.width),l=Dr(t.paddingTop,a.width),d=Dr(t.paddingBottom,a.width);return a.add(s+t.borderLeftWidth,l+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+s+o),-(t.borderTopWidth+t.borderBottomWidth+l+d))},yT=function(e,t){return e===0?t.bounds:e===2?Ef(t):iC(t)},bT=function(e,t){return e===0?t.bounds:e===2?Ef(t):iC(t)},lm=function(e,t,a){var s=yT(Vc(e.styles.backgroundOrigin,t),e),o=bT(Vc(e.styles.backgroundClip,t),e),l=vT(Vc(e.styles.backgroundSize,t),a,s),d=l[0],g=l[1],f=Qd(Vc(e.styles.backgroundPosition,t),s.width-d,s.height-g),m=wT(Vc(e.styles.backgroundRepeat,t),f,l,s,o),v=Math.round(s.left+f[0]),N=Math.round(s.top+f[1]);return[m,v,N,d,g]},Mc=function(e){return jr(e)&&e.value===xA.AUTO},Ag=function(e){return typeof e=="number"},vT=function(e,t,a){var s=t[0],o=t[1],l=t[2],d=e[0],g=e[1];if(!d)return[0,0];if(xa(d)&&g&&xa(g))return[Dr(d,a.width),Dr(g,a.height)];var f=Ag(l);if(jr(d)&&(d.value===xA.CONTAIN||d.value===xA.COVER)){if(Ag(l)){var m=a.width/a.height;return m<l!=(d.value===xA.COVER)?[a.width,a.width/l]:[a.height*l,a.height]}return[a.width,a.height]}var v=Ag(s),N=Ag(o),C=v||N;if(Mc(d)&&(!g||Mc(g))){if(v&&N)return[s,o];if(!f&&!C)return[a.width,a.height];if(C&&f){var k=v?s:o*l,U=N?o:s/l;return[k,U]}var F=v?s:a.width,O=N?o:a.height;return[F,O]}if(f){var L=0,I=0;return xa(d)?L=Dr(d,a.width):xa(g)&&(I=Dr(g,a.height)),Mc(d)?L=I*l:(!g||Mc(g))&&(I=L/l),[L,I]}var T=null,q=null;if(xa(d)?T=Dr(d,a.width):g&&xa(g)&&(q=Dr(g,a.height)),T!==null&&(!g||Mc(g))&&(q=v&&N?T/s*o:a.height),q!==null&&Mc(d)&&(T=v&&N?q/o*s:a.width),T!==null&&q!==null)return[T,q];throw new Error("Unable to calculate background-size for element")},Vc=function(e,t){var a=e[t];return typeof a>"u"?e[0]:a},wT=function(e,t,a,s,o){var l=t[0],d=t[1],g=a[0],f=a[1];switch(e){case 2:return[new bt(Math.round(s.left),Math.round(s.top+d)),new bt(Math.round(s.left+s.width),Math.round(s.top+d)),new bt(Math.round(s.left+s.width),Math.round(f+s.top+d)),new bt(Math.round(s.left),Math.round(f+s.top+d))];case 3:return[new bt(Math.round(s.left+l),Math.round(s.top)),new bt(Math.round(s.left+l+g),Math.round(s.top)),new bt(Math.round(s.left+l+g),Math.round(s.height+s.top)),new bt(Math.round(s.left+l),Math.round(s.height+s.top))];case 1:return[new bt(Math.round(s.left+l),Math.round(s.top+d)),new bt(Math.round(s.left+l+g),Math.round(s.top+d)),new bt(Math.round(s.left+l+g),Math.round(s.top+d+f)),new bt(Math.round(s.left+l),Math.round(s.top+d+f))];default:return[new bt(Math.round(o.left),Math.round(o.top)),new bt(Math.round(o.left+o.width),Math.round(o.top)),new bt(Math.round(o.left+o.width),Math.round(o.height+o.top)),new bt(Math.round(o.left),Math.round(o.height+o.top))]}},kT="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e2="Hidden Text",NT=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,a){var s=this._document.createElement("div"),o=this._document.createElement("img"),l=this._document.createElement("span"),d=this._document.body;s.style.visibility="hidden",s.style.fontFamily=t,s.style.fontSize=a,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",d.appendChild(s),o.src=kT,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",l.style.fontFamily=t,l.style.fontSize=a,l.style.margin="0",l.style.padding="0",l.appendChild(this._document.createTextNode(e2)),s.appendChild(l),s.appendChild(o);var g=o.offsetTop-l.offsetTop+2;s.removeChild(l),s.appendChild(this._document.createTextNode(e2)),s.style.lineHeight="normal",o.style.verticalAlign="super";var f=o.offsetTop-s.offsetTop+2;return d.removeChild(s),{baseline:g,middle:f}},e.prototype.getMetrics=function(t,a){var s=t+" "+a;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(t,a)),this._data[s]},e}(),oC=function(){function e(t,a){this.context=t,this.options=a}return e}(),BT=1e4,CT=function(e){ai(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o._activeEffects=[],o.canvas=s.canvas?s.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),s.canvas||(o.canvas.width=Math.floor(s.width*s.scale),o.canvas.height=Math.floor(s.height*s.scale),o.canvas.style.width=s.width+"px",o.canvas.style.height=s.height+"px"),o.fontMetrics=new NT(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-s.x,-s.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),o}return t.prototype.applyEffects=function(a){for(var s=this;this._activeEffects.length;)this.popEffect();a.forEach(function(o){return s.applyEffect(o)})},t.prototype.applyEffect=function(a){this.ctx.save(),hT(a)&&(this.ctx.globalAlpha=a.opacity),uT(a)&&(this.ctx.translate(a.offsetX,a.offsetY),this.ctx.transform(a.matrix[0],a.matrix[1],a.matrix[2],a.matrix[3],a.matrix[4],a.matrix[5]),this.ctx.translate(-a.offsetX,-a.offsetY)),rC(a)&&(this.path(a.path),this.ctx.clip()),this._activeEffects.push(a)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(a){return fs(this,void 0,void 0,function(){var s;return rs(this,function(o){switch(o.label){case 0:return s=a.element.container.styles,s.isVisible()?[4,this.renderStackContent(a)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(a){return fs(this,void 0,void 0,function(){return rs(this,function(s){switch(s.label){case 0:if(ja(a.container.flags,16))debugger;return a.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(a)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(a)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(a,s,o){var l=this;if(s===0)this.ctx.fillText(a.text,a.bounds.left,a.bounds.top+o);else{var d=fb(a.text);d.reduce(function(g,f){return l.ctx.fillText(f,g,a.bounds.top+o),g+l.ctx.measureText(f).width},a.bounds.left)}},t.prototype.createFontStyle=function(a){var s=a.fontVariant.filter(function(d){return d==="normal"||d==="small-caps"}).join(""),o=LT(a.fontFamily).join(", "),l=Du(a.fontSize)?""+a.fontSize.number+a.fontSize.unit:a.fontSize.number+"px";return[[a.fontStyle,s,a.fontWeight,l,o].join(" "),o,l]},t.prototype.renderTextNode=function(a,s){return fs(this,void 0,void 0,function(){var o,l,d,g,f,m,v,N,C=this;return rs(this,function(k){return o=this.createFontStyle(s),l=o[0],d=o[1],g=o[2],this.ctx.font=l,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",f=this.fontMetrics.getMetrics(d,g),m=f.baseline,v=f.middle,N=s.paintOrder,a.textBounds.forEach(function(U){N.forEach(function(F){switch(F){case 0:C.ctx.fillStyle=Ua(s.color),C.renderTextWithLetterSpacing(U,s.letterSpacing,m);var O=s.textShadow;O.length&&U.text.trim().length&&(O.slice(0).reverse().forEach(function(L){C.ctx.shadowColor=Ua(L.color),C.ctx.shadowOffsetX=L.offsetX.number*C.options.scale,C.ctx.shadowOffsetY=L.offsetY.number*C.options.scale,C.ctx.shadowBlur=L.blur.number,C.renderTextWithLetterSpacing(U,s.letterSpacing,m)}),C.ctx.shadowColor="",C.ctx.shadowOffsetX=0,C.ctx.shadowOffsetY=0,C.ctx.shadowBlur=0),s.textDecorationLine.length&&(C.ctx.fillStyle=Ua(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(L){switch(L){case 1:C.ctx.fillRect(U.bounds.left,Math.round(U.bounds.top+m),U.bounds.width,1);break;case 2:C.ctx.fillRect(U.bounds.left,Math.round(U.bounds.top),U.bounds.width,1);break;case 3:C.ctx.fillRect(U.bounds.left,Math.ceil(U.bounds.top+v),U.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&U.text.trim().length&&(C.ctx.strokeStyle=Ua(s.webkitTextStrokeColor),C.ctx.lineWidth=s.webkitTextStrokeWidth,C.ctx.lineJoin=window.chrome?"miter":"round",C.ctx.strokeText(U.text,U.bounds.left,U.bounds.top+m)),C.ctx.strokeStyle="",C.ctx.lineWidth=0,C.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(a,s,o){if(o&&a.intrinsicWidth>0&&a.intrinsicHeight>0){var l=Ef(a),d=Ff(s);this.path(d),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,a.intrinsicWidth,a.intrinsicHeight,l.left,l.top,l.width,l.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(a){return fs(this,void 0,void 0,function(){var s,o,l,d,g,f,I,I,m,v,N,C,q,k,U,M,F,O,L,I,T,q,M;return rs(this,function(re){switch(re.label){case 0:this.applyEffects(a.getEffects(4)),s=a.container,o=a.curves,l=s.styles,d=0,g=s.textNodes,re.label=1;case 1:return d<g.length?(f=g[d],[4,this.renderTextNode(f,l)]):[3,4];case 2:re.sent(),re.label=3;case 3:return d++,[3,1];case 4:if(!(s instanceof M5))return[3,8];re.label=5;case 5:return re.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return I=re.sent(),this.renderReplacedElement(s,o,I),[3,8];case 7:return re.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof H5&&this.renderReplacedElement(s,o,s.canvas),!(s instanceof O5))return[3,12];re.label=9;case 9:return re.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return I=re.sent(),this.renderReplacedElement(s,o,I),[3,12];case 11:return re.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof G5&&s.tree?(m=new t(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,m.render(s.tree)]):[3,14];case 13:v=re.sent(),s.width&&s.height&&this.ctx.drawImage(v,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),re.label=14;case 14:if(s instanceof pb&&(N=Math.min(s.bounds.width,s.bounds.height),s.type===Nf?s.checked&&(this.ctx.save(),this.path([new bt(s.bounds.left+N*.39363,s.bounds.top+N*.79),new bt(s.bounds.left+N*.16,s.bounds.top+N*.5549),new bt(s.bounds.left+N*.27347,s.bounds.top+N*.44071),new bt(s.bounds.left+N*.39694,s.bounds.top+N*.5649),new bt(s.bounds.left+N*.72983,s.bounds.top+N*.23),new bt(s.bounds.left+N*.84,s.bounds.top+N*.34085),new bt(s.bounds.left+N*.39363,s.bounds.top+N*.79)]),this.ctx.fillStyle=Ua(O1),this.ctx.fill(),this.ctx.restore()):s.type===Bf&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+N/2,s.bounds.top+N/2,N/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ua(O1),this.ctx.fill(),this.ctx.restore())),jT(s)&&s.value.length){switch(C=this.createFontStyle(l),q=C[0],k=C[1],U=this.fontMetrics.getMetrics(q,k).baseline,this.ctx.font=q,this.ctx.fillStyle=Ua(l.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=FT(s.styles.textAlign),M=Ef(s),F=0,s.styles.textAlign){case 1:F+=M.width/2;break;case 2:F+=M.width;break}O=M.add(F,0,0,-M.height/2+1),this.ctx.save(),this.path([new bt(M.left,M.top),new bt(M.left+M.width,M.top),new bt(M.left+M.width,M.top+M.height),new bt(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new eu(s.value,O),l.letterSpacing,U),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ja(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(L=s.styles.listStyleImage,L.type!==0)return[3,18];I=void 0,T=L.url,re.label=15;case 15:return re.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=re.sent(),this.ctx.drawImage(I,s.bounds.left-(I.width+10),s.bounds.top),[3,18];case 17:return re.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:a.listValue&&s.styles.listStyleType!==-1&&(q=this.createFontStyle(l)[0],this.ctx.font=q,this.ctx.fillStyle=Ua(l.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new io(s.bounds.left,s.bounds.top+Dr(s.styles.paddingTop,s.bounds.width),s.bounds.width,N1(l.lineHeight,l.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new eu(a.listValue,M),l.letterSpacing,N1(l.lineHeight,l.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),re.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(a){return fs(this,void 0,void 0,function(){var s,o,L,l,d,L,g,f,L,m,v,L,N,C,L,k,U,L,F,O,L;return rs(this,function(I){switch(I.label){case 0:if(ja(a.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(a.element)];case 1:I.sent(),s=0,o=a.negativeZIndex,I.label=2;case 2:return s<o.length?(L=o[s],[4,this.renderStack(L)]):[3,5];case 3:I.sent(),I.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(a.element)];case 6:I.sent(),l=0,d=a.nonInlineLevel,I.label=7;case 7:return l<d.length?(L=d[l],[4,this.renderNode(L)]):[3,10];case 8:I.sent(),I.label=9;case 9:return l++,[3,7];case 10:g=0,f=a.nonPositionedFloats,I.label=11;case 11:return g<f.length?(L=f[g],[4,this.renderStack(L)]):[3,14];case 12:I.sent(),I.label=13;case 13:return g++,[3,11];case 14:m=0,v=a.nonPositionedInlineLevel,I.label=15;case 15:return m<v.length?(L=v[m],[4,this.renderStack(L)]):[3,18];case 16:I.sent(),I.label=17;case 17:return m++,[3,15];case 18:N=0,C=a.inlineLevel,I.label=19;case 19:return N<C.length?(L=C[N],[4,this.renderNode(L)]):[3,22];case 20:I.sent(),I.label=21;case 21:return N++,[3,19];case 22:k=0,U=a.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return k<U.length?(L=U[k],[4,this.renderStack(L)]):[3,26];case 24:I.sent(),I.label=25;case 25:return k++,[3,23];case 26:F=0,O=a.positiveZIndex,I.label=27;case 27:return F<O.length?(L=O[F],[4,this.renderStack(L)]):[3,30];case 28:I.sent(),I.label=29;case 29:return F++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(a){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(a.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(a){this.ctx.beginPath(),this.formatPath(a),this.ctx.closePath()},t.prototype.formatPath=function(a){var s=this;a.forEach(function(o,l){var d=Bn(o)?o.start:o;l===0?s.ctx.moveTo(d.x,d.y):s.ctx.lineTo(d.x,d.y),Bn(o)&&s.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},t.prototype.renderRepeat=function(a,s,o,l){this.path(a),this.ctx.fillStyle=s,this.ctx.translate(o,l),this.ctx.fill(),this.ctx.translate(-o,-l)},t.prototype.resizeImage=function(a,s,o){var l;if(a.width===s&&a.height===o)return a;var d=(l=this.canvas.ownerDocument)!==null&&l!==void 0?l:document,g=d.createElement("canvas");g.width=Math.max(1,s),g.height=Math.max(1,o);var f=g.getContext("2d");return f.drawImage(a,0,0,a.width,a.height,0,0,s,o),g},t.prototype.renderBackgroundImage=function(a){return fs(this,void 0,void 0,function(){var s,o,l,d,g,f;return rs(this,function(m){switch(m.label){case 0:s=a.styles.backgroundImage.length-1,o=function(v){var N,C,k,ne,Y,we,oe,le,V,U,ne,Y,we,oe,le,F,O,L,I,T,q,M,re,G,V,ue,ne,$,J,oe,le,ie,Y,we,fe,je,Pe,Ve,de,he,Ne,Ee;return rs(this,function(Se){switch(Se.label){case 0:if(v.type!==0)return[3,5];N=void 0,C=v.url,Se.label=1;case 1:return Se.trys.push([1,3,,4]),[4,l.context.cache.match(C)];case 2:return N=Se.sent(),[3,4];case 3:return Se.sent(),l.context.logger.error("Error loading background-image "+C),[3,4];case 4:return N&&(k=lm(a,s,[N.width,N.height,N.width/N.height]),ne=k[0],Y=k[1],we=k[2],oe=k[3],le=k[4],V=l.ctx.createPattern(l.resizeImage(N,oe,le),"repeat"),l.renderRepeat(ne,V,Y,we)),[3,6];case 5:uU(v)?(U=lm(a,s,[null,null,null]),ne=U[0],Y=U[1],we=U[2],oe=U[3],le=U[4],F=oU(v.angle,oe,le),O=F[0],L=F[1],I=F[2],T=F[3],q=F[4],M=document.createElement("canvas"),M.width=oe,M.height=le,re=M.getContext("2d"),G=re.createLinearGradient(L,T,I,q),w1(v.stops,O).forEach(function(Ie){return G.addColorStop(Ie.stop,Ua(Ie.color))}),re.fillStyle=G,re.fillRect(0,0,oe,le),oe>0&&le>0&&(V=l.ctx.createPattern(M,"repeat"),l.renderRepeat(ne,V,Y,we))):hU(v)&&(ue=lm(a,s,[null,null,null]),ne=ue[0],$=ue[1],J=ue[2],oe=ue[3],le=ue[4],ie=v.position.length===0?[ub]:v.position,Y=Dr(ie[0],oe),we=Dr(ie[ie.length-1],le),fe=lU(v,Y,we,oe,le),je=fe[0],Pe=fe[1],je>0&&Pe>0&&(Ve=l.ctx.createRadialGradient($+Y,J+we,0,$+Y,J+we,je),w1(v.stops,je*2).forEach(function(Ie){return Ve.addColorStop(Ie.stop,Ua(Ie.color))}),l.path(ne),l.ctx.fillStyle=Ve,je!==Pe?(de=a.bounds.left+.5*a.bounds.width,he=a.bounds.top+.5*a.bounds.height,Ne=Pe/je,Ee=1/Ne,l.ctx.save(),l.ctx.translate(de,he),l.ctx.transform(1,0,0,Ne,0,0),l.ctx.translate(-de,-he),l.ctx.fillRect($,Ee*(J-he)+he,oe,le*Ee),l.ctx.restore()):l.ctx.fill())),Se.label=6;case 6:return s--,[2]}})},l=this,d=0,g=a.styles.backgroundImage.slice(0).reverse(),m.label=1;case 1:return d<g.length?(f=g[d],[5,o(f)]):[3,4];case 2:m.sent(),m.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(a,s,o){return fs(this,void 0,void 0,function(){return rs(this,function(l){return this.path(Z1(o,s)),this.ctx.fillStyle=Ua(a),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(a,s,o,l){return fs(this,void 0,void 0,function(){var d,g;return rs(this,function(f){switch(f.label){case 0:return s<3?[4,this.renderSolidBorder(a,o,l)]:[3,2];case 1:return f.sent(),[2];case 2:return d=pT(l,o),this.path(d),this.ctx.fillStyle=Ua(a),this.ctx.fill(),g=mT(l,o),this.path(g),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(a){return fs(this,void 0,void 0,function(){var s,o,l,d,g,f,m,v,N=this;return rs(this,function(C){switch(C.label){case 0:return this.applyEffects(a.getEffects(2)),s=a.container.styles,o=!nl(s.backgroundColor)||s.backgroundImage.length,l=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],d=ST(Vc(s.backgroundClip,0),a.curves),o||s.boxShadow.length?(this.ctx.save(),this.path(d),this.ctx.clip(),nl(s.backgroundColor)||(this.ctx.fillStyle=Ua(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(a.container)]):[3,2];case 1:C.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(k){N.ctx.save();var U=Sf(a.curves),F=k.inset?0:BT,O=gT(U,-F+(k.inset?1:-1)*k.spread.number,(k.inset?1:-1)*k.spread.number,k.spread.number*(k.inset?-2:2),k.spread.number*(k.inset?-2:2));k.inset?(N.path(U),N.ctx.clip(),N.mask(O)):(N.mask(U),N.ctx.clip(),N.path(O)),N.ctx.shadowOffsetX=k.offsetX.number+F,N.ctx.shadowOffsetY=k.offsetY.number,N.ctx.shadowColor=Ua(k.color),N.ctx.shadowBlur=k.blur.number,N.ctx.fillStyle=k.inset?Ua(k.color):"rgba(0,0,0,1)",N.ctx.fill(),N.ctx.restore()}),C.label=2;case 2:g=0,f=0,m=l,C.label=3;case 3:return f<m.length?(v=m[f],v.style!==0&&!nl(v.color)&&v.width>0?v.style!==2?[3,5]:[4,this.renderDashedDottedBorder(v.color,v.width,g,a.curves,2)]:[3,11]):[3,13];case 4:return C.sent(),[3,11];case 5:return v.style!==3?[3,7]:[4,this.renderDashedDottedBorder(v.color,v.width,g,a.curves,3)];case 6:return C.sent(),[3,11];case 7:return v.style!==4?[3,9]:[4,this.renderDoubleBorder(v.color,v.width,g,a.curves)];case 8:return C.sent(),[3,11];case 9:return[4,this.renderSolidBorder(v.color,g,a.curves)];case 10:C.sent(),C.label=11;case 11:g++,C.label=12;case 12:return f++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(a,s,o,l,d){return fs(this,void 0,void 0,function(){var g,f,m,v,N,C,k,U,F,O,L,I,T,q,M,re,M,re;return rs(this,function(G){return this.ctx.save(),g=xT(l,o),f=Z1(l,o),d===2&&(this.path(f),this.ctx.clip()),Bn(f[0])?(m=f[0].start.x,v=f[0].start.y):(m=f[0].x,v=f[0].y),Bn(f[1])?(N=f[1].end.x,C=f[1].end.y):(N=f[1].x,C=f[1].y),o===0||o===2?k=Math.abs(m-N):k=Math.abs(v-C),this.ctx.beginPath(),d===3?this.formatPath(g):this.formatPath(f.slice(0,2)),U=s<3?s*3:s*2,F=s<3?s*2:s,d===3&&(U=s,F=s),O=!0,k<=U*2?O=!1:k<=U*2+F?(L=k/(2*U+F),U*=L,F*=L):(I=Math.floor((k+F)/(U+F)),T=(k-I*U)/(I-1),q=(k-(I+1)*U)/I,F=q<=0||Math.abs(F-T)<Math.abs(F-q)?T:q),O&&(d===3?this.ctx.setLineDash([0,U+F]):this.ctx.setLineDash([U,F])),d===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=Ua(a),this.ctx.stroke(),this.ctx.setLineDash([]),d===2&&(Bn(f[0])&&(M=f[3],re=f[0],this.ctx.beginPath(),this.formatPath([new bt(M.end.x,M.end.y),new bt(re.start.x,re.start.y)]),this.ctx.stroke()),Bn(f[1])&&(M=f[1],re=f[2],this.ctx.beginPath(),this.formatPath([new bt(M.end.x,M.end.y),new bt(re.start.x,re.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(a){return fs(this,void 0,void 0,function(){var s;return rs(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ua(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=fT(a),[4,this.renderStack(s)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(oC),jT=function(e){return e instanceof V5||e instanceof z5?!0:e instanceof pb&&e.type!==Bf&&e.type!==Nf},ST=function(e,t){switch(e){case 0:return Sf(t);case 2:return cT(t);case 1:default:return Ff(t)}},FT=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ET=["-apple-system","system-ui"],LT=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return ET.indexOf(t)===-1}):e},IT=function(e){ai(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.canvas=s.canvas?s.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=s,o.canvas.width=Math.floor(s.width*s.scale),o.canvas.height=Math.floor(s.height*s.scale),o.canvas.style.width=s.width+"px",o.canvas.style.height=s.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-s.x,-s.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),o}return t.prototype.render=function(a){return fs(this,void 0,void 0,function(){var s,o;return rs(this,function(l){switch(l.label){case 0:return s=Gx(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,a),[4,PT(s)];case 1:return o=l.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ua(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(oC),PT=function(e){return new Promise(function(t,a){var s=new Image;s.onload=function(){t(s)},s.onerror=a,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},UT=function(){function e(t){var a=t.id,s=t.enabled;this.id=a,this.enabled=s,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,_h([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,_h([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,_h([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,_h([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),QT=function(){function e(t,a){var s;this.windowBounds=a,this.instanceName="#"+e.instanceCount++,this.logger=new UT({id:this.instanceName,enabled:t.logging}),this.cache=(s=t.cache)!==null&&s!==void 0?s:new tT(this,t)}return e.instanceCount=1,e}(),DT=function(e,t){return t===void 0&&(t={}),TT(e,t)};typeof window<"u"&&tC.setContext(window);var TT=function(e,t){return fs(void 0,void 0,void 0,function(){var a,s,o,l,d,g,f,m,v,N,C,k,U,F,O,L,I,T,q,M,G,re,G,V,ue,ne,$,J,oe,le,ie,Y,we,fe,je,Pe,Ve,de,he,Ne;return rs(this,function(Ee){switch(Ee.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(a=e.ownerDocument,!a)throw new Error("Element is not attached to a Document");if(s=a.defaultView,!s)throw new Error("Document is not attached to a Window");return o={allowTaint:(V=t.allowTaint)!==null&&V!==void 0?V:!1,imageTimeout:(ue=t.imageTimeout)!==null&&ue!==void 0?ue:15e3,proxy:t.proxy,useCORS:(ne=t.useCORS)!==null&&ne!==void 0?ne:!1},l=Ex({logging:($=t.logging)!==null&&$!==void 0?$:!0,cache:t.cache},o),d={windowWidth:(J=t.windowWidth)!==null&&J!==void 0?J:s.innerWidth,windowHeight:(oe=t.windowHeight)!==null&&oe!==void 0?oe:s.innerHeight,scrollX:(le=t.scrollX)!==null&&le!==void 0?le:s.pageXOffset,scrollY:(ie=t.scrollY)!==null&&ie!==void 0?ie:s.pageYOffset},g=new io(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),f=new QT(l,g),m=(Y=t.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,v={allowTaint:(we=t.allowTaint)!==null&&we!==void 0?we:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:m,copyStyles:m},f.logger.debug("Starting document clone with size "+g.width+"x"+g.height+" scrolled to "+-g.left+","+-g.top),N=new Y1(f,e,v),C=N.clonedReferenceElement,C?[4,N.toIFrame(a,g)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return k=Ee.sent(),U=mb(C)||RD(C)?gI(C.ownerDocument):h0(f,C),F=U.width,O=U.height,L=U.left,I=U.top,T=RT(f,C,t.backgroundColor),q={canvas:t.canvas,backgroundColor:T,scale:(je=(fe=t.scale)!==null&&fe!==void 0?fe:s.devicePixelRatio)!==null&&je!==void 0?je:1,x:((Pe=t.x)!==null&&Pe!==void 0?Pe:0)+L,y:((Ve=t.y)!==null&&Ve!==void 0?Ve:0)+I,width:(de=t.width)!==null&&de!==void 0?de:Math.ceil(F),height:(he=t.height)!==null&&he!==void 0?he:Math.ceil(O)},m?(f.logger.debug("Document cloned, using foreign object rendering"),G=new IT(f,q),[4,G.render(C)]):[3,3];case 2:return M=Ee.sent(),[3,5];case 3:return f.logger.debug("Document cloned, element located at "+L+","+I+" with size "+F+"x"+O+" using computed rendering"),f.logger.debug("Starting DOM parsing"),re=X5(f,C),T===re.styles.backgroundColor&&(re.styles.backgroundColor=eo.TRANSPARENT),f.logger.debug("Starting renderer for element at "+q.x+","+q.y+" with size "+q.width+"x"+q.height),G=new CT(f,q),[4,G.render(re)];case 4:M=Ee.sent(),Ee.label=5;case 5:return(!((Ne=t.removeContainer)!==null&&Ne!==void 0)||Ne)&&(Y1.destroy(k)||f.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),f.logger.debug("Finished rendering"),[2,M]}})})},RT=function(e,t,a){var s=t.ownerDocument,o=s.documentElement?Jd(e,getComputedStyle(s.documentElement).backgroundColor):eo.TRANSPARENT,l=s.body?Jd(e,getComputedStyle(s.body).backgroundColor):eo.TRANSPARENT,d=typeof a=="string"?Jd(e,a):a===null?eo.TRANSPARENT:4294967295;return t===s.documentElement?nl(o)?nl(l)?d:l:o:d};const MT=Object.freeze(Object.defineProperty({__proto__:null,default:DT},Symbol.toStringTag,{value:"Module"})),lC=async(e,t="en")=>{var a;try{if(!(e!=null&&e.patient))throw new Error("Invalid request data");const s={en:{labName:"SIL Laboratory",labAddress:"123 Health Street, Casablanca, Morocco",labPhone:"Phone: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"COMPLETE BLOOD COUNT (CBC)",patientInfo:"PATIENT INFORMATION",doctorInfo:"PRESCRIBING DOCTOR",requestInfo:"REQUEST DETAILS",analysisName:"Test",result:"Result",unit:"Unit",reference:"Ref. Range",status:"Status",notes:"Notes",normal:"Normal",abnormal:"Abnormal",pending:"Pending",validated:"Validated",reportDate:"Report Date",interpretation:"Interpretation",validatedBy:"Validated by",signature:"Signature",disclaimer:"This report is generated automatically by SIL Laboratory System and is intended for medical professionals.",noResults:"No results available"},fr:{labName:"Laboratoire SIL",labAddress:"123 Rue de la Santé, Casablanca, Maroc",labPhone:"Tél: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"NUMÉRATION FORMULE SANGUINE (NFS)",patientInfo:"INFORMATIONS PATIENT",doctorInfo:"MÉDECIN PRESCRIPTEUR",requestInfo:"DÉTAILS DEMANDE",analysisName:"Analyse",result:"Résultat",unit:"Unité",reference:"Valeurs de réf.",status:"Statut",notes:"Notes",normal:"Normal",abnormal:"Anormal",pending:"En attente",validated:"Validé",reportDate:"Date du rapport",interpretation:"Interprétation",validatedBy:"Validé par",signature:"Signature",disclaimer:"Ce rapport est généré automatiquement par le système SIL et destiné aux professionnels de santé.",noResults:"Aucun résultat disponible"}}[t],o=C=>new Date(C).toLocaleDateString(t==="fr"?"fr-FR":"en-US"),l=C=>{switch(C){case"VALIDATED":return s.validated;case"PENDING":return s.pending;default:return C}},d=new Mt("p","mm","a4"),g=d.internal.pageSize.getWidth(),f=14;let m=f;d.setFont("helvetica","bold"),d.setFontSize(20),d.text(s.labName,g/2,m,{align:"center"}),m+=7,d.setFontSize(10),d.setFont("helvetica","normal"),d.text(s.labAddress,g/2,m,{align:"center"}),m+=5,d.text(s.labPhone,g/2,m,{align:"center"}),m+=5,d.text(s.labEmail,g/2,m,{align:"center"}),m+=8,d.setDrawColor(0),d.setLineWidth(.5),d.line(f,m,g-f,m),m+=6,d.setFont("helvetica","bold"),d.setFontSize(14),d.text(s.reportTitle,g/2,m,{align:"center"}),m+=8,d.line(f,m,g-f,m),m+=6,d.setFont("helvetica","bold"),d.text(s.patientInfo,f,m),m+=5,d.setFont("helvetica","normal"),d.setFontSize(10),d.text(`${e.patient.firstName} ${e.patient.lastName}`,f,m),d.text(`${s.reportDate}: ${o(new Date().toISOString())}`,g-f,m,{align:"right"}),m+=5,d.text(`${s.analysisName}: CBC`,f,m),d.text(`${s.patientInfo}: ${e.patient.gender}`,g-f,m,{align:"right"}),m+=8;const v=(a=e.results)==null?void 0:a.reduce((C,k)=>{const U=k.analysis.category||"Other";return C[U]||(C[U]=[]),C[U].push(k),C},{});v?Object.entries(v).forEach(([C,k])=>{d.setFont("helvetica","bold"),d.setFillColor(240,240,240),d.rect(f,m-4,g-f*2,6,"F"),d.text(C,f+2,m),m+=6,d.setFontSize(9),d.setFont("helvetica","bold"),[{text:s.analysisName,x:f},{text:s.result,x:f+70},{text:s.unit,x:f+100},{text:s.reference,x:f+120},{text:s.status,x:f+160}].forEach(F=>d.text(F.text,F.x,m)),m+=4,d.setFont("helvetica","normal"),k.forEach(F=>{m>270&&(d.addPage(),m=f),F.status.toUpperCase()==="ABNORMAL"?d.setTextColor(200,0,0):d.setTextColor(0,0,0),d.text(F.analysis.name,f,m),d.text(F.value||"-",f+70,m),d.text(F.unit||"-",f+100,m),d.text(F.reference||"-",f+120,m),d.text(l(F.status),f+160,m),m+=4}),d.setTextColor(0,0,0),m+=3}):(d.setFontSize(10),d.text(s.noResults,f,m),m+=5),m+=5,d.setFont("helvetica","bold"),d.text(s.interpretation,f,m),m+=5,d.setFont("helvetica","normal"),d.setFontSize(9),d.text("All parameters within normal limits unless indicated in red. Please consult a physician for further interpretation.",f,m,{maxWidth:g-f*2}),m+=10,d.setFontSize(8),d.setFont("helvetica","italic"),d.text(s.disclaimer,g/2,285,{align:"center"});const N=`CBC_Report_${e.patient.firstName}_${e.patient.lastName}.pdf`;return d.save(N),N}catch(s){throw console.error(s),s}};function HT({request:e,onClose:t}){var N;const{language:a}=qt(),[s,o]=X.useState(!1),l={fr:{labName:"Laboratoire SIL",labAddress:"123 Rue de la Santé, Casablanca, Maroc",labPhone:"Tél: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"RAPPORT D'ANALYSES MÉDICALES",patientInfo:"INFORMATIONS PATIENT",doctorInfo:"MÉDECIN PRESCRIPTEUR",requestInfo:"INFORMATIONS DEMANDE",analysisResults:"RÉSULTATS D'ANALYSES",patientName:"Nom du patient",patientId:"ID Patient",dateOfBirth:"Date de naissance",gender:"Sexe",cnssNumber:"Numéro CNSS",doctorName:"Nom du médecin",specialty:"Spécialité",requestId:"ID Demande",requestDate:"Date de demande",analysisName:"Analyse",result:"Résultat",unit:"Unité",reference:"Valeurs de référence",status:"Statut",notes:"Notes",normal:"Normal",abnormal:"Anormal",pending:"En attente",validated:"Validé",completed:"Terminé",reportDate:"Date du rapport",validatedBy:"Validé par",signature:"Signature",disclaimer:"Ce rapport est généré automatiquement par le système SIL. Pour toute question, veuillez contacter le laboratoire.",print:"Imprimer",close:"Fermer"},en:{labName:"SIL Laboratory",labAddress:"123 Health Street, Casablanca, Morocco",labPhone:"Phone: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"MEDICAL ANALYSIS REPORT",patientInfo:"PATIENT INFORMATION",doctorInfo:"PRESCRIBING DOCTOR",requestInfo:"REQUEST INFORMATION",analysisResults:"ANALYSIS RESULTS",patientName:"Patient Name",patientId:"Patient ID",dateOfBirth:"Date of Birth",gender:"Gender",cnssNumber:"CNSS Number",doctorName:"Doctor Name",specialty:"Specialty",requestId:"Request ID",requestDate:"Request Date",analysisName:"Analysis",result:"Result",unit:"Unit",reference:"Reference Values",status:"Status",notes:"Notes",normal:"Normal",abnormal:"Abnormal",pending:"Pending",validated:"Validated",completed:"Completed",reportDate:"Report Date",validatedBy:"Validated by",signature:"Signature",disclaimer:"This report is automatically generated by the SIL system. For any questions, please contact the laboratory.",print:"Print",close:"Close"}}[a],d=C=>{switch(C){case"VALIDATED":return l.validated;case"COMPLETED":return l.completed;case"PENDING":return l.pending;default:return C}},g=C=>{switch(C){case"VALIDATED":return"text-green-600";case"COMPLETED":return"text-blue-600";case"PENDING":return"text-yellow-600";default:return"text-gray-600"}},f=C=>new Date(C).toLocaleDateString(a==="fr"?"fr-FR":"en-US"),m=()=>{window.print()},v=async()=>{try{o(!0),await lC(e,a)}catch(C){console.error("Error generating PDF:",C),alert(a==="fr"?"Erreur lors de la génération du PDF":"Error generating PDF")}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 print-container",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto print-container",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center no-print",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l.reportTitle}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:v,disabled:s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:a==="fr"?"Génération...":"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("span",{children:a==="fr"?"Générer PDF":"Generate PDF"})]})}),r.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:l.print}),r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:l.close})]})]}),r.jsxs("div",{id:"result-report-content",className:"p-6 print:p-0",children:[r.jsxs("div",{className:"text-center mb-8 print:mb-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.labName}),r.jsx("p",{className:"text-gray-600",children:l.labAddress}),r.jsx("p",{className:"text-gray-600",children:l.labPhone}),r.jsx("p",{className:"text-gray-600",children:l.labEmail})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 print:mb-4",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:l.patientInfo}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.patientName,":"]}),r.jsxs("span",{className:"ml-2",children:[e.patient.firstName," ",e.patient.lastName]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.patientId,":"]}),r.jsx("span",{className:"ml-2",children:e.patient.id})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.dateOfBirth,":"]}),r.jsx("span",{className:"ml-2",children:f(e.patient.dateOfBirth)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.gender,":"]}),r.jsx("span",{className:"ml-2",children:e.patient.gender})]}),e.patient.cnssNumber&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.cnssNumber,":"]}),r.jsx("span",{className:"ml-2",children:e.patient.cnssNumber})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:l.doctorInfo}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.doctorName,":"]}),r.jsx("span",{className:"ml-2",children:e.doctor?`Dr. ${e.doctor.firstName} ${e.doctor.lastName}`:"N/A"})]}),((N=e.doctor)==null?void 0:N.specialty)&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.specialty,":"]}),r.jsx("span",{className:"ml-2",children:e.doctor.specialty})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-8 print:mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:l.requestInfo}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.requestId,":"]}),r.jsx("span",{className:"ml-2 font-mono",children:e.id})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.requestDate,":"]}),r.jsx("span",{className:"ml-2",children:f(e.createdAt)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.reportDate,":"]}),r.jsx("span",{className:"ml-2",children:f(new Date().toISOString())})]})]})]}),r.jsxs("div",{className:"mb-8 print:mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:l.analysisResults}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full border border-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.analysisName}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.result}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.unit}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.reference}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.status}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.notes})]})}),r.jsx("tbody",{children:e.results&&e.results.length>0?e.results.map(C=>r.jsxs("tr",{children:[r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:C.analysis.name}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm font-medium",children:C.value||"-"}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:C.unit||"-"}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:C.reference||"-"}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:r.jsx("span",{className:g(C.status),children:d(C.status)})}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:C.notes||"-"})]},C.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"border border-gray-200 px-4 py-4 text-center text-gray-500",children:a==="fr"?"Aucun résultat disponible":"No results available"})})})]})})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6 print:pt-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[l.validatedBy,":"]}),r.jsx("div",{className:"border-t-2 border-gray-400 w-32 pt-2",children:r.jsx("p",{className:"text-sm font-medium",children:"Dr. Biologist"})})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[l.signature,":"]}),r.jsx("div",{className:"border-t-2 border-gray-400 w-32 ml-auto pt-2",children:r.jsx("p",{className:"text-sm font-medium",children:"Lab Director"})})]})]}),r.jsx("div",{className:"mt-6 print:mt-4 text-center",children:r.jsx("p",{className:"text-xs text-gray-500",children:l.disclaimer})})]})]})]})})}function OT(){const{language:e}=qt(),t=cc(),[a,s]=X.useState([]),[o,l]=X.useState([]),[d,g]=X.useState(null),[f,m]=X.useState(!1),[v,N]=X.useState(null),[C,k]=X.useState(!1),[U,F]=X.useState(null),[O,L]=X.useState(!1),I=new URLSearchParams(t.search),T=I.get("patientId"),q=I.get("requestId"),[M,re]=X.useState({patientName:"",patientId:T||"",cnssNumber:"",requestId:q||"",status:"",analysisCode:""}),G={fr:{title:"Livraison des Résultats",subtitle:"Panel de réception pour la récupération des résultats",searchPlaceholder:"Nom, ID, CNSS ou référence",search:"Rechercher",patient:"Patient",request:"Demande",doctor:"Médecin",date:"Date d'analyse",status:"Statut",actions:"Actions",notFound:"Aucun résultat trouvé",error:"Erreur lors de la récupération",noResults:"Aucun résultat trouvé",generateReport:"Générer Rapport",print:"Imprimer",download:"Télécharger",view:"Voir",markDelivered:"Marquer comme Livré",delivered:"Livré",inProgress:"En cours",completed:"Terminé",validated:"Validé",pending:"En attente",rejected:"Rejeté",allStatuses:"Tous les statuts",clearFilters:"Effacer les filtres",refresh:"Actualiser",patientName:"Nom du patient",patientId:"ID Patient",cnssNumber:"Numéro CNSS",requestId:"ID Demande",analysisCode:"Code Analyse",test:"Test",value:"Valeur",reference:"Référence",printTest:"Imprimer Test",printIndividualTest:"Imprimer Test Individuel",notReady:"Pas encore prêt pour l'impression",loading:"Chargement...",requestsFound:"demandes trouvées",resultsFound:"résultats trouvés"},en:{title:"Result Delivery",subtitle:"Reception panel for result retrieval",searchPlaceholder:"Name, ID, CNSS or reference",search:"Search",patient:"Patient",request:"Request",doctor:"Doctor",date:"Analysis Date",status:"Status",actions:"Actions",notFound:"No results found",error:"Error fetching data",noResults:"No results found",generateReport:"Generate Report",print:"Print",download:"Download",view:"View",markDelivered:"Mark as Delivered",delivered:"Delivered",inProgress:"In Progress",completed:"Completed",validated:"Validated",pending:"Pending",rejected:"Rejected",allStatuses:"All Statuses",clearFilters:"Clear Filters",refresh:"Refresh",patientName:"Patient Name",patientId:"Patient ID",cnssNumber:"CNSS Number",requestId:"Request ID",analysisCode:"Analysis Code",test:"Test",value:"Value",reference:"Reference",printTest:"Print Test",printIndividualTest:"Print Individual Test",notReady:"Not ready for printing",loading:"Loading...",requestsFound:"requests found",resultsFound:"results found"}}[e];X.useEffect(()=>{V()},[]),X.useEffect(()=>{ue()},[a,M]),X.useEffect(()=>{const Y={};T&&(Y.patientId=T),q&&(Y.requestId=q),Object.keys(Y).length>0&&re(we=>({...we,...Y}))},[T,q]);const V=async()=>{k(!0),F(null);try{const Y={limit:100,include:"request,analysis"};T&&(Y.patient=T,console.log("Filtering results by patient ID:",T)),q&&(Y.request=q,console.log("Filtering results by request ID:",q));const we=await Wd.getResults(Y);if(s(we.results||[]),T&&we.results&&we.results.length>0){const fe=we.results[0].request.patient;document.title=`${fe.firstName} ${fe.lastName} - ${G.title}`}}catch(Y){console.error("Error loading results:",Y),F(G.error)}finally{k(!1)}},ue=()=>{let Y=a;M.patientName&&(Y=Y.filter(we=>we.request.patient.firstName.toLowerCase().includes(M.patientName.toLowerCase())||we.request.patient.lastName.toLowerCase().includes(M.patientName.toLowerCase()))),M.patientId&&(Y=Y.filter(we=>we.request.patientId&&we.request.patientId===M.patientId?!0:we.request.id.includes(M.patientId))),M.cnssNumber&&(Y=Y.filter(we=>{var fe;return(fe=we.request.patient.cnssNumber)==null?void 0:fe.toLowerCase().includes(M.cnssNumber.toLowerCase())})),M.requestId&&(Y=Y.filter(we=>we.request.id.toLowerCase().includes(M.requestId.toLowerCase()))),M.analysisCode&&(Y=Y.filter(we=>we.analysis.code.toLowerCase().includes(M.analysisCode.toLowerCase())||we.analysis.name.toLowerCase().includes(M.analysisCode.toLowerCase()))),M.status&&M.status!=="all"&&(Y=Y.filter(we=>we.status===M.status)),l(Y)},ne=(Y,we)=>{re(fe=>({...fe,[Y]:we}))},$=()=>{re({patientName:"",patientId:T||"",cnssNumber:"",requestId:q||"",status:"",analysisCode:""})},J=Y=>{switch(Y){case"VALIDATED":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"COMPLETED":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";case"REJECTED":return"text-red-600 bg-red-100 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},oe=Y=>{switch(Y){case"VALIDATED":return G.validated;case"COMPLETED":return G.completed;case"PENDING":return G.pending;case"REJECTED":return G.rejected;default:return Y}},le=async Y=>{try{L(!0);const we=await nc.getRequest(Y.request.id),fe=await Wd.getResultsByRequest(Y.request.id),je={...we,results:fe||[]};console.log("Complete request for PDF:",je),await lC(je,e)}catch(we){console.error("Error generating PDF:",we),alert(e==="fr"?"Erreur lors de la génération du PDF":"Error generating PDF")}finally{L(!1)}},ie=async Y=>{try{const we=window.open("","_blank");we&&(we.document.write(`
          <html>
            <head>
              <title>${Y.analysis.name} - ${Y.request.patient.firstName} ${Y.request.patient.lastName}</title>
              <style>
                body { font-family: Arial, sans-serif; margin: 20px; }
                .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
                .info { margin-bottom: 20px; }
                .result { border: 2px solid #2563eb; padding: 20px; margin: 20px 0; border-radius: 8px; }
                .value { font-size: 24px; font-weight: bold; color: #2563eb; }
                .reference { color: #666; font-size: 16px; }
                .status { color: #059669; font-weight: bold; }
                @media print { body { margin: 0; } }
              </style>
            </head>
            <body>
              <div class="header">
                <h1>Résultat d'Analyse Médicale</h1>
                <h2>${Y.analysis.name} (${Y.analysis.code})</h2>
              </div>
              <div class="info">
                <p><strong>Patient:</strong> ${Y.request.patient.firstName} ${Y.request.patient.lastName}</p>
                <p><strong>Date de naissance:</strong> ${new Date(Y.request.patient.dateOfBirth).toLocaleDateString()}</p>
                <p><strong>Sexe:</strong> ${Y.request.patient.gender}</p>
                <p><strong>Date d'analyse:</strong> ${new Date(Y.request.createdAt).toLocaleDateString()}</p>
                <p><strong>Numéro de demande:</strong> ${Y.request.id}</p>
                ${Y.request.patient.cnssNumber?`<p><strong>CNSS:</strong> ${Y.request.patient.cnssNumber}</p>`:""}
              </div>
              <div class="result">
                <p><strong>Résultat:</strong> <span class="value">${Y.value||"N/A"} ${Y.unit||""}</span></p>
                <p><strong>Valeurs de référence:</strong> <span class="reference">${Y.reference||"N/A"}</span></p>
                <p><strong>Statut:</strong> <span class="status">${oe(Y.status)}</span></p>
                ${Y.notes?`<p><strong>Notes:</strong> ${Y.notes}</p>`:""}
              </div>
              <div style="margin-top: 40px; text-align: center;">
                <p><em>Ce rapport a été généré automatiquement par le système SIL Lab</em></p>
              </div>
            </body>
          </html>
        `),we.document.close(),we.print())}catch(we){console.error("Error printing individual test:",we),alert(e==="fr"?"Erreur lors de l'impression du test":"Error printing test")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:G.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:G.subtitle}),(T||q)&&o.length>0&&r.jsxs("div",{className:"mt-2 flex flex-col space-y-1",children:[T&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(As,{size:16,className:"mr-2 text-blue-600"}),r.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[o[0].request.patient.firstName," ",o[0].request.patient.lastName]})]}),q&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ea,{size:16,className:"mr-2 text-blue-600"}),r.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[e==="fr"?"Demande: ":"Request: "," ",q]})]}),r.jsxs("button",{onClick:()=>{window.location.href="/results"},className:"self-start text-xs text-gray-500 hover:text-gray-700 mt-1",children:["(",e==="fr"?"effacer les filtres":"clear filters",")"]})]})]}),r.jsxs("button",{onClick:V,disabled:C,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[r.jsx(an,{className:`h-4 w-4 ${C?"animate-spin":""}`}),r.jsx("span",{children:G.refresh})]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:e==="fr"?"Comment imprimer les résultats":"How to print results"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:e==="fr"?`1. Trouvez un résultat avec statut "Validé" 2. Cliquez sur l'icône imprimante pour imprimer le test individuel 3. Ou cliquez sur "Voir" puis "Générer PDF" pour le rapport complet`:'1. Find a result with "Validated" status 2. Click the printer icon to print individual test 3. Or click "View" then "Generate PDF" for complete report'})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",value:M.patientName,onChange:Y=>ne("patientName",Y.target.value),placeholder:G.patientName,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsx("div",{children:r.jsx("input",{type:"text",value:M.patientId,onChange:Y=>ne("patientId",Y.target.value),placeholder:G.patientId,disabled:!!T,className:`w-full px-4 py-2 border ${T?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700":"border-gray-300 dark:border-gray-600"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white`})}),r.jsx("div",{children:r.jsx("input",{type:"text",value:M.cnssNumber,onChange:Y=>ne("cnssNumber",Y.target.value),placeholder:G.cnssNumber,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),r.jsx("div",{children:r.jsx("input",{type:"text",value:M.requestId,onChange:Y=>ne("requestId",Y.target.value),placeholder:G.requestId,disabled:!!q,className:`w-full px-4 py-2 border ${q?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700":"border-gray-300 dark:border-gray-600"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white`})}),r.jsx("div",{children:r.jsx("input",{type:"text",value:M.analysisCode,onChange:Y=>ne("analysisCode",Y.target.value),placeholder:G.analysisCode,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),r.jsx("div",{children:r.jsxs("select",{value:M.status,onChange:Y=>ne("status",Y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:G.allStatuses}),r.jsx("option",{value:"PENDING",children:G.pending}),r.jsx("option",{value:"COMPLETED",children:G.completed}),r.jsx("option",{value:"VALIDATED",children:G.validated}),r.jsx("option",{value:"REJECTED",children:G.rejected})]})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{onClick:$,className:"px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-2",children:[r.jsx(UA,{size:16}),r.jsx("span",{children:G.clearFilters})]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o.length," ",G.resultsFound]})]})]}),U&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($i,{className:"text-red-600",size:20}),r.jsx("span",{className:"text-red-800 dark:text-red-200",children:U})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:G.patient}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:G.test}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:G.value}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:G.reference}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:G.date}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:G.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:G.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:C?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:G.loading})]})})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:T||q?r.jsxs("div",{children:[r.jsx("p",{children:G.notFound}),r.jsxs("p",{className:"mt-2 text-sm",children:[T&&(e==="fr"?"Aucun résultat trouvé pour ce patient.":"No results found for this patient."),q&&(e==="fr"?"Aucun résultat trouvé pour cette demande.":"No results found for this request.")]})]}):G.notFound})}):o.map(Y=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:r.jsx(As,{className:"h-5 w-5 text-blue-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[Y.request.patient.firstName," ",Y.request.patient.lastName]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:Y.request.patient.cnssNumber||"N/A"})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Y.analysis.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Y.analysis.code," - ",Y.analysis.category]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[Y.value||"-"," ",Y.unit]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:Y.reference||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(Y.request.createdAt).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(Y.status)}`,children:oe(Y.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>g(Y),className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:G.view,children:r.jsx(Ms,{size:16})}),Y.status==="VALIDATED"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>ie(Y),className:"text-purple-600 hover:text-purple-900 dark:hover:text-purple-400",title:G.printIndividualTest,children:r.jsx(ql,{size:16})}),r.jsx("button",{onClick:()=>le(Y),disabled:O,className:"text-green-600 hover:text-green-900 dark:hover:text-green-400 disabled:opacity-50 disabled:cursor-not-allowed",title:e==="fr"?"Générer PDF":"Generate PDF",children:O?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})]})})]},Y.id))})]})})}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[d.analysis.name," - ",d.request.patient.firstName," ",d.request.patient.lastName]}),r.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx($i,{size:20})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:G.patient}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.request.patient.firstName," ",d.request.patient.lastName]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["CNSS: ",d.request.patient.cnssNumber||"N/A"]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:G.status}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(d.status)}`,children:oe(d.status)})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:G.test}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.analysis.name," (",d.analysis.code,")"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:d.analysis.category})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:G.value}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.value||"-"," ",d.unit]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Référence: ",d.reference||"-"]})]})]}),r.jsx("div",{className:"flex justify-end space-x-3",children:d.status==="VALIDATED"?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>ie(d),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center space-x-2",children:[r.jsx(ql,{size:16}),r.jsx("span",{children:G.printIndividualTest})]}),r.jsx("button",{onClick:()=>le(d),disabled:O,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:O?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:e==="fr"?"Génération...":"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("span",{children:e==="fr"?"Générer PDF":"Generate PDF"})]})})]}):r.jsxs("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 flex items-center space-x-2",children:[r.jsx(ms,{size:16}),r.jsx("span",{children:G.notReady})]})})]})]})}),f&&v&&r.jsx(HT,{request:v,onClose:()=>{m(!1),N(null)}})]})}function _T(){const{language:e}=qt(),[t,a]=X.useState([]),[s,o]=X.useState(!1),[l,d]=X.useState(null),[g,f]=X.useState(null),[m,v]=X.useState(!1),[N,C]=X.useState(null),[k,U]=X.useState(""),F={fr:{title:"Validation des Résultats",subtitle:"Panel de validation pour les biologistes",searchPlaceholder:"Nom du patient, code analyse...",patient:"Patient",analysis:"Analyse",value:"Valeur",reference:"Référence",status:"Statut",actions:"Actions",pending:"En attente",validated:"Validé",rejected:"Rejeté",validate:"Valider",reject:"Rejeter",view:"Voir",refresh:"Actualiser",notFound:"Aucun résultat trouvé",error:"Erreur lors de la récupération",loading:"Chargement...",confirmValidation:"Confirmer la validation",confirmRejection:"Confirmer le rejet",validationNotes:"Notes de validation",cancel:"Annuler",confirm:"Confirmer",validationSuccess:"Résultat validé avec succès",rejectionSuccess:"Résultat rejeté avec succès",validationError:"Erreur lors de la validation",rejectionError:"Erreur lors du rejet",close:"Fermer",doctor:"Médecin",specialty:"Spécialité",notes:"Notes"},en:{title:"Result Validation",subtitle:"Biologist validation panel",searchPlaceholder:"Patient name, analysis code...",patient:"Patient",analysis:"Analysis",value:"Value",reference:"Reference",status:"Status",actions:"Actions",pending:"Pending",validated:"Validated",rejected:"Rejected",validate:"Validate",reject:"Reject",view:"View",refresh:"Refresh",notFound:"No results found",error:"Error fetching data",loading:"Loading...",confirmValidation:"Confirm validation",confirmRejection:"Confirm rejection",validationNotes:"Validation notes",cancel:"Cancel",confirm:"Confirm",validationSuccess:"Result validated successfully",rejectionSuccess:"Result rejected successfully",validationError:"Error during validation",rejectionError:"Error during rejection",close:"Close",doctor:"Doctor",specialty:"Specialty",notes:"Notes"}}[e];X.useEffect(()=>{O()},[]);const O=async()=>{try{o(!0),d(null);const G=await Wd.getResults({limit:100,include:"request,analysis",status:"PENDING"});a(G.results||[])}catch(G){console.error("Error loading results:",G),d(F.error)}finally{o(!1)}},L=G=>{switch(G){case"VALIDATED":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"REJECTED":return"text-red-600 bg-red-100 dark:bg-red-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},I=G=>{switch(G){case"VALIDATED":return F.validated;case"REJECTED":return F.rejected;case"PENDING":return F.pending;default:return G}},T=async G=>{try{C(G.id),await Wd.validateResult(G.id,"biologist-user"),a(V=>V.map(ue=>ue.id===G.id?{...ue,status:"VALIDATED"}:ue)),(g==null?void 0:g.id)===G.id&&(v(!1),f(null)),alert(F.validationSuccess)}catch(V){console.error("Error validating result:",V),alert(F.validationError)}finally{C(null)}},q=async G=>{try{C(G.id),await Wd.updateResult(G.id,{status:"REJECTED"}),a(V=>V.map(ue=>ue.id===G.id?{...ue,status:"REJECTED"}:ue)),(g==null?void 0:g.id)===G.id&&(v(!1),f(null)),alert(F.rejectionSuccess)}catch(V){console.error("Error rejecting result:",V),alert(F.rejectionError)}finally{C(null)}},M=t.filter(G=>{if(!k)return!0;const V=k.toLowerCase();return G.request.patient.firstName.toLowerCase().includes(V)||G.request.patient.lastName.toLowerCase().includes(V)||G.analysis.code.toLowerCase().includes(V)||G.analysis.name.toLowerCase().includes(V)}),re=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[g==null?void 0:g.analysis.name," - ",g==null?void 0:g.request.patient.firstName," ",g==null?void 0:g.request.patient.lastName]}),r.jsx("button",{onClick:()=>{v(!1),f(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:20})})]}),g&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:F.patient}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.request.patient.firstName," ",g.request.patient.lastName]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.request.patient.gender,", ",new Date(g.request.patient.dateOfBirth).toLocaleDateString()]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:F.analysis}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.analysis.name," (",g.analysis.code,")"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.analysis.category})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:F.value}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.value||"-"," ",g.unit]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:F.reference}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.reference||"-"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:F.status}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L(g.status)}`,children:I(g.status)})]}),g.request.doctor&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:F.doctor}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.request.doctor.firstName," ",g.request.doctor.lastName]}),g.request.doctor.specialty&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.request.doctor.specialty})]}),g.notes&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:F.notes}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.notes})]})]}),g&&g.status==="PENDING"&&r.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>q(g),disabled:N===g.id,className:"px-4 py-2 text-red-600 bg-red-100 rounded-lg hover:bg-red-200 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 disabled:opacity-50",children:N===g.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):F.reject}),r.jsx("button",{onClick:()=>T(g),disabled:N===g.id,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:N===g.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):F.validate})]})]})})});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:F.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:F.subtitle})]}),r.jsxs("button",{onClick:O,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[r.jsx(an,{className:`h-4 w-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:F.refresh})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:F.searchPlaceholder,value:k,onChange:G=>U(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:F.patient}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:F.analysis}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:F.value}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:F.reference}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:F.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:F.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:F.loading})]})})}):M.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:F.notFound})}):M.map(G=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[G.request.patient.firstName," ",G.request.patient.lastName]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[G.request.patient.gender,", ",new Date(G.request.patient.dateOfBirth).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:G.analysis.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[G.analysis.code," - ",G.analysis.category]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[G.value||"-"," ",G.unit]}),r.jsx(Pr,{size:16,className:"text-green-500"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:G.reference||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L(G.status)}`,children:I(G.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[G.status==="PENDING"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>T(G),disabled:N===G.id,className:"text-green-600 hover:text-green-900 dark:hover:text-green-400 disabled:opacity-50",title:F.validate,children:N===G.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):r.jsx(J3,{size:16})}),r.jsx("button",{onClick:()=>q(G),disabled:N===G.id,className:"text-red-600 hover:text-red-900 dark:hover:text-red-400 disabled:opacity-50",title:F.reject,children:N===G.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):r.jsx(er,{size:16})})]}),r.jsx("button",{onClick:()=>{f(G),v(!0)},className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:F.view,children:r.jsx(Ms,{size:16})})]})})]},G.id))})]})}),m&&r.jsx(re,{})]})}function zT(){const{language:e}=qt(),[t,a]=X.useState(!1),[s,o]=X.useState(!1),[l,d]=X.useState(null),g={fr:{title:"Module de Facturation",newInvoice:"Nouvelle Facture",invoice:"Facture",patient:"Patient",amount:"Montant",status:"Statut",payer:"Payeur",date:"Date",actions:"Actions",export:"Exporter",close:"Fermer",save:"Enregistrer",cancel:"Annuler",send:"Envoyer"},en:{title:"Billing Module",newInvoice:"New Invoice",invoice:"Invoice",patient:"Patient",amount:"Amount",status:"Status",payer:"Payer",date:"Date",actions:"Actions",export:"Export",close:"Close",save:"Save",cancel:"Cancel",send:"Send"}}[e],[f]=X.useState([{id:"FAC001",patientName:"Dupont, Marie",amount:125.5,status:"paid",payer:"CPAM",date:"2024-01-15"},{id:"FAC002",patientName:"Martin, Pierre",amount:89.2,status:"sent",payer:"MGEN",date:"2024-01-14"}]),m=F=>({pending:"bg-yellow-100 text-yellow-800",sent:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[F]||"bg-gray-100 text-gray-800",v=F=>{d(F),o(!0)},N=F=>{console.log("Sending invoice:",F.id)},C=()=>{console.log("Exporting invoices...")},k=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g.newInvoice}),r.jsx("button",{onClick:()=>a(!1),children:r.jsx(er,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Nom du patient",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"number",placeholder:"Montant",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{children:"Sélectionner payeur"}),r.jsx("option",{children:"CPAM"}),r.jsx("option",{children:"MGEN"}),r.jsx("option",{children:"Harmonie"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:g.cancel}),r.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:g.save})]})]})}),U=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Détails de la facture"}),r.jsx("button",{onClick:()=>o(!1),children:r.jsx(er,{size:20,className:"text-gray-500"})})]}),l&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",l.id]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Patient:"})," ",l.patientName]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Montant:"})," dh",l.amount]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Statut:"})," ",l.status]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Payeur:"})," ",l.payer]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Date:"})," ",l.date]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:g.close})})]})});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:g.title}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:C,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Bi,{size:20,className:"mr-2"}),g.export]}),r.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:20,className:"mr-2"}),g.newInvoice]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:g.invoice}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:g.patient}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:g.amount}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:g.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:g.payer}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:g.date}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:g.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:f.map(F=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:F.id}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:F.patientName}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["dh",F.amount]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(F.status)}`,children:F.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:F.payer}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:F.date}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("button",{onClick:()=>v(F),className:"text-blue-600 hover:text-blue-900 mr-3",children:r.jsx(Ms,{size:16})}),r.jsx("button",{onClick:()=>N(F),className:"text-green-600 hover:text-green-900",children:r.jsx(u6,{size:16})})]})]},F.id))})]})}),t&&r.jsx(k,{}),s&&r.jsx(U,{})]})}function VT(){const{language:e}=qt(),[t,a]=X.useState({labName:"Laboratoire Central",address:"123 Rue de la Santé, 75014 Paris",phone:"01.42.34.56.78",email:"contact@lab.fr",autoprint:!0,defaultPrinter:"HP LaserJet Pro",smsNotifications:!0,emailNotifications:!0}),[s,o]=X.useState([{code:"4005",nom:"Hémogramme (CBC)",category:"Hématologie",price:45,tva:20},{code:"4010",nom:"Glycémie (Blood Sugar)",category:"Biochimie",price:25,tva:20},{code:"4015",nom:"Cholestérol Total",category:"Lipides",price:30,tva:20},{code:"4020",nom:"HDL Cholestérol",category:"Lipides",price:35,tva:20},{code:"4025",nom:"LDL Cholestérol",category:"Lipides",price:35,tva:20},{code:"4030",nom:"Triglycérides",category:"Lipides",price:30,tva:20},{code:"4035",nom:"Créatininémie",category:"Biochimie",price:28,tva:20},{code:"4040",nom:"Urée",category:"Biochimie",price:25,tva:20},{code:"4045",nom:"Bilan hépatique",category:"Biochimie",price:55,tva:20},{code:"4050",nom:"TSH",category:"Hormonologie",price:40,tva:20},{code:"4055",nom:"T4 Libre",category:"Hormonologie",price:45,tva:20},{code:"4060",nom:"T3 Libre",category:"Hormonologie",price:45,tva:20},{code:"4070",nom:"Groupe Sanguin",category:"Immunologie",price:35,tva:20},{code:"4075",nom:"CRP",category:"Inflammation",price:32,tva:20},{code:"4080",nom:"VS",category:"Inflammation",price:20,tva:20}]),l={fr:{title:"Centre de Configuration",labSettings:"Paramètres du Laboratoire",labName:"Nom du Laboratoire",address:"Adresse",phone:"Téléphone",email:"Email",printSettings:"Paramètres d'Impression",autoprint:"Impression automatique",defaultPrinter:"Imprimante par défaut",notifications:"Notifications",smsNotifications:"Notifications SMS",emailNotifications:"Notifications Email",pricing:"Tarification des Analyses",analysisCode:"Code",analysisName:"Nom de l'Analyse",category:"Catégorie",price:"Prix HT",tva:"TVA (%)",totalPrice:"Prix TTC",save:"Enregistrer",savePrices:"Enregistrer les Prix"},en:{title:"Configuration Center",labSettings:"Laboratory Settings",labName:"Laboratory Name",address:"Address",phone:"Phone",email:"Email",printSettings:"Print Settings",autoprint:"Auto-print",defaultPrinter:"Default Printer",notifications:"Notifications",smsNotifications:"SMS Notifications",emailNotifications:"Email Notifications",pricing:"Analysis Pricing",analysisCode:"Code",analysisName:"Analysis Name",category:"Category",price:"Price (excl. tax)",tva:"VAT (%)",totalPrice:"Total Price",save:"Save",savePrices:"Save Prices"}}[e],d=(v,N)=>{a(C=>({...C,[v]:N}))},g=(v,N,C)=>{o(k=>k.map(U=>U.code===v?{...U,[N]:C}:U))},f=()=>{console.log("Saving configuration:",t),localStorage.setItem("sil_lab_config",JSON.stringify(t)),localStorage.setItem("sil_lab_prices",JSON.stringify(s)),alert("Configuration sauvegardée avec succès!")},m=(v,N)=>v*(1+N/100);return r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:l.title}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx($n,{className:"h-6 w-6 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.labSettings})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.labName}),r.jsx("input",{type:"text",value:t.labName,onChange:v=>d("labName",v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.address}),r.jsx("input",{type:"text",value:t.address,onChange:v=>d("address",v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.phone}),r.jsx("input",{type:"text",value:t.phone,onChange:v=>d("phone",v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.email}),r.jsx("input",{type:"email",value:t.email,onChange:v=>d("email",v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ql,{className:"h-6 w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.printSettings})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.autoprint,onChange:v=>d("autoprint",v.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:l.autoprint})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.defaultPrinter}),r.jsx("input",{type:"text",value:t.defaultPrinter,onChange:v=>d("defaultPrinter",v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(bs,{className:"h-6 w-6 text-purple-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.notifications})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.smsNotifications,onChange:v=>d("smsNotifications",v.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:l.smsNotifications})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.emailNotifications,onChange:v=>d("emailNotifications",v.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:l.emailNotifications})]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("button",{onClick:f,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[r.jsx(cs,{size:20,className:"mr-2"}),l.save]})})]}),r.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(In,{className:"h-6 w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l.pricing})]}),r.jsxs("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(cs,{size:16,className:"mr-2"}),l.savePrices]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:l.analysisCode}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:l.analysisName}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:l.category}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:l.price}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:l.tva}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:l.totalPrice})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(v=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:v.code}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:v.nom}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:v.category}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",min:"0",value:v.price,onChange:N=>g(v.code,"price",parseFloat(N.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:v.tva,onChange:N=>g(v.code,"tva",parseFloat(N.target.value)||0),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400",children:[m(v.price,v.tva).toFixed(2)," dh"]})]},v.code))})]})})]})]})}function GT(){const{language:e}=qt(),[t,a]=X.useState([]),[s,o]=X.useState({symbol:"dh",code:"MAD",position:"after",decimalPlaces:2}),[l,d]=X.useState(""),[g,f]=X.useState("all"),[m,v]=X.useState(!1),[N,C]=X.useState(null),[k,U]=X.useState(!0),F={fr:{title:"Gestion des Prix",subtitle:"Configuration des tarifs des analyses",currency:"Devise",currencySymbol:"Symbole de devise",currencyCode:"Code devise",currencyPosition:"Position du symbole",decimalPlaces:"Décimales",before:"Avant",after:"Après",search:"Rechercher...",filter:"Filtrer par catégorie",allCategories:"Toutes les catégories",addPrice:"Ajouter un prix",editPrice:"Modifier le prix",code:"Code",name:"Nom",category:"Catégorie",price:"Prix HT",tva:"TVA (%)",cost:"Coût",profit:"Marge",totalPrice:"Prix TTC",lastUpdated:"Dernière mise à jour",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",saveAll:"Enregistrer tout",priceHistory:"Historique des prix",profitAnalysis:"Analyse des marges",totalRevenue:"Revenu total",averagePrice:"Prix moyen",totalAnalyses:"Total analyses",priceChanges:"Changements de prix",success:"Prix enregistré avec succès",error:"Erreur lors de l'enregistrement",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce prix ?"},en:{title:"Price Management",subtitle:"Analysis pricing configuration",currency:"Currency",currencySymbol:"Currency symbol",currencyCode:"Currency code",currencyPosition:"Symbol position",decimalPlaces:"Decimal places",before:"Before",after:"After",search:"Search...",filter:"Filter by category",allCategories:"All categories",addPrice:"Add price",editPrice:"Edit price",code:"Code",name:"Name",category:"Category",price:"Price (excl. tax)",tva:"VAT (%)",cost:"Cost",profit:"Profit",totalPrice:"Total price",lastUpdated:"Last updated",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",saveAll:"Save all",priceHistory:"Price history",profitAnalysis:"Profit analysis",totalRevenue:"Total revenue",averagePrice:"Average price",totalAnalyses:"Total analyses",priceChanges:"Price changes",success:"Price saved successfully",error:"Error saving price",confirmDelete:"Are you sure you want to delete this price?"}}[e];X.useEffect(()=>{O()},[]);const O=async()=>{try{const Y=await Hl.getPrices();a(Y.length>0?Y:L());const we=await Hl.getCurrencySettings();we&&o(we),U(!1)}catch(Y){console.error("Error loading data:",Y),a(L()),U(!1)}},L=()=>[{code:"4005",nom:"Hémogramme (CBC)",category:"Hématologie",price:45,tva:20,cost:15,profit:30},{code:"4010",nom:"Glycémie (Blood Sugar)",category:"Biochimie",price:25,tva:20,cost:8,profit:17},{code:"4015",nom:"Cholestérol Total",category:"Lipides",price:30,tva:20,cost:10,profit:20},{code:"4020",nom:"HDL Cholestérol",category:"Lipides",price:35,tva:20,cost:12,profit:23},{code:"4025",nom:"LDL Cholestérol",category:"Lipides",price:35,tva:20,cost:12,profit:23},{code:"4030",nom:"Triglycérides",category:"Lipides",price:30,tva:20,cost:10,profit:20},{code:"4035",nom:"Créatininémie",category:"Biochimie",price:28,tva:20,cost:9,profit:19},{code:"4040",nom:"Urée",category:"Biochimie",price:25,tva:20,cost:8,profit:17},{code:"4045",nom:"Bilan hépatique",category:"Biochimie",price:55,tva:20,cost:18,profit:37},{code:"4050",nom:"TSH",category:"Hormonologie",price:40,tva:20,cost:13,profit:27},{code:"4055",nom:"T4 Libre",category:"Hormonologie",price:45,tva:20,cost:15,profit:30},{code:"4060",nom:"T3 Libre",category:"Hormonologie",price:45,tva:20,cost:15,profit:30},{code:"4070",nom:"Groupe Sanguin",category:"Immunologie",price:35,tva:20,cost:11,profit:24},{code:"4075",nom:"CRP",category:"Inflammation",price:32,tva:20,cost:10,profit:22},{code:"4080",nom:"VS",category:"Inflammation",price:20,tva:20,cost:6,profit:14}],I=["Hématologie","Biochimie","Lipides","Hormonologie","Immunologie","Inflammation"],T=t.filter(Y=>{const we=Y.nom.toLowerCase().includes(l.toLowerCase())||Y.code.includes(l),fe=g==="all"||Y.category===g;return we&&fe}),q=(Y,we)=>Y*(1+we/100),M=(Y,we=0)=>Y-we,re=Y=>{const we=Y.toFixed(s.decimalPlaces);return s.position==="before"?`${s.symbol}${we}`:`${we}${s.symbol}`},G=(Y,we,fe)=>{a(je=>je.map(Pe=>{if(Pe.code===Y){const Ve={...Pe,[we]:fe};return(we==="price"||we==="cost")&&(Ve.profit=M(Ve.price,Ve.cost)),Ve}return Pe}))},V=()=>{try{Hl.savePrices(t),Hl.saveCurrencySettings(s),alert(F.success)}catch(Y){console.error("Save error:",Y),alert(F.error)}},ue=Y=>{window.confirm(F.confirmDelete)&&a(we=>we.filter(fe=>fe.code!==Y))},ne=()=>{const Y={code:"",nom:"",category:"Biochimie",price:0,tva:20,cost:0,profit:0,lastUpdated:new Date().toISOString()};C(Y),v(!0)},$=()=>{if(N&&N.code&&N.nom){const Y={...N,profit:M(N.price,N.cost),lastUpdated:new Date().toISOString()};a(we=>[...we,Y]),C(null),v(!1)}},J=t.reduce((Y,we)=>Y+we.price,0),oe=J/t.length,le=t.reduce((Y,we)=>Y+(we.profit||0),0),ie=J>0?le/J*100:0;return k?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:F.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:F.subtitle})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:F.currency}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.currencySymbol}),r.jsx("input",{type:"text",value:s.symbol,onChange:Y=>o(we=>({...we,symbol:Y.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",maxLength:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.currencyCode}),r.jsx("input",{type:"text",value:s.code,onChange:Y=>o(we=>({...we,code:Y.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",maxLength:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.currencyPosition}),r.jsxs("select",{value:s.position,onChange:Y=>o(we=>({...we,position:Y.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"before",children:F.before}),r.jsx("option",{value:"after",children:F.after})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.decimalPlaces}),r.jsx("input",{type:"number",min:"0",max:"4",value:s.decimalPlaces,onChange:Y=>o(we=>({...we,decimalPlaces:parseInt(Y.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(In,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:F.totalRevenue}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:re(J)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Us,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:F.averagePrice}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:re(oe)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Us,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:F.profitAnalysis}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:re(le)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ll,{className:"h-8 w-8 text-orange-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Marge (%)"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[ie.toFixed(1),"%"]})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:l,onChange:Y=>d(Y.target.value),placeholder:F.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:g,onChange:Y=>f(Y.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:F.allCategories}),I.map(Y=>r.jsx("option",{value:Y,children:Y},Y))]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:ne,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:16,className:"mr-2"}),F.addPrice]}),r.jsxs("button",{onClick:V,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(cs,{size:16,className:"mr-2"}),F.saveAll]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.name}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.category}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.price}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.tva}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.cost}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.profit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.totalPrice}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:F.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:T.map(Y=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:Y.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Y.nom}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:Y.category}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",min:"0",value:Y.price,onChange:we=>G(Y.code,"price",parseFloat(we.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:Y.tva,onChange:we=>G(Y.code,"tva",parseFloat(we.target.value)||0),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",min:"0",value:Y.cost||0,onChange:we=>G(Y.code,"cost",parseFloat(we.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400",children:re(Y.profit||0)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 dark:text-blue-400",children:re(q(Y.price,Y.tva))}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("button",{onClick:()=>ue(Y.code),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(ei,{size:16})})})]},Y.code))})]})})}),m&&N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:F.addPrice}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.code}),r.jsx("input",{type:"text",value:N.code,onChange:Y=>C(we=>we?{...we,code:Y.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.name}),r.jsx("input",{type:"text",value:N.nom,onChange:Y=>C(we=>we?{...we,nom:Y.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.category}),r.jsx("select",{value:N.category,onChange:Y=>C(we=>we?{...we,category:Y.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:I.map(Y=>r.jsx("option",{value:Y,children:Y},Y))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.price}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:N.price,onChange:Y=>C(we=>we?{...we,price:parseFloat(Y.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.tva}),r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:N.tva,onChange:Y=>C(we=>we?{...we,tva:parseFloat(Y.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>{v(!1),C(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:F.cancel}),r.jsx("button",{onClick:$,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:F.save})]})]})})]})}function qT(){const{language:e}=qt(),[t,a]=X.useState(!1),[s,o]=X.useState(!1),[l,d]=X.useState(null),[g,f]=X.useState(!1),m={fr:{title:"Gestion des Utilisateurs",newUser:"Nouvel Utilisateur",name:"Nom",email:"Email",role:"Rôle",status:"Statut",permissions:"Permissions",actions:"Actions",active:"Actif",inactive:"Inactif",admin:"Administrateur",biologist:"Biologiste",technician:"Technicien",secretary:"Secrétaire",close:"Fermer",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Confirmer la suppression"},en:{title:"User Management",newUser:"New User",name:"Name",email:"Email",role:"Role",status:"Status",permissions:"Permissions",actions:"Actions",active:"Active",inactive:"Inactive",admin:"Administrator",biologist:"Biologist",technician:"Technician",secretary:"Secretary",close:"Close",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Confirm deletion"}}[e],[v]=X.useState([{id:"1",name:"Dr. Admin",email:"admin@lab.fr",role:"admin",status:"active",permissions:["all"]},{id:"2",name:"Dr. Biologiste",email:"bio@lab.fr",role:"biologist",status:"active",permissions:["validate_results","view_all_requests"]},{id:"3",name:"Tech Support",email:"tech@lab.fr",role:"technician",status:"active",permissions:["enter_results","manage_samples"]}]),N=T=>({admin:"bg-purple-100 text-purple-800",biologist:"bg-blue-100 text-blue-800",technician:"bg-green-100 text-green-800",secretary:"bg-yellow-100 text-yellow-800"})[T]||"bg-gray-100 text-gray-800",C=T=>T==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",k=T=>{d(T),o(!0)},U=T=>{d(T),f(!0)},F=()=>{console.log("Deleting user:",l==null?void 0:l.id),f(!1)},O=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.newUser}),r.jsx("button",{onClick:()=>a(!1),children:r.jsx(er,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Nom complet",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{children:"Sélectionner un rôle"}),r.jsx("option",{value:"admin",children:"Administrateur"}),r.jsx("option",{value:"biologist",children:"Biologiste"}),r.jsx("option",{value:"technician",children:"Technicien"}),r.jsx("option",{value:"secretary",children:"Secrétaire"})]}),r.jsx("input",{type:"password",placeholder:"Mot de passe",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:m.cancel}),r.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:m.save})]})]})}),L=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Modifier utilisateur"}),r.jsx("button",{onClick:()=>o(!1),children:r.jsx(er,{size:20,className:"text-gray-500"})})]}),l&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",defaultValue:l.name,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"email",defaultValue:l.email,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsxs("select",{defaultValue:l.role,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"admin",children:"Administrateur"}),r.jsx("option",{value:"biologist",children:"Biologiste"}),r.jsx("option",{value:"technician",children:"Technicien"}),r.jsx("option",{value:"secretary",children:"Secrétaire"})]}),r.jsxs("select",{defaultValue:l.status,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"active",children:"Actif"}),r.jsx("option",{value:"inactive",children:"Inactif"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:m.cancel}),r.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:m.save})]})]})}),I=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.confirmDelete}),r.jsx("button",{onClick:()=>f(!1),children:r.jsx(er,{size:20,className:"text-gray-500"})})]}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Êtes-vous sûr de vouloir supprimer l'utilisateur ",l==null?void 0:l.name," ?"]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:m.cancel}),r.jsx("button",{onClick:F,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:m.delete})]})]})});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:m.title}),r.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:20,className:"mr-2"}),m.newUser]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.name}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.email}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.role}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.permissions}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:v.map(T=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:T.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:T.email}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N(T.role)}`,children:m[T.role]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(T.status)}`,children:T.status==="active"?m.active:m.inactive})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:r.jsxs("span",{className:"inline-flex items-center",children:[r.jsx(dA,{size:16,className:"mr-1"}),T.permissions.length]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("button",{onClick:()=>k(T),className:"text-blue-600 hover:text-blue-900 mr-3",children:r.jsx(co,{size:16})}),r.jsx("button",{onClick:()=>U(T),className:"text-red-600 hover:text-red-900",children:r.jsx(g6,{size:16})})]})]},T.id))})]})}),t&&r.jsx(O,{}),s&&r.jsx(L,{}),g&&r.jsx(I,{})]})}function XT({onClose:e,onSuccess:t}){const{user:a,language:s}=qt(),[o,l]=X.useState({productId:"",quantity:0,lotNumber:"",expiryDate:"",location:"",unitCost:0,notes:"",receivedBy:(a==null?void 0:a.name)||""}),[d,g]=X.useState([]),[f,m]=X.useState([]),[v,N]=X.useState(!1),[C,k]=X.useState({}),[U,F]=X.useState(!1);X.useState(!1);const[O,L]=X.useState(""),[I,T]=X.useState(""),q={title:s==="fr"?"Ajouter Stock":"Add Stock Entry",subtitle:s==="fr"?"Enregistrer un nouvel arrivage":"Record new stock arrival",product:s==="fr"?"Produit":"Product",selectProduct:s==="fr"?"Sélectionner un produit":"Select a product",searchProduct:s==="fr"?"Rechercher un produit...":"Search for a product...",quantity:s==="fr"?"Quantité":"Quantity",lotNumber:s==="fr"?"Numéro de lot":"Lot Number",expiryDate:s==="fr"?"Date d'expiration":"Expiry Date",location:s==="fr"?"Emplacement":"Location",unitCost:s==="fr"?"Coût unitaire":"Unit Cost",notes:"Notes",receivedBy:s==="fr"?"Reçu par":"Received By",supplier:s==="fr"?"Fournisseur":"Supplier",selectSupplier:s==="fr"?"Sélectionner un fournisseur":"Select a supplier",searchSupplier:s==="fr"?"Rechercher un fournisseur...":"Search for a supplier...",addNewProduct:s==="fr"?"Ajouter un nouveau produit":"Add New Product",addNewSupplier:s==="fr"?"Ajouter un nouveau fournisseur":"Add New Supplier",save:s==="fr"?"Enregistrer":"Save",cancel:s==="fr"?"Annuler":"Cancel",required:s==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:s==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",invalidCost:s==="fr"?"Le coût doit être positif":"Cost must be positive",invalidDate:s==="fr"?"La date d'expiration doit être dans le futur":"Expiry date must be in the future",success:s==="fr"?"Stock ajouté avec succès":"Stock added successfully",error:s==="fr"?"Erreur lors de l'ajout du stock":"Error adding stock",loading:s==="fr"?"Enregistrement...":"Saving...",noProducts:s==="fr"?"Aucun produit trouvé":"No products found",noSuppliers:s==="fr"?"Aucun fournisseur trouvé":"No suppliers found",createProduct:s==="fr"?"Créer un produit":"Create Product",createSupplier:s==="fr"?"Créer un fournisseur":"Create Supplier",productName:s==="fr"?"Nom du produit":"Product Name",productCode:s==="fr"?"Code du produit":"Product Code",category:s==="fr"?"Catégorie":"Category",unit:s==="fr"?"Unité":"Unit",minQuantity:s==="fr"?"Quantité minimale":"Minimum Quantity",supplierName:s==="fr"?"Nom du fournisseur":"Supplier Name",supplierEmail:s==="fr"?"Email du fournisseur":"Supplier Email",supplierPhone:s==="fr"?"Téléphone du fournisseur":"Supplier Phone",supplierAddress:s==="fr"?"Adresse du fournisseur":"Supplier Address",contactPerson:s==="fr"?"Personne de contact":"Contact Person"};X.useEffect(()=>{M(),re()},[]);const M=async()=>{try{const $=await mr.getProducts({limit:100});g($.products||[])}catch($){console.error("Error loading products:",$)}},re=async()=>{try{const $=await mr.getSuppliers({limit:100});m($.suppliers||[])}catch($){console.error("Error loading suppliers:",$)}},G=()=>{const $={};return o.productId||($.productId=q.required),(!o.quantity||o.quantity<=0)&&($.quantity=q.invalidQuantity),o.location||($.location=q.required),o.receivedBy||($.receivedBy=q.required),o.unitCost<0&&($.unitCost=q.invalidCost),o.expiryDate&&new Date(o.expiryDate)<=new Date&&($.expiryDate=q.invalidDate),k($),Object.keys($).length===0},V=async $=>{if($.preventDefault(),!!G()){N(!0);try{await mr.addStockEntry(o),t==null||t(),e()}catch(J){console.error("Error adding stock entry:",J),alert(q.error)}finally{N(!1)}}},ue=($,J)=>{l(oe=>({...oe,[$]:J})),C[$]&&k(oe=>({...oe,[$]:""}))},ne=d.filter($=>$.name.toLowerCase().includes(O.toLowerCase())||$.code.toLowerCase().includes(O.toLowerCase())||$.category.toLowerCase().includes(O.toLowerCase()));return f.filter($=>$.name.toLowerCase().includes(I.toLowerCase())),r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:q.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:q.subtitle})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:24})})]}),r.jsxs("form",{onSubmit:V,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[q.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:q.selectProduct,value:O,onChange:$=>L($.target.value),onClick:()=>F(!0),readOnly:!0,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${C.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(ba,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),C.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.productId})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[q.quantity," *"]}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:o.quantity,onChange:$=>ue("quantity",parseFloat($.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${C.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),C.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.quantity})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:q.lotNumber}),r.jsx("input",{type:"text",value:o.lotNumber,onChange:$=>ue("lotNumber",$.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:q.expiryDate}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",value:o.expiryDate,onChange:$=>ue("expiryDate",$.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${C.expiryDate?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(on,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),C.expiryDate&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.expiryDate})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[q.location," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o.location,onChange:$=>ue("location",$.target.value),placeholder:"e.g., Fridge A, Cabinet 3",className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${C.location?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(rc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),C.location&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.location})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:q.unitCost}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",step:"0.01",min:"0",value:o.unitCost,onChange:$=>ue("unitCost",parseFloat($.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${C.unitCost?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(In,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),C.unitCost&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.unitCost})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[q.receivedBy," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o.receivedBy,onChange:$=>ue("receivedBy",$.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${C.receivedBy?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(As,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),C.receivedBy&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.receivedBy})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:q.notes}),r.jsx("textarea",{value:o.notes,onChange:$=>ue("notes",$.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:q.cancel}),r.jsx("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:v?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),q.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),q.save]})})]})]})]}),U&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:q.selectProduct}),r.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:q.searchProduct,value:O,onChange:$=>L($.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ne.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:q.noProducts}):ne.map($=>r.jsxs("button",{onClick:()=>{l(J=>({...J,productId:$.id})),L($.name),F(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:$.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[$.code," • ",$.category," • ",$.unit]})]},$.id))}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:()=>{F(!1)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[r.jsx(ha,{size:16,className:"mr-2"}),q.addNewProduct]})})]})]})})]})}const cC=e=>{switch(e){case"OK":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"LOW":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EXPIRED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"EXPIRING":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},AC=(e,t)=>{switch(e){case"OK":return t.ok;case"LOW":return t.low;case"EXPIRED":return t.expired;case"EXPIRING":return t.expiring;default:return e}};function KT(){const{language:e}=qt(),[t,a]=X.useState(null),[s,o]=X.useState([]),[l,d]=X.useState(!0),[g,f]=X.useState(""),[m,v]=X.useState(""),[N,C]=X.useState(""),[k,U]=X.useState(!1),[F,O]=X.useState(!1),[L,I]=X.useState(!1),[T,q]=X.useState(null),[M,re]=X.useState(null),[G,V]=X.useState(""),ue={title:e==="fr"?"Gestion des Stocks":"Stock Management",subtitle:e==="fr"?"Vue d'ensemble de l'inventaire":"Inventory Overview",totalProducts:e==="fr"?"Total Produits":"Total Products",totalValue:e==="fr"?"Valeur Totale":"Total Value",expiringSoon:e==="fr"?"Expire Bientôt":"Expiring Soon",lowStock:e==="fr"?"Stock Faible":"Low Stock",addStock:e==="fr"?"Ajouter Stock":"Add Stock",export:e==="fr"?"Exporter":"Export",search:e==="fr"?"Rechercher...":"Search...",category:e==="fr"?"Catégorie":"Category",status:e==="fr"?"Statut":"Status",allCategories:e==="fr"?"Toutes les catégories":"All Categories",allStatus:e==="fr"?"Tous les statuts":"All Status",product:e==="fr"?"Produit":"Product",code:"Code",stock:"Stock",unit:e==="fr"?"Unité":"Unit",expiry:e==="fr"?"Expiration":"Expiry",location:e==="fr"?"Emplacement":"Location",supplier:e==="fr"?"Fournisseur":"Supplier",actions:"Actions",view:e==="fr"?"Voir":"View",edit:e==="fr"?"Modifier":"Edit",delete:e==="fr"?"Supprimer":"Delete",noData:e==="fr"?"Aucune donnée":"No data available",loading:e==="fr"?"Chargement...":"Loading...",ok:"OK",low:e==="fr"?"FAIBLE":"LOW",expired:e==="fr"?"EXPIRÉ":"EXPIRED",expiring:e==="fr"?"EXPIRE":"EXPIRING"},ne=fe=>{switch(fe){case"AVAILABLE":return"OK";case"LOW_STOCK":return"LOW";case"OUT_OF_STOCK":return"LOW";case"EXPIRED":return"EXPIRED";default:return"OK"}},$=async()=>{try{const fe=await mr.getDashboard();a(fe)}catch(fe){console.error("Error loading dashboard data:",fe)}},J=async()=>{try{d(!0);const fe=await mr.getProducts({search:G,category:m,status:N}),Pe=(Array.isArray(fe)?fe:[]).map(Ve=>{var he;const de=Ve.stockEntries&&Ve.stockEntries.length>0?(he=Ve.stockEntries.filter(Ne=>Ne.expiryDate).sort((Ne,Ee)=>new Date(Ne.expiryDate).getTime()-new Date(Ee.expiryDate).getTime())[0])==null?void 0:he.expiryDate:null;return{...Ve,status:ne(Ve.stockStatus||"AVAILABLE"),earliestExpiry:de}});o(Pe)}catch(fe){console.error("Error loading products:",fe),o([])}finally{d(!1)}};X.useEffect(()=>{$(),J()},[]),X.useEffect(()=>{const fe=setTimeout(()=>{V(g)},500);return()=>clearTimeout(fe)},[g]),X.useEffect(()=>{(G!==""||m!==""||N!=="")&&J()},[G,m,N]);const oe=fe=>fe?new Date(fe).toLocaleDateString():"-",le=async()=>{try{const fe={search:G,category:m,status:N},je=await mr.exportStockReport(fe);if(je&&Array.isArray(je)){const Pe=Object.keys(je[0]).join(","),Ve=je.map(Se=>Object.values(Se).join(",")),de=[Pe,...Ve].join(`
`),he=new Blob([de],{type:"text/csv;charset=utf-8;"}),Ne=URL.createObjectURL(he),Ee=document.createElement("a");Ee.setAttribute("href",Ne),Ee.setAttribute("download",`stock-report-${new Date().toISOString().split("T")[0]}.csv`),Ee.style.visibility="hidden",document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee)}else console.error("Invalid response format for export")}catch(fe){console.error("Error exporting stock report:",fe)}},ie=fe=>{const je=s.find(Pe=>Pe.id===fe);je&&(q(je),O(!0))},Y=fe=>{const je=s.find(Pe=>Pe.id===fe);je&&(re(je),I(!0))},we=async fe=>{if(window.confirm(e==="fr"?"Êtes-vous sûr de vouloir supprimer ce produit ?":"Are you sure you want to delete this product?"))try{await mr.deleteProduct(fe),J()}catch(je){console.error("Error deleting product:",je)}};return l&&!t?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:ue.loading})]})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:ue.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:ue.subtitle})]}),t&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xs,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:ue.totalProducts}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalProducts})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(In,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:ue.totalValue}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.totalValue.toFixed(2)," dh"]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ms,{className:"h-8 w-8 text-orange-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:ue.expiringSoon}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.expiringSoon})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ir,{className:"h-8 w-8 text-yellow-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:ue.lowStock}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.lowStock})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:ue.search,value:g,onChange:fe=>f(fe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("select",{value:m,onChange:fe=>v(fe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:r.jsx("option",{value:"",children:ue.allCategories})}),r.jsxs("select",{value:N,onChange:fe=>C(fe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:ue.allStatus}),r.jsx("option",{value:"OK",children:ue.ok}),r.jsx("option",{value:"LOW",children:ue.low}),r.jsx("option",{value:"EXPIRED",children:ue.expired}),r.jsx("option",{value:"EXPIRING",children:ue.expiring})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>U(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:16,className:"mr-2"}),ue.addStock]}),r.jsxs("button",{onClick:le,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Bi,{size:16,className:"mr-2"}),ue.export]})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[k&&r.jsx(XT,{onClose:()=>U(!1),onSuccess:()=>{$(),J(),U(!1)}}),F&&T&&r.jsx(WT,{product:T,onClose:()=>{O(!1),q(null)},t:ue}),L&&M&&r.jsx(YT,{product:M,onClose:()=>{I(!1),re(null)},onSuccess:()=>{J(),I(!1),re(null)},t:ue}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ue.product}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ue.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ue.stock}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ue.unit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ue.expiry}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ue.location}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ue.supplier}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ue.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ue.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:ue.loading})]})})}):s.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:ue.noData})}):s.map(fe=>{var je;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:fe.name}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:fe.category})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:fe.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:fe.currentStock}),fe.currentStock<=fe.minStock&&r.jsx(ll,{className:"ml-2 h-4 w-4 text-red-500"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:fe.unit}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:oe(fe.earliestExpiry)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:((je=fe.supplier)==null?void 0:je.name)||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${cC(fe.status)}`,children:AC(fe.status,ue)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>ie(fe.id),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Ms,{size:16})}),r.jsx("button",{onClick:()=>Y(fe.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:r.jsx(co,{size:16})}),r.jsx("button",{onClick:()=>we(fe.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(ei,{size:16})})]})})]},fe.id)})})]})})]})]})}function WT({product:e,onClose:t,t:a}){var s;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.viewProduct||"View Product"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:20})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.code}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.code})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.product}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.category}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.stock}),r.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.currentStock," ",e.unit]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.expiry}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.earliestExpiry?new Date(e.earliestExpiry).toLocaleDateString():"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.status}),r.jsx("p",{children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${cC(e.status)}`,children:AC(e.status,a)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.supplier||"Supplier"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:((s=e.supplier)==null?void 0:s.name)||"-"})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",children:a.close||"Close"})})]})})}function YT({product:e,onClose:t,onSuccess:a,t:s}){const[o,l]=X.useState({name:e.name,code:e.code,category:e.category,unit:e.unit,minStock:e.minStock||0,maxStock:e.maxStock||0}),[d,g]=X.useState(!1),[f,m]=X.useState({}),v=(k,U)=>{l(F=>({...F,[k]:U})),f[k]&&m(F=>({...F,[k]:""}))},N=()=>{const k={};return o.name.trim()||(k.name=s.required||"This field is required"),o.code.trim()||(k.code=s.required||"This field is required"),o.category.trim()||(k.category=s.required||"This field is required"),o.unit.trim()||(k.unit=s.required||"This field is required"),o.minStock<0&&(k.minStock=s.invalidMinStock||"Minimum stock cannot be negative"),o.maxStock<o.minStock&&(k.maxStock=s.invalidMaxStock||"Maximum stock must be greater than minimum stock"),m(k),Object.keys(k).length===0},C=async k=>{if(k.preventDefault(),!!N()){g(!0);try{await mr.updateProduct(e.id,o),a()}catch(U){console.error("Error updating product:",U)}finally{g(!1)}}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s.editProduct||"Edit Product"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:20})})]}),r.jsxs("form",{onSubmit:C,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.code," *"]}),r.jsx("input",{type:"text",value:o.code,onChange:k=>v("code",k.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.code?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.code&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.code})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.product," *"]}),r.jsx("input",{type:"text",value:o.name,onChange:k=>v("name",k.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.name?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.category," *"]}),r.jsx("input",{type:"text",value:o.category,onChange:k=>v("category",k.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.category?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.category&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.category})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.unit," *"]}),r.jsx("input",{type:"text",value:o.unit,onChange:k=>v("unit",k.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.unit?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.unit&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.unit})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s.minStock||"Min Stock"}),r.jsx("input",{type:"number",min:"0",value:o.minStock,onChange:k=>v("minStock",parseInt(k.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.minStock?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.minStock&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.minStock})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s.maxStock||"Max Stock"}),r.jsx("input",{type:"number",min:"0",value:o.maxStock,onChange:k=>v("maxStock",parseInt(k.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.maxStock?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.maxStock&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.maxStock})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:s.cancel||"Cancel"}),r.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s.loading||"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),s.save||"Save"]})})]})]})]})})}function $T({isOpen:e,onClose:t,onSuccess:a}){const{language:s}=qt(),[o,l]=X.useState(!1),[d,g]=X.useState(""),[f,m]=X.useState({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""}),v={fr:{title:"Créer un nouveau produit",productName:"Nom du produit",productNamePlaceholder:"Entrez le nom du produit",description:"Description",descriptionPlaceholder:"Description détaillée du produit",category:"Catégorie",categoryPlaceholder:"Sélectionnez une catégorie",sku:"Code SKU",skuPlaceholder:"Code unique du produit",barcode:"Code-barres",barcodePlaceholder:"Code-barres du produit",unitPrice:"Prix unitaire",costPrice:"Prix de revient",unit:"Unité",unitPlaceholder:"Ex: pièce, boîte, ml",minStock:"Stock minimum",maxStock:"Stock maximum",reorderLevel:"Niveau de réapprovisionnement",supplier:"Fournisseur",supplierPlaceholder:"Nom du fournisseur",expirationDate:"Date d'expiration",batchNumber:"Numéro de lot",batchNumberPlaceholder:"Numéro de lot du produit",location:"Emplacement",locationPlaceholder:"Emplacement de stockage",notes:"Notes",notesPlaceholder:"Notes supplémentaires",save:"Enregistrer le produit",cancel:"Annuler",required:"Champ obligatoire",success:"Produit créé avec succès!",error:"Erreur lors de la création du produit",categories:{reagents:"Réactifs",consumables:"Consommables",equipment:"Équipements",maintenance:"Maintenance",calibration:"Étalonnage",quality_control:"Contrôle qualité",other:"Autre"}},en:{title:"Create New Product",productName:"Product Name",productNamePlaceholder:"Enter product name",description:"Description",descriptionPlaceholder:"Detailed product description",category:"Category",categoryPlaceholder:"Select a category",sku:"SKU Code",skuPlaceholder:"Unique product code",barcode:"Barcode",barcodePlaceholder:"Product barcode",unitPrice:"Unit Price",costPrice:"Cost Price",unit:"Unit",unitPlaceholder:"Ex: piece, box, ml",minStock:"Minimum Stock",maxStock:"Maximum Stock",reorderLevel:"Reorder Level",supplier:"Supplier",supplierPlaceholder:"Supplier name",expirationDate:"Expiration Date",batchNumber:"Batch Number",batchNumberPlaceholder:"Product batch number",location:"Location",locationPlaceholder:"Storage location",notes:"Notes",notesPlaceholder:"Additional notes",save:"Save Product",cancel:"Cancel",required:"Required field",success:"Product created successfully!",error:"Error creating product",categories:{reagents:"Reagents",consumables:"Consumables",equipment:"Equipment",maintenance:"Maintenance",calibration:"Calibration",quality_control:"Quality Control",other:"Other"}}}[s],N=O=>{const{name:L,value:I}=O.target;m(T=>({...T,[L]:L.includes("Price")||L.includes("Stock")||L==="reorderLevel"?parseFloat(I)||0:I}))},C=()=>{const O=Date.now().toString().slice(-6),L=Math.random().toString(36).substring(2,5).toUpperCase();return`${f.category?f.category.substring(0,3).toUpperCase():"PRD"}-${L}-${O}`},k=()=>{m(O=>({...O,sku:C()}))},U=()=>f.name.trim()?f.category?f.sku.trim()?f.unit.trim()?!0:(g("L'unité est obligatoire"),!1):(g("Le code SKU est obligatoire"),!1):(g("La catégorie est obligatoire"),!1):(g("Le nom du produit est obligatoire"),!1),F=async O=>{if(O.preventDefault(),g(""),!!U()){l(!0);try{const L={...f,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),id:`product_${Date.now()}`,currentStock:0,status:"active"};await new Promise(T=>setTimeout(T,1e3));const I=JSON.parse(localStorage.getItem("sil_products")||"[]");I.push(L),localStorage.setItem("sil_products",JSON.stringify(I)),a==null||a(L),t(),m({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""})}catch{g(v.error)}finally{l(!1)}}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(xs,{size:24,className:"text-blue-600"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:v.title})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:24})})]}),d&&r.jsx("div",{className:"mx-6 mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx($i,{size:20,className:"text-red-500 mr-3"}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:d})]})}),r.jsxs("form",{onSubmit:F,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[v.productName," *"]}),r.jsx("input",{type:"text",name:"name",value:f.name,onChange:N,placeholder:v.productNamePlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[v.category," *"]}),r.jsxs("select",{name:"category",value:f.category,onChange:N,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:v.categoryPlaceholder}),r.jsx("option",{value:"reagents",children:v.categories.reagents}),r.jsx("option",{value:"consumables",children:v.categories.consumables}),r.jsx("option",{value:"equipment",children:v.categories.equipment}),r.jsx("option",{value:"maintenance",children:v.categories.maintenance}),r.jsx("option",{value:"calibration",children:v.categories.calibration}),r.jsx("option",{value:"quality_control",children:v.categories.quality_control}),r.jsx("option",{value:"other",children:v.categories.other})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[v.sku," *"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",name:"sku",value:f.sku,onChange:N,placeholder:v.skuPlaceholder,className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx("button",{type:"button",onClick:k,className:"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-500 text-sm",children:"Auto"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[v.unit," *"]}),r.jsx("input",{type:"text",name:"unit",value:f.unit,onChange:N,placeholder:v.unitPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.unitPrice}),r.jsx("input",{type:"number",name:"unitPrice",value:f.unitPrice,onChange:N,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.costPrice}),r.jsx("input",{type:"number",name:"costPrice",value:f.costPrice,onChange:N,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.minStock}),r.jsx("input",{type:"number",name:"minStock",value:f.minStock,onChange:N,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.reorderLevel}),r.jsx("input",{type:"number",name:"reorderLevel",value:f.reorderLevel,onChange:N,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.supplier}),r.jsx("input",{type:"text",name:"supplier",value:f.supplier,onChange:N,placeholder:v.supplierPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.location}),r.jsx("input",{type:"text",name:"location",value:f.location,onChange:N,placeholder:v.locationPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.description}),r.jsx("textarea",{name:"description",value:f.description,onChange:N,placeholder:v.descriptionPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:v.cancel}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),v.save]})})]})]})]})}):null}function JT(){const{user:e,language:t}=qt(),a=Pn(),[s,o]=X.useState({productId:"",quantity:0,lotNumber:"",expiryDate:"",location:"Main Storage",unitCost:0,notes:"",receivedBy:(e==null?void 0:e.name)||""}),[l,d]=X.useState([]),[g,f]=X.useState(null),[m,v]=X.useState(!1),[N,C]=X.useState(!1),[k,U]=X.useState(!1),[F,O]=X.useState(""),[L,I]=X.useState(!1),[T,q]=X.useState(!1),[M,re]=X.useState(""),G={fr:{title:"Ajouter Stock",subtitle:"Enregistrer un nouvel arrivage de stock",backToStock:"Retour aux stocks",product:"Produit",selectProduct:"Sélectionner un produit",searchProduct:"Rechercher un produit...",quantity:"Quantité",lotNumber:"Numéro de lot",expiryDate:"Date d'expiration",location:"Emplacement",unitCost:"Coût unitaire",notes:"Notes",receivedBy:"Reçu par",save:"Enregistrer",cancel:"Annuler",createNewProduct:"Créer un nouveau produit",required:"Ce champ est requis",success:"Stock ajouté avec succès!",error:"Erreur lors de l'ajout du stock",loading:"Enregistrement...",noProducts:"Aucun produit trouvé",additionalNotes:"Notes supplémentaires...",redirecting:"Redirection vers le tableau de bord..."},en:{title:"Add Stock Entry",subtitle:"Record new stock arrival",backToStock:"Back to Stock",product:"Product",selectProduct:"Select a product",searchProduct:"Search for a product...",quantity:"Quantity",lotNumber:"Lot Number",expiryDate:"Expiry Date",location:"Location",unitCost:"Unit Cost",notes:"Notes",receivedBy:"Received By",save:"Save",cancel:"Cancel",createNewProduct:"Create New Product",required:"This field is required",success:"Stock added successfully!",error:"Error adding stock",loading:"Saving...",noProducts:"No products found",additionalNotes:"Additional notes...",redirecting:"Redirecting to dashboard..."}}[t];X.useEffect(()=>{V()},[]);const V=async()=>{try{v(!0);const ie=await mr.getProducts();d(ie.products||[])}catch(ie){console.error("Error loading products:",ie),O("Erreur lors du chargement des produits")}finally{v(!1)}},ue=ie=>{const{name:Y,value:we}=ie.target;o(fe=>({...fe,[Y]:Y==="quantity"||Y==="unitCost"?parseFloat(we)||0:we}))},ne=ie=>{f(ie),o(Y=>({...Y,productId:ie.id})),I(!1),re("")},$=l.filter(ie=>ie.name.toLowerCase().includes(M.toLowerCase())||ie.code.toLowerCase().includes(M.toLowerCase())),J=()=>s.productId?s.quantity<=0?(O("La quantité doit être supérieure à 0"),!1):s.lotNumber.trim()?s.location.trim()?!0:(O("L'emplacement est requis"),!1):(O("Le numéro de lot est requis"),!1):(O("Veuillez sélectionner un produit"),!1),oe=async ie=>{if(ie.preventDefault(),O(""),!!J()){C(!0);try{const Y={productId:s.productId,quantity:s.quantity,lotNumber:s.lotNumber,expiryDate:s.expiryDate||null,location:s.location,unitCost:s.unitCost,notes:s.notes,receivedBy:s.receivedBy,receivedAt:new Date().toISOString(),type:"stock_in"};await mr.addStock(Y),U(!0),setTimeout(()=>{a("/stock/dashboard")},2e3)}catch(Y){console.error("Error adding stock:",Y),O("Erreur lors de l'ajout du stock. Veuillez réessayer.")}finally{C(!1)}}},le=ie=>{d(Y=>[...Y,ie]),f(ie),o(Y=>({...Y,productId:ie.id}))};return k?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Pr,{size:64,className:"mx-auto text-green-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:G.success}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:[g==null?void 0:g.name," - ",s.quantity," ",g==null?void 0:g.unit]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:G.redirecting}),r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mt-4"})]})})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:[r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>a("/stock/dashboard"),className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mb-4",children:[r.jsx(tc,{size:20,className:"mr-2"}),G.backToStock]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(xs,{size:32,className:"text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:G.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:G.subtitle})]})]})]}),F&&r.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx($i,{size:20,className:"text-red-500 mr-3"}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:F})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsxs("form",{onSubmit:oe,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[G.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",readOnly:!0,placeholder:G.selectProduct,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600 cursor-pointer",value:g?`${g.name} (${g.code})`:"",onClick:()=>I(!0)}),r.jsx(ba,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[G.quantity," *"]}),r.jsx("input",{type:"number",name:"quantity",value:s.quantity,onChange:ue,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"0",min:"0",step:"1",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[G.lotNumber," *"]}),r.jsx("input",{type:"text",name:"lotNumber",value:s.lotNumber,onChange:ue,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"LOT-001",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:G.expiryDate}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",name:"expiryDate",value:s.expiryDate,onChange:ue,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600"}),r.jsx(on,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[G.location," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",name:"location",value:s.location,onChange:ue,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"Main Storage",required:!0}),r.jsx(rc,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:G.unitCost}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",name:"unitCost",value:s.unitCost,onChange:ue,step:"0.01",className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"0.00",min:"0"}),r.jsx(In,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:G.receivedBy}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",name:"receivedBy",value:s.receivedBy,onChange:ue,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),r.jsx(As,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:G.notes}),r.jsx("textarea",{name:"notes",value:s.notes,onChange:ue,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:G.additionalNotes})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:()=>a("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:G.cancel}),r.jsx("button",{type:"submit",disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:N?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),G.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),G.save]})})]})]})})]}),L&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:G.selectProduct}),r.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"×"})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex space-x-2 mb-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",placeholder:G.searchProduct,value:M,onChange:ie=>re(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(ba,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),r.jsxs("button",{onClick:()=>{I(!1),q(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(ha,{size:16,className:"mr-2"}),G.createNewProduct]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:m?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):$.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:G.noProducts}):r.jsx("div",{className:"space-y-2",children:$.map(ie=>r.jsxs("button",{onClick:()=>ne(ie),className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ie.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ie.code," • ",ie.category," • ",ie.unit]})]},ie.id))})})]})]})}),r.jsx($T,{isOpen:T,onClose:()=>q(!1),onSuccess:le})]})}function ZT(){const{language:e}=qt(),t=Pn(),[a,s]=X.useState(!1),[o,l]=X.useState(!1),[d,g]=X.useState(""),[f,m]=X.useState({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""}),v={fr:{title:"Créer un nouveau produit",subtitle:"Ajouter un nouveau produit au système de gestion des stocks",backToStock:"Retour aux stocks",productInfo:"Informations du produit",pricingInfo:"Informations de prix",stockInfo:"Informations de stock",additionalInfo:"Informations supplémentaires",productName:"Nom du produit",productNamePlaceholder:"Entrez le nom du produit",description:"Description",descriptionPlaceholder:"Description détaillée du produit",category:"Catégorie",categoryPlaceholder:"Sélectionnez une catégorie",sku:"Code SKU",skuPlaceholder:"Code unique du produit",barcode:"Code-barres",barcodePlaceholder:"Code-barres du produit",unitPrice:"Prix unitaire",costPrice:"Prix de revient",unit:"Unité",unitPlaceholder:"Ex: pièce, boîte, ml",minStock:"Stock minimum",maxStock:"Stock maximum",reorderLevel:"Niveau de réapprovisionnement",supplier:"Fournisseur",supplierPlaceholder:"Nom du fournisseur",expirationDate:"Date d'expiration",batchNumber:"Numéro de lot",batchNumberPlaceholder:"Numéro de lot du produit",location:"Emplacement",locationPlaceholder:"Emplacement de stockage",notes:"Notes",notesPlaceholder:"Notes supplémentaires",save:"Enregistrer le produit",cancel:"Annuler",required:"Champ obligatoire",success:"Produit créé avec succès!",error:"Erreur lors de la création du produit",categories:{reagents:"Réactifs",consumables:"Consommables",equipment:"Équipements",maintenance:"Maintenance",calibration:"Étalonnage",quality_control:"Contrôle qualité",other:"Autre"}},en:{title:"Create New Product",subtitle:"Add a new product to the stock management system",backToStock:"Back to Stock",productInfo:"Product Information",pricingInfo:"Pricing Information",stockInfo:"Stock Information",additionalInfo:"Additional Information",productName:"Product Name",productNamePlaceholder:"Enter product name",description:"Description",descriptionPlaceholder:"Detailed product description",category:"Category",categoryPlaceholder:"Select a category",sku:"SKU Code",skuPlaceholder:"Unique product code",barcode:"Barcode",barcodePlaceholder:"Product barcode",unitPrice:"Unit Price",costPrice:"Cost Price",unit:"Unit",unitPlaceholder:"Ex: piece, box, ml",minStock:"Minimum Stock",maxStock:"Maximum Stock",reorderLevel:"Reorder Level",supplier:"Supplier",supplierPlaceholder:"Supplier name",expirationDate:"Expiration Date",batchNumber:"Batch Number",batchNumberPlaceholder:"Product batch number",location:"Location",locationPlaceholder:"Storage location",notes:"Notes",notesPlaceholder:"Additional notes",save:"Save Product",cancel:"Cancel",required:"Required field",success:"Product created successfully!",error:"Error creating product",categories:{reagents:"Reagents",consumables:"Consumables",equipment:"Equipment",maintenance:"Maintenance",calibration:"Calibration",quality_control:"Quality Control",other:"Other"}}}[e],N=L=>{const{name:I,value:T}=L.target;m(q=>({...q,[I]:I.includes("Price")||I.includes("Stock")||I==="reorderLevel"?parseFloat(T)||0:T}))},C=()=>{const L=Date.now().toString().slice(-6),I=Math.random().toString(36).substring(2,5).toUpperCase();return`${f.category?f.category.substring(0,3).toUpperCase():"PRD"}-${I}-${L}`},k=()=>{m(L=>({...L,sku:C()}))},U=()=>f.name.trim()?f.category?f.sku.trim()?f.unit.trim()?f.unitPrice<0||f.costPrice<0?(g("Les prix ne peuvent pas être négatifs"),!1):f.minStock<0||f.maxStock<0||f.reorderLevel<0?(g("Les quantités de stock ne peuvent pas être négatives"),!1):f.maxStock>0&&f.minStock>f.maxStock?(g("Le stock minimum ne peut pas être supérieur au stock maximum"),!1):!0:(g("L'unité est obligatoire"),!1):(g("Le code SKU est obligatoire"),!1):(g("La catégorie est obligatoire"),!1):(g("Le nom du produit est obligatoire"),!1),F=async L=>{if(L.preventDefault(),g(""),!!U()){s(!0);try{const I={...f,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),id:`product_${Date.now()}`,currentStock:0,status:"active"};await new Promise(q=>setTimeout(q,1e3));const T=JSON.parse(localStorage.getItem("sil_products")||"[]");T.push(I),localStorage.setItem("sil_products",JSON.stringify(T)),l(!0),setTimeout(()=>{t("/stock/dashboard")},2e3)}catch{g(v.error)}finally{s(!1)}}},O=()=>{t("/stock/dashboard")};return o?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Pr,{size:64,className:"mx-auto text-green-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:v.success}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:['Le produit "',f.name,'" a été créé avec succès.']}),r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})]})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:O,className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mb-4",children:[r.jsx(tc,{size:20,className:"mr-2"}),v.backToStock]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(xs,{size:32,className:"text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:v.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:v.subtitle})]})]})]}),d&&r.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx($i,{size:20,className:"text-red-500 mr-3"}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:d})]})}),r.jsxs("form",{onSubmit:F,className:"space-y-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(h6,{size:20,className:"mr-2 text-blue-600"}),v.productInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[v.productName," *"]}),r.jsx("input",{type:"text",name:"name",value:f.name,onChange:N,placeholder:v.productNamePlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[v.category," *"]}),r.jsxs("select",{name:"category",value:f.category,onChange:N,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:v.categoryPlaceholder}),r.jsx("option",{value:"reagents",children:v.categories.reagents}),r.jsx("option",{value:"consumables",children:v.categories.consumables}),r.jsx("option",{value:"equipment",children:v.categories.equipment}),r.jsx("option",{value:"maintenance",children:v.categories.maintenance}),r.jsx("option",{value:"calibration",children:v.categories.calibration}),r.jsx("option",{value:"quality_control",children:v.categories.quality_control}),r.jsx("option",{value:"other",children:v.categories.other})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.description}),r.jsx("textarea",{name:"description",value:f.description,onChange:N,placeholder:v.descriptionPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[v.sku," *"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",name:"sku",value:f.sku,onChange:N,placeholder:v.skuPlaceholder,className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx("button",{type:"button",onClick:k,className:"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-500",children:"Générer"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.barcode}),r.jsxs("div",{className:"relative",children:[r.jsx(_N,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),r.jsx("input",{type:"text",name:"barcode",value:f.barcode,onChange:N,placeholder:v.barcodePlaceholder,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[v.unit," *"]}),r.jsx("input",{type:"text",name:"unit",value:f.unit,onChange:N,placeholder:v.unitPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(In,{size:20,className:"mr-2 text-green-600"}),v.pricingInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.unitPrice}),r.jsx("input",{type:"number",name:"unitPrice",value:f.unitPrice,onChange:N,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.costPrice}),r.jsx("input",{type:"number",name:"costPrice",value:f.costPrice,onChange:N,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(xs,{size:20,className:"mr-2 text-purple-600"}),v.stockInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.minStock}),r.jsx("input",{type:"number",name:"minStock",value:f.minStock,onChange:N,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.maxStock}),r.jsx("input",{type:"number",name:"maxStock",value:f.maxStock,onChange:N,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.reorderLevel}),r.jsx("input",{type:"number",name:"reorderLevel",value:f.reorderLevel,onChange:N,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(Ea,{size:20,className:"mr-2 text-orange-600"}),v.additionalInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.supplier}),r.jsxs("div",{className:"relative",children:[r.jsx(rl,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),r.jsx("input",{type:"text",name:"supplier",value:f.supplier,onChange:N,placeholder:v.supplierPlaceholder,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.expirationDate}),r.jsxs("div",{className:"relative",children:[r.jsx(on,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),r.jsx("input",{type:"date",name:"expirationDate",value:f.expirationDate,onChange:N,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.batchNumber}),r.jsx("input",{type:"text",name:"batchNumber",value:f.batchNumber,onChange:N,placeholder:v.batchNumberPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.location}),r.jsx("input",{type:"text",name:"location",value:f.location,onChange:N,placeholder:v.locationPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:v.notes}),r.jsx("textarea",{name:"notes",value:f.notes,onChange:N,placeholder:v.notesPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{type:"button",onClick:O,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:v.cancel}),r.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),v.save]})})]})]})]})})}function eR(){const{user:e,language:t}=qt(),a=Pn(),[s,o]=X.useState({productId:"",quantity:0,usedBy:(e==null?void 0:e.name)||"",department:"",purpose:"",notes:""}),[l,d]=X.useState([]),[g,f]=X.useState(!1),[m,v]=X.useState({}),[N,C]=X.useState(!1),[k,U]=X.useState(""),[F,O]=X.useState(null),L={title:t==="fr"?"Utiliser Stock":"Use Stock",subtitle:t==="fr"?"Enregistrer l'utilisation de stock":"Record stock usage",product:t==="fr"?"Produit":"Product",selectProduct:t==="fr"?"Sélectionner un produit":"Select a product",searchProduct:t==="fr"?"Rechercher un produit...":"Search for a product...",quantity:t==="fr"?"Quantité utilisée":"Quantity Used",usedBy:t==="fr"?"Utilisé par":"Used By",department:t==="fr"?"Département":"Department",purpose:t==="fr"?"Objectif":"Purpose",notes:"Notes",currentStock:t==="fr"?"Stock actuel":"Current Stock",availableStock:t==="fr"?"Stock disponible":"Available Stock",save:t==="fr"?"Enregistrer":"Save",cancel:t==="fr"?"Annuler":"Cancel",back:t==="fr"?"Retour":"Back",required:t==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:t==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",insufficientStock:t==="fr"?"Stock insuffisant":"Insufficient stock",success:t==="fr"?"Utilisation enregistrée avec succès":"Usage recorded successfully",error:t==="fr"?"Erreur lors de l'enregistrement":"Error recording usage",loading:t==="fr"?"Enregistrement...":"Saving...",noProducts:t==="fr"?"Aucun produit trouvé":"No products found",departments:{lab:t==="fr"?"Laboratoire":"Laboratory",research:t==="fr"?"Recherche":"Research",quality:t==="fr"?"Contrôle Qualité":"Quality Control",maintenance:"Maintenance",other:t==="fr"?"Autre":"Other"},purposes:{testing:t==="fr"?"Tests":"Testing",calibration:t==="fr"?"Étalonnage":"Calibration",maintenance:"Maintenance",research:t==="fr"?"Recherche":"Research",other:t==="fr"?"Autre":"Other"}};X.useEffect(()=>{I()},[]);const I=async()=>{try{const G=await mr.getProducts({limit:100});d(Array.isArray(G)?G:[])}catch(G){console.error("Error loading products:",G)}},T=()=>{const G={};return s.productId||(G.productId=L.required),s.quantity<=0?G.quantity=L.invalidQuantity:F&&s.quantity>F.currentStock&&(G.quantity=L.insufficientStock),s.department.trim()||(G.department=L.required),s.purpose.trim()||(G.purpose=L.required),v(G),Object.keys(G).length===0},q=async G=>{if(G.preventDefault(),!!T()){f(!0);try{await mr.useStock(s),alert(L.success),a("/stock/dashboard")}catch(V){console.error("Error using stock:",V),alert(L.error)}finally{f(!1)}}},M=(G,V)=>{o(ue=>({...ue,[G]:V})),m[G]&&v(ue=>({...ue,[G]:""}))},re=l.filter(G=>G.name.toLowerCase().includes(k.toLowerCase())||G.code.toLowerCase().includes(k.toLowerCase()));return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>a("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[r.jsx(tc,{size:20,className:"mr-2"}),L.back]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:L.subtitle})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsxs("form",{onSubmit:q,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:(F==null?void 0:F.name)||"",onClick:()=>C(!0),readOnly:!0,placeholder:L.selectProduct,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(ba,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),m.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.productId})]}),F&&r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[L.currentStock,":"]}),r.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[F.currentStock," ",F.unit]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.quantity," *"]}),r.jsx("input",{type:"number",value:s.quantity,onChange:G=>M("quantity",parseInt(G.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),m.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.quantity})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.department," *"]}),r.jsxs("select",{value:s.department,onChange:G=>M("department",G.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.department?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:L.selectProduct}),r.jsx("option",{value:L.departments.lab,children:L.departments.lab}),r.jsx("option",{value:L.departments.research,children:L.departments.research}),r.jsx("option",{value:L.departments.quality,children:L.departments.quality}),r.jsx("option",{value:L.departments.maintenance,children:L.departments.maintenance}),r.jsx("option",{value:L.departments.other,children:L.departments.other})]}),m.department&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.department})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.purpose," *"]}),r.jsxs("select",{value:s.purpose,onChange:G=>M("purpose",G.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.purpose?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:L.selectProduct}),r.jsx("option",{value:L.purposes.testing,children:L.purposes.testing}),r.jsx("option",{value:L.purposes.calibration,children:L.purposes.calibration}),r.jsx("option",{value:L.purposes.maintenance,children:L.purposes.maintenance}),r.jsx("option",{value:L.purposes.research,children:L.purposes.research}),r.jsx("option",{value:L.purposes.other,children:L.purposes.other})]}),m.purpose&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.purpose})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.usedBy}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:s.usedBy,onChange:G=>M("usedBy",G.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),r.jsx(As,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.notes}),r.jsx("textarea",{value:s.notes,onChange:G=>M("notes",G.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:()=>a("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:L.cancel}),r.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),L.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),L.save]})})]})]})}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:L.selectProduct}),r.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:L.searchProduct,value:k,onChange:G=>U(G.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:re.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:L.noProducts}):re.map(G=>r.jsxs("button",{onClick:()=>{o(V=>({...V,productId:G.id})),O(G),U(G.name),C(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:G.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[G.code," • ",G.category," • ",G.unit]}),r.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[L.currentStock,": ",G.currentStock]})]},G.id))})})]})})]})}function tR({onClose:e,onSuccess:t}){const{user:a,language:s}=qt(),[o,l]=X.useState({productId:"",fromLocation:"",toLocation:"",quantity:0,transferredBy:(a==null?void 0:a.name)||"",notes:""}),[d,g]=X.useState([]),[f,m]=X.useState(!1),[v,N]=X.useState({}),[C,k]=X.useState(!1),[U,F]=X.useState(""),[O,L]=X.useState(null),I={title:s==="fr"?"Transférer Stock":"Transfer Stock",subtitle:s==="fr"?"Déplacer du stock entre emplacements":"Move stock between locations",product:s==="fr"?"Produit":"Product",selectProduct:s==="fr"?"Sélectionner un produit":"Select a product",searchProduct:s==="fr"?"Rechercher un produit...":"Search for a product...",fromLocation:s==="fr"?"Emplacement source":"Source Location",toLocation:s==="fr"?"Emplacement destination":"Destination Location",quantity:s==="fr"?"Quantité à transférer":"Quantity to Transfer",transferredBy:s==="fr"?"Transféré par":"Transferred By",notes:"Notes",currentStock:s==="fr"?"Stock actuel":"Current Stock",save:s==="fr"?"Transférer":"Transfer",cancel:s==="fr"?"Annuler":"Cancel",required:s==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:s==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",insufficientStock:s==="fr"?"Stock insuffisant à l'emplacement source":"Insufficient stock at source location",sameLocation:s==="fr"?"Les emplacements source et destination doivent être différents":"Source and destination locations must be different",success:s==="fr"?"Transfert effectué avec succès":"Transfer completed successfully",error:s==="fr"?"Erreur lors du transfert":"Error during transfer",loading:s==="fr"?"Transfert en cours...":"Transferring...",noProducts:s==="fr"?"Aucun produit trouvé":"No products found",commonLocations:{fridge:s==="fr"?"Réfrigérateur":"Fridge",freezer:s==="fr"?"Congélateur":"Freezer",cabinet1:s==="fr"?"Armoire 1":"Cabinet 1",cabinet2:s==="fr"?"Armoire 2":"Cabinet 2",cabinet3:s==="fr"?"Armoire 3":"Cabinet 3",shelf1:s==="fr"?"Étagère 1":"Shelf 1",shelf2:s==="fr"?"Étagère 2":"Shelf 2",other:s==="fr"?"Autre":"Other"}};X.useEffect(()=>{T()},[]);const T=async()=>{try{const V=await mr.getProducts({limit:100});g(V.products||[])}catch(V){console.error("Error loading products:",V)}},q=()=>{const V={};return o.productId||(V.productId=I.required),o.fromLocation||(V.fromLocation=I.required),o.toLocation||(V.toLocation=I.required),o.fromLocation===o.toLocation&&(V.toLocation=I.sameLocation),(!o.quantity||o.quantity<=0)&&(V.quantity=I.invalidQuantity),o.transferredBy||(V.transferredBy=I.required),O&&o.quantity>O.currentStock&&(V.quantity=I.insufficientStock),N(V),Object.keys(V).length===0},M=async V=>{if(V.preventDefault(),!!q()){m(!0);try{await mr.transferStock(o),t==null||t(),e()}catch(ue){console.error("Error transferring stock:",ue),alert(I.error)}finally{m(!1)}}},re=(V,ue)=>{l(ne=>({...ne,[V]:ue})),v[V]&&N(ne=>({...ne,[V]:""}))},G=d.filter(V=>V.name.toLowerCase().includes(U.toLowerCase())||V.code.toLowerCase().includes(U.toLowerCase())||V.category.toLowerCase().includes(U.toLowerCase()));return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:I.subtitle})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:24})})]}),r.jsxs("form",{onSubmit:M,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[I.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:I.selectProduct,value:U,onChange:V=>F(V.target.value),onClick:()=>k(!0),readOnly:!0,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(ba,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),v.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.productId}),O&&r.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:[I.currentStock,": ",O.currentStock," ",O.unit]}),O.currentStock<=0&&r.jsx(Ir,{className:"h-4 w-4 text-red-500"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[I.fromLocation," *"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:o.fromLocation,onChange:V=>re("fromLocation",V.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.fromLocation?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:I.commonLocations.other}),r.jsx("option",{value:"fridge",children:I.commonLocations.fridge}),r.jsx("option",{value:"freezer",children:I.commonLocations.freezer}),r.jsx("option",{value:"cabinet1",children:I.commonLocations.cabinet1}),r.jsx("option",{value:"cabinet2",children:I.commonLocations.cabinet2}),r.jsx("option",{value:"cabinet3",children:I.commonLocations.cabinet3}),r.jsx("option",{value:"shelf1",children:I.commonLocations.shelf1}),r.jsx("option",{value:"shelf2",children:I.commonLocations.shelf2})]}),r.jsx(rc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 pointer-events-none"})]}),v.fromLocation&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.fromLocation})]}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(uf,{className:"h-6 w-6 text-gray-400"})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[I.toLocation," *"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:o.toLocation,onChange:V=>re("toLocation",V.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.toLocation?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:I.commonLocations.other}),r.jsx("option",{value:"fridge",children:I.commonLocations.fridge}),r.jsx("option",{value:"freezer",children:I.commonLocations.freezer}),r.jsx("option",{value:"cabinet1",children:I.commonLocations.cabinet1}),r.jsx("option",{value:"cabinet2",children:I.commonLocations.cabinet2}),r.jsx("option",{value:"cabinet3",children:I.commonLocations.cabinet3}),r.jsx("option",{value:"shelf1",children:I.commonLocations.shelf1}),r.jsx("option",{value:"shelf2",children:I.commonLocations.shelf2})]}),r.jsx(rc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 pointer-events-none"})]}),v.toLocation&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.toLocation})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[I.quantity," *"]}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:o.quantity,onChange:V=>re("quantity",parseFloat(V.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),v.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.quantity})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[I.transferredBy," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o.transferredBy,onChange:V=>re("transferredBy",V.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.transferredBy?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(As,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),v.transferredBy&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.transferredBy})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:I.notes}),r.jsx("textarea",{value:o.notes,onChange:V=>re("notes",V.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes about the transfer..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:I.cancel}),r.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:f?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),I.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),I.save]})})]})]})]}),C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:I.selectProduct}),r.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:I.searchProduct,value:U,onChange:V=>F(V.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:G.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:I.noProducts}):G.map(V=>r.jsxs("button",{onClick:()=>{l(ue=>({...ue,productId:V.id})),F(V.name),L(V),k(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:V.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[V.code," • ",V.category," • ",V.unit]}),r.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:[I.currentStock,": ",V.currentStock," ",V.unit]})]},V.id))})})]})})]})}function rR(){const{user:e,language:t}=qt(),a=Pn(),[s,o]=X.useState({productId:"",newQuantity:0,reason:"",adjustedBy:(e==null?void 0:e.name)||"",notes:""}),[l,d]=X.useState([]),[g,f]=X.useState(!1),[m,v]=X.useState({}),[N,C]=X.useState(!1),[k,U]=X.useState(""),[F,O]=X.useState(null),L={title:t==="fr"?"Ajuster Inventaire":"Adjust Inventory",subtitle:t==="fr"?"Corriger manuellement les niveaux de stock":"Manually correct stock levels",product:t==="fr"?"Produit":"Product",selectProduct:t==="fr"?"Sélectionner un produit":"Select a product",searchProduct:t==="fr"?"Rechercher un produit...":"Search for a product...",currentQuantity:t==="fr"?"Quantité actuelle":"Current Quantity",newQuantity:t==="fr"?"Nouvelle quantité":"New Quantity",difference:t==="fr"?"Différence":"Difference",reason:t==="fr"?"Raison de l'ajustement":"Adjustment Reason",adjustedBy:t==="fr"?"Ajusté par":"Adjusted By",notes:"Notes",save:t==="fr"?"Ajuster":"Adjust",cancel:t==="fr"?"Annuler":"Cancel",back:t==="fr"?"Retour":"Back",required:t==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:t==="fr"?"La quantité doit être positive":"Quantity must be positive",invalidReason:t==="fr"?"La raison doit contenir au moins 5 caractères":"Reason must be at least 5 characters",success:t==="fr"?"Ajustement effectué avec succès":"Adjustment completed successfully",error:t==="fr"?"Erreur lors de l'ajustement":"Error during adjustment",loading:t==="fr"?"Ajustement en cours...":"Adjusting...",noProducts:t==="fr"?"Aucun produit trouvé":"No products found",reasons:{damage:t==="fr"?"Produit endommagé":"Damaged product",loss:t==="fr"?"Perte de stock":"Stock loss",found:t==="fr"?"Stock retrouvé":"Stock found",correction:t==="fr"?"Correction d'erreur":"Error correction",audit:t==="fr"?"Audit d'inventaire":"Inventory audit",other:t==="fr"?"Autre":"Other"}};X.useEffect(()=>{I()},[]);const I=async()=>{try{const ne=await mr.getProducts({limit:100});d(Array.isArray(ne)?ne:[])}catch(ne){console.error("Error loading products:",ne)}},T=()=>{const ne={};return s.productId||(ne.productId=L.required),s.newQuantity<0&&(ne.newQuantity=L.invalidQuantity),(!s.reason.trim()||s.reason.trim().length<5)&&(ne.reason=L.invalidReason),v(ne),Object.keys(ne).length===0},q=async ne=>{if(ne.preventDefault(),!!T()){f(!0);try{await mr.adjustInventory(s),alert(L.success),a("/stock/dashboard")}catch($){console.error("Error adjusting inventory:",$),alert(L.error)}finally{f(!1)}}},M=(ne,$)=>{o(J=>({...J,[ne]:$})),m[ne]&&v(J=>({...J,[ne]:""}))},re=()=>F?s.newQuantity-F.currentStock:0,G=()=>{const ne=re();return ne>0?"text-green-600 dark:text-green-400":ne<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"},V=()=>{const ne=re();return ne>0?r.jsx(Us,{size:16,className:"text-green-600 dark:text-green-400"}):ne<0?r.jsx(ll,{size:16,className:"text-red-600 dark:text-red-400"}):null},ue=l.filter(ne=>ne.name.toLowerCase().includes(k.toLowerCase())||ne.code.toLowerCase().includes(k.toLowerCase()));return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>a("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[r.jsx(tc,{size:20,className:"mr-2"}),L.back]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:L.subtitle})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsxs("form",{onSubmit:q,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:(F==null?void 0:F.name)||"",onClick:()=>C(!0),readOnly:!0,placeholder:L.selectProduct,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(ba,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),m.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.productId})]}),F&&r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[L.currentQuantity,":"]}),r.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[F.currentStock," ",F.unit]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.newQuantity," *"]}),r.jsx("input",{type:"number",value:s.newQuantity,onChange:ne=>M("newQuantity",parseInt(ne.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.newQuantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),m.newQuantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.newQuantity})]}),F&&r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[L.difference,":"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[V(),r.jsxs("span",{className:`text-lg font-semibold ${G()}`,children:[re()>0?"+":"",re()," ",F.unit]})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.reason," *"]}),r.jsxs("select",{value:s.reason,onChange:ne=>M("reason",ne.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.reason?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:L.selectProduct}),r.jsx("option",{value:L.reasons.damage,children:L.reasons.damage}),r.jsx("option",{value:L.reasons.loss,children:L.reasons.loss}),r.jsx("option",{value:L.reasons.found,children:L.reasons.found}),r.jsx("option",{value:L.reasons.correction,children:L.reasons.correction}),r.jsx("option",{value:L.reasons.audit,children:L.reasons.audit}),r.jsx("option",{value:L.reasons.other,children:L.reasons.other})]}),m.reason&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.reason})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.adjustedBy}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:s.adjustedBy,onChange:ne=>M("adjustedBy",ne.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),r.jsx(As,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.notes}),r.jsx("textarea",{value:s.notes,onChange:ne=>M("notes",ne.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:()=>a("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:L.cancel}),r.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),L.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),L.save]})})]})]})}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:L.selectProduct}),r.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(er,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:L.searchProduct,value:k,onChange:ne=>U(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ue.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:L.noProducts}):ue.map(ne=>r.jsxs("button",{onClick:()=>{o($=>({...$,productId:ne.id})),O(ne),U(ne.name),C(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ne.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ne.code," • ",ne.category," • ",ne.unit]}),r.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[L.currentQuantity,": ",ne.currentStock]})]},ne.id))})})]})})]})}function aR(){const{language:e}=qt(),[t,a]=X.useState([]),[s,o]=X.useState([]),[l,d]=X.useState(""),[g,f]=X.useState("all"),[m,v]=X.useState(!0),[N,C]=X.useState(!1),[k,U]=X.useState(null),[F,O]=X.useState(null),L={fr:{title:"Gestion des Fournisseurs",subtitle:"Gérez vos fournisseurs et partenaires",addSupplier:"Ajouter Fournisseur",editSupplier:"Modifier Fournisseur",viewSupplier:"Détails Fournisseur",search:"Rechercher...",filter:"Filtrer par statut",all:"Tous",active:"Actif",inactive:"Inactif",code:"Code",name:"Nom",email:"Email",phone:"Téléphone",address:"Adresse",contactPerson:"Personne de contact",status:"Statut",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce fournisseur ?",success:"Fournisseur enregistré avec succès",error:"Erreur lors de l'enregistrement",noSuppliers:"Aucun fournisseur trouvé",totalSuppliers:"Total Fournisseurs",activeSuppliers:"Fournisseurs Actifs",recentSuppliers:"Fournisseurs Récents"},en:{title:"Suppliers Management",subtitle:"Manage your suppliers and partners",addSupplier:"Add Supplier",editSupplier:"Edit Supplier",viewSupplier:"View Supplier",search:"Search...",filter:"Filter by status",all:"All",active:"Active",inactive:"Inactive",code:"Code",name:"Name",email:"Email",phone:"Phone",address:"Address",contactPerson:"Contact Person",status:"Status",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Are you sure you want to delete this supplier?",success:"Supplier saved successfully",error:"Error saving supplier",noSuppliers:"No suppliers found",totalSuppliers:"Total Suppliers",activeSuppliers:"Active Suppliers",recentSuppliers:"Recent Suppliers"}}[e];X.useEffect(()=>{I()},[]),X.useEffect(()=>{T()},[t,l,g]);const I=async()=>{try{v(!0);const V=await mr.getSuppliers();a(V)}catch(V){console.error("Error loading suppliers:",V)}finally{v(!1)}},T=()=>{let V=t;l&&(V=V.filter(ue=>{var ne;return ue.name.toLowerCase().includes(l.toLowerCase())||ue.code.toLowerCase().includes(l.toLowerCase())||((ne=ue.email)==null?void 0:ne.toLowerCase().includes(l.toLowerCase()))})),g!=="all"&&(V=V.filter(ue=>g==="active"?ue.isActive:!ue.isActive)),o(V)},q=async V=>{try{k?await mr.updateSupplier(k.id,V):await mr.createSupplier(V),await I(),C(!1),U(null),alert(L.success)}catch(ue){console.error("Error saving supplier:",ue),alert(L.error)}},M=async V=>{if(window.confirm(L.confirmDelete))try{await mr.deleteSupplier(V),await I()}catch(ue){console.error("Error deleting supplier:",ue),alert(L.error)}},re=t.filter(V=>V.isActive).length,G=t.filter(V=>{const ue=new Date(V.createdAt),ne=new Date;return ne.setDate(ne.getDate()-30),ue>ne}).length;return m?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:L.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:L.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(rl,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.totalSuppliers}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(rl,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.activeSuppliers}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:re})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(rl,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.recentSuppliers}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:G})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:l,onChange:V=>d(V.target.value),placeholder:L.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:g,onChange:V=>f(V.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:L.all}),r.jsx("option",{value:"active",children:L.active}),r.jsx("option",{value:"inactive",children:L.inactive})]})]}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs("button",{onClick:()=>C(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:16,className:"mr-2"}),L.addSupplier]})})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:L.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:L.name}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:L.contactPerson}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:L.email}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:L.phone}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:L.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:L.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(V=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:V.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:V.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:V.contactPerson||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:V.email||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:V.phone||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:V.isActive?L.active:L.inactive})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>O(V),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Ms,{size:16})}),r.jsx("button",{onClick:()=>{U(V),C(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:r.jsx(co,{size:16})}),r.jsx("button",{onClick:()=>M(V.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(ei,{size:16})})]})})]},V.id))})]})}),s.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:L.noSuppliers})})]}),N&&r.jsx(sR,{supplier:k,onSave:q,onCancel:()=>{C(!1),U(null)},t:L}),F&&r.jsx(nR,{supplier:F,onClose:()=>O(null),t:L})]})}function sR({supplier:e,onSave:t,onCancel:a,t:s}){const[o,l]=X.useState({name:(e==null?void 0:e.name)||"",code:(e==null?void 0:e.code)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",contactPerson:(e==null?void 0:e.contactPerson)||"",isActive:(e==null?void 0:e.isActive)??!0}),d=g=>{g.preventDefault(),t(o)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e?s.editSupplier:s.addSupplier}),r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.code}),r.jsx("input",{type:"text",value:o.code,onChange:g=>l(f=>({...f,code:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.name}),r.jsx("input",{type:"text",value:o.name,onChange:g=>l(f=>({...f,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.contactPerson}),r.jsx("input",{type:"text",value:o.contactPerson,onChange:g=>l(f=>({...f,contactPerson:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.email}),r.jsx("input",{type:"email",value:o.email,onChange:g=>l(f=>({...f,email:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.phone}),r.jsx("input",{type:"tel",value:o.phone,onChange:g=>l(f=>({...f,phone:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.address}),r.jsx("textarea",{value:o.address,onChange:g=>l(f=>({...f,address:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:g=>l(f=>({...f,isActive:g.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:s.active})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:s.cancel}),r.jsx("button",{onClick:()=>t(o),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:s.save})]})]})})}function nR({supplier:e,onClose:t,t:a}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a.viewSupplier}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.code}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.code})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.name}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.contactPerson}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.contactPerson||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.email}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.email||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.phone}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.phone||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.address}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.address||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.status}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:e.isActive?a.active:a.inactive})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a.cancel})})]})})}function iR(){const{language:e}=qt(),[t,a]=X.useState([]),[s,o]=X.useState([]),[l,d]=X.useState([]),[g,f]=X.useState([]),[m,v]=X.useState(""),[N,C]=X.useState("all"),[k,U]=X.useState(!0),[F,O]=X.useState(!1),[L,I]=X.useState(null),[T,q]=X.useState(null),M={fr:{title:"Gestion des Commandes",subtitle:"Gérez vos commandes de stock",addOrder:"Nouvelle Commande",editOrder:"Modifier Commande",viewOrder:"Détails Commande",search:"Rechercher...",filter:"Filtrer par statut",all:"Tous",draft:"Brouillon",pending:"En attente",confirmed:"Confirmée",shipped:"Expédiée",delivered:"Livrée",cancelled:"Annulée",orderNumber:"N° Commande",supplier:"Fournisseur",status:"Statut",orderDate:"Date Commande",expectedDate:"Date Livraison",totalAmount:"Montant Total",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Êtes-vous sûr de vouloir supprimer cette commande ?",success:"Commande enregistrée avec succès",error:"Erreur lors de l'enregistrement",noOrders:"Aucune commande trouvée",totalOrders:"Total Commandes",pendingOrders:"Commandes En Attente",totalValue:"Valeur Totale"},en:{title:"Orders Management",subtitle:"Manage your stock orders",addOrder:"New Order",editOrder:"Edit Order",viewOrder:"View Order",search:"Search...",filter:"Filter by status",all:"All",draft:"Draft",pending:"Pending",confirmed:"Confirmed",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",orderNumber:"Order Number",supplier:"Supplier",status:"Status",orderDate:"Order Date",expectedDate:"Expected Date",totalAmount:"Total Amount",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Are you sure you want to delete this order?",success:"Order saved successfully",error:"Error saving order",noOrders:"No orders found",totalOrders:"Total Orders",pendingOrders:"Pending Orders",totalValue:"Total Value"}}[e];X.useEffect(()=>{re()},[]),X.useEffect(()=>{G()},[t,m,N]);const re=async()=>{try{U(!0);const[le,ie,Y]=await Promise.all([mr.getOrders(),mr.getSuppliers(),mr.getProducts()]);a(le),d(ie),f(Y)}catch(le){console.error("Error loading data:",le)}finally{U(!1)}},G=()=>{let le=t;m&&(le=le.filter(ie=>ie.orderNumber.toLowerCase().includes(m.toLowerCase())||ie.supplier.name.toLowerCase().includes(m.toLowerCase()))),N!=="all"&&(le=le.filter(ie=>ie.status===N.toUpperCase())),o(le)},V=async le=>{try{L?await mr.updateOrder(L.id,le):await mr.createOrder(le),await re(),O(!1),I(null),alert(M.success)}catch(ie){console.error("Error saving order:",ie),alert(M.error)}},ue=async le=>{if(window.confirm(M.confirmDelete))try{await mr.deleteOrder(le),await re()}catch(ie){console.error("Error deleting order:",ie),alert(M.error)}},ne=le=>{switch(le){case"DRAFT":return r.jsx(ms,{className:"h-4 w-4 text-gray-500"});case"PENDING":return r.jsx(ms,{className:"h-4 w-4 text-yellow-500"});case"CONFIRMED":return r.jsx(Pr,{className:"h-4 w-4 text-blue-500"});case"SHIPPED":return r.jsx(XN,{className:"h-4 w-4 text-purple-500"});case"DELIVERED":return r.jsx(Pr,{className:"h-4 w-4 text-green-500"});case"CANCELLED":return r.jsx(cl,{className:"h-4 w-4 text-red-500"});default:return r.jsx(ms,{className:"h-4 w-4 text-gray-500"})}},$=le=>{switch(le){case"DRAFT":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"CONFIRMED":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"SHIPPED":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"DELIVERED":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"CANCELLED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},J=t.filter(le=>le.status==="PENDING").length,oe=t.reduce((le,ie)=>le+ie.totalAmount,0);return k?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:M.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:M.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(qN,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:M.totalOrders}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ms,{className:"h-8 w-8 text-yellow-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:M.pendingOrders}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:J})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(In,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:M.totalValue}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[oe.toFixed(2)," dh"]})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:m,onChange:le=>v(le.target.value),placeholder:M.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:N,onChange:le=>C(le.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:M.all}),r.jsx("option",{value:"draft",children:M.draft}),r.jsx("option",{value:"pending",children:M.pending}),r.jsx("option",{value:"confirmed",children:M.confirmed}),r.jsx("option",{value:"shipped",children:M.shipped}),r.jsx("option",{value:"delivered",children:M.delivered}),r.jsx("option",{value:"cancelled",children:M.cancelled})]})]}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs("button",{onClick:()=>O(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:16,className:"mr-2"}),M.addOrder]})})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:M.orderNumber}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:M.supplier}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:M.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:M.orderDate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:M.expectedDate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:M.totalAmount}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:M.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(le=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:le.orderNumber}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:le.supplier.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[ne(le.status),r.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${$(le.status)}`,children:M[le.status.toLowerCase()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(le.orderDate).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:le.expectedDate?new Date(le.expectedDate).toLocaleDateString():"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:[le.totalAmount.toFixed(2)," dh"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>q(le),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Ms,{size:16})}),r.jsx("button",{onClick:()=>{I(le),O(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:r.jsx(co,{size:16})}),r.jsx("button",{onClick:()=>ue(le.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(ei,{size:16})})]})})]},le.id))})]})}),s.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:M.noOrders})})]}),F&&r.jsx(oR,{order:L,suppliers:l,products:g,onSave:V,onCancel:()=>{O(!1),I(null)},t:M}),T&&r.jsx(lR,{order:T,onClose:()=>q(null),t:M})]})}function oR({order:e,suppliers:t,products:a,onSave:s,onCancel:o,t:l}){const[d,g]=X.useState({supplierId:(e==null?void 0:e.supplierId)||"",status:(e==null?void 0:e.status)||"DRAFT",expectedDate:e!=null&&e.expectedDate?e.expectedDate.split("T")[0]:"",notes:(e==null?void 0:e.notes)||"",orderItems:(e==null?void 0:e.orderItems)||[]}),[f,m]=X.useState({productId:"",quantity:1,unitPrice:0}),v=()=>{if(f.productId&&f.quantity>0){const k=a.find(F=>F.id===f.productId),U=f.quantity*f.unitPrice;g(F=>({...F,orderItems:[...F.orderItems,{id:Date.now().toString(),productId:f.productId,product:k,quantity:f.quantity,unitPrice:f.unitPrice,totalPrice:U}]})),m({productId:"",quantity:1,unitPrice:0})}},N=k=>{g(U=>({...U,orderItems:U.orderItems.filter((F,O)=>O!==k)}))},C=k=>{k.preventDefault();const U=d.orderItems.reduce((F,O)=>F+O.totalPrice,0);s({...d,totalAmount:U})};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e?l.editOrder:l.addOrder}),r.jsxs("form",{onSubmit:C,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.supplier}),r.jsxs("select",{value:d.supplierId,onChange:k=>g(U=>({...U,supplierId:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0,children:[r.jsx("option",{value:"",children:l.supplier}),t.map(k=>r.jsxs("option",{value:k.id,children:[k.name," (",k.code,")"]},k.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.status}),r.jsxs("select",{value:d.status,onChange:k=>g(U=>({...U,status:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"DRAFT",children:l.draft}),r.jsx("option",{value:"PENDING",children:l.pending}),r.jsx("option",{value:"CONFIRMED",children:l.confirmed}),r.jsx("option",{value:"SHIPPED",children:l.shipped}),r.jsx("option",{value:"DELIVERED",children:l.delivered}),r.jsx("option",{value:"CANCELLED",children:l.cancelled})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.expectedDate}),r.jsx("input",{type:"date",value:d.expectedDate,onChange:k=>g(U=>({...U,expectedDate:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),r.jsx("textarea",{value:d.notes,onChange:k=>g(U=>({...U,notes:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-4",children:[r.jsxs("select",{value:f.productId,onChange:k=>{const U=a.find(F=>F.id===k.target.value);m(F=>({...F,productId:k.target.value,unitPrice:(U==null?void 0:U.price)||0}))},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"",children:"Select Product"}),a.map(k=>r.jsxs("option",{value:k.id,children:[k.name," (",k.code,")"]},k.id))]}),r.jsx("input",{type:"number",placeholder:"Quantity",value:f.quantity,onChange:k=>m(U=>({...U,quantity:parseInt(k.target.value)||0})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",min:"1"}),r.jsx("input",{type:"number",placeholder:"Unit Price",value:f.unitPrice,onChange:k=>m(U=>({...U,unitPrice:parseFloat(k.target.value)||0})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",step:"0.01",min:"0"}),r.jsx("button",{type:"button",onClick:v,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Add Item"})]}),r.jsx("div",{className:"space-y-2",children:d.orderItems.map((k,U)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:k.product.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[k.quantity," x ",k.unitPrice.toFixed(2)," dh = ",k.totalPrice.toFixed(2)," dh"]})]}),r.jsx("button",{type:"button",onClick:()=>N(U),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(ei,{size:16})})]},k.id))}),r.jsx("div",{className:"text-right mt-4",children:r.jsxs("p",{className:"text-lg font-bold",children:["Total: ",d.orderItems.reduce((k,U)=>k+U.totalPrice,0).toFixed(2)," dh"]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:o,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:l.cancel}),r.jsx("button",{onClick:C,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:l.save})]})]})})}function lR({order:e,onClose:t,t:a}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a.viewOrder}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.orderNumber}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.orderNumber})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.supplier}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.supplier.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.status}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:a[e.status.toLowerCase()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.orderDate}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:new Date(e.orderDate).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.expectedDate}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.expectedDate?new Date(e.expectedDate).toLocaleDateString():"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.totalAmount}),r.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.totalAmount.toFixed(2)," dh"]})]})]}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.notes})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),r.jsx("div",{className:"space-y-2",children:e.orderItems.map(s=>r.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:s.product.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.quantity," x ",s.unitPrice.toFixed(2)," dh = ",s.totalPrice.toFixed(2)," dh"]})]})},s.id))})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a.cancel})})]})})}function dC(e,t){return function(){return e.apply(t,arguments)}}const{toString:cR}=Object.prototype,{getPrototypeOf:xb}=Object,{iterator:k0,toStringTag:uC}=Symbol,N0=(e=>t=>{const a=cR.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),si=e=>(e=e.toLowerCase(),t=>N0(t)===e),B0=e=>t=>typeof t===e,{isArray:TA}=Array,Bu=B0("undefined");function Tu(e){return e!==null&&!Bu(e)&&e.constructor!==null&&!Bu(e.constructor)&&Rs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hC=si("ArrayBuffer");function AR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&hC(e.buffer),t}const dR=B0("string"),Rs=B0("function"),gC=B0("number"),Ru=e=>e!==null&&typeof e=="object",uR=e=>e===!0||e===!1,Pg=e=>{if(N0(e)!=="object")return!1;const t=xb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(uC in e)&&!(k0 in e)},hR=e=>{if(!Ru(e)||Tu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},gR=si("Date"),fR=si("File"),pR=si("Blob"),mR=si("FileList"),xR=e=>Ru(e)&&Rs(e.pipe),yR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Rs(e.append)&&((t=N0(e))==="formdata"||t==="object"&&Rs(e.toString)&&e.toString()==="[object FormData]"))},bR=si("URLSearchParams"),[vR,wR,kR,NR]=["ReadableStream","Request","Response","Headers"].map(si),BR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mu(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),TA(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{if(Tu(e))return;const l=a?Object.getOwnPropertyNames(e):Object.keys(e),d=l.length;let g;for(s=0;s<d;s++)g=l[s],t.call(null,e[g],g,e)}}function fC(e,t){if(Tu(e))return null;t=t.toLowerCase();const a=Object.keys(e);let s=a.length,o;for(;s-- >0;)if(o=a[s],t===o.toLowerCase())return o;return null}const zl=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),pC=e=>!Bu(e)&&e!==zl;function Jx(){const{caseless:e}=pC(this)&&this||{},t={},a=(s,o)=>{const l=e&&fC(t,o)||o;Pg(t[l])&&Pg(s)?t[l]=Jx(t[l],s):Pg(s)?t[l]=Jx({},s):TA(s)?t[l]=s.slice():t[l]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Mu(arguments[s],a);return t}const CR=(e,t,a,{allOwnKeys:s}={})=>(Mu(t,(o,l)=>{a&&Rs(o)?e[l]=dC(o,a):e[l]=o},{allOwnKeys:s}),e),jR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),SR=(e,t,a,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},FR=(e,t,a,s)=>{let o,l,d;const g={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)d=o[l],(!s||s(d,e,t))&&!g[d]&&(t[d]=e[d],g[d]=!0);e=a!==!1&&xb(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},ER=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const s=e.indexOf(t,a);return s!==-1&&s===a},LR=e=>{if(!e)return null;if(TA(e))return e;let t=e.length;if(!gC(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},IR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xb(Uint8Array)),PR=(e,t)=>{const s=(e&&e[k0]).call(e);let o;for(;(o=s.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},UR=(e,t)=>{let a;const s=[];for(;(a=e.exec(t))!==null;)s.push(a);return s},QR=si("HTMLFormElement"),DR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,o){return s.toUpperCase()+o}),t2=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),TR=si("RegExp"),mC=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),s={};Mu(a,(o,l)=>{let d;(d=t(o,l,e))!==!1&&(s[l]=d||o)}),Object.defineProperties(e,s)},RR=e=>{mC(e,(t,a)=>{if(Rs(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=e[a];if(Rs(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},MR=(e,t)=>{const a={},s=o=>{o.forEach(l=>{a[l]=!0})};return TA(e)?s(e):s(String(e).split(t)),a},HR=()=>{},OR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function _R(e){return!!(e&&Rs(e.append)&&e[uC]==="FormData"&&e[k0])}const zR=e=>{const t=new Array(10),a=(s,o)=>{if(Ru(s)){if(t.indexOf(s)>=0)return;if(Tu(s))return s;if(!("toJSON"in s)){t[o]=s;const l=TA(s)?[]:{};return Mu(s,(d,g)=>{const f=a(d,o+1);!Bu(f)&&(l[g]=f)}),t[o]=void 0,l}}return s};return a(e,0)},VR=si("AsyncFunction"),GR=e=>e&&(Ru(e)||Rs(e))&&Rs(e.then)&&Rs(e.catch),xC=((e,t)=>e?setImmediate:t?((a,s)=>(zl.addEventListener("message",({source:o,data:l})=>{o===zl&&l===a&&s.length&&s.shift()()},!1),o=>{s.push(o),zl.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Rs(zl.postMessage)),qR=typeof queueMicrotask<"u"?queueMicrotask.bind(zl):typeof process<"u"&&process.nextTick||xC,XR=e=>e!=null&&Rs(e[k0]),qe={isArray:TA,isArrayBuffer:hC,isBuffer:Tu,isFormData:yR,isArrayBufferView:AR,isString:dR,isNumber:gC,isBoolean:uR,isObject:Ru,isPlainObject:Pg,isEmptyObject:hR,isReadableStream:vR,isRequest:wR,isResponse:kR,isHeaders:NR,isUndefined:Bu,isDate:gR,isFile:fR,isBlob:pR,isRegExp:TR,isFunction:Rs,isStream:xR,isURLSearchParams:bR,isTypedArray:IR,isFileList:mR,forEach:Mu,merge:Jx,extend:CR,trim:BR,stripBOM:jR,inherits:SR,toFlatObject:FR,kindOf:N0,kindOfTest:si,endsWith:ER,toArray:LR,forEachEntry:PR,matchAll:UR,isHTMLForm:QR,hasOwnProperty:t2,hasOwnProp:t2,reduceDescriptors:mC,freezeMethods:RR,toObjectSet:MR,toCamelCase:DR,noop:HR,toFiniteNumber:OR,findKey:fC,global:zl,isContextDefined:pC,isSpecCompliantForm:_R,toJSONObject:zR,isAsyncFn:VR,isThenable:GR,setImmediate:xC,asap:qR,isIterable:XR};function $t(e,t,a,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}qe.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qe.toJSONObject(this.config),code:this.code,status:this.status}}});const yC=$t.prototype,bC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{bC[e]={value:e}});Object.defineProperties($t,bC);Object.defineProperty(yC,"isAxiosError",{value:!0});$t.from=(e,t,a,s,o,l)=>{const d=Object.create(yC);return qe.toFlatObject(e,d,function(f){return f!==Error.prototype},g=>g!=="isAxiosError"),$t.call(d,e.message,t,a,s,o),d.cause=e,d.name=e.name,l&&Object.assign(d,l),d};const KR=null;function Zx(e){return qe.isPlainObject(e)||qe.isArray(e)}function vC(e){return qe.endsWith(e,"[]")?e.slice(0,-2):e}function r2(e,t,a){return e?e.concat(t).map(function(o,l){return o=vC(o),!a&&l?"["+o+"]":o}).join(a?".":""):t}function WR(e){return qe.isArray(e)&&!e.some(Zx)}const YR=qe.toFlatObject(qe,{},null,function(t){return/^is[A-Z]/.test(t)});function C0(e,t,a){if(!qe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=qe.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,O){return!qe.isUndefined(O[F])});const s=a.metaTokens,o=a.visitor||v,l=a.dots,d=a.indexes,f=(a.Blob||typeof Blob<"u"&&Blob)&&qe.isSpecCompliantForm(t);if(!qe.isFunction(o))throw new TypeError("visitor must be a function");function m(U){if(U===null)return"";if(qe.isDate(U))return U.toISOString();if(qe.isBoolean(U))return U.toString();if(!f&&qe.isBlob(U))throw new $t("Blob is not supported. Use a Buffer instead.");return qe.isArrayBuffer(U)||qe.isTypedArray(U)?f&&typeof Blob=="function"?new Blob([U]):Buffer.from(U):U}function v(U,F,O){let L=U;if(U&&!O&&typeof U=="object"){if(qe.endsWith(F,"{}"))F=s?F:F.slice(0,-2),U=JSON.stringify(U);else if(qe.isArray(U)&&WR(U)||(qe.isFileList(U)||qe.endsWith(F,"[]"))&&(L=qe.toArray(U)))return F=vC(F),L.forEach(function(T,q){!(qe.isUndefined(T)||T===null)&&t.append(d===!0?r2([F],q,l):d===null?F:F+"[]",m(T))}),!1}return Zx(U)?!0:(t.append(r2(O,F,l),m(U)),!1)}const N=[],C=Object.assign(YR,{defaultVisitor:v,convertValue:m,isVisitable:Zx});function k(U,F){if(!qe.isUndefined(U)){if(N.indexOf(U)!==-1)throw Error("Circular reference detected in "+F.join("."));N.push(U),qe.forEach(U,function(L,I){(!(qe.isUndefined(L)||L===null)&&o.call(t,L,qe.isString(I)?I.trim():I,F,C))===!0&&k(L,F?F.concat(I):[I])}),N.pop()}}if(!qe.isObject(e))throw new TypeError("data must be an object");return k(e),t}function a2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function yb(e,t){this._pairs=[],e&&C0(e,this,t)}const wC=yb.prototype;wC.append=function(t,a){this._pairs.push([t,a])};wC.toString=function(t){const a=t?function(s){return t.call(this,s,a2)}:a2;return this._pairs.map(function(o){return a(o[0])+"="+a(o[1])},"").join("&")};function $R(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kC(e,t,a){if(!t)return e;const s=a&&a.encode||$R;qe.isFunction(a)&&(a={serialize:a});const o=a&&a.serialize;let l;if(o?l=o(t,a):l=qe.isURLSearchParams(t)?t.toString():new yb(t,a).toString(s),l){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class JR{constructor(){this.handlers=[]}use(t,a,s){return this.handlers.push({fulfilled:t,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){qe.forEach(this.handlers,function(s){s!==null&&t(s)})}}const s2=JR,NC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZR=typeof URLSearchParams<"u"?URLSearchParams:yb,e7=typeof FormData<"u"?FormData:null,t7=typeof Blob<"u"?Blob:null,r7={isBrowser:!0,classes:{URLSearchParams:ZR,FormData:e7,Blob:t7},protocols:["http","https","file","blob","url","data"]},bb=typeof window<"u"&&typeof document<"u",ey=typeof navigator=="object"&&navigator||void 0,a7=bb&&(!ey||["ReactNative","NativeScript","NS"].indexOf(ey.product)<0),s7=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),n7=bb&&window.location.href||"http://localhost",i7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bb,hasStandardBrowserEnv:a7,hasStandardBrowserWebWorkerEnv:s7,navigator:ey,origin:n7},Symbol.toStringTag,{value:"Module"})),is={...i7,...r7};function o7(e,t){return C0(e,new is.classes.URLSearchParams,{visitor:function(a,s,o,l){return is.isNode&&qe.isBuffer(a)?(this.append(s,a.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function l7(e){return qe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function c7(e){const t={},a=Object.keys(e);let s;const o=a.length;let l;for(s=0;s<o;s++)l=a[s],t[l]=e[l];return t}function BC(e){function t(a,s,o,l){let d=a[l++];if(d==="__proto__")return!0;const g=Number.isFinite(+d),f=l>=a.length;return d=!d&&qe.isArray(o)?o.length:d,f?(qe.hasOwnProp(o,d)?o[d]=[o[d],s]:o[d]=s,!g):((!o[d]||!qe.isObject(o[d]))&&(o[d]=[]),t(a,s,o[d],l)&&qe.isArray(o[d])&&(o[d]=c7(o[d])),!g)}if(qe.isFormData(e)&&qe.isFunction(e.entries)){const a={};return qe.forEachEntry(e,(s,o)=>{t(l7(s),o,a,0)}),a}return null}function A7(e,t,a){if(qe.isString(e))try{return(t||JSON.parse)(e),qe.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(e)}const vb={transitional:NC,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const s=a.getContentType()||"",o=s.indexOf("application/json")>-1,l=qe.isObject(t);if(l&&qe.isHTMLForm(t)&&(t=new FormData(t)),qe.isFormData(t))return o?JSON.stringify(BC(t)):t;if(qe.isArrayBuffer(t)||qe.isBuffer(t)||qe.isStream(t)||qe.isFile(t)||qe.isBlob(t)||qe.isReadableStream(t))return t;if(qe.isArrayBufferView(t))return t.buffer;if(qe.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return o7(t,this.formSerializer).toString();if((g=qe.isFileList(t))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return C0(g?{"files[]":t}:t,f&&new f,this.formSerializer)}}return l||o?(a.setContentType("application/json",!1),A7(t)):t}],transformResponse:[function(t){const a=this.transitional||vb.transitional,s=a&&a.forcedJSONParsing,o=this.responseType==="json";if(qe.isResponse(t)||qe.isReadableStream(t))return t;if(t&&qe.isString(t)&&(s&&!this.responseType||o)){const d=!(a&&a.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(g){if(d)throw g.name==="SyntaxError"?$t.from(g,$t.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:is.classes.FormData,Blob:is.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qe.forEach(["delete","get","head","post","put","patch"],e=>{vb.headers[e]={}});const wb=vb,d7=qe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),u7=e=>{const t={};let a,s,o;return e&&e.split(`
`).forEach(function(d){o=d.indexOf(":"),a=d.substring(0,o).trim().toLowerCase(),s=d.substring(o+1).trim(),!(!a||t[a]&&d7[a])&&(a==="set-cookie"?t[a]?t[a].push(s):t[a]=[s]:t[a]=t[a]?t[a]+", "+s:s)}),t},n2=Symbol("internals");function kd(e){return e&&String(e).trim().toLowerCase()}function Ug(e){return e===!1||e==null?e:qe.isArray(e)?e.map(Ug):String(e)}function h7(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(e);)t[s[1]]=s[2];return t}const g7=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function cm(e,t,a,s,o){if(qe.isFunction(s))return s.call(this,t,a);if(o&&(t=a),!!qe.isString(t)){if(qe.isString(s))return t.indexOf(s)!==-1;if(qe.isRegExp(s))return s.test(t)}}function f7(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,s)=>a.toUpperCase()+s)}function p7(e,t){const a=qe.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+a,{value:function(o,l,d){return this[s].call(this,t,o,l,d)},configurable:!0})})}class j0{constructor(t){t&&this.set(t)}set(t,a,s){const o=this;function l(g,f,m){const v=kd(f);if(!v)throw new Error("header name must be a non-empty string");const N=qe.findKey(o,v);(!N||o[N]===void 0||m===!0||m===void 0&&o[N]!==!1)&&(o[N||f]=Ug(g))}const d=(g,f)=>qe.forEach(g,(m,v)=>l(m,v,f));if(qe.isPlainObject(t)||t instanceof this.constructor)d(t,a);else if(qe.isString(t)&&(t=t.trim())&&!g7(t))d(u7(t),a);else if(qe.isObject(t)&&qe.isIterable(t)){let g={},f,m;for(const v of t){if(!qe.isArray(v))throw TypeError("Object iterator must return a key-value pair");g[m=v[0]]=(f=g[m])?qe.isArray(f)?[...f,v[1]]:[f,v[1]]:v[1]}d(g,a)}else t!=null&&l(a,t,s);return this}get(t,a){if(t=kd(t),t){const s=qe.findKey(this,t);if(s){const o=this[s];if(!a)return o;if(a===!0)return h7(o);if(qe.isFunction(a))return a.call(this,o,s);if(qe.isRegExp(a))return a.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=kd(t),t){const s=qe.findKey(this,t);return!!(s&&this[s]!==void 0&&(!a||cm(this,this[s],s,a)))}return!1}delete(t,a){const s=this;let o=!1;function l(d){if(d=kd(d),d){const g=qe.findKey(s,d);g&&(!a||cm(s,s[g],g,a))&&(delete s[g],o=!0)}}return qe.isArray(t)?t.forEach(l):l(t),o}clear(t){const a=Object.keys(this);let s=a.length,o=!1;for(;s--;){const l=a[s];(!t||cm(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const a=this,s={};return qe.forEach(this,(o,l)=>{const d=qe.findKey(s,l);if(d){a[d]=Ug(o),delete a[l];return}const g=t?f7(l):String(l).trim();g!==l&&delete a[l],a[g]=Ug(o),s[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return qe.forEach(this,(s,o)=>{s!=null&&s!==!1&&(a[o]=t&&qe.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const s=new this(t);return a.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[n2]=this[n2]={accessors:{}}).accessors,o=this.prototype;function l(d){const g=kd(d);s[g]||(p7(o,d),s[g]=!0)}return qe.isArray(t)?t.forEach(l):l(t),this}}j0.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qe.reduceDescriptors(j0.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[a]=s}}});qe.freezeMethods(j0);const Jn=j0;function Am(e,t){const a=this||wb,s=t||a,o=Jn.from(s.headers);let l=s.data;return qe.forEach(e,function(g){l=g.call(a,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function CC(e){return!!(e&&e.__CANCEL__)}function RA(e,t,a){$t.call(this,e??"canceled",$t.ERR_CANCELED,t,a),this.name="CanceledError"}qe.inherits(RA,$t,{__CANCEL__:!0});function jC(e,t,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?e(a):t(new $t("Request failed with status code "+a.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function m7(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function x7(e,t){e=e||10;const a=new Array(e),s=new Array(e);let o=0,l=0,d;return t=t!==void 0?t:1e3,function(f){const m=Date.now(),v=s[l];d||(d=m),a[o]=f,s[o]=m;let N=l,C=0;for(;N!==o;)C+=a[N++],N=N%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),m-d<t)return;const k=v&&m-v;return k?Math.round(C*1e3/k):void 0}}function y7(e,t){let a=0,s=1e3/t,o,l;const d=(m,v=Date.now())=>{a=v,o=null,l&&(clearTimeout(l),l=null),e(...m)};return[(...m)=>{const v=Date.now(),N=v-a;N>=s?d(m,v):(o=m,l||(l=setTimeout(()=>{l=null,d(o)},s-N)))},()=>o&&d(o)]}const Lf=(e,t,a=3)=>{let s=0;const o=x7(50,250);return y7(l=>{const d=l.loaded,g=l.lengthComputable?l.total:void 0,f=d-s,m=o(f),v=d<=g;s=d;const N={loaded:d,total:g,progress:g?d/g:void 0,bytes:f,rate:m||void 0,estimated:m&&g&&v?(g-d)/m:void 0,event:l,lengthComputable:g!=null,[t?"download":"upload"]:!0};e(N)},a)},i2=(e,t)=>{const a=e!=null;return[s=>t[0]({lengthComputable:a,total:e,loaded:s}),t[1]]},o2=e=>(...t)=>qe.asap(()=>e(...t)),b7=is.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,is.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(is.origin),is.navigator&&/(msie|trident)/i.test(is.navigator.userAgent)):()=>!0,v7=is.hasStandardBrowserEnv?{write(e,t,a,s,o,l){const d=[e+"="+encodeURIComponent(t)];qe.isNumber(a)&&d.push("expires="+new Date(a).toGMTString()),qe.isString(s)&&d.push("path="+s),qe.isString(o)&&d.push("domain="+o),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function w7(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function k7(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function SC(e,t,a){let s=!w7(t);return e&&(s||a==!1)?k7(e,t):t}const l2=e=>e instanceof Jn?{...e}:e;function ic(e,t){t=t||{};const a={};function s(m,v,N,C){return qe.isPlainObject(m)&&qe.isPlainObject(v)?qe.merge.call({caseless:C},m,v):qe.isPlainObject(v)?qe.merge({},v):qe.isArray(v)?v.slice():v}function o(m,v,N,C){if(qe.isUndefined(v)){if(!qe.isUndefined(m))return s(void 0,m,N,C)}else return s(m,v,N,C)}function l(m,v){if(!qe.isUndefined(v))return s(void 0,v)}function d(m,v){if(qe.isUndefined(v)){if(!qe.isUndefined(m))return s(void 0,m)}else return s(void 0,v)}function g(m,v,N){if(N in t)return s(m,v);if(N in e)return s(void 0,m)}const f={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:g,headers:(m,v,N)=>o(l2(m),l2(v),N,!0)};return qe.forEach(Object.keys({...e,...t}),function(v){const N=f[v]||o,C=N(e[v],t[v],v);qe.isUndefined(C)&&N!==g||(a[v]=C)}),a}const FC=e=>{const t=ic({},e);let{data:a,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:d,auth:g}=t;t.headers=d=Jn.from(d),t.url=kC(SC(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&d.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let f;if(qe.isFormData(a)){if(is.hasStandardBrowserEnv||is.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((f=d.getContentType())!==!1){const[m,...v]=f?f.split(";").map(N=>N.trim()).filter(Boolean):[];d.setContentType([m||"multipart/form-data",...v].join("; "))}}if(is.hasStandardBrowserEnv&&(s&&qe.isFunction(s)&&(s=s(t)),s||s!==!1&&b7(t.url))){const m=o&&l&&v7.read(l);m&&d.set(o,m)}return t},N7=typeof XMLHttpRequest<"u",B7=N7&&function(e){return new Promise(function(a,s){const o=FC(e);let l=o.data;const d=Jn.from(o.headers).normalize();let{responseType:g,onUploadProgress:f,onDownloadProgress:m}=o,v,N,C,k,U;function F(){k&&k(),U&&U(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let O=new XMLHttpRequest;O.open(o.method.toUpperCase(),o.url,!0),O.timeout=o.timeout;function L(){if(!O)return;const T=Jn.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),M={data:!g||g==="text"||g==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:T,config:e,request:O};jC(function(G){a(G),F()},function(G){s(G),F()},M),O=null}"onloadend"in O?O.onloadend=L:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(L)},O.onabort=function(){O&&(s(new $t("Request aborted",$t.ECONNABORTED,e,O)),O=null)},O.onerror=function(){s(new $t("Network Error",$t.ERR_NETWORK,e,O)),O=null},O.ontimeout=function(){let q=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const M=o.transitional||NC;o.timeoutErrorMessage&&(q=o.timeoutErrorMessage),s(new $t(q,M.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,e,O)),O=null},l===void 0&&d.setContentType(null),"setRequestHeader"in O&&qe.forEach(d.toJSON(),function(q,M){O.setRequestHeader(M,q)}),qe.isUndefined(o.withCredentials)||(O.withCredentials=!!o.withCredentials),g&&g!=="json"&&(O.responseType=o.responseType),m&&([C,U]=Lf(m,!0),O.addEventListener("progress",C)),f&&O.upload&&([N,k]=Lf(f),O.upload.addEventListener("progress",N),O.upload.addEventListener("loadend",k)),(o.cancelToken||o.signal)&&(v=T=>{O&&(s(!T||T.type?new RA(null,e,O):T),O.abort(),O=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const I=m7(o.url);if(I&&is.protocols.indexOf(I)===-1){s(new $t("Unsupported protocol "+I+":",$t.ERR_BAD_REQUEST,e));return}O.send(l||null)})},C7=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let s=new AbortController,o;const l=function(m){if(!o){o=!0,g();const v=m instanceof Error?m:this.reason;s.abort(v instanceof $t?v:new RA(v instanceof Error?v.message:v))}};let d=t&&setTimeout(()=>{d=null,l(new $t(`timeout ${t} of ms exceeded`,$t.ETIMEDOUT))},t);const g=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),e=null)};e.forEach(m=>m.addEventListener("abort",l));const{signal:f}=s;return f.unsubscribe=()=>qe.asap(g),f}},j7=C7,S7=function*(e,t){let a=e.byteLength;if(!t||a<t){yield e;return}let s=0,o;for(;s<a;)o=s+t,yield e.slice(s,o),s=o},F7=async function*(e,t){for await(const a of E7(e))yield*S7(a,t)},E7=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:s}=await t.read();if(a)break;yield s}}finally{await t.cancel()}},c2=(e,t,a,s)=>{const o=F7(e,t);let l=0,d,g=f=>{d||(d=!0,s&&s(f))};return new ReadableStream({async pull(f){try{const{done:m,value:v}=await o.next();if(m){g(),f.close();return}let N=v.byteLength;if(a){let C=l+=N;a(C)}f.enqueue(new Uint8Array(v))}catch(m){throw g(m),m}},cancel(f){return g(f),o.return()}},{highWaterMark:2})},S0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",EC=S0&&typeof ReadableStream=="function",L7=S0&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),LC=(e,...t)=>{try{return!!e(...t)}catch{return!1}},I7=EC&&LC(()=>{let e=!1;const t=new Request(is.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),A2=64*1024,ty=EC&&LC(()=>qe.isReadableStream(new Response("").body)),If={stream:ty&&(e=>e.body)};S0&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!If[t]&&(If[t]=qe.isFunction(e[t])?a=>a[t]():(a,s)=>{throw new $t(`Response type '${t}' is not supported`,$t.ERR_NOT_SUPPORT,s)})})})(new Response);const P7=async e=>{if(e==null)return 0;if(qe.isBlob(e))return e.size;if(qe.isSpecCompliantForm(e))return(await new Request(is.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(qe.isArrayBufferView(e)||qe.isArrayBuffer(e))return e.byteLength;if(qe.isURLSearchParams(e)&&(e=e+""),qe.isString(e))return(await L7(e)).byteLength},U7=async(e,t)=>{const a=qe.toFiniteNumber(e.getContentLength());return a??P7(t)},Q7=S0&&(async e=>{let{url:t,method:a,data:s,signal:o,cancelToken:l,timeout:d,onDownloadProgress:g,onUploadProgress:f,responseType:m,headers:v,withCredentials:N="same-origin",fetchOptions:C}=FC(e);m=m?(m+"").toLowerCase():"text";let k=j7([o,l&&l.toAbortSignal()],d),U;const F=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let O;try{if(f&&I7&&a!=="get"&&a!=="head"&&(O=await U7(v,s))!==0){let M=new Request(t,{method:"POST",body:s,duplex:"half"}),re;if(qe.isFormData(s)&&(re=M.headers.get("content-type"))&&v.setContentType(re),M.body){const[G,V]=i2(O,Lf(o2(f)));s=c2(M.body,A2,G,V)}}qe.isString(N)||(N=N?"include":"omit");const L="credentials"in Request.prototype;U=new Request(t,{...C,signal:k,method:a.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:L?N:void 0});let I=await fetch(U,C);const T=ty&&(m==="stream"||m==="response");if(ty&&(g||T&&F)){const M={};["status","statusText","headers"].forEach(ue=>{M[ue]=I[ue]});const re=qe.toFiniteNumber(I.headers.get("content-length")),[G,V]=g&&i2(re,Lf(o2(g),!0))||[];I=new Response(c2(I.body,A2,G,()=>{V&&V(),F&&F()}),M)}m=m||"text";let q=await If[qe.findKey(If,m)||"text"](I,e);return!T&&F&&F(),await new Promise((M,re)=>{jC(M,re,{data:q,headers:Jn.from(I.headers),status:I.status,statusText:I.statusText,config:e,request:U})})}catch(L){throw F&&F(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new $t("Network Error",$t.ERR_NETWORK,e,U),{cause:L.cause||L}):$t.from(L,L&&L.code,e,U)}}),ry={http:KR,xhr:B7,fetch:Q7};qe.forEach(ry,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const d2=e=>`- ${e}`,D7=e=>qe.isFunction(e)||e===null||e===!1,IC={getAdapter:e=>{e=qe.isArray(e)?e:[e];const{length:t}=e;let a,s;const o={};for(let l=0;l<t;l++){a=e[l];let d;if(s=a,!D7(a)&&(s=ry[(d=String(a)).toLowerCase()],s===void 0))throw new $t(`Unknown adapter '${d}'`);if(s)break;o[d||"#"+l]=s}if(!s){const l=Object.entries(o).map(([g,f])=>`adapter ${g} `+(f===!1?"is not supported by the environment":"is not available in the build"));let d=t?l.length>1?`since :
`+l.map(d2).join(`
`):" "+d2(l[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s},adapters:ry};function dm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new RA(null,e)}function u2(e){return dm(e),e.headers=Jn.from(e.headers),e.data=Am.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),IC.getAdapter(e.adapter||wb.adapter)(e).then(function(s){return dm(e),s.data=Am.call(e,e.transformResponse,s),s.headers=Jn.from(s.headers),s},function(s){return CC(s)||(dm(e),s&&s.response&&(s.response.data=Am.call(e,e.transformResponse,s.response),s.response.headers=Jn.from(s.response.headers))),Promise.reject(s)})}const PC="1.11.0",F0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{F0[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const h2={};F0.transitional=function(t,a,s){function o(l,d){return"[Axios v"+PC+"] Transitional option '"+l+"'"+d+(s?". "+s:"")}return(l,d,g)=>{if(t===!1)throw new $t(o(d," has been removed"+(a?" in "+a:"")),$t.ERR_DEPRECATED);return a&&!h2[d]&&(h2[d]=!0,console.warn(o(d," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(l,d,g):!0}};F0.spelling=function(t){return(a,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function T7(e,t,a){if(typeof e!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const l=s[o],d=t[l];if(d){const g=e[l],f=g===void 0||d(g,l,e);if(f!==!0)throw new $t("option "+l+" must be "+f,$t.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new $t("Unknown option "+l,$t.ERR_BAD_OPTION)}}const Qg={assertOptions:T7,validators:F0},gi=Qg.validators;class Pf{constructor(t){this.defaults=t||{},this.interceptors={request:new s2,response:new s2}}async request(t,a){try{return await this._request(t,a)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=ic(this.defaults,a);const{transitional:s,paramsSerializer:o,headers:l}=a;s!==void 0&&Qg.assertOptions(s,{silentJSONParsing:gi.transitional(gi.boolean),forcedJSONParsing:gi.transitional(gi.boolean),clarifyTimeoutError:gi.transitional(gi.boolean)},!1),o!=null&&(qe.isFunction(o)?a.paramsSerializer={serialize:o}:Qg.assertOptions(o,{encode:gi.function,serialize:gi.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Qg.assertOptions(a,{baseUrl:gi.spelling("baseURL"),withXsrfToken:gi.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let d=l&&qe.merge(l.common,l[a.method]);l&&qe.forEach(["delete","get","head","post","put","patch","common"],U=>{delete l[U]}),a.headers=Jn.concat(d,l);const g=[];let f=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(a)===!1||(f=f&&F.synchronous,g.unshift(F.fulfilled,F.rejected))});const m=[];this.interceptors.response.forEach(function(F){m.push(F.fulfilled,F.rejected)});let v,N=0,C;if(!f){const U=[u2.bind(this),void 0];for(U.unshift(...g),U.push(...m),C=U.length,v=Promise.resolve(a);N<C;)v=v.then(U[N++],U[N++]);return v}C=g.length;let k=a;for(N=0;N<C;){const U=g[N++],F=g[N++];try{k=U(k)}catch(O){F.call(this,O);break}}try{v=u2.call(this,k)}catch(U){return Promise.reject(U)}for(N=0,C=m.length;N<C;)v=v.then(m[N++],m[N++]);return v}getUri(t){t=ic(this.defaults,t);const a=SC(t.baseURL,t.url,t.allowAbsoluteUrls);return kC(a,t.params,t.paramsSerializer)}}qe.forEach(["delete","get","head","options"],function(t){Pf.prototype[t]=function(a,s){return this.request(ic(s||{},{method:t,url:a,data:(s||{}).data}))}});qe.forEach(["post","put","patch"],function(t){function a(s){return function(l,d,g){return this.request(ic(g||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}Pf.prototype[t]=a(),Pf.prototype[t+"Form"]=a(!0)});const Dg=Pf;class kb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(l){a=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const d=new Promise(g=>{s.subscribe(g),l=g}).then(o);return d.cancel=function(){s.unsubscribe(l)},d},t(function(l,d,g){s.reason||(s.reason=new RA(l,d,g),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=s=>{t.abort(s)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new kb(function(o){t=o}),cancel:t}}}const R7=kb;function M7(e){return function(a){return e.apply(null,a)}}function H7(e){return qe.isObject(e)&&e.isAxiosError===!0}const ay={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ay).forEach(([e,t])=>{ay[t]=e});const O7=ay;function UC(e){const t=new Dg(e),a=dC(Dg.prototype.request,t);return qe.extend(a,Dg.prototype,t,{allOwnKeys:!0}),qe.extend(a,t,null,{allOwnKeys:!0}),a.create=function(o){return UC(ic(e,o))},a}const va=UC(wb);va.Axios=Dg;va.CanceledError=RA;va.CancelToken=R7;va.isCancel=CC;va.VERSION=PC;va.toFormData=C0;va.AxiosError=$t;va.Cancel=va.CanceledError;va.all=function(t){return Promise.all(t)};va.spread=M7;va.isAxiosError=H7;va.mergeConfig=ic;va.AxiosHeaders=Jn;va.formToJSON=e=>BC(qe.isHTMLForm(e)?new FormData(e):e);va.getAdapter=IC.getAdapter;va.HttpStatusCode=O7;va.default=va;const _7=va,z7=()=>{const[e,t]=X.useState([]),[a,s]=X.useState({startDate:"",endDate:"",action:"",userId:""}),o="http://localhost:5001/api";X.useEffect(()=>{l()},[a]);const l=async()=>{try{const d=localStorage.getItem("sil_lab_token"),g={"Content-Type":"application/json"};d&&(g.Authorization=`Bearer ${d}`);const f=await _7.get(`${o}/admin/audit-logs`,{params:a,headers:g});t(f.data)}catch(d){console.error("Error fetching audit logs:",d),t([{id:"1",timestamp:new Date().toISOString(),userId:"admin@sil-lab.com",action:"USER_LOGIN",details:"User logged in successfully",ipAddress:"192.168.1.100"},{id:"2",timestamp:new Date(Date.now()-6e4).toISOString(),userId:"tech@sil-lab.com",action:"RESULT_UPDATED",details:"Updated result for patient John Doe",ipAddress:"192.168.1.101"}])}};return r.jsx("div",{className:"min-h-full bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Audit Trail"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track and monitor all system activities"})]})})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("input",{type:"date",value:a.startDate,onChange:d=>s({...a,startDate:d.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Start Date"}),r.jsx("input",{type:"date",value:a.endDate,onChange:d=>s({...a,endDate:d.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"End Date"}),r.jsx("input",{type:"text",value:a.action,onChange:d=>s({...a,action:d.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Filter by Action"}),r.jsx("input",{type:"text",value:a.userId,onChange:d=>s({...a,userId:d.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Filter by User"})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"IP Address"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(d=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:new Date(d.timestamp).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:d.userId}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:d.action}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-gray-300",children:d.details}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:d.ipAddress})]},d.id))})]})}),e.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No audit logs found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No logs match your current filters."})]})]})]})})};function V7({isOpen:e,onClose:t,onSuccess:a}){const{language:s}=qt(),[o,l]=X.useState(!1),[d,g]=X.useState({name:"",type:"",manufacturer:"",protocol:"HL7",connection:"tcp",config:{autoSendWorklist:!0,autoReceiveResults:!0,enableQCMonitoring:!0},enabled:!0}),f={fr:{title:"Ajouter un Automate",name:"Nom de l'automate",type:"Type",manufacturer:"Fabricant",protocol:"Protocole",connection:"Type de connexion",ipAddress:"Adresse IP",port:"Port",comPort:"Port COM",baudRate:"Débit en bauds",ftpHost:"Hôte FTP",ftpPort:"Port FTP",ftpUser:"Utilisateur FTP",ftpPass:"Mot de passe FTP",autoSendWorklist:"Envoi automatique de la liste de travail",autoReceiveResults:"Réception automatique des résultats",enableQCMonitoring:"Activer la surveillance QC",enabled:"Activé",save:"Enregistrer",cancel:"Annuler",required:"Ce champ est requis",success:"Automate ajouté avec succès",error:"Erreur lors de l'ajout de l'automate"},en:{title:"Add New Automate",name:"Automate Name",type:"Type",manufacturer:"Manufacturer",protocol:"Protocol",connection:"Connection Type",ipAddress:"IP Address",port:"Port",comPort:"COM Port",baudRate:"Baud Rate",ftpHost:"FTP Host",ftpPort:"FTP Port",ftpUser:"FTP User",ftpPass:"FTP Password",autoSendWorklist:"Auto-send Worklist",autoReceiveResults:"Auto-receive Results",enableQCMonitoring:"Enable QC Monitoring",enabled:"Enabled",save:"Save",cancel:"Cancel",required:"This field is required",success:"Automate added successfully",error:"Error adding automate"}}[s],m=["Immunoassay","Clinical Chemistry","Hematology","Coagulation","Molecular","Microbiology","Other"],v=["Roche","Abbott","Siemens","Beckman Coulter","Ortho Clinical Diagnostics","Sysmex","Bio-Rad","DiaSorin","Other"],N=[{value:"HL7",label:"HL7"},{value:"ASTM",label:"ASTM"},{value:"LIS2-A2",label:"LIS2-A2"}],C=[{value:"tcp",label:"TCP/IP"},{value:"serial",label:"Serial"},{value:"ftp",label:"FTP"}],k=(F,O)=>{if(F.includes(".")){const[L,I]=F.split(".");g(T=>({...T,[L]:{...T[L],[I]:O}}))}else g(L=>({...L,[F]:O}))},U=async F=>{if(F.preventDefault(),!d.name||!d.type||!d.manufacturer){alert(f.required);return}l(!0);try{await tn.createAutomate(d),alert(f.success),a(),t(),g({name:"",type:"",manufacturer:"",protocol:"HL7",connection:"tcp",config:{autoSendWorklist:!0,autoReceiveResults:!0,enableQCMonitoring:!0},enabled:!0})}catch(O){console.error("Error creating automate:",O),alert(f.error)}finally{l(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[r.jsx(bs,{size:20,className:"mr-2"}),f.title]}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(er,{size:20})})]}),r.jsxs("form",{onSubmit:U,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.name," *"]}),r.jsx("input",{type:"text",value:d.name,onChange:F=>k("name",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.type," *"]}),r.jsxs("select",{value:d.type,onChange:F=>k("type",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:s==="fr"?"Sélectionner un type":"Select type"}),m.map(F=>r.jsx("option",{value:F,children:F},F))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.manufacturer," *"]}),r.jsxs("select",{value:d.manufacturer,onChange:F=>k("manufacturer",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:s==="fr"?"Sélectionner un fabricant":"Select manufacturer"}),v.map(F=>r.jsx("option",{value:F,children:F},F))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.protocol}),r.jsx("select",{value:d.protocol,onChange:F=>k("protocol",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:N.map(F=>r.jsx("option",{value:F.value,children:F.label},F.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.connection}),r.jsx("select",{value:d.connection,onChange:F=>k("connection",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:C.map(F=>r.jsx("option",{value:F.value,children:F.label},F.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.enabled}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:d.enabled,onChange:F=>k("enabled",F.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:d.enabled?s==="fr"?"Activé":"Enabled":s==="fr"?"Désactivé":"Disabled"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:s==="fr"?"Configuration de connexion":"Connection Configuration"}),d.connection==="tcp"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.ipAddress}),r.jsx("input",{type:"text",value:d.config.ipAddress||"",onChange:F=>k("config.ipAddress",F.target.value),placeholder:"192.168.1.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.port}),r.jsx("input",{type:"number",value:d.config.port||"",onChange:F=>k("config.port",parseInt(F.target.value)||void 0),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),d.connection==="serial"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.comPort}),r.jsx("input",{type:"text",value:d.config.comPort||"",onChange:F=>k("config.comPort",F.target.value),placeholder:"COM3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.baudRate}),r.jsxs("select",{value:d.config.baudRate||"",onChange:F=>k("config.baudRate",parseInt(F.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:s==="fr"?"Sélectionner":"Select"}),r.jsx("option",{value:"9600",children:"9600"}),r.jsx("option",{value:"19200",children:"19200"}),r.jsx("option",{value:"38400",children:"38400"}),r.jsx("option",{value:"57600",children:"57600"}),r.jsx("option",{value:"115200",children:"115200"})]})]})]}),d.connection==="ftp"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.ftpHost}),r.jsx("input",{type:"text",value:d.config.ftpHost||"",onChange:F=>k("config.ftpHost",F.target.value),placeholder:"ftp.example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.ftpPort}),r.jsx("input",{type:"number",value:d.config.ftpPort||"",onChange:F=>k("config.ftpPort",parseInt(F.target.value)||void 0),placeholder:"21",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.ftpUser}),r.jsx("input",{type:"text",value:d.config.ftpUser||"",onChange:F=>k("config.ftpUser",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.ftpPass}),r.jsx("input",{type:"password",value:d.config.ftpPass||"",onChange:F=>k("config.ftpPass",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:s==="fr"?"Paramètres d'automatisation":"Automation Settings"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:d.config.autoSendWorklist,onChange:F=>k("config.autoSendWorklist",F.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:f.autoSendWorklist})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:d.config.autoReceiveResults,onChange:F=>k("config.autoReceiveResults",F.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:f.autoReceiveResults})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:d.config.enableQCMonitoring,onChange:F=>k("config.enableQCMonitoring",F.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:f.enableQCMonitoring})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:f.cancel}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s==="fr"?"Enregistrement...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),f.save]})})]})]})]})}):null}function G7({automates:e,onRefresh:t}){const{language:a}=qt(),[s,o]=X.useState(null),[l,d]=X.useState(!1),[g,f]=X.useState({}),m={fr:{title:"Configuration des Automates",subtitle:"Gérez les paramètres de connexion et de configuration de vos automates",selectAutomate:"Sélectionner un automate",connectionSettings:"Paramètres de connexion",automationSettings:"Paramètres d'automatisation",generalSettings:"Paramètres généraux",save:"Enregistrer",test:"Tester la connexion",reset:"Réinitialiser",success:"Configuration mise à jour avec succès",error:"Erreur lors de la mise à jour",connectionTest:"Test de connexion",connectionSuccess:"Connexion réussie",connectionFailed:"Échec de la connexion",ipAddress:"Adresse IP",port:"Port",comPort:"Port COM",baudRate:"Débit en bauds",ftpHost:"Hôte FTP",ftpPort:"Port FTP",ftpUser:"Utilisateur FTP",ftpPass:"Mot de passe FTP",autoSendWorklist:"Envoi automatique de la liste de travail",autoReceiveResults:"Réception automatique des résultats",enableQCMonitoring:"Activer la surveillance QC",enabled:"Activé",protocol:"Protocole",connection:"Type de connexion",manufacturer:"Fabricant",type:"Type"},en:{title:"Automate Configuration",subtitle:"Manage connection and configuration settings for your automates",selectAutomate:"Select an automate",connectionSettings:"Connection Settings",automationSettings:"Automation Settings",generalSettings:"General Settings",save:"Save",test:"Test Connection",reset:"Reset",success:"Configuration updated successfully",error:"Error updating configuration",connectionTest:"Connection Test",connectionSuccess:"Connection successful",connectionFailed:"Connection failed",ipAddress:"IP Address",port:"Port",comPort:"COM Port",baudRate:"Baud Rate",ftpHost:"FTP Host",ftpPort:"FTP Port",ftpUser:"FTP User",ftpPass:"FTP Password",autoSendWorklist:"Auto-send Worklist",autoReceiveResults:"Auto-receive Results",enableQCMonitoring:"Enable QC Monitoring",enabled:"Enabled",protocol:"Protocol",connection:"Connection Type",manufacturer:"Manufacturer",type:"Type"}}[a];X.useEffect(()=>{s&&f(s.config||{})},[s]);const v=(F,O)=>{f(L=>({...L,[F]:O}))},N=async()=>{if(s){d(!0);try{await tn.updateAutomate(s.id,{config:g}),alert(m.success),t()}catch(F){console.error("Error updating configuration:",F),alert(m.error)}finally{d(!1)}}},C=async()=>{if(s){d(!0);try{await new Promise(F=>setTimeout(F,2e3)),alert(m.connectionSuccess)}catch{alert(m.connectionFailed)}finally{d(!1)}}},k=()=>{s&&f(s.config||{})},U=F=>{switch(F){case"tcp":return r.jsx(KN,{size:16});case"serial":return r.jsx(f6,{size:16});case"ftp":return r.jsx(ON,{size:16});default:return r.jsx(bs,{size:16})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx($n,{size:24,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:m.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:m.subtitle})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.selectAutomate}),r.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:F=>{const O=e.find(L=>L.id===F.target.value);o(O||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Sélectionner un automate":"Select an automate"}),e.map(F=>r.jsxs("option",{value:F.id,children:[F.name," (",F.manufacturer,")"]},F.id))]})]})]}),s&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(bs,{size:20,className:"mr-2"}),m.generalSettings]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.name}),r.jsx("input",{type:"text",value:s.name,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.manufacturer}),r.jsx("input",{type:"text",value:s.manufacturer,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.type}),r.jsx("input",{type:"text",value:s.type,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.protocol}),r.jsx("input",{type:"text",value:s.protocol,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.connection}),r.jsxs("div",{className:"flex items-center",children:[U(s.connection),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 capitalize",children:s.connection})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[U(s.connection),r.jsx("span",{className:"ml-2",children:m.connectionSettings})]}),s.connection==="tcp"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.ipAddress}),r.jsx("input",{type:"text",value:g.ipAddress||"",onChange:F=>v("ipAddress",F.target.value),placeholder:"192.168.1.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.port}),r.jsx("input",{type:"number",value:g.port||"",onChange:F=>v("port",parseInt(F.target.value)||void 0),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.connection==="serial"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.comPort}),r.jsx("input",{type:"text",value:g.comPort||"",onChange:F=>v("comPort",F.target.value),placeholder:"COM3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.baudRate}),r.jsxs("select",{value:g.baudRate||"",onChange:F=>v("baudRate",parseInt(F.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Sélectionner":"Select"}),r.jsx("option",{value:"9600",children:"9600"}),r.jsx("option",{value:"19200",children:"19200"}),r.jsx("option",{value:"38400",children:"38400"}),r.jsx("option",{value:"57600",children:"57600"}),r.jsx("option",{value:"115200",children:"115200"})]})]})]}),s.connection==="ftp"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.ftpHost}),r.jsx("input",{type:"text",value:g.ftpHost||"",onChange:F=>v("ftpHost",F.target.value),placeholder:"ftp.example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.ftpPort}),r.jsx("input",{type:"number",value:g.ftpPort||"",onChange:F=>v("ftpPort",parseInt(F.target.value)||void 0),placeholder:"21",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.ftpUser}),r.jsx("input",{type:"text",value:g.ftpUser||"",onChange:F=>v("ftpUser",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.ftpPass}),r.jsx("input",{type:"password",value:g.ftpPass||"",onChange:F=>v("ftpPass",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:m.automationSettings}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:g.autoSendWorklist||!1,onChange:F=>v("autoSendWorklist",F.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:m.autoSendWorklist})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:g.autoReceiveResults||!1,onChange:F=>v("autoReceiveResults",F.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:m.autoReceiveResults})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:g.enableQCMonitoring||!1,onChange:F=>v("enableQCMonitoring",F.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:m.enableQCMonitoring})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.enabled,disabled:!0,className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:m.enabled})]})]}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsx("button",{onClick:N,disabled:l,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a==="fr"?"Enregistrement...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),m.save]})}),r.jsxs("button",{onClick:C,disabled:l,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[r.jsx(an,{size:16,className:"mr-2"}),m.test]}),r.jsx("button",{onClick:k,disabled:l,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m.reset})]})]})]})]})}function q7({automates:e,onRefresh:t}){const{language:a}=qt(),[s,o]=X.useState(null),[l,d]=X.useState(!1),[g,f]=X.useState(!1),[m,v]=X.useState(null),[N,C]=X.useState(!1),[k,U]=X.useState(""),[F,O]=X.useState({codeAutomate:"",silTestName:"",sampleType:"Sang",unit:"",refRangeLow:null,refRangeHigh:null}),L={fr:{title:"Mapping des Codes",subtitle:"Gérez la correspondance entre les codes des automates et les tests SIL",selectAutomate:"Sélectionner un automate",addMapping:"Ajouter un mapping",editMapping:"Modifier le mapping",codeAutomate:"Code Automate",silTestName:"Nom du test SIL",sampleType:"Type d'échantillon",unit:"Unité",refRangeLow:"Valeur de référence basse",refRangeHigh:"Valeur de référence haute",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",search:"Rechercher...",noMappings:"Aucun mapping trouvé",success:"Mapping enregistré avec succès",error:"Erreur lors de l'enregistrement",deleteConfirm:"Êtes-vous sûr de vouloir supprimer ce mapping ?",deleteSuccess:"Mapping supprimé avec succès",deleteError:"Erreur lors de la suppression"},en:{title:"Code Mapping",subtitle:"Manage the mapping between automate codes and SIL tests",selectAutomate:"Select an automate",addMapping:"Add Mapping",editMapping:"Edit Mapping",codeAutomate:"Automate Code",silTestName:"SIL Test Name",sampleType:"Sample Type",unit:"Unit",refRangeLow:"Reference Range Low",refRangeHigh:"Reference Range High",save:"Save",cancel:"Cancel",delete:"Delete",search:"Search...",noMappings:"No mappings found",success:"Mapping saved successfully",error:"Error saving mapping",deleteConfirm:"Are you sure you want to delete this mapping?",deleteSuccess:"Mapping deleted successfully",deleteError:"Error deleting mapping"}}[a],I=["Sang","Serum","Plasma","Urine","Saliva","Stool","CSF","Other"],T=["g/L","mg/dL","mmol/L","µmol/L","U/L","mIU/L","ng/mL","pg/mL","%","10^9/L","10^12/L","Other"],q=(s==null?void 0:s.driverCodes.filter(ne=>ne.codeAutomate.toLowerCase().includes(k.toLowerCase())||ne.silTestName.toLowerCase().includes(k.toLowerCase())))||[],M=()=>{O({codeAutomate:"",silTestName:"",sampleType:"Sang",unit:"",refRangeLow:null,refRangeHigh:null}),d(!0)},re=ne=>{v(ne),O({codeAutomate:ne.codeAutomate,silTestName:ne.silTestName,sampleType:ne.sampleType,unit:ne.unit||"",refRangeLow:ne.refRangeLow,refRangeHigh:ne.refRangeHigh}),f(!0)},G=async ne=>{if(!(!s||!confirm(L.deleteConfirm))){C(!0);try{await tn.deleteCodeMapping(s.id,ne),alert(L.deleteSuccess),t()}catch($){console.error("Error deleting mapping:",$),alert(L.deleteError)}finally{C(!1)}}},V=async ne=>{if(ne.preventDefault(),!!s){C(!0);try{g&&m?await tn.updateCodeMapping(s.id,m.id,F):await tn.addCodeMapping(s.id,F),alert(L.success),d(!1),f(!1),t()}catch($){console.error("Error saving mapping:",$),alert(L.error)}finally{C(!1)}}},ue=(ne,$)=>{O(J=>({...J,[ne]:$}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(HN,{size:24,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:L.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:L.subtitle})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.selectAutomate}),r.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:ne=>{const $=e.find(J=>J.id===ne.target.value);o($||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Sélectionner un automate":"Select an automate"}),e.map(ne=>r.jsxs("option",{value:ne.id,children:[ne.name," (",ne.manufacturer,")"]},ne.id))]})]})]}),s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(ba,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:L.search,value:k,onChange:ne=>U(ne.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("button",{onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:16,className:"mr-2"}),L.addMapping]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:L.codeAutomate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:L.silTestName}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:L.sampleType}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:L.unit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Référence"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:q.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:L.noMappings})}):q.map(ne=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:ne.codeAutomate}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ne.silTestName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ne.sampleType}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ne.unit||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ne.refRangeLow&&ne.refRangeHigh?`${ne.refRangeLow} - ${ne.refRangeHigh}`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>re(ne),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(co,{size:16})}),r.jsx("button",{onClick:()=>G(ne.id),disabled:N,className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50",children:r.jsx(ei,{size:16})})]})})]},ne.id))})]})})})]}),(l||g)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g?L.editMapping:L.addMapping}),r.jsx("button",{onClick:()=>{d(!1),f(!1)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(er,{size:20})})]}),r.jsxs("form",{onSubmit:V,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.codeAutomate," *"]}),r.jsx("input",{type:"text",value:F.codeAutomate,onChange:ne=>ue("codeAutomate",ne.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.silTestName," *"]}),r.jsx("input",{type:"text",value:F.silTestName,onChange:ne=>ue("silTestName",ne.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.sampleType}),r.jsx("select",{value:F.sampleType,onChange:ne=>ue("sampleType",ne.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:I.map(ne=>r.jsx("option",{value:ne,children:ne},ne))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.unit}),r.jsxs("select",{value:F.unit,onChange:ne=>ue("unit",ne.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Sélectionner":"Select"}),T.map(ne=>r.jsx("option",{value:ne,children:ne},ne))]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.refRangeLow}),r.jsx("input",{type:"number",step:"0.01",value:F.refRangeLow||"",onChange:ne=>ue("refRangeLow",parseFloat(ne.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.refRangeHigh}),r.jsx("input",{type:"number",step:"0.01",value:F.refRangeHigh||"",onChange:ne=>ue("refRangeHigh",parseFloat(ne.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{d(!1),f(!1)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:L.cancel}),r.jsx("button",{type:"submit",disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:N?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a==="fr"?"Enregistrement...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{size:16,className:"mr-2"}),L.save]})})]})]})]})})]})}function X7({automates:e,onRefresh:t}){var le;const{language:a}=qt(),[s,o]=X.useState(null),[l,d]=X.useState("all"),[g,f]=X.useState("all"),[m,v]=X.useState("24h"),[N,C]=X.useState({}),[k,U]=X.useState(!1);X.useEffect(()=>{let ie=!1;const Y=async()=>{U(!0);try{const we=await Promise.all((e||[]).map(async fe=>{try{const je=await tn.getTransferLogs(fe.id,{limit:50});return[fe.id,je.logs||[]]}catch(je){return console.error("Failed to load logs for",fe.id,je),[fe.id,[]]}}));if(!ie){const fe={};for(const[je,Pe]of we)fe[je]=Pe;C(fe)}}finally{ie||U(!1)}};return e&&e.length&&Y(),()=>{ie=!0}},[e]);const F=s?N[s.id]||((le=e.find(ie=>ie.id===s.id))==null?void 0:le.transferLogs)||[]:(e||[]).flatMap(ie=>N[ie.id]||ie.transferLogs||[]),O={fr:{title:"Logs et Monitoring",subtitle:"Surveillez les transferts de données et l'état de vos automates",selectAutomate:"Sélectionner un automate",allAutomates:"Tous les automates",status:"Statut",type:"Type",duration:"Durée",timestamp:"Horodatage",error:"Erreur",noLogs:"Aucun log trouvé",export:"Exporter",refresh:"Actualiser",filter:"Filtrer",all:"Tous",success:"Succès",warning:"Avertissement",info:"Information",worklist:"Liste de travail",results:"Résultats",qc:"Contrôle qualité",last24h:"Dernières 24h",last7d:"Derniers 7 jours",last30d:"Derniers 30 jours",allTime:"Tout le temps",online:"En ligne",offline:"Hors ligne",lastSync:"Dernière synchronisation",never:"Jamais",totalLogs:"Total des logs",successRate:"Taux de succès",avgDuration:"Durée moyenne"},en:{title:"Logs and Monitoring",subtitle:"Monitor data transfers and automate status",selectAutomate:"Select an automate",allAutomates:"All automates",status:"Status",type:"Type",duration:"Duration",timestamp:"Timestamp",error:"Error",noLogs:"No logs found",export:"Export",refresh:"Refresh",filter:"Filter",all:"All",success:"Success",warning:"Warning",info:"Information",worklist:"Worklist",results:"Results",qc:"Quality Control",last24h:"Last 24h",last7d:"Last 7 days",last30d:"Last 30 days",allTime:"All time",online:"Online",offline:"Offline",lastSync:"Last sync",never:"Never",totalLogs:"Total logs",successRate:"Success rate",avgDuration:"Average duration"}}[a],L=[{value:"all",label:O.all},{value:"success",label:O.success},{value:"error",label:O.error},{value:"warning",label:O.warning}],I=[{value:"all",label:O.all},{value:"worklist",label:O.worklist},{value:"results",label:O.results},{value:"qc",label:O.qc}],T=[{value:"24h",label:O.last24h},{value:"7d",label:O.last7d},{value:"30d",label:O.last30d},{value:"all",label:O.allTime}],q=ie=>{switch(ie){case"success":return r.jsx(Pr,{size:16,className:"text-green-500"});case"error":return r.jsx(cl,{size:16,className:"text-red-500"});case"warning":return r.jsx(Ir,{size:16,className:"text-yellow-500"});default:return r.jsx(Ps,{size:16,className:"text-blue-500"})}},M=ie=>{switch(ie){case"success":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}},re=ie=>{switch(ie){case"online":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"offline":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},G=ie=>ie?ie<1e3?`${ie}ms`:`${(ie/1e3).toFixed(1)}s`:"-",V=ie=>new Date(ie).toLocaleString(a==="fr"?"fr-FR":"en-US"),ue=F.filter(ie=>{const Y=l==="all"||ie.status===l,we=g==="all"||ie.type===g;return Y&&we}),$=(e||[]).flatMap(ie=>(ie.transferLogs||[]).map(Y=>({...Y,automateName:ie.name}))).filter(ie=>{const Y=l==="all"||ie.status===l,we=g==="all"||ie.type===g;return Y&&we}),J={totalLogs:$.length,successRate:$.length>0?Math.round($.filter(ie=>ie.status==="success").length/$.length*100):0,avgDuration:$.length>0?Math.round($.reduce((ie,Y)=>ie+(Y.duration||0),0)/$.length):0},oe=()=>{const ie=[["Timestamp","Automate","Type","Status","Duration","Error"].join(","),...$.map(je=>[V(je.timestamp),je.automateName||(s==null?void 0:s.name)||"",je.type,je.status,G(je.duration),je.errorMsg||""].join(","))].join(`
`),Y=new Blob([ie],{type:"text/csv"}),we=window.URL.createObjectURL(Y),fe=document.createElement("a");fe.href=we,fe.download=`automate-logs-${new Date().toISOString().split("T")[0]}.csv`,fe.click(),window.URL.revokeObjectURL(we)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Ps,{size:24,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:O.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:O.subtitle})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:O.selectAutomate}),r.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:ie=>{const Y=e.find(we=>we.id===ie.target.value);o(Y||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:O.allAutomates}),e.map(ie=>r.jsxs("option",{value:ie.id,children:[ie.name," (",ie.manufacturer,")"]},ie.id))]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ps,{size:20,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:O.totalLogs}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:J.totalLogs})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pr,{size:20,className:"text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:O.successRate}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[J.successRate,"%"]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ms,{size:20,className:"text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:O.avgDuration}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:G(J.avgDuration)})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:a==="fr"?"État des automates":"Automate Status"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(ie=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:ie.name}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${re(ie.status)}`,children:ie.status})]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[ie.manufacturer," - ",ie.type]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[O.lastSync,": ",ie.lastSync?V(ie.lastSync):O.never]})]},ie.id))})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(UA,{size:16,className:"text-gray-500"}),r.jsx("select",{value:l,onChange:ie=>d(ie.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:L.map(ie=>r.jsx("option",{value:ie.value,children:ie.label},ie.value))})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("select",{value:g,onChange:ie=>f(ie.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:I.map(ie=>r.jsx("option",{value:ie.value,children:ie.label},ie.value))})}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("select",{value:m,onChange:ie=>v(ie.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:T.map(ie=>r.jsx("option",{value:ie.value,children:ie.label},ie.value))})})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:oe,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Bi,{size:16,className:"mr-2"}),O.export]}),r.jsxs("button",{onClick:async()=>{if(s)try{const ie=await tn.getTransferLogs(s.id,{limit:50});C(Y=>({...Y,[s.id]:ie.logs||[]}))}catch(ie){console.error("Refresh logs failed",ie)}else try{const ie=await Promise.all((e||[]).map(async we=>{try{const fe=await tn.getTransferLogs(we.id,{limit:50});return[we.id,fe.logs||[]]}catch{return[we.id,[]]}})),Y={};for(const[we,fe]of ie)Y[we]=fe;C(Y)}catch(ie){console.error("Refresh all logs failed",ie)}t()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(an,{size:16,className:"mr-2"}),O.refresh]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:O.timestamp}),!s&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Automate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:O.type}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:O.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:O.duration}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:O.error})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:(s?ue:$).length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:s?5:6,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:O.noLogs})}):(s?ue:$).map(ie=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:V(ie.timestamp)}),!s&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ie.automateName||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize",children:ie.type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[q(ie.status),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${M(ie.status)}`,children:ie.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:G(ie.duration)}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate",children:ie.errorMsg||"-"})]},ie.id))})]})})})]})}function K7(){const{language:e}=qt(),[t,a]=X.useState("list"),[s,o]=X.useState([]),[l,d]=X.useState(null),[g,f]=X.useState(!0),[m,v]=X.useState(!1);X.useState(!1);const[N,C]=X.useState(!1),[k,U]=X.useState([]),F={fr:{title:"Intégration Automates",subtitle:"Gestion des analyseurs de laboratoire",automatesList:"Liste des Automates",configuration:"Configuration",codeMapping:"Mapping des Codes",logs:"Logs et Monitoring",addNew:"Ajouter un Automate",status:{online:"Connecté",offline:"Hors ligne",error:"Erreur"},lastSync:"Dernière synchronisation",viewLogs:"Voir les Logs",noAutomates:"Aucun automate configuré",loading:"Chargement..."},en:{title:"Automate Integration",subtitle:"Laboratory analyzer management",automatesList:"Automates List",configuration:"Configuration",codeMapping:"Code Mapping",logs:"Logs & Monitoring",addNew:"Add New Automate",status:{online:"Connected",offline:"Offline",error:"Error"},lastSync:"Last sync",viewLogs:"View Logs",noAutomates:"No automates configured",loading:"Loading..."}}[e];X.useEffect(()=>{O()},[]);const O=async()=>{try{f(!0);const G=await tn.getAutomates();o(G.automates||[])}catch(G){console.error("Error loading automates:",G)}finally{f(!1)}},L=G=>{switch(G){case"online":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"offline":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},I=G=>{switch(G){case"online":return r.jsx(KN,{size:16});case"offline":return r.jsx(yw,{size:16});case"error":return r.jsx(Ir,{size:16});default:return r.jsx(yw,{size:16})}},T=async G=>{d(G);try{const V=await tn.getTransferLogs(G.id);U(V.logs||[]),C(!0)}catch(V){console.error("Error loading logs:",V)}},q=async G=>{try{await tn.updateStatus(G.id,{status:"offline"}),setTimeout(()=>{tn.updateStatus(G.id,{status:"online"})},2e3),O()}catch(V){console.error("Error restarting interface:",V)}},M=async G=>{try{await tn.updateStatus(G.id,{status:"online",lastSync:new Date().toISOString()}),O()}catch(V){console.error("Error syncing:",V)}},re=[{id:"list",label:F.automatesList,icon:bs},{id:"config",label:F.configuration,icon:$n},{id:"mapping",label:F.codeMapping,icon:HN},{id:"logs",label:F.logs,icon:Sa}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:F.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:F.subtitle})]}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:re.map(G=>r.jsxs("button",{onClick:()=>a(G.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===G.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(G.icon,{size:16}),r.jsx("span",{children:G.label})]},G.id))})}),r.jsxs("div",{className:"mt-6",children:[t==="list"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:F.automatesList}),r.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ha,{size:20,className:"mr-2"}),F.addNew]})]}),g?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:F.loading})]}):s.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(bs,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:F.noAutomates}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Commencez par ajouter votre premier automate de laboratoire."}),r.jsx("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:F.addNew})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(G=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:G.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[G.manufacturer," - ",G.type]})]}),r.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${L(G.status)}`,children:[I(G.status),r.jsx("span",{className:"ml-1",children:F.status[G.status]})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Protocol:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:G.protocol})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Connection:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:G.connection})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Code Mappings:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:G._count.driverCodes})]}),G.lastSync&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[F.lastSync,":"]}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:new Date(G.lastSync).toLocaleString()})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>T(G),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded text-sm hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center",children:[r.jsx(Ms,{size:14,className:"mr-1"}),F.viewLogs]}),r.jsx("button",{onClick:()=>q(G),className:"bg-yellow-100 text-yellow-800 px-3 py-2 rounded text-sm hover:bg-yellow-200 flex items-center",title:"Restart Interface",children:r.jsx(an,{size:14})}),r.jsx("button",{onClick:()=>M(G),className:"bg-green-100 text-green-800 px-3 py-2 rounded text-sm hover:bg-green-200 flex items-center",title:"Sync Now",children:r.jsx(GN,{size:14})})]})]},G.id))})]}),t==="config"&&r.jsx(G7,{automates:s,onRefresh:O}),t==="mapping"&&r.jsx(q7,{automates:s,onRefresh:O}),t==="logs"&&r.jsx(X7,{automates:s,onRefresh:O})]}),r.jsx(V7,{isOpen:m,onClose:()=>v(!1),onSuccess:O}),N&&l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Logs - ",l.name]}),r.jsx("button",{onClick:()=>C(!1),children:r.jsx("span",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})})]}),r.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Error"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:k.map(G=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(G.timestamp).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:G.type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G.status==="success"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:G.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:G.duration?`${G.duration}ms`:"-"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:G.errorMsg||"-"})]},G.id))})]})})]})})]})}function W7(){const{language:e}=qt(),{refreshModules:t}=Zf(),[a,s]=X.useState([]),[o,l]=X.useState([]),[d,g]=X.useState(!0),[f,m]=X.useState("store"),[v,N]=X.useState(!1),[C,k]=X.useState(null),[U,F]=X.useState(""),[O,L]=X.useState(""),[I,T]=X.useState(""),[q,M]=X.useState(!1),[re,G]=X.useState(""),[V,ue]=X.useState(!1),[ne,$]=X.useState(null),[J,oe]=X.useState(!1),le={fr:{title:"Store de Modules",subtitle:"Étendez les fonctionnalités de votre laboratoire",store:"Store",installed:"Installés",install:"Installer",startTrial:"Essai Gratuit",enterLicense:"Entrer la Licence",licenseKey:"Clé de Licence",organizationName:"Nom de l'Organisation",contactEmail:"Email de Contact",activate:"Activer",cancel:"Annuler",trial:"Essai",active:"Actif",expired:"Expiré",daysLeft:"jours restants",features:"Fonctionnalités",version:"Version",author:"Auteur",category:"Catégorie",price:"Prix",free:"Gratuit",deactivate:"Désactiver",refresh:"Actualiser",noModules:"Aucun module disponible",noInstalled:"Aucun module installé",installSuccess:"Module installé avec succès!",trialStarted:"Essai gratuit démarré!",invalidLicense:"Clé de licence invalide",licenseInUse:"Cette clé de licence est déjà utilisée",installError:"Erreur lors de l'installation",generateDemo:"Générer Clé Demo",confirmDeactivate:"Êtes-vous sûr de vouloir désactiver ce module? Cette action supprimera toutes les fonctionnalités associées.",deactivateSuccess:"Module désactivé avec succès"},en:{title:"Module Store",subtitle:"Extend your laboratory functionality",store:"Store",installed:"Installed",install:"Install",startTrial:"Start Trial",enterLicense:"Enter License",licenseKey:"License Key",organizationName:"Organization Name",contactEmail:"Contact Email",activate:"Activate",cancel:"Cancel",trial:"Trial",active:"Active",expired:"Expired",daysLeft:"days left",features:"Features",version:"Version",author:"Author",category:"Category",price:"Price",free:"Free",deactivate:"Deactivate",refresh:"Refresh",noModules:"No modules available",noInstalled:"No modules installed",installSuccess:"Module installed successfully!",trialStarted:"Trial started successfully!",invalidLicense:"Invalid license key",licenseInUse:"License key already in use",installError:"Installation error",generateDemo:"Generate Demo Key",confirmDeactivate:"Are you sure you want to deactivate this module? This will remove all associated functionality.",deactivateSuccess:"Module deactivated successfully"}}[e];X.useEffect(()=>{ie()},[]);const ie=async()=>{g(!0),G("");try{console.log("Loading modules data...");const[he,Ne]=await Promise.all([la.getModules(),la.getInstalledModules()]);console.log("Modules loaded:",he.length,"available,",Ne.length,"installed"),s(he),l(Ne)}catch(he){console.error("Error loading modules:",he),G(`Failed to load modules: ${he.message}`)}finally{g(!1)}},Y=he=>{k(he),N(!0),F(""),L(""),T(""),G("")},we=async he=>{M(!0);try{console.log("Starting trial for module:",he.id,"with org:",O,"email:",I),await la.startTrial(he.id,O||"Demo Organization",I||"demo@example.com"),G(""),await ie(),t(),G(le.trialStarted),setTimeout(()=>G(""),3e3)}catch(Ne){console.error("Trial start error:",Ne),G(Ne.message||le.installError)}finally{M(!1)}},fe=async()=>{if(!C||!U.trim()){G("License key is required");return}M(!0);try{await la.installModule(C.id,U.trim(),O.trim()||void 0,I.trim()||void 0),N(!1),G(""),await ie(),t(),G(le.installSuccess),setTimeout(()=>G(""),3e3)}catch(he){G(he.message||le.installError)}finally{M(!1)}},je=he=>{$(he),ue(!0)},Pe=async()=>{if(ne){oe(!0);try{await la.deactivateModule(ne),G(le.deactivateSuccess),ue(!1),$(null),await ie(),t(),setTimeout(()=>G(""),3e3)}catch(he){G(he.message||"Failed to deactivate module")}finally{oe(!1)}}},Ve=()=>{if(C){const he=la.generateLicenseKey(C.name);F(he)}},de=(he,Ne)=>he==="EXPIRED"||Ne<=0?r.jsx(cl,{className:"w-4 h-4"}):he==="TRIAL"||Ne<=7?r.jsx(Ir,{className:"w-4 h-4"}):r.jsx(Pr,{className:"w-4 h-4"});return d?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(xs,{size:32,className:"text-amber-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:le.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:le.subtitle})]})]}),r.jsxs("div",{className:"flex space-x-1 bg-gray-200 dark:bg-gray-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>m("store"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${f==="store"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:le.store}),r.jsxs("button",{onClick:()=>m("installed"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${f==="installed"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:[le.installed," (",o.length,")"]})]})]}),re&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${re.includes("success")||re.includes("started"),"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300"}`,children:re}),r.jsx("div",{className:"mb-6 flex justify-end",children:r.jsxs("button",{onClick:ie,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(an,{size:16,className:"mr-2"}),le.refresh]})}),f==="store"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.length===0?r.jsx("div",{className:"col-span-full text-center py-12 text-gray-500 dark:text-gray-400",children:le.noModules}):a.map(he=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/20 rounded-lg",children:r.jsx(xs,{size:24,className:"text-amber-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:he.displayName}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["v",he.version," • ",he.author]})]})]}),he.isInstalled&&r.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${la.getStatusBadgeColor(he.licenseStatus||"",he.daysRemaining)}`,children:[de(he.licenseStatus||"",he.daysRemaining),r.jsx("span",{children:he.licenseStatus})]})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:he.description}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[le.category,":"]}),r.jsx("span",{className:"text-gray-900 dark:text-white capitalize",children:he.category})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[le.price,":"]}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:he.price===0?le.free:`$${he.price}`})]}),he.isInstalled&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status:"}),r.jsx("span",{className:la.getStatusColor(he.licenseStatus||"",he.daysRemaining),children:la.formatDaysRemaining(he.daysRemaining)})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[le.features,":"]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[he.features.slice(0,3).map((Ne,Ee)=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:Ne},Ee)),he.features.length>3&&r.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:["+",he.features.length-3," more"]})]})]}),r.jsx("div",{className:"flex space-x-2",children:he.isInstalled?r.jsxs("div",{className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-lg text-sm",children:[r.jsx(Pr,{size:14,className:"mr-1"}),"Installed"]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>we(he),disabled:q,className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm",children:[r.jsx(GN,{size:14,className:"mr-1"}),le.startTrial]}),r.jsxs("button",{onClick:()=>Y(he),disabled:q,className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 text-sm",children:[r.jsx(fw,{size:14,className:"mr-1"}),le.install]})]})})]},he.id))}),f==="installed"&&r.jsx("div",{className:"space-y-4",children:o.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:le.noInstalled}):o.map(he=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/20 rounded-lg",children:r.jsx(xs,{size:24,className:"text-amber-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:he.displayName}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["License: ",he.licenseKey]}),he.organizationName&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Organization: ",he.organizationName]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${la.getStatusBadgeColor(he.status,he.daysRemaining)}`,children:[de(he.status,he.daysRemaining),r.jsx("span",{children:he.status})]}),r.jsx("p",{className:`text-sm mt-1 ${la.getStatusColor(he.status,he.daysRemaining)}`,children:la.formatDaysRemaining(he.daysRemaining)}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Expires: ",new Date(he.expiresAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ac,{size:14}),r.jsxs("span",{children:["Max ",he.maxUsers," users"]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(on,{size:14}),r.jsxs("span",{children:["Since ",new Date(he.activatedAt).toLocaleDateString()]})]})]}),r.jsxs("button",{onClick:()=>je(he.id),className:"flex items-center px-3 py-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-sm",children:[r.jsx(ei,{size:14,className:"mr-1"}),le.deactivate]})]})]},he.id))}),v&&C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:le.enterLicense}),r.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"×"})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Installing: ",r.jsx("strong",{children:C.displayName})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[le.licenseKey," *"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:U,onChange:he=>F(he.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your license key"}),r.jsx("button",{onClick:Ve,className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm",title:le.generateDemo,children:r.jsx(kg,{size:16})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:le.organizationName}),r.jsx("input",{type:"text",value:O,onChange:he=>L(he.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your organization name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:le.contactEmail}),r.jsx("input",{type:"email",value:I,onChange:he=>T(he.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contact@example.com"})]}),re&&r.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm",children:re})]}),r.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:le.cancel}),r.jsx("button",{onClick:fe,disabled:q||!U.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:q?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Installing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(fw,{size:16,className:"mr-2"}),le.activate]})})]})]})}),r.jsx(fx,{isOpen:V,onClose:()=>{ue(!1),$(null)},onConfirm:Pe,title:e==="fr"?"Désactiver le module":"Deactivate Module",message:le.confirmDeactivate,confirmText:le.deactivate,cancelText:le.cancel,type:"warning",loading:J})]})})}const Y7=()=>{const[e,t]=X.useState(null),[a,s]=X.useState(!0),[o,l]=X.useState("30d"),[d,g]=X.useState(null),f="http://localhost:5001/api",m=async()=>{try{s(!0),g(null);const F=localStorage.getItem("sil_lab_token"),O={"Content-Type":"application/json"};F&&(O.Authorization=`Bearer ${F}`);const L=await fetch(`${f}/analytics/overview?period=${o}`,{headers:O});if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);const I=await L.json();t(I)}catch(F){console.error("Failed to fetch analytics data:",F),g("Failed to load analytics data. Please try again."),t({testsPerDay:[{date:"2025-08-15",count:45},{date:"2025-08-16",count:52},{date:"2025-08-17",count:38},{date:"2025-08-18",count:61},{date:"2025-08-19",count:49},{date:"2025-08-20",count:55},{date:"2025-08-21",count:43}],avgTAT:4.2,departmentShare:[{category:"Hematology",revenue:45},{category:"Biochemistry",revenue:35},{category:"Immunology",revenue:20}],totalRequests:156,completedRequests:142,pendingRequests:14,activeTechnicians:8,completionRate:91})}finally{s(!1)}};X.useEffect(()=>{m()},[o]);const v=F=>{l(F)},N=()=>{m()};if(a)return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((F,O)=>r.jsx("div",{className:"h-24 bg-gray-200 rounded"},O))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"h-80 bg-gray-200 rounded"}),r.jsx("div",{className:"h-80 bg-gray-200 rounded"})]})]})});if(!e)return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-500 mb-4",children:"No analytics data available"}),r.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]})});const C=e.testsPerDay.map(F=>({date:F.date,value:F.count})),k=e.departmentShare.map(F=>({category:F.category,value:F.revenue})),U=e.departmentShare.map(F=>({category:F.category,value:F.revenue}));return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Essential laboratory metrics and insights"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("select",{value:o,onChange:F=>v(F.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"}),r.jsx("option",{value:"1y",children:"Last year"})]}),r.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Refresh"})]})]}),d&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:r.jsx("div",{className:"flex",children:r.jsxs("div",{className:"text-yellow-800",children:[r.jsx("strong",{children:"Note:"})," ",d," Showing sample data for demonstration."]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(_o,{title:"Total Samples",value:e.totalRequests,icon:r.jsx(Ps,{className:"w-6 h-6 text-blue-500"}),trend:{direction:"up",value:"+12%",label:"vs last period"}}),r.jsx(_o,{title:"Avg Turnaround Time",value:e.avgTAT.toFixed(1),unit:"hrs",icon:r.jsx(ms,{className:"w-6 h-6 text-orange-500"}),trend:{direction:"down",value:"-8%",label:"improvement"}}),r.jsx(_o,{title:"Active Technicians",value:e.activeTechnicians,icon:r.jsx(ac,{className:"w-6 h-6 text-green-500"}),trend:{direction:"stable",value:"0%",label:"no change"}}),r.jsx(_o,{title:"Completion Rate",value:e.completionRate.toFixed(1),unit:"%",icon:r.jsx(Pr,{className:"w-6 h-6 text-purple-500"}),trend:{direction:"up",value:"+3%",label:"vs last period"}})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(PB,{title:"Samples Processed Over Time",icon:r.jsx(Us,{className:"w-5 h-5 text-blue-500"}),data:C,height:300,color:"#3B82F6",smooth:!0,gradient:!0}),r.jsx(UB,{title:"Work Distribution by Department",icon:r.jsx(gf,{className:"w-5 h-5 text-green-500"}),data:U,height:300,colors:["#3B82F6","#10B981","#F59E0B","#EF4444"],donut:!0})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6",children:r.jsx(HE,{title:"Test Volume by Category",icon:r.jsx(Sa,{className:"w-5 h-5 text-purple-500"}),data:k,height:250,colors:["#8B5CF6","#06B6D4","#F59E0B","#EF4444"],horizontal:!1})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Quick Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.completedRequests}),r.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.pendingRequests}),r.jsx("div",{className:"text-sm text-gray-500",children:"Pending"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.testsPerDay.length>0?Math.round(e.testsPerDay.reduce((F,O)=>F+O.count,0)/e.testsPerDay.length):0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Daily Average"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.testsPerDay.length>0?Math.max(...e.testsPerDay.map(F=>F.count)):0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Peak Day"})]})]})]})]})};function $7(){const{language:e}=qt(),[t,a]=X.useState([]),[s,o]=X.useState(null),[l,d]=X.useState(!0),[g,f]=X.useState({productId:"",type:"",startDate:"",endDate:"",limit:100}),m={title:e==="fr"?"Rapport d'Activité Stock":"Stock Activity Report",subtitle:e==="fr"?"Historique complet des activités de stock":"Complete stock activity history",filter:e==="fr"?"Filtrer":"Filter",export:e==="fr"?"Exporter":"Export",search:e==="fr"?"Rechercher...":"Search...",product:e==="fr"?"Produit":"Product",type:"Type",date:"Date",startDate:e==="fr"?"Date de début":"Start Date",endDate:e==="fr"?"Date de fin":"End Date",limit:e==="fr"?"Limite":"Limit",allTypes:e==="fr"?"Tous les types":"All Types",stockIn:e==="fr"?"Ajout Stock":"Stock In",stockOut:e==="fr"?"Utilisation Stock":"Stock Out",transfer:e==="fr"?"Transfert":"Transfer",adjustment:e==="fr"?"Ajustement":"Adjustment",quantity:e==="fr"?"Quantité":"Quantity",location:e==="fr"?"Emplacement":"Location",performedBy:e==="fr"?"Effectué par":"Performed By",notes:"Notes",department:e==="fr"?"Département":"Department",purpose:e==="fr"?"Objectif":"Purpose",supplier:e==="fr"?"Fournisseur":"Supplier",lotNumber:e==="fr"?"Numéro de lot":"Lot Number",expiryDate:e==="fr"?"Date d'expiration":"Expiry Date",unitCost:e==="fr"?"Coût unitaire":"Unit Cost",reason:e==="fr"?"Raison":"Reason",fromLocation:e==="fr"?"De":"From",toLocation:e==="fr"?"Vers":"To",oldQuantity:e==="fr"?"Ancienne quantité":"Old Quantity",newQuantity:e==="fr"?"Nouvelle quantité":"New Quantity",noData:e==="fr"?"Aucune donnée":"No data available",loading:e==="fr"?"Chargement...":"Loading...",summary:e==="fr"?"Résumé":"Summary",total:"Total",clearFilters:e==="fr"?"Effacer les filtres":"Clear Filters",applyFilters:e==="fr"?"Appliquer":"Apply"},v=async()=>{try{d(!0);const I=await mr.getStockActivities(g);a(I.activities||[]),o(I.summary||null)}catch(I){console.error("Error loading activities:",I),a([]),o(null)}finally{d(!1)}};X.useEffect(()=>{v()},[g]);const N=(I,T)=>{f(q=>({...q,[I]:T}))},C=()=>{f({productId:"",type:"",startDate:"",endDate:"",limit:100})},k=I=>{switch(I){case"STOCK_IN":return r.jsx(Us,{size:16,className:"text-green-600"});case"STOCK_OUT":return r.jsx(ll,{size:16,className:"text-red-600"});case"TRANSFER":return r.jsx(uf,{size:16,className:"text-blue-600"});case"ADJUSTMENT":return r.jsx($n,{size:16,className:"text-orange-600"});default:return r.jsx(xs,{size:16,className:"text-gray-600"})}},U=I=>{switch(I){case"STOCK_IN":return"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800";case"STOCK_OUT":return"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800";case"TRANSFER":return"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800";case"ADJUSTMENT":return"bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:border-orange-800";default:return"bg-gray-50 border-gray-200 dark:bg-gray-900/20 dark:border-gray-800"}},F=I=>new Date(I).toLocaleString(),O=I=>`${I>0?"+":""}${I}`,L=async()=>{try{const T=(await mr.getStockActivities(g)).activities||[],q=["Date","Type","Product","Code","Category","Quantity","Location","Performed By","Notes","Department","Purpose","Supplier","Lot Number","Expiry Date","Unit Cost","Reason","From Location","To Location"],M=T.map(ne=>[F(ne.date),ne.type,ne.productName,ne.productCode,ne.category,O(ne.quantity),ne.location,ne.performedBy||"",ne.notes||"",ne.department||"",ne.purpose||"",ne.supplier||"",ne.lotNumber||"",ne.expiryDate?new Date(ne.expiryDate).toLocaleDateString():"",ne.unitCost||"",ne.reason||"",ne.fromLocation||"",ne.toLocation||""]),re=[q,...M].map(ne=>ne.join(",")).join(`
`),G=new Blob([re],{type:"text/csv;charset=utf-8;"}),V=URL.createObjectURL(G),ue=document.createElement("a");ue.setAttribute("href",V),ue.setAttribute("download",`stock-activities-${new Date().toISOString().split("T")[0]}.csv`),ue.style.visibility="hidden",document.body.appendChild(ue),ue.click(),document.body.removeChild(ue)}catch(I){console.error("Error exporting report:",I),alert(e==="fr"?"Erreur lors de l'exportation":"Error exporting report")}};return r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:m.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:m.subtitle})]}),s&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xs,{className:"h-6 w-6 text-gray-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:m.total}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.total})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Us,{className:"h-6 w-6 text-green-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:m.stockIn}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.stockIn})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ll,{className:"h-6 w-6 text-red-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:m.stockOut}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.stockOut})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(uf,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:m.transfer}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.transfers})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx($n,{className:"h-6 w-6 text-orange-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:m.adjustment}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.adjustments})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[r.jsx(UA,{className:"h-5 w-5 mr-2"}),m.filter]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:C,className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:m.clearFilters}),r.jsxs("button",{onClick:L,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center",children:[r.jsx(Bi,{size:14,className:"mr-1"}),m.export]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.type}),r.jsxs("select",{value:g.type,onChange:I=>N("type",I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:m.allTypes}),r.jsx("option",{value:"STOCK_IN",children:m.stockIn}),r.jsx("option",{value:"STOCK_OUT",children:m.stockOut}),r.jsx("option",{value:"TRANSFER",children:m.transfer}),r.jsx("option",{value:"ADJUSTMENT",children:m.adjustment})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.startDate}),r.jsx("input",{type:"date",value:g.startDate,onChange:I=>N("startDate",I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.endDate}),r.jsx("input",{type:"date",value:g.endDate,onChange:I=>N("endDate",I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.limit}),r.jsxs("select",{value:g.limit,onChange:I=>N("limit",I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"}),r.jsx("option",{value:200,children:"200"}),r.jsx("option",{value:500,children:"500"})]})]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:m.loading})]})}):t.length===0?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(xs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m.noData})]})}):r.jsx("div",{className:"space-y-4 p-6",children:t.map(I=>r.jsx("div",{className:`border rounded-lg p-4 ${U(I.type)}`,children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"mt-1",children:k(I.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:I.productName}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",I.productCode,")"]}),r.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:I.category})]}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:I.description}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.quantity,":"]}),r.jsx("span",{className:`ml-1 ${I.quantity>0?"text-green-600":"text-red-600"}`,children:O(I.quantity)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.location,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.location})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.performedBy,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.performedBy||"-"})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.date,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:F(I.date)})]})]}),I.type==="STOCK_IN"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[I.supplier&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.supplier,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.supplier})]}),I.lotNumber&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.lotNumber,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.lotNumber})]}),I.expiryDate&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.expiryDate,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:new Date(I.expiryDate).toLocaleDateString()})]}),I.unitCost>0&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.unitCost,":"]}),r.jsxs("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:["$",I.unitCost]})]})]}),I.type==="STOCK_OUT"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[I.department&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.department,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.department})]}),I.purpose&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.purpose,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.purpose})]})]}),I.type==="TRANSFER"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.fromLocation,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.fromLocation})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.toLocation,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.toLocation})]})]}),I.type==="ADJUSTMENT"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.oldQuantity,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.oldQuantity})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.newQuantity,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.newQuantity})]}),I.reason&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.reason,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.reason})]})]}),I.notes&&r.jsxs("div",{className:"mt-2 text-sm",children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.notes,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.notes})]})]})]})})},I.id))})})]})}function J7(){const{language:e}=qt(),t=Pn(),[a,s]=X.useState([]),[o,l]=X.useState(!0),[d,g]=X.useState(""),[f,m]=X.useState(""),[v,N]=X.useState("summary"),C={title:e==="fr"?"Rapport de Stock":"Stock Report",subtitle:e==="fr"?"Visualiser et exporter les données de stock":"View and export stock data",search:e==="fr"?"Rechercher...":"Search...",allCategories:e==="fr"?"Toutes les catégories":"All Categories",export:e==="fr"?"Exporter":"Export",back:e==="fr"?"Retour":"Back",loading:e==="fr"?"Chargement...":"Loading...",product:e==="fr"?"Produit":"Product",code:"Code",category:e==="fr"?"Catégorie":"Category",currentStock:e==="fr"?"Stock Actuel":"Current Stock",expiringStock:e==="fr"?"Stock Expirant":"Expiring Stock",unit:e==="fr"?"Unité":"Unit",minStock:e==="fr"?"Stock Minimum":"Min Stock",noData:e==="fr"?"Aucune donnée disponible":"No data available",summary:e==="fr"?"Résumé":"Summary",activities:e==="fr"?"Activités":"Activities",stockSummary:e==="fr"?"Résumé du Stock":"Stock Summary",stockActivities:e==="fr"?"Activités de Stock":"Stock Activities"};X.useEffect(()=>{k()},[]);const k=async()=>{l(!0);try{const L=await mr.exportStockReport();s(Array.isArray(L)?L:[])}catch(L){console.error("Error loading report:",L)}finally{l(!1)}},U=async()=>{try{const L={search:d,category:f},I=await mr.exportStockReport(L);if(I&&Array.isArray(I)){const T=Object.keys(I[0]).join(","),q=I.map(ue=>Object.values(ue).join(",")),M=[T,...q].join(`
`),re=new Blob([M],{type:"text/csv;charset=utf-8;"}),G=URL.createObjectURL(re),V=document.createElement("a");V.setAttribute("href",G),V.setAttribute("download",`stock-report-${new Date().toISOString().split("T")[0]}.csv`),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V)}else console.error("Invalid response format for export")}catch(L){console.error("Error exporting stock report:",L)}},F=a.filter(L=>{const I=d===""||L.name.toLowerCase().includes(d.toLowerCase())||L.code.toLowerCase().includes(d.toLowerCase()),T=f===""||L.category===f;return I&&T}),O=[...new Set(a.map(L=>L.category))].filter(Boolean);return r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>t("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[r.jsx(tc,{size:20,className:"mr-2"}),C.back]}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:C.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:C.subtitle})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsxs("button",{onClick:()=>N("summary"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${v==="summary"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(Sa,{size:16,className:"mr-2"}),C.stockSummary]}),r.jsxs("button",{onClick:()=>N("activities"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${v==="activities"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(Ps,{size:16,className:"mr-2"}),C.stockActivities]})]})})}),v==="summary"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:C.search,value:d,onChange:L=>g(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:f,onChange:L=>m(L.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:C.allCategories}),O.map(L=>r.jsx("option",{value:L,children:L},L))]})]}),r.jsx("div",{children:r.jsxs("button",{onClick:U,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Bi,{size:16,className:"mr-2"}),C.export]})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:C.loading})]})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:C.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:C.product}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:C.category}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:C.currentStock}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:C.expiringStock}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:C.unit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:C.minStock})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:F.length>0?F.map((L,I)=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:L.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:L.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:L.category}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:L.currentStock}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:L.expiringStock}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:L.unit}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:L.minStock})]},I)):r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:C.noData})})})]})})})]}):r.jsx($7,{})]})}const QC=X.createContext(void 0),qt=()=>{const e=X.useContext(QC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Z7(){const[e,t]=X.useState(()=>{const k=localStorage.getItem("sil_lab_token"),U=localStorage.getItem("sil_lab_user");if(k&&U)try{return JSON.parse(U)}catch(F){console.error("Error parsing user data:",F),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}return null}),[a,s]=X.useState(()=>{const k=localStorage.getItem("sil_lab_theme");return k||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),[o,l]=X.useState(()=>localStorage.getItem("sil_lab_language")||"fr");X.useEffect(()=>{const k=window.document.documentElement;k.classList.remove("light","dark"),k.classList.add(a),localStorage.setItem("sil_lab_theme",a)},[a]),X.useEffect(()=>{localStorage.setItem("sil_lab_language",o)},[o]),X.useEffect(()=>{const k=window.matchMedia("(prefers-color-scheme: dark)"),U=F=>{localStorage.getItem("sil_lab_theme")||s(F.matches?"dark":"light")};return k.addEventListener("change",U),()=>k.removeEventListener("change",U)},[]),X.useEffect(()=>{(async()=>{const U=localStorage.getItem("sil_lab_token");if(U&&!e)try{const F=await fetch("http://localhost:5001/api/auth/me",{headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"}});if(F.ok){const O=await F.json();t(O.user),localStorage.setItem("sil_lab_user",JSON.stringify(O.user))}else localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}catch(F){console.error("Error validating token:",F),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}})()},[e]);const v={user:e,login:async(k,U)=>{try{const F=await fetch("http://localhost:5001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:k,password:U})});if(F.ok){const O=await F.json();return t(O.user),localStorage.setItem("sil_lab_token",O.token),localStorage.setItem("sil_lab_user",JSON.stringify(O.user)),!0}else return console.error("Login failed"),!1}catch(F){return console.error("Login error:",F),!1}},logout:()=>{t(null),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")},theme:a,toggleTheme:()=>{s(k=>k==="light"?"dark":"light")},language:o,toggleLanguage:()=>{l(k=>k==="fr"?"en":"fr")}},[N,C]=X.useState(!1);return r.jsx(QC.Provider,{value:v,children:r.jsx(y6,{children:r.jsx("div",{className:`min-h-screen ${a==="dark"?"dark bg-gray-900":"bg-gray-50"}`,children:e?r.jsxs("div",{className:"flex flex-col lg:flex-row h-screen overflow-hidden",children:[N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>C(!1)}),r.jsx("div",{className:`fixed lg:static z-30 transform ${N?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out`,children:r.jsx(YE,{onClose:()=>C(!1)})}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:[r.jsx(m6,{onMenuClick:()=>C(!N)}),r.jsx("main",{className:"flex-1 overflow-y-auto p-2 sm:p-4 lg:p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx(WE,{children:r.jsxs(ix,{children:[r.jsx(or,{path:"/",element:r.jsx(Uh,{to:"/dashboard",replace:!0})}),r.jsx(or,{path:"/dashboard",element:r.jsx(aL,{})}),r.jsx(or,{path:"/patients",element:r.jsx(sL,{})}),r.jsx(or,{path:"/doctors",element:r.jsx(nL,{})}),r.jsx(or,{path:"/requests",element:r.jsx(iL,{})}),r.jsx(or,{path:"/new-request",element:r.jsx(pL,{})}),r.jsx(or,{path:"/analyses",element:r.jsx(oL,{})}),r.jsx(or,{path:"/results",element:r.jsx(OT,{})}),r.jsx(or,{path:"/validation",element:r.jsx(_T,{})}),r.jsx(or,{path:"/billing",element:r.jsx(zT,{})}),r.jsx(or,{path:"/config",element:r.jsx(VT,{})}),r.jsx(or,{path:"/config/prices",element:r.jsx(GT,{})}),r.jsx(or,{path:"/config/users",element:r.jsx(qT,{})}),r.jsx(or,{path:"/config/modules",element:r.jsx(W7,{})}),r.jsx(or,{path:"/analytics",element:r.jsx(Y7,{})}),r.jsx(or,{path:"/config/audit",element:r.jsx(z7,{})}),r.jsx(or,{path:"/config/backup",element:r.jsx(jB,{})}),r.jsx(or,{path:"/modules/analytics-pro",element:r.jsx(QB,{})}),r.jsx(or,{path:"/analytics-pro",element:r.jsx(Uh,{to:"/modules/analytics-pro",replace:!0})}),r.jsx(or,{path:"/modules/*",element:r.jsx("div",{})}),r.jsx(or,{path:"/automates",element:r.jsx(K7,{})}),r.jsx(or,{path:"/quality-control",element:r.jsx(SB,{})}),r.jsx(or,{path:"/stock",element:r.jsx(Uh,{to:"/stock/dashboard",replace:!0})}),r.jsx(or,{path:"/stock/dashboard",element:r.jsx(KT,{})}),r.jsx(or,{path:"/stock/add",element:r.jsx(JT,{})}),r.jsx(or,{path:"/stock/create-product",element:r.jsx(ZT,{})}),r.jsx(or,{path:"/stock/use",element:r.jsx(eR,{})}),r.jsx(or,{path:"/stock/transfer",element:r.jsx(tR,{onClose:()=>{}})}),r.jsx(or,{path:"/stock/adjust",element:r.jsx(rR,{})}),r.jsx(or,{path:"/stock/suppliers",element:r.jsx(aR,{})}),r.jsx(or,{path:"/stock/orders",element:r.jsx(iR,{})}),r.jsx(or,{path:"/stock/reports",element:r.jsx(J7,{})}),r.jsx(or,{path:"*",element:r.jsx(Uh,{to:"/dashboard",replace:!0})})]})})})})]})]}):r.jsx($E,{})})})})}window.debugRequests=tL;SN(document.getElementById("root")).render(r.jsx(X.StrictMode,{children:r.jsx(H3,{children:r.jsx(Z7,{})})}));export{kr as _,eM as c,g2 as g};
