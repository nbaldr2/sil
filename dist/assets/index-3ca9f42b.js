function LN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const A=Object.getOwnPropertyDescriptor(n,a);A&&Object.defineProperty(e,a,A.get?A:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const A of a)if(A.type==="childList")for(const i of A.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const A={};return a.integrity&&(A.integrity=a.integrity),a.referrerPolicy&&(A.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?A.credentials="include":a.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function n(a){if(a.ep)return;a.ep=!0;const A=r(a);fetch(a.href,A)}})();var RI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function IN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bw={exports:{}},fh={},Nw={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=Symbol.for("react.element"),PN=Symbol.for("react.portal"),DN=Symbol.for("react.fragment"),TN=Symbol.for("react.strict_mode"),RN=Symbol.for("react.profiler"),HN=Symbol.for("react.provider"),ON=Symbol.for("react.context"),MN=Symbol.for("react.forward_ref"),_N=Symbol.for("react.suspense"),KN=Symbol.for("react.memo"),qN=Symbol.for("react.lazy"),wy=Symbol.iterator;function zN(e){return e===null||typeof e!="object"?null:(e=wy&&e[wy]||e["@@iterator"],typeof e=="function"?e:null)}var Cw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kw=Object.assign,jw={};function il(e,t,r){this.props=e,this.context=t,this.refs=jw,this.updater=r||Cw}il.prototype.isReactComponent={};il.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};il.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sw(){}Sw.prototype=il.prototype;function Um(e,t,r){this.props=e,this.context=t,this.refs=jw,this.updater=r||Cw}var Lm=Um.prototype=new Sw;Lm.constructor=Um;kw(Lm,il.prototype);Lm.isPureReactComponent=!0;var vy=Array.isArray,Fw=Object.prototype.hasOwnProperty,Im={current:null},Ew={key:!0,ref:!0,__self:!0,__source:!0};function Qw(e,t,r){var n,a={},A=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(A=""+t.key),t)Fw.call(t,n)&&!Ew.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Ad,type:e,key:A,ref:i,props:a,_owner:Im.current}}function VN(e,t){return{$$typeof:Ad,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ad}function GN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var by=/\/+/g;function _f(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GN(""+e.key):t.toString(36)}function Yu(e,t,r,n,a){var A=typeof e;(A==="undefined"||A==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(A){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ad:case PN:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+_f(i,0):n,vy(a)?(r="",e!=null&&(r=e.replace(by,"$&/")+"/"),Yu(a,t,r,"",function(c){return c})):a!=null&&(Pm(a)&&(a=VN(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(by,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",vy(e))for(var o=0;o<e.length;o++){A=e[o];var l=n+_f(A,o);i+=Yu(A,t,r,l,a)}else if(l=zN(e),typeof l=="function")for(e=l.call(e),o=0;!(A=e.next()).done;)A=A.value,l=n+_f(A,o++),i+=Yu(A,t,r,l,a);else if(A==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function iu(e,t,r){if(e==null)return e;var n=[],a=0;return Yu(e,n,"","",function(A){return t.call(r,A,a++)}),n}function WN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var un={current:null},Zu={transition:null},JN={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Zu,ReactCurrentOwner:Im};function Uw(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:iu,forEach:function(e,t,r){iu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return iu(e,function(){t++}),t},toArray:function(e){return iu(e,function(t){return t})||[]},only:function(e){if(!Pm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ut.Component=il;ut.Fragment=DN;ut.Profiler=RN;ut.PureComponent=Um;ut.StrictMode=TN;ut.Suspense=_N;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JN;ut.act=Uw;ut.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=kw({},e.props),a=e.key,A=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(A=t.ref,i=Im.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Fw.call(t,l)&&!Ew.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Ad,type:e.type,key:a,ref:A,props:n,_owner:i}};ut.createContext=function(e){return e={$$typeof:ON,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HN,_context:e},e.Consumer=e};ut.createElement=Qw;ut.createFactory=function(e){var t=Qw.bind(null,e);return t.type=e,t};ut.createRef=function(){return{current:null}};ut.forwardRef=function(e){return{$$typeof:MN,render:e}};ut.isValidElement=Pm;ut.lazy=function(e){return{$$typeof:qN,_payload:{_status:-1,_result:e},_init:WN}};ut.memo=function(e,t){return{$$typeof:KN,type:e,compare:t===void 0?null:t}};ut.startTransition=function(e){var t=Zu.transition;Zu.transition={};try{e()}finally{Zu.transition=t}};ut.unstable_act=Uw;ut.useCallback=function(e,t){return un.current.useCallback(e,t)};ut.useContext=function(e){return un.current.useContext(e)};ut.useDebugValue=function(){};ut.useDeferredValue=function(e){return un.current.useDeferredValue(e)};ut.useEffect=function(e,t){return un.current.useEffect(e,t)};ut.useId=function(){return un.current.useId()};ut.useImperativeHandle=function(e,t,r){return un.current.useImperativeHandle(e,t,r)};ut.useInsertionEffect=function(e,t){return un.current.useInsertionEffect(e,t)};ut.useLayoutEffect=function(e,t){return un.current.useLayoutEffect(e,t)};ut.useMemo=function(e,t){return un.current.useMemo(e,t)};ut.useReducer=function(e,t,r){return un.current.useReducer(e,t,r)};ut.useRef=function(e){return un.current.useRef(e)};ut.useState=function(e){return un.current.useState(e)};ut.useSyncExternalStore=function(e,t,r){return un.current.useSyncExternalStore(e,t,r)};ut.useTransition=function(){return un.current.useTransition()};ut.version="18.3.1";Nw.exports=ut;var _=Nw.exports;const XN=IN(_),$N=LN({__proto__:null,default:XN},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN=_,ZN=Symbol.for("react.element"),e4=Symbol.for("react.fragment"),t4=Object.prototype.hasOwnProperty,r4=YN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n4={key:!0,ref:!0,__self:!0,__source:!0};function Lw(e,t,r){var n,a={},A=null,i=null;r!==void 0&&(A=""+r),t.key!==void 0&&(A=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)t4.call(t,n)&&!n4.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:ZN,type:e,key:A,ref:i,props:a,_owner:r4.current}}fh.Fragment=e4;fh.jsx=Lw;fh.jsxs=Lw;Bw.exports=fh;var s=Bw.exports,Iw={exports:{}},On={},Pw={exports:{}},Dw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,te){var Ae=z.length;z.push(te);e:for(;0<Ae;){var he=Ae-1>>>1,S=z[he];if(0<a(S,te))z[he]=te,z[Ae]=S,Ae=he;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var te=z[0],Ae=z.pop();if(Ae!==te){z[0]=Ae;e:for(var he=0,S=z.length,P=S>>>1;he<P;){var J=2*(he+1)-1,Y=z[J],ne=J+1,ce=z[ne];if(0>a(Y,Ae))ne<S&&0>a(ce,Y)?(z[he]=ce,z[ne]=Ae,he=ne):(z[he]=Y,z[J]=Ae,he=J);else if(ne<S&&0>a(ce,Ae))z[he]=ce,z[ne]=Ae,he=ne;else break e}}return te}function a(z,te){var Ae=z.sortIndex-te.sortIndex;return Ae!==0?Ae:z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var A=performance;e.unstable_now=function(){return A.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],u=1,h=null,x=3,f=!1,b=!1,p=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(z){for(var te=r(c);te!==null;){if(te.callback===null)n(c);else if(te.startTime<=z)n(c),te.sortIndex=te.expirationTime,t(l,te);else break;te=r(c)}}function D(z){if(p=!1,B(z),!b)if(r(l)!==null)b=!0,W(O);else{var te=r(c);te!==null&&ee(D,te.startTime-z)}}function O(z,te){b=!1,p&&(p=!1,m(j),j=-1),f=!0;var Ae=x;try{for(B(te),h=r(l);h!==null&&(!(h.expirationTime>te)||z&&!E());){var he=h.callback;if(typeof he=="function"){h.callback=null,x=h.priorityLevel;var S=he(h.expirationTime<=te);te=e.unstable_now(),typeof S=="function"?h.callback=S:h===r(l)&&n(l),B(te)}else n(l);h=r(l)}if(h!==null)var P=!0;else{var J=r(c);J!==null&&ee(D,J.startTime-te),P=!1}return P}finally{h=null,x=Ae,f=!1}}var q=!1,F=null,j=-1,I=5,R=-1;function E(){return!(e.unstable_now()-R<I)}function k(){if(F!==null){var z=e.unstable_now();R=z;var te=!0;try{te=F(!0,z)}finally{te?Q():(q=!1,F=null)}}else q=!1}var Q;if(typeof w=="function")Q=function(){w(k)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ie=K.port2;K.port1.onmessage=k,Q=function(){ie.postMessage(null)}}else Q=function(){C(k,0)};function W(z){F=z,q||(q=!0,Q())}function ee(z,te){j=C(function(){z(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){b||f||(b=!0,W(O))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var Ae=x;x=te;try{return z()}finally{x=Ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Ae=x;x=z;try{return te()}finally{x=Ae}},e.unstable_scheduleCallback=function(z,te,Ae){var he=e.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?he+Ae:he):Ae=he,z){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=Ae+S,z={id:u++,callback:te,priorityLevel:z,startTime:Ae,expirationTime:S,sortIndex:-1},Ae>he?(z.sortIndex=Ae,t(c,z),r(l)===null&&z===r(c)&&(p?(m(j),j=-1):p=!0,ee(D,Ae-he))):(z.sortIndex=S,t(l,z),b||f||(b=!0,W(O))),z},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(z){var te=x;return function(){var Ae=x;x=te;try{return z.apply(this,arguments)}finally{x=Ae}}}})(Dw);Pw.exports=Dw;var s4=Pw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a4=_,Hn=s4;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tw=new Set,Pc={};function ki(e,t){Jo(e,t),Jo(e+"Capture",t)}function Jo(e,t){for(Pc[e]=t,e=0;e<t.length;e++)Tw.add(t[e])}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jg=Object.prototype.hasOwnProperty,A4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,By={},Ny={};function i4(e){return Jg.call(Ny,e)?!0:Jg.call(By,e)?!1:A4.test(e)?Ny[e]=!0:(By[e]=!0,!1)}function o4(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function l4(e,t,r,n){if(t===null||typeof t>"u"||o4(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,r,n,a,A,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=A,this.removeEmptyString=i}var _r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_r[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_r[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_r[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_r[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_r[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_r[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_r[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_r[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_r[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dm=/[\-:]([a-z])/g;function Tm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dm,Tm);_r[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dm,Tm);_r[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dm,Tm);_r[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_r[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});_r.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_r[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rm(e,t,r,n){var a=_r.hasOwnProperty(t)?_r[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(l4(t,r,a,n)&&(r=null),n||a===null?i4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pa=a4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ou=Symbol.for("react.element"),vo=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),Hm=Symbol.for("react.strict_mode"),Xg=Symbol.for("react.profiler"),Rw=Symbol.for("react.provider"),Hw=Symbol.for("react.context"),Om=Symbol.for("react.forward_ref"),$g=Symbol.for("react.suspense"),Yg=Symbol.for("react.suspense_list"),Mm=Symbol.for("react.memo"),nA=Symbol.for("react.lazy"),Ow=Symbol.for("react.offscreen"),Cy=Symbol.iterator;function Vl(e){return e===null||typeof e!="object"?null:(e=Cy&&e[Cy]||e["@@iterator"],typeof e=="function"?e:null)}var Yt=Object.assign,Kf;function ic(e){if(Kf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Kf=t&&t[1]||""}return`
`+Kf+e}var qf=!1;function zf(e,t){if(!e||qf)return"";qf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),A=n.stack.split(`
`),i=a.length-1,o=A.length-1;1<=i&&0<=o&&a[i]!==A[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==A[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==A[o]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{qf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ic(e):""}function c4(e){switch(e.tag){case 5:return ic(e.type);case 16:return ic("Lazy");case 13:return ic("Suspense");case 19:return ic("SuspenseList");case 0:case 2:case 15:return e=zf(e.type,!1),e;case 11:return e=zf(e.type.render,!1),e;case 1:return e=zf(e.type,!0),e;default:return""}}function Zg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bo:return"Fragment";case vo:return"Portal";case Xg:return"Profiler";case Hm:return"StrictMode";case $g:return"Suspense";case Yg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hw:return(e.displayName||"Context")+".Consumer";case Rw:return(e._context.displayName||"Context")+".Provider";case Om:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mm:return t=e.displayName||null,t!==null?t:Zg(e.type)||"Memo";case nA:t=e._payload,e=e._init;try{return Zg(e(t))}catch{}}return null}function d4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zg(t);case 8:return t===Hm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jA(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u4(e){var t=Mw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,A=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,A.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lu(e){e._valueTracker||(e._valueTracker=u4(e))}function _w(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Mw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function b0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ep(e,t){var r=t.checked;return Yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ky(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jA(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kw(e,t){t=t.checked,t!=null&&Rm(e,"checked",t,!1)}function tp(e,t){Kw(e,t);var r=jA(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rp(e,t.type,r):t.hasOwnProperty("defaultValue")&&rp(e,t.type,jA(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function rp(e,t,r){(t!=="number"||b0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var oc=Array.isArray;function Po(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jA(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function np(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Se(92));if(oc(r)){if(1<r.length)throw Error(Se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jA(r)}}function qw(e,t){var r=jA(t.value),n=jA(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Fy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cu,Vw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h4=["Webkit","ms","Moz","O"];Object.keys(xc).forEach(function(e){h4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xc[t]=xc[e]})});function Gw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xc.hasOwnProperty(e)&&xc[e]?(""+t).trim():t+"px"}function Ww(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Gw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var f4=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ap(e,t){if(t){if(f4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function Ap(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=null;function _m(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var op=null,Do=null,To=null;function Ey(e){if(e=ld(e)){if(typeof op!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=yh(t),op(e.stateNode,e.type,t))}}function Jw(e){Do?To?To.push(e):To=[e]:Do=e}function Xw(){if(Do){var e=Do,t=To;if(To=Do=null,Ey(e),t)for(e=0;e<t.length;e++)Ey(t[e])}}function $w(e,t){return e(t)}function Yw(){}var Vf=!1;function Zw(e,t,r){if(Vf)return e(t,r);Vf=!0;try{return $w(e,t,r)}finally{Vf=!1,(Do!==null||To!==null)&&(Yw(),Xw())}}function Tc(e,t){var r=e.stateNode;if(r===null)return null;var n=yh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Se(231,t,typeof r));return r}var lp=!1;if(Ea)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){lp=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{lp=!1}function g4(e,t,r,n,a,A,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var yc=!1,B0=null,N0=!1,cp=null,p4={onError:function(e){yc=!0,B0=e}};function m4(e,t,r,n,a,A,i,o,l){yc=!1,B0=null,g4.apply(p4,arguments)}function x4(e,t,r,n,a,A,i,o,l){if(m4.apply(this,arguments),yc){if(yc){var c=B0;yc=!1,B0=null}else throw Error(Se(198));N0||(N0=!0,cp=c)}}function ji(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ev(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qy(e){if(ji(e)!==e)throw Error(Se(188))}function y4(e){var t=e.alternate;if(!t){if(t=ji(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var A=a.alternate;if(A===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===A.child){for(A=a.child;A;){if(A===r)return Qy(a),e;if(A===n)return Qy(a),t;A=A.sibling}throw Error(Se(188))}if(r.return!==n.return)r=a,n=A;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=A;break}if(o===n){i=!0,n=a,r=A;break}o=o.sibling}if(!i){for(o=A.child;o;){if(o===r){i=!0,r=A,n=a;break}if(o===n){i=!0,n=A,r=a;break}o=o.sibling}if(!i)throw Error(Se(189))}}if(r.alternate!==n)throw Error(Se(190))}if(r.tag!==3)throw Error(Se(188));return r.stateNode.current===r?e:t}function tv(e){return e=y4(e),e!==null?rv(e):null}function rv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rv(e);if(t!==null)return t;e=e.sibling}return null}var nv=Hn.unstable_scheduleCallback,Uy=Hn.unstable_cancelCallback,w4=Hn.unstable_shouldYield,v4=Hn.unstable_requestPaint,cr=Hn.unstable_now,b4=Hn.unstable_getCurrentPriorityLevel,Km=Hn.unstable_ImmediatePriority,sv=Hn.unstable_UserBlockingPriority,C0=Hn.unstable_NormalPriority,B4=Hn.unstable_LowPriority,av=Hn.unstable_IdlePriority,gh=null,na=null;function N4(e){if(na&&typeof na.onCommitFiberRoot=="function")try{na.onCommitFiberRoot(gh,e,void 0,(e.current.flags&128)===128)}catch{}}var ks=Math.clz32?Math.clz32:j4,C4=Math.log,k4=Math.LN2;function j4(e){return e>>>=0,e===0?32:31-(C4(e)/k4|0)|0}var du=64,uu=4194304;function lc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function k0(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,A=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=lc(o):(A&=i,A!==0&&(n=lc(A)))}else i=r&~a,i!==0?n=lc(i):A!==0&&(n=lc(A));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,A=t&-t,a>=A||a===16&&(A&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ks(t),a=1<<r,n|=e[r],t&=~a;return n}function S4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F4(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,A=e.pendingLanes;0<A;){var i=31-ks(A),o=1<<i,l=a[i];l===-1?(!(o&r)||o&n)&&(a[i]=S4(o,t)):l<=t&&(e.expiredLanes|=o),A&=~o}}function dp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Av(){var e=du;return du<<=1,!(du&4194240)&&(du=64),e}function Gf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function id(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ks(t),e[t]=r}function E4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ks(r),A=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~A}}function qm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ks(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Qt=0;function iv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ov,zm,lv,cv,dv,up=!1,hu=[],gA=null,pA=null,mA=null,Rc=new Map,Hc=new Map,AA=[],Q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(e,t){switch(e){case"focusin":case"focusout":gA=null;break;case"dragenter":case"dragleave":pA=null;break;case"mouseover":case"mouseout":mA=null;break;case"pointerover":case"pointerout":Rc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(t.pointerId)}}function Wl(e,t,r,n,a,A){return e===null||e.nativeEvent!==A?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:A,targetContainers:[a]},t!==null&&(t=ld(t),t!==null&&zm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function U4(e,t,r,n,a){switch(t){case"focusin":return gA=Wl(gA,e,t,r,n,a),!0;case"dragenter":return pA=Wl(pA,e,t,r,n,a),!0;case"mouseover":return mA=Wl(mA,e,t,r,n,a),!0;case"pointerover":var A=a.pointerId;return Rc.set(A,Wl(Rc.get(A)||null,e,t,r,n,a)),!0;case"gotpointercapture":return A=a.pointerId,Hc.set(A,Wl(Hc.get(A)||null,e,t,r,n,a)),!0}return!1}function uv(e){var t=ni(e.target);if(t!==null){var r=ji(t);if(r!==null){if(t=r.tag,t===13){if(t=ev(r),t!==null){e.blockedOn=t,dv(e.priority,function(){lv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function e0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ip=n,r.target.dispatchEvent(n),ip=null}else return t=ld(r),t!==null&&zm(t),e.blockedOn=r,!1;t.shift()}return!0}function Iy(e,t,r){e0(e)&&r.delete(t)}function L4(){up=!1,gA!==null&&e0(gA)&&(gA=null),pA!==null&&e0(pA)&&(pA=null),mA!==null&&e0(mA)&&(mA=null),Rc.forEach(Iy),Hc.forEach(Iy)}function Jl(e,t){e.blockedOn===t&&(e.blockedOn=null,up||(up=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,L4)))}function Oc(e){function t(a){return Jl(a,e)}if(0<hu.length){Jl(hu[0],e);for(var r=1;r<hu.length;r++){var n=hu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(gA!==null&&Jl(gA,e),pA!==null&&Jl(pA,e),mA!==null&&Jl(mA,e),Rc.forEach(t),Hc.forEach(t),r=0;r<AA.length;r++)n=AA[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<AA.length&&(r=AA[0],r.blockedOn===null);)uv(r),r.blockedOn===null&&AA.shift()}var Ro=Pa.ReactCurrentBatchConfig,j0=!0;function I4(e,t,r,n){var a=Qt,A=Ro.transition;Ro.transition=null;try{Qt=1,Vm(e,t,r,n)}finally{Qt=a,Ro.transition=A}}function P4(e,t,r,n){var a=Qt,A=Ro.transition;Ro.transition=null;try{Qt=4,Vm(e,t,r,n)}finally{Qt=a,Ro.transition=A}}function Vm(e,t,r,n){if(j0){var a=hp(e,t,r,n);if(a===null)ng(e,t,n,S0,r),Ly(e,n);else if(U4(a,e,t,r,n))n.stopPropagation();else if(Ly(e,n),t&4&&-1<Q4.indexOf(e)){for(;a!==null;){var A=ld(a);if(A!==null&&ov(A),A=hp(e,t,r,n),A===null&&ng(e,t,n,S0,r),A===a)break;a=A}a!==null&&n.stopPropagation()}else ng(e,t,n,null,r)}}var S0=null;function hp(e,t,r,n){if(S0=null,e=_m(n),e=ni(e),e!==null)if(t=ji(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ev(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return S0=e,null}function hv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b4()){case Km:return 1;case sv:return 4;case C0:case B4:return 16;case av:return 536870912;default:return 16}default:return 16}}var oA=null,Gm=null,t0=null;function fv(){if(t0)return t0;var e,t=Gm,r=t.length,n,a="value"in oA?oA.value:oA.textContent,A=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[A-n];n++);return t0=a.slice(e,1<n?1-n:void 0)}function r0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fu(){return!0}function Py(){return!1}function Mn(e){function t(r,n,a,A,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=A,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(A):A[o]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?fu:Py,this.isPropagationStopped=Py,this}return Yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),t}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wm=Mn(ol),od=Yt({},ol,{view:0,detail:0}),D4=Mn(od),Wf,Jf,Xl,ph=Yt({},od,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xl&&(Xl&&e.type==="mousemove"?(Wf=e.screenX-Xl.screenX,Jf=e.screenY-Xl.screenY):Jf=Wf=0,Xl=e),Wf)},movementY:function(e){return"movementY"in e?e.movementY:Jf}}),Dy=Mn(ph),T4=Yt({},ph,{dataTransfer:0}),R4=Mn(T4),H4=Yt({},od,{relatedTarget:0}),Xf=Mn(H4),O4=Yt({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),M4=Mn(O4),_4=Yt({},ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K4=Mn(_4),q4=Yt({},ol,{data:0}),Ty=Mn(q4),z4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=G4[e])?!!t[e]:!1}function Jm(){return W4}var J4=Yt({},od,{key:function(e){if(e.key){var t=z4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=r0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jm,charCode:function(e){return e.type==="keypress"?r0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?r0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),X4=Mn(J4),$4=Yt({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ry=Mn($4),Y4=Yt({},od,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jm}),Z4=Mn(Y4),eC=Yt({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),tC=Mn(eC),rC=Yt({},ph,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nC=Mn(rC),sC=[9,13,27,32],Xm=Ea&&"CompositionEvent"in window,wc=null;Ea&&"documentMode"in document&&(wc=document.documentMode);var aC=Ea&&"TextEvent"in window&&!wc,gv=Ea&&(!Xm||wc&&8<wc&&11>=wc),Hy=String.fromCharCode(32),Oy=!1;function pv(e,t){switch(e){case"keyup":return sC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bo=!1;function AC(e,t){switch(e){case"compositionend":return mv(t);case"keypress":return t.which!==32?null:(Oy=!0,Hy);case"textInput":return e=t.data,e===Hy&&Oy?null:e;default:return null}}function iC(e,t){if(Bo)return e==="compositionend"||!Xm&&pv(e,t)?(e=fv(),t0=Gm=oA=null,Bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gv&&t.locale!=="ko"?null:t.data;default:return null}}var oC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oC[e.type]:t==="textarea"}function xv(e,t,r,n){Jw(n),t=F0(t,"onChange"),0<t.length&&(r=new Wm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vc=null,Mc=null;function lC(e){Fv(e,0)}function mh(e){var t=ko(e);if(_w(t))return e}function cC(e,t){if(e==="change")return t}var yv=!1;if(Ea){var $f;if(Ea){var Yf="oninput"in document;if(!Yf){var _y=document.createElement("div");_y.setAttribute("oninput","return;"),Yf=typeof _y.oninput=="function"}$f=Yf}else $f=!1;yv=$f&&(!document.documentMode||9<document.documentMode)}function Ky(){vc&&(vc.detachEvent("onpropertychange",wv),Mc=vc=null)}function wv(e){if(e.propertyName==="value"&&mh(Mc)){var t=[];xv(t,Mc,e,_m(e)),Zw(lC,t)}}function dC(e,t,r){e==="focusin"?(Ky(),vc=t,Mc=r,vc.attachEvent("onpropertychange",wv)):e==="focusout"&&Ky()}function uC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mh(Mc)}function hC(e,t){if(e==="click")return mh(t)}function fC(e,t){if(e==="input"||e==="change")return mh(t)}function gC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fs=typeof Object.is=="function"?Object.is:gC;function _c(e,t){if(Fs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Jg.call(t,a)||!Fs(e[a],t[a]))return!1}return!0}function qy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zy(e,t){var r=qy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qy(r)}}function vv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bv(){for(var e=window,t=b0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=b0(e.document)}return t}function $m(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pC(e){var t=bv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&vv(r.ownerDocument.documentElement,r)){if(n!==null&&$m(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,A=Math.min(n.start,a);n=n.end===void 0?A:Math.min(n.end,a),!e.extend&&A>n&&(a=n,n=A,A=a),a=zy(r,A);var i=zy(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),A>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mC=Ea&&"documentMode"in document&&11>=document.documentMode,No=null,fp=null,bc=null,gp=!1;function Vy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gp||No==null||No!==b0(n)||(n=No,"selectionStart"in n&&$m(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bc&&_c(bc,n)||(bc=n,n=F0(fp,"onSelect"),0<n.length&&(t=new Wm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=No)))}function gu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Co={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Zf={},Bv={};Ea&&(Bv=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function xh(e){if(Zf[e])return Zf[e];if(!Co[e])return e;var t=Co[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Bv)return Zf[e]=t[r];return e}var Nv=xh("animationend"),Cv=xh("animationiteration"),kv=xh("animationstart"),jv=xh("transitionend"),Sv=new Map,Gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function UA(e,t){Sv.set(e,t),ki(t,[e])}for(var eg=0;eg<Gy.length;eg++){var tg=Gy[eg],xC=tg.toLowerCase(),yC=tg[0].toUpperCase()+tg.slice(1);UA(xC,"on"+yC)}UA(Nv,"onAnimationEnd");UA(Cv,"onAnimationIteration");UA(kv,"onAnimationStart");UA("dblclick","onDoubleClick");UA("focusin","onFocus");UA("focusout","onBlur");UA(jv,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wC=new Set("cancel close invalid load scroll toggle".split(" ").concat(cc));function Wy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,x4(n,t,void 0,e),e.currentTarget=null}function Fv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var A=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==A&&a.isPropagationStopped())break e;Wy(a,o,c),A=l}else for(i=0;i<n.length;i++){if(o=n[i],l=o.instance,c=o.currentTarget,o=o.listener,l!==A&&a.isPropagationStopped())break e;Wy(a,o,c),A=l}}}if(N0)throw e=cp,N0=!1,cp=null,e}function _t(e,t){var r=t[wp];r===void 0&&(r=t[wp]=new Set);var n=e+"__bubble";r.has(n)||(Ev(t,e,2,!1),r.add(n))}function rg(e,t,r){var n=0;t&&(n|=4),Ev(r,e,n,t)}var pu="_reactListening"+Math.random().toString(36).slice(2);function Kc(e){if(!e[pu]){e[pu]=!0,Tw.forEach(function(r){r!=="selectionchange"&&(wC.has(r)||rg(r,!1,e),rg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pu]||(t[pu]=!0,rg("selectionchange",!1,t))}}function Ev(e,t,r,n){switch(hv(t)){case 1:var a=I4;break;case 4:a=P4;break;default:a=Vm}r=a.bind(null,t,r,e),a=void 0,!lp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ng(e,t,r,n,a){var A=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;o!==null;){if(i=ni(o),i===null)return;if(l=i.tag,l===5||l===6){n=A=i;continue e}o=o.parentNode}}n=n.return}Zw(function(){var c=A,u=_m(r),h=[];e:{var x=Sv.get(e);if(x!==void 0){var f=Wm,b=e;switch(e){case"keypress":if(r0(r)===0)break e;case"keydown":case"keyup":f=X4;break;case"focusin":b="focus",f=Xf;break;case"focusout":b="blur",f=Xf;break;case"beforeblur":case"afterblur":f=Xf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=R4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Z4;break;case Nv:case Cv:case kv:f=M4;break;case jv:f=tC;break;case"scroll":f=D4;break;case"wheel":f=nC;break;case"copy":case"cut":case"paste":f=K4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Ry}var p=(t&4)!==0,C=!p&&e==="scroll",m=p?x!==null?x+"Capture":null:x;p=[];for(var w=c,B;w!==null;){B=w;var D=B.stateNode;if(B.tag===5&&D!==null&&(B=D,m!==null&&(D=Tc(w,m),D!=null&&p.push(qc(w,D,B)))),C)break;w=w.return}0<p.length&&(x=new f(x,b,null,r,u),h.push({event:x,listeners:p}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",x&&r!==ip&&(b=r.relatedTarget||r.fromElement)&&(ni(b)||b[Qa]))break e;if((f||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,f?(b=r.relatedTarget||r.toElement,f=c,b=b?ni(b):null,b!==null&&(C=ji(b),b!==C||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=c),f!==b)){if(p=Dy,D="onMouseLeave",m="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=Ry,D="onPointerLeave",m="onPointerEnter",w="pointer"),C=f==null?x:ko(f),B=b==null?x:ko(b),x=new p(D,w+"leave",f,r,u),x.target=C,x.relatedTarget=B,D=null,ni(u)===c&&(p=new p(m,w+"enter",b,r,u),p.target=B,p.relatedTarget=C,D=p),C=D,f&&b)t:{for(p=f,m=b,w=0,B=p;B;B=Ao(B))w++;for(B=0,D=m;D;D=Ao(D))B++;for(;0<w-B;)p=Ao(p),w--;for(;0<B-w;)m=Ao(m),B--;for(;w--;){if(p===m||m!==null&&p===m.alternate)break t;p=Ao(p),m=Ao(m)}p=null}else p=null;f!==null&&Jy(h,x,f,p,!1),b!==null&&C!==null&&Jy(h,C,b,p,!0)}}e:{if(x=c?ko(c):window,f=x.nodeName&&x.nodeName.toLowerCase(),f==="select"||f==="input"&&x.type==="file")var O=cC;else if(My(x))if(yv)O=fC;else{O=uC;var q=dC}else(f=x.nodeName)&&f.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(O=hC);if(O&&(O=O(e,c))){xv(h,O,r,u);break e}q&&q(e,x,c),e==="focusout"&&(q=x._wrapperState)&&q.controlled&&x.type==="number"&&rp(x,"number",x.value)}switch(q=c?ko(c):window,e){case"focusin":(My(q)||q.contentEditable==="true")&&(No=q,fp=c,bc=null);break;case"focusout":bc=fp=No=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,Vy(h,r,u);break;case"selectionchange":if(mC)break;case"keydown":case"keyup":Vy(h,r,u)}var F;if(Xm)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Bo?pv(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(gv&&r.locale!=="ko"&&(Bo||j!=="onCompositionStart"?j==="onCompositionEnd"&&Bo&&(F=fv()):(oA=u,Gm="value"in oA?oA.value:oA.textContent,Bo=!0)),q=F0(c,j),0<q.length&&(j=new Ty(j,e,null,r,u),h.push({event:j,listeners:q}),F?j.data=F:(F=mv(r),F!==null&&(j.data=F)))),(F=aC?AC(e,r):iC(e,r))&&(c=F0(c,"onBeforeInput"),0<c.length&&(u=new Ty("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=F))}Fv(h,t)})}function qc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function F0(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,A=a.stateNode;a.tag===5&&A!==null&&(a=A,A=Tc(e,r),A!=null&&n.unshift(qc(e,A,a)),A=Tc(e,t),A!=null&&n.push(qc(e,A,a))),e=e.return}return n}function Ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jy(e,t,r,n,a){for(var A=t._reactName,i=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Tc(r,A),l!=null&&i.unshift(qc(r,l,o))):a||(l=Tc(r,A),l!=null&&i.push(qc(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var vC=/\r\n?/g,bC=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(vC,`
`).replace(bC,"")}function mu(e,t,r){if(t=Xy(t),Xy(e)!==t&&r)throw Error(Se(425))}function E0(){}var pp=null,mp=null;function xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,BC=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,NC=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(CC)}:yp;function CC(e){setTimeout(function(){throw e})}function sg(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Oc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Oc(t)}function xA(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ll=Math.random().toString(36).slice(2),Zs="__reactFiber$"+ll,zc="__reactProps$"+ll,Qa="__reactContainer$"+ll,wp="__reactEvents$"+ll,kC="__reactListeners$"+ll,jC="__reactHandles$"+ll;function ni(e){var t=e[Zs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qa]||r[Zs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Yy(e);e!==null;){if(r=e[Zs])return r;e=Yy(e)}return t}e=r,r=e.parentNode}return null}function ld(e){return e=e[Zs]||e[Qa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function yh(e){return e[zc]||null}var vp=[],jo=-1;function LA(e){return{current:e}}function qt(e){0>jo||(e.current=vp[jo],vp[jo]=null,jo--)}function Mt(e,t){jo++,vp[jo]=e.current,e.current=t}var SA={},nn=LA(SA),Bn=LA(!1),mi=SA;function Xo(e,t){var r=e.type.contextTypes;if(!r)return SA;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},A;for(A in r)a[A]=t[A];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Nn(e){return e=e.childContextTypes,e!=null}function Q0(){qt(Bn),qt(nn)}function Zy(e,t,r){if(nn.current!==SA)throw Error(Se(168));Mt(nn,t),Mt(Bn,r)}function Qv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Se(108,d4(e)||"Unknown",a));return Yt({},r,n)}function U0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||SA,mi=nn.current,Mt(nn,e),Mt(Bn,Bn.current),!0}function e1(e,t,r){var n=e.stateNode;if(!n)throw Error(Se(169));r?(e=Qv(e,t,mi),n.__reactInternalMemoizedMergedChildContext=e,qt(Bn),qt(nn),Mt(nn,e)):qt(Bn),Mt(Bn,r)}var Na=null,wh=!1,ag=!1;function Uv(e){Na===null?Na=[e]:Na.push(e)}function SC(e){wh=!0,Uv(e)}function IA(){if(!ag&&Na!==null){ag=!0;var e=0,t=Qt;try{var r=Na;for(Qt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Na=null,wh=!1}catch(a){throw Na!==null&&(Na=Na.slice(e+1)),nv(Km,IA),a}finally{Qt=t,ag=!1}}return null}var So=[],Fo=0,L0=null,I0=0,$n=[],Yn=0,xi=null,Ca=1,ka="";function YA(e,t){So[Fo++]=I0,So[Fo++]=L0,L0=e,I0=t}function Lv(e,t,r){$n[Yn++]=Ca,$n[Yn++]=ka,$n[Yn++]=xi,xi=e;var n=Ca;e=ka;var a=32-ks(n)-1;n&=~(1<<a),r+=1;var A=32-ks(t)+a;if(30<A){var i=a-a%5;A=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ca=1<<32-ks(t)+a|r<<a|n,ka=A+e}else Ca=1<<A|r<<a|n,ka=e}function Ym(e){e.return!==null&&(YA(e,1),Lv(e,1,0))}function Zm(e){for(;e===L0;)L0=So[--Fo],So[Fo]=null,I0=So[--Fo],So[Fo]=null;for(;e===xi;)xi=$n[--Yn],$n[Yn]=null,ka=$n[--Yn],$n[Yn]=null,Ca=$n[--Yn],$n[Yn]=null}var Rn=null,Dn=null,Gt=!1,Cs=null;function Iv(e,t){var r=es(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function t1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rn=e,Dn=xA(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rn=e,Dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xi!==null?{id:Ca,overflow:ka}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=es(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Rn=e,Dn=null,!0):!1;default:return!1}}function bp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bp(e){if(Gt){var t=Dn;if(t){var r=t;if(!t1(e,t)){if(bp(e))throw Error(Se(418));t=xA(r.nextSibling);var n=Rn;t&&t1(e,t)?Iv(n,r):(e.flags=e.flags&-4097|2,Gt=!1,Rn=e)}}else{if(bp(e))throw Error(Se(418));e.flags=e.flags&-4097|2,Gt=!1,Rn=e}}}function r1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rn=e}function xu(e){if(e!==Rn)return!1;if(!Gt)return r1(e),Gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xp(e.type,e.memoizedProps)),t&&(t=Dn)){if(bp(e))throw Pv(),Error(Se(418));for(;t;)Iv(e,t),t=xA(t.nextSibling)}if(r1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dn=xA(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dn=null}}else Dn=Rn?xA(e.stateNode.nextSibling):null;return!0}function Pv(){for(var e=Dn;e;)e=xA(e.nextSibling)}function $o(){Dn=Rn=null,Gt=!1}function ex(e){Cs===null?Cs=[e]:Cs.push(e)}var FC=Pa.ReactCurrentBatchConfig;function $l(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Se(309));var n=r.stateNode}if(!n)throw Error(Se(147,e));var a=n,A=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===A?t.ref:(t=function(i){var o=a.refs;i===null?delete o[A]:o[A]=i},t._stringRef=A,t)}if(typeof e!="string")throw Error(Se(284));if(!r._owner)throw Error(Se(290,e))}return e}function yu(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function n1(e){var t=e._init;return t(e._payload)}function Dv(e){function t(m,w){if(e){var B=m.deletions;B===null?(m.deletions=[w],m.flags|=16):B.push(w)}}function r(m,w){if(!e)return null;for(;w!==null;)t(m,w),w=w.sibling;return null}function n(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function a(m,w){return m=bA(m,w),m.index=0,m.sibling=null,m}function A(m,w,B){return m.index=B,e?(B=m.alternate,B!==null?(B=B.index,B<w?(m.flags|=2,w):B):(m.flags|=2,w)):(m.flags|=1048576,w)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,w,B,D){return w===null||w.tag!==6?(w=ug(B,m.mode,D),w.return=m,w):(w=a(w,B),w.return=m,w)}function l(m,w,B,D){var O=B.type;return O===bo?u(m,w,B.props.children,D,B.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===nA&&n1(O)===w.type)?(D=a(w,B.props),D.ref=$l(m,w,B),D.return=m,D):(D=l0(B.type,B.key,B.props,null,m.mode,D),D.ref=$l(m,w,B),D.return=m,D)}function c(m,w,B,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==B.containerInfo||w.stateNode.implementation!==B.implementation?(w=hg(B,m.mode,D),w.return=m,w):(w=a(w,B.children||[]),w.return=m,w)}function u(m,w,B,D,O){return w===null||w.tag!==7?(w=ci(B,m.mode,D,O),w.return=m,w):(w=a(w,B),w.return=m,w)}function h(m,w,B){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ug(""+w,m.mode,B),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ou:return B=l0(w.type,w.key,w.props,null,m.mode,B),B.ref=$l(m,null,w),B.return=m,B;case vo:return w=hg(w,m.mode,B),w.return=m,w;case nA:var D=w._init;return h(m,D(w._payload),B)}if(oc(w)||Vl(w))return w=ci(w,m.mode,B,null),w.return=m,w;yu(m,w)}return null}function x(m,w,B,D){var O=w!==null?w.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return O!==null?null:o(m,w,""+B,D);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ou:return B.key===O?l(m,w,B,D):null;case vo:return B.key===O?c(m,w,B,D):null;case nA:return O=B._init,x(m,w,O(B._payload),D)}if(oc(B)||Vl(B))return O!==null?null:u(m,w,B,D,null);yu(m,B)}return null}function f(m,w,B,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return m=m.get(B)||null,o(w,m,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ou:return m=m.get(D.key===null?B:D.key)||null,l(w,m,D,O);case vo:return m=m.get(D.key===null?B:D.key)||null,c(w,m,D,O);case nA:var q=D._init;return f(m,w,B,q(D._payload),O)}if(oc(D)||Vl(D))return m=m.get(B)||null,u(w,m,D,O,null);yu(w,D)}return null}function b(m,w,B,D){for(var O=null,q=null,F=w,j=w=0,I=null;F!==null&&j<B.length;j++){F.index>j?(I=F,F=null):I=F.sibling;var R=x(m,F,B[j],D);if(R===null){F===null&&(F=I);break}e&&F&&R.alternate===null&&t(m,F),w=A(R,w,j),q===null?O=R:q.sibling=R,q=R,F=I}if(j===B.length)return r(m,F),Gt&&YA(m,j),O;if(F===null){for(;j<B.length;j++)F=h(m,B[j],D),F!==null&&(w=A(F,w,j),q===null?O=F:q.sibling=F,q=F);return Gt&&YA(m,j),O}for(F=n(m,F);j<B.length;j++)I=f(F,m,j,B[j],D),I!==null&&(e&&I.alternate!==null&&F.delete(I.key===null?j:I.key),w=A(I,w,j),q===null?O=I:q.sibling=I,q=I);return e&&F.forEach(function(E){return t(m,E)}),Gt&&YA(m,j),O}function p(m,w,B,D){var O=Vl(B);if(typeof O!="function")throw Error(Se(150));if(B=O.call(B),B==null)throw Error(Se(151));for(var q=O=null,F=w,j=w=0,I=null,R=B.next();F!==null&&!R.done;j++,R=B.next()){F.index>j?(I=F,F=null):I=F.sibling;var E=x(m,F,R.value,D);if(E===null){F===null&&(F=I);break}e&&F&&E.alternate===null&&t(m,F),w=A(E,w,j),q===null?O=E:q.sibling=E,q=E,F=I}if(R.done)return r(m,F),Gt&&YA(m,j),O;if(F===null){for(;!R.done;j++,R=B.next())R=h(m,R.value,D),R!==null&&(w=A(R,w,j),q===null?O=R:q.sibling=R,q=R);return Gt&&YA(m,j),O}for(F=n(m,F);!R.done;j++,R=B.next())R=f(F,m,j,R.value,D),R!==null&&(e&&R.alternate!==null&&F.delete(R.key===null?j:R.key),w=A(R,w,j),q===null?O=R:q.sibling=R,q=R);return e&&F.forEach(function(k){return t(m,k)}),Gt&&YA(m,j),O}function C(m,w,B,D){if(typeof B=="object"&&B!==null&&B.type===bo&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case ou:e:{for(var O=B.key,q=w;q!==null;){if(q.key===O){if(O=B.type,O===bo){if(q.tag===7){r(m,q.sibling),w=a(q,B.props.children),w.return=m,m=w;break e}}else if(q.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===nA&&n1(O)===q.type){r(m,q.sibling),w=a(q,B.props),w.ref=$l(m,q,B),w.return=m,m=w;break e}r(m,q);break}else t(m,q);q=q.sibling}B.type===bo?(w=ci(B.props.children,m.mode,D,B.key),w.return=m,m=w):(D=l0(B.type,B.key,B.props,null,m.mode,D),D.ref=$l(m,w,B),D.return=m,m=D)}return i(m);case vo:e:{for(q=B.key;w!==null;){if(w.key===q)if(w.tag===4&&w.stateNode.containerInfo===B.containerInfo&&w.stateNode.implementation===B.implementation){r(m,w.sibling),w=a(w,B.children||[]),w.return=m,m=w;break e}else{r(m,w);break}else t(m,w);w=w.sibling}w=hg(B,m.mode,D),w.return=m,m=w}return i(m);case nA:return q=B._init,C(m,w,q(B._payload),D)}if(oc(B))return b(m,w,B,D);if(Vl(B))return p(m,w,B,D);yu(m,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,w!==null&&w.tag===6?(r(m,w.sibling),w=a(w,B),w.return=m,m=w):(r(m,w),w=ug(B,m.mode,D),w.return=m,m=w),i(m)):r(m,w)}return C}var Yo=Dv(!0),Tv=Dv(!1),P0=LA(null),D0=null,Eo=null,tx=null;function rx(){tx=Eo=D0=null}function nx(e){var t=P0.current;qt(P0),e._currentValue=t}function Np(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ho(e,t){D0=e,tx=Eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bn=!0),e.firstContext=null)}function ss(e){var t=e._currentValue;if(tx!==e)if(e={context:e,memoizedValue:t,next:null},Eo===null){if(D0===null)throw Error(Se(308));Eo=e,D0.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var si=null;function sx(e){si===null?si=[e]:si.push(e)}function Rv(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,sx(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ua(e,n)}function Ua(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var sA=!1;function ax(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ja(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yA(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,yt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ua(e,r)}return a=n.interleaved,a===null?(t.next=t,sx(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ua(e,r)}function n0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qm(e,r)}}function s1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,A=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};A===null?a=A=i:A=A.next=i,r=r.next}while(r!==null);A===null?a=A=t:A=A.next=t}else a=A=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:A,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function T0(e,t,r,n){var a=e.updateQueue;sA=!1;var A=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,i===null?A=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(A!==null){var h=a.baseState;i=0,u=c=l=null,o=A;do{var x=o.lane,f=o.eventTime;if((n&x)===x){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=e,p=o;switch(x=t,f=r,p.tag){case 1:if(b=p.payload,typeof b=="function"){h=b.call(f,h,x);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=p.payload,x=typeof b=="function"?b.call(f,h,x):b,x==null)break e;h=Yt({},h,x);break e;case 2:sA=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[o]:x.push(o))}else f={eventTime:f,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,i|=x;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;x=o,o=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(1);if(u===null&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else A===null&&(a.shared.lanes=0);wi|=i,e.lanes=i,e.memoizedState=h}}function a1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Se(191,a));a.call(n)}}}var cd={},sa=LA(cd),Vc=LA(cd),Gc=LA(cd);function ai(e){if(e===cd)throw Error(Se(174));return e}function Ax(e,t){switch(Mt(Gc,t),Mt(Vc,e),Mt(sa,cd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sp(t,e)}qt(sa),Mt(sa,t)}function Zo(){qt(sa),qt(Vc),qt(Gc)}function Ov(e){ai(Gc.current);var t=ai(sa.current),r=sp(t,e.type);t!==r&&(Mt(Vc,e),Mt(sa,r))}function ix(e){Vc.current===e&&(qt(sa),qt(Vc))}var Jt=LA(0);function R0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ag=[];function ox(){for(var e=0;e<Ag.length;e++)Ag[e]._workInProgressVersionPrimary=null;Ag.length=0}var s0=Pa.ReactCurrentDispatcher,ig=Pa.ReactCurrentBatchConfig,yi=0,Xt=null,Br=null,Ur=null,H0=!1,Bc=!1,Wc=0,EC=0;function Vr(){throw Error(Se(321))}function lx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Fs(e[r],t[r]))return!1;return!0}function cx(e,t,r,n,a,A){if(yi=A,Xt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,s0.current=e===null||e.memoizedState===null?IC:PC,e=r(n,a),Bc){A=0;do{if(Bc=!1,Wc=0,25<=A)throw Error(Se(301));A+=1,Ur=Br=null,t.updateQueue=null,s0.current=DC,e=r(n,a)}while(Bc)}if(s0.current=O0,t=Br!==null&&Br.next!==null,yi=0,Ur=Br=Xt=null,H0=!1,t)throw Error(Se(300));return e}function dx(){var e=Wc!==0;return Wc=0,e}function Ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?Xt.memoizedState=Ur=e:Ur=Ur.next=e,Ur}function as(){if(Br===null){var e=Xt.alternate;e=e!==null?e.memoizedState:null}else e=Br.next;var t=Ur===null?Xt.memoizedState:Ur.next;if(t!==null)Ur=t,Br=e;else{if(e===null)throw Error(Se(310));Br=e,e={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},Ur===null?Xt.memoizedState=Ur=e:Ur=Ur.next=e}return Ur}function Jc(e,t){return typeof t=="function"?t(e):t}function og(e){var t=as(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=Br,a=n.baseQueue,A=r.pending;if(A!==null){if(a!==null){var i=a.next;a.next=A.next,A.next=i}n.baseQueue=a=A,r.pending=null}if(a!==null){A=a.next,n=n.baseState;var o=i=null,l=null,c=A;do{var u=c.lane;if((yi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,i=n):l=l.next=h,Xt.lanes|=u,wi|=u}c=c.next}while(c!==null&&c!==A);l===null?i=n:l.next=o,Fs(n,t.memoizedState)||(bn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do A=a.lane,Xt.lanes|=A,wi|=A,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function lg(e){var t=as(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,A=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do A=e(A,i.action),i=i.next;while(i!==a);Fs(A,t.memoizedState)||(bn=!0),t.memoizedState=A,t.baseQueue===null&&(t.baseState=A),r.lastRenderedState=A}return[A,n]}function Mv(){}function _v(e,t){var r=Xt,n=as(),a=t(),A=!Fs(n.memoizedState,a);if(A&&(n.memoizedState=a,bn=!0),n=n.queue,ux(zv.bind(null,r,n,e),[e]),n.getSnapshot!==t||A||Ur!==null&&Ur.memoizedState.tag&1){if(r.flags|=2048,Xc(9,qv.bind(null,r,n,a,t),void 0,null),Ir===null)throw Error(Se(349));yi&30||Kv(r,t,a)}return a}function Kv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qv(e,t,r,n){t.value=r,t.getSnapshot=n,Vv(t)&&Gv(e)}function zv(e,t,r){return r(function(){Vv(t)&&Gv(e)})}function Vv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fs(e,r)}catch{return!0}}function Gv(e){var t=Ua(e,1);t!==null&&js(t,e,1,-1)}function A1(e){var t=Ys();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:e},t.queue=e,e=e.dispatch=LC.bind(null,Xt,e),[t.memoizedState,e]}function Xc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Wv(){return as().memoizedState}function a0(e,t,r,n){var a=Ys();Xt.flags|=e,a.memoizedState=Xc(1|t,r,void 0,n===void 0?null:n)}function vh(e,t,r,n){var a=as();n=n===void 0?null:n;var A=void 0;if(Br!==null){var i=Br.memoizedState;if(A=i.destroy,n!==null&&lx(n,i.deps)){a.memoizedState=Xc(t,r,A,n);return}}Xt.flags|=e,a.memoizedState=Xc(1|t,r,A,n)}function i1(e,t){return a0(8390656,8,e,t)}function ux(e,t){return vh(2048,8,e,t)}function Jv(e,t){return vh(4,2,e,t)}function Xv(e,t){return vh(4,4,e,t)}function $v(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yv(e,t,r){return r=r!=null?r.concat([e]):null,vh(4,4,$v.bind(null,t,e),r)}function hx(){}function Zv(e,t){var r=as();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function eb(e,t){var r=as();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function tb(e,t,r){return yi&21?(Fs(r,t)||(r=Av(),Xt.lanes|=r,wi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bn=!0),e.memoizedState=r)}function QC(e,t){var r=Qt;Qt=r!==0&&4>r?r:4,e(!0);var n=ig.transition;ig.transition={};try{e(!1),t()}finally{Qt=r,ig.transition=n}}function rb(){return as().memoizedState}function UC(e,t,r){var n=vA(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nb(e))sb(t,r);else if(r=Rv(e,t,r,n),r!==null){var a=cn();js(r,e,n,a),ab(r,t,n)}}function LC(e,t,r){var n=vA(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nb(e))sb(t,a);else{var A=e.alternate;if(e.lanes===0&&(A===null||A.lanes===0)&&(A=t.lastRenderedReducer,A!==null))try{var i=t.lastRenderedState,o=A(i,r);if(a.hasEagerState=!0,a.eagerState=o,Fs(o,i)){var l=t.interleaved;l===null?(a.next=a,sx(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Rv(e,t,a,n),r!==null&&(a=cn(),js(r,e,n,a),ab(r,t,n))}}function nb(e){var t=e.alternate;return e===Xt||t!==null&&t===Xt}function sb(e,t){Bc=H0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ab(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qm(e,r)}}var O0={readContext:ss,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},IC={readContext:ss,useCallback:function(e,t){return Ys().memoizedState=[e,t===void 0?null:t],e},useContext:ss,useEffect:i1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,a0(4194308,4,$v.bind(null,t,e),r)},useLayoutEffect:function(e,t){return a0(4194308,4,e,t)},useInsertionEffect:function(e,t){return a0(4,2,e,t)},useMemo:function(e,t){var r=Ys();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ys();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=UC.bind(null,Xt,e),[n.memoizedState,e]},useRef:function(e){var t=Ys();return e={current:e},t.memoizedState=e},useState:A1,useDebugValue:hx,useDeferredValue:function(e){return Ys().memoizedState=e},useTransition:function(){var e=A1(!1),t=e[0];return e=QC.bind(null,e[1]),Ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Xt,a=Ys();if(Gt){if(r===void 0)throw Error(Se(407));r=r()}else{if(r=t(),Ir===null)throw Error(Se(349));yi&30||Kv(n,t,r)}a.memoizedState=r;var A={value:r,getSnapshot:t};return a.queue=A,i1(zv.bind(null,n,A,e),[e]),n.flags|=2048,Xc(9,qv.bind(null,n,A,r,t),void 0,null),r},useId:function(){var e=Ys(),t=Ir.identifierPrefix;if(Gt){var r=ka,n=Ca;r=(n&~(1<<32-ks(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=EC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PC={readContext:ss,useCallback:Zv,useContext:ss,useEffect:ux,useImperativeHandle:Yv,useInsertionEffect:Jv,useLayoutEffect:Xv,useMemo:eb,useReducer:og,useRef:Wv,useState:function(){return og(Jc)},useDebugValue:hx,useDeferredValue:function(e){var t=as();return tb(t,Br.memoizedState,e)},useTransition:function(){var e=og(Jc)[0],t=as().memoizedState;return[e,t]},useMutableSource:Mv,useSyncExternalStore:_v,useId:rb,unstable_isNewReconciler:!1},DC={readContext:ss,useCallback:Zv,useContext:ss,useEffect:ux,useImperativeHandle:Yv,useInsertionEffect:Jv,useLayoutEffect:Xv,useMemo:eb,useReducer:lg,useRef:Wv,useState:function(){return lg(Jc)},useDebugValue:hx,useDeferredValue:function(e){var t=as();return Br===null?t.memoizedState=e:tb(t,Br.memoizedState,e)},useTransition:function(){var e=lg(Jc)[0],t=as().memoizedState;return[e,t]},useMutableSource:Mv,useSyncExternalStore:_v,useId:rb,unstable_isNewReconciler:!1};function bs(e,t){if(e&&e.defaultProps){t=Yt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Cp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Yt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bh={isMounted:function(e){return(e=e._reactInternals)?ji(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cn(),a=vA(e),A=ja(n,a);A.payload=t,r!=null&&(A.callback=r),t=yA(e,A,a),t!==null&&(js(t,e,a,n),n0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cn(),a=vA(e),A=ja(n,a);A.tag=1,A.payload=t,r!=null&&(A.callback=r),t=yA(e,A,a),t!==null&&(js(t,e,a,n),n0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cn(),n=vA(e),a=ja(r,n);a.tag=2,t!=null&&(a.callback=t),t=yA(e,a,n),t!==null&&(js(t,e,n,r),n0(t,e,n))}};function o1(e,t,r,n,a,A,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,A,i):t.prototype&&t.prototype.isPureReactComponent?!_c(r,n)||!_c(a,A):!0}function Ab(e,t,r){var n=!1,a=SA,A=t.contextType;return typeof A=="object"&&A!==null?A=ss(A):(a=Nn(t)?mi:nn.current,n=t.contextTypes,A=(n=n!=null)?Xo(e,a):SA),t=new t(r,A),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=A),t}function l1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bh.enqueueReplaceState(t,t.state,null)}function kp(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ax(e);var A=t.contextType;typeof A=="object"&&A!==null?a.context=ss(A):(A=Nn(t)?mi:nn.current,a.context=Xo(e,A)),a.state=e.memoizedState,A=t.getDerivedStateFromProps,typeof A=="function"&&(Cp(e,t,A,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&bh.enqueueReplaceState(a,a.state,null),T0(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function el(e,t){try{var r="",n=t;do r+=c4(n),n=n.return;while(n);var a=r}catch(A){a=`
Error generating stack: `+A.message+`
`+A.stack}return{value:e,source:t,stack:a,digest:null}}function cg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TC=typeof WeakMap=="function"?WeakMap:Map;function ib(e,t,r){r=ja(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_0||(_0=!0,Tp=n),jp(e,t)},r}function ob(e,t,r){r=ja(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){jp(e,t)}}var A=e.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){jp(e,t),typeof n!="function"&&(wA===null?wA=new Set([this]):wA.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function c1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new TC;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=$C.bind(null,e,t,r),t.then(e,e))}function d1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u1(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ja(-1,1),t.tag=2,yA(r,t,1))),r.lanes|=1),e)}var RC=Pa.ReactCurrentOwner,bn=!1;function ln(e,t,r,n){t.child=e===null?Tv(t,null,r,n):Yo(t,e.child,r,n)}function h1(e,t,r,n,a){r=r.render;var A=t.ref;return Ho(t,a),n=cx(e,t,r,n,A,a),r=dx(),e!==null&&!bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,La(e,t,a)):(Gt&&r&&Ym(t),t.flags|=1,ln(e,t,n,a),t.child)}function f1(e,t,r,n,a){if(e===null){var A=r.type;return typeof A=="function"&&!vx(A)&&A.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=A,lb(e,t,A,n,a)):(e=l0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(A=e.child,!(e.lanes&a)){var i=A.memoizedProps;if(r=r.compare,r=r!==null?r:_c,r(i,n)&&e.ref===t.ref)return La(e,t,a)}return t.flags|=1,e=bA(A,n),e.ref=t.ref,e.return=t,t.child=e}function lb(e,t,r,n,a){if(e!==null){var A=e.memoizedProps;if(_c(A,n)&&e.ref===t.ref)if(bn=!1,t.pendingProps=n=A,(e.lanes&a)!==0)e.flags&131072&&(bn=!0);else return t.lanes=e.lanes,La(e,t,a)}return Sp(e,t,r,n,a)}function cb(e,t,r){var n=t.pendingProps,a=n.children,A=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(Uo,Pn),Pn|=r;else{if(!(r&1073741824))return e=A!==null?A.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mt(Uo,Pn),Pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=A!==null?A.baseLanes:r,Mt(Uo,Pn),Pn|=n}else A!==null?(n=A.baseLanes|r,t.memoizedState=null):n=r,Mt(Uo,Pn),Pn|=n;return ln(e,t,a,r),t.child}function db(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sp(e,t,r,n,a){var A=Nn(r)?mi:nn.current;return A=Xo(t,A),Ho(t,a),r=cx(e,t,r,n,A,a),n=dx(),e!==null&&!bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,La(e,t,a)):(Gt&&n&&Ym(t),t.flags|=1,ln(e,t,r,a),t.child)}function g1(e,t,r,n,a){if(Nn(r)){var A=!0;U0(t)}else A=!1;if(Ho(t,a),t.stateNode===null)A0(e,t),Ab(t,r,n),kp(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=ss(c):(c=Nn(r)?mi:nn.current,c=Xo(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||l!==c)&&l1(t,i,n,c),sA=!1;var x=t.memoizedState;i.state=x,T0(t,n,i,a),l=t.memoizedState,o!==n||x!==l||Bn.current||sA?(typeof u=="function"&&(Cp(t,r,u,n),l=t.memoizedState),(o=sA||o1(t,r,o,n,x,l,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Hv(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:bs(t.type,o),i.props=c,h=t.pendingProps,x=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=ss(l):(l=Nn(r)?mi:nn.current,l=Xo(t,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||x!==l)&&l1(t,i,n,l),sA=!1,x=t.memoizedState,i.state=x,T0(t,n,i,a);var b=t.memoizedState;o!==h||x!==b||Bn.current||sA?(typeof f=="function"&&(Cp(t,r,f,n),b=t.memoizedState),(c=sA||o1(t,r,c,n,x,b,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return Fp(e,t,r,n,A,a)}function Fp(e,t,r,n,a,A){db(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&e1(t,r,!1),La(e,t,A);n=t.stateNode,RC.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Yo(t,e.child,null,A),t.child=Yo(t,null,o,A)):ln(e,t,o,A),t.memoizedState=n.state,a&&e1(t,r,!0),t.child}function ub(e){var t=e.stateNode;t.pendingContext?Zy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zy(e,t.context,!1),Ax(e,t.containerInfo)}function p1(e,t,r,n,a){return $o(),ex(a),t.flags|=256,ln(e,t,r,n),t.child}var Ep={dehydrated:null,treeContext:null,retryLane:0};function Qp(e){return{baseLanes:e,cachePool:null,transitions:null}}function hb(e,t,r){var n=t.pendingProps,a=Jt.current,A=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(A=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Mt(Jt,a&1),e===null)return Bp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,A?(n=t.mode,A=t.child,i={mode:"hidden",children:i},!(n&1)&&A!==null?(A.childLanes=0,A.pendingProps=i):A=Ch(i,n,0,null),e=ci(e,n,r,null),A.return=t,e.return=t,A.sibling=e,t.child=A,t.child.memoizedState=Qp(r),t.memoizedState=Ep,e):fx(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return HC(e,t,i,n,o,a,r);if(A){A=n.fallback,i=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=bA(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?A=bA(o,A):(A=ci(A,i,r,null),A.flags|=2),A.return=t,n.return=t,n.sibling=A,t.child=n,n=A,A=t.child,i=e.child.memoizedState,i=i===null?Qp(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},A.memoizedState=i,A.childLanes=e.childLanes&~r,t.memoizedState=Ep,n}return A=e.child,e=A.sibling,n=bA(A,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function fx(e,t){return t=Ch({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wu(e,t,r,n){return n!==null&&ex(n),Yo(t,e.child,null,r),e=fx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HC(e,t,r,n,a,A,i){if(r)return t.flags&256?(t.flags&=-257,n=cg(Error(Se(422))),wu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(A=n.fallback,a=t.mode,n=Ch({mode:"visible",children:n.children},a,0,null),A=ci(A,a,i,null),A.flags|=2,n.return=t,A.return=t,n.sibling=A,t.child=n,t.mode&1&&Yo(t,e.child,null,i),t.child.memoizedState=Qp(i),t.memoizedState=Ep,A);if(!(t.mode&1))return wu(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,A=Error(Se(419)),n=cg(A,n,void 0),wu(e,t,i,n)}if(o=(i&e.childLanes)!==0,bn||o){if(n=Ir,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==A.retryLane&&(A.retryLane=a,Ua(e,a),js(n,e,a,-1))}return wx(),n=cg(Error(Se(421))),wu(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=YC.bind(null,e),a._reactRetry=t,null):(e=A.treeContext,Dn=xA(a.nextSibling),Rn=t,Gt=!0,Cs=null,e!==null&&($n[Yn++]=Ca,$n[Yn++]=ka,$n[Yn++]=xi,Ca=e.id,ka=e.overflow,xi=t),t=fx(t,n.children),t.flags|=4096,t)}function m1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Np(e.return,t,r)}function dg(e,t,r,n,a){var A=e.memoizedState;A===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(A.isBackwards=t,A.rendering=null,A.renderingStartTime=0,A.last=n,A.tail=r,A.tailMode=a)}function fb(e,t,r){var n=t.pendingProps,a=n.revealOrder,A=n.tail;if(ln(e,t,n.children,r),n=Jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&m1(e,r,t);else if(e.tag===19)m1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Mt(Jt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&R0(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),dg(t,!1,a,r,A);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&R0(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}dg(t,!0,r,null,A);break;case"together":dg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function A0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function La(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,r=bA(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bA(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function OC(e,t,r){switch(t.tag){case 3:ub(t),$o();break;case 5:Ov(t);break;case 1:Nn(t.type)&&U0(t);break;case 4:Ax(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Mt(P0,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Mt(Jt,Jt.current&1),t.flags|=128,null):r&t.child.childLanes?hb(e,t,r):(Mt(Jt,Jt.current&1),e=La(e,t,r),e!==null?e.sibling:null);Mt(Jt,Jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return fb(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Mt(Jt,Jt.current),n)break;return null;case 22:case 23:return t.lanes=0,cb(e,t,r)}return La(e,t,r)}var gb,Up,pb,mb;gb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Up=function(){};pb=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ai(sa.current);var A=null;switch(r){case"input":a=ep(e,a),n=ep(e,n),A=[];break;case"select":a=Yt({},a,{value:void 0}),n=Yt({},n,{value:void 0}),A=[];break;case"textarea":a=np(e,a),n=np(e,n),A=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=E0)}ap(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pc.hasOwnProperty(c)?A||(A=[]):(A=A||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(A||(A=[]),A.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(A=A||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(A=A||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_t("scroll",e),A||o===l||(A=[])):(A=A||[]).push(c,l))}r&&(A=A||[]).push("style",r);var c=A;(t.updateQueue=c)&&(t.flags|=4)}};mb=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yl(e,t){if(!Gt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function MC(e,t,r){var n=t.pendingProps;switch(Zm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(t),null;case 1:return Nn(t.type)&&Q0(),Gr(t),null;case 3:return n=t.stateNode,Zo(),qt(Bn),qt(nn),ox(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cs!==null&&(Op(Cs),Cs=null))),Up(e,t),Gr(t),null;case 5:ix(t);var a=ai(Gc.current);if(r=t.type,e!==null&&t.stateNode!=null)pb(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Se(166));return Gr(t),null}if(e=ai(sa.current),xu(t)){n=t.stateNode,r=t.type;var A=t.memoizedProps;switch(n[Zs]=t,n[zc]=A,e=(t.mode&1)!==0,r){case"dialog":_t("cancel",n),_t("close",n);break;case"iframe":case"object":case"embed":_t("load",n);break;case"video":case"audio":for(a=0;a<cc.length;a++)_t(cc[a],n);break;case"source":_t("error",n);break;case"img":case"image":case"link":_t("error",n),_t("load",n);break;case"details":_t("toggle",n);break;case"input":ky(n,A),_t("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!A.multiple},_t("invalid",n);break;case"textarea":Sy(n,A),_t("invalid",n)}ap(r,A),a=null;for(var i in A)if(A.hasOwnProperty(i)){var o=A[i];i==="children"?typeof o=="string"?n.textContent!==o&&(A.suppressHydrationWarning!==!0&&mu(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(A.suppressHydrationWarning!==!0&&mu(n.textContent,o,e),a=["children",""+o]):Pc.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&_t("scroll",n)}switch(r){case"input":lu(n),jy(n,A,!0);break;case"textarea":lu(n),Fy(n);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(n.onclick=E0)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Zs]=t,e[zc]=n,gb(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ap(r,n),r){case"dialog":_t("cancel",e),_t("close",e),a=n;break;case"iframe":case"object":case"embed":_t("load",e),a=n;break;case"video":case"audio":for(a=0;a<cc.length;a++)_t(cc[a],e);a=n;break;case"source":_t("error",e),a=n;break;case"img":case"image":case"link":_t("error",e),_t("load",e),a=n;break;case"details":_t("toggle",e),a=n;break;case"input":ky(e,n),a=ep(e,n),_t("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Yt({},n,{value:void 0}),_t("invalid",e);break;case"textarea":Sy(e,n),a=np(e,n),_t("invalid",e);break;default:a=n}ap(r,a),o=a;for(A in o)if(o.hasOwnProperty(A)){var l=o[A];A==="style"?Ww(e,l):A==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vw(e,l)):A==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Dc(e,l):typeof l=="number"&&Dc(e,""+l):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Pc.hasOwnProperty(A)?l!=null&&A==="onScroll"&&_t("scroll",e):l!=null&&Rm(e,A,l,i))}switch(r){case"input":lu(e),jy(e,n,!1);break;case"textarea":lu(e),Fy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jA(n.value));break;case"select":e.multiple=!!n.multiple,A=n.value,A!=null?Po(e,!!n.multiple,A,!1):n.defaultValue!=null&&Po(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=E0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gr(t),null;case 6:if(e&&t.stateNode!=null)mb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Se(166));if(r=ai(Gc.current),ai(sa.current),xu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zs]=t,(A=n.nodeValue!==r)&&(e=Rn,e!==null))switch(e.tag){case 3:mu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mu(n.nodeValue,r,(e.mode&1)!==0)}A&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zs]=t,t.stateNode=n}return Gr(t),null;case 13:if(qt(Jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gt&&Dn!==null&&t.mode&1&&!(t.flags&128))Pv(),$o(),t.flags|=98560,A=!1;else if(A=xu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!A)throw Error(Se(318));if(A=t.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(Se(317));A[Zs]=t}else $o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gr(t),A=!1}else Cs!==null&&(Op(Cs),Cs=null),A=!0;if(!A)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Jt.current&1?Cr===0&&(Cr=3):wx())),t.updateQueue!==null&&(t.flags|=4),Gr(t),null);case 4:return Zo(),Up(e,t),e===null&&Kc(t.stateNode.containerInfo),Gr(t),null;case 10:return nx(t.type._context),Gr(t),null;case 17:return Nn(t.type)&&Q0(),Gr(t),null;case 19:if(qt(Jt),A=t.memoizedState,A===null)return Gr(t),null;if(n=(t.flags&128)!==0,i=A.rendering,i===null)if(n)Yl(A,!1);else{if(Cr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=R0(e),i!==null){for(t.flags|=128,Yl(A,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)A=r,e=n,A.flags&=14680066,i=A.alternate,i===null?(A.childLanes=0,A.lanes=e,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=i.childLanes,A.lanes=i.lanes,A.child=i.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=i.memoizedProps,A.memoizedState=i.memoizedState,A.updateQueue=i.updateQueue,A.type=i.type,e=i.dependencies,A.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Mt(Jt,Jt.current&1|2),t.child}e=e.sibling}A.tail!==null&&cr()>tl&&(t.flags|=128,n=!0,Yl(A,!1),t.lanes=4194304)}else{if(!n)if(e=R0(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!i.alternate&&!Gt)return Gr(t),null}else 2*cr()-A.renderingStartTime>tl&&r!==1073741824&&(t.flags|=128,n=!0,Yl(A,!1),t.lanes=4194304);A.isBackwards?(i.sibling=t.child,t.child=i):(r=A.last,r!==null?r.sibling=i:t.child=i,A.last=i)}return A.tail!==null?(t=A.tail,A.rendering=t,A.tail=t.sibling,A.renderingStartTime=cr(),t.sibling=null,r=Jt.current,Mt(Jt,n?r&1|2:r&1),t):(Gr(t),null);case 22:case 23:return yx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Pn&1073741824&&(Gr(t),t.subtreeFlags&6&&(t.flags|=8192)):Gr(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function _C(e,t){switch(Zm(t),t.tag){case 1:return Nn(t.type)&&Q0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zo(),qt(Bn),qt(nn),ox(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ix(t),null;case 13:if(qt(Jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));$o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(Jt),null;case 4:return Zo(),null;case 10:return nx(t.type._context),null;case 22:case 23:return yx(),null;case 24:return null;default:return null}}var vu=!1,en=!1,KC=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Qo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(e,t,n)}else r.current=null}function Lp(e,t,r){try{r()}catch(n){sr(e,t,n)}}var x1=!1;function qC(e,t){if(pp=j0,e=bv(),$m(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,A=n.focusNode;n=n.focusOffset;try{r.nodeType,A.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,c=0,u=0,h=e,x=null;t:for(;;){for(var f;h!==r||a!==0&&h.nodeType!==3||(o=i+a),h!==A||n!==0&&h.nodeType!==3||(l=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(f=h.firstChild)!==null;)x=h,h=f;for(;;){if(h===e)break t;if(x===r&&++c===a&&(o=i),x===A&&++u===n&&(l=i),(f=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(mp={focusedElem:e,selectionRange:r},j0=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){t=ze;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var p=b.memoizedProps,C=b.memoizedState,m=t.stateNode,w=m.getSnapshotBeforeUpdate(t.elementType===t.type?p:bs(t.type,p),C);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(D){sr(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}return b=x1,x1=!1,b}function Nc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var A=a.destroy;a.destroy=void 0,A!==void 0&&Lp(t,r,A)}a=a.next}while(a!==n)}}function Bh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ip(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xb(e){var t=e.alternate;t!==null&&(e.alternate=null,xb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zs],delete t[zc],delete t[wp],delete t[kC],delete t[jC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yb(e){return e.tag===5||e.tag===3||e.tag===4}function y1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=E0));else if(n!==4&&(e=e.child,e!==null))for(Pp(e,t,r),e=e.sibling;e!==null;)Pp(e,t,r),e=e.sibling}function Dp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Dp(e,t,r),e=e.sibling;e!==null;)Dp(e,t,r),e=e.sibling}var Rr=null,Ns=!1;function Ya(e,t,r){for(r=r.child;r!==null;)wb(e,t,r),r=r.sibling}function wb(e,t,r){if(na&&typeof na.onCommitFiberUnmount=="function")try{na.onCommitFiberUnmount(gh,r)}catch{}switch(r.tag){case 5:en||Qo(r,t);case 6:var n=Rr,a=Ns;Rr=null,Ya(e,t,r),Rr=n,Ns=a,Rr!==null&&(Ns?(e=Rr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Rr.removeChild(r.stateNode));break;case 18:Rr!==null&&(Ns?(e=Rr,r=r.stateNode,e.nodeType===8?sg(e.parentNode,r):e.nodeType===1&&sg(e,r),Oc(e)):sg(Rr,r.stateNode));break;case 4:n=Rr,a=Ns,Rr=r.stateNode.containerInfo,Ns=!0,Ya(e,t,r),Rr=n,Ns=a;break;case 0:case 11:case 14:case 15:if(!en&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var A=a,i=A.destroy;A=A.tag,i!==void 0&&(A&2||A&4)&&Lp(r,t,i),a=a.next}while(a!==n)}Ya(e,t,r);break;case 1:if(!en&&(Qo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){sr(r,t,o)}Ya(e,t,r);break;case 21:Ya(e,t,r);break;case 22:r.mode&1?(en=(n=en)||r.memoizedState!==null,Ya(e,t,r),en=n):Ya(e,t,r);break;default:Ya(e,t,r)}}function w1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new KC),t.forEach(function(n){var a=ZC.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function xs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var A=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Rr=o.stateNode,Ns=!1;break e;case 3:Rr=o.stateNode.containerInfo,Ns=!0;break e;case 4:Rr=o.stateNode.containerInfo,Ns=!0;break e}o=o.return}if(Rr===null)throw Error(Se(160));wb(A,i,a),Rr=null,Ns=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){sr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vb(t,e),t=t.sibling}function vb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xs(t,e),Ws(e),n&4){try{Nc(3,e,e.return),Bh(3,e)}catch(p){sr(e,e.return,p)}try{Nc(5,e,e.return)}catch(p){sr(e,e.return,p)}}break;case 1:xs(t,e),Ws(e),n&512&&r!==null&&Qo(r,r.return);break;case 5:if(xs(t,e),Ws(e),n&512&&r!==null&&Qo(r,r.return),e.flags&32){var a=e.stateNode;try{Dc(a,"")}catch(p){sr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var A=e.memoizedProps,i=r!==null?r.memoizedProps:A,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&A.type==="radio"&&A.name!=null&&Kw(a,A),Ap(o,i);var c=Ap(o,A);for(i=0;i<l.length;i+=2){var u=l[i],h=l[i+1];u==="style"?Ww(a,h):u==="dangerouslySetInnerHTML"?Vw(a,h):u==="children"?Dc(a,h):Rm(a,u,h,c)}switch(o){case"input":tp(a,A);break;case"textarea":qw(a,A);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!A.multiple;var f=A.value;f!=null?Po(a,!!A.multiple,f,!1):x!==!!A.multiple&&(A.defaultValue!=null?Po(a,!!A.multiple,A.defaultValue,!0):Po(a,!!A.multiple,A.multiple?[]:"",!1))}a[zc]=A}catch(p){sr(e,e.return,p)}}break;case 6:if(xs(t,e),Ws(e),n&4){if(e.stateNode===null)throw Error(Se(162));a=e.stateNode,A=e.memoizedProps;try{a.nodeValue=A}catch(p){sr(e,e.return,p)}}break;case 3:if(xs(t,e),Ws(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oc(t.containerInfo)}catch(p){sr(e,e.return,p)}break;case 4:xs(t,e),Ws(e);break;case 13:xs(t,e),Ws(e),a=e.child,a.flags&8192&&(A=a.memoizedState!==null,a.stateNode.isHidden=A,!A||a.alternate!==null&&a.alternate.memoizedState!==null||(mx=cr())),n&4&&w1(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(en=(c=en)||u,xs(t,e),en=c):xs(t,e),Ws(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ze=e,u=e.child;u!==null;){for(h=ze=u;ze!==null;){switch(x=ze,f=x.child,x.tag){case 0:case 11:case 14:case 15:Nc(4,x,x.return);break;case 1:Qo(x,x.return);var b=x.stateNode;if(typeof b.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(p){sr(n,r,p)}}break;case 5:Qo(x,x.return);break;case 22:if(x.memoizedState!==null){b1(h);continue}}f!==null?(f.return=x,ze=f):b1(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,c?(A=a.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(o=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Gw("display",i))}catch(p){sr(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(p){sr(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xs(t,e),Ws(e),n&4&&w1(e);break;case 21:break;default:xs(t,e),Ws(e)}}function Ws(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yb(r)){var n=r;break e}r=r.return}throw Error(Se(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Dc(a,""),n.flags&=-33);var A=y1(e);Dp(e,A,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=y1(e);Pp(e,o,i);break;default:throw Error(Se(161))}}catch(l){sr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zC(e,t,r){ze=e,bb(e)}function bb(e,t,r){for(var n=(e.mode&1)!==0;ze!==null;){var a=ze,A=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||vu;if(!i){var o=a.alternate,l=o!==null&&o.memoizedState!==null||en;o=vu;var c=en;if(vu=i,(en=l)&&!c)for(ze=a;ze!==null;)i=ze,l=i.child,i.tag===22&&i.memoizedState!==null?B1(a):l!==null?(l.return=i,ze=l):B1(a);for(;A!==null;)ze=A,bb(A),A=A.sibling;ze=a,vu=o,en=c}v1(e)}else a.subtreeFlags&8772&&A!==null?(A.return=a,ze=A):v1(e)}}function v1(e){for(;ze!==null;){var t=ze;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:en||Bh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!en)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:bs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var A=t.updateQueue;A!==null&&a1(t,A,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}a1(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Oc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}en||t.flags&512&&Ip(t)}catch(x){sr(t,t.return,x)}}if(t===e){ze=null;break}if(r=t.sibling,r!==null){r.return=t.return,ze=r;break}ze=t.return}}function b1(e){for(;ze!==null;){var t=ze;if(t===e){ze=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ze=r;break}ze=t.return}}function B1(e){for(;ze!==null;){var t=ze;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bh(4,t)}catch(l){sr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){sr(t,a,l)}}var A=t.return;try{Ip(t)}catch(l){sr(t,A,l)}break;case 5:var i=t.return;try{Ip(t)}catch(l){sr(t,i,l)}}}catch(l){sr(t,t.return,l)}if(t===e){ze=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ze=o;break}ze=t.return}}var VC=Math.ceil,M0=Pa.ReactCurrentDispatcher,gx=Pa.ReactCurrentOwner,ns=Pa.ReactCurrentBatchConfig,yt=0,Ir=null,yr=null,Mr=0,Pn=0,Uo=LA(0),Cr=0,$c=null,wi=0,Nh=0,px=0,Cc=null,vn=null,mx=0,tl=1/0,Ba=null,_0=!1,Tp=null,wA=null,bu=!1,lA=null,K0=0,kc=0,Rp=null,i0=-1,o0=0;function cn(){return yt&6?cr():i0!==-1?i0:i0=cr()}function vA(e){return e.mode&1?yt&2&&Mr!==0?Mr&-Mr:FC.transition!==null?(o0===0&&(o0=Av()),o0):(e=Qt,e!==0||(e=window.event,e=e===void 0?16:hv(e.type)),e):1}function js(e,t,r,n){if(50<kc)throw kc=0,Rp=null,Error(Se(185));id(e,r,n),(!(yt&2)||e!==Ir)&&(e===Ir&&(!(yt&2)&&(Nh|=r),Cr===4&&iA(e,Mr)),Cn(e,n),r===1&&yt===0&&!(t.mode&1)&&(tl=cr()+500,wh&&IA()))}function Cn(e,t){var r=e.callbackNode;F4(e,t);var n=k0(e,e===Ir?Mr:0);if(n===0)r!==null&&Uy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Uy(r),t===1)e.tag===0?SC(N1.bind(null,e)):Uv(N1.bind(null,e)),NC(function(){!(yt&6)&&IA()}),r=null;else{switch(iv(n)){case 1:r=Km;break;case 4:r=sv;break;case 16:r=C0;break;case 536870912:r=av;break;default:r=C0}r=Eb(r,Bb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Bb(e,t){if(i0=-1,o0=0,yt&6)throw Error(Se(327));var r=e.callbackNode;if(Oo()&&e.callbackNode!==r)return null;var n=k0(e,e===Ir?Mr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=q0(e,n);else{t=n;var a=yt;yt|=2;var A=Cb();(Ir!==e||Mr!==t)&&(Ba=null,tl=cr()+500,li(e,t));do try{JC();break}catch(o){Nb(e,o)}while(1);rx(),M0.current=A,yt=a,yr!==null?t=0:(Ir=null,Mr=0,t=Cr)}if(t!==0){if(t===2&&(a=dp(e),a!==0&&(n=a,t=Hp(e,a))),t===1)throw r=$c,li(e,0),iA(e,n),Cn(e,cr()),r;if(t===6)iA(e,n);else{if(a=e.current.alternate,!(n&30)&&!GC(a)&&(t=q0(e,n),t===2&&(A=dp(e),A!==0&&(n=A,t=Hp(e,A))),t===1))throw r=$c,li(e,0),iA(e,n),Cn(e,cr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Se(345));case 2:ZA(e,vn,Ba);break;case 3:if(iA(e,n),(n&130023424)===n&&(t=mx+500-cr(),10<t)){if(k0(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){cn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=yp(ZA.bind(null,e,vn,Ba),t);break}ZA(e,vn,Ba);break;case 4:if(iA(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-ks(n);A=1<<i,i=t[i],i>a&&(a=i),n&=~A}if(n=a,n=cr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*VC(n/1960))-n,10<n){e.timeoutHandle=yp(ZA.bind(null,e,vn,Ba),n);break}ZA(e,vn,Ba);break;case 5:ZA(e,vn,Ba);break;default:throw Error(Se(329))}}}return Cn(e,cr()),e.callbackNode===r?Bb.bind(null,e):null}function Hp(e,t){var r=Cc;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=q0(e,t),e!==2&&(t=vn,vn=r,t!==null&&Op(t)),e}function Op(e){vn===null?vn=e:vn.push.apply(vn,e)}function GC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],A=a.getSnapshot;a=a.value;try{if(!Fs(A(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function iA(e,t){for(t&=~px,t&=~Nh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ks(t),n=1<<r;e[r]=-1,t&=~n}}function N1(e){if(yt&6)throw Error(Se(327));Oo();var t=k0(e,0);if(!(t&1))return Cn(e,cr()),null;var r=q0(e,t);if(e.tag!==0&&r===2){var n=dp(e);n!==0&&(t=n,r=Hp(e,n))}if(r===1)throw r=$c,li(e,0),iA(e,t),Cn(e,cr()),r;if(r===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ZA(e,vn,Ba),Cn(e,cr()),null}function xx(e,t){var r=yt;yt|=1;try{return e(t)}finally{yt=r,yt===0&&(tl=cr()+500,wh&&IA())}}function vi(e){lA!==null&&lA.tag===0&&!(yt&6)&&Oo();var t=yt;yt|=1;var r=ns.transition,n=Qt;try{if(ns.transition=null,Qt=1,e)return e()}finally{Qt=n,ns.transition=r,yt=t,!(yt&6)&&IA()}}function yx(){Pn=Uo.current,qt(Uo)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,BC(r)),yr!==null)for(r=yr.return;r!==null;){var n=r;switch(Zm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Q0();break;case 3:Zo(),qt(Bn),qt(nn),ox();break;case 5:ix(n);break;case 4:Zo();break;case 13:qt(Jt);break;case 19:qt(Jt);break;case 10:nx(n.type._context);break;case 22:case 23:yx()}r=r.return}if(Ir=e,yr=e=bA(e.current,null),Mr=Pn=t,Cr=0,$c=null,px=Nh=wi=0,vn=Cc=null,si!==null){for(t=0;t<si.length;t++)if(r=si[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,A=r.pending;if(A!==null){var i=A.next;A.next=a,n.next=i}r.pending=n}si=null}return e}function Nb(e,t){do{var r=yr;try{if(rx(),s0.current=O0,H0){for(var n=Xt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}H0=!1}if(yi=0,Ur=Br=Xt=null,Bc=!1,Wc=0,gx.current=null,r===null||r.return===null){Cr=1,$c=t,yr=null;break}e:{var A=e,i=r.return,o=r,l=t;if(t=Mr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=d1(i);if(f!==null){f.flags&=-257,u1(f,i,o,A,t),f.mode&1&&c1(A,c,t),t=f,l=c;var b=t.updateQueue;if(b===null){var p=new Set;p.add(l),t.updateQueue=p}else b.add(l);break e}else{if(!(t&1)){c1(A,c,t),wx();break e}l=Error(Se(426))}}else if(Gt&&o.mode&1){var C=d1(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),u1(C,i,o,A,t),ex(el(l,o));break e}}A=l=el(l,o),Cr!==4&&(Cr=2),Cc===null?Cc=[A]:Cc.push(A),A=i;do{switch(A.tag){case 3:A.flags|=65536,t&=-t,A.lanes|=t;var m=ib(A,l,t);s1(A,m);break e;case 1:o=l;var w=A.type,B=A.stateNode;if(!(A.flags&128)&&(typeof w.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(wA===null||!wA.has(B)))){A.flags|=65536,t&=-t,A.lanes|=t;var D=ob(A,o,t);s1(A,D);break e}}A=A.return}while(A!==null)}jb(r)}catch(O){t=O,yr===r&&r!==null&&(yr=r=r.return);continue}break}while(1)}function Cb(){var e=M0.current;return M0.current=O0,e===null?O0:e}function wx(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Ir===null||!(wi&268435455)&&!(Nh&268435455)||iA(Ir,Mr)}function q0(e,t){var r=yt;yt|=2;var n=Cb();(Ir!==e||Mr!==t)&&(Ba=null,li(e,t));do try{WC();break}catch(a){Nb(e,a)}while(1);if(rx(),yt=r,M0.current=n,yr!==null)throw Error(Se(261));return Ir=null,Mr=0,Cr}function WC(){for(;yr!==null;)kb(yr)}function JC(){for(;yr!==null&&!w4();)kb(yr)}function kb(e){var t=Fb(e.alternate,e,Pn);e.memoizedProps=e.pendingProps,t===null?jb(e):yr=t,gx.current=null}function jb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_C(r,t),r!==null){r.flags&=32767,yr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Cr=6,yr=null;return}}else if(r=MC(r,t,Pn),r!==null){yr=r;return}if(t=t.sibling,t!==null){yr=t;return}yr=t=e}while(t!==null);Cr===0&&(Cr=5)}function ZA(e,t,r){var n=Qt,a=ns.transition;try{ns.transition=null,Qt=1,XC(e,t,r,n)}finally{ns.transition=a,Qt=n}return null}function XC(e,t,r,n){do Oo();while(lA!==null);if(yt&6)throw Error(Se(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var A=r.lanes|r.childLanes;if(E4(e,A),e===Ir&&(yr=Ir=null,Mr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bu||(bu=!0,Eb(C0,function(){return Oo(),null})),A=(r.flags&15990)!==0,r.subtreeFlags&15990||A){A=ns.transition,ns.transition=null;var i=Qt;Qt=1;var o=yt;yt|=4,gx.current=null,qC(e,r),vb(r,e),pC(mp),j0=!!pp,mp=pp=null,e.current=r,zC(r),v4(),yt=o,Qt=i,ns.transition=A}else e.current=r;if(bu&&(bu=!1,lA=e,K0=a),A=e.pendingLanes,A===0&&(wA=null),N4(r.stateNode),Cn(e,cr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(_0)throw _0=!1,e=Tp,Tp=null,e;return K0&1&&e.tag!==0&&Oo(),A=e.pendingLanes,A&1?e===Rp?kc++:(kc=0,Rp=e):kc=0,IA(),null}function Oo(){if(lA!==null){var e=iv(K0),t=ns.transition,r=Qt;try{if(ns.transition=null,Qt=16>e?16:e,lA===null)var n=!1;else{if(e=lA,lA=null,K0=0,yt&6)throw Error(Se(331));var a=yt;for(yt|=4,ze=e.current;ze!==null;){var A=ze,i=A.child;if(ze.flags&16){var o=A.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ze=c;ze!==null;){var u=ze;switch(u.tag){case 0:case 11:case 15:Nc(8,u,A)}var h=u.child;if(h!==null)h.return=u,ze=h;else for(;ze!==null;){u=ze;var x=u.sibling,f=u.return;if(xb(u),u===c){ze=null;break}if(x!==null){x.return=f,ze=x;break}ze=f}}}var b=A.alternate;if(b!==null){var p=b.child;if(p!==null){b.child=null;do{var C=p.sibling;p.sibling=null,p=C}while(p!==null)}}ze=A}}if(A.subtreeFlags&2064&&i!==null)i.return=A,ze=i;else e:for(;ze!==null;){if(A=ze,A.flags&2048)switch(A.tag){case 0:case 11:case 15:Nc(9,A,A.return)}var m=A.sibling;if(m!==null){m.return=A.return,ze=m;break e}ze=A.return}}var w=e.current;for(ze=w;ze!==null;){i=ze;var B=i.child;if(i.subtreeFlags&2064&&B!==null)B.return=i,ze=B;else e:for(i=w;ze!==null;){if(o=ze,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Bh(9,o)}}catch(O){sr(o,o.return,O)}if(o===i){ze=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,ze=D;break e}ze=o.return}}if(yt=a,IA(),na&&typeof na.onPostCommitFiberRoot=="function")try{na.onPostCommitFiberRoot(gh,e)}catch{}n=!0}return n}finally{Qt=r,ns.transition=t}}return!1}function C1(e,t,r){t=el(r,t),t=ib(e,t,1),e=yA(e,t,1),t=cn(),e!==null&&(id(e,1,t),Cn(e,t))}function sr(e,t,r){if(e.tag===3)C1(e,e,r);else for(;t!==null;){if(t.tag===3){C1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wA===null||!wA.has(n))){e=el(r,e),e=ob(t,e,1),t=yA(t,e,1),e=cn(),t!==null&&(id(t,1,e),Cn(t,e));break}}t=t.return}}function $C(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=cn(),e.pingedLanes|=e.suspendedLanes&r,Ir===e&&(Mr&r)===r&&(Cr===4||Cr===3&&(Mr&130023424)===Mr&&500>cr()-mx?li(e,0):px|=r),Cn(e,t)}function Sb(e,t){t===0&&(e.mode&1?(t=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):t=1);var r=cn();e=Ua(e,t),e!==null&&(id(e,t,r),Cn(e,r))}function YC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Sb(e,r)}function ZC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Se(314))}n!==null&&n.delete(t),Sb(e,r)}var Fb;Fb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bn.current)bn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return bn=!1,OC(e,t,r);bn=!!(e.flags&131072)}else bn=!1,Gt&&t.flags&1048576&&Lv(t,I0,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;A0(e,t),e=t.pendingProps;var a=Xo(t,nn.current);Ho(t,r),a=cx(null,t,n,e,a,r);var A=dx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nn(n)?(A=!0,U0(t)):A=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ax(t),a.updater=bh,t.stateNode=a,a._reactInternals=t,kp(t,n,e,r),t=Fp(null,t,n,!0,A,r)):(t.tag=0,Gt&&A&&Ym(t),ln(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(A0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=tk(n),e=bs(n,e),a){case 0:t=Sp(null,t,n,e,r);break e;case 1:t=g1(null,t,n,e,r);break e;case 11:t=h1(null,t,n,e,r);break e;case 14:t=f1(null,t,n,bs(n.type,e),r);break e}throw Error(Se(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:bs(n,a),Sp(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:bs(n,a),g1(e,t,n,a,r);case 3:e:{if(ub(t),e===null)throw Error(Se(387));n=t.pendingProps,A=t.memoizedState,a=A.element,Hv(e,t),T0(t,n,null,r);var i=t.memoizedState;if(n=i.element,A.isDehydrated)if(A={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=A,t.memoizedState=A,t.flags&256){a=el(Error(Se(423)),t),t=p1(e,t,n,r,a);break e}else if(n!==a){a=el(Error(Se(424)),t),t=p1(e,t,n,r,a);break e}else for(Dn=xA(t.stateNode.containerInfo.firstChild),Rn=t,Gt=!0,Cs=null,r=Tv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($o(),n===a){t=La(e,t,r);break e}ln(e,t,n,r)}t=t.child}return t;case 5:return Ov(t),e===null&&Bp(t),n=t.type,a=t.pendingProps,A=e!==null?e.memoizedProps:null,i=a.children,xp(n,a)?i=null:A!==null&&xp(n,A)&&(t.flags|=32),db(e,t),ln(e,t,i,r),t.child;case 6:return e===null&&Bp(t),null;case 13:return hb(e,t,r);case 4:return Ax(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yo(t,null,n,r):ln(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:bs(n,a),h1(e,t,n,a,r);case 7:return ln(e,t,t.pendingProps,r),t.child;case 8:return ln(e,t,t.pendingProps.children,r),t.child;case 12:return ln(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,A=t.memoizedProps,i=a.value,Mt(P0,n._currentValue),n._currentValue=i,A!==null)if(Fs(A.value,i)){if(A.children===a.children&&!Bn.current){t=La(e,t,r);break e}}else for(A=t.child,A!==null&&(A.return=t);A!==null;){var o=A.dependencies;if(o!==null){i=A.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(A.tag===1){l=ja(-1,r&-r),l.tag=2;var c=A.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}A.lanes|=r,l=A.alternate,l!==null&&(l.lanes|=r),Np(A.return,r,t),o.lanes|=r;break}l=l.next}}else if(A.tag===10)i=A.type===t.type?null:A.child;else if(A.tag===18){if(i=A.return,i===null)throw Error(Se(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Np(i,r,t),i=A.sibling}else i=A.child;if(i!==null)i.return=A;else for(i=A;i!==null;){if(i===t){i=null;break}if(A=i.sibling,A!==null){A.return=i.return,i=A;break}i=i.return}A=i}ln(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ho(t,r),a=ss(a),n=n(a),t.flags|=1,ln(e,t,n,r),t.child;case 14:return n=t.type,a=bs(n,t.pendingProps),a=bs(n.type,a),f1(e,t,n,a,r);case 15:return lb(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:bs(n,a),A0(e,t),t.tag=1,Nn(n)?(e=!0,U0(t)):e=!1,Ho(t,r),Ab(t,n,a),kp(t,n,a,r),Fp(null,t,n,!0,e,r);case 19:return fb(e,t,r);case 22:return cb(e,t,r)}throw Error(Se(156,t.tag))};function Eb(e,t){return nv(e,t)}function ek(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(e,t,r,n){return new ek(e,t,r,n)}function vx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tk(e){if(typeof e=="function")return vx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Om)return 11;if(e===Mm)return 14}return 2}function bA(e,t){var r=e.alternate;return r===null?(r=es(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function l0(e,t,r,n,a,A){var i=2;if(n=e,typeof e=="function")vx(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case bo:return ci(r.children,a,A,t);case Hm:i=8,a|=8;break;case Xg:return e=es(12,r,t,a|2),e.elementType=Xg,e.lanes=A,e;case $g:return e=es(13,r,t,a),e.elementType=$g,e.lanes=A,e;case Yg:return e=es(19,r,t,a),e.elementType=Yg,e.lanes=A,e;case Ow:return Ch(r,a,A,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rw:i=10;break e;case Hw:i=9;break e;case Om:i=11;break e;case Mm:i=14;break e;case nA:i=16,n=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=es(i,r,t,a),t.elementType=e,t.type=n,t.lanes=A,t}function ci(e,t,r,n){return e=es(7,e,n,t),e.lanes=r,e}function Ch(e,t,r,n){return e=es(22,e,n,t),e.elementType=Ow,e.lanes=r,e.stateNode={isHidden:!1},e}function ug(e,t,r){return e=es(6,e,null,t),e.lanes=r,e}function hg(e,t,r){return t=es(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rk(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gf(0),this.expirationTimes=Gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gf(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bx(e,t,r,n,a,A,i,o,l){return e=new rk(e,t,r,o,l),t===1?(t=1,A===!0&&(t|=8)):t=0,A=es(3,null,null,t),e.current=A,A.stateNode=e,A.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ax(A),e}function nk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Qb(e){if(!e)return SA;e=e._reactInternals;e:{if(ji(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var r=e.type;if(Nn(r))return Qv(e,r,t)}return t}function Ub(e,t,r,n,a,A,i,o,l){return e=bx(r,n,!0,e,a,A,i,o,l),e.context=Qb(null),r=e.current,n=cn(),a=vA(r),A=ja(n,a),A.callback=t??null,yA(r,A,a),e.current.lanes=a,id(e,a,n),Cn(e,n),e}function kh(e,t,r,n){var a=t.current,A=cn(),i=vA(a);return r=Qb(r),t.context===null?t.context=r:t.pendingContext=r,t=ja(A,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=yA(a,t,i),e!==null&&(js(e,a,i,A),n0(e,a,i)),i}function z0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function k1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Bx(e,t){k1(e,t),(e=e.alternate)&&k1(e,t)}function sk(){return null}var Lb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nx(e){this._internalRoot=e}jh.prototype.render=Nx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));kh(e,t,null,null)};jh.prototype.unmount=Nx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vi(function(){kh(null,e,null,null)}),t[Qa]=null}};function jh(e){this._internalRoot=e}jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=cv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<AA.length&&t!==0&&t<AA[r].priority;r++);AA.splice(r,0,e),r===0&&uv(e)}};function Cx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function j1(){}function ak(e,t,r,n,a){if(a){if(typeof n=="function"){var A=n;n=function(){var c=z0(i);A.call(c)}}var i=Ub(t,n,e,0,null,!1,!1,"",j1);return e._reactRootContainer=i,e[Qa]=i.current,Kc(e.nodeType===8?e.parentNode:e),vi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=z0(l);o.call(c)}}var l=bx(e,0,!1,null,null,!1,!1,"",j1);return e._reactRootContainer=l,e[Qa]=l.current,Kc(e.nodeType===8?e.parentNode:e),vi(function(){kh(t,l,r,n)}),l}function Fh(e,t,r,n,a){var A=r._reactRootContainer;if(A){var i=A;if(typeof a=="function"){var o=a;a=function(){var l=z0(i);o.call(l)}}kh(t,i,e,a)}else i=ak(r,t,e,a,n);return z0(i)}ov=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=lc(t.pendingLanes);r!==0&&(qm(t,r|1),Cn(t,cr()),!(yt&6)&&(tl=cr()+500,IA()))}break;case 13:vi(function(){var n=Ua(e,1);if(n!==null){var a=cn();js(n,e,1,a)}}),Bx(e,1)}};zm=function(e){if(e.tag===13){var t=Ua(e,134217728);if(t!==null){var r=cn();js(t,e,134217728,r)}Bx(e,134217728)}};lv=function(e){if(e.tag===13){var t=vA(e),r=Ua(e,t);if(r!==null){var n=cn();js(r,e,t,n)}Bx(e,t)}};cv=function(){return Qt};dv=function(e,t){var r=Qt;try{return Qt=e,t()}finally{Qt=r}};op=function(e,t,r){switch(t){case"input":if(tp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=yh(n);if(!a)throw Error(Se(90));_w(n),tp(n,a)}}}break;case"textarea":qw(e,r);break;case"select":t=r.value,t!=null&&Po(e,!!r.multiple,t,!1)}};$w=xx;Yw=vi;var Ak={usingClientEntryPoint:!1,Events:[ld,ko,yh,Jw,Xw,xx]},Zl={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ik={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tv(e),e===null?null:e.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||sk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{gh=Bu.inject(ik),na=Bu}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ak;On.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cx(t))throw Error(Se(200));return nk(e,t,null,r)};On.createRoot=function(e,t){if(!Cx(e))throw Error(Se(299));var r=!1,n="",a=Lb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=bx(e,1,!1,null,null,r,!1,n,a),e[Qa]=t.current,Kc(e.nodeType===8?e.parentNode:e),new Nx(t)};On.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=tv(t),e=e===null?null:e.stateNode,e};On.flushSync=function(e){return vi(e)};On.hydrate=function(e,t,r){if(!Sh(t))throw Error(Se(200));return Fh(null,e,t,!0,r)};On.hydrateRoot=function(e,t,r){if(!Cx(e))throw Error(Se(405));var n=r!=null&&r.hydratedSources||null,a=!1,A="",i=Lb;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(A=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Ub(t,null,e,1,r??null,a,!1,A,i),e[Qa]=t.current,Kc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new jh(t)};On.render=function(e,t,r){if(!Sh(t))throw Error(Se(200));return Fh(null,e,t,!1,r)};On.unmountComponentAtNode=function(e){if(!Sh(e))throw Error(Se(40));return e._reactRootContainer?(vi(function(){Fh(null,null,e,!1,function(){e._reactRootContainer=null,e[Qa]=null})}),!0):!1};On.unstable_batchedUpdates=xx;On.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sh(r))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return Fh(e,t,r,!1,n)};On.version="18.3.1-next-f1338f8080-20240426";function Ib(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ib)}catch(e){console.error(e)}}Ib(),Iw.exports=On;var ok=Iw.exports,Pb,S1=ok;Pb=S1.createRoot,S1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yc.apply(this,arguments)}var cA;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cA||(cA={}));const F1="popstate";function lk(e){e===void 0&&(e={});function t(n,a){let{pathname:A,search:i,hash:o}=n.location;return Mp("",{pathname:A,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:V0(a)}return dk(t,r,null,e)}function $t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Db(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ck(){return Math.random().toString(36).substr(2,8)}function E1(e,t){return{usr:e.state,key:e.key,idx:t}}function Mp(e,t,r,n){return r===void 0&&(r=null),Yc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cl(t):t,{state:r,key:t&&t.key||n||ck()})}function V0(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function dk(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:A=!1}=n,i=a.history,o=cA.Pop,l=null,c=u();c==null&&(c=0,i.replaceState(Yc({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function h(){o=cA.Pop;let C=u(),m=C==null?null:C-c;c=C,l&&l({action:o,location:p.location,delta:m})}function x(C,m){o=cA.Push;let w=Mp(p.location,C,m);r&&r(w,C),c=u()+1;let B=E1(w,c),D=p.createHref(w);try{i.pushState(B,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(D)}A&&l&&l({action:o,location:p.location,delta:1})}function f(C,m){o=cA.Replace;let w=Mp(p.location,C,m);r&&r(w,C),c=u();let B=E1(w,c),D=p.createHref(w);i.replaceState(B,"",D),A&&l&&l({action:o,location:p.location,delta:0})}function b(C){let m=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof C=="string"?C:V0(C);return w=w.replace(/ $/,"%20"),$t(m,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,m)}let p={get action(){return o},get location(){return e(a,i)},listen(C){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(F1,h),l=C,()=>{a.removeEventListener(F1,h),l=null}},createHref(C){return t(a,C)},createURL:b,encodeLocation(C){let m=b(C);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:x,replace:f,go(C){return i.go(C)}};return p}var Q1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Q1||(Q1={}));function uk(e,t,r){return r===void 0&&(r="/"),hk(e,t,r,!1)}function hk(e,t,r,n){let a=typeof t=="string"?cl(t):t,A=rl(a.pathname||"/",r);if(A==null)return null;let i=Tb(e);fk(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let c=Ck(A);o=Bk(i[l],c,n)}return o}function Tb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(A,i,o)=>{let l={relativePath:o===void 0?A.path||"":o,caseSensitive:A.caseSensitive===!0,childrenIndex:i,route:A};l.relativePath.startsWith("/")&&($t(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=BA([n,l.relativePath]),u=r.concat(l);A.children&&A.children.length>0&&($t(A.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Tb(A.children,t,u,c)),!(A.path==null&&!A.index)&&t.push({path:c,score:vk(c,A.index),routesMeta:u})};return e.forEach((A,i)=>{var o;if(A.path===""||!((o=A.path)!=null&&o.includes("?")))a(A,i);else for(let l of Rb(A.path))a(A,i,l)}),t}function Rb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),A=r.replace(/\?$/,"");if(n.length===0)return a?[A,""]:[A];let i=Rb(n.join("/")),o=[];return o.push(...i.map(l=>l===""?A:[A,l].join("/"))),a&&o.push(...i),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function fk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bk(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gk=/^:[\w-]+$/,pk=3,mk=2,xk=1,yk=10,wk=-2,U1=e=>e==="*";function vk(e,t){let r=e.split("/"),n=r.length;return r.some(U1)&&(n+=wk),t&&(n+=mk),r.filter(a=>!U1(a)).reduce((a,A)=>a+(gk.test(A)?pk:A===""?xk:yk),n)}function bk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Bk(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,a={},A="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=A==="/"?t:t.slice(A.length)||"/",h=G0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),x=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=G0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:BA([A,h.pathname]),pathnameBase:Fk(BA([A,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(A=BA([A,h.pathnameBase]))}return i}function G0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Nk(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let A=a[0],i=A.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:x,isOptional:f}=u;if(x==="*"){let p=o[h]||"";i=A.slice(0,A.length-p.length).replace(/(.)\/+$/,"$1")}const b=o[h];return f&&!b?c[x]=void 0:c[x]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:A,pathnameBase:i,pattern:e}}function Nk(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Db(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Ck(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Db(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function kk(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?cl(e):e;return{pathname:r?r.startsWith("/")?r:jk(r,t):t,search:Ek(n),hash:Qk(a)}}function jk(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function fg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sk(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function kx(e,t){let r=Sk(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jx(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=cl(e):(a=Yc({},e),$t(!a.pathname||!a.pathname.includes("?"),fg("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),fg("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),fg("#","search","hash",a)));let A=e===""||a.pathname==="",i=A?"/":a.pathname,o;if(i==null)o=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),h-=1;a.pathname=x.join("/")}o=h>=0?t[h]:"/"}let l=kk(a,o),c=i&&i!=="/"&&i.endsWith("/"),u=(A||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const BA=e=>e.join("/").replace(/\/\/+/g,"/"),Fk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ek=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Qk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Uk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hb=["post","put","patch","delete"];new Set(Hb);const Lk=["get",...Hb];new Set(Lk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(this,arguments)}const Eh=_.createContext(null),Ob=_.createContext(null),Da=_.createContext(null),Qh=_.createContext(null),PA=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Mb=_.createContext(null);function Ik(e,t){let{relative:r}=t===void 0?{}:t;dl()||$t(!1);let{basename:n,navigator:a}=_.useContext(Da),{hash:A,pathname:i,search:o}=Uh(e,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:BA([n,i])),a.createHref({pathname:l,search:o,hash:A})}function dl(){return _.useContext(Qh)!=null}function ul(){return dl()||$t(!1),_.useContext(Qh).location}function _b(e){_.useContext(Da).static||_.useLayoutEffect(e)}function Ta(){let{isDataRoute:e}=_.useContext(PA);return e?Gk():Pk()}function Pk(){dl()||$t(!1);let e=_.useContext(Eh),{basename:t,future:r,navigator:n}=_.useContext(Da),{matches:a}=_.useContext(PA),{pathname:A}=ul(),i=JSON.stringify(kx(a,r.v7_relativeSplatPath)),o=_.useRef(!1);return _b(()=>{o.current=!0}),_.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=jx(c,JSON.parse(i),A,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:BA([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,i,A,e])}function Uh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(Da),{matches:a}=_.useContext(PA),{pathname:A}=ul(),i=JSON.stringify(kx(a,n.v7_relativeSplatPath));return _.useMemo(()=>jx(e,JSON.parse(i),A,r==="path"),[e,i,A,r])}function Dk(e,t){return Tk(e,t)}function Tk(e,t,r,n){dl()||$t(!1);let{navigator:a}=_.useContext(Da),{matches:A}=_.useContext(PA),i=A[A.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=ul(),u;if(t){var h;let C=typeof t=="string"?cl(t):t;l==="/"||(h=C.pathname)!=null&&h.startsWith(l)||$t(!1),u=C}else u=c;let x=u.pathname||"/",f=x;if(l!=="/"){let C=l.replace(/^\//,"").split("/");f="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=uk(e,{pathname:f}),p=_k(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:BA([l,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:BA([l,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),A,r,n);return t&&p?_.createElement(Qh.Provider,{value:{location:Zc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:cA.Pop}},p):p}function Rk(){let e=Vk(),t=Uk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},A=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:a},r):null,A)}const Hk=_.createElement(Rk,null);class Ok extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(PA.Provider,{value:this.props.routeContext},_.createElement(Mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mk(e){let{routeContext:t,match:r,children:n}=e,a=_.useContext(Eh);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(PA.Provider,{value:t},n)}function _k(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var A;if(!r)return null;if(r.errors)e=r.matches;else if((A=n)!=null&&A.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||$t(!1),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:x,errors:f}=r,b=h.route.loader&&x[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,h,x)=>{let f,b=!1,p=null,C=null;r&&(f=o&&h.route.id?o[h.route.id]:void 0,p=h.route.errorElement||Hk,l&&(c<0&&x===0?(Wk("route-fallback",!1),b=!0,C=null):c===x&&(b=!0,C=h.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,x+1)),w=()=>{let B;return f?B=p:b?B=C:h.route.Component?B=_.createElement(h.route.Component,null):h.route.element?B=h.route.element:B=u,_.createElement(Mk,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:r!=null},children:B})};return r&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?_.createElement(Ok,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):w()},null)}var Kb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Kb||{}),W0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(W0||{});function Kk(e){let t=_.useContext(Eh);return t||$t(!1),t}function qk(e){let t=_.useContext(Ob);return t||$t(!1),t}function zk(e){let t=_.useContext(PA);return t||$t(!1),t}function qb(e){let t=zk(),r=t.matches[t.matches.length-1];return r.route.id||$t(!1),r.route.id}function Vk(){var e;let t=_.useContext(Mb),r=qk(W0.UseRouteError),n=qb(W0.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Gk(){let{router:e}=Kk(Kb.UseNavigateStable),t=qb(W0.UseNavigateStable),r=_.useRef(!1);return _b(()=>{r.current=!0}),_.useCallback(function(a,A){A===void 0&&(A={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Zc({fromRouteId:t},A)))},[e,t])}const L1={};function Wk(e,t,r){!t&&!L1[e]&&(L1[e]=!0)}function Jk(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function gg(e){let{to:t,replace:r,state:n,relative:a}=e;dl()||$t(!1);let{future:A,static:i}=_.useContext(Da),{matches:o}=_.useContext(PA),{pathname:l}=ul(),c=Ta(),u=jx(t,kx(o,A.v7_relativeSplatPath),l,a==="path"),h=JSON.stringify(u);return _.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:a}),[c,h,a,r,n]),null}function Lt(e){$t(!1)}function Xk(e){let{basename:t="/",children:r=null,location:n,navigationType:a=cA.Pop,navigator:A,static:i=!1,future:o}=e;dl()&&$t(!1);let l=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:A,static:i,future:Zc({v7_relativeSplatPath:!1},o)}),[l,o,A,i]);typeof n=="string"&&(n=cl(n));let{pathname:u="/",search:h="",hash:x="",state:f=null,key:b="default"}=n,p=_.useMemo(()=>{let C=rl(u,l);return C==null?null:{location:{pathname:C,search:h,hash:x,state:f,key:b},navigationType:a}},[l,u,h,x,f,b,a]);return p==null?null:_.createElement(Da.Provider,{value:c},_.createElement(Qh.Provider,{children:r,value:p}))}function $k(e){let{children:t,location:r}=e;return Dk(_p(t),r)}new Promise(()=>{});function _p(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,a)=>{if(!_.isValidElement(n))return;let A=[...t,a];if(n.type===_.Fragment){r.push.apply(r,_p(n.props.children,A));return}n.type!==Lt&&$t(!1),!n.props.index||!n.props.children||$t(!1);let i={id:n.props.id||A.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=_p(n.props.children,A)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}function zb(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,A;for(A=0;A<n.length;A++)a=n[A],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Yk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zk(e,t){return e.button===0&&(!t||t==="_self")&&!Yk(e)}const ej=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tj=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rj="6";try{window.__reactRouterVersion=rj}catch{}const nj=_.createContext({isTransitioning:!1}),sj="startTransition",I1=$N[sj];function aj(e){let{basename:t,children:r,future:n,window:a}=e,A=_.useRef();A.current==null&&(A.current=lk({window:a,v5Compat:!0}));let i=A.current,[o,l]=_.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},u=_.useCallback(h=>{c&&I1?I1(()=>l(h)):l(h)},[l,c]);return _.useLayoutEffect(()=>i.listen(u),[i,u]),_.useEffect(()=>Jk(n),[n]),_.createElement(Xk,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const Aj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ij=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oj=_.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:A,replace:i,state:o,target:l,to:c,preventScrollReset:u,viewTransition:h}=t,x=zb(t,ej),{basename:f}=_.useContext(Da),b,p=!1;if(typeof c=="string"&&ij.test(c)&&(b=c,Aj))try{let B=new URL(window.location.href),D=c.startsWith("//")?new URL(B.protocol+c):new URL(c),O=rl(D.pathname,f);D.origin===B.origin&&O!=null?c=O+D.search+D.hash:p=!0}catch{}let C=Ik(c,{relative:a}),m=cj(c,{replace:i,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:h});function w(B){n&&n(B),B.defaultPrevented||m(B)}return _.createElement("a",J0({},x,{href:b||C,onClick:p||A?n:w,ref:r,target:l}))}),P1=_.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:A="",end:i=!1,style:o,to:l,viewTransition:c,children:u}=t,h=zb(t,tj),x=Uh(l,{relative:h.relative}),f=ul(),b=_.useContext(Ob),{navigator:p,basename:C}=_.useContext(Da),m=b!=null&&dj(x)&&c===!0,w=p.encodeLocation?p.encodeLocation(x).pathname:x.pathname,B=f.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(B=B.toLowerCase(),D=D?D.toLowerCase():null,w=w.toLowerCase()),D&&C&&(D=rl(D,C)||D);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let q=B===w||!i&&B.startsWith(w)&&B.charAt(O)==="/",F=D!=null&&(D===w||!i&&D.startsWith(w)&&D.charAt(w.length)==="/"),j={isActive:q,isPending:F,isTransitioning:m},I=q?n:void 0,R;typeof A=="function"?R=A(j):R=[A,q?"active":null,F?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(j):o;return _.createElement(oj,J0({},h,{"aria-current":I,className:R,ref:r,style:E,to:l,viewTransition:c}),typeof u=="function"?u(j):u)});var Kp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kp||(Kp={}));var D1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(D1||(D1={}));function lj(e){let t=_.useContext(Eh);return t||$t(!1),t}function cj(e,t){let{target:r,replace:n,state:a,preventScrollReset:A,relative:i,viewTransition:o}=t===void 0?{}:t,l=Ta(),c=ul(),u=Uh(e,{relative:i});return _.useCallback(h=>{if(Zk(h,r)){h.preventDefault();let x=n!==void 0?n:V0(c)===V0(u);l(e,{replace:x,state:a,preventScrollReset:A,relative:i,viewTransition:o})}},[c,l,u,n,a,r,e,A,i,o])}function dj(e,t){t===void 0&&(t={});let r=_.useContext(nj);r==null&&$t(!1);let{basename:n}=lj(Kp.useViewTransitionState),a=Uh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let A=rl(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=rl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return G0(a.pathname,i)!=null||G0(a.pathname,A)!=null}var uj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qe=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:A=2,absoluteStrokeWidth:i,children:o,...l},c)=>_.createElement("svg",{ref:c,...uj,width:a,height:a,stroke:n,strokeWidth:i?Number(A)*24/Number(a):A,className:`lucide lucide-${hj(e)}`,...l},[...t.map(([u,h])=>_.createElement(u,h)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r},jc=qe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),qp=qe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Es=qe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["line",{x1:"12",x2:"12",y1:"9",y2:"13",key:"1gkch0"}],["line",{x1:"12",x2:"12.01",y1:"17",y2:"17",key:"io3f8k"}]]),fj=qe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),nl=qe("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]),X0=qe("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),gj=qe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),di=qe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ui=qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Sa=qe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Qs=qe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Vb=qe("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),pj=qe("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),mj=qe("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),T1=qe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),ta=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Gb=qe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),$0=qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),bi=qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Us=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Si=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),DA=qe("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]]),Ls=qe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),xj=qe("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),As=qe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),dd=qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),yj=qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),wj=qe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),vj=qe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),bj=qe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Bj=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Sx=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Bi=qe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Nj=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Cj=qe("Minus",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),R1=qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),hi=qe("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),kj=qe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Fx=qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),jj=qe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Sj=qe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),kr=qe("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),Mo=qe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Fi=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),jn=qe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),jr=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Fj=qe("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]]),NA=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ej=qe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Wb=qe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Qj=qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ed=qe("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),H1=qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Uj=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),TA=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Lj=qe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),sl=qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),al=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Jb=qe("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),O1=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ij=qe("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]),Pj=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),dn=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Y0=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),M1=qe("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Xb=qe("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),$b=qe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]),wt=qe("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]]);function Dj({onMenuClick:e}){const{user:t,logout:r,theme:n,toggleTheme:a,language:A,setLanguage:i}=Nt();return s.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 h-16 flex items-center justify-between px-3 sm:px-4 lg:px-6",children:[s.jsxs("div",{className:"flex items-center min-w-0",children:[s.jsx("button",{onClick:e,className:"mr-2 p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 lg:hidden transition-colors","aria-label":"Toggle menu",children:s.jsx(Nj,{size:24})}),s.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 dark:text-white truncate",children:"SIL Laboratory System"})]}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-4",children:[s.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors sm:hidden","aria-label":n==="light"?"Switch to dark mode":"Switch to light mode",children:n==="light"?s.jsx(R1,{size:18,className:"text-gray-600 dark:text-gray-300"}):s.jsx(H1,{size:18,className:"text-gray-600 dark:text-gray-300"})}),s.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[s.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":n==="light"?"Switch to dark mode":"Switch to light mode",children:n==="light"?s.jsx(R1,{size:20,className:"text-gray-600 dark:text-gray-300"}):s.jsx(H1,{size:20,className:"text-gray-600 dark:text-gray-300"})}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(yj,{size:18,className:"text-gray-600 dark:text-gray-300"}),s.jsxs("select",{value:A,onChange:o=>i(o.target.value),className:"bg-transparent text-sm text-gray-700 dark:text-gray-300 focus:outline-none",children:[s.jsx("option",{value:"fr",children:"FR"}),s.jsx("option",{value:"en",children:"EN"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-3",children:[s.jsx("span",{className:"hidden sm:inline text-sm text-gray-700 dark:text-gray-300 truncate max-w-[100px] lg:max-w-[120px]",children:t==null?void 0:t.name}),s.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Logout",children:s.jsx(Bj,{size:18,className:"sm:w-5 sm:h-5 text-gray-600 dark:text-gray-300"})})]})]})]})}function Tj({onClose:e}){const{user:t,language:r}=Nt(),[n,a]=_.useState(null),A={fr:{dashboard:"Tableau de bord",patients:"Patients",doctors:"Médecins",analyses:"Analyses",requests:"Demandes",newRequest:"Nouvelle Demande",results:"Résultats",validation:"Validation",billing:"Facturation",config:"Configuration",logout:"Déconnexion",stockManagement:"Gestion des Stocks",stockDashboard:"Tableau de bord",addStock:"Ajouter Stock",useStock:"Utiliser Stock",transferStock:"Transférer Stock",adjustInventory:"Ajuster Inventaire",suppliers:"Fournisseurs",orders:"Commandes",reports:"Rapports",priceManagement:"Gestion des Prix",userManagement:"Gestion des Utilisateurs",systemSettings:"Paramètres Système",moduleStore:"Store de Modules",auditTrail:"Journal d'Audit",backupRestore:"Sauvegarde & Restauration",automates:"Intégration Automates"},en:{dashboard:"Dashboard",patients:"Patients",doctors:"Doctors",analyses:"Analyses",requests:"Requests",newRequest:"New Request",results:"Results",validation:"Validation",billing:"Billing",config:"Configuration",logout:"Logout",stockManagement:"Stock Management",stockDashboard:"Stock Dashboard",addStock:"Add Stock",useStock:"Use Stock",transferStock:"Transfer Stock",adjustInventory:"Adjust Inventory",suppliers:"Suppliers",orders:"Orders",reports:"Reports",priceManagement:"Price Management",userManagement:"User Management",systemSettings:"System Settings",moduleStore:"Module Store",auditTrail:"Audit Trail",backupRestore:"Backup & Restore",automates:"Automate Integration"}}[r],o=[{id:"dashboard",label:A.dashboard,icon:s.jsx(bj,{size:20}),path:"/dashboard",roles:["ADMIN","BIOLOGIST","TECHNICIAN","SECRETARY"]},{id:"patients",label:A.patients,icon:s.jsx(Y0,{size:20}),path:"/patients",roles:["ADMIN","SECRETARY"]},{id:"doctors",label:A.doctors,icon:s.jsx(Pj,{size:20}),path:"/doctors",roles:["ADMIN","SECRETARY"]},{id:"analyses",label:A.analyses,icon:s.jsx(As,{size:20}),path:"/analyses",roles:["ADMIN","BIOLOGIST"]},{id:"requests",label:A.requests,icon:s.jsx(T1,{size:20}),path:"/requests",roles:["ADMIN","SECRETARY","BIOLOGIST"],subItems:[{id:"requests-list",label:A.requests,icon:s.jsx(T1,{size:16}),path:"/requests",roles:["ADMIN","SECRETARY","BIOLOGIST"]},{id:"new-request",label:A.newRequest,icon:s.jsx(kr,{size:16}),path:"/new-request",roles:["ADMIN","SECRETARY","BIOLOGIST"]}]},{id:"results",label:A.results,icon:s.jsx(di,{size:20}),path:"/results",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"validation",label:A.validation,icon:s.jsx(Qs,{size:20}),path:"/validation",roles:["ADMIN","BIOLOGIST"]},{id:"stock",label:A.stockManagement,icon:s.jsx(hi,{size:20}),path:"/stock",roles:["ADMIN","TECHNICIAN"],subItems:[{id:"stock-dashboard",label:A.stockDashboard,icon:s.jsx(di,{size:16}),path:"/stock/dashboard",roles:["ADMIN","TECHNICIAN"]},{id:"add-stock",label:A.addStock,icon:s.jsx(kr,{size:16}),path:"/stock/add",roles:["ADMIN","TECHNICIAN"]},{id:"use-stock",label:A.useStock,icon:s.jsx(Cj,{size:16}),path:"/stock/use",roles:["ADMIN","TECHNICIAN"]},{id:"transfer-stock",label:A.transferStock,icon:s.jsx(fj,{size:16}),path:"/stock/transfer",roles:["ADMIN","TECHNICIAN"]},{id:"adjust-inventory",label:A.adjustInventory,icon:s.jsx(NA,{size:16}),path:"/stock/adjust",roles:["ADMIN","TECHNICIAN"]},{id:"suppliers",label:A.suppliers,icon:s.jsx(Jb,{size:16}),path:"/stock/suppliers",roles:["ADMIN","TECHNICIAN"]},{id:"orders",label:A.orders,icon:s.jsx(Wb,{size:16}),path:"/stock/orders",roles:["ADMIN","TECHNICIAN"]},{id:"reports",label:A.reports,icon:s.jsx(xj,{size:16}),path:"/stock/reports",roles:["ADMIN","TECHNICIAN"]}]},{id:"billing",label:A.billing,icon:s.jsx(Us,{size:20}),path:"/billing",roles:["ADMIN","SECRETARY"]},{id:"automates",label:A.automates,icon:s.jsx(bi,{size:20}),path:"/automates",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"config",label:A.config,icon:s.jsx(NA,{size:20}),path:"/config",roles:["ADMIN"],subItems:[{id:"price-management",label:A.priceManagement,icon:s.jsx(Us,{size:16}),path:"/config/prices",roles:["ADMIN"]},{id:"user-management",label:A.userManagement,icon:s.jsx(Y0,{size:16}),path:"/config/users",roles:["ADMIN"]},{id:"system-settings",label:A.systemSettings,icon:s.jsx(NA,{size:16}),path:"/config/system",roles:["ADMIN"]},{id:"moduleStore",label:A.moduleStore,icon:s.jsx(hi,{size:20}),path:"/config/modules",roles:["ADMIN"]},{id:"auditTrail",label:A.auditTrail,icon:s.jsx(As,{size:20}),path:"/config/audit",roles:["ADMIN"]},{id:"backupRestore",label:A.backupRestore,icon:s.jsx(di,{size:20}),path:"/config/backup",roles:["ADMIN"]}]}].filter(c=>c.roles.includes((t==null?void 0:t.role)||"")),l=()=>{e&&e()};return s.jsxs("nav",{className:"fixed lg:static top-0 left-0 h-full w-64 max-w-full bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col z-30 transition-transform lg:translate-x-0 overflow-y-auto shadow-lg lg:shadow-none",children:[s.jsxs("div",{className:"flex lg:hidden items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Menu"}),s.jsx("button",{onClick:e,className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close menu",children:s.jsx(wt,{size:24})})]}),s.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 hidden lg:block",children:s.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"SIL Lab System"})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:o.map(c=>s.jsx("div",{children:c.subItems?s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"w-full flex items-center justify-between px-3 sm:px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",onClick:()=>a(n===c.id?null:c.id),children:[s.jsxs("span",{className:"flex items-center min-w-0",children:[c.icon,s.jsx("span",{className:"ml-2 sm:ml-3 text-sm font-medium truncate",children:c.label})]}),n===c.id?s.jsx(pj,{size:18}):s.jsx(mj,{size:18})]}),n===c.id&&s.jsx("div",{className:"ml-4 sm:ml-6 mt-1 space-y-1",children:c.subItems.filter(u=>u.roles.includes((t==null?void 0:t.role)||"")).map(u=>s.jsxs(P1,{to:u.path,className:({isActive:h})=>`flex items-center px-2 sm:px-3 py-2 text-sm rounded-lg transition-colors ${h?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"}`,onClick:l,children:[u.icon,s.jsx("span",{className:"ml-2 truncate",children:u.label})]},u.id))})]}):s.jsxs(P1,{to:c.path,className:({isActive:u})=>`flex items-center px-3 sm:px-4 py-2 text-sm rounded-lg transition-colors ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:l,children:[c.icon,s.jsx("span",{className:"ml-2 sm:ml-3 font-medium truncate",children:c.label})]})},c.id))}),s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 mt-auto",children:s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 text-center",children:"v1.0.0"})})]})}function Rj(){const[e,t]=_.useState(""),[r,n]=_.useState(""),[a,A]=_.useState(""),{login:i}=Nt(),o=async l=>{l.preventDefault(),A(""),await i(e,r)||A("Invalid credentials")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8 p-6 sm:p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4",children:"🧪"}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"SIL Laboratory"}),s.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Sign in to your account"})]}),s.jsxs("form",{className:"mt-6 sm:mt-8 space-y-4 sm:space-y-6",onSubmit:o,children:[s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:l=>t(l.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-sm sm:text-base",placeholder:"admin@lab.fr"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),s.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:l=>n(l.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-sm sm:text-base",placeholder:"admin"})]})]}),a&&s.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:a}),s.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800 transition-colors",children:"Sign in"})]}),s.jsxs("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:[s.jsx("div",{className:"hidden sm:block",children:"Demo credentials: admin@sil-lab.com / admin123 | secretary@sil-lab.com / sec123"}),s.jsx("div",{className:"sm:hidden",children:"Demo: admin@sil-lab.com / admin123"})]})]})})}const Hj="http://localhost:5001/api";let _1=localStorage.getItem("sil_lab_token");const Ke=async(e,t={},r=2)=>{const n=`${Hj}${e}`,a={"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",...t.headers||{}};_1&&(a.Authorization=`Bearer ${_1}`),console.log("API Request:",n,a);try{const A=await fetch(n,{...t,headers:a,cache:"no-store"});if(A.status===304&&r>0){const o=n.includes("?")?`${n}&_=${Date.now()}`:`${n}?_=${Date.now()}`,l=await fetch(o,{...t,headers:a,cache:"no-store"});if(!l.ok){const u=await l.json().catch(()=>({}));throw new Error(u.error||`HTTP error! status: ${l.status}`)}const c=await l.json();return console.log("API Response (retry):",e,c),c}if(!A.ok){const o=await A.json().catch(()=>({}));if(A.status===429&&r>0){const l=Math.pow(2,3-r)*1e3;return await new Promise(c=>setTimeout(c,l)),Ke(e,t,r-1)}throw new Error(o.error||`HTTP error! status: ${A.status}`)}const i=await A.json();return console.log("API Response:",e,i),i}catch(A){throw console.error("API request failed:",A),A}},po={getPatients:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ke(`/patients?${t}`)},getPatient:async e=>(await Ke(`/patients/${e}`)).patient,createPatient:async e=>(await Ke("/patients",{method:"POST",body:JSON.stringify(e)})).patient,updatePatient:async(e,t)=>(await Ke(`/patients/${e}`,{method:"PUT",body:JSON.stringify(t)})).patient,deletePatient:async e=>{await Ke(`/patients/${e}`,{method:"DELETE"})},getPatientStats:async()=>await Ke("/patients/stats/overview")},Oj={getDoctors:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ke(`/doctors?${t}`)},getDoctor:async e=>(await Ke(`/doctors/${e}`)).doctor,createDoctor:async e=>(await Ke("/doctors",{method:"POST",body:JSON.stringify(e)})).doctor,updateDoctor:async(e,t)=>(await Ke(`/doctors/${e}`,{method:"PUT",body:JSON.stringify(t)})).doctor,deleteDoctor:async e=>{await Ke(`/doctors/${e}`,{method:"DELETE"})},searchDoctors:async e=>(await Ke(`/doctors/search/autocomplete?q=${encodeURIComponent(e)}`)).doctors,getDoctorStats:async()=>await Ke("/doctors/stats/overview")},zp={getAnalyses:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ke(`/analyses?${t}`)},getAnalysis:async e=>(await Ke(`/analyses/${e}`)).analysis,createAnalysis:async e=>(await Ke("/analyses",{method:"POST",body:JSON.stringify(e)})).analysis,updateAnalysis:async(e,t)=>(await Ke(`/analyses/${e}`,{method:"PUT",body:JSON.stringify(t)})).analysis,deleteAnalysis:async e=>{await Ke(`/analyses/${e}`,{method:"DELETE"})},getCategories:async()=>(await Ke("/analyses/categories/list")).categories,searchAnalyses:async e=>(await Ke(`/analyses/search/autocomplete?q=${encodeURIComponent(e)}`)).analyses,bulkUpdatePrices:async e=>await Ke("/analyses/prices/bulk",{method:"PUT",body:JSON.stringify({updates:e})}),getAnalysisStats:async()=>await Ke("/analyses/stats/overview")},Ni={getRequests:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ke(`/requests?${t}`)},getRequest:async e=>(await Ke(`/requests/${e}?_=${Date.now()}`)).request,createRequest:async e=>(await Ke("/requests",{method:"POST",body:JSON.stringify(e)})).request,updateRequest:async(e,t)=>(await Ke(`/requests/${e}`,{method:"PUT",body:JSON.stringify(t)})).request,updateRequestStatus:async(e,t)=>(await Ke(`/requests/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})})).request,deleteRequest:async e=>{await Ke(`/requests/${e}`,{method:"DELETE"})},getRequestStats:async(e="month")=>await Ke(`/requests/stats/overview?period=${e}`),markAsDelivered:async(e,t)=>(await Ke(`/requests/${e}/deliver`,{method:"PATCH",body:JSON.stringify({deliveredBy:t})})).request},Sc={getResults:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ke(`/results?${t}`)},getResult:async e=>(await Ke(`/results/${e}`)).result,createResult:async e=>(await Ke("/results",{method:"POST",body:JSON.stringify(e)})).result,updateResult:async(e,t)=>(await Ke(`/results/${e}`,{method:"PUT",body:JSON.stringify(t)})).result,validateResult:async(e,t)=>(await Ke(`/results/${e}/validate`,{method:"PATCH",body:JSON.stringify({validatedBy:t})})).result,getResultsByRequest:async e=>(await Ke(`/results/request/${e}`)).results,getResultStats:async()=>await Ke("/results/stats/overview")},Mj={saveRequest:async e=>{try{return{success:!0,data:await Ni.createRequest(e)}}catch(t){return console.error("Save request error:",t),{success:!1,error:t.message}}},getRequests:async()=>{try{return{success:!0,data:(await Ni.getRequests()).requests}}catch(e){return console.error("Get requests error:",e),{success:!1,error:e.message}}}},_o={getPrices:async()=>{try{return(await zp.getAnalyses()).analyses.map(t=>({code:t.code,nom:t.nom,category:t.category,price:t.price,tva:t.tva,cost:t.cost}))}catch(e){return console.error("Get prices error:",e),[]}},savePrices:async e=>{try{const t=e.map(n=>({id:n.id,price:n.price,tva:n.tva}));return(await zp.bulkUpdatePrices(t)).results.every(n=>n.success)}catch(t){return console.error("Save prices error:",t),!1}},calculateRequestTotal:(e,t=0,r=0)=>{let n=0,a=0;e.forEach(c=>{const u=c.price||0,h=c.tva||20,x=u*(h/100);n+=u,a+=x});const A=n+a,i=A*(t/100),o=A-i,l=o-r;return{subtotal:n,tvaTotal:a,totalBeforeDiscount:A,discount:t,discountAmount:i,totalAfterDiscount:o,advancePayment:r,amountDue:l}}},K1={printLabels:e=>{var a,A,i,o,l,c;const t=window.open("","_blank");if(!t)return;const r=`SIL${Date.now()}`,n=`
      <html>
        <head>
          <title>Sample Labels</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .label { border: 2px solid #000; padding: 10px; margin: 10px 0; width: 300px; }
            .barcode { font-family: monospace; font-size: 12px; }
            .urgent { background-color: #ffebee; border-color: #f44336; }
          </style>
        </head>
        <body>
          <div class="label ${e.urgent?"urgent":""}">
            <h3>SIL Laboratory</h3>
            <p><strong>Patient:</strong> ${(a=e.patient)==null?void 0:a.prenom} ${(A=e.patient)==null?void 0:A.nom}</p>
            <p><strong>CNSS:</strong> ${(i=e.patient)==null?void 0:i.numeroCNSS}</p>
            <p><strong>Date:</strong> ${(o=e.appointment)==null?void 0:o.date} ${(l=e.appointment)==null?void 0:l.time}</p>
            <p><strong>Analyses:</strong></p>
            <ul>
              ${((c=e.analyses)==null?void 0:c.map(u=>`<li>${u.nom}</li>`).join(""))||""}
            </ul>
            <p class="barcode">${r}</p>
            ${e.urgent?'<p style="color: red; font-weight: bold;">URGENT</p>':""}
          </div>
        </body>
      </html>
    `;t.document.write(n),t.document.close(),t.print()},printReceipt:(e,t)=>{var a,A,i;const r=window.open("","_blank");if(!r)return;const n=`
      <html>
        <head>
          <title>Payment Receipt</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .receipt { border: 1px solid #ccc; padding: 20px; width: 400px; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; }
            .item { display: flex; justify-content: space-between; margin: 5px 0; }
            .total { border-top: 1px solid #000; padding-top: 10px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h2>SIL Laboratory</h2>
              <p>123 Medical Center, City, Country</p>
              <p>Phone: +1234567890 | Email: info@sil.lab</p>
            </div>
            
            <h3>Payment Receipt</h3>
            <p><strong>Patient:</strong> ${(a=e.patient)==null?void 0:a.prenom} ${(A=e.patient)==null?void 0:A.nom}</p>
            <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
            <p><strong>Request ID:</strong> ${e.id}</p>
            
            <h4>Analyses:</h4>
            ${((i=e.analyses)==null?void 0:i.map(o=>`
              <div class="item">
                <span>${o.nom}</span>
                <span>${o.price} €</span>
              </div>
            `).join(""))||""}
            
            <div class="total">
              <div class="item">
                <span>Subtotal:</span>
                <span>${t.subtotal} €</span>
              </div>
              <div class="item">
                <span>TVA:</span>
                <span>${t.tvaTotal} €</span>
              </div>
              ${t.discount>0?`
                <div class="item">
                  <span>Discount (${t.discount}%):</span>
                  <span>-${t.discountAmount} €</span>
                </div>
              `:""}
              ${t.advancePayment>0?`
                <div class="item">
                  <span>Advance Payment:</span>
                  <span>-${t.advancePayment} €</span>
                </div>
              `:""}
              <div class="item">
                <span><strong>Amount Due:</strong></span>
                <span><strong>${t.amountDue} €</strong></span>
              </div>
            </div>
            
            <p style="margin-top: 20px; text-align: center;">
              Thank you for choosing SIL Laboratory
            </p>
          </div>
        </body>
      </html>
    `;r.document.write(n),r.document.close(),r.print()}},xt={getDashboard:()=>Ke("/stock/dashboard"),getProducts:(e={})=>{const t=new URLSearchParams(e).toString();return Ke(`/stock/products?${t}`)},createProduct:e=>Ke("/stock/products",{method:"POST",body:JSON.stringify(e)}),updateProduct:(e,t)=>Ke(`/stock/products/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteProduct:e=>Ke(`/stock/products/${e}`,{method:"DELETE"}),getSuppliers:(e={})=>{const t=new URLSearchParams(e).toString();return Ke(`/stock/suppliers?${t}`)},createSupplier:e=>Ke("/stock/suppliers",{method:"POST",body:JSON.stringify(e)}),updateSupplier:(e,t)=>Ke(`/stock/suppliers/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteSupplier:e=>Ke(`/stock/suppliers/${e}`,{method:"DELETE"}),getOrders:(e={})=>{const t=new URLSearchParams(e).toString();return Ke(`/stock/orders?${t}`)},createOrder:e=>Ke("/stock/orders",{method:"POST",body:JSON.stringify(e)}),updateOrder:(e,t)=>Ke(`/stock/orders/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteOrder:e=>Ke(`/stock/orders/${e}`,{method:"DELETE"}),addStock:e=>Ke("/stock/stock-in",{method:"POST",body:JSON.stringify(e)}),useStock:e=>Ke("/stock/stock-out",{method:"POST",body:JSON.stringify(e)}),transferStock:e=>Ke("/stock/transfer",{method:"POST",body:JSON.stringify(e)}),adjustInventory:e=>Ke("/stock/adjust",{method:"POST",body:JSON.stringify(e)}),getStockHistory:(e={})=>{const t=new URLSearchParams(e).toString();return Ke(`/stock/history?${t}`)},getStockActivities:(e={})=>{const t=new URLSearchParams(e).toString();return Ke(`/stock/activities?${t}`)},exportStockReport:(e={})=>{const t=new URLSearchParams(e).toString();return Ke(`/stock/export?${t}`)}},_j=()=>{console.log("Debug function - API is now connected to PostgreSQL backend"),console.log("Use the browser network tab to see API requests")},ea={getAutomates:async(e={})=>{const t=new URLSearchParams(e).toString();return await Ke(`/automates?${t}`)},getAutomate:async e=>await Ke(`/automates/${e}`),createAutomate:async e=>await Ke("/automates",{method:"POST",body:JSON.stringify(e)}),updateAutomate:async(e,t)=>await Ke(`/automates/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteAutomate:async e=>await Ke(`/automates/${e}`,{method:"DELETE"}),addCodeMapping:async(e,t)=>await Ke(`/automates/${e}/codes`,{method:"POST",body:JSON.stringify(t)}),updateCodeMapping:async(e,t,r)=>await Ke(`/automates/${e}/codes/${t}`,{method:"PUT",body:JSON.stringify(r)}),deleteCodeMapping:async(e,t)=>await Ke(`/automates/${e}/codes/${t}`,{method:"DELETE"}),getTransferLogs:async(e,t={})=>{const r=new URLSearchParams(t).toString();return await Ke(`/automates/${e}/logs?${r}`)},updateStatus:async(e,t)=>await Ke(`/automates/${e}/status`,{method:"PATCH",body:JSON.stringify(t)})};function Kj(){const{language:e,user:t}=Nt(),r=Ta(),[n,a]=_.useState({totalRequests:0,pendingRequests:0,completedRequests:0,urgentRequests:0,totalRevenue:0,averageRevenue:0,totalPatients:0,totalDoctors:0,monthlyGrowth:0,topAnalyses:[],recentRequests:[],revenueByMonth:[],statusDistribution:[],expiringProducts:[],lowStockProducts:[]}),[A,i]=_.useState(!0),[o,l]=_.useState("month"),c={fr:{title:"Tableau de Bord",subtitle:"Vue d'ensemble du laboratoire",totalRequests:"Total Demandes",pendingRequests:"Demandes en Attente",completedRequests:"Demandes Terminées",urgentRequests:"Demandes Urgentes",totalRevenue:"Revenu Total",averageRevenue:"Revenu Moyen",totalPatients:"Total Patients",totalDoctors:"Total Médecins",monthlyGrowth:"Croissance Mensuelle",topAnalyses:"Analyses les Plus Demandées",recentRequests:"Demandes Récentes",revenueByMonth:"Revenus par Mois",statusDistribution:"Répartition par Statut",efficiencyMetrics:"Métriques d'Efficacité",qualityMetrics:"Métriques de Qualité",performance:"Performance",turnaroundTime:"Temps de Traitement",accuracy:"Précision",satisfaction:"Satisfaction",hours:"heures",percentage:"%",outOf:"/5",newPatients:"Nouveaux Patients",returningPatients:"Patients Récurrents",doctorReferrals:"Références Médecins",viewAll:"Voir Tout",period:"Période",today:"Aujourd'hui",week:"Cette Semaine",month:"Ce Mois",quarter:"Ce Trimestre",year:"Cette Année",patient:"Patient",doctor:"Médecin",analyses:"Analyses",status:"Statut",date:"Date",amount:"Montant",urgent:"Urgent",normal:"Normal",pending:"En attente",completed:"Terminé",processing:"En cours",cancelled:"Annulé",noData:"Aucune donnée disponible",loading:"Chargement...",rating:"Note",averageTime:"Temps Moyen",productivity:"Productivité",topDoctors:"Médecins les Plus Actifs",revenueTrend:"Tendance des Revenus",requestTrend:"Tendance des Demandes",financialMetrics:"Métriques Financières",operationalMetrics:"Métriques Opérationnelles",expiringProducts:"Produits Expirant Bientôt",lowStockProducts:"Produits en Stock Faible",expiryDate:"expire bientôt",currentStock:"Stock actuel",minStock:"Stock min",viewStockReport:"Voir Rapport Complet"},en:{title:"Dashboard",subtitle:"Laboratory Overview",totalRequests:"Total Requests",pendingRequests:"Pending Requests",completedRequests:"Completed Requests",urgentRequests:"Urgent Requests",totalRevenue:"Total Revenue",averageRevenue:"Average Revenue",totalPatients:"Total Patients",totalDoctors:"Total Doctors",monthlyGrowth:"Monthly Growth",topAnalyses:"Top Analyses",recentRequests:"Recent Requests",revenueByMonth:"Revenue by Month",statusDistribution:"Status Distribution",efficiencyMetrics:"Efficiency Metrics",qualityMetrics:"Quality Metrics",performance:"Performance",turnaroundTime:"Turnaround Time",accuracy:"Accuracy",satisfaction:"Satisfaction",hours:"hours",percentage:"%",outOf:"/5",newPatients:"New Patients",returningPatients:"Returning Patients",doctorReferrals:"Doctor Referrals",viewAll:"View All",period:"Period",today:"Today",week:"This Week",month:"This Month",quarter:"This Quarter",year:"This Year",patient:"Patient",doctor:"Doctor",analyses:"Analyses",status:"Status",date:"Date",amount:"Amount",urgent:"Urgent",normal:"Normal",pending:"Pending",completed:"Completed",processing:"Processing",cancelled:"Cancelled",noData:"No data available",loading:"Loading...",rating:"Rating",averageTime:"Average Time",productivity:"Productivity",topDoctors:"Most Active Doctors",revenueTrend:"Revenue Trend",requestTrend:"Request Trend",financialMetrics:"Financial Metrics",operationalMetrics:"Operational Metrics",expiringProducts:"Expiring Products",lowStockProducts:"Low Stock Products",expiryDate:"expiring soon",currentStock:"Current stock",minStock:"Min stock",viewStockReport:"View Full Report"}}[e];_.useEffect(()=>{u()},[o]);const u=async()=>{i(!0);try{const b=(await Ni.getRequests({_t:Date.now()})).requests||[],p=_o.getPrices(),C=b.length,m=b.filter(he=>he.status==="PENDING"||he.status==="PROCESSING").length,w=b.filter(he=>he.status==="COMPLETED").length,B=b.filter(he=>he.priority==="URGENT").length;let D=0;const O={};b.forEach(he=>{D+=he.totalAmount||0,he.requestAnalyses&&he.requestAnalyses.forEach(S=>{const P=S.analysis.name;O[P]=(O[P]||0)+1})});const q=C>0?D/C:0,F=new Set(b.map(he=>{var S;return(S=he.patient)==null?void 0:S.id})).size,j=new Set(b.map(he=>{var S;return(S=he.doctor)==null?void 0:S.id})).size,I=new Date().getMonth(),R=new Date;R.setMonth(I-1);const E=b.filter(he=>new Date(he.createdAt).getMonth()===I).length,k=b.filter(he=>new Date(he.createdAt).getMonth()===R.getMonth()).length,Q=k>0?(E-k)/k*100:0,K=Object.entries(O).map(([he,S])=>{let P=0;return b.forEach(J=>{J.requestAnalyses&&J.requestAnalyses.forEach(Y=>{Y.analysis.name===he&&(P+=Y.price)})}),{name:he,count:S,revenue:P}}).sort((he,S)=>S.count-he.count).slice(0,5),ie=b.sort((he,S)=>new Date(S.createdAt).getTime()-new Date(he.createdAt).getTime()).slice(0,5),W=[];for(let he=5;he>=0;he--){const S=new Date;S.setMonth(S.getMonth()-he);const P=S.toLocaleDateString(e==="fr"?"fr-FR":"en-US",{month:"short"}),J=b.filter(ne=>{const ce=new Date(ne.createdAt);return ce.getMonth()===S.getMonth()&&ce.getFullYear()===S.getFullYear()});let Y=0;J.forEach(ne=>{Y+=ne.totalAmount||0}),W.push({month:P,revenue:Y})}const ee={};b.forEach(he=>{const S=he.status||"pending";ee[S]=(ee[S]||0)+1});const z=Object.entries(ee).map(([he,S])=>({status:he,count:S,percentage:S/C*100}));let te=[],Ae=[];try{const he=await xt.exportStockReport();he&&Array.isArray(he)&&(te=he.filter(S=>S.expiringStock>0).sort((S,P)=>P.expiringStock-S.expiringStock).slice(0,5).map(S=>({name:S.name,code:S.code,expiringStock:S.expiringStock,currentStock:S.currentStock,expiryDate:S.earliestExpiryDate})),Ae=he.filter(S=>S.currentStock<=S.minStock&&S.currentStock>0).sort((S,P)=>S.currentStock/S.minStock-P.currentStock/P.minStock).slice(0,5).map(S=>({name:S.name,code:S.code,currentStock:S.currentStock,minStock:S.minStock})))}catch(he){console.error("Error loading stock data:",he)}a({totalRequests:C,pendingRequests:m,completedRequests:w,urgentRequests:B,totalRevenue:D,averageRevenue:q,totalPatients:F,totalDoctors:j,monthlyGrowth:Q,topAnalyses:K,recentRequests:ie,revenueByMonth:W,statusDistribution:z,expiringProducts:te,lowStockProducts:Ae})}catch(f){console.error("Error loading dashboard data:",f)}finally{i(!1)}},h=f=>{switch(f){case"completed":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"processing":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"pending":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20 dark:text-yellow-400";case"cancelled":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20 dark:text-gray-400"}},x=f=>{switch(f){case"completed":return c.completed;case"processing":return c.processing;case"pending":return c.pending;case"cancelled":return c.cancelled;default:return c.pending}};return A?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:c.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:c.subtitle})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:["today","week","month","quarter","year"].map(f=>s.jsx("button",{onClick:()=>l(f),className:`px-3 sm:px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===f?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:c[f]},f))})}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:e==="fr"?"Actions Rapides":"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[s.jsxs("button",{onClick:()=>r("/new-request"),className:"flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[s.jsx(As,{size:16,className:"mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Nouvelle Demande":"New Request"}),s.jsx("span",{className:"sm:hidden",children:e==="fr"?"Demande":"Request"})]}),s.jsxs("button",{onClick:()=>r("/patients"),className:"flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm sm:text-base",children:[s.jsx(Y0,{size:16,className:"mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Nouveau Patient":"New Patient"}),s.jsx("span",{className:"sm:hidden",children:"Patient"})]}),s.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center px-3 sm:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm sm:text-base",children:[s.jsx(di,{size:16,className:"mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Saisir Résultats":"Enter Results"}),s.jsx("span",{className:"sm:hidden",children:e==="fr"?"Résultats":"Results"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(As,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 mr-2 sm:mr-3"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:c.totalRequests}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:n.totalRequests})]})]}),s.jsxs("div",{className:"mt-2 flex items-center text-xs sm:text-sm",children:[n.monthlyGrowth>0?s.jsx(al,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 mr-1"}):s.jsx(sl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600 mr-1"}),s.jsxs("span",{className:n.monthlyGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(n.monthlyGrowth).toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Us,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 mr-2 sm:mr-3"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:c.totalRevenue}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:[n.totalRevenue.toFixed(2)," dh"]})]})]}),s.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[c.averageRevenue,": ",n.averageRevenue.toFixed(2)," dh"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Y0,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600 mr-2 sm:mr-3"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:c.totalPatients}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:n.totalPatients})]})]}),s.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[c.totalDoctors,": ",n.totalDoctors]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Es,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600 mr-2 sm:mr-3"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:c.urgentRequests}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:n.urgentRequests})]})]}),s.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[c.pendingRequests,": ",n.pendingRequests]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ta,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 mr-2"}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.expiringProducts})]}),s.jsx("button",{onClick:()=>r("/stock/reports"),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:c.viewStockReport})]}),s.jsx("div",{className:"space-y-2",children:n.expiringProducts&&n.expiringProducts.length>0?n.expiringProducts.map((f,b)=>s.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:f.name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.code})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[f.expiringStock," ",c.expiryDate]}),f.expiryDate&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(f.expiryDate).toLocaleDateString(e==="fr"?"fr-FR":"en-US")}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[c.currentStock,": ",f.currentStock]})]})]},b)):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:c.noData})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Es,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-600 mr-2"}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.lowStockProducts})]}),s.jsx("button",{onClick:()=>r("/stock/reports"),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:c.viewStockReport})]}),s.jsx("div",{className:"space-y-2",children:n.lowStockProducts&&n.lowStockProducts.length>0?n.lowStockProducts.map((f,b)=>s.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:f.name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.code})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-yellow-600",children:[f.currentStock," / ",f.minStock]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[c.minStock,": ",f.minStock]})]})]},b)):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:c.noData})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[s.jsx(jc,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 mr-2"}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.efficiencyMetrics})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.turnaroundTime,":"]}),s.jsxs("span",{className:"font-medium",children:["24 ",c.hours]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.accuracy,":"]}),s.jsxs("span",{className:"font-medium text-green-600",children:["99.8",c.percentage]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.satisfaction,":"]}),s.jsxs("span",{className:"font-medium",children:["4.8 ",c.outOf]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[s.jsx(Uj,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-2"}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.qualityMetrics})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.completedRequests,":"]}),s.jsx("span",{className:"font-medium text-green-600",children:n.completedRequests})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.processing,":"]}),s.jsx("span",{className:"font-medium text-blue-600",children:n.pendingRequests})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.urgentRequests,":"]}),s.jsx("span",{className:"font-medium text-orange-600",children:n.urgentRequests})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[s.jsx(gj,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600 mr-2"}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.performance})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.newPatients,":"]}),s.jsx("span",{className:"font-medium",children:Math.floor(n.totalPatients*.3)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.returningPatients,":"]}),s.jsx("span",{className:"font-medium",children:Math.floor(n.totalPatients*.7)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.doctorReferrals,":"]}),s.jsx("span",{className:"font-medium",children:n.totalDoctors})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.topAnalyses}),s.jsx(di,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-2 sm:space-y-3",children:n.topAnalyses.length>0?n.topAnalyses.map((f,b)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mr-2 sm:mr-3 flex-shrink-0",children:s.jsx("span",{className:"text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400",children:b+1})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:f.name}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[f.count," ",c.analyses]})]})]}),s.jsxs("span",{className:"text-sm font-medium text-green-600 ml-2 flex-shrink-0",children:[f.revenue.toFixed(2)," dh"]})]},f.name)):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:c.noData})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.statusDistribution}),s.jsx(jj,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-2 sm:space-y-3",children:n.statusDistribution.length>0?n.statusDistribution.map(f=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full mr-2 sm:mr-3 bg-blue-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-900 dark:text-white truncate",children:x(f.status)})]}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-shrink-0",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:f.count}),s.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["(",f.percentage.toFixed(1),"%)"]})]})]},f.status)):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:c.noData})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.recentRequests}),s.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:c.viewAll})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.patient}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:c.doctor}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.analyses}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.status}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:c.date}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.amount})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n.recentRequests.length>0?n.recentRequests.map(f=>{var b,p;return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white",children:s.jsx("div",{className:"truncate max-w-[120px] sm:max-w-none",children:f.patient?`${f.patient.firstName} ${f.patient.lastName}`:"N/A"})}),s.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden sm:table-cell",children:s.jsx("div",{className:"truncate max-w-[120px]",children:f.doctor?`Dr. ${f.doctor.firstName} ${f.doctor.lastName}`:"N/A"})}),s.jsxs("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:[((b=f.requestAnalyses)==null?void 0:b.length)||0," ",c.analyses]}),s.jsx("td",{className:"px-3 sm:px-6 py-4",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(f.status)}`,children:x(f.status)})}),s.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-600 dark:text-gray-400 hidden lg:table-cell",children:new Date(f.createdAt).toLocaleDateString()}),s.jsxs("td",{className:"px-3 sm:px-6 py-4 text-sm font-medium text-green-600",children:[((p=f.amountDue)==null?void 0:p.toFixed(2))||"0.00"," dh"]})]},f.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:c.noData})})})]})})]})]})}function qj(){const{language:e}=Nt(),[t,r]=_.useState(""),[n,a]=_.useState(!1),[A,i]=_.useState(!1),[o,l]=_.useState(null),c={fr:{title:"Gestion des Patients",newPatient:"Nouveau Patient",search:"Rechercher un patient...",name:"Nom",birthDate:"Date de Naissance",socialSecurity:"Sécurité Sociale",phone:"Téléphone",email:"Email",lastVisit:"Dernière Visite",actions:"Actions",close:"Fermer",save:"Enregistrer",cancel:"Annuler"},en:{title:"Patient Management",newPatient:"New Patient",search:"Search patient...",name:"Name",birthDate:"Birth Date",socialSecurity:"Social Security",phone:"Phone",email:"Email",lastVisit:"Last Visit",actions:"Actions",close:"Close",save:"Save",cancel:"Cancel"}}[e],[u,h]=_.useState([]),[x,f]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const B=await po.getPatients();B.patients?h(B.patients):h([])}catch(B){console.error("Error loading patients:",B),h([])}finally{f(!1)}})()},[]);const b=w=>{l(w),i(!0)},p=w=>{l(w),a(!0)},C=()=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:o?"Modifier Patient":c.newPatient}),s.jsx("button",{onClick:()=>a(!1),className:"p-1",children:s.jsx(wt,{size:20,className:"text-gray-500"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Prénom",defaultValue:(o==null?void 0:o.firstName)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsx("input",{type:"text",placeholder:"Nom",defaultValue:(o==null?void 0:o.lastName)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsx("input",{type:"date",defaultValue:o!=null&&o.dateOfBirth?new Date(o.dateOfBirth).toISOString().split("T")[0]:"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsx("input",{type:"text",placeholder:"Sécurité Sociale",defaultValue:(o==null?void 0:o.cnssNumber)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsx("input",{type:"tel",placeholder:"Téléphone",defaultValue:(o==null?void 0:o.phone)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsx("input",{type:"email",placeholder:"Email",defaultValue:(o==null?void 0:o.email)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c.save})]})]})}),m=()=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Détails du patient"}),s.jsx("button",{onClick:()=>i(!1),className:"p-1",children:s.jsx(wt,{size:20,className:"text-gray-500"})})]}),o&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"ID:"})," ",o.id]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Nom:"})," ",`${o.firstName} ${o.lastName}`]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Date de naissance:"})," ",new Date(o.dateOfBirth).toLocaleDateString()]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Genre:"})," ",o.gender]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Sécurité Sociale:"})," ",o.cnssNumber||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Téléphone:"})," ",o.phone]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," ",o.email]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Adresse:"})," ",o.address||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Créé le:"})," ",new Date(o.createdAt).toLocaleDateString()]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:c.close})})]})});return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-4",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:c.title}),s.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center transition-colors",children:[s.jsx(kr,{size:18,className:"mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:c.newPatient}),s.jsx("span",{className:"sm:hidden",children:"+"})]})]}),s.jsx("div",{className:"mb-4 sm:mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(jr,{size:18,className:"absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:c.search,value:t,onChange:w=>r(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm sm:text-base"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.name}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:c.birthDate}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:c.socialSecurity}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden md:table-cell",children:c.phone}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:c.lastVisit}),s.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.actions})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:x?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Chargement..."})]})})}):u.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Aucun patient enregistré."})}):u.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:s.jsx("div",{className:"truncate max-w-[120px] sm:max-w-none",children:`${w.firstName} ${w.lastName}`})}),s.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden sm:table-cell",children:new Date(w.dateOfBirth).toLocaleDateString()}),s.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden lg:table-cell",children:s.jsx("div",{className:"truncate max-w-[120px]",children:w.cnssNumber||"N/A"})}),s.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden md:table-cell",children:w.phone}),s.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden lg:table-cell",children:new Date(w.createdAt).toLocaleDateString()}),s.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>b(w),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"View",children:s.jsx(Ls,{size:16})}),s.jsx("button",{onClick:()=>p(w),className:"text-green-600 hover:text-green-900 transition-colors",title:"Edit",children:s.jsx(DA,{size:16})})]})})]},w.id))})]})})}),n&&s.jsx(C,{}),A&&s.jsx(m,{})]})}function zj(){const{language:e}=Nt(),[t,r]=_.useState([]),[n,a]=_.useState(""),[A,i]=_.useState("all"),[o,l]=_.useState("all"),[c,u]=_.useState(!1),[h,x]=_.useState(null),[f,b]=_.useState(!0),p={fr:{title:"Gestion des Médecins",subtitle:"Gestion des médecins référents",search:"Rechercher un médecin...",filter:"Filtrer",allSpecialties:"Toutes les spécialités",allStatus:"Tous les statuts",addDoctor:"Ajouter un médecin",editDoctor:"Modifier le médecin",nom:"Nom",prenom:"Prénom",specialite:"Spécialité",email:"Email",telephone:"Téléphone",adresse:"Adresse",numeroOrdre:"Numéro d'ordre",dateInscription:"Date d'inscription",statut:"Statut",notes:"Notes",actif:"Actif",inactif:"Inactif",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",actions:"Actions",totalDoctors:"Total médecins",activeDoctors:"Médecins actifs",specialties:"Spécialités",recentRegistrations:"Inscriptions récentes",success:"Médecin enregistré avec succès",error:"Erreur lors de l'enregistrement",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce médecin ?",doctorDetails:"Détails du médecin",noDoctors:"Aucun médecin trouvé",addNewDoctor:"Ajouter un nouveau médecin"},en:{title:"Doctor Management",subtitle:"Managing referring doctors",search:"Search for a doctor...",filter:"Filter",allSpecialties:"All specialties",allStatus:"All status",addDoctor:"Add doctor",editDoctor:"Edit doctor",nom:"Last Name",prenom:"First Name",specialite:"Specialty",email:"Email",telephone:"Phone",adresse:"Address",numeroOrdre:"License Number",dateInscription:"Registration Date",statut:"Status",notes:"Notes",actif:"Active",inactif:"Inactive",save:"Save",cancel:"Cancel",delete:"Delete",actions:"Actions",totalDoctors:"Total doctors",activeDoctors:"Active doctors",specialties:"Specialties",recentRegistrations:"Recent registrations",success:"Doctor saved successfully",error:"Error saving doctor",confirmDelete:"Are you sure you want to delete this doctor?",doctorDetails:"Doctor details",noDoctors:"No doctors found",addNewDoctor:"Add new doctor"}}[e],C=["Médecine générale","Cardiologie","Endocrinologie","Dermatologie","Gastroentérologie","Neurologie","Pneumologie","Rhumatologie","Urologie","Gynécologie","Pédiatrie","Psychiatrie","Radiologie","Chirurgie générale","Orthopédie"];_.useEffect(()=>{m()},[]);const m=()=>{try{const k=localStorage.getItem("sil_lab_doctors");if(k)r(JSON.parse(k));else{const Q=[{id:"1",nom:"Boulahcen",prenom:"Hicham",specialite:"Médecine générale",email:"h.boulahcen@medecin.fr",telephone:"01.42.34.56.78",adresse:"123 Rue de la Santé, 75014 Paris",numeroOrdre:"12345678",dateInscription:"2020-01-15",statut:"actif",notes:"Médecin généraliste expérimenté"},{id:"2",nom:"Bensaïd",prenom:"Youssef",specialite:"Cardiologie",email:"y.bensaid@cardio.fr",telephone:"01.42.34.56.79",adresse:"456 Avenue des Médecins, 75016 Paris",numeroOrdre:"87654321",dateInscription:"2019-03-20",statut:"actif",notes:"Cardiologue spécialisé en échographie"},{id:"3",nom:"Alaoui",prenom:"Fatima",specialite:"Endocrinologie",email:"f.alaoui@endo.fr",telephone:"01.42.34.56.80",adresse:"789 Boulevard de la Médecine, 75008 Paris",numeroOrdre:"11223344",dateInscription:"2021-06-10",statut:"actif",notes:"Spécialiste en diabétologie"},{id:"4",nom:"Tazi",prenom:"Mohamed",specialite:"Médecine générale",email:"m.tazi@medecin.fr",telephone:"01.42.34.56.81",adresse:"321 Rue du Médecin, 75011 Paris",numeroOrdre:"55667788",dateInscription:"2018-09-05",statut:"actif",notes:"Médecin de famille"},{id:"5",nom:"El Amrani",prenom:"Karim",specialite:"Dermatologie",email:"k.elamrani@dermato.fr",telephone:"01.42.34.56.82",adresse:"654 Avenue de la Dermatologie, 75006 Paris",numeroOrdre:"99887766",dateInscription:"2022-01-12",statut:"actif",notes:"Dermatologue esthétique"}];r(Q),localStorage.setItem("sil_lab_doctors",JSON.stringify(Q))}b(!1)}catch(k){console.error("Error loading doctors:",k),b(!1)}},w=t.filter(k=>{const Q=`${k.prenom} ${k.nom}`.toLowerCase().includes(n.toLowerCase())||k.specialite.toLowerCase().includes(n.toLowerCase())||k.email.toLowerCase().includes(n.toLowerCase()),K=A==="all"||k.specialite===A,ie=o==="all"||k.statut===o;return Q&&K&&ie}),B=()=>{try{localStorage.setItem("sil_lab_doctors",JSON.stringify(t)),alert(p.success)}catch(k){console.error("Save error:",k),alert(p.error)}},D=()=>{const k={id:Date.now().toString(),nom:"",prenom:"",specialite:"Médecine générale",email:"",telephone:"",adresse:"",numeroOrdre:"",dateInscription:new Date().toISOString().split("T")[0],statut:"actif",notes:""};x(k),u(!0)},O=k=>{x(k),u(!0)},q=k=>{if(window.confirm(p.confirmDelete)){const Q=t.filter(K=>K.id!==k);r(Q),localStorage.setItem("sil_lab_doctors",JSON.stringify(Q))}},F=()=>{if(h&&h.nom&&h.prenom){let k;if(h.id&&t.find(Q=>Q.id===h.id))k=t.map(Q=>Q.id===h.id?h:Q);else{const Q={...h,id:Date.now().toString()};k=[...t,Q]}r(k),localStorage.setItem("sil_lab_doctors",JSON.stringify(k)),x(null),u(!1),alert(p.success)}},j=t.length,I=t.filter(k=>k.statut==="actif").length,R=new Set(t.map(k=>k.specialite)).size,E=t.filter(k=>{const Q=new Date(k.dateInscription),K=new Date;return K.setMonth(K.getMonth()-3),Q>K}).length;return f?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:p.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:p.subtitle})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(dn,{className:"h-8 w-8 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.totalDoctors}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ed,{className:"h-8 w-8 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.activeDoctors}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(dd,{className:"h-8 w-8 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.specialties}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:R})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(dn,{className:"h-8 w-8 text-orange-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.recentRegistrations}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:E})]})]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:n,onChange:k=>a(k.target.value),placeholder:p.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:A,onChange:k=>i(k.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:p.allSpecialties}),C.map(k=>s.jsx("option",{value:k,children:k},k))]}),s.jsxs("select",{value:o,onChange:k=>l(k.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:p.allStatus}),s.jsx("option",{value:"actif",children:p.actif}),s.jsx("option",{value:"inactif",children:p.inactif})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:D,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(kr,{size:16,className:"mr-2"}),p.addDoctor]}),s.jsx("button",{onClick:B,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Sauvegarder"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.doctorDetails}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.specialite}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.statut}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.actions})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:w.length>0?w.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Dr. ",k.prenom," ",k.nom]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[p.numeroOrdre,": ",k.numeroOrdre]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[p.dateInscription,": ",new Date(k.dateInscription).toLocaleDateString()]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:k.specialite}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Sx,{size:14,className:"mr-2 text-gray-400"}),k.email]}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Fx,{size:14,className:"mr-2 text-gray-400"}),k.telephone]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bi,{size:14,className:"mr-2 text-gray-400"}),k.adresse]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.statut==="actif"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:k.statut==="actif"?p.actif:p.inactif})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>O(k),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:s.jsx(DA,{size:16})}),s.jsx("button",{onClick:()=>q(k.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(TA,{size:16})})]})})]},k.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:p.noDoctors})})})]})})}),c&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:h.id&&t.find(k=>k.id===h.id)?p.editDoctor:p.addNewDoctor}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.nom," *"]}),s.jsx("input",{type:"text",required:!0,value:h.nom,onChange:k=>x(Q=>Q?{...Q,nom:k.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.prenom," *"]}),s.jsx("input",{type:"text",required:!0,value:h.prenom,onChange:k=>x(Q=>Q?{...Q,prenom:k.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.specialite," *"]}),s.jsx("select",{value:h.specialite,onChange:k=>x(Q=>Q?{...Q,specialite:k.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:C.map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.email," *"]}),s.jsx("input",{type:"email",required:!0,value:h.email,onChange:k=>x(Q=>Q?{...Q,email:k.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.telephone," *"]}),s.jsx("input",{type:"tel",required:!0,value:h.telephone,onChange:k=>x(Q=>Q?{...Q,telephone:k.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.numeroOrdre," *"]}),s.jsx("input",{type:"text",required:!0,value:h.numeroOrdre,onChange:k=>x(Q=>Q?{...Q,numeroOrdre:k.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.dateInscription}),s.jsx("input",{type:"date",value:h.dateInscription,onChange:k=>x(Q=>Q?{...Q,dateInscription:k.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.statut}),s.jsxs("select",{value:h.statut,onChange:k=>x(Q=>Q?{...Q,statut:k.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"actif",children:p.actif}),s.jsx("option",{value:"inactif",children:p.inactif})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.adresse}),s.jsx("input",{type:"text",value:h.adresse,onChange:k=>x(Q=>Q?{...Q,adresse:k.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.notes}),s.jsx("textarea",{value:h.notes||"",onChange:k=>x(Q=>Q?{...Q,notes:k.target.value}:null),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[s.jsx("button",{onClick:()=>{u(!1),x(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:p.cancel}),s.jsx("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:p.save})]})]})})]})}function Vj(){const{language:e}=Nt(),t=Ta(),[r,n]=_.useState(""),[a,A]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState(null),[u,h]=_.useState(!1),[x,f]=_.useState([]),[b,p]=_.useState(!0),[C,m]=_.useState("ALL"),[w,B]=_.useState("ALL"),[D,O]=_.useState(""),[q,F]=_.useState("createdAt"),[j,I]=_.useState("desc"),[R,E]=_.useState(1),[k,Q]=_.useState(10),[K,ie]=_.useState(0),W={fr:{title:"Gestion des Demandes",newRequest:"Nouvelle Demande",search:"Rechercher...",id:"ID",patient:"Patient",tests:"Analyses",status:"Statut",priority:"Priorité",sampleType:"Type d'échantillon",date:"Date",actions:"Actions",close:"Fermer",save:"Enregistrer",cancel:"Annuler",refresh:"Actualiser",export:"Exporter",print:"Imprimer",filter:"Filtrer",allStatuses:"Tous les statuts",allPriorities:"Toutes priorités",itemsPerPage:"Éléments par page",page:"Page",of:"sur",previous:"Précédent",next:"Suivant",deleteConfirm:"Êtes-vous sûr de vouloir supprimer cette demande?",viewResults:"Voir résultats",enterResults:"Saisir résultats",validateResults:"Valider résultats",printReport:"Imprimer rapport",created:"Créé",pending:"En attente",processing:"En traitement",completed:"Terminé",cancelled:"Annulé",normal:"Normal",urgent:"Urgent",emergency:"Urgence",paymentStatus:"Statut paiement",paid:"Payé",partiallyPaid:"Partiellement payé",unpaid:"Non payé",totalAmount:"Montant total",amountDue:"Montant dû",doctor:"Médecin",collectionDate:"Date de prélèvement",collectionTime:"Heure de prélèvement",notes:"Notes",createdAt:"Créé le",updatedAt:"Mis à jour le"},en:{title:"Request Management",newRequest:"New Request",search:"Search...",id:"ID",patient:"Patient",tests:"Tests",status:"Status",priority:"Priority",sampleType:"Sample Type",date:"Date",actions:"Actions",close:"Close",save:"Save",cancel:"Cancel",refresh:"Refresh",export:"Export",print:"Print",filter:"Filter",allStatuses:"All statuses",allPriorities:"All priorities",itemsPerPage:"Items per page",page:"Page",of:"of",previous:"Previous",next:"Next",deleteConfirm:"Are you sure you want to delete this request?",viewResults:"View results",enterResults:"Enter results",validateResults:"Validate results",printReport:"Print report",created:"Created",pending:"Pending",processing:"Processing",completed:"Completed",cancelled:"Cancelled",normal:"Normal",urgent:"Urgent",emergency:"Emergency",paymentStatus:"Payment status",paid:"Paid",partiallyPaid:"Partially paid",unpaid:"Unpaid",totalAmount:"Total amount",amountDue:"Amount due",doctor:"Doctor",collectionDate:"Collection date",collectionTime:"Collection time",notes:"Notes",createdAt:"Created at",updatedAt:"Updated at"}}[e];_.useEffect(()=>{(async()=>{try{p(!0);const Me=await Ni.getRequests({_t:Date.now()});Me.requests?f(Me.requests):f([])}catch(Me){console.error("Error loading requests:",Me),f([])}finally{p(!1)}})()},[K]);const ee=x.filter(V=>{var tt,nt,ct,ht,bt;const Me=`${((tt=V.patient)==null?void 0:tt.firstName)||""} ${((nt=V.patient)==null?void 0:nt.lastName)||""}`.toLowerCase(),Qe=((ct=V.requestAnalyses)==null?void 0:ct.map($e=>$e.analysis.name.toLowerCase()))||[],ke=`${((ht=V.doctor)==null?void 0:ht.firstName)||""} ${((bt=V.doctor)==null?void 0:bt.lastName)||""}`.toLowerCase(),Fe=Me.includes(r.toLowerCase())||V.id.toLowerCase().includes(r.toLowerCase())||Qe.some($e=>$e.includes(r.toLowerCase()))||ke.includes(r.toLowerCase()),De=C==="ALL"||V.status===C,Ie=w==="ALL"||V.priority===w,Ge=!D||V.collectionDate&&V.collectionDate.includes(D);return Fe&&De&&Ie&&Ge}).sort((V,Me)=>{if(q==="createdAt")return j==="asc"?new Date(V.createdAt).getTime()-new Date(Me.createdAt).getTime():new Date(Me.createdAt).getTime()-new Date(V.createdAt).getTime();if(q==="priority"){const Qe={NORMAL:0,URGENT:1,EMERGENCY:2};return j==="asc"?(Qe[V.priority]||0)-(Qe[Me.priority]||0):(Qe[Me.priority]||0)-(Qe[V.priority]||0)}else if(q==="status"){const Qe={CREATED:0,PENDING:1,PROCESSING:2,COMPLETED:3,CANCELLED:4};return j==="asc"?(Qe[V.status]||0)-(Qe[Me.status]||0):(Qe[Me.status]||0)-(Qe[V.status]||0)}return 0}),z=Math.ceil(ee.length/k),te=ee.slice((R-1)*k,R*k),Ae=V=>({CREATED:"bg-gray-100 text-gray-800",PENDING:"bg-yellow-100 text-yellow-800",PROCESSING:"bg-blue-100 text-blue-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[V]||"bg-gray-100 text-gray-800",he=V=>({NORMAL:"bg-gray-100 text-gray-800",URGENT:"bg-orange-100 text-orange-800",EMERGENCY:"bg-red-100 text-red-800"})[V]||"bg-gray-100 text-gray-800",S=V=>V.amountDue<=0?"bg-green-100 text-green-800":V.advancePayment>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",P=V=>V.amountDue<=0?e==="fr"?"Payé":"Paid":V.advancePayment>0?e==="fr"?"Partiellement payé":"Partially paid":e==="fr"?"Non payé":"Unpaid",J=V=>{c(V),o(!0)},Y=V=>{c(V),A(!0)},ne=async V=>{if(window.confirm(W.deleteConfirm))try{await Ni.deleteRequest(V.id),ie(Me=>Me+1)}catch(Me){console.error("Error deleting request:",Me),alert("Error deleting request")}},ce=()=>{ie(V=>V+1)},Z=async()=>{try{alert("Export functionality would be implemented here")}catch(V){console.error("Error exporting data:",V)}},de=()=>{window.print()},Ne=V=>{t(`/results?requestId=${V.id}`)},je=V=>{t(`/results/entry?requestId=${V.id}`)},Le=V=>{t(`/results/print?requestId=${V.id}`)},Ee=V=>{q===V?I(j==="asc"?"desc":"asc"):(F(V),I("asc"))},Xe=()=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l?"Modifier Demande":W.newRequest}),s.jsx("button",{onClick:()=>A(!1),children:s.jsx(wt,{size:20,className:"text-gray-500"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Nom du patient",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{children:"Sélectionner tests"}),s.jsx("option",{children:"Hémogramme"}),s.jsx("option",{children:"Glycémie"})]}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{children:"Priorité normale"}),s.jsx("option",{children:"Urgent"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:W.cancel}),s.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:W.save})]})]})}),ye=()=>{var V,Me;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e==="fr"?"Détails de la demande":"Request Details"}),s.jsx("button",{onClick:()=>o(!1),children:s.jsx(wt,{size:20,className:"text-gray-500"})})]}),l&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations patient":"Patient Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[W.patient,":"]})," ",l.patient?`${l.patient.firstName} ${l.patient.lastName}`:"N/A"]}),((V=l.patient)==null?void 0:V.cnssNumber)&&s.jsxs("div",{children:[s.jsx("strong",{children:"CNSS:"})," ",l.patient.cnssNumber]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Statut de la demande":"Request Status"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("strong",{className:"mr-2",children:[W.status,":"]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ae(l.status)}`,children:l.status})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsxs("strong",{className:"mr-2",children:[W.priority,":"]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${he(l.priority)}`,children:l.priority})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsxs("strong",{className:"mr-2",children:[W.paymentStatus,":"]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(l)}`,children:P(l)})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Analyses demandées":"Requested Tests"}),s.jsx("ul",{className:"list-disc list-inside space-y-1",children:(Me=l.requestAnalyses)==null?void 0:Me.map(Qe=>s.jsxs("li",{children:[Qe.analysis.name," ",s.jsxs("span",{className:"text-gray-500",children:["(",Qe.analysis.code,")"]})]},Qe.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations de prélèvement":"Collection Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[W.sampleType,":"]})," ",l.sampleType]}),l.tubeType&&s.jsxs("div",{children:[s.jsxs("strong",{children:[e==="fr"?"Type de tube":"Tube Type",":"]})," ",l.tubeType]}),s.jsxs("div",{children:[s.jsxs("strong",{children:[W.collectionDate,":"]})," ",l.collectionDate?new Date(l.collectionDate).toLocaleString():"N/A"]}),s.jsxs("div",{children:[s.jsxs("strong",{children:[W.collectionTime,":"]})," ",l.collectionTime||"N/A"]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations financières":"Financial Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[W.totalAmount,":"]})," ",l.totalAmount.toFixed(2)," MAD"]}),l.discount>0&&s.jsxs("div",{children:[s.jsxs("strong",{children:[e==="fr"?"Remise":"Discount",":"]})," ",l.discount,"%"]}),l.advancePayment>0&&s.jsxs("div",{children:[s.jsxs("strong",{children:[e==="fr"?"Avance":"Advance Payment",":"]})," ",l.advancePayment.toFixed(2)," MAD"]}),s.jsxs("div",{children:[s.jsxs("strong",{children:[W.amountDue,":"]})," ",l.amountDue.toFixed(2)," MAD"]})]})]})]}),l.doctor&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Médecin référent":"Referring Doctor"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsxs("strong",{children:[W.doctor,":"]})," ",`${l.doctor.firstName} ${l.doctor.lastName}`]}),s.jsxs("div",{children:[s.jsxs("strong",{children:[e==="fr"?"Spécialité":"Specialty",":"]})," ",l.doctor.specialty]})]})]}),l.notes&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:W.notes}),s.jsx("p",{className:"whitespace-pre-line",children:l.notes})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations système":"System Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"ID:"})," ",l.id]}),s.jsxs("div",{children:[s.jsxs("strong",{children:[W.createdAt,":"]})," ",new Date(l.createdAt).toLocaleString()]}),s.jsxs("div",{children:[s.jsxs("strong",{children:[W.updatedAt,":"]})," ",new Date(l.updatedAt).toLocaleString()]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-6",children:[s.jsxs("button",{onClick:()=>Ne(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(Ls,{size:16,className:"mr-2"}),W.viewResults]}),s.jsxs("button",{onClick:()=>je(l),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[s.jsx(As,{size:16,className:"mr-2"}),W.enterResults]}),s.jsxs("button",{onClick:()=>Le(l),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[s.jsx(Mo,{size:16,className:"mr-2"}),W.printReport]}),s.jsxs("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 flex items-center",children:[s.jsx(wt,{size:16,className:"mr-2"}),W.close]})]})]})})};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:W.title}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:ce,className:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center",children:[s.jsx(Fi,{size:16,className:"mr-2"}),W.refresh]}),s.jsxs("button",{onClick:Z,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[s.jsx(Si,{size:16,className:"mr-2"}),W.export]}),s.jsxs("button",{onClick:de,className:"bg-purple-600 text-white px-3 py-2 rounded-lg hover:bg-purple-700 flex items-center",children:[s.jsx(Mo,{size:16,className:"mr-2"}),W.print]}),s.jsxs("button",{onClick:()=>t("/new-request"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(kr,{size:16,className:"mr-2"}),W.newRequest]})]})]}),s.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(jr,{size:20,className:"absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:W.search,value:r,onChange:V=>n(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),s.jsxs("button",{onClick:()=>h(!u),className:`px-4 py-2 rounded-lg flex items-center ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[s.jsx(dd,{size:16,className:"mr-2"}),W.filter]})]}),u&&s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:W.status}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:C,onChange:V=>m(V.target.value),children:[s.jsx("option",{value:"ALL",children:W.allStatuses}),s.jsx("option",{value:"CREATED",children:W.created}),s.jsx("option",{value:"PENDING",children:W.pending}),s.jsx("option",{value:"PROCESSING",children:W.processing}),s.jsx("option",{value:"COMPLETED",children:W.completed}),s.jsx("option",{value:"CANCELLED",children:W.cancelled})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:W.priority}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:w,onChange:V=>B(V.target.value),children:[s.jsx("option",{value:"ALL",children:W.allPriorities}),s.jsx("option",{value:"NORMAL",children:W.normal}),s.jsx("option",{value:"URGENT",children:W.urgent}),s.jsx("option",{value:"EMERGENCY",children:W.emergency})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:W.date}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:D,onChange:V=>O(V.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:W.itemsPerPage}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:k,onChange:V=>Q(Number(V.target.value)),children:[s.jsx("option",{value:"5",children:"5"}),s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("id"),children:s.jsxs("div",{className:"flex items-center",children:[W.id,q==="id"&&s.jsx("span",{className:"ml-1",children:j==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:W.patient}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:W.tests}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("status"),children:s.jsxs("div",{className:"flex items-center",children:[W.status,q==="status"&&s.jsx("span",{className:"ml-1",children:j==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("priority"),children:s.jsxs("div",{className:"flex items-center",children:[W.priority,q==="priority"&&s.jsx("span",{className:"ml-1",children:j==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:W.paymentStatus}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:W.sampleType}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("createdAt"),children:s.jsxs("div",{className:"flex items-center",children:[W.date,q==="createdAt"&&s.jsx("span",{className:"ml-1",children:j==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:W.actions})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:b?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:e==="fr"?"Chargement...":"Loading..."})]})})}):te.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-8 text-center",children:s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:r||C!=="ALL"||w!=="ALL"||D?e==="fr"?"Aucune demande trouvée pour cette recherche.":"No requests found for this search.":e==="fr"?"Aucune demande enregistrée.":"No requests recorded."})})}):te.map(V=>{var Me,Qe,ke;return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:V.id}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[V.patient?`${V.patient.firstName} ${V.patient.lastName}`:"N/A",((Me=V.patient)==null?void 0:Me.cnssNumber)&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["CNSS: ",V.patient.cnssNumber]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[s.jsx("div",{className:"max-w-xs truncate",children:((Qe=V.requestAnalyses)==null?void 0:Qe.map(Fe=>Fe.analysis.name).join(", "))||"N/A"}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[((ke=V.requestAnalyses)==null?void 0:ke.length)||0," ","test(s)"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ae(V.status)}`,children:V.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${he(V.priority)}`,children:V.priority})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(V)}`,children:P(V)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[V.sampleType,V.tubeType&&s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:["(",V.tubeType,")"]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[s.jsx("div",{children:new Date(V.createdAt).toLocaleDateString()}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(V.createdAt).toLocaleTimeString()})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>J(V),className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:e==="fr"?"Voir détails":"View details",children:s.jsx(Ls,{size:16})}),s.jsx("button",{onClick:()=>Y(V),className:"text-green-600 hover:text-green-900 dark:hover:text-green-400",title:e==="fr"?"Modifier":"Edit",children:s.jsx(DA,{size:16})}),s.jsx("button",{onClick:()=>Ne(V),className:"text-purple-600 hover:text-purple-900 dark:hover:text-purple-400",title:e==="fr"?"Voir résultats":"View results",children:s.jsx(As,{size:16})}),s.jsx("button",{onClick:()=>Le(V),className:"text-indigo-600 hover:text-indigo-900 dark:hover:text-indigo-400",title:e==="fr"?"Imprimer rapport":"Print report",children:s.jsx(Mo,{size:16})}),s.jsx("button",{onClick:()=>ne(V),className:"text-red-600 hover:text-red-900 dark:hover:text-red-400",title:e==="fr"?"Supprimer":"Delete",children:s.jsx(TA,{size:16})})]})})]},V.id)})})]})})}),te.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[W.page," ",R," ",W.of," ",z]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>E(V=>Math.max(V-1,1)),disabled:R===1,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md disabled:opacity-50",children:W.previous}),s.jsx("button",{onClick:()=>E(V=>Math.min(V+1,z)),disabled:R===z,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md disabled:opacity-50",children:W.next})]})]}),a&&s.jsx(Xe,{}),i&&s.jsx(ye,{})]})}function Gj(){const{language:e}=Nt(),[t,r]=_.useState({nom:"",prenom:"",dateNaissance:"",numeroCNSS:"",sexe:"M"}),[n,a]=_.useState([{code:"4005",nom:"Hémogramme (CBC)",selected:!1,category:"Hématologie"},{code:"4010",nom:"Glycémie (Blood Sugar)",selected:!1,category:"Biochimie"},{code:"4015",nom:"Cholestérol Total",selected:!1,category:"Lipides"},{code:"4020",nom:"HDL Cholestérol",selected:!1,category:"Lipides"},{code:"4025",nom:"LDL Cholestérol",selected:!1,category:"Lipides"},{code:"4030",nom:"Triglycérides",selected:!1,category:"Lipides"},{code:"4035",nom:"Créatininémie",selected:!1,category:"Biochimie"},{code:"4040",nom:"Urée",selected:!1,category:"Biochimie"},{code:"4045",nom:"Bilan hépatique",selected:!1,category:"Biochimie"},{code:"4050",nom:"TSH",selected:!1,category:"Hormonologie"},{code:"4055",nom:"T4 Libre",selected:!1,category:"Hormonologie"},{code:"4060",nom:"T3 Libre",selected:!1,category:"Hormonologie"},{code:"4070",nom:"Groupe Sanguin",selected:!1,category:"Immunologie"},{code:"4075",nom:"CRP",selected:!1,category:"Inflammation"},{code:"4080",nom:"VS",selected:!1,category:"Inflammation"}]),[A,i]=_.useState(""),[o,l]=_.useState(null),[c,u]=_.useState(""),[h,x]=_.useState(""),[f,b]=_.useState(""),[p,C]=_.useState(!1),[m,w]=_.useState(!1),[B,D]=_.useState(""),[O,q]=_.useState("success"),[F,j]=_.useState(!1),[I,R]=_.useState(!1),[E,k]=_.useState(0),[Q,K]=_.useState(0),[ie,W]=_.useState({subtotal:0,tvaTotal:0,totalBeforeDiscount:0,discount:0,discountAmount:0,totalAfterDiscount:0,advancePayment:0,amountDue:0}),ee=[{id:"1",nom:"Boulahcen",prenom:"Hicham",specialite:"Médecine générale"},{id:"2",nom:"Bensaïd",prenom:"Youssef",specialite:"Cardiologie"},{id:"3",nom:"Alaoui",prenom:"Fatima",specialite:"Endocrinologie"},{id:"4",nom:"Tazi",prenom:"Mohamed",specialite:"Médecine générale"},{id:"5",nom:"El Amrani",prenom:"Karim",specialite:"Dermatologie"}],z={fr:{title:"Nouvelle Demande d'Analyse",subtitle:"Interface Réceptionniste",patientInfo:"Informations Patient",nom:"Nom",prenom:"Prénom",dateNaissance:"Date de naissance",numeroCNSS:"Numéro CNSS",sexe:"Sexe",analyses:"Analyses Prescrites",addAnalysis:"Ajouter des analyses",searchAnalyses:"Rechercher des analyses...",selectedAnalyses:"Analyses sélectionnées",doctor:"Médecin Référent",searchDoctor:"Rechercher un médecin...",appointment:"Prélèvement",date:"Date",time:"Heure",urgent:"Demande Urgente",pricing:"Tarification",subtotal:"Sous-total HT",tva:"TVA",totalBeforeDiscount:"Total TTC",discount:"Remise (%)",discountAmount:"Montant remise",totalAfterDiscount:"Total après remise",advancePayment:"Acompte",amountDue:"Montant dû",submit:"Soumettre la Demande",clear:"Effacer le Formulaire",success:"Demande enregistrée avec succès",error:"Erreur lors de l'enregistrement",selectDoctor:"Sélectionner un médecin",noAnalysesSelected:"Aucune analyse sélectionnée",validationError:"Veuillez remplir tous les champs obligatoires",printLabels:"Imprimer Étiquettes",printReceipt:"Imprimer Reçu"},en:{title:"New Analysis Request",subtitle:"Receptionist Interface",patientInfo:"Patient Information",nom:"Last Name",prenom:"First Name",dateNaissance:"Date of Birth",numeroCNSS:"CNSS Number",sexe:"Gender",analyses:"Prescribed Analyses",addAnalysis:"Add Analyses",searchAnalyses:"Search analyses...",selectedAnalyses:"Selected Analyses",doctor:"Referring Doctor",searchDoctor:"Search for a doctor...",appointment:"Sample Collection",date:"Date",time:"Time",urgent:"Urgent Request",pricing:"Pricing",subtotal:"Subtotal (excl. tax)",tva:"VAT",totalBeforeDiscount:"Total (incl. tax)",discount:"Discount (%)",discountAmount:"Discount amount",totalAfterDiscount:"Total after discount",advancePayment:"Advance payment",amountDue:"Amount due",submit:"Submit Request",clear:"Clear Form",success:"Request saved successfully",error:"Error saving request",selectDoctor:"Select a doctor",noAnalysesSelected:"No analyses selected",validationError:"Please fill in all required fields",printLabels:"Print Labels",printReceipt:"Print Receipt"}}[e],te=n.filter(Z=>Z.nom.toLowerCase().includes(A.toLowerCase())||Z.code.includes(A)),Ae=ee.filter(Z=>`${Z.prenom} ${Z.nom}`.toLowerCase().includes(c.toLowerCase())||Z.specialite.toLowerCase().includes(c.toLowerCase())),he=n.filter(Z=>Z.selected);_.useEffect(()=>{const Z=_o.calculateRequestTotal(he,E,Q);W(Z)},[he,E,Q]);const S=Z=>{a(de=>de.map(Ne=>Ne.code===Z?{...Ne,selected:!Ne.selected}:Ne))},P=Z=>{a(de=>de.map(Ne=>Ne.code===Z?{...Ne,selected:!1}:Ne))},J=(Z,de="success")=>{D(Z),q(de),w(!0),setTimeout(()=>w(!1),5e3)},Y=()=>!t.nom||!t.prenom||!t.dateNaissance||!t.numeroCNSS?(J(z.validationError,"error"),!1):he.length===0?(J(z.noAnalysesSelected,"error"),!1):o?!h||!f?(J("Veuillez sélectionner une date et heure de prélèvement","error"),!1):!0:(J(z.selectDoctor,"error"),!1),ne=async Z=>{if(Z.preventDefault(),!!Y()){j(!0);try{const de={patient:{nom:t.nom,prenom:t.prenom,dateNaissance:t.dateNaissance,numeroCNSS:t.numeroCNSS,sexe:t.sexe},analyses:he.map(je=>({code:je.code,nom:je.nom})),doctor:o,appointment:{date:h,time:f},urgent:p,pricing:ie,timestamp:new Date().toISOString()},Ne=await Mj.saveRequest(de);Ne.success?(J(z.success,"success"),setTimeout(()=>{K1.printLabels(Ne.data),setTimeout(()=>{K1.printReceipt(Ne.data,{...ie,prices:_o.getPrices()})},1e3)},500),ce()):J(z.error,"error")}catch(de){console.error("Submit error:",de),J("Erreur de connexion. Les données ont été sauvegardées localement.","error"),ce()}finally{j(!1)}}},ce=()=>{r({nom:"",prenom:"",dateNaissance:"",numeroCNSS:"",sexe:"M"}),a(Z=>Z.map(de=>({...de,selected:!1}))),l(null),u(""),x(""),b(""),C(!1),i(""),k(0),K(0)};return _.useEffect(()=>{const Z=new Date;Z.setDate(Z.getDate()+1);const de=Z.toISOString().split("T")[0];x(de)},[]),s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:z.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:z.subtitle})]}),s.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(dn,{className:"h-6 w-6 text-blue-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:z.patientInfo})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[z.nom," *"]}),s.jsx("input",{type:"text",required:!0,value:t.nom,onChange:Z=>r(de=>({...de,nom:Z.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"El Amrani"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[z.prenom," *"]}),s.jsx("input",{type:"text",required:!0,value:t.prenom,onChange:Z=>r(de=>({...de,prenom:Z.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Soukaina"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[z.dateNaissance," *"]}),s.jsx("input",{type:"date",required:!0,value:t.dateNaissance,onChange:Z=>r(de=>({...de,dateNaissance:Z.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[z.numeroCNSS," *"]}),s.jsx("input",{type:"text",required:!0,value:t.numeroCNSS,onChange:Z=>r(de=>({...de,numeroCNSS:Z.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"J123456789"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:z.sexe}),s.jsxs("select",{value:t.sexe,onChange:Z=>r(de=>({...de,sexe:Z.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"M",children:"Masculin"}),s.jsx("option",{value:"F",children:"Féminin"})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:z.analyses}),s.jsxs("button",{type:"button",onClick:()=>R(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(kr,{size:16,className:"mr-2"}),z.addAnalysis]})]}),he.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:z.selectedAnalyses}),s.jsx("div",{className:"flex flex-wrap gap-2",children:he.map(Z=>s.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full flex items-center",children:[s.jsx("span",{className:"text-sm",children:Z.nom}),s.jsx("button",{type:"button",onClick:()=>P(Z.code),className:"ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:s.jsx(wt,{size:14})})]},Z.code))})]}):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:z.noAnalysesSelected})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:z.doctor}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:c,onChange:Z=>u(Z.target.value),placeholder:z.searchDoctor,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Ae.map(Z=>s.jsxs("button",{type:"button",onClick:()=>{l(Z),u("")},className:`w-full text-left p-3 rounded-lg border transition-colors ${(o==null?void 0:o.id)===Z.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:["Dr. ",Z.prenom," ",Z.nom]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:Z.specialite})]},Z.id))}),o&&s.jsxs("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[s.jsxs("div",{className:"font-medium text-green-800 dark:text-green-200",children:["Médecin sélectionné: Dr. ",o.prenom," ",o.nom]}),s.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:o.specialite})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Sa,{className:"h-6 w-6 text-green-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:z.appointment})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[z.date," *"]}),s.jsx("input",{type:"date",required:!0,value:h,onChange:Z=>x(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[z.time," *"]}),s.jsx("input",{type:"time",required:!0,value:f,onChange:Z=>b(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:p,onChange:Z=>C(Z.target.checked),className:"form-checkbox h-5 w-5 text-red-600 focus:ring-red-500"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Es,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:z.urgent})]})]})})]}),he.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Us,{className:"h-6 w-6 text-green-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:z.pricing})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[z.subtotal,":"]}),s.jsxs("span",{className:"font-medium",children:[ie.subtotal.toFixed(2)," dh"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[z.tva,":"]}),s.jsxs("span",{className:"font-medium",children:[ie.tvaTotal.toFixed(2)," dh"]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsxs("span",{className:"font-medium",children:[z.totalBeforeDiscount,":"]}),s.jsxs("span",{className:"font-bold text-lg",children:[ie.totalBeforeDiscount.toFixed(2)," dh"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:z.discount}),s.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:E,onChange:Z=>k(parseFloat(Z.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:z.advancePayment}),s.jsx("input",{type:"number",min:"0",step:"0.01",value:Q,onChange:Z=>K(parseFloat(Z.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),E>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[z.discountAmount,":"]}),s.jsxs("span",{className:"text-red-600",children:["-",ie.discountAmount.toFixed(2)," dh"]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsxs("span",{className:"font-bold text-lg",children:[z.amountDue,":"]}),s.jsxs("span",{className:"font-bold text-lg text-green-600",children:[ie.amountDue.toFixed(2)," dh"]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:ce,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:z.clear}),s.jsxs("button",{type:"submit",disabled:F,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center transition-colors",children:[F?s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):s.jsx(Qs,{size:20,className:"mr-2"}),z.submit]})]})]}),I&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:z.analyses}),s.jsx("button",{onClick:()=>R(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:s.jsx(wt,{size:24})})]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:A,onChange:Z=>i(Z.target.value),placeholder:z.searchAnalyses,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:te.map(Z=>s.jsxs("label",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Z.selected,onChange:()=>S(Z.code),className:"form-checkbox h-5 w-5 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Z.nom}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Code: ",Z.code," • ",Z.category]})]})]},Z.code))}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("button",{onClick:()=>R(!1),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Fermer"})})]})}),m&&s.jsxs("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg flex items-center z-50 ${O==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[O==="success"?s.jsx(Qs,{size:20,className:"mr-2"}):s.jsx(Es,{size:20,className:"mr-2"}),B,s.jsx("button",{onClick:()=>w(!1),className:"ml-4",children:s.jsx(wt,{size:16})})]})]})}const Wj="modulepreload",Jj=function(e){return"/"+e},q1={},Ai=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(A=>{if(A=Jj(A),A in q1)return;q1[A]=!0;const i=A.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(!!n)for(let u=a.length-1;u>=0;u--){const h=a[u];if(h.href===A&&(!i||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${A}"]${o}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":Wj,i||(c.as="script",c.crossOrigin=""),c.href=A,document.head.appendChild(c),i)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${A}`)))})})).then(()=>t()).catch(A=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=A,window.dispatchEvent(i),!i.defaultPrevented)throw A})};function Xj({data:e,updateData:t,language:r}){const n={title:r==="fr"?"Informations du Patient":"Patient Information",subtitle:r==="fr"?"Saisissez les informations personnelles du patient":"Enter the patient's personal information",firstName:r==="fr"?"Prénom":"First Name",lastName:r==="fr"?"Nom":"Last Name",dateOfBirth:r==="fr"?"Date de naissance":"Date of Birth",gender:r==="fr"?"Genre":"Gender",male:r==="fr"?"Masculin":"Male",female:r==="fr"?"Féminin":"Female",phone:r==="fr"?"Téléphone":"Phone",email:"Email",cnssNumber:r==="fr"?"Numéro CNSS":"CNSS Number",address:r==="fr"?"Adresse":"Address",required:r==="fr"?"Ce champ est requis":"This field is required",invalidEmail:r==="fr"?"Email invalide":"Invalid email",invalidPhone:r==="fr"?"Numéro de téléphone invalide":"Invalid phone number"},a=(A,i)=>{t(A,i)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n.subtitle})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.firstName," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:e.firstName,onChange:A=>a("firstName",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:n.firstName,required:!0}),s.jsx(dn,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.lastName," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:e.lastName,onChange:A=>a("lastName",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:n.lastName,required:!0}),s.jsx(dn,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.dateOfBirth," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:e.dateOfBirth,onChange:A=>a("dateOfBirth",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),s.jsx(Sa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.gender}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"gender",value:"M",checked:e.gender==="M",onChange:A=>a("gender",A.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),n.male]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"gender",value:"F",checked:e.gender==="F",onChange:A=>a("gender",A.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),n.female]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.phone," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"tel",value:e.phone,onChange:A=>a("phone",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+212-6-12-345678",required:!0}),s.jsx(Fx,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.email}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"email",value:e.email,onChange:A=>a("email",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"patient@email.com"}),s.jsx(Sx,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.cnssNumber}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:e.cnssNumber,onChange:A=>a("cnssNumber",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"CNSS-123456"}),s.jsx(vj,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.address}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:e.address,onChange:A=>a("address",A.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123 Rue Example, Ville, Code Postal"}),s.jsx(Bi,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]})]})}function $j({data:e,prescription:t,updateData:r,updatePrescription:n,language:a}){const[A,i]=_.useState([]),[o,l]=_.useState(""),[c,u]=_.useState(""),[h,x]=_.useState(!1),[f,b]=_.useState(!1),[p,C]=_.useState([]),m={title:a==="fr"?"Sélection des Analyses":"Analysis Selection",subtitle:a==="fr"?"Sélectionnez les analyses à effectuer et téléchargez l'ordonnance":"Select the analyses to perform and upload the prescription",searchAnalyses:a==="fr"?"Rechercher des analyses...":"Search analyses...",category:a==="fr"?"Catégorie":"Category",allCategories:a==="fr"?"Toutes les catégories":"All Categories",selectedAnalyses:a==="fr"?"Analyses sélectionnées":"Selected Analyses",noAnalysesSelected:a==="fr"?"Aucune analyse sélectionnée":"No analyses selected",prescription:a==="fr"?"Ordonnance":"Prescription",uploadPrescription:a==="fr"?"Télécharger l'ordonnance":"Upload Prescription",dragDropText:a==="fr"?"Glissez-déposez un fichier ici ou cliquez pour sélectionner":"Drag and drop a file here or click to select",supportedFormats:a==="fr"?"Formats supportés: PDF, JPG, PNG":"Supported formats: PDF, JPG, PNG",remove:a==="fr"?"Supprimer":"Remove",addAnalysis:a==="fr"?"Ajouter des analyses":"Add Analyses",selectAll:a==="fr"?"Tout sélectionner":"Select All",deselectAll:a==="fr"?"Tout désélectionner":"Deselect All",addSelected:a==="fr"?"Ajouter sélectionnés":"Add Selected",selectedCount:a==="fr"?"sélectionnés":"selected",code:"Code",name:a==="fr"?"Nom":"Name",price:a==="fr"?"Prix":"Price",tva:a==="fr"?"TVA":"VAT",total:"Total",noAnalysesFound:a==="fr"?"Aucune analyse trouvée":"No analyses found",loading:a==="fr"?"Chargement...":"Loading..."};_.useEffect(()=>{w()},[]);const w=async()=>{x(!0);try{const Q=await zp.getAnalyses(),K=Q.analyses||Q||[];i(K)}catch(Q){console.error("Error loading analyses:",Q),i([])}finally{x(!1)}},B=Q=>{const K=Q.filter(ie=>!e.find(W=>W.id===ie.id));K.length>0&&r([...e,...K])},D=Q=>{r(e.filter(K=>K.id!==Q))},O=Q=>{var ie;const K=(ie=Q.target.files)==null?void 0:ie[0];K&&n(K)},q=Q=>{Q.preventDefault();const K=Q.dataTransfer.files[0];K&&n(K)},F=Q=>{Q.preventDefault()},j=A.filter(Q=>{const K=Q.name.toLowerCase().includes(o.toLowerCase())||Q.code.toLowerCase().includes(o.toLowerCase()),ie=!c||Q.category===c;return K&&ie}),I=[...new Set(A.map(Q=>Q.category))],R=e.reduce((Q,K)=>Q+K.price,0),E=e.reduce((Q,K)=>Q+K.price*K.tva/100,0),k=R+E;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:m.subtitle})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:m.selectedAnalyses}),s.jsxs("button",{onClick:()=>b(!0),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[s.jsx(kr,{size:16,className:"mr-1"}),m.addAnalysis]})]}),e.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:m.noAnalysesSelected}):s.jsx("div",{className:"space-y-3",children:e.map(Q=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Q.name}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Q.code," • ",Q.category]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[Q.price," dh"]}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",Q.tva,"%"]})]}),s.jsx("button",{onClick:()=>D(Q.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(wt,{size:16})})]})]},Q.id))}),e.length>0&&s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[m.total,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[k.toFixed(2)," dh"]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:m.prescription}),s.jsx("div",{onDrop:q,onDragOver:F,className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors",children:t?s.jsxs("div",{className:"space-y-2",children:[s.jsx(As,{size:32,className:"mx-auto text-green-600 dark:text-green-400"}),s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(t.size/1024/1024).toFixed(2)," MB"]}),s.jsx("button",{onClick:()=>n(void 0),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm",children:m.remove})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(O1,{size:32,className:"mx-auto text-gray-400"}),s.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:m.dragDropText}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.supportedFormats}),s.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[s.jsx(O1,{size:16,className:"mr-2"}),m.uploadPrescription,s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:O,className:"hidden"})]})]})})]})]}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.addAnalysis}),s.jsx("button",{onClick:()=>{b(!1),C([])},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:20})})]}),s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx("input",{type:"text",placeholder:m.searchAnalyses,value:o,onChange:Q=>l(Q.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsxs("select",{value:c,onChange:Q=>u(Q.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:m.allCategories}),I.map(Q=>s.jsx("option",{value:Q,children:Q},Q))]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{const Q=j.filter(K=>!e.find(ie=>ie.id===K.id));C(Q)},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:m.selectAll}),s.jsx("button",{onClick:()=>C([]),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:m.deselectAll})]}),p.length>0&&s.jsxs("button",{onClick:()=>{B(p),C([]),b(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[s.jsx(kr,{size:16,className:"mr-2"}),m.addSelected," (",p.length,")"]})]})]})]}),s.jsx("div",{className:"p-6",children:h?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:m.loading})]}):s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:j.length===0?s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:m.noAnalysesFound}):j.map(Q=>{const K=e.find(W=>W.id===Q.id),ie=p.find(W=>W.id===Q.id);return s.jsx("div",{className:`w-full text-left p-3 border rounded-lg cursor-pointer transition-colors ${K?"border-gray-300 bg-gray-100 dark:bg-gray-700 opacity-50 cursor-not-allowed":ie?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>{K||C(ie?p.filter(W=>W.id!==Q.id):[...p,Q])},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[!K&&s.jsx("input",{type:"checkbox",checked:!!ie,onChange:()=>{},className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Q.name}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Q.code," • ",Q.category]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[Q.price," dh"]}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",Q.tva,"%"]})]})]})},Q.id)})})})]})})]})}function Yj({data:e,updateData:t,language:r}){const[n,a]=_.useState([]),[A,i]=_.useState(""),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[h,x]=_.useState(!1);_.useState(!1);const f={title:r==="fr"?"Référence du Médecin":"Doctor Reference",subtitle:r==="fr"?"Sélectionnez le médecin prescripteur ou ajoutez un nouveau":"Select the prescribing doctor or add a new one",searchDoctor:r==="fr"?"Rechercher un médecin...":"Search for a doctor...",selectDoctor:r==="fr"?"Sélectionner un médecin":"Select a doctor",addNewDoctor:r==="fr"?"Ajouter un nouveau médecin":"Add new doctor",firstName:r==="fr"?"Prénom":"First Name",lastName:r==="fr"?"Nom":"Last Name",email:"Email",phone:r==="fr"?"Téléphone":"Phone",specialty:r==="fr"?"Spécialité":"Specialty",orderNumber:r==="fr"?"Numéro d'ordre":"Order Number",selectedDoctor:r==="fr"?"Médecin sélectionné":"Selected Doctor",noDoctorSelected:r==="fr"?"Aucun médecin sélectionné":"No doctor selected",required:r==="fr"?"Ce champ est requis":"This field is required",noDoctorsFound:r==="fr"?"Aucun médecin trouvé":"No doctors found",loading:r==="fr"?"Chargement...":"Loading...",specialties:{cardiology:r==="fr"?"Cardiologie":"Cardiology",endocrinology:r==="fr"?"Endocrinologie":"Endocrinology",gastroenterology:r==="fr"?"Gastro-entérologie":"Gastroenterology",dermatology:r==="fr"?"Dermatologie":"Dermatology",neurology:r==="fr"?"Neurologie":"Neurology",oncology:r==="fr"?"Oncologie":"Oncology",pediatrics:r==="fr"?"Pédiatrie":"Pediatrics",psychiatry:r==="fr"?"Psychiatrie":"Psychiatry",radiology:r==="fr"?"Radiologie":"Radiology",surgery:r==="fr"?"Chirurgie":"Surgery",other:r==="fr"?"Autre":"Other"}};_.useEffect(()=>{console.log("Step3DoctorRef mounted, loading doctors..."),b()},[]);const b=async()=>{l(!0);try{const B=await Oj.getDoctors();console.log("Doctors API response:",B);const D=B.doctors||B||[];console.log("Processed doctors:",D),a(D)}catch(B){console.error("Error loading doctors:",B),a([])}finally{l(!1)}},p=B=>{t("id",B.id),t("firstName",B.firstName||""),t("lastName",B.lastName||""),t("email",B.email||""),t("phone",B.phone||""),t("specialty",B.specialty||""),t("orderNumber",B.orderNumber||""),u(!1),x(!1)},C=()=>{t("id",""),t("firstName",""),t("lastName",""),t("email",""),t("phone",""),t("specialty",""),t("orderNumber",""),x(!0)},m=n.filter(B=>{const D=B.firstName||"",O=B.lastName||"",q=B.specialty||"";return D.toLowerCase().includes(A.toLowerCase())||O.toLowerCase().includes(A.toLowerCase())||q.toLowerCase().includes(A.toLowerCase())});console.log("Available doctors:",n),console.log("Filtered doctors:",m),console.log("Search term:",A);const w=(B,D)=>{t(B,D)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:f.subtitle})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:f.selectedDoctor}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{console.log("Opening doctor modal, available doctors:",n),u(!0)},className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[s.jsx(jr,{size:16,className:"mr-1"}),f.selectDoctor]}),s.jsxs("button",{onClick:C,className:"flex items-center px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:[s.jsx(kr,{size:16,className:"mr-1"}),f.addNewDoctor]})]})]}),s.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Debug: availableDoctors=",n.length,", loading=",o.toString(),", modal=",c.toString()]}),!e.id&&!h?s.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:f.noDoctorSelected}):s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ed,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]})]}),e.id&&s.jsx("button",{onClick:C,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(wt,{size:16})})]}),e.specialty&&s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.specialty}),e.email&&s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.email}),e.phone&&s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.phone})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:h?f.addNewDoctor:f.selectDoctor}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.firstName," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:e.firstName,onChange:B=>w("firstName",B.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:f.firstName}),s.jsx(dn,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.lastName," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:e.lastName,onChange:B=>w("lastName",B.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:f.lastName}),s.jsx(dn,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.email}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"email",value:e.email,onChange:B=>w("email",B.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"doctor@email.com"}),s.jsx(Sx,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.phone}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"tel",value:e.phone,onChange:B=>w("phone",B.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+212-6-12-345678"}),s.jsx(Fx,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.specialty}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:e.specialty,onChange:B=>w("specialty",B.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:f.selectDoctor}),Object.entries(f.specialties).map(([B,D])=>s.jsx("option",{value:D,children:D},B))]}),s.jsx(ui,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.orderNumber}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:e.orderNumber,onChange:B=>w("orderNumber",B.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ORD-001"}),s.jsx(ui,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:f.selectDoctor}),s.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:20})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("input",{type:"text",placeholder:f.searchDoctor,value:A,onChange:B=>i(B.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),s.jsx("div",{className:"p-6",children:o?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:f.loading})]}):s.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["Total doctors: ",n.length,", Filtered: ",m.length]}),m.length===0?s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:f.noDoctorsFound}):m.map(B=>s.jsx("button",{onClick:()=>p(B),className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[B.firstName," ",B.lastName]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:B.specialty}),B.email&&s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:B.email})]}),s.jsx(ed,{size:20,className:"text-blue-600 dark:text-blue-400"})]})},B.id))]})})]})})]})}function Zj({data:e,updateData:t,language:r}){const n={title:r==="fr"?"Rendez-vous":"Appointment",subtitle:r==="fr"?"Planifiez le rendez-vous pour la collecte d'échantillons":"Schedule the appointment for sample collection",date:"Date",time:r==="fr"?"Heure":"Time",location:r==="fr"?"Lieu":"Location",urgency:r==="fr"?"Urgence":"Urgency",sampleType:r==="fr"?"Type d'échantillon":"Sample Type",tubeType:r==="fr"?"Type de tube":"Tube Type",notes:"Notes",normal:"Normal",urgent:"Urgent",emergency:r==="fr"?"Urgence":"Emergency",required:r==="fr"?"Ce champ est requis":"This field is required",selectDate:r==="fr"?"Sélectionner une date":"Select a date",selectTime:r==="fr"?"Sélectionner une heure":"Select a time",enterLocation:r==="fr"?"Entrer le lieu":"Enter location",addNotes:r==="fr"?"Ajouter des notes":"Add notes",urgencyLevels:{normal:r==="fr"?"Résultats dans 24-48h":"Results in 24-48h",urgent:r==="fr"?"Résultats dans 2-4h":"Results in 2-4h",emergency:r==="fr"?"Résultats immédiats":"Immediate results"}},a=(o,l)=>{t(o,l)},A=o=>{switch(o){case"NORMAL":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"URGENT":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EMERGENCY":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},i=o=>{switch(o){case"NORMAL":return s.jsx(Sa,{size:16});case"URGENT":return s.jsx(ta,{size:16});case"EMERGENCY":return s.jsx(Es,{size:16});default:return s.jsx(Sa,{size:16})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n.subtitle})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.date," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:e.date,onChange:o=>a("date",o.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),s.jsx(Sa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.time," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"time",value:e.time,onChange:o=>a("time",o.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),s.jsx(ta,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.location}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:e.location,onChange:o=>a("location",o.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Laboratoire principal"}),s.jsx(Bi,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.urgency}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"urgency",value:"NORMAL",checked:e.urgency==="NORMAL",onChange:o=>a("urgency",o.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:n.normal}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${A("NORMAL")}`,children:i("NORMAL")})]})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"urgency",value:"URGENT",checked:e.urgency==="URGENT",onChange:o=>a("urgency",o.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:n.urgent}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${A("URGENT")}`,children:i("URGENT")})]})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"urgency",value:"EMERGENCY",checked:e.urgency==="EMERGENCY",onChange:o=>a("urgency",o.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:n.emergency}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${A("EMERGENCY")}`,children:i("EMERGENCY")})]})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[n.sampleType," *"]}),s.jsxs("select",{value:e.sampleType,onChange:o=>a("sampleType",o.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"BLOOD",children:r==="fr"?"Sang":"Blood"}),s.jsx("option",{value:"URINE",children:"Urine"}),s.jsx("option",{value:"SALIVA",children:r==="fr"?"Salive":"Saliva"}),s.jsx("option",{value:"STOOL",children:r==="fr"?"Selles":"Stool"}),s.jsx("option",{value:"SPUTUM",children:r==="fr"?"Expectoration":"Sputum"}),s.jsx("option",{value:"CEREBROSPINAL_FLUID",children:r==="fr"?"Liquide céphalo-rachidien":"Cerebrospinal Fluid"}),s.jsx("option",{value:"SYNOVIAL_FLUID",children:r==="fr"?"Liquide synovial":"Synovial Fluid"}),s.jsx("option",{value:"PLEURAL_FLUID",children:r==="fr"?"Liquide pleural":"Pleural Fluid"}),s.jsx("option",{value:"PERITONEAL_FLUID",children:r==="fr"?"Liquide péritonéal":"Peritoneal Fluid"}),s.jsx("option",{value:"OTHER",children:r==="fr"?"Autre":"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.tubeType}),s.jsxs("select",{value:e.tubeType||"",onChange:o=>a("tubeType",o.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:r==="fr"?"Sélectionner un type de tube":"Select tube type"}),s.jsx("option",{value:"EDTA",children:"EDTA"}),s.jsx("option",{value:"CITRATE",children:"Citrate"}),s.jsx("option",{value:"HEPARIN",children:"Héparine"}),s.jsx("option",{value:"SERUM",children:"Sérum"}),s.jsx("option",{value:"PLAIN",children:"Tube sec"}),s.jsx("option",{value:"FLUORIDE",children:"Fluorure"}),s.jsx("option",{value:"OTHER",children:r==="fr"?"Autre":"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.notes}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:e.notes,onChange:o=>a("notes",o.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Instructions spéciales, allergies, etc."}),s.jsx(As,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Es,{size:20,className:"text-blue-600 dark:text-blue-400 mr-3 mt-0.5"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:[n.urgency," - ",n.urgencyLevels[e.urgency.toLowerCase()]]}),s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.urgency==="NORMAL"&&(r==="fr"?"Les résultats seront disponibles dans les 24-48 heures suivant la collecte.":"Results will be available within 24-48 hours after collection."),e.urgency==="URGENT"&&(r==="fr"?"Les résultats seront disponibles dans les 2-4 heures suivant la collecte.":"Results will be available within 2-4 hours after collection."),e.urgency==="EMERGENCY"&&(r==="fr"?"Les résultats seront disponibles immédiatement après la collecte.":"Results will be available immediately after collection.")]})]})]})})]})}function e3({data:e,analyses:t,updateData:r,language:n}){const a={title:n==="fr"?"Facturation":"Billing",subtitle:n==="fr"?"Informations de paiement et d'assurance":"Payment and insurance information",payer:n==="fr"?"Payeur":"Payer",patient:"Patient",insurance:n==="fr"?"Assurance":"Insurance",company:n==="fr"?"Entreprise":"Company",insuranceCompany:n==="fr"?"Compagnie d'assurance":"Insurance Company",insuranceNumber:n==="fr"?"Numéro d'assurance":"Insurance Number",discount:n==="fr"?"Remise (%)":"Discount (%)",advancePayment:n==="fr"?"Acompte":"Advance Payment",notes:"Notes",summary:n==="fr"?"Résumé de facturation":"Billing Summary",subtotal:n==="fr"?"Sous-total":"Subtotal",tva:n==="fr"?"TVA":"VAT",totalBeforeDiscount:n==="fr"?"Total avant remise":"Total before discount",discountAmount:n==="fr"?"Montant de la remise":"Discount amount",totalAfterDiscount:n==="fr"?"Total après remise":"Total after discount",amountDue:n==="fr"?"Montant dû":"Amount due",required:n==="fr"?"Ce champ est requis":"This field is required",invalidDiscount:n==="fr"?"La remise doit être entre 0 et 100":"Discount must be between 0 and 100",invalidAdvance:n==="fr"?"L'acompte ne peut pas dépasser le total":"Advance payment cannot exceed total"},A=(x,f)=>{r(x,f)},i=t.reduce((x,f)=>x+f.price,0),o=t.reduce((x,f)=>x+f.price*f.tva/100,0),l=i+o,c=l*(e.discount/100),u=l-c,h=u-e.advancePayment;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a.subtitle})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a.payer}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"payer",value:"PATIENT",checked:e.payer==="PATIENT",onChange:x=>A("payer",x.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx($0,{size:16,className:"mr-2 text-gray-400"}),a.patient]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"payer",value:"INSURANCE",checked:e.payer==="INSURANCE",onChange:x=>A("payer",x.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx(ui,{size:16,className:"mr-2 text-gray-400"}),a.insurance]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"payer",value:"COMPANY",checked:e.payer==="COMPANY",onChange:x=>A("payer",x.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx(ui,{size:16,className:"mr-2 text-gray-400"}),a.company]})]})]}),e.payer==="INSURANCE"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a.insuranceCompany}),s.jsx("input",{type:"text",value:e.insuranceCompany,onChange:x=>A("insuranceCompany",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nom de la compagnie d'assurance"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a.insuranceNumber}),s.jsx("input",{type:"text",value:e.insuranceNumber,onChange:x=>A("insuranceNumber",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Numéro de police"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a.discount}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:e.discount,onChange:x=>A("discount",parseFloat(x.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"}),s.jsx(kj,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a.advancePayment}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"0",step:"0.01",value:e.advancePayment,onChange:x=>A("advancePayment",parseFloat(x.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"}),s.jsx(Us,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a.notes}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:e.notes,onChange:x=>A("notes",x.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notes de facturation..."}),s.jsx(As,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.summary}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.subtotal,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[i.toFixed(2)," dh"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.tva,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[o.toFixed(2)," dh"]})]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.totalBeforeDiscount,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[l.toFixed(2)," dh"]})]})}),e.discount>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.discountAmount,":"]}),s.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:["-",c.toFixed(2)," dh"]})]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.totalAfterDiscount,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[u.toFixed(2)," dh"]})]})})]}),e.advancePayment>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.advancePayment,":"]}),s.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["-",e.advancePayment.toFixed(2)," dh"]})]}),s.jsx("div",{className:"border-t-2 border-gray-300 dark:border-gray-500 pt-2",children:s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsxs("span",{className:"text-gray-900 dark:text-white",children:[a.amountDue,":"]}),s.jsxs("span",{className:`${h>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[h.toFixed(2)," dh"]})]})})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($0,{size:20,className:"text-blue-600 dark:text-blue-400 mr-3"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:[e.payer==="PATIENT"&&a.patient,e.payer==="INSURANCE"&&a.insurance,e.payer==="COMPANY"&&a.company]}),s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.payer==="PATIENT"&&(n==="fr"?"Le patient paiera directement":"Patient will pay directly"),e.payer==="INSURANCE"&&(n==="fr"?"Paiement par assurance":"Payment by insurance"),e.payer==="COMPANY"&&(n==="fr"?"Paiement par entreprise":"Payment by company")]})]})]})})]})]})]})}function t3({data:e,language:t}){const r={title:t==="fr"?"Révision et Soumission":"Review and Submit",subtitle:t==="fr"?"Vérifiez toutes les informations avant de soumettre la demande":"Review all information before submitting the request",patientInfo:t==="fr"?"Informations du Patient":"Patient Information",analyses:"Analyses",doctorInfo:t==="fr"?"Informations du Médecin":"Doctor Information",appointment:t==="fr"?"Rendez-vous":"Appointment",billing:t==="fr"?"Facturation":"Billing",prescription:t==="fr"?"Ordonnance":"Prescription",name:t==="fr"?"Nom":"Name",dateOfBirth:t==="fr"?"Date de naissance":"Date of Birth",gender:t==="fr"?"Genre":"Gender",phone:t==="fr"?"Téléphone":"Phone",email:"Email",cnssNumber:t==="fr"?"Numéro CNSS":"CNSS Number",address:t==="fr"?"Adresse":"Address",specialty:t==="fr"?"Spécialité":"Specialty",orderNumber:t==="fr"?"Numéro d'ordre":"Order Number",date:"Date",time:t==="fr"?"Heure":"Time",location:t==="fr"?"Lieu":"Location",urgency:t==="fr"?"Urgence":"Urgency",notes:"Notes",payer:t==="fr"?"Payeur":"Payer",insuranceCompany:t==="fr"?"Compagnie d'assurance":"Insurance Company",insuranceNumber:t==="fr"?"Numéro d'assurance":"Insurance Number",discount:t==="fr"?"Remise":"Discount",advancePayment:t==="fr"?"Acompte":"Advance Payment",subtotal:t==="fr"?"Sous-total":"Subtotal",tva:t==="fr"?"TVA":"VAT",total:"Total",amountDue:t==="fr"?"Montant dû":"Amount due",uploaded:t==="fr"?"Téléchargé":"Uploaded",notUploaded:t==="fr"?"Non téléchargé":"Not uploaded",male:t==="fr"?"Masculin":"Male",female:t==="fr"?"Féminin":"Female",normal:"Normal",urgent:"Urgent",emergency:t==="fr"?"Urgence":"Emergency",patient:"Patient",insurance:t==="fr"?"Assurance":"Insurance",company:t==="fr"?"Entreprise":"Company",noData:t==="fr"?"Aucune donnée":"No data",readyToSubmit:t==="fr"?"Prêt à soumettre":"Ready to submit",reviewComplete:t==="fr"?"Révision terminée":"Review complete"},n=e.analyses.reduce((h,x)=>h+x.price,0),a=e.analyses.reduce((h,x)=>h+x.price*x.tva/100,0),A=n+a,i=A*(e.billing.discount/100),l=A-i-e.billing.advancePayment,c=h=>h?new Date(h).toLocaleDateString(t==="fr"?"fr-FR":"en-US"):r.noData,u=h=>{switch(h){case"NORMAL":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"URGENT":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EMERGENCY":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r.subtitle})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(dn,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.patientInfo})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.name,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.patient.firstName," ",e.patient.lastName]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.dateOfBirth,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c(e.patient.dateOfBirth)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.gender,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.gender==="M"?r.male:r.female})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.phone,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.phone})]}),e.patient.email&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.email,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.email})]}),e.patient.cnssNumber&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.cnssNumber,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.cnssNumber})]}),e.patient.address&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.address,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.address})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(ed,{size:20,className:"text-green-600 dark:text-green-400 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.doctorInfo})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.name,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.doctor.firstName," ",e.doctor.lastName]})]}),e.doctor.specialty&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.specialty,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.specialty})]}),e.doctor.email&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.email,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.email})]}),e.doctor.phone&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.phone,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.phone})]}),e.doctor.orderNumber&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.orderNumber,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.orderNumber})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Sa,{size:20,className:"text-purple-600 dark:text-purple-400 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.appointment})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.date,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c(e.appointment.date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.time,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.time})]}),e.appointment.location&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.location,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.location})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.urgency,":"]}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${u(e.appointment.urgency)}`,children:[e.appointment.urgency==="NORMAL"&&r.normal,e.appointment.urgency==="URGENT"&&r.urgent,e.appointment.urgency==="EMERGENCY"&&r.emergency]})]}),e.appointment.notes&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.notes,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.notes})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx($0,{size:20,className:"text-orange-600 dark:text-orange-400 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.billing})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.payer,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.payer==="PATIENT"&&r.patient,e.billing.payer==="INSURANCE"&&r.insurance,e.billing.payer==="COMPANY"&&r.company]})]}),e.billing.payer==="INSURANCE"&&e.billing.insuranceCompany&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.insuranceCompany,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.billing.insuranceCompany})]}),e.billing.payer==="INSURANCE"&&e.billing.insuranceNumber&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.insuranceNumber,":"]}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.billing.insuranceNumber})]}),e.billing.discount>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.discount,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.discount,"%"]})]}),e.billing.advancePayment>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.advancePayment,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.advancePayment," dh"]})]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.amountDue,":"]}),s.jsxs("span",{className:`font-bold ${l>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[l.toFixed(2)," dh"]})]})})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(As,{size:20,className:"text-indigo-600 dark:text-indigo-400 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.analyses})]}),s.jsxs("div",{className:"space-y-3",children:[e.analyses.map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:h.name}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[h.code," • ",h.category]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[h.price," dh"]}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",h.tva,"%"]})]})]},h.id)),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.subtotal,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[n.toFixed(2)," dh"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.tva,":"]}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[a.toFixed(2)," dh"]})]}),s.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[s.jsxs("span",{className:"text-gray-900 dark:text-white",children:[r.total,":"]}),s.jsxs("span",{className:"text-gray-900 dark:text-white",children:[A.toFixed(2)," dh"]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(As,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.prescription})]}),s.jsx("div",{className:"flex items-center",children:e.prescription?s.jsxs(s.Fragment,{children:[s.jsx(Qs,{size:20,className:"text-green-600 dark:text-green-400 mr-2"}),s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:r.uploaded}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:["(",e.prescription.name,")"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Es,{size:20,className:"text-yellow-600 dark:text-yellow-400 mr-2"}),s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:r.notUploaded})]})})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qs,{size:24,className:"text-green-600 dark:text-green-400 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100",children:r.readyToSubmit}),s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:r.reviewComplete})]})]})})]})}const Nu=[{id:1,title:"Patient Info",icon:dn},{id:2,title:"Analyses",icon:As},{id:3,title:"Doctor Ref",icon:ed},{id:4,title:"Appointment",icon:Sa},{id:5,title:"Billing",icon:$0},{id:6,title:"Review",icon:Ls}];function r3(){const{language:e}=Nt(),t=Ta(),[r,n]=_.useState(1),[a,A]=_.useState(!1),[i,o]=_.useState({patient:{firstName:"",lastName:"",dateOfBirth:"",gender:"M",phone:"",email:"",cnssNumber:"",address:""},analyses:[],doctor:{id:"",firstName:"",lastName:"",email:"",phone:"",specialty:"",orderNumber:""},appointment:{date:"",time:"",location:"",urgency:"NORMAL",sampleType:"BLOOD",tubeType:void 0,notes:""},billing:{payer:"PATIENT",insuranceCompany:"",insuranceNumber:"",discount:0,advancePayment:0,notes:""}}),l={title:e==="fr"?"Nouvelle Demande d'Analyse":"New Analysis Request",subtitle:e==="fr"?"Créer une nouvelle demande d'analyse de laboratoire":"Create a new laboratory analysis request",back:e==="fr"?"Retour":"Back",next:e==="fr"?"Suivant":"Next",submit:e==="fr"?"Soumettre":"Submit",loading:e==="fr"?"Envoi en cours...":"Submitting...",success:e==="fr"?"Demande créée avec succès":"Request created successfully",error:e==="fr"?"Erreur lors de la création":"Error creating request",step:e==="fr"?"Étape":"Step",of:e==="fr"?"sur":"of"},c=(C,m)=>{o(w=>({...w,[C]:m}))},u=(C,m,w)=>{o(B=>({...B,[C]:{...B[C],[m]:w}}))},h=()=>{r<Nu.length&&n(r+1)},x=()=>{r>1&&n(r-1)},f=async()=>{A(!0);try{const C=i.analyses.reduce((R,E)=>R+E.price,0),m=i.analyses.reduce((R,E)=>R+E.price*E.tva/100,0),w=C+m,B=w*(i.billing.discount/100),O=w-B-i.billing.advancePayment;let q;if(i.patient.cnssNumber)try{const R=await po.getPatients({cnssNumber:i.patient.cnssNumber}),E=R.patients||R||[];if(E.length>0){const k=E[0];if(q=k.id,k.firstName!==i.patient.firstName||k.lastName!==i.patient.lastName||(k.gender||"")!==i.patient.gender||(k.phone||"")!==i.patient.phone||(k.email||"")!==i.patient.email||(k.address||"")!==i.patient.address||(k.dateOfBirth?k.dateOfBirth.slice(0,10):"")!==i.patient.dateOfBirth)try{await po.updatePatient(k.id,{firstName:i.patient.firstName,lastName:i.patient.lastName,dateOfBirth:new Date(i.patient.dateOfBirth).toISOString(),gender:i.patient.gender,phone:i.patient.phone,email:i.patient.email,cnssNumber:i.patient.cnssNumber,address:i.patient.address})}catch{console.warn("Patient update failed, proceeding with existing data")}}else q=(await po.createPatient({firstName:i.patient.firstName,lastName:i.patient.lastName,dateOfBirth:new Date(i.patient.dateOfBirth).toISOString(),gender:i.patient.gender,phone:i.patient.phone,email:i.patient.email,cnssNumber:i.patient.cnssNumber,address:i.patient.address})).id}catch{q=(await po.createPatient({firstName:i.patient.firstName,lastName:i.patient.lastName,dateOfBirth:new Date(i.patient.dateOfBirth).toISOString(),gender:i.patient.gender,phone:i.patient.phone,email:i.patient.email,cnssNumber:i.patient.cnssNumber,address:i.patient.address})).id}else q=(await po.createPatient({firstName:i.patient.firstName,lastName:i.patient.lastName,dateOfBirth:new Date(i.patient.dateOfBirth).toISOString(),gender:i.patient.gender,phone:i.patient.phone,email:i.patient.email,address:i.patient.address})).id;const F=i.analyses.map(R=>({analysisId:R.id,price:R.price,tva:R.tva})),j={patientId:q,doctorId:i.doctor.id||void 0,appointmentDate:new Date(i.appointment.date).toISOString(),appointmentTime:i.appointment.time,sampleType:i.appointment.sampleType,tubeType:i.appointment.tubeType,urgent:i.appointment.urgency==="URGENT"||i.appointment.urgency==="EMERGENCY",discount:i.billing.discount,advancePayment:i.billing.advancePayment,notes:i.appointment.notes+(i.billing.notes?`
Billing: ${i.billing.notes}`:""),analyses:F},I=await Ni.createRequest(j);alert(e==="fr"?"Demande créée avec succès!":"Request created successfully!");try{if(window.confirm(e==="fr"?"Imprimer le reçu patient ?":"Print patient receipt?")){const{printReceipt:K}=await Ai(()=>import("./printing-cfcc767e.js"),[]);K(I,{amountPaid:i.billing.advancePayment,paymentMethod:i.billing.payer})}if(window.confirm(e==="fr"?"Imprimer la fiche de prélèvement ?":"Print collection sheet?")){const{printCollectionSheet:K}=await Ai(()=>import("./printing-cfcc767e.js"),[]);K(I)}if(window.confirm(e==="fr"?"Imprimer les étiquettes des tubes ?":"Print tube labels?")){const{printTubeLabels:K}=await Ai(()=>import("./printing-cfcc767e.js"),[]);K(I)}if(window.confirm(e==="fr"?"Imprimer le bordereau de routage interne ?":"Print internal routing slip?")){const{printRoutingSlip:K}=await Ai(()=>import("./printing-cfcc767e.js"),[]);K(I)}}catch(R){console.warn("Printing flow error",R)}t("/requests")}catch(C){console.error("Error submitting request:",C),alert(e==="fr"?"Erreur lors de la création de la demande":"Error creating request")}finally{A(!1)}},b=()=>{switch(r){case 1:return s.jsx(Xj,{data:i.patient,updateData:(C,m)=>u("patient",C,m),language:e});case 2:return s.jsx($j,{data:i.analyses,prescription:i.prescription,updateData:C=>c("analyses",C),updatePrescription:C=>c("prescription",C),language:e});case 3:return s.jsx(Yj,{data:i.doctor,updateData:(C,m)=>u("doctor",C,m),language:e});case 4:return s.jsx(Zj,{data:i.appointment,updateData:(C,m)=>u("appointment",C,m),language:e});case 5:return s.jsx(e3,{data:i.billing,analyses:i.analyses,updateData:(C,m)=>u("billing",C,m),language:e});case 6:return s.jsx(t3,{data:i,language:e});default:return null}},p=()=>{switch(r){case 1:return i.patient.firstName&&i.patient.lastName&&i.patient.dateOfBirth&&i.patient.phone;case 2:return i.analyses.length>0;case 3:return i.doctor.id||i.doctor.firstName&&i.doctor.lastName;case 4:return i.appointment.date&&i.appointment.time;case 5:return!0;case 6:return!0;default:return!1}};return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("button",{onClick:()=>t("/requests"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mr-4",children:[s.jsx(nl,{size:20,className:"mr-2"}),l.back]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:l.title}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l.subtitle})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l.step," ",r," ",l.of," ",Nu.length]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:e==="fr"?"Progression":"Progress"}),s.jsx("nav",{className:"space-y-2",children:Nu.map((C,m)=>{const w=C.icon,B=r===C.id,D=r>C.id;return s.jsxs("div",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-colors ${B?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700":D?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700":"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600"}`,onClick:()=>n(C.id),children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full mr-3",children:D?s.jsx(Qs,{size:20,className:"text-green-600 dark:text-green-400"}):s.jsx(w,{size:20,className:B?"text-blue-600 dark:text-blue-400":"text-gray-400"})}),s.jsx("span",{className:`text-sm font-medium ${B?"text-blue-900 dark:text-blue-100":D?"text-green-900 dark:text-green-100":"text-gray-600 dark:text-gray-400"}`,children:C.title})]},C.id)})})]})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"p-6",children:b()}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("button",{onClick:x,disabled:r===1,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(nl,{size:16,className:"mr-2"}),l.back]}),s.jsx("div",{className:"flex items-center space-x-3",children:r<Nu.length?s.jsxs("button",{onClick:h,disabled:!p(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.next,s.jsx(X0,{size:16,className:"ml-2"})]}):s.jsx("button",{onClick:f,disabled:!p()||a,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),l.loading]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{size:16,className:"mr-2"}),l.submit]})})})]})]})})]})})]})}function Et(e){"@babel/helpers - typeof";return Et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(e)}var tn=Uint8Array,Tn=Uint16Array,Ex=Int32Array,Lh=new tn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ih=new tn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vp=new tn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yb=function(e,t){for(var r=new Tn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Ex(r[30]),n=1;n<30;++n)for(var A=r[n];A<r[n+1];++A)a[A]=A-r[n]<<5|n;return{b:r,r:a}},Zb=Yb(Lh,2),eB=Zb.b,Gp=Zb.r;eB[28]=258,Gp[258]=28;var tB=Yb(Ih,0),n3=tB.b,z1=tB.r,Wp=new Tn(32768);for(var Kt=0;Kt<32768;++Kt){var Za=(Kt&43690)>>1|(Kt&21845)<<1;Za=(Za&52428)>>2|(Za&13107)<<2,Za=(Za&61680)>>4|(Za&3855)<<4,Wp[Kt]=((Za&65280)>>8|(Za&255)<<8)>>1}var aa=function(e,t,r){for(var n=e.length,a=0,A=new Tn(t);a<n;++a)e[a]&&++A[e[a]-1];var i=new Tn(t);for(a=1;a<t;++a)i[a]=i[a-1]+A[a-1]<<1;var o;if(r){o=new Tn(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],h=i[e[a]-1]++<<u,x=h|(1<<u)-1;h<=x;++h)o[Wp[h]>>l]=c}else for(o=new Tn(n),a=0;a<n;++a)e[a]&&(o[a]=Wp[i[e[a]-1]++]>>15-e[a]);return o},FA=new tn(288);for(var Kt=0;Kt<144;++Kt)FA[Kt]=8;for(var Kt=144;Kt<256;++Kt)FA[Kt]=9;for(var Kt=256;Kt<280;++Kt)FA[Kt]=7;for(var Kt=280;Kt<288;++Kt)FA[Kt]=8;var td=new tn(32);for(var Kt=0;Kt<32;++Kt)td[Kt]=5;var s3=aa(FA,9,0),a3=aa(FA,9,1),A3=aa(td,5,0),i3=aa(td,5,1),pg=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ys=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},mg=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Qx=function(e){return(e+7)/8|0},rB=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new tn(e.subarray(t,r))},o3=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Bs=function(e,t,r){var n=new Error(t||o3[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Bs),!r)throw n;return n},l3=function(e,t,r,n){var a=e.length,A=n?n.length:0;if(!a||t.f&&!t.l)return r||new tn(0);var i=!r,o=i||t.i!=2,l=t.i;i&&(r=new tn(a*3));var c=function(je){var Le=r.length;if(je>Le){var Ee=new tn(Math.max(Le*2,je));Ee.set(r),r=Ee}},u=t.f||0,h=t.p||0,x=t.b||0,f=t.l,b=t.d,p=t.m,C=t.n,m=a*8;do{if(!f){u=ys(e,h,1);var w=ys(e,h+1,3);if(h+=3,w)if(w==1)f=a3,b=i3,p=9,C=5;else if(w==2){var q=ys(e,h,31)+257,F=ys(e,h+10,15)+4,j=q+ys(e,h+5,31)+1;h+=14;for(var I=new tn(j),R=new tn(19),E=0;E<F;++E)R[Vp[E]]=ys(e,h+E*3,7);h+=F*3;for(var k=pg(R),Q=(1<<k)-1,K=aa(R,k,1),E=0;E<j;){var ie=K[ys(e,h,Q)];h+=ie&15;var B=ie>>4;if(B<16)I[E++]=B;else{var W=0,ee=0;for(B==16?(ee=3+ys(e,h,3),h+=2,W=I[E-1]):B==17?(ee=3+ys(e,h,7),h+=3):B==18&&(ee=11+ys(e,h,127),h+=7);ee--;)I[E++]=W}}var z=I.subarray(0,q),te=I.subarray(q);p=pg(z),C=pg(te),f=aa(z,p,1),b=aa(te,C,1)}else Bs(1);else{var B=Qx(h)+4,D=e[B-4]|e[B-3]<<8,O=B+D;if(O>a){l&&Bs(0);break}o&&c(x+D),r.set(e.subarray(B,O),x),t.b=x+=D,t.p=h=O*8,t.f=u;continue}if(h>m){l&&Bs(0);break}}o&&c(x+131072);for(var Ae=(1<<p)-1,he=(1<<C)-1,S=h;;S=h){var W=f[mg(e,h)&Ae],P=W>>4;if(h+=W&15,h>m){l&&Bs(0);break}if(W||Bs(2),P<256)r[x++]=P;else if(P==256){S=h,f=null;break}else{var J=P-254;if(P>264){var E=P-257,Y=Lh[E];J=ys(e,h,(1<<Y)-1)+eB[E],h+=Y}var ne=b[mg(e,h)&he],ce=ne>>4;ne||Bs(3),h+=ne&15;var te=n3[ce];if(ce>3){var Y=Ih[ce];te+=mg(e,h)&(1<<Y)-1,h+=Y}if(h>m){l&&Bs(0);break}o&&c(x+131072);var Z=x+J;if(x<te){var de=A-te,Ne=Math.min(te,Z);for(de+x<0&&Bs(3);x<Ne;++x)r[x]=n[de+x]}for(;x<Z;++x)r[x]=r[x-te]}}t.l=f,t.p=S,t.b=x,t.f=u,f&&(u=1,t.m=p,t.d=b,t.n=C)}while(!u);return x!=r.length&&i?rB(r,0,x):r.subarray(0,x)},wa=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},ec=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},xg=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,A=r.slice();if(!a)return{t:sB,l:0};if(a==1){var i=new tn(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(O,q){return O.f-q.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var x=A[0].s,n=1;n<a;++n)A[n].s>x&&(x=A[n].s);var f=new Tn(x+1),b=Jp(r[u-1],f,0);if(b>t){var n=0,p=0,C=b-t,m=1<<C;for(A.sort(function(q,F){return f[F.s]-f[q.s]||q.f-F.f});n<a;++n){var w=A[n].s;if(f[w]>t)p+=m-(1<<b-f[w]),f[w]=t;else break}for(p>>=C;p>0;){var B=A[n].s;f[B]<t?p-=1<<t-f[B]++-1:++n}for(;n>=0&&p;--n){var D=A[n].s;f[D]==t&&(--f[D],++p)}b=t}return{t:new tn(f),l:b}},Jp=function(e,t,r){return e.s==-1?Math.max(Jp(e.l,t,r+1),Jp(e.r,t,r+1)):t[e.s]=r},V1=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Tn(++t),n=0,a=e[0],A=1,i=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++A;else{if(!a&&A>2){for(;A>138;A-=138)i(32754);A>2&&(i(A>10?A-11<<5|28690:A-3<<5|12305),A=0)}else if(A>3){for(i(a),--A;A>6;A-=6)i(8304);A>2&&(i(A-3<<5|8208),A=0)}for(;A--;)i(a);A=1,a=e[o]}return{c:r.subarray(0,n),n:t}},tc=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},nB=function(e,t,r){var n=r.length,a=Qx(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var A=0;A<n;++A)e[a+A+4]=r[A];return(a+4+n)*8},G1=function(e,t,r,n,a,A,i,o,l,c,u){wa(t,u++,r),++a[256];for(var h=xg(a,15),x=h.t,f=h.l,b=xg(A,15),p=b.t,C=b.l,m=V1(x),w=m.c,B=m.n,D=V1(p),O=D.c,q=D.n,F=new Tn(19),j=0;j<w.length;++j)++F[w[j]&31];for(var j=0;j<O.length;++j)++F[O[j]&31];for(var I=xg(F,7),R=I.t,E=I.l,k=19;k>4&&!R[Vp[k-1]];--k);var Q=c+5<<3,K=tc(a,FA)+tc(A,td)+i,ie=tc(a,x)+tc(A,p)+i+14+3*k+tc(F,R)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&Q<=K&&Q<=ie)return nB(t,u,e.subarray(l,l+c));var W,ee,z,te;if(wa(t,u,1+(ie<K)),u+=2,ie<K){W=aa(x,f,0),ee=x,z=aa(p,C,0),te=p;var Ae=aa(R,E,0);wa(t,u,B-257),wa(t,u+5,q-1),wa(t,u+10,k-4),u+=14;for(var j=0;j<k;++j)wa(t,u+3*j,R[Vp[j]]);u+=3*k;for(var he=[w,O],S=0;S<2;++S)for(var P=he[S],j=0;j<P.length;++j){var J=P[j]&31;wa(t,u,Ae[J]),u+=R[J],J>15&&(wa(t,u,P[j]>>5&127),u+=P[j]>>12)}}else W=s3,ee=FA,z=A3,te=td;for(var j=0;j<o;++j){var Y=n[j];if(Y>255){var J=Y>>18&31;ec(t,u,W[J+257]),u+=ee[J+257],J>7&&(wa(t,u,Y>>23&31),u+=Lh[J]);var ne=Y&31;ec(t,u,z[ne]),u+=te[ne],ne>3&&(ec(t,u,Y>>5&8191),u+=Ih[ne])}else ec(t,u,W[Y]),u+=ee[Y]}return ec(t,u,W[256]),u+ee[256]},c3=new Ex([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sB=new tn(0),d3=function(e,t,r,n,a,A){var i=A.z||e.length,o=new tn(n+i+5*(1+Math.ceil(i/7e3))+a),l=o.subarray(n,o.length-a),c=A.l,u=(A.r||0)&7;if(t){u&&(l[0]=A.r>>3);for(var h=c3[t-1],x=h>>13,f=h&8191,b=(1<<r)-1,p=A.p||new Tn(32768),C=A.h||new Tn(b+1),m=Math.ceil(r/3),w=2*m,B=function(Xe){return(e[Xe]^e[Xe+1]<<m^e[Xe+2]<<w)&b},D=new Ex(25e3),O=new Tn(288),q=new Tn(32),F=0,j=0,I=A.i||0,R=0,E=A.w||0,k=0;I+2<i;++I){var Q=B(I),K=I&32767,ie=C[Q];if(p[K]=ie,C[Q]=K,E<=I){var W=i-I;if((F>7e3||R>24576)&&(W>423||!c)){u=G1(e,l,0,D,O,q,j,R,k,I-k,u),R=F=j=0,k=I;for(var ee=0;ee<286;++ee)O[ee]=0;for(var ee=0;ee<30;++ee)q[ee]=0}var z=2,te=0,Ae=f,he=K-ie&32767;if(W>2&&Q==B(I-he))for(var S=Math.min(x,W)-1,P=Math.min(32767,I),J=Math.min(258,W);he<=P&&--Ae&&K!=ie;){if(e[I+z]==e[I+z-he]){for(var Y=0;Y<J&&e[I+Y]==e[I+Y-he];++Y);if(Y>z){if(z=Y,te=he,Y>S)break;for(var ne=Math.min(he,Y-2),ce=0,ee=0;ee<ne;++ee){var Z=I-he+ee&32767,de=p[Z],Ne=Z-de&32767;Ne>ce&&(ce=Ne,ie=Z)}}}K=ie,ie=p[K],he+=K-ie&32767}if(te){D[R++]=268435456|Gp[z]<<18|z1[te];var je=Gp[z]&31,Le=z1[te]&31;j+=Lh[je]+Ih[Le],++O[257+je],++q[Le],E=I+z,++F}else D[R++]=e[I],++O[e[I]]}}for(I=Math.max(I,E);I<i;++I)D[R++]=e[I],++O[e[I]];u=G1(e,l,c,D,O,q,j,R,k,I-k,u),c||(A.r=u&7|l[u/8|0]<<3,u-=7,A.h=C,A.p=p,A.i=I,A.w=E)}else{for(var I=A.w||0;I<i+c;I+=65535){var Ee=I+65535;Ee>=i&&(l[u/8|0]=c,Ee=i),u=nB(l,u+1,e.subarray(I,Ee))}A.i=i}return rB(o,0,n+Qx(u)+a)},aB=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,A=r.length|0,i=0;i!=A;){for(var o=Math.min(i+2655,A);i<o;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},u3=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var A=t.dictionary.subarray(-32768),i=new tn(A.length+e.length);i.set(A),i.set(e,A.length),e=i,a.w=A.length}return d3(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},AB=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},h3=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=aB();a.p(t.dictionary),AB(e,2,a.d())}},f3=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Bs(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Bs(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Xp(e,t){t||(t={});var r=aB();r.p(e);var n=u3(e,t,t.dictionary?6:2,4);return h3(n,t),AB(n,n.length-4,r.d()),n}function g3(e,t){return l3(e.subarray(f3(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var p3=typeof TextDecoder<"u"&&new TextDecoder,m3=0;try{p3.decode(sB,{stream:!0}),m3=1}catch{}var et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function yg(){et.console&&typeof et.console.log=="function"&&et.console.log.apply(et.console,arguments)}var Tt={log:yg,warn:function(e){et.console&&(typeof et.console.warn=="function"?et.console.warn.apply(et.console,arguments):yg.call(null,arguments))},error:function(e){et.console&&(typeof et.console.error=="function"?et.console.error.apply(et.console,arguments):yg(e))}};function wg(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){ei(n.response,t,r)},n.onerror=function(){Tt.error("could not download file")},n.send()}function W1(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Cu(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Fc,$p,ei=et.saveAs||((typeof window>"u"?"undefined":Et(window))!=="object"||window!==et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=et.URL||et.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?W1(a.href)?wg(e,t,r):Cu(a,a.target="_blank"):Cu(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Cu(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(W1(e))wg(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Cu(n)})}else navigator.msSaveOrOpenBlob(function(a,A){return A===void 0?A={autoBom:!1}:Et(A)!=="object"&&(Tt.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return wg(e,t,r);var a=e.type==="application/octet-stream",A=/constructor/i.test(et.HTMLElement)||et.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&A)&&(typeof FileReader>"u"?"undefined":Et(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=i?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=et.URL||et.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function iB(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,A=r[n].process,i=a.exec(e);i&&(t=A(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function vg(e,t){var r=e[0],n=e[1],a=e[2],A=e[3];r=Wr(r,n,a,A,t[0],7,-680876936),A=Wr(A,r,n,a,t[1],12,-389564586),a=Wr(a,A,r,n,t[2],17,606105819),n=Wr(n,a,A,r,t[3],22,-1044525330),r=Wr(r,n,a,A,t[4],7,-176418897),A=Wr(A,r,n,a,t[5],12,1200080426),a=Wr(a,A,r,n,t[6],17,-1473231341),n=Wr(n,a,A,r,t[7],22,-45705983),r=Wr(r,n,a,A,t[8],7,1770035416),A=Wr(A,r,n,a,t[9],12,-1958414417),a=Wr(a,A,r,n,t[10],17,-42063),n=Wr(n,a,A,r,t[11],22,-1990404162),r=Wr(r,n,a,A,t[12],7,1804603682),A=Wr(A,r,n,a,t[13],12,-40341101),a=Wr(a,A,r,n,t[14],17,-1502002290),r=Jr(r,n=Wr(n,a,A,r,t[15],22,1236535329),a,A,t[1],5,-165796510),A=Jr(A,r,n,a,t[6],9,-1069501632),a=Jr(a,A,r,n,t[11],14,643717713),n=Jr(n,a,A,r,t[0],20,-373897302),r=Jr(r,n,a,A,t[5],5,-701558691),A=Jr(A,r,n,a,t[10],9,38016083),a=Jr(a,A,r,n,t[15],14,-660478335),n=Jr(n,a,A,r,t[4],20,-405537848),r=Jr(r,n,a,A,t[9],5,568446438),A=Jr(A,r,n,a,t[14],9,-1019803690),a=Jr(a,A,r,n,t[3],14,-187363961),n=Jr(n,a,A,r,t[8],20,1163531501),r=Jr(r,n,a,A,t[13],5,-1444681467),A=Jr(A,r,n,a,t[2],9,-51403784),a=Jr(a,A,r,n,t[7],14,1735328473),r=Xr(r,n=Jr(n,a,A,r,t[12],20,-1926607734),a,A,t[5],4,-378558),A=Xr(A,r,n,a,t[8],11,-2022574463),a=Xr(a,A,r,n,t[11],16,1839030562),n=Xr(n,a,A,r,t[14],23,-35309556),r=Xr(r,n,a,A,t[1],4,-1530992060),A=Xr(A,r,n,a,t[4],11,1272893353),a=Xr(a,A,r,n,t[7],16,-155497632),n=Xr(n,a,A,r,t[10],23,-1094730640),r=Xr(r,n,a,A,t[13],4,681279174),A=Xr(A,r,n,a,t[0],11,-358537222),a=Xr(a,A,r,n,t[3],16,-722521979),n=Xr(n,a,A,r,t[6],23,76029189),r=Xr(r,n,a,A,t[9],4,-640364487),A=Xr(A,r,n,a,t[12],11,-421815835),a=Xr(a,A,r,n,t[15],16,530742520),r=$r(r,n=Xr(n,a,A,r,t[2],23,-995338651),a,A,t[0],6,-198630844),A=$r(A,r,n,a,t[7],10,1126891415),a=$r(a,A,r,n,t[14],15,-1416354905),n=$r(n,a,A,r,t[5],21,-57434055),r=$r(r,n,a,A,t[12],6,1700485571),A=$r(A,r,n,a,t[3],10,-1894986606),a=$r(a,A,r,n,t[10],15,-1051523),n=$r(n,a,A,r,t[1],21,-2054922799),r=$r(r,n,a,A,t[8],6,1873313359),A=$r(A,r,n,a,t[15],10,-30611744),a=$r(a,A,r,n,t[6],15,-1560198380),n=$r(n,a,A,r,t[13],21,1309151649),r=$r(r,n,a,A,t[4],6,-145523070),A=$r(A,r,n,a,t[11],10,-1120210379),a=$r(a,A,r,n,t[2],15,718787259),n=$r(n,a,A,r,t[9],21,-343485551),e[0]=dA(r,e[0]),e[1]=dA(n,e[1]),e[2]=dA(a,e[2]),e[3]=dA(A,e[3])}function Ph(e,t,r,n,a,A){return t=dA(dA(t,e),dA(n,A)),dA(t<<a|t>>>32-a,r)}function Wr(e,t,r,n,a,A,i){return Ph(t&r|~t&n,e,t,a,A,i)}function Jr(e,t,r,n,a,A,i){return Ph(t&n|r&~n,e,t,a,A,i)}function Xr(e,t,r,n,a,A,i){return Ph(t^r^n,e,t,a,A,i)}function $r(e,t,r,n,a,A,i){return Ph(r^(t|~n),e,t,a,A,i)}function oB(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)vg(n,x3(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(vg(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,vg(n,a),n}function x3(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Fc=et.atob.bind(et),$p=et.btoa.bind(et);var J1="0123456789abcdef".split("");function y3(e){for(var t="",r=0;r<4;r++)t+=J1[e>>8*r+4&15]+J1[e>>8*r&15];return t}function w3(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Yp(e){return oB(e).map(w3).join("")}var v3=function(e){for(var t=0;t<e.length;t++)e[t]=y3(e[t]);return e.join("")}(oB("hello"))!="5d41402abc4b2a76b9719d911017c592";function dA(e,t){if(v3){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Zp(e,t){var r,n,a,A;if(e!==r){for(var i=(a=e,A=1+(256/e.length>>0),new Array(A+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+i.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var h=t.length,x=0,f=0,b="";for(l=0;l<h;l++)f=(f+(u=o[x=(x+1)%256]))%256,o[x]=o[f],o[f]=u,i=o[(o[x]+o[f])%256],b+=String.fromCharCode(t.charCodeAt(l)^i);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var X1={print:4,modify:8,copy:16,"annot-forms":32};function mo(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(X1.perm!==void 0)throw new Error("Invalid permission: "+o);a+=X1[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var A=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(A,i),this.P=-(1+(255^a)),this.encryptionKey=Yp(A+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Zp(this.encryptionKey,this.padding)}function xo(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function $1(e){if(Et(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var A=Math.random().toString(35);return t[r][A]=[n,!!a],A},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var A in t[r]){var i=t[r][A];try{i[0].apply(e,n)}catch(o){et.console&&Tt.error("jsPDF PubSub Error",o.message,o)}i[1]&&a.push(A)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Z0(e){if(!(this instanceof Z0))return new Z0(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function lB(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ti(e,t,r,n,a){if(!(this instanceof ti))return new ti(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,lB.call(this,n,a)}function Lo(e,t,r,n,a){if(!(this instanceof Lo))return new Lo(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,lB.call(this,n,a)}function Ze(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],A=arguments[3],i=[],o=1,l=16,c="S",u=null;Et(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,A=e.compress||e.compressPdf||A,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),i=e.filters||(A===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,x={},f={internal:{},__private__:{}};f.__private__.PubSub=$1;var b="1.3",p=f.__private__.getPdfVersion=function(){return b};f.__private__.setPdfVersion=function(y){b=y};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return C};var m=f.__private__.getPageFormat=function(y){return C[y]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},B=w.COMPAT;function D(){this.saveGraphicsState(),V(new Ye(Te,0,0,-Te,0,Oa()*Te).toString()+" cm"),this.setFontSize(this.getFontSize()/Te),c="n",B=w.ADVANCED}function O(){this.restoreGraphicsState(),c="S",B=w.COMPAT}var q=f.__private__.combineFontStyleAndFontWeight=function(y,L){if(y=="bold"&&L=="normal"||y=="bold"&&L==400||y=="normal"&&L=="italic"||y=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(y=L==400||L==="normal"?y==="italic"?"italic":"normal":L!=700&&L!=="bold"||y!=="normal"?(L==700?"bold":L)+""+y:"bold"),y};f.advancedAPI=function(y){var L=B===w.COMPAT;return L&&D.call(this),typeof y!="function"||(y(this),L&&O.call(this)),this},f.compatAPI=function(y){var L=B===w.ADVANCED;return L&&O.call(this),typeof y!="function"||(y(this),L&&D.call(this)),this},f.isAdvancedAPI=function(){return B===w.ADVANCED};var F,j=function(y){if(B!==w.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=f.roundToPrecision=f.__private__.roundToPrecision=function(y,L){var $=t||L;if(isNaN(y)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed($).replace(/0+$/,"")};F=f.hpf=f.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return I(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return I(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return I(y,16)};var R=f.f2=f.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return I(y,2)},E=f.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return I(y,3)},k=f.scale=f.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return B===w.COMPAT?y*Te:B===w.ADVANCED?y:void 0},Q=function(y){return B===w.COMPAT?Oa()-y:B===w.ADVANCED?y:void 0},K=function(y){return k(Q(y))};f.__private__.setPrecision=f.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(t=parseInt(y,10))};var ie,W="00000000000000000000000000000000",ee=f.__private__.getFileId=function(){return W},z=f.__private__.setFileId=function(y){return W=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(qr=new mo(u.userPermissions,u.userPassword,u.ownerPassword,W)),W};f.setFileId=function(y){return z(y),this},f.getFileId=function(){return ee()};var te=f.__private__.convertDateToPDFDate=function(y){var L=y.getTimezoneOffset(),$=L<0?"+":"-",re=Math.floor(Math.abs(L/60)),ue=Math.abs(L%60),xe=[$,J(re),"'",J(ue),"'"].join("");return["D:",y.getFullYear(),J(y.getMonth()+1),J(y.getDate()),J(y.getHours()),J(y.getMinutes()),J(y.getSeconds()),xe].join("")},Ae=f.__private__.convertPDFDateToDate=function(y){var L=parseInt(y.substr(2,4),10),$=parseInt(y.substr(6,2),10)-1,re=parseInt(y.substr(8,2),10),ue=parseInt(y.substr(10,2),10),xe=parseInt(y.substr(12,2),10),Ce=parseInt(y.substr(14,2),10);return new Date(L,$,re,ue,xe,Ce,0)},he=f.__private__.setCreationDate=function(y){var L;if(y===void 0&&(y=new Date),y instanceof Date)L=te(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=y}return ie=L},S=f.__private__.getCreationDate=function(y){var L=ie;return y==="jsDate"&&(L=Ae(ie)),L};f.setCreationDate=function(y){return he(y),this},f.getCreationDate=function(y){return S(y)};var P,J=f.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},Y=f.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ne=0,ce=[],Z=[],de=0,Ne=[],je=[],Le=!1,Ee=Z,Xe=function(){ne=0,de=0,Z=[],ce=[],Ne=[],ca=fr(),cs=fr()};f.__private__.setCustomOutputDestination=function(y){Le=!0,Ee=y};var ye=function(y){Le||(Ee=y)};f.__private__.resetCustomOutputDestination=function(){Le=!1,Ee=Z};var V=f.__private__.out=function(y){return y=y.toString(),de+=y.length+1,Ee.push(y),Ee},Me=f.__private__.write=function(y){return V(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},Qe=f.__private__.getArrayBuffer=function(y){for(var L=y.length,$=new ArrayBuffer(L),re=new Uint8Array($);L--;)re[L]=y.charCodeAt(L);return $},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ke};var Fe=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(y){return Fe=B===w.ADVANCED?y/Te:y,this};var De,Ie=f.__private__.getFontSize=f.getFontSize=function(){return B===w.COMPAT?Fe:Fe*Te},Ge=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(y){return Ge=y,this},f.__private__.getR2L=f.getR2L=function(){return Ge};var tt,nt=f.__private__.setZoomMode=function(y){var L=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))De=y;else if(isNaN(y)){if(L.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');De=y}else De=parseInt(y,10)};f.__private__.getZoomMode=function(){return De};var ct,ht=f.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');tt=y};f.__private__.getPageMode=function(){return tt};var bt=f.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');ct=y};f.__private__.getLayoutMode=function(){return ct},f.__private__.setDisplayMode=f.setDisplayMode=function(y,L,$){return nt(y),bt(L),ht($),this};var $e={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(y){if(Object.keys($e).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $e[y]},f.__private__.getDocumentProperties=function(){return $e},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(y){for(var L in $e)$e.hasOwnProperty(L)&&y[L]&&($e[L]=y[L]);return this},f.__private__.setDocumentProperty=function(y,L){if(Object.keys($e).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $e[y]=L};var dt,Te,Kr,vt,is,Pt={},zt={},Rs=[],Ct={},RA={},Zt={},os={},la=null,er=0,st=[],kt=new $1(f),HA=e.hotfixes||[],Pr={},Hs={},Os=[],Ye=function y(L,$,re,ue,xe,Ce){if(!(this instanceof y))return new y(L,$,re,ue,xe,Ce);isNaN(L)&&(L=1),isNaN($)&&($=0),isNaN(re)&&(re=0),isNaN(ue)&&(ue=1),isNaN(xe)&&(xe=0),isNaN(Ce)&&(Ce=0),this._matrix=[L,$,re,ue,xe,Ce]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(y)},Ye.prototype.multiply=function(y){var L=y.sx*this.sx+y.shy*this.shx,$=y.sx*this.shy+y.shy*this.sy,re=y.shx*this.sx+y.sy*this.shx,ue=y.shx*this.shy+y.sy*this.sy,xe=y.tx*this.sx+y.ty*this.shx+this.tx,Ce=y.tx*this.shy+y.ty*this.sy+this.ty;return new Ye(L,$,re,ue,xe,Ce)},Ye.prototype.decompose=function(){var y=this.sx,L=this.shy,$=this.shx,re=this.sy,ue=this.tx,xe=this.ty,Ce=Math.sqrt(y*y+L*L),He=(y/=Ce)*$+(L/=Ce)*re;$-=y*He,re-=L*He;var We=Math.sqrt($*$+re*re);return He/=We,y*(re/=We)<L*($/=We)&&(y=-y,L=-L,He=-He,Ce=-Ce),{scale:new Ye(Ce,0,0,We,0,0),translate:new Ye(1,0,0,1,ue,xe),rotate:new Ye(y,L,-L,y,0,0),skew:new Ye(1,0,He,1,0,0)}},Ye.prototype.toString=function(y){return this.join(" ")},Ye.prototype.inversed=function(){var y=this.sx,L=this.shy,$=this.shx,re=this.sy,ue=this.tx,xe=this.ty,Ce=1/(y*re-L*$),He=re*Ce,We=-L*Ce,it=-$*Ce,at=y*Ce;return new Ye(He,We,it,at,-He*ue-it*xe,-We*ue-at*xe)},Ye.prototype.applyToPoint=function(y){var L=y.x*this.sx+y.y*this.shx+this.tx,$=y.x*this.shy+y.y*this.sy+this.ty;return new qi(L,$)},Ye.prototype.applyToRectangle=function(y){var L=this.applyToPoint(y),$=this.applyToPoint(new qi(y.x+y.w,y.y+y.h));return new kl(L.x,L.y,$.x-L.x,$.y-L.y)},Ye.prototype.clone=function(){var y=this.sx,L=this.shy,$=this.shx,re=this.sy,ue=this.tx,xe=this.ty;return new Ye(y,L,$,re,ue,xe)},f.Matrix=Ye;var ls=f.matrixMult=function(y,L){return L.multiply(y)},Ms=new Ye(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ms;var fn=function(y,L){if(!RA[y]){var $=(L instanceof ti?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);L.id=$,RA[y]=$,Ct[$]=L,kt.publish("addPattern",L)}};f.ShadingPattern=ti,f.TilingPattern=Lo,f.addShadingPattern=function(y,L){return j("addShadingPattern()"),fn(y,L),this},f.beginTilingPattern=function(y){j("beginTilingPattern()"),Pd(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},f.endTilingPattern=function(y,L){j("endTilingPattern()"),L.stream=je[P].join(`
`),fn(y,L),kt.publish("endTilingPattern",L),Os.pop().restore()};var vr=f.__private__.newObject=function(){var y=fr();return Fn(y,!0),y},fr=f.__private__.newObjectDeferred=function(){return ne++,ce[ne]=function(){return de},ne},Fn=function(y,L){return L=typeof L=="boolean"&&L,ce[y]=de,L&&V(y+" 0 obj"),y},Qi=f.__private__.newAdditionalObject=function(){var y={objId:fr(),content:""};return Ne.push(y),y},ca=fr(),cs=fr(),ds=f.__private__.decodeColorString=function(y){var L=y.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length===5&&(L[4]==="k"||L[4]==="K")&&(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var $=parseFloat(L[0]);L=[$,$,$,"r"]}for(var re="#",ue=0;ue<3;ue++)re+=("0"+Math.floor(255*parseFloat(L[ue])).toString(16)).slice(-2);return re},us=f.__private__.encodeColorString=function(y){var L;typeof y=="string"&&(y={ch1:y});var $=y.ch1,re=y.ch2,ue=y.ch3,xe=y.ch4,Ce=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var He=new iB($);if(He.ok)$=He.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var We=parseInt($.substr(1),16);$=We>>16&255,re=We>>8&255,ue=255&We}if(re===void 0||xe===void 0&&$===re&&re===ue)if(typeof $=="string")L=$+" "+Ce[0];else switch(y.precision){case 2:L=R($/255)+" "+Ce[0];break;case 3:default:L=E($/255)+" "+Ce[0]}else if(xe===void 0||Et(xe)==="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return L=["1.","1.","1.",Ce[1]].join(" ");if(typeof $=="string")L=[$,re,ue,Ce[1]].join(" ");else switch(y.precision){case 2:L=[R($/255),R(re/255),R(ue/255),Ce[1]].join(" ");break;default:case 3:L=[E($/255),E(re/255),E(ue/255),Ce[1]].join(" ")}}else if(typeof $=="string")L=[$,re,ue,xe,Ce[2]].join(" ");else switch(y.precision){case 2:L=[R($),R(re),R(ue),R(xe),Ce[2]].join(" ");break;case 3:default:L=[E($),E(re),E(ue),E(xe),Ce[2]].join(" ")}return L},_s=f.__private__.getFilters=function(){return i},_n=f.__private__.putStream=function(y){var L=(y=y||{}).data||"",$=y.filters||_s(),re=y.alreadyAppliedFilters||[],ue=y.addLength1||!1,xe=L.length,Ce=y.objectId,He=function(zr){return zr};if(u!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(He=qr.encryptor(Ce,0));var We={};$===!0&&($=["FlateEncode"]);var it=y.additionalKeyValues||[],at=(We=Ze.API.processDataByFilters!==void 0?Ze.API.processDataByFilters(L,$):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(We.data.length!==0&&(it.push({key:"Length",value:We.data.length}),ue===!0&&it.push({key:"Length1",value:xe})),at.length!=0)if(at.split("/").length-1==1)it.push({key:"Filter",value:at});else{it.push({key:"Filter",value:"["+at+"]"});for(var pt=0;pt<it.length;pt+=1)if(it[pt].key==="DecodeParms"){for(var Wt=[],tr=0;tr<We.reverseChain.split("/").length-1;tr+=1)Wt.push("null");Wt.push(it[pt].value),it[pt].value="["+Wt.join(" ")+"]"}}V("<<");for(var gr=0;gr<it.length;gr++)V("/"+it[gr].key+" "+it[gr].value);V(">>"),We.data.length!==0&&(V("stream"),V(He(We.data)),V("endstream"))},Ks=f.__private__.putPage=function(y){var L=y.number,$=y.data,re=y.objId,ue=y.contentsObjId;Fn(re,!0),V("<</Type /Page"),V("/Parent "+y.rootDictionaryObjId+" 0 R"),V("/Resources "+y.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat(F(y.mediaBox.bottomLeftX))+" "+parseFloat(F(y.mediaBox.bottomLeftY))+" "+F(y.mediaBox.topRightX)+" "+F(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&V("/CropBox ["+F(y.cropBox.bottomLeftX)+" "+F(y.cropBox.bottomLeftY)+" "+F(y.cropBox.topRightX)+" "+F(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&V("/BleedBox ["+F(y.bleedBox.bottomLeftX)+" "+F(y.bleedBox.bottomLeftY)+" "+F(y.bleedBox.topRightX)+" "+F(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&V("/TrimBox ["+F(y.trimBox.bottomLeftX)+" "+F(y.trimBox.bottomLeftY)+" "+F(y.trimBox.topRightX)+" "+F(y.trimBox.topRightY)+"]"),y.artBox!==null&&V("/ArtBox ["+F(y.artBox.bottomLeftX)+" "+F(y.artBox.bottomLeftY)+" "+F(y.artBox.topRightX)+" "+F(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&V("/UserUnit "+y.userUnit),kt.publish("putPage",{objId:re,pageContext:st[L],pageNumber:L,page:$}),V("/Contents "+ue+" 0 R"),V(">>"),V("endobj");var xe=$.join(`
`);return B===w.ADVANCED&&(xe+=`
Q`),Fn(ue,!0),_n({data:xe,filters:_s(),objectId:ue}),V("endobj"),re},OA=f.__private__.putPages=function(){var y,L,$=[];for(y=1;y<=er;y++)st[y].objId=fr(),st[y].contentsObjId=fr();for(y=1;y<=er;y++)$.push(Ks({number:y,data:je[y],objId:st[y].objId,contentsObjId:st[y].contentsObjId,mediaBox:st[y].mediaBox,cropBox:st[y].cropBox,bleedBox:st[y].bleedBox,trimBox:st[y].trimBox,artBox:st[y].artBox,userUnit:st[y].userUnit,rootDictionaryObjId:ca,resourceDictionaryObjId:cs}));Fn(ca,!0),V("<</Type /Pages");var re="/Kids [";for(L=0;L<er;L++)re+=$[L]+" 0 R ";V(re+"]"),V("/Count "+er),V(">>"),V("endobj"),kt.publish("postPutPages")},Ui=function(y){kt.publish("putFont",{font:y,out:V,newObject:vr,putStream:_n}),y.isAlreadyPutted!==!0&&(y.objectNumber=vr(),V("<<"),V("/Type /Font"),V("/BaseFont /"+xo(y.postScriptName)),V("/Subtype /Type1"),typeof y.encoding=="string"&&V("/Encoding /"+y.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},Li=function(){for(var y in Pt)Pt.hasOwnProperty(y)&&(h===!1||h===!0&&x.hasOwnProperty(y))&&Ui(Pt[y])},Ii=function(y){y.objectNumber=vr();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[F(y.x),F(y.y),F(y.x+y.width),F(y.y+y.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var $=y.pages[1].join(`
`);_n({data:$,additionalKeyValues:L,objectId:y.objectNumber}),V("endobj")},Pi=function(){for(var y in Pr)Pr.hasOwnProperty(y)&&Ii(Pr[y])},md=function(y,L){var $,re=[],ue=1/(L-1);for($=0;$<1;$+=ue)re.push($);if(re.push(1),y[0].offset!=0){var xe={offset:0,color:y[0].color};y.unshift(xe)}if(y[y.length-1].offset!=1){var Ce={offset:1,color:y[y.length-1].color};y.push(Ce)}for(var He="",We=0,it=0;it<re.length;it++){for($=re[it];$>y[We+1].offset;)We++;var at=y[We].offset,pt=($-at)/(y[We+1].offset-at),Wt=y[We].color,tr=y[We+1].color;He+=Y(Math.round((1-pt)*Wt[0]+pt*tr[0]).toString(16))+Y(Math.round((1-pt)*Wt[1]+pt*tr[1]).toString(16))+Y(Math.round((1-pt)*Wt[2]+pt*tr[2]).toString(16))}return He.trim()},Zh=function(y,L){L||(L=21);var $=vr(),re=md(y.colors,L),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+L+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_n({data:re,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),V("endobj"),y.objectNumber=vr(),V("<< /ShadingType "+y.type),V("/ColorSpace /DeviceRGB");var xe="/Coords ["+F(parseFloat(y.coords[0]))+" "+F(parseFloat(y.coords[1]))+" ";y.type===2?xe+=F(parseFloat(y.coords[2]))+" "+F(parseFloat(y.coords[3])):xe+=F(parseFloat(y.coords[2]))+" "+F(parseFloat(y.coords[3]))+" "+F(parseFloat(y.coords[4]))+" "+F(parseFloat(y.coords[5])),V(xe+="]"),y.matrix&&V("/Matrix ["+y.matrix.toString()+"]"),V("/Function "+$+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},ef=function(y,L){var $=fr(),re=vr();L.push({resourcesOid:$,objectOid:re}),y.objectNumber=re;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+y.boundingBox.map(F).join(" ")+"]"}),ue.push({key:"XStep",value:F(y.xStep)}),ue.push({key:"YStep",value:F(y.yStep)}),ue.push({key:"Resources",value:$+" 0 R"}),y.matrix&&ue.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),_n({data:y.stream,additionalKeyValues:ue,objectId:y.objectNumber}),V("endobj")},Di=function(y){var L;for(L in Ct)Ct.hasOwnProperty(L)&&(Ct[L]instanceof ti?Zh(Ct[L]):Ct[L]instanceof Lo&&ef(Ct[L],y))},xd=function(y){for(var L in y.objectNumber=vr(),V("<<"),y)switch(L){case"opacity":V("/ca "+R(y[L]));break;case"stroke-opacity":V("/CA "+R(y[L]))}V(">>"),V("endobj")},tf=function(){var y;for(y in Zt)Zt.hasOwnProperty(y)&&xd(Zt[y])},pl=function(){for(var y in V("/XObject <<"),Pr)Pr.hasOwnProperty(y)&&Pr[y].objectNumber>=0&&V("/"+y+" "+Pr[y].objectNumber+" 0 R");kt.publish("putXobjectDict"),V(">>")},rf=function(){qr.oid=vr(),V("<<"),V("/Filter /Standard"),V("/V "+qr.v),V("/R "+qr.r),V("/U <"+qr.toHexString(qr.U)+">"),V("/O <"+qr.toHexString(qr.O)+">"),V("/P "+qr.P),V(">>"),V("endobj")},yd=function(){for(var y in V("/Font <<"),Pt)Pt.hasOwnProperty(y)&&(h===!1||h===!0&&x.hasOwnProperty(y))&&V("/"+y+" "+Pt[y].objectNumber+" 0 R");V(">>")},nf=function(){if(Object.keys(Ct).length>0){for(var y in V("/Shading <<"),Ct)Ct.hasOwnProperty(y)&&Ct[y]instanceof ti&&Ct[y].objectNumber>=0&&V("/"+y+" "+Ct[y].objectNumber+" 0 R");kt.publish("putShadingPatternDict"),V(">>")}},Ti=function(y){if(Object.keys(Ct).length>0){for(var L in V("/Pattern <<"),Ct)Ct.hasOwnProperty(L)&&Ct[L]instanceof f.TilingPattern&&Ct[L].objectNumber>=0&&Ct[L].objectNumber<y&&V("/"+L+" "+Ct[L].objectNumber+" 0 R");kt.publish("putTilingPatternDict"),V(">>")}},sf=function(){if(Object.keys(Zt).length>0){var y;for(y in V("/ExtGState <<"),Zt)Zt.hasOwnProperty(y)&&Zt[y].objectNumber>=0&&V("/"+y+" "+Zt[y].objectNumber+" 0 R");kt.publish("putGStateDict"),V(">>")}},ar=function(y){Fn(y.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),yd(),nf(),Ti(y.objectOid),sf(),pl(),V(">>"),V("endobj")},wd=function(){var y=[];Li(),tf(),Pi(),Di(y),kt.publish("putResources"),y.forEach(ar),ar({resourcesOid:cs,objectOid:Number.MAX_SAFE_INTEGER}),kt.publish("postPutResources")},vd=function(){kt.publish("putAdditionalObjects");for(var y=0;y<Ne.length;y++){var L=Ne[y];Fn(L.objId,!0),V(L.content),V("endobj")}kt.publish("postPutAdditionalObjects")},bd=function(y){zt[y.fontName]=zt[y.fontName]||{},zt[y.fontName][y.fontStyle]=y.id},ml=function(y,L,$,re,ue){var xe={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:y,fontName:L,fontStyle:$,encoding:re,isStandardFont:ue||!1,metadata:{}};return kt.publish("addFont",{font:xe,instance:this}),Pt[xe.id]=xe,bd(xe),xe.id},af=function(y){for(var L=0,$=ke.length;L<$;L++){var re=ml.call(this,y[L][0],y[L][1],y[L][2],ke[L][3],!0);h===!1&&(x[re]=!0);var ue=y[L][0].split("-");bd({id:re,fontName:ue[0],fontStyle:ue[1]||""})}kt.publish("addFonts",{fonts:Pt,dictionary:zt})},hs=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(re){var L=re.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var $="Error in function "+L.split(`
`)[0].split("<")[0]+": "+re.message;if(!et.console)throw new Error($);et.console.error($,re),et.alert&&alert($)}},y.foo.bar=y,y.foo},Ri=function(y,L){var $,re,ue,xe,Ce,He,We,it,at;if(ue=(L=L||{}).sourceEncoding||"Unicode",Ce=L.outputEncoding,(L.autoencode||Ce)&&Pt[dt].metadata&&Pt[dt].metadata[ue]&&Pt[dt].metadata[ue].encoding&&(xe=Pt[dt].metadata[ue].encoding,!Ce&&Pt[dt].encoding&&(Ce=Pt[dt].encoding),!Ce&&xe.codePages&&(Ce=xe.codePages[0]),typeof Ce=="string"&&(Ce=xe[Ce]),Ce)){for(We=!1,He=[],$=0,re=y.length;$<re;$++)(it=Ce[y.charCodeAt($)])?He.push(String.fromCharCode(it)):He.push(y[$]),He[$].charCodeAt(0)>>8&&(We=!0);y=He.join("")}for($=y.length;We===void 0&&$!==0;)y.charCodeAt($-1)>>8&&(We=!0),$--;if(!We)return y;for(He=L.noBOM?[]:[254,255],$=0,re=y.length;$<re;$++){if((at=(it=y.charCodeAt($))>>8)>>8)throw new Error("Character at position "+$+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");He.push(at),He.push(it-(at<<8))}return String.fromCharCode.apply(void 0,He)},gn=f.__private__.pdfEscape=f.pdfEscape=function(y,L){return Ri(y,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xl=f.__private__.beginPage=function(y){je[++er]=[],st[er]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},Nd(er),ye(je[P])},Bd=function(y,L){var $,re,ue;switch(r=L||r,typeof y=="string"&&($=m(y.toLowerCase()),Array.isArray($)&&(re=$[0],ue=$[1])),Array.isArray(y)&&(re=y[0]*Te,ue=y[1]*Te),isNaN(re)&&(re=a[0],ue=a[1]),(re>14400||ue>14400)&&(Tt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),ue=Math.min(14400,ue)),a=[re,ue],r.substr(0,1)){case"l":ue>re&&(a=[ue,re]);break;case"p":re>ue&&(a=[ue,re])}xl(a),Ed(bl),V(fs),Nl!==0&&V(Nl+" J"),Cl!==0&&V(Cl+" j"),kt.publish("addPage",{pageNumber:er})},Af=function(y){y>0&&y<=er&&(je.splice(y,1),st.splice(y,1),er--,P>er&&(P=er),this.setPage(P))},Nd=function(y){y>0&&y<=er&&(P=y)},of=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return je.length-1},Cd=function(y,L,$){var re,ue=void 0;return $=$||{},y=y!==void 0?y:Pt[dt].fontName,L=L!==void 0?L:Pt[dt].fontStyle,re=y.toLowerCase(),zt[re]!==void 0&&zt[re][L]!==void 0?ue=zt[re][L]:zt[y]!==void 0&&zt[y][L]!==void 0?ue=zt[y][L]:$.disableWarning===!1&&Tt.warn("Unable to look up font label for font '"+y+"', '"+L+"'. Refer to getFontList() for available fonts."),ue||$.noFallback||(ue=zt.times[L])==null&&(ue=zt.times.normal),ue},lf=f.__private__.putInfo=function(){var y=vr(),L=function(re){return re};for(var $ in u!==null&&(L=qr.encryptor(y,0)),V("<<"),V("/Producer ("+gn(L("jsPDF "+Ze.version))+")"),$e)$e.hasOwnProperty($)&&$e[$]&&V("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+gn(L($e[$]))+")");V("/CreationDate ("+gn(L(ie))+")"),V(">>"),V("endobj")},yl=f.__private__.putCatalog=function(y){var L=(y=y||{}).rootDictionaryObjId||ca;switch(vr(),V("<<"),V("/Type /Catalog"),V("/Pages "+L+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+De;$.substr($.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&V("/OpenAction [3 0 R /XYZ null null "+R(De)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}tt&&V("/PageMode /"+tt),kt.publish("putCatalog"),V(">>"),V("endobj")},cf=f.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(ne+1)),V("/Root "+ne+" 0 R"),V("/Info "+(ne-1)+" 0 R"),u!==null&&V("/Encrypt "+qr.oid+" 0 R"),V("/ID [ <"+W+"> <"+W+"> ]"),V(">>")},df=f.__private__.putHeader=function(){V("%PDF-"+b),V("%ºß¬à")},uf=f.__private__.putXRef=function(){var y="0000000000";V("xref"),V("0 "+(ne+1)),V("0000000000 65535 f ");for(var L=1;L<=ne;L++)typeof ce[L]=="function"?V((y+ce[L]()).slice(-10)+" 00000 n "):ce[L]!==void 0?V((y+ce[L]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},da=f.__private__.buildDocument=function(){Xe(),ye(Z),kt.publish("buildDocument"),df(),OA(),vd(),wd(),u!==null&&rf(),lf(),yl();var y=de;return uf(),cf(),V("startxref"),V(""+y),V("%%EOF"),ye(je[P]),Z.join(`
`)},Hi=f.__private__.getBlob=function(y){return new Blob([Qe(y)],{type:"application/pdf"})},Oi=f.output=f.__private__.output=hs(function(y,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",y){case void 0:return da();case"save":f.save(L.filename);break;case"arraybuffer":return Qe(da());case"blob":return Hi(da());case"bloburi":case"bloburl":if(et.URL!==void 0&&typeof et.URL.createObjectURL=="function")return et.URL&&et.URL.createObjectURL(Hi(da()))||void 0;Tt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",re=da();try{$=$p(re)}catch{$=$p(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+L.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(ue=L.pdfObjectUrl,xe="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",He=et.open();return He!==null&&He.document.write(Ce),He}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',it=et.open();if(it!==null){it.document.write(We);var at=this;it.document.documentElement.querySelector("#pdfViewer").onload=function(){it.document.title=L.filename,it.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(at.output("bloburl"))}}return it}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',Wt=et.open();if(Wt!==null&&(Wt.document.write(pt),Wt.document.title=L.filename),Wt||typeof safari>"u")return Wt;break;case"datauri":case"dataurl":return et.document.location.href=this.output("datauristring",L);default:return null}}),kd=function(y){return Array.isArray(HA)===!0&&HA.indexOf(y)>-1};switch(n){case"pt":Te=1;break;case"mm":Te=72/25.4;break;case"cm":Te=72/2.54;break;case"in":Te=72;break;case"px":Te=kd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Te=12;break;case"ex":Te=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Te=n}var qr=null;he(),z();var hf=function(y){return u!==null?qr.encryptor(y,0):function(L){return L}},jd=f.__private__.getPageInfo=f.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[y].objId,pageNumber:y,pageContext:st[y]}},rt=f.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in st)if(st[L].objId===y)break;return jd(L)},ff=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:st[P].objId,pageNumber:P,pageContext:st[P]}};f.addPage=function(){return Bd.apply(this,arguments),this},f.setPage=function(){return Nd.apply(this,arguments),ye.call(this,je[P]),this},f.insertPage=function(y){return this.addPage(),this.movePage(P,y),this},f.movePage=function(y,L){var $,re;if(y>L){$=je[y],re=st[y];for(var ue=y;ue>L;ue--)je[ue]=je[ue-1],st[ue]=st[ue-1];je[L]=$,st[L]=re,this.setPage(L)}else if(y<L){$=je[y],re=st[y];for(var xe=y;xe<L;xe++)je[xe]=je[xe+1],st[xe]=st[xe+1];je[L]=$,st[L]=re,this.setPage(L)}return this},f.deletePage=function(){return Af.apply(this,arguments),this},f.__private__.text=f.text=function(y,L,$,re,ue){var xe,Ce,He,We,it,at,pt,Wt,tr,gr=(re=re||{}).scope||this;if(typeof y=="number"&&typeof L=="number"&&(typeof $=="string"||Array.isArray($))){var zr=$;$=L,L=y,y=zr}if(arguments[3]instanceof Ye?(j("The transform parameter of text() with a Matrix value"),tr=ue):(He=arguments[4],We=arguments[5],Et(pt=arguments[3])==="object"&&pt!==null||(typeof He=="string"&&(We=He,He=null),typeof pt=="string"&&(We=pt,pt=null),typeof pt=="number"&&(He=pt,pt=null),re={flags:pt,angle:He,align:We})),isNaN(L)||isNaN($)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return gr;var Sr="",gs=!1,En=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:_A,Vs=gr.internal.scaleFactor;function Dd(Rt){return Rt=Rt.split("	").join(Array(re.TabLen||9).join(" ")),gn(Rt,pt)}function El(Rt){for(var Ht,ir=Rt.concat(),br=[],pa=ir.length;pa--;)typeof(Ht=ir.shift())=="string"?br.push(Ht):Array.isArray(Rt)&&(Ht.length===1||Ht[1]===void 0&&Ht[2]===void 0)?br.push(Ht[0]):br.push([Ht[0],Ht[1],Ht[2]]);return br}function Ql(Rt,Ht){var ir;if(typeof Rt=="string")ir=Ht(Rt)[0];else if(Array.isArray(Rt)){for(var br,pa,Hl=Rt.concat(),to=[],Md=Hl.length;Md--;)typeof(br=Hl.shift())=="string"?to.push(Ht(br)[0]):Array.isArray(br)&&typeof br[0]=="string"&&(pa=Ht(br[0],br[1],br[2]),to.push([pa[0],pa[1],pa[2]]));ir=to}return ir}var Vi=!1,Ul=!0;if(typeof y=="string")Vi=!0;else if(Array.isArray(y)){var Ll=y.concat();Ce=[];for(var Gi,Dr=Ll.length;Dr--;)(typeof(Gi=Ll.shift())!="string"||Array.isArray(Gi)&&typeof Gi[0]!="string")&&(Ul=!1);Vi=Ul}if(Vi===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Wi=Fe/gr.internal.scaleFactor,Ji=Wi*(En-1);switch(re.baseline){case"bottom":$-=Ji;break;case"top":$+=Wi-Ji;break;case"hanging":$+=Wi-2*Ji;break;case"middle":$+=Wi/2-Ji}if((at=re.maxWidth||0)>0&&(typeof y=="string"?y=gr.splitTextToSize(y,at):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(Rt,Ht){return Rt.concat(gr.splitTextToSize(Ht,at))},[]))),xe={text:y,x:L,y:$,options:re,mutex:{pdfEscape:gn,activeFontKey:dt,fonts:Pt,activeFontSize:Fe}},kt.publish("preProcessText",xe),y=xe.text,He=(re=xe.options).angle,!(tr instanceof Ye)&&He&&typeof He=="number"){He*=Math.PI/180,re.rotationDirection===0&&(He=-He),B===w.ADVANCED&&(He=-He);var Xi=Math.cos(He),Il=Math.sin(He);tr=new Ye(Xi,Il,-Il,Xi,0,0)}else He&&He instanceof Ye&&(tr=He);B!==w.ADVANCED||tr||(tr=Ms),(it=re.charSpace||Ki)!==void 0&&(Sr+=F(k(it))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wt=re.horizontalScale)!==void 0&&(Sr+=F(100*Wt)+` Tz
`),re.lang;var pn=-1,Nf=re.renderingMode!==void 0?re.renderingMode:re.stroke,Pl=gr.internal.getCurrentPageInfo().pageContext;switch(Nf){case 0:case!1:case"fill":pn=0;break;case 1:case!0:case"stroke":pn=1;break;case 2:case"fillThenStroke":pn=2;break;case 3:case"invisible":pn=3;break;case 4:case"fillAndAddForClipping":pn=4;break;case 5:case"strokeAndAddPathForClipping":pn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pn=6;break;case 7:case"addToPathForClipping":pn=7}var Td=Pl.usedRenderingMode!==void 0?Pl.usedRenderingMode:-1;pn!==-1?Sr+=pn+` Tr
`:Td!==-1&&(Sr+=`0 Tr
`),pn!==-1&&(Pl.usedRenderingMode=pn),We=re.align||"left";var Kn,$i=Fe*En,Rd=gr.internal.pageSize.getWidth(),Hd=Pt[dt];it=re.charSpace||Ki,at=re.maxWidth||0,pt=Object.assign({autoencode:!0,noBOM:!0},re.flags);var Ma=[],zA=function(Rt){return gr.getStringUnitWidth(Rt,{font:Hd,charSpace:it,fontSize:Fe,doKerning:!1})*Fe/Vs};if(Object.prototype.toString.call(y)==="[object Array]"){var mn;Ce=El(y),We!=="left"&&(Kn=Ce.map(zA));var sn,_a=0;if(We==="right"){L-=Kn[0],y=[],Dr=Ce.length;for(var ha=0;ha<Dr;ha++)ha===0?(sn=zs(L),mn=ua($)):(sn=k(_a-Kn[ha]),mn=-$i),y.push([Ce[ha],sn,mn]),_a=Kn[ha]}else if(We==="center"){L-=Kn[0]/2,y=[],Dr=Ce.length;for(var fa=0;fa<Dr;fa++)fa===0?(sn=zs(L),mn=ua($)):(sn=k((_a-Kn[fa])/2),mn=-$i),y.push([Ce[fa],sn,mn]),_a=Kn[fa]}else if(We==="left"){y=[],Dr=Ce.length;for(var Yi=0;Yi<Dr;Yi++)y.push(Ce[Yi])}else if(We==="justify"&&Hd.encoding==="Identity-H"){y=[],Dr=Ce.length,at=at!==0?at:Rd;for(var ga=0,Ar=0;Ar<Dr;Ar++)if(mn=Ar===0?ua($):-$i,sn=Ar===0?zs(L):ga,Ar<Dr-1){var Dl=k((at-Kn[Ar])/(Ce[Ar].split(" ").length-1)),an=Ce[Ar].split(" ");y.push([an[0]+" ",sn,mn]),ga=0;for(var qn=1;qn<an.length;qn++){var Zi=(zA(an[qn-1]+" "+an[qn])-zA(an[qn]))*Vs+Dl;qn==an.length-1?y.push([an[qn],Zi,0]):y.push([an[qn]+" ",Zi,0]),ga-=Zi}}else y.push([Ce[Ar],sn,mn]);y.push(["",ga,0])}else{if(We!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],Dr=Ce.length,at=at!==0?at:Rd,Ar=0;Ar<Dr;Ar++)mn=Ar===0?ua($):-$i,sn=Ar===0?zs(L):0,Ar<Dr-1?Ma.push(F(k((at-Kn[Ar])/(Ce[Ar].split(" ").length-1)))):Ma.push(0),y.push([Ce[Ar],sn,mn])}}var Od=typeof re.R2L=="boolean"?re.R2L:Ge;Od===!0&&(y=Ql(y,function(Rt,Ht,ir){return[Rt.split("").reverse().join(""),Ht,ir]})),xe={text:y,x:L,y:$,options:re,mutex:{pdfEscape:gn,activeFontKey:dt,fonts:Pt,activeFontSize:Fe}},kt.publish("postProcessText",xe),y=xe.text,gs=xe.mutex.isHex||!1;var Tl=Pt[dt].encoding;Tl!=="WinAnsiEncoding"&&Tl!=="StandardEncoding"||(y=Ql(y,function(Rt,Ht,ir){return[Dd(Rt),Ht,ir]})),Ce=El(y),y=[];for(var VA,GA,Ka,WA=0,eo=1,JA=Array.isArray(Ce[0])?eo:WA,qa="",Rl=function(Rt,Ht,ir){var br="";return ir instanceof Ye?(ir=typeof re.angle=="number"?ls(ir,new Ye(1,0,0,1,Rt,Ht)):ls(new Ye(1,0,0,1,Rt,Ht),ir),B===w.ADVANCED&&(ir=ls(new Ye(1,0,0,-1,0,0),ir)),br=ir.join(" ")+` Tm
`):br=F(Rt)+" "+F(Ht)+` Td
`,br},zn=0;zn<Ce.length;zn++){switch(qa="",JA){case eo:Ka=(gs?"<":"(")+Ce[zn][0]+(gs?">":")"),VA=parseFloat(Ce[zn][1]),GA=parseFloat(Ce[zn][2]);break;case WA:Ka=(gs?"<":"(")+Ce[zn]+(gs?">":")"),VA=zs(L),GA=ua($)}Ma!==void 0&&Ma[zn]!==void 0&&(qa=Ma[zn]+` Tw
`),zn===0?y.push(qa+Rl(VA,GA,tr)+Ka):JA===WA?y.push(qa+Ka):JA===eo&&y.push(qa+Rl(VA,GA,tr)+Ka)}y=JA===WA?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Vn=`BT
/`;return Vn+=dt+" "+Fe+` Tf
`,Vn+=F(Fe*En)+` TL
`,Vn+=KA+`
`,Vn+=Sr,Vn+=y,V(Vn+="ET"),x[dt]=!0,gr};var gf=f.__private__.clip=f.clip=function(y){return V(y==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return gf("evenodd")},f.__private__.discardPath=f.discardPath=function(){return V("n"),this};var qs=f.__private__.isValidStyle=function(y){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(L=!0),L};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(y){return qs(y)&&(c=y),this};var Sd=f.__private__.getStyle=f.getStyle=function(y){var L=c;switch(y){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=y}return L},Fd=f.close=function(){return V("h"),this};f.stroke=function(){return V("S"),this},f.fill=function(y){return Mi("f",y),this},f.fillEvenOdd=function(y){return Mi("f*",y),this},f.fillStroke=function(y){return Mi("B",y),this},f.fillStrokeEvenOdd=function(y){return Mi("B*",y),this};var Mi=function(y,L){Et(L)==="object"?mf(L,y):V(y)},wl=function(y){y===null||B===w.ADVANCED&&y===void 0||(y=Sd(y),V(y))};function pf(y,L,$,re,ue){var xe=new Lo(L||this.boundingBox,$||this.xStep,re||this.yStep,this.gState,ue||this.matrix);xe.stream=this.stream;var Ce=y+"$$"+this.cloneIndex+++"$$";return fn(Ce,xe),xe}var mf=function(y,L){var $=RA[y.key],re=Ct[$];if(re instanceof ti)V("q"),V(xf(L)),re.gState&&f.setGState(re.gState),V(y.matrix.toString()+" cm"),V("/"+$+" sh"),V("Q");else if(re instanceof Lo){var ue=new Ye(1,0,0,-1,0,Oa());y.matrix&&(ue=ue.multiply(y.matrix||Ms),$=pf.call(re,y.key,y.boundingBox,y.xStep,y.yStep,ue).id),V("q"),V("/Pattern cs"),V("/"+$+" scn"),re.gState&&f.setGState(re.gState),V(L),V("Q")}},xf=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},vl=f.moveTo=function(y,L){return V(F(k(y))+" "+F(K(L))+" m"),this},MA=f.lineTo=function(y,L){return V(F(k(y))+" "+F(K(L))+" l"),this},Ra=f.curveTo=function(y,L,$,re,ue,xe){return V([F(k(y)),F(K(L)),F(k($)),F(K(re)),F(k(ue)),F(K(xe)),"c"].join(" ")),this};f.__private__.line=f.line=function(y,L,$,re,ue){if(isNaN(y)||isNaN(L)||isNaN($)||isNaN(re)||!qs(ue))throw new Error("Invalid arguments passed to jsPDF.line");return B===w.COMPAT?this.lines([[$-y,re-L]],y,L,[1,1],ue||"S"):this.lines([[$-y,re-L]],y,L,[1,1]).stroke()},f.__private__.lines=f.lines=function(y,L,$,re,ue,xe){var Ce,He,We,it,at,pt,Wt,tr,gr,zr,Sr,gs;if(typeof y=="number"&&(gs=$,$=L,L=y,y=gs),re=re||[1,1],xe=xe||!1,isNaN(L)||isNaN($)||!Array.isArray(y)||!Array.isArray(re)||!qs(ue)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vl(L,$),Ce=re[0],He=re[1],it=y.length,zr=L,Sr=$,We=0;We<it;We++)(at=y[We]).length===2?(zr=at[0]*Ce+zr,Sr=at[1]*He+Sr,MA(zr,Sr)):(pt=at[0]*Ce+zr,Wt=at[1]*He+Sr,tr=at[2]*Ce+zr,gr=at[3]*He+Sr,zr=at[4]*Ce+zr,Sr=at[5]*He+Sr,Ra(pt,Wt,tr,gr,zr,Sr));return xe&&Fd(),wl(ue),this},f.path=function(y){for(var L=0;L<y.length;L++){var $=y[L],re=$.c;switch($.op){case"m":vl(re[0],re[1]);break;case"l":MA(re[0],re[1]);break;case"c":Ra.apply(this,re);break;case"h":Fd()}}return this},f.__private__.rect=f.rect=function(y,L,$,re,ue){if(isNaN(y)||isNaN(L)||isNaN($)||isNaN(re)||!qs(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return B===w.COMPAT&&(re=-re),V([F(k(y)),F(K(L)),F(k($)),F(k(re)),"re"].join(" ")),wl(ue),this},f.__private__.triangle=f.triangle=function(y,L,$,re,ue,xe,Ce){if(isNaN(y)||isNaN(L)||isNaN($)||isNaN(re)||isNaN(ue)||isNaN(xe)||!qs(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-y,re-L],[ue-$,xe-re],[y-ue,L-xe]],y,L,[1,1],Ce,!0),this},f.__private__.roundedRect=f.roundedRect=function(y,L,$,re,ue,xe,Ce){if(isNaN(y)||isNaN(L)||isNaN($)||isNaN(re)||isNaN(ue)||isNaN(xe)||!qs(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var He=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*$),xe=Math.min(xe,.5*re),this.lines([[$-2*ue,0],[ue*He,0,ue,xe-xe*He,ue,xe],[0,re-2*xe],[0,xe*He,-ue*He,xe,-ue,xe],[2*ue-$,0],[-ue*He,0,-ue,-xe*He,-ue,-xe],[0,2*xe-re],[0,-xe*He,ue*He,-xe,ue,-xe]],y+ue,L,[1,1],Ce,!0),this},f.__private__.ellipse=f.ellipse=function(y,L,$,re,ue){if(isNaN(y)||isNaN(L)||isNaN($)||isNaN(re)||!qs(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*$,Ce=4/3*(Math.SQRT2-1)*re;return vl(y+$,L),Ra(y+$,L-Ce,y+xe,L-re,y,L-re),Ra(y-xe,L-re,y-$,L-Ce,y-$,L),Ra(y-$,L+Ce,y-xe,L+re,y,L+re),Ra(y+xe,L+re,y+$,L+Ce,y+$,L),wl(ue),this},f.__private__.circle=f.circle=function(y,L,$,re){if(isNaN(y)||isNaN(L)||isNaN($)||!qs(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,L,$,$,re)},f.setFont=function(y,L,$){return $&&(L=q(L,$)),dt=Cd(y,L,{disableWarning:!1}),this};var yf=f.__private__.getFont=f.getFont=function(){return Pt[Cd.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var y,L,$={};for(y in zt)if(zt.hasOwnProperty(y))for(L in $[y]=[],zt[y])zt[y].hasOwnProperty(L)&&$[y].push(L);return $},f.addFont=function(y,L,$,re,ue){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&($=q($,re)),ue=ue||"Identity-H",ml.call(this,y,L,$,ue)};var _A,bl=e.lineWidth||.200025,_i=f.__private__.getLineWidth=f.getLineWidth=function(){return bl},Ed=f.__private__.setLineWidth=f.setLineWidth=function(y){return bl=y,V(F(k(y))+" w"),this};f.__private__.setLineDash=Ze.API.setLineDash=Ze.API.setLineDashPattern=function(y,L){if(y=y||[],L=L||0,isNaN(L)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function($){return F(k($))}).join(" "),L=F(k(L)),V("["+y+"] "+L+" d"),this};var Qd=f.__private__.getLineHeight=f.getLineHeight=function(){return Fe*_A};f.__private__.getLineHeight=f.getLineHeight=function(){return Fe*_A};var Ud=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(_A=y),this},Ld=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return _A};Ud(e.lineHeight);var zs=f.__private__.getHorizontalCoordinate=function(y){return k(y)},ua=f.__private__.getVerticalCoordinate=function(y){return B===w.ADVANCED?y:st[P].mediaBox.topRightY-st[P].mediaBox.bottomLeftY-k(y)},wf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(y){return F(zs(y))},Ha=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(y){return F(ua(y))},fs=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ds(fs)},f.__private__.setStrokeColor=f.setDrawColor=function(y,L,$,re){return fs=us({ch1:y,ch2:L,ch3:$,ch4:re,pdfColorType:"draw",precision:2}),V(fs),this};var Bl=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ds(Bl)},f.__private__.setFillColor=f.setFillColor=function(y,L,$,re){return Bl=us({ch1:y,ch2:L,ch3:$,ch4:re,pdfColorType:"fill",precision:2}),V(Bl),this};var KA=e.textColor||"0 g",vf=f.__private__.getTextColor=f.getTextColor=function(){return ds(KA)};f.__private__.setTextColor=f.setTextColor=function(y,L,$,re){return KA=us({ch1:y,ch2:L,ch3:$,ch4:re,pdfColorType:"text",precision:3}),this};var Ki=e.charSpace,bf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ki||0)};f.__private__.setCharSpace=f.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ki=y,this};var Nl=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(y){var L=f.CapJoinStyles[y];if(L===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=L,V(L+" J"),this};var Cl=0;f.__private__.setLineJoin=f.setLineJoin=function(y){var L=f.CapJoinStyles[y];if(L===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=L,V(L+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V(F(k(y))+" M"),this},f.GState=Z0,f.setGState=function(y){(y=typeof y=="string"?Zt[os[y]]:Id(null,y)).equals(la)||(V("/"+y.id+" gs"),la=y)};var Id=function(y,L){if(!y||!os[y]){var $=!1;for(var re in Zt)if(Zt.hasOwnProperty(re)&&Zt[re].equals(L)){$=!0;break}if($)L=Zt[re];else{var ue="GS"+(Object.keys(Zt).length+1).toString(10);Zt[ue]=L,L.id=ue}return y&&(os[y]=L.id),kt.publish("addGState",L),L}};f.addGState=function(y,L){return Id(y,L),this},f.saveGraphicsState=function(){return V("q"),Rs.push({key:dt,size:Fe,color:KA}),this},f.restoreGraphicsState=function(){V("Q");var y=Rs.pop();return dt=y.key,Fe=y.size,KA=y.color,la=null,this},f.setCurrentTransformationMatrix=function(y){return V(y.toString()+" cm"),this},f.comment=function(y){return V("#"+y),this};var qi=function(y,L){var $=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(xe){isNaN(xe)||($=parseFloat(xe))}});var re=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(xe){isNaN(xe)||(re=parseFloat(xe))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(xe){ue=xe.toString()}}),this},kl=function(y,L,$,re){qi.call(this,y,L),this.type="rect";var ue=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Ce){isNaN(Ce)||(ue=parseFloat(Ce))}});var xe=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(Ce){isNaN(Ce)||(xe=parseFloat(Ce))}}),this},jl=function(){this.page=er,this.currentPage=P,this.pages=je.slice(0),this.pagesContext=st.slice(0),this.x=Kr,this.y=vt,this.matrix=is,this.width=qA(P),this.height=Oa(P),this.outputDestination=Ee,this.id="",this.objectNumber=-1};jl.prototype.restore=function(){er=this.page,P=this.currentPage,st=this.pagesContext,je=this.pages,Kr=this.x,vt=this.y,is=this.matrix,Sl(P,this.width),Fl(P,this.height),Ee=this.outputDestination};var Pd=function(y,L,$,re,ue){Os.push(new jl),er=P=0,je=[],Kr=y,vt=L,is=ue,xl([$,re])},Bf=function(y){if(Hs[y])Os.pop().restore();else{var L=new jl,$="Xo"+(Object.keys(Pr).length+1).toString(10);L.id=$,Hs[y]=$,Pr[$]=L,kt.publish("addFormObject",L),Os.pop().restore()}};for(var zi in f.beginFormObject=function(y,L,$,re,ue){return Pd(y,L,$,re,ue),this},f.endFormObject=function(y){return Bf(y),this},f.doFormObject=function(y,L){var $=Pr[Hs[y]];return V("q"),V(L.toString()+" cm"),V("/"+$.id+" Do"),V("Q"),this},f.getFormObject=function(y){var L=Pr[Hs[y]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},f.save=function(y,L){return y=y||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(ei(Hi(da()),y),typeof ei.unload=="function"&&et.setTimeout&&setTimeout(ei.unload,911),this):new Promise(function($,re){try{var ue=ei(Hi(da()),y);typeof ei.unload=="function"&&et.setTimeout&&setTimeout(ei.unload,911),$(ue)}catch(xe){re(xe.message)}})},Ze.API)Ze.API.hasOwnProperty(zi)&&(zi==="events"&&Ze.API.events.length?function(y,L){var $,re,ue;for(ue=L.length-1;ue!==-1;ue--)$=L[ue][0],re=L[ue][1],y.subscribe.apply(y,[$].concat(typeof re=="function"?[re]:re))}(kt,Ze.API.events):f[zi]=Ze.API[zi]);var qA=f.getPageWidth=function(y){return(st[y=y||P].mediaBox.topRightX-st[y].mediaBox.bottomLeftX)/Te},Sl=f.setPageWidth=function(y,L){st[y].mediaBox.topRightX=L*Te+st[y].mediaBox.bottomLeftX},Oa=f.getPageHeight=function(y){return(st[y=y||P].mediaBox.topRightY-st[y].mediaBox.bottomLeftY)/Te},Fl=f.setPageHeight=function(y,L){st[y].mediaBox.topRightY=L*Te+st[y].mediaBox.bottomLeftY};return f.internal={pdfEscape:gn,getStyle:Sd,getFont:yf,getFontSize:Ie,getCharSpace:bf,getTextColor:vf,getLineHeight:Qd,getLineHeightFactor:Ld,getLineWidth:_i,write:Me,getHorizontalCoordinate:zs,getVerticalCoordinate:ua,getCoordinateString:wf,getVerticalCoordinateString:Ha,collections:{},newObject:vr,newAdditionalObject:Qi,newObjectDeferred:fr,newObjectDeferredBegin:Fn,getFilters:_s,putStream:_n,events:kt,scaleFactor:Te,pageSize:{getWidth:function(){return qA(P)},setWidth:function(y){Sl(P,y)},getHeight:function(){return Oa(P)},setHeight:function(y){Fl(P,y)}},encryptionOptions:u,encryption:qr,getEncryptor:hf,output:Oi,getNumberOfPages:of,pages:je,out:V,f2:R,f3:E,getPageInfo:jd,getPageInfoByObjId:rt,getCurrentPageInfo:ff,getPDFVersion:p,Point:qi,Rectangle:kl,Matrix:Ye,hasHotfix:kd},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return qA(P)},set:function(y){Sl(P,y)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Oa(P)},set:function(y){Fl(P,y)},enumerable:!0,configurable:!0}),af.call(f,ke),dt="F1",Bd(a,r),kt.publish("initialized"),f}mo.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},mo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mo.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},mo.prototype.processOwnerPassword=function(e,t){return Zp(Yp(t).substr(0,5),e)},mo.prototype.encryptor=function(e,t){var r=Yp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Zp(r,n)}},Z0.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Et(e)!==Et(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ze.API={events:[]},Ze.version="3.0.1";var nr=Ze.API,Ux=1,Ei=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},io=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(e){return e.toFixed(2)},eA=function(e){return e.toFixed(5)};nr.__acroform__={};var Sn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Y1=function(e){return e*Ux},$s=function(e){var t=new dB,r=Ve.internal.getHeight(e)||0,n=Ve.internal.getWidth(e)||0;return t.BBox=[0,0,Number(At(n)),Number(At(r))],t},b3=nr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},B3=nr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},N3=nr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},dr=nr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return N3(e,t-1)},ur=nr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return b3(e,t-1)},hr=nr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return B3(e,t-1)},C3=nr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],A=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(A+o)||0,l.upperRight_X=r(a+i)||0,l.upperRight_Y=n(A)||0,[Number(At(l.lowerLeft_X)),Number(At(l.lowerLeft_Y)),Number(At(l.upperRight_X)),Number(At(l.upperRight_Y))]},k3=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=em(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+At(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var A=$s(e);return A.scope=e.scope,A.stream=t.join(`
`),A}},em=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var A=r,i=Ve.internal.getHeight(e)||0;i=i<0?-i:i;var o=Ve.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,k,Q){if(E+1<a.length){var K=k+" "+a[E+1][0];return ku(K,e,Q).width<=o-4}return!1};A++;e:for(;A>0;){t="",A--;var c,u,h=ku("3",e,A).height,x=e.multiline?i-A:(i-h)/2,f=x+=2,b=0,p=0,C=0;if(A<=0){t=`(...) Tj
`,t+="% Width of Text: "+ku(t,e,A=12).width+", FieldWidth:"+o+`
`;break}for(var m="",w=0,B=0;B<a.length;B++)if(a.hasOwnProperty(B)){var D=!1;if(a[B].length!==1&&C!==a[B].length-1){if((h+2)*(w+2)+2>i)continue e;m+=a[B][C],D=!0,p=B,B--}else{m=(m+=a[B][C]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var O=parseInt(B),q=l(O,m,A),F=B>=a.length-1;if(q&&!F){m+=" ",C=0;continue}if(q||F){if(F)p=O;else if(e.multiline&&(h+2)*(w+2)+2>i)continue e}else{if(!e.multiline||(h+2)*(w+2)+2>i)continue e;p=O}}for(var j="",I=b;I<=p;I++){var R=a[I];if(e.multiline){if(I===p){j+=R[C]+" ",C=(C+1)%R.length;continue}if(I===b){j+=R[R.length-1]+" ";continue}}j+=R[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,u=ku(j,e,A).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=At(c)+" "+At(f)+` Td
`,t+="("+Ei(j)+`) Tj
`,t+=-At(c)+` 0 Td
`,f=-(A+2),u=0,b=D?p:p+1,w++,m=""}break}return n.text=t,n.fontSize=A,n},ku=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},j3={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},S3=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},F3=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Et(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},E3=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Is.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(j3)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ux=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new uB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var A=n[a];A.objId=void 0,A.hasAnnotation&&S3(A,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var A=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var o=n[i],l=[],c=o.Rect;if(o.Rect&&(o.Rect=C3(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ve.createDefaultAppearanceStream(o),Et(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=k3(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var h="";for(var x in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(x)){var f=o.appearanceStreamContent[x];if(h+="/"+x+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var i in f)if(f.hasOwnProperty(i)){var b=f[i];typeof b=="function"&&(b=b.call(a,o)),h+="/"+i+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=f)=="function"&&(b=b.call(a,o)),h+="/"+i+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}A&&F3(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},cB=nr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(i){return i};if(Array.isArray(e)){for(var a="[",A=0;A<e.length;A++)switch(A!==0&&(a+=" "),Et(e[A])){case"boolean":case"number":case"object":a+=e[A].toString();break;case"string":e[A].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ei(n(e[A].toString()))+")"):a+=e[A].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},bg=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ei(n(e))+")"},ra=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ra.prototype.toString=function(){return this.objId+" 0 R"},ra.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ra.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(A){return A!="content"&&A!="appearanceStreamContent"&&A!="scope"&&A!="objId"&&A.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:cB(a,this.objId,this.scope)}):a instanceof ra?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var dB=function(){ra.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Sn(dB,ra);var uB=function(){ra.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ei(r(e))+")"}},set:function(r){e=r}})};Sn(uB,ra);var Is=function e(){ra.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');t=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!dr(t,3)},set:function(m){m?this.F=ur(t,3):this.F=hr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');r=m}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(m){n=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(m){n[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(m){n[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(m){n[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(m){n[3]=m}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var A=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!A||A.length<1){if(this instanceof eh)return;A="FieldObject"+e.FieldNum++}var m=function(w){return w};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Ei(m(A))+")"},set:function(m){A=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return A},set:function(m){A=m}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(m){i=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Ux:c},set:function(m){c=m}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(m){u=m}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof eh||this instanceof fi))return bg(h,this.objId,this.scope)},set:function(m){m=m.toString(),h=m}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Lr?x:bg(x,this.objId,this.scope)},set:function(m){m=m.toString(),x=this instanceof Lr?m:m.substr(0,1)==="("?io(m.substr(1,m.length-2)):io(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?io(x.substr(1,x.length-1)):x},set:function(m){m=m.toString(),x=this instanceof Lr?"/"+m:m}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Lr?f:bg(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=this instanceof Lr?m:m.substr(0,1)==="("?io(m.substr(1,m.length-2)):io(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?io(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof Lr?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(m){m=!!m,p=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(m){b=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,1)},set:function(m){m?this.Ff=ur(this.Ff,1):this.Ff=hr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,2)},set:function(m){m?this.Ff=ur(this.Ff,2):this.Ff=hr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,3)},set:function(m){m?this.Ff=ur(this.Ff,3):this.Ff=hr(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');C=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(C){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Sn(Is,ra);var Ko=function(){Is.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cB(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(A,i,o){o||(o=1);for(var l,c=[];l=i.exec(A);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,18)},set:function(r){r?this.Ff=ur(this.Ff,18):this.Ff=hr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ur(this.Ff,19):this.Ff=hr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,20)},set:function(r){r?(this.Ff=ur(this.Ff,20),t.sort()):this.Ff=hr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,22)},set:function(r){r?this.Ff=ur(this.Ff,22):this.Ff=hr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,23)},set:function(r){r?this.Ff=ur(this.Ff,23):this.Ff=hr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,27)},set:function(r){r?this.Ff=ur(this.Ff,27):this.Ff=hr(this.Ff,27)}}),this.hasAppearanceStream=!1};Sn(Ko,Is);var qo=function(){Ko.call(this),this.fontName="helvetica",this.combo=!1};Sn(qo,Ko);var zo=function(){qo.call(this),this.combo=!0};Sn(zo,qo);var c0=function(){zo.call(this),this.edit=!0};Sn(c0,zo);var Lr=function(){Is.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,15)},set:function(r){r?this.Ff=ur(this.Ff,15):this.Ff=hr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,16)},set:function(r){r?this.Ff=ur(this.Ff,16):this.Ff=hr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,17)},set:function(r){r?this.Ff=ur(this.Ff,17):this.Ff=hr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,26)},set:function(r){r?this.Ff=ur(this.Ff,26):this.Ff=hr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(A){return A};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ei(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Et(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Sn(Lr,Is);var d0=function(){Lr.call(this),this.pushButton=!0};Sn(d0,Lr);var Vo=function(){Lr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Sn(Vo,Lr);var eh=function(){var e,t;Is.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var A,i=[];for(A in i.push("<<"),n)i.push("/"+A+" ("+Ei(a(n[A]))+")");return i.push(">>"),i.join(`
`)},set:function(a){Et(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ve.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sn(eh,Is),Vo.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Vo.prototype.createOption=function(e){var t=new eh;return t.Parent=this,t.optionName=e,this.Kids.push(t),Q3.call(this.scope,t),t};var u0=function(){Lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ve.CheckBox.createAppearanceStream()};Sn(u0,Lr);var fi=function(){Is.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,13)},set:function(t){t?this.Ff=ur(this.Ff,13):this.Ff=hr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,21)},set:function(t){t?this.Ff=ur(this.Ff,21):this.Ff=hr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,23)},set:function(t){t?this.Ff=ur(this.Ff,23):this.Ff=hr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,24)},set:function(t){t?this.Ff=ur(this.Ff,24):this.Ff=hr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,25)},set:function(t){t?this.Ff=ur(this.Ff,25):this.Ff=hr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,26)},set:function(t){t?this.Ff=ur(this.Ff,26):this.Ff=hr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sn(fi,Is);var h0=function(){fi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,14)},set:function(e){e?this.Ff=ur(this.Ff,14):this.Ff=hr(this.Ff,14)}}),this.password=!0};Sn(h0,fi);var Ve={CheckBox:{createAppearanceStream:function(){return{N:{On:Ve.CheckBox.YesNormal},D:{On:Ve.CheckBox.YesPushDown,Off:Ve.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=$s(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),A=em(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+At(Ve.internal.getWidth(e))+" "+At(Ve.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+At(A.fontSize)+" Tf "+a),r.push("BT"),r.push(A.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=$s(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],A=Ve.internal.getHeight(e),i=Ve.internal.getWidth(e),o=em(e,e.caption);return a.push("1 g"),a.push("0 0 "+At(i)+" "+At(A)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+At(i-1)+" "+At(A-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+At(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=$s(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ve.internal.getWidth(e))+" "+At(Ve.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Circle.YesNormal,t.D[e]=Ve.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=$s(e);t.scope=e.scope;var r=[],n=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Ve.internal.Bezier_C,A=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+eA(Ve.internal.getWidth(e)/2)+" "+eA(Ve.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=$s(e);t.scope=e.scope;var r=[],n=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),A=Number((a*Ve.internal.Bezier_C).toFixed(5)),i=Number((n*Ve.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+eA(Ve.internal.getWidth(e)/2)+" "+eA(Ve.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+A+" "+A+" "+a+" 0 "+a+" c"),r.push("-"+A+" "+a+" -"+a+" "+A+" -"+a+" 0 c"),r.push("-"+a+" -"+A+" -"+A+" -"+a+" 0 -"+a+" c"),r.push(A+" -"+a+" "+a+" -"+A+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+eA(Ve.internal.getWidth(e)/2)+" "+eA(Ve.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=$s(e);t.scope=e.scope;var r=[],n=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),A=Number((a*Ve.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+eA(Ve.internal.getWidth(e)/2)+" "+eA(Ve.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+A+" "+A+" "+a+" 0 "+a+" c"),r.push("-"+A+" "+a+" -"+a+" "+A+" -"+a+" 0 c"),r.push("-"+a+" -"+A+" -"+A+" -"+a+" 0 -"+a+" c"),r.push(A+" -"+a+" "+a+" -"+A+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Cross.YesNormal,t.D[e]=Ve.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=$s(e);t.scope=e.scope;var r=[],n=Ve.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+At(Ve.internal.getWidth(e)-2)+" "+At(Ve.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),r.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),r.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),r.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=$s(e);t.scope=e.scope;var r=Ve.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Ve.internal.getWidth(e))+" "+At(Ve.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+At(Ve.internal.getWidth(e)-2)+" "+At(Ve.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),n.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),n.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),n.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=$s(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ve.internal.getWidth(e))+" "+At(Ve.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ve.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ve.internal.getWidth(e),r=Ve.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ve.internal.getWidth=function(e){var t=0;return Et(e)==="object"&&(t=Y1(e.Rect[2])),t},Ve.internal.getHeight=function(e){var t=0;return Et(e)==="object"&&(t=Y1(e.Rect[3])),t};var Q3=nr.addField=function(e){if(E3(this,e),!(e instanceof Is))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};nr.AcroFormChoiceField=Ko,nr.AcroFormListBox=qo,nr.AcroFormComboBox=zo,nr.AcroFormEditBox=c0,nr.AcroFormButton=Lr,nr.AcroFormPushButton=d0,nr.AcroFormRadioButton=Vo,nr.AcroFormCheckBox=u0,nr.AcroFormTextField=fi,nr.AcroFormPasswordField=h0,nr.AcroFormAppearance=Ve,nr.AcroForm={ChoiceField:Ko,ListBox:qo,ComboBox:zo,EditBox:c0,Button:Lr,PushButton:d0,RadioButton:Vo,CheckBox:u0,TextField:fi,PasswordField:h0,Appearance:Ve},Ze.AcroForm={ChoiceField:Ko,ListBox:qo,ComboBox:zo,EditBox:c0,Button:Lr,PushButton:d0,RadioButton:Vo,CheckBox:u0,TextField:fi,PasswordField:h0,Appearance:Ve};function hB(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,k){var Q,K,ie,W,ee,z=t;if((k=k||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(q(E))for(ee in r)for(ie=r[ee],Q=0;Q<ie.length;Q+=1){for(W=!0,K=0;K<ie[Q].length;K+=1)if(ie[Q][K]!==void 0&&ie[Q][K]!==E[K]){W=!1;break}if(W===!0){z=ee;break}}else for(ee in r)for(ie=r[ee],Q=0;Q<ie.length;Q+=1){for(W=!0,K=0;K<ie[Q].length;K+=1)if(ie[Q][K]!==void 0&&ie[Q][K]!==E.charCodeAt(K)){W=!1;break}if(W===!0){z=ee;break}}return z===t&&k!==t&&(z=k),z},a=function E(k){for(var Q=this.internal.write,K=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:k.width}),W.push({key:"Height",value:k.height}),k.colorSpace===C.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===C.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var ee="",z=0,te=k.transparency.length;z<te;z++)ee+=k.transparency[z]+" "+k.transparency[z]+" ";W.push({key:"Mask",value:"["+ee+"]"})}k.sMask!==void 0&&W.push({key:"SMask",value:k.objectId+1+" 0 R"});var Ae=k.filter!==void 0?["/"+k.filter]:void 0;if(K({data:k.data,additionalKeyValues:W,alreadyAppliedFilters:Ae,objectId:k.objectId}),Q("endobj"),"sMask"in k&&k.sMask!==void 0){var he="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,S={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:he,data:k.sMask};"filter"in k&&(S.filter=k.filter),E.call(this,S)}if(k.colorSpace===C.INDEXED){var P=this.internal.newObject();K({data:j(new Uint8Array(k.palette)),objectId:P}),Q("endobj")}},A=function(){var E=this.internal.collections.addImage_images;for(var k in E)a.call(this,E[k])},i=function(){var E,k=this.internal.collections.addImage_images,Q=this.internal.write;for(var K in k)Q("/I"+(E=k[K]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",A),this.internal.events.subscribe("putXobjectDict",i))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},h=function(E){return Et(E)==="object"&&E.nodeType===1},x=function(E,k){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var Q=""+E.getAttribute("src");if(Q.indexOf("data:image/")===0)return Fc(unescape(Q).split("base64,").pop());var K=e.loadFile(Q,!0);if(K!==void 0)return K}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ie;switch(k){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;case"JPEG":case"JPG":default:ie="image/jpeg"}return Fc(E.toDataURL(ie,1).split("base64,").pop())}},f=function(E){var k=this.internal.collections.addImage_images;if(k){for(var Q in k)if(E===k[Q].alias)return k[Q]}},b=function(E,k,Q){return E||k||(E=-96,k=-96),E<0&&(E=-1*Q.width*72/E/this.internal.scaleFactor),k<0&&(k=-1*Q.height*72/k/this.internal.scaleFactor),E===0&&(E=k*Q.width/Q.height),k===0&&(k=E*Q.height/Q.width),[E,k]},p=function(E,k,Q,K,ie,W){var ee=b.call(this,Q,K,ie),z=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,Ae=l.call(this);if(Q=ee[0],K=ee[1],Ae[ie.index]=ie,W){W*=Math.PI/180;var he=Math.cos(W),S=Math.sin(W),P=function(Y){return Y.toFixed(4)},J=[P(he),P(S),P(-1*S),P(he),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,z(E),te(k+K),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([z(Q),"0","0",z(K),"0","0","cm"].join(" "))):this.internal.write([z(Q),"0","0",z(K),z(E),te(k+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},C=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var k,Q,K=0;if(typeof E=="string")for(Q=E.length,k=0;k<Q;k++)K=(K<<5)-K+E.charCodeAt(k),K|=0;else if(q(E))for(Q=E.byteLength/2,k=0;k<Q;k++)K=(K<<5)-K+E[k],K|=0;return K},B=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var k=!0;return E.length===0&&(k=!1),E.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(k=!1),k},D=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var k=E.indexOf(",");return k<0?null:E.substring(0,k).trim().endsWith("base64")?E.substring(k+1):null},O=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return O()&&E instanceof ArrayBuffer};var q=e.__addimage__.isArrayBufferView=function(E){return O()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},F=e.__addimage__.binaryStringToUint8Array=function(E){for(var k=E.length,Q=new Uint8Array(k),K=0;K<k;K++)Q[K]=E.charCodeAt(K);return Q},j=e.__addimage__.arrayBufferToBinaryString=function(E){for(var k="",Q=q(E)?E:new Uint8Array(E),K=0;K<Q.length;K+=8192)k+=String.fromCharCode.apply(null,Q.subarray(K,K+8192));return k};e.addImage=function(){var E,k,Q,K,ie,W,ee,z,te;if(typeof arguments[1]=="number"?(k=t,Q=arguments[1],K=arguments[2],ie=arguments[3],W=arguments[4],ee=arguments[5],z=arguments[6],te=arguments[7]):(k=arguments[1],Q=arguments[2],K=arguments[3],ie=arguments[4],W=arguments[5],ee=arguments[6],z=arguments[7],te=arguments[8]),Et(E=arguments[0])==="object"&&!h(E)&&"imageData"in E){var Ae=E;E=Ae.imageData,k=Ae.format||k||t,Q=Ae.x||Q||0,K=Ae.y||K||0,ie=Ae.w||Ae.width||ie,W=Ae.h||Ae.height||W,ee=Ae.alias||ee,z=Ae.compression||z,te=Ae.rotation||Ae.angle||te}var he=this.internal.getFilters();if(z===void 0&&he.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(Q)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var S=I.call(this,E,k,ee,z);return p.call(this,Q,K,ie,W,S,te),this};var I=function(E,k,Q,K){var ie,W,ee;if(typeof E=="string"&&n(E)===t){E=unescape(E);var z=R(E,!1);(z!==""||(z=e.loadFile(E,!0))!==void 0)&&(E=z)}if(h(E)&&(E=x(E,k)),k=n(E,k),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((ee=Q)==null||ee.length===0)&&(Q=function(te){return typeof te=="string"||q(te)?w(te):q(te.data)?w(te.data):null}(E)),(ie=f.call(this,Q))||(O()&&(E instanceof Uint8Array||k==="RGBA"||(W=E,E=F(E))),ie=this["process"+k.toUpperCase()](E,c.call(this),Q,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:m.NONE}(K),W)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},R=e.__addimage__.convertBase64ToBinaryString=function(E,k){k=typeof k!="boolean"||k;var Q,K="";if(typeof E=="string"){var ie;Q=(ie=D(E))!==null&&ie!==void 0?ie:E;try{K=Fc(Q)}catch(W){if(k)throw B(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};e.getImageProperties=function(E){var k,Q,K="";if(h(E)&&(E=x(E)),typeof E=="string"&&n(E)===t&&((K=R(E,!1))===""&&(K=e.loadFile(E)||""),E=K),Q=n(E),!u(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(!O()||E instanceof Uint8Array||(E=F(E)),!(k=this["process"+Q.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=Q,k}})(Ze.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ze.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,A,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((n=c[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var x=0;x<c.length;x++){n=c[x];var f=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(p.objId),w=n.title||"Note";A="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(m(n.contents))+")",A+=" /Popup "+C.objId+" 0 R",A+=" /P "+l.objId+" 0 R",A+=" /T ("+f(m(w))+") >>",p.content=A;var B=p.objId+" 0 R";A="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+B,n.open&&(A+=" /Open true"),A+=" >>",C.content=A,this.internal.write(p.objId,"0 R",C.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";A="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(b(n.contents))+")",A+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",A+=" /Border [0 0 0]",A+=" >>",this.internal.write(A);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",A="",n.options.url)A="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(A="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":A+=" /Fit]";break;case"FitH":A+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,A+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var q=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),A+=" /XYZ "+n.options.left+" "+q+" "+n.options.zoom+"]"}A!=""&&(A+=" >>",this.internal.write(A))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,A,i){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+A)},options:i,type:"link"})},e.textWithLink=function(r,n,a,A){var i,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(A.maxWidth!==void 0){o=A.maxWidth;var u=this.splitTextToSize(r,o).length;i=Math.ceil(c*u)}else o=l,i=c;return this.text(r,n,a,A),a+=.2*c,A.align==="center"&&(n-=l/2),A.align==="right"&&(n-=l),this.link(n,a-c,o,i,A),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ze.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var A=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=e.__arabicParser__.isArabicEndLetter=function(p){return i(p)&&A(p)&&t[p.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(p){return i(p)&&a.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return i(p)&&A(p)&&t[p.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return i(p)&&A(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return i(p)&&A(p)&&t[p.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return i(p)&&A(p)&&t[p.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(p){var C=0,m=r,w="",B=0;for(C=0;C<p.length;C+=1)m[p.charCodeAt(C)]!==void 0?(B++,typeof(m=m[p.charCodeAt(C)])=="number"&&(w+=String.fromCharCode(m),m=r,B=0),C===p.length-1&&(m=r,w+=p.charAt(C-(B-1)),C-=B-1,B=0)):(m=r,w+=p.charAt(C-B),C-=B,B=0);return w};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(p,C,m){return i(p)?A(p)===!1?-1:!c(p)||!i(C)&&!i(m)||!i(m)&&o(C)||o(p)&&!i(C)||o(p)&&l(C)||o(p)&&o(C)?0:u(p)&&i(C)&&!o(C)&&i(m)&&c(m)?3:o(p)||!i(m)?1:2:-1},f=function(p){var C=0,m=0,w=0,B="",D="",O="",q=(p=p||"").split("\\s+"),F=[];for(C=0;C<q.length;C+=1){for(F.push(""),m=0;m<q[C].length;m+=1)B=q[C][m],D=q[C][m-1],O=q[C][m+1],i(B)?(w=x(B,D,O),F[C]+=w!==-1?String.fromCharCode(t[B.charCodeAt(0)][w]):B):F[C]+=B;F[C]=h(F[C])}return F.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var p,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(C)){var w=0;for(m=[],w=0;w<C.length;w+=1)Array.isArray(C[w])?m.push([f(C[w][0]),C[w][1],C[w][2]]):m.push([f(C[w])]);p=m}else p=f(C);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",b])}(Ze.API),Ze.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var A=[];Object.defineProperty(this,"childNodes",{get:function(){return A},set:function(o){A=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ze.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new A,this.internal.__cell__.pages=1},A=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(p){x=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(p){b=p}}),this};A.prototype.clone=function(){return new A(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},A.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),x=c.scaleFactor||this.internal.scaleFactor,f=0,b=0,p=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=c.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(B,D){return B.concat(C.splitTextToSize(D,m))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)f<(p=this.getStringUnitWidth(l[w],{font:h})*u)&&(f=p);return f!==0&&(b=l.length),{w:f/=x,h:Math.max((b*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new A(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var l;l=arguments[0]instanceof A?arguments[0]:new A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&x&&(this.printHeaderRow(l.lineNumber,!0),l.y+=x[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,h,x){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,b,p,C,m=[],w=[],B=[],D={},O={},q=[],F=[],j=(x=x||{}).autoSize||!1,I=x.printHeaders!==!1,R=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,E=x.margins||Object.assign({width:this.getPageWidth()},t),k=typeof x.padding=="number"?x.padding:3,Q=x.headerBackgroundColor||"#c8c8c8",K=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=K,this.setFontSize(R),h==null)w=m=Object.keys(u[0]),B=m.map(function(){return"left"});else if(Array.isArray(h)&&Et(h[0])==="object")for(m=h.map(function(Ae){return Ae.name}),w=h.map(function(Ae){return Ae.prompt||Ae.name||""}),B=h.map(function(Ae){return Ae.align||"left"}),f=0;f<h.length;f+=1)O[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(w=m=h,B=m.map(function(){return"left"}));if(j||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<m.length;f+=1){for(D[C=m[f]]=u.map(function(Ae){return Ae[C]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=D[C],this.setFont(void 0,"normal"),p=0;p<b.length;p+=1)q.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[C]=Math.max.apply(null,q)+k+k,q=[]}if(I){var ie={};for(f=0;f<m.length;f+=1)ie[m[f]]={},ie[m[f]].text=w[f],ie[m[f]].align=B[f];var W=o.call(this,ie,O);F=m.map(function(Ae){return new A(l,c,O[Ae],W,ie[Ae].text,void 0,ie[Ae].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ee=h.reduce(function(Ae,he){return Ae[he.name]=he.align,Ae},{});for(f=0;f<u.length;f+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:f,data:u[f]},this);var z=o.call(this,u[f],O);for(p=0;p<m.length;p+=1){var te=u[f][m[p]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:f,col:p,data:te},this),i.call(this,new A(l,c,O[m[p]],z,te,f+2,ee[m[p]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(l).map(function(f){var b=l[f];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/x+u+u},this).reduce(function(f,b){return Math.max(f,b)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new A(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,x.push(u)),u.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,u),this.setTextColor(b)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}}(Ze.API);var fB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tm=hB(gB),pB=[100,200,300,400,500,600,700,800,900],U3=hB(pB);function rm(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(A){return fB[A=A||"normal"]?A:"normal"}(e.style),n=function(A){if(!A)return 400;if(typeof A=="number")return A>=100&&A<=900&&A%100==0?A:400;if(/^\d00$/.test(A))return parseInt(A);switch(A){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(A){return typeof tm[A=A||"normal"]=="number"?A:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function Z1(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var L3={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},e2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function t2(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function I3(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},L3,r.genericFontFamilies||{}),A=null,i=null,o=0;o<t.length;++o)if(a[(A=rm(t[o])).family]&&(A.family=a[A.family]),e.hasOwnProperty(A.family)){i=e[A.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+t2(A)+"' and default family '"+n+"'.");if(i=function(l,c){if(c[l])return c[l];var u=tm[l],h=u<=tm.normal?-1:1,x=Z1(c,gB,u,h);if(!x)throw new Error("Could not find a matching font-stretch value for "+l);return x}(A.stretch,i),i=function(l,c){if(c[l])return c[l];for(var u=fB[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(A.style,i),!(i=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=U3[l],h=Z1(c,pB,u,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(A.weight,i)))throw new Error("Failed to resolve a font for the rule '"+t2(A)+"'.");return i}function r2(e){return e.trimLeft()}function P3(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function D3(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ju,n2,s2,Bg=["times"];(function(e){var t,r,n,a,A,i,o,l,c,u=function(S){return S=S||{},this.isStrokeTransparent=S.isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=S.transform!==void 0?S.transform.clone():new l,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new i,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new i,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect=typeof S.ignoreClearRect!="boolean"||S.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,A=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=S;Object.defineProperty(this,"pdf",{get:function(){return P}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(ye){J=!!ye}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(ye){Y=!!ye}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(ye){isNaN(ye)||(ne=ye)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ye){isNaN(ye)||(ce=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var V;typeof ye=="number"?V=[ye,ye,ye,ye]:((V=new Array(4))[0]=ye[0],V[1]=ye.length>=2?ye[1]:V[0],V[2]=ye.length>=3?ye[2]:V[0],V[3]=ye.length>=4?ye[3]:V[1]),c.margin=V}});var Z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Z},set:function(ye){Z=ye}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ye){de=ye}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(ye){Ne=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof u&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(ye){je=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var V;V=x(ye),this.ctx.fillStyle=V.style,this.ctx.isFillTransparent=V.a===0,this.ctx.fillOpacity=V.a,this.pdf.setFillColor(V.r,V.g,V.b,{a:V.a}),this.pdf.setTextColor(V.r,V.g,V.b,{a:V.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var V=x(ye);this.ctx.strokeStyle=V.style,this.ctx.isStrokeTransparent=V.a===0,this.ctx.strokeOpacity=V.a,V.a===0?this.pdf.setDrawColor(255,255,255):(V.a,this.pdf.setDrawColor(V.r,V.g,V.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Le=null;function Ee(ye,V){if(Le===null){var Me=function(Qe){var ke=[];return Object.keys(Qe).forEach(function(Fe){Qe[Fe].forEach(function(De){var Ie=null;switch(De){case"bold":Ie={family:Fe,weight:"bold"};break;case"italic":Ie={family:Fe,style:"italic"};break;case"bolditalic":Ie={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Fe}}Ie!==null&&(Ie.ref={name:Fe,style:De},ke.push(Ie))})}),ke}(ye.getFontList());Le=function(Qe){for(var ke={},Fe=0;Fe<Qe.length;++Fe){var De=rm(Qe[Fe]),Ie=De.family,Ge=De.stretch,tt=De.style,nt=De.weight;ke[Ie]=ke[Ie]||{},ke[Ie][Ge]=ke[Ie][Ge]||{},ke[Ie][Ge][tt]=ke[Ie][Ge][tt]||{},ke[Ie][Ge][tt][nt]=De}return ke}(Me.concat(V))}return Le}var Xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xe},set:function(ye){Le=null,Xe=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var V;if(this.ctx.font=ye,(V=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Me=V[1];V[2];var Qe=V[3],ke=V[4];V[5];var Fe=V[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(De==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Ie=function($e){var dt,Te,Kr=[],vt=$e.trim();if(vt==="")return Bg;if(vt in e2)return[e2[vt]];for(;vt!=="";){switch(Te=null,dt=(vt=r2(vt)).charAt(0)){case'"':case"'":Te=P3(vt.substring(1),dt);break;default:Te=D3(vt)}if(Te===null||(Kr.push(Te[0]),(vt=r2(Te[1]))!==""&&vt.charAt(0)!==","))return Bg;vt=vt.replace(/^,/,"")}return Kr}(Fe);if(this.fontFaces){var Ge=I3(Ee(this.pdf,this.fontFaces),Ie.map(function($e){return{family:$e,stretch:"normal",weight:Qe,style:Me}}));this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var tt="";(Qe==="bold"||parseInt(Qe,10)>=700||Me==="bold")&&(tt="bold"),Me==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var nt="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<Ie.length;ht++){if(this.pdf.internal.getFont(Ie[ht],tt,{noFallback:!0,disableWarning:!0})!==void 0){nt=Ie[ht];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Ie[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=Ie[ht],tt="bold";else if(this.pdf.internal.getFont(Ie[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=Ie[ht],tt="normal";break}}if(nt===""){for(var bt=0;bt<Ie.length;bt++)if(ct[Ie[bt]]){nt=ct[Ie[bt]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};h.prototype.setLineDash=function(S){this.lineDash=S},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){D.call(this,"fill",!1)},h.prototype.stroke=function(){D.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(S,P){if(isNaN(S)||isNaN(P))throw Tt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new i(S,P));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new i(S,P)},h.prototype.closePath=function(){var S=new i(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&Et(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){S=new i(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(S.x,S.y)},h.prototype.lineTo=function(S,P){if(isNaN(S)||isNaN(P))throw Tt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new i(S,P));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new i(J.x,J.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},h.prototype.quadraticCurveTo=function(S,P,J,Y){if(isNaN(J)||isNaN(Y)||isNaN(S)||isNaN(P))throw Tt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new i(J,Y)),ce=this.ctx.transform.applyToPoint(new i(S,P));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new i(ne.x,ne.y)},h.prototype.bezierCurveTo=function(S,P,J,Y,ne,ce){if(isNaN(ne)||isNaN(ce)||isNaN(S)||isNaN(P)||isNaN(J)||isNaN(Y))throw Tt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Z=this.ctx.transform.applyToPoint(new i(ne,ce)),de=this.ctx.transform.applyToPoint(new i(S,P)),Ne=this.ctx.transform.applyToPoint(new i(J,Y));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:Ne.x,y2:Ne.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new i(Z.x,Z.y)},h.prototype.arc=function(S,P,J,Y,ne,ce){if(isNaN(S)||isNaN(P)||isNaN(J)||isNaN(Y)||isNaN(ne))throw Tt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var Z=this.ctx.transform.applyToPoint(new i(S,P));S=Z.x,P=Z.y;var de=this.ctx.transform.applyToPoint(new i(0,J)),Ne=this.ctx.transform.applyToPoint(new i(0,0));J=Math.sqrt(Math.pow(de.x-Ne.x,2)+Math.pow(de.y-Ne.y,2))}Math.abs(ne-Y)>=2*Math.PI&&(Y=0,ne=2*Math.PI),this.path.push({type:"arc",x:S,y:P,radius:J,startAngle:Y,endAngle:ne,counterclockwise:ce})},h.prototype.arcTo=function(S,P,J,Y,ne){throw new Error("arcTo not implemented.")},h.prototype.rect=function(S,P,J,Y){if(isNaN(S)||isNaN(P)||isNaN(J)||isNaN(Y))throw Tt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,P),this.lineTo(S+J,P),this.lineTo(S+J,P+Y),this.lineTo(S,P+Y),this.lineTo(S,P),this.lineTo(S+J,P),this.lineTo(S,P)},h.prototype.fillRect=function(S,P,J,Y){if(isNaN(S)||isNaN(P)||isNaN(J)||isNaN(Y))throw Tt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,P,J,Y),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},h.prototype.strokeRect=function(S,P,J,Y){if(isNaN(S)||isNaN(P)||isNaN(J)||isNaN(Y))throw Tt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(S,P,J,Y),this.stroke())},h.prototype.clearRect=function(S,P,J,Y){if(isNaN(S)||isNaN(P)||isNaN(J)||isNaN(Y))throw Tt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,P,J,Y))},h.prototype.save=function(S){S=typeof S!="boolean"||S;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},h.prototype.restore=function(S){S=typeof S!="boolean"||S;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(P),S&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(S){var P,J,Y,ne;if(S.isCanvasGradient===!0&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))P=0,J=0,Y=0,ne=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(ce!==null)P=parseInt(ce[1]),J=parseInt(ce[2]),Y=parseInt(ce[3]),ne=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S))!==null)P=parseInt(ce[1]),J=parseInt(ce[2]),Y=parseInt(ce[3]),ne=parseFloat(ce[4]);else{if(ne=1,typeof S=="string"&&S.charAt(0)!=="#"){var Z=new iB(S);S=Z.ok?Z.toHex():"#000000"}S.length===4?(P=S.substring(1,2),P+=P,J=S.substring(2,3),J+=J,Y=S.substring(3,4),Y+=Y):(P=S.substring(1,3),J=S.substring(3,5),Y=S.substring(5,7)),P=parseInt(P,16),J=parseInt(J,16),Y=parseInt(Y,16)}}return{r:P,g:J,b:Y,a:ne,style:S}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(S,P,J,Y){if(isNaN(P)||isNaN(J)||typeof S!="string")throw Tt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!f.call(this)){var ne=z(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:S,x:P,y:J,scale:ce,angle:ne,align:this.textAlign,maxWidth:Y})}},h.prototype.strokeText=function(S,P,J,Y){if(isNaN(P)||isNaN(J)||typeof S!="string")throw Tt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Y=isNaN(Y)?void 0:Y;var ne=z(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:S,x:P,y:J,scale:ce,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Y})}},h.prototype.measureText=function(S){if(typeof S!="string")throw Tt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,J=this.pdf.internal.scaleFactor,Y=P.internal.getFontSize(),ne=P.getStringUnitWidth(S)*Y/P.internal.scaleFactor,ce=function(Z){var de=(Z=Z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new ce({width:ne*=Math.round(96*J/72*1e4)/1e4})},h.prototype.scale=function(S,P){if(isNaN(S)||isNaN(P))throw Tt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(S,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.rotate=function(S){if(isNaN(S))throw Tt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new l(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},h.prototype.translate=function(S,P){if(isNaN(S)||isNaN(P))throw Tt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,S,P);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.transform=function(S,P,J,Y,ne,ce){if(isNaN(S)||isNaN(P)||isNaN(J)||isNaN(Y)||isNaN(ne)||isNaN(ce))throw Tt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Z=new l(S,P,J,Y,ne,ce);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.setTransform=function(S,P,J,Y,ne,ce){S=isNaN(S)?1:S,P=isNaN(P)?0:P,J=isNaN(J)?0:J,Y=isNaN(Y)?1:Y,ne=isNaN(ne)?0:ne,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(S,P,J,Y,ne,ce)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(S,P,J,Y,ne,ce,Z,de,Ne){var je=this.pdf.getImageProperties(S),Le=1,Ee=1,Xe=1,ye=1;Y!==void 0&&de!==void 0&&(Xe=de/Y,ye=Ne/ne,Le=je.width/Y*de/Y,Ee=je.height/ne*Ne/ne),ce===void 0&&(ce=P,Z=J,P=0,J=0),Y!==void 0&&de===void 0&&(de=Y,Ne=ne),Y===void 0&&de===void 0&&(de=je.width,Ne=je.height);for(var V,Me=this.ctx.transform.decompose(),Qe=z(Me.rotate.shx),ke=new l,Fe=(ke=(ke=(ke=ke.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new o(ce-P*Xe,Z-J*ye,Y*Le,ne*Ee)),De=C.call(this,Fe),Ie=[],Ge=0;Ge<De.length;Ge+=1)Ie.indexOf(De[Ge])===-1&&Ie.push(De[Ge]);if(B(Ie),this.autoPaging)for(var tt=Ie[0],nt=Ie[Ie.length-1],ct=tt;ct<nt+1;ct++){this.pdf.setPage(ct);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=ct===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Te=ct===1?0:$e+(ct-2)*dt;if(this.ctx.clip_path.length!==0){var Kr=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-Te+bt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Kr}var vt=JSON.parse(JSON.stringify(Fe));vt=w([vt],this.posX+this.margin[3],-Te+bt+this.ctx.prevPageLastElemOffset)[0];var is=(ct>tt||ct<nt)&&p.call(this);is&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,dt,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Qe),is&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(S,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Qe)};var C=function(S,P,J){var Y=[];P=P||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":Y.push(Math.floor((S.y+ne)/J)+1);break;case"arc":Y.push(Math.floor((S.y+ne-S.radius)/J)+1),Y.push(Math.floor((S.y+ne+S.radius)/J)+1);break;case"qct":var ce=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);Y.push(Math.floor((ce.y+ne)/J)+1),Y.push(Math.floor((ce.y+ce.h+ne)/J)+1);break;case"bct":var Z=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);Y.push(Math.floor((Z.y+ne)/J)+1),Y.push(Math.floor((Z.y+Z.h+ne)/J)+1);break;case"rect":Y.push(Math.floor((S.y+ne)/J)+1),Y.push(Math.floor((S.y+S.h+ne)/J)+1)}for(var de=0;de<Y.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<Y[de];)m.call(this);return Y},m=function(){var S=this.fillStyle,P=this.strokeStyle,J=this.font,Y=this.lineCap,ne=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=P,this.font=J,this.lineCap=Y,this.lineWidth=ne,this.lineJoin=ce},w=function(S,P,J){for(var Y=0;Y<S.length;Y++)switch(S[Y].type){case"bct":S[Y].x2+=P,S[Y].y2+=J;case"qct":S[Y].x1+=P,S[Y].y1+=J;case"mt":case"lt":case"arc":default:S[Y].x+=P,S[Y].y+=J}return S},B=function(S){return S.sort(function(P,J){return P-J})},D=function(S,P){for(var J,Y,ne=this.fillStyle,ce=this.strokeStyle,Z=this.lineCap,de=this.lineWidth,Ne=Math.abs(de*this.ctx.transform.scaleX),je=this.lineJoin,Le=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Xe=[],ye=0;ye<Ee.length;ye++)if(Ee[ye].x!==void 0)for(var V=C.call(this,Ee[ye]),Me=0;Me<V.length;Me+=1)Xe.indexOf(V[Me])===-1&&Xe.push(V[Me]);for(var Qe=0;Qe<Xe.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<Xe[Qe];)m.call(this);if(B(Xe),this.autoPaging)for(var ke=Xe[0],Fe=Xe[Xe.length-1],De=ke;De<Fe+1;De++){this.pdf.setPage(De),this.fillStyle=ne,this.strokeStyle=ce,this.lineCap=Z,this.lineWidth=Ne,this.lineJoin=je;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=De===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=De===1?0:tt+(De-2)*nt;if(this.ctx.clip_path.length!==0){var ht=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(J,this.posX+this.margin[3],-ct+Ge+this.ctx.prevPageLastElemOffset),O.call(this,S,!0),this.path=ht}if(Y=JSON.parse(JSON.stringify(Le)),this.path=w(Y,this.posX+this.margin[3],-ct+Ge+this.ctx.prevPageLastElemOffset),P===!1||De===0){var bt=(De>ke||De<Fe)&&p.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,nt,null).clip().discardPath()),O.call(this,S,P),bt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=Ne,O.call(this,S,P),this.lineWidth=de;this.path=Le},O=function(S,P){if((S!=="stroke"||P||!b.call(this))&&(S==="stroke"||P||!f.call(this))){for(var J,Y,ne=[],ce=this.path,Z=0;Z<ce.length;Z++){var de=ce[Z];switch(de.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:de,deltas:[],abs:[]});break;case"lt":var Ne=ne.length;if(ce[Z-1]&&!isNaN(ce[Z-1].x)&&(J=[de.x-ce[Z-1].x,de.y-ce[Z-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ne[Ne-1].close!==!0&&ne[Ne-1].begin!==!0){ne[Ne-1].deltas.push(J),ne[Ne-1].abs.push(de);break}}break;case"bct":J=[de.x1-ce[Z-1].x,de.y1-ce[Z-1].y,de.x2-ce[Z-1].x,de.y2-ce[Z-1].y,de.x-ce[Z-1].x,de.y-ce[Z-1].y],ne[ne.length-1].deltas.push(J);break;case"qct":var je=ce[Z-1].x+2/3*(de.x1-ce[Z-1].x),Le=ce[Z-1].y+2/3*(de.y1-ce[Z-1].y),Ee=de.x+2/3*(de.x1-de.x),Xe=de.y+2/3*(de.y1-de.y),ye=de.x,V=de.y;J=[je-ce[Z-1].x,Le-ce[Z-1].y,Ee-ce[Z-1].x,Xe-ce[Z-1].y,ye-ce[Z-1].x,V-ce[Z-1].y],ne[ne.length-1].deltas.push(J);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(de)}}Y=P?null:S==="stroke"?"stroke":"fill";for(var Me=!1,Qe=0;Qe<ne.length;Qe++)if(ne[Qe].arc)for(var ke=ne[Qe].abs,Fe=0;Fe<ke.length;Fe++){var De=ke[Fe];De.type==="arc"?j.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,P,!Me):Q.call(this,De.x,De.y),Me=!0}else if(ne[Qe].close===!0)this.pdf.internal.out("h"),Me=!1;else if(ne[Qe].begin!==!0){var Ie=ne[Qe].start.x,Ge=ne[Qe].start.y;K.call(this,ne[Qe].deltas,Ie,Ge),Me=!0}Y&&I.call(this,Y),P&&R.call(this)}},q=function(S){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-J;case"top":return S+P-J;case"hanging":return S+P-2*J;case"middle":return S+P/2-J;case"ideographic":return S;case"alphabetic":default:return S}},F=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(P,J){this.colorStops.push([P,J])},S.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(S,P,J,Y,ne,ce,Z,de,Ne){for(var je=W.call(this,J,Y,ne,ce),Le=0;Le<je.length;Le++){var Ee=je[Le];Le===0&&(Ne?E.call(this,Ee.x1+S,Ee.y1+P):Q.call(this,Ee.x1+S,Ee.y1+P)),ie.call(this,S,P,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}de?R.call(this):I.call(this,Z)},I=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(S,P){this.pdf.internal.out(r(S)+" "+n(P)+" m")},k=function(S){var P;switch(S.align){case"right":case"end":P="right";break;case"center":P="center";break;case"left":case"start":default:P="left"}var J=this.pdf.getTextDimensions(S.text),Y=q.call(this,S.y),ne=F.call(this,Y)-J.h,ce=this.ctx.transform.applyToPoint(new i(S.x,Y)),Z=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(Z.translate)).multiply(Z.skew)).multiply(Z.scale);for(var Ne,je,Le,Ee=this.ctx.transform.applyToRectangle(new o(S.x,Y,J.w,J.h)),Xe=de.applyToRectangle(new o(S.x,ne,J.w,J.h)),ye=C.call(this,Xe),V=[],Me=0;Me<ye.length;Me+=1)V.indexOf(ye[Me])===-1&&V.push(ye[Me]);if(B(V),this.autoPaging)for(var Qe=V[0],ke=V[V.length-1],Fe=Qe;Fe<ke+1;Fe++){this.pdf.setPage(Fe);var De=Fe===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],tt=Ge-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],ct=nt-this.margin[3],ht=Fe===1?0:Ie+(Fe-2)*tt;if(this.ctx.clip_path.length!==0){var bt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ne,this.posX+this.margin[3],-1*ht+De),O.call(this,"fill",!0),this.path=bt}var $e=w([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-ht+De+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*S.scale),Le=this.lineWidth,this.lineWidth=Le*S.scale);var dt=this.autoPaging!=="text";if(dt||$e.y+$e.h<=Ge){if(dt||$e.y>=De&&$e.x<=nt){var Te=dt?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||nt-$e.x)[0],Kr=w([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-ht+De+this.ctx.prevPageLastElemOffset)[0],vt=dt&&(Fe>Qe||Fe<ke)&&p.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,tt,null).clip().discardPath()),this.pdf.text(Te,Kr.x,Kr.y,{angle:S.angle,align:P,renderingMode:S.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else $e.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-$e.y);S.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Le)}else S.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*S.scale),Le=this.lineWidth,this.lineWidth=Le*S.scale),this.pdf.text(S.text,ce.x+this.posX,ce.y+this.posY,{angle:S.angle,align:P,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Le)},Q=function(S,P,J,Y){J=J||0,Y=Y||0,this.pdf.internal.out(r(S+J)+" "+n(P+Y)+" l")},K=function(S,P,J){return this.pdf.lines(S,P,J,null,null)},ie=function(S,P,J,Y,ne,ce,Z,de){this.pdf.internal.out([t(a(J+S)),t(A(Y+P)),t(a(ne+S)),t(A(ce+P)),t(a(Z+S)),t(A(de+P)),"c"].join(" "))},W=function(S,P,J,Y){for(var ne=2*Math.PI,ce=Math.PI/2;P>J;)P-=ne;var Z=Math.abs(J-P);Z<ne&&Y&&(Z=ne-Z);for(var de=[],Ne=Y?-1:1,je=P;Z>1e-5;){var Le=je+Ne*Math.min(Z,ce);de.push(ee.call(this,S,je,Le)),Z-=Math.abs(Le-je),je=Le}return de},ee=function(S,P,J){var Y=(J-P)/2,ne=S*Math.cos(Y),ce=S*Math.sin(Y),Z=ne,de=-ce,Ne=Z*Z+de*de,je=Ne+Z*ne+de*ce,Le=4/3*(Math.sqrt(2*Ne*je)-je)/(Z*ce-de*ne),Ee=Z-Le*de,Xe=de+Le*Z,ye=Ee,V=-Xe,Me=Y+P,Qe=Math.cos(Me),ke=Math.sin(Me);return{x1:S*Math.cos(P),y1:S*Math.sin(P),x2:Ee*Qe-Xe*ke,y2:Ee*ke+Xe*Qe,x3:ye*Qe-V*ke,y3:ye*ke+V*Qe,x4:S*Math.cos(J),y4:S*Math.sin(J)}},z=function(S){return 180*S/Math.PI},te=function(S,P,J,Y,ne,ce){var Z=S+.5*(J-S),de=P+.5*(Y-P),Ne=ne+.5*(J-ne),je=ce+.5*(Y-ce),Le=Math.min(S,ne,Z,Ne),Ee=Math.max(S,ne,Z,Ne),Xe=Math.min(P,ce,de,je),ye=Math.max(P,ce,de,je);return new o(Le,Xe,Ee-Le,ye-Xe)},Ae=function(S,P,J,Y,ne,ce,Z,de){var Ne,je,Le,Ee,Xe,ye,V,Me,Qe,ke,Fe,De,Ie,Ge,tt=J-S,nt=Y-P,ct=ne-J,ht=ce-Y,bt=Z-ne,$e=de-ce;for(je=0;je<41;je++)Qe=(V=(Le=S+(Ne=je/40)*tt)+Ne*((Xe=J+Ne*ct)-Le))+Ne*(Xe+Ne*(ne+Ne*bt-Xe)-V),ke=(Me=(Ee=P+Ne*nt)+Ne*((ye=Y+Ne*ht)-Ee))+Ne*(ye+Ne*(ce+Ne*$e-ye)-Me),je==0?(Fe=Qe,De=ke,Ie=Qe,Ge=ke):(Fe=Math.min(Fe,Qe),De=Math.min(De,ke),Ie=Math.max(Ie,Qe),Ge=Math.max(Ge,ke));return new o(Math.round(Fe),Math.round(De),Math.round(Ie-Fe),Math.round(Ge-De))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var S,P,J=(S=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:S,lineDashOffset:P}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Ze.API),function(e){var t=function(A){var i,o,l,c,u,h,x,f,b,p;for(o=[],l=0,c=(A+=i="\0\0\0\0".slice(A.length%4||4)).length;c>l;l+=4)(u=(A.charCodeAt(l)<<24)+(A.charCodeAt(l+1)<<16)+(A.charCodeAt(l+2)<<8)+A.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(p=u%85))/85)-(b=u%85))/85)-(f=u%85))/85)-(x=u%85))/85)%85,o.push(h+33,x+33,f+33,b+33,p+33)):o.push(122);return function(C,m){for(var w=m;w>0;w--)C.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},r=function(A){var i,o,l,c,u,h=String,x="length",f=255,b="charCodeAt",p="slice",C="replace";for(A[p](-2),A=A[p](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),l=[],c=0,u=(A+=i="uuuuu"[p](A[x]%5||5))[x];u>c;c+=5)o=52200625*(A[b](c)-33)+614125*(A[b](c+1)-33)+7225*(A[b](c+2)-33)+85*(A[b](c+3)-33)+(A[b](c+4)-33),l.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(m,w){for(var B=w;B>0;B--)m.pop()}(l,i[x]),h.fromCharCode.apply(h,l)},n=function(A){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((A=A.replace(/\s/g,"")).indexOf(">")!==-1&&(A=A.substr(0,A.indexOf(">"))),A.length%2&&(A+="0"),i.test(A)===!1)return"";for(var o="",l=0;l<A.length;l+=2)o+=String.fromCharCode("0x"+(A[l]+A[l+1]));return o},a=function(A){for(var i=new Uint8Array(A.length),o=A.length;o--;)i[o]=A.charCodeAt(o);return A=(i=Xp(i)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(A,i){var o=0,l=A||"",c=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ze.API),function(e){e.loadFile=function(t,r,n){return function(a,A,i){A=A!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(l,c,u){var h=new XMLHttpRequest,x=0,f=function(b){var p=b.length,C=[],m=String.fromCharCode;for(x=0;x<p;x+=1)C.push(m(255&b.charCodeAt(x)));return C.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(a,A,i)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Ze.API),function(e){function t(){return(et.html2canvas?Promise.resolve(et.html2canvas):Ai(()=>Promise.resolve().then(()=>CU),void 0)).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(et.DOMPurify?Promise.resolve(et.DOMPurify):Ai(()=>import("./purify.es-31816194.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var o=Et(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(i,o){var l=document.createElement(i);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},A=function i(o){var l=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),c=i.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,i,1,[i])).set(o)};(A.prototype=Object.create(Promise.prototype)).constructor=A,A.convert=function(i,o){return i.__proto__=o||A.prototype,i},A.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},A.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:i,dompurify:l})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},A.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},A.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),x=c.firstChild;x;x=x.nextSibling)u!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||h.appendChild(l(x,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},A.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},A.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var x=0;x<c.length;++x){var f=c[x],b=f.src.find(function(p){return p.format==="truetype"});b&&l.addFont(b.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},A.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},A.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},A.prototype.output=function(i,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},A.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},A.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},A.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},A.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},A.prototype.set=function(i){if(n(i)!=="object")return this;var o=Object.keys(i||{}).map(function(l){if(l in A.template.prop)return function(){this.prop[l]=i[l]};switch(l){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[l]=i[l]}}},this);return this.then(function(){return this.thenList(o)})},A.prototype.get=function(i,o){return this.then(function(){var l=i in A.template.prop?this.prop[i]:this.opt[i];return o?o(l):l})},A.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},A.prototype.setPageSize=function(i){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(i=i||Ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},A.prototype.setProgress=function(i,o,l,c){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},A.prototype.updateProgress=function(i,o,l,c){return this.setProgress(i?this.progress.val+i:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},A.prototype.then=function(i,o){var l=this;return this.thenCore(i,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},A.prototype.thenCore=function(i,o,l){l=l||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:A.convert(Object.assign({},this),Promise.prototype),u=l.call(c,i,o);return A.convert(u,this.__proto__)},A.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},A.prototype.thenList=function(i){var o=this;return i.forEach(function(l){o=o.thenCore(l)}),o},A.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return A.convert(o,this)},A.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},A.prototype.error=function(i){return this.then(function(){throw new Error(i)})},A.prototype.using=A.prototype.set,A.prototype.saveAs=A.prototype.save,A.prototype.export=A.prototype.output,A.prototype.run=A.prototype.then,Ze.getPageSize=function(i,o,l){if(Et(i)==="object"){var c=i;i=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",i=(""+(i||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var f,b=0,p=0;if(x.hasOwnProperty(h))b=x[h][1]/u,p=x[h][0]/u;else try{b=l[1],p=l[0]}catch{throw new Error("Invalid format: "+l)}if(i==="p"||i==="portrait")i="p",p>b&&(f=p,p=b,b=f);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",b>p&&(f=p,p=b,b=f)}return{width:p,height:b,unit:o,k:u,orientation:i}},e.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(rm):null;var l=new A(o);return o.worker?l:l.from(i).doCallback()}}(Ze.API),Ze.API.addJS=function(e){return s2=e,this.internal.events.subscribe("postPutResources",function(){ju=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ju+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+s2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ju!==void 0&&n2!==void 0&&this.internal.out("/Names <</JavaScript "+ju+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),A=0;A<a.length;A++){var i=a[A],o=n.exec(i);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(A=0;A<c;A++){var h=r.internal.newObject();u.push(h);var x=r.internal.getPageInfo(A+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),A=0;A<u.length;A++)r.internal.write("(page_"+(A+1)+")"+u[A]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,A){var i={title:a,options:A,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,A=0;A<n.children.length;A++){var i=n.children[A];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),A>0&&this.line("/Prev "+this.makeRef(n.children[A-1])),A<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[A+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var l=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var A=0;A<a.children.length;A++)n.count++,this.count_r(n,a.children[A]);return n.count}}])}(Ze.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,A,i,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(h){for(var x,f=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,p={width:0,height:0,numcomponents:1},C=4;C<b;C+=2){if(C+=f,t.indexOf(h.charCodeAt(C+1))!==-1){x=256*h.charCodeAt(C+5)+h.charCodeAt(C+6),p={width:256*h.charCodeAt(C+7)+h.charCodeAt(C+8),height:x,numcomponents:h.charCodeAt(C+9)};break}f=256*h.charCodeAt(C+2)+h.charCodeAt(C+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(Ze.API);var oo,Su,a2,A2,i2,T3=function(){var e,t,r;function n(A){var i,o,l,c,u,h,x,f,b,p,C,m,w,B;for(this.data=A,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(i=this.readUInt32(),b=(function(){var D,O;for(O=[],D=0;D<4;++D)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,i-=4),A=(h!=null?h.data:void 0)||this.imgData,m=0;0<=i?m<i:m>i;0<=i?++m:--m)A.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((p=l-this.transparency.indexed.length)>0)for(w=0;0<=p?w<p:w>p;0<=p?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":x=(C=this.read(i)).indexOf(0),f=String.fromCharCode.apply(String,C.slice(0,x)),this.text[f]=String.fromCharCode.apply(String,C.slice(x+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(B=this.colorType)===4||B===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(A){var i,o;for(o=[],i=0;0<=A?i<A:i>A;0<=A?++i:--i)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(A){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),l=0,c=this;if(A==null&&(A=this.imgData),A.length===0)return new Uint8Array(0);function u(h,x,f,b){var p,C,m,w,B,D,O,q,F,j,I,R,E,k,Q,K,ie,W,ee,z,te,Ae=Math.ceil((c.width-h)/f),he=Math.ceil((c.height-x)/b),S=c.width==Ae&&c.height==he;for(k=i*Ae,R=S?o:new Uint8Array(k*he),D=A.length,E=0,C=0;E<he&&l<D;){switch(A[l++]){case 0:for(w=ie=0;ie<k;w=ie+=1)R[C++]=A[l++];break;case 1:for(w=W=0;W<k;w=W+=1)p=A[l++],B=w<i?0:R[C-i],R[C++]=(p+B)%256;break;case 2:for(w=ee=0;ee<k;w=ee+=1)p=A[l++],m=(w-w%i)/i,Q=E&&R[(E-1)*k+m*i+w%i],R[C++]=(Q+p)%256;break;case 3:for(w=z=0;z<k;w=z+=1)p=A[l++],m=(w-w%i)/i,B=w<i?0:R[C-i],Q=E&&R[(E-1)*k+m*i+w%i],R[C++]=(p+Math.floor((B+Q)/2))%256;break;case 4:for(w=te=0;te<k;w=te+=1)p=A[l++],m=(w-w%i)/i,B=w<i?0:R[C-i],E===0?Q=K=0:(Q=R[(E-1)*k+m*i+w%i],K=m&&R[(E-1)*k+(m-1)*i+w%i]),O=B+Q-K,q=Math.abs(O-B),j=Math.abs(O-Q),I=Math.abs(O-K),F=q<=j&&q<=I?B:j<=I?Q:K,R[C++]=(p+F)%256;break;default:throw new Error("Invalid filter algorithm: "+A[l-1])}if(!S){var P=((x+E*b)*c.width+h)*i,J=E*k;for(w=0;w<Ae;w+=1){for(var Y=0;Y<i;Y+=1)o[P++]=R[J++];P+=(f-1)*i}}E++}}return A=g3(A),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var A,i,o,l,c,u,h,x,f;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,A=0,i=h=0,x=o.length;h<x;i=h+=3)c[l++]=o[i],c[l++]=o[i+1],c[l++]=o[i+2],c[l++]=(f=u[A++])!=null?f:255;return c},n.prototype.copyToImageData=function(A,i){var o,l,c,u,h,x,f,b,p,C,m;if(l=this.colors,p=null,o=this.hasAlphaChannel,this.palette.length&&(p=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),l=4,o=!0),b=(c=A.data||A).length,h=p||i,u=x=0,l===1)for(;u<b;)f=p?4*i[u/4]:x,C=h[f++],c[u++]=C,c[u++]=C,c[u++]=C,c[u++]=o?h[f++]:255,x=f;else for(;u<b;)f=p?4*i[u/4]:x,c[u++]=h[f++],c[u++]=h[f++],c[u++]=h[f++],c[u++]=o?h[f++]:255,x=f},n.prototype.decode=function(){var A;return A=new Uint8Array(this.width*this.height*4),this.copyToImageData(A,this.decodePixels()),A};var a=function(){if(Object.prototype.toString.call(et)==="[object Window]"){try{t=et.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(A){var i;if(a()===!0)return r.width=A.width,r.height=A.height,r.clearRect(0,0,A.width,A.height),r.putImageData(A,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(A){var i,o,l,c,u,h,x,f;if(this.animation){for(f=[],o=u=0,h=(x=this.animation.frames).length;u<h;o=++u)i=x[o],l=A.createImageData(i.width,i.height),c=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(l,c),i.imageData=l,f.push(i.image=e(l));return f}},n.prototype.renderFrame=function(A,i){var o,l,c;return o=(l=this.animation.frames)[i],c=l[i-1],i===0&&A.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?A.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&A.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&A.clearRect(o.xOffset,o.yOffset,o.width,o.height),A.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(A){var i,o,l,c,u,h,x=this;return o=0,h=this.animation,c=h.numFrames,l=h.frames,u=h.numPlays,(i=function(){var f,b;if(f=o++%c,b=l[f],x.renderFrame(A,f),c>1&&o/c<u)return x.animation._timeout=setTimeout(i,b.delay)})()},n.prototype.stopAnimation=function(){var A;return clearTimeout((A=this.animation)!=null?A._timeout:void 0)},n.prototype.render=function(A){var i,o;return A._png&&A._png.stopAnimation(),A._png=this,A.width=this.width,A.height=this.height,i=A.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function R3(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],A=a>>7,i=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;A&&(o=t,l=i,t+=3*i);var c=!0,u=[],h=0,x=null,f=0,b=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];h=e[t++]|e[t++]<<8,x=e[t++],!(1&p)&&(x=null),f=p>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var C=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,D=e[t++],O=D>>6&1,q=1<<(7&D)+1,F=o,j=l,I=!1;D>>7&&(I=!0,F=t,j=q,t+=3*q);var R=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:C,y:m,width:w,height:B,has_local_palette:I,palette_offset:F,palette_size:j,data_offset:R,data_length:t-R,transparent_index:x,interlaced:!!O,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return b},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,Q){var K=this.frameInfo(k),ie=K.width*K.height,W=new Uint8Array(ie);o2(e,K.data_offset,W,ie);var ee=K.palette_offset,z=K.transparent_index;z===null&&(z=256);var te=K.width,Ae=r-te,he=te,S=4*(K.y*r+K.x),P=4*((K.y+K.height)*r+K.x),J=S,Y=4*Ae;K.interlaced===!0&&(Y+=4*r*7);for(var ne=8,ce=0,Z=W.length;ce<Z;++ce){var de=W[ce];if(he===0&&(he=te,(J+=Y)>=P&&(Y=4*Ae+4*r*(ne-1),J=S+(te+Ae)*(ne<<1),ne>>=1)),de===z)J+=4;else{var Ne=e[ee+3*de],je=e[ee+3*de+1],Le=e[ee+3*de+2];Q[J++]=Le,Q[J++]=je,Q[J++]=Ne,Q[J++]=255}--he}},this.decodeAndBlitFrameRGBA=function(k,Q){var K=this.frameInfo(k),ie=K.width*K.height,W=new Uint8Array(ie);o2(e,K.data_offset,W,ie);var ee=K.palette_offset,z=K.transparent_index;z===null&&(z=256);var te=K.width,Ae=r-te,he=te,S=4*(K.y*r+K.x),P=4*((K.y+K.height)*r+K.x),J=S,Y=4*Ae;K.interlaced===!0&&(Y+=4*r*7);for(var ne=8,ce=0,Z=W.length;ce<Z;++ce){var de=W[ce];if(he===0&&(he=te,(J+=Y)>=P&&(Y=4*Ae+4*r*(ne-1),J=S+(te+Ae)*(ne<<1),ne>>=1)),de===z)J+=4;else{var Ne=e[ee+3*de],je=e[ee+3*de+1],Le=e[ee+3*de+2];Q[J++]=Ne,Q[J++]=je,Q[J++]=Le,Q[J++]=255}--he}}}function o2(e,t,r,n){for(var a=e[t++],A=1<<a,i=A+1,o=i+1,l=a+1,c=(1<<l)-1,u=0,h=0,x=0,f=e[t++],b=new Int32Array(4096),p=null;;){for(;u<16&&f!==0;)h|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<l)break;var C=h&c;if(h>>=l,u-=l,C!==A){if(C===i)break;for(var m=C<o?C:p,w=0,B=m;B>A;)B=b[B]>>8,++w;var D=B;if(x+w+(m!==C?1:0)>n)return void Tt.log("Warning, gif stream longer than expected.");r[x++]=D;var O=x+=w;for(m!==C&&(r[x++]=D),B=m;w--;)B=b[B],r[--O]=255&B,B>>=8;p!==null&&o<4096&&(b[o++]=p<<8|D,o>=c+1&&l<12&&(++l,c=c<<1|1)),p=C}else o=i+1,c=(1<<(l=a+1))-1,p=null}return x!==n&&Tt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ng(e){var t,r,n,a,A,i=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),x=new Array(65535),f=new Array(64),b=new Array(64),p=[],C=0,m=7,w=new Array(64),B=new Array(64),D=new Array(64),O=new Array(256),q=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(S,P){for(var J=0,Y=0,ne=new Array,ce=1;ce<=16;ce++){for(var Z=1;Z<=S[ce];Z++)ne[P[Y]]=[],ne[P[Y]][0]=J,ne[P[Y]][1]=ce,Y++,J++;J*=2}return ne}function ee(S){for(var P=S[0],J=S[1]-1;J>=0;)P&1<<J&&(C|=1<<m),J--,--m<0&&(C==255?(z(255),z(0)):z(C),m=7,C=0)}function z(S){p.push(S)}function te(S){z(S>>8&255),z(255&S)}function Ae(S,P,J,Y,ne){for(var ce,Z=ne[0],de=ne[240],Ne=function(ke,Fe){var De,Ie,Ge,tt,nt,ct,ht,bt,$e,dt,Te=0;for($e=0;$e<8;++$e){De=ke[Te],Ie=ke[Te+1],Ge=ke[Te+2],tt=ke[Te+3],nt=ke[Te+4],ct=ke[Te+5],ht=ke[Te+6];var Kr=De+(bt=ke[Te+7]),vt=De-bt,is=Ie+ht,Pt=Ie-ht,zt=Ge+ct,Rs=Ge-ct,Ct=tt+nt,RA=tt-nt,Zt=Kr+Ct,os=Kr-Ct,la=is+zt,er=is-zt;ke[Te]=Zt+la,ke[Te+4]=Zt-la;var st=.707106781*(er+os);ke[Te+2]=os+st,ke[Te+6]=os-st;var kt=.382683433*((Zt=RA+Rs)-(er=Pt+vt)),HA=.5411961*Zt+kt,Pr=1.306562965*er+kt,Hs=.707106781*(la=Rs+Pt),Os=vt+Hs,Ye=vt-Hs;ke[Te+5]=Ye+HA,ke[Te+3]=Ye-HA,ke[Te+1]=Os+Pr,ke[Te+7]=Os-Pr,Te+=8}for(Te=0,$e=0;$e<8;++$e){De=ke[Te],Ie=ke[Te+8],Ge=ke[Te+16],tt=ke[Te+24],nt=ke[Te+32],ct=ke[Te+40],ht=ke[Te+48];var ls=De+(bt=ke[Te+56]),Ms=De-bt,fn=Ie+ht,vr=Ie-ht,fr=Ge+ct,Fn=Ge-ct,Qi=tt+nt,ca=tt-nt,cs=ls+Qi,ds=ls-Qi,us=fn+fr,_s=fn-fr;ke[Te]=cs+us,ke[Te+32]=cs-us;var _n=.707106781*(_s+ds);ke[Te+16]=ds+_n,ke[Te+48]=ds-_n;var Ks=.382683433*((cs=ca+Fn)-(_s=vr+Ms)),OA=.5411961*cs+Ks,Ui=1.306562965*_s+Ks,Li=.707106781*(us=Fn+vr),Ii=Ms+Li,Pi=Ms-Li;ke[Te+40]=Pi+OA,ke[Te+24]=Pi-OA,ke[Te+8]=Ii+Ui,ke[Te+56]=Ii-Ui,Te++}for($e=0;$e<64;++$e)dt=ke[$e]*Fe[$e],f[$e]=dt>0?dt+.5|0:dt-.5|0;return f}(S,P),je=0;je<64;++je)b[F[je]]=Ne[je];var Le=b[0]-J;J=b[0],Le==0?ee(Y[0]):(ee(Y[x[ce=32767+Le]]),ee(h[ce]));for(var Ee=63;Ee>0&&b[Ee]==0;)Ee--;if(Ee==0)return ee(Z),J;for(var Xe,ye=1;ye<=Ee;){for(var V=ye;b[ye]==0&&ye<=Ee;)++ye;var Me=ye-V;if(Me>=16){Xe=Me>>4;for(var Qe=1;Qe<=Xe;++Qe)ee(de);Me&=15}ce=32767+b[ye],ee(ne[(Me<<4)+x[ce]]),ee(h[ce]),ye++}return Ee!=63&&ee(Z),J}function he(S){S=Math.min(Math.max(S,1),100),A!=S&&(function(P){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var ne=i((J[Y]*P+50)/100);ne=Math.min(Math.max(ne,1),255),o[F[Y]]=ne}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Z=0;Z<64;Z++){var de=i((ce[Z]*P+50)/100);de=Math.min(Math.max(de,1),255),l[F[Z]]=de}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Le=0;Le<8;Le++)for(var Ee=0;Ee<8;Ee++)c[je]=1/(o[F[je]]*Ne[Le]*Ne[Ee]*8),u[je]=1/(l[F[je]]*Ne[Le]*Ne[Ee]*8),je++}(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),A=S)}this.encode=function(S,P){P&&he(P),p=new Array,C=0,m=7,te(65496),te(65504),te(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),te(1),te(1),z(0),z(0),function(){te(65499),te(132),z(0);for(var Ie=0;Ie<64;Ie++)z(o[Ie]);z(1);for(var Ge=0;Ge<64;Ge++)z(l[Ge])}(),function(Ie,Ge){te(65472),te(17),z(8),te(Ge),te(Ie),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(S.width,S.height),function(){te(65476),te(418),z(0);for(var Ie=0;Ie<16;Ie++)z(j[Ie+1]);for(var Ge=0;Ge<=11;Ge++)z(I[Ge]);z(16);for(var tt=0;tt<16;tt++)z(R[tt+1]);for(var nt=0;nt<=161;nt++)z(E[nt]);z(1);for(var ct=0;ct<16;ct++)z(k[ct+1]);for(var ht=0;ht<=11;ht++)z(Q[ht]);z(17);for(var bt=0;bt<16;bt++)z(K[bt+1]);for(var $e=0;$e<=161;$e++)z(ie[$e])}(),te(65498),te(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var J=0,Y=0,ne=0;C=0,m=7,this.encode.displayName="_encode_";for(var ce,Z,de,Ne,je,Le,Ee,Xe,ye,V=S.data,Me=S.width,Qe=S.height,ke=4*Me,Fe=0;Fe<Qe;){for(ce=0;ce<ke;){for(je=ke*Fe+ce,Ee=-1,Xe=0,ye=0;ye<64;ye++)Le=je+(Xe=ye>>3)*ke+(Ee=4*(7&ye)),Fe+Xe>=Qe&&(Le-=ke*(Fe+1+Xe-Qe)),ce+Ee>=ke&&(Le-=ce+Ee-ke+4),Z=V[Le++],de=V[Le++],Ne=V[Le++],w[ye]=(q[Z]+q[de+256>>0]+q[Ne+512>>0]>>16)-128,B[ye]=(q[Z+768>>0]+q[de+1024>>0]+q[Ne+1280>>0]>>16)-128,D[ye]=(q[Z+1280>>0]+q[de+1536>>0]+q[Ne+1792>>0]>>16)-128;J=Ae(w,c,J,t,n),Y=Ae(B,u,Y,r,a),ne=Ae(D,u,ne,r,a),ce+=32}Fe+=8}if(m>=0){var De=[];De[1]=m+1,De[0]=(1<<m+1)-1,ee(De)}return te(65497),new Uint8Array(p)},e=e||50,function(){for(var S=String.fromCharCode,P=0;P<256;P++)O[P]=S(P)}(),t=W(j,I),r=W(k,Q),n=W(R,E),a=W(K,ie),function(){for(var S=1,P=2,J=1;J<=15;J++){for(var Y=S;Y<P;Y++)x[32767+Y]=J,h[32767+Y]=[],h[32767+Y][1]=J,h[32767+Y][0]=Y;for(var ne=-(P-1);ne<=-S;ne++)x[32767+ne]=J,h[32767+ne]=[],h[32767+ne][1]=J,h[32767+ne][0]=P-1+ne;S<<=1,P<<=1}}(),function(){for(var S=0;S<256;S++)q[S]=19595*S,q[S+256>>0]=38470*S,q[S+512>>0]=7471*S+32768,q[S+768>>0]=-11059*S,q[S+1024>>0]=-21709*S,q[S+1280>>0]=32768*S+8421375,q[S+1536>>0]=-27439*S,q[S+1792>>0]=-5329*S}(),he(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ws(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function l2(e){function t(j){if(!j)throw Error("assert :P")}function r(j,I,R){for(var E=0;4>E;E++)if(j[I+E]!=R.charCodeAt(E))return!0;return!1}function n(j,I,R,E,k){for(var Q=0;Q<k;Q++)j[I+Q]=R[E+Q]}function a(j,I,R,E){for(var k=0;k<E;k++)j[I+k]=R}function A(j){return new Int32Array(j)}function i(j,I){for(var R=[],E=0;E<j;E++)R.push(new I);return R}function o(j,I){var R=[];return function E(k,Q,K){for(var ie=K[Q],W=0;W<ie&&(k.push(K.length>Q+1?[]:new I),!(K.length<Q+1));W++)E(k[W],Q+1,K)}(R,0,j),R}var l=function(){var j=this;function I(d,g){for(var v=1<<g-1>>>0;d&v;)v>>>=1;return v?(d&v-1)+v:d}function R(d,g,v,N,U){t(!(N%v));do d[g+(N-=v)]=U;while(0<N)}function E(d,g,v,N,U){if(t(2328>=U),512>=U)var T=A(512);else if((T=A(U))==null)return 0;return function(H,M,G,X,se,fe){var ge,le,be=M,me=1<<G,ae=A(16),oe=A(16);for(t(se!=0),t(X!=null),t(H!=null),t(0<G),le=0;le<se;++le){if(15<X[le])return 0;++ae[X[le]]}if(ae[0]==se)return 0;for(oe[1]=0,ge=1;15>ge;++ge){if(ae[ge]>1<<ge)return 0;oe[ge+1]=oe[ge]+ae[ge]}for(le=0;le<se;++le)ge=X[le],0<X[le]&&(fe[oe[ge]++]=le);if(oe[15]==1)return(X=new k).g=0,X.value=fe[0],R(H,be,1,me,X),me;var we,Be=-1,ve=me-1,Oe=0,Ue=1,Je=1,Pe=1<<G;for(le=0,ge=1,se=2;ge<=G;++ge,se<<=1){if(Ue+=Je<<=1,0>(Je-=ae[ge]))return 0;for(;0<ae[ge];--ae[ge])(X=new k).g=ge,X.value=fe[le++],R(H,be+Oe,se,Pe,X),Oe=I(Oe,ge)}for(ge=G+1,se=2;15>=ge;++ge,se<<=1){if(Ue+=Je<<=1,0>(Je-=ae[ge]))return 0;for(;0<ae[ge];--ae[ge]){if(X=new k,(Oe&ve)!=Be){for(be+=Pe,we=1<<(Be=ge)-G;15>Be&&!(0>=(we-=ae[Be]));)++Be,we<<=1;me+=Pe=1<<(we=Be-G),H[M+(Be=Oe&ve)].g=we+G,H[M+Be].value=be-M-Be}X.g=ge-G,X.value=fe[le++],R(H,be+(Oe>>G),se,Pe,X),Oe=I(Oe,ge)}}return Ue!=2*oe[15]-1?0:me}(d,g,v,N,U,T)}function k(){this.value=this.g=0}function Q(){this.value=this.g=0}function K(){this.G=i(5,k),this.H=A(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Dr,Q)}function ie(d,g,v,N){t(d!=null),t(g!=null),t(2147483648>N),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=v,d.Jd=g,d.Yc=v+N,d.Zc=4<=N?v+N-4+1:v,ce(d)}function W(d,g){for(var v=0;0<g--;)v|=de(d,128)<<g;return v}function ee(d,g){var v=W(d,g);return Z(d)?-v:v}function z(d,g,v,N){var U,T=0;for(t(d!=null),t(g!=null),t(4294967288>N),d.Sb=N,d.Ra=0,d.u=0,d.h=0,4<N&&(N=4),U=0;U<N;++U)T+=g[v+U]<<8*U;d.Ra=T,d.bb=N,d.oa=g,d.pa=v}function te(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Xi-8>>>0,++d.bb,d.u-=8;J(d)&&(d.h=1,d.u=0)}function Ae(d,g){if(t(0<=g),!d.h&&g<=Ji){var v=P(d)&Wi[g];return d.u+=g,te(d),v}return d.h=1,d.u=0}function he(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function S(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function P(d){return d.Ra>>>(d.u&Xi-1)>>>0}function J(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Xi}function Y(d,g){d.u=g,d.h=J(d)}function ne(d){d.u>=Il&&(t(d.u>=Il),te(d))}function ce(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Z(d){return W(d,1)}function de(d,g){var v=d.Ca;0>d.b&&ce(d);var N=d.b,U=v*g>>>8,T=(d.I>>>N>U)+0;for(T?(v-=U,d.I-=U+1<<N>>>0):v=U+1,N=v,U=0;256<=N;)U+=8,N>>=8;return N=7^U+pn[N],d.b-=N,d.Ca=(v<<N)-1,T}function Ne(d,g,v){d[g+0]=v>>24&255,d[g+1]=v>>16&255,d[g+2]=v>>8&255,d[g+3]=v>>0&255}function je(d,g){return d[g+0]<<0|d[g+1]<<8}function Le(d,g){return je(d,g)|d[g+2]<<16}function Ee(d,g){return je(d,g)|je(d,g+2)<<16}function Xe(d,g){var v=1<<g;return t(d!=null),t(0<g),d.X=A(v),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function ye(d,g){t(d!=null),t(g!=null),t(d.Xa==g.Xa),n(g.X,0,d.X,0,1<<g.Xa)}function V(){this.X=[],this.Xa=this.Mb=0}function Me(d,g,v,N){t(v!=null),t(N!=null);var U=v[0],T=N[0];return U==0&&(U=(d*T+g/2)/g),T==0&&(T=(g*U+d/2)/d),0>=U||0>=T?0:(v[0]=U,N[0]=T,1)}function Qe(d,g){return d+(1<<g)-1>>>g}function ke(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function Fe(d,g){j[g]=function(v,N,U,T,H,M,G){var X;for(X=0;X<H;++X){var se=j[d](M[G+X-1],U,T+X);M[G+X]=ke(v[N+X],se)}}}function De(){this.ud=this.hd=this.jd=0}function Ie(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function Ge(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function tt(d,g){return Ge(d+(d-g+.5>>1))}function nt(d,g,v){return Math.abs(g-v)-Math.abs(d-v)}function ct(d,g,v,N,U,T,H){for(N=T[H-1],v=0;v<U;++v)T[H+v]=N=ke(d[g+v],N)}function ht(d,g,v,N,U){var T;for(T=0;T<v;++T){var H=d[g+T],M=H>>8&255,G=16711935&(G=(G=16711935&H)+((M<<16)+M));N[U+T]=(4278255360&H)+G>>>0}}function bt(d,g){g.jd=d>>0&255,g.hd=d>>8&255,g.ud=d>>16&255}function $e(d,g,v,N,U,T){var H;for(H=0;H<N;++H){var M=g[v+H],G=M>>>8,X=M,se=255&(se=(se=M>>>16)+((d.jd<<24>>24)*(G<<24>>24)>>>5));X=255&(X=(X=X+((d.hd<<24>>24)*(G<<24>>24)>>>5))+((d.ud<<24>>24)*(se<<24>>24)>>>5)),U[T+H]=(4278255360&M)+(se<<16)+X}}function dt(d,g,v,N,U){j[g]=function(T,H,M,G,X,se,fe,ge,le){for(G=fe;G<ge;++G)for(fe=0;fe<le;++fe)X[se++]=U(M[N(T[H++])])},j[d]=function(T,H,M,G,X,se,fe){var ge=8>>T.b,le=T.Ea,be=T.K[0],me=T.w;if(8>ge)for(T=(1<<T.b)-1,me=(1<<ge)-1;H<M;++H){var ae,oe=0;for(ae=0;ae<le;++ae)ae&T||(oe=N(G[X++])),se[fe++]=U(be[oe&me]),oe>>=ge}else j["VP8LMapColor"+v](G,X,be,me,se,fe,H,M,le)}}function Te(d,g,v,N,U){for(v=g+v;g<v;){var T=d[g++];N[U++]=T>>16&255,N[U++]=T>>8&255,N[U++]=T>>0&255}}function Kr(d,g,v,N,U){for(v=g+v;g<v;){var T=d[g++];N[U++]=T>>16&255,N[U++]=T>>8&255,N[U++]=T>>0&255,N[U++]=T>>24&255}}function vt(d,g,v,N,U){for(v=g+v;g<v;){var T=(H=d[g++])>>16&240|H>>12&15,H=H>>0&240|H>>28&15;N[U++]=T,N[U++]=H}}function is(d,g,v,N,U){for(v=g+v;g<v;){var T=(H=d[g++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;N[U++]=T,N[U++]=H}}function Pt(d,g,v,N,U){for(v=g+v;g<v;){var T=d[g++];N[U++]=T>>0&255,N[U++]=T>>8&255,N[U++]=T>>16&255}}function zt(d,g,v,N,U,T){if(T==0)for(v=g+v;g<v;)Ne(N,((T=d[g++])[0]>>24|T[1]>>8&65280|T[2]<<8&16711680|T[3]<<24)>>>0),U+=32;else n(N,U,d,g,v)}function Rs(d,g){j[g][0]=j[d+"0"],j[g][1]=j[d+"1"],j[g][2]=j[d+"2"],j[g][3]=j[d+"3"],j[g][4]=j[d+"4"],j[g][5]=j[d+"5"],j[g][6]=j[d+"6"],j[g][7]=j[d+"7"],j[g][8]=j[d+"8"],j[g][9]=j[d+"9"],j[g][10]=j[d+"10"],j[g][11]=j[d+"11"],j[g][12]=j[d+"12"],j[g][13]=j[d+"13"],j[g][14]=j[d+"0"],j[g][15]=j[d+"0"]}function Ct(d){return d==jf||d==Sf||d==Gd||d==Ff}function RA(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function os(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new RA,this.f.kb=new Zt,this.sd=null}function la(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function er(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function kt(d,g){var v=d.T,N=g.ba.f.RGBA,U=N.eb,T=N.fb+d.ka*N.A,H=Wn[g.ba.S],M=d.y,G=d.O,X=d.f,se=d.N,fe=d.ea,ge=d.W,le=g.cc,be=g.dc,me=g.Mc,ae=g.Nc,oe=d.ka,we=d.ka+d.T,Be=d.U,ve=Be+1>>1;for(oe==0?H(M,G,null,null,X,se,fe,ge,X,se,fe,ge,U,T,null,null,Be):(H(g.ec,g.fc,M,G,le,be,me,ae,X,se,fe,ge,U,T-N.A,U,T,Be),++v);oe+2<we;oe+=2)le=X,be=se,me=fe,ae=ge,se+=d.Rc,ge+=d.Rc,T+=2*N.A,H(M,(G+=2*d.fa)-d.fa,M,G,le,be,me,ae,X,se,fe,ge,U,T-N.A,U,T,Be);return G+=d.fa,d.j+we<d.o?(n(g.ec,g.fc,M,G,Be),n(g.cc,g.dc,X,se,ve),n(g.Mc,g.Nc,fe,ge,ve),v--):1&we||H(M,G,null,null,X,se,fe,ge,X,se,fe,ge,U,T+N.A,null,null,Be),v}function HA(d,g,v){var N=d.F,U=[d.J];if(N!=null){var T=d.U,H=g.ba.S,M=H==Vd||H==Gd;g=g.ba.f.RGBA;var G=[0],X=d.ka;G[0]=d.T,d.Kb&&(X==0?--G[0]:(--X,U[0]-=d.width),d.j+d.ka+d.T==d.o&&(G[0]=d.o-d.j-X));var se=g.eb;X=g.fb+X*g.A,d=Ht(N,U[0],d.width,T,G,se,X+(M?0:3),g.A),t(v==G),d&&Ct(H)&&Vn(se,X,M,T,G,g.A)}return 0}function Pr(d){var g=d.ma,v=g.ba.S,N=11>v,U=v==qd||v==zd||v==Vd||v==kf||v==12||Ct(v);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Ul(g.Oa,d,U?11:12))return 0;if(U&&Ct(v)&&Ce(),d.da)alert("todo:use_scaling");else{if(N){if(g.Ib=st,d.Kb){if(v=d.U+1>>1,g.memory=A(d.U+2*v),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+v,g.Ib=kt,Ce()}}else alert("todo:EmitYUV");U&&(g.Jb=HA,N&&ue())}if(N&&!ry){for(d=0;256>d;++d)fN[d]=89858*(d-128)+Jd>>Wd,mN[d]=-22014*(d-128)+Jd,pN[d]=-45773*(d-128),gN[d]=113618*(d-128)+Jd>>Wd;for(d=Ml;d<Uf;++d)g=76283*(d-16)+Jd>>Wd,xN[d-Ml]=En(g,255),yN[d-Ml]=En(g+8>>4,15);ry=1}return 1}function Hs(d){var g=d.ma,v=d.U,N=d.T;return t(!(1&d.ka)),0>=v||0>=N?0:(v=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,v),g.Dc+=v,1)}function Os(d){d.ma.memory=null}function Ye(d,g,v,N){return Ae(d,8)!=47?0:(g[0]=Ae(d,14)+1,v[0]=Ae(d,14)+1,N[0]=Ae(d,1),Ae(d,3)!=0?0:!d.h)}function ls(d,g){if(4>d)return d+1;var v=d-2>>1;return(2+(1&d)<<v)+Ae(g,v)+1}function Ms(d,g){return 120<g?g-120:1<=(v=((v=eN[g-1])>>4)*d+(8-(15&v)))?v:1;var v}function fn(d,g,v){var N=P(v),U=d[g+=255&N].g-8;return 0<U&&(Y(v,v.u+8),N=P(v),g+=d[g].value,g+=N&(1<<U)-1),Y(v,v.u+d[g].g),d[g].value}function vr(d,g,v){return v.g+=d.g,v.value+=d.value<<g>>>0,t(8>=v.g),d.g}function fr(d,g,v){var N=d.xc;return t((g=N==0?0:d.vc[d.md*(v>>N)+(g>>N)])<d.Wb),d.Ya[g]}function Fn(d,g,v,N){var U=d.ab,T=d.c*g,H=d.C;g=H+g;var M=v,G=N;for(N=d.Ta,v=d.Ua;0<U--;){var X=d.gc[U],se=H,fe=g,ge=M,le=G,be=(G=N,M=v,X.Ea);switch(t(se<fe),t(fe<=X.nc),X.hc){case 2:Td(ge,le,(fe-se)*be,G,M);break;case 0:var me=se,ae=fe,oe=G,we=M,Be=(Pe=X).Ea;me==0&&(Nf(ge,le,null,null,1,oe,we),ct(ge,le+1,0,0,Be-1,oe,we+1),le+=Be,we+=Be,++me);for(var ve=1<<Pe.b,Oe=ve-1,Ue=Qe(Be,Pe.b),Je=Pe.K,Pe=Pe.w+(me>>Pe.b)*Ue;me<ae;){var Bt=Je,St=Pe,mt=1;for(Pl(ge,le,oe,we-Be,1,oe,we);mt<Be;){var ft=(mt&~Oe)+ve;ft>Be&&(ft=Be),(0,Ma[Bt[St++]>>8&15])(ge,le+ +mt,oe,we+mt-Be,ft-mt,oe,we+mt),mt=ft}le+=Be,we+=Be,++me&Oe||(Pe+=Ue)}fe!=X.nc&&n(G,M-be,G,M+(fe-se-1)*be,be);break;case 1:for(be=ge,ae=le,Be=(ge=X.Ea)-(we=ge&~(oe=(le=1<<X.b)-1)),me=Qe(ge,X.b),ve=X.K,X=X.w+(se>>X.b)*me;se<fe;){for(Oe=ve,Ue=X,Je=new De,Pe=ae+we,Bt=ae+ge;ae<Pe;)bt(Oe[Ue++],Je),zA(Je,be,ae,le,G,M),ae+=le,M+=le;ae<Bt&&(bt(Oe[Ue++],Je),zA(Je,be,ae,Be,G,M),ae+=Be,M+=Be),++se&oe||(X+=me)}break;case 3:if(ge==G&&le==M&&0<X.b){for(ae=G,ge=be=M+(fe-se)*be-(we=(fe-se)*Qe(X.Ea,X.b)),le=G,oe=M,me=[],we=(Be=we)-1;0<=we;--we)me[we]=le[oe+we];for(we=Be-1;0<=we;--we)ae[ge+we]=me[we];Kn(X,se,fe,G,be,G,M)}else Kn(X,se,fe,ge,le,G,M)}M=N,G=v}G!=v&&n(N,v,M,G,T)}function Qi(d,g){var v=d.V,N=d.Ba+d.c*d.C,U=g-d.C;if(t(g<=d.l.o),t(16>=U),0<U){var T=d.l,H=d.Ta,M=d.Ua,G=T.width;if(Fn(d,U,v,N),U=M=[M],t((v=d.C)<(N=g)),t(T.v<T.va),N>T.o&&(N=T.o),v<T.j){var X=T.j-v;v=T.j,U[0]+=X*G}if(v>=N?v=0:(U[0]+=4*T.v,T.ka=v-T.j,T.U=T.va-T.v,T.T=N-v,v=1),v){if(M=M[0],11>(v=d.ca).S){var se=v.f.RGBA,fe=(N=v.S,U=T.U,T=T.T,X=se.eb,se.A),ge=T;for(se=se.fb+d.Ma*se.A;0<ge--;){var le=H,be=M,me=U,ae=X,oe=se;switch(N){case Kd:mn(le,be,me,ae,oe);break;case qd:sn(le,be,me,ae,oe);break;case jf:sn(le,be,me,ae,oe),Vn(ae,oe,0,me,1,0);break;case Vx:fa(le,be,me,ae,oe);break;case zd:zt(le,be,me,ae,oe,1);break;case Sf:zt(le,be,me,ae,oe,1),Vn(ae,oe,0,me,1,0);break;case Vd:zt(le,be,me,ae,oe,0);break;case Gd:zt(le,be,me,ae,oe,0),Vn(ae,oe,1,me,1,0);break;case kf:_a(le,be,me,ae,oe);break;case Ff:_a(le,be,me,ae,oe),Rt(ae,oe,me,1,0);break;case Gx:ha(le,be,me,ae,oe);break;default:t(0)}M+=G,se+=fe}d.Ma+=T}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=v.height)}}d.C=g,t(d.C<=d.i)}function ca(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var v=d.Ya[g].G,N=d.Ya[g].H;if(0<v[1][N[1]+0].g||0<v[2][N[2]+0].g||0<v[3][N[3]+0].g)return 0}return 1}function cs(d,g,v,N,U,T){if(d.Z!=0){var H=d.qd,M=d.rd;for(t(Va[d.Z]!=null);g<v;++g)Va[d.Z](H,M,N,U,N,U,T),H=N,M=U,U+=T;d.qd=H,d.rd=M}}function ds(d,g){var v=d.l.ma,N=v.Z==0||v.Z==1?d.l.j:d.C;if(N=d.C<N?N:d.C,t(g<=d.l.o),g>N){var U=d.l.width,T=v.ca,H=v.tb+U*N,M=d.V,G=d.Ba+d.c*N,X=d.gc;t(d.ab==1),t(X[0].hc==3),Rd(X[0],N,g,M,G,T,H),cs(v,N,g,T,H,U)}d.C=d.Ma=g}function us(d,g,v,N,U,T,H){var M=d.$/N,G=d.$%N,X=d.m,se=d.s,fe=v+d.$,ge=fe;U=v+N*U;var le=v+N*T,be=280+se.ua,me=d.Pb?M:16777216,ae=0<se.ua?se.Wa:null,oe=se.wc,we=fe<le?fr(se,G,M):null;t(d.C<T),t(le<=U);var Be=!1;e:for(;;){for(;Be||fe<le;){var ve=0;if(M>=me){var Oe=fe-v;t((me=d).Pb),me.wd=me.m,me.xd=Oe,0<me.s.ua&&ye(me.s.Wa,me.s.vb),me=M+rN}if(G&oe||(we=fr(se,G,M)),t(we!=null),we.Qb&&(g[fe]=we.qb,Be=!0),!Be)if(ne(X),we.jc){ve=X,Oe=g;var Ue=fe,Je=we.pd[P(ve)&Dr-1];t(we.jc),256>Je.g?(Y(ve,ve.u+Je.g),Oe[Ue]=Je.value,ve=0):(Y(ve,ve.u+Je.g-256),t(256<=Je.value),ve=Je.value),ve==0&&(Be=!0)}else ve=fn(we.G[0],we.H[0],X);if(X.h)break;if(Be||256>ve){if(!Be)if(we.nd)g[fe]=(we.qb|ve<<8)>>>0;else{if(ne(X),Be=fn(we.G[1],we.H[1],X),ne(X),Oe=fn(we.G[2],we.H[2],X),Ue=fn(we.G[3],we.H[3],X),X.h)break;g[fe]=(Ue<<24|Be<<16|ve<<8|Oe)>>>0}if(Be=!1,++fe,++G>=N&&(G=0,++M,H!=null&&M<=T&&!(M%16)&&H(d,M),ae!=null))for(;ge<fe;)ve=g[ge++],ae.X[(506832829*ve&4294967295)>>>ae.Mb]=ve}else if(280>ve){if(ve=ls(ve-256,X),Oe=fn(we.G[4],we.H[4],X),ne(X),Oe=Ms(N,Oe=ls(Oe,X)),X.h)break;if(fe-v<Oe||U-fe<ve)break e;for(Ue=0;Ue<ve;++Ue)g[fe+Ue]=g[fe+Ue-Oe];for(fe+=ve,G+=ve;G>=N;)G-=N,++M,H!=null&&M<=T&&!(M%16)&&H(d,M);if(t(fe<=U),G&oe&&(we=fr(se,G,M)),ae!=null)for(;ge<fe;)ve=g[ge++],ae.X[(506832829*ve&4294967295)>>>ae.Mb]=ve}else{if(!(ve<be))break e;for(Be=ve-280,t(ae!=null);ge<fe;)ve=g[ge++],ae.X[(506832829*ve&4294967295)>>>ae.Mb]=ve;ve=fe,t(!(Be>>>(Oe=ae).Xa)),g[ve]=Oe.X[Be],Be=!0}Be||t(X.h==J(X))}if(d.Pb&&X.h&&fe<U)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&ye(d.s.vb,d.s.Wa);else{if(X.h)break e;H!=null&&H(d,M>T?T:M),d.a=0,d.$=fe-v}return 1}return d.a=3,0}function _s(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,t(d!=null)}function _n(){var d=new Bf;return d==null?null:(d.a=0,d.xb=Xx,Rs("Predictor","VP8LPredictors"),Rs("Predictor","VP8LPredictors_C"),Rs("PredictorAdd","VP8LPredictorsAdd"),Rs("PredictorAdd","VP8LPredictorsAdd_C"),Td=ht,zA=$e,mn=Te,sn=Kr,_a=vt,ha=is,fa=Pt,j.VP8LMapColor32b=$i,j.VP8LMapColor8b=Hd,d)}function Ks(d,g,v,N,U){var T=1,H=[d],M=[g],G=N.m,X=N.s,se=null,fe=0;e:for(;;){if(v)for(;T&&Ae(G,1);){var ge=H,le=M,be=N,me=1,ae=be.m,oe=be.gc[be.ab],we=Ae(ae,2);if(be.Oc&1<<we)T=0;else{switch(be.Oc|=1<<we,oe.hc=we,oe.Ea=ge[0],oe.nc=le[0],oe.K=[null],++be.ab,t(4>=be.ab),we){case 0:case 1:oe.b=Ae(ae,3)+2,me=Ks(Qe(oe.Ea,oe.b),Qe(oe.nc,oe.b),0,be,oe.K),oe.K=oe.K[0];break;case 3:var Be,ve=Ae(ae,8)+1,Oe=16<ve?0:4<ve?1:2<ve?2:3;if(ge[0]=Qe(oe.Ea,Oe),oe.b=Oe,Be=me=Ks(ve,1,0,be,oe.K)){var Ue,Je=ve,Pe=oe,Bt=1<<(8>>Pe.b),St=A(Bt);if(St==null)Be=0;else{var mt=Pe.K[0],ft=Pe.w;for(St[0]=Pe.K[0][0],Ue=1;Ue<1*Je;++Ue)St[Ue]=ke(mt[ft+Ue],St[Ue-1]);for(;Ue<4*Bt;++Ue)St[Ue]=0;Pe.K[0]=null,Pe.K[0]=St,Be=1}}me=Be;break;case 2:break;default:t(0)}T=me}}if(H=H[0],M=M[0],T&&Ae(G,1)&&!(T=1<=(fe=Ae(G,4))&&11>=fe)){N.a=3;break e}var Dt;if(Dt=T)t:{var Ut,ot,pr,xn=N,mr=H,yn=M,Ft=fe,Un=v,Ln=xn.m,Fr=xn.s,Tr=[null],An=1,Jn=0,Gs=tN[Ft];r:for(;;){if(Un&&Ae(Ln,1)){var Er=Ae(Ln,3)+2,xa=Qe(mr,Er),XA=Qe(yn,Er),ro=xa*XA;if(!Ks(xa,XA,0,xn,Tr))break r;for(Tr=Tr[0],Fr.xc=Er,Ut=0;Ut<ro;++Ut){var Ga=Tr[Ut]>>8&65535;Tr[Ut]=Ga,Ga>=An&&(An=Ga+1)}}if(Ln.h)break r;for(ot=0;5>ot;++ot){var rr=Wx[ot];!ot&&0<Ft&&(rr+=1<<Ft),Jn<rr&&(Jn=rr)}var Lf=i(An*Gs,k),ay=An,Ay=i(ay,K);if(Ay==null)var $d=null;else t(65536>=ay),$d=Ay;var _l=A(Jn);if($d==null||_l==null||Lf==null){xn.a=1;break r}var Yd=Lf;for(Ut=pr=0;Ut<An;++Ut){var ms=$d[Ut],no=ms.G,so=ms.H,iy=0,Zd=1,oy=0;for(ot=0;5>ot;++ot){rr=Wx[ot],no[ot]=Yd,so[ot]=pr,!ot&&0<Ft&&(rr+=1<<Ft);s:{var eu,If=rr,tu=xn,Kl=_l,bN=Yd,BN=pr,Pf=0,Wa=tu.m,NN=Ae(Wa,1);if(a(Kl,0,0,If),NN){var CN=Ae(Wa,1)+1,kN=Ae(Wa,1),ly=Ae(Wa,kN==0?1:8);Kl[ly]=1,CN==2&&(Kl[ly=Ae(Wa,8)]=1);var ru=1}else{var cy=A(19),dy=Ae(Wa,4)+4;if(19<dy){tu.a=3;var nu=0;break s}for(eu=0;eu<dy;++eu)cy[Z5[eu]]=Ae(Wa,3);var Df=void 0,ql=void 0,uy=tu,jN=cy,su=If,hy=Kl,Tf=0,Ja=uy.m,fy=8,gy=i(128,k);n:for(;E(gy,0,7,jN,19);){if(Ae(Ja,1)){var SN=2+2*Ae(Ja,3);if((Df=2+Ae(Ja,SN))>su)break n}else Df=su;for(ql=0;ql<su&&Df--;){ne(Ja);var py=gy[0+(127&P(Ja))];Y(Ja,Ja.u+py.g);var ao=py.value;if(16>ao)hy[ql++]=ao,ao!=0&&(fy=ao);else{var FN=ao==16,my=ao-16,EN=$5[my],xy=Ae(Ja,X5[my])+EN;if(ql+xy>su)break n;for(var QN=FN?fy:0;0<xy--;)hy[ql++]=QN}}Tf=1;break n}Tf||(uy.a=3),ru=Tf}(ru=ru&&!Wa.h)&&(Pf=E(bN,BN,8,Kl,If)),ru&&Pf!=0?nu=Pf:(tu.a=3,nu=0)}if(nu==0)break r;if(Zd&&Y5[ot]==1&&(Zd=Yd[pr].g==0),iy+=Yd[pr].g,pr+=nu,3>=ot){var zl,Rf=_l[0];for(zl=1;zl<rr;++zl)_l[zl]>Rf&&(Rf=_l[zl]);oy+=Rf}}if(ms.nd=Zd,ms.Qb=0,Zd&&(ms.qb=(no[3][so[3]+0].value<<24|no[1][so[1]+0].value<<16|no[2][so[2]+0].value)>>>0,iy==0&&256>no[0][so[0]+0].value&&(ms.Qb=1,ms.qb+=no[0][so[0]+0].value<<8)),ms.jc=!ms.Qb&&6>oy,ms.jc){var au,ya=ms;for(au=0;au<Dr;++au){var Xa=au,$a=ya.pd[Xa],Au=ya.G[0][ya.H[0]+Xa];256<=Au.value?($a.g=Au.g+256,$a.value=Au.value):($a.g=0,$a.value=0,Xa>>=vr(Au,8,$a),Xa>>=vr(ya.G[1][ya.H[1]+Xa],16,$a),Xa>>=vr(ya.G[2][ya.H[2]+Xa],0,$a),vr(ya.G[3][ya.H[3]+Xa],24,$a))}}}Fr.vc=Tr,Fr.Wb=An,Fr.Ya=$d,Fr.yc=Lf,Dt=1;break t}Dt=0}if(!(T=Dt)){N.a=3;break e}if(0<fe){if(X.ua=1<<fe,!Xe(X.Wa,fe)){N.a=1,T=0;break e}}else X.ua=0;var Hf=N,yy=H,UN=M,Of=Hf.s,Mf=Of.xc;if(Hf.c=yy,Hf.i=UN,Of.md=Qe(yy,Mf),Of.wc=Mf==0?-1:(1<<Mf)-1,v){N.xb=lN;break e}if((se=A(H*M))==null){N.a=1,T=0;break e}T=(T=us(N,se,0,H,M,M,null))&&!G.h;break e}return T?(U!=null?U[0]=se:(t(se==null),t(v)),N.$=0,v||_s(X)):_s(X),T}function OA(d,g){var v=d.c*d.i,N=v+g+16*g;return t(d.c<=g),d.V=A(N),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+v+g,1)}function Ui(d,g){var v=d.C,N=g-v,U=d.V,T=d.Ba+d.c*v;for(t(g<=d.l.o);0<N;){var H=16<N?16:N,M=d.l.ma,G=d.l.width,X=G*H,se=M.ca,fe=M.tb+G*v,ge=d.Ta,le=d.Ua;Fn(d,H,U,T),ir(ge,le,se,fe,X),cs(M,v,v+H,se,fe,G),N-=H,U+=H*d.c,v+=H}t(v==g),d.C=d.Ma=g}function Li(){this.ub=this.yd=this.td=this.Rb=0}function Ii(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Pi(){this.Fb=this.Bb=this.Cb=0,this.Zb=A(4),this.Lb=A(4)}function md(){this.Yb=function(){var d=[];return function g(v,N,U){for(var T=U[N],H=0;H<T&&(v.push(U.length>N+1?[]:0),!(U.length<N+1));H++)g(v[H],N+1,U)}(d,0,[3,11]),d}()}function Zh(){this.jb=A(3),this.Wc=o([4,8],md),this.Xc=o([4,17],md)}function ef(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new A(4),this.od=new A(4)}function Di(){this.ld=this.La=this.dd=this.tc=0}function xd(){this.Na=this.la=0}function tf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pl(){this.ad=A(384),this.Za=0,this.Ob=A(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Di),this.Y=0,this.ya=Array(new pl),this.aa=0,this.l=new Ti}function yd(){this.y=A(16),this.f=A(8),this.ea=A(8)}function nf(){this.cb=this.a=0,this.sc="",this.m=new he,this.Od=new Li,this.Kc=new Ii,this.ed=new ef,this.Qa=new Pi,this.Ic=this.$c=this.Aa=0,this.D=new rf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,he),this.ia=0,this.pb=i(4,tf),this.Pa=new Zh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yd),this.Hd=0,this.rb=Array(new xd),this.sb=0,this.wa=Array(new Di),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pl),this.L=this.aa=0,this.gd=o([4,2],Di),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ti(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sf(){var d=new nf;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Ol||(Ol=bd)),d}function ar(d,g,v){return d.a==0&&(d.a=g,d.sc=v,d.cb=0),0}function wd(d,g,v){return 3<=v&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function vd(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return ar(d,2,"null VP8Io passed to VP8GetHeaders()");var v=g.data,N=g.w,U=g.ha;if(4>U)return ar(d,7,"Truncated header.");var T=v[N+0]|v[N+1]<<8|v[N+2]<<16,H=d.Od;if(H.Rb=!(1&T),H.td=T>>1&7,H.yd=T>>4&1,H.ub=T>>5,3<H.td)return ar(d,3,"Incorrect keyframe parameters.");if(!H.yd)return ar(d,4,"Frame not displayable.");N+=3,U-=3;var M=d.Kc;if(H.Rb){if(7>U)return ar(d,7,"cannot parse picture header");if(!wd(v,N,U))return ar(d,3,"Bad code word");M.c=16383&(v[N+4]<<8|v[N+3]),M.Td=v[N+4]>>6,M.i=16383&(v[N+6]<<8|v[N+5]),M.Ud=v[N+6]>>6,N+=7,U-=7,d.za=M.c+15>>4,d.Ub=M.i+15>>4,g.width=M.c,g.height=M.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,a((T=d.Pa).jb,0,255,T.jb.length),t((T=d.Qa)!=null),T.Cb=0,T.Bb=0,T.Fb=1,a(T.Zb,0,0,T.Zb.length),a(T.Lb,0,0,T.Lb)}if(H.ub>U)return ar(d,7,"bad partition length");ie(T=d.m,v,N,H.ub),N+=H.ub,U-=H.ub,H.Rb&&(M.Ld=Z(T),M.Kd=Z(T)),M=d.Qa;var G,X=d.Pa;if(t(T!=null),t(M!=null),M.Cb=Z(T),M.Cb){if(M.Bb=Z(T),Z(T)){for(M.Fb=Z(T),G=0;4>G;++G)M.Zb[G]=Z(T)?ee(T,7):0;for(G=0;4>G;++G)M.Lb[G]=Z(T)?ee(T,6):0}if(M.Bb)for(G=0;3>G;++G)X.jb[G]=Z(T)?W(T,8):255}else M.Bb=0;if(T.Ka)return ar(d,3,"cannot parse segment header");if((M=d.ed).zd=Z(T),M.Tb=W(T,6),M.wb=W(T,3),M.Pc=Z(T),M.Pc&&Z(T)){for(X=0;4>X;++X)Z(T)&&(M.vd[X]=ee(T,6));for(X=0;4>X;++X)Z(T)&&(M.od[X]=ee(T,6))}if(d.L=M.Tb==0?0:M.zd?1:2,T.Ka)return ar(d,3,"cannot parse filter header");var se=U;if(U=G=N,N=G+se,M=se,d.Xb=(1<<W(d.m,2))-1,se<3*(X=d.Xb))v=7;else{for(G+=3*X,M-=3*X,se=0;se<X;++se){var fe=v[U+0]|v[U+1]<<8|v[U+2]<<16;fe>M&&(fe=M),ie(d.Jc[+se],v,G,fe),G+=fe,M-=fe,U+=3}ie(d.Jc[+X],v,G,M),v=G<N?0:5}if(v!=0)return ar(d,v,"cannot parse partitions");for(v=W(G=d.m,7),U=Z(G)?ee(G,4):0,N=Z(G)?ee(G,4):0,M=Z(G)?ee(G,4):0,X=Z(G)?ee(G,4):0,G=Z(G)?ee(G,4):0,se=d.Qa,fe=0;4>fe;++fe){if(se.Cb){var ge=se.Zb[fe];se.Fb||(ge+=v)}else{if(0<fe){d.pb[fe]=d.pb[0];continue}ge=v}var le=d.pb[fe];le.Sc[0]=Ef[En(ge+U,127)],le.Sc[1]=Qf[En(ge+0,127)],le.Eb[0]=2*Ef[En(ge+N,127)],le.Eb[1]=101581*Qf[En(ge+M,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=Ef[En(ge+X,117)],le.Qc[1]=Qf[En(ge+G,127)],le.lc=ge+G}if(!H.Rb)return ar(d,4,"Not a key frame.");for(Z(T),H=d.Pa,v=0;4>v;++v){for(U=0;8>U;++U)for(N=0;3>N;++N)for(M=0;11>M;++M)X=de(T,iN[v][U][N][M])?W(T,8):aN[v][U][N][M],H.Wc[v][U].Yb[N][M]=X;for(U=0;17>U;++U)H.Xc[v][U]=H.Wc[v][oN[U]]}return d.kc=Z(T),d.kc&&(d.Bd=W(T,8)),d.cb=1}function bd(d,g,v,N,U,T,H){var M=g[U].Yb[v];for(v=0;16>U;++U){if(!de(d,M[v+0]))return U;for(;!de(d,M[v+1]);)if(M=g[++U].Yb[0],v=0,U==16)return 16;var G=g[U+1].Yb;if(de(d,M[v+2])){var X=d,se=0;if(de(X,(ge=M)[(fe=v)+3]))if(de(X,ge[fe+6])){for(M=0,fe=2*(se=de(X,ge[fe+8]))+(ge=de(X,ge[fe+9+se])),se=0,ge=nN[fe];ge[M];++M)se+=se+de(X,ge[M]);se+=3+(8<<fe)}else de(X,ge[fe+7])?(se=7+2*de(X,165),se+=de(X,145)):se=5+de(X,159);else se=de(X,ge[fe+4])?3+de(X,ge[fe+5]):2;M=G[2]}else se=1,M=G[1];G=H+sN[U],0>(X=d).b&&ce(X);var fe,ge=X.b,le=(fe=X.Ca>>1)-(X.I>>ge)>>31;--X.b,X.Ca+=le,X.Ca|=1,X.I-=(fe+1&le)<<ge,T[G]=((se^le)-le)*N[(0<U)+0]}return 16}function ml(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,a(d.zc,0,0,d.zc.length),d.ja=0}function af(d,g){if(d==null)return 0;if(g==null)return ar(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!vd(d,g))return 0;if(t(d.cb),g.ac==null||g.ac(g)){g.ob&&(d.L=0);var v=Xd[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=g.v-v>>4,d.zb=g.j-v>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=g.o+15+v>>4,d.Hb=g.va+15+v>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var N=d.ed;for(v=0;4>v;++v){var U;if(d.Qa.Cb){var T=d.Qa.Lb[v];d.Qa.Fb||(T+=N.Tb)}else T=N.Tb;for(U=0;1>=U;++U){var H=d.gd[v][U],M=T;if(N.Pc&&(M+=N.vd[0],U&&(M+=N.od[0])),0<(M=0>M?0:63<M?63:M)){var G=M;0<N.wb&&(G=4<N.wb?G>>2:G>>1)>9-N.wb&&(G=9-N.wb),1>G&&(G=1),H.dd=G,H.tc=2*M+G,H.ld=40<=M?2:15<=M?1:0}else H.tc=0;H.La=U}}}v=0}else ar(d,6,"Frame setup failed"),v=d.a;if(v=v==0){if(v){d.$c=0,0<d.Aa||(d.Ic=vN);e:{v=d.Ic,N=4*(G=d.za);var X=32*G,se=G+1,fe=0<d.L?G*(0<d.Aa?2:1):0,ge=(d.Aa==2?2:1)*G;if((H=N+832+(U=3*(16*v+Xd[d.L])/2*X)+(T=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=H)v=0;else{if(H>d.Vb){if(d.Vb=0,d.Ec=A(H),d.Fc=0,d.Ec==null){v=ar(d,1,"no memory during frame initialization.");break e}d.Vb=H}H=d.Ec,M=d.Fc,d.Ac=H,d.Bc=M,M+=N,d.Gd=i(X,yd),d.Hd=0,d.rb=i(se+1,xd),d.sb=1,d.wa=fe?i(fe,Di):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=G),t(!0),d.oc=H,d.pc=M,M+=832,d.ya=i(ge,pl),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=G),d.R=16*G,d.B=8*G,G=(X=Xd[d.L])*d.R,X=X/2*d.B,d.sa=H,d.ta=M+G,d.qa=d.sa,d.ra=d.ta+16*v*d.R+X,d.Ha=d.qa,d.Ia=d.ra+8*v*d.B+X,d.$c=0,M+=U,d.mb=T?H:null,d.nb=T?M:null,t(M+T<=d.Fc+d.Vb),ml(d),a(d.Ac,d.Bc,0,N),v=1}}if(v){if(g.ka=0,g.y=d.sa,g.O=d.ta,g.f=d.qa,g.N=d.ra,g.ea=d.Ha,g.Vd=d.Ia,g.fa=d.R,g.Rc=d.B,g.F=null,g.J=0,!Md){for(v=-255;255>=v;++v)br[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)pa[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Hl[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)to[255+v]=0>v?0:255<v?255:v;Md=1}Yi=lf,ga=Af,Dl=Nd,an=of,qn=Cd,Ar=Bd,Zi=Bl,Od=KA,Tl=bf,VA=Nl,GA=vf,Ka=Ki,WA=Cl,eo=Id,JA=Ld,qa=zs,Rl=ua,zn=wf,ps[0]=qs,ps[1]=cf,ps[2]=ff,ps[3]=gf,ps[4]=Sd,ps[5]=Mi,ps[6]=Fd,ps[7]=wl,ps[8]=mf,ps[9]=pf,za[0]=kd,za[1]=uf,za[2]=da,za[3]=Hi,za[4]=qr,za[5]=hf,za[6]=jd,ma[0]=Ra,ma[1]=df,ma[2]=xf,ma[3]=vl,ma[4]=_A,ma[5]=yf,ma[6]=bl,v=1}else v=0}v&&(v=function(le,be){for(le.M=0;le.M<le.Va;++le.M){var me,ae=le.Jc[le.M&le.Xb],oe=le.m,we=le;for(me=0;me<we.za;++me){var Be=oe,ve=we,Oe=ve.Ac,Ue=ve.Bc+4*me,Je=ve.zc,Pe=ve.ya[ve.aa+me];if(ve.Qa.Bb?Pe.$b=de(Be,ve.Pa.jb[0])?2+de(Be,ve.Pa.jb[2]):de(Be,ve.Pa.jb[1]):Pe.$b=0,ve.kc&&(Pe.Ad=de(Be,ve.Bd)),Pe.Za=!de(Be,145)+0,Pe.Za){var Bt=Pe.Ob,St=0;for(ve=0;4>ve;++ve){var mt,ft=Je[0+ve];for(mt=0;4>mt;++mt){ft=AN[Oe[Ue+mt]][ft];for(var Dt=Jx[de(Be,ft[0])];0<Dt;)Dt=Jx[2*Dt+de(Be,ft[Dt])];ft=-Dt,Oe[Ue+mt]=ft}n(Bt,St,Oe,Ue,4),St+=4,Je[0+ve]=ft}}else ft=de(Be,156)?de(Be,128)?1:3:de(Be,163)?2:0,Pe.Ob[0]=ft,a(Oe,Ue,ft,4),a(Je,0,ft,4);Pe.Dd=de(Be,142)?de(Be,114)?de(Be,183)?1:3:2:0}if(we.m.Ka)return ar(le,7,"Premature end-of-partition0 encountered.");for(;le.ja<le.za;++le.ja){if(we=ae,Be=(oe=le).rb[oe.sb-1],Oe=oe.rb[oe.sb+oe.ja],me=oe.ya[oe.aa+oe.ja],Ue=oe.kc?me.Ad:0)Be.la=Oe.la=0,me.Za||(Be.Na=Oe.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var Ut,ot;if(Be=Oe,Oe=we,Ue=oe.Pa.Xc,Je=oe.ya[oe.aa+oe.ja],Pe=oe.pb[Je.$b],ve=Je.ad,Bt=0,St=oe.rb[oe.sb-1],ft=mt=0,a(ve,Bt,0,384),Je.Za)var pr=0,xn=Ue[3];else{Dt=A(16);var mr=Be.Na+St.Na;if(mr=Ol(Oe,Ue[1],mr,Pe.Eb,0,Dt,0),Be.Na=St.Na=(0<mr)+0,1<mr)Yi(Dt,0,ve,Bt);else{var yn=Dt[0]+3>>3;for(Dt=0;256>Dt;Dt+=16)ve[Bt+Dt]=yn}pr=1,xn=Ue[0]}var Ft=15&Be.la,Un=15&St.la;for(Dt=0;4>Dt;++Dt){var Ln=1&Un;for(yn=ot=0;4>yn;++yn)Ft=Ft>>1|(Ln=(mr=Ol(Oe,xn,mr=Ln+(1&Ft),Pe.Sc,pr,ve,Bt))>pr)<<7,ot=ot<<2|(3<mr?3:1<mr?2:ve[Bt+0]!=0),Bt+=16;Ft>>=4,Un=Un>>1|Ln<<7,mt=(mt<<8|ot)>>>0}for(xn=Ft,pr=Un>>4,Ut=0;4>Ut;Ut+=2){for(ot=0,Ft=Be.la>>4+Ut,Un=St.la>>4+Ut,Dt=0;2>Dt;++Dt){for(Ln=1&Un,yn=0;2>yn;++yn)mr=Ln+(1&Ft),Ft=Ft>>1|(Ln=0<(mr=Ol(Oe,Ue[2],mr,Pe.Qc,0,ve,Bt)))<<3,ot=ot<<2|(3<mr?3:1<mr?2:ve[Bt+0]!=0),Bt+=16;Ft>>=2,Un=Un>>1|Ln<<5}ft|=ot<<4*Ut,xn|=Ft<<4<<Ut,pr|=(240&Un)<<Ut}Be.la=xn,St.la=pr,Je.Hc=mt,Je.Gc=ft,Je.ia=43690&ft?0:Pe.ia,Ue=!(mt|ft)}if(0<oe.L&&(oe.wa[oe.Y+oe.ja]=oe.gd[me.$b][me.Za],oe.wa[oe.Y+oe.ja].La|=!Ue),we.Ka)return ar(le,7,"Premature end-of-file encountered.")}if(ml(le),oe=be,we=1,me=(ae=le).D,Be=0<ae.L&&ae.M>=ae.zb&&ae.M<=ae.Va,ae.Aa==0)e:{if(me.M=ae.M,me.uc=Be,Ql(ae,me),we=1,me=(ot=ae.D).Nb,Be=(ft=Xd[ae.L])*ae.R,Oe=ft/2*ae.B,Dt=16*me*ae.R,yn=8*me*ae.B,Ue=ae.sa,Je=ae.ta-Be+Dt,Pe=ae.qa,ve=ae.ra-Oe+yn,Bt=ae.Ha,St=ae.Ia-Oe+yn,Un=(Ft=ot.M)==0,mt=Ft>=ae.Va-1,ae.Aa==2&&Ql(ae,ot),ot.uc)for(Ln=(mr=ae).D.M,t(mr.D.uc),ot=mr.yb;ot<mr.Hb;++ot){pr=ot,xn=Ln;var Fr=(Tr=(rr=mr).D).Nb;Ut=rr.R;var Tr=Tr.wa[Tr.Y+pr],An=rr.sa,Jn=rr.ta+16*Fr*Ut+16*pr,Gs=Tr.dd,Er=Tr.tc;if(Er!=0)if(t(3<=Er),rr.L==1)0<pr&&qa(An,Jn,Ut,Er+4),Tr.La&&zn(An,Jn,Ut,Er),0<xn&&JA(An,Jn,Ut,Er+4),Tr.La&&Rl(An,Jn,Ut,Er);else{var xa=rr.B,XA=rr.qa,ro=rr.ra+8*Fr*xa+8*pr,Ga=rr.Ha,rr=rr.Ia+8*Fr*xa+8*pr;Fr=Tr.ld,0<pr&&(Od(An,Jn,Ut,Er+4,Gs,Fr),VA(XA,ro,Ga,rr,xa,Er+4,Gs,Fr)),Tr.La&&(Ka(An,Jn,Ut,Er,Gs,Fr),eo(XA,ro,Ga,rr,xa,Er,Gs,Fr)),0<xn&&(Zi(An,Jn,Ut,Er+4,Gs,Fr),Tl(XA,ro,Ga,rr,xa,Er+4,Gs,Fr)),Tr.La&&(GA(An,Jn,Ut,Er,Gs,Fr),WA(XA,ro,Ga,rr,xa,Er,Gs,Fr))}}if(ae.ia&&alert("todo:DitherRow"),oe.put!=null){if(ot=16*Ft,Ft=16*(Ft+1),Un?(oe.y=ae.sa,oe.O=ae.ta+Dt,oe.f=ae.qa,oe.N=ae.ra+yn,oe.ea=ae.Ha,oe.W=ae.Ia+yn):(ot-=ft,oe.y=Ue,oe.O=Je,oe.f=Pe,oe.N=ve,oe.ea=Bt,oe.W=St),mt||(Ft-=ft),Ft>oe.o&&(Ft=oe.o),oe.F=null,oe.J=null,ae.Fa!=null&&0<ae.Fa.length&&ot<Ft&&(oe.J=Fl(ae,oe,ot,Ft-ot),oe.F=ae.mb,oe.F==null&&oe.F.length==0)){we=ar(ae,3,"Could not decode alpha data.");break e}ot<oe.j&&(ft=oe.j-ot,ot=oe.j,t(!(1&ft)),oe.O+=ae.R*ft,oe.N+=ae.B*(ft>>1),oe.W+=ae.B*(ft>>1),oe.F!=null&&(oe.J+=oe.width*ft)),ot<Ft&&(oe.O+=oe.v,oe.N+=oe.v>>1,oe.W+=oe.v>>1,oe.F!=null&&(oe.J+=oe.v),oe.ka=ot-oe.j,oe.U=oe.va-oe.v,oe.T=Ft-ot,we=oe.put(oe))}me+1!=ae.Ic||mt||(n(ae.sa,ae.ta-Be,Ue,Je+16*ae.R,Be),n(ae.qa,ae.ra-Oe,Pe,ve+8*ae.B,Oe),n(ae.Ha,ae.Ia-Oe,Bt,St+8*ae.B,Oe))}if(!we)return ar(le,6,"Output aborted.")}return 1}(d,g)),g.bc!=null&&g.bc(g),v&=1}return v?(d.cb=0,v):0}function hs(d,g,v,N,U){U=d[g+v+32*N]+(U>>3),d[g+v+32*N]=-256&U?0>U?0:255:U}function Ri(d,g,v,N,U,T){hs(d,g,0,v,N+U),hs(d,g,1,v,N+T),hs(d,g,2,v,N-T),hs(d,g,3,v,N-U)}function gn(d){return(20091*d>>16)+d}function xl(d,g,v,N){var U,T=0,H=A(16);for(U=0;4>U;++U){var M=d[g+0]+d[g+8],G=d[g+0]-d[g+8],X=(35468*d[g+4]>>16)-gn(d[g+12]),se=gn(d[g+4])+(35468*d[g+12]>>16);H[T+0]=M+se,H[T+1]=G+X,H[T+2]=G-X,H[T+3]=M-se,T+=4,g++}for(U=T=0;4>U;++U)M=(d=H[T+0]+4)+H[T+8],G=d-H[T+8],X=(35468*H[T+4]>>16)-gn(H[T+12]),hs(v,N,0,0,M+(se=gn(H[T+4])+(35468*H[T+12]>>16))),hs(v,N,1,0,G+X),hs(v,N,2,0,G-X),hs(v,N,3,0,M-se),T++,N+=32}function Bd(d,g,v,N){var U=d[g+0]+4,T=35468*d[g+4]>>16,H=gn(d[g+4]),M=35468*d[g+1]>>16;Ri(v,N,0,U+H,d=gn(d[g+1]),M),Ri(v,N,1,U+T,d,M),Ri(v,N,2,U-T,d,M),Ri(v,N,3,U-H,d,M)}function Af(d,g,v,N,U){xl(d,g,v,N),U&&xl(d,g+16,v,N+4)}function Nd(d,g,v,N){ga(d,g+0,v,N,1),ga(d,g+32,v,N+128,1)}function of(d,g,v,N){var U;for(d=d[g+0]+4,U=0;4>U;++U)for(g=0;4>g;++g)hs(v,N,g,U,d)}function Cd(d,g,v,N){d[g+0]&&an(d,g+0,v,N),d[g+16]&&an(d,g+16,v,N+4),d[g+32]&&an(d,g+32,v,N+128),d[g+48]&&an(d,g+48,v,N+128+4)}function lf(d,g,v,N){var U,T=A(16);for(U=0;4>U;++U){var H=d[g+0+U]+d[g+12+U],M=d[g+4+U]+d[g+8+U],G=d[g+4+U]-d[g+8+U],X=d[g+0+U]-d[g+12+U];T[0+U]=H+M,T[8+U]=H-M,T[4+U]=X+G,T[12+U]=X-G}for(U=0;4>U;++U)H=(d=T[0+4*U]+3)+T[3+4*U],M=T[1+4*U]+T[2+4*U],G=T[1+4*U]-T[2+4*U],X=d-T[3+4*U],v[N+0]=H+M>>3,v[N+16]=X+G>>3,v[N+32]=H-M>>3,v[N+48]=X-G>>3,N+=64}function yl(d,g,v){var N,U=g-32,T=Qn,H=255-d[U-1];for(N=0;N<v;++N){var M,G=T,X=H+d[g-1];for(M=0;M<v;++M)d[g+M]=G[X+d[U+M]];g+=32}}function cf(d,g){yl(d,g,4)}function df(d,g){yl(d,g,8)}function uf(d,g){yl(d,g,16)}function da(d,g){var v;for(v=0;16>v;++v)n(d,g+32*v,d,g-32,16)}function Hi(d,g){var v;for(v=16;0<v;--v)a(d,g,d[g-1],16),g+=32}function Oi(d,g,v){var N;for(N=0;16>N;++N)a(g,v+32*N,d,16)}function kd(d,g){var v,N=16;for(v=0;16>v;++v)N+=d[g-1+32*v]+d[g+v-32];Oi(N>>5,d,g)}function qr(d,g){var v,N=8;for(v=0;16>v;++v)N+=d[g-1+32*v];Oi(N>>4,d,g)}function hf(d,g){var v,N=8;for(v=0;16>v;++v)N+=d[g+v-32];Oi(N>>4,d,g)}function jd(d,g){Oi(128,d,g)}function rt(d,g,v){return d+2*g+v+2>>2}function ff(d,g){var v,N=g-32;for(N=new Uint8Array([rt(d[N-1],d[N+0],d[N+1]),rt(d[N+0],d[N+1],d[N+2]),rt(d[N+1],d[N+2],d[N+3]),rt(d[N+2],d[N+3],d[N+4])]),v=0;4>v;++v)n(d,g+32*v,N,0,N.length)}function gf(d,g){var v=d[g-1],N=d[g-1+32],U=d[g-1+64],T=d[g-1+96];Ne(d,g+0,16843009*rt(d[g-1-32],v,N)),Ne(d,g+32,16843009*rt(v,N,U)),Ne(d,g+64,16843009*rt(N,U,T)),Ne(d,g+96,16843009*rt(U,T,T))}function qs(d,g){var v,N=4;for(v=0;4>v;++v)N+=d[g+v-32]+d[g-1+32*v];for(N>>=3,v=0;4>v;++v)a(d,g+32*v,N,4)}function Sd(d,g){var v=d[g-1+0],N=d[g-1+32],U=d[g-1+64],T=d[g-1-32],H=d[g+0-32],M=d[g+1-32],G=d[g+2-32],X=d[g+3-32];d[g+0+96]=rt(N,U,d[g-1+96]),d[g+1+96]=d[g+0+64]=rt(v,N,U),d[g+2+96]=d[g+1+64]=d[g+0+32]=rt(T,v,N),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=rt(H,T,v),d[g+3+64]=d[g+2+32]=d[g+1+0]=rt(M,H,T),d[g+3+32]=d[g+2+0]=rt(G,M,H),d[g+3+0]=rt(X,G,M)}function Fd(d,g){var v=d[g+1-32],N=d[g+2-32],U=d[g+3-32],T=d[g+4-32],H=d[g+5-32],M=d[g+6-32],G=d[g+7-32];d[g+0+0]=rt(d[g+0-32],v,N),d[g+1+0]=d[g+0+32]=rt(v,N,U),d[g+2+0]=d[g+1+32]=d[g+0+64]=rt(N,U,T),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=rt(U,T,H),d[g+3+32]=d[g+2+64]=d[g+1+96]=rt(T,H,M),d[g+3+64]=d[g+2+96]=rt(H,M,G),d[g+3+96]=rt(M,G,G)}function Mi(d,g){var v=d[g-1+0],N=d[g-1+32],U=d[g-1+64],T=d[g-1-32],H=d[g+0-32],M=d[g+1-32],G=d[g+2-32],X=d[g+3-32];d[g+0+0]=d[g+1+64]=T+H+1>>1,d[g+1+0]=d[g+2+64]=H+M+1>>1,d[g+2+0]=d[g+3+64]=M+G+1>>1,d[g+3+0]=G+X+1>>1,d[g+0+96]=rt(U,N,v),d[g+0+64]=rt(N,v,T),d[g+0+32]=d[g+1+96]=rt(v,T,H),d[g+1+32]=d[g+2+96]=rt(T,H,M),d[g+2+32]=d[g+3+96]=rt(H,M,G),d[g+3+32]=rt(M,G,X)}function wl(d,g){var v=d[g+0-32],N=d[g+1-32],U=d[g+2-32],T=d[g+3-32],H=d[g+4-32],M=d[g+5-32],G=d[g+6-32],X=d[g+7-32];d[g+0+0]=v+N+1>>1,d[g+1+0]=d[g+0+64]=N+U+1>>1,d[g+2+0]=d[g+1+64]=U+T+1>>1,d[g+3+0]=d[g+2+64]=T+H+1>>1,d[g+0+32]=rt(v,N,U),d[g+1+32]=d[g+0+96]=rt(N,U,T),d[g+2+32]=d[g+1+96]=rt(U,T,H),d[g+3+32]=d[g+2+96]=rt(T,H,M),d[g+3+64]=rt(H,M,G),d[g+3+96]=rt(M,G,X)}function pf(d,g){var v=d[g-1+0],N=d[g-1+32],U=d[g-1+64],T=d[g-1+96];d[g+0+0]=v+N+1>>1,d[g+2+0]=d[g+0+32]=N+U+1>>1,d[g+2+32]=d[g+0+64]=U+T+1>>1,d[g+1+0]=rt(v,N,U),d[g+3+0]=d[g+1+32]=rt(N,U,T),d[g+3+32]=d[g+1+64]=rt(U,T,T),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=T}function mf(d,g){var v=d[g-1+0],N=d[g-1+32],U=d[g-1+64],T=d[g-1+96],H=d[g-1-32],M=d[g+0-32],G=d[g+1-32],X=d[g+2-32];d[g+0+0]=d[g+2+32]=v+H+1>>1,d[g+0+32]=d[g+2+64]=N+v+1>>1,d[g+0+64]=d[g+2+96]=U+N+1>>1,d[g+0+96]=T+U+1>>1,d[g+3+0]=rt(M,G,X),d[g+2+0]=rt(H,M,G),d[g+1+0]=d[g+3+32]=rt(v,H,M),d[g+1+32]=d[g+3+64]=rt(N,v,H),d[g+1+64]=d[g+3+96]=rt(U,N,v),d[g+1+96]=rt(T,U,N)}function xf(d,g){var v;for(v=0;8>v;++v)n(d,g+32*v,d,g-32,8)}function vl(d,g){var v;for(v=0;8>v;++v)a(d,g,d[g-1],8),g+=32}function MA(d,g,v){var N;for(N=0;8>N;++N)a(g,v+32*N,d,8)}function Ra(d,g){var v,N=8;for(v=0;8>v;++v)N+=d[g+v-32]+d[g-1+32*v];MA(N>>4,d,g)}function yf(d,g){var v,N=4;for(v=0;8>v;++v)N+=d[g+v-32];MA(N>>3,d,g)}function _A(d,g){var v,N=4;for(v=0;8>v;++v)N+=d[g-1+32*v];MA(N>>3,d,g)}function bl(d,g){MA(128,d,g)}function _i(d,g,v){var N=d[g-v],U=d[g+0],T=3*(U-N)+Cf[1020+d[g-2*v]-d[g+v]],H=_d[112+(T+4>>3)];d[g-v]=Qn[255+N+_d[112+(T+3>>3)]],d[g+0]=Qn[255+U-H]}function Ed(d,g,v,N){var U=d[g+0],T=d[g+v];return Gn[255+d[g-2*v]-d[g-v]]>N||Gn[255+T-U]>N}function Qd(d,g,v,N){return 4*Gn[255+d[g-v]-d[g+0]]+Gn[255+d[g-2*v]-d[g+v]]<=N}function Ud(d,g,v,N,U){var T=d[g-3*v],H=d[g-2*v],M=d[g-v],G=d[g+0],X=d[g+v],se=d[g+2*v],fe=d[g+3*v];return 4*Gn[255+M-G]+Gn[255+H-X]>N?0:Gn[255+d[g-4*v]-T]<=U&&Gn[255+T-H]<=U&&Gn[255+H-M]<=U&&Gn[255+fe-se]<=U&&Gn[255+se-X]<=U&&Gn[255+X-G]<=U}function Ld(d,g,v,N){var U=2*N+1;for(N=0;16>N;++N)Qd(d,g+N,v,U)&&_i(d,g+N,v)}function zs(d,g,v,N){var U=2*N+1;for(N=0;16>N;++N)Qd(d,g+N*v,1,U)&&_i(d,g+N*v,1)}function ua(d,g,v,N){var U;for(U=3;0<U;--U)Ld(d,g+=4*v,v,N)}function wf(d,g,v,N){var U;for(U=3;0<U;--U)zs(d,g+=4,v,N)}function Ha(d,g,v,N,U,T,H,M){for(T=2*T+1;0<U--;){if(Ud(d,g,v,T,H))if(Ed(d,g,v,M))_i(d,g,v);else{var G=d,X=g,se=v,fe=G[X-2*se],ge=G[X-se],le=G[X+0],be=G[X+se],me=G[X+2*se],ae=27*(we=Cf[1020+3*(le-ge)+Cf[1020+fe-be]])+63>>7,oe=18*we+63>>7,we=9*we+63>>7;G[X-3*se]=Qn[255+G[X-3*se]+we],G[X-2*se]=Qn[255+fe+oe],G[X-se]=Qn[255+ge+ae],G[X+0]=Qn[255+le-ae],G[X+se]=Qn[255+be-oe],G[X+2*se]=Qn[255+me-we]}g+=N}}function fs(d,g,v,N,U,T,H,M){for(T=2*T+1;0<U--;){if(Ud(d,g,v,T,H))if(Ed(d,g,v,M))_i(d,g,v);else{var G=d,X=g,se=v,fe=G[X-se],ge=G[X+0],le=G[X+se],be=_d[112+((me=3*(ge-fe))+4>>3)],me=_d[112+(me+3>>3)],ae=be+1>>1;G[X-2*se]=Qn[255+G[X-2*se]+ae],G[X-se]=Qn[255+fe+me],G[X+0]=Qn[255+ge-be],G[X+se]=Qn[255+le-ae]}g+=N}}function Bl(d,g,v,N,U,T){Ha(d,g,v,1,16,N,U,T)}function KA(d,g,v,N,U,T){Ha(d,g,1,v,16,N,U,T)}function vf(d,g,v,N,U,T){var H;for(H=3;0<H;--H)fs(d,g+=4*v,v,1,16,N,U,T)}function Ki(d,g,v,N,U,T){var H;for(H=3;0<H;--H)fs(d,g+=4,1,v,16,N,U,T)}function bf(d,g,v,N,U,T,H,M){Ha(d,g,U,1,8,T,H,M),Ha(v,N,U,1,8,T,H,M)}function Nl(d,g,v,N,U,T,H,M){Ha(d,g,1,U,8,T,H,M),Ha(v,N,1,U,8,T,H,M)}function Cl(d,g,v,N,U,T,H,M){fs(d,g+4*U,U,1,8,T,H,M),fs(v,N+4*U,U,1,8,T,H,M)}function Id(d,g,v,N,U,T,H,M){fs(d,g+4,1,U,8,T,H,M),fs(v,N+4,1,U,8,T,H,M)}function qi(){this.ba=new os,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new er,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function kl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pd(){this.ua=0,this.Wa=new V,this.vb=new V,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new k}function Bf(){this.xb=this.a=0,this.l=new Ti,this.ca=new os,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new S,this.Pb=0,this.wd=new S,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pd,this.ab=0,this.gc=i(4,jl),this.Oc=0}function zi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ti,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function qA(d,g,v,N,U,T,H){for(d=d==null?0:d[g+0],g=0;g<H;++g)U[T+g]=d+v[N+g]&255,d=U[T+g]}function Sl(d,g,v,N,U,T,H){var M;if(d==null)qA(null,null,v,N,U,T,H);else for(M=0;M<H;++M)U[T+M]=d[g+M]+v[N+M]&255}function Oa(d,g,v,N,U,T,H){if(d==null)qA(null,null,v,N,U,T,H);else{var M,G=d[g+0],X=G,se=G;for(M=0;M<H;++M)X=se+(G=d[g+M])-X,se=v[N+M]+(-256&X?0>X?0:255:X)&255,X=G,U[T+M]=se}}function Fl(d,g,v,N){var U=g.width,T=g.o;if(t(d!=null&&g!=null),0>v||0>=N||v+N>T)return null;if(!d.Cc){if(d.ga==null){var H;if(d.ga=new zi,(H=d.ga==null)||(H=g.width*g.o,t(d.Gb.length==0),d.Gb=A(H),d.Uc=0,d.Gb==null?H=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,H=1),H=!H),!H){H=d.ga;var M=d.Fa,G=d.P,X=d.qc,se=d.mb,fe=d.nb,ge=G+1,le=X-1,be=H.l;if(t(M!=null&&se!=null&&g!=null),Va[0]=null,Va[1]=qA,Va[2]=Sl,Va[3]=Oa,H.ca=se,H.tb=fe,H.c=g.width,H.i=g.height,t(0<H.c&&0<H.i),1>=X)g=0;else if(H.$a=M[G+0]>>0&3,H.Z=M[G+0]>>2&3,H.Lc=M[G+0]>>4&3,G=M[G+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||G)g=0;else if(be.put=Hs,be.ac=Pr,be.bc=Os,be.ma=H,be.width=g.width,be.height=g.height,be.Da=g.Da,be.v=g.v,be.va=g.va,be.j=g.j,be.o=g.o,H.$a)e:{t(H.$a==1),g=_n();t:for(;;){if(g==null){g=0;break e}if(t(H!=null),H.mc=g,g.c=H.c,g.i=H.i,g.l=H.l,g.l.ma=H,g.l.width=H.c,g.l.height=H.i,g.a=0,z(g.m,M,ge,le),!Ks(H.c,H.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&ca(g.s)?(H.ic=1,M=g.c*g.i,g.Ta=null,g.Ua=0,g.V=A(M),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(H.ic=0,g=OA(g,H.c)),!g))break t;g=1;break e}H.mc=null,g=0}else g=le>=H.c*H.i;H=!g}if(H)return null;d.ga.Lc!=1?d.Ga=0:N=T-v}t(d.ga!=null),t(v+N<=T);e:{if(g=(M=d.ga).c,T=M.l.o,M.$a==0){if(ge=d.rc,le=d.Vc,be=d.Fa,G=d.P+1+v*g,X=d.mb,se=d.nb+v*g,t(G<=d.P+d.qc),M.Z!=0)for(t(Va[M.Z]!=null),H=0;H<N;++H)Va[M.Z](ge,le,be,G,X,se,g),ge=X,le=se,se+=g,G+=g;else for(H=0;H<N;++H)n(X,se,be,G,g),ge=X,le=se,se+=g,G+=g;d.rc=ge,d.Vc=le}else{if(t(M.mc!=null),g=v+N,t((H=M.mc)!=null),t(g<=H.i),H.C>=g)g=1;else if(M.ic||ue(),M.ic){M=H.V,ge=H.Ba,le=H.c;var me=H.i,ae=(be=1,G=H.$/le,X=H.$%le,se=H.m,fe=H.s,H.$),oe=le*me,we=le*g,Be=fe.wc,ve=ae<we?fr(fe,X,G):null;t(ae<=oe),t(g<=me),t(ca(fe));t:for(;;){for(;!se.h&&ae<we;){if(X&Be||(ve=fr(fe,X,G)),t(ve!=null),ne(se),256>(me=fn(ve.G[0],ve.H[0],se)))M[ge+ae]=me,++ae,++X>=le&&(X=0,++G<=g&&!(G%16)&&ds(H,G));else{if(!(280>me)){be=0;break t}me=ls(me-256,se);var Oe,Ue=fn(ve.G[4],ve.H[4],se);if(ne(se),!(ae>=(Ue=Ms(le,Ue=ls(Ue,se)))&&oe-ae>=me)){be=0;break t}for(Oe=0;Oe<me;++Oe)M[ge+ae+Oe]=M[ge+ae+Oe-Ue];for(ae+=me,X+=me;X>=le;)X-=le,++G<=g&&!(G%16)&&ds(H,G);ae<we&&X&Be&&(ve=fr(fe,X,G))}t(se.h==J(se))}ds(H,G>g?g:G);break t}!be||se.h&&ae<oe?(be=0,H.a=se.h?5:3):H.$=ae,g=be}else g=us(H,H.V,H.Ba,H.c,H.i,g,Ui);if(!g){N=0;break e}}v+N>=T&&(d.Cc=1),N=1}if(!N)return null;if(d.Cc&&((N=d.ga)!=null&&(N.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+v*U}function y(d,g,v,N,U,T){for(;0<U--;){var H,M=d,G=g+(v?1:0),X=d,se=g+(v?0:3);for(H=0;H<N;++H){var fe=X[se+4*H];fe!=255&&(fe*=32897,M[G+4*H+0]=M[G+4*H+0]*fe>>23,M[G+4*H+1]=M[G+4*H+1]*fe>>23,M[G+4*H+2]=M[G+4*H+2]*fe>>23)}g+=T}}function L(d,g,v,N,U){for(;0<N--;){var T;for(T=0;T<v;++T){var H=d[g+2*T+0],M=15&(X=d[g+2*T+1]),G=4369*M,X=(240&X|X>>4)*G>>16;d[g+2*T+0]=(240&H|H>>4)*G>>16&240|(15&H|H<<4)*G>>16>>4&15,d[g+2*T+1]=240&X|M}g+=U}}function $(d,g,v,N,U,T,H,M){var G,X,se=255;for(X=0;X<U;++X){for(G=0;G<N;++G){var fe=d[g+G];T[H+4*G]=fe,se&=fe}g+=v,H+=M}return se!=255}function re(d,g,v,N,U){var T;for(T=0;T<U;++T)v[N+T]=d[g+T]>>8}function ue(){Vn=y,Rt=L,Ht=$,ir=re}function xe(d,g,v){j[d]=function(N,U,T,H,M,G,X,se,fe,ge,le,be,me,ae,oe,we,Be){var ve,Oe=Be-1>>1,Ue=M[G+0]|X[se+0]<<16,Je=fe[ge+0]|le[be+0]<<16;t(N!=null);var Pe=3*Ue+Je+131074>>2;for(g(N[U+0],255&Pe,Pe>>16,me,ae),T!=null&&(Pe=3*Je+Ue+131074>>2,g(T[H+0],255&Pe,Pe>>16,oe,we)),ve=1;ve<=Oe;++ve){var Bt=M[G+ve]|X[se+ve]<<16,St=fe[ge+ve]|le[be+ve]<<16,mt=Ue+Bt+Je+St+524296,ft=mt+2*(Bt+Je)>>3;Pe=ft+Ue>>1,Ue=(mt=mt+2*(Ue+St)>>3)+Bt>>1,g(N[U+2*ve-1],255&Pe,Pe>>16,me,ae+(2*ve-1)*v),g(N[U+2*ve-0],255&Ue,Ue>>16,me,ae+(2*ve-0)*v),T!=null&&(Pe=mt+Je>>1,Ue=ft+St>>1,g(T[H+2*ve-1],255&Pe,Pe>>16,oe,we+(2*ve-1)*v),g(T[H+2*ve+0],255&Ue,Ue>>16,oe,we+(2*ve+0)*v)),Ue=Bt,Je=St}1&Be||(Pe=3*Ue+Je+131074>>2,g(N[U+Be-1],255&Pe,Pe>>16,me,ae+(Be-1)*v),T!=null&&(Pe=3*Je+Ue+131074>>2,g(T[H+Be-1],255&Pe,Pe>>16,oe,we+(Be-1)*v)))}}function Ce(){Wn[Kd]=cN,Wn[qd]=$x,Wn[Vx]=dN,Wn[zd]=Yx,Wn[Vd]=Zx,Wn[kf]=ey,Wn[Gx]=uN,Wn[jf]=$x,Wn[Sf]=Yx,Wn[Gd]=Zx,Wn[Ff]=ey}function He(d){return d&~hN?0>d?0:255:d>>ty}function We(d,g){return He((19077*d>>8)+(26149*g>>8)-14234)}function it(d,g,v){return He((19077*d>>8)-(6419*g>>8)-(13320*v>>8)+8708)}function at(d,g){return He((19077*d>>8)+(33050*g>>8)-17685)}function pt(d,g,v,N,U){N[U+0]=We(d,v),N[U+1]=it(d,g,v),N[U+2]=at(d,g)}function Wt(d,g,v,N,U){N[U+0]=at(d,g),N[U+1]=it(d,g,v),N[U+2]=We(d,v)}function tr(d,g,v,N,U){var T=it(d,g,v);g=T<<3&224|at(d,g)>>3,N[U+0]=248&We(d,v)|T>>5,N[U+1]=g}function gr(d,g,v,N,U){var T=240&at(d,g)|15;N[U+0]=240&We(d,v)|it(d,g,v)>>4,N[U+1]=T}function zr(d,g,v,N,U){N[U+0]=255,pt(d,g,v,N,U+1)}function Sr(d,g,v,N,U){Wt(d,g,v,N,U),N[U+3]=255}function gs(d,g,v,N,U){pt(d,g,v,N,U),N[U+3]=255}function En(d,g){return 0>d?0:d>g?g:d}function Vs(d,g,v){j[d]=function(N,U,T,H,M,G,X,se,fe){for(var ge=se+(-2&fe)*v;se!=ge;)g(N[U+0],T[H+0],M[G+0],X,se),g(N[U+1],T[H+0],M[G+0],X,se+v),U+=2,++H,++G,se+=2*v;1&fe&&g(N[U+0],T[H+0],M[G+0],X,se)}}function Dd(d,g,v){return v==0?d==0?g==0?6:5:g==0?4:0:v}function El(d,g,v,N,U){switch(d>>>30){case 3:ga(g,v,N,U,0);break;case 2:Ar(g,v,N,U);break;case 1:an(g,v,N,U)}}function Ql(d,g){var v,N,U=g.M,T=g.Nb,H=d.oc,M=d.pc+40,G=d.oc,X=d.pc+584,se=d.oc,fe=d.pc+600;for(v=0;16>v;++v)H[M+32*v-1]=129;for(v=0;8>v;++v)G[X+32*v-1]=129,se[fe+32*v-1]=129;for(0<U?H[M-1-32]=G[X-1-32]=se[fe-1-32]=129:(a(H,M-32-1,127,21),a(G,X-32-1,127,9),a(se,fe-32-1,127,9)),N=0;N<d.za;++N){var ge=g.ya[g.aa+N];if(0<N){for(v=-1;16>v;++v)n(H,M+32*v-4,H,M+32*v+12,4);for(v=-1;8>v;++v)n(G,X+32*v-4,G,X+32*v+4,4),n(se,fe+32*v-4,se,fe+32*v+4,4)}var le=d.Gd,be=d.Hd+N,me=ge.ad,ae=ge.Hc;if(0<U&&(n(H,M-32,le[be].y,0,16),n(G,X-32,le[be].f,0,8),n(se,fe-32,le[be].ea,0,8)),ge.Za){var oe=H,we=M-32+16;for(0<U&&(N>=d.za-1?a(oe,we,le[be].y[15],4):n(oe,we,le[be+1].y,0,4)),v=0;4>v;v++)oe[we+128+v]=oe[we+256+v]=oe[we+384+v]=oe[we+0+v];for(v=0;16>v;++v,ae<<=2)oe=H,we=M+ny[v],ps[ge.Ob[v]](oe,we),El(ae,me,16*+v,oe,we)}else if(oe=Dd(N,U,ge.Ob[0]),za[oe](H,M),ae!=0)for(v=0;16>v;++v,ae<<=2)El(ae,me,16*+v,H,M+ny[v]);for(v=ge.Gc,oe=Dd(N,U,ge.Dd),ma[oe](G,X),ma[oe](se,fe),ae=me,oe=G,we=X,255&(ge=v>>0)&&(170&ge?Dl(ae,256,oe,we):qn(ae,256,oe,we)),ge=se,ae=fe,255&(v>>=8)&&(170&v?Dl(me,320,ge,ae):qn(me,320,ge,ae)),U<d.Ub-1&&(n(le[be].y,0,H,M+480,16),n(le[be].f,0,G,X+224,8),n(le[be].ea,0,se,fe+224,8)),v=8*T*d.B,le=d.sa,be=d.ta+16*N+16*T*d.R,me=d.qa,ge=d.ra+8*N+v,ae=d.Ha,oe=d.Ia+8*N+v,v=0;16>v;++v)n(le,be+v*d.R,H,M+32*v,16);for(v=0;8>v;++v)n(me,ge+v*d.B,G,X+32*v,8),n(ae,oe+v*d.B,se,fe+32*v,8)}}function Vi(d,g,v,N,U,T,H,M,G){var X=[0],se=[0],fe=0,ge=G!=null?G.kd:0,le=G??new kl;if(d==null||12>v)return 7;le.data=d,le.w=g,le.ha=v,g=[g],v=[v],le.gb=[le.gb];e:{var be=g,me=v,ae=le.gb;if(t(d!=null),t(me!=null),t(ae!=null),ae[0]=0,12<=me[0]&&!r(d,be[0],"RIFF")){if(r(d,be[0]+8,"WEBP")){ae=3;break e}var oe=Ee(d,be[0]+4);if(12>oe||4294967286<oe){ae=3;break e}if(ge&&oe>me[0]-8){ae=7;break e}ae[0]=oe,be[0]+=12,me[0]-=12}ae=0}if(ae!=0)return ae;for(oe=0<le.gb[0],v=v[0];;){e:{var we=d;me=g,ae=v;var Be=X,ve=se,Oe=be=[0];if((Pe=fe=[fe])[0]=0,8>ae[0])ae=7;else{if(!r(we,me[0],"VP8X")){if(Ee(we,me[0]+4)!=10){ae=3;break e}if(18>ae[0]){ae=7;break e}var Ue=Ee(we,me[0]+8),Je=1+Le(we,me[0]+12);if(2147483648<=Je*(we=1+Le(we,me[0]+15))){ae=3;break e}Oe!=null&&(Oe[0]=Ue),Be!=null&&(Be[0]=Je),ve!=null&&(ve[0]=we),me[0]+=18,ae[0]-=18,Pe[0]=1}ae=0}}if(fe=fe[0],be=be[0],ae!=0)return ae;if(me=!!(2&be),!oe&&fe)return 3;if(T!=null&&(T[0]=!!(16&be)),H!=null&&(H[0]=me),M!=null&&(M[0]=0),H=X[0],be=se[0],fe&&me&&G==null){ae=0;break}if(4>v){ae=7;break}if(oe&&fe||!oe&&!fe&&!r(d,g[0],"ALPH")){v=[v],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{Ue=d,ae=g,oe=v;var Pe=le.gb;Be=le.na,ve=le.P,Oe=le.Sa,Je=22,t(Ue!=null),t(oe!=null),we=ae[0];var Bt=oe[0];for(t(Be!=null),t(Oe!=null),Be[0]=null,ve[0]=null,Oe[0]=0;;){if(ae[0]=we,oe[0]=Bt,8>Bt){ae=7;break e}var St=Ee(Ue,we+4);if(4294967286<St){ae=3;break e}var mt=8+St+1&-2;if(Je+=mt,0<Pe&&Je>Pe){ae=3;break e}if(!r(Ue,we,"VP8 ")||!r(Ue,we,"VP8L")){ae=0;break e}if(Bt[0]<mt){ae=7;break e}r(Ue,we,"ALPH")||(Be[0]=Ue,ve[0]=we+8,Oe[0]=St),we+=mt,Bt-=mt}}if(v=v[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],ae!=0)break}v=[v],le.Ja=[le.Ja],le.xa=[le.xa];e:if(Pe=d,ae=g,oe=v,Be=le.gb[0],ve=le.Ja,Oe=le.xa,Ue=ae[0],we=!r(Pe,Ue,"VP8 "),Je=!r(Pe,Ue,"VP8L"),t(Pe!=null),t(oe!=null),t(ve!=null),t(Oe!=null),8>oe[0])ae=7;else{if(we||Je){if(Pe=Ee(Pe,Ue+4),12<=Be&&Pe>Be-12){ae=3;break e}if(ge&&Pe>oe[0]-8){ae=7;break e}ve[0]=Pe,ae[0]+=8,oe[0]-=8,Oe[0]=Je}else Oe[0]=5<=oe[0]&&Pe[Ue+0]==47&&!(Pe[Ue+4]>>5),ve[0]=oe[0];ae=0}if(v=v[0],le.Ja=le.Ja[0],le.xa=le.xa[0],g=g[0],ae!=0)break;if(4294967286<le.Ja)return 3;if(M==null||me||(M[0]=le.xa?2:1),H=[H],be=[be],le.xa){if(5>v){ae=7;break}M=H,ge=be,me=T,d==null||5>v?d=0:5<=v&&d[g+0]==47&&!(d[g+4]>>5)?(oe=[0],Pe=[0],Be=[0],z(ve=new S,d,g,v),Ye(ve,oe,Pe,Be)?(M!=null&&(M[0]=oe[0]),ge!=null&&(ge[0]=Pe[0]),me!=null&&(me[0]=Be[0]),d=1):d=0):d=0}else{if(10>v){ae=7;break}M=be,d==null||10>v||!wd(d,g+3,v-3)?d=0:(ge=d[g+0]|d[g+1]<<8|d[g+2]<<16,me=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=le.Ja||!me||!d?d=0:(H&&(H[0]=me),M&&(M[0]=d),d=1))}if(!d||(H=H[0],be=be[0],fe&&(X[0]!=H||se[0]!=be)))return 3;G!=null&&(G[0]=le,G.offset=g-G.w,t(4294967286>g-G.w),t(G.offset==G.ha-v));break}return ae==0||ae==7&&fe&&G==null?(T!=null&&(T[0]|=le.na!=null&&0<le.na.length),N!=null&&(N[0]=H),U!=null&&(U[0]=be),0):ae}function Ul(d,g,v){var N=g.width,U=g.height,T=0,H=0,M=N,G=U;if(g.Da=d!=null&&0<d.Da,g.Da&&(M=d.cd,G=d.bd,T=d.v,H=d.j,11>v||(T&=-2,H&=-2),0>T||0>H||0>=M||0>=G||T+M>N||H+G>U))return 0;if(g.v=T,g.j=H,g.va=T+M,g.o=H+G,g.U=M,g.T=G,g.da=d!=null&&0<d.da,g.da){if(!Me(M,G,v=[d.ib],T=[d.hb]))return 0;g.ib=v[0],g.hb=T[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*N/4&&g.hb<3*U/4,g.Kb=0),1}function Ll(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function Gi(d,g,v,N){if(N==null||0>=d||0>=g)return 2;if(v!=null){if(v.Da){var U=v.cd,T=v.bd,H=-2&v.v,M=-2&v.j;if(0>H||0>M||0>=U||0>=T||H+U>d||M+T>g)return 2;d=U,g=T}if(v.da){if(!Me(d,g,U=[v.ib],T=[v.hb]))return 2;d=U[0],g=T[0]}}N.width=d,N.height=g;e:{var G=N.width,X=N.height;if(d=N.S,0>=G||0>=X||!(d>=Kd&&13>d))d=2;else{if(0>=N.Rd&&N.sd==null){H=T=U=g=0;var se=(M=G*sy[d])*X;if(11>d||(T=(X+1)/2*(g=(G+1)/2),d==12&&(H=(U=G)*X)),(X=A(se+2*T+H))==null){d=1;break e}N.sd=X,11>d?((G=N.f.RGBA).eb=X,G.fb=0,G.A=M,G.size=se):((G=N.f.kb).y=X,G.O=0,G.fa=M,G.Fd=se,G.f=X,G.N=0+se,G.Ab=g,G.Cd=T,G.ea=X,G.W=0+se+T,G.Db=g,G.Ed=T,d==12&&(G.F=X,G.J=0+se+2*T),G.Tc=H,G.lb=U)}if(g=1,U=N.S,T=N.width,H=N.height,U>=Kd&&13>U)if(11>U)d=N.f.RGBA,g&=(M=Math.abs(d.A))*(H-1)+T<=d.size,g&=M>=T*sy[U],g&=d.eb!=null;else{d=N.f.kb,M=(T+1)/2,se=(H+1)/2,G=Math.abs(d.fa),X=Math.abs(d.Ab);var fe=Math.abs(d.Db),ge=Math.abs(d.lb),le=ge*(H-1)+T;g&=G*(H-1)+T<=d.Fd,g&=X*(se-1)+M<=d.Cd,g=(g&=fe*(se-1)+M<=d.Ed)&G>=T&X>=M&fe>=M,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,U==12&&(g&=ge>=T,g&=le<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||v!=null&&v.fd&&(d=Ll(N)),d}var Dr=64,Wi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ji=24,Xi=32,Il=8,pn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(d){return d},j.Predictor2=function(d,g,v){return g[v+0]},j.Predictor3=function(d,g,v){return g[v+1]},j.Predictor4=function(d,g,v){return g[v-1]},j.Predictor5=function(d,g,v){return Ie(Ie(d,g[v+1]),g[v+0])},j.Predictor6=function(d,g,v){return Ie(d,g[v-1])},j.Predictor7=function(d,g,v){return Ie(d,g[v+0])},j.Predictor8=function(d,g,v){return Ie(g[v-1],g[v+0])},j.Predictor9=function(d,g,v){return Ie(g[v+0],g[v+1])},j.Predictor10=function(d,g,v){return Ie(Ie(d,g[v-1]),Ie(g[v+0],g[v+1]))},j.Predictor11=function(d,g,v){var N=g[v+0];return 0>=nt(N>>24&255,d>>24&255,(g=g[v-1])>>24&255)+nt(N>>16&255,d>>16&255,g>>16&255)+nt(N>>8&255,d>>8&255,g>>8&255)+nt(255&N,255&d,255&g)?N:d},j.Predictor12=function(d,g,v){var N=g[v+0];return(Ge((d>>24&255)+(N>>24&255)-((g=g[v-1])>>24&255))<<24|Ge((d>>16&255)+(N>>16&255)-(g>>16&255))<<16|Ge((d>>8&255)+(N>>8&255)-(g>>8&255))<<8|Ge((255&d)+(255&N)-(255&g)))>>>0},j.Predictor13=function(d,g,v){var N=g[v-1];return(tt((d=Ie(d,g[v+0]))>>24&255,N>>24&255)<<24|tt(d>>16&255,N>>16&255)<<16|tt(d>>8&255,N>>8&255)<<8|tt(d>>0&255,N>>0&255))>>>0};var Nf=j.PredictorAdd0;j.PredictorAdd1=ct,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var Pl=j.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Td,Kn=j.ColorIndexInverseTransform,$i=j.MapARGB,Rd=j.VP8LColorIndexInverseTransformAlpha,Hd=j.MapAlpha,Ma=j.VP8LPredictorsAdd=[];Ma.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var zA,mn,sn,_a,ha,fa,Yi,ga,Ar,Dl,an,qn,Zi,Od,Tl,VA,GA,Ka,WA,eo,JA,qa,Rl,zn,Vn,Rt,Ht,ir,br=A(511),pa=A(2041),Hl=A(225),to=A(767),Md=0,Cf=pa,_d=Hl,Qn=to,Gn=br,Kd=0,qd=1,Vx=2,zd=3,Vd=4,kf=5,Gx=6,jf=7,Sf=8,Gd=9,Ff=10,X5=[2,3,7],$5=[3,3,11],Wx=[280,256,256,256,40],Y5=[0,1,1,1,0],Z5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],eN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],rN=8,Ef=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ol=null,nN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],aN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],AN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],iN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],oN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],za=[],ps=[],ma=[],lN=1,Xx=2,Va=[],Wn=[];xe("UpsampleRgbLinePair",pt,3),xe("UpsampleBgrLinePair",Wt,3),xe("UpsampleRgbaLinePair",gs,4),xe("UpsampleBgraLinePair",Sr,4),xe("UpsampleArgbLinePair",zr,4),xe("UpsampleRgba4444LinePair",gr,2),xe("UpsampleRgb565LinePair",tr,2);var cN=j.UpsampleRgbLinePair,dN=j.UpsampleBgrLinePair,$x=j.UpsampleRgbaLinePair,Yx=j.UpsampleBgraLinePair,Zx=j.UpsampleArgbLinePair,ey=j.UpsampleRgba4444LinePair,uN=j.UpsampleRgb565LinePair,Wd=16,Jd=1<<Wd-1,Ml=-227,Uf=482,ty=6,hN=(256<<ty)-1,ry=0,fN=A(256),gN=A(256),pN=A(256),mN=A(256),xN=A(Uf-Ml),yN=A(Uf-Ml);Vs("YuvToRgbRow",pt,3),Vs("YuvToBgrRow",Wt,3),Vs("YuvToRgbaRow",gs,4),Vs("YuvToBgraRow",Sr,4),Vs("YuvToArgbRow",zr,4),Vs("YuvToRgba4444Row",gr,2),Vs("YuvToRgb565Row",tr,2);var ny=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xd=[0,2,8],wN=[8,7,6,4,4,2,2,2,1,1,1,1],vN=1;this.WebPDecodeRGBA=function(d,g,v,N,U){var T=qd,H=new qi,M=new os;H.ba=M,M.S=T,M.width=[M.width],M.height=[M.height];var G=M.width,X=M.height,se=new la;if(se==null||d==null)var fe=2;else t(se!=null),fe=Vi(d,g,v,se.width,se.height,se.Pd,se.Qd,se.format,null);if(fe!=0?G=0:(G!=null&&(G[0]=se.width[0]),X!=null&&(X[0]=se.height[0]),G=1),G){M.width=M.width[0],M.height=M.height[0],N!=null&&(N[0]=M.width),U!=null&&(U[0]=M.height);e:{if(N=new Ti,(U=new kl).data=d,U.w=g,U.ha=v,U.kd=1,g=[0],t(U!=null),((d=Vi(U.data,U.w,U.ha,null,null,null,g,null,U))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(t(H!=null),N.data=U.data,N.w=U.w+U.offset,N.ha=U.ha-U.offset,N.put=Hs,N.ac=Pr,N.bc=Os,N.ma=H,U.xa){if((d=_n())==null){H=1;break e}if(function(ge,le){var be=[0],me=[0],ae=[0];t:for(;;){if(ge==null)return 0;if(le==null)return ge.a=2,0;if(ge.l=le,ge.a=0,z(ge.m,le.data,le.w,le.ha),!Ye(ge.m,be,me,ae)){ge.a=3;break t}if(ge.xb=Xx,le.width=be[0],le.height=me[0],!Ks(be[0],me[0],1,ge,null))break t;return 1}return t(ge.a!=0),0}(d,N)){if(N=(g=Gi(N.width,N.height,H.Oa,H.ba))==0){t:{N=d;r:for(;;){if(N==null){N=0;break t}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((v=N.l)!=null),t((U=v.ma)!=null),N.xb!=0){if(N.ca=U.ba,N.tb=U.tb,t(N.ca!=null),!Ul(U.Oa,v,zd)){N.a=2;break r}if(!OA(N,v.width)||v.da)break r;if((v.da||Ct(N.ca.S))&&ue(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&ue()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!Xe(N.s.vb,N.s.Wa.Xa)){N.a=1;break r}N.xb=0}if(!us(N,N.V,N.Ba,N.c,N.i,v.o,Qi))break r;U.Dc=N.Ma,N=1;break t}t(N.a!=0),N=0}N=!N}N&&(g=d.a)}else g=d.a}else{if((d=new sf)==null){H=1;break e}if(d.Fa=U.na,d.P=U.P,d.qc=U.Sa,vd(d,N)){if((g=Gi(N.width,N.height,H.Oa,H.ba))==0){if(d.Aa=0,v=H.Oa,t((U=d)!=null),v!=null){if(0<(G=0>(G=v.Md)?0:100<G?255:255*G/100)){for(X=se=0;4>X;++X)12>(fe=U.pb[X]).lc&&(fe.ia=G*wN[0>fe.lc?0:fe.lc]>>3),se|=fe.ia;se&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=v.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}af(d,N)||(g=d.a)}}else g=d.a}g==0&&H.Oa!=null&&H.Oa.fd&&(g=Ll(H.ba))}H=g}T=H!=0?null:11>T?M.f.RGBA.eb:M.f.kb.y}else T=null;return T};var sy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(j,I){for(var R="",E=0;E<4;E++)R+=String.fromCharCode(j[I++]);return R}function u(j,I){return(j[I+0]<<0|j[I+1]<<8|j[I+2]<<16)>>>0}function h(j,I){return(j[I+0]<<0|j[I+1]<<8|j[I+2]<<16|j[I+3]<<24)>>>0}new l;var x=[0],f=[0],b=[],p=new l,C=e,m=function(j,I){var R={},E=0,k=!1,Q=0,K=0;if(R.frames=[],!function(P,J,Y,ne){for(var ce=0;ce<ne;ce++)if(P[J+ce]!=Y.charCodeAt(ce))return!0;return!1}(j,I,"RIFF",4)){for(h(j,I+=4),I+=8;I<j.length;){var ie=c(j,I),W=h(j,I+=4);I+=4;var ee=W+(1&W);switch(ie){case"VP8 ":case"VP8L":R.frames[E]===void 0&&(R.frames[E]={}),(Ae=R.frames[E]).src_off=k?K:I-8,Ae.src_size=Q+W+8,E++,k&&(k=!1,Q=0,K=0);break;case"VP8X":(Ae=R.header={}).feature_flags=j[I];var z=I+4;Ae.canvas_width=1+u(j,z),z+=3,Ae.canvas_height=1+u(j,z),z+=3;break;case"ALPH":k=!0,Q=ee+8,K=I-8;break;case"ANIM":(Ae=R.header).bgcolor=h(j,I),z=I+4,Ae.loop_count=(he=j)[(S=z)+0]<<0|he[S+1]<<8,z+=2;break;case"ANMF":var te,Ae;(Ae=R.frames[E]={}).offset_x=2*u(j,I),I+=3,Ae.offset_y=2*u(j,I),I+=3,Ae.width=1+u(j,I),I+=3,Ae.height=1+u(j,I),I+=3,Ae.duration=u(j,I),I+=3,te=j[I++],Ae.dispose=1&te,Ae.blend=te>>1&1}ie!="ANMF"&&(I+=ee)}var he,S;return R}}(C,0);m.response=C,m.rgbaoutput=!0,m.dataurl=!1;var w=m.header?m.header:null,B=m.frames?m.frames:null;if(w){w.loop_counter=w.loop_count,x=[w.canvas_height],f=[w.canvas_width];for(var D=0;D<B.length&&B[D].blend!=0;D++);}var O=B[0],q=p.WebPDecodeRGBA(C,O.src_off,O.src_size,f,x);O.rgba=q,O.imgwidth=f[0],O.imgheight=x[0];for(var F=0;F<f[0]*x[0]*4;F++)b[F]=q[F];return this.width=f,this.height=x,this.data=b,this}(function(e){var t=function(){return typeof Xp=="function"},r=function(x,f,b,p){var C=4,m=i;switch(p){case e.image_compression.FAST:C=1,m=A;break;case e.image_compression.MEDIUM:C=6,m=o;break;case e.image_compression.SLOW:C=9,m=l}x=n(x,f,b,m);var w=Xp(x,{level:C});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(x,f,b,p){for(var C,m,w,B=x.length/f,D=new Uint8Array(x.length+B),O=u(),q=0;q<B;q+=1){if(w=q*f,C=x.subarray(w,w+f),p)D.set(p(C,b,m),w+q);else{for(var F,j=O.length,I=[];F<j;F+=1)I[F]=O[F](C,b,m);var R=h(I.concat());D.set(I[R],w+q)}m=C}return D},a=function(x){var f=Array.apply([],x);return f.unshift(0),f},A=function(x,f){var b,p=[],C=x.length;p[0]=1;for(var m=0;m<C;m+=1)b=x[m-f]||0,p[m+1]=x[m]-b+256&255;return p},i=function(x,f,b){var p,C=[],m=x.length;C[0]=2;for(var w=0;w<m;w+=1)p=b&&b[w]||0,C[w+1]=x[w]-p+256&255;return C},o=function(x,f,b){var p,C,m=[],w=x.length;m[0]=3;for(var B=0;B<w;B+=1)p=x[B-f]||0,C=b&&b[B]||0,m[B+1]=x[B]+256-(p+C>>>1)&255;return m},l=function(x,f,b){var p,C,m,w,B=[],D=x.length;B[0]=4;for(var O=0;O<D;O+=1)p=x[O-f]||0,C=b&&b[O]||0,m=b&&b[O-f]||0,w=c(p,C,m),B[O+1]=x[O]-w+256&255;return B},c=function(x,f,b){if(x===f&&f===b)return x;var p=Math.abs(f-b),C=Math.abs(x-b),m=Math.abs(x+f-b-b);return p<=C&&p<=m?x:C<=m?f:b},u=function(){return[a,A,i,o,l]},h=function(x){var f=x.map(function(b){return b.reduce(function(p,C){return p+Math.abs(C)},0)});return f.indexOf(Math.min.apply(null,f))};e.processPNG=function(x,f,b,p){var C,m,w,B,D,O,q,F,j,I,R,E,k,Q,K,ie=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(w=new T3(x)).imgData,m=w.bits,C=w.colorSpace,D=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){j=(F=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,R=new Uint8Array(j*w.colors),I=new Uint8Array(j);var ee,z=w.pixelBitlength-w.bits;for(Q=0,K=0;Q<j;Q++){for(k=F[Q],ee=0;ee<z;)R[K++]=k>>>ee&255,ee+=w.bits;I[Q]=k>>>ee&255}}if(w.bits===16){j=(F=new Uint32Array(w.decodePixels().buffer)).length,R=new Uint8Array(j*(32/w.pixelBitlength)*w.colors),I=new Uint8Array(j*(32/w.pixelBitlength)),E=w.colors>1,Q=0,K=0;for(var te=0;Q<j;)k=F[Q++],R[K++]=k>>>0&255,E&&(R[K++]=k>>>16&255,k=F[Q++],R[K++]=k>>>0&255),I[te++]=k>>>16&255;m=8}p!==e.image_compression.NONE&&t()?(x=r(R,w.width*w.colors,w.colors,p),q=r(I,w.width,1,p)):(x=R,q=I,ie=void 0)}if(w.colorType===3&&(C=this.color_spaces.INDEXED,O=w.palette,w.transparency.indexed)){var Ae=w.transparency.indexed,he=0;for(Q=0,j=Ae.length;Q<j;++Q)he+=Ae[Q];if((he/=255)===j-1&&Ae.indexOf(0)!==-1)B=[Ae.indexOf(0)];else if(he!==j){for(F=w.decodePixels(),I=new Uint8Array(F.length),Q=0,j=F.length;Q<j;Q++)I[Q]=Ae[F[Q]];q=r(I,w.width,1)}}var S=function(P){var J;switch(P){case e.image_compression.FAST:J=11;break;case e.image_compression.MEDIUM:J=13;break;case e.image_compression.SLOW:J=14;break;default:J=12}return J}(p);return ie===this.decode.FLATE_DECODE&&(W="/Predictor "+S+" "),W+="/Colors "+D+" /BitsPerComponent "+m+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),(q&&this.__addimage__.isArrayBuffer(q)||this.__addimage__.isArrayBufferView(q))&&(q=this.__addimage__.arrayBufferToBinaryString(q)),{alias:b,data:x,index:f,filter:ie,decodeParameters:W,transparency:B,palette:O,sMask:q,predictor:S,width:w.width,height:w.height,bitsPerComponent:m,colorSpace:C}}}})(Ze.API),function(e){e.processGIF89A=function(t,r,n,a){var A=new R3(t),i=A.width,o=A.height,l=[];A.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:i,height:o},u=new Ng(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(Ze.API),ws.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:A}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ws.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Tt.log("bit decode error:"+r)}},ws.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var A=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[A>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}r!==0&&(this.pos+=4-r)}},ws.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var A=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,o=A>>4,l=15&A,c=this.palette[o];if(this.data[i]=c.blue,this.data[i+1]=c.green,this.data[i+2]=c.red,this.data[i+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[i+4]=c.blue,this.data[i+4+1]=c.green,this.data[i+4+2]=c.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},ws.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),A=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[A]=i.red,this.data[A+1]=i.green,this.data[A+2]=i.blue,this.data[A+3]=255}else this.data[A]=255,this.data[A+1]=255,this.data[A+2]=255,this.data[A+3]=255}e!==0&&(this.pos+=4-e)}},ws.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(A&t)/t*255|0,o=(A>>5&t)/t*255|0,l=(A>>10&t)/t*255|0,c=A>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=i,this.data[u+3]=c}this.pos+=e}},ws.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,A=0;A<this.width;A++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&r)/r*255|0,c=(i>>11)/t*255|0,u=a*this.width*4+4*A;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},ws.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=A,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},ws.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=A,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=i}},ws.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var A=new ws(t,!1),i=A.width,o=A.height,l={data:A.getData(),width:i,height:o},c=new Ng(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Ze.API),l2.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var A=new l2(t),i=A.width,o=A.height,l={data:A.getData(),width:i,height:o},c=new Ng(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Ze.API),Ze.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,A=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],h=n[c+1],x=n[c+2],f=n[c+3];A[o++]=u,A[o++]=h,A[o++]=x,i[l++]=f}var b=this.__addimage__.arrayBufferToBinaryString(A);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ze.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},oo=Ze.API,Su=oo.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),A=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=t.doKerning!==!1,x=0,f=e.length,b=0,p=o[0]||l,C=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?C.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/A)||0)/1e3):(x=h&&Et(c[n])==="object"&&!isNaN(parseInt(c[n][b],10))?c[n][b]/u:0,C.push((o[n]||p)/l+x)),b=n;return C},a2=oo.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return oo.processArabic&&(e=oo.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Su.apply(this,arguments).reduce(function(A,i){return A+i},0)},A2=function(e,t,r,n){for(var a=[],A=0,i=e.length,o=0;A!==i&&o+t[A]<r;)o+=t[A],A++;a.push(e.slice(0,A));var l=A;for(o=0;A!==i;)o+t[A]>n&&(a.push(e.slice(l,A)),o=0,l=A),o+=t[A],A++;return l!==A&&a.push(e.slice(l,A)),a},i2=function(e,t,r){r||(r={});var n,a,A,i,o,l,c,u=[],h=[u],x=r.textIndent||0,f=0,b=0,p=e.split(" "),C=Su.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var m=Array(l).join(" "),w=[];p.map(function(D){(D=D.split(/\s*\n/)).length>1?w=w.concat(D.map(function(O,q){return(q&&O.length?`
`:"")+O})):w.push(D[0])}),p=w,l=a2.apply(this,[m,r])}for(A=0,i=p.length;A<i;A++){var B=0;if(n=p[A],l&&n[0]==`
`&&(n=n.substr(1),B=1),x+f+(b=(a=Su.apply(this,[n,r])).reduce(function(D,O){return D+O},0))>t||B){if(b>t){for(o=A2.apply(this,[n,a,t-(x+f),t]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);b=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(D,O){return D+O},0)}else u=[n];h.push(u),x=b+l,f=C}else u.push(n),x+=f+b,f=C}return c=l?function(D,O){return(O?m:"")+D.join(" ")}:function(D){return D.join(" ")},h.map(c)},oo.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),A=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;A.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,A.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(i2.apply(this,[n[o],i,A]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var A=function(h){return"0x"+parseInt(h,10).toString(16)},i=e.__fontmetrics__.compress=function(h){var x,f,b,p,C=["{"];for(var m in h){if(x=h[m],isNaN(parseInt(m,10))?f="'"+m+"'":(m=parseInt(m,10),f=(f=A(m).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof x=="number")x<0?(b=A(x).slice(3),p="-"):(b=A(x).slice(2),p=""),b=p+b.slice(0,-1)+n[b.slice(-1)];else{if(Et(x)!=="object")throw new Error("Don't know what to do with value type "+Et(x)+".");b=i(x)}C.push(f+b)}return C.push("}"),C.join("")},o=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,f,b,p,C={},m=1,w=C,B=[],D="",O="",q=h.length-1,F=1;F<q;F+=1)(p=h[F])=="'"?x?(b=x.join(""),x=void 0):x=[]:x?x.push(p):p=="{"?(B.push([w,b]),w={},b=void 0):p=="}"?((f=B.pop())[0][f[1]]=w,b=void 0,w=f[0]):p=="-"?m=-1:b===void 0?r.hasOwnProperty(p)?(D+=r[p],b=parseInt(D,16)*m,m=1,D=""):D+=p:r.hasOwnProperty(p)?(O+=r[p],w[b]=parseInt(O,16)*m,m=1,b=void 0,O=""):O+=p;return C},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var x=h.font,f=u.Unicode[x.postScriptName];f&&(x.metadata.Unicode={},x.metadata.Unicode.widths=f.widths,x.metadata.Unicode.kerning=f.kerning);var b=c.Unicode[x.postScriptName];b&&(x.metadata.Unicode.encoding=b,x.encoding=b.codePages[0])}])}(Ze.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),A=0;A<n;A++)a[A]=r.charCodeAt(A);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,A=r.instance;if(!a.isStandardFont){if(A===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=A.existsFileInVFS(a.postScriptName)===!1?A.loadFile(a.postScriptName):A.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Fc(o)),i.metadata=e.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}(Ze),function(e){function t(){return(et.canvg?Promise.resolve(et.canvg):Ai(()=>import("./index.es-bbbd2160.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ze.API.addSvgAsImage=function(r,n,a,A,i,o,l,c){if(isNaN(n)||isNaN(a))throw Tt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(A)||isNaN(i))throw Tt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=A,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(b){return b.fromString(h,r,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(x)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),n,a,A,i,l,c)})}}(),Ze.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Ze.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,A,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],c=0,u=0,h=0;function x(b,p){var C,m=!1;for(C=0;C<b.length;C+=1)b[C]===p&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=o.length;for(h=0;h<f;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(Et(e)==="object"){for(a in e)if(A=e[a],x(o,a)&&A!==void 0){if(r[a].type==="boolean"&&typeof A=="boolean")r[a].value=A;else if(r[a].type==="name"&&x(r[a].valueSet,A))r[a].value=A;else if(r[a].type==="integer"&&Number.isInteger(A))r[a].value=A;else if(r[a].type==="array"){for(c=0;c<A.length;c+=1)if(n=!0,A[c].length===1&&typeof A[c][0]=="number")l.push(String(A[c]-1));else if(A[c].length>1){for(u=0;u<A[c].length;u+=1)typeof A[c][u]!="number"&&(n=!1);n===!0&&l.push([A[c][0]-1,A[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,p=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?p.push("/"+b+" /"+r[b].value):p.push("/"+b+" "+r[b].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),A=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=A.length+i.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+A+i+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ze.API),function(e){var t=e.API,r=t.pdfEscape16=function(A,i){for(var o,l=i.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,x=A.length;h<x;++h){if(o=i.metadata.characterToGlyph(A.charCodeAt(h)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=A.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(A){var i,o,l,c,u,h,x;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,x=(o=Object.keys(A).sort(function(f,b){return f-b})).length;h<x;h++)i=o[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),A[i]!==void 0&&A[i]!==null&&typeof A[i].toString=="function"&&(c=("0000"+A[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),l.push("<"+i+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(A){(function(i){var o=i.font,l=i.out,c=i.newObject,u=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,x=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",b=0;b<x.length;b++)f+=String.fromCharCode(x[b]);var p=c();u({data:f,addLength1:!0,objectId:p}),l("endobj");var C=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var m=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+xo(o.fontName)),l("/FontFile2 "+p+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+xo(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+xo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(A)}]),t.events.push(["putFont",function(A){(function(i){var o=i.font,l=i.out,c=i.newObject,u=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,x="",f=0;f<h.length;f++)x+=String.fromCharCode(h[f]);var b=c();u({data:x,addLength1:!0,objectId:b}),l("endobj");var p=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var C=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+xo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+xo(o.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(A)}]);var a=function(A){var i,o=A.text||"",l=A.x,c=A.y,u=A.options||{},h=A.mutex||{},x=h.pdfEscape,f=h.activeFontKey,b=h.fonts,p=f,C="",m=0,w="",B=b[p].encoding;if(b[p].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:h};for(w=o,p=f,Array.isArray(o)&&(w=o[0]),m=0;m<w.length;m+=1)b[p].metadata.hasOwnProperty("cmap")&&(i=b[p].metadata.cmap.unicode.codeMap[w[m].charCodeAt(0)]),i||w[m].charCodeAt(0)<256&&b[p].metadata.hasOwnProperty("Unicode")?C+=w[m]:C+="";var D="";return parseInt(p.slice(1))<14||B==="WinAnsiEncoding"?D=x(C,p).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(D=r(C,b[p])),h.isHex=!0,{text:D,x:l,y:c,options:u,mutex:h}};t.events.push(["postProcessText",function(A){var i=A.text||"",o=[],l={text:i,x:A.x,y:A.y,options:A.options,mutex:A.mutex};if(Array.isArray(i)){var c=0;for(c=0;c<i.length;c+=1)Array.isArray(i[c])&&i[c].length===3?o.push([a(Object.assign({},l,{text:i[c][0]})).text,i[c][1],i[c][2]]):o.push(a(Object.assign({},l,{text:i[c]})).text);A.text=o}else A.text=a(Object.assign({},l,{text:i})).text}])}(Ze),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ze.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,A,i,o,l,c,u,h=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,B=0;this.__bidiEngine__={};var D=function(E){var k=E.charCodeAt(),Q=k>>8,K=p[Q];return K!==void 0?h[256*K+(255&k)]:Q===252||Q===253?"AL":m.test(Q)?"L":Q===8?"R":"N"},O=function(E){for(var k,Q=0;Q<E.length;Q++){if((k=D(E.charAt(Q)))==="L")return!1;if(k==="R")return!0}return!1},q=function(E,k,Q,K){var ie,W,ee,z,te=k[K];switch(te){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(te="AN");break;case"AL":w=!0,te="R";break;case"WS":te="N";break;case"CS":K<1||K+1>=k.length||(ie=Q[K-1])!=="EN"&&ie!=="AN"||(W=k[K+1])!=="EN"&&W!=="AN"?te="N":w&&(W="AN"),te=W===ie?W:"N";break;case"ES":te=(ie=K>0?Q[K-1]:"B")==="EN"&&K+1<k.length&&k[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&Q[K-1]==="EN"){te="EN";break}if(w){te="N";break}for(ee=K+1,z=k.length;ee<z&&k[ee]==="ET";)ee++;te=ee<z&&k[ee]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(z=k.length,ee=K+1;ee<z&&k[ee]==="NSM";)ee++;if(ee<z){var Ae=E[K],he=Ae>=1425&&Ae<=2303||Ae===64286;if(ie=k[ee],he&&(ie==="R"||ie==="AL")){te="R";break}}}te=K<1||(ie=k[K-1])==="B"?"N":Q[K-1];break;case"B":w=!1,a=!0,te=B;break;case"S":A=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":te="N"}return te},F=function(E,k,Q){var K=E.split("");return Q&&j(K,Q,{hiLevel:B}),K.reverse(),k&&k.reverse(),K.join("")},j=function(E,k,Q){var K,ie,W,ee,z,te=-1,Ae=E.length,he=0,S=[],P=B?f:x,J=[];for(w=!1,a=!1,A=!1,ie=0;ie<Ae;ie++)J[ie]=D(E[ie]);for(W=0;W<Ae;W++){if(z=he,S[W]=q(E,J,S,W),K=240&(he=P[z][b[S[W]]]),he&=15,k[W]=ee=P[he][5],K>0)if(K===16){for(ie=te;ie<W;ie++)k[ie]=1;te=-1}else te=-1;if(P[he][6])te===-1&&(te=W);else if(te>-1){for(ie=te;ie<W;ie++)k[ie]=ee;te=-1}J[W]==="B"&&(k[W]=0),Q.hiLevel|=ee}A&&function(Y,ne,ce){for(var Z=0;Z<ce;Z++)if(Y[Z]==="S"){ne[Z]=B;for(var de=Z-1;de>=0&&Y[de]==="WS";de--)ne[de]=B}}(J,k,Ae)},I=function(E,k,Q,K,ie){if(!(ie.hiLevel<E)){if(E===1&&B===1&&!a)return k.reverse(),void(Q&&Q.reverse());for(var W,ee,z,te,Ae=k.length,he=0;he<Ae;){if(K[he]>=E){for(z=he+1;z<Ae&&K[z]>=E;)z++;for(te=he,ee=z-1;te<ee;te++,ee--)W=k[te],k[te]=k[ee],k[ee]=W,Q&&(W=Q[te],Q[te]=Q[ee],Q[ee]=W);he=z}he++}}},R=function(E,k,Q){var K=E.split(""),ie={hiLevel:B};return Q||(Q=[]),j(K,Q,ie),function(W,ee,z){if(z.hiLevel!==0&&u)for(var te,Ae=0;Ae<W.length;Ae++)ee[Ae]===1&&(te=C.indexOf(W[Ae]))>=0&&(W[Ae]=C[te+1])}(K,Q,ie),I(2,K,k,Q,ie),I(1,K,k,Q,ie),K.join("")};return this.__bidiEngine__.doBidiReorder=function(E,k,Q){if(function(ie,W){if(W)for(var ee=0;ee<ie.length;ee++)W[ee]=ee;o===void 0&&(o=O(ie)),c===void 0&&(c=O(ie))}(E,k),i||!l||c)if(i&&l&&o^c)B=o?1:0,E=F(E,k,Q);else if(!i&&l&&c)B=o?1:0,E=R(E,k,Q),E=F(E,k);else if(!i||o||l||c){if(i&&!l&&o^c)E=F(E,k),o?(B=0,E=R(E,k,Q)):(B=1,E=R(E,k,Q),E=F(E,k));else if(i&&o&&!l&&c)B=1,E=R(E,k,Q),E=F(E,k);else if(!i&&!l&&o^c){var K=u;o?(B=1,E=R(E,k,Q),B=0,u=!1,E=R(E,k,Q),u=K):(B=0,E=R(E,k,Q),E=F(E,k),B=1,u=!1,E=R(E,k,Q),u=K,E=F(E,k))}}else B=0,E=R(E,k,Q);else B=o?1:0,E=R(E,k,Q);return E},this.__bidiEngine__.setOptions=function(E){E&&(i=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var A=n.options||{};n.mutex,A.lang;var i=[];if(A.isInputVisual=typeof A.isInputVisual!="boolean"||A.isInputVisual,r.setOptions(A),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(i=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?i.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):i.push([r.doBidiReorder(a[o])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Ze),Ze.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new EA(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Z3(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new H3(this.contents),this.head=new M3(this),this.name=new V3(this),this.cmap=new mB(this),this.toUnicode={},this.hhea=new _3(this),this.maxp=new G3(this),this.hmtx=new W3(this),this.post=new q3(this),this.os2=new K3(this),this.loca=new Y3(this),this.glyf=new J3(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,A;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,l,c;for(c=[],i=0,o=(l=this.bbox).length;i<o;i++)t=l[i],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(A=this.familyClass)===1||A===2||A===3||A===4||A===5||A===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,A,i,o;for(i=0,A=0,o=(t=""+t).length;0<=o?A<o:A>o;A=0<=o?++A:--A)a=t.charCodeAt(A),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ps,EA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,A,i,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),A=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^A)+65536*(255^i)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*A+65536*i+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,A;for(A=[],n=0,a=t.length;n<a;n++)r=t[n],A.push(this.writeByte(r));return A},e}(),H3=function(){var e;function t(r){var n,a,A;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,A=this.tableCount;0<=A?a<A:a>A;a=0<=A?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,A,i,o,l,c,u,h,x,f,b,p;for(p in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),i=Math.floor(h/l),u=16*f-h,(a=new EA).writeInt(this.scalarType),a.writeShort(f),a.writeShort(h),a.writeShort(i),a.writeShort(u),A=16*f,c=a.pos+A,o=null,b=[],r)for(x=r[p],a.writeString(p),a.writeInt(e(x)),a.writeInt(c),a.writeInt(x.length),b=b.concat(x),p==="head"&&(o=c),c+=x.length;c%4;)b.push(0),c++;return a.write(b),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,A,i;for(r=xB.call(r);r.length%4;)r.push(0);for(A=new EA(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=A.readUInt32();return 4294967295&a},t}(),O3={}.hasOwnProperty,Aa=function(e,t){for(var r in t)O3.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ps=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var M3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Aa(t,Ps),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new EA).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),c2=function(){function e(t,r){var n,a,A,i,o,l,c,u,h,x,f,b,p,C,m,w,B;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),x=f/2,t.pos+=6,A=function(){var D,O;for(O=[],l=D=0;0<=x?D<x:D>x;l=0<=x?++D:--D)O.push(t.readUInt16());return O}(),t.pos+=2,p=function(){var D,O;for(O=[],l=D=0;0<=x?D<x:D>x;l=0<=x?++D:--D)O.push(t.readUInt16());return O}(),c=function(){var D,O;for(O=[],l=D=0;0<=x?D<x:D>x;l=0<=x?++D:--D)O.push(t.readUInt16());return O}(),u=function(){var D,O;for(O=[],l=D=0;0<=x?D<x:D>x;l=0<=x?++D:--D)O.push(t.readUInt16());return O}(),a=(this.length-t.pos+this.offset)/2,o=function(){var D,O;for(O=[],l=D=0;0<=a?D<a:D>a;l=0<=a?++D:--D)O.push(t.readUInt16());return O}(),l=m=0,B=A.length;m<B;l=++m)for(C=A[l],n=w=b=p[l];b<=C?w<=C:w>=C;n=b<=C?++w:--w)u[l]===0?i=n+c[l]:(i=o[u[l]/2+(n-b)-(x-l)]||0)!==0&&(i+=c[l]),this.codeMap[n]=65535&i}t.pos=h}return e.encode=function(t,r){var n,a,A,i,o,l,c,u,h,x,f,b,p,C,m,w,B,D,O,q,F,j,I,R,E,k,Q,K,ie,W,ee,z,te,Ae,he,S,P,J,Y,ne,ce,Z,de,Ne,je,Le;switch(K=new EA,i=Object.keys(t).sort(function(Ee,Xe){return Ee-Xe}),r){case"macroman":for(p=0,C=function(){var Ee=[];for(b=0;b<256;++b)Ee.push(0);return Ee}(),w={0:0},A={},ie=0,te=i.length;ie<te;ie++)w[de=t[a=i[ie]]]==null&&(w[de]=++p),A[a]={old:t[a],new:w[t[a]]},C[a]=w[t[a]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(C),{charMap:A,subtable:K.data,maxGlyphID:p+1};case"unicode":for(k=[],h=[],B=0,w={},n={},m=c=null,W=0,Ae=i.length;W<Ae;W++)w[O=t[a=i[W]]]==null&&(w[O]=++B),n[a]={old:O,new:w[O]},o=w[O]-a,m!=null&&o===c||(m&&h.push(m),k.push(a),c=o),m=a;for(m&&h.push(m),h.push(65535),k.push(65535),R=2*(I=k.length),j=2*Math.pow(Math.log(I)/Math.LN2,2),x=Math.log(j/2)/Math.LN2,F=2*I-j,l=[],q=[],f=[],b=ee=0,he=k.length;ee<he;b=++ee){if(E=k[b],u=h[b],E===65535){l.push(0),q.push(0);break}if(E-(Q=n[E].new)>=32768)for(l.push(0),q.push(2*(f.length+I-b)),a=z=E;E<=u?z<=u:z>=u;a=E<=u?++z:--z)f.push(n[a].new);else l.push(Q-E),q.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*I+2*f.length),K.writeUInt16(0),K.writeUInt16(R),K.writeUInt16(j),K.writeUInt16(x),K.writeUInt16(F),ce=0,S=h.length;ce<S;ce++)a=h[ce],K.writeUInt16(a);for(K.writeUInt16(0),Z=0,P=k.length;Z<P;Z++)a=k[Z],K.writeUInt16(a);for(Ne=0,J=l.length;Ne<J;Ne++)o=l[Ne],K.writeUInt16(o);for(je=0,Y=q.length;je<Y;je++)D=q[je],K.writeUInt16(D);for(Le=0,ne=f.length;Le<ne;Le++)p=f[Le],K.writeUInt16(p);return{charMap:n,subtable:K.data,maxGlyphID:B+1}}},e}(),mB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Aa(t,Ps),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,A;for(r.pos=this.offset,this.version=r.readUInt16(),A=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=A?a<A:a>A;a=0<=A?++a:--a)n=new c2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,A;return n==null&&(n="macroman"),a=c2.encode(r,n),(A=new EA).writeUInt16(0),A.writeUInt16(1),a.table=A.data.concat(a.subtable),a},t}(),_3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Aa(t,Ps),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),K3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Aa(t,Ps),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),q3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Aa(t,Ps),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,A;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],A=[];r.pos<this.offset+this.length;)n=r.readByte(),A.push(this.names.push(r.readString(n)));return A;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),z3=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},V3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Aa(t,Ps),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,A,i,o,l,c,u,h,x,f;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},i=h=0,x=a.length;h<x;i=++h)A=a[i],r.pos=A.offset,u=r.readString(A.length),o=new z3(u,A),c[f=A.nameID]==null&&(c[f]=[]),c[A.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),G3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Aa(t,Ps),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),W3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Aa(t,Ps),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,A,i,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(A=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=A?u<A:u>A;n=0<=A?++u:--u)h.push(r.readInt16());return h}(),this.widths=(function(){var u,h,x,f;for(f=[],u=0,h=(x=this.metrics).length;u<h;u++)i=x[u],f.push(i.advance);return f}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=A?o<A:o>A;n=0<=A?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),xB=[].slice,J3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Aa(t,Ps),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,A,i,o,l,c,u,h,x;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(r),(A=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new EA(n.read(A))).readShort(),u=l.readShort(),x=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[r]=o===-1?new $3(l,u,x,c,h):new X3(l,o,u,x,c,h),this.cache[r]))},t.prototype.encode=function(r,n,a){var A,i,o,l,c;for(o=[],i=[],l=0,c=n.length;l<c;l++)A=r[n[l]],i.push(o.length),A&&(o=o.concat(A.encode(a)));return i.push(o.length),{table:o,offsets:i}},t}(),X3=function(){function e(t,r,n,a,A,i){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=A,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),$3=function(){function e(t,r,n,a,A){var i,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=A,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new EA(xB.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Y3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Aa(t,Ps),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var A,i;for(i=[],a=0,A=this.length;a<A;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var A,i;for(i=[],a=0,A=this.length;a<A;a+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),A=0,i=0,o=0;o<a.length;++o)if(a[o]=A,i<n.length&&n[i]==o){++i,a[o]=A;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(A+=c)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},t}(),Z3=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,A;for(r in a=this.font.cmap.tables[0].codeMap,t={},A=this.subset)n=A[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,A,i,o,l;for(a={},i=0,o=t.length;i<o;i++)a[A=t[i]]=this.font.glyf.glyphFor(A);for(A in r=[],a)(n=a[A])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(A in l=this.glyphsFor(r))n=l[A],a[A]=n;return a},e.prototype.encode=function(t,r){var n,a,A,i,o,l,c,u,h,x,f,b,p,C,m;for(a in n=mB.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),f={0:0},m=n.charMap)f[(l=m[a]).old]=l.new;for(b in x=n.maxGlyphID,i)b in f||(f[b]=x++);return u=function(w){var B,D;for(B in D={},w)D[w[B]]=B;return D}(f),h=Object.keys(u).sort(function(w,B){return w-B}),p=function(){var w,B,D;for(D=[],w=0,B=h.length;w<B;w++)o=h[w],D.push(u[o]);return D}(),A=this.font.glyf.encode(i,p,f),c=this.font.loca.encode(A.offsets,p),C={cmap:this.font.cmap.raw(),glyf:A.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},e}();Ze.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,A,i;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in A=["<<"],r)i=r[a],A.push("/"+a+" "+t.convert(i));return A.push(">>"),A.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nm=function(e,t){return nm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},nm(e,t)};function Ds(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sm=function(){return sm=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(t[A]=r[A])}return t},sm.apply(this,arguments)};function on(e,t,r,n){function a(A){return A instanceof r?A:new r(function(i){i(A)})}return new(r||(r=Promise))(function(A,i){function o(u){try{c(n.next(u))}catch(h){i(h)}}function l(u){try{c(n.throw(u))}catch(h){i(h)}}function c(u){u.done?A(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}function Yr(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,a,A,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(A=c[0]&2?a.return:c[0]?a.throw||((A=a.return)&&A.call(a),0):a.next)&&!(A=A.call(a,c[1])).done)return A;switch(a=0,A&&(c=[c[0]&2,A.value]),c[0]){case 0:case 1:A=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!A||c[1]>A[0]&&c[1]<A[3])){r.label=c[1];break}if(c[0]===6&&r.label<A[1]){r.label=A[1],A=c;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(c);break}A[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],a=0}finally{n=A=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Fu(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,A;n<a;n++)(A||!(n in t))&&(A||(A=Array.prototype.slice.call(t,0,n)),A[n]=t[n]);return e.concat(A||t)}var Ia=function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Dh=function(e,t){return Ia.fromClientRect(e,t.getBoundingClientRect())},e6=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Ia(0,0,n,a)},Th=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((a&1023)<<10)+(A&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},lr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,A="";++a<r;){var i=e[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},d2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eu=0;Eu<d2.length;Eu++)t6[d2.charCodeAt(Eu)]=Eu;var u2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qu=0;Qu<u2.length;Qu++)dc[u2.charCodeAt(Qu)]=Qu;var r6=function(e){var t=e.length*.75,r=e.length,n,a=0,A,i,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)A=dc[e.charCodeAt(n)],i=dc[e.charCodeAt(n+1)],o=dc[e.charCodeAt(n+2)],l=dc[e.charCodeAt(n+3)],u[a++]=A<<2|i>>4,u[a++]=(i&15)<<4|o>>2,u[a++]=(o&3)<<6|l&63;return c},n6=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},s6=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},gi=5,Lx=6+5,Cg=2,a6=Lx-gi,yB=65536>>gi,A6=1<<gi,kg=A6-1,i6=1024>>gi,o6=yB+i6,l6=o6,c6=32,d6=l6+c6,u6=65536>>Lx,h6=1<<a6,f6=h6-1,h2=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},g6=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},p6=function(e,t){var r=r6(e),n=Array.isArray(r)?s6(r):new Uint32Array(r),a=Array.isArray(r)?n6(r):new Uint16Array(r),A=24,i=h2(a,A/2,n[4]/2),o=n[5]===2?h2(a,(A+n[4])/2):g6(n,Math.ceil((A+n[4])/4));return new m6(n[0],n[1],n[2],n[3],i,o)},m6=function(){function e(t,r,n,a,A,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=A,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>gi],r=(r<<Cg)+(t&kg),this.data[r];if(t<=65535)return r=this.index[yB+(t-55296>>gi)],r=(r<<Cg)+(t&kg),this.data[r];if(t<this.highStart)return r=d6-u6+(t>>Lx),r=this.index[r],r+=t>>gi&f6,r=this.index[r],r=(r<<Cg)+(t&kg),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),f2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Uu=0;Uu<f2.length;Uu++)x6[f2.charCodeAt(Uu)]=Uu;var y6="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",g2=50,w6=1,wB=2,vB=3,v6=4,b6=5,p2=7,bB=8,m2=9,uA=10,am=11,x2=12,Am=13,B6=14,uc=15,im=16,Lu=17,rc=18,N6=19,y2=20,om=21,nc=22,jg=23,lo=24,In=25,hc=26,fc=27,co=28,C6=29,ri=30,k6=31,Iu=32,Pu=33,lm=34,cm=35,dm=36,rd=37,um=38,f0=39,g0=40,Sg=41,BB=42,j6=43,S6=[9001,65288],NB="!",gt="×",Du="÷",hm=p6(y6),va=[ri,dm],fm=[w6,wB,vB,b6],CB=[uA,bB],w2=[fc,hc],F6=fm.concat(CB),v2=[um,f0,g0,lm,cm],E6=[uc,Am],Q6=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(A,i){var o=hm.get(A);if(o>g2?(a.push(!0),o-=g2):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(A)!==-1)return n.push(i),r.push(im);if(o===v6||o===am){if(i===0)return n.push(i),r.push(ri);var l=r[i-1];return F6.indexOf(l)===-1?(n.push(n[i-1]),r.push(l)):(n.push(i),r.push(ri))}if(n.push(i),o===k6)return r.push(t==="strict"?om:rd);if(o===BB||o===C6)return r.push(ri);if(o===j6)return A>=131072&&A<=196605||A>=196608&&A<=262141?r.push(rd):r.push(ri);r.push(o)}),[n,r,a]},Fg=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var A=r;A<=n.length;){A++;var i=n[A];if(i===t)return!0;if(i!==uA)break}if(a===uA)for(var A=r;A>0;){A--;var o=n[A];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var l=r;l<=n.length;){l++;var i=n[l];if(i===t)return!0;if(i!==uA)break}if(o!==uA)break}return!1},b2=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===uA)r--;else return n}return 0},U6=function(e,t,r,n,a){if(r[n]===0)return gt;var A=n-1;if(Array.isArray(a)&&a[A]===!0)return gt;var i=A-1,o=A+1,l=t[A],c=i>=0?t[i]:0,u=t[o];if(l===wB&&u===vB)return gt;if(fm.indexOf(l)!==-1)return NB;if(fm.indexOf(u)!==-1||CB.indexOf(u)!==-1)return gt;if(b2(A,t)===bB)return Du;if(hm.get(e[A])===am||(l===Iu||l===Pu)&&hm.get(e[o])===am||l===p2||u===p2||l===m2||[uA,Am,uc].indexOf(l)===-1&&u===m2||[Lu,rc,N6,lo,co].indexOf(u)!==-1||b2(A,t)===nc||Fg(jg,nc,A,t)||Fg([Lu,rc],om,A,t)||Fg(x2,x2,A,t))return gt;if(l===uA)return Du;if(l===jg||u===jg)return gt;if(u===im||l===im)return Du;if([Am,uc,om].indexOf(u)!==-1||l===B6||c===dm&&E6.indexOf(l)!==-1||l===co&&u===dm||u===y2||va.indexOf(u)!==-1&&l===In||va.indexOf(l)!==-1&&u===In||l===fc&&[rd,Iu,Pu].indexOf(u)!==-1||[rd,Iu,Pu].indexOf(l)!==-1&&u===hc||va.indexOf(l)!==-1&&w2.indexOf(u)!==-1||w2.indexOf(l)!==-1&&va.indexOf(u)!==-1||[fc,hc].indexOf(l)!==-1&&(u===In||[nc,uc].indexOf(u)!==-1&&t[o+1]===In)||[nc,uc].indexOf(l)!==-1&&u===In||l===In&&[In,co,lo].indexOf(u)!==-1)return gt;if([In,co,lo,Lu,rc].indexOf(u)!==-1)for(var h=A;h>=0;){var x=t[h];if(x===In)return gt;if([co,lo].indexOf(x)!==-1)h--;else break}if([fc,hc].indexOf(u)!==-1)for(var h=[Lu,rc].indexOf(l)!==-1?i:A;h>=0;){var x=t[h];if(x===In)return gt;if([co,lo].indexOf(x)!==-1)h--;else break}if(um===l&&[um,f0,lm,cm].indexOf(u)!==-1||[f0,lm].indexOf(l)!==-1&&[f0,g0].indexOf(u)!==-1||[g0,cm].indexOf(l)!==-1&&u===g0||v2.indexOf(l)!==-1&&[y2,hc].indexOf(u)!==-1||v2.indexOf(u)!==-1&&l===fc||va.indexOf(l)!==-1&&va.indexOf(u)!==-1||l===lo&&va.indexOf(u)!==-1||va.concat(In).indexOf(l)!==-1&&u===nc&&S6.indexOf(e[o])===-1||va.concat(In).indexOf(u)!==-1&&l===rc)return gt;if(l===Sg&&u===Sg){for(var f=r[A],b=1;f>0&&(f--,t[f]===Sg);)b++;if(b%2!==0)return gt}return l===Iu&&u===Pu?gt:Du},L6=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Q6(e,t.lineBreak),n=r[0],a=r[1],A=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(o){return[In,ri,BB].indexOf(o)!==-1?rd:o}));var i=t.wordBreak==="keep-all"?A.map(function(o,l){return o&&e[l]>=19968&&e[l]<=40959}):void 0;return[n,a,i]},I6=function(){function e(t,r,n,a){this.codePoints=t,this.required=r===NB,this.start=n,this.end=a}return e.prototype.slice=function(){return lr.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),P6=function(e,t){var r=Th(e),n=L6(r,t),a=n[0],A=n[1],i=n[2],o=r.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var u=gt;c<o&&(u=U6(r,A,a,++c,i))===gt;);if(u!==gt||c===o){var h=new I6(r,u,l,c);return l=c,{value:h,done:!1}}return{done:!0,value:null}}}},D6=1,T6=2,ud=4,B2=8,th=10,N2=47,Ec=92,R6=9,H6=32,Tu=34,sc=61,O6=35,M6=36,_6=37,Ru=39,Hu=40,ac=41,K6=95,wn=45,q6=33,z6=60,V6=62,G6=64,W6=91,J6=93,X6=61,$6=123,Ou=63,Y6=125,C2=124,Z6=126,eS=128,k2=65533,Eg=42,ii=43,tS=44,rS=58,nS=59,nd=46,sS=0,aS=8,AS=11,iS=14,oS=31,lS=127,Js=-1,kB=48,jB=97,SB=101,cS=102,dS=117,uS=122,FB=65,EB=69,QB=70,hS=85,fS=90,Zr=function(e){return e>=kB&&e<=57},gS=function(e){return e>=55296&&e<=57343},uo=function(e){return Zr(e)||e>=FB&&e<=QB||e>=jB&&e<=cS},pS=function(e){return e>=jB&&e<=uS},mS=function(e){return e>=FB&&e<=fS},xS=function(e){return pS(e)||mS(e)},yS=function(e){return e>=eS},Mu=function(e){return e===th||e===R6||e===H6},rh=function(e){return xS(e)||yS(e)||e===K6},j2=function(e){return rh(e)||Zr(e)||e===wn},wS=function(e){return e>=sS&&e<=aS||e===AS||e>=iS&&e<=oS||e===lS},aA=function(e,t){return e!==Ec?!1:t!==th},_u=function(e,t,r){return e===wn?rh(t)||aA(t,r):rh(e)?!0:!!(e===Ec&&aA(e,t))},Qg=function(e,t,r){return e===ii||e===wn?Zr(t)?!0:t===nd&&Zr(r):Zr(e===nd?t:e)},vS=function(e){var t=0,r=1;(e[t]===ii||e[t]===wn)&&(e[t]===wn&&(r=-1),t++);for(var n=[];Zr(e[t]);)n.push(e[t++]);var a=n.length?parseInt(lr.apply(void 0,n),10):0;e[t]===nd&&t++;for(var A=[];Zr(e[t]);)A.push(e[t++]);var i=A.length,o=i?parseInt(lr.apply(void 0,A),10):0;(e[t]===EB||e[t]===SB)&&t++;var l=1;(e[t]===ii||e[t]===wn)&&(e[t]===wn&&(l=-1),t++);for(var c=[];Zr(e[t]);)c.push(e[t++]);var u=c.length?parseInt(lr.apply(void 0,c),10):0;return r*(a+o*Math.pow(10,-i))*Math.pow(10,l*u)},bS={type:2},BS={type:3},NS={type:4},CS={type:13},kS={type:8},jS={type:21},SS={type:9},FS={type:10},ES={type:11},QS={type:12},US={type:14},Ku={type:23},LS={type:1},IS={type:25},PS={type:24},DS={type:26},TS={type:27},RS={type:28},HS={type:29},OS={type:31},gm={type:32},UB=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Th(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==gm;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Tu:return this.consumeStringToken(Tu);case O6:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(j2(r)||aA(n,a)){var A=_u(r,n,a)?T6:D6,i=this.consumeName();return{type:5,value:i,flags:A}}break;case M6:if(this.peekCodePoint(0)===sc)return this.consumeCodePoint(),CS;break;case Ru:return this.consumeStringToken(Ru);case Hu:return bS;case ac:return BS;case Eg:if(this.peekCodePoint(0)===sc)return this.consumeCodePoint(),US;break;case ii:if(Qg(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case tS:return NS;case wn:var o=t,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Qg(o,l,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(_u(o,l,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===wn&&c===V6)return this.consumeCodePoint(),this.consumeCodePoint(),PS;break;case nd:if(Qg(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case N2:if(this.peekCodePoint(0)===Eg)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Eg&&(u=this.consumeCodePoint(),u===N2))return this.consumeToken();if(u===Js)return this.consumeToken()}break;case rS:return DS;case nS:return TS;case z6:if(this.peekCodePoint(0)===q6&&this.peekCodePoint(1)===wn&&this.peekCodePoint(2)===wn)return this.consumeCodePoint(),this.consumeCodePoint(),IS;break;case G6:var h=this.peekCodePoint(0),x=this.peekCodePoint(1),f=this.peekCodePoint(2);if(_u(h,x,f)){var i=this.consumeName();return{type:7,value:i}}break;case W6:return RS;case Ec:if(aA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case J6:return HS;case X6:if(this.peekCodePoint(0)===sc)return this.consumeCodePoint(),kS;break;case $6:return ES;case Y6:return QS;case dS:case hS:var b=this.peekCodePoint(0),p=this.peekCodePoint(1);return b===ii&&(uo(p)||p===Ou)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case C2:if(this.peekCodePoint(0)===sc)return this.consumeCodePoint(),SS;if(this.peekCodePoint(0)===C2)return this.consumeCodePoint(),jS;break;case Z6:if(this.peekCodePoint(0)===sc)return this.consumeCodePoint(),FS;break;case Js:return gm}return Mu(t)?(this.consumeWhiteSpace(),OS):Zr(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):rh(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:lr(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();uo(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===Ou&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(lr.apply(void 0,t.map(function(l){return l===Ou?kB:l})),16),A=parseInt(lr.apply(void 0,t.map(function(l){return l===Ou?QB:l})),16);return{type:30,start:a,end:A}}var i=parseInt(lr.apply(void 0,t),16);if(this.peekCodePoint(0)===wn&&uo(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];uo(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var A=parseInt(lr.apply(void 0,o),16);return{type:30,start:i,end:A}}else return{type:30,start:i,end:i}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Hu?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Hu?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Js)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Ru||r===Tu){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Js||this.peekCodePoint(0)===ac)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Ku)}for(;;){var a=this.consumeCodePoint();if(a===Js||a===ac)return{type:22,value:lr.apply(void 0,t)};if(Mu(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Js||this.peekCodePoint(0)===ac?(this.consumeCodePoint(),{type:22,value:lr.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Ku);if(a===Tu||a===Ru||a===Hu||wS(a))return this.consumeBadUrlRemnants(),Ku;if(a===Ec)if(aA(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ku;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;Mu(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===ac||t===Js)return;aA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=lr.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===Js||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===th)return this._value.splice(0,n),LS;if(a===Ec){var A=this._value[n+1];A!==Js&&A!==void 0&&(A===th?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):aA(a,A)&&(r+=this.consumeStringSlice(n),r+=lr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=ud,n=this.peekCodePoint(0);for((n===ii||n===wn)&&t.push(this.consumeCodePoint());Zr(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===nd&&Zr(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=B2;Zr(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var A=this.peekCodePoint(2);if((n===EB||n===SB)&&((a===ii||a===wn)&&Zr(A)||Zr(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=B2;Zr(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[vS(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),A=this.peekCodePoint(1),i=this.peekCodePoint(2);if(_u(a,A,i)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return a===_6?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(uo(t)){for(var r=lr(t);uo(this.peekCodePoint(0))&&r.length<6;)r+=lr(this.consumeCodePoint());Mu(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||gS(n)||n>1114111?k2:n}return t===Js?k2:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(j2(r))t+=lr(r);else if(aA(r,this.peekCodePoint(0)))t+=lr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),LB=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new UB;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||_S(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?gm:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),hd=function(e){return e.type===15},hl=function(e){return e.type===17},It=function(e){return e.type===20},MS=function(e){return e.type===0},pm=function(e,t){return It(e)&&e.value===t},IB=function(e){return e.type!==31},Al=function(e){return e.type!==31&&e.type!==4},ia=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},_S=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},QA=function(e){return e.type===17||e.type===15},xr=function(e){return e.type===16||QA(e)},PB=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Or={type:17,number:0,flags:ud},Ix={type:16,number:50,flags:ud},hA={type:16,number:100,flags:ud},gc=function(e,t,r){var n=e[0],a=e[1];return[Ot(n,t),Ot(typeof a<"u"?a:n,r)]},Ot=function(e,t){if(e.type===16)return e.number/100*t;if(hd(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},DB="deg",TB="grad",RB="rad",HB="turn",Rh={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case DB:return Math.PI*t.number/180;case TB:return Math.PI/200*t.number;case RB:return t.number;case HB:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},OB=function(e){return e.type===15&&(e.unit===DB||e.unit===TB||e.unit===RB||e.unit===HB)},MB=function(e){var t=e.filter(It).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Or,Or];case"to top":case"bottom":return ts(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Or,hA];case"to right":case"left":return ts(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[hA,hA];case"to bottom":case"top":return ts(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[hA,Or];case"to left":case"right":return ts(270)}return 0},ts=function(e){return Math.PI*e/180},CA={name:"color",parse:function(e,t){if(t.type===18){var r=KS[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),A=t.value.substring(2,3);return fA(parseInt(n+n,16),parseInt(a+a,16),parseInt(A+A,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),A=t.value.substring(2,3),i=t.value.substring(3,4);return fA(parseInt(n+n,16),parseInt(a+a,16),parseInt(A+A,16),parseInt(i+i,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),A=t.value.substring(4,6);return fA(parseInt(n,16),parseInt(a,16),parseInt(A,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),A=t.value.substring(4,6),i=t.value.substring(6,8);return fA(parseInt(n,16),parseInt(a,16),parseInt(A,16),parseInt(i,16)/255)}}if(t.type===20){var o=Fa[t.value.toUpperCase()];if(typeof o<"u")return o}return Fa.TRANSPARENT}},kA=function(e){return(255&e)===0},Qr=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},fA=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},S2=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},F2=function(e,t){var r=t.filter(Al);if(r.length===3){var n=r.map(S2),a=n[0],A=n[1],i=n[2];return fA(a,A,i,1)}if(r.length===4){var o=r.map(S2),a=o[0],A=o[1],i=o[2],l=o[3];return fA(a,A,i,l)}return 0};function Ug(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var E2=function(e,t){var r=t.filter(Al),n=r[0],a=r[1],A=r[2],i=r[3],o=(n.type===17?ts(n.number):Rh.parse(e,n))/(Math.PI*2),l=xr(a)?a.number/100:0,c=xr(A)?A.number/100:0,u=typeof i<"u"&&xr(i)?Ot(i,1):1;if(l===0)return fA(c*255,c*255,c*255,1);var h=c<=.5?c*(l+1):c+l-c*l,x=c*2-h,f=Ug(x,h,o+1/3),b=Ug(x,h,o),p=Ug(x,h,o-1/3);return fA(f*255,b*255,p*255,u)},KS={hsl:E2,hsla:E2,rgb:F2,rgba:F2},Qc=function(e,t){return CA.parse(e,LB.create(t).parseComponentValue())},Fa={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},qS={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(It(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zS={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Hh=function(e,t){var r=CA.parse(e,t[0]),n=t[1];return n&&xr(n)?{color:r,stop:n}:{color:r,stop:null}},Q2=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Or),n.stop===null&&(n.stop=hA);for(var a=[],A=0,i=0;i<e.length;i++){var o=e[i].stop;if(o!==null){var l=Ot(o,t);l>A?a.push(l):a.push(A),A=l}else a.push(null)}for(var c=null,i=0;i<a.length;i++){var u=a[i];if(u===null)c===null&&(c=i);else if(c!==null){for(var h=i-c,x=a[c-1],f=(u-x)/(h+1),b=1;b<=h;b++)a[c+b-1]=f*b;c=null}}return e.map(function(p,C){var m=p.color;return{color:m,stop:Math.max(Math.min(1,a[C]/t),0)}})},VS=function(e,t,r){var n=t/2,a=r/2,A=Ot(e[0],t)-n,i=a-Ot(e[1],r);return(Math.atan2(i,A)+Math.PI*2)%(Math.PI*2)},GS=function(e,t,r){var n=typeof e=="number"?e:VS(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),A=t/2,i=r/2,o=a/2,l=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[a,A-c,A+c,i-l,i+l]},vs=function(e,t){return Math.sqrt(e*e+t*t)},U2=function(e,t,r,n,a){var A=[[0,0],[0,t],[e,0],[e,t]];return A.reduce(function(i,o){var l=o[0],c=o[1],u=vs(r-l,n-c);return(a?u<i.optimumDistance:u>i.optimumDistance)?{optimumCorner:o,optimumDistance:u}:i},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},WS=function(e,t,r,n,a){var A=0,i=0;switch(e.size){case 0:e.shape===0?A=i=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(A=Math.min(Math.abs(t),Math.abs(t-n)),i=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)A=i=Math.min(vs(t,r),vs(t,r-a),vs(t-n,r),vs(t-n,r-a));else if(e.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),l=U2(n,a,t,r,!0),c=l[0],u=l[1];A=vs(c-t,(u-r)/o),i=o*A}break;case 1:e.shape===0?A=i=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(A=Math.max(Math.abs(t),Math.abs(t-n)),i=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)A=i=Math.max(vs(t,r),vs(t,r-a),vs(t-n,r),vs(t-n,r-a));else if(e.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),h=U2(n,a,t,r,!1),c=h[0],u=h[1];A=vs(c-t,(u-r)/o),i=o*A}break}return Array.isArray(e.size)&&(A=Ot(e.size[0],n),i=e.size.length===2?Ot(e.size[1],a):A),[A,i]},JS=function(e,t){var r=ts(180),n=[];return ia(t).forEach(function(a,A){if(A===0){var i=a[0];if(i.type===20&&i.value==="to"){r=MB(a);return}else if(OB(i)){r=Rh.parse(e,i);return}}var o=Hh(e,a);n.push(o)}),{angle:r,stops:n,type:1}},qu=function(e,t){var r=ts(180),n=[];return ia(t).forEach(function(a,A){if(A===0){var i=a[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){r=MB(a);return}else if(OB(i)){r=(Rh.parse(e,i)+ts(270))%ts(360);return}}var o=Hh(e,a);n.push(o)}),{angle:r,stops:n,type:1}},XS=function(e,t){var r=ts(180),n=[],a=1,A=0,i=3,o=[];return ia(t).forEach(function(l,c){var u=l[0];if(c===0){if(It(u)&&u.value==="linear"){a=1;return}else if(It(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var h=CA.parse(e,u.values[0]);n.push({stop:Or,color:h})}else if(u.name==="to"){var h=CA.parse(e,u.values[0]);n.push({stop:hA,color:h})}else if(u.name==="color-stop"){var x=u.values.filter(Al);if(x.length===2){var h=CA.parse(e,x[1]),f=x[0];hl(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:h})}}}}),a===1?{angle:(r+ts(180))%ts(360),stops:n,type:a}:{size:i,shape:A,stops:n,position:o,type:a}},_B="closest-side",KB="farthest-side",qB="closest-corner",zB="farthest-corner",VB="circle",GB="ellipse",WB="cover",JB="contain",$S=function(e,t){var r=0,n=3,a=[],A=[];return ia(t).forEach(function(i,o){var l=!0;if(o===0){var c=!1;l=i.reduce(function(h,x){if(c)if(It(x))switch(x.value){case"center":return A.push(Ix),h;case"top":case"left":return A.push(Or),h;case"right":case"bottom":return A.push(hA),h}else(xr(x)||QA(x))&&A.push(x);else if(It(x))switch(x.value){case VB:return r=0,!1;case GB:return r=1,!1;case"at":return c=!0,!1;case _B:return n=0,!1;case WB:case KB:return n=1,!1;case JB:case qB:return n=2,!1;case zB:return n=3,!1}else if(QA(x)||xr(x))return Array.isArray(n)||(n=[]),n.push(x),!1;return h},l)}if(l){var u=Hh(e,i);a.push(u)}}),{size:n,shape:r,stops:a,position:A,type:2}},zu=function(e,t){var r=0,n=3,a=[],A=[];return ia(t).forEach(function(i,o){var l=!0;if(o===0?l=i.reduce(function(u,h){if(It(h))switch(h.value){case"center":return A.push(Ix),!1;case"top":case"left":return A.push(Or),!1;case"right":case"bottom":return A.push(hA),!1}else if(xr(h)||QA(h))return A.push(h),!1;return u},l):o===1&&(l=i.reduce(function(u,h){if(It(h))switch(h.value){case VB:return r=0,!1;case GB:return r=1,!1;case JB:case _B:return n=0,!1;case KB:return n=1,!1;case qB:return n=2,!1;case WB:case zB:return n=3,!1}else if(QA(h)||xr(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},l)),l){var c=Hh(e,i);a.push(c)}}),{size:n,shape:r,stops:a,position:A,type:2}},YS=function(e){return e.type===1},ZS=function(e){return e.type===2},Px={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=XB[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function eF(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!XB[e.name])}var XB={"linear-gradient":JS,"-moz-linear-gradient":qu,"-ms-linear-gradient":qu,"-o-linear-gradient":qu,"-webkit-linear-gradient":qu,"radial-gradient":$S,"-moz-radial-gradient":zu,"-ms-radial-gradient":zu,"-o-radial-gradient":zu,"-webkit-radial-gradient":zu,"-webkit-gradient":XS},tF={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Al(n)&&eF(n)}).map(function(n){return Px.parse(e,n)})}},rF={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(It(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nF={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return ia(t).map(function(r){return r.filter(xr)}).map(PB)}},sF={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return ia(t).map(function(r){return r.filter(It).map(function(n){return n.value}).join(" ")}).map(aF)}},aF=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Go;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Go||(Go={}));var AF={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return ia(t).map(function(r){return r.filter(iF)})}},iF=function(e){return It(e)||xr(e)},Oh=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},oF=Oh("top"),lF=Oh("right"),cF=Oh("bottom"),dF=Oh("left"),Mh=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return PB(r.filter(xr))}}},uF=Mh("top-left"),hF=Mh("top-right"),fF=Mh("bottom-right"),gF=Mh("bottom-left"),_h=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},pF=_h("top"),mF=_h("right"),xF=_h("bottom"),yF=_h("left"),Kh=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return hd(r)?r.number:0}}},wF=Kh("top"),vF=Kh("right"),bF=Kh("bottom"),BF=Kh("left"),NF={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},CF={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},kF={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(It).reduce(function(r,n){return r|jF(n.value)},0)}},jF=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},SF={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},FF={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},nh;(function(e){e.NORMAL="normal",e.STRICT="strict"})(nh||(nh={}));var EF={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return nh.STRICT;case"normal":default:return nh.NORMAL}}},QF={name:"line-height",initialValue:"normal",prefix:!1,type:4},L2=function(e,t){return It(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:xr(e)?Ot(e,t):t},UF={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:Px.parse(e,t)}},LF={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},mm={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},qh=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},IF=qh("top"),PF=qh("right"),DF=qh("bottom"),TF=qh("left"),RF={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(It).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},HF={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},zh=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},OF=zh("top"),MF=zh("right"),_F=zh("bottom"),KF=zh("left"),qF={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},zF={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},VF={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&pm(t[0],"none")?[]:ia(t).map(function(r){for(var n={color:Fa.TRANSPARENT,offsetX:Or,offsetY:Or,blur:Or},a=0,A=0;A<r.length;A++){var i=r[A];QA(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:n.blur=i,a++):n.color=CA.parse(e,i)}return n})}},GF={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},WF={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=$F[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},JF=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},XF=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],A=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],t.length===16?[r,n,a,A,i,o]:null},$F={matrix:JF,matrix3d:XF},I2={type:16,number:50,flags:ud},YF=[I2,I2],ZF={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(xr);return r.length!==2?YF:[r[0],r[1]]}},eE={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Uc;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Uc||(Uc={}));var tE={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Uc.BREAK_ALL;case"keep-all":return Uc.KEEP_ALL;case"normal":default:return Uc.NORMAL}}},rE={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(hl(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},$B={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},nE={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return hl(t)?t.number:1}},sE={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},aE={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(It).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},AE={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},iE={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},oE={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(hl(t))return t.number;if(It(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},lE={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(It).map(function(r){return r.value})}},cE={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Nr=function(e,t){return(e&t)!==0},dE={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},uE={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(IB),A=0;A<a.length;A++){var i=a[A],o=a[A+1];if(i.type===20){var l=o&&hl(o)?o.number:1;n.push({counter:i.value,increment:l})}}return n}},hE={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(IB),a=0;a<n.length;a++){var A=n[a],i=n[a+1];if(It(A)&&A.value!=="none"){var o=i&&hl(i)?i.number:0;r.push({counter:A.value,reset:o})}}return r}},fE={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(hd).map(function(r){return $B.parse(e,r)})}},gE={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(MS);if(a.length%2!==0)return null;for(var A=0;A<a.length;A+=2){var i=a[A].value,o=a[A+1].value;n.push({open:i,close:o})}return n}},P2=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},pE={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&pm(t[0],"none")?[]:ia(t).map(function(r){for(var n={color:255,offsetX:Or,offsetY:Or,blur:Or,spread:Or,inset:!1},a=0,A=0;A<r.length;A++){var i=r[A];pm(i,"inset")?n.inset=!0:QA(i)?(a===0?n.offsetX=i:a===1?n.offsetY=i:a===2?n.blur=i:n.spread=i,a++):n.color=CA.parse(e,i)}return n})}},mE={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(It).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},xE={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},yE={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return hd(t)?t.number:0}},wE=function(){function e(t,r){var n,a;this.animationDuration=_e(t,fE,r.animationDuration),this.backgroundClip=_e(t,qS,r.backgroundClip),this.backgroundColor=_e(t,zS,r.backgroundColor),this.backgroundImage=_e(t,tF,r.backgroundImage),this.backgroundOrigin=_e(t,rF,r.backgroundOrigin),this.backgroundPosition=_e(t,nF,r.backgroundPosition),this.backgroundRepeat=_e(t,sF,r.backgroundRepeat),this.backgroundSize=_e(t,AF,r.backgroundSize),this.borderTopColor=_e(t,oF,r.borderTopColor),this.borderRightColor=_e(t,lF,r.borderRightColor),this.borderBottomColor=_e(t,cF,r.borderBottomColor),this.borderLeftColor=_e(t,dF,r.borderLeftColor),this.borderTopLeftRadius=_e(t,uF,r.borderTopLeftRadius),this.borderTopRightRadius=_e(t,hF,r.borderTopRightRadius),this.borderBottomRightRadius=_e(t,fF,r.borderBottomRightRadius),this.borderBottomLeftRadius=_e(t,gF,r.borderBottomLeftRadius),this.borderTopStyle=_e(t,pF,r.borderTopStyle),this.borderRightStyle=_e(t,mF,r.borderRightStyle),this.borderBottomStyle=_e(t,xF,r.borderBottomStyle),this.borderLeftStyle=_e(t,yF,r.borderLeftStyle),this.borderTopWidth=_e(t,wF,r.borderTopWidth),this.borderRightWidth=_e(t,vF,r.borderRightWidth),this.borderBottomWidth=_e(t,bF,r.borderBottomWidth),this.borderLeftWidth=_e(t,BF,r.borderLeftWidth),this.boxShadow=_e(t,pE,r.boxShadow),this.color=_e(t,NF,r.color),this.direction=_e(t,CF,r.direction),this.display=_e(t,kF,r.display),this.float=_e(t,SF,r.cssFloat),this.fontFamily=_e(t,AE,r.fontFamily),this.fontSize=_e(t,iE,r.fontSize),this.fontStyle=_e(t,cE,r.fontStyle),this.fontVariant=_e(t,lE,r.fontVariant),this.fontWeight=_e(t,oE,r.fontWeight),this.letterSpacing=_e(t,FF,r.letterSpacing),this.lineBreak=_e(t,EF,r.lineBreak),this.lineHeight=_e(t,QF,r.lineHeight),this.listStyleImage=_e(t,UF,r.listStyleImage),this.listStylePosition=_e(t,LF,r.listStylePosition),this.listStyleType=_e(t,mm,r.listStyleType),this.marginTop=_e(t,IF,r.marginTop),this.marginRight=_e(t,PF,r.marginRight),this.marginBottom=_e(t,DF,r.marginBottom),this.marginLeft=_e(t,TF,r.marginLeft),this.opacity=_e(t,nE,r.opacity);var A=_e(t,RF,r.overflow);this.overflowX=A[0],this.overflowY=A[A.length>1?1:0],this.overflowWrap=_e(t,HF,r.overflowWrap),this.paddingTop=_e(t,OF,r.paddingTop),this.paddingRight=_e(t,MF,r.paddingRight),this.paddingBottom=_e(t,_F,r.paddingBottom),this.paddingLeft=_e(t,KF,r.paddingLeft),this.paintOrder=_e(t,mE,r.paintOrder),this.position=_e(t,zF,r.position),this.textAlign=_e(t,qF,r.textAlign),this.textDecorationColor=_e(t,sE,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=_e(t,aE,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=_e(t,VF,r.textShadow),this.textTransform=_e(t,GF,r.textTransform),this.transform=_e(t,WF,r.transform),this.transformOrigin=_e(t,ZF,r.transformOrigin),this.visibility=_e(t,eE,r.visibility),this.webkitTextStrokeColor=_e(t,xE,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=_e(t,yE,r.webkitTextStrokeWidth),this.wordBreak=_e(t,tE,r.wordBreak),this.zIndex=_e(t,rE,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return kA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Nr(this.display,4)||Nr(this.display,33554432)||Nr(this.display,268435456)||Nr(this.display,536870912)||Nr(this.display,67108864)||Nr(this.display,134217728)},e}(),vE=function(){function e(t,r){this.content=_e(t,dE,r.content),this.quotes=_e(t,gE,r.quotes)}return e}(),D2=function(){function e(t,r){this.counterIncrement=_e(t,uE,r.counterIncrement),this.counterReset=_e(t,hE,r.counterReset)}return e}(),_e=function(e,t,r){var n=new UB,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var A=new LB(n.read());switch(t.type){case 2:var i=A.parseComponentValue();return t.parse(e,It(i)?i.value:t.initialValue);case 0:return t.parse(e,A.parseComponentValue());case 1:return t.parse(e,A.parseComponentValues());case 4:return A.parseComponentValue();case 3:switch(t.format){case"angle":return Rh.parse(e,A.parseComponentValue());case"color":return CA.parse(e,A.parseComponentValue());case"image":return Px.parse(e,A.parseComponentValue());case"length":var o=A.parseComponentValue();return QA(o)?o:Or;case"length-percentage":var l=A.parseComponentValue();return xr(l)?l:Or;case"time":return $B.parse(e,A.parseComponentValue())}break}},bE="data-html2canvas-debug",BE=function(e){var t=e.getAttribute(bE);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},xm=function(e,t){var r=BE(e);return r===1||t===r},oa=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,xm(r,3))debugger;this.styles=new wE(t,window.getComputedStyle(r,null)),vm(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Dh(this.context,r),xm(r,4)&&(this.flags|=16)}return e}(),NE="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",T2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vu=0;Vu<T2.length;Vu++)pc[T2.charCodeAt(Vu)]=Vu;var CE=function(e){var t=e.length*.75,r=e.length,n,a=0,A,i,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)A=pc[e.charCodeAt(n)],i=pc[e.charCodeAt(n+1)],o=pc[e.charCodeAt(n+2)],l=pc[e.charCodeAt(n+3)],u[a++]=A<<2|i>>4,u[a++]=(i&15)<<4|o>>2,u[a++]=(o&3)<<6|l&63;return c},kE=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},jE=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},pi=5,Dx=6+5,Lg=2,SE=Dx-pi,YB=65536>>pi,FE=1<<pi,Ig=FE-1,EE=1024>>pi,QE=YB+EE,UE=QE,LE=32,IE=UE+LE,PE=65536>>Dx,DE=1<<SE,TE=DE-1,R2=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},RE=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},HE=function(e,t){var r=CE(e),n=Array.isArray(r)?jE(r):new Uint32Array(r),a=Array.isArray(r)?kE(r):new Uint16Array(r),A=24,i=R2(a,A/2,n[4]/2),o=n[5]===2?R2(a,(A+n[4])/2):RE(n,Math.ceil((A+n[4])/4));return new OE(n[0],n[1],n[2],n[3],i,o)},OE=function(){function e(t,r,n,a,A,i){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=A,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>pi],r=(r<<Lg)+(t&Ig),this.data[r];if(t<=65535)return r=this.index[YB+(t-55296>>pi)],r=(r<<Lg)+(t&Ig),this.data[r];if(t<this.highStart)return r=IE-PE+(t>>Dx),r=this.index[r],r+=t>>pi&TE,r=this.index[r],r=(r<<Lg)+(t&Ig),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),H2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ME=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gu=0;Gu<H2.length;Gu++)ME[H2.charCodeAt(Gu)]=Gu;var _E=1,Pg=2,Dg=3,O2=4,M2=5,KE=7,_2=8,Tg=9,Rg=10,K2=11,q2=12,z2=13,V2=14,Hg=15,qE=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((a&1023)<<10)+(A&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},zE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,A="";++a<r;){var i=e[a];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(a+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},VE=HE(NE),Xn="×",Og="÷",GE=function(e){return VE.get(e)},WE=function(e,t,r){var n=r-2,a=t[n],A=t[r-1],i=t[r];if(A===Pg&&i===Dg)return Xn;if(A===Pg||A===Dg||A===O2||i===Pg||i===Dg||i===O2)return Og;if(A===_2&&[_2,Tg,K2,q2].indexOf(i)!==-1||(A===K2||A===Tg)&&(i===Tg||i===Rg)||(A===q2||A===Rg)&&i===Rg||i===z2||i===M2||i===KE||A===_E)return Xn;if(A===z2&&i===V2){for(;a===M2;)a=t[--n];if(a===V2)return Xn}if(A===Hg&&i===Hg){for(var o=0;a===Hg;)o++,a=t[--n];if(o%2===0)return Xn}return Og},JE=function(e){var t=qE(e),r=t.length,n=0,a=0,A=t.map(GE);return{next:function(){if(n>=r)return{done:!0,value:null};for(var i=Xn;n<r&&(i=WE(t,A,++n))===Xn;);if(i!==Xn||n===r){var o=zE.apply(null,t.slice(a,n));return a=n,{value:o,done:!1}}return{done:!0,value:null}}}},XE=function(e){for(var t=JE(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},$E=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),A=Math.round(a.height);if(e.body.removeChild(n),A===t)return!0}}return!1},YE=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=Th(n.data).map(function(l){return lr(l)}),A=0,i={},o=a.every(function(l,c){r.setStart(n,A),r.setEnd(n,A+l.length);var u=r.getBoundingClientRect();A+=l.length;var h=u.x>i.x||u.y>i.y;return i=u,c===0?!0:h});return e.body.removeChild(t),o},ZE=function(){return typeof new Image().crossOrigin<"u"},eQ=function(){return typeof new XMLHttpRequest().responseType=="string"},tQ=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},G2=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},rQ=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,A=t.toDataURL();a.src=A;var i=ym(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),W2(i).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=e.createElement("div");return c.style.backgroundImage="url("+A+")",c.style.height=r+"px",G2(l)?W2(ym(r,r,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),G2(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},ym=function(e,t,r,n,a){var A="http://www.w3.org/2000/svg",i=document.createElementNS(A,"svg"),o=document.createElementNS(A,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(a),i},W2=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Hr={get SUPPORT_RANGE_BOUNDS(){var e=$E(document);return Object.defineProperty(Hr,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Hr.SUPPORT_RANGE_BOUNDS&&YE(document);return Object.defineProperty(Hr,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=tQ(document);return Object.defineProperty(Hr,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?rQ(document):Promise.resolve(!1);return Object.defineProperty(Hr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=ZE();return Object.defineProperty(Hr,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=eQ();return Object.defineProperty(Hr,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Hr,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Hr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Lc=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),nQ=function(e,t,r,n){var a=AQ(t,r),A=[],i=0;return a.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Hr.SUPPORT_RANGE_BOUNDS){var l=J2(n,i,o.length).getClientRects();if(l.length>1){var c=Tx(o),u=0;c.forEach(function(x){A.push(new Lc(x,Ia.fromDOMRectList(e,J2(n,u+i,x.length).getClientRects()))),u+=x.length})}else A.push(new Lc(o,Ia.fromDOMRectList(e,l)))}else{var h=n.splitText(o.length);A.push(new Lc(o,sQ(e,n))),n=h}else Hr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));i+=o.length}),A},sQ=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var A=Dh(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),A}}return Ia.EMPTY},J2=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},Tx=function(e){if(Hr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return XE(e)},aQ=function(e,t){if(Hr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return oQ(e,t)},AQ=function(e,t){return t.letterSpacing!==0?Tx(e):aQ(e,t)},iQ=[32,160,4961,65792,65793,4153,4241],oQ=function(e,t){for(var r=P6(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,A=function(){if(a.value){var i=a.value.slice(),o=Th(i),l="";o.forEach(function(c){iQ.indexOf(c)===-1?l+=lr(c):(l.length&&n.push(l),n.push(lr(c)),l="")}),l.length&&n.push(l)}};!(a=r.next()).done;)A();return n},lQ=function(){function e(t,r,n){this.text=cQ(r.data,n.textTransform),this.textBounds=nQ(t,this.text,n,r)}return e}(),cQ=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(dQ,uQ);case 2:return e.toUpperCase();default:return e}},dQ=/(^|\s|:|-|\(|\))([a-z])/g,uQ=function(e,t,r){return e.length>0?t+r.toUpperCase():e},ZB=function(e){Ds(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t}(oa),e5=function(e){Ds(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t}(oa),t5=function(e){Ds(t,e);function t(r,n){var a=e.call(this,r,n)||this,A=new XMLSerializer,i=Dh(r,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(A.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(oa),r5=function(e){Ds(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(oa),wm=function(e){Ds(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t}(oa),hQ=[{type:15,flags:0,unit:"px",number:3}],fQ=[{type:16,flags:0,number:50}],gQ=function(e){return e.width>e.height?new Ia(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Ia(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},pQ=function(e){var t=e.type===mQ?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},sh="checkbox",ah="radio",mQ="password",X2=707406591,Rx=function(e){Ds(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=pQ(n),(a.type===sh||a.type===ah)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=gQ(a.bounds)),a.type){case sh:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=hQ;break;case ah:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=fQ;break}return a}return t}(oa),n5=function(e){Ds(t,e);function t(r,n){var a=e.call(this,r,n)||this,A=n.options[n.selectedIndex||0];return a.value=A&&A.text||"",a}return t}(oa),s5=function(e){Ds(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(oa),a5=function(e){Ds(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=i5(r,n.contentWindow.document.documentElement);var A=n.contentWindow.document.documentElement?Qc(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Fa.TRANSPARENT,i=n.contentWindow.document.body?Qc(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Fa.TRANSPARENT;a.backgroundColor=kA(A)?kA(i)?a.styles.backgroundColor:i:A}}catch{}return a}return t}(oa),xQ=["OL","UL","MENU"],p0=function(e,t,r,n){for(var a=t.firstChild,A=void 0;a;a=A)if(A=a.nextSibling,o5(a)&&a.data.trim().length>0)r.textNodes.push(new lQ(e,a,r.styles));else if(Io(a))if(u5(a)&&a.assignedNodes)a.assignedNodes().forEach(function(o){return p0(e,o,r,n)});else{var i=A5(e,a);i.styles.isVisible()&&(yQ(a,i,n)?i.flags|=4:wQ(i.styles)&&(i.flags|=2),xQ.indexOf(a.tagName)!==-1&&(i.flags|=8),r.elements.push(i),a.slot,a.shadowRoot?p0(e,a.shadowRoot,i,n):!Ah(a)&&!l5(a)&&!ih(a)&&p0(e,a,i,n))}},A5=function(e,t){return bm(t)?new ZB(e,t):c5(t)?new e5(e,t):l5(t)?new t5(e,t):vQ(t)?new r5(e,t):bQ(t)?new wm(e,t):BQ(t)?new Rx(e,t):ih(t)?new n5(e,t):Ah(t)?new s5(e,t):d5(t)?new a5(e,t):new oa(e,t)},i5=function(e,t){var r=A5(e,t);return r.flags|=4,p0(e,t,r,r),r},yQ=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Hx(e)&&r.styles.isTransparent()},wQ=function(e){return e.isPositioned()||e.isFloating()},o5=function(e){return e.nodeType===Node.TEXT_NODE},Io=function(e){return e.nodeType===Node.ELEMENT_NODE},vm=function(e){return Io(e)&&typeof e.style<"u"&&!m0(e)},m0=function(e){return typeof e.className=="object"},vQ=function(e){return e.tagName==="LI"},bQ=function(e){return e.tagName==="OL"},BQ=function(e){return e.tagName==="INPUT"},NQ=function(e){return e.tagName==="HTML"},l5=function(e){return e.tagName==="svg"},Hx=function(e){return e.tagName==="BODY"},c5=function(e){return e.tagName==="CANVAS"},$2=function(e){return e.tagName==="VIDEO"},bm=function(e){return e.tagName==="IMG"},d5=function(e){return e.tagName==="IFRAME"},Y2=function(e){return e.tagName==="STYLE"},CQ=function(e){return e.tagName==="SCRIPT"},Ah=function(e){return e.tagName==="TEXTAREA"},ih=function(e){return e.tagName==="SELECT"},u5=function(e){return e.tagName==="SLOT"},Z2=function(e){return e.tagName.indexOf("-")>0},kQ=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,A=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(A=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var i=[];return A&&a.forEach(function(o){var l=r.counters[o.counter];i.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),i},e}(),ew={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},tw={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},jQ={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},SQ={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},ho=function(e,t,r,n,a,A){return e<t||e>r?sd(e,a,A.length>0):n.integers.reduce(function(i,o,l){for(;e>=o;)e-=o,i+=n.values[l];return i},"")+A},h5=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},or=function(e,t,r,n,a){var A=r-t+1;return(e<0?"-":"")+(h5(Math.abs(e),A,n,function(i){return lr(Math.floor(i%A)+t)})+a)},$A=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return h5(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},yo=1,tA=2,rA=4,mc=8,ba=function(e,t,r,n,a,A){if(e<-9999||e>9999)return sd(e,4,a.length>0);var i=Math.abs(e),o=a;if(i===0)return t[0]+o;for(var l=0;i>0&&l<=4;l++){var c=i%10;c===0&&Nr(A,yo)&&o!==""?o=t[c]+o:c>1||c===1&&l===0||c===1&&l===1&&Nr(A,tA)||c===1&&l===1&&Nr(A,rA)&&e>100||c===1&&l>1&&Nr(A,mc)?o=t[c]+(l>0?r[l-1]:"")+o:c===1&&l>0&&(o=r[l-1]+o),i=Math.floor(i/10)}return(e<0?n:"")+o},rw="十百千萬",nw="拾佰仟萬",sw="マイナス",Mg="마이너스",sd=function(e,t,r){var n=r?". ":"",a=r?"、":"",A=r?", ":"",i=r?" ":"";switch(t){case 0:return"•"+i;case 1:return"◦"+i;case 2:return"◾"+i;case 5:var o=or(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return $A(e,"〇一二三四五六七八九",a);case 6:return ho(e,1,3999,ew,3,n).toLowerCase();case 7:return ho(e,1,3999,ew,3,n);case 8:return or(e,945,969,!1,n);case 9:return or(e,97,122,!1,n);case 10:return or(e,65,90,!1,n);case 11:return or(e,1632,1641,!0,n);case 12:case 49:return ho(e,1,9999,tw,3,n);case 35:return ho(e,1,9999,tw,3,n).toLowerCase();case 13:return or(e,2534,2543,!0,n);case 14:case 30:return or(e,6112,6121,!0,n);case 15:return $A(e,"子丑寅卯辰巳午未申酉戌亥",a);case 16:return $A(e,"甲乙丙丁戊己庚辛壬癸",a);case 17:case 48:return ba(e,"零一二三四五六七八九",rw,"負",a,tA|rA|mc);case 47:return ba(e,"零壹貳參肆伍陸柒捌玖",nw,"負",a,yo|tA|rA|mc);case 42:return ba(e,"零一二三四五六七八九",rw,"负",a,tA|rA|mc);case 41:return ba(e,"零壹贰叁肆伍陆柒捌玖",nw,"负",a,yo|tA|rA|mc);case 26:return ba(e,"〇一二三四五六七八九","十百千万",sw,a,0);case 25:return ba(e,"零壱弐参四伍六七八九","拾百千万",sw,a,yo|tA|rA);case 31:return ba(e,"영일이삼사오육칠팔구","십백천만",Mg,A,yo|tA|rA);case 33:return ba(e,"零一二三四五六七八九","十百千萬",Mg,A,0);case 32:return ba(e,"零壹貳參四五六七八九","拾百千",Mg,A,yo|tA|rA);case 18:return or(e,2406,2415,!0,n);case 20:return ho(e,1,19999,SQ,3,n);case 21:return or(e,2790,2799,!0,n);case 22:return or(e,2662,2671,!0,n);case 22:return ho(e,1,10999,jQ,3,n);case 23:return $A(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return $A(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return or(e,3302,3311,!0,n);case 28:return $A(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",a);case 29:return $A(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",a);case 34:return or(e,3792,3801,!0,n);case 37:return or(e,6160,6169,!0,n);case 38:return or(e,4160,4169,!0,n);case 39:return or(e,2918,2927,!0,n);case 40:return or(e,1776,1785,!0,n);case 43:return or(e,3046,3055,!0,n);case 44:return or(e,3174,3183,!0,n);case 45:return or(e,3664,3673,!0,n);case 46:return or(e,3872,3881,!0,n);case 3:default:return or(e,48,57,!0,n)}},f5="data-html2canvas-ignore",aw=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new kQ,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=FQ(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var A=t.defaultView.pageXOffset,i=t.defaultView.pageYOffset,o=a.contentWindow,l=o.document,c=UQ(a).then(function(){return on(n,void 0,void 0,function(){var u,h;return Yr(this,function(x){switch(x.label){case 0:return this.scrolledElements.forEach(DQ),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:x.sent(),x.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,QQ(l)]:[3,4];case 3:x.sent(),x.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,h)}).then(function(){return a})]:[2,a]}})})});return l.open(),l.write(IQ(document.doctype)+"<html></html>"),PQ(this.referenceElement.ownerDocument,A,i),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(t){if(xm(t,2))debugger;if(c5(t))return this.createCanvasClone(t);if($2(t))return this.createVideoClone(t);if(Y2(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return bm(r)&&(bm(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Z2(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return _g(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(A,i){return i&&typeof i.cssText=="string"?A+i.cssText:A},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(A){if(this.context.logger.error("Unable to access cssRules property",A),A.name!=="SecurityError")throw A}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var A=t.getContext("2d"),i=a.getContext("2d");if(i)if(!this.options.allowTaint&&A)i.putImageData(A.getImageData(0,0,t.width,t.height),0,0);else{var o=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}i.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!Io(r)||!CQ(r)&&!r.hasAttribute(f5)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Io(r)||!Y2(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,A=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;A;A=A.nextSibling)if(Io(A)&&u5(A)&&typeof A.assignedNodes=="function"){var i=A.assignedNodes();i.length&&i.forEach(function(o){return a.appendChildNode(r,o,n)})}else this.appendChildNode(r,A,n)},e.prototype.cloneNode=function(t,r){if(o5(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Io(t)&&(vm(t)||m0(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var A=n.getComputedStyle(t),i=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&vm(a)&&(this.clonedReferenceElement=a),Hx(a)&&HQ(a);var l=this.counters.parse(new D2(this.context,A)),c=this.resolvePseudoContent(t,a,i,Ic.BEFORE);Z2(t)&&(r=!0),$2(t)||this.cloneChildNodes(t,a,r),c&&a.insertBefore(c,a.firstChild);var u=this.resolvePseudoContent(t,a,o,Ic.AFTER);return u&&a.appendChild(u),this.counters.pop(l),(A&&(this.options.copyStyles||m0(t))&&!d5(t)||r)&&_g(A,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(Ah(t)||ih(t))&&(Ah(a)||ih(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var A=this;if(n){var i=n.content,o=r.ownerDocument;if(!(!o||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new D2(this.context,n));var l=new vE(this.context,n),c=o.createElement("html2canvaspseudoelement");_g(n,c),l.content.forEach(function(h){if(h.type===0)c.appendChild(o.createTextNode(h.value));else if(h.type===22){var x=o.createElement("img");x.src=h.value,x.style.opacity="1",c.appendChild(x)}else if(h.type===18){if(h.name==="attr"){var f=h.values.filter(It);f.length&&c.appendChild(o.createTextNode(t.getAttribute(f[0].value)||""))}else if(h.name==="counter"){var b=h.values.filter(Al),p=b[0],C=b[1];if(p&&It(p)){var m=A.counters.getCounterValue(p.value),w=C&&It(C)?mm.parse(A.context,C.value):3;c.appendChild(o.createTextNode(sd(m,w,!1)))}}else if(h.name==="counters"){var B=h.values.filter(Al),p=B[0],D=B[1],C=B[2];if(p&&It(p)){var O=A.counters.getCounterValues(p.value),q=C&&It(C)?mm.parse(A.context,C.value):3,F=D&&D.type===0?D.value:"",j=O.map(function(E){return sd(E,q,!1)}).join(F);c.appendChild(o.createTextNode(j))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(o.createTextNode(P2(l.quotes,A.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(P2(l.quotes,--A.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(h.value))}}),c.className=Bm+" "+Nm;var u=a===Ic.BEFORE?" "+Bm:" "+Nm;return m0(r)?r.className.baseValue+=u:r.className+=u,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Ic;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Ic||(Ic={}));var FQ=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(f5,"true"),e.body.appendChild(r),r},EQ=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},QQ=function(e){return Promise.all([].slice.call(e.images,0).map(EQ))},UQ=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var A=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(A),t(e))},50)}})},LQ=["all","d","content"],_g=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);LQ.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},IQ=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},PQ=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},DQ=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},TQ=":before",RQ=":after",Bm="___html2canvas___pseudoelement_before",Nm="___html2canvas___pseudoelement_after",Aw=`{
    content: "" !important;
    display: none !important;
}`,HQ=function(e){OQ(e,"."+Bm+TQ+Aw+`
         .`+Nm+RQ+Aw)},OQ=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},g5=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),MQ=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(qg(t)||zQ(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return on(this,void 0,void 0,function(){var r,n,a,A,i=this;return Yr(this,function(o){switch(o.label){case 0:return r=g5.isSameOrigin(t),n=!Kg(t)&&this._options.useCORS===!0&&Hr.SUPPORT_CORS_IMAGES&&!r,a=!Kg(t)&&!r&&!qg(t)&&typeof this._options.proxy=="string"&&Hr.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Kg(t)&&!qg(t)&&!a&&!n?[2]:(A=t,a?[4,this.proxy(A)]:[3,2]);case 1:A=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(VQ(A)||n)&&(u.crossOrigin="anonymous"),u.src=A,u.complete===!0&&setTimeout(function(){return l(u)},500),i._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(A,i){var o=Hr.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")A(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return A(h.result)},!1),h.addEventListener("error",function(x){return i(x)},!1),h.readAsDataURL(l.response)}else i("Failed to proxy resource "+a+" with status code "+l.status)},l.onerror=i;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return i("Timed out ("+u+"ms) proxying "+a)}}l.send()})},e}(),_Q=/^data:image\/svg\+xml/i,KQ=/^data:image\/.*;base64,/i,qQ=/^data:image\/.*/i,zQ=function(e){return Hr.SUPPORT_SVG_DRAWING||!GQ(e)},Kg=function(e){return qQ.test(e)},VQ=function(e){return KQ.test(e)},qg=function(e){return e.substr(0,4)==="blob"},GQ=function(e){return e.substr(-3).toLowerCase()==="svg"||_Q.test(e)},Re=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),fo=function(e,t,r){return new Re(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},Wu=function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=fo(this.start,this.startControl,t),a=fo(this.startControl,this.endControl,t),A=fo(this.endControl,this.end,t),i=fo(n,a,t),o=fo(a,A,t),l=fo(i,o,t);return r?new e(this.start,n,i,l):new e(l,o,A,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Zn=function(e){return e.type===1},WQ=function(){function e(t){var r=t.styles,n=t.bounds,a=gc(r.borderTopLeftRadius,n.width,n.height),A=a[0],i=a[1],o=gc(r.borderTopRightRadius,n.width,n.height),l=o[0],c=o[1],u=gc(r.borderBottomRightRadius,n.width,n.height),h=u[0],x=u[1],f=gc(r.borderBottomLeftRadius,n.width,n.height),b=f[0],p=f[1],C=[];C.push((A+l)/n.width),C.push((b+h)/n.width),C.push((i+p)/n.height),C.push((c+x)/n.height);var m=Math.max.apply(Math,C);m>1&&(A/=m,i/=m,l/=m,c/=m,h/=m,x/=m,b/=m,p/=m);var w=n.width-l,B=n.height-x,D=n.width-h,O=n.height-p,q=r.borderTopWidth,F=r.borderRightWidth,j=r.borderBottomWidth,I=r.borderLeftWidth,R=Ot(r.paddingTop,t.bounds.width),E=Ot(r.paddingRight,t.bounds.width),k=Ot(r.paddingBottom,t.bounds.width),Q=Ot(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=A>0||i>0?Vt(n.left+I/3,n.top+q/3,A-I/3,i-q/3,jt.TOP_LEFT):new Re(n.left+I/3,n.top+q/3),this.topRightBorderDoubleOuterBox=A>0||i>0?Vt(n.left+w,n.top+q/3,l-F/3,c-q/3,jt.TOP_RIGHT):new Re(n.left+n.width-F/3,n.top+q/3),this.bottomRightBorderDoubleOuterBox=h>0||x>0?Vt(n.left+D,n.top+B,h-F/3,x-j/3,jt.BOTTOM_RIGHT):new Re(n.left+n.width-F/3,n.top+n.height-j/3),this.bottomLeftBorderDoubleOuterBox=b>0||p>0?Vt(n.left+I/3,n.top+O,b-I/3,p-j/3,jt.BOTTOM_LEFT):new Re(n.left+I/3,n.top+n.height-j/3),this.topLeftBorderDoubleInnerBox=A>0||i>0?Vt(n.left+I*2/3,n.top+q*2/3,A-I*2/3,i-q*2/3,jt.TOP_LEFT):new Re(n.left+I*2/3,n.top+q*2/3),this.topRightBorderDoubleInnerBox=A>0||i>0?Vt(n.left+w,n.top+q*2/3,l-F*2/3,c-q*2/3,jt.TOP_RIGHT):new Re(n.left+n.width-F*2/3,n.top+q*2/3),this.bottomRightBorderDoubleInnerBox=h>0||x>0?Vt(n.left+D,n.top+B,h-F*2/3,x-j*2/3,jt.BOTTOM_RIGHT):new Re(n.left+n.width-F*2/3,n.top+n.height-j*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||p>0?Vt(n.left+I*2/3,n.top+O,b-I*2/3,p-j*2/3,jt.BOTTOM_LEFT):new Re(n.left+I*2/3,n.top+n.height-j*2/3),this.topLeftBorderStroke=A>0||i>0?Vt(n.left+I/2,n.top+q/2,A-I/2,i-q/2,jt.TOP_LEFT):new Re(n.left+I/2,n.top+q/2),this.topRightBorderStroke=A>0||i>0?Vt(n.left+w,n.top+q/2,l-F/2,c-q/2,jt.TOP_RIGHT):new Re(n.left+n.width-F/2,n.top+q/2),this.bottomRightBorderStroke=h>0||x>0?Vt(n.left+D,n.top+B,h-F/2,x-j/2,jt.BOTTOM_RIGHT):new Re(n.left+n.width-F/2,n.top+n.height-j/2),this.bottomLeftBorderStroke=b>0||p>0?Vt(n.left+I/2,n.top+O,b-I/2,p-j/2,jt.BOTTOM_LEFT):new Re(n.left+I/2,n.top+n.height-j/2),this.topLeftBorderBox=A>0||i>0?Vt(n.left,n.top,A,i,jt.TOP_LEFT):new Re(n.left,n.top),this.topRightBorderBox=l>0||c>0?Vt(n.left+w,n.top,l,c,jt.TOP_RIGHT):new Re(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||x>0?Vt(n.left+D,n.top+B,h,x,jt.BOTTOM_RIGHT):new Re(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=b>0||p>0?Vt(n.left,n.top+O,b,p,jt.BOTTOM_LEFT):new Re(n.left,n.top+n.height),this.topLeftPaddingBox=A>0||i>0?Vt(n.left+I,n.top+q,Math.max(0,A-I),Math.max(0,i-q),jt.TOP_LEFT):new Re(n.left+I,n.top+q),this.topRightPaddingBox=l>0||c>0?Vt(n.left+Math.min(w,n.width-F),n.top+q,w>n.width+F?0:Math.max(0,l-F),Math.max(0,c-q),jt.TOP_RIGHT):new Re(n.left+n.width-F,n.top+q),this.bottomRightPaddingBox=h>0||x>0?Vt(n.left+Math.min(D,n.width-I),n.top+Math.min(B,n.height-j),Math.max(0,h-F),Math.max(0,x-j),jt.BOTTOM_RIGHT):new Re(n.left+n.width-F,n.top+n.height-j),this.bottomLeftPaddingBox=b>0||p>0?Vt(n.left+I,n.top+Math.min(O,n.height-j),Math.max(0,b-I),Math.max(0,p-j),jt.BOTTOM_LEFT):new Re(n.left+I,n.top+n.height-j),this.topLeftContentBox=A>0||i>0?Vt(n.left+I+Q,n.top+q+R,Math.max(0,A-(I+Q)),Math.max(0,i-(q+R)),jt.TOP_LEFT):new Re(n.left+I+Q,n.top+q+R),this.topRightContentBox=l>0||c>0?Vt(n.left+Math.min(w,n.width+I+Q),n.top+q+R,w>n.width+I+Q?0:l-I+Q,c-(q+R),jt.TOP_RIGHT):new Re(n.left+n.width-(F+E),n.top+q+R),this.bottomRightContentBox=h>0||x>0?Vt(n.left+Math.min(D,n.width-(I+Q)),n.top+Math.min(B,n.height+q+R),Math.max(0,h-(F+E)),x-(j+k),jt.BOTTOM_RIGHT):new Re(n.left+n.width-(F+E),n.top+n.height-(j+k)),this.bottomLeftContentBox=b>0||p>0?Vt(n.left+I+Q,n.top+O,Math.max(0,b-(I+Q)),p-(j+k),jt.BOTTOM_LEFT):new Re(n.left+I+Q,n.top+n.height-(j+k))}return e}(),jt;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(jt||(jt={}));var Vt=function(e,t,r,n,a){var A=4*((Math.sqrt(2)-1)/3),i=r*A,o=n*A,l=e+r,c=t+n;switch(a){case jt.TOP_LEFT:return new Wu(new Re(e,c),new Re(e,c-o),new Re(l-i,t),new Re(l,t));case jt.TOP_RIGHT:return new Wu(new Re(e,t),new Re(e+i,t),new Re(l,c-o),new Re(l,c));case jt.BOTTOM_RIGHT:return new Wu(new Re(l,t),new Re(l,t+o),new Re(e+i,c),new Re(e,c));case jt.BOTTOM_LEFT:default:return new Wu(new Re(l,c),new Re(l-i,c),new Re(e,t+o),new Re(e,t))}},oh=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},JQ=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},lh=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},XQ=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),Ju=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),$Q=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),YQ=function(e){return e.type===0},p5=function(e){return e.type===1},ZQ=function(e){return e.type===2},iw=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},eU=function(e,t,r,n,a){return e.map(function(A,i){switch(i){case 0:return A.add(t,r);case 1:return A.add(t+n,r);case 2:return A.add(t+n,r+a);case 3:return A.add(t,r+a)}return A})},m5=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),x5=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new WQ(this.container),this.container.styles.opacity<1&&this.effects.push(new $Q(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,A=this.container.styles.transform;this.effects.push(new XQ(n,a,A))}if(this.container.styles.overflowX!==0){var i=oh(this.curves),o=lh(this.curves);iw(i,o)?this.effects.push(new Ju(i,6)):(this.effects.push(new Ju(i,2)),this.effects.push(new Ju(o,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var A=n.effects.filter(function(l){return!p5(l)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,A),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=oh(n.curves),o=lh(n.curves);iw(i,o)||a.unshift(new Ju(o,6))}}else a.unshift.apply(a,A);n=n.parent}return a.filter(function(l){return Nr(l.target,t)})},e}(),Cm=function(e,t,r,n){e.container.elements.forEach(function(a){var A=Nr(a.flags,4),i=Nr(a.flags,2),o=new x5(a,e);Nr(a.styles.display,2048)&&n.push(o);var l=Nr(a.flags,8)?[]:n;if(A||i){var c=A||a.styles.isPositioned()?r:t,u=new m5(o);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var x=0;c.negativeZIndex.some(function(b,p){return h>b.element.container.styles.zIndex.order?(x=p,!1):x>0}),c.negativeZIndex.splice(x,0,u)}else if(h>0){var f=0;c.positiveZIndex.some(function(b,p){return h>=b.element.container.styles.zIndex.order?(f=p+1,!1):f>0}),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Cm(o,u,A?u:r,l)}else a.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Cm(o,t,r,l);Nr(a.flags,8)&&y5(a,l)})},y5=function(e,t){for(var r=e instanceof wm?e.start:1,n=e instanceof wm?e.reversed:!1,a=0;a<t.length;a++){var A=t[a];A.container instanceof r5&&typeof A.container.value=="number"&&A.container.value!==0&&(r=A.container.value),A.listValue=sd(r,A.container.styles.listStyleType,!0),r+=n?-1:1}},tU=function(e){var t=new x5(e,null),r=new m5(t),n=[];return Cm(t,r,r,n),y5(t.container,n),r},ow=function(e,t){switch(t){case 0:return rs(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return rs(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return rs(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return rs(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},rU=function(e,t){switch(t){case 0:return rs(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return rs(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return rs(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return rs(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},nU=function(e,t){switch(t){case 0:return rs(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return rs(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return rs(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return rs(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},sU=function(e,t){switch(t){case 0:return Xu(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Xu(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Xu(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return Xu(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Xu=function(e,t){var r=[];return Zn(e)?r.push(e.subdivide(.5,!1)):r.push(e),Zn(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},rs=function(e,t,r,n){var a=[];return Zn(e)?a.push(e.subdivide(.5,!1)):a.push(e),Zn(r)?a.push(r.subdivide(.5,!0)):a.push(r),Zn(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),Zn(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},w5=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},ch=function(e){var t=e.styles,r=e.bounds,n=Ot(t.paddingLeft,r.width),a=Ot(t.paddingRight,r.width),A=Ot(t.paddingTop,r.width),i=Ot(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,A+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+A+i))},aU=function(e,t){return e===0?t.bounds:e===2?ch(t):w5(t)},AU=function(e,t){return e===0?t.bounds:e===2?ch(t):w5(t)},zg=function(e,t,r){var n=aU(wo(e.styles.backgroundOrigin,t),e),a=AU(wo(e.styles.backgroundClip,t),e),A=iU(wo(e.styles.backgroundSize,t),r,n),i=A[0],o=A[1],l=gc(wo(e.styles.backgroundPosition,t),n.width-i,n.height-o),c=oU(wo(e.styles.backgroundRepeat,t),l,A,n,a),u=Math.round(n.left+l[0]),h=Math.round(n.top+l[1]);return[c,u,h,i,o]},go=function(e){return It(e)&&e.value===Go.AUTO},$u=function(e){return typeof e=="number"},iU=function(e,t,r){var n=t[0],a=t[1],A=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(xr(i)&&o&&xr(o))return[Ot(i,r.width),Ot(o,r.height)];var l=$u(A);if(It(i)&&(i.value===Go.CONTAIN||i.value===Go.COVER)){if($u(A)){var c=r.width/r.height;return c<A!=(i.value===Go.COVER)?[r.width,r.width/A]:[r.height*A,r.height]}return[r.width,r.height]}var u=$u(n),h=$u(a),x=u||h;if(go(i)&&(!o||go(o))){if(u&&h)return[n,a];if(!l&&!x)return[r.width,r.height];if(x&&l){var f=u?n:a*A,b=h?a:n/A;return[f,b]}var p=u?n:r.width,C=h?a:r.height;return[p,C]}if(l){var m=0,w=0;return xr(i)?m=Ot(i,r.width):xr(o)&&(w=Ot(o,r.height)),go(i)?m=w*A:(!o||go(o))&&(w=m/A),[m,w]}var B=null,D=null;if(xr(i)?B=Ot(i,r.width):o&&xr(o)&&(D=Ot(o,r.height)),B!==null&&(!o||go(o))&&(D=u&&h?B/n*a:r.height),D!==null&&go(i)&&(B=u&&h?D/a*n:r.width),B!==null&&D!==null)return[B,D];throw new Error("Unable to calculate background-size for element")},wo=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},oU=function(e,t,r,n,a){var A=t[0],i=t[1],o=r[0],l=r[1];switch(e){case 2:return[new Re(Math.round(n.left),Math.round(n.top+i)),new Re(Math.round(n.left+n.width),Math.round(n.top+i)),new Re(Math.round(n.left+n.width),Math.round(l+n.top+i)),new Re(Math.round(n.left),Math.round(l+n.top+i))];case 3:return[new Re(Math.round(n.left+A),Math.round(n.top)),new Re(Math.round(n.left+A+o),Math.round(n.top)),new Re(Math.round(n.left+A+o),Math.round(n.height+n.top)),new Re(Math.round(n.left+A),Math.round(n.height+n.top))];case 1:return[new Re(Math.round(n.left+A),Math.round(n.top+i)),new Re(Math.round(n.left+A+o),Math.round(n.top+i)),new Re(Math.round(n.left+A+o),Math.round(n.top+i+l)),new Re(Math.round(n.left+A),Math.round(n.top+i+l))];default:return[new Re(Math.round(a.left),Math.round(a.top)),new Re(Math.round(a.left+a.width),Math.round(a.top)),new Re(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Re(Math.round(a.left),Math.round(a.height+a.top))]}},lU="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",lw="Hidden Text",cU=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),A=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),a.src=lU,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",A.style.fontFamily=t,A.style.fontSize=r,A.style.margin="0",A.style.padding="0",A.appendChild(this._document.createTextNode(lw)),n.appendChild(A),n.appendChild(a);var o=a.offsetTop-A.offsetTop+2;n.removeChild(A),n.appendChild(this._document.createTextNode(lw)),n.style.lineHeight="normal",a.style.verticalAlign="super";var l=a.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:l}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),v5=function(){function e(t,r){this.context=t,this.options=r}return e}(),dU=1e4,uU=function(e){Ds(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new cU(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),ZQ(r)&&(this.ctx.globalAlpha=r.opacity),YQ(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),p5(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return on(this,void 0,void 0,function(){var n;return Yr(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return on(this,void 0,void 0,function(){return Yr(this,function(n){switch(n.label){case 0:if(Nr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var A=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var i=Tx(r.text);i.reduce(function(o,l){return A.ctx.fillText(l,o,r.bounds.top+a),o+A.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),a=mU(r.fontFamily).join(", "),A=hd(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,A,a].join(" "),a,A]},t.prototype.renderTextNode=function(r,n){return on(this,void 0,void 0,function(){var a,A,i,o,l,c,u,h,x=this;return Yr(this,function(f){return a=this.createFontStyle(n),A=a[0],i=a[1],o=a[2],this.ctx.font=A,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(i,o),c=l.baseline,u=l.middle,h=n.paintOrder,r.textBounds.forEach(function(b){h.forEach(function(p){switch(p){case 0:x.ctx.fillStyle=Qr(n.color),x.renderTextWithLetterSpacing(b,n.letterSpacing,c);var C=n.textShadow;C.length&&b.text.trim().length&&(C.slice(0).reverse().forEach(function(m){x.ctx.shadowColor=Qr(m.color),x.ctx.shadowOffsetX=m.offsetX.number*x.options.scale,x.ctx.shadowOffsetY=m.offsetY.number*x.options.scale,x.ctx.shadowBlur=m.blur.number,x.renderTextWithLetterSpacing(b,n.letterSpacing,c)}),x.ctx.shadowColor="",x.ctx.shadowOffsetX=0,x.ctx.shadowOffsetY=0,x.ctx.shadowBlur=0),n.textDecorationLine.length&&(x.ctx.fillStyle=Qr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(m){switch(m){case 1:x.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+c),b.bounds.width,1);break;case 2:x.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:x.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+u),b.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&b.text.trim().length&&(x.ctx.strokeStyle=Qr(n.webkitTextStrokeColor),x.ctx.lineWidth=n.webkitTextStrokeWidth,x.ctx.lineJoin=window.chrome?"miter":"round",x.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+c)),x.ctx.strokeStyle="",x.ctx.lineWidth=0,x.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var A=ch(r),i=lh(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,A.left,A.top,A.width,A.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return on(this,void 0,void 0,function(){var n,a,A,i,o,l,w,w,c,u,h,x,D,f,b,O,p,C,m,w,B,D,O;return Yr(this,function(q){switch(q.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,A=n.styles,i=0,o=n.textNodes,q.label=1;case 1:return i<o.length?(l=o[i],[4,this.renderTextNode(l,A)]):[3,4];case 2:q.sent(),q.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof ZB))return[3,8];q.label=5;case 5:return q.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=q.sent(),this.renderReplacedElement(n,a,w),[3,8];case 7:return q.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof e5&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof t5))return[3,12];q.label=9;case 9:return q.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=q.sent(),this.renderReplacedElement(n,a,w),[3,12];case 11:return q.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof a5&&n.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=q.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),q.label=14;case 14:if(n instanceof Rx&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===sh?n.checked&&(this.ctx.save(),this.path([new Re(n.bounds.left+h*.39363,n.bounds.top+h*.79),new Re(n.bounds.left+h*.16,n.bounds.top+h*.5549),new Re(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new Re(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new Re(n.bounds.left+h*.72983,n.bounds.top+h*.23),new Re(n.bounds.left+h*.84,n.bounds.top+h*.34085),new Re(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=Qr(X2),this.ctx.fill(),this.ctx.restore()):n.type===ah&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Qr(X2),this.ctx.fill(),this.ctx.restore())),hU(n)&&n.value.length){switch(x=this.createFontStyle(A),D=x[0],f=x[1],b=this.fontMetrics.getMetrics(D,f).baseline,this.ctx.font=D,this.ctx.fillStyle=Qr(A.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=gU(n.styles.textAlign),O=ch(n),p=0,n.styles.textAlign){case 1:p+=O.width/2;break;case 2:p+=O.width;break}C=O.add(p,0,0,-O.height/2+1),this.ctx.save(),this.path([new Re(O.left,O.top),new Re(O.left+O.width,O.top),new Re(O.left+O.width,O.top+O.height),new Re(O.left,O.top+O.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Lc(n.value,C),A.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Nr(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(m=n.styles.listStyleImage,m.type!==0)return[3,18];w=void 0,B=m.url,q.label=15;case 15:return q.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return w=q.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return q.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(D=this.createFontStyle(A)[0],this.ctx.font=D,this.ctx.fillStyle=Qr(A.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",O=new Ia(n.bounds.left,n.bounds.top+Ot(n.styles.paddingTop,n.bounds.width),n.bounds.width,L2(A.lineHeight,A.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Lc(r.listValue,O),A.letterSpacing,L2(A.lineHeight,A.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),q.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return on(this,void 0,void 0,function(){var n,a,m,A,i,m,o,l,m,c,u,m,h,x,m,f,b,m,p,C,m;return Yr(this,function(w){switch(w.label){case 0:if(Nr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:w.sent(),n=0,a=r.negativeZIndex,w.label=2;case 2:return n<a.length?(m=a[n],[4,this.renderStack(m)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:w.sent(),A=0,i=r.nonInlineLevel,w.label=7;case 7:return A<i.length?(m=i[A],[4,this.renderNode(m)]):[3,10];case 8:w.sent(),w.label=9;case 9:return A++,[3,7];case 10:o=0,l=r.nonPositionedFloats,w.label=11;case 11:return o<l.length?(m=l[o],[4,this.renderStack(m)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,w.label=15;case 15:return c<u.length?(m=u[c],[4,this.renderStack(m)]):[3,18];case 16:w.sent(),w.label=17;case 17:return c++,[3,15];case 18:h=0,x=r.inlineLevel,w.label=19;case 19:return h<x.length?(m=x[h],[4,this.renderNode(m)]):[3,22];case 20:w.sent(),w.label=21;case 21:return h++,[3,19];case 22:f=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return f<b.length?(m=b[f],[4,this.renderStack(m)]):[3,26];case 24:w.sent(),w.label=25;case 25:return f++,[3,23];case 26:p=0,C=r.positiveZIndex,w.label=27;case 27:return p<C.length?(m=C[p],[4,this.renderStack(m)]):[3,30];case 28:w.sent(),w.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,A){var i=Zn(a)?a.start:a;A===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),Zn(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,A){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,A),this.ctx.fill(),this.ctx.translate(-a,-A)},t.prototype.resizeImage=function(r,n,a){var A;if(r.width===n&&r.height===a)return r;var i=(A=this.canvas.ownerDocument)!==null&&A!==void 0?A:document,o=i.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,a);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,a),o},t.prototype.renderBackgroundImage=function(r){return on(this,void 0,void 0,function(){var n,a,A,i,o,l;return Yr(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,a=function(u){var h,x,f,R,W,ee,Q,K,j,b,R,W,ee,Q,K,p,C,m,w,B,D,O,q,F,j,I,R,E,k,Q,K,ie,W,ee,z,te,Ae,he,S,P,J,Y;return Yr(this,function(ne){switch(ne.label){case 0:if(u.type!==0)return[3,5];h=void 0,x=u.url,ne.label=1;case 1:return ne.trys.push([1,3,,4]),[4,A.context.cache.match(x)];case 2:return h=ne.sent(),[3,4];case 3:return ne.sent(),A.context.logger.error("Error loading background-image "+x),[3,4];case 4:return h&&(f=zg(r,n,[h.width,h.height,h.width/h.height]),R=f[0],W=f[1],ee=f[2],Q=f[3],K=f[4],j=A.ctx.createPattern(A.resizeImage(h,Q,K),"repeat"),A.renderRepeat(R,j,W,ee)),[3,6];case 5:YS(u)?(b=zg(r,n,[null,null,null]),R=b[0],W=b[1],ee=b[2],Q=b[3],K=b[4],p=GS(u.angle,Q,K),C=p[0],m=p[1],w=p[2],B=p[3],D=p[4],O=document.createElement("canvas"),O.width=Q,O.height=K,q=O.getContext("2d"),F=q.createLinearGradient(m,B,w,D),Q2(u.stops,C).forEach(function(ce){return F.addColorStop(ce.stop,Qr(ce.color))}),q.fillStyle=F,q.fillRect(0,0,Q,K),Q>0&&K>0&&(j=A.ctx.createPattern(O,"repeat"),A.renderRepeat(R,j,W,ee))):ZS(u)&&(I=zg(r,n,[null,null,null]),R=I[0],E=I[1],k=I[2],Q=I[3],K=I[4],ie=u.position.length===0?[Ix]:u.position,W=Ot(ie[0],Q),ee=Ot(ie[ie.length-1],K),z=WS(u,W,ee,Q,K),te=z[0],Ae=z[1],te>0&&Ae>0&&(he=A.ctx.createRadialGradient(E+W,k+ee,0,E+W,k+ee,te),Q2(u.stops,te*2).forEach(function(ce){return he.addColorStop(ce.stop,Qr(ce.color))}),A.path(R),A.ctx.fillStyle=he,te!==Ae?(S=r.bounds.left+.5*r.bounds.width,P=r.bounds.top+.5*r.bounds.height,J=Ae/te,Y=1/J,A.ctx.save(),A.ctx.translate(S,P),A.ctx.transform(1,0,0,J,0,0),A.ctx.translate(-S,-P),A.ctx.fillRect(E,Y*(k-P)+P,Q,K*Y),A.ctx.restore()):A.ctx.fill())),ne.label=6;case 6:return n--,[2]}})},A=this,i=0,o=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return i<o.length?(l=o[i],[5,a(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return on(this,void 0,void 0,function(){return Yr(this,function(A){return this.path(ow(a,n)),this.ctx.fillStyle=Qr(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,A){return on(this,void 0,void 0,function(){var i,o;return Yr(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,A)]:[3,2];case 1:return l.sent(),[2];case 2:return i=rU(A,a),this.path(i),this.ctx.fillStyle=Qr(r),this.ctx.fill(),o=nU(A,a),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return on(this,void 0,void 0,function(){var n,a,A,i,o,l,c,u,h=this;return Yr(this,function(x){switch(x.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!kA(n.backgroundColor)||n.backgroundImage.length,A=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=fU(wo(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),kA(n.backgroundColor)||(this.ctx.fillStyle=Qr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:x.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){h.ctx.save();var b=oh(r.curves),p=f.inset?0:dU,C=eU(b,-p+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(h.path(b),h.ctx.clip(),h.mask(C)):(h.mask(b),h.ctx.clip(),h.path(C)),h.ctx.shadowOffsetX=f.offsetX.number+p,h.ctx.shadowOffsetY=f.offsetY.number,h.ctx.shadowColor=Qr(f.color),h.ctx.shadowBlur=f.blur.number,h.ctx.fillStyle=f.inset?Qr(f.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),x.label=2;case 2:o=0,l=0,c=A,x.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!kA(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return x.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return x.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return x.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:x.sent(),x.label=11;case 11:o++,x.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,A,i){return on(this,void 0,void 0,function(){var o,l,c,u,h,x,f,b,p,C,m,w,B,D,O,q,O,q;return Yr(this,function(F){return this.ctx.save(),o=sU(A,a),l=ow(A,a),i===2&&(this.path(l),this.ctx.clip()),Zn(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Zn(l[1])?(h=l[1].end.x,x=l[1].end.y):(h=l[1].x,x=l[1].y),a===0||a===2?f=Math.abs(c-h):f=Math.abs(u-x),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(l.slice(0,2)),b=n<3?n*3:n*2,p=n<3?n*2:n,i===3&&(b=n,p=n),C=!0,f<=b*2?C=!1:f<=b*2+p?(m=f/(2*b+p),b*=m,p*=m):(w=Math.floor((f+p)/(b+p)),B=(f-w*b)/(w-1),D=(f-(w+1)*b)/w,p=D<=0||Math.abs(p-B)<Math.abs(p-D)?B:D),C&&(i===3?this.ctx.setLineDash([0,b+p]):this.ctx.setLineDash([b,p])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Qr(r),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(Zn(l[0])&&(O=l[3],q=l[0],this.ctx.beginPath(),this.formatPath([new Re(O.end.x,O.end.y),new Re(q.start.x,q.start.y)]),this.ctx.stroke()),Zn(l[1])&&(O=l[1],q=l[2],this.ctx.beginPath(),this.formatPath([new Re(O.end.x,O.end.y),new Re(q.start.x,q.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return on(this,void 0,void 0,function(){var n;return Yr(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Qr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=tU(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(v5),hU=function(e){return e instanceof s5||e instanceof n5?!0:e instanceof Rx&&e.type!==ah&&e.type!==sh},fU=function(e,t){switch(e){case 0:return oh(t);case 2:return JQ(t);case 1:default:return lh(t)}},gU=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},pU=["-apple-system","system-ui"],mU=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return pU.indexOf(t)===-1}):e},xU=function(e){Ds(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return on(this,void 0,void 0,function(){var n,a;return Yr(this,function(A){switch(A.label){case 0:return n=ym(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,yU(n)];case 1:return a=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Qr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(v5),yU=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},wU=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Fu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Fu([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Fu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Fu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),vU=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new wU({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new MQ(this,t)}return e.instanceCount=1,e}(),bU=function(e,t){return t===void 0&&(t={}),BU(e,t)};typeof window<"u"&&g5.setContext(window);var BU=function(e,t){return on(void 0,void 0,void 0,function(){var r,n,a,A,i,o,l,c,u,h,x,f,b,p,C,m,w,B,D,O,F,q,F,j,I,R,E,k,Q,K,ie,W,ee,z,te,Ae,he,S,P,J;return Yr(this,function(Y){switch(Y.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(j=t.allowTaint)!==null&&j!==void 0?j:!1,imageTimeout:(I=t.imageTimeout)!==null&&I!==void 0?I:15e3,proxy:t.proxy,useCORS:(R=t.useCORS)!==null&&R!==void 0?R:!1},A=sm({logging:(E=t.logging)!==null&&E!==void 0?E:!0,cache:t.cache},a),i={windowWidth:(k=t.windowWidth)!==null&&k!==void 0?k:n.innerWidth,windowHeight:(Q=t.windowHeight)!==null&&Q!==void 0?Q:n.innerHeight,scrollX:(K=t.scrollX)!==null&&K!==void 0?K:n.pageXOffset,scrollY:(ie=t.scrollY)!==null&&ie!==void 0?ie:n.pageYOffset},o=new Ia(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),l=new vU(A,o),c=(W=t.foreignObjectRendering)!==null&&W!==void 0?W:!1,u={allowTaint:(ee=t.allowTaint)!==null&&ee!==void 0?ee:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new aw(l,e,u),x=h.clonedReferenceElement,x?[4,h.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=Y.sent(),b=Hx(x)||NQ(x)?e6(x.ownerDocument):Dh(l,x),p=b.width,C=b.height,m=b.left,w=b.top,B=NU(l,x,t.backgroundColor),D={canvas:t.canvas,backgroundColor:B,scale:(te=(z=t.scale)!==null&&z!==void 0?z:n.devicePixelRatio)!==null&&te!==void 0?te:1,x:((Ae=t.x)!==null&&Ae!==void 0?Ae:0)+m,y:((he=t.y)!==null&&he!==void 0?he:0)+w,width:(S=t.width)!==null&&S!==void 0?S:Math.ceil(p),height:(P=t.height)!==null&&P!==void 0?P:Math.ceil(C)},c?(l.logger.debug("Document cloned, using foreign object rendering"),F=new xU(l,D),[4,F.render(x)]):[3,3];case 2:return O=Y.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+m+","+w+" with size "+p+"x"+C+" using computed rendering"),l.logger.debug("Starting DOM parsing"),q=i5(l,x),B===q.styles.backgroundColor&&(q.styles.backgroundColor=Fa.TRANSPARENT),l.logger.debug("Starting renderer for element at "+D.x+","+D.y+" with size "+D.width+"x"+D.height),F=new uU(l,D),[4,F.render(q)];case 4:O=Y.sent(),Y.label=5;case 5:return(!((J=t.removeContainer)!==null&&J!==void 0)||J)&&(aw.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,O]}})})},NU=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?Qc(e,getComputedStyle(n.documentElement).backgroundColor):Fa.TRANSPARENT,A=n.body?Qc(e,getComputedStyle(n.body).backgroundColor):Fa.TRANSPARENT,i=typeof r=="string"?Qc(e,r):r===null?Fa.TRANSPARENT:4294967295;return t===n.documentElement?kA(a)?kA(A)?i:A:a:i};const CU=Object.freeze(Object.defineProperty({__proto__:null,default:bU},Symbol.toStringTag,{value:"Module"})),b5=async(e,t="en")=>{var r;try{if(!(e!=null&&e.patient))throw new Error("Invalid request data");const n={en:{labName:"SIL Laboratory",labAddress:"123 Health Street, Casablanca, Morocco",labPhone:"Phone: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"COMPLETE BLOOD COUNT (CBC)",patientInfo:"PATIENT INFORMATION",doctorInfo:"PRESCRIBING DOCTOR",requestInfo:"REQUEST DETAILS",analysisName:"Test",result:"Result",unit:"Unit",reference:"Ref. Range",status:"Status",notes:"Notes",normal:"Normal",abnormal:"Abnormal",pending:"Pending",validated:"Validated",reportDate:"Report Date",interpretation:"Interpretation",validatedBy:"Validated by",signature:"Signature",disclaimer:"This report is generated automatically by SIL Laboratory System and is intended for medical professionals.",noResults:"No results available"},fr:{labName:"Laboratoire SIL",labAddress:"123 Rue de la Santé, Casablanca, Maroc",labPhone:"Tél: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"NUMÉRATION FORMULE SANGUINE (NFS)",patientInfo:"INFORMATIONS PATIENT",doctorInfo:"MÉDECIN PRESCRIPTEUR",requestInfo:"DÉTAILS DEMANDE",analysisName:"Analyse",result:"Résultat",unit:"Unité",reference:"Valeurs de réf.",status:"Statut",notes:"Notes",normal:"Normal",abnormal:"Anormal",pending:"En attente",validated:"Validé",reportDate:"Date du rapport",interpretation:"Interprétation",validatedBy:"Validé par",signature:"Signature",disclaimer:"Ce rapport est généré automatiquement par le système SIL et destiné aux professionnels de santé.",noResults:"Aucun résultat disponible"}}[t],a=x=>new Date(x).toLocaleDateString(t==="fr"?"fr-FR":"en-US"),A=x=>{switch(x){case"VALIDATED":return n.validated;case"PENDING":return n.pending;default:return x}},i=new Ze("p","mm","a4"),o=i.internal.pageSize.getWidth(),l=14;let c=l;i.setFont("helvetica","bold"),i.setFontSize(20),i.text(n.labName,o/2,c,{align:"center"}),c+=7,i.setFontSize(10),i.setFont("helvetica","normal"),i.text(n.labAddress,o/2,c,{align:"center"}),c+=5,i.text(n.labPhone,o/2,c,{align:"center"}),c+=5,i.text(n.labEmail,o/2,c,{align:"center"}),c+=8,i.setDrawColor(0),i.setLineWidth(.5),i.line(l,c,o-l,c),c+=6,i.setFont("helvetica","bold"),i.setFontSize(14),i.text(n.reportTitle,o/2,c,{align:"center"}),c+=8,i.line(l,c,o-l,c),c+=6,i.setFont("helvetica","bold"),i.text(n.patientInfo,l,c),c+=5,i.setFont("helvetica","normal"),i.setFontSize(10),i.text(`${e.patient.firstName} ${e.patient.lastName}`,l,c),i.text(`${n.reportDate}: ${a(new Date().toISOString())}`,o-l,c,{align:"right"}),c+=5,i.text(`${n.analysisName}: CBC`,l,c),i.text(`${n.patientInfo}: ${e.patient.gender}`,o-l,c,{align:"right"}),c+=8;const u=(r=e.results)==null?void 0:r.reduce((x,f)=>{const b=f.analysis.category||"Other";return x[b]||(x[b]=[]),x[b].push(f),x},{});u?Object.entries(u).forEach(([x,f])=>{i.setFont("helvetica","bold"),i.setFillColor(240,240,240),i.rect(l,c-4,o-l*2,6,"F"),i.text(x,l+2,c),c+=6,i.setFontSize(9),i.setFont("helvetica","bold"),[{text:n.analysisName,x:l},{text:n.result,x:l+70},{text:n.unit,x:l+100},{text:n.reference,x:l+120},{text:n.status,x:l+160}].forEach(p=>i.text(p.text,p.x,c)),c+=4,i.setFont("helvetica","normal"),f.forEach(p=>{c>270&&(i.addPage(),c=l),p.status.toUpperCase()==="ABNORMAL"?i.setTextColor(200,0,0):i.setTextColor(0,0,0),i.text(p.analysis.name,l,c),i.text(p.value||"-",l+70,c),i.text(p.unit||"-",l+100,c),i.text(p.reference||"-",l+120,c),i.text(A(p.status),l+160,c),c+=4}),i.setTextColor(0,0,0),c+=3}):(i.setFontSize(10),i.text(n.noResults,l,c),c+=5),c+=5,i.setFont("helvetica","bold"),i.text(n.interpretation,l,c),c+=5,i.setFont("helvetica","normal"),i.setFontSize(9),i.text("All parameters within normal limits unless indicated in red. Please consult a physician for further interpretation.",l,c,{maxWidth:o-l*2}),c+=10,i.setFontSize(8),i.setFont("helvetica","italic"),i.text(n.disclaimer,o/2,285,{align:"center"});const h=`CBC_Report_${e.patient.firstName}_${e.patient.lastName}.pdf`;return i.save(h),h}catch(n){throw console.error(n),n}};function kU({request:e,onClose:t}){var h;const{language:r}=Nt(),[n,a]=_.useState(!1),A={fr:{labName:"Laboratoire SIL",labAddress:"123 Rue de la Santé, Casablanca, Maroc",labPhone:"Tél: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"RAPPORT D'ANALYSES MÉDICALES",patientInfo:"INFORMATIONS PATIENT",doctorInfo:"MÉDECIN PRESCRIPTEUR",requestInfo:"INFORMATIONS DEMANDE",analysisResults:"RÉSULTATS D'ANALYSES",patientName:"Nom du patient",patientId:"ID Patient",dateOfBirth:"Date de naissance",gender:"Sexe",cnssNumber:"Numéro CNSS",doctorName:"Nom du médecin",specialty:"Spécialité",requestId:"ID Demande",requestDate:"Date de demande",analysisName:"Analyse",result:"Résultat",unit:"Unité",reference:"Valeurs de référence",status:"Statut",notes:"Notes",normal:"Normal",abnormal:"Anormal",pending:"En attente",validated:"Validé",completed:"Terminé",reportDate:"Date du rapport",validatedBy:"Validé par",signature:"Signature",disclaimer:"Ce rapport est généré automatiquement par le système SIL. Pour toute question, veuillez contacter le laboratoire.",print:"Imprimer",close:"Fermer"},en:{labName:"SIL Laboratory",labAddress:"123 Health Street, Casablanca, Morocco",labPhone:"Phone: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"MEDICAL ANALYSIS REPORT",patientInfo:"PATIENT INFORMATION",doctorInfo:"PRESCRIBING DOCTOR",requestInfo:"REQUEST INFORMATION",analysisResults:"ANALYSIS RESULTS",patientName:"Patient Name",patientId:"Patient ID",dateOfBirth:"Date of Birth",gender:"Gender",cnssNumber:"CNSS Number",doctorName:"Doctor Name",specialty:"Specialty",requestId:"Request ID",requestDate:"Request Date",analysisName:"Analysis",result:"Result",unit:"Unit",reference:"Reference Values",status:"Status",notes:"Notes",normal:"Normal",abnormal:"Abnormal",pending:"Pending",validated:"Validated",completed:"Completed",reportDate:"Report Date",validatedBy:"Validated by",signature:"Signature",disclaimer:"This report is automatically generated by the SIL system. For any questions, please contact the laboratory.",print:"Print",close:"Close"}}[r],i=x=>{switch(x){case"VALIDATED":return A.validated;case"COMPLETED":return A.completed;case"PENDING":return A.pending;default:return x}},o=x=>{switch(x){case"VALIDATED":return"text-green-600";case"COMPLETED":return"text-blue-600";case"PENDING":return"text-yellow-600";default:return"text-gray-600"}},l=x=>new Date(x).toLocaleDateString(r==="fr"?"fr-FR":"en-US"),c=()=>{window.print()},u=async()=>{try{a(!0),await b5(e,r)}catch(x){console.error("Error generating PDF:",x),alert(r==="fr"?"Erreur lors de la génération du PDF":"Error generating PDF")}finally{a(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 print-container",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto print-container",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center no-print",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:A.reportTitle}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:u,disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:r==="fr"?"Génération...":"Generating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("span",{children:r==="fr"?"Générer PDF":"Generate PDF"})]})}),s.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:A.print}),s.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:A.close})]})]}),s.jsxs("div",{id:"result-report-content",className:"p-6 print:p-0",children:[s.jsxs("div",{className:"text-center mb-8 print:mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:A.labName}),s.jsx("p",{className:"text-gray-600",children:A.labAddress}),s.jsx("p",{className:"text-gray-600",children:A.labPhone}),s.jsx("p",{className:"text-gray-600",children:A.labEmail})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 print:mb-4",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:A.patientInfo}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[A.patientName,":"]}),s.jsxs("span",{className:"ml-2",children:[e.patient.firstName," ",e.patient.lastName]})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[A.patientId,":"]}),s.jsx("span",{className:"ml-2",children:e.patient.id})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[A.dateOfBirth,":"]}),s.jsx("span",{className:"ml-2",children:l(e.patient.dateOfBirth)})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[A.gender,":"]}),s.jsx("span",{className:"ml-2",children:e.patient.gender})]}),e.patient.cnssNumber&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[A.cnssNumber,":"]}),s.jsx("span",{className:"ml-2",children:e.patient.cnssNumber})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:A.doctorInfo}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[A.doctorName,":"]}),s.jsx("span",{className:"ml-2",children:e.doctor?`Dr. ${e.doctor.firstName} ${e.doctor.lastName}`:"N/A"})]}),((h=e.doctor)==null?void 0:h.specialty)&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[A.specialty,":"]}),s.jsx("span",{className:"ml-2",children:e.doctor.specialty})]})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-8 print:mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:A.requestInfo}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[A.requestId,":"]}),s.jsx("span",{className:"ml-2 font-mono",children:e.id})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[A.requestDate,":"]}),s.jsx("span",{className:"ml-2",children:l(e.createdAt)})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[A.reportDate,":"]}),s.jsx("span",{className:"ml-2",children:l(new Date().toISOString())})]})]})]}),s.jsxs("div",{className:"mb-8 print:mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:A.analysisResults}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full border border-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.analysisName}),s.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.result}),s.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.unit}),s.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.reference}),s.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.status}),s.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.notes})]})}),s.jsx("tbody",{children:e.results&&e.results.length>0?e.results.map(x=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:x.analysis.name}),s.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm font-medium",children:x.value||"-"}),s.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:x.unit||"-"}),s.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:x.reference||"-"}),s.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:s.jsx("span",{className:o(x.status),children:i(x.status)})}),s.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:x.notes||"-"})]},x.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"border border-gray-200 px-4 py-4 text-center text-gray-500",children:r==="fr"?"Aucun résultat disponible":"No results available"})})})]})})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6 print:pt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[A.validatedBy,":"]}),s.jsx("div",{className:"border-t-2 border-gray-400 w-32 pt-2",children:s.jsx("p",{className:"text-sm font-medium",children:"Dr. Biologist"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[A.signature,":"]}),s.jsx("div",{className:"border-t-2 border-gray-400 w-32 ml-auto pt-2",children:s.jsx("p",{className:"text-sm font-medium",children:"Lab Director"})})]})]}),s.jsx("div",{className:"mt-6 print:mt-4 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:A.disclaimer})})]})]})]})})}function jU(){const{language:e}=Nt(),[t,r]=_.useState([]),[n,a]=_.useState([]),[A,i]=_.useState(null),[o,l]=_.useState(!1),[c,u]=_.useState(null),[h,x]=_.useState(!1),[f,b]=_.useState(null),[p,C]=_.useState(!1),[m,w]=_.useState({patientName:"",patientId:"",cnssNumber:"",requestId:"",status:"",analysisCode:""}),B={fr:{title:"Livraison des Résultats",subtitle:"Panel de réception pour la récupération des résultats",searchPlaceholder:"Nom, ID, CNSS ou référence",search:"Rechercher",patient:"Patient",request:"Demande",doctor:"Médecin",date:"Date d'analyse",status:"Statut",actions:"Actions",notFound:"Aucun résultat trouvé",error:"Erreur lors de la récupération",noResults:"Aucun résultat trouvé",generateReport:"Générer Rapport",print:"Imprimer",download:"Télécharger",view:"Voir",markDelivered:"Marquer comme Livré",delivered:"Livré",inProgress:"En cours",completed:"Terminé",validated:"Validé",pending:"En attente",rejected:"Rejeté",allStatuses:"Tous les statuts",clearFilters:"Effacer les filtres",refresh:"Actualiser",patientName:"Nom du patient",patientId:"ID Patient",cnssNumber:"Numéro CNSS",requestId:"ID Demande",analysisCode:"Code Analyse",test:"Test",value:"Valeur",reference:"Référence",printTest:"Imprimer Test",printIndividualTest:"Imprimer Test Individuel",notReady:"Pas encore prêt pour l'impression",loading:"Chargement...",requestsFound:"demandes trouvées",resultsFound:"résultats trouvés"},en:{title:"Result Delivery",subtitle:"Reception panel for result retrieval",searchPlaceholder:"Name, ID, CNSS or reference",search:"Search",patient:"Patient",request:"Request",doctor:"Doctor",date:"Analysis Date",status:"Status",actions:"Actions",notFound:"No results found",error:"Error fetching data",noResults:"No results found",generateReport:"Generate Report",print:"Print",download:"Download",view:"View",markDelivered:"Mark as Delivered",delivered:"Delivered",inProgress:"In Progress",completed:"Completed",validated:"Validated",pending:"Pending",rejected:"Rejected",allStatuses:"All Statuses",clearFilters:"Clear Filters",refresh:"Refresh",patientName:"Patient Name",patientId:"Patient ID",cnssNumber:"CNSS Number",requestId:"Request ID",analysisCode:"Analysis Code",test:"Test",value:"Value",reference:"Reference",printTest:"Print Test",printIndividualTest:"Print Individual Test",notReady:"Not ready for printing",loading:"Loading...",requestsFound:"requests found",resultsFound:"results found"}}[e];_.useEffect(()=>{D()},[]),_.useEffect(()=>{O()},[t,m]);const D=async()=>{x(!0),b(null);try{const k=await Sc.getResults({limit:100,include:"request,analysis"});r(k.results||[])}catch(k){console.error("Error loading results:",k),b(B.error)}finally{x(!1)}},O=()=>{let k=t;m.patientName&&(k=k.filter(Q=>Q.request.patient.firstName.toLowerCase().includes(m.patientName.toLowerCase())||Q.request.patient.lastName.toLowerCase().includes(m.patientName.toLowerCase()))),m.patientId&&(k=k.filter(Q=>Q.request.id.toLowerCase().includes(m.patientId.toLowerCase()))),m.cnssNumber&&(k=k.filter(Q=>{var K;return(K=Q.request.patient.cnssNumber)==null?void 0:K.toLowerCase().includes(m.cnssNumber.toLowerCase())})),m.requestId&&(k=k.filter(Q=>Q.request.id.toLowerCase().includes(m.requestId.toLowerCase()))),m.analysisCode&&(k=k.filter(Q=>Q.analysis.code.toLowerCase().includes(m.analysisCode.toLowerCase())||Q.analysis.name.toLowerCase().includes(m.analysisCode.toLowerCase()))),m.status&&m.status!=="all"&&(k=k.filter(Q=>Q.status===m.status)),a(k)},q=(k,Q)=>{w(K=>({...K,[k]:Q}))},F=()=>{w({patientName:"",patientId:"",cnssNumber:"",requestId:"",status:"",analysisCode:""})},j=k=>{switch(k){case"VALIDATED":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"COMPLETED":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";case"REJECTED":return"text-red-600 bg-red-100 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},I=k=>{switch(k){case"VALIDATED":return B.validated;case"COMPLETED":return B.completed;case"PENDING":return B.pending;case"REJECTED":return B.rejected;default:return k}},R=async k=>{try{C(!0);const Q=await Ni.getRequest(k.request.id),K=await Sc.getResultsByRequest(k.request.id),ie={...Q,results:K||[]};console.log("Complete request for PDF:",ie),await b5(ie,e)}catch(Q){console.error("Error generating PDF:",Q),alert(e==="fr"?"Erreur lors de la génération du PDF":"Error generating PDF")}finally{C(!1)}},E=async k=>{try{const Q=window.open("","_blank");Q&&(Q.document.write(`
          <html>
            <head>
              <title>${k.analysis.name} - ${k.request.patient.firstName} ${k.request.patient.lastName}</title>
              <style>
                body { font-family: Arial, sans-serif; margin: 20px; }
                .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
                .info { margin-bottom: 20px; }
                .result { border: 2px solid #2563eb; padding: 20px; margin: 20px 0; border-radius: 8px; }
                .value { font-size: 24px; font-weight: bold; color: #2563eb; }
                .reference { color: #666; font-size: 16px; }
                .status { color: #059669; font-weight: bold; }
                @media print { body { margin: 0; } }
              </style>
            </head>
            <body>
              <div class="header">
                <h1>Résultat d'Analyse Médicale</h1>
                <h2>${k.analysis.name} (${k.analysis.code})</h2>
              </div>
              <div class="info">
                <p><strong>Patient:</strong> ${k.request.patient.firstName} ${k.request.patient.lastName}</p>
                <p><strong>Date de naissance:</strong> ${new Date(k.request.patient.dateOfBirth).toLocaleDateString()}</p>
                <p><strong>Sexe:</strong> ${k.request.patient.gender}</p>
                <p><strong>Date d'analyse:</strong> ${new Date(k.request.createdAt).toLocaleDateString()}</p>
                <p><strong>Numéro de demande:</strong> ${k.request.id}</p>
                ${k.request.patient.cnssNumber?`<p><strong>CNSS:</strong> ${k.request.patient.cnssNumber}</p>`:""}
              </div>
              <div class="result">
                <p><strong>Résultat:</strong> <span class="value">${k.value||"N/A"} ${k.unit||""}</span></p>
                <p><strong>Valeurs de référence:</strong> <span class="reference">${k.reference||"N/A"}</span></p>
                <p><strong>Statut:</strong> <span class="status">${I(k.status)}</span></p>
                ${k.notes?`<p><strong>Notes:</strong> ${k.notes}</p>`:""}
              </div>
              <div style="margin-top: 40px; text-align: center;">
                <p><em>Ce rapport a été généré automatiquement par le système SIL Lab</em></p>
              </div>
            </body>
          </html>
        `),Q.document.close(),Q.print())}catch(Q){console.error("Error printing individual test:",Q),alert(e==="fr"?"Erreur lors de l'impression du test":"Error printing test")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:B.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:B.subtitle})]}),s.jsxs("button",{onClick:D,disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[s.jsx(Fi,{className:`h-4 w-4 ${h?"animate-spin":""}`}),s.jsx("span",{children:B.refresh})]})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:e==="fr"?"Comment imprimer les résultats":"How to print results"}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:e==="fr"?`1. Trouvez un résultat avec statut "Validé" 2. Cliquez sur l'icône imprimante pour imprimer le test individuel 3. Ou cliquez sur "Voir" puis "Générer PDF" pour le rapport complet`:'1. Find a result with "Validated" status 2. Click the printer icon to print individual test 3. Or click "View" then "Generate PDF" for complete report'})]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),s.jsx("input",{type:"text",value:m.patientName,onChange:k=>q("patientName",k.target.value),placeholder:B.patientName,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsx("div",{children:s.jsx("input",{type:"text",value:m.patientId,onChange:k=>q("patientId",k.target.value),placeholder:B.patientId,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),s.jsx("div",{children:s.jsx("input",{type:"text",value:m.cnssNumber,onChange:k=>q("cnssNumber",k.target.value),placeholder:B.cnssNumber,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),s.jsx("div",{children:s.jsx("input",{type:"text",value:m.requestId,onChange:k=>q("requestId",k.target.value),placeholder:B.requestId,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),s.jsx("div",{children:s.jsx("input",{type:"text",value:m.analysisCode,onChange:k=>q("analysisCode",k.target.value),placeholder:B.analysisCode,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),s.jsx("div",{children:s.jsxs("select",{value:m.status,onChange:k=>q("status",k.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:B.allStatuses}),s.jsx("option",{value:"PENDING",children:B.pending}),s.jsx("option",{value:"COMPLETED",children:B.completed}),s.jsx("option",{value:"VALIDATED",children:B.validated}),s.jsx("option",{value:"REJECTED",children:B.rejected})]})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:F,className:"px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-2",children:[s.jsx(dd,{size:16}),s.jsx("span",{children:B.clearFilters})]}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.length," ",B.resultsFound]})]})]}),f&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qp,{className:"text-red-600",size:20}),s.jsx("span",{className:"text-red-800 dark:text-red-200",children:f})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.patient}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.test}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.value}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.reference}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.date}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.status}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.actions})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:h?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:B.loading})]})})}):n.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:B.notFound})}):n.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:s.jsx(dn,{className:"h-5 w-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[k.request.patient.firstName," ",k.request.patient.lastName]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.request.patient.cnssNumber||"N/A"})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:k.analysis.name}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[k.analysis.code," - ",k.analysis.category]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[k.value||"-"," ",k.unit]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:k.reference||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(k.request.createdAt).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(k.status)}`,children:I(k.status)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>i(k),className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:B.view,children:s.jsx(Ls,{size:16})}),k.status==="VALIDATED"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>E(k),className:"text-purple-600 hover:text-purple-900 dark:hover:text-purple-400",title:B.printIndividualTest,children:s.jsx(Mo,{size:16})}),s.jsx("button",{onClick:()=>R(k),disabled:p,className:"text-green-600 hover:text-green-900 dark:hover:text-green-400 disabled:opacity-50 disabled:cursor-not-allowed",title:e==="fr"?"Générer PDF":"Generate PDF",children:p?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})]})})]},k.id))})]})})}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[A.analysis.name," - ",A.request.patient.firstName," ",A.request.patient.lastName]}),s.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(qp,{size:20})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:B.patient}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[A.request.patient.firstName," ",A.request.patient.lastName]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["CNSS: ",A.request.patient.cnssNumber||"N/A"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:B.status}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(A.status)}`,children:I(A.status)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:B.test}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[A.analysis.name," (",A.analysis.code,")"]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:A.analysis.category})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:B.value}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[A.value||"-"," ",A.unit]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Référence: ",A.reference||"-"]})]})]}),s.jsx("div",{className:"flex justify-end space-x-3",children:A.status==="VALIDATED"?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>E(A),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center space-x-2",children:[s.jsx(Mo,{size:16}),s.jsx("span",{children:B.printIndividualTest})]}),s.jsx("button",{onClick:()=>R(A),disabled:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:p?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:e==="fr"?"Génération...":"Generating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("span",{children:e==="fr"?"Générer PDF":"Generate PDF"})]})})]}):s.jsxs("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 flex items-center space-x-2",children:[s.jsx(ta,{size:16}),s.jsx("span",{children:B.notReady})]})})]})]})}),o&&c&&s.jsx(kU,{request:c,onClose:()=>{l(!1),u(null)}})]})}function SU(){const{language:e}=Nt(),[t,r]=_.useState([]),[n,a]=_.useState(!1),[A,i]=_.useState(null),[o,l]=_.useState(null),[c,u]=_.useState(!1),[h,x]=_.useState(null),[f,b]=_.useState(""),p={fr:{title:"Validation des Résultats",subtitle:"Panel de validation pour les biologistes",searchPlaceholder:"Nom du patient, code analyse...",patient:"Patient",analysis:"Analyse",value:"Valeur",reference:"Référence",status:"Statut",actions:"Actions",pending:"En attente",validated:"Validé",rejected:"Rejeté",validate:"Valider",reject:"Rejeter",view:"Voir",refresh:"Actualiser",notFound:"Aucun résultat trouvé",error:"Erreur lors de la récupération",loading:"Chargement...",confirmValidation:"Confirmer la validation",confirmRejection:"Confirmer le rejet",validationNotes:"Notes de validation",cancel:"Annuler",confirm:"Confirmer",validationSuccess:"Résultat validé avec succès",rejectionSuccess:"Résultat rejeté avec succès",validationError:"Erreur lors de la validation",rejectionError:"Erreur lors du rejet",close:"Fermer",doctor:"Médecin",specialty:"Spécialité",notes:"Notes"},en:{title:"Result Validation",subtitle:"Biologist validation panel",searchPlaceholder:"Patient name, analysis code...",patient:"Patient",analysis:"Analysis",value:"Value",reference:"Reference",status:"Status",actions:"Actions",pending:"Pending",validated:"Validated",rejected:"Rejected",validate:"Validate",reject:"Reject",view:"View",refresh:"Refresh",notFound:"No results found",error:"Error fetching data",loading:"Loading...",confirmValidation:"Confirm validation",confirmRejection:"Confirm rejection",validationNotes:"Validation notes",cancel:"Cancel",confirm:"Confirm",validationSuccess:"Result validated successfully",rejectionSuccess:"Result rejected successfully",validationError:"Error during validation",rejectionError:"Error during rejection",close:"Close",doctor:"Doctor",specialty:"Specialty",notes:"Notes"}}[e];_.useEffect(()=>{C()},[]);const C=async()=>{try{a(!0),i(null);const F=await Sc.getResults({limit:100,include:"request,analysis"});r(F.results||[])}catch(F){console.error("Error loading results:",F),i(p.error)}finally{a(!1)}},m=F=>{switch(F){case"VALIDATED":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"REJECTED":return"text-red-600 bg-red-100 dark:bg-red-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},w=F=>{switch(F){case"VALIDATED":return p.validated;case"REJECTED":return p.rejected;case"PENDING":return p.pending;default:return F}},B=async F=>{try{x(F.id),await Sc.validateResult(F.id,"biologist-user"),r(j=>j.map(I=>I.id===F.id?{...I,status:"VALIDATED"}:I)),(o==null?void 0:o.id)===F.id&&(u(!1),l(null)),alert(p.validationSuccess)}catch(j){console.error("Error validating result:",j),alert(p.validationError)}finally{x(null)}},D=async F=>{try{x(F.id),await Sc.updateResult(F.id,{status:"REJECTED"}),r(j=>j.map(I=>I.id===F.id?{...I,status:"REJECTED"}:I)),(o==null?void 0:o.id)===F.id&&(u(!1),l(null)),alert(p.rejectionSuccess)}catch(j){console.error("Error rejecting result:",j),alert(p.rejectionError)}finally{x(null)}},O=t.filter(F=>{if(!f)return!0;const j=f.toLowerCase();return F.request.patient.firstName.toLowerCase().includes(j)||F.request.patient.lastName.toLowerCase().includes(j)||F.analysis.code.toLowerCase().includes(j)||F.analysis.name.toLowerCase().includes(j)}),q=()=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[o==null?void 0:o.analysis.name," - ",o==null?void 0:o.request.patient.firstName," ",o==null?void 0:o.request.patient.lastName]}),s.jsx("button",{onClick:()=>{u(!1),l(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:20})})]}),o&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:p.patient}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.request.patient.firstName," ",o.request.patient.lastName]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.request.patient.gender,", ",new Date(o.request.patient.dateOfBirth).toLocaleDateString()]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:p.analysis}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.analysis.name," (",o.analysis.code,")"]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.analysis.category})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:p.value}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.value||"-"," ",o.unit]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:p.reference}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.reference||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:p.status}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(o.status)}`,children:w(o.status)})]}),o.request.doctor&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:p.doctor}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.request.doctor.firstName," ",o.request.doctor.lastName]}),o.request.doctor.specialty&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.request.doctor.specialty})]}),o.notes&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:p.notes}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.notes})]})]}),o&&o.status==="PENDING"&&s.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>D(o),disabled:h===o.id,className:"px-4 py-2 text-red-600 bg-red-100 rounded-lg hover:bg-red-200 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 disabled:opacity-50",children:h===o.id?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):p.reject}),s.jsx("button",{onClick:()=>B(o),disabled:h===o.id,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:h===o.id?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):p.validate})]})]})})});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:p.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:p.subtitle})]}),s.jsxs("button",{onClick:C,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[s.jsx(Fi,{className:`h-4 w-4 ${n?"animate-spin":""}`}),s.jsx("span",{children:p.refresh})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),s.jsx("input",{type:"text",placeholder:p.searchPlaceholder,value:f,onChange:F=>b(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.patient}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.analysis}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.value}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.reference}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.status}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.actions})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:p.loading})]})})}):O.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:p.notFound})}):O.map(F=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[F.request.patient.firstName," ",F.request.patient.lastName]}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[F.request.patient.gender,", ",new Date(F.request.patient.dateOfBirth).toLocaleDateString()]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:F.analysis.name}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[F.analysis.code," - ",F.analysis.category]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[F.value||"-"," ",F.unit]}),s.jsx(Qs,{size:16,className:"text-green-500"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:F.reference||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(F.status)}`,children:w(F.status)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[F.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>B(F),disabled:h===F.id,className:"text-green-600 hover:text-green-900 dark:hover:text-green-400 disabled:opacity-50",title:p.validate,children:h===F.id?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):s.jsx(Vb,{size:16})}),s.jsx("button",{onClick:()=>D(F),disabled:h===F.id,className:"text-red-600 hover:text-red-900 dark:hover:text-red-400 disabled:opacity-50",title:p.reject,children:h===F.id?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):s.jsx(wt,{size:16})})]}),s.jsx("button",{onClick:()=>{l(F),u(!0)},className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:p.view,children:s.jsx(Ls,{size:16})})]})})]},F.id))})]})}),c&&s.jsx(q,{})]})}function FU(){const{language:e}=Nt(),[t,r]=_.useState(!1),[n,a]=_.useState(!1),[A,i]=_.useState(null),o={fr:{title:"Module de Facturation",newInvoice:"Nouvelle Facture",invoice:"Facture",patient:"Patient",amount:"Montant",status:"Statut",payer:"Payeur",date:"Date",actions:"Actions",export:"Exporter",close:"Fermer",save:"Enregistrer",cancel:"Annuler",send:"Envoyer"},en:{title:"Billing Module",newInvoice:"New Invoice",invoice:"Invoice",patient:"Patient",amount:"Amount",status:"Status",payer:"Payer",date:"Date",actions:"Actions",export:"Export",close:"Close",save:"Save",cancel:"Cancel",send:"Send"}}[e],[l]=_.useState([{id:"FAC001",patientName:"Dupont, Marie",amount:125.5,status:"paid",payer:"CPAM",date:"2024-01-15"},{id:"FAC002",patientName:"Martin, Pierre",amount:89.2,status:"sent",payer:"MGEN",date:"2024-01-14"}]),c=p=>({pending:"bg-yellow-100 text-yellow-800",sent:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[p]||"bg-gray-100 text-gray-800",u=p=>{i(p),a(!0)},h=p=>{console.log("Sending invoice:",p.id)},x=()=>{console.log("Exporting invoices...")},f=()=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o.newInvoice}),s.jsx("button",{onClick:()=>r(!1),children:s.jsx(wt,{size:20,className:"text-gray-500"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Nom du patient",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsx("input",{type:"number",placeholder:"Montant",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{children:"Sélectionner payeur"}),s.jsx("option",{children:"CPAM"}),s.jsx("option",{children:"MGEN"}),s.jsx("option",{children:"Harmonie"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:o.cancel}),s.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:o.save})]})]})}),b=()=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Détails de la facture"}),s.jsx("button",{onClick:()=>a(!1),children:s.jsx(wt,{size:20,className:"text-gray-500"})})]}),A&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"ID:"})," ",A.id]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Patient:"})," ",A.patientName]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Montant:"})," dh",A.amount]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Statut:"})," ",A.status]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Payeur:"})," ",A.payer]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Date:"})," ",A.date]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:o.close})})]})});return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:o.title}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:x,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[s.jsx(Si,{size:20,className:"mr-2"}),o.export]}),s.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(kr,{size:20,className:"mr-2"}),o.newInvoice]})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.invoice}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.patient}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.amount}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.status}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.payer}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.date}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.actions})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.map(p=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:p.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:p.patientName}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["dh",p.amount]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(p.status)}`,children:p.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:p.payer}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:p.date}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[s.jsx("button",{onClick:()=>u(p),className:"text-blue-600 hover:text-blue-900 mr-3",children:s.jsx(Ls,{size:16})}),s.jsx("button",{onClick:()=>h(p),className:"text-green-600 hover:text-green-900",children:s.jsx(Fj,{size:16})})]})]},p.id))})]})}),t&&s.jsx(f,{}),n&&s.jsx(b,{})]})}function EU(){const{language:e}=Nt(),[t,r]=_.useState({labName:"Laboratoire Central",address:"123 Rue de la Santé, 75014 Paris",phone:"01.42.34.56.78",email:"contact@lab.fr",autoprint:!0,defaultPrinter:"HP LaserJet Pro",smsNotifications:!0,emailNotifications:!0}),[n,a]=_.useState([{code:"4005",nom:"Hémogramme (CBC)",category:"Hématologie",price:45,tva:20},{code:"4010",nom:"Glycémie (Blood Sugar)",category:"Biochimie",price:25,tva:20},{code:"4015",nom:"Cholestérol Total",category:"Lipides",price:30,tva:20},{code:"4020",nom:"HDL Cholestérol",category:"Lipides",price:35,tva:20},{code:"4025",nom:"LDL Cholestérol",category:"Lipides",price:35,tva:20},{code:"4030",nom:"Triglycérides",category:"Lipides",price:30,tva:20},{code:"4035",nom:"Créatininémie",category:"Biochimie",price:28,tva:20},{code:"4040",nom:"Urée",category:"Biochimie",price:25,tva:20},{code:"4045",nom:"Bilan hépatique",category:"Biochimie",price:55,tva:20},{code:"4050",nom:"TSH",category:"Hormonologie",price:40,tva:20},{code:"4055",nom:"T4 Libre",category:"Hormonologie",price:45,tva:20},{code:"4060",nom:"T3 Libre",category:"Hormonologie",price:45,tva:20},{code:"4070",nom:"Groupe Sanguin",category:"Immunologie",price:35,tva:20},{code:"4075",nom:"CRP",category:"Inflammation",price:32,tva:20},{code:"4080",nom:"VS",category:"Inflammation",price:20,tva:20}]),A={fr:{title:"Centre de Configuration",labSettings:"Paramètres du Laboratoire",labName:"Nom du Laboratoire",address:"Adresse",phone:"Téléphone",email:"Email",printSettings:"Paramètres d'Impression",autoprint:"Impression automatique",defaultPrinter:"Imprimante par défaut",notifications:"Notifications",smsNotifications:"Notifications SMS",emailNotifications:"Notifications Email",pricing:"Tarification des Analyses",analysisCode:"Code",analysisName:"Nom de l'Analyse",category:"Catégorie",price:"Prix HT",tva:"TVA (%)",totalPrice:"Prix TTC",save:"Enregistrer",savePrices:"Enregistrer les Prix"},en:{title:"Configuration Center",labSettings:"Laboratory Settings",labName:"Laboratory Name",address:"Address",phone:"Phone",email:"Email",printSettings:"Print Settings",autoprint:"Auto-print",defaultPrinter:"Default Printer",notifications:"Notifications",smsNotifications:"SMS Notifications",emailNotifications:"Email Notifications",pricing:"Analysis Pricing",analysisCode:"Code",analysisName:"Analysis Name",category:"Category",price:"Price (excl. tax)",tva:"VAT (%)",totalPrice:"Total Price",save:"Save",savePrices:"Save Prices"}}[e],i=(u,h)=>{r(x=>({...x,[u]:h}))},o=(u,h,x)=>{a(f=>f.map(b=>b.code===u?{...b,[h]:x}:b))},l=()=>{console.log("Saving configuration:",t),localStorage.setItem("sil_lab_config",JSON.stringify(t)),localStorage.setItem("sil_lab_prices",JSON.stringify(n)),alert("Configuration sauvegardée avec succès!")},c=(u,h)=>u*(1+h/100);return s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:A.title}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(NA,{className:"h-6 w-6 text-blue-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:A.labSettings})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.labName}),s.jsx("input",{type:"text",value:t.labName,onChange:u=>i("labName",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.address}),s.jsx("input",{type:"text",value:t.address,onChange:u=>i("address",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.phone}),s.jsx("input",{type:"text",value:t.phone,onChange:u=>i("phone",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.email}),s.jsx("input",{type:"email",value:t.email,onChange:u=>i("email",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Mo,{className:"h-6 w-6 text-green-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:A.printSettings})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.autoprint,onChange:u=>i("autoprint",u.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:A.autoprint})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.defaultPrinter}),s.jsx("input",{type:"text",value:t.defaultPrinter,onChange:u=>i("defaultPrinter",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(bi,{className:"h-6 w-6 text-purple-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:A.notifications})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.smsNotifications,onChange:u=>i("smsNotifications",u.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:A.smsNotifications})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.emailNotifications,onChange:u=>i("emailNotifications",u.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:A.emailNotifications})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("button",{onClick:l,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[s.jsx(jn,{size:20,className:"mr-2"}),A.save]})})]}),s.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Us,{className:"h-6 w-6 text-green-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:A.pricing})]}),s.jsxs("button",{onClick:l,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[s.jsx(jn,{size:16,className:"mr-2"}),A.savePrices]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.analysisCode}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.analysisName}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.category}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.price}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.tva}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.totalPrice})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n.map(u=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:u.code}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:u.nom}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:u.category}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("input",{type:"number",step:"0.01",min:"0",value:u.price,onChange:h=>o(u.code,"price",parseFloat(h.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:u.tva,onChange:h=>o(u.code,"tva",parseFloat(h.target.value)||0),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400",children:[c(u.price,u.tva).toFixed(2)," dh"]})]},u.code))})]})})]})]})}function QU(){const{language:e}=Nt(),[t,r]=_.useState([]),[n,a]=_.useState({symbol:"dh",code:"MAD",position:"after",decimalPlaces:2}),[A,i]=_.useState(""),[o,l]=_.useState("all"),[c,u]=_.useState(!1),[h,x]=_.useState(null),[f,b]=_.useState(!0),p={fr:{title:"Gestion des Prix",subtitle:"Configuration des tarifs des analyses",currency:"Devise",currencySymbol:"Symbole de devise",currencyCode:"Code devise",currencyPosition:"Position du symbole",decimalPlaces:"Décimales",before:"Avant",after:"Après",search:"Rechercher...",filter:"Filtrer par catégorie",allCategories:"Toutes les catégories",addPrice:"Ajouter un prix",editPrice:"Modifier le prix",code:"Code",name:"Nom",category:"Catégorie",price:"Prix HT",tva:"TVA (%)",cost:"Coût",profit:"Marge",totalPrice:"Prix TTC",lastUpdated:"Dernière mise à jour",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",saveAll:"Enregistrer tout",priceHistory:"Historique des prix",profitAnalysis:"Analyse des marges",totalRevenue:"Revenu total",averagePrice:"Prix moyen",totalAnalyses:"Total analyses",priceChanges:"Changements de prix",success:"Prix enregistré avec succès",error:"Erreur lors de l'enregistrement",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce prix ?"},en:{title:"Price Management",subtitle:"Analysis pricing configuration",currency:"Currency",currencySymbol:"Currency symbol",currencyCode:"Currency code",currencyPosition:"Symbol position",decimalPlaces:"Decimal places",before:"Before",after:"After",search:"Search...",filter:"Filter by category",allCategories:"All categories",addPrice:"Add price",editPrice:"Edit price",code:"Code",name:"Name",category:"Category",price:"Price (excl. tax)",tva:"VAT (%)",cost:"Cost",profit:"Profit",totalPrice:"Total price",lastUpdated:"Last updated",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",saveAll:"Save all",priceHistory:"Price history",profitAnalysis:"Profit analysis",totalRevenue:"Total revenue",averagePrice:"Average price",totalAnalyses:"Total analyses",priceChanges:"Price changes",success:"Price saved successfully",error:"Error saving price",confirmDelete:"Are you sure you want to delete this price?"}}[e];_.useEffect(()=>{C()},[]);const C=async()=>{try{const W=await _o.getPrices();r(W.length>0?W:m());const ee=await _o.getCurrencySettings();ee&&a(ee),b(!1)}catch(W){console.error("Error loading data:",W),r(m()),b(!1)}},m=()=>[{code:"4005",nom:"Hémogramme (CBC)",category:"Hématologie",price:45,tva:20,cost:15,profit:30},{code:"4010",nom:"Glycémie (Blood Sugar)",category:"Biochimie",price:25,tva:20,cost:8,profit:17},{code:"4015",nom:"Cholestérol Total",category:"Lipides",price:30,tva:20,cost:10,profit:20},{code:"4020",nom:"HDL Cholestérol",category:"Lipides",price:35,tva:20,cost:12,profit:23},{code:"4025",nom:"LDL Cholestérol",category:"Lipides",price:35,tva:20,cost:12,profit:23},{code:"4030",nom:"Triglycérides",category:"Lipides",price:30,tva:20,cost:10,profit:20},{code:"4035",nom:"Créatininémie",category:"Biochimie",price:28,tva:20,cost:9,profit:19},{code:"4040",nom:"Urée",category:"Biochimie",price:25,tva:20,cost:8,profit:17},{code:"4045",nom:"Bilan hépatique",category:"Biochimie",price:55,tva:20,cost:18,profit:37},{code:"4050",nom:"TSH",category:"Hormonologie",price:40,tva:20,cost:13,profit:27},{code:"4055",nom:"T4 Libre",category:"Hormonologie",price:45,tva:20,cost:15,profit:30},{code:"4060",nom:"T3 Libre",category:"Hormonologie",price:45,tva:20,cost:15,profit:30},{code:"4070",nom:"Groupe Sanguin",category:"Immunologie",price:35,tva:20,cost:11,profit:24},{code:"4075",nom:"CRP",category:"Inflammation",price:32,tva:20,cost:10,profit:22},{code:"4080",nom:"VS",category:"Inflammation",price:20,tva:20,cost:6,profit:14}],w=["Hématologie","Biochimie","Lipides","Hormonologie","Immunologie","Inflammation"],B=t.filter(W=>{const ee=W.nom.toLowerCase().includes(A.toLowerCase())||W.code.includes(A),z=o==="all"||W.category===o;return ee&&z}),D=(W,ee)=>W*(1+ee/100),O=(W,ee=0)=>W-ee,q=W=>{const ee=W.toFixed(n.decimalPlaces);return n.position==="before"?`${n.symbol}${ee}`:`${ee}${n.symbol}`},F=(W,ee,z)=>{r(te=>te.map(Ae=>{if(Ae.code===W){const he={...Ae,[ee]:z};return(ee==="price"||ee==="cost")&&(he.profit=O(he.price,he.cost)),he}return Ae}))},j=()=>{try{_o.savePrices(t),localStorage.setItem("sil_lab_currency",JSON.stringify(n)),alert(p.success)}catch(W){console.error("Save error:",W),alert(p.error)}},I=W=>{window.confirm(p.confirmDelete)&&r(ee=>ee.filter(z=>z.code!==W))},R=()=>{const W={code:"",nom:"",category:"Biochimie",price:0,tva:20,cost:0,profit:0,lastUpdated:new Date().toISOString()};x(W),u(!0)},E=()=>{if(h&&h.code&&h.nom){const W={...h,profit:O(h.price,h.cost),lastUpdated:new Date().toISOString()};r(ee=>[...ee,W]),x(null),u(!1)}},k=t.reduce((W,ee)=>W+ee.price,0),Q=k/t.length,K=t.reduce((W,ee)=>W+(ee.profit||0),0),ie=k>0?K/k*100:0;return f?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:p.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:p.subtitle})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:p.currency}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.currencySymbol}),s.jsx("input",{type:"text",value:n.symbol,onChange:W=>a(ee=>({...ee,symbol:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",maxLength:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.currencyCode}),s.jsx("input",{type:"text",value:n.code,onChange:W=>a(ee=>({...ee,code:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",maxLength:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.currencyPosition}),s.jsxs("select",{value:n.position,onChange:W=>a(ee=>({...ee,position:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"before",children:p.before}),s.jsx("option",{value:"after",children:p.after})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.decimalPlaces}),s.jsx("input",{type:"number",min:"0",max:"4",value:n.decimalPlaces,onChange:W=>a(ee=>({...ee,decimalPlaces:parseInt(W.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Us,{className:"h-8 w-8 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.totalRevenue}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:q(k)})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(al,{className:"h-8 w-8 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.averagePrice}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:q(Q)})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(al,{className:"h-8 w-8 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.profitAnalysis}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:q(K)})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(sl,{className:"h-8 w-8 text-orange-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Marge (%)"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[ie.toFixed(1),"%"]})]})]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:A,onChange:W=>i(W.target.value),placeholder:p.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:o,onChange:W=>l(W.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:p.allCategories}),w.map(W=>s.jsx("option",{value:W,children:W},W))]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:R,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(kr,{size:16,className:"mr-2"}),p.addPrice]}),s.jsxs("button",{onClick:j,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[s.jsx(jn,{size:16,className:"mr-2"}),p.saveAll]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.code}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.name}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.category}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.price}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.tva}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.cost}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.profit}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.totalPrice}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.actions})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:B.map(W=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:W.code}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:W.nom}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:W.category}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",step:"0.01",min:"0",value:W.price,onChange:ee=>F(W.code,"price",parseFloat(ee.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:W.tva,onChange:ee=>F(W.code,"tva",parseFloat(ee.target.value)||0),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"number",step:"0.01",min:"0",value:W.cost||0,onChange:ee=>F(W.code,"cost",parseFloat(ee.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400",children:q(W.profit||0)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 dark:text-blue-400",children:q(D(W.price,W.tva))}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("button",{onClick:()=>I(W.code),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(TA,{size:16})})})]},W.code))})]})})}),c&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:p.addPrice}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.code}),s.jsx("input",{type:"text",value:h.code,onChange:W=>x(ee=>ee?{...ee,code:W.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.name}),s.jsx("input",{type:"text",value:h.nom,onChange:W=>x(ee=>ee?{...ee,nom:W.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.category}),s.jsx("select",{value:h.category,onChange:W=>x(ee=>ee?{...ee,category:W.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:w.map(W=>s.jsx("option",{value:W,children:W},W))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.price}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:h.price,onChange:W=>x(ee=>ee?{...ee,price:parseFloat(W.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.tva}),s.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:h.tva,onChange:W=>x(ee=>ee?{...ee,tva:parseFloat(W.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[s.jsx("button",{onClick:()=>{u(!1),x(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:p.cancel}),s.jsx("button",{onClick:E,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:p.save})]})]})})]})}function UU(){const{language:e}=Nt(),[t,r]=_.useState(!1),[n,a]=_.useState(!1),[A,i]=_.useState(null),[o,l]=_.useState(!1),c={fr:{title:"Gestion des Utilisateurs",newUser:"Nouvel Utilisateur",name:"Nom",email:"Email",role:"Rôle",status:"Statut",permissions:"Permissions",actions:"Actions",active:"Actif",inactive:"Inactif",admin:"Administrateur",biologist:"Biologiste",technician:"Technicien",secretary:"Secrétaire",close:"Fermer",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Confirmer la suppression"},en:{title:"User Management",newUser:"New User",name:"Name",email:"Email",role:"Role",status:"Status",permissions:"Permissions",actions:"Actions",active:"Active",inactive:"Inactive",admin:"Administrator",biologist:"Biologist",technician:"Technician",secretary:"Secretary",close:"Close",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Confirm deletion"}}[e],[u]=_.useState([{id:"1",name:"Dr. Admin",email:"admin@lab.fr",role:"admin",status:"active",permissions:["all"]},{id:"2",name:"Dr. Biologiste",email:"bio@lab.fr",role:"biologist",status:"active",permissions:["validate_results","view_all_requests"]},{id:"3",name:"Tech Support",email:"tech@lab.fr",role:"technician",status:"active",permissions:["enter_results","manage_samples"]}]),h=B=>({admin:"bg-purple-100 text-purple-800",biologist:"bg-blue-100 text-blue-800",technician:"bg-green-100 text-green-800",secretary:"bg-yellow-100 text-yellow-800"})[B]||"bg-gray-100 text-gray-800",x=B=>B==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",f=B=>{i(B),a(!0)},b=B=>{i(B),l(!0)},p=()=>{console.log("Deleting user:",A==null?void 0:A.id),l(!1)},C=()=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.newUser}),s.jsx("button",{onClick:()=>r(!1),children:s.jsx(wt,{size:20,className:"text-gray-500"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Nom complet",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{children:"Sélectionner un rôle"}),s.jsx("option",{value:"admin",children:"Administrateur"}),s.jsx("option",{value:"biologist",children:"Biologiste"}),s.jsx("option",{value:"technician",children:"Technicien"}),s.jsx("option",{value:"secretary",children:"Secrétaire"})]}),s.jsx("input",{type:"password",placeholder:"Mot de passe",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),s.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c.save})]})]})}),m=()=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Modifier utilisateur"}),s.jsx("button",{onClick:()=>a(!1),children:s.jsx(wt,{size:20,className:"text-gray-500"})})]}),A&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",defaultValue:A.name,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsx("input",{type:"email",defaultValue:A.email,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.jsxs("select",{defaultValue:A.role,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"admin",children:"Administrateur"}),s.jsx("option",{value:"biologist",children:"Biologiste"}),s.jsx("option",{value:"technician",children:"Technicien"}),s.jsx("option",{value:"secretary",children:"Secrétaire"})]}),s.jsxs("select",{defaultValue:A.status,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"active",children:"Actif"}),s.jsx("option",{value:"inactive",children:"Inactif"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c.save})]})]})}),w=()=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.confirmDelete}),s.jsx("button",{onClick:()=>l(!1),children:s.jsx(wt,{size:20,className:"text-gray-500"})})]}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Êtes-vous sûr de vouloir supprimer l'utilisateur ",A==null?void 0:A.name," ?"]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),s.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:c.delete})]})]})});return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:c.title}),s.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(kr,{size:20,className:"mr-2"}),c.newUser]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.name}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.email}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.role}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.status}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.permissions}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.actions})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:u.map(B=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:B.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:B.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(B.role)}`,children:c[B.role]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(B.status)}`,children:B.status==="active"?c.active:c.inactive})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:s.jsxs("span",{className:"inline-flex items-center",children:[s.jsx(Ej,{size:16,className:"mr-1"}),B.permissions.length]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[s.jsx("button",{onClick:()=>f(B),className:"text-blue-600 hover:text-blue-900 mr-3",children:s.jsx(DA,{size:16})}),s.jsx("button",{onClick:()=>b(B),className:"text-red-600 hover:text-red-900",children:s.jsx(Lj,{size:16})})]})]},B.id))})]})}),t&&s.jsx(C,{}),n&&s.jsx(m,{}),o&&s.jsx(w,{})]})}function LU({onClose:e,onSuccess:t}){const{user:r,language:n}=Nt(),[a,A]=_.useState({productId:"",quantity:0,lotNumber:"",expiryDate:"",location:"",unitCost:0,notes:"",receivedBy:(r==null?void 0:r.name)||""}),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,h]=_.useState(!1),[x,f]=_.useState({}),[b,p]=_.useState(!1);_.useState(!1);const[C,m]=_.useState(""),[w,B]=_.useState(""),D={title:n==="fr"?"Ajouter Stock":"Add Stock Entry",subtitle:n==="fr"?"Enregistrer un nouvel arrivage":"Record new stock arrival",product:n==="fr"?"Produit":"Product",selectProduct:n==="fr"?"Sélectionner un produit":"Select a product",searchProduct:n==="fr"?"Rechercher un produit...":"Search for a product...",quantity:n==="fr"?"Quantité":"Quantity",lotNumber:n==="fr"?"Numéro de lot":"Lot Number",expiryDate:n==="fr"?"Date d'expiration":"Expiry Date",location:n==="fr"?"Emplacement":"Location",unitCost:n==="fr"?"Coût unitaire":"Unit Cost",notes:"Notes",receivedBy:n==="fr"?"Reçu par":"Received By",supplier:n==="fr"?"Fournisseur":"Supplier",selectSupplier:n==="fr"?"Sélectionner un fournisseur":"Select a supplier",searchSupplier:n==="fr"?"Rechercher un fournisseur...":"Search for a supplier...",addNewProduct:n==="fr"?"Ajouter un nouveau produit":"Add New Product",addNewSupplier:n==="fr"?"Ajouter un nouveau fournisseur":"Add New Supplier",save:n==="fr"?"Enregistrer":"Save",cancel:n==="fr"?"Annuler":"Cancel",required:n==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:n==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",invalidCost:n==="fr"?"Le coût doit être positif":"Cost must be positive",invalidDate:n==="fr"?"La date d'expiration doit être dans le futur":"Expiry date must be in the future",success:n==="fr"?"Stock ajouté avec succès":"Stock added successfully",error:n==="fr"?"Erreur lors de l'ajout du stock":"Error adding stock",loading:n==="fr"?"Enregistrement...":"Saving...",noProducts:n==="fr"?"Aucun produit trouvé":"No products found",noSuppliers:n==="fr"?"Aucun fournisseur trouvé":"No suppliers found",createProduct:n==="fr"?"Créer un produit":"Create Product",createSupplier:n==="fr"?"Créer un fournisseur":"Create Supplier",productName:n==="fr"?"Nom du produit":"Product Name",productCode:n==="fr"?"Code du produit":"Product Code",category:n==="fr"?"Catégorie":"Category",unit:n==="fr"?"Unité":"Unit",minQuantity:n==="fr"?"Quantité minimale":"Minimum Quantity",supplierName:n==="fr"?"Nom du fournisseur":"Supplier Name",supplierEmail:n==="fr"?"Email du fournisseur":"Supplier Email",supplierPhone:n==="fr"?"Téléphone du fournisseur":"Supplier Phone",supplierAddress:n==="fr"?"Adresse du fournisseur":"Supplier Address",contactPerson:n==="fr"?"Personne de contact":"Contact Person"};_.useEffect(()=>{O(),q()},[]);const O=async()=>{try{const E=await xt.getProducts({limit:100});o(E.products||[])}catch(E){console.error("Error loading products:",E)}},q=async()=>{try{const E=await xt.getSuppliers({limit:100});c(E.suppliers||[])}catch(E){console.error("Error loading suppliers:",E)}},F=()=>{const E={};return a.productId||(E.productId=D.required),(!a.quantity||a.quantity<=0)&&(E.quantity=D.invalidQuantity),a.location||(E.location=D.required),a.receivedBy||(E.receivedBy=D.required),a.unitCost<0&&(E.unitCost=D.invalidCost),a.expiryDate&&new Date(a.expiryDate)<=new Date&&(E.expiryDate=D.invalidDate),f(E),Object.keys(E).length===0},j=async E=>{if(E.preventDefault(),!!F()){h(!0);try{await xt.addStockEntry(a),t==null||t(),e()}catch(k){console.error("Error adding stock entry:",k),alert(D.error)}finally{h(!1)}}},I=(E,k)=>{A(Q=>({...Q,[E]:k})),x[E]&&f(Q=>({...Q,[E]:""}))},R=i.filter(E=>E.name.toLowerCase().includes(C.toLowerCase())||E.code.toLowerCase().includes(C.toLowerCase())||E.category.toLowerCase().includes(C.toLowerCase()));return l.filter(E=>E.name.toLowerCase().includes(w.toLowerCase())),s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:D.subtitle})]}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:24})})]}),s.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[D.product," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:D.selectProduct,value:C,onChange:E=>m(E.target.value),onClick:()=>p(!0),readOnly:!0,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),s.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),x.productId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.productId})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[D.quantity," *"]}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.quantity,onChange:E=>I("quantity",parseFloat(E.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),x.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.quantity})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.lotNumber}),s.jsx("input",{type:"text",value:a.lotNumber,onChange:E=>I("lotNumber",E.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.expiryDate}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:a.expiryDate,onChange:E=>I("expiryDate",E.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.expiryDate?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),s.jsx(Sa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),x.expiryDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.expiryDate})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[D.location," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:a.location,onChange:E=>I("location",E.target.value),placeholder:"e.g., Fridge A, Cabinet 3",className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.location?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),s.jsx(Bi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),x.location&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.location})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.unitCost}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.unitCost,onChange:E=>I("unitCost",parseFloat(E.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.unitCost?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),s.jsx(Us,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),x.unitCost&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.unitCost})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[D.receivedBy," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:a.receivedBy,onChange:E=>I("receivedBy",E.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.receivedBy?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),s.jsx(dn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),x.receivedBy&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.receivedBy})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.notes}),s.jsx("textarea",{value:a.notes,onChange:E=>I("notes",E.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:D.cancel}),s.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),D.loading]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{size:16,className:"mr-2"}),D.save]})})]})]})]}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:D.selectProduct}),s.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:20})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("input",{type:"text",placeholder:D.searchProduct,value:C,onChange:E=>m(E.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:R.length===0?s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:D.noProducts}):R.map(E=>s.jsxs("button",{onClick:()=>{A(k=>({...k,productId:E.id})),m(E.name),p(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:E.name}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[E.code," • ",E.category," • ",E.unit]})]},E.id))}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("button",{onClick:()=>{p(!1)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[s.jsx(kr,{size:16,className:"mr-2"}),D.addNewProduct]})})]})]})})]})}const B5=e=>{switch(e){case"OK":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"LOW":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EXPIRED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"EXPIRING":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},N5=(e,t)=>{switch(e){case"OK":return t.ok;case"LOW":return t.low;case"EXPIRED":return t.expired;case"EXPIRING":return t.expiring;default:return e}};function IU(){const{language:e}=Nt(),[t,r]=_.useState(null),[n,a]=_.useState([]),[A,i]=_.useState(!0),[o,l]=_.useState(""),[c,u]=_.useState(""),[h,x]=_.useState(""),[f,b]=_.useState(!1),[p,C]=_.useState(!1),[m,w]=_.useState(!1),[B,D]=_.useState(null),[O,q]=_.useState(null),[F,j]=_.useState(""),I={title:e==="fr"?"Gestion des Stocks":"Stock Management",subtitle:e==="fr"?"Vue d'ensemble de l'inventaire":"Inventory Overview",totalProducts:e==="fr"?"Total Produits":"Total Products",totalValue:e==="fr"?"Valeur Totale":"Total Value",expiringSoon:e==="fr"?"Expire Bientôt":"Expiring Soon",lowStock:e==="fr"?"Stock Faible":"Low Stock",addStock:e==="fr"?"Ajouter Stock":"Add Stock",export:e==="fr"?"Exporter":"Export",search:e==="fr"?"Rechercher...":"Search...",category:e==="fr"?"Catégorie":"Category",status:e==="fr"?"Statut":"Status",allCategories:e==="fr"?"Toutes les catégories":"All Categories",allStatus:e==="fr"?"Tous les statuts":"All Status",product:e==="fr"?"Produit":"Product",code:"Code",stock:"Stock",unit:e==="fr"?"Unité":"Unit",expiry:e==="fr"?"Expiration":"Expiry",location:e==="fr"?"Emplacement":"Location",supplier:e==="fr"?"Fournisseur":"Supplier",actions:"Actions",view:e==="fr"?"Voir":"View",edit:e==="fr"?"Modifier":"Edit",delete:e==="fr"?"Supprimer":"Delete",noData:e==="fr"?"Aucune donnée":"No data available",loading:e==="fr"?"Chargement...":"Loading...",ok:"OK",low:e==="fr"?"FAIBLE":"LOW",expired:e==="fr"?"EXPIRÉ":"EXPIRED",expiring:e==="fr"?"EXPIRE":"EXPIRING"},R=z=>{switch(z){case"AVAILABLE":return"OK";case"LOW_STOCK":return"LOW";case"OUT_OF_STOCK":return"LOW";case"EXPIRED":return"EXPIRED";default:return"OK"}},E=async()=>{try{const z=await xt.getDashboard();r(z)}catch(z){console.error("Error loading dashboard data:",z)}},k=async()=>{try{i(!0);const z=await xt.getProducts({search:F,category:c,status:h}),Ae=(Array.isArray(z)?z:[]).map(he=>{var P;const S=he.stockEntries&&he.stockEntries.length>0?(P=he.stockEntries.filter(J=>J.expiryDate).sort((J,Y)=>new Date(J.expiryDate).getTime()-new Date(Y.expiryDate).getTime())[0])==null?void 0:P.expiryDate:null;return{...he,status:R(he.stockStatus||"AVAILABLE"),earliestExpiry:S}});a(Ae)}catch(z){console.error("Error loading products:",z),a([])}finally{i(!1)}};_.useEffect(()=>{E(),k()},[]),_.useEffect(()=>{const z=setTimeout(()=>{j(o)},500);return()=>clearTimeout(z)},[o]),_.useEffect(()=>{(F!==""||c!==""||h!=="")&&k()},[F,c,h]);const Q=z=>z?new Date(z).toLocaleDateString():"-",K=async()=>{try{const z={search:F,category:c,status:h},te=await xt.exportStockReport(z);if(te&&Array.isArray(te)){const Ae=Object.keys(te[0]).join(","),he=te.map(ne=>Object.values(ne).join(",")),S=[Ae,...he].join(`
`),P=new Blob([S],{type:"text/csv;charset=utf-8;"}),J=URL.createObjectURL(P),Y=document.createElement("a");Y.setAttribute("href",J),Y.setAttribute("download",`stock-report-${new Date().toISOString().split("T")[0]}.csv`),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}else console.error("Invalid response format for export")}catch(z){console.error("Error exporting stock report:",z)}},ie=z=>{const te=n.find(Ae=>Ae.id===z);te&&(D(te),C(!0))},W=z=>{const te=n.find(Ae=>Ae.id===z);te&&(q(te),w(!0))},ee=async z=>{if(window.confirm(e==="fr"?"Êtes-vous sûr de vouloir supprimer ce produit ?":"Are you sure you want to delete this product?"))try{await xt.deleteProduct(z),k()}catch(te){console.error("Error deleting product:",te)}};return A&&!t?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:I.loading})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:I.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:I.subtitle})]}),t&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(hi,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:I.totalProducts}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalProducts})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Us,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:I.totalValue}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.totalValue.toFixed(2)," dh"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ta,{className:"h-8 w-8 text-orange-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:I.expiringSoon}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.expiringSoon})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Es,{className:"h-8 w-8 text-yellow-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:I.lowStock}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.lowStock})]})]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:I.search,value:o,onChange:z=>l(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("select",{value:c,onChange:z=>u(z.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:s.jsx("option",{value:"",children:I.allCategories})}),s.jsxs("select",{value:h,onChange:z=>x(z.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:I.allStatus}),s.jsx("option",{value:"OK",children:I.ok}),s.jsx("option",{value:"LOW",children:I.low}),s.jsx("option",{value:"EXPIRED",children:I.expired}),s.jsx("option",{value:"EXPIRING",children:I.expiring})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(kr,{size:16,className:"mr-2"}),I.addStock]}),s.jsxs("button",{onClick:K,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[s.jsx(Si,{size:16,className:"mr-2"}),I.export]})]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[f&&s.jsx(LU,{onClose:()=>b(!1),onSuccess:()=>{E(),k(),b(!1)}}),p&&B&&s.jsx(PU,{product:B,onClose:()=>{C(!1),D(null)},t:I}),m&&O&&s.jsx(DU,{product:O,onClose:()=>{w(!1),q(null)},onSuccess:()=>{k(),w(!1),q(null)},t:I}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:I.product}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:I.code}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:I.stock}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:I.unit}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:I.expiry}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:I.location}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:I.supplier}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:I.status}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:I.actions})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:A?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-8 text-center",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:I.loading})]})})}):n.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:I.noData})}):n.map(z=>{var te;return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.name}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:z.category})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:z.code}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.currentStock}),z.currentStock<=z.minStock&&s.jsx(sl,{className:"ml-2 h-4 w-4 text-red-500"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:z.unit}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Q(z.earliestExpiry)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:((te=z.supplier)==null?void 0:te.name)||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B5(z.status)}`,children:N5(z.status,I)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>ie(z.id),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:s.jsx(Ls,{size:16})}),s.jsx("button",{onClick:()=>W(z.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:s.jsx(DA,{size:16})}),s.jsx("button",{onClick:()=>ee(z.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(TA,{size:16})})]})})]},z.id)})})]})})]})]})}function PU({product:e,onClose:t,t:r}){var n;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.viewProduct||"View Product"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:20})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.code}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.code})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.product}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.category}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.category})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.stock}),s.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.currentStock," ",e.unit]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.expiry}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.earliestExpiry?new Date(e.earliestExpiry).toLocaleDateString():"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.status}),s.jsx("p",{children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B5(e.status)}`,children:N5(e.status,r)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.supplier||"Supplier"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:((n=e.supplier)==null?void 0:n.name)||"-"})]})]}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",children:r.close||"Close"})})]})})}function DU({product:e,onClose:t,onSuccess:r,t:n}){const[a,A]=_.useState({name:e.name,code:e.code,category:e.category,unit:e.unit,minStock:e.minStock||0,maxStock:e.maxStock||0}),[i,o]=_.useState(!1),[l,c]=_.useState({}),u=(f,b)=>{A(p=>({...p,[f]:b})),l[f]&&c(p=>({...p,[f]:""}))},h=()=>{const f={};return a.name.trim()||(f.name=n.required||"This field is required"),a.code.trim()||(f.code=n.required||"This field is required"),a.category.trim()||(f.category=n.required||"This field is required"),a.unit.trim()||(f.unit=n.required||"This field is required"),a.minStock<0&&(f.minStock=n.invalidMinStock||"Minimum stock cannot be negative"),a.maxStock<a.minStock&&(f.maxStock=n.invalidMaxStock||"Maximum stock must be greater than minimum stock"),c(f),Object.keys(f).length===0},x=async f=>{if(f.preventDefault(),!!h()){o(!0);try{await xt.updateProduct(e.id,a),r()}catch(b){console.error("Error updating product:",b)}finally{o(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n.editProduct||"Edit Product"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:20})})]}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[n.code," *"]}),s.jsx("input",{type:"text",value:a.code,onChange:f=>u("code",f.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.code?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.code})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[n.product," *"]}),s.jsx("input",{type:"text",value:a.name,onChange:f=>u("name",f.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.name?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[n.category," *"]}),s.jsx("input",{type:"text",value:a.category,onChange:f=>u("category",f.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.category?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.category&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[n.unit," *"]}),s.jsx("input",{type:"text",value:a.unit,onChange:f=>u("unit",f.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.unit?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.unit&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.unit})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n.minStock||"Min Stock"}),s.jsx("input",{type:"number",min:"0",value:a.minStock,onChange:f=>u("minStock",parseInt(f.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.minStock?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.minStock&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.minStock})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n.maxStock||"Max Stock"}),s.jsx("input",{type:"number",min:"0",value:a.maxStock,onChange:f=>u("maxStock",parseInt(f.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.maxStock?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.maxStock&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.maxStock})]})]}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:n.cancel||"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.loading||"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{size:16,className:"mr-2"}),n.save||"Save"]})})]})]})]})})}function TU(){const{user:e,language:t}=Nt(),r=Ta(),[n,a]=_.useState({productId:"",quantity:0,lotNumber:"",expiryDate:"",location:"",unitCost:0,notes:"",receivedBy:(e==null?void 0:e.name)||""}),[A,i]=_.useState([]),[o,l]=_.useState([]),[c,u]=_.useState(!1),[h,x]=_.useState({}),[f,b]=_.useState(!1);_.useState(!1);const[p,C]=_.useState(!1),[m,w]=_.useState(""),[B,D]=_.useState(""),[O,q]=_.useState({name:"",code:"",category:"",unit:"",minQuantity:0,maxQuantity:1e3,description:"",hasExpiryDate:!0}),[F,j]=_.useState({}),[I,R]=_.useState(!1),E=["Test Strips","Reagents","Equipment","Consumables","Chemicals","Disposables","Instruments","Supplies","Other"],k=["Strips","Pieces","Units","Bottles","Boxes","Tubes","Kits","Packs","Milliliters","Grams","Other"],Q={title:t==="fr"?"Ajouter Stock":"Add Stock Entry",subtitle:t==="fr"?"Enregistrer un nouvel arrivage":"Record new stock arrival",product:t==="fr"?"Produit":"Product",selectProduct:t==="fr"?"Sélectionner un produit":"Select a product",searchProduct:t==="fr"?"Rechercher un produit...":"Search for a product...",quantity:t==="fr"?"Quantité":"Quantity",lotNumber:t==="fr"?"Numéro de lot":"Lot Number",expiryDate:t==="fr"?"Date d'expiration":"Expiry Date",location:t==="fr"?"Emplacement":"Location",unitCost:t==="fr"?"Coût unitaire":"Unit Cost",notes:"Notes",receivedBy:t==="fr"?"Reçu par":"Received By",supplier:t==="fr"?"Fournisseur":"Supplier",selectSupplier:t==="fr"?"Sélectionner un fournisseur":"Select a supplier",searchSupplier:t==="fr"?"Rechercher un fournisseur...":"Search for a supplier...",addNewProduct:t==="fr"?"Ajouter un nouveau produit":"Add New Product",addNewSupplier:t==="fr"?"Ajouter un nouveau fournisseur":"Add New Supplier",save:t==="fr"?"Enregistrer":"Save",cancel:t==="fr"?"Annuler":"Cancel",back:t==="fr"?"Retour":"Back",required:t==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:t==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",invalidCost:t==="fr"?"Le coût doit être positif":"Cost must be positive",invalidDate:t==="fr"?"La date d'expiration doit être dans le futur":"Expiry date must be in the future",success:t==="fr"?"Stock ajouté avec succès":"Stock added successfully",error:t==="fr"?"Erreur lors de l'ajout du stock":"Error adding stock",loading:t==="fr"?"Enregistrement...":"Saving...",noProducts:t==="fr"?"Aucun produit trouvé":"No products found",noSuppliers:t==="fr"?"Aucun fournisseur trouvé":"No suppliers found",createProduct:t==="fr"?"Créer un produit":"Create Product",createSupplier:t==="fr"?"Créer un fournisseur":"Create Supplier",productName:t==="fr"?"Nom du produit":"Product Name",productCode:t==="fr"?"Code du produit":"Product Code",category:t==="fr"?"Catégorie":"Category",unit:t==="fr"?"Unité":"Unit",minQuantity:t==="fr"?"Quantité minimale":"Minimum Quantity",maxQuantity:t==="fr"?"Quantité maximale":"Maximum Quantity",description:"Description",supplierName:t==="fr"?"Nom du fournisseur":"Supplier Name",supplierCode:t==="fr"?"Code du fournisseur":"Supplier Code",email:"Email",phone:t==="fr"?"Téléphone":"Phone",address:t==="fr"?"Adresse":"Address",contactPerson:t==="fr"?"Personne de contact":"Contact Person",hasExpiryDate:t==="fr"?"A une date d'expiration":"Has expiry date",expiryDateRequired:t==="fr"?"Date d'expiration requise":"Expiry date required",createNewProduct:t==="fr"?"Créer un nouveau produit":"Create New Product",productCreated:t==="fr"?"Produit créé avec succès":"Product created successfully",productCreationError:t==="fr"?"Erreur lors de la création du produit":"Error creating product",creatingProduct:t==="fr"?"Création du produit...":"Creating product...",productNameRequired:t==="fr"?"Le nom du produit est requis":"Product name is required",productCodeRequired:t==="fr"?"Le code du produit est requis":"Product code is required",categoryRequired:t==="fr"?"La catégorie est requise":"Category is required",unitRequired:t==="fr"?"L'unité est requise":"Unit is required",codeExists:t==="fr"?"Ce code de produit existe déjà":"This product code already exists",nameExists:t==="fr"?"Ce nom de produit existe déjà":"This product name already exists",expiryDateHelp:t==="fr"?"Date d'expiration requise lors de l'ajout de stock":"Expiry date will be required when adding stock",noExpiryDateHelp:t==="fr"?"Aucune date d'expiration requise pour ce produit":"No expiry date required for this product"};_.useEffect(()=>{K(),ie()},[]);const K=async()=>{try{const P=await xt.getProducts({limit:100});i(Array.isArray(P)?P:[])}catch(P){console.error("Error loading products:",P)}},ie=async()=>{try{const P=await xt.getSuppliers({limit:100});l(Array.isArray(P)?P:[])}catch(P){console.error("Error loading suppliers:",P)}},W=()=>{const P={};n.productId||(P.productId=Q.required),n.quantity<=0&&(P.quantity=Q.invalidQuantity),n.lotNumber.trim()||(P.lotNumber=Q.required);const J=A.find(Y=>Y.id===n.productId);return J&&J.hasExpiryDate&&!n.expiryDate?P.expiryDate=Q.expiryDateRequired:n.expiryDate&&new Date(n.expiryDate)<=new Date&&(P.expiryDate=Q.invalidDate),n.location.trim()||(P.location=Q.required),n.unitCost<0&&(P.unitCost=Q.invalidCost),x(P),Object.keys(P).length===0},ee=()=>{const P={};return O.name.trim()||(P.name=Q.productNameRequired),O.code.trim()||(P.code=Q.productCodeRequired),O.category.trim()||(P.category=Q.categoryRequired),O.unit.trim()||(P.unit=Q.unitRequired),A.some(J=>J.code.toLowerCase()===O.code.toLowerCase())&&(P.code=Q.codeExists),A.some(J=>J.name.toLowerCase()===O.name.toLowerCase())&&(P.name=Q.nameExists),j(P),Object.keys(P).length===0},z=async P=>{if(P.preventDefault(),!!W()){u(!0);try{await xt.addStock(n),alert(Q.success),r("/stock/dashboard")}catch(J){console.error("Error adding stock:",J),alert(Q.error)}finally{u(!1)}}},te=async()=>{if(ee()){R(!0);try{const P=await xt.createProduct(O);await K(),a(J=>({...J,productId:P.id})),C(!1),q({name:"",code:"",category:"",unit:"",minQuantity:0,maxQuantity:1e3,description:"",hasExpiryDate:!0}),alert(Q.productCreated)}catch(P){console.error("Error creating product:",P),alert(Q.productCreationError)}finally{R(!1)}}},Ae=(P,J)=>{a(Y=>({...Y,[P]:J})),h[P]&&x(Y=>({...Y,[P]:""}))},he=A.filter(P=>P.name.toLowerCase().includes(m.toLowerCase())||P.code.toLowerCase().includes(m.toLowerCase()));o.filter(P=>P.name.toLowerCase().includes(B.toLowerCase()));const S=A.find(P=>P.id===n.productId);return o.find(P=>P.id===n.productId),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>r("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[s.jsx(nl,{size:20,className:"mr-2"}),Q.back]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Q.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:Q.subtitle})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("form",{onSubmit:z,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[Q.product," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:(S==null?void 0:S.name)||"",onClick:()=>b(!0),readOnly:!0,placeholder:Q.selectProduct,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),s.jsx(jr,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),h.productId&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:h.productId})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[Q.quantity," *"]}),s.jsx("input",{type:"number",value:n.quantity,onChange:P=>Ae("quantity",parseInt(P.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),h.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:h.quantity})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[Q.lotNumber," *"]}),s.jsx("input",{type:"text",value:n.lotNumber,onChange:P=>Ae("lotNumber",P.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.lotNumber?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"LOT-001"}),h.lotNumber&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:h.lotNumber})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(S==null?void 0:S.hasExpiryDate)!==!1&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[Q.expiryDate," ",(S==null?void 0:S.hasExpiryDate)&&"*"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:n.expiryDate,onChange:P=>Ae("expiryDate",P.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.expiryDate?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),s.jsx(Sa,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),h.expiryDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:h.expiryDate})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[Q.location," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:n.location,onChange:P=>Ae("location",P.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.location?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Main Storage"}),s.jsx(Bi,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),h.location&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:h.location})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Q.unitCost}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",step:"0.01",value:n.unitCost,onChange:P=>Ae("unitCost",parseFloat(P.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${h.unitCost?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0.00"}),s.jsx(Us,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),h.unitCost&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:h.unitCost})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Q.receivedBy}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:n.receivedBy,onChange:P=>Ae("receivedBy",P.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),s.jsx(dn,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Q.notes}),s.jsx("textarea",{value:n.notes,onChange:P=>Ae("notes",P.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:()=>r("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:Q.cancel}),s.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),Q.loading]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{size:16,className:"mr-2"}),Q.save]})})]})]})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Q.selectProduct}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:20})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("input",{type:"text",placeholder:Q.searchProduct,value:m,onChange:P=>w(P.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:he.length===0?s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:Q.noProducts}):he.map(P=>s.jsxs("button",{onClick:()=>{a(J=>({...J,productId:P.id})),w(P.name),b(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:P.name}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[P.code," • ",P.category," • ",P.unit]})]},P.id))}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("button",{onClick:()=>{b(!1),C(!0)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[s.jsx(kr,{size:16,className:"mr-2"}),Q.addNewProduct]})})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Q.createNewProduct}),s.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:20})})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("form",{onSubmit:P=>{P.preventDefault(),te()},className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[Q.productName," *"]}),s.jsx("input",{type:"text",value:O.name,onChange:P=>q(J=>({...J,name:P.target.value})),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${F.name?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Glucose Test Strips"}),F.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:F.name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[Q.productCode," *"]}),s.jsx("input",{type:"text",value:O.code,onChange:P=>q(J=>({...J,code:P.target.value})),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${F.code?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"GLU-001"}),F.code&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:F.code})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[Q.category," *"]}),s.jsxs("select",{value:O.category,onChange:P=>q(J=>({...J,category:P.target.value})),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${F.category?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[s.jsx("option",{value:"",children:t==="fr"?"Sélectionner une catégorie":"Select a category"}),E.map(P=>s.jsx("option",{value:P,children:P},P))]}),F.category&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:F.category})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[Q.unit," *"]}),s.jsxs("select",{value:O.unit,onChange:P=>q(J=>({...J,unit:P.target.value})),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${F.unit?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[s.jsx("option",{value:"",children:t==="fr"?"Sélectionner une unité":"Select a unit"}),k.map(P=>s.jsx("option",{value:P,children:P},P))]}),F.unit&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:F.unit})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Q.minQuantity}),s.jsx("input",{type:"number",value:O.minQuantity,onChange:P=>q(J=>({...J,minQuantity:parseInt(P.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Q.maxQuantity}),s.jsx("input",{type:"number",value:O.maxQuantity,onChange:P=>q(J=>({...J,maxQuantity:parseInt(P.target.value)||1e3})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700",children:[s.jsx("input",{type:"checkbox",id:"hasExpiryDate",checked:O.hasExpiryDate,onChange:P=>q(J=>({...J,hasExpiryDate:P.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"}),s.jsx("label",{htmlFor:"hasExpiryDate",className:"text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer flex-1",children:Q.hasExpiryDate}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:O.hasExpiryDate?Q.expiryDateHelp:Q.noExpiryDateHelp})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Q.description}),s.jsx("textarea",{value:O.description,onChange:P=>q(J=>({...J,description:P.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Product description..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:Q.cancel}),s.jsx("button",{type:"submit",disabled:I,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:I?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),Q.creatingProduct]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{size:16,className:"mr-2"}),Q.save]})})]})]})})]})})]})}function RU(){const{user:e,language:t}=Nt(),r=Ta(),[n,a]=_.useState({productId:"",quantity:0,usedBy:(e==null?void 0:e.name)||"",department:"",purpose:"",notes:""}),[A,i]=_.useState([]),[o,l]=_.useState(!1),[c,u]=_.useState({}),[h,x]=_.useState(!1),[f,b]=_.useState(""),[p,C]=_.useState(null),m={title:t==="fr"?"Utiliser Stock":"Use Stock",subtitle:t==="fr"?"Enregistrer l'utilisation de stock":"Record stock usage",product:t==="fr"?"Produit":"Product",selectProduct:t==="fr"?"Sélectionner un produit":"Select a product",searchProduct:t==="fr"?"Rechercher un produit...":"Search for a product...",quantity:t==="fr"?"Quantité utilisée":"Quantity Used",usedBy:t==="fr"?"Utilisé par":"Used By",department:t==="fr"?"Département":"Department",purpose:t==="fr"?"Objectif":"Purpose",notes:"Notes",currentStock:t==="fr"?"Stock actuel":"Current Stock",availableStock:t==="fr"?"Stock disponible":"Available Stock",save:t==="fr"?"Enregistrer":"Save",cancel:t==="fr"?"Annuler":"Cancel",back:t==="fr"?"Retour":"Back",required:t==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:t==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",insufficientStock:t==="fr"?"Stock insuffisant":"Insufficient stock",success:t==="fr"?"Utilisation enregistrée avec succès":"Usage recorded successfully",error:t==="fr"?"Erreur lors de l'enregistrement":"Error recording usage",loading:t==="fr"?"Enregistrement...":"Saving...",noProducts:t==="fr"?"Aucun produit trouvé":"No products found",departments:{lab:t==="fr"?"Laboratoire":"Laboratory",research:t==="fr"?"Recherche":"Research",quality:t==="fr"?"Contrôle Qualité":"Quality Control",maintenance:"Maintenance",other:t==="fr"?"Autre":"Other"},purposes:{testing:t==="fr"?"Tests":"Testing",calibration:t==="fr"?"Étalonnage":"Calibration",maintenance:"Maintenance",research:t==="fr"?"Recherche":"Research",other:t==="fr"?"Autre":"Other"}};_.useEffect(()=>{w()},[]);const w=async()=>{try{const F=await xt.getProducts({limit:100});i(Array.isArray(F)?F:[])}catch(F){console.error("Error loading products:",F)}},B=()=>{const F={};return n.productId||(F.productId=m.required),n.quantity<=0?F.quantity=m.invalidQuantity:p&&n.quantity>p.currentStock&&(F.quantity=m.insufficientStock),n.department.trim()||(F.department=m.required),n.purpose.trim()||(F.purpose=m.required),u(F),Object.keys(F).length===0},D=async F=>{if(F.preventDefault(),!!B()){l(!0);try{await xt.useStock(n),alert(m.success),r("/stock/dashboard")}catch(j){console.error("Error using stock:",j),alert(m.error)}finally{l(!1)}}},O=(F,j)=>{a(I=>({...I,[F]:j})),c[F]&&u(I=>({...I,[F]:""}))},q=A.filter(F=>F.name.toLowerCase().includes(f.toLowerCase())||F.code.toLowerCase().includes(f.toLowerCase()));return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>r("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[s.jsx(nl,{size:20,className:"mr-2"}),m.back]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:m.subtitle})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("form",{onSubmit:D,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.product," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:(p==null?void 0:p.name)||"",onClick:()=>x(!0),readOnly:!0,placeholder:m.selectProduct,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),s.jsx(jr,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),c.productId&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.productId})]}),p&&s.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[m.currentStock,":"]}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[p.currentStock," ",p.unit]})]})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.quantity," *"]}),s.jsx("input",{type:"number",value:n.quantity,onChange:F=>O("quantity",parseInt(F.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),c.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.quantity})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.department," *"]}),s.jsxs("select",{value:n.department,onChange:F=>O("department",F.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.department?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[s.jsx("option",{value:"",children:m.selectProduct}),s.jsx("option",{value:m.departments.lab,children:m.departments.lab}),s.jsx("option",{value:m.departments.research,children:m.departments.research}),s.jsx("option",{value:m.departments.quality,children:m.departments.quality}),s.jsx("option",{value:m.departments.maintenance,children:m.departments.maintenance}),s.jsx("option",{value:m.departments.other,children:m.departments.other})]}),c.department&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.department})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.purpose," *"]}),s.jsxs("select",{value:n.purpose,onChange:F=>O("purpose",F.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.purpose?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[s.jsx("option",{value:"",children:m.selectProduct}),s.jsx("option",{value:m.purposes.testing,children:m.purposes.testing}),s.jsx("option",{value:m.purposes.calibration,children:m.purposes.calibration}),s.jsx("option",{value:m.purposes.maintenance,children:m.purposes.maintenance}),s.jsx("option",{value:m.purposes.research,children:m.purposes.research}),s.jsx("option",{value:m.purposes.other,children:m.purposes.other})]}),c.purpose&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.purpose})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.usedBy}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:n.usedBy,onChange:F=>O("usedBy",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),s.jsx(dn,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.notes}),s.jsx("textarea",{value:n.notes,onChange:F=>O("notes",F.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:()=>r("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:m.cancel}),s.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),m.loading]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{size:16,className:"mr-2"}),m.save]})})]})]})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.selectProduct}),s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:20})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("input",{type:"text",placeholder:m.searchProduct,value:f,onChange:F=>b(F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:q.length===0?s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:m.noProducts}):q.map(F=>s.jsxs("button",{onClick:()=>{a(j=>({...j,productId:F.id})),C(F),b(F.name),x(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:F.name}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[F.code," • ",F.category," • ",F.unit]}),s.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[m.currentStock,": ",F.currentStock]})]},F.id))})})]})})]})}function HU({onClose:e,onSuccess:t}){const{user:r,language:n}=Nt(),[a,A]=_.useState({productId:"",fromLocation:"",toLocation:"",quantity:0,transferredBy:(r==null?void 0:r.name)||"",notes:""}),[i,o]=_.useState([]),[l,c]=_.useState(!1),[u,h]=_.useState({}),[x,f]=_.useState(!1),[b,p]=_.useState(""),[C,m]=_.useState(null),w={title:n==="fr"?"Transférer Stock":"Transfer Stock",subtitle:n==="fr"?"Déplacer du stock entre emplacements":"Move stock between locations",product:n==="fr"?"Produit":"Product",selectProduct:n==="fr"?"Sélectionner un produit":"Select a product",searchProduct:n==="fr"?"Rechercher un produit...":"Search for a product...",fromLocation:n==="fr"?"Emplacement source":"Source Location",toLocation:n==="fr"?"Emplacement destination":"Destination Location",quantity:n==="fr"?"Quantité à transférer":"Quantity to Transfer",transferredBy:n==="fr"?"Transféré par":"Transferred By",notes:"Notes",currentStock:n==="fr"?"Stock actuel":"Current Stock",save:n==="fr"?"Transférer":"Transfer",cancel:n==="fr"?"Annuler":"Cancel",required:n==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:n==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",insufficientStock:n==="fr"?"Stock insuffisant à l'emplacement source":"Insufficient stock at source location",sameLocation:n==="fr"?"Les emplacements source et destination doivent être différents":"Source and destination locations must be different",success:n==="fr"?"Transfert effectué avec succès":"Transfer completed successfully",error:n==="fr"?"Erreur lors du transfert":"Error during transfer",loading:n==="fr"?"Transfert en cours...":"Transferring...",noProducts:n==="fr"?"Aucun produit trouvé":"No products found",commonLocations:{fridge:n==="fr"?"Réfrigérateur":"Fridge",freezer:n==="fr"?"Congélateur":"Freezer",cabinet1:n==="fr"?"Armoire 1":"Cabinet 1",cabinet2:n==="fr"?"Armoire 2":"Cabinet 2",cabinet3:n==="fr"?"Armoire 3":"Cabinet 3",shelf1:n==="fr"?"Étagère 1":"Shelf 1",shelf2:n==="fr"?"Étagère 2":"Shelf 2",other:n==="fr"?"Autre":"Other"}};_.useEffect(()=>{B()},[]);const B=async()=>{try{const j=await xt.getProducts({limit:100});o(j.products||[])}catch(j){console.error("Error loading products:",j)}},D=()=>{const j={};return a.productId||(j.productId=w.required),a.fromLocation||(j.fromLocation=w.required),a.toLocation||(j.toLocation=w.required),a.fromLocation===a.toLocation&&(j.toLocation=w.sameLocation),(!a.quantity||a.quantity<=0)&&(j.quantity=w.invalidQuantity),a.transferredBy||(j.transferredBy=w.required),C&&a.quantity>C.currentStock&&(j.quantity=w.insufficientStock),h(j),Object.keys(j).length===0},O=async j=>{if(j.preventDefault(),!!D()){c(!0);try{await xt.transferStock(a),t==null||t(),e()}catch(I){console.error("Error transferring stock:",I),alert(w.error)}finally{c(!1)}}},q=(j,I)=>{A(R=>({...R,[j]:I})),u[j]&&h(R=>({...R,[j]:""}))},F=i.filter(j=>j.name.toLowerCase().includes(b.toLowerCase())||j.code.toLowerCase().includes(b.toLowerCase())||j.category.toLowerCase().includes(b.toLowerCase()));return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:w.subtitle})]}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:24})})]}),s.jsxs("form",{onSubmit:O,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[w.product," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:w.selectProduct,value:b,onChange:j=>p(j.target.value),onClick:()=>f(!0),readOnly:!0,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),s.jsx(jr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),u.productId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.productId}),C&&s.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:[w.currentStock,": ",C.currentStock," ",C.unit]}),C.currentStock<=0&&s.jsx(Es,{className:"h-4 w-4 text-red-500"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[w.fromLocation," *"]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:a.fromLocation,onChange:j=>q("fromLocation",j.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.fromLocation?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[s.jsx("option",{value:"",children:w.commonLocations.other}),s.jsx("option",{value:"fridge",children:w.commonLocations.fridge}),s.jsx("option",{value:"freezer",children:w.commonLocations.freezer}),s.jsx("option",{value:"cabinet1",children:w.commonLocations.cabinet1}),s.jsx("option",{value:"cabinet2",children:w.commonLocations.cabinet2}),s.jsx("option",{value:"cabinet3",children:w.commonLocations.cabinet3}),s.jsx("option",{value:"shelf1",children:w.commonLocations.shelf1}),s.jsx("option",{value:"shelf2",children:w.commonLocations.shelf2})]}),s.jsx(Bi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 pointer-events-none"})]}),u.fromLocation&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.fromLocation})]}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(X0,{className:"h-6 w-6 text-gray-400"})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[w.toLocation," *"]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:a.toLocation,onChange:j=>q("toLocation",j.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.toLocation?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[s.jsx("option",{value:"",children:w.commonLocations.other}),s.jsx("option",{value:"fridge",children:w.commonLocations.fridge}),s.jsx("option",{value:"freezer",children:w.commonLocations.freezer}),s.jsx("option",{value:"cabinet1",children:w.commonLocations.cabinet1}),s.jsx("option",{value:"cabinet2",children:w.commonLocations.cabinet2}),s.jsx("option",{value:"cabinet3",children:w.commonLocations.cabinet3}),s.jsx("option",{value:"shelf1",children:w.commonLocations.shelf1}),s.jsx("option",{value:"shelf2",children:w.commonLocations.shelf2})]}),s.jsx(Bi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 pointer-events-none"})]}),u.toLocation&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.toLocation})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[w.quantity," *"]}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.quantity,onChange:j=>q("quantity",parseFloat(j.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),u.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.quantity})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[w.transferredBy," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:a.transferredBy,onChange:j=>q("transferredBy",j.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.transferredBy?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),s.jsx(dn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),u.transferredBy&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.transferredBy})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.notes}),s.jsx("textarea",{value:a.notes,onChange:j=>q("notes",j.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes about the transfer..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:w.cancel}),s.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),w.loading]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{size:16,className:"mr-2"}),w.save]})})]})]})]}),x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:w.selectProduct}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:20})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("input",{type:"text",placeholder:w.searchProduct,value:b,onChange:j=>p(j.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:F.length===0?s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:w.noProducts}):F.map(j=>s.jsxs("button",{onClick:()=>{A(I=>({...I,productId:j.id})),p(j.name),m(j),f(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:j.name}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[j.code," • ",j.category," • ",j.unit]}),s.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:[w.currentStock,": ",j.currentStock," ",j.unit]})]},j.id))})})]})})]})}function OU(){const{user:e,language:t}=Nt(),r=Ta(),[n,a]=_.useState({productId:"",newQuantity:0,reason:"",adjustedBy:(e==null?void 0:e.name)||"",notes:""}),[A,i]=_.useState([]),[o,l]=_.useState(!1),[c,u]=_.useState({}),[h,x]=_.useState(!1),[f,b]=_.useState(""),[p,C]=_.useState(null),m={title:t==="fr"?"Ajuster Inventaire":"Adjust Inventory",subtitle:t==="fr"?"Corriger manuellement les niveaux de stock":"Manually correct stock levels",product:t==="fr"?"Produit":"Product",selectProduct:t==="fr"?"Sélectionner un produit":"Select a product",searchProduct:t==="fr"?"Rechercher un produit...":"Search for a product...",currentQuantity:t==="fr"?"Quantité actuelle":"Current Quantity",newQuantity:t==="fr"?"Nouvelle quantité":"New Quantity",difference:t==="fr"?"Différence":"Difference",reason:t==="fr"?"Raison de l'ajustement":"Adjustment Reason",adjustedBy:t==="fr"?"Ajusté par":"Adjusted By",notes:"Notes",save:t==="fr"?"Ajuster":"Adjust",cancel:t==="fr"?"Annuler":"Cancel",back:t==="fr"?"Retour":"Back",required:t==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:t==="fr"?"La quantité doit être positive":"Quantity must be positive",invalidReason:t==="fr"?"La raison doit contenir au moins 5 caractères":"Reason must be at least 5 characters",success:t==="fr"?"Ajustement effectué avec succès":"Adjustment completed successfully",error:t==="fr"?"Erreur lors de l'ajustement":"Error during adjustment",loading:t==="fr"?"Ajustement en cours...":"Adjusting...",noProducts:t==="fr"?"Aucun produit trouvé":"No products found",reasons:{damage:t==="fr"?"Produit endommagé":"Damaged product",loss:t==="fr"?"Perte de stock":"Stock loss",found:t==="fr"?"Stock retrouvé":"Stock found",correction:t==="fr"?"Correction d'erreur":"Error correction",audit:t==="fr"?"Audit d'inventaire":"Inventory audit",other:t==="fr"?"Autre":"Other"}};_.useEffect(()=>{w()},[]);const w=async()=>{try{const R=await xt.getProducts({limit:100});i(Array.isArray(R)?R:[])}catch(R){console.error("Error loading products:",R)}},B=()=>{const R={};return n.productId||(R.productId=m.required),n.newQuantity<0&&(R.newQuantity=m.invalidQuantity),(!n.reason.trim()||n.reason.trim().length<5)&&(R.reason=m.invalidReason),u(R),Object.keys(R).length===0},D=async R=>{if(R.preventDefault(),!!B()){l(!0);try{await xt.adjustInventory(n),alert(m.success),r("/stock/dashboard")}catch(E){console.error("Error adjusting inventory:",E),alert(m.error)}finally{l(!1)}}},O=(R,E)=>{a(k=>({...k,[R]:E})),c[R]&&u(k=>({...k,[R]:""}))},q=()=>p?n.newQuantity-p.currentStock:0,F=()=>{const R=q();return R>0?"text-green-600 dark:text-green-400":R<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"},j=()=>{const R=q();return R>0?s.jsx(al,{size:16,className:"text-green-600 dark:text-green-400"}):R<0?s.jsx(sl,{size:16,className:"text-red-600 dark:text-red-400"}):null},I=A.filter(R=>R.name.toLowerCase().includes(f.toLowerCase())||R.code.toLowerCase().includes(f.toLowerCase()));return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>r("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[s.jsx(nl,{size:20,className:"mr-2"}),m.back]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:m.subtitle})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("form",{onSubmit:D,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.product," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:(p==null?void 0:p.name)||"",onClick:()=>x(!0),readOnly:!0,placeholder:m.selectProduct,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),s.jsx(jr,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),c.productId&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.productId})]}),p&&s.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[m.currentQuantity,":"]}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[p.currentStock," ",p.unit]})]})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.newQuantity," *"]}),s.jsx("input",{type:"number",value:n.newQuantity,onChange:R=>O("newQuantity",parseInt(R.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.newQuantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),c.newQuantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.newQuantity})]}),p&&s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[m.difference,":"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[j(),s.jsxs("span",{className:`text-lg font-semibold ${F()}`,children:[q()>0?"+":"",q()," ",p.unit]})]})]})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.reason," *"]}),s.jsxs("select",{value:n.reason,onChange:R=>O("reason",R.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.reason?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[s.jsx("option",{value:"",children:m.selectProduct}),s.jsx("option",{value:m.reasons.damage,children:m.reasons.damage}),s.jsx("option",{value:m.reasons.loss,children:m.reasons.loss}),s.jsx("option",{value:m.reasons.found,children:m.reasons.found}),s.jsx("option",{value:m.reasons.correction,children:m.reasons.correction}),s.jsx("option",{value:m.reasons.audit,children:m.reasons.audit}),s.jsx("option",{value:m.reasons.other,children:m.reasons.other})]}),c.reason&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.reason})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.adjustedBy}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:n.adjustedBy,onChange:R=>O("adjustedBy",R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),s.jsx(dn,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.notes}),s.jsx("textarea",{value:n.notes,onChange:R=>O("notes",R.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:()=>r("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:m.cancel}),s.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),m.loading]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{size:16,className:"mr-2"}),m.save]})})]})]})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.selectProduct}),s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(wt,{size:20})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("input",{type:"text",placeholder:m.searchProduct,value:f,onChange:R=>b(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:I.length===0?s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:m.noProducts}):I.map(R=>s.jsxs("button",{onClick:()=>{a(E=>({...E,productId:R.id})),C(R),b(R.name),x(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:R.name}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[R.code," • ",R.category," • ",R.unit]}),s.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[m.currentQuantity,": ",R.currentStock]})]},R.id))})})]})})]})}function MU(){const{language:e}=Nt(),[t,r]=_.useState([]),[n,a]=_.useState([]),[A,i]=_.useState(""),[o,l]=_.useState("all"),[c,u]=_.useState(!0),[h,x]=_.useState(!1),[f,b]=_.useState(null),[p,C]=_.useState(null),m={fr:{title:"Gestion des Fournisseurs",subtitle:"Gérez vos fournisseurs et partenaires",addSupplier:"Ajouter Fournisseur",editSupplier:"Modifier Fournisseur",viewSupplier:"Détails Fournisseur",search:"Rechercher...",filter:"Filtrer par statut",all:"Tous",active:"Actif",inactive:"Inactif",code:"Code",name:"Nom",email:"Email",phone:"Téléphone",address:"Adresse",contactPerson:"Personne de contact",status:"Statut",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce fournisseur ?",success:"Fournisseur enregistré avec succès",error:"Erreur lors de l'enregistrement",noSuppliers:"Aucun fournisseur trouvé",totalSuppliers:"Total Fournisseurs",activeSuppliers:"Fournisseurs Actifs",recentSuppliers:"Fournisseurs Récents"},en:{title:"Suppliers Management",subtitle:"Manage your suppliers and partners",addSupplier:"Add Supplier",editSupplier:"Edit Supplier",viewSupplier:"View Supplier",search:"Search...",filter:"Filter by status",all:"All",active:"Active",inactive:"Inactive",code:"Code",name:"Name",email:"Email",phone:"Phone",address:"Address",contactPerson:"Contact Person",status:"Status",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Are you sure you want to delete this supplier?",success:"Supplier saved successfully",error:"Error saving supplier",noSuppliers:"No suppliers found",totalSuppliers:"Total Suppliers",activeSuppliers:"Active Suppliers",recentSuppliers:"Recent Suppliers"}}[e];_.useEffect(()=>{w()},[]),_.useEffect(()=>{B()},[t,A,o]);const w=async()=>{try{u(!0);const j=await xt.getSuppliers();r(j)}catch(j){console.error("Error loading suppliers:",j)}finally{u(!1)}},B=()=>{let j=t;A&&(j=j.filter(I=>{var R;return I.name.toLowerCase().includes(A.toLowerCase())||I.code.toLowerCase().includes(A.toLowerCase())||((R=I.email)==null?void 0:R.toLowerCase().includes(A.toLowerCase()))})),o!=="all"&&(j=j.filter(I=>o==="active"?I.isActive:!I.isActive)),a(j)},D=async j=>{try{f?await xt.updateSupplier(f.id,j):await xt.createSupplier(j),await w(),x(!1),b(null),alert(m.success)}catch(I){console.error("Error saving supplier:",I),alert(m.error)}},O=async j=>{if(window.confirm(m.confirmDelete))try{await xt.deleteSupplier(j),await w()}catch(I){console.error("Error deleting supplier:",I),alert(m.error)}},q=t.filter(j=>j.isActive).length,F=t.filter(j=>{const I=new Date(j.createdAt),R=new Date;return R.setDate(R.getDate()-30),I>R}).length;return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:m.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:m.subtitle})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ui,{className:"h-8 w-8 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.totalSuppliers}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ui,{className:"h-8 w-8 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.activeSuppliers}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:q})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ui,{className:"h-8 w-8 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.recentSuppliers}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F})]})]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:A,onChange:j=>i(j.target.value),placeholder:m.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:o,onChange:j=>l(j.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:m.all}),s.jsx("option",{value:"active",children:m.active}),s.jsx("option",{value:"inactive",children:m.inactive})]})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs("button",{onClick:()=>x(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(kr,{size:16,className:"mr-2"}),m.addSupplier]})})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.code}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.name}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.contactPerson}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.email}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.phone}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.status}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.actions})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n.map(j=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:j.code}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:j.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:j.contactPerson||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:j.email||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:j.phone||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:j.isActive?m.active:m.inactive})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>C(j),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:s.jsx(Ls,{size:16})}),s.jsx("button",{onClick:()=>{b(j),x(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:s.jsx(DA,{size:16})}),s.jsx("button",{onClick:()=>O(j.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(TA,{size:16})})]})})]},j.id))})]})}),n.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m.noSuppliers})})]}),h&&s.jsx(_U,{supplier:f,onSave:D,onCancel:()=>{x(!1),b(null)},t:m}),p&&s.jsx(KU,{supplier:p,onClose:()=>C(null),t:m})]})}function _U({supplier:e,onSave:t,onCancel:r,t:n}){const[a,A]=_.useState({name:(e==null?void 0:e.name)||"",code:(e==null?void 0:e.code)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",contactPerson:(e==null?void 0:e.contactPerson)||"",isActive:(e==null?void 0:e.isActive)??!0}),i=o=>{o.preventDefault(),t(a)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e?n.editSupplier:n.addSupplier}),s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.code}),s.jsx("input",{type:"text",value:a.code,onChange:o=>A(l=>({...l,code:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.name}),s.jsx("input",{type:"text",value:a.name,onChange:o=>A(l=>({...l,name:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.contactPerson}),s.jsx("input",{type:"text",value:a.contactPerson,onChange:o=>A(l=>({...l,contactPerson:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.email}),s.jsx("input",{type:"email",value:a.email,onChange:o=>A(l=>({...l,email:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.phone}),s.jsx("input",{type:"tel",value:a.phone,onChange:o=>A(l=>({...l,phone:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.address}),s.jsx("textarea",{value:a.address,onChange:o=>A(l=>({...l,address:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:a.isActive,onChange:o=>A(l=>({...l,isActive:o.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:n.active})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[s.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:n.cancel}),s.jsx("button",{onClick:()=>t(a),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:n.save})]})]})})}function KU({supplier:e,onClose:t,t:r}){return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.viewSupplier}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.code}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.code})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.name}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.contactPerson}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.contactPerson||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.email}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.email||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.phone}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.phone||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.address}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.address||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.status}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:e.isActive?r.active:r.inactive})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:r.cancel})})]})})}function qU(){const{language:e}=Nt(),[t,r]=_.useState([]),[n,a]=_.useState([]),[A,i]=_.useState([]),[o,l]=_.useState([]),[c,u]=_.useState(""),[h,x]=_.useState("all"),[f,b]=_.useState(!0),[p,C]=_.useState(!1),[m,w]=_.useState(null),[B,D]=_.useState(null),O={fr:{title:"Gestion des Commandes",subtitle:"Gérez vos commandes de stock",addOrder:"Nouvelle Commande",editOrder:"Modifier Commande",viewOrder:"Détails Commande",search:"Rechercher...",filter:"Filtrer par statut",all:"Tous",draft:"Brouillon",pending:"En attente",confirmed:"Confirmée",shipped:"Expédiée",delivered:"Livrée",cancelled:"Annulée",orderNumber:"N° Commande",supplier:"Fournisseur",status:"Statut",orderDate:"Date Commande",expectedDate:"Date Livraison",totalAmount:"Montant Total",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Êtes-vous sûr de vouloir supprimer cette commande ?",success:"Commande enregistrée avec succès",error:"Erreur lors de l'enregistrement",noOrders:"Aucune commande trouvée",totalOrders:"Total Commandes",pendingOrders:"Commandes En Attente",totalValue:"Valeur Totale"},en:{title:"Orders Management",subtitle:"Manage your stock orders",addOrder:"New Order",editOrder:"Edit Order",viewOrder:"View Order",search:"Search...",filter:"Filter by status",all:"All",draft:"Draft",pending:"Pending",confirmed:"Confirmed",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",orderNumber:"Order Number",supplier:"Supplier",status:"Status",orderDate:"Order Date",expectedDate:"Expected Date",totalAmount:"Total Amount",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Are you sure you want to delete this order?",success:"Order saved successfully",error:"Error saving order",noOrders:"No orders found",totalOrders:"Total Orders",pendingOrders:"Pending Orders",totalValue:"Total Value"}}[e];_.useEffect(()=>{q()},[]),_.useEffect(()=>{F()},[t,c,h]);const q=async()=>{try{b(!0);const[K,ie,W]=await Promise.all([xt.getOrders(),xt.getSuppliers(),xt.getProducts()]);r(K),i(ie),l(W)}catch(K){console.error("Error loading data:",K)}finally{b(!1)}},F=()=>{let K=t;c&&(K=K.filter(ie=>ie.orderNumber.toLowerCase().includes(c.toLowerCase())||ie.supplier.name.toLowerCase().includes(c.toLowerCase()))),h!=="all"&&(K=K.filter(ie=>ie.status===h.toUpperCase())),a(K)},j=async K=>{try{m?await xt.updateOrder(m.id,K):await xt.createOrder(K),await q(),C(!1),w(null),alert(O.success)}catch(ie){console.error("Error saving order:",ie),alert(O.error)}},I=async K=>{if(window.confirm(O.confirmDelete))try{await xt.deleteOrder(K),await q()}catch(ie){console.error("Error deleting order:",ie),alert(O.error)}},R=K=>{switch(K){case"DRAFT":return s.jsx(ta,{className:"h-4 w-4 text-gray-500"});case"PENDING":return s.jsx(ta,{className:"h-4 w-4 text-yellow-500"});case"CONFIRMED":return s.jsx(Qs,{className:"h-4 w-4 text-blue-500"});case"SHIPPED":return s.jsx(Jb,{className:"h-4 w-4 text-purple-500"});case"DELIVERED":return s.jsx(Qs,{className:"h-4 w-4 text-green-500"});case"CANCELLED":return s.jsx($b,{className:"h-4 w-4 text-red-500"});default:return s.jsx(ta,{className:"h-4 w-4 text-gray-500"})}},E=K=>{switch(K){case"DRAFT":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"CONFIRMED":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"SHIPPED":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"DELIVERED":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"CANCELLED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},k=t.filter(K=>K.status==="PENDING").length,Q=t.reduce((K,ie)=>K+ie.totalAmount,0);return f?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:O.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:O.subtitle})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wb,{className:"h-8 w-8 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:O.totalOrders}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ta,{className:"h-8 w-8 text-yellow-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:O.pendingOrders}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Us,{className:"h-8 w-8 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:O.totalValue}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[Q.toFixed(2)," dh"]})]})]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:c,onChange:K=>u(K.target.value),placeholder:O.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:h,onChange:K=>x(K.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:O.all}),s.jsx("option",{value:"draft",children:O.draft}),s.jsx("option",{value:"pending",children:O.pending}),s.jsx("option",{value:"confirmed",children:O.confirmed}),s.jsx("option",{value:"shipped",children:O.shipped}),s.jsx("option",{value:"delivered",children:O.delivered}),s.jsx("option",{value:"cancelled",children:O.cancelled})]})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs("button",{onClick:()=>C(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(kr,{size:16,className:"mr-2"}),O.addOrder]})})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.orderNumber}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.supplier}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.status}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.orderDate}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.expectedDate}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.totalAmount}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.actions})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n.map(K=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:K.orderNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:K.supplier.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[R(K.status),s.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E(K.status)}`,children:O[K.status.toLowerCase()]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(K.orderDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:K.expectedDate?new Date(K.expectedDate).toLocaleDateString():"-"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:[K.totalAmount.toFixed(2)," dh"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>D(K),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:s.jsx(Ls,{size:16})}),s.jsx("button",{onClick:()=>{w(K),C(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:s.jsx(DA,{size:16})}),s.jsx("button",{onClick:()=>I(K.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(TA,{size:16})})]})})]},K.id))})]})}),n.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:O.noOrders})})]}),p&&s.jsx(zU,{order:m,suppliers:A,products:o,onSave:j,onCancel:()=>{C(!1),w(null)},t:O}),B&&s.jsx(VU,{order:B,onClose:()=>D(null),t:O})]})}function zU({order:e,suppliers:t,products:r,onSave:n,onCancel:a,t:A}){const[i,o]=_.useState({supplierId:(e==null?void 0:e.supplierId)||"",status:(e==null?void 0:e.status)||"DRAFT",expectedDate:e!=null&&e.expectedDate?e.expectedDate.split("T")[0]:"",notes:(e==null?void 0:e.notes)||"",orderItems:(e==null?void 0:e.orderItems)||[]}),[l,c]=_.useState({productId:"",quantity:1,unitPrice:0}),u=()=>{if(l.productId&&l.quantity>0){const f=r.find(p=>p.id===l.productId),b=l.quantity*l.unitPrice;o(p=>({...p,orderItems:[...p.orderItems,{id:Date.now().toString(),productId:l.productId,product:f,quantity:l.quantity,unitPrice:l.unitPrice,totalPrice:b}]})),c({productId:"",quantity:1,unitPrice:0})}},h=f=>{o(b=>({...b,orderItems:b.orderItems.filter((p,C)=>C!==f)}))},x=f=>{f.preventDefault();const b=i.orderItems.reduce((p,C)=>p+C.totalPrice,0);n({...i,totalAmount:b})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e?A.editOrder:A.addOrder}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.supplier}),s.jsxs("select",{value:i.supplierId,onChange:f=>o(b=>({...b,supplierId:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0,children:[s.jsx("option",{value:"",children:A.supplier}),t.map(f=>s.jsxs("option",{value:f.id,children:[f.name," (",f.code,")"]},f.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.status}),s.jsxs("select",{value:i.status,onChange:f=>o(b=>({...b,status:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"DRAFT",children:A.draft}),s.jsx("option",{value:"PENDING",children:A.pending}),s.jsx("option",{value:"CONFIRMED",children:A.confirmed}),s.jsx("option",{value:"SHIPPED",children:A.shipped}),s.jsx("option",{value:"DELIVERED",children:A.delivered}),s.jsx("option",{value:"CANCELLED",children:A.cancelled})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.expectedDate}),s.jsx("input",{type:"date",value:i.expectedDate,onChange:f=>o(b=>({...b,expectedDate:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),s.jsx("textarea",{value:i.notes,onChange:f=>o(b=>({...b,notes:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-4",children:[s.jsxs("select",{value:l.productId,onChange:f=>{const b=r.find(p=>p.id===f.target.value);c(p=>({...p,productId:f.target.value,unitPrice:(b==null?void 0:b.price)||0}))},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"",children:"Select Product"}),r.map(f=>s.jsxs("option",{value:f.id,children:[f.name," (",f.code,")"]},f.id))]}),s.jsx("input",{type:"number",placeholder:"Quantity",value:l.quantity,onChange:f=>c(b=>({...b,quantity:parseInt(f.target.value)||0})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",min:"1"}),s.jsx("input",{type:"number",placeholder:"Unit Price",value:l.unitPrice,onChange:f=>c(b=>({...b,unitPrice:parseFloat(f.target.value)||0})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",step:"0.01",min:"0"}),s.jsx("button",{type:"button",onClick:u,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Add Item"})]}),s.jsx("div",{className:"space-y-2",children:i.orderItems.map((f,b)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:f.product.name}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.quantity," x ",f.unitPrice.toFixed(2)," dh = ",f.totalPrice.toFixed(2)," dh"]})]}),s.jsx("button",{type:"button",onClick:()=>h(b),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(TA,{size:16})})]},f.id))}),s.jsx("div",{className:"text-right mt-4",children:s.jsxs("p",{className:"text-lg font-bold",children:["Total: ",i.orderItems.reduce((f,b)=>f+b.totalPrice,0).toFixed(2)," dh"]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[s.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:A.cancel}),s.jsx("button",{onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:A.save})]})]})})}function VU({order:e,onClose:t,t:r}){return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.viewOrder}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.orderNumber}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.orderNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.supplier}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.supplier.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.status}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:r[e.status.toLowerCase()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.orderDate}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:new Date(e.orderDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.expectedDate}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.expectedDate?new Date(e.expectedDate).toLocaleDateString():"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.totalAmount}),s.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.totalAmount.toFixed(2)," dh"]})]})]}),e.notes&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:e.notes})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),s.jsx("div",{className:"space-y-2",children:e.orderItems.map(n=>s.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:n.product.name}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.quantity," x ",n.unitPrice.toFixed(2)," dh = ",n.totalPrice.toFixed(2)," dh"]})]})},n.id))})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:r.cancel})})]})})}function C5(e,t){return function(){return e.apply(t,arguments)}}const{toString:GU}=Object.prototype,{getPrototypeOf:Ox}=Object,{iterator:Vh,toStringTag:k5}=Symbol,Gh=(e=>t=>{const r=GU.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ts=e=>(e=e.toLowerCase(),t=>Gh(t)===e),Wh=e=>t=>typeof t===e,{isArray:fl}=Array,ad=Wh("undefined");function fd(e){return e!==null&&!ad(e)&&e.constructor!==null&&!ad(e.constructor)&&kn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const j5=Ts("ArrayBuffer");function WU(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&j5(e.buffer),t}const JU=Wh("string"),kn=Wh("function"),S5=Wh("number"),gd=e=>e!==null&&typeof e=="object",XU=e=>e===!0||e===!1,x0=e=>{if(Gh(e)!=="object")return!1;const t=Ox(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(k5 in e)&&!(Vh in e)},$U=e=>{if(!gd(e)||fd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},YU=Ts("Date"),ZU=Ts("File"),eL=Ts("Blob"),tL=Ts("FileList"),rL=e=>gd(e)&&kn(e.pipe),nL=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||kn(e.append)&&((t=Gh(e))==="formdata"||t==="object"&&kn(e.toString)&&e.toString()==="[object FormData]"))},sL=Ts("URLSearchParams"),[aL,AL,iL,oL]=["ReadableStream","Request","Response","Headers"].map(Ts),lL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pd(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),fl(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(fd(e))return;const A=r?Object.getOwnPropertyNames(e):Object.keys(e),i=A.length;let o;for(n=0;n<i;n++)o=A[n],t.call(null,e[o],o,e)}}function F5(e,t){if(fd(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const oi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),E5=e=>!ad(e)&&e!==oi;function km(){const{caseless:e}=E5(this)&&this||{},t={},r=(n,a)=>{const A=e&&F5(t,a)||a;x0(t[A])&&x0(n)?t[A]=km(t[A],n):x0(n)?t[A]=km({},n):fl(n)?t[A]=n.slice():t[A]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&pd(arguments[n],r);return t}const cL=(e,t,r,{allOwnKeys:n}={})=>(pd(t,(a,A)=>{r&&kn(a)?e[A]=C5(a,r):e[A]=a},{allOwnKeys:n}),e),dL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uL=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},hL=(e,t,r,n)=>{let a,A,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),A=a.length;A-- >0;)i=a[A],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&Ox(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},fL=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},gL=e=>{if(!e)return null;if(fl(e))return e;let t=e.length;if(!S5(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},pL=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ox(Uint8Array)),mL=(e,t)=>{const n=(e&&e[Vh]).call(e);let a;for(;(a=n.next())&&!a.done;){const A=a.value;t.call(e,A[0],A[1])}},xL=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},yL=Ts("HTMLFormElement"),wL=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),cw=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),vL=Ts("RegExp"),Q5=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};pd(r,(a,A)=>{let i;(i=t(a,A,e))!==!1&&(n[A]=i||a)}),Object.defineProperties(e,n)},bL=e=>{Q5(e,(t,r)=>{if(kn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(kn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},BL=(e,t)=>{const r={},n=a=>{a.forEach(A=>{r[A]=!0})};return fl(e)?n(e):n(String(e).split(t)),r},NL=()=>{},CL=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function kL(e){return!!(e&&kn(e.append)&&e[k5]==="FormData"&&e[Vh])}const jL=e=>{const t=new Array(10),r=(n,a)=>{if(gd(n)){if(t.indexOf(n)>=0)return;if(fd(n))return n;if(!("toJSON"in n)){t[a]=n;const A=fl(n)?[]:{};return pd(n,(i,o)=>{const l=r(i,a+1);!ad(l)&&(A[o]=l)}),t[a]=void 0,A}}return n};return r(e,0)},SL=Ts("AsyncFunction"),FL=e=>e&&(gd(e)||kn(e))&&kn(e.then)&&kn(e.catch),U5=((e,t)=>e?setImmediate:t?((r,n)=>(oi.addEventListener("message",({source:a,data:A})=>{a===oi&&A===r&&n.length&&n.shift()()},!1),a=>{n.push(a),oi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",kn(oi.postMessage)),EL=typeof queueMicrotask<"u"?queueMicrotask.bind(oi):typeof process<"u"&&process.nextTick||U5,QL=e=>e!=null&&kn(e[Vh]),pe={isArray:fl,isArrayBuffer:j5,isBuffer:fd,isFormData:nL,isArrayBufferView:WU,isString:JU,isNumber:S5,isBoolean:XU,isObject:gd,isPlainObject:x0,isEmptyObject:$U,isReadableStream:aL,isRequest:AL,isResponse:iL,isHeaders:oL,isUndefined:ad,isDate:YU,isFile:ZU,isBlob:eL,isRegExp:vL,isFunction:kn,isStream:rL,isURLSearchParams:sL,isTypedArray:pL,isFileList:tL,forEach:pd,merge:km,extend:cL,trim:lL,stripBOM:dL,inherits:uL,toFlatObject:hL,kindOf:Gh,kindOfTest:Ts,endsWith:fL,toArray:gL,forEachEntry:mL,matchAll:xL,isHTMLForm:yL,hasOwnProperty:cw,hasOwnProp:cw,reduceDescriptors:Q5,freezeMethods:bL,toObjectSet:BL,toCamelCase:wL,noop:NL,toFiniteNumber:CL,findKey:F5,global:oi,isContextDefined:E5,isSpecCompliantForm:kL,toJSONObject:jL,isAsyncFn:SL,isThenable:FL,setImmediate:U5,asap:EL,isIterable:QL};function lt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}pe.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const L5=lt.prototype,I5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{I5[e]={value:e}});Object.defineProperties(lt,I5);Object.defineProperty(L5,"isAxiosError",{value:!0});lt.from=(e,t,r,n,a,A)=>{const i=Object.create(L5);return pe.toFlatObject(e,i,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),lt.call(i,e.message,t,r,n,a),i.cause=e,i.name=e.name,A&&Object.assign(i,A),i};const UL=null;function jm(e){return pe.isPlainObject(e)||pe.isArray(e)}function P5(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function dw(e,t,r){return e?e.concat(t).map(function(a,A){return a=P5(a),!r&&A?"["+a+"]":a}).join(r?".":""):t}function LL(e){return pe.isArray(e)&&!e.some(jm)}const IL=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function Jh(e,t,r){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,C){return!pe.isUndefined(C[p])});const n=r.metaTokens,a=r.visitor||u,A=r.dots,i=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(a))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(pe.isDate(b))return b.toISOString();if(pe.isBoolean(b))return b.toString();if(!l&&pe.isBlob(b))throw new lt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(b)||pe.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,p,C){let m=b;if(b&&!C&&typeof b=="object"){if(pe.endsWith(p,"{}"))p=n?p:p.slice(0,-2),b=JSON.stringify(b);else if(pe.isArray(b)&&LL(b)||(pe.isFileList(b)||pe.endsWith(p,"[]"))&&(m=pe.toArray(b)))return p=P5(p),m.forEach(function(B,D){!(pe.isUndefined(B)||B===null)&&t.append(i===!0?dw([p],D,A):i===null?p:p+"[]",c(B))}),!1}return jm(b)?!0:(t.append(dw(C,p,A),c(b)),!1)}const h=[],x=Object.assign(IL,{defaultVisitor:u,convertValue:c,isVisitable:jm});function f(b,p){if(!pe.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(b),pe.forEach(b,function(m,w){(!(pe.isUndefined(m)||m===null)&&a.call(t,m,pe.isString(w)?w.trim():w,p,x))===!0&&f(m,p?p.concat(w):[w])}),h.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return f(e),t}function uw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Mx(e,t){this._pairs=[],e&&Jh(e,this,t)}const D5=Mx.prototype;D5.append=function(t,r){this._pairs.push([t,r])};D5.toString=function(t){const r=t?function(n){return t.call(this,n,uw)}:uw;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function PL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function T5(e,t,r){if(!t)return e;const n=r&&r.encode||PL;pe.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let A;if(a?A=a(t,r):A=pe.isURLSearchParams(t)?t.toString():new Mx(t,r).toString(n),A){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+A}return e}class DL{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const hw=DL,R5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},TL=typeof URLSearchParams<"u"?URLSearchParams:Mx,RL=typeof FormData<"u"?FormData:null,HL=typeof Blob<"u"?Blob:null,OL={isBrowser:!0,classes:{URLSearchParams:TL,FormData:RL,Blob:HL},protocols:["http","https","file","blob","url","data"]},_x=typeof window<"u"&&typeof document<"u",Sm=typeof navigator=="object"&&navigator||void 0,ML=_x&&(!Sm||["ReactNative","NativeScript","NS"].indexOf(Sm.product)<0),_L=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),KL=_x&&window.location.href||"http://localhost",qL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_x,hasStandardBrowserEnv:ML,hasStandardBrowserWebWorkerEnv:_L,navigator:Sm,origin:KL},Symbol.toStringTag,{value:"Module"})),rn={...qL,...OL};function zL(e,t){return Jh(e,new rn.classes.URLSearchParams,{visitor:function(r,n,a,A){return rn.isNode&&pe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):A.defaultVisitor.apply(this,arguments)},...t})}function VL(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function GL(e){const t={},r=Object.keys(e);let n;const a=r.length;let A;for(n=0;n<a;n++)A=r[n],t[A]=e[A];return t}function H5(e){function t(r,n,a,A){let i=r[A++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),l=A>=r.length;return i=!i&&pe.isArray(a)?a.length:i,l?(pe.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!pe.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],A)&&pe.isArray(a[i])&&(a[i]=GL(a[i])),!o)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const r={};return pe.forEachEntry(e,(n,a)=>{t(VL(n),a,r,0)}),r}return null}function WL(e,t,r){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Kx={transitional:R5,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,A=pe.isObject(t);if(A&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return a?JSON.stringify(H5(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(A){if(n.indexOf("application/x-www-form-urlencoded")>-1)return zL(t,this.formSerializer).toString();if((o=pe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Jh(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return A||a?(r.setContentType("application/json",!1),WL(t)):t}],transformResponse:[function(t){const r=this.transitional||Kx.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?lt.from(o,lt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{Kx.headers[e]={}});const qx=Kx,JL=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XL=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&JL[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},fw=Symbol("internals");function Ac(e){return e&&String(e).trim().toLowerCase()}function y0(e){return e===!1||e==null?e:pe.isArray(e)?e.map(y0):String(e)}function $L(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const YL=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vg(e,t,r,n,a){if(pe.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!pe.isString(t)){if(pe.isString(n))return t.indexOf(n)!==-1;if(pe.isRegExp(n))return n.test(t)}}function ZL(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function eI(e,t){const r=pe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,A,i){return this[n].call(this,t,a,A,i)},configurable:!0})})}class Xh{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function A(o,l,c){const u=Ac(l);if(!u)throw new Error("header name must be a non-empty string");const h=pe.findKey(a,u);(!h||a[h]===void 0||c===!0||c===void 0&&a[h]!==!1)&&(a[h||l]=y0(o))}const i=(o,l)=>pe.forEach(o,(c,u)=>A(c,u,l));if(pe.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(pe.isString(t)&&(t=t.trim())&&!YL(t))i(XL(t),r);else if(pe.isObject(t)&&pe.isIterable(t)){let o={},l,c;for(const u of t){if(!pe.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(l=o[c])?pe.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(o,r)}else t!=null&&A(r,t,n);return this}get(t,r){if(t=Ac(t),t){const n=pe.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return $L(a);if(pe.isFunction(r))return r.call(this,a,n);if(pe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ac(t),t){const n=pe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Vg(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function A(i){if(i=Ac(i),i){const o=pe.findKey(n,i);o&&(!r||Vg(n,n[o],o,r))&&(delete n[o],a=!0)}}return pe.isArray(t)?t.forEach(A):A(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const A=r[n];(!t||Vg(this,this[A],A,t,!0))&&(delete this[A],a=!0)}return a}normalize(t){const r=this,n={};return pe.forEach(this,(a,A)=>{const i=pe.findKey(n,A);if(i){r[i]=y0(a),delete r[A];return}const o=t?ZL(A):String(A).trim();o!==A&&delete r[A],r[o]=y0(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return pe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&pe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[fw]=this[fw]={accessors:{}}).accessors,a=this.prototype;function A(i){const o=Ac(i);n[o]||(eI(a,i),n[o]=!0)}return pe.isArray(t)?t.forEach(A):A(t),this}}Xh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(Xh.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});pe.freezeMethods(Xh);const Ss=Xh;function Gg(e,t){const r=this||qx,n=t||r,a=Ss.from(n.headers);let A=n.data;return pe.forEach(e,function(o){A=o.call(r,A,a.normalize(),t?t.status:void 0)}),a.normalize(),A}function O5(e){return!!(e&&e.__CANCEL__)}function gl(e,t,r){lt.call(this,e??"canceled",lt.ERR_CANCELED,t,r),this.name="CanceledError"}pe.inherits(gl,lt,{__CANCEL__:!0});function M5(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new lt("Request failed with status code "+r.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function tI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rI(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,A=0,i;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[A];i||(i=c),r[a]=l,n[a]=c;let h=A,x=0;for(;h!==a;)x+=r[h++],h=h%e;if(a=(a+1)%e,a===A&&(A=(A+1)%e),c-i<t)return;const f=u&&c-u;return f?Math.round(x*1e3/f):void 0}}function nI(e,t){let r=0,n=1e3/t,a,A;const i=(c,u=Date.now())=>{r=u,a=null,A&&(clearTimeout(A),A=null),e(...c)};return[(...c)=>{const u=Date.now(),h=u-r;h>=n?i(c,u):(a=c,A||(A=setTimeout(()=>{A=null,i(a)},n-h)))},()=>a&&i(a)]}const dh=(e,t,r=3)=>{let n=0;const a=rI(50,250);return nI(A=>{const i=A.loaded,o=A.lengthComputable?A.total:void 0,l=i-n,c=a(l),u=i<=o;n=i;const h={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-i)/c:void 0,event:A,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},gw=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},pw=e=>(...t)=>pe.asap(()=>e(...t)),sI=rn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,rn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(rn.origin),rn.navigator&&/(msie|trident)/i.test(rn.navigator.userAgent)):()=>!0,aI=rn.hasStandardBrowserEnv?{write(e,t,r,n,a,A){const i=[e+"="+encodeURIComponent(t)];pe.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),pe.isString(n)&&i.push("path="+n),pe.isString(a)&&i.push("domain="+a),A===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function AI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function iI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _5(e,t,r){let n=!AI(t);return e&&(n||r==!1)?iI(e,t):t}const mw=e=>e instanceof Ss?{...e}:e;function Ci(e,t){t=t||{};const r={};function n(c,u,h,x){return pe.isPlainObject(c)&&pe.isPlainObject(u)?pe.merge.call({caseless:x},c,u):pe.isPlainObject(u)?pe.merge({},u):pe.isArray(u)?u.slice():u}function a(c,u,h,x){if(pe.isUndefined(u)){if(!pe.isUndefined(c))return n(void 0,c,h,x)}else return n(c,u,h,x)}function A(c,u){if(!pe.isUndefined(u))return n(void 0,u)}function i(c,u){if(pe.isUndefined(u)){if(!pe.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,h){if(h in t)return n(c,u);if(h in e)return n(void 0,c)}const l={url:A,method:A,data:A,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(c,u,h)=>a(mw(c),mw(u),h,!0)};return pe.forEach(Object.keys({...e,...t}),function(u){const h=l[u]||a,x=h(e[u],t[u],u);pe.isUndefined(x)&&h!==o||(r[u]=x)}),r}const K5=e=>{const t=Ci({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:A,headers:i,auth:o}=t;t.headers=i=Ss.from(i),t.url=T5(_5(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(pe.isFormData(r)){if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(rn.hasStandardBrowserEnv&&(n&&pe.isFunction(n)&&(n=n(t)),n||n!==!1&&sI(t.url))){const c=a&&A&&aI.read(A);c&&i.set(a,c)}return t},oI=typeof XMLHttpRequest<"u",lI=oI&&function(e){return new Promise(function(r,n){const a=K5(e);let A=a.data;const i=Ss.from(a.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=a,u,h,x,f,b;function p(){f&&f(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let C=new XMLHttpRequest;C.open(a.method.toUpperCase(),a.url,!0),C.timeout=a.timeout;function m(){if(!C)return;const B=Ss.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),O={data:!o||o==="text"||o==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:B,config:e,request:C};M5(function(F){r(F),p()},function(F){n(F),p()},O),C=null}"onloadend"in C?C.onloadend=m:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(m)},C.onabort=function(){C&&(n(new lt("Request aborted",lt.ECONNABORTED,e,C)),C=null)},C.onerror=function(){n(new lt("Network Error",lt.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let D=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const O=a.transitional||R5;a.timeoutErrorMessage&&(D=a.timeoutErrorMessage),n(new lt(D,O.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,e,C)),C=null},A===void 0&&i.setContentType(null),"setRequestHeader"in C&&pe.forEach(i.toJSON(),function(D,O){C.setRequestHeader(O,D)}),pe.isUndefined(a.withCredentials)||(C.withCredentials=!!a.withCredentials),o&&o!=="json"&&(C.responseType=a.responseType),c&&([x,b]=dh(c,!0),C.addEventListener("progress",x)),l&&C.upload&&([h,f]=dh(l),C.upload.addEventListener("progress",h),C.upload.addEventListener("loadend",f)),(a.cancelToken||a.signal)&&(u=B=>{C&&(n(!B||B.type?new gl(null,e,C):B),C.abort(),C=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const w=tI(a.url);if(w&&rn.protocols.indexOf(w)===-1){n(new lt("Unsupported protocol "+w+":",lt.ERR_BAD_REQUEST,e));return}C.send(A||null)})},cI=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const A=function(c){if(!a){a=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof lt?u:new gl(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,A(new lt(`timeout ${t} of ms exceeded`,lt.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(A):c.removeEventListener("abort",A)}),e=null)};e.forEach(c=>c.addEventListener("abort",A));const{signal:l}=n;return l.unsubscribe=()=>pe.asap(o),l}},dI=cI,uI=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},hI=async function*(e,t){for await(const r of fI(e))yield*uI(r,t)},fI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},xw=(e,t,r,n)=>{const a=hI(e,t);let A=0,i,o=l=>{i||(i=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await a.next();if(c){o(),l.close();return}let h=u.byteLength;if(r){let x=A+=h;r(x)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),a.return()}},{highWaterMark:2})},$h=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",q5=$h&&typeof ReadableStream=="function",gI=$h&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),z5=(e,...t)=>{try{return!!e(...t)}catch{return!1}},pI=q5&&z5(()=>{let e=!1;const t=new Request(rn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),yw=64*1024,Fm=q5&&z5(()=>pe.isReadableStream(new Response("").body)),uh={stream:Fm&&(e=>e.body)};$h&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!uh[t]&&(uh[t]=pe.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new lt(`Response type '${t}' is not supported`,lt.ERR_NOT_SUPPORT,n)})})})(new Response);const mI=async e=>{if(e==null)return 0;if(pe.isBlob(e))return e.size;if(pe.isSpecCompliantForm(e))return(await new Request(rn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(e)||pe.isArrayBuffer(e))return e.byteLength;if(pe.isURLSearchParams(e)&&(e=e+""),pe.isString(e))return(await gI(e)).byteLength},xI=async(e,t)=>{const r=pe.toFiniteNumber(e.getContentLength());return r??mI(t)},yI=$h&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:A,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:x}=K5(e);c=c?(c+"").toLowerCase():"text";let f=dI([a,A&&A.toAbortSignal()],i),b;const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let C;try{if(l&&pI&&r!=="get"&&r!=="head"&&(C=await xI(u,n))!==0){let O=new Request(t,{method:"POST",body:n,duplex:"half"}),q;if(pe.isFormData(n)&&(q=O.headers.get("content-type"))&&u.setContentType(q),O.body){const[F,j]=gw(C,dh(pw(l)));n=xw(O.body,yw,F,j)}}pe.isString(h)||(h=h?"include":"omit");const m="credentials"in Request.prototype;b=new Request(t,{...x,signal:f,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:m?h:void 0});let w=await fetch(b,x);const B=Fm&&(c==="stream"||c==="response");if(Fm&&(o||B&&p)){const O={};["status","statusText","headers"].forEach(I=>{O[I]=w[I]});const q=pe.toFiniteNumber(w.headers.get("content-length")),[F,j]=o&&gw(q,dh(pw(o),!0))||[];w=new Response(xw(w.body,yw,F,()=>{j&&j(),p&&p()}),O)}c=c||"text";let D=await uh[pe.findKey(uh,c)||"text"](w,e);return!B&&p&&p(),await new Promise((O,q)=>{M5(O,q,{data:D,headers:Ss.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:b})})}catch(m){throw p&&p(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,e,b),{cause:m.cause||m}):lt.from(m,m&&m.code,e,b)}}),Em={http:UL,xhr:lI,fetch:yI};pe.forEach(Em,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ww=e=>`- ${e}`,wI=e=>pe.isFunction(e)||e===null||e===!1,V5={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let A=0;A<t;A++){r=e[A];let i;if(n=r,!wI(r)&&(n=Em[(i=String(r)).toLowerCase()],n===void 0))throw new lt(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+A]=n}if(!n){const A=Object.entries(a).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=t?A.length>1?`since :
`+A.map(ww).join(`
`):" "+ww(A[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:Em};function Wg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gl(null,e)}function vw(e){return Wg(e),e.headers=Ss.from(e.headers),e.data=Gg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),V5.getAdapter(e.adapter||qx.adapter)(e).then(function(n){return Wg(e),n.data=Gg.call(e,e.transformResponse,n),n.headers=Ss.from(n.headers),n},function(n){return O5(n)||(Wg(e),n&&n.response&&(n.response.data=Gg.call(e,e.transformResponse,n.response),n.response.headers=Ss.from(n.response.headers))),Promise.reject(n)})}const G5="1.11.0",Yh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const bw={};Yh.transitional=function(t,r,n){function a(A,i){return"[Axios v"+G5+"] Transitional option '"+A+"'"+i+(n?". "+n:"")}return(A,i,o)=>{if(t===!1)throw new lt(a(i," has been removed"+(r?" in "+r:"")),lt.ERR_DEPRECATED);return r&&!bw[i]&&(bw[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(A,i,o):!0}};Yh.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function vI(e,t,r){if(typeof e!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const A=n[a],i=t[A];if(i){const o=e[A],l=o===void 0||i(o,A,e);if(l!==!0)throw new lt("option "+A+" must be "+l,lt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new lt("Unknown option "+A,lt.ERR_BAD_OPTION)}}const w0={assertOptions:vI,validators:Yh},Xs=w0.validators;class hh{constructor(t){this.defaults=t||{},this.interceptors={request:new hw,response:new hw}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const A=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?A&&!String(n.stack).endsWith(A.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+A):n.stack=A}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ci(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:A}=r;n!==void 0&&w0.assertOptions(n,{silentJSONParsing:Xs.transitional(Xs.boolean),forcedJSONParsing:Xs.transitional(Xs.boolean),clarifyTimeoutError:Xs.transitional(Xs.boolean)},!1),a!=null&&(pe.isFunction(a)?r.paramsSerializer={serialize:a}:w0.assertOptions(a,{encode:Xs.function,serialize:Xs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),w0.assertOptions(r,{baseUrl:Xs.spelling("baseURL"),withXsrfToken:Xs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=A&&pe.merge(A.common,A[r.method]);A&&pe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete A[b]}),r.headers=Ss.concat(i,A);const o=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(l=l&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let u,h=0,x;if(!l){const b=[vw.bind(this),void 0];for(b.unshift(...o),b.push(...c),x=b.length,u=Promise.resolve(r);h<x;)u=u.then(b[h++],b[h++]);return u}x=o.length;let f=r;for(h=0;h<x;){const b=o[h++],p=o[h++];try{f=b(f)}catch(C){p.call(this,C);break}}try{u=vw.call(this,f)}catch(b){return Promise.reject(b)}for(h=0,x=c.length;h<x;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Ci(this.defaults,t);const r=_5(t.baseURL,t.url,t.allowAbsoluteUrls);return T5(r,t.params,t.paramsSerializer)}}pe.forEach(["delete","get","head","options"],function(t){hh.prototype[t]=function(r,n){return this.request(Ci(n||{},{method:t,url:r,data:(n||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function r(n){return function(A,i,o){return this.request(Ci(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:A,data:i}))}}hh.prototype[t]=r(),hh.prototype[t+"Form"]=r(!0)});const v0=hh;class zx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(A){r=A});const n=this;this.promise.then(a=>{if(!n._listeners)return;let A=n._listeners.length;for(;A-- >0;)n._listeners[A](a);n._listeners=null}),this.promise.then=a=>{let A;const i=new Promise(o=>{n.subscribe(o),A=o}).then(a);return i.cancel=function(){n.unsubscribe(A)},i},t(function(A,i,o){n.reason||(n.reason=new gl(A,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new zx(function(a){t=a}),cancel:t}}}const bI=zx;function BI(e){return function(r){return e.apply(null,r)}}function NI(e){return pe.isObject(e)&&e.isAxiosError===!0}const Qm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qm).forEach(([e,t])=>{Qm[t]=e});const CI=Qm;function W5(e){const t=new v0(e),r=C5(v0.prototype.request,t);return pe.extend(r,v0.prototype,t,{allOwnKeys:!0}),pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return W5(Ci(e,a))},r}const wr=W5(qx);wr.Axios=v0;wr.CanceledError=gl;wr.CancelToken=bI;wr.isCancel=O5;wr.VERSION=G5;wr.toFormData=Jh;wr.AxiosError=lt;wr.Cancel=wr.CanceledError;wr.all=function(t){return Promise.all(t)};wr.spread=BI;wr.isAxiosError=NI;wr.mergeConfig=Ci;wr.AxiosHeaders=Ss;wr.formToJSON=e=>H5(pe.isHTMLForm(e)?new FormData(e):e);wr.getAdapter=V5.getAdapter;wr.HttpStatusCode=CI;wr.default=wr;const Wo=wr,kI=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!1),[a,A]=_.useState("all"),[i,o]=_.useState(""),l=[{id:"all",name:"All Plugins"},{id:"analytics",name:"Analytics"},{id:"reports",name:"Reports & Export"},{id:"interface",name:"Interface"},{id:"integration",name:"Integrations"}];_.useEffect(()=>{c()},[]);const c=async()=>{n(!0);try{const f=await Wo.get("http://localhost:5001/api/plugins");t(f.data)}catch(f){console.error("Error fetching plugins:",f)}n(!1)},u=async f=>{try{await Wo.post(`http://localhost:5001/api/plugins/install/${f.id}`),c()}catch(b){console.error("Error installing plugin:",b)}},h=async f=>{try{await Wo.delete(`http://localhost:5001/api/plugins/${f.id}/uninstall`),c()}catch(b){console.error("Error uninstalling plugin:",b)}},x=e.filter(f=>{const b=f.name.toLowerCase().includes(i.toLowerCase())||f.description.toLowerCase().includes(i.toLowerCase()),p=a==="all"||f.tags.includes(a);return b&&p});return s.jsx("div",{className:"min-h-full bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Plugin Marketplace"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Enhance your lab management system with powerful add-ons"})]}),s.jsxs("button",{onClick:c,className:"flex items-center px-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors text-gray-700 dark:text-gray-300",children:[s.jsx(Fi,{size:16,className:"mr-2"}),"Refresh"]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Search plugins...",value:i,onChange:f=>o(f.target.value),className:"w-full px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})}),s.jsx("select",{value:a,onChange:f=>A(f.target.value),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:l.map(f=>s.jsx("option",{value:f.id,children:f.name},f.id))})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:x.map(f=>s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 flex items-center",children:[f.name,!f.isCompatible&&s.jsx("span",{title:"Compatibility warning",children:s.jsx(qp,{size:16,className:"text-amber-500 ml-2"})})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Qj,{size:14,className:"text-yellow-400 mr-1"}),f.rating.toFixed(1)]}),s.jsx("span",{className:"mx-2",children:"•"}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(Si,{size:14,className:"mr-1"}),f.downloads.toLocaleString()]})]})]}),f.installed?s.jsxs("button",{onClick:()=>h(f),className:"inline-flex items-center px-3 py-1 text-sm text-red-600 dark:text-red-400 border border-red-600 dark:border-red-400 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",children:[s.jsx(wt,{size:14,className:"mr-1"}),"Uninstall"]}):s.jsxs("button",{onClick:()=>u(f),className:`inline-flex items-center px-3 py-1 text-sm rounded-lg ${f.isCompatible?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,disabled:!f.isCompatible,children:[s.jsx(Vb,{size:14,className:"mr-1"}),"Install"]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:f.description}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:f.tags.map(b=>s.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full",children:b},b))}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between text-xs text-gray-500 dark:text-gray-400 gap-2",children:[s.jsxs("span",{children:["By ",f.author]}),s.jsxs("span",{children:["v",f.version," • Updated ",new Date(f.lastUpdated).toLocaleDateString()]})]})]})},f.id))}),r&&s.jsx("div",{className:"flex justify-center items-center mt-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),!r&&x.length===0&&s.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[s.jsx(hi,{size:48,className:"mx-auto text-gray-400 dark:text-gray-600 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No plugins found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filter criteria"})]})]})})},jI=()=>{const[e,t]=_.useState([]),[r,n]=_.useState({startDate:"",endDate:"",action:"",userId:""});_.useEffect(()=>{a()},[r]);const a=async()=>{try{const A=await Wo.get("/api/audit-logs",{params:r});t(A.data)}catch(A){console.error("Error fetching audit logs:",A)}};return s.jsx("div",{className:"min-h-full bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Audit Trail"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track and monitor all system activities"})]})})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("input",{type:"date",value:r.startDate,onChange:A=>n({...r,startDate:A.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Start Date"}),s.jsx("input",{type:"date",value:r.endDate,onChange:A=>n({...r,endDate:A.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"End Date"}),s.jsx("input",{type:"text",value:r.action,onChange:A=>n({...r,action:A.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Filter by Action"}),s.jsx("input",{type:"text",value:r.userId,onChange:A=>n({...r,userId:A.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Filter by User"})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"IP Address"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:new Date(A.timestamp).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:A.userId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:A.action}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-gray-300",children:A.details}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:A.ipAddress})]},A.id))})]})}),e.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No audit logs found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No logs match your current filters."})]})]})]})})},SI=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!1);_.useEffect(()=>{a()},[]);const a=async()=>{try{const i=await Wo.get("/api/backups");t(i.data)}catch(i){console.error("Error fetching backups:",i)}},A=async()=>{n(!0);try{await Wo.post("/api/backup"),a()}catch(i){console.error("Error creating backup:",i)}n(!1)};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Backup & Restore"}),s.jsx("button",{onClick:A,disabled:r,className:"bg-blue-500 text-white px-4 py-2 rounded",children:r?"Creating Backup...":"Create Backup"})]}),s.jsx("div",{className:"bg-white shadow rounded-lg",children:s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 border-b",children:"Date"}),s.jsx("th",{className:"px-6 py-3 border-b",children:"Size"}),s.jsx("th",{className:"px-6 py-3 border-b",children:"Status"}),s.jsx("th",{className:"px-6 py-3 border-b",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(i=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4",children:new Date(i.date).toLocaleString()}),s.jsx("td",{className:"px-6 py-4",children:FI(i.size)}),s.jsx("td",{className:"px-6 py-4",children:i.status}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("button",{className:"text-blue-500 hover:underline mr-4",children:"Download"}),s.jsx("button",{className:"text-green-500 hover:underline",children:"Restore"})]})]},i.id))})]})})]})},FI=e=>{const t=["Bytes","KB","MB","GB"];if(e===0)return"0 Bytes";const r=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,r)).toFixed(2)+" "+t[r]};function EI({isOpen:e,onClose:t,onSuccess:r}){const{language:n}=Nt(),[a,A]=_.useState(!1),[i,o]=_.useState({name:"",type:"",manufacturer:"",protocol:"HL7",connection:"tcp",config:{autoSendWorklist:!0,autoReceiveResults:!0,enableQCMonitoring:!0},enabled:!0}),l={fr:{title:"Ajouter un Automate",name:"Nom de l'automate",type:"Type",manufacturer:"Fabricant",protocol:"Protocole",connection:"Type de connexion",ipAddress:"Adresse IP",port:"Port",comPort:"Port COM",baudRate:"Débit en bauds",ftpHost:"Hôte FTP",ftpPort:"Port FTP",ftpUser:"Utilisateur FTP",ftpPass:"Mot de passe FTP",autoSendWorklist:"Envoi automatique de la liste de travail",autoReceiveResults:"Réception automatique des résultats",enableQCMonitoring:"Activer la surveillance QC",enabled:"Activé",save:"Enregistrer",cancel:"Annuler",required:"Ce champ est requis",success:"Automate ajouté avec succès",error:"Erreur lors de l'ajout de l'automate"},en:{title:"Add New Automate",name:"Automate Name",type:"Type",manufacturer:"Manufacturer",protocol:"Protocol",connection:"Connection Type",ipAddress:"IP Address",port:"Port",comPort:"COM Port",baudRate:"Baud Rate",ftpHost:"FTP Host",ftpPort:"FTP Port",ftpUser:"FTP User",ftpPass:"FTP Password",autoSendWorklist:"Auto-send Worklist",autoReceiveResults:"Auto-receive Results",enableQCMonitoring:"Enable QC Monitoring",enabled:"Enabled",save:"Save",cancel:"Cancel",required:"This field is required",success:"Automate added successfully",error:"Error adding automate"}}[n],c=["Immunoassay","Clinical Chemistry","Hematology","Coagulation","Molecular","Microbiology","Other"],u=["Roche","Abbott","Siemens","Beckman Coulter","Ortho Clinical Diagnostics","Sysmex","Bio-Rad","DiaSorin","Other"],h=[{value:"HL7",label:"HL7"},{value:"ASTM",label:"ASTM"},{value:"LIS2-A2",label:"LIS2-A2"}],x=[{value:"tcp",label:"TCP/IP"},{value:"serial",label:"Serial"},{value:"ftp",label:"FTP"}],f=(p,C)=>{if(p.includes(".")){const[m,w]=p.split(".");o(B=>({...B,[m]:{...B[m],[w]:C}}))}else o(m=>({...m,[p]:C}))},b=async p=>{if(p.preventDefault(),!i.name||!i.type||!i.manufacturer){alert(l.required);return}A(!0);try{await ea.createAutomate(i),alert(l.success),r(),t(),o({name:"",type:"",manufacturer:"",protocol:"HL7",connection:"tcp",config:{autoSendWorklist:!0,autoReceiveResults:!0,enableQCMonitoring:!0},enabled:!0})}catch(C){console.error("Error creating automate:",C),alert(l.error)}finally{A(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[s.jsx(bi,{size:20,className:"mr-2"}),l.title]}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:s.jsx(wt,{size:20})})]}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l.name," *"]}),s.jsx("input",{type:"text",value:i.name,onChange:p=>f("name",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l.type," *"]}),s.jsxs("select",{value:i.type,onChange:p=>f("type",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:n==="fr"?"Sélectionner un type":"Select type"}),c.map(p=>s.jsx("option",{value:p,children:p},p))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l.manufacturer," *"]}),s.jsxs("select",{value:i.manufacturer,onChange:p=>f("manufacturer",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:n==="fr"?"Sélectionner un fabricant":"Select manufacturer"}),u.map(p=>s.jsx("option",{value:p,children:p},p))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.protocol}),s.jsx("select",{value:i.protocol,onChange:p=>f("protocol",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.connection}),s.jsx("select",{value:i.connection,onChange:p=>f("connection",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:x.map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.enabled}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:i.enabled,onChange:p=>f("enabled",p.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:i.enabled?n==="fr"?"Activé":"Enabled":n==="fr"?"Désactivé":"Disabled"})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:n==="fr"?"Configuration de connexion":"Connection Configuration"}),i.connection==="tcp"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ipAddress}),s.jsx("input",{type:"text",value:i.config.ipAddress||"",onChange:p=>f("config.ipAddress",p.target.value),placeholder:"192.168.1.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.port}),s.jsx("input",{type:"number",value:i.config.port||"",onChange:p=>f("config.port",parseInt(p.target.value)||void 0),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.connection==="serial"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.comPort}),s.jsx("input",{type:"text",value:i.config.comPort||"",onChange:p=>f("config.comPort",p.target.value),placeholder:"COM3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.baudRate}),s.jsxs("select",{value:i.config.baudRate||"",onChange:p=>f("config.baudRate",parseInt(p.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:n==="fr"?"Sélectionner":"Select"}),s.jsx("option",{value:"9600",children:"9600"}),s.jsx("option",{value:"19200",children:"19200"}),s.jsx("option",{value:"38400",children:"38400"}),s.jsx("option",{value:"57600",children:"57600"}),s.jsx("option",{value:"115200",children:"115200"})]})]})]}),i.connection==="ftp"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpHost}),s.jsx("input",{type:"text",value:i.config.ftpHost||"",onChange:p=>f("config.ftpHost",p.target.value),placeholder:"ftp.example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpPort}),s.jsx("input",{type:"number",value:i.config.ftpPort||"",onChange:p=>f("config.ftpPort",parseInt(p.target.value)||void 0),placeholder:"21",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpUser}),s.jsx("input",{type:"text",value:i.config.ftpUser||"",onChange:p=>f("config.ftpUser",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpPass}),s.jsx("input",{type:"password",value:i.config.ftpPass||"",onChange:p=>f("config.ftpPass",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:n==="fr"?"Paramètres d'automatisation":"Automation Settings"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:i.config.autoSendWorklist,onChange:p=>f("config.autoSendWorklist",p.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:l.autoSendWorklist})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:i.config.autoReceiveResults,onChange:p=>f("config.autoReceiveResults",p.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:l.autoReceiveResults})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:i.config.enableQCMonitoring,onChange:p=>f("config.enableQCMonitoring",p.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:l.enableQCMonitoring})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:l.cancel}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n==="fr"?"Enregistrement...":"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{size:16,className:"mr-2"}),l.save]})})]})]})]})}):null}function QI({automates:e,onRefresh:t}){const{language:r}=Nt(),[n,a]=_.useState(null),[A,i]=_.useState(!1),[o,l]=_.useState({}),c={fr:{title:"Configuration des Automates",subtitle:"Gérez les paramètres de connexion et de configuration de vos automates",selectAutomate:"Sélectionner un automate",connectionSettings:"Paramètres de connexion",automationSettings:"Paramètres d'automatisation",generalSettings:"Paramètres généraux",save:"Enregistrer",test:"Tester la connexion",reset:"Réinitialiser",success:"Configuration mise à jour avec succès",error:"Erreur lors de la mise à jour",connectionTest:"Test de connexion",connectionSuccess:"Connexion réussie",connectionFailed:"Échec de la connexion",ipAddress:"Adresse IP",port:"Port",comPort:"Port COM",baudRate:"Débit en bauds",ftpHost:"Hôte FTP",ftpPort:"Port FTP",ftpUser:"Utilisateur FTP",ftpPass:"Mot de passe FTP",autoSendWorklist:"Envoi automatique de la liste de travail",autoReceiveResults:"Réception automatique des résultats",enableQCMonitoring:"Activer la surveillance QC",enabled:"Activé",protocol:"Protocole",connection:"Type de connexion",manufacturer:"Fabricant",type:"Type"},en:{title:"Automate Configuration",subtitle:"Manage connection and configuration settings for your automates",selectAutomate:"Select an automate",connectionSettings:"Connection Settings",automationSettings:"Automation Settings",generalSettings:"General Settings",save:"Save",test:"Test Connection",reset:"Reset",success:"Configuration updated successfully",error:"Error updating configuration",connectionTest:"Connection Test",connectionSuccess:"Connection successful",connectionFailed:"Connection failed",ipAddress:"IP Address",port:"Port",comPort:"COM Port",baudRate:"Baud Rate",ftpHost:"FTP Host",ftpPort:"FTP Port",ftpUser:"FTP User",ftpPass:"FTP Password",autoSendWorklist:"Auto-send Worklist",autoReceiveResults:"Auto-receive Results",enableQCMonitoring:"Enable QC Monitoring",enabled:"Enabled",protocol:"Protocol",connection:"Connection Type",manufacturer:"Manufacturer",type:"Type"}}[r];_.useEffect(()=>{n&&l(n.config||{})},[n]);const u=(p,C)=>{l(m=>({...m,[p]:C}))},h=async()=>{if(n){i(!0);try{await ea.updateAutomate(n.id,{config:o}),alert(c.success),t()}catch(p){console.error("Error updating configuration:",p),alert(c.error)}finally{i(!1)}}},x=async()=>{if(n){i(!0);try{await new Promise(p=>setTimeout(p,2e3)),alert(c.connectionSuccess)}catch{alert(c.connectionFailed)}finally{i(!1)}}},f=()=>{n&&l(n.config||{})},b=p=>{switch(p){case"tcp":return s.jsx(Xb,{size:16});case"serial":return s.jsx(Ij,{size:16});case"ftp":return s.jsx(wj,{size:16});default:return s.jsx(bi,{size:16})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(NA,{size:24,className:"text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:c.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c.subtitle})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c.selectAutomate}),s.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:p=>{const C=e.find(m=>m.id===p.target.value);a(C||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:r==="fr"?"Sélectionner un automate":"Select an automate"}),e.map(p=>s.jsxs("option",{value:p.id,children:[p.name," (",p.manufacturer,")"]},p.id))]})]})]}),n&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(bi,{size:20,className:"mr-2"}),c.generalSettings]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.name}),s.jsx("input",{type:"text",value:n.name,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.manufacturer}),s.jsx("input",{type:"text",value:n.manufacturer,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.type}),s.jsx("input",{type:"text",value:n.type,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.protocol}),s.jsx("input",{type:"text",value:n.protocol,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.connection}),s.jsxs("div",{className:"flex items-center",children:[b(n.connection),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 capitalize",children:n.connection})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[b(n.connection),s.jsx("span",{className:"ml-2",children:c.connectionSettings})]}),n.connection==="tcp"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ipAddress}),s.jsx("input",{type:"text",value:o.ipAddress||"",onChange:p=>u("ipAddress",p.target.value),placeholder:"192.168.1.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.port}),s.jsx("input",{type:"number",value:o.port||"",onChange:p=>u("port",parseInt(p.target.value)||void 0),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.connection==="serial"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.comPort}),s.jsx("input",{type:"text",value:o.comPort||"",onChange:p=>u("comPort",p.target.value),placeholder:"COM3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.baudRate}),s.jsxs("select",{value:o.baudRate||"",onChange:p=>u("baudRate",parseInt(p.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:r==="fr"?"Sélectionner":"Select"}),s.jsx("option",{value:"9600",children:"9600"}),s.jsx("option",{value:"19200",children:"19200"}),s.jsx("option",{value:"38400",children:"38400"}),s.jsx("option",{value:"57600",children:"57600"}),s.jsx("option",{value:"115200",children:"115200"})]})]})]}),n.connection==="ftp"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpHost}),s.jsx("input",{type:"text",value:o.ftpHost||"",onChange:p=>u("ftpHost",p.target.value),placeholder:"ftp.example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpPort}),s.jsx("input",{type:"number",value:o.ftpPort||"",onChange:p=>u("ftpPort",parseInt(p.target.value)||void 0),placeholder:"21",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpUser}),s.jsx("input",{type:"text",value:o.ftpUser||"",onChange:p=>u("ftpUser",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpPass}),s.jsx("input",{type:"password",value:o.ftpPass||"",onChange:p=>u("ftpPass",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:c.automationSettings}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.autoSendWorklist||!1,onChange:p=>u("autoSendWorklist",p.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.autoSendWorklist})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.autoReceiveResults||!1,onChange:p=>u("autoReceiveResults",p.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.autoReceiveResults})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.enableQCMonitoring||!1,onChange:p=>u("enableQCMonitoring",p.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.enableQCMonitoring})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:n.enabled,disabled:!0,className:"mr-3 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.enabled})]})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsx("button",{onClick:h,disabled:A,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),r==="fr"?"Enregistrement...":"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{size:16,className:"mr-2"}),c.save]})}),s.jsxs("button",{onClick:x,disabled:A,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[s.jsx(Fi,{size:16,className:"mr-2"}),c.test]}),s.jsx("button",{onClick:f,disabled:A,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:c.reset})]})]})]})]})}function UI({automates:e,onRefresh:t}){const{language:r}=Nt(),[n,a]=_.useState(null),[A,i]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState(null),[h,x]=_.useState(!1),[f,b]=_.useState(""),[p,C]=_.useState({codeAutomate:"",silTestName:"",sampleType:"Sang",unit:"",refRangeLow:null,refRangeHigh:null}),m={fr:{title:"Mapping des Codes",subtitle:"Gérez la correspondance entre les codes des automates et les tests SIL",selectAutomate:"Sélectionner un automate",addMapping:"Ajouter un mapping",editMapping:"Modifier le mapping",codeAutomate:"Code Automate",silTestName:"Nom du test SIL",sampleType:"Type d'échantillon",unit:"Unité",refRangeLow:"Valeur de référence basse",refRangeHigh:"Valeur de référence haute",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",search:"Rechercher...",noMappings:"Aucun mapping trouvé",success:"Mapping enregistré avec succès",error:"Erreur lors de l'enregistrement",deleteConfirm:"Êtes-vous sûr de vouloir supprimer ce mapping ?",deleteSuccess:"Mapping supprimé avec succès",deleteError:"Erreur lors de la suppression"},en:{title:"Code Mapping",subtitle:"Manage the mapping between automate codes and SIL tests",selectAutomate:"Select an automate",addMapping:"Add Mapping",editMapping:"Edit Mapping",codeAutomate:"Automate Code",silTestName:"SIL Test Name",sampleType:"Sample Type",unit:"Unit",refRangeLow:"Reference Range Low",refRangeHigh:"Reference Range High",save:"Save",cancel:"Cancel",delete:"Delete",search:"Search...",noMappings:"No mappings found",success:"Mapping saved successfully",error:"Error saving mapping",deleteConfirm:"Are you sure you want to delete this mapping?",deleteSuccess:"Mapping deleted successfully",deleteError:"Error deleting mapping"}}[r],w=["Sang","Serum","Plasma","Urine","Saliva","Stool","CSF","Other"],B=["g/L","mg/dL","mmol/L","µmol/L","U/L","mIU/L","ng/mL","pg/mL","%","10^9/L","10^12/L","Other"],D=(n==null?void 0:n.driverCodes.filter(R=>R.codeAutomate.toLowerCase().includes(f.toLowerCase())||R.silTestName.toLowerCase().includes(f.toLowerCase())))||[],O=()=>{C({codeAutomate:"",silTestName:"",sampleType:"Sang",unit:"",refRangeLow:null,refRangeHigh:null}),i(!0)},q=R=>{u(R),C({codeAutomate:R.codeAutomate,silTestName:R.silTestName,sampleType:R.sampleType,unit:R.unit||"",refRangeLow:R.refRangeLow,refRangeHigh:R.refRangeHigh}),l(!0)},F=async R=>{if(!(!n||!confirm(m.deleteConfirm))){x(!0);try{await ea.deleteCodeMapping(n.id,R),alert(m.deleteSuccess),t()}catch(E){console.error("Error deleting mapping:",E),alert(m.deleteError)}finally{x(!1)}}},j=async R=>{if(R.preventDefault(),!!n){x(!0);try{o&&c?await ea.updateCodeMapping(n.id,c.id,p):await ea.addCodeMapping(n.id,p),alert(m.success),i(!1),l(!1),t()}catch(E){console.error("Error saving mapping:",E),alert(m.error)}finally{x(!1)}}},I=(R,E)=>{C(k=>({...k,[R]:E}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Gb,{size:24,className:"text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:m.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:m.subtitle})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.selectAutomate}),s.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:R=>{const E=e.find(k=>k.id===R.target.value);a(E||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:r==="fr"?"Sélectionner un automate":"Select an automate"}),e.map(R=>s.jsxs("option",{value:R.id,children:[R.name," (",R.manufacturer,")"]},R.id))]})]})]}),n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(jr,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:m.search,value:f,onChange:R=>b(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(kr,{size:16,className:"mr-2"}),m.addMapping]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:m.codeAutomate}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:m.silTestName}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:m.sampleType}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:m.unit}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Référence"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:D.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:m.noMappings})}):D.map(R=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:R.codeAutomate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:R.silTestName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:R.sampleType}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:R.unit||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:R.refRangeLow&&R.refRangeHigh?`${R.refRangeLow} - ${R.refRangeHigh}`:"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>q(R),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:s.jsx(DA,{size:16})}),s.jsx("button",{onClick:()=>F(R.id),disabled:h,className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50",children:s.jsx(TA,{size:16})})]})})]},R.id))})]})})})]}),(A||o)&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o?m.editMapping:m.addMapping}),s.jsx("button",{onClick:()=>{i(!1),l(!1)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:s.jsx(wt,{size:20})})]}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.codeAutomate," *"]}),s.jsx("input",{type:"text",value:p.codeAutomate,onChange:R=>I("codeAutomate",R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.silTestName," *"]}),s.jsx("input",{type:"text",value:p.silTestName,onChange:R=>I("silTestName",R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.sampleType}),s.jsx("select",{value:p.sampleType,onChange:R=>I("sampleType",R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:w.map(R=>s.jsx("option",{value:R,children:R},R))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.unit}),s.jsxs("select",{value:p.unit,onChange:R=>I("unit",R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:r==="fr"?"Sélectionner":"Select"}),B.map(R=>s.jsx("option",{value:R,children:R},R))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.refRangeLow}),s.jsx("input",{type:"number",step:"0.01",value:p.refRangeLow||"",onChange:R=>I("refRangeLow",parseFloat(R.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.refRangeHigh}),s.jsx("input",{type:"number",step:"0.01",value:p.refRangeHigh||"",onChange:R=>I("refRangeHigh",parseFloat(R.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{i(!1),l(!1)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:m.cancel}),s.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),r==="fr"?"Enregistrement...":"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jn,{size:16,className:"mr-2"}),m.save]})})]})]})]})})]})}function LI({automates:e,onRefresh:t}){const{language:r}=Nt(),[n,a]=_.useState(null),[A,i]=_.useState("all"),[o,l]=_.useState("all"),[c,u]=_.useState("24h"),h={fr:{title:"Logs et Monitoring",subtitle:"Surveillez les transferts de données et l'état de vos automates",selectAutomate:"Sélectionner un automate",allAutomates:"Tous les automates",status:"Statut",type:"Type",duration:"Durée",timestamp:"Horodatage",error:"Erreur",noLogs:"Aucun log trouvé",export:"Exporter",refresh:"Actualiser",filter:"Filtrer",all:"Tous",success:"Succès",warning:"Avertissement",info:"Information",worklist:"Liste de travail",results:"Résultats",qc:"Contrôle qualité",last24h:"Dernières 24h",last7d:"Derniers 7 jours",last30d:"Derniers 30 jours",allTime:"Tout le temps",online:"En ligne",offline:"Hors ligne",lastSync:"Dernière synchronisation",never:"Jamais",totalLogs:"Total des logs",successRate:"Taux de succès",avgDuration:"Durée moyenne"},en:{title:"Logs and Monitoring",subtitle:"Monitor data transfers and automate status",selectAutomate:"Select an automate",allAutomates:"All automates",status:"Status",type:"Type",duration:"Duration",timestamp:"Timestamp",error:"Error",noLogs:"No logs found",export:"Export",refresh:"Refresh",filter:"Filter",all:"All",success:"Success",warning:"Warning",info:"Information",worklist:"Worklist",results:"Results",qc:"Quality Control",last24h:"Last 24h",last7d:"Last 7 days",last30d:"Last 30 days",allTime:"All time",online:"Online",offline:"Offline",lastSync:"Last sync",never:"Never",totalLogs:"Total logs",successRate:"Success rate",avgDuration:"Average duration"}}[r],x=[{value:"all",label:h.all},{value:"success",label:h.success},{value:"error",label:h.error},{value:"warning",label:h.warning}],f=[{value:"all",label:h.all},{value:"worklist",label:h.worklist},{value:"results",label:h.results},{value:"qc",label:h.qc}],b=[{value:"24h",label:h.last24h},{value:"7d",label:h.last7d},{value:"30d",label:h.last30d},{value:"all",label:h.allTime}],p=I=>{switch(I){case"success":return s.jsx(Qs,{size:16,className:"text-green-500"});case"error":return s.jsx($b,{size:16,className:"text-red-500"});case"warning":return s.jsx(Es,{size:16,className:"text-yellow-500"});default:return s.jsx(jc,{size:16,className:"text-blue-500"})}},C=I=>{switch(I){case"success":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}},m=I=>{switch(I){case"online":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"offline":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},w=I=>I?I<1e3?`${I}ms`:`${(I/1e3).toFixed(1)}s`:"-",B=I=>new Date(I).toLocaleString(r==="fr"?"fr-FR":"en-US"),D=((n==null?void 0:n.transferLogs)||[]).filter(I=>{const R=A==="all"||I.status===A,E=o==="all"||I.type===o;return R&&E}),q=(e||[]).flatMap(I=>(I.transferLogs||[]).map(R=>({...R,automateName:I.name}))).filter(I=>{const R=A==="all"||I.status===A,E=o==="all"||I.type===o;return R&&E}),F={totalLogs:q.length,successRate:q.length>0?Math.round(q.filter(I=>I.status==="success").length/q.length*100):0,avgDuration:q.length>0?Math.round(q.reduce((I,R)=>I+(R.duration||0),0)/q.length):0},j=()=>{const I=[["Timestamp","Automate","Type","Status","Duration","Error"].join(","),...q.map(Q=>[B(Q.timestamp),Q.automateName||(n==null?void 0:n.name)||"",Q.type,Q.status,w(Q.duration),Q.errorMsg||""].join(","))].join(`
`),R=new Blob([I],{type:"text/csv"}),E=window.URL.createObjectURL(R),k=document.createElement("a");k.href=E,k.download=`automate-logs-${new Date().toISOString().split("T")[0]}.csv`,k.click(),window.URL.revokeObjectURL(E)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(jc,{size:24,className:"text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:h.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:h.subtitle})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:h.selectAutomate}),s.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:I=>{const R=e.find(E=>E.id===I.target.value);a(R||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:h.allAutomates}),e.map(I=>s.jsxs("option",{value:I.id,children:[I.name," (",I.manufacturer,")"]},I.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(jc,{size:20,className:"text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:h.totalLogs}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F.totalLogs})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qs,{size:20,className:"text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:h.successRate}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[F.successRate,"%"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ta,{size:20,className:"text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:h.avgDuration}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w(F.avgDuration)})]})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:r==="fr"?"État des automates":"Automate Status"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(I=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:I.name}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m(I.status)}`,children:I.status})]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[I.manufacturer," - ",I.type]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[h.lastSync,": ",I.lastSync?B(I.lastSync):h.never]})]},I.id))})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dd,{size:16,className:"text-gray-500"}),s.jsx("select",{value:A,onChange:I=>i(I.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:x.map(I=>s.jsx("option",{value:I.value,children:I.label},I.value))})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("select",{value:o,onChange:I=>l(I.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map(I=>s.jsx("option",{value:I.value,children:I.label},I.value))})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("select",{value:c,onChange:I=>u(I.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:b.map(I=>s.jsx("option",{value:I.value,children:I.label},I.value))})})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:j,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[s.jsx(Si,{size:16,className:"mr-2"}),h.export]}),s.jsxs("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(Fi,{size:16,className:"mr-2"}),h.refresh]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.timestamp}),!n&&s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Automate"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.type}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.status}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.duration}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.error})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:(n?D:q).length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:n?5:6,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:h.noLogs})}):(n?D:q).map(I=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:B(I.timestamp)}),!n&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.automateName||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize",children:I.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[p(I.status),s.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${C(I.status)}`,children:I.status})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:w(I.duration)}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate",children:I.errorMsg||"-"})]},I.id))})]})})})]})}function II(){const{language:e}=Nt(),[t,r]=_.useState("list"),[n,a]=_.useState([]),[A,i]=_.useState(null),[o,l]=_.useState(!0),[c,u]=_.useState(!1);_.useState(!1);const[h,x]=_.useState(!1),[f,b]=_.useState([]),p={fr:{title:"Intégration Automates",subtitle:"Gestion des analyseurs de laboratoire",automatesList:"Liste des Automates",configuration:"Configuration",codeMapping:"Mapping des Codes",logs:"Logs et Monitoring",addNew:"Ajouter un Automate",status:{online:"Connecté",offline:"Hors ligne",error:"Erreur"},lastSync:"Dernière synchronisation",viewLogs:"Voir les Logs",noAutomates:"Aucun automate configuré",loading:"Chargement..."},en:{title:"Automate Integration",subtitle:"Laboratory analyzer management",automatesList:"Automates List",configuration:"Configuration",codeMapping:"Code Mapping",logs:"Logs & Monitoring",addNew:"Add New Automate",status:{online:"Connected",offline:"Offline",error:"Error"},lastSync:"Last sync",viewLogs:"View Logs",noAutomates:"No automates configured",loading:"Loading..."}}[e];_.useEffect(()=>{C()},[]);const C=async()=>{try{l(!0);const F=await ea.getAutomates();a(F.automates||[])}catch(F){console.error("Error loading automates:",F)}finally{l(!1)}},m=F=>{switch(F){case"online":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"offline":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},w=F=>{switch(F){case"online":return s.jsx(Xb,{size:16});case"offline":return s.jsx(M1,{size:16});case"error":return s.jsx(Es,{size:16});default:return s.jsx(M1,{size:16})}},B=async F=>{i(F);try{const j=await ea.getTransferLogs(F.id);b(j.logs||[]),x(!0)}catch(j){console.error("Error loading logs:",j)}},D=async F=>{try{await ea.updateStatus(F.id,{status:"offline"}),setTimeout(()=>{ea.updateStatus(F.id,{status:"online"})},2e3),C()}catch(j){console.error("Error restarting interface:",j)}},O=async F=>{try{await ea.updateStatus(F.id,{status:"online",lastSync:new Date().toISOString()}),C()}catch(j){console.error("Error syncing:",j)}},q=[{id:"list",label:p.automatesList,icon:bi},{id:"config",label:p.configuration,icon:NA},{id:"mapping",label:p.codeMapping,icon:Gb},{id:"logs",label:p.logs,icon:di}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:p.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:p.subtitle})]}),s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:q.map(F=>s.jsxs("button",{onClick:()=>r(F.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===F.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[s.jsx(F.icon,{size:16}),s.jsx("span",{children:F.label})]},F.id))})}),s.jsxs("div",{className:"mt-6",children:[t==="list"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:p.automatesList}),s.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(kr,{size:20,className:"mr-2"}),p.addNew]})]}),o?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:p.loading})]}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bi,{size:48,className:"mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:p.noAutomates}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Commencez par ajouter votre premier automate de laboratoire."}),s.jsx("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:p.addNew})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(F=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:F.name}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.manufacturer," - ",F.type]})]}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${m(F.status)}`,children:[w(F.status),s.jsx("span",{className:"ml-1",children:p.status[F.status]})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Protocol:"}),s.jsx("span",{className:"text-gray-900 dark:text-white",children:F.protocol})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Connection:"}),s.jsx("span",{className:"text-gray-900 dark:text-white",children:F.connection})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Code Mappings:"}),s.jsx("span",{className:"text-gray-900 dark:text-white",children:F._count.driverCodes})]}),F.lastSync&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[p.lastSync,":"]}),s.jsx("span",{className:"text-gray-900 dark:text-white",children:new Date(F.lastSync).toLocaleString()})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>B(F),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded text-sm hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center",children:[s.jsx(Ls,{size:14,className:"mr-1"}),p.viewLogs]}),s.jsx("button",{onClick:()=>D(F),className:"bg-yellow-100 text-yellow-800 px-3 py-2 rounded text-sm hover:bg-yellow-200 flex items-center",title:"Restart Interface",children:s.jsx(Fi,{size:14})}),s.jsx("button",{onClick:()=>O(F),className:"bg-green-100 text-green-800 px-3 py-2 rounded text-sm hover:bg-green-200 flex items-center",title:"Sync Now",children:s.jsx(Sj,{size:14})})]})]},F.id))})]}),t==="config"&&s.jsx(QI,{automates:n,onRefresh:C}),t==="mapping"&&s.jsx(UI,{automates:n,onRefresh:C}),t==="logs"&&s.jsx(LI,{automates:n,onRefresh:C})]}),s.jsx(EI,{isOpen:c,onClose:()=>u(!1),onSuccess:C}),h&&A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Logs - ",A.name]}),s.jsx("button",{onClick:()=>x(!1),children:s.jsx("span",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duration"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Error"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:f.map(F=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(F.timestamp).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:F.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F.status==="success"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:F.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:F.duration?`${F.duration}ms`:"-"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:F.errorMsg||"-"})]},F.id))})]})})]})})]})}function PI(){const{language:e}=Nt(),[t,r]=_.useState([]),[n,a]=_.useState(null),[A,i]=_.useState(!0),[o,l]=_.useState({productId:"",type:"",startDate:"",endDate:"",limit:100}),c={title:e==="fr"?"Rapport d'Activité Stock":"Stock Activity Report",subtitle:e==="fr"?"Historique complet des activités de stock":"Complete stock activity history",filter:e==="fr"?"Filtrer":"Filter",export:e==="fr"?"Exporter":"Export",search:e==="fr"?"Rechercher...":"Search...",product:e==="fr"?"Produit":"Product",type:"Type",date:"Date",startDate:e==="fr"?"Date de début":"Start Date",endDate:e==="fr"?"Date de fin":"End Date",limit:e==="fr"?"Limite":"Limit",allTypes:e==="fr"?"Tous les types":"All Types",stockIn:e==="fr"?"Ajout Stock":"Stock In",stockOut:e==="fr"?"Utilisation Stock":"Stock Out",transfer:e==="fr"?"Transfert":"Transfer",adjustment:e==="fr"?"Ajustement":"Adjustment",quantity:e==="fr"?"Quantité":"Quantity",location:e==="fr"?"Emplacement":"Location",performedBy:e==="fr"?"Effectué par":"Performed By",notes:"Notes",department:e==="fr"?"Département":"Department",purpose:e==="fr"?"Objectif":"Purpose",supplier:e==="fr"?"Fournisseur":"Supplier",lotNumber:e==="fr"?"Numéro de lot":"Lot Number",expiryDate:e==="fr"?"Date d'expiration":"Expiry Date",unitCost:e==="fr"?"Coût unitaire":"Unit Cost",reason:e==="fr"?"Raison":"Reason",fromLocation:e==="fr"?"De":"From",toLocation:e==="fr"?"Vers":"To",oldQuantity:e==="fr"?"Ancienne quantité":"Old Quantity",newQuantity:e==="fr"?"Nouvelle quantité":"New Quantity",noData:e==="fr"?"Aucune donnée":"No data available",loading:e==="fr"?"Chargement...":"Loading...",summary:e==="fr"?"Résumé":"Summary",total:"Total",clearFilters:e==="fr"?"Effacer les filtres":"Clear Filters",applyFilters:e==="fr"?"Appliquer":"Apply"},u=async()=>{try{i(!0);const w=await xt.getStockActivities(o);r(w.activities||[]),a(w.summary||null)}catch(w){console.error("Error loading activities:",w),r([]),a(null)}finally{i(!1)}};_.useEffect(()=>{u()},[o]);const h=(w,B)=>{l(D=>({...D,[w]:B}))},x=()=>{l({productId:"",type:"",startDate:"",endDate:"",limit:100})},f=w=>{switch(w){case"STOCK_IN":return s.jsx(al,{size:16,className:"text-green-600"});case"STOCK_OUT":return s.jsx(sl,{size:16,className:"text-red-600"});case"TRANSFER":return s.jsx(X0,{size:16,className:"text-blue-600"});case"ADJUSTMENT":return s.jsx(NA,{size:16,className:"text-orange-600"});default:return s.jsx(hi,{size:16,className:"text-gray-600"})}},b=w=>{switch(w){case"STOCK_IN":return"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800";case"STOCK_OUT":return"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800";case"TRANSFER":return"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800";case"ADJUSTMENT":return"bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:border-orange-800";default:return"bg-gray-50 border-gray-200 dark:bg-gray-900/20 dark:border-gray-800"}},p=w=>new Date(w).toLocaleString(),C=w=>`${w>0?"+":""}${w}`,m=async()=>{try{const B=(await xt.getStockActivities(o)).activities||[],D=["Date","Type","Product","Code","Category","Quantity","Location","Performed By","Notes","Department","Purpose","Supplier","Lot Number","Expiry Date","Unit Cost","Reason","From Location","To Location"],O=B.map(R=>[p(R.date),R.type,R.productName,R.productCode,R.category,C(R.quantity),R.location,R.performedBy||"",R.notes||"",R.department||"",R.purpose||"",R.supplier||"",R.lotNumber||"",R.expiryDate?new Date(R.expiryDate).toLocaleDateString():"",R.unitCost||"",R.reason||"",R.fromLocation||"",R.toLocation||""]),q=[D,...O].map(R=>R.join(",")).join(`
`),F=new Blob([q],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(F),I=document.createElement("a");I.setAttribute("href",j),I.setAttribute("download",`stock-activities-${new Date().toISOString().split("T")[0]}.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)}catch(w){console.error("Error exporting report:",w),alert(e==="fr"?"Erreur lors de l'exportation":"Error exporting report")}};return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:c.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:c.subtitle})]}),n&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(hi,{className:"h-6 w-6 text-gray-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.total}),s.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.total})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(al,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.stockIn}),s.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.stockIn})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(sl,{className:"h-6 w-6 text-red-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.stockOut}),s.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.stockOut})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(X0,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.transfer}),s.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.transfers})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(NA,{className:"h-6 w-6 text-orange-600"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.adjustment}),s.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n.adjustments})]})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[s.jsx(dd,{className:"h-5 w-5 mr-2"}),c.filter]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:x,className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:c.clearFilters}),s.jsxs("button",{onClick:m,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center",children:[s.jsx(Si,{size:14,className:"mr-1"}),c.export]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.type}),s.jsxs("select",{value:o.type,onChange:w=>h("type",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:c.allTypes}),s.jsx("option",{value:"STOCK_IN",children:c.stockIn}),s.jsx("option",{value:"STOCK_OUT",children:c.stockOut}),s.jsx("option",{value:"TRANSFER",children:c.transfer}),s.jsx("option",{value:"ADJUSTMENT",children:c.adjustment})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.startDate}),s.jsx("input",{type:"date",value:o.startDate,onChange:w=>h("startDate",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.endDate}),s.jsx("input",{type:"date",value:o.endDate,onChange:w=>h("endDate",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.limit}),s.jsxs("select",{value:o.limit,onChange:w=>h("limit",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"}),s.jsx("option",{value:200,children:"200"}),s.jsx("option",{value:500,children:"500"})]})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:A?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:c.loading})]})}):t.length===0?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:c.noData})]})}):s.jsx("div",{className:"space-y-4 p-6",children:t.map(w=>s.jsx("div",{className:`border rounded-lg p-4 ${b(w.type)}`,children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"mt-1",children:f(w.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:w.productName}),s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",w.productCode,")"]}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:w.category})]}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:w.description}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.quantity,":"]}),s.jsx("span",{className:`ml-1 ${w.quantity>0?"text-green-600":"text-red-600"}`,children:C(w.quantity)})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.location,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.location})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.performedBy,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.performedBy||"-"})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.date,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:p(w.date)})]})]}),w.type==="STOCK_IN"&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[w.supplier&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.supplier,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.supplier})]}),w.lotNumber&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.lotNumber,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.lotNumber})]}),w.expiryDate&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.expiryDate,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:new Date(w.expiryDate).toLocaleDateString()})]}),w.unitCost>0&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.unitCost,":"]}),s.jsxs("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:["$",w.unitCost]})]})]}),w.type==="STOCK_OUT"&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[w.department&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.department,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.department})]}),w.purpose&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.purpose,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.purpose})]})]}),w.type==="TRANSFER"&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.fromLocation,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.fromLocation})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.toLocation,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.toLocation})]})]}),w.type==="ADJUSTMENT"&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.oldQuantity,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.oldQuantity})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.newQuantity,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.newQuantity})]}),w.reason&&s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.reason,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.reason})]})]}),w.notes&&s.jsxs("div",{className:"mt-2 text-sm",children:[s.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.notes,":"]}),s.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:w.notes})]})]})]})})},w.id))})})]})}function DI(){const{language:e}=Nt(),t=Ta(),[r,n]=_.useState([]),[a,A]=_.useState(!0),[i,o]=_.useState(""),[l,c]=_.useState(""),[u,h]=_.useState("summary"),x={title:e==="fr"?"Rapport de Stock":"Stock Report",subtitle:e==="fr"?"Visualiser et exporter les données de stock":"View and export stock data",search:e==="fr"?"Rechercher...":"Search...",allCategories:e==="fr"?"Toutes les catégories":"All Categories",export:e==="fr"?"Exporter":"Export",back:e==="fr"?"Retour":"Back",loading:e==="fr"?"Chargement...":"Loading...",product:e==="fr"?"Produit":"Product",code:"Code",category:e==="fr"?"Catégorie":"Category",currentStock:e==="fr"?"Stock Actuel":"Current Stock",expiringStock:e==="fr"?"Stock Expirant":"Expiring Stock",unit:e==="fr"?"Unité":"Unit",minStock:e==="fr"?"Stock Minimum":"Min Stock",noData:e==="fr"?"Aucune donnée disponible":"No data available",summary:e==="fr"?"Résumé":"Summary",activities:e==="fr"?"Activités":"Activities",stockSummary:e==="fr"?"Résumé du Stock":"Stock Summary",stockActivities:e==="fr"?"Activités de Stock":"Stock Activities"};_.useEffect(()=>{f()},[]);const f=async()=>{A(!0);try{const m=await xt.exportStockReport();n(Array.isArray(m)?m:[])}catch(m){console.error("Error loading report:",m)}finally{A(!1)}},b=async()=>{try{const m={search:i,category:l},w=await xt.exportStockReport(m);if(w&&Array.isArray(w)){const B=Object.keys(w[0]).join(","),D=w.map(I=>Object.values(I).join(",")),O=[B,...D].join(`
`),q=new Blob([O],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(q),j=document.createElement("a");j.setAttribute("href",F),j.setAttribute("download",`stock-report-${new Date().toISOString().split("T")[0]}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)}else console.error("Invalid response format for export")}catch(m){console.error("Error exporting stock report:",m)}},p=r.filter(m=>{const w=i===""||m.name.toLowerCase().includes(i.toLowerCase())||m.code.toLowerCase().includes(i.toLowerCase()),B=l===""||m.category===l;return w&&B}),C=[...new Set(r.map(m=>m.category))].filter(Boolean);return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>t("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[s.jsx(nl,{size:20,className:"mr-2"}),x.back]}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:x.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:x.subtitle})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsxs("button",{onClick:()=>h("summary"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${u==="summary"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[s.jsx(di,{size:16,className:"mr-2"}),x.stockSummary]}),s.jsxs("button",{onClick:()=>h("activities"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${u==="activities"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[s.jsx(jc,{size:16,className:"mr-2"}),x.stockActivities]})]})})}),u==="summary"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:x.search,value:i,onChange:m=>o(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:l,onChange:m=>c(m.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:x.allCategories}),C.map(m=>s.jsx("option",{value:m,children:m},m))]})]}),s.jsx("div",{children:s.jsxs("button",{onClick:b,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[s.jsx(Si,{size:16,className:"mr-2"}),x.export]})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:x.loading})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.code}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.product}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.category}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.currentStock}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.expiringStock}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.unit}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.minStock})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:p.length>0?p.map((m,w)=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.code}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.category}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.currentStock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.expiringStock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.unit}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.minStock})]},w)):s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:x.noData})})})]})})})]}):s.jsx(PI,{})]})}const J5=_.createContext(void 0),Nt=()=>{const e=_.useContext(J5);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function TI(){const[e,t]=_.useState(()=>{const f=localStorage.getItem("sil_lab_token"),b=localStorage.getItem("sil_lab_user");if(f&&b)try{return JSON.parse(b)}catch(p){console.error("Error parsing user data:",p),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}return null}),[r,n]=_.useState(()=>{const f=localStorage.getItem("sil_lab_theme");return f||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),[a,A]=_.useState(()=>localStorage.getItem("sil_lab_language")||"fr");_.useEffect(()=>{const f=window.document.documentElement;f.classList.remove("light","dark"),f.classList.add(r),localStorage.setItem("sil_lab_theme",r)},[r]),_.useEffect(()=>{localStorage.setItem("sil_lab_language",a)},[a]),_.useEffect(()=>{const f=window.matchMedia("(prefers-color-scheme: dark)"),b=p=>{localStorage.getItem("sil_lab_theme")||n(p.matches?"dark":"light")};return f.addEventListener("change",b),()=>f.removeEventListener("change",b)},[]),_.useEffect(()=>{(async()=>{const b=localStorage.getItem("sil_lab_token");if(b&&!e)try{const p=await fetch("http://localhost:5001/api/auth/me",{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(p.ok){const C=await p.json();t(C.user),localStorage.setItem("sil_lab_user",JSON.stringify(C.user))}else localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}catch(p){console.error("Error validating token:",p),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}})()},[e]);const u={user:e,login:async(f,b)=>{try{const p=await fetch("http://localhost:5001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,password:b})});if(p.ok){const C=await p.json();return t(C.user),localStorage.setItem("sil_lab_token",C.token),localStorage.setItem("sil_lab_user",JSON.stringify(C.user)),!0}else return console.error("Login failed"),!1}catch(p){return console.error("Login error:",p),!1}},logout:()=>{t(null),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")},theme:r,toggleTheme:()=>{n(f=>f==="light"?"dark":"light")},language:a,toggleLanguage:()=>{A(f=>f==="fr"?"en":"fr")}},[h,x]=_.useState(!1);return s.jsx(J5.Provider,{value:u,children:s.jsx("div",{className:`min-h-screen ${r==="dark"?"dark bg-gray-900":"bg-gray-50"}`,children:e?s.jsxs("div",{className:"flex flex-col lg:flex-row h-screen overflow-hidden",children:[h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>x(!1)}),s.jsx("div",{className:`fixed lg:static z-30 transform ${h?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out`,children:s.jsx(Tj,{onClose:()=>x(!1)})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:[s.jsx(Dj,{onMenuClick:()=>x(!h)}),s.jsx("main",{className:"flex-1 overflow-y-auto p-2 sm:p-4 lg:p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs($k,{children:[s.jsx(Lt,{path:"/",element:s.jsx(gg,{to:"/dashboard",replace:!0})}),s.jsx(Lt,{path:"/dashboard",element:s.jsx(Kj,{})}),s.jsx(Lt,{path:"/patients",element:s.jsx(qj,{})}),s.jsx(Lt,{path:"/doctors",element:s.jsx(zj,{})}),s.jsx(Lt,{path:"/requests",element:s.jsx(Vj,{})}),s.jsx(Lt,{path:"/new-request",element:s.jsx(r3,{})}),s.jsx(Lt,{path:"/analyses",element:s.jsx(Gj,{})}),s.jsx(Lt,{path:"/results",element:s.jsx(jU,{})}),s.jsx(Lt,{path:"/validation",element:s.jsx(SU,{})}),s.jsx(Lt,{path:"/billing",element:s.jsx(FU,{})}),s.jsx(Lt,{path:"/config",element:s.jsx(EU,{})}),s.jsx(Lt,{path:"/config/prices",element:s.jsx(QU,{})}),s.jsx(Lt,{path:"/config/users",element:s.jsx(UU,{})}),s.jsx(Lt,{path:"/config/modules",element:s.jsx(kI,{})}),s.jsx(Lt,{path:"/config/audit",element:s.jsx(jI,{})}),s.jsx(Lt,{path:"/config/backup",element:s.jsx(SI,{})}),s.jsx(Lt,{path:"/automates",element:s.jsx(II,{})}),s.jsx(Lt,{path:"/stock",element:s.jsx(gg,{to:"/stock/dashboard",replace:!0})}),s.jsx(Lt,{path:"/stock/dashboard",element:s.jsx(IU,{})}),s.jsx(Lt,{path:"/stock/add",element:s.jsx(TU,{})}),s.jsx(Lt,{path:"/stock/use",element:s.jsx(RU,{})}),s.jsx(Lt,{path:"/stock/transfer",element:s.jsx(HU,{onClose:()=>{}})}),s.jsx(Lt,{path:"/stock/adjust",element:s.jsx(OU,{})}),s.jsx(Lt,{path:"/stock/suppliers",element:s.jsx(MU,{})}),s.jsx(Lt,{path:"/stock/orders",element:s.jsx(qU,{})}),s.jsx(Lt,{path:"/stock/reports",element:s.jsx(DI,{})}),s.jsx(Lt,{path:"*",element:s.jsx(gg,{to:"/dashboard",replace:!0})})]})})})]})]}):s.jsx(Rj,{})})})}window.debugRequests=_j;Pb(document.getElementById("root")).render(s.jsx(_.StrictMode,{children:s.jsx(aj,{children:s.jsx(TI,{})})}));export{Et as _,RI as c,IN as g};
