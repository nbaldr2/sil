function Ej(e,t){for(var a=0;a<t.length;a++){const s=t[a];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=a(o);fetch(o.href,l)}})();var j7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N2={exports:{}},M0={},C2={exports:{}},rr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=Symbol.for("react.element"),Lj=Symbol.for("react.portal"),Ij=Symbol.for("react.fragment"),Pj=Symbol.for("react.strict_mode"),Uj=Symbol.for("react.profiler"),Dj=Symbol.for("react.provider"),Tj=Symbol.for("react.context"),Qj=Symbol.for("react.forward_ref"),Rj=Symbol.for("react.suspense"),Mj=Symbol.for("react.memo"),Oj=Symbol.for("react.lazy"),nv=Symbol.iterator;function Hj(e){return e===null||typeof e!="object"?null:(e=nv&&e[nv]||e["@@iterator"],typeof e=="function"?e:null)}var B2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j2=Object.assign,S2={};function PA(e,t,a){this.props=e,this.context=t,this.refs=S2,this.updater=a||B2}PA.prototype.isReactComponent={};PA.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};PA.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F2(){}F2.prototype=PA.prototype;function cy(e,t,a){this.props=e,this.context=t,this.refs=S2,this.updater=a||B2}var Ay=cy.prototype=new F2;Ay.constructor=cy;j2(Ay,PA.prototype);Ay.isPureReactComponent=!0;var iv=Array.isArray,E2=Object.prototype.hasOwnProperty,dy={current:null},L2={key:!0,ref:!0,__self:!0,__source:!0};function I2(e,t,a){var s,o={},l=null,d=null;if(t!=null)for(s in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)E2.call(t,s)&&!L2.hasOwnProperty(s)&&(o[s]=t[s]);var g=arguments.length-2;if(g===1)o.children=a;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];o.children=f}if(e&&e.defaultProps)for(s in g=e.defaultProps,g)o[s]===void 0&&(o[s]=g[s]);return{$$typeof:Iu,type:e,key:l,ref:d,props:o,_owner:dy.current}}function _j(e,t){return{$$typeof:Iu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Iu}function zj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var ov=/\/+/g;function np(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zj(""+e.key):t.toString(36)}function xg(e,t,a,s,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Iu:case Lj:d=!0}}if(d)return d=e,o=o(d),e=s===""?"."+np(d,0):s,iv(o)?(a="",e!=null&&(a=e.replace(ov,"$&/")+"/"),xg(o,t,a,"",function(m){return m})):o!=null&&(uy(o)&&(o=_j(o,a+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(ov,"$&/")+"/")+e)),t.push(o)),1;if(d=0,s=s===""?".":s+":",iv(e))for(var g=0;g<e.length;g++){l=e[g];var f=s+np(l,g);d+=xg(l,t,a,f,o)}else if(f=Hj(e),typeof f=="function")for(e=f.call(e),g=0;!(l=e.next()).done;)l=l.value,f=s+np(l,g++),d+=xg(l,t,a,f,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function kh(e,t,a){if(e==null)return e;var s=[],o=0;return xg(e,s,"","",function(l){return t.call(a,l,o++)}),s}function Vj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ns={current:null},yg={transition:null},Gj={ReactCurrentDispatcher:Ns,ReactCurrentBatchConfig:yg,ReactCurrentOwner:dy};function P2(){throw Error("act(...) is not supported in production builds of React.")}rr.Children={map:kh,forEach:function(e,t,a){kh(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return kh(e,function(){t++}),t},toArray:function(e){return kh(e,function(t){return t})||[]},only:function(e){if(!uy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rr.Component=PA;rr.Fragment=Ij;rr.Profiler=Uj;rr.PureComponent=cy;rr.StrictMode=Pj;rr.Suspense=Rj;rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gj;rr.act=P2;rr.cloneElement=function(e,t,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=j2({},e.props),o=e.key,l=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=dy.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(f in t)E2.call(t,f)&&!L2.hasOwnProperty(f)&&(s[f]=t[f]===void 0&&g!==void 0?g[f]:t[f])}var f=arguments.length-2;if(f===1)s.children=a;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];s.children=g}return{$$typeof:Iu,type:e.type,key:o,ref:l,props:s,_owner:d}};rr.createContext=function(e){return e={$$typeof:Tj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dj,_context:e},e.Consumer=e};rr.createElement=I2;rr.createFactory=function(e){var t=I2.bind(null,e);return t.type=e,t};rr.createRef=function(){return{current:null}};rr.forwardRef=function(e){return{$$typeof:Qj,render:e}};rr.isValidElement=uy;rr.lazy=function(e){return{$$typeof:Oj,_payload:{_status:-1,_result:e},_init:Vj}};rr.memo=function(e,t){return{$$typeof:Mj,type:e,compare:t===void 0?null:t}};rr.startTransition=function(e){var t=yg.transition;yg.transition={};try{e()}finally{yg.transition=t}};rr.unstable_act=P2;rr.useCallback=function(e,t){return Ns.current.useCallback(e,t)};rr.useContext=function(e){return Ns.current.useContext(e)};rr.useDebugValue=function(){};rr.useDeferredValue=function(e){return Ns.current.useDeferredValue(e)};rr.useEffect=function(e,t){return Ns.current.useEffect(e,t)};rr.useId=function(){return Ns.current.useId()};rr.useImperativeHandle=function(e,t,a){return Ns.current.useImperativeHandle(e,t,a)};rr.useInsertionEffect=function(e,t){return Ns.current.useInsertionEffect(e,t)};rr.useLayoutEffect=function(e,t){return Ns.current.useLayoutEffect(e,t)};rr.useMemo=function(e,t){return Ns.current.useMemo(e,t)};rr.useReducer=function(e,t,a){return Ns.current.useReducer(e,t,a)};rr.useRef=function(e){return Ns.current.useRef(e)};rr.useState=function(e){return Ns.current.useState(e)};rr.useSyncExternalStore=function(e,t,a){return Ns.current.useSyncExternalStore(e,t,a)};rr.useTransition=function(){return Ns.current.useTransition()};rr.version="18.3.1";C2.exports=rr;var q=C2.exports;const It=k2(q),xm=Ej({__proto__:null,default:It},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj=q,Xj=Symbol.for("react.element"),Kj=Symbol.for("react.fragment"),Wj=Object.prototype.hasOwnProperty,Yj=qj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$j={key:!0,ref:!0,__self:!0,__source:!0};function U2(e,t,a){var s,o={},l=null,d=null;a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(s in t)Wj.call(t,s)&&!$j.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:Xj,type:e,key:l,ref:d,props:o,_owner:Yj.current}}M0.Fragment=Kj;M0.jsx=U2;M0.jsxs=U2;N2.exports=M0;var r=N2.exports,D2={exports:{}},dn={},T2={exports:{}},Q2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(fe,je){var Ce=fe.length;fe.push(je);e:for(;0<Ce;){var Me=Ce-1>>>1,Ae=fe[Me];if(0<o(Ae,je))fe[Me]=je,fe[Ce]=Ae,Ce=Me;else break e}}function a(fe){return fe.length===0?null:fe[0]}function s(fe){if(fe.length===0)return null;var je=fe[0],Ce=fe.pop();if(Ce!==je){fe[0]=Ce;e:for(var Me=0,Ae=fe.length,he=Ae>>>1;Me<he;){var ke=2*(Me+1)-1,Le=fe[ke],Pe=ke+1,Re=fe[Pe];if(0>o(Le,Ce))Pe<Ae&&0>o(Re,Le)?(fe[Me]=Re,fe[Pe]=Ce,Me=Pe):(fe[Me]=Le,fe[ke]=Ce,Me=ke);else if(Pe<Ae&&0>o(Re,Ce))fe[Me]=Re,fe[Pe]=Ce,Me=Pe;else break e}}return je}function o(fe,je){var Ce=fe.sortIndex-je.sortIndex;return Ce!==0?Ce:fe.id-je.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var f=[],m=[],y=1,N=null,B=3,w=!1,U=!1,L=!1,R=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(fe){for(var je=a(m);je!==null;){if(je.callback===null)s(m);else if(je.startTime<=fe)s(m),je.sortIndex=je.expirationTime,t(f,je);else break;je=a(m)}}function z(fe){if(L=!1,T(fe),!U)if(a(f)!==null)U=!0,te(D);else{var je=a(m);je!==null&&Be(z,je.startTime-fe)}}function D(fe,je){U=!1,L&&(L=!1,C(_),_=-1),w=!0;var Ce=B;try{for(T(je),N=a(f);N!==null&&(!(N.expirationTime>je)||fe&&!W());){var Me=N.callback;if(typeof Me=="function"){N.callback=null,B=N.priorityLevel;var Ae=Me(N.expirationTime<=je);je=e.unstable_now(),typeof Ae=="function"?N.callback=Ae:N===a(f)&&s(f),T(je)}else s(f);N=a(f)}if(N!==null)var he=!0;else{var ke=a(m);ke!==null&&Be(z,ke.startTime-je),he=!1}return he}finally{N=null,B=Ce,w=!1}}var ae=!1,X=null,_=-1,ie=5,oe=-1;function W(){return!(e.unstable_now()-oe<ie)}function $(){if(X!==null){var fe=e.unstable_now();oe=fe;var je=!0;try{je=X(!0,fe)}finally{je?Z():(ae=!1,X=null)}}else ae=!1}var Z;if(typeof I=="function")Z=function(){I($)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ne=J.port2;J.port1.onmessage=$,Z=function(){ne.postMessage(null)}}else Z=function(){R($,0)};function te(fe){X=fe,ae||(ae=!0,Z())}function Be(fe,je){_=R(function(){fe(e.unstable_now())},je)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(fe){fe.callback=null},e.unstable_continueExecution=function(){U||w||(U=!0,te(D))},e.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<fe?Math.floor(1e3/fe):5},e.unstable_getCurrentPriorityLevel=function(){return B},e.unstable_getFirstCallbackNode=function(){return a(f)},e.unstable_next=function(fe){switch(B){case 1:case 2:case 3:var je=3;break;default:je=B}var Ce=B;B=je;try{return fe()}finally{B=Ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(fe,je){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Ce=B;B=fe;try{return je()}finally{B=Ce}},e.unstable_scheduleCallback=function(fe,je,Ce){var Me=e.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?Me+Ce:Me):Ce=Me,fe){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=Ce+Ae,fe={id:y++,callback:je,priorityLevel:fe,startTime:Ce,expirationTime:Ae,sortIndex:-1},Ce>Me?(fe.sortIndex=Ce,t(m,fe),a(f)===null&&fe===a(m)&&(L?(C(_),_=-1):L=!0,Be(z,Ce-Me))):(fe.sortIndex=Ae,t(f,fe),U||w||(U=!0,te(D))),fe},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(fe){var je=B;return function(){var Ce=B;B=je;try{return fe.apply(this,arguments)}finally{B=Ce}}}})(Q2);T2.exports=Q2;var Jj=T2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj=q,An=Jj;function lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R2=new Set,ou={};function dc(e,t){wA(e,t),wA(e+"Capture",t)}function wA(e,t){for(ou[e]=t,e=0;e<t.length;e++)R2.add(t[e])}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=Object.prototype.hasOwnProperty,eS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lv={},cv={};function tS(e){return ym.call(cv,e)?!0:ym.call(lv,e)?!1:eS.test(e)?cv[e]=!0:(lv[e]=!0,!1)}function rS(e,t,a,s){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aS(e,t,a,s){if(t===null||typeof t>"u"||rS(e,t,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cs(e,t,a,s,o,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var Wa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wa[e]=new Cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wa[t]=new Cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wa[e]=new Cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wa[e]=new Cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wa[e]=new Cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wa[e]=new Cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wa[e]=new Cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wa[e]=new Cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wa[e]=new Cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var hy=/[\-:]([a-z])/g;function gy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hy,gy);Wa[t]=new Cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hy,gy);Wa[t]=new Cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hy,gy);Wa[t]=new Cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wa[e]=new Cs(e,1,!1,e.toLowerCase(),null,!1,!1)});Wa.xlinkHref=new Cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wa[e]=new Cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function fy(e,t,a,s){var o=Wa.hasOwnProperty(t)?Wa[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aS(t,a,o,s)&&(a=null),s||o===null?tS(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):o.mustUseProperty?e[o.propertyName]=a===null?o.type===3?!1:"":a:(t=o.attributeName,s=o.attributeNamespace,a===null?e.removeAttribute(t):(o=o.type,a=o===3||o===4&&a===!0?"":""+a,s?e.setAttributeNS(s,t,a):e.setAttribute(t,a))))}var go=Zj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nh=Symbol.for("react.element"),Yc=Symbol.for("react.portal"),$c=Symbol.for("react.fragment"),py=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),M2=Symbol.for("react.provider"),O2=Symbol.for("react.context"),my=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),wm=Symbol.for("react.suspense_list"),xy=Symbol.for("react.memo"),To=Symbol.for("react.lazy"),H2=Symbol.for("react.offscreen"),Av=Symbol.iterator;function hd(e){return e===null||typeof e!="object"?null:(e=Av&&e[Av]||e["@@iterator"],typeof e=="function"?e:null)}var $r=Object.assign,ip;function Sd(e){if(ip===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ip=t&&t[1]||""}return`
`+ip+e}var op=!1;function lp(e,t){if(!e||op)return"";op=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var s=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){s=m}e.call(t.prototype)}else{try{throw Error()}catch(m){s=m}e()}}catch(m){if(m&&s&&typeof m.stack=="string"){for(var o=m.stack.split(`
`),l=s.stack.split(`
`),d=o.length-1,g=l.length-1;1<=d&&0<=g&&o[d]!==l[g];)g--;for(;1<=d&&0<=g;d--,g--)if(o[d]!==l[g]){if(d!==1||g!==1)do if(d--,g--,0>g||o[d]!==l[g]){var f=`
`+o[d].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=d&&0<=g);break}}}finally{op=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Sd(e):""}function sS(e){switch(e.tag){case 5:return Sd(e.type);case 16:return Sd("Lazy");case 13:return Sd("Suspense");case 19:return Sd("SuspenseList");case 0:case 2:case 15:return e=lp(e.type,!1),e;case 11:return e=lp(e.type.render,!1),e;case 1:return e=lp(e.type,!0),e;default:return""}}function km(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $c:return"Fragment";case Yc:return"Portal";case bm:return"Profiler";case py:return"StrictMode";case vm:return"Suspense";case wm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O2:return(e.displayName||"Context")+".Consumer";case M2:return(e._context.displayName||"Context")+".Provider";case my:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xy:return t=e.displayName||null,t!==null?t:km(e.type)||"Memo";case To:t=e._payload,e=e._init;try{return km(e(t))}catch{}}return null}function nS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return km(t);case 8:return t===py?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iS(e){var t=_2(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,l=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){s=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ch(e){e._valueTracker||(e._valueTracker=iS(e))}function z2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=_2(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Vg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nm(e,t){var a=t.checked;return $r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function dv(e,t){var a=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;a=dl(t.value!=null?t.value:a),e._wrapperState={initialChecked:s,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function V2(e,t){t=t.checked,t!=null&&fy(e,"checked",t,!1)}function Cm(e,t){V2(e,t);var a=dl(t.value),s=t.type;if(a!=null)s==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bm(e,t.type,a):t.hasOwnProperty("defaultValue")&&Bm(e,t.type,dl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uv(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Bm(e,t,a){(t!=="number"||Vg(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Fd=Array.isArray;function AA(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+dl(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function jm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(lt(91));return $r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hv(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(lt(92));if(Fd(a)){if(1<a.length)throw Error(lt(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:dl(a)}}function G2(e,t){var a=dl(t.value),s=dl(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),s!=null&&(e.defaultValue=""+s)}function gv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bh,X2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,a,s,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bh=Bh||document.createElement("div"),Bh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lu(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oS=["Webkit","ms","Moz","O"];Object.keys(zd).forEach(function(e){oS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zd[t]=zd[e]})});function K2(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||zd.hasOwnProperty(e)&&zd[e]?(""+t).trim():t+"px"}function W2(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=a.indexOf("--")===0,o=K2(a,t[a],s);a==="float"&&(a="cssFloat"),s?e.setProperty(a,o):e[a]=o}}var lS=$r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fm(e,t){if(t){if(lS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(lt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(lt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(lt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(lt(62))}}function Em(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=null;function yy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Im=null,dA=null,uA=null;function fv(e){if(e=Du(e)){if(typeof Im!="function")throw Error(lt(280));var t=e.stateNode;t&&(t=V0(t),Im(e.stateNode,e.type,t))}}function Y2(e){dA?uA?uA.push(e):uA=[e]:dA=e}function $2(){if(dA){var e=dA,t=uA;if(uA=dA=null,fv(e),t)for(e=0;e<t.length;e++)fv(t[e])}}function J2(e,t){return e(t)}function Z2(){}var cp=!1;function ek(e,t,a){if(cp)return e(t,a);cp=!0;try{return J2(e,t,a)}finally{cp=!1,(dA!==null||uA!==null)&&(Z2(),$2())}}function cu(e,t){var a=e.stateNode;if(a===null)return null;var s=V0(a);if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(lt(231,t,typeof a));return a}var Pm=!1;if(no)try{var gd={};Object.defineProperty(gd,"passive",{get:function(){Pm=!0}}),window.addEventListener("test",gd,gd),window.removeEventListener("test",gd,gd)}catch{Pm=!1}function cS(e,t,a,s,o,l,d,g,f){var m=Array.prototype.slice.call(arguments,3);try{t.apply(a,m)}catch(y){this.onError(y)}}var Vd=!1,Gg=null,qg=!1,Um=null,AS={onError:function(e){Vd=!0,Gg=e}};function dS(e,t,a,s,o,l,d,g,f){Vd=!1,Gg=null,cS.apply(AS,arguments)}function uS(e,t,a,s,o,l,d,g,f){if(dS.apply(this,arguments),Vd){if(Vd){var m=Gg;Vd=!1,Gg=null}else throw Error(lt(198));qg||(qg=!0,Um=m)}}function uc(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function tk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pv(e){if(uc(e)!==e)throw Error(lt(188))}function hS(e){var t=e.alternate;if(!t){if(t=uc(e),t===null)throw Error(lt(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var l=o.alternate;if(l===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===a)return pv(o),e;if(l===s)return pv(o),t;l=l.sibling}throw Error(lt(188))}if(a.return!==s.return)a=o,s=l;else{for(var d=!1,g=o.child;g;){if(g===a){d=!0,a=o,s=l;break}if(g===s){d=!0,s=o,a=l;break}g=g.sibling}if(!d){for(g=l.child;g;){if(g===a){d=!0,a=l,s=o;break}if(g===s){d=!0,s=l,a=o;break}g=g.sibling}if(!d)throw Error(lt(189))}}if(a.alternate!==s)throw Error(lt(190))}if(a.tag!==3)throw Error(lt(188));return a.stateNode.current===a?e:t}function rk(e){return e=hS(e),e!==null?ak(e):null}function ak(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ak(e);if(t!==null)return t;e=e.sibling}return null}var sk=An.unstable_scheduleCallback,mv=An.unstable_cancelCallback,gS=An.unstable_shouldYield,fS=An.unstable_requestPaint,ua=An.unstable_now,pS=An.unstable_getCurrentPriorityLevel,by=An.unstable_ImmediatePriority,nk=An.unstable_UserBlockingPriority,Xg=An.unstable_NormalPriority,mS=An.unstable_LowPriority,ik=An.unstable_IdlePriority,O0=null,wi=null;function xS(e){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(O0,e,void 0,(e.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:vS,yS=Math.log,bS=Math.LN2;function vS(e){return e>>>=0,e===0?32:31-(yS(e)/bS|0)|0}var jh=64,Sh=4194304;function Ed(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kg(e,t){var a=e.pendingLanes;if(a===0)return 0;var s=0,o=e.suspendedLanes,l=e.pingedLanes,d=a&268435455;if(d!==0){var g=d&~o;g!==0?s=Ed(g):(l&=d,l!==0&&(s=Ed(l)))}else d=a&~o,d!==0?s=Ed(d):l!==0&&(s=Ed(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&o)&&(o=s&-s,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(s&4&&(s|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)a=31-$n(t),o=1<<a,s|=e[a],t&=~o;return s}function wS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kS(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-$n(l),g=1<<d,f=o[d];f===-1?(!(g&a)||g&s)&&(o[d]=wS(g,t)):f<=t&&(e.expiredLanes|=g),l&=~g}}function Dm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ok(){var e=jh;return jh<<=1,!(jh&4194240)&&(jh=64),e}function Ap(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Pu(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$n(t),e[t]=a}function NS(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<a;){var o=31-$n(a),l=1<<o;t[o]=0,s[o]=-1,e[o]=-1,a&=~l}}function vy(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-$n(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}var Cr=0;function lk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ck,wy,Ak,dk,uk,Tm=!1,Fh=[],Jo=null,Zo=null,el=null,Au=new Map,du=new Map,Mo=[],CS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xv(e,t){switch(e){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":el=null;break;case"pointerover":case"pointerout":Au.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(t.pointerId)}}function fd(e,t,a,s,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Du(t),t!==null&&wy(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function BS(e,t,a,s,o){switch(t){case"focusin":return Jo=fd(Jo,e,t,a,s,o),!0;case"dragenter":return Zo=fd(Zo,e,t,a,s,o),!0;case"mouseover":return el=fd(el,e,t,a,s,o),!0;case"pointerover":var l=o.pointerId;return Au.set(l,fd(Au.get(l)||null,e,t,a,s,o)),!0;case"gotpointercapture":return l=o.pointerId,du.set(l,fd(du.get(l)||null,e,t,a,s,o)),!0}return!1}function hk(e){var t=Ol(e.target);if(t!==null){var a=uc(t);if(a!==null){if(t=a.tag,t===13){if(t=tk(a),t!==null){e.blockedOn=t,uk(e.priority,function(){Ak(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Qm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Lm=s,a.target.dispatchEvent(s),Lm=null}else return t=Du(a),t!==null&&wy(t),e.blockedOn=a,!1;t.shift()}return!0}function yv(e,t,a){bg(e)&&a.delete(t)}function jS(){Tm=!1,Jo!==null&&bg(Jo)&&(Jo=null),Zo!==null&&bg(Zo)&&(Zo=null),el!==null&&bg(el)&&(el=null),Au.forEach(yv),du.forEach(yv)}function pd(e,t){e.blockedOn===t&&(e.blockedOn=null,Tm||(Tm=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,jS)))}function uu(e){function t(o){return pd(o,e)}if(0<Fh.length){pd(Fh[0],e);for(var a=1;a<Fh.length;a++){var s=Fh[a];s.blockedOn===e&&(s.blockedOn=null)}}for(Jo!==null&&pd(Jo,e),Zo!==null&&pd(Zo,e),el!==null&&pd(el,e),Au.forEach(t),du.forEach(t),a=0;a<Mo.length;a++)s=Mo[a],s.blockedOn===e&&(s.blockedOn=null);for(;0<Mo.length&&(a=Mo[0],a.blockedOn===null);)hk(a),a.blockedOn===null&&Mo.shift()}var hA=go.ReactCurrentBatchConfig,Wg=!0;function SS(e,t,a,s){var o=Cr,l=hA.transition;hA.transition=null;try{Cr=1,ky(e,t,a,s)}finally{Cr=o,hA.transition=l}}function FS(e,t,a,s){var o=Cr,l=hA.transition;hA.transition=null;try{Cr=4,ky(e,t,a,s)}finally{Cr=o,hA.transition=l}}function ky(e,t,a,s){if(Wg){var o=Qm(e,t,a,s);if(o===null)bp(e,t,s,Yg,a),xv(e,s);else if(BS(o,e,t,a,s))s.stopPropagation();else if(xv(e,s),t&4&&-1<CS.indexOf(e)){for(;o!==null;){var l=Du(o);if(l!==null&&ck(l),l=Qm(e,t,a,s),l===null&&bp(e,t,s,Yg,a),l===o)break;o=l}o!==null&&s.stopPropagation()}else bp(e,t,s,null,a)}}var Yg=null;function Qm(e,t,a,s){if(Yg=null,e=yy(s),e=Ol(e),e!==null)if(t=uc(e),t===null)e=null;else if(a=t.tag,a===13){if(e=tk(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yg=e,null}function gk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pS()){case by:return 1;case nk:return 4;case Xg:case mS:return 16;case ik:return 536870912;default:return 16}default:return 16}}var _o=null,Ny=null,vg=null;function fk(){if(vg)return vg;var e,t=Ny,a=t.length,s,o="value"in _o?_o.value:_o.textContent,l=o.length;for(e=0;e<a&&t[e]===o[e];e++);var d=a-e;for(s=1;s<=d&&t[a-s]===o[l-s];s++);return vg=o.slice(e,1<s?1-s:void 0)}function wg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eh(){return!0}function bv(){return!1}function un(e){function t(a,s,o,l,d){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(l):l[g]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Eh:bv,this.isPropagationStopped=bv,this}return $r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Eh)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Eh)},persist:function(){},isPersistent:Eh}),t}var UA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cy=un(UA),Uu=$r({},UA,{view:0,detail:0}),ES=un(Uu),dp,up,md,H0=$r({},Uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:By,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==md&&(md&&e.type==="mousemove"?(dp=e.screenX-md.screenX,up=e.screenY-md.screenY):up=dp=0,md=e),dp)},movementY:function(e){return"movementY"in e?e.movementY:up}}),vv=un(H0),LS=$r({},H0,{dataTransfer:0}),IS=un(LS),PS=$r({},Uu,{relatedTarget:0}),hp=un(PS),US=$r({},UA,{animationName:0,elapsedTime:0,pseudoElement:0}),DS=un(US),TS=$r({},UA,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QS=un(TS),RS=$r({},UA,{data:0}),wv=un(RS),MS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _S(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HS[e])?!!t[e]:!1}function By(){return _S}var zS=$r({},Uu,{key:function(e){if(e.key){var t=MS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:By,charCode:function(e){return e.type==="keypress"?wg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VS=un(zS),GS=$r({},H0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kv=un(GS),qS=$r({},Uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:By}),XS=un(qS),KS=$r({},UA,{propertyName:0,elapsedTime:0,pseudoElement:0}),WS=un(KS),YS=$r({},H0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$S=un(YS),JS=[9,13,27,32],jy=no&&"CompositionEvent"in window,Gd=null;no&&"documentMode"in document&&(Gd=document.documentMode);var ZS=no&&"TextEvent"in window&&!Gd,pk=no&&(!jy||Gd&&8<Gd&&11>=Gd),Nv=String.fromCharCode(32),Cv=!1;function mk(e,t){switch(e){case"keyup":return JS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jc=!1;function e4(e,t){switch(e){case"compositionend":return xk(t);case"keypress":return t.which!==32?null:(Cv=!0,Nv);case"textInput":return e=t.data,e===Nv&&Cv?null:e;default:return null}}function t4(e,t){if(Jc)return e==="compositionend"||!jy&&mk(e,t)?(e=fk(),vg=Ny=_o=null,Jc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pk&&t.locale!=="ko"?null:t.data;default:return null}}var r4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!r4[e.type]:t==="textarea"}function yk(e,t,a,s){Y2(s),t=$g(t,"onChange"),0<t.length&&(a=new Cy("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var qd=null,hu=null;function a4(e){Ek(e,0)}function _0(e){var t=tA(e);if(z2(t))return e}function s4(e,t){if(e==="change")return t}var bk=!1;if(no){var gp;if(no){var fp="oninput"in document;if(!fp){var jv=document.createElement("div");jv.setAttribute("oninput","return;"),fp=typeof jv.oninput=="function"}gp=fp}else gp=!1;bk=gp&&(!document.documentMode||9<document.documentMode)}function Sv(){qd&&(qd.detachEvent("onpropertychange",vk),hu=qd=null)}function vk(e){if(e.propertyName==="value"&&_0(hu)){var t=[];yk(t,hu,e,yy(e)),ek(a4,t)}}function n4(e,t,a){e==="focusin"?(Sv(),qd=t,hu=a,qd.attachEvent("onpropertychange",vk)):e==="focusout"&&Sv()}function i4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _0(hu)}function o4(e,t){if(e==="click")return _0(t)}function l4(e,t){if(e==="input"||e==="change")return _0(t)}function c4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ei=typeof Object.is=="function"?Object.is:c4;function gu(e,t){if(ei(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!ym.call(t,o)||!ei(e[o],t[o]))return!1}return!0}function Fv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ev(e,t){var a=Fv(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fv(a)}}function wk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kk(){for(var e=window,t=Vg();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Vg(e.document)}return t}function Sy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function A4(e){var t=kk(),a=e.focusedElem,s=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&wk(a.ownerDocument.documentElement,a)){if(s!==null&&Sy(a)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=a.textContent.length,l=Math.min(s.start,o);s=s.end===void 0?l:Math.min(s.end,o),!e.extend&&l>s&&(o=s,s=l,l=o),o=Ev(a,l);var d=Ev(a,s);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var d4=no&&"documentMode"in document&&11>=document.documentMode,Zc=null,Rm=null,Xd=null,Mm=!1;function Lv(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mm||Zc==null||Zc!==Vg(s)||(s=Zc,"selectionStart"in s&&Sy(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Xd&&gu(Xd,s)||(Xd=s,s=$g(Rm,"onSelect"),0<s.length&&(t=new Cy("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Zc)))}function Lh(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var eA={animationend:Lh("Animation","AnimationEnd"),animationiteration:Lh("Animation","AnimationIteration"),animationstart:Lh("Animation","AnimationStart"),transitionend:Lh("Transition","TransitionEnd")},pp={},Nk={};no&&(Nk=document.createElement("div").style,"AnimationEvent"in window||(delete eA.animationend.animation,delete eA.animationiteration.animation,delete eA.animationstart.animation),"TransitionEvent"in window||delete eA.transitionend.transition);function z0(e){if(pp[e])return pp[e];if(!eA[e])return e;var t=eA[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Nk)return pp[e]=t[a];return e}var Ck=z0("animationend"),Bk=z0("animationiteration"),jk=z0("animationstart"),Sk=z0("transitionend"),Fk=new Map,Iv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ml(e,t){Fk.set(e,t),dc(t,[e])}for(var mp=0;mp<Iv.length;mp++){var xp=Iv[mp],u4=xp.toLowerCase(),h4=xp[0].toUpperCase()+xp.slice(1);ml(u4,"on"+h4)}ml(Ck,"onAnimationEnd");ml(Bk,"onAnimationIteration");ml(jk,"onAnimationStart");ml("dblclick","onDoubleClick");ml("focusin","onFocus");ml("focusout","onBlur");ml(Sk,"onTransitionEnd");wA("onMouseEnter",["mouseout","mouseover"]);wA("onMouseLeave",["mouseout","mouseover"]);wA("onPointerEnter",["pointerout","pointerover"]);wA("onPointerLeave",["pointerout","pointerover"]);dc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dc("onBeforeInput",["compositionend","keypress","textInput","paste"]);dc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ld));function Pv(e,t,a){var s=e.type||"unknown-event";e.currentTarget=a,uS(s,t,void 0,e),e.currentTarget=null}function Ek(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var d=s.length-1;0<=d;d--){var g=s[d],f=g.instance,m=g.currentTarget;if(g=g.listener,f!==l&&o.isPropagationStopped())break e;Pv(o,g,m),l=f}else for(d=0;d<s.length;d++){if(g=s[d],f=g.instance,m=g.currentTarget,g=g.listener,f!==l&&o.isPropagationStopped())break e;Pv(o,g,m),l=f}}}if(qg)throw e=Um,qg=!1,Um=null,e}function Or(e,t){var a=t[Vm];a===void 0&&(a=t[Vm]=new Set);var s=e+"__bubble";a.has(s)||(Lk(t,e,2,!1),a.add(s))}function yp(e,t,a){var s=0;t&&(s|=4),Lk(a,e,s,t)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function fu(e){if(!e[Ih]){e[Ih]=!0,R2.forEach(function(a){a!=="selectionchange"&&(g4.has(a)||yp(a,!1,e),yp(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ih]||(t[Ih]=!0,yp("selectionchange",!1,t))}}function Lk(e,t,a,s){switch(gk(t)){case 1:var o=SS;break;case 4:o=FS;break;default:o=ky}a=o.bind(null,t,a,e),o=void 0,!Pm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function bp(e,t,a,s,o){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var g=s.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(d===4)for(d=s.return;d!==null;){var f=d.tag;if((f===3||f===4)&&(f=d.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;d=d.return}for(;g!==null;){if(d=Ol(g),d===null)return;if(f=d.tag,f===5||f===6){s=l=d;continue e}g=g.parentNode}}s=s.return}ek(function(){var m=l,y=yy(a),N=[];e:{var B=Fk.get(e);if(B!==void 0){var w=Cy,U=e;switch(e){case"keypress":if(wg(a)===0)break e;case"keydown":case"keyup":w=VS;break;case"focusin":U="focus",w=hp;break;case"focusout":U="blur",w=hp;break;case"beforeblur":case"afterblur":w=hp;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=IS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=XS;break;case Ck:case Bk:case jk:w=DS;break;case Sk:w=WS;break;case"scroll":w=ES;break;case"wheel":w=$S;break;case"copy":case"cut":case"paste":w=QS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=kv}var L=(t&4)!==0,R=!L&&e==="scroll",C=L?B!==null?B+"Capture":null:B;L=[];for(var I=m,T;I!==null;){T=I;var z=T.stateNode;if(T.tag===5&&z!==null&&(T=z,C!==null&&(z=cu(I,C),z!=null&&L.push(pu(I,z,T)))),R)break;I=I.return}0<L.length&&(B=new w(B,U,null,a,y),N.push({event:B,listeners:L}))}}if(!(t&7)){e:{if(B=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",B&&a!==Lm&&(U=a.relatedTarget||a.fromElement)&&(Ol(U)||U[io]))break e;if((w||B)&&(B=y.window===y?y:(B=y.ownerDocument)?B.defaultView||B.parentWindow:window,w?(U=a.relatedTarget||a.toElement,w=m,U=U?Ol(U):null,U!==null&&(R=uc(U),U!==R||U.tag!==5&&U.tag!==6)&&(U=null)):(w=null,U=m),w!==U)){if(L=vv,z="onMouseLeave",C="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(L=kv,z="onPointerLeave",C="onPointerEnter",I="pointer"),R=w==null?B:tA(w),T=U==null?B:tA(U),B=new L(z,I+"leave",w,a,y),B.target=R,B.relatedTarget=T,z=null,Ol(y)===m&&(L=new L(C,I+"enter",U,a,y),L.target=T,L.relatedTarget=R,z=L),R=z,w&&U)t:{for(L=w,C=U,I=0,T=L;T;T=Dc(T))I++;for(T=0,z=C;z;z=Dc(z))T++;for(;0<I-T;)L=Dc(L),I--;for(;0<T-I;)C=Dc(C),T--;for(;I--;){if(L===C||C!==null&&L===C.alternate)break t;L=Dc(L),C=Dc(C)}L=null}else L=null;w!==null&&Uv(N,B,w,L,!1),U!==null&&R!==null&&Uv(N,R,U,L,!0)}}e:{if(B=m?tA(m):window,w=B.nodeName&&B.nodeName.toLowerCase(),w==="select"||w==="input"&&B.type==="file")var D=s4;else if(Bv(B))if(bk)D=l4;else{D=i4;var ae=n4}else(w=B.nodeName)&&w.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(D=o4);if(D&&(D=D(e,m))){yk(N,D,a,y);break e}ae&&ae(e,B,m),e==="focusout"&&(ae=B._wrapperState)&&ae.controlled&&B.type==="number"&&Bm(B,"number",B.value)}switch(ae=m?tA(m):window,e){case"focusin":(Bv(ae)||ae.contentEditable==="true")&&(Zc=ae,Rm=m,Xd=null);break;case"focusout":Xd=Rm=Zc=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,Lv(N,a,y);break;case"selectionchange":if(d4)break;case"keydown":case"keyup":Lv(N,a,y)}var X;if(jy)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Jc?mk(e,a)&&(_="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_="onCompositionStart");_&&(pk&&a.locale!=="ko"&&(Jc||_!=="onCompositionStart"?_==="onCompositionEnd"&&Jc&&(X=fk()):(_o=y,Ny="value"in _o?_o.value:_o.textContent,Jc=!0)),ae=$g(m,_),0<ae.length&&(_=new wv(_,e,null,a,y),N.push({event:_,listeners:ae}),X?_.data=X:(X=xk(a),X!==null&&(_.data=X)))),(X=ZS?e4(e,a):t4(e,a))&&(m=$g(m,"onBeforeInput"),0<m.length&&(y=new wv("onBeforeInput","beforeinput",null,a,y),N.push({event:y,listeners:m}),y.data=X))}Ek(N,t)})}function pu(e,t,a){return{instance:e,listener:t,currentTarget:a}}function $g(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=cu(e,a),l!=null&&s.unshift(pu(e,l,o)),l=cu(e,t),l!=null&&s.push(pu(e,l,o))),e=e.return}return s}function Dc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uv(e,t,a,s,o){for(var l=t._reactName,d=[];a!==null&&a!==s;){var g=a,f=g.alternate,m=g.stateNode;if(f!==null&&f===s)break;g.tag===5&&m!==null&&(g=m,o?(f=cu(a,l),f!=null&&d.unshift(pu(a,f,g))):o||(f=cu(a,l),f!=null&&d.push(pu(a,f,g)))),a=a.return}d.length!==0&&e.push({event:t,listeners:d})}var f4=/\r\n?/g,p4=/\u0000|\uFFFD/g;function Dv(e){return(typeof e=="string"?e:""+e).replace(f4,`
`).replace(p4,"")}function Ph(e,t,a){if(t=Dv(t),Dv(e)!==t&&a)throw Error(lt(425))}function Jg(){}var Om=null,Hm=null;function _m(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zm=typeof setTimeout=="function"?setTimeout:void 0,m4=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,x4=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(e){return Tv.resolve(null).then(e).catch(y4)}:zm;function y4(e){setTimeout(function(){throw e})}function vp(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(s===0){e.removeChild(o),uu(t);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=o}while(a);uu(t)}function tl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var DA=Math.random().toString(36).slice(2),bi="__reactFiber$"+DA,mu="__reactProps$"+DA,io="__reactContainer$"+DA,Vm="__reactEvents$"+DA,b4="__reactListeners$"+DA,v4="__reactHandles$"+DA;function Ol(e){var t=e[bi];if(t)return t;for(var a=e.parentNode;a;){if(t=a[io]||a[bi]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Qv(e);e!==null;){if(a=e[bi])return a;e=Qv(e)}return t}e=a,a=e.parentNode}return null}function Du(e){return e=e[bi]||e[io],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tA(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(lt(33))}function V0(e){return e[mu]||null}var Gm=[],rA=-1;function xl(e){return{current:e}}function _r(e){0>rA||(e.current=Gm[rA],Gm[rA]=null,rA--)}function Qr(e,t){rA++,Gm[rA]=e.current,e.current=t}var ul={},gs=xl(ul),Qs=xl(!1),tc=ul;function kA(e,t){var a=e.type.contextTypes;if(!a)return ul;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in a)o[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Rs(e){return e=e.childContextTypes,e!=null}function Zg(){_r(Qs),_r(gs)}function Rv(e,t,a){if(gs.current!==ul)throw Error(lt(168));Qr(gs,t),Qr(Qs,a)}function Ik(e,t,a){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(lt(108,nS(e)||"Unknown",o));return $r({},a,s)}function e0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ul,tc=gs.current,Qr(gs,e),Qr(Qs,Qs.current),!0}function Mv(e,t,a){var s=e.stateNode;if(!s)throw Error(lt(169));a?(e=Ik(e,t,tc),s.__reactInternalMemoizedMergedChildContext=e,_r(Qs),_r(gs),Qr(gs,e)):_r(Qs),Qr(Qs,a)}var Yi=null,G0=!1,wp=!1;function Pk(e){Yi===null?Yi=[e]:Yi.push(e)}function w4(e){G0=!0,Pk(e)}function yl(){if(!wp&&Yi!==null){wp=!0;var e=0,t=Cr;try{var a=Yi;for(Cr=1;e<a.length;e++){var s=a[e];do s=s(!0);while(s!==null)}Yi=null,G0=!1}catch(o){throw Yi!==null&&(Yi=Yi.slice(e+1)),sk(by,yl),o}finally{Cr=t,wp=!1}}return null}var aA=[],sA=0,t0=null,r0=0,Bn=[],jn=0,rc=null,Ji=1,Zi="";function Pl(e,t){aA[sA++]=r0,aA[sA++]=t0,t0=e,r0=t}function Uk(e,t,a){Bn[jn++]=Ji,Bn[jn++]=Zi,Bn[jn++]=rc,rc=e;var s=Ji;e=Zi;var o=32-$n(s)-1;s&=~(1<<o),a+=1;var l=32-$n(t)+o;if(30<l){var d=o-o%5;l=(s&(1<<d)-1).toString(32),s>>=d,o-=d,Ji=1<<32-$n(t)+o|a<<o|s,Zi=l+e}else Ji=1<<l|a<<o|s,Zi=e}function Fy(e){e.return!==null&&(Pl(e,1),Uk(e,1,0))}function Ey(e){for(;e===t0;)t0=aA[--sA],aA[sA]=null,r0=aA[--sA],aA[sA]=null;for(;e===rc;)rc=Bn[--jn],Bn[jn]=null,Zi=Bn[--jn],Bn[jn]=null,Ji=Bn[--jn],Bn[jn]=null}var on=null,sn=null,Gr=!1,Wn=null;function Dk(e,t){var a=Fn(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function Ov(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,on=e,sn=tl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,on=e,sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=rc!==null?{id:Ji,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=Fn(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,on=e,sn=null,!0):!1;default:return!1}}function qm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xm(e){if(Gr){var t=sn;if(t){var a=t;if(!Ov(e,t)){if(qm(e))throw Error(lt(418));t=tl(a.nextSibling);var s=on;t&&Ov(e,t)?Dk(s,a):(e.flags=e.flags&-4097|2,Gr=!1,on=e)}}else{if(qm(e))throw Error(lt(418));e.flags=e.flags&-4097|2,Gr=!1,on=e}}}function Hv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;on=e}function Uh(e){if(e!==on)return!1;if(!Gr)return Hv(e),Gr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_m(e.type,e.memoizedProps)),t&&(t=sn)){if(qm(e))throw Tk(),Error(lt(418));for(;t;)Dk(e,t),t=tl(t.nextSibling)}if(Hv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(lt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){sn=tl(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}sn=null}}else sn=on?tl(e.stateNode.nextSibling):null;return!0}function Tk(){for(var e=sn;e;)e=tl(e.nextSibling)}function NA(){sn=on=null,Gr=!1}function Ly(e){Wn===null?Wn=[e]:Wn.push(e)}var k4=go.ReactCurrentBatchConfig;function xd(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(lt(309));var s=a.stateNode}if(!s)throw Error(lt(147,e));var o=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var g=o.refs;d===null?delete g[l]:g[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(lt(284));if(!a._owner)throw Error(lt(290,e))}return e}function Dh(e,t){throw e=Object.prototype.toString.call(t),Error(lt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _v(e){var t=e._init;return t(e._payload)}function Qk(e){function t(C,I){if(e){var T=C.deletions;T===null?(C.deletions=[I],C.flags|=16):T.push(I)}}function a(C,I){if(!e)return null;for(;I!==null;)t(C,I),I=I.sibling;return null}function s(C,I){for(C=new Map;I!==null;)I.key!==null?C.set(I.key,I):C.set(I.index,I),I=I.sibling;return C}function o(C,I){return C=nl(C,I),C.index=0,C.sibling=null,C}function l(C,I,T){return C.index=T,e?(T=C.alternate,T!==null?(T=T.index,T<I?(C.flags|=2,I):T):(C.flags|=2,I)):(C.flags|=1048576,I)}function d(C){return e&&C.alternate===null&&(C.flags|=2),C}function g(C,I,T,z){return I===null||I.tag!==6?(I=Fp(T,C.mode,z),I.return=C,I):(I=o(I,T),I.return=C,I)}function f(C,I,T,z){var D=T.type;return D===$c?y(C,I,T.props.children,z,T.key):I!==null&&(I.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===To&&_v(D)===I.type)?(z=o(I,T.props),z.ref=xd(C,I,T),z.return=C,z):(z=Fg(T.type,T.key,T.props,null,C.mode,z),z.ref=xd(C,I,T),z.return=C,z)}function m(C,I,T,z){return I===null||I.tag!==4||I.stateNode.containerInfo!==T.containerInfo||I.stateNode.implementation!==T.implementation?(I=Ep(T,C.mode,z),I.return=C,I):(I=o(I,T.children||[]),I.return=C,I)}function y(C,I,T,z,D){return I===null||I.tag!==7?(I=Wl(T,C.mode,z,D),I.return=C,I):(I=o(I,T),I.return=C,I)}function N(C,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Fp(""+I,C.mode,T),I.return=C,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Nh:return T=Fg(I.type,I.key,I.props,null,C.mode,T),T.ref=xd(C,null,I),T.return=C,T;case Yc:return I=Ep(I,C.mode,T),I.return=C,I;case To:var z=I._init;return N(C,z(I._payload),T)}if(Fd(I)||hd(I))return I=Wl(I,C.mode,T,null),I.return=C,I;Dh(C,I)}return null}function B(C,I,T,z){var D=I!==null?I.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:g(C,I,""+T,z);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Nh:return T.key===D?f(C,I,T,z):null;case Yc:return T.key===D?m(C,I,T,z):null;case To:return D=T._init,B(C,I,D(T._payload),z)}if(Fd(T)||hd(T))return D!==null?null:y(C,I,T,z,null);Dh(C,T)}return null}function w(C,I,T,z,D){if(typeof z=="string"&&z!==""||typeof z=="number")return C=C.get(T)||null,g(I,C,""+z,D);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Nh:return C=C.get(z.key===null?T:z.key)||null,f(I,C,z,D);case Yc:return C=C.get(z.key===null?T:z.key)||null,m(I,C,z,D);case To:var ae=z._init;return w(C,I,T,ae(z._payload),D)}if(Fd(z)||hd(z))return C=C.get(T)||null,y(I,C,z,D,null);Dh(I,z)}return null}function U(C,I,T,z){for(var D=null,ae=null,X=I,_=I=0,ie=null;X!==null&&_<T.length;_++){X.index>_?(ie=X,X=null):ie=X.sibling;var oe=B(C,X,T[_],z);if(oe===null){X===null&&(X=ie);break}e&&X&&oe.alternate===null&&t(C,X),I=l(oe,I,_),ae===null?D=oe:ae.sibling=oe,ae=oe,X=ie}if(_===T.length)return a(C,X),Gr&&Pl(C,_),D;if(X===null){for(;_<T.length;_++)X=N(C,T[_],z),X!==null&&(I=l(X,I,_),ae===null?D=X:ae.sibling=X,ae=X);return Gr&&Pl(C,_),D}for(X=s(C,X);_<T.length;_++)ie=w(X,C,_,T[_],z),ie!==null&&(e&&ie.alternate!==null&&X.delete(ie.key===null?_:ie.key),I=l(ie,I,_),ae===null?D=ie:ae.sibling=ie,ae=ie);return e&&X.forEach(function(W){return t(C,W)}),Gr&&Pl(C,_),D}function L(C,I,T,z){var D=hd(T);if(typeof D!="function")throw Error(lt(150));if(T=D.call(T),T==null)throw Error(lt(151));for(var ae=D=null,X=I,_=I=0,ie=null,oe=T.next();X!==null&&!oe.done;_++,oe=T.next()){X.index>_?(ie=X,X=null):ie=X.sibling;var W=B(C,X,oe.value,z);if(W===null){X===null&&(X=ie);break}e&&X&&W.alternate===null&&t(C,X),I=l(W,I,_),ae===null?D=W:ae.sibling=W,ae=W,X=ie}if(oe.done)return a(C,X),Gr&&Pl(C,_),D;if(X===null){for(;!oe.done;_++,oe=T.next())oe=N(C,oe.value,z),oe!==null&&(I=l(oe,I,_),ae===null?D=oe:ae.sibling=oe,ae=oe);return Gr&&Pl(C,_),D}for(X=s(C,X);!oe.done;_++,oe=T.next())oe=w(X,C,_,oe.value,z),oe!==null&&(e&&oe.alternate!==null&&X.delete(oe.key===null?_:oe.key),I=l(oe,I,_),ae===null?D=oe:ae.sibling=oe,ae=oe);return e&&X.forEach(function($){return t(C,$)}),Gr&&Pl(C,_),D}function R(C,I,T,z){if(typeof T=="object"&&T!==null&&T.type===$c&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Nh:e:{for(var D=T.key,ae=I;ae!==null;){if(ae.key===D){if(D=T.type,D===$c){if(ae.tag===7){a(C,ae.sibling),I=o(ae,T.props.children),I.return=C,C=I;break e}}else if(ae.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===To&&_v(D)===ae.type){a(C,ae.sibling),I=o(ae,T.props),I.ref=xd(C,ae,T),I.return=C,C=I;break e}a(C,ae);break}else t(C,ae);ae=ae.sibling}T.type===$c?(I=Wl(T.props.children,C.mode,z,T.key),I.return=C,C=I):(z=Fg(T.type,T.key,T.props,null,C.mode,z),z.ref=xd(C,I,T),z.return=C,C=z)}return d(C);case Yc:e:{for(ae=T.key;I!==null;){if(I.key===ae)if(I.tag===4&&I.stateNode.containerInfo===T.containerInfo&&I.stateNode.implementation===T.implementation){a(C,I.sibling),I=o(I,T.children||[]),I.return=C,C=I;break e}else{a(C,I);break}else t(C,I);I=I.sibling}I=Ep(T,C.mode,z),I.return=C,C=I}return d(C);case To:return ae=T._init,R(C,I,ae(T._payload),z)}if(Fd(T))return U(C,I,T,z);if(hd(T))return L(C,I,T,z);Dh(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,I!==null&&I.tag===6?(a(C,I.sibling),I=o(I,T),I.return=C,C=I):(a(C,I),I=Fp(T,C.mode,z),I.return=C,C=I),d(C)):a(C,I)}return R}var CA=Qk(!0),Rk=Qk(!1),a0=xl(null),s0=null,nA=null,Iy=null;function Py(){Iy=nA=s0=null}function Uy(e){var t=a0.current;_r(a0),e._currentValue=t}function Km(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function gA(e,t){s0=e,Iy=nA=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ts=!0),e.firstContext=null)}function Pn(e){var t=e._currentValue;if(Iy!==e)if(e={context:e,memoizedValue:t,next:null},nA===null){if(s0===null)throw Error(lt(308));nA=e,s0.dependencies={lanes:0,firstContext:e}}else nA=nA.next=e;return t}var Hl=null;function Dy(e){Hl===null?Hl=[e]:Hl.push(e)}function Mk(e,t,a,s){var o=t.interleaved;return o===null?(a.next=a,Dy(t)):(a.next=o.next,o.next=a),t.interleaved=a,oo(e,s)}function oo(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Qo=!1;function Ty(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ok(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function to(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rl(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,gr&2){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,oo(e,a)}return o=s.interleaved,o===null?(t.next=t,Dy(s)):(t.next=o.next,o.next=t),s.interleaved=t,oo(e,a)}function kg(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,vy(e,a)}}function zv(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var d={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};l===null?o=l=d:l=l.next=d,a=a.next}while(a!==null);l===null?o=l=t:l=l.next=t}else o=l=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function n0(e,t,a,s){var o=e.updateQueue;Qo=!1;var l=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var f=g,m=f.next;f.next=null,d===null?l=m:d.next=m,d=f;var y=e.alternate;y!==null&&(y=y.updateQueue,g=y.lastBaseUpdate,g!==d&&(g===null?y.firstBaseUpdate=m:g.next=m,y.lastBaseUpdate=f))}if(l!==null){var N=o.baseState;d=0,y=m=f=null,g=l;do{var B=g.lane,w=g.eventTime;if((s&B)===B){y!==null&&(y=y.next={eventTime:w,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var U=e,L=g;switch(B=t,w=a,L.tag){case 1:if(U=L.payload,typeof U=="function"){N=U.call(w,N,B);break e}N=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=L.payload,B=typeof U=="function"?U.call(w,N,B):U,B==null)break e;N=$r({},N,B);break e;case 2:Qo=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,B=o.effects,B===null?o.effects=[g]:B.push(g))}else w={eventTime:w,lane:B,tag:g.tag,payload:g.payload,callback:g.callback,next:null},y===null?(m=y=w,f=N):y=y.next=w,d|=B;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;B=g,g=B.next,B.next=null,o.lastBaseUpdate=B,o.shared.pending=null}}while(1);if(y===null&&(f=N),o.baseState=f,o.firstBaseUpdate=m,o.lastBaseUpdate=y,t=o.shared.interleaved,t!==null){o=t;do d|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);sc|=d,e.lanes=d,e.memoizedState=N}}function Vv(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=a,typeof o!="function")throw Error(lt(191,o));o.call(s)}}}var Tu={},ki=xl(Tu),xu=xl(Tu),yu=xl(Tu);function _l(e){if(e===Tu)throw Error(lt(174));return e}function Qy(e,t){switch(Qr(yu,t),Qr(xu,e),Qr(ki,Tu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sm(t,e)}_r(ki),Qr(ki,t)}function BA(){_r(ki),_r(xu),_r(yu)}function Hk(e){_l(yu.current);var t=_l(ki.current),a=Sm(t,e.type);t!==a&&(Qr(xu,e),Qr(ki,a))}function Ry(e){xu.current===e&&(_r(ki),_r(xu))}var Kr=xl(0);function i0(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kp=[];function My(){for(var e=0;e<kp.length;e++)kp[e]._workInProgressVersionPrimary=null;kp.length=0}var Ng=go.ReactCurrentDispatcher,Np=go.ReactCurrentBatchConfig,ac=0,Wr=null,Fa=null,Ta=null,o0=!1,Kd=!1,bu=0,N4=0;function Za(){throw Error(lt(321))}function Oy(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ei(e[a],t[a]))return!1;return!0}function Hy(e,t,a,s,o,l){if(ac=l,Wr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ng.current=e===null||e.memoizedState===null?S4:F4,e=a(s,o),Kd){l=0;do{if(Kd=!1,bu=0,25<=l)throw Error(lt(301));l+=1,Ta=Fa=null,t.updateQueue=null,Ng.current=E4,e=a(s,o)}while(Kd)}if(Ng.current=l0,t=Fa!==null&&Fa.next!==null,ac=0,Ta=Fa=Wr=null,o0=!1,t)throw Error(lt(300));return e}function _y(){var e=bu!==0;return bu=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ta===null?Wr.memoizedState=Ta=e:Ta=Ta.next=e,Ta}function Un(){if(Fa===null){var e=Wr.alternate;e=e!==null?e.memoizedState:null}else e=Fa.next;var t=Ta===null?Wr.memoizedState:Ta.next;if(t!==null)Ta=t,Fa=e;else{if(e===null)throw Error(lt(310));Fa=e,e={memoizedState:Fa.memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},Ta===null?Wr.memoizedState=Ta=e:Ta=Ta.next=e}return Ta}function vu(e,t){return typeof t=="function"?t(e):t}function Cp(e){var t=Un(),a=t.queue;if(a===null)throw Error(lt(311));a.lastRenderedReducer=e;var s=Fa,o=s.baseQueue,l=a.pending;if(l!==null){if(o!==null){var d=o.next;o.next=l.next,l.next=d}s.baseQueue=o=l,a.pending=null}if(o!==null){l=o.next,s=s.baseState;var g=d=null,f=null,m=l;do{var y=m.lane;if((ac&y)===y)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),s=m.hasEagerState?m.eagerState:e(s,m.action);else{var N={lane:y,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(g=f=N,d=s):f=f.next=N,Wr.lanes|=y,sc|=y}m=m.next}while(m!==null&&m!==l);f===null?d=s:f.next=g,ei(s,t.memoizedState)||(Ts=!0),t.memoizedState=s,t.baseState=d,t.baseQueue=f,a.lastRenderedState=s}if(e=a.interleaved,e!==null){o=e;do l=o.lane,Wr.lanes|=l,sc|=l,o=o.next;while(o!==e)}else o===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Bp(e){var t=Un(),a=t.queue;if(a===null)throw Error(lt(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,l=t.memoizedState;if(o!==null){a.pending=null;var d=o=o.next;do l=e(l,d.action),d=d.next;while(d!==o);ei(l,t.memoizedState)||(Ts=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),a.lastRenderedState=l}return[l,s]}function _k(){}function zk(e,t){var a=Wr,s=Un(),o=t(),l=!ei(s.memoizedState,o);if(l&&(s.memoizedState=o,Ts=!0),s=s.queue,zy(qk.bind(null,a,s,e),[e]),s.getSnapshot!==t||l||Ta!==null&&Ta.memoizedState.tag&1){if(a.flags|=2048,wu(9,Gk.bind(null,a,s,o,t),void 0,null),Ra===null)throw Error(lt(349));ac&30||Vk(a,t,o)}return o}function Vk(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Wr.updateQueue,t===null?(t={lastEffect:null,stores:null},Wr.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Gk(e,t,a,s){t.value=a,t.getSnapshot=s,Xk(t)&&Kk(e)}function qk(e,t,a){return a(function(){Xk(t)&&Kk(e)})}function Xk(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ei(e,a)}catch{return!0}}function Kk(e){var t=oo(e,1);t!==null&&Jn(t,e,1,-1)}function Gv(e){var t=xi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:e},t.queue=e,e=e.dispatch=j4.bind(null,Wr,e),[t.memoizedState,e]}function wu(e,t,a,s){return e={tag:e,create:t,destroy:a,deps:s,next:null},t=Wr.updateQueue,t===null?(t={lastEffect:null,stores:null},Wr.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e)),e}function Wk(){return Un().memoizedState}function Cg(e,t,a,s){var o=xi();Wr.flags|=e,o.memoizedState=wu(1|t,a,void 0,s===void 0?null:s)}function q0(e,t,a,s){var o=Un();s=s===void 0?null:s;var l=void 0;if(Fa!==null){var d=Fa.memoizedState;if(l=d.destroy,s!==null&&Oy(s,d.deps)){o.memoizedState=wu(t,a,l,s);return}}Wr.flags|=e,o.memoizedState=wu(1|t,a,l,s)}function qv(e,t){return Cg(8390656,8,e,t)}function zy(e,t){return q0(2048,8,e,t)}function Yk(e,t){return q0(4,2,e,t)}function $k(e,t){return q0(4,4,e,t)}function Jk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zk(e,t,a){return a=a!=null?a.concat([e]):null,q0(4,4,Jk.bind(null,t,e),a)}function Vy(){}function eN(e,t){var a=Un();t=t===void 0?null:t;var s=a.memoizedState;return s!==null&&t!==null&&Oy(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function tN(e,t){var a=Un();t=t===void 0?null:t;var s=a.memoizedState;return s!==null&&t!==null&&Oy(t,s[1])?s[0]:(e=e(),a.memoizedState=[e,t],e)}function rN(e,t,a){return ac&21?(ei(a,t)||(a=ok(),Wr.lanes|=a,sc|=a,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ts=!0),e.memoizedState=a)}function C4(e,t){var a=Cr;Cr=a!==0&&4>a?a:4,e(!0);var s=Np.transition;Np.transition={};try{e(!1),t()}finally{Cr=a,Np.transition=s}}function aN(){return Un().memoizedState}function B4(e,t,a){var s=sl(e);if(a={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null},sN(e))nN(t,a);else if(a=Mk(e,t,a,s),a!==null){var o=ks();Jn(a,e,s,o),iN(a,t,s)}}function j4(e,t,a){var s=sl(e),o={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null};if(sN(e))nN(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,g=l(d,a);if(o.hasEagerState=!0,o.eagerState=g,ei(g,d)){var f=t.interleaved;f===null?(o.next=o,Dy(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}a=Mk(e,t,o,s),a!==null&&(o=ks(),Jn(a,e,s,o),iN(a,t,s))}}function sN(e){var t=e.alternate;return e===Wr||t!==null&&t===Wr}function nN(e,t){Kd=o0=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function iN(e,t,a){if(a&4194240){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,vy(e,a)}}var l0={readContext:Pn,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useInsertionEffect:Za,useLayoutEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useMutableSource:Za,useSyncExternalStore:Za,useId:Za,unstable_isNewReconciler:!1},S4={readContext:Pn,useCallback:function(e,t){return xi().memoizedState=[e,t===void 0?null:t],e},useContext:Pn,useEffect:qv,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,Cg(4194308,4,Jk.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Cg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cg(4,2,e,t)},useMemo:function(e,t){var a=xi();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var s=xi();return t=a!==void 0?a(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=B4.bind(null,Wr,e),[s.memoizedState,e]},useRef:function(e){var t=xi();return e={current:e},t.memoizedState=e},useState:Gv,useDebugValue:Vy,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Gv(!1),t=e[0];return e=C4.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var s=Wr,o=xi();if(Gr){if(a===void 0)throw Error(lt(407));a=a()}else{if(a=t(),Ra===null)throw Error(lt(349));ac&30||Vk(s,t,a)}o.memoizedState=a;var l={value:a,getSnapshot:t};return o.queue=l,qv(qk.bind(null,s,l,e),[e]),s.flags|=2048,wu(9,Gk.bind(null,s,l,a,t),void 0,null),a},useId:function(){var e=xi(),t=Ra.identifierPrefix;if(Gr){var a=Zi,s=Ji;a=(s&~(1<<32-$n(s)-1)).toString(32)+a,t=":"+t+"R"+a,a=bu++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=N4++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},F4={readContext:Pn,useCallback:eN,useContext:Pn,useEffect:zy,useImperativeHandle:Zk,useInsertionEffect:Yk,useLayoutEffect:$k,useMemo:tN,useReducer:Cp,useRef:Wk,useState:function(){return Cp(vu)},useDebugValue:Vy,useDeferredValue:function(e){var t=Un();return rN(t,Fa.memoizedState,e)},useTransition:function(){var e=Cp(vu)[0],t=Un().memoizedState;return[e,t]},useMutableSource:_k,useSyncExternalStore:zk,useId:aN,unstable_isNewReconciler:!1},E4={readContext:Pn,useCallback:eN,useContext:Pn,useEffect:zy,useImperativeHandle:Zk,useInsertionEffect:Yk,useLayoutEffect:$k,useMemo:tN,useReducer:Bp,useRef:Wk,useState:function(){return Bp(vu)},useDebugValue:Vy,useDeferredValue:function(e){var t=Un();return Fa===null?t.memoizedState=e:rN(t,Fa.memoizedState,e)},useTransition:function(){var e=Bp(vu)[0],t=Un().memoizedState;return[e,t]},useMutableSource:_k,useSyncExternalStore:zk,useId:aN,unstable_isNewReconciler:!1};function qn(e,t){if(e&&e.defaultProps){t=$r({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function Wm(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:$r({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var X0={isMounted:function(e){return(e=e._reactInternals)?uc(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var s=ks(),o=sl(e),l=to(s,o);l.payload=t,a!=null&&(l.callback=a),t=rl(e,l,o),t!==null&&(Jn(t,e,o,s),kg(t,e,o))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=ks(),o=sl(e),l=to(s,o);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=rl(e,l,o),t!==null&&(Jn(t,e,o,s),kg(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ks(),s=sl(e),o=to(a,s);o.tag=2,t!=null&&(o.callback=t),t=rl(e,o,s),t!==null&&(Jn(t,e,s,a),kg(t,e,s))}};function Xv(e,t,a,s,o,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,d):t.prototype&&t.prototype.isPureReactComponent?!gu(a,s)||!gu(o,l):!0}function oN(e,t,a){var s=!1,o=ul,l=t.contextType;return typeof l=="object"&&l!==null?l=Pn(l):(o=Rs(t)?tc:gs.current,s=t.contextTypes,l=(s=s!=null)?kA(e,o):ul),t=new t(a,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=X0,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function Kv(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&X0.enqueueReplaceState(t,t.state,null)}function Ym(e,t,a,s){var o=e.stateNode;o.props=a,o.state=e.memoizedState,o.refs={},Ty(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=Pn(l):(l=Rs(t)?tc:gs.current,o.context=kA(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Wm(e,t,l,a),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&X0.enqueueReplaceState(o,o.state,null),n0(e,a,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function jA(e,t){try{var a="",s=t;do a+=sS(s),s=s.return;while(s);var o=a}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function jp(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function $m(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var L4=typeof WeakMap=="function"?WeakMap:Map;function lN(e,t,a){a=to(-1,a),a.tag=3,a.payload={element:null};var s=t.value;return a.callback=function(){A0||(A0=!0,ox=s),$m(e,t)},a}function cN(e,t,a){a=to(-1,a),a.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;a.payload=function(){return s(o)},a.callback=function(){$m(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(a.callback=function(){$m(e,t),typeof s!="function"&&(al===null?al=new Set([this]):al.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),a}function Wv(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new L4;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(o.add(a),e=G4.bind(null,e,t,a),t.then(e,e))}function Yv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $v(e,t,a,s,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=to(-1,1),t.tag=2,rl(a,t,1))),a.lanes|=1),e)}var I4=go.ReactCurrentOwner,Ts=!1;function bs(e,t,a,s){t.child=e===null?Rk(t,null,a,s):CA(t,e.child,a,s)}function Jv(e,t,a,s,o){a=a.render;var l=t.ref;return gA(t,o),s=Hy(e,t,a,s,l,o),a=_y(),e!==null&&!Ts?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,lo(e,t,o)):(Gr&&a&&Fy(t),t.flags|=1,bs(e,t,s,o),t.child)}function Zv(e,t,a,s,o){if(e===null){var l=a.type;return typeof l=="function"&&!Jy(l)&&l.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=l,AN(e,t,l,s,o)):(e=Fg(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var d=l.memoizedProps;if(a=a.compare,a=a!==null?a:gu,a(d,s)&&e.ref===t.ref)return lo(e,t,o)}return t.flags|=1,e=nl(l,s),e.ref=t.ref,e.return=t,t.child=e}function AN(e,t,a,s,o){if(e!==null){var l=e.memoizedProps;if(gu(l,s)&&e.ref===t.ref)if(Ts=!1,t.pendingProps=s=l,(e.lanes&o)!==0)e.flags&131072&&(Ts=!0);else return t.lanes=e.lanes,lo(e,t,o)}return Jm(e,t,a,s,o)}function dN(e,t,a){var s=t.pendingProps,o=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qr(oA,rn),rn|=a;else{if(!(a&1073741824))return e=l!==null?l.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qr(oA,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:a,Qr(oA,rn),rn|=s}else l!==null?(s=l.baseLanes|a,t.memoizedState=null):s=a,Qr(oA,rn),rn|=s;return bs(e,t,o,a),t.child}function uN(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Jm(e,t,a,s,o){var l=Rs(a)?tc:gs.current;return l=kA(t,l),gA(t,o),a=Hy(e,t,a,s,l,o),s=_y(),e!==null&&!Ts?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,lo(e,t,o)):(Gr&&s&&Fy(t),t.flags|=1,bs(e,t,a,o),t.child)}function ew(e,t,a,s,o){if(Rs(a)){var l=!0;e0(t)}else l=!1;if(gA(t,o),t.stateNode===null)Bg(e,t),oN(t,a,s),Ym(t,a,s,o),s=!0;else if(e===null){var d=t.stateNode,g=t.memoizedProps;d.props=g;var f=d.context,m=a.contextType;typeof m=="object"&&m!==null?m=Pn(m):(m=Rs(a)?tc:gs.current,m=kA(t,m));var y=a.getDerivedStateFromProps,N=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function";N||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==s||f!==m)&&Kv(t,d,s,m),Qo=!1;var B=t.memoizedState;d.state=B,n0(t,s,d,o),f=t.memoizedState,g!==s||B!==f||Qs.current||Qo?(typeof y=="function"&&(Wm(t,a,y,s),f=t.memoizedState),(g=Qo||Xv(t,a,g,s,B,f,m))?(N||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=f),d.props=s,d.state=f,d.context=m,s=g):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Ok(e,t),g=t.memoizedProps,m=t.type===t.elementType?g:qn(t.type,g),d.props=m,N=t.pendingProps,B=d.context,f=a.contextType,typeof f=="object"&&f!==null?f=Pn(f):(f=Rs(a)?tc:gs.current,f=kA(t,f));var w=a.getDerivedStateFromProps;(y=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==N||B!==f)&&Kv(t,d,s,f),Qo=!1,B=t.memoizedState,d.state=B,n0(t,s,d,o);var U=t.memoizedState;g!==N||B!==U||Qs.current||Qo?(typeof w=="function"&&(Wm(t,a,w,s),U=t.memoizedState),(m=Qo||Xv(t,a,m,s,B,U,f)||!1)?(y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,U,f),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,U,f)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=U),d.props=s,d.state=U,d.context=f,s=m):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),s=!1)}return Zm(e,t,a,s,l,o)}function Zm(e,t,a,s,o,l){uN(e,t);var d=(t.flags&128)!==0;if(!s&&!d)return o&&Mv(t,a,!1),lo(e,t,l);s=t.stateNode,I4.current=t;var g=d&&typeof a.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&d?(t.child=CA(t,e.child,null,l),t.child=CA(t,null,g,l)):bs(e,t,g,l),t.memoizedState=s.state,o&&Mv(t,a,!0),t.child}function hN(e){var t=e.stateNode;t.pendingContext?Rv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rv(e,t.context,!1),Qy(e,t.containerInfo)}function tw(e,t,a,s,o){return NA(),Ly(o),t.flags|=256,bs(e,t,a,s),t.child}var ex={dehydrated:null,treeContext:null,retryLane:0};function tx(e){return{baseLanes:e,cachePool:null,transitions:null}}function gN(e,t,a){var s=t.pendingProps,o=Kr.current,l=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(o&2)!==0),g?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Qr(Kr,o&1),e===null)return Xm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=s.children,e=s.fallback,l?(s=t.mode,l=t.child,d={mode:"hidden",children:d},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=Y0(d,s,0,null),e=Wl(e,s,a,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=tx(a),t.memoizedState=ex,e):Gy(t,d));if(o=e.memoizedState,o!==null&&(g=o.dehydrated,g!==null))return P4(e,t,d,s,g,o,a);if(l){l=s.fallback,d=t.mode,o=e.child,g=o.sibling;var f={mode:"hidden",children:s.children};return!(d&1)&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=f,t.deletions=null):(s=nl(o,f),s.subtreeFlags=o.subtreeFlags&14680064),g!==null?l=nl(g,l):(l=Wl(l,d,a,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,d=e.child.memoizedState,d=d===null?tx(a):{baseLanes:d.baseLanes|a,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~a,t.memoizedState=ex,s}return l=e.child,e=l.sibling,s=nl(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=a),s.return=t,s.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=s,t.memoizedState=null,s}function Gy(e,t){return t=Y0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Th(e,t,a,s){return s!==null&&Ly(s),CA(t,e.child,null,a),e=Gy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P4(e,t,a,s,o,l,d){if(a)return t.flags&256?(t.flags&=-257,s=jp(Error(lt(422))),Th(e,t,d,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,o=t.mode,s=Y0({mode:"visible",children:s.children},o,0,null),l=Wl(l,o,d,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&CA(t,e.child,null,d),t.child.memoizedState=tx(d),t.memoizedState=ex,l);if(!(t.mode&1))return Th(e,t,d,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var g=s.dgst;return s=g,l=Error(lt(419)),s=jp(l,s,void 0),Th(e,t,d,s)}if(g=(d&e.childLanes)!==0,Ts||g){if(s=Ra,s!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(s.suspendedLanes|d)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,oo(e,o),Jn(s,e,o,-1))}return $y(),s=jp(Error(lt(421))),Th(e,t,d,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=q4.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,sn=tl(o.nextSibling),on=t,Gr=!0,Wn=null,e!==null&&(Bn[jn++]=Ji,Bn[jn++]=Zi,Bn[jn++]=rc,Ji=e.id,Zi=e.overflow,rc=t),t=Gy(t,s.children),t.flags|=4096,t)}function rw(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Km(e.return,t,a)}function Sp(e,t,a,s,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=a,l.tailMode=o)}function fN(e,t,a){var s=t.pendingProps,o=s.revealOrder,l=s.tail;if(bs(e,t,s.children,a),s=Kr.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rw(e,a,t);else if(e.tag===19)rw(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Qr(Kr,s),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&i0(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Sp(t,!1,o,a,l);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&i0(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Sp(t,!0,a,null,l);break;case"together":Sp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lo(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),sc|=t.lanes,!(a&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(lt(153));if(t.child!==null){for(e=t.child,a=nl(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=nl(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function U4(e,t,a){switch(t.tag){case 3:hN(t),NA();break;case 5:Hk(t);break;case 1:Rs(t.type)&&e0(t);break;case 4:Qy(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;Qr(a0,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Qr(Kr,Kr.current&1),t.flags|=128,null):a&t.child.childLanes?gN(e,t,a):(Qr(Kr,Kr.current&1),e=lo(e,t,a),e!==null?e.sibling:null);Qr(Kr,Kr.current&1);break;case 19:if(s=(a&t.childLanes)!==0,e.flags&128){if(s)return fN(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Qr(Kr,Kr.current),s)break;return null;case 22:case 23:return t.lanes=0,dN(e,t,a)}return lo(e,t,a)}var pN,rx,mN,xN;pN=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};rx=function(){};mN=function(e,t,a,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,_l(ki.current);var l=null;switch(a){case"input":o=Nm(e,o),s=Nm(e,s),l=[];break;case"select":o=$r({},o,{value:void 0}),s=$r({},s,{value:void 0}),l=[];break;case"textarea":o=jm(e,o),s=jm(e,s),l=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Jg)}Fm(a,s);var d;a=null;for(m in o)if(!s.hasOwnProperty(m)&&o.hasOwnProperty(m)&&o[m]!=null)if(m==="style"){var g=o[m];for(d in g)g.hasOwnProperty(d)&&(a||(a={}),a[d]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ou.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in s){var f=s[m];if(g=o!=null?o[m]:void 0,s.hasOwnProperty(m)&&f!==g&&(f!=null||g!=null))if(m==="style")if(g){for(d in g)!g.hasOwnProperty(d)||f&&f.hasOwnProperty(d)||(a||(a={}),a[d]="");for(d in f)f.hasOwnProperty(d)&&g[d]!==f[d]&&(a||(a={}),a[d]=f[d])}else a||(l||(l=[]),l.push(m,a)),a=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,g=g?g.__html:void 0,f!=null&&g!==f&&(l=l||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(l=l||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ou.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&Or("scroll",e),l||g===f||(l=[])):(l=l||[]).push(m,f))}a&&(l=l||[]).push("style",a);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};xN=function(e,t,a,s){a!==s&&(t.flags|=4)};function yd(e,t){if(!Gr)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function es(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function D4(e,t,a){var s=t.pendingProps;switch(Ey(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(t),null;case 1:return Rs(t.type)&&Zg(),es(t),null;case 3:return s=t.stateNode,BA(),_r(Qs),_r(gs),My(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Uh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wn!==null&&(Ax(Wn),Wn=null))),rx(e,t),es(t),null;case 5:Ry(t);var o=_l(yu.current);if(a=t.type,e!==null&&t.stateNode!=null)mN(e,t,a,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(lt(166));return es(t),null}if(e=_l(ki.current),Uh(t)){s=t.stateNode,a=t.type;var l=t.memoizedProps;switch(s[bi]=t,s[mu]=l,e=(t.mode&1)!==0,a){case"dialog":Or("cancel",s),Or("close",s);break;case"iframe":case"object":case"embed":Or("load",s);break;case"video":case"audio":for(o=0;o<Ld.length;o++)Or(Ld[o],s);break;case"source":Or("error",s);break;case"img":case"image":case"link":Or("error",s),Or("load",s);break;case"details":Or("toggle",s);break;case"input":dv(s,l),Or("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Or("invalid",s);break;case"textarea":hv(s,l),Or("invalid",s)}Fm(a,l),o=null;for(var d in l)if(l.hasOwnProperty(d)){var g=l[d];d==="children"?typeof g=="string"?s.textContent!==g&&(l.suppressHydrationWarning!==!0&&Ph(s.textContent,g,e),o=["children",g]):typeof g=="number"&&s.textContent!==""+g&&(l.suppressHydrationWarning!==!0&&Ph(s.textContent,g,e),o=["children",""+g]):ou.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&Or("scroll",s)}switch(a){case"input":Ch(s),uv(s,l,!0);break;case"textarea":Ch(s),gv(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Jg)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q2(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=d.createElement(a,{is:s.is}):(e=d.createElement(a),a==="select"&&(d=e,s.multiple?d.multiple=!0:s.size&&(d.size=s.size))):e=d.createElementNS(e,a),e[bi]=t,e[mu]=s,pN(e,t,!1,!1),t.stateNode=e;e:{switch(d=Em(a,s),a){case"dialog":Or("cancel",e),Or("close",e),o=s;break;case"iframe":case"object":case"embed":Or("load",e),o=s;break;case"video":case"audio":for(o=0;o<Ld.length;o++)Or(Ld[o],e);o=s;break;case"source":Or("error",e),o=s;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=s;break;case"details":Or("toggle",e),o=s;break;case"input":dv(e,s),o=Nm(e,s),Or("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=$r({},s,{value:void 0}),Or("invalid",e);break;case"textarea":hv(e,s),o=jm(e,s),Or("invalid",e);break;default:o=s}Fm(a,o),g=o;for(l in g)if(g.hasOwnProperty(l)){var f=g[l];l==="style"?W2(e,f):l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&X2(e,f)):l==="children"?typeof f=="string"?(a!=="textarea"||f!=="")&&lu(e,f):typeof f=="number"&&lu(e,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ou.hasOwnProperty(l)?f!=null&&l==="onScroll"&&Or("scroll",e):f!=null&&fy(e,l,f,d))}switch(a){case"input":Ch(e),uv(e,s,!1);break;case"textarea":Ch(e),gv(e);break;case"option":s.value!=null&&e.setAttribute("value",""+dl(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?AA(e,!!s.multiple,l,!1):s.defaultValue!=null&&AA(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Jg)}switch(a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return es(t),null;case 6:if(e&&t.stateNode!=null)xN(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(lt(166));if(a=_l(yu.current),_l(ki.current),Uh(t)){if(s=t.stateNode,a=t.memoizedProps,s[bi]=t,(l=s.nodeValue!==a)&&(e=on,e!==null))switch(e.tag){case 3:Ph(s.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ph(s.nodeValue,a,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[bi]=t,t.stateNode=s}return es(t),null;case 13:if(_r(Kr),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gr&&sn!==null&&t.mode&1&&!(t.flags&128))Tk(),NA(),t.flags|=98560,l=!1;else if(l=Uh(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(lt(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(lt(317));l[bi]=t}else NA(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;es(t),l=!1}else Wn!==null&&(Ax(Wn),Wn=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=a,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Kr.current&1?La===0&&(La=3):$y())),t.updateQueue!==null&&(t.flags|=4),es(t),null);case 4:return BA(),rx(e,t),e===null&&fu(t.stateNode.containerInfo),es(t),null;case 10:return Uy(t.type._context),es(t),null;case 17:return Rs(t.type)&&Zg(),es(t),null;case 19:if(_r(Kr),l=t.memoizedState,l===null)return es(t),null;if(s=(t.flags&128)!==0,d=l.rendering,d===null)if(s)yd(l,!1);else{if(La!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=i0(e),d!==null){for(t.flags|=128,yd(l,!1),s=d.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=a,a=t.child;a!==null;)l=a,e=s,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Qr(Kr,Kr.current&1|2),t.child}e=e.sibling}l.tail!==null&&ua()>SA&&(t.flags|=128,s=!0,yd(l,!1),t.lanes=4194304)}else{if(!s)if(e=i0(d),e!==null){if(t.flags|=128,s=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),yd(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Gr)return es(t),null}else 2*ua()-l.renderingStartTime>SA&&a!==1073741824&&(t.flags|=128,s=!0,yd(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(a=l.last,a!==null?a.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ua(),t.sibling=null,a=Kr.current,Qr(Kr,s?a&1|2:a&1),t):(es(t),null);case 22:case 23:return Yy(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?rn&1073741824&&(es(t),t.subtreeFlags&6&&(t.flags|=8192)):es(t),null;case 24:return null;case 25:return null}throw Error(lt(156,t.tag))}function T4(e,t){switch(Ey(t),t.tag){case 1:return Rs(t.type)&&Zg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return BA(),_r(Qs),_r(gs),My(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ry(t),null;case 13:if(_r(Kr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(lt(340));NA()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _r(Kr),null;case 4:return BA(),null;case 10:return Uy(t.type._context),null;case 22:case 23:return Yy(),null;case 24:return null;default:return null}}var Qh=!1,ls=!1,Q4=typeof WeakSet=="function"?WeakSet:Set,jt=null;function iA(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){sa(e,t,s)}else a.current=null}function ax(e,t,a){try{a()}catch(s){sa(e,t,s)}}var aw=!1;function R4(e,t){if(Om=Wg,e=kk(),Sy(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var d=0,g=-1,f=-1,m=0,y=0,N=e,B=null;t:for(;;){for(var w;N!==a||o!==0&&N.nodeType!==3||(g=d+o),N!==l||s!==0&&N.nodeType!==3||(f=d+s),N.nodeType===3&&(d+=N.nodeValue.length),(w=N.firstChild)!==null;)B=N,N=w;for(;;){if(N===e)break t;if(B===a&&++m===o&&(g=d),B===l&&++y===s&&(f=d),(w=N.nextSibling)!==null)break;N=B,B=N.parentNode}N=w}a=g===-1||f===-1?null:{start:g,end:f}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hm={focusedElem:e,selectionRange:a},Wg=!1,jt=t;jt!==null;)if(t=jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,jt=e;else for(;jt!==null;){t=jt;try{var U=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var L=U.memoizedProps,R=U.memoizedState,C=t.stateNode,I=C.getSnapshotBeforeUpdate(t.elementType===t.type?L:qn(t.type,L),R);C.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(z){sa(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,jt=e;break}jt=t.return}return U=aw,aw=!1,U}function Wd(e,t,a){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&ax(t,a,l)}o=o.next}while(o!==s)}}function K0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var s=a.create;a.destroy=s()}a=a.next}while(a!==t)}}function sx(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function yN(e){var t=e.alternate;t!==null&&(e.alternate=null,yN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bi],delete t[mu],delete t[Vm],delete t[b4],delete t[v4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bN(e){return e.tag===5||e.tag===3||e.tag===4}function sw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nx(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Jg));else if(s!==4&&(e=e.child,e!==null))for(nx(e,t,a),e=e.sibling;e!==null;)nx(e,t,a),e=e.sibling}function ix(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ix(e,t,a),e=e.sibling;e!==null;)ix(e,t,a),e=e.sibling}var Va=null,Kn=!1;function Lo(e,t,a){for(a=a.child;a!==null;)vN(e,t,a),a=a.sibling}function vN(e,t,a){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(O0,a)}catch{}switch(a.tag){case 5:ls||iA(a,t);case 6:var s=Va,o=Kn;Va=null,Lo(e,t,a),Va=s,Kn=o,Va!==null&&(Kn?(e=Va,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Va.removeChild(a.stateNode));break;case 18:Va!==null&&(Kn?(e=Va,a=a.stateNode,e.nodeType===8?vp(e.parentNode,a):e.nodeType===1&&vp(e,a),uu(e)):vp(Va,a.stateNode));break;case 4:s=Va,o=Kn,Va=a.stateNode.containerInfo,Kn=!0,Lo(e,t,a),Va=s,Kn=o;break;case 0:case 11:case 14:case 15:if(!ls&&(s=a.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var l=o,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&ax(a,t,d),o=o.next}while(o!==s)}Lo(e,t,a);break;case 1:if(!ls&&(iA(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=a.memoizedProps,s.state=a.memoizedState,s.componentWillUnmount()}catch(g){sa(a,t,g)}Lo(e,t,a);break;case 21:Lo(e,t,a);break;case 22:a.mode&1?(ls=(s=ls)||a.memoizedState!==null,Lo(e,t,a),ls=s):Lo(e,t,a);break;default:Lo(e,t,a)}}function nw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Q4),t.forEach(function(s){var o=X4.bind(null,e,s);a.has(s)||(a.add(s),s.then(o,o))})}}function _n(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];try{var l=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 5:Va=g.stateNode,Kn=!1;break e;case 3:Va=g.stateNode.containerInfo,Kn=!0;break e;case 4:Va=g.stateNode.containerInfo,Kn=!0;break e}g=g.return}if(Va===null)throw Error(lt(160));vN(l,d,o),Va=null,Kn=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(m){sa(o,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wN(t,e),t=t.sibling}function wN(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),hi(e),s&4){try{Wd(3,e,e.return),K0(3,e)}catch(L){sa(e,e.return,L)}try{Wd(5,e,e.return)}catch(L){sa(e,e.return,L)}}break;case 1:_n(t,e),hi(e),s&512&&a!==null&&iA(a,a.return);break;case 5:if(_n(t,e),hi(e),s&512&&a!==null&&iA(a,a.return),e.flags&32){var o=e.stateNode;try{lu(o,"")}catch(L){sa(e,e.return,L)}}if(s&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,d=a!==null?a.memoizedProps:l,g=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{g==="input"&&l.type==="radio"&&l.name!=null&&V2(o,l),Em(g,d);var m=Em(g,l);for(d=0;d<f.length;d+=2){var y=f[d],N=f[d+1];y==="style"?W2(o,N):y==="dangerouslySetInnerHTML"?X2(o,N):y==="children"?lu(o,N):fy(o,y,N,m)}switch(g){case"input":Cm(o,l);break;case"textarea":G2(o,l);break;case"select":var B=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?AA(o,!!l.multiple,w,!1):B!==!!l.multiple&&(l.defaultValue!=null?AA(o,!!l.multiple,l.defaultValue,!0):AA(o,!!l.multiple,l.multiple?[]:"",!1))}o[mu]=l}catch(L){sa(e,e.return,L)}}break;case 6:if(_n(t,e),hi(e),s&4){if(e.stateNode===null)throw Error(lt(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(L){sa(e,e.return,L)}}break;case 3:if(_n(t,e),hi(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{uu(t.containerInfo)}catch(L){sa(e,e.return,L)}break;case 4:_n(t,e),hi(e);break;case 13:_n(t,e),hi(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Ky=ua())),s&4&&nw(e);break;case 22:if(y=a!==null&&a.memoizedState!==null,e.mode&1?(ls=(m=ls)||y,_n(t,e),ls=m):_n(t,e),hi(e),s&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!y&&e.mode&1)for(jt=e,y=e.child;y!==null;){for(N=jt=y;jt!==null;){switch(B=jt,w=B.child,B.tag){case 0:case 11:case 14:case 15:Wd(4,B,B.return);break;case 1:iA(B,B.return);var U=B.stateNode;if(typeof U.componentWillUnmount=="function"){s=B,a=B.return;try{t=s,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch(L){sa(s,a,L)}}break;case 5:iA(B,B.return);break;case 22:if(B.memoizedState!==null){ow(N);continue}}w!==null?(w.return=B,jt=w):ow(N)}y=y.sibling}e:for(y=null,N=e;;){if(N.tag===5){if(y===null){y=N;try{o=N.stateNode,m?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(g=N.stateNode,f=N.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null,g.style.display=K2("display",d))}catch(L){sa(e,e.return,L)}}}else if(N.tag===6){if(y===null)try{N.stateNode.nodeValue=m?"":N.memoizedProps}catch(L){sa(e,e.return,L)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;y===N&&(y=null),N=N.return}y===N&&(y=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:_n(t,e),hi(e),s&4&&nw(e);break;case 21:break;default:_n(t,e),hi(e)}}function hi(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(bN(a)){var s=a;break e}a=a.return}throw Error(lt(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(lu(o,""),s.flags&=-33);var l=sw(e);ix(e,l,o);break;case 3:case 4:var d=s.stateNode.containerInfo,g=sw(e);nx(e,g,d);break;default:throw Error(lt(161))}}catch(f){sa(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function M4(e,t,a){jt=e,kN(e)}function kN(e,t,a){for(var s=(e.mode&1)!==0;jt!==null;){var o=jt,l=o.child;if(o.tag===22&&s){var d=o.memoizedState!==null||Qh;if(!d){var g=o.alternate,f=g!==null&&g.memoizedState!==null||ls;g=Qh;var m=ls;if(Qh=d,(ls=f)&&!m)for(jt=o;jt!==null;)d=jt,f=d.child,d.tag===22&&d.memoizedState!==null?lw(o):f!==null?(f.return=d,jt=f):lw(o);for(;l!==null;)jt=l,kN(l),l=l.sibling;jt=o,Qh=g,ls=m}iw(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,jt=l):iw(e)}}function iw(e){for(;jt!==null;){var t=jt;if(t.flags&8772){var a=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ls||K0(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ls)if(a===null)s.componentDidMount();else{var o=t.elementType===t.type?a.memoizedProps:qn(t.type,a.memoizedProps);s.componentDidUpdate(o,a.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Vv(t,l,s);break;case 3:var d=t.updateQueue;if(d!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}Vv(t,d,a)}break;case 5:var g=t.stateNode;if(a===null&&t.flags&4){a=g;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&a.focus();break;case"img":f.src&&(a.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var N=y.dehydrated;N!==null&&uu(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}ls||t.flags&512&&sx(t)}catch(B){sa(t,t.return,B)}}if(t===e){jt=null;break}if(a=t.sibling,a!==null){a.return=t.return,jt=a;break}jt=t.return}}function ow(e){for(;jt!==null;){var t=jt;if(t===e){jt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,jt=a;break}jt=t.return}}function lw(e){for(;jt!==null;){var t=jt;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{K0(4,t)}catch(f){sa(t,a,f)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(f){sa(t,o,f)}}var l=t.return;try{sx(t)}catch(f){sa(t,l,f)}break;case 5:var d=t.return;try{sx(t)}catch(f){sa(t,d,f)}}}catch(f){sa(t,t.return,f)}if(t===e){jt=null;break}var g=t.sibling;if(g!==null){g.return=t.return,jt=g;break}jt=t.return}}var O4=Math.ceil,c0=go.ReactCurrentDispatcher,qy=go.ReactCurrentOwner,In=go.ReactCurrentBatchConfig,gr=0,Ra=null,wa=null,Xa=0,rn=0,oA=xl(0),La=0,ku=null,sc=0,W0=0,Xy=0,Yd=null,Ds=null,Ky=0,SA=1/0,Wi=null,A0=!1,ox=null,al=null,Rh=!1,zo=null,d0=0,$d=0,lx=null,jg=-1,Sg=0;function ks(){return gr&6?ua():jg!==-1?jg:jg=ua()}function sl(e){return e.mode&1?gr&2&&Xa!==0?Xa&-Xa:k4.transition!==null?(Sg===0&&(Sg=ok()),Sg):(e=Cr,e!==0||(e=window.event,e=e===void 0?16:gk(e.type)),e):1}function Jn(e,t,a,s){if(50<$d)throw $d=0,lx=null,Error(lt(185));Pu(e,a,s),(!(gr&2)||e!==Ra)&&(e===Ra&&(!(gr&2)&&(W0|=a),La===4&&Oo(e,Xa)),Ms(e,s),a===1&&gr===0&&!(t.mode&1)&&(SA=ua()+500,G0&&yl()))}function Ms(e,t){var a=e.callbackNode;kS(e,t);var s=Kg(e,e===Ra?Xa:0);if(s===0)a!==null&&mv(a),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(a!=null&&mv(a),t===1)e.tag===0?w4(cw.bind(null,e)):Pk(cw.bind(null,e)),x4(function(){!(gr&6)&&yl()}),a=null;else{switch(lk(s)){case 1:a=by;break;case 4:a=nk;break;case 16:a=Xg;break;case 536870912:a=ik;break;default:a=Xg}a=LN(a,NN.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function NN(e,t){if(jg=-1,Sg=0,gr&6)throw Error(lt(327));var a=e.callbackNode;if(fA()&&e.callbackNode!==a)return null;var s=Kg(e,e===Ra?Xa:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=u0(e,s);else{t=s;var o=gr;gr|=2;var l=BN();(Ra!==e||Xa!==t)&&(Wi=null,SA=ua()+500,Kl(e,t));do try{z4();break}catch(g){CN(e,g)}while(1);Py(),c0.current=l,gr=o,wa!==null?t=0:(Ra=null,Xa=0,t=La)}if(t!==0){if(t===2&&(o=Dm(e),o!==0&&(s=o,t=cx(e,o))),t===1)throw a=ku,Kl(e,0),Oo(e,s),Ms(e,ua()),a;if(t===6)Oo(e,s);else{if(o=e.current.alternate,!(s&30)&&!H4(o)&&(t=u0(e,s),t===2&&(l=Dm(e),l!==0&&(s=l,t=cx(e,l))),t===1))throw a=ku,Kl(e,0),Oo(e,s),Ms(e,ua()),a;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(lt(345));case 2:Ul(e,Ds,Wi);break;case 3:if(Oo(e,s),(s&130023424)===s&&(t=Ky+500-ua(),10<t)){if(Kg(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){ks(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=zm(Ul.bind(null,e,Ds,Wi),t);break}Ul(e,Ds,Wi);break;case 4:if(Oo(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var d=31-$n(s);l=1<<d,d=t[d],d>o&&(o=d),s&=~l}if(s=o,s=ua()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*O4(s/1960))-s,10<s){e.timeoutHandle=zm(Ul.bind(null,e,Ds,Wi),s);break}Ul(e,Ds,Wi);break;case 5:Ul(e,Ds,Wi);break;default:throw Error(lt(329))}}}return Ms(e,ua()),e.callbackNode===a?NN.bind(null,e):null}function cx(e,t){var a=Yd;return e.current.memoizedState.isDehydrated&&(Kl(e,t).flags|=256),e=u0(e,t),e!==2&&(t=Ds,Ds=a,t!==null&&Ax(t)),e}function Ax(e){Ds===null?Ds=e:Ds.push.apply(Ds,e)}function H4(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var s=0;s<a.length;s++){var o=a[s],l=o.getSnapshot;o=o.value;try{if(!ei(l(),o))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oo(e,t){for(t&=~Xy,t&=~W0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-$n(t),s=1<<a;e[a]=-1,t&=~s}}function cw(e){if(gr&6)throw Error(lt(327));fA();var t=Kg(e,0);if(!(t&1))return Ms(e,ua()),null;var a=u0(e,t);if(e.tag!==0&&a===2){var s=Dm(e);s!==0&&(t=s,a=cx(e,s))}if(a===1)throw a=ku,Kl(e,0),Oo(e,t),Ms(e,ua()),a;if(a===6)throw Error(lt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ul(e,Ds,Wi),Ms(e,ua()),null}function Wy(e,t){var a=gr;gr|=1;try{return e(t)}finally{gr=a,gr===0&&(SA=ua()+500,G0&&yl())}}function nc(e){zo!==null&&zo.tag===0&&!(gr&6)&&fA();var t=gr;gr|=1;var a=In.transition,s=Cr;try{if(In.transition=null,Cr=1,e)return e()}finally{Cr=s,In.transition=a,gr=t,!(gr&6)&&yl()}}function Yy(){rn=oA.current,_r(oA)}function Kl(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,m4(a)),wa!==null)for(a=wa.return;a!==null;){var s=a;switch(Ey(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Zg();break;case 3:BA(),_r(Qs),_r(gs),My();break;case 5:Ry(s);break;case 4:BA();break;case 13:_r(Kr);break;case 19:_r(Kr);break;case 10:Uy(s.type._context);break;case 22:case 23:Yy()}a=a.return}if(Ra=e,wa=e=nl(e.current,null),Xa=rn=t,La=0,ku=null,Xy=W0=sc=0,Ds=Yd=null,Hl!==null){for(t=0;t<Hl.length;t++)if(a=Hl[t],s=a.interleaved,s!==null){a.interleaved=null;var o=s.next,l=a.pending;if(l!==null){var d=l.next;l.next=o,s.next=d}a.pending=s}Hl=null}return e}function CN(e,t){do{var a=wa;try{if(Py(),Ng.current=l0,o0){for(var s=Wr.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}o0=!1}if(ac=0,Ta=Fa=Wr=null,Kd=!1,bu=0,qy.current=null,a===null||a.return===null){La=1,ku=t,wa=null;break}e:{var l=e,d=a.return,g=a,f=t;if(t=Xa,g.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,y=g,N=y.tag;if(!(y.mode&1)&&(N===0||N===11||N===15)){var B=y.alternate;B?(y.updateQueue=B.updateQueue,y.memoizedState=B.memoizedState,y.lanes=B.lanes):(y.updateQueue=null,y.memoizedState=null)}var w=Yv(d);if(w!==null){w.flags&=-257,$v(w,d,g,l,t),w.mode&1&&Wv(l,m,t),t=w,f=m;var U=t.updateQueue;if(U===null){var L=new Set;L.add(f),t.updateQueue=L}else U.add(f);break e}else{if(!(t&1)){Wv(l,m,t),$y();break e}f=Error(lt(426))}}else if(Gr&&g.mode&1){var R=Yv(d);if(R!==null){!(R.flags&65536)&&(R.flags|=256),$v(R,d,g,l,t),Ly(jA(f,g));break e}}l=f=jA(f,g),La!==4&&(La=2),Yd===null?Yd=[l]:Yd.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var C=lN(l,f,t);zv(l,C);break e;case 1:g=f;var I=l.type,T=l.stateNode;if(!(l.flags&128)&&(typeof I.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(al===null||!al.has(T)))){l.flags|=65536,t&=-t,l.lanes|=t;var z=cN(l,g,t);zv(l,z);break e}}l=l.return}while(l!==null)}SN(a)}catch(D){t=D,wa===a&&a!==null&&(wa=a=a.return);continue}break}while(1)}function BN(){var e=c0.current;return c0.current=l0,e===null?l0:e}function $y(){(La===0||La===3||La===2)&&(La=4),Ra===null||!(sc&268435455)&&!(W0&268435455)||Oo(Ra,Xa)}function u0(e,t){var a=gr;gr|=2;var s=BN();(Ra!==e||Xa!==t)&&(Wi=null,Kl(e,t));do try{_4();break}catch(o){CN(e,o)}while(1);if(Py(),gr=a,c0.current=s,wa!==null)throw Error(lt(261));return Ra=null,Xa=0,La}function _4(){for(;wa!==null;)jN(wa)}function z4(){for(;wa!==null&&!gS();)jN(wa)}function jN(e){var t=EN(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?SN(e):wa=t,qy.current=null}function SN(e){var t=e;do{var a=t.alternate;if(e=t.return,t.flags&32768){if(a=T4(a,t),a!==null){a.flags&=32767,wa=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{La=6,wa=null;return}}else if(a=D4(a,t,rn),a!==null){wa=a;return}if(t=t.sibling,t!==null){wa=t;return}wa=t=e}while(t!==null);La===0&&(La=5)}function Ul(e,t,a){var s=Cr,o=In.transition;try{In.transition=null,Cr=1,V4(e,t,a,s)}finally{In.transition=o,Cr=s}return null}function V4(e,t,a,s){do fA();while(zo!==null);if(gr&6)throw Error(lt(327));a=e.finishedWork;var o=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(lt(177));e.callbackNode=null,e.callbackPriority=0;var l=a.lanes|a.childLanes;if(NS(e,l),e===Ra&&(wa=Ra=null,Xa=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Rh||(Rh=!0,LN(Xg,function(){return fA(),null})),l=(a.flags&15990)!==0,a.subtreeFlags&15990||l){l=In.transition,In.transition=null;var d=Cr;Cr=1;var g=gr;gr|=4,qy.current=null,R4(e,a),wN(a,e),A4(Hm),Wg=!!Om,Hm=Om=null,e.current=a,M4(a),fS(),gr=g,Cr=d,In.transition=l}else e.current=a;if(Rh&&(Rh=!1,zo=e,d0=o),l=e.pendingLanes,l===0&&(al=null),xS(a.stateNode),Ms(e,ua()),t!==null)for(s=e.onRecoverableError,a=0;a<t.length;a++)o=t[a],s(o.value,{componentStack:o.stack,digest:o.digest});if(A0)throw A0=!1,e=ox,ox=null,e;return d0&1&&e.tag!==0&&fA(),l=e.pendingLanes,l&1?e===lx?$d++:($d=0,lx=e):$d=0,yl(),null}function fA(){if(zo!==null){var e=lk(d0),t=In.transition,a=Cr;try{if(In.transition=null,Cr=16>e?16:e,zo===null)var s=!1;else{if(e=zo,zo=null,d0=0,gr&6)throw Error(lt(331));var o=gr;for(gr|=4,jt=e.current;jt!==null;){var l=jt,d=l.child;if(jt.flags&16){var g=l.deletions;if(g!==null){for(var f=0;f<g.length;f++){var m=g[f];for(jt=m;jt!==null;){var y=jt;switch(y.tag){case 0:case 11:case 15:Wd(8,y,l)}var N=y.child;if(N!==null)N.return=y,jt=N;else for(;jt!==null;){y=jt;var B=y.sibling,w=y.return;if(yN(y),y===m){jt=null;break}if(B!==null){B.return=w,jt=B;break}jt=w}}}var U=l.alternate;if(U!==null){var L=U.child;if(L!==null){U.child=null;do{var R=L.sibling;L.sibling=null,L=R}while(L!==null)}}jt=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,jt=d;else e:for(;jt!==null;){if(l=jt,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Wd(9,l,l.return)}var C=l.sibling;if(C!==null){C.return=l.return,jt=C;break e}jt=l.return}}var I=e.current;for(jt=I;jt!==null;){d=jt;var T=d.child;if(d.subtreeFlags&2064&&T!==null)T.return=d,jt=T;else e:for(d=I;jt!==null;){if(g=jt,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:K0(9,g)}}catch(D){sa(g,g.return,D)}if(g===d){jt=null;break e}var z=g.sibling;if(z!==null){z.return=g.return,jt=z;break e}jt=g.return}}if(gr=o,yl(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(O0,e)}catch{}s=!0}return s}finally{Cr=a,In.transition=t}}return!1}function Aw(e,t,a){t=jA(a,t),t=lN(e,t,1),e=rl(e,t,1),t=ks(),e!==null&&(Pu(e,1,t),Ms(e,t))}function sa(e,t,a){if(e.tag===3)Aw(e,e,a);else for(;t!==null;){if(t.tag===3){Aw(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(al===null||!al.has(s))){e=jA(a,e),e=cN(t,e,1),t=rl(t,e,1),e=ks(),t!==null&&(Pu(t,1,e),Ms(t,e));break}}t=t.return}}function G4(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),t=ks(),e.pingedLanes|=e.suspendedLanes&a,Ra===e&&(Xa&a)===a&&(La===4||La===3&&(Xa&130023424)===Xa&&500>ua()-Ky?Kl(e,0):Xy|=a),Ms(e,t)}function FN(e,t){t===0&&(e.mode&1?(t=Sh,Sh<<=1,!(Sh&130023424)&&(Sh=4194304)):t=1);var a=ks();e=oo(e,t),e!==null&&(Pu(e,t,a),Ms(e,a))}function q4(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),FN(e,a)}function X4(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(lt(314))}s!==null&&s.delete(t),FN(e,a)}var EN;EN=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qs.current)Ts=!0;else{if(!(e.lanes&a)&&!(t.flags&128))return Ts=!1,U4(e,t,a);Ts=!!(e.flags&131072)}else Ts=!1,Gr&&t.flags&1048576&&Uk(t,r0,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Bg(e,t),e=t.pendingProps;var o=kA(t,gs.current);gA(t,a),o=Hy(null,t,s,e,o,a);var l=_y();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(s)?(l=!0,e0(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ty(t),o.updater=X0,t.stateNode=o,o._reactInternals=t,Ym(t,s,e,a),t=Zm(null,t,s,!0,l,a)):(t.tag=0,Gr&&l&&Fy(t),bs(null,t,o,a),t=t.child),t;case 16:s=t.elementType;e:{switch(Bg(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=W4(s),e=qn(s,e),o){case 0:t=Jm(null,t,s,e,a);break e;case 1:t=ew(null,t,s,e,a);break e;case 11:t=Jv(null,t,s,e,a);break e;case 14:t=Zv(null,t,s,qn(s.type,e),a);break e}throw Error(lt(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:qn(s,o),Jm(e,t,s,o,a);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:qn(s,o),ew(e,t,s,o,a);case 3:e:{if(hN(t),e===null)throw Error(lt(387));s=t.pendingProps,l=t.memoizedState,o=l.element,Ok(e,t),n0(t,s,null,a);var d=t.memoizedState;if(s=d.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=jA(Error(lt(423)),t),t=tw(e,t,s,a,o);break e}else if(s!==o){o=jA(Error(lt(424)),t),t=tw(e,t,s,a,o);break e}else for(sn=tl(t.stateNode.containerInfo.firstChild),on=t,Gr=!0,Wn=null,a=Rk(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(NA(),s===o){t=lo(e,t,a);break e}bs(e,t,s,a)}t=t.child}return t;case 5:return Hk(t),e===null&&Xm(t),s=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,d=o.children,_m(s,o)?d=null:l!==null&&_m(s,l)&&(t.flags|=32),uN(e,t),bs(e,t,d,a),t.child;case 6:return e===null&&Xm(t),null;case 13:return gN(e,t,a);case 4:return Qy(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=CA(t,null,s,a):bs(e,t,s,a),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:qn(s,o),Jv(e,t,s,o,a);case 7:return bs(e,t,t.pendingProps,a),t.child;case 8:return bs(e,t,t.pendingProps.children,a),t.child;case 12:return bs(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,l=t.memoizedProps,d=o.value,Qr(a0,s._currentValue),s._currentValue=d,l!==null)if(ei(l.value,d)){if(l.children===o.children&&!Qs.current){t=lo(e,t,a);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var g=l.dependencies;if(g!==null){d=l.child;for(var f=g.firstContext;f!==null;){if(f.context===s){if(l.tag===1){f=to(-1,a&-a),f.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var y=m.pending;y===null?f.next=f:(f.next=y.next,y.next=f),m.pending=f}}l.lanes|=a,f=l.alternate,f!==null&&(f.lanes|=a),Km(l.return,a,t),g.lanes|=a;break}f=f.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(lt(341));d.lanes|=a,g=d.alternate,g!==null&&(g.lanes|=a),Km(d,a,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}bs(e,t,o.children,a),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,gA(t,a),o=Pn(o),s=s(o),t.flags|=1,bs(e,t,s,a),t.child;case 14:return s=t.type,o=qn(s,t.pendingProps),o=qn(s.type,o),Zv(e,t,s,o,a);case 15:return AN(e,t,t.type,t.pendingProps,a);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:qn(s,o),Bg(e,t),t.tag=1,Rs(s)?(e=!0,e0(t)):e=!1,gA(t,a),oN(t,s,o),Ym(t,s,o,a),Zm(null,t,s,!0,e,a);case 19:return fN(e,t,a);case 22:return dN(e,t,a)}throw Error(lt(156,t.tag))};function LN(e,t){return sk(e,t)}function K4(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,a,s){return new K4(e,t,a,s)}function Jy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function W4(e){if(typeof e=="function")return Jy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===my)return 11;if(e===xy)return 14}return 2}function nl(e,t){var a=e.alternate;return a===null?(a=Fn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Fg(e,t,a,s,o,l){var d=2;if(s=e,typeof e=="function")Jy(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case $c:return Wl(a.children,o,l,t);case py:d=8,o|=8;break;case bm:return e=Fn(12,a,t,o|2),e.elementType=bm,e.lanes=l,e;case vm:return e=Fn(13,a,t,o),e.elementType=vm,e.lanes=l,e;case wm:return e=Fn(19,a,t,o),e.elementType=wm,e.lanes=l,e;case H2:return Y0(a,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M2:d=10;break e;case O2:d=9;break e;case my:d=11;break e;case xy:d=14;break e;case To:d=16,s=null;break e}throw Error(lt(130,e==null?e:typeof e,""))}return t=Fn(d,a,t,o),t.elementType=e,t.type=s,t.lanes=l,t}function Wl(e,t,a,s){return e=Fn(7,e,s,t),e.lanes=a,e}function Y0(e,t,a,s){return e=Fn(22,e,s,t),e.elementType=H2,e.lanes=a,e.stateNode={isHidden:!1},e}function Fp(e,t,a){return e=Fn(6,e,null,t),e.lanes=a,e}function Ep(e,t,a){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Y4(e,t,a,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ap(0),this.expirationTimes=Ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ap(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Zy(e,t,a,s,o,l,d,g,f){return e=new Y4(e,t,a,g,f),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Fn(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ty(l),e}function $4(e,t,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yc,key:s==null?null:""+s,children:e,containerInfo:t,implementation:a}}function IN(e){if(!e)return ul;e=e._reactInternals;e:{if(uc(e)!==e||e.tag!==1)throw Error(lt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(lt(171))}if(e.tag===1){var a=e.type;if(Rs(a))return Ik(e,a,t)}return t}function PN(e,t,a,s,o,l,d,g,f){return e=Zy(a,s,!0,e,o,l,d,g,f),e.context=IN(null),a=e.current,s=ks(),o=sl(a),l=to(s,o),l.callback=t??null,rl(a,l,o),e.current.lanes=o,Pu(e,o,s),Ms(e,s),e}function $0(e,t,a,s){var o=t.current,l=ks(),d=sl(o);return a=IN(a),t.context===null?t.context=a:t.pendingContext=a,t=to(l,d),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=rl(o,t,d),e!==null&&(Jn(e,o,d,l),kg(e,o,d)),d}function h0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function eb(e,t){dw(e,t),(e=e.alternate)&&dw(e,t)}function J4(){return null}var UN=typeof reportError=="function"?reportError:function(e){console.error(e)};function tb(e){this._internalRoot=e}J0.prototype.render=tb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(lt(409));$0(e,t,null,null)};J0.prototype.unmount=tb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nc(function(){$0(null,e,null,null)}),t[io]=null}};function J0(e){this._internalRoot=e}J0.prototype.unstable_scheduleHydration=function(e){if(e){var t=dk();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Mo.length&&t!==0&&t<Mo[a].priority;a++);Mo.splice(a,0,e),a===0&&hk(e)}};function rb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Z0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uw(){}function Z4(e,t,a,s,o){if(o){if(typeof s=="function"){var l=s;s=function(){var m=h0(d);l.call(m)}}var d=PN(t,s,e,0,null,!1,!1,"",uw);return e._reactRootContainer=d,e[io]=d.current,fu(e.nodeType===8?e.parentNode:e),nc(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var g=s;s=function(){var m=h0(f);g.call(m)}}var f=Zy(e,0,!1,null,null,!1,!1,"",uw);return e._reactRootContainer=f,e[io]=f.current,fu(e.nodeType===8?e.parentNode:e),nc(function(){$0(t,f,a,s)}),f}function ef(e,t,a,s,o){var l=a._reactRootContainer;if(l){var d=l;if(typeof o=="function"){var g=o;o=function(){var f=h0(d);g.call(f)}}$0(t,d,e,o)}else d=Z4(a,t,e,o,s);return h0(d)}ck=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=Ed(t.pendingLanes);a!==0&&(vy(t,a|1),Ms(t,ua()),!(gr&6)&&(SA=ua()+500,yl()))}break;case 13:nc(function(){var s=oo(e,1);if(s!==null){var o=ks();Jn(s,e,1,o)}}),eb(e,1)}};wy=function(e){if(e.tag===13){var t=oo(e,134217728);if(t!==null){var a=ks();Jn(t,e,134217728,a)}eb(e,134217728)}};Ak=function(e){if(e.tag===13){var t=sl(e),a=oo(e,t);if(a!==null){var s=ks();Jn(a,e,t,s)}eb(e,t)}};dk=function(){return Cr};uk=function(e,t){var a=Cr;try{return Cr=e,t()}finally{Cr=a}};Im=function(e,t,a){switch(t){case"input":if(Cm(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=V0(s);if(!o)throw Error(lt(90));z2(s),Cm(s,o)}}}break;case"textarea":G2(e,a);break;case"select":t=a.value,t!=null&&AA(e,!!a.multiple,t,!1)}};J2=Wy;Z2=nc;var e3={usingClientEntryPoint:!1,Events:[Du,tA,V0,Y2,$2,Wy]},bd={findFiberByHostInstance:Ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t3={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:go.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rk(e),e===null?null:e.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||J4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{O0=Mh.inject(t3),wi=Mh}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e3;dn.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rb(t))throw Error(lt(200));return $4(e,t,null,a)};dn.createRoot=function(e,t){if(!rb(e))throw Error(lt(299));var a=!1,s="",o=UN;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Zy(e,1,!1,null,null,a,!1,s,o),e[io]=t.current,fu(e.nodeType===8?e.parentNode:e),new tb(t)};dn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(lt(188)):(e=Object.keys(e).join(","),Error(lt(268,e)));return e=rk(t),e=e===null?null:e.stateNode,e};dn.flushSync=function(e){return nc(e)};dn.hydrate=function(e,t,a){if(!Z0(t))throw Error(lt(200));return ef(null,e,t,!0,a)};dn.hydrateRoot=function(e,t,a){if(!rb(e))throw Error(lt(405));var s=a!=null&&a.hydratedSources||null,o=!1,l="",d=UN;if(a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onRecoverableError!==void 0&&(d=a.onRecoverableError)),t=PN(t,null,e,1,a??null,o,!1,l,d),e[io]=t.current,fu(e),s)for(e=0;e<s.length;e++)a=s[e],o=a._getVersion,o=o(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,o]:t.mutableSourceEagerHydrationData.push(a,o);return new J0(t)};dn.render=function(e,t,a){if(!Z0(t))throw Error(lt(200));return ef(null,e,t,!1,a)};dn.unmountComponentAtNode=function(e){if(!Z0(e))throw Error(lt(40));return e._reactRootContainer?(nc(function(){ef(null,null,e,!1,function(){e._reactRootContainer=null,e[io]=null})}),!0):!1};dn.unstable_batchedUpdates=Wy;dn.unstable_renderSubtreeIntoContainer=function(e,t,a,s){if(!Z0(a))throw Error(lt(200));if(e==null||e._reactInternals===void 0)throw Error(lt(38));return ef(e,t,a,!1,s)};dn.version="18.3.1-next-f1338f8080-20240426";function DN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DN)}catch(e){console.error(e)}}DN(),D2.exports=dn;var TN=D2.exports,QN,hw=TN;QN=hw.createRoot,hw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Nu.apply(this,arguments)}var Vo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vo||(Vo={}));const gw="popstate";function r3(e){e===void 0&&(e={});function t(s,o){let{pathname:l,search:d,hash:g}=s.location;return dx("",{pathname:l,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(s,o){return typeof o=="string"?o:g0(o)}return s3(t,a,null,e)}function Yr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a3(){return Math.random().toString(36).substr(2,8)}function fw(e,t){return{usr:e.state,key:e.key,idx:t}}function dx(e,t,a,s){return a===void 0&&(a=null),Nu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?TA(t):t,{state:a,key:t&&t.key||s||a3()})}function g0(e){let{pathname:t="/",search:a="",hash:s=""}=e;return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function TA(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function s3(e,t,a,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,d=o.history,g=Vo.Pop,f=null,m=y();m==null&&(m=0,d.replaceState(Nu({},d.state,{idx:m}),""));function y(){return(d.state||{idx:null}).idx}function N(){g=Vo.Pop;let R=y(),C=R==null?null:R-m;m=R,f&&f({action:g,location:L.location,delta:C})}function B(R,C){g=Vo.Push;let I=dx(L.location,R,C);a&&a(I,R),m=y()+1;let T=fw(I,m),z=L.createHref(I);try{d.pushState(T,"",z)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(z)}l&&f&&f({action:g,location:L.location,delta:1})}function w(R,C){g=Vo.Replace;let I=dx(L.location,R,C);a&&a(I,R),m=y();let T=fw(I,m),z=L.createHref(I);d.replaceState(T,"",z),l&&f&&f({action:g,location:L.location,delta:0})}function U(R){let C=o.location.origin!=="null"?o.location.origin:o.location.href,I=typeof R=="string"?R:g0(R);return I=I.replace(/ $/,"%20"),Yr(C,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,C)}let L={get action(){return g},get location(){return e(o,d)},listen(R){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(gw,N),f=R,()=>{o.removeEventListener(gw,N),f=null}},createHref(R){return t(o,R)},createURL:U,encodeLocation(R){let C=U(R);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:B,replace:w,go(R){return d.go(R)}};return L}var pw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pw||(pw={}));function n3(e,t,a){return a===void 0&&(a="/"),i3(e,t,a,!1)}function i3(e,t,a,s){let o=typeof t=="string"?TA(t):t,l=FA(o.pathname||"/",a);if(l==null)return null;let d=MN(e);o3(d);let g=null;for(let f=0;g==null&&f<d.length;++f){let m=x3(l);g=p3(d[f],m,s)}return g}function MN(e,t,a,s){t===void 0&&(t=[]),a===void 0&&(a=[]),s===void 0&&(s="");let o=(l,d,g)=>{let f={relativePath:g===void 0?l.path||"":g,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};f.relativePath.startsWith("/")&&(Yr(f.relativePath.startsWith(s),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(s.length));let m=il([s,f.relativePath]),y=a.concat(f);l.children&&l.children.length>0&&(Yr(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),MN(l.children,t,y,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:g3(m,l.index),routesMeta:y})};return e.forEach((l,d)=>{var g;if(l.path===""||!((g=l.path)!=null&&g.includes("?")))o(l,d);else for(let f of ON(l.path))o(l,d,f)}),t}function ON(e){let t=e.split("/");if(t.length===0)return[];let[a,...s]=t,o=a.endsWith("?"),l=a.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let d=ON(s.join("/")),g=[];return g.push(...d.map(f=>f===""?l:[l,f].join("/"))),o&&g.push(...d),g.map(f=>e.startsWith("/")&&f===""?"/":f)}function o3(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:f3(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const l3=/^:[\w-]+$/,c3=3,A3=2,d3=1,u3=10,h3=-2,mw=e=>e==="*";function g3(e,t){let a=e.split("/"),s=a.length;return a.some(mw)&&(s+=h3),t&&(s+=A3),a.filter(o=>!mw(o)).reduce((o,l)=>o+(l3.test(l)?c3:l===""?d3:u3),s)}function f3(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function p3(e,t,a){a===void 0&&(a=!1);let{routesMeta:s}=e,o={},l="/",d=[];for(let g=0;g<s.length;++g){let f=s[g],m=g===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",N=f0({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),B=f.route;if(!N&&m&&a&&!s[s.length-1].route.index&&(N=f0({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!N)return null;Object.assign(o,N.params),d.push({params:o,pathname:il([l,N.pathname]),pathnameBase:w3(il([l,N.pathnameBase])),route:B}),N.pathnameBase!=="/"&&(l=il([l,N.pathnameBase]))}return d}function f0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,s]=m3(e.path,e.caseSensitive,e.end),o=t.match(a);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((m,y,N)=>{let{paramName:B,isOptional:w}=y;if(B==="*"){let L=g[N]||"";d=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const U=g[N];return w&&!U?m[B]=void 0:m[B]=(U||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:e}}function m3(e,t,a){t===void 0&&(t=!1),a===void 0&&(a=!0),RN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,f)=>(s.push({paramName:g,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function x3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return RN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function FA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=e.charAt(a);return s&&s!=="/"?null:e.slice(a)||"/"}function y3(e,t){t===void 0&&(t="/");let{pathname:a,search:s="",hash:o=""}=typeof e=="string"?TA(e):e;return{pathname:a?a.startsWith("/")?a:b3(a,t):t,search:k3(s),hash:N3(o)}}function b3(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function Lp(e,t,a,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v3(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function ab(e,t){let a=v3(e);return t?a.map((s,o)=>o===a.length-1?s.pathname:s.pathnameBase):a.map(s=>s.pathnameBase)}function sb(e,t,a,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=TA(e):(o=Nu({},e),Yr(!o.pathname||!o.pathname.includes("?"),Lp("?","pathname","search",o)),Yr(!o.pathname||!o.pathname.includes("#"),Lp("#","pathname","hash",o)),Yr(!o.search||!o.search.includes("#"),Lp("#","search","hash",o)));let l=e===""||o.pathname==="",d=l?"/":o.pathname,g;if(d==null)g=a;else{let N=t.length-1;if(!s&&d.startsWith("..")){let B=d.split("/");for(;B[0]==="..";)B.shift(),N-=1;o.pathname=B.join("/")}g=N>=0?t[N]:"/"}let f=y3(o,g),m=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&a.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}const il=e=>e.join("/").replace(/\/\/+/g,"/"),w3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),k3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function C3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const HN=["post","put","patch","delete"];new Set(HN);const B3=["get",...HN];new Set(B3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Cu.apply(this,arguments)}const tf=q.createContext(null),_N=q.createContext(null),fo=q.createContext(null),rf=q.createContext(null),bl=q.createContext({outlet:null,matches:[],isDataRoute:!1}),zN=q.createContext(null);function j3(e,t){let{relative:a}=t===void 0?{}:t;QA()||Yr(!1);let{basename:s,navigator:o}=q.useContext(fo),{hash:l,pathname:d,search:g}=af(e,{relative:a}),f=d;return s!=="/"&&(f=d==="/"?s:il([s,d])),o.createHref({pathname:f,search:g,hash:l})}function QA(){return q.useContext(rf)!=null}function hc(){return QA()||Yr(!1),q.useContext(rf).location}function VN(e){q.useContext(fo).static||q.useLayoutEffect(e)}function Dn(){let{isDataRoute:e}=q.useContext(bl);return e?O3():S3()}function S3(){QA()||Yr(!1);let e=q.useContext(tf),{basename:t,future:a,navigator:s}=q.useContext(fo),{matches:o}=q.useContext(bl),{pathname:l}=hc(),d=JSON.stringify(ab(o,a.v7_relativeSplatPath)),g=q.useRef(!1);return VN(()=>{g.current=!0}),q.useCallback(function(m,y){if(y===void 0&&(y={}),!g.current)return;if(typeof m=="number"){s.go(m);return}let N=sb(m,JSON.parse(d),l,y.relative==="path");e==null&&t!=="/"&&(N.pathname=N.pathname==="/"?t:il([t,N.pathname])),(y.replace?s.replace:s.push)(N,y.state,y)},[t,s,d,l,e])}function af(e,t){let{relative:a}=t===void 0?{}:t,{future:s}=q.useContext(fo),{matches:o}=q.useContext(bl),{pathname:l}=hc(),d=JSON.stringify(ab(o,s.v7_relativeSplatPath));return q.useMemo(()=>sb(e,JSON.parse(d),l,a==="path"),[e,d,l,a])}function F3(e,t){return E3(e,t)}function E3(e,t,a,s){QA()||Yr(!1);let{navigator:o}=q.useContext(fo),{matches:l}=q.useContext(bl),d=l[l.length-1],g=d?d.params:{};d&&d.pathname;let f=d?d.pathnameBase:"/";d&&d.route;let m=hc(),y;if(t){var N;let R=typeof t=="string"?TA(t):t;f==="/"||(N=R.pathname)!=null&&N.startsWith(f)||Yr(!1),y=R}else y=m;let B=y.pathname||"/",w=B;if(f!=="/"){let R=f.replace(/^\//,"").split("/");w="/"+B.replace(/^\//,"").split("/").slice(R.length).join("/")}let U=n3(e,{pathname:w}),L=D3(U&&U.map(R=>Object.assign({},R,{params:Object.assign({},g,R.params),pathname:il([f,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?f:il([f,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),l,a,s);return t&&L?q.createElement(rf.Provider,{value:{location:Cu({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Vo.Pop}},L):L}function L3(){let e=M3(),t=C3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),a?q.createElement("pre",{style:o},a):null,l)}const I3=q.createElement(L3,null);class P3 extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?q.createElement(bl.Provider,{value:this.props.routeContext},q.createElement(zN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U3(e){let{routeContext:t,match:a,children:s}=e,o=q.useContext(tf);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),q.createElement(bl.Provider,{value:t},s)}function D3(e,t,a,s){var o;if(t===void 0&&(t=[]),a===void 0&&(a=null),s===void 0&&(s=null),e==null){var l;if(!a)return null;if(a.errors)e=a.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let d=e,g=(o=a)==null?void 0:o.errors;if(g!=null){let y=d.findIndex(N=>N.route.id&&(g==null?void 0:g[N.route.id])!==void 0);y>=0||Yr(!1),d=d.slice(0,Math.min(d.length,y+1))}let f=!1,m=-1;if(a&&s&&s.v7_partialHydration)for(let y=0;y<d.length;y++){let N=d[y];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(m=y),N.route.id){let{loaderData:B,errors:w}=a,U=N.route.loader&&B[N.route.id]===void 0&&(!w||w[N.route.id]===void 0);if(N.route.lazy||U){f=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}return d.reduceRight((y,N,B)=>{let w,U=!1,L=null,R=null;a&&(w=g&&N.route.id?g[N.route.id]:void 0,L=N.route.errorElement||I3,f&&(m<0&&B===0?(H3("route-fallback",!1),U=!0,R=null):m===B&&(U=!0,R=N.route.hydrateFallbackElement||null)));let C=t.concat(d.slice(0,B+1)),I=()=>{let T;return w?T=L:U?T=R:N.route.Component?T=q.createElement(N.route.Component,null):N.route.element?T=N.route.element:T=y,q.createElement(U3,{match:N,routeContext:{outlet:y,matches:C,isDataRoute:a!=null},children:T})};return a&&(N.route.ErrorBoundary||N.route.errorElement||B===0)?q.createElement(P3,{location:a.location,revalidation:a.revalidation,component:L,error:w,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):I()},null)}var GN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(GN||{}),p0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(p0||{});function T3(e){let t=q.useContext(tf);return t||Yr(!1),t}function Q3(e){let t=q.useContext(_N);return t||Yr(!1),t}function R3(e){let t=q.useContext(bl);return t||Yr(!1),t}function qN(e){let t=R3(),a=t.matches[t.matches.length-1];return a.route.id||Yr(!1),a.route.id}function M3(){var e;let t=q.useContext(zN),a=Q3(p0.UseRouteError),s=qN(p0.UseRouteError);return t!==void 0?t:(e=a.errors)==null?void 0:e[s]}function O3(){let{router:e}=T3(GN.UseNavigateStable),t=qN(p0.UseNavigateStable),a=q.useRef(!1);return VN(()=>{a.current=!0}),q.useCallback(function(o,l){l===void 0&&(l={}),a.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Cu({fromRouteId:t},l)))},[e,t])}const xw={};function H3(e,t,a){!t&&!xw[e]&&(xw[e]=!0)}function _3(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Oh(e){let{to:t,replace:a,state:s,relative:o}=e;QA()||Yr(!1);let{future:l,static:d}=q.useContext(fo),{matches:g}=q.useContext(bl),{pathname:f}=hc(),m=Dn(),y=sb(t,ab(g,l.v7_relativeSplatPath),f,o==="path"),N=JSON.stringify(y);return q.useEffect(()=>m(JSON.parse(N),{replace:a,state:s,relative:o}),[m,N,o,a,s]),null}function Jt(e){Yr(!1)}function z3(e){let{basename:t="/",children:a=null,location:s,navigationType:o=Vo.Pop,navigator:l,static:d=!1,future:g}=e;QA()&&Yr(!1);let f=t.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:l,static:d,future:Cu({v7_relativeSplatPath:!1},g)}),[f,g,l,d]);typeof s=="string"&&(s=TA(s));let{pathname:y="/",search:N="",hash:B="",state:w=null,key:U="default"}=s,L=q.useMemo(()=>{let R=FA(y,f);return R==null?null:{location:{pathname:R,search:N,hash:B,state:w,key:U},navigationType:o}},[f,y,N,B,w,U,o]);return L==null?null:q.createElement(fo.Provider,{value:m},q.createElement(rf.Provider,{children:a,value:L}))}function ux(e){let{children:t,location:a}=e;return F3(hx(t),a)}new Promise(()=>{});function hx(e,t){t===void 0&&(t=[]);let a=[];return q.Children.forEach(e,(s,o)=>{if(!q.isValidElement(s))return;let l=[...t,o];if(s.type===q.Fragment){a.push.apply(a,hx(s.props.children,l));return}s.type!==Jt&&Yr(!1),!s.props.index||!s.props.children||Yr(!1);let d={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=hx(s.props.children,l)),a.push(d)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},m0.apply(this,arguments)}function XN(e,t){if(e==null)return{};var a={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(a[o]=e[o]);return a}function V3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function G3(e,t){return e.button===0&&(!t||t==="_self")&&!V3(e)}const q3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],X3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],K3="6";try{window.__reactRouterVersion=K3}catch{}const W3=q.createContext({isTransitioning:!1}),Y3="startTransition",yw=xm[Y3];function $3(e){let{basename:t,children:a,future:s,window:o}=e,l=q.useRef();l.current==null&&(l.current=r3({window:o,v5Compat:!0}));let d=l.current,[g,f]=q.useState({action:d.action,location:d.location}),{v7_startTransition:m}=s||{},y=q.useCallback(N=>{m&&yw?yw(()=>f(N)):f(N)},[f,m]);return q.useLayoutEffect(()=>d.listen(y),[d,y]),q.useEffect(()=>_3(s),[s]),q.createElement(z3,{basename:t,children:a,location:g.location,navigationType:g.action,navigator:d,future:s})}const J3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e6=q.forwardRef(function(t,a){let{onClick:s,relative:o,reloadDocument:l,replace:d,state:g,target:f,to:m,preventScrollReset:y,viewTransition:N}=t,B=XN(t,q3),{basename:w}=q.useContext(fo),U,L=!1;if(typeof m=="string"&&Z3.test(m)&&(U=m,J3))try{let T=new URL(window.location.href),z=m.startsWith("//")?new URL(T.protocol+m):new URL(m),D=FA(z.pathname,w);z.origin===T.origin&&D!=null?m=D+z.search+z.hash:L=!0}catch{}let R=j3(m,{relative:o}),C=r6(m,{replace:d,state:g,target:f,preventScrollReset:y,relative:o,viewTransition:N});function I(T){s&&s(T),T.defaultPrevented||C(T)}return q.createElement("a",m0({},B,{href:U||R,onClick:L||l?s:I,ref:a,target:f}))}),Ip=q.forwardRef(function(t,a){let{"aria-current":s="page",caseSensitive:o=!1,className:l="",end:d=!1,style:g,to:f,viewTransition:m,children:y}=t,N=XN(t,X3),B=af(f,{relative:N.relative}),w=hc(),U=q.useContext(_N),{navigator:L,basename:R}=q.useContext(fo),C=U!=null&&a6(B)&&m===!0,I=L.encodeLocation?L.encodeLocation(B).pathname:B.pathname,T=w.pathname,z=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;o||(T=T.toLowerCase(),z=z?z.toLowerCase():null,I=I.toLowerCase()),z&&R&&(z=FA(z,R)||z);const D=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let ae=T===I||!d&&T.startsWith(I)&&T.charAt(D)==="/",X=z!=null&&(z===I||!d&&z.startsWith(I)&&z.charAt(I.length)==="/"),_={isActive:ae,isPending:X,isTransitioning:C},ie=ae?s:void 0,oe;typeof l=="function"?oe=l(_):oe=[l,ae?"active":null,X?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let W=typeof g=="function"?g(_):g;return q.createElement(e6,m0({},N,{"aria-current":ie,className:oe,ref:a,style:W,to:f,viewTransition:m}),typeof y=="function"?y(_):y)});var gx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gx||(gx={}));var bw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bw||(bw={}));function t6(e){let t=q.useContext(tf);return t||Yr(!1),t}function r6(e,t){let{target:a,replace:s,state:o,preventScrollReset:l,relative:d,viewTransition:g}=t===void 0?{}:t,f=Dn(),m=hc(),y=af(e,{relative:d});return q.useCallback(N=>{if(G3(N,a)){N.preventDefault();let B=s!==void 0?s:g0(m)===g0(y);f(e,{replace:B,state:o,preventScrollReset:l,relative:d,viewTransition:g})}},[m,f,y,s,o,a,e,l,d,g])}function a6(e,t){t===void 0&&(t={});let a=q.useContext(W3);a==null&&Yr(!1);let{basename:s}=t6(gx.useViewTransitionState),o=af(e,{relative:t.relative});if(!a.isTransitioning)return!1;let l=FA(a.currentLocation.pathname,s)||a.currentLocation.pathname,d=FA(a.nextLocation.pathname,s)||a.nextLocation.pathname;return f0(o.pathname,d)!=null||f0(o.pathname,l)!=null}var s6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const n6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dt=(e,t)=>{const a=q.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:d,children:g,...f},m)=>q.createElement("svg",{ref:m,...s6,width:o,height:o,stroke:s,strokeWidth:d?Number(l)*24/Number(o):l,className:`lucide lucide-${n6(e)}`,...f},[...t.map(([y,N])=>q.createElement(y,N)),...(Array.isArray(g)?g:[g])||[]]));return a.displayName=`${e}`,a},ds=dt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),eo=dt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),or=dt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["line",{x1:"12",x2:"12",y1:"9",y2:"13",key:"1gkch0"}],["line",{x1:"12",x2:"12.01",y1:"17",y2:"17",key:"io3f8k"}]]),i6=dt("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),ic=dt("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]),x0=dt("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),KN=dt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),o6=dt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Rr=dt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),l6=dt("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]),c6=dt("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),nb=dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),A6=dt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),ro=dt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),ln=dt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Br=dt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),WN=dt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),d6=dt("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),u6=dt("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),y0=dt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),ka=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),YN=dt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),h6=dt("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),co=dt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),g6=dt("DatabaseBackup",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14c0 1.4 3 2.7 7 3",key:"jgylly"}],["path",{d:"M3 12c0 1.2 2 2.5 5 3",key:"vxrdms"}],["path",{d:"M21 5v4",key:"1vq2e7"}],["path",{d:"M13 20a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L12 16",key:"1f4ei9"}],["path",{d:"M12 12v4h4",key:"1bxaet"}]]),Ka=dt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Os=dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ji=dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Si=dt("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]]),vw=dt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ma=dt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),f6=dt("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),p6=dt("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Jr=dt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),RA=dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),$N=dt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),ib=dt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),JN=dt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),m6=dt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ZN=dt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ww=dt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),x6=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ob=dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),oc=dt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),kw=dt("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]),y6=dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),b6=dt("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]),v6=dt("Minus",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),eC=dt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Nw=dt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),w6=dt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),k6=dt("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),vs=dt("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),N6=dt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),lb=dt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),tC=dt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),rC=dt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),pa=dt("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),Yl=dt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),Cw=dt("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]),C6=dt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),us=dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Bs=dt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),na=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),cn=dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ol=dt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),aC=dt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),EA=dt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Bw=dt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),B6=dt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),b0=dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),j6=dt("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),hn=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),hl=dt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),ws=dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),sC=dt("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),LA=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),S6=dt("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]),Oa=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ao=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),jw=dt("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),nC=dt("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),ti=dt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]),tr=dt("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]]),Eg=dt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),El="http://localhost:5001/api",Ll=()=>({Authorization:`Bearer ${localStorage.getItem("sil_lab_token")}`,"Content-Type":"application/json"}),Ni={async getAllQCResults(e={}){const t=new URLSearchParams;Object.entries(e).forEach(([s,o])=>{o!==void 0&&o!==""&&t.append(s,o.toString())});const a=await fetch(`${El}/automates/qc-results/all?${t}`,{headers:Ll()});if(!a.ok)throw new Error("Failed to fetch QC results");return a.json()},async getAutomateQCResults(e,t={}){const a=new URLSearchParams;Object.entries(t).forEach(([o,l])=>{l!==void 0&&l!==""&&a.append(o,l.toString())});const s=await fetch(`${El}/automates/${e}/qc-results?${a}`,{headers:Ll()});if(!s.ok)throw new Error("Failed to fetch automate QC results");return s.json()},async getQCStats(e,t=30){const a=await fetch(`${El}/automates/${e}/qc-stats?days=${t}`,{headers:Ll()});if(!a.ok)throw new Error("Failed to fetch QC statistics");return a.json()},async createQCResult(e,t){const a=await fetch(`${El}/automates/${e}/qc-results`,{method:"POST",headers:Ll(),body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to create QC result");return a.json()},async updateQCResult(e,t){const a=await fetch(`${El}/automates/qc-results/${e}`,{method:"PUT",headers:Ll(),body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to update QC result");return a.json()},async deleteQCResult(e){const t=await fetch(`${El}/automates/qc-results/${e}`,{method:"DELETE",headers:Ll()});if(!t.ok)throw new Error("Failed to delete QC result");return t.json()},async getAutomates(){const e=await fetch(`${El}/automates`,{headers:Ll()});if(!e.ok)throw new Error("Failed to fetch automates");return e.json()}};function F6(){const{language:e}=zt(),[t,a]=q.useState([]),[s,o]=q.useState(!1),[l,d]=q.useState(!1),g={fr:{qcAlerts:"Alertes CQ",noAlerts:"Aucune alerte",warning:"Avertissement",fail:"Échec",deviation:"Déviation",viewAll:"Voir toutes les alertes",newAlert:"Nouvelle alerte CQ"},en:{qcAlerts:"QC Alerts",noAlerts:"No alerts",warning:"Warning",fail:"Fail",deviation:"Deviation",viewAll:"View all alerts",newAlert:"New QC alert"}}[e];q.useEffect(()=>{f();const B=setInterval(f,6e4);return()=>clearInterval(B)},[]);const f=async()=>{try{d(!0);const w=(await Ni.getAllQCResults({limit:20})).qcResults.filter(U=>{const L=new Date(U.timestamp).getTime(),R=Date.now()-24*60*60*1e3;return(U.status==="warning"||U.status==="fail")&&L>R}).map(U=>({id:U.id,automateId:U.automateId,automateName:U.automate.name,testName:U.testName,status:U.status,deviation:U.deviation,timestamp:U.timestamp}));a(w)}catch(B){console.error("Error loading QC notifications:",B)}finally{d(!1)}},m=B=>{switch(B){case"fail":return r.jsx(ti,{className:"h-4 w-4 text-red-500"});case"warning":return r.jsx(or,{className:"h-4 w-4 text-yellow-500"});default:return null}},y=B=>{switch(B){case"fail":return"text-red-600";case"warning":return"text-yellow-600";default:return"text-gray-600"}},N=t.length;return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>o(!s),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg",children:[r.jsx(nb,{size:20}),N>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:N>9?"9+":N})]}),s&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:g.qcAlerts})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:l?r.jsx("div",{className:"p-4 text-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):t.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:g.noAlerts}):r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.slice(0,5).map(B=>r.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[m(B.status),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:B.automateName}),r.jsx("span",{className:`text-xs font-medium ${y(B.status)}`,children:B.status==="fail"?g.fail:g.warning})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:B.testName}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[g.deviation,": ",B.deviation>0?"+":"",B.deviation.toFixed(1),"%"]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(B.timestamp).toLocaleTimeString()})]})]})]})},B.id))})}),t.length>0&&r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:r.jsx("button",{onClick:()=>{o(!1),window.location.href="/quality-control"},className:"w-full text-center text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:g.viewAll})})]}),s&&r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]})}function E6({onMenuClick:e}){const{user:t,logout:a,theme:s,toggleTheme:o,language:l,setLanguage:d}=zt();return r.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 h-16 flex items-center justify-between px-3 sm:px-4 lg:px-6",children:[r.jsxs("div",{className:"flex items-center min-w-0",children:[r.jsx("button",{onClick:e,className:"mr-2 p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 lg:hidden transition-colors","aria-label":"Toggle menu",children:r.jsx(y6,{size:24})}),r.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 dark:text-white truncate",children:"SIL Laboratory System"})]}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-4",children:[r.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors sm:hidden","aria-label":s==="light"?"Switch to dark mode":"Switch to light mode",children:s==="light"?r.jsx(Nw,{size:18,className:"text-gray-600 dark:text-gray-300"}):r.jsx(Bw,{size:18,className:"text-gray-600 dark:text-gray-300"})}),r.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[r.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":s==="light"?"Switch to dark mode":"Switch to light mode",children:s==="light"?r.jsx(Nw,{size:20,className:"text-gray-600 dark:text-gray-300"}):r.jsx(Bw,{size:20,className:"text-gray-600 dark:text-gray-300"})}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx($N,{size:18,className:"text-gray-600 dark:text-gray-300"}),r.jsxs("select",{value:l,onChange:g=>d(g.target.value),className:"bg-transparent text-sm text-gray-700 dark:text-gray-300 focus:outline-none",children:[r.jsx("option",{value:"fr",children:"FR"}),r.jsx("option",{value:"en",children:"EN"})]})]})]}),((t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="BIOLOGIST"||(t==null?void 0:t.role)==="TECHNICIAN")&&r.jsx(F6,{}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-3",children:[r.jsx("span",{className:"hidden sm:inline text-sm text-gray-700 dark:text-gray-300 truncate max-w-[100px] lg:max-w-[120px]",children:t==null?void 0:t.name}),r.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Logout",children:r.jsx(x6,{size:18,className:"sm:w-5 sm:h-5 text-gray-600 dark:text-gray-300"})})]})]})]})}const Sw="http://localhost:5001/api";class L6{isAuthenticated(){const t=localStorage.getItem("sil_lab_token"),a=localStorage.getItem("sil_lab_user");return!!(t&&a)}getCurrentUser(){try{const t=localStorage.getItem("sil_lab_user");return t?JSON.parse(t):null}catch(t){return console.error("Error parsing user data:",t),null}}async apiRequest(t,a={}){const s=`${Sw}${t}`,o=localStorage.getItem("sil_lab_token");if(!o)throw console.error("No authentication token found. User may need to log in."),console.error("Current authentication status:",{hasToken:!!o,hasUser:!!localStorage.getItem("sil_lab_user"),currentUser:this.getCurrentUser()}),new Error("Authentication required. Please log in.");const l={"Content-Type":"application/json",Authorization:`Bearer ${o}`,...a.headers};try{const d=await fetch(s,{...a,headers:l});if(!d.ok){if(console.error(`API Error: ${d.status} ${d.statusText} for ${s}`),d.status===401)throw console.error("Authentication failed. Token may be expired or invalid."),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user"),new Error("Authentication failed. Please log in again.");const g=await d.json().catch(()=>({}));throw new Error(g.error||`HTTP error! status: ${d.status}`)}return d.json()}catch(d){throw console.error(`Network Error for ${s}:`,d),d}}async getModules(){return this.apiRequest("/modules")}async getInstalledModules(){return this.apiRequest("/modules/installed")}async installModule(t,a,s,o){return this.apiRequest("/modules/install",{method:"POST",body:JSON.stringify({moduleId:t,licenseKey:a,organizationName:s,contactEmail:o})})}async startTrial(t,a,s){return this.apiRequest("/modules/trial",{method:"POST",body:JSON.stringify({moduleId:t,organizationName:a,contactEmail:s})})}async checkModuleAccess(t){return this.apiRequest(`/modules/access/${t}`)}async deactivateModule(t){return this.apiRequest(`/modules/${t}`,{method:"DELETE"})}generateLicenseKey(t){var o;const a=t.substring(0,3).toUpperCase(),s=Math.random().toString(36).substring(2,15).toUpperCase();return`${a}-${((o=s.match(/.{4}/g))==null?void 0:o.join("-"))||s}`}isValidLicenseKey(t,a){const s=a.substring(0,3).toUpperCase();return t.startsWith(s)&&t.length>=15}formatDaysRemaining(t){return t<=0?"Expired":t===1?"1 day left":t<=30?`${t} days left`:t<=365?`${Math.ceil(t/30)} months left`:`${Math.ceil(t/365)} years left`}getStatusColor(t,a){return t==="EXPIRED"||a<=0?"text-red-500":t==="TRIAL"||a<=7?"text-yellow-500":a<=30?"text-orange-500":"text-green-500"}getStatusBadgeColor(t,a){return t==="EXPIRED"||a<=0?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":t==="TRIAL"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":a<=7?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":a<=30?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}checkAuthenticationStatus(){const t=localStorage.getItem("sil_lab_token"),a=localStorage.getItem("sil_lab_user"),s=this.getCurrentUser();return console.log("Authentication Status Check:",{hasToken:!!t,tokenLength:(t==null?void 0:t.length)||0,hasUser:!!a,currentUser:s,isAuthenticated:this.isAuthenticated()}),{isAuthenticated:this.isAuthenticated(),hasToken:!!t,hasUser:!!a,currentUser:s}}async testAuthentication(){try{const t=await fetch(`${Sw}/auth/me`,{headers:{Authorization:`Bearer ${localStorage.getItem("sil_lab_token")}`,"Content-Type":"application/json"}});if(t.ok){const a=await t.json();return console.log("Authentication test successful:",a),{success:!0,data:a}}else return console.error("Authentication test failed:",t.status,t.statusText),{success:!1,status:t.status,statusText:t.statusText}}catch(t){return console.error("Authentication test error:",t),{success:!1,error:t.message}}}}const Xr=new L6,iC=q.createContext(void 0),I6=({children:e})=>{const[t,a]=q.useState(0),s=q.useCallback(()=>{a(o=>o+1)},[]);return r.jsx(iC.Provider,{value:{moduleVersion:t,refreshModules:s},children:e})},sf=()=>{const e=q.useContext(iC);if(e===void 0)throw new Error("useModules must be used within a ModuleProvider");return e},Pp="http://localhost:5001/api";class P6{async apiRequest(t,a={}){const s=`${Pp}${t}`,o=localStorage.getItem("sil_lab_token"),l={"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`},...a.headers};try{const d=await fetch(s,{...a,headers:l});if(!d.ok){console.error(`Backup API Error: ${d.status} ${d.statusText} for ${s}`);const g=await d.json().catch(()=>({}));throw new Error(g.error||`HTTP error! status: ${d.status}`)}return d.json()}catch(d){throw console.error(`Backup Network Error for ${s}:`,d),d}}async getBackups(){return this.apiRequest("/admin/backups")}async createBackup(t){return this.apiRequest("/admin/backup",{method:"POST",body:JSON.stringify({description:t||"Manual backup",type:"MANUAL"})})}async downloadBackup(t){const a=localStorage.getItem("sil_lab_token"),s={};a&&(s.Authorization=`Bearer ${a}`);const o=await fetch(`${Pp}/admin/backup/${t}/download`,{headers:s});if(!o.ok)throw new Error(`Download failed: ${o.status}`);return o.blob()}async uploadBackup(t,a){const s=new FormData;s.append("backup",t);const o=localStorage.getItem("sil_lab_token");return new Promise((l,d)=>{const g=new XMLHttpRequest;a&&g.upload.addEventListener("progress",f=>{if(f.lengthComputable){const m=f.loaded/f.total*100;a(m)}}),g.addEventListener("load",()=>{if(g.status===200)try{const f=JSON.parse(g.responseText);l(f)}catch{d(new Error("Invalid response format"))}else d(new Error(`Upload failed: ${g.status}`))}),g.addEventListener("error",()=>{d(new Error("Upload failed"))}),g.open("POST",`${Pp}/admin/backup/upload`),o&&g.setRequestHeader("Authorization",`Bearer ${o}`),g.send(s)})}async restoreBackup(t){return this.apiRequest(`/admin/backup/${t}/restore`,{method:"POST"})}async deleteBackup(t){return this.apiRequest(`/admin/backup/${t}`,{method:"DELETE"})}async getBackupSettings(){return this.apiRequest("/admin/backup/settings")}async updateBackupSettings(t){return this.apiRequest("/admin/backup/settings",{method:"PUT",body:JSON.stringify(t)})}async getBackupStats(){return this.apiRequest("/admin/backup/stats")}async getJobStatus(){return this.apiRequest("/admin/backup/job-status")}async shouldShowBackupReminder(){try{const a=(await this.getBackupStats()).daysSinceLastBackup;return a>=30?{show:!0,daysSince:a,message:`It's been ${a} days since your last backup. Consider creating a backup to protect your data.`}:{show:!1,daysSince:a,message:""}}catch(t){return console.error("Error checking backup reminder:",t),{show:!0,daysSince:999,message:"Unable to check backup status. Consider creating a backup to protect your data."}}}async validateBackupFile(t){try{if(t.size>500*1024*1024)return{valid:!1,error:"Backup file is too large (max 500MB)"};if(!t.name.endsWith(".backup")&&!t.name.endsWith(".json"))return{valid:!1,error:"Invalid file format. Expected .backup or .json file"};if(t.name.endsWith(".json")){const a=await t.text(),s=JSON.parse(a);return!s.metadata||!s.data?{valid:!1,error:"Invalid backup file structure"}:{valid:!0,info:{version:s.metadata.version,createdAt:s.metadata.createdAt,size:t.size,tables:Object.keys(s.data).length}}}return{valid:!0}}catch{return{valid:!1,error:"Unable to validate backup file"}}}formatSize(t){const a=["Bytes","KB","MB","GB"];if(t===0)return"0 Bytes";const s=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,s)).toFixed(2)+" "+a[s]}formatBackupAge(t){const a=new Date,s=new Date(t),o=Math.abs(a.getTime()-s.getTime()),l=Math.ceil(o/(1e3*60*60*24));if(l===1)return"1 day ago";if(l<30)return`${l} days ago`;if(l<365){const g=Math.floor(l/30);return g===1?"1 month ago":`${g} months ago`}const d=Math.floor(l/365);return d===1?"1 year ago":`${d} years ago`}}const ns=new P6;var U6=Object.defineProperty,D6=(e,t,a)=>t in e?U6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Up=(e,t,a)=>(D6(e,typeof t!="symbol"?t+"":t,a),a);let T6=class{constructor(){Up(this,"current",this.detect()),Up(this,"handoffState","pending"),Up(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ci=new T6;function nf(e){var t,a;return Ci.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(a=(t=e.current)==null?void 0:t.ownerDocument)!=null?a:document:null:document}function of(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function po(){let e=[],t={addEventListener(a,s,o,l){return a.addEventListener(s,o,l),t.add(()=>a.removeEventListener(s,o,l))},requestAnimationFrame(...a){let s=requestAnimationFrame(...a);return t.add(()=>cancelAnimationFrame(s))},nextFrame(...a){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...a))},setTimeout(...a){let s=setTimeout(...a);return t.add(()=>clearTimeout(s))},microTask(...a){let s={current:!0};return of(()=>{s.current&&a[0]()}),t.add(()=>{s.current=!1})},style(a,s,o){let l=a.style.getPropertyValue(s);return Object.assign(a.style,{[s]:o}),this.add(()=>{Object.assign(a.style,{[s]:l})})},group(a){let s=po();return a(s),this.add(()=>s.dispose())},add(a){return e.includes(a)||e.push(a),()=>{let s=e.indexOf(a);if(s>=0)for(let o of e.splice(s,1))o()}},dispose(){for(let a of e.splice(0))a()}};return t}function cb(){let[e]=q.useState(po);return q.useEffect(()=>()=>e.dispose(),[e]),e}let hs=(e,t)=>{Ci.isServer?q.useEffect(e,t):q.useLayoutEffect(e,t)};function gc(e){let t=q.useRef(e);return hs(()=>{t.current=e},[e]),t}let Pr=function(e){let t=gc(e);return It.useCallback((...a)=>t.current(...a),[t])},Q6=q.createContext(void 0);function R6(){return q.useContext(Q6)}function fx(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function uo(e,t,...a){if(e in t){let o=t[e];return typeof o=="function"?o(...a):o}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,uo),s}var v0=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(v0||{}),Go=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Go||{});function Tn(){let e=O6();return q.useCallback(t=>M6({mergeRefs:e,...t}),[e])}function M6({ourProps:e,theirProps:t,slot:a,defaultTag:s,features:o,visible:l=!0,name:d,mergeRefs:g}){g=g??H6;let f=oC(t,e);if(l)return Hh(f,a,s,d,g);let m=o??0;if(m&2){let{static:y=!1,...N}=f;if(y)return Hh(N,a,s,d,g)}if(m&1){let{unmount:y=!0,...N}=f;return uo(y?0:1,{0(){return null},1(){return Hh({...N,hidden:!0,style:{display:"none"}},a,s,d,g)}})}return Hh(f,a,s,d,g)}function Hh(e,t={},a,s,o){let{as:l=a,children:d,refName:g="ref",...f}=Dp(e,["unmount","static"]),m=e.ref!==void 0?{[g]:e.ref}:{},y=typeof d=="function"?d(t):d;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(t)),f["aria-labelledby"]&&f["aria-labelledby"]===f.id&&(f["aria-labelledby"]=void 0);let N={};if(t){let B=!1,w=[];for(let[U,L]of Object.entries(t))typeof L=="boolean"&&(B=!0),L===!0&&w.push(U.replace(/([A-Z])/g,R=>`-${R.toLowerCase()}`));if(B){N["data-headlessui-state"]=w.join(" ");for(let U of w)N[`data-${U}`]=""}}if(l===q.Fragment&&(Object.keys(Dl(f)).length>0||Object.keys(Dl(N)).length>0))if(!q.isValidElement(y)||Array.isArray(y)&&y.length>1){if(Object.keys(Dl(f)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Dl(f)).concat(Object.keys(Dl(N))).map(B=>`  - ${B}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(B=>`  - ${B}`).join(`
`)].join(`
`))}else{let B=y.props,w=B==null?void 0:B.className,U=typeof w=="function"?(...C)=>fx(w(...C),f.className):fx(w,f.className),L=U?{className:U}:{},R=oC(y.props,Dl(Dp(f,["ref"])));for(let C in N)C in R&&delete N[C];return q.cloneElement(y,Object.assign({},R,N,m,{ref:o(_6(y),m.ref)},L))}return q.createElement(l,Object.assign({},Dp(f,["ref"]),l!==q.Fragment&&m,l!==q.Fragment&&N),y)}function O6(){let e=q.useRef([]),t=q.useCallback(a=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(a):s.current=a)},[]);return(...a)=>{if(!a.every(s=>s==null))return e.current=a,t}}function H6(...e){return e.every(t=>t==null)?void 0:t=>{for(let a of e)a!=null&&(typeof a=="function"?a(t):a.current=t)}}function oC(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},a={};for(let s of e)for(let o in s)o.startsWith("on")&&typeof s[o]=="function"?(a[o]!=null||(a[o]=[]),a[o].push(s[o])):t[o]=s[o];if(t.disabled||t["aria-disabled"])for(let s in a)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(a[s]=[o=>{var l;return(l=o==null?void 0:o.preventDefault)==null?void 0:l.call(o)}]);for(let s in a)Object.assign(t,{[s](o,...l){let d=a[s];for(let g of d){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;g(o,...l)}}});return t}function _s(e){var t;return Object.assign(q.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Dl(e){let t=Object.assign({},e);for(let a in t)t[a]===void 0&&delete t[a];return t}function Dp(e,t=[]){let a=Object.assign({},e);for(let s of t)s in a&&delete a[s];return a}function _6(e){return It.version.split(".")[0]>="19"?e.props.ref:e.ref}let z6="span";var w0=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(w0||{});function V6(e,t){var a;let{features:s=1,...o}=e,l={ref:t,"aria-hidden":(s&2)===2?!0:(a=o["aria-hidden"])!=null?a:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return Tn()({ourProps:l,theirProps:o,slot:{},defaultTag:z6,name:"Hidden"})}let px=_s(V6);function lC(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ll(e){return lC(e)&&"tagName"in e}function lc(e){return ll(e)&&"accessKey"in e}function qo(e){return ll(e)&&"tabIndex"in e}function G6(e){return ll(e)&&"style"in e}function q6(e){return lc(e)&&e.nodeName==="IFRAME"}function X6(e){return lc(e)&&e.nodeName==="INPUT"}let cC=Symbol();function K6(e,t=!0){return Object.assign(e,{[cC]:t})}function Fi(...e){let t=q.useRef(e);q.useEffect(()=>{t.current=e},[e]);let a=Pr(s=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(s):o.current=s)});return e.every(s=>s==null||(s==null?void 0:s[cC]))?void 0:a}let Ab=q.createContext(null);Ab.displayName="DescriptionContext";function AC(){let e=q.useContext(Ab);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,AC),t}return e}function W6(){let[e,t]=q.useState([]);return[e.length>0?e.join(" "):void 0,q.useMemo(()=>function(a){let s=Pr(l=>(t(d=>[...d,l]),()=>t(d=>{let g=d.slice(),f=g.indexOf(l);return f!==-1&&g.splice(f,1),g}))),o=q.useMemo(()=>({register:s,slot:a.slot,name:a.name,props:a.props,value:a.value}),[s,a.slot,a.name,a.props,a.value]);return It.createElement(Ab.Provider,{value:o},a.children)},[t])]}let Y6="p";function $6(e,t){let a=q.useId(),s=R6(),{id:o=`headlessui-description-${a}`,...l}=e,d=AC(),g=Fi(t);hs(()=>d.register(o),[o,d.register]);let f=s||!1,m=q.useMemo(()=>({...d.slot,disabled:f}),[d.slot,f]),y={ref:g,...d.props,id:o};return Tn()({ourProps:y,theirProps:l,slot:m,defaultTag:Y6,name:d.name||"Description"})}let J6=_s($6),Z6=Object.assign(J6,{});var dC=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(dC||{});let eF=q.createContext(()=>{});function tF({value:e,children:t}){return It.createElement(eF.Provider,{value:e},t)}let uC=class extends Map{constructor(t){super(),this.factory=t}get(t){let a=super.get(t);return a===void 0&&(a=this.factory(t),this.set(t,a)),a}};var rF=Object.defineProperty,aF=(e,t,a)=>t in e?rF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,sF=(e,t,a)=>(aF(e,typeof t!="symbol"?t+"":t,a),a),hC=(e,t,a)=>{if(!t.has(e))throw TypeError("Cannot "+a)},Nn=(e,t,a)=>(hC(e,t,"read from private field"),a?a.call(e):t.get(e)),Tp=(e,t,a)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,a)},Fw=(e,t,a,s)=>(hC(e,t,"write to private field"),s?s.call(e,a):t.set(e,a),a),pi,Id,Pd;let nF=class{constructor(t){Tp(this,pi,{}),Tp(this,Id,new uC(()=>new Set)),Tp(this,Pd,new Set),sF(this,"disposables",po()),Fw(this,pi,t),Ci.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Nn(this,pi)}subscribe(t,a){if(Ci.isServer)return()=>{};let s={selector:t,callback:a,current:t(Nn(this,pi))};return Nn(this,Pd).add(s),this.disposables.add(()=>{Nn(this,Pd).delete(s)})}on(t,a){return Ci.isServer?()=>{}:(Nn(this,Id).get(t).add(a),this.disposables.add(()=>{Nn(this,Id).get(t).delete(a)}))}send(t){let a=this.reduce(Nn(this,pi),t);if(a!==Nn(this,pi)){Fw(this,pi,a);for(let s of Nn(this,Pd)){let o=s.selector(Nn(this,pi));gC(s.current,o)||(s.current=o,s.callback(o))}for(let s of Nn(this,Id).get(t.type))s(Nn(this,pi),t)}}};pi=new WeakMap,Id=new WeakMap,Pd=new WeakMap;function gC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Qp(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Qp(e.entries(),t.entries()):Ew(e)&&Ew(t)?Qp(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Qp(e,t){do{let a=e.next(),s=t.next();if(a.done&&s.done)return!0;if(a.done||s.done||!Object.is(a.value,s.value))return!1}while(!0)}function Ew(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var iF=Object.defineProperty,oF=(e,t,a)=>t in e?iF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Lw=(e,t,a)=>(oF(e,typeof t!="symbol"?t+"":t,a),a),lF=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(lF||{});let cF={0(e,t){let a=t.id,s=e.stack,o=e.stack.indexOf(a);if(o!==-1){let l=e.stack.slice();return l.splice(o,1),l.push(a),s=l,{...e,stack:s}}return{...e,stack:[...e.stack,a]}},1(e,t){let a=t.id,s=e.stack.indexOf(a);if(s===-1)return e;let o=e.stack.slice();return o.splice(s,1),{...e,stack:o}}},AF=class fC extends nF{constructor(){super(...arguments),Lw(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Lw(this,"selectors",{isTop:(t,a)=>t.stack[t.stack.length-1]===a,inStack:(t,a)=>t.stack.includes(a)})}static new(){return new fC({stack:[]})}reduce(t,a){return uo(a.type,cF,t,a)}};const pC=new uC(()=>AF.new());var mC={exports:{}},xC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=q;function dF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uF=typeof Object.is=="function"?Object.is:dF,hF=Qu.useSyncExternalStore,gF=Qu.useRef,fF=Qu.useEffect,pF=Qu.useMemo,mF=Qu.useDebugValue;xC.useSyncExternalStoreWithSelector=function(e,t,a,s,o){var l=gF(null);if(l.current===null){var d={hasValue:!1,value:null};l.current=d}else d=l.current;l=pF(function(){function f(w){if(!m){if(m=!0,y=w,w=s(w),o!==void 0&&d.hasValue){var U=d.value;if(o(U,w))return N=U}return N=w}if(U=N,uF(y,w))return U;var L=s(w);return o!==void 0&&o(U,L)?(y=w,U):(y=w,N=L)}var m=!1,y,N,B=a===void 0?null:a;return[function(){return f(t())},B===null?void 0:function(){return f(B())}]},[t,a,s,o]);var g=hF(e,l[0],l[1]);return fF(function(){d.hasValue=!0,d.value=g},[g]),mF(g),g};mC.exports=xC;var xF=mC.exports;function yC(e,t,a=gC){return xF.useSyncExternalStoreWithSelector(Pr(s=>e.subscribe(yF,s)),Pr(()=>e.state),Pr(()=>e.state),Pr(t),a)}function yF(e){return e}function Ru(e,t){let a=q.useId(),s=pC.get(t),[o,l]=yC(s,q.useCallback(d=>[s.selectors.isTop(d,a),s.selectors.inStack(d,a)],[s,a]));return hs(()=>{if(e)return s.actions.push(a),()=>s.actions.pop(a)},[s,e,a]),e?l?o:!0:!1}let mx=new Map,Jd=new Map;function Iw(e){var t;let a=(t=Jd.get(e))!=null?t:0;return Jd.set(e,a+1),a!==0?()=>Pw(e):(mx.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Pw(e))}function Pw(e){var t;let a=(t=Jd.get(e))!=null?t:1;if(a===1?Jd.delete(e):Jd.set(e,a-1),a!==1)return;let s=mx.get(e);s&&(s["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",s["aria-hidden"]),e.inert=s.inert,mx.delete(e))}function bF(e,{allowed:t,disallowed:a}={}){let s=Ru(e,"inert-others");hs(()=>{var o,l;if(!s)return;let d=po();for(let f of(o=a==null?void 0:a())!=null?o:[])f&&d.add(Iw(f));let g=(l=t==null?void 0:t())!=null?l:[];for(let f of g){if(!f)continue;let m=nf(f);if(!m)continue;let y=f.parentElement;for(;y&&y!==m.body;){for(let N of y.children)g.some(B=>N.contains(B))||d.add(Iw(N));y=y.parentElement}}return d.dispose},[s,t,a])}function vF(e,t,a){let s=gc(o=>{let l=o.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&a()});q.useEffect(()=>{if(!e)return;let o=t===null?null:lc(t)?t:t.current;if(!o)return;let l=po();if(typeof ResizeObserver<"u"){let d=new ResizeObserver(()=>s.current(o));d.observe(o),l.add(()=>d.disconnect())}if(typeof IntersectionObserver<"u"){let d=new IntersectionObserver(()=>s.current(o));d.observe(o),l.add(()=>d.disconnect())}return()=>l.dispose()},[t,s,e])}let k0=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),wF=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var $i=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))($i||{}),xx=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(xx||{}),kF=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(kF||{});function NF(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(k0)).sort((t,a)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(a.tabIndex||Number.MAX_SAFE_INTEGER)))}function CF(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(wF)).sort((t,a)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(a.tabIndex||Number.MAX_SAFE_INTEGER)))}var bC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(bC||{});function BF(e,t=0){var a;return e===((a=nf(e))==null?void 0:a.body)?!1:uo(t,{0(){return e.matches(k0)},1(){let s=e;for(;s!==null;){if(s.matches(k0))return!0;s=s.parentElement}return!1}})}var jF=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(jF||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ao(e){e==null||e.focus({preventScroll:!0})}let SF=["textarea","input"].join(",");function FF(e){var t,a;return(a=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,SF))!=null?a:!1}function EF(e,t=a=>a){return e.slice().sort((a,s)=>{let o=t(a),l=t(s);if(o===null||l===null)return 0;let d=o.compareDocumentPosition(l);return d&Node.DOCUMENT_POSITION_FOLLOWING?-1:d&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Zd(e,t,{sorted:a=!0,relativeTo:s=null,skipElements:o=[]}={}){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,d=Array.isArray(e)?a?EF(e):e:t&64?CF(e):NF(e);o.length>0&&d.length>1&&(d=d.filter(w=>!o.some(U=>U!=null&&"current"in U?(U==null?void 0:U.current)===w:U===w))),s=s??l.activeElement;let g=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,d.indexOf(s))-1;if(t&4)return Math.max(0,d.indexOf(s))+1;if(t&8)return d.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=t&32?{preventScroll:!0}:{},y=0,N=d.length,B;do{if(y>=N||y+N<=0)return 0;let w=f+y;if(t&16)w=(w+N)%N;else{if(w<0)return 3;if(w>=N)return 1}B=d[w],B==null||B.focus(m),y+=g}while(B!==l.activeElement);return t&6&&FF(B)&&B.select(),2}function vC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function LF(){return/Android/gi.test(window.navigator.userAgent)}function Uw(){return vC()||LF()}function _h(e,t,a,s){let o=gc(a);q.useEffect(()=>{if(!e)return;function l(d){o.current(d)}return document.addEventListener(t,l,s),()=>document.removeEventListener(t,l,s)},[e,t,s])}function wC(e,t,a,s){let o=gc(a);q.useEffect(()=>{if(!e)return;function l(d){o.current(d)}return window.addEventListener(t,l,s),()=>window.removeEventListener(t,l,s)},[e,t,s])}const Dw=30;function IF(e,t,a){let s=gc(a),o=q.useCallback(function(g,f){if(g.defaultPrevented)return;let m=f(g);if(m===null||!m.getRootNode().contains(m)||!m.isConnected)return;let y=function N(B){return typeof B=="function"?N(B()):Array.isArray(B)||B instanceof Set?B:[B]}(t);for(let N of y)if(N!==null&&(N.contains(m)||g.composed&&g.composedPath().includes(N)))return;return!BF(m,bC.Loose)&&m.tabIndex!==-1&&g.preventDefault(),s.current(g,m)},[s,t]),l=q.useRef(null);_h(e,"pointerdown",g=>{var f,m;Uw()||(l.current=((m=(f=g.composedPath)==null?void 0:f.call(g))==null?void 0:m[0])||g.target)},!0),_h(e,"pointerup",g=>{if(Uw()||!l.current)return;let f=l.current;return l.current=null,o(g,()=>f)},!0);let d=q.useRef({x:0,y:0});_h(e,"touchstart",g=>{d.current.x=g.touches[0].clientX,d.current.y=g.touches[0].clientY},!0),_h(e,"touchend",g=>{let f={x:g.changedTouches[0].clientX,y:g.changedTouches[0].clientY};if(!(Math.abs(f.x-d.current.x)>=Dw||Math.abs(f.y-d.current.y)>=Dw))return o(g,()=>qo(g.target)?g.target:null)},!0),wC(e,"blur",g=>o(g,()=>q6(window.document.activeElement)?window.document.activeElement:null),!0)}function lf(...e){return q.useMemo(()=>nf(...e),[...e])}function kC(e,t,a,s){let o=gc(a);q.useEffect(()=>{e=e??window;function l(d){o.current(d)}return e.addEventListener(t,l,s),()=>e.removeEventListener(t,l,s)},[e,t,s])}function PF(e){return q.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function UF(e,t){let a=e(),s=new Set;return{getSnapshot(){return a},subscribe(o){return s.add(o),()=>s.delete(o)},dispatch(o,...l){let d=t[o].call(a,...l);d&&(a=d,s.forEach(g=>g()))}}}function DF(){let e;return{before({doc:t}){var a;let s=t.documentElement,o=(a=t.defaultView)!=null?a:window;e=Math.max(0,o.innerWidth-s.clientWidth)},after({doc:t,d:a}){let s=t.documentElement,o=Math.max(0,s.clientWidth-s.offsetWidth),l=Math.max(0,e-o);a.style(s,"paddingRight",`${l}px`)}}}function TF(){return vC()?{before({doc:e,d:t,meta:a}){function s(o){return a.containers.flatMap(l=>l()).some(l=>l.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let g=po();g.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>g.dispose()))}let l=(o=window.scrollY)!=null?o:window.pageYOffset,d=null;t.addEventListener(e,"click",g=>{if(qo(g.target))try{let f=g.target.closest("a");if(!f)return;let{hash:m}=new URL(f.href),y=e.querySelector(m);qo(y)&&!s(y)&&(d=y)}catch{}},!0),t.addEventListener(e,"touchstart",g=>{if(qo(g.target)&&G6(g.target))if(s(g.target)){let f=g.target;for(;f.parentElement&&s(f.parentElement);)f=f.parentElement;t.style(f,"overscrollBehavior","contain")}else t.style(g.target,"touchAction","none")}),t.addEventListener(e,"touchmove",g=>{if(qo(g.target)){if(X6(g.target))return;if(s(g.target)){let f=g.target;for(;f.parentElement&&f.dataset.headlessuiPortal!==""&&!(f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth);)f=f.parentElement;f.dataset.headlessuiPortal===""&&g.preventDefault()}else g.preventDefault()}},{passive:!1}),t.add(()=>{var g;let f=(g=window.scrollY)!=null?g:window.pageYOffset;l!==f&&window.scrollTo(0,l),d&&d.isConnected&&(d.scrollIntoView({block:"nearest"}),d=null)})})}}:{}}function QF(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function RF(e){let t={};for(let a of e)Object.assign(t,a(t));return t}let zl=UF(()=>new Map,{PUSH(e,t){var a;let s=(a=this.get(e))!=null?a:{doc:e,count:0,d:po(),meta:new Set};return s.count++,s.meta.add(t),this.set(e,s),this},POP(e,t){let a=this.get(e);return a&&(a.count--,a.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:a}){let s={doc:e,d:t,meta:RF(a)},o=[TF(),DF(),QF()];o.forEach(({before:l})=>l==null?void 0:l(s)),o.forEach(({after:l})=>l==null?void 0:l(s))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});zl.subscribe(()=>{let e=zl.getSnapshot(),t=new Map;for(let[a]of e)t.set(a,a.documentElement.style.overflow);for(let a of e.values()){let s=t.get(a.doc)==="hidden",o=a.count!==0;(o&&!s||!o&&s)&&zl.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),a.count===0&&zl.dispatch("TEARDOWN",a)}});function MF(e,t,a=()=>({containers:[]})){let s=PF(zl),o=t?s.get(t):void 0,l=o?o.count>0:!1;return hs(()=>{if(!(!t||!e))return zl.dispatch("PUSH",t,a),()=>zl.dispatch("POP",t,a)},[e,t]),l}function OF(e,t,a=()=>[document.body]){let s=Ru(e,"scroll-lock");MF(s,t,o=>{var l;return{containers:[...(l=o.containers)!=null?l:[],a]}})}function HF(e=0){let[t,a]=q.useState(e),s=q.useCallback(f=>a(f),[t]),o=q.useCallback(f=>a(m=>m|f),[t]),l=q.useCallback(f=>(t&f)===f,[t]),d=q.useCallback(f=>a(m=>m&~f),[a]),g=q.useCallback(f=>a(m=>m^f),[a]);return{flags:t,setFlag:s,addFlag:o,hasFlag:l,removeFlag:d,toggleFlag:g}}var Tw,Qw;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Tw=process==null?void 0:process.env)==null?void 0:Tw.NODE_ENV)==="test"&&typeof((Qw=Element==null?void 0:Element.prototype)==null?void 0:Qw.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var _F=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(_F||{});function zF(e){let t={};for(let a in e)e[a]===!0&&(t[`data-${a}`]="");return t}function VF(e,t,a,s){let[o,l]=q.useState(a),{hasFlag:d,addFlag:g,removeFlag:f}=HF(e&&o?3:0),m=q.useRef(!1),y=q.useRef(!1),N=cb();return hs(()=>{var B;if(e){if(a&&l(!0),!t){a&&g(3);return}return(B=s==null?void 0:s.start)==null||B.call(s,a),GF(t,{inFlight:m,prepare(){y.current?y.current=!1:y.current=m.current,m.current=!0,!y.current&&(a?(g(3),f(4)):(g(4),f(2)))},run(){y.current?a?(f(3),g(4)):(f(4),g(3)):a?f(1):g(1)},done(){var w;y.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(m.current=!1,f(7),a||l(!1),(w=s==null?void 0:s.end)==null||w.call(s,a))}})}},[e,a,t,N]),e?[o,{closed:d(1),enter:d(2),leave:d(4),transition:d(2)||d(4)}]:[a,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function GF(e,{prepare:t,run:a,done:s,inFlight:o}){let l=po();return XF(e,{prepare:t,inFlight:o}),l.nextFrame(()=>{a(),l.requestAnimationFrame(()=>{l.add(qF(e,s))})}),l.dispose}function qF(e,t){var a,s;let o=po();if(!e)return o.dispose;let l=!1;o.add(()=>{l=!0});let d=(s=(a=e.getAnimations)==null?void 0:a.call(e).filter(g=>g instanceof CSSTransition))!=null?s:[];return d.length===0?(t(),o.dispose):(Promise.allSettled(d.map(g=>g.finished)).then(()=>{l||t()}),o.dispose)}function XF(e,{inFlight:t,prepare:a}){if(t!=null&&t.current){a();return}let s=e.style.transition;e.style.transition="none",a(),e.offsetHeight,e.style.transition=s}function db(e,t){let a=q.useRef([]),s=Pr(e);q.useEffect(()=>{let o=[...a.current];for(let[l,d]of t.entries())if(a.current[l]!==d){let g=s(t,o);return a.current=t,g}},[s,...t])}let cf=q.createContext(null);cf.displayName="OpenClosedContext";var Yn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Yn||{});function Af(){return q.useContext(cf)}function KF({value:e,children:t}){return It.createElement(cf.Provider,{value:e},t)}function WF({children:e}){return It.createElement(cf.Provider,{value:null},e)}function YF(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ho=[];YF(()=>{function e(t){if(!qo(t.target)||t.target===document.body||Ho[0]===t.target)return;let a=t.target;a=a.closest(k0),Ho.unshift(a??t.target),Ho=Ho.filter(s=>s!=null&&s.isConnected),Ho.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function NC(e){let t=Pr(e),a=q.useRef(!1);q.useEffect(()=>(a.current=!1,()=>{a.current=!0,of(()=>{a.current&&t()})}),[t])}function $F(){let e=typeof document>"u";return"useSyncExternalStore"in xm?(t=>t.useSyncExternalStore)(xm)(()=>()=>{},()=>!1,()=>!e):!1}function Mu(){let e=$F(),[t,a]=q.useState(Ci.isHandoffComplete);return t&&Ci.isHandoffComplete===!1&&a(!1),q.useEffect(()=>{t!==!0&&a(!0)},[t]),q.useEffect(()=>Ci.handoff(),[]),e?!1:t}let CC=q.createContext(!1);function JF(){return q.useContext(CC)}function Rw(e){return It.createElement(CC.Provider,{value:e.force},e.children)}function ZF(e){let t=JF(),a=q.useContext(jC),[s,o]=q.useState(()=>{var l;if(!t&&a!==null)return(l=a.current)!=null?l:null;if(Ci.isServer)return null;let d=e==null?void 0:e.getElementById("headlessui-portal-root");if(d)return d;if(e===null)return null;let g=e.createElement("div");return g.setAttribute("id","headlessui-portal-root"),e.body.appendChild(g)});return q.useEffect(()=>{s!==null&&(e!=null&&e.body.contains(s)||e==null||e.body.appendChild(s))},[s,e]),q.useEffect(()=>{t||a!==null&&o(a.current)},[a,o,t]),s}let BC=q.Fragment,eE=_s(function(e,t){let{ownerDocument:a=null,...s}=e,o=q.useRef(null),l=Fi(K6(w=>{o.current=w}),t),d=lf(o),g=a??d,f=ZF(g),[m]=q.useState(()=>{var w;return Ci.isServer?null:(w=g==null?void 0:g.createElement("div"))!=null?w:null}),y=q.useContext(yx),N=Mu();hs(()=>{!f||!m||f.contains(m)||(m.setAttribute("data-headlessui-portal",""),f.appendChild(m))},[f,m]),hs(()=>{if(m&&y)return y.register(m)},[y,m]),NC(()=>{var w;!f||!m||(lC(m)&&f.contains(m)&&f.removeChild(m),f.childNodes.length<=0&&((w=f.parentElement)==null||w.removeChild(f)))});let B=Tn();return N?!f||!m?null:TN.createPortal(B({ourProps:{ref:l},theirProps:s,slot:{},defaultTag:BC,name:"Portal"}),m):null});function tE(e,t){let a=Fi(t),{enabled:s=!0,ownerDocument:o,...l}=e,d=Tn();return s?It.createElement(eE,{...l,ownerDocument:o,ref:a}):d({ourProps:{ref:a},theirProps:l,slot:{},defaultTag:BC,name:"Portal"})}let rE=q.Fragment,jC=q.createContext(null);function aE(e,t){let{target:a,...s}=e,o={ref:Fi(t)},l=Tn();return It.createElement(jC.Provider,{value:a},l({ourProps:o,theirProps:s,defaultTag:rE,name:"Popover.Group"}))}let yx=q.createContext(null);function sE(){let e=q.useContext(yx),t=q.useRef([]),a=Pr(l=>(t.current.push(l),e&&e.register(l),()=>s(l))),s=Pr(l=>{let d=t.current.indexOf(l);d!==-1&&t.current.splice(d,1),e&&e.unregister(l)}),o=q.useMemo(()=>({register:a,unregister:s,portals:t}),[a,s,t]);return[t,q.useMemo(()=>function({children:l}){return It.createElement(yx.Provider,{value:o},l)},[o])]}let nE=_s(tE),SC=_s(aE),iE=Object.assign(nE,{Group:SC});function oE(e,t=typeof document<"u"?document.defaultView:null,a){let s=Ru(e,"escape");kC(t,"keydown",o=>{s&&(o.defaultPrevented||o.key===dC.Escape&&a(o))})}function lE(){var e;let[t]=q.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[a,s]=q.useState((e=t==null?void 0:t.matches)!=null?e:!1);return hs(()=>{if(!t)return;function o(l){s(l.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),a}function cE({defaultContainers:e=[],portals:t,mainTreeNode:a}={}){let s=lf(a),o=Pr(()=>{var l,d;let g=[];for(let f of e)f!==null&&(ll(f)?g.push(f):"current"in f&&ll(f.current)&&g.push(f.current));if(t!=null&&t.current)for(let f of t.current)g.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&ll(f)&&f.id!=="headlessui-portal-root"&&(a&&(f.contains(a)||f.contains((d=a==null?void 0:a.getRootNode())==null?void 0:d.host))||g.some(m=>f.contains(m))||g.push(f));return g});return{resolveContainers:o,contains:Pr(l=>o().some(d=>d.contains(l)))}}let FC=q.createContext(null);function Mw({children:e,node:t}){let[a,s]=q.useState(null),o=EC(t??a);return It.createElement(FC.Provider,{value:o},e,o===null&&It.createElement(px,{features:w0.Hidden,ref:l=>{var d,g;if(l){for(let f of(g=(d=nf(l))==null?void 0:d.querySelectorAll("html > *, body > *"))!=null?g:[])if(f!==document.body&&f!==document.head&&ll(f)&&f!=null&&f.contains(l)){s(f);break}}}}))}function EC(e=null){var t;return(t=q.useContext(FC))!=null?t:e}function ub(){let e=q.useRef(!1);return hs(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ud=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ud||{});function AE(){let e=q.useRef(0);return wC(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function LC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let a of e.current)ll(a.current)&&t.add(a.current);return t}let dE="div";var Ql=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ql||{});function uE(e,t){let a=q.useRef(null),s=Fi(a,t),{initialFocus:o,initialFocusFallback:l,containers:d,features:g=15,...f}=e;Mu()||(g=0);let m=lf(a);pE(g,{ownerDocument:m});let y=mE(g,{ownerDocument:m,container:a,initialFocus:o,initialFocusFallback:l});xE(g,{ownerDocument:m,container:a,containers:d,previousActiveElement:y});let N=AE(),B=Pr(I=>{if(!lc(a.current))return;let T=a.current;(z=>z())(()=>{uo(N.current,{[Ud.Forwards]:()=>{Zd(T,$i.First,{skipElements:[I.relatedTarget,l]})},[Ud.Backwards]:()=>{Zd(T,$i.Last,{skipElements:[I.relatedTarget,l]})}})})}),w=Ru(!!(g&2),"focus-trap#tab-lock"),U=cb(),L=q.useRef(!1),R={ref:s,onKeyDown(I){I.key=="Tab"&&(L.current=!0,U.requestAnimationFrame(()=>{L.current=!1}))},onBlur(I){if(!(g&4))return;let T=LC(d);lc(a.current)&&T.add(a.current);let z=I.relatedTarget;qo(z)&&z.dataset.headlessuiFocusGuard!=="true"&&(IC(T,z)||(L.current?Zd(a.current,uo(N.current,{[Ud.Forwards]:()=>$i.Next,[Ud.Backwards]:()=>$i.Previous})|$i.WrapAround,{relativeTo:I.target}):qo(I.target)&&ao(I.target)))}},C=Tn();return It.createElement(It.Fragment,null,w&&It.createElement(px,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:B,features:w0.Focusable}),C({ourProps:R,theirProps:f,defaultTag:dE,name:"FocusTrap"}),w&&It.createElement(px,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:B,features:w0.Focusable}))}let hE=_s(uE),gE=Object.assign(hE,{features:Ql});function fE(e=!0){let t=q.useRef(Ho.slice());return db(([a],[s])=>{s===!0&&a===!1&&of(()=>{t.current.splice(0)}),s===!1&&a===!0&&(t.current=Ho.slice())},[e,Ho,t]),Pr(()=>{var a;return(a=t.current.find(s=>s!=null&&s.isConnected))!=null?a:null})}function pE(e,{ownerDocument:t}){let a=!!(e&8),s=fE(a);db(()=>{a||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&ao(s())},[a]),NC(()=>{a&&ao(s())})}function mE(e,{ownerDocument:t,container:a,initialFocus:s,initialFocusFallback:o}){let l=q.useRef(null),d=Ru(!!(e&1),"focus-trap#initial-focus"),g=ub();return db(()=>{if(e===0)return;if(!d){o!=null&&o.current&&ao(o.current);return}let f=a.current;f&&of(()=>{if(!g.current)return;let m=t==null?void 0:t.activeElement;if(s!=null&&s.current){if((s==null?void 0:s.current)===m){l.current=m;return}}else if(f.contains(m)){l.current=m;return}if(s!=null&&s.current)ao(s.current);else{if(e&16){if(Zd(f,$i.First|$i.AutoFocus)!==xx.Error)return}else if(Zd(f,$i.First)!==xx.Error)return;if(o!=null&&o.current&&(ao(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t==null?void 0:t.activeElement})},[o,d,e]),l}function xE(e,{ownerDocument:t,container:a,containers:s,previousActiveElement:o}){let l=ub(),d=!!(e&4);kC(t==null?void 0:t.defaultView,"focus",g=>{if(!d||!l.current)return;let f=LC(s);lc(a.current)&&f.add(a.current);let m=o.current;if(!m)return;let y=g.target;lc(y)?IC(f,y)?(o.current=y,ao(y)):(g.preventDefault(),g.stopPropagation(),ao(m)):ao(o.current)},!0)}function IC(e,t){for(let a of e)if(a.contains(t))return!0;return!1}function PC(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:DC)!==q.Fragment||It.Children.count(e.children)===1}let df=q.createContext(null);df.displayName="TransitionContext";var yE=(e=>(e.Visible="visible",e.Hidden="hidden",e))(yE||{});function bE(){let e=q.useContext(df);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function vE(){let e=q.useContext(uf);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let uf=q.createContext(null);uf.displayName="NestingContext";function hf(e){return"children"in e?hf(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function UC(e,t){let a=gc(e),s=q.useRef([]),o=ub(),l=cb(),d=Pr((w,U=Go.Hidden)=>{let L=s.current.findIndex(({el:R})=>R===w);L!==-1&&(uo(U,{[Go.Unmount](){s.current.splice(L,1)},[Go.Hidden](){s.current[L].state="hidden"}}),l.microTask(()=>{var R;!hf(s)&&o.current&&((R=a.current)==null||R.call(a))}))}),g=Pr(w=>{let U=s.current.find(({el:L})=>L===w);return U?U.state!=="visible"&&(U.state="visible"):s.current.push({el:w,state:"visible"}),()=>d(w,Go.Unmount)}),f=q.useRef([]),m=q.useRef(Promise.resolve()),y=q.useRef({enter:[],leave:[]}),N=Pr((w,U,L)=>{f.current.splice(0),t&&(t.chains.current[U]=t.chains.current[U].filter(([R])=>R!==w)),t==null||t.chains.current[U].push([w,new Promise(R=>{f.current.push(R)})]),t==null||t.chains.current[U].push([w,new Promise(R=>{Promise.all(y.current[U].map(([C,I])=>I)).then(()=>R())})]),U==="enter"?m.current=m.current.then(()=>t==null?void 0:t.wait.current).then(()=>L(U)):L(U)}),B=Pr((w,U,L)=>{Promise.all(y.current[U].splice(0).map(([R,C])=>C)).then(()=>{var R;(R=f.current.shift())==null||R()}).then(()=>L(U))});return q.useMemo(()=>({children:s,register:g,unregister:d,onStart:N,onStop:B,wait:m,chains:y}),[g,d,s,N,B,y,m])}let DC=q.Fragment,TC=v0.RenderStrategy;function wE(e,t){var a,s;let{transition:o=!0,beforeEnter:l,afterEnter:d,beforeLeave:g,afterLeave:f,enter:m,enterFrom:y,enterTo:N,entered:B,leave:w,leaveFrom:U,leaveTo:L,...R}=e,[C,I]=q.useState(null),T=q.useRef(null),z=PC(e),D=Fi(...z?[T,t,I]:t===null?[]:[t]),ae=(a=R.unmount)==null||a?Go.Unmount:Go.Hidden,{show:X,appear:_,initial:ie}=bE(),[oe,W]=q.useState(X?"visible":"hidden"),$=vE(),{register:Z,unregister:J}=$;hs(()=>Z(T),[Z,T]),hs(()=>{if(ae===Go.Hidden&&T.current){if(X&&oe!=="visible"){W("visible");return}return uo(oe,{hidden:()=>J(T),visible:()=>Z(T)})}},[oe,T,Z,J,X,ae]);let ne=Mu();hs(()=>{if(z&&ne&&oe==="visible"&&T.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[T,oe,ne,z]);let te=ie&&!_,Be=_&&X&&ie,fe=q.useRef(!1),je=UC(()=>{fe.current||(W("hidden"),J(T))},$),Ce=Pr(Re=>{fe.current=!0;let ve=Re?"enter":"leave";je.onStart(T,ve,Ee=>{Ee==="enter"?l==null||l():Ee==="leave"&&(g==null||g())})}),Me=Pr(Re=>{let ve=Re?"enter":"leave";fe.current=!1,je.onStop(T,ve,Ee=>{Ee==="enter"?d==null||d():Ee==="leave"&&(f==null||f())}),ve==="leave"&&!hf(je)&&(W("hidden"),J(T))});q.useEffect(()=>{z&&o||(Ce(X),Me(X))},[X,z,o]);let Ae=(()=>!(!o||!z||!ne||te))(),[,he]=VF(Ae,C,X,{start:Ce,end:Me}),ke=Dl({ref:D,className:((s=fx(R.className,Be&&m,Be&&y,he.enter&&m,he.enter&&he.closed&&y,he.enter&&!he.closed&&N,he.leave&&w,he.leave&&!he.closed&&U,he.leave&&he.closed&&L,!he.transition&&X&&B))==null?void 0:s.trim())||void 0,...zF(he)}),Le=0;oe==="visible"&&(Le|=Yn.Open),oe==="hidden"&&(Le|=Yn.Closed),X&&oe==="hidden"&&(Le|=Yn.Opening),!X&&oe==="visible"&&(Le|=Yn.Closing);let Pe=Tn();return It.createElement(uf.Provider,{value:je},It.createElement(KF,{value:Le},Pe({ourProps:ke,theirProps:R,defaultTag:DC,features:TC,visible:oe==="visible",name:"Transition.Child"})))}function kE(e,t){let{show:a,appear:s=!1,unmount:o=!0,...l}=e,d=q.useRef(null),g=PC(e),f=Fi(...g?[d,t]:t===null?[]:[t]);Mu();let m=Af();if(a===void 0&&m!==null&&(a=(m&Yn.Open)===Yn.Open),a===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[y,N]=q.useState(a?"visible":"hidden"),B=UC(()=>{a||N("hidden")}),[w,U]=q.useState(!0),L=q.useRef([a]);hs(()=>{w!==!1&&L.current[L.current.length-1]!==a&&(L.current.push(a),U(!1))},[L,a]);let R=q.useMemo(()=>({show:a,appear:s,initial:w}),[a,s,w]);hs(()=>{a?N("visible"):!hf(B)&&d.current!==null&&N("hidden")},[a,B]);let C={unmount:o},I=Pr(()=>{var D;w&&U(!1),(D=e.beforeEnter)==null||D.call(e)}),T=Pr(()=>{var D;w&&U(!1),(D=e.beforeLeave)==null||D.call(e)}),z=Tn();return It.createElement(uf.Provider,{value:B},It.createElement(df.Provider,{value:R},z({ourProps:{...C,as:q.Fragment,children:It.createElement(QC,{ref:f,...C,...l,beforeEnter:I,beforeLeave:T})},theirProps:{},defaultTag:q.Fragment,features:TC,visible:y==="visible",name:"Transition"})))}function NE(e,t){let a=q.useContext(df)!==null,s=Af()!==null;return It.createElement(It.Fragment,null,!a&&s?It.createElement(bx,{ref:t,...e}):It.createElement(QC,{ref:t,...e}))}let bx=_s(kE),QC=_s(wE),hb=_s(NE),Lg=Object.assign(bx,{Child:hb,Root:bx});var CE=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(CE||{}),BE=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(BE||{});let jE={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},gb=q.createContext(null);gb.displayName="DialogContext";function gf(e){let t=q.useContext(gb);if(t===null){let a=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,gf),a}return t}function SE(e,t){return uo(t.type,jE,e,t)}let Ow=_s(function(e,t){let a=q.useId(),{id:s=`headlessui-dialog-${a}`,open:o,onClose:l,initialFocus:d,role:g="dialog",autoFocus:f=!0,__demoMode:m=!1,unmount:y=!1,...N}=e,B=q.useRef(!1);g=function(){return g==="dialog"||g==="alertdialog"?g:(B.current||(B.current=!0,console.warn(`Invalid role [${g}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let w=Af();o===void 0&&w!==null&&(o=(w&Yn.Open)===Yn.Open);let U=q.useRef(null),L=Fi(U,t),R=lf(U),C=o?0:1,[I,T]=q.useReducer(SE,{titleId:null,descriptionId:null,panelRef:q.createRef()}),z=Pr(()=>l(!1)),D=Pr(he=>T({type:0,id:he})),ae=Mu()?C===0:!1,[X,_]=sE(),ie={get current(){var he;return(he=I.panelRef.current)!=null?he:U.current}},oe=EC(),{resolveContainers:W}=cE({mainTreeNode:oe,portals:X,defaultContainers:[ie]}),$=w!==null?(w&Yn.Closing)===Yn.Closing:!1;bF(m||$?!1:ae,{allowed:Pr(()=>{var he,ke;return[(ke=(he=U.current)==null?void 0:he.closest("[data-headlessui-portal]"))!=null?ke:null]}),disallowed:Pr(()=>{var he;return[(he=oe==null?void 0:oe.closest("body > *:not(#headlessui-portal-root)"))!=null?he:null]})});let Z=pC.get(null);hs(()=>{if(ae)return Z.actions.push(s),()=>Z.actions.pop(s)},[Z,s,ae]);let J=yC(Z,q.useCallback(he=>Z.selectors.isTop(he,s),[Z,s]));IF(J,W,he=>{he.preventDefault(),z()}),oE(J,R==null?void 0:R.defaultView,he=>{he.preventDefault(),he.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),z()}),OF(m||$?!1:ae,R,W),vF(ae,U,z);let[ne,te]=W6(),Be=q.useMemo(()=>[{dialogState:C,close:z,setTitleId:D,unmount:y},I],[C,I,z,D,y]),fe=q.useMemo(()=>({open:C===0}),[C]),je={ref:L,id:s,role:g,tabIndex:-1,"aria-modal":m?void 0:C===0?!0:void 0,"aria-labelledby":I.titleId,"aria-describedby":ne,unmount:y},Ce=!lE(),Me=Ql.None;ae&&!m&&(Me|=Ql.RestoreFocus,Me|=Ql.TabLock,f&&(Me|=Ql.AutoFocus),Ce&&(Me|=Ql.InitialFocus));let Ae=Tn();return It.createElement(WF,null,It.createElement(Rw,{force:!0},It.createElement(iE,null,It.createElement(gb.Provider,{value:Be},It.createElement(SC,{target:U},It.createElement(Rw,{force:!1},It.createElement(te,{slot:fe},It.createElement(_,null,It.createElement(gE,{initialFocus:d,initialFocusFallback:U,containers:W,features:Me},It.createElement(tF,{value:z},Ae({ourProps:je,theirProps:N,slot:fe,defaultTag:FE,features:EE,visible:C===0,name:"Dialog"})))))))))))}),FE="div",EE=v0.RenderStrategy|v0.Static;function LE(e,t){let{transition:a=!1,open:s,...o}=e,l=Af(),d=e.hasOwnProperty("open")||l!==null,g=e.hasOwnProperty("onClose");if(!d&&!g)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!d)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!g)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(s!==void 0||a)&&!o.static?It.createElement(Mw,null,It.createElement(Lg,{show:s,transition:a,unmount:o.unmount},It.createElement(Ow,{ref:t,...o}))):It.createElement(Mw,null,It.createElement(Ow,{ref:t,open:s,...o}))}let IE="div";function PE(e,t){let a=q.useId(),{id:s=`headlessui-dialog-panel-${a}`,transition:o=!1,...l}=e,[{dialogState:d,unmount:g},f]=gf("Dialog.Panel"),m=Fi(t,f.panelRef),y=q.useMemo(()=>({open:d===0}),[d]),N=Pr(R=>{R.stopPropagation()}),B={ref:m,id:s,onClick:N},w=o?hb:q.Fragment,U=o?{unmount:g}:{},L=Tn();return It.createElement(w,{...U},L({ourProps:B,theirProps:l,slot:y,defaultTag:IE,name:"Dialog.Panel"}))}let UE="div";function DE(e,t){let{transition:a=!1,...s}=e,[{dialogState:o,unmount:l}]=gf("Dialog.Backdrop"),d=q.useMemo(()=>({open:o===0}),[o]),g={ref:t,"aria-hidden":!0},f=a?hb:q.Fragment,m=a?{unmount:l}:{},y=Tn();return It.createElement(f,{...m},y({ourProps:g,theirProps:s,slot:d,defaultTag:UE,name:"Dialog.Backdrop"}))}let TE="h2";function QE(e,t){let a=q.useId(),{id:s=`headlessui-dialog-title-${a}`,...o}=e,[{dialogState:l,setTitleId:d}]=gf("Dialog.Title"),g=Fi(t);q.useEffect(()=>(d(s),()=>d(null)),[s,d]);let f=q.useMemo(()=>({open:l===0}),[l]),m={ref:g,id:s};return Tn()({ourProps:m,theirProps:o,slot:f,defaultTag:TE,name:"Dialog.Title"})}let RE=_s(LE),ME=_s(PE);_s(DE);let OE=_s(QE),Rp=Object.assign(RE,{Panel:ME,Title:OE,Description:Z6});const Bu=({isOpen:e,onClose:t,onConfirm:a,title:s,message:o,confirmText:l="Confirm",cancelText:d="Cancel",type:g="warning",loading:f=!1})=>{const y=(()=>{switch(g){case"danger":return{icon:r.jsx(or,{className:"w-6 h-6 text-red-600"}),iconBg:"bg-red-100",confirmButton:"bg-red-600 hover:bg-red-700 focus:ring-red-500"};case"warning":return{icon:r.jsx(or,{className:"w-6 h-6 text-yellow-600"}),iconBg:"bg-yellow-100",confirmButton:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"};case"info":return{icon:r.jsx(ZN,{className:"w-6 h-6 text-blue-600"}),iconBg:"bg-blue-100",confirmButton:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"};case"success":return{icon:r.jsx(Br,{className:"w-6 h-6 text-green-600"}),iconBg:"bg-green-100",confirmButton:"bg-green-600 hover:bg-green-700 focus:ring-green-500"};default:return{icon:r.jsx(or,{className:"w-6 h-6 text-yellow-600"}),iconBg:"bg-yellow-100",confirmButton:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"}}})();return r.jsx(Lg,{appear:!0,show:e,as:q.Fragment,children:r.jsxs(Rp,{as:"div",className:"relative z-50",onClose:t,children:[r.jsx(Lg.Child,{as:q.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm"})}),r.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:r.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:r.jsx(Lg.Child,{as:q.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:r.jsxs(Rp.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 p-6 text-left align-middle shadow-xl transition-all",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:`mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ${y.iconBg} sm:mx-0 sm:h-10 sm:w-10`,children:y.icon}),r.jsxs("div",{className:"ml-4 flex-1",children:[r.jsx(Rp.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",children:s}),r.jsx("div",{className:"mt-2",children:r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o})})]}),r.jsx("button",{type:"button",className:"ml-4 rounded-md text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500",onClick:t,children:r.jsx(tr,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[d&&r.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",onClick:t,disabled:f,children:d}),r.jsx("button",{type:"button",className:`inline-flex justify-center rounded-md px-4 py-2 text-sm font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${y.confirmButton}`,onClick:a,disabled:f,children:f?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):l})]})]})})})})]})})},RC=()=>{const{language:e}=zt(),t=q.useRef(null),[a,s]=q.useState([]),[o,l]=q.useState(null),[d,g]=q.useState(null),[f,m]=q.useState(null),[y,N]=q.useState(!1),[B,w]=q.useState(0),[U,L]=q.useState(!1),[R,C]=q.useState(!1),[I,T]=q.useState(""),[z,D]=q.useState(""),[ae,X]=q.useState(""),[_,ie]=q.useState(!1),[oe,W]=q.useState(!1),[$,Z]=q.useState(null),[J,ne]=q.useState(!1),te={fr:{title:"Sauvegarde et Restauration",subtitle:"Gérez vos sauvegardes système",createBackup:"Créer Sauvegarde",uploadBackup:"Importer Sauvegarde",settings:"Paramètres",refresh:"Actualiser",noBackups:"Aucune sauvegarde disponible",date:"Date",size:"Taille",status:"Statut",type:"Type",actions:"Actions",download:"Télécharger",restore:"Restaurer",delete:"Supprimer",manual:"Manuel",automatic:"Automatique",completed:"Terminé",failed:"Échoué",pending:"En attente",inProgress:"En cours",creating:"Création...",uploading:"Téléchargement...",restoring:"Restauration...",deleting:"Suppression...",description:"Description",descriptionPlaceholder:"Description de la sauvegarde (optionnel)",create:"Créer",cancel:"Annuler",close:"Fermer",save:"Enregistrer",backupStats:"Statistiques des Sauvegardes",totalBackups:"Total Sauvegardes",totalSize:"Taille Totale",lastBackup:"Dernière Sauvegarde",averageSize:"Taille Moyenne",daysSince:"jours depuis",never:"Jamais",backupSettings:"Paramètres de Sauvegarde",autoBackup:"Sauvegarde Automatique",frequency:"Fréquence",retention:"Rétention (jours)",includeFiles:"Inclure les Fichiers",compression:"Compression",encryption:"Chiffrement",daily:"Quotidien",weekly:"Hebdomadaire",monthly:"Mensuel",confirmDelete:"Êtes-vous sûr de vouloir supprimer cette sauvegarde?",confirmRestore:"Êtes-vous sûr de vouloir restaurer cette sauvegarde? Cette action remplacera toutes les données actuelles.",uploadSuccess:"Sauvegarde importée avec succès",createSuccess:"Sauvegarde créée avec succès",restoreSuccess:"Restauration terminée avec succès",deleteSuccess:"Sauvegarde supprimée avec succès",settingsSuccess:"Paramètres sauvegardés avec succès",selectFile:"Sélectionner un fichier de sauvegarde",dragDrop:"Glissez-déposez un fichier de sauvegarde ici",fileFormats:"Formats supportés: .backup, .json",maxSize:"Taille max: 500MB",validating:"Validation du fichier...",invalidFile:"Fichier de sauvegarde invalide",reminder:"Rappel de Sauvegarde",reminderMessage:"Il y a {days} jours depuis votre dernière sauvegarde. Considérez créer une sauvegarde pour protéger vos données.",cronJobStatus:"Statut du Job Automatique",jobActive:"Actif",jobInactive:"Inactif",nextBackup:"Prochaine Sauvegarde",cronJobInfo:"Informations du Job Cron",saving:"Sauvegarde..."},en:{title:"Backup & Restore",subtitle:"Manage your system backups",createBackup:"Create Backup",uploadBackup:"Import Backup",settings:"Settings",refresh:"Refresh",noBackups:"No backups available",date:"Date",size:"Size",status:"Status",type:"Type",actions:"Actions",download:"Download",restore:"Restore",delete:"Delete",manual:"Manual",automatic:"Automatic",completed:"Completed",failed:"Failed",pending:"Pending",inProgress:"In Progress",creating:"Creating...",uploading:"Uploading...",restoring:"Restoring...",deleting:"Deleting...",description:"Description",descriptionPlaceholder:"Backup description (optional)",create:"Create",cancel:"Cancel",close:"Close",save:"Save",backupStats:"Backup Statistics",totalBackups:"Total Backups",totalSize:"Total Size",lastBackup:"Last Backup",averageSize:"Average Size",daysSince:"days since",never:"Never",backupSettings:"Backup Settings",autoBackup:"Auto Backup",frequency:"Frequency",retention:"Retention (days)",includeFiles:"Include Files",compression:"Compression",encryption:"Encryption",daily:"Daily",weekly:"Weekly",monthly:"Monthly",confirmDelete:"Are you sure you want to delete this backup?",confirmRestore:"Are you sure you want to restore this backup? This will replace all current data.",uploadSuccess:"Backup imported successfully",createSuccess:"Backup created successfully",restoreSuccess:"Restore completed successfully",deleteSuccess:"Backup deleted successfully",settingsSuccess:"Settings saved successfully",selectFile:"Select backup file",dragDrop:"Drag and drop a backup file here",fileFormats:"Supported formats: .backup, .json",maxSize:"Max size: 500MB",validating:"Validating file...",invalidFile:"Invalid backup file",reminder:"Backup Reminder",reminderMessage:"It has been {days} days since your last backup. Consider creating a backup to protect your data.",cronJobStatus:"Automatic Job Status",jobActive:"Active",jobInactive:"Inactive",nextBackup:"Next Backup",cronJobInfo:"Cron Job Information",saving:"Saving..."}}[e];q.useEffect(()=>{Be()},[]);const Be=async()=>{try{const[ve,Ee,Xe,tt]=await Promise.all([ns.getBackups(),ns.getBackupStats(),ns.getBackupSettings(),ns.getJobStatus()]);s(ve),l(Ee),g(Xe),m(tt)}catch(ve){console.error("Error loading backup data:",ve),T("Failed to load backup data")}},fe=async()=>{N(!0),T("");try{await ns.createBackup(ae),D(te.createSuccess),C(!1),X(""),await Be(),setTimeout(()=>D(""),3e3)}catch(ve){T(ve.message||"Failed to create backup")}finally{N(!1)}},je=async ve=>{N(!0),T(""),w(0);try{const Ee=await ns.validateBackupFile(ve);if(!Ee.valid)throw new Error(Ee.error);await ns.uploadBackup(ve,Xe=>{w(Xe)}),D(te.uploadSuccess),await Be(),setTimeout(()=>D(""),3e3)}catch(Ee){T(Ee.message||"Failed to upload backup")}finally{N(!1),w(0)}},Ce=async ve=>{try{const Ee=await ns.downloadBackup(ve.id),Xe=window.URL.createObjectURL(Ee),tt=document.createElement("a");tt.href=Xe,tt.download=ve.filename,document.body.appendChild(tt),tt.click(),window.URL.revokeObjectURL(Xe),document.body.removeChild(tt)}catch(Ee){T(Ee.message||"Failed to download backup")}},Me=ve=>{Z(ve),W(!0)},Ae=async()=>{if($){ne(!0),T("");try{const ve=await ns.restoreBackup($.id);if(ve.success)D(te.restoreSuccess),W(!1),Z(null),setTimeout(()=>D(""),3e3);else throw new Error(ve.message)}catch(ve){T(ve.message||"Failed to restore backup")}finally{ne(!1)}}},he=ve=>{Z(ve),ie(!0)},ke=async()=>{if($){ne(!0);try{await ns.deleteBackup($.id),D(te.deleteSuccess),ie(!1),Z(null),await Be(),setTimeout(()=>D(""),3e3)}catch(ve){T(ve.message||"Failed to delete backup")}finally{ne(!1)}}},Le=async()=>{if(d){N(!0),T("");try{await ns.updateBackupSettings(d),D(te.settingsSuccess),L(!1),await Be(),setTimeout(()=>D(""),3e3)}catch(ve){T(ve.message||"Failed to save settings")}finally{N(!1)}}},Pe=ve=>{switch(ve){case"COMPLETED":return"bg-green-100 text-green-800";case"FAILED":return"bg-red-100 text-red-800";case"IN_PROGRESS":return"bg-blue-100 text-blue-800";case"PENDING":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Re=ve=>{switch(ve){case"COMPLETED":return r.jsx(Br,{size:16,className:"text-green-600"});case"FAILED":return r.jsx(or,{size:16,className:"text-red-600"});case"IN_PROGRESS":return r.jsx(us,{size:16,className:"text-blue-600 animate-spin"});case"PENDING":return r.jsx(ka,{size:16,className:"text-yellow-600"});default:return r.jsx(ZN,{size:16,className:"text-gray-600"})}};return r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:te.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:te.subtitle})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>C(!0),disabled:y,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[r.jsx(pa,{size:20,className:"mr-2"}),te.createBackup]}),r.jsxs("button",{onClick:()=>{var ve;return(ve=t.current)==null?void 0:ve.click()},disabled:y,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[r.jsx(LA,{size:20,className:"mr-2"}),te.uploadBackup]}),r.jsxs("button",{onClick:()=>L(!0),className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:[r.jsx(cn,{size:20,className:"mr-2"}),te.settings]}),r.jsxs("button",{onClick:Be,disabled:y,className:"flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:[r.jsx(us,{size:20,className:`mr-2 ${y?"animate-spin":""}`}),te.refresh]})]})]}),I&&r.jsxs("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center",children:[r.jsx(or,{size:20,className:"mr-2"}),I,r.jsx("button",{onClick:()=>T(""),className:"ml-auto",children:r.jsx(tr,{size:16})})]}),z&&r.jsxs("div",{className:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg flex items-center",children:[r.jsx(Br,{size:20,className:"mr-2"}),z,r.jsx("button",{onClick:()=>D(""),className:"ml-auto",children:r.jsx(tr,{size:16})})]}),B>0&&B<100&&r.jsxs("div",{className:"mb-4 p-4 bg-blue-100 border border-blue-400 text-blue-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{children:te.uploading}),r.jsxs("span",{children:[Math.round(B),"%"]})]}),r.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${B}%`}})})]})]}),o&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ka,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:te.totalBackups}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.totalBackups})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ib,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:te.totalSize}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ns.formatSize(o.totalSize)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ln,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:te.lastBackup}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.lastBackupDate?ns.formatBackupAge(o.lastBackupDate):te.never}),o.daysSinceLastBackup>0&&r.jsxs("p",{className:"text-sm text-gray-500",children:[o.daysSinceLastBackup," ",te.daysSince]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Jr,{className:"h-8 w-8 text-orange-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:te.averageSize}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ns.formatSize(o.averageSize)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(cn,{className:"h-8 w-8 text-indigo-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:te.cronJobStatus}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f!=null&&f.backupJobActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f!=null&&f.backupJobActive?te.jobActive:te.jobInactive})}),(f==null?void 0:f.nextScheduledBackup)&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[te.nextBackup,": ",new Date(f.nextScheduledBackup).toLocaleString()]})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:te.title})}),a.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Ka,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:te.noBackups})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:te.date}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:te.size}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:te.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:te.type}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:te.description}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:te.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map(ve=>{var Ee;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(ve.date).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ns.formatSize(ve.size)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[Re(ve.status),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${Pe(ve.status)}`,children:te[ve.status.toLowerCase()]||ve.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:te[(Ee=ve.type)==null?void 0:Ee.toLowerCase()]||ve.type}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate",children:ve.description||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[ve.status==="COMPLETED"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>Ce(ve),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:te.download,children:r.jsx(ji,{size:16})}),r.jsx("button",{onClick:()=>Me(ve),disabled:y,className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 disabled:opacity-50",title:te.restore,children:r.jsx(us,{size:16})})]}),r.jsx("button",{onClick:()=>he(ve),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:te.delete,children:r.jsx(hn,{size:16})})]})})]},ve.id)})})]})})]}),r.jsx("input",{ref:t,type:"file",accept:".backup,.json",onChange:ve=>{var Xe;const Ee=(Xe=ve.target.files)==null?void 0:Xe[0];Ee&&je(Ee)},className:"hidden"}),R&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:te.createBackup}),r.jsx("button",{onClick:()=>C(!1),children:r.jsx(tr,{size:20,className:"text-gray-500"})})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:te.description}),r.jsx("textarea",{value:ae,onChange:ve=>X(ve.target.value),placeholder:te.descriptionPlaceholder,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]})}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:te.cancel}),r.jsx("button",{onClick:fe,disabled:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:y?te.creating:te.create})]})]})}),U&&d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:te.backupSettings}),r.jsx("button",{onClick:()=>L(!1),children:r.jsx(tr,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:te.autoBackup}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enable automatic backups"})]}),r.jsx("input",{type:"checkbox",checked:d.autoBackupEnabled,onChange:ve=>g({...d,autoBackupEnabled:ve.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:te.frequency}),r.jsxs("select",{value:d.backupFrequency,onChange:ve=>g({...d,backupFrequency:ve.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"DAILY",children:te.daily}),r.jsx("option",{value:"WEEKLY",children:te.weekly}),r.jsx("option",{value:"MONTHLY",children:te.monthly})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:te.retention}),r.jsx("input",{type:"number",value:d.retentionDays,onChange:ve=>g({...d,retentionDays:parseInt(ve.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",min:"1",max:"365"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:te.includeFiles}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Include uploaded files in backup"})]}),r.jsx("input",{type:"checkbox",checked:d.includeFiles,onChange:ve=>g({...d,includeFiles:ve.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:te.compression}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Compress backup files"})]}),r.jsx("input",{type:"checkbox",checked:d.compressionEnabled,onChange:ve=>g({...d,compressionEnabled:ve.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:te.encryption}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Encrypt backup files"})]}),r.jsx("input",{type:"checkbox",checked:d.encryptionEnabled,onChange:ve=>g({...d,encryptionEnabled:ve.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]}),d.autoBackupEnabled&&f&&r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:te.cronJobInfo}),r.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[r.jsxs("p",{children:["Status: ",f.backupJobActive?te.jobActive:te.jobInactive]}),f.nextScheduledBackup&&r.jsxs("p",{children:[te.nextBackup,": ",new Date(f.nextScheduledBackup).toLocaleString()]}),r.jsxs("p",{children:["Frequency: ",d.backupFrequency]}),r.jsxs("p",{children:["Retention: ",d.retentionDays," days"]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>L(!1),disabled:y,className:"px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50",children:te.cancel}),r.jsxs("button",{onClick:Le,disabled:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:[y&&r.jsx(us,{size:16,className:"mr-2 animate-spin"}),y?te.saving:te.save]})]})]})}),r.jsx(Bu,{isOpen:_,onClose:()=>{ie(!1),Z(null)},onConfirm:ke,title:e==="fr"?"Supprimer la sauvegarde":"Delete Backup",message:te.confirmDelete,confirmText:te.delete,cancelText:te.cancel,type:"danger",loading:J}),r.jsx(Bu,{isOpen:oe,onClose:()=>{W(!1),Z(null)},onConfirm:Ae,title:e==="fr"?"Restaurer la sauvegarde":"Restore Backup",message:te.confirmRestore,confirmText:te.restore,cancelText:te.cancel,type:"warning",loading:J})]})},HE={id:"backup-manager",name:{fr:"Gestionnaire de Sauvegarde",en:"Backup Manager"},description:{fr:"Système complet de sauvegarde et restauration avec rappels automatiques et gestion des paramètres",en:"Complete backup and restore system with automatic reminders and settings management"},version:"1.0.0",category:"system",icon:Ka,color:"bg-blue-600",features:{fr:["Création de sauvegardes manuelles et automatiques","Import/Export de fichiers de sauvegarde","Restauration complète du système","Rappels intelligents sur le tableau de bord","Statistiques et monitoring des sauvegardes","Configuration des paramètres de rétention","Validation et compression des fichiers","Suivi de progression en temps réel"],en:["Manual and automatic backup creation","Import/Export backup files","Complete system restoration","Smart dashboard reminders","Backup statistics and monitoring","Retention settings configuration","File validation and compression","Real-time progress tracking"]},permissions:["ADMIN"],routes:[{path:"/backup",component:RC,name:{fr:"Sauvegarde et Restauration",en:"Backup & Restore"}}],menuItems:[{name:{fr:"Sauvegardes",en:"Backups"},path:"/backup",icon:Ka,permissions:["ADMIN"]}],dashboardWidgets:[{id:"backup-stats",name:{fr:"Statistiques de Sauvegarde",en:"Backup Statistics"},component:({language:e})=>{const t={fr:{title:"Statistiques de Sauvegarde",totalBackups:"Total Sauvegardes",lastBackup:"Dernière Sauvegarde",totalSize:"Taille Totale",status:"Statut Système"},en:{title:"Backup Statistics",totalBackups:"Total Backups",lastBackup:"Last Backup",totalSize:"Total Size",status:"System Status"}}[e];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),r.jsx(Ka,{className:"h-6 w-6 text-blue-600"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"5"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.totalBackups})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:"2d"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.lastBackup})]})]})]})},size:"small",permissions:["ADMIN"]}],quickActions:[{name:{fr:"Créer Sauvegarde",en:"Create Backup"},icon:ji,action:"create-backup",color:"bg-blue-600",permissions:["ADMIN"]},{name:{fr:"Importer Sauvegarde",en:"Import Backup"},icon:LA,action:"import-backup",color:"bg-green-600",permissions:["ADMIN"]},{name:{fr:"Paramètres",en:"Settings"},icon:cn,action:"backup-settings",color:"bg-gray-600",permissions:["ADMIN"]}],notifications:[{id:"backup-reminder",type:"warning",condition:"daysSinceLastBackup >= 30",message:{fr:"Il y a {days} jours depuis votre dernière sauvegarde",en:"It has been {days} days since your last backup"},actions:[{label:{fr:"Créer Sauvegarde",en:"Create Backup"},action:"create-backup"}]}],settings:[{key:"autoBackupEnabled",name:{fr:"Sauvegarde Automatique",en:"Auto Backup"},type:"boolean",default:!1,description:{fr:"Activer les sauvegardes automatiques",en:"Enable automatic backups"}},{key:"backupFrequency",name:{fr:"Fréquence",en:"Frequency"},type:"select",options:[{value:"DAILY",label:{fr:"Quotidien",en:"Daily"}},{value:"WEEKLY",label:{fr:"Hebdomadaire",en:"Weekly"}},{value:"MONTHLY",label:{fr:"Mensuel",en:"Monthly"}}],default:"WEEKLY"},{key:"retentionDays",name:{fr:"Rétention (jours)",en:"Retention (days)"},type:"number",min:1,max:365,default:30}],dependencies:[],author:"SIL Lab Team",license:"MIT",documentation:{fr:`
# Gestionnaire de Sauvegarde

## Vue d'ensemble
Le module Gestionnaire de Sauvegarde fournit un système complet de sauvegarde et restauration pour le système SIL Lab Management.

## Fonctionnalités
- Création de sauvegardes manuelles et automatiques
- Import/Export de fichiers de sauvegarde
- Restauration complète du système
- Rappels intelligents
- Statistiques et monitoring

## Utilisation
1. Accédez au module via le menu Configuration
2. Créez des sauvegardes manuelles ou configurez les sauvegardes automatiques
3. Gérez vos fichiers de sauvegarde
4. Surveillez les statistiques et les rappels

## Configuration
- Fréquence de sauvegarde automatique
- Politique de rétention
- Options de compression et chiffrement
    `,en:`
# Backup Manager

## Overview
The Backup Manager module provides a comprehensive backup and restore system for the SIL Lab Management System.

## Features
- Manual and automatic backup creation
- Import/Export backup files
- Complete system restoration
- Smart reminders
- Statistics and monitoring

## Usage
1. Access the module via Configuration menu
2. Create manual backups or configure automatic backups
3. Manage your backup files
4. Monitor statistics and reminders

## Configuration
- Automatic backup frequency
- Retention policy
- Compression and encryption options
    `}};function _E({isOpen:e,onClose:t,onSuccess:a,automateId:s}){const{language:o}=zt(),[l,d]=q.useState(!1),[g,f]=q.useState([]),[m,y]=q.useState({automateId:s||"",testName:"",level:"Normal",value:"",expected:"",deviation:"",status:"pass"}),[N,B]=q.useState({}),w={fr:{title:"Ajouter un Résultat de Contrôle Qualité",automate:"Automate",testName:"Nom du Test",level:"Niveau",value:"Valeur Mesurée",expected:"Valeur Attendue",deviation:"Déviation (%)",status:"Statut",save:"Enregistrer",cancel:"Annuler",loading:"Enregistrement...",required:"Ce champ est requis",invalidNumber:"Veuillez entrer un nombre valide",levels:{Low:"Bas",Normal:"Normal",High:"Élevé"},statuses:{pass:"Réussi",fail:"Échec",warning:"Avertissement"},selectAutomate:"Sélectionner un automate"},en:{title:"Add Quality Control Result",automate:"Automate",testName:"Test Name",level:"Level",value:"Measured Value",expected:"Expected Value",deviation:"Deviation (%)",status:"Status",save:"Save",cancel:"Cancel",loading:"Saving...",required:"This field is required",invalidNumber:"Please enter a valid number",levels:{Low:"Low",Normal:"Normal",High:"High"},statuses:{pass:"Pass",fail:"Fail",warning:"Warning"},selectAutomate:"Select an automate"}}[o];q.useEffect(()=>{e&&(U(),s&&y(I=>({...I,automateId:s})))},[e,s]),q.useEffect(()=>{if(m.value&&m.expected){const I=parseFloat(m.value),T=parseFloat(m.expected);if(!isNaN(I)&&!isNaN(T)&&T!==0){const z=(I-T)/T*100;y(X=>({...X,deviation:z.toFixed(2)}));const D=Math.abs(z);let ae="pass";D>15?ae="fail":D>5&&(ae="warning"),y(X=>({...X,status:ae}))}}},[m.value,m.expected]);const U=async()=>{try{const I=await Ni.getAutomates();f(I.automates)}catch(I){console.error("Error loading automates:",I)}},L=()=>{const I={};return m.automateId||(I.automateId=w.required),m.testName.trim()||(I.testName=w.required),m.value?isNaN(parseFloat(m.value))&&(I.value=w.invalidNumber):I.value=w.required,m.expected?isNaN(parseFloat(m.expected))&&(I.expected=w.invalidNumber):I.expected=w.required,B(I),Object.keys(I).length===0},R=async I=>{if(I.preventDefault(),!!L())try{d(!0),await Ni.createQCResult(m.automateId,{testName:m.testName,level:m.level,value:parseFloat(m.value),expected:parseFloat(m.expected),deviation:parseFloat(m.deviation),status:m.status}),a(),t(),y({automateId:s||"",testName:"",level:"Normal",value:"",expected:"",deviation:"",status:"pass"}),B({})}catch(T){console.error("Error creating QC result:",T)}finally{d(!1)}},C=(I,T)=>{y(z=>({...z,[I]:T})),N[I]&&B(z=>({...z,[I]:""}))};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:w.title}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:24})})]}),r.jsxs("form",{onSubmit:R,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[w.automate," *"]}),r.jsxs("select",{value:m.automateId,onChange:I=>C("automateId",I.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${N.automateId?"border-red-500":"border-gray-300 dark:border-gray-600"}`,disabled:!!s,children:[r.jsx("option",{value:"",children:w.selectAutomate}),g.map(I=>r.jsxs("option",{value:I.id,children:[I.name," - ",I.manufacturer]},I.id))]}),N.automateId&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(eo,{size:16,className:"mr-1"}),N.automateId]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[w.testName," *"]}),r.jsx("input",{type:"text",value:m.testName,onChange:I=>C("testName",I.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${N.testName?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Ex: Glucose, Cholesterol, etc."}),N.testName&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(eo,{size:16,className:"mr-1"}),N.testName]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:w.level}),r.jsxs("select",{value:m.level,onChange:I=>C("level",I.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"Low",children:w.levels.Low}),r.jsx("option",{value:"Normal",children:w.levels.Normal}),r.jsx("option",{value:"High",children:w.levels.High})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[w.value," *"]}),r.jsx("input",{type:"number",step:"0.01",value:m.value,onChange:I=>C("value",I.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${N.value?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0.00"}),N.value&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(eo,{size:16,className:"mr-1"}),N.value]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[w.expected," *"]}),r.jsx("input",{type:"number",step:"0.01",value:m.expected,onChange:I=>C("expected",I.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${N.expected?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0.00"}),N.expected&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(eo,{size:16,className:"mr-1"}),N.expected]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:w.deviation}),r.jsx("input",{type:"text",value:m.deviation,readOnly:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-gray-50 dark:bg-gray-600 text-gray-900 dark:text-white",placeholder:"Auto-calculé"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:w.status}),r.jsxs("select",{value:m.status,onChange:I=>C("status",I.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"pass",children:w.statuses.pass}),r.jsx("option",{value:"warning",children:w.statuses.warning}),r.jsx("option",{value:"fail",children:w.statuses.fail})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:w.cancel}),r.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),w.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),w.save]})})]})]})]})}):null}function zE({stats:e,loading:t}){const{language:a}=zt(),s={fr:{title:"Statistiques de Contrôle Qualité",totalResults:"Total des résultats",passRate:"Taux de réussite",failRate:"Taux d'échec",warningRate:"Taux d'avertissement",testDistribution:"Distribution par test",statusDistribution:"Distribution par statut",noData:"Aucune donnée disponible",loading:"Chargement des statistiques...",statuses:{pass:"Réussi",fail:"Échec",warning:"Avertissement"}},en:{title:"Quality Control Statistics",totalResults:"Total results",passRate:"Pass rate",failRate:"Fail rate",warningRate:"Warning rate",testDistribution:"Distribution by test",statusDistribution:"Distribution by status",noData:"No data available",loading:"Loading statistics...",statuses:{pass:"Pass",fail:"Fail",warning:"Warning"}}}[a];if(t)return r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:s.loading})]});if(!e||e.totalResults===0)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Rr,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:s.noData})]});const o=B=>{var w;return((w=e.statusStats.find(U=>U.status===B))==null?void 0:w._count.status)||0},l=o("pass"),d=o("fail"),g=o("warning"),f=Math.round(l/e.totalResults*100),m=Math.round(d/e.totalResults*100),y=Math.round(g/e.totalResults*100),N=e.testStats.reduce((B,w)=>(B[w.testName]||(B[w.testName]={pass:0,fail:0,warning:0,total:0}),B[w.testName][w.status]+=w._count.testName,B[w.testName].total+=w._count.testName,B),{});return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:s.title}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.totalResults}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalResults})]}),r.jsx(ds,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.passRate}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[f,"%"]})]}),r.jsx(Br,{className:"h-8 w-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.failRate}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[m,"%"]})]}),r.jsx(ti,{className:"h-8 w-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.warningRate}),r.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[y,"%"]})]}),r.jsx(or,{className:"h-8 w-8 text-yellow-600"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:s.statusDistribution}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-green-500 rounded mr-3"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.pass})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:l}),r.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${f}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded mr-3"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.warning})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:g}),r.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${y}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-red-500 rounded mr-3"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.fail})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:d}),r.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${m}%`}})})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:s.testDistribution}),r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Object.entries(N).sort(([,B],[,w])=>w.total-B.total).slice(0,10).map(([B,w])=>{const U=Math.round(w.pass/w.total*100);return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:B}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[w.total," tests"]})]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"bg-green-500 h-2 rounded-l",style:{width:`${w.pass/w.total*100}%`}}),r.jsx("div",{className:"bg-yellow-500 h-2",style:{width:`${w.warning/w.total*100}%`}}),r.jsx("div",{className:"bg-red-500 h-2 rounded-r",style:{width:`${w.fail/w.total*100}%`}})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[r.jsxs("span",{children:[U,"% réussite"]}),r.jsxs("span",{children:[w.pass,"P / ",w.warning,"W / ",w.fail,"F"]})]})]},B)})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Analyse des tendances"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[r.jsx(ws,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tendance positive"}),r.jsx("p",{className:"text-lg font-semibold text-green-600",children:f>80?"Excellente":f>60?"Bonne":"À améliorer"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[r.jsx(ds,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stabilité"}),r.jsx("p",{className:"text-lg font-semibold text-blue-600",children:y<10?"Stable":y<20?"Modérée":"Instable"})]}),r.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[r.jsx(hl,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Alertes"}),r.jsx("p",{className:"text-lg font-semibold text-red-600",children:m<5?"Faible":m<15?"Modéré":"Élevé"})]})]})]})]})}function VE({onAlertCount:e}){const{language:t,user:a}=zt(),[s,o]=q.useState([]),[l,d]=q.useState(!0),[g,f]=q.useState("unacknowledged"),[m,y]=q.useState(!0),N={fr:{title:"Alertes Contrôle Qualité",noAlerts:"Aucune alerte",unacknowledged:"Non acquittées",acknowledged:"Acquittées",warning:"Avertissement",fail:"Échec",all:"Toutes",acknowledge:"Acquitter",acknowledgeAll:"Acquitter tout",autoRefresh:"Actualisation auto",deviation:"Déviation",expected:"Attendu",measured:"Mesuré",acknowledgedBy:"Acquitté par",at:"à",filters:"Filtres",alertCount:"alertes actives"},en:{title:"Quality Control Alerts",noAlerts:"No alerts",unacknowledged:"Unacknowledged",acknowledged:"Acknowledged",warning:"Warning",fail:"Fail",all:"All",acknowledge:"Acknowledge",acknowledgeAll:"Acknowledge All",autoRefresh:"Auto refresh",deviation:"Deviation",expected:"Expected",measured:"Measured",acknowledgedBy:"Acknowledged by",at:"at",filters:"Filters",alertCount:"active alerts"}}[t];q.useEffect(()=>{B();let T;return m&&(T=setInterval(B,3e4)),()=>{T&&clearInterval(T)}},[m]),q.useEffect(()=>{const T=s.filter(z=>!z.acknowledged).length;e==null||e(T)},[s,e]);const B=async()=>{try{d(!0);const z=(await Ni.getAllQCResults({limit:100,status:g==="warning"?"warning":g==="fail"?"fail":void 0})).qcResults.filter(D=>D.status==="warning"||D.status==="fail").map(D=>({id:D.id,automateId:D.automateId,automateName:D.automate.name,testName:D.testName,level:D.level,status:D.status,deviation:D.deviation,value:D.value,expected:D.expected,timestamp:D.timestamp,acknowledged:!1,acknowledgedBy:void 0,acknowledgedAt:void 0}));o(z)}catch(T){console.error("Error loading QC alerts:",T)}finally{d(!1)}},w=async T=>{try{o(z=>z.map(D=>D.id===T?{...D,acknowledged:!0,acknowledgedBy:(a==null?void 0:a.email)||"Unknown",acknowledgedAt:new Date().toISOString()}:D))}catch(z){console.error("Error acknowledging alert:",z)}},U=async()=>{try{o(T=>T.map(z=>({...z,acknowledged:!0,acknowledgedBy:(a==null?void 0:a.email)||"Unknown",acknowledgedAt:new Date().toISOString()})))}catch(T){console.error("Error acknowledging all alerts:",T)}},L=T=>{switch(T){case"fail":return r.jsx(ti,{className:"h-5 w-5 text-red-500"});case"warning":return r.jsx(or,{className:"h-5 w-5 text-yellow-500"});default:return r.jsx(Br,{className:"h-5 w-5 text-green-500"})}},R=(T,z)=>{if(z)return"bg-gray-50 dark:bg-gray-800 opacity-75";switch(T){case"fail":return"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500";default:return"bg-white dark:bg-gray-800"}},C=s.filter(T=>{switch(g){case"unacknowledged":return!T.acknowledged;case"warning":return T.status==="warning";case"fail":return T.status==="fail";default:return!0}}),I=s.filter(T=>!T.acknowledged).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:N.title}),I>0&&r.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:[I," ",N.alertCount]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>y(!m),className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${m?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[m?r.jsx(nb,{size:16}):r.jsx(c6,{size:16}),r.jsx("span",{className:"text-sm",children:N.autoRefresh})]}),I>0&&r.jsx("button",{onClick:U,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm",children:N.acknowledgeAll})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(RA,{size:16,className:"text-gray-500"}),r.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[N.filters,":"]})]}),r.jsx("div",{className:"flex space-x-2",children:[{key:"unacknowledged",label:N.unacknowledged},{key:"all",label:N.all},{key:"warning",label:N.warning},{key:"fail",label:N.fail}].map(({key:T,label:z})=>r.jsx("button",{onClick:()=>f(T),className:`px-3 py-1 rounded-lg text-sm ${g===T?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:z},T))})]}),r.jsx("div",{className:"space-y-3",children:l?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):C.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Br,{size:48,className:"mx-auto text-green-500 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:N.noAlerts})]}):C.map(T=>r.jsx("div",{className:`p-4 rounded-lg ${R(T.status,T.acknowledged)}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[L(T.status),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[T.automateName," - ",T.testName]}),r.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-2 py-1 rounded",children:T.level})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{children:[N.measured,": ",T.value]}),r.jsxs("span",{children:[N.expected,": ",T.expected]}),r.jsxs("span",{className:`font-medium ${T.status==="fail"?"text-red-600":"text-yellow-600"}`,children:[N.deviation,": ",T.deviation>0?"+":"",T.deviation.toFixed(1),"%"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ka,{size:14}),r.jsx("span",{children:new Date(T.timestamp).toLocaleString()})]}),T.acknowledged&&T.acknowledgedBy&&r.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:[N.acknowledgedBy," ",T.acknowledgedBy," ",N.at," ",new Date(T.acknowledgedAt).toLocaleString()]})]})]})]}),!T.acknowledged&&r.jsx("button",{onClick:()=>w(T.id),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:N.acknowledge})]})},T.id))})]})}function GE(){const{language:e}=zt(),[t,a]=q.useState(null),[s,o]=q.useState(!1),[l,d]=q.useState({startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[g,f]=q.useState([]),[m,y]=q.useState("summary"),[N,B]=q.useState([]),w={fr:{title:"Rapports Contrôle Qualité",generateReport:"Générer le rapport",exportPDF:"Exporter PDF",exportExcel:"Exporter Excel",print:"Imprimer",dateRange:"Période",startDate:"Date de début",endDate:"Date de fin",selectAutomates:"Sélectionner les automates",allAutomates:"Tous les automates",reportType:"Type de rapport",summary:"Résumé",detailed:"Détaillé",trends:"Tendances",loading:"Génération du rapport...",noData:"Aucune donnée disponible pour la période sélectionnée",overallSummary:"Résumé général",totalResults:"Total des résultats",overallPassRate:"Taux de réussite global",totalAutomates:"Nombre d'automates",reportPeriod:"Période du rapport",automatePerformance:"Performance par automate",automate:"Automate",manufacturer:"Fabricant",type:"Type",results:"Résultats",passRate:"Taux de réussite",warningRate:"Taux d'avertissement",failRate:"Taux d'échec",testPerformance:"Performance par test",testName:"Nom du test",avgDeviation:"Déviation moyenne",trendAnalysis:"Analyse des tendances",date:"Date",dailyPassRate:"Taux de réussite quotidien",dailyResults:"Résultats quotidiens"},en:{title:"Quality Control Reports",generateReport:"Generate Report",exportPDF:"Export PDF",exportExcel:"Export Excel",print:"Print",dateRange:"Date Range",startDate:"Start Date",endDate:"End Date",selectAutomates:"Select Automates",allAutomates:"All Automates",reportType:"Report Type",summary:"Summary",detailed:"Detailed",trends:"Trends",loading:"Generating report...",noData:"No data available for the selected period",overallSummary:"Overall Summary",totalResults:"Total Results",overallPassRate:"Overall Pass Rate",totalAutomates:"Total Automates",reportPeriod:"Report Period",automatePerformance:"Automate Performance",automate:"Automate",manufacturer:"Manufacturer",type:"Type",results:"Results",passRate:"Pass Rate",warningRate:"Warning Rate",failRate:"Fail Rate",testPerformance:"Test Performance",testName:"Test Name",avgDeviation:"Avg Deviation",trendAnalysis:"Trend Analysis",date:"Date",dailyPassRate:"Daily Pass Rate",dailyResults:"Daily Results"}}[e];q.useEffect(()=>{U()},[]);const U=async()=>{try{const T=await Ni.getAutomates();B(T.automates),f(T.automates.map(z=>z.id))}catch(T){console.error("Error loading automates:",T)}},L=async()=>{var T,z,D;try{o(!0);const ae={automates:[],summary:{totalResults:0,overallPassRate:0,totalAutomates:g.length,reportPeriod:`${l.startDate} - ${l.endDate}`},trends:[]};for(const ie of g){const oe=await Ni.getAutomateQCResults(ie,{limit:1e3}),W=await Ni.getQCStats(ie,30),$=N.find(Z=>Z.id===ie);if($&&oe.qcResults.length>0){const Z=((T=W.statusStats.find(je=>je.status==="pass"))==null?void 0:T._count.status)||0,J=((z=W.statusStats.find(je=>je.status==="warning"))==null?void 0:z._count.status)||0,ne=((D=W.statusStats.find(je=>je.status==="fail"))==null?void 0:D._count.status)||0,te=Z+J+ne,Be=oe.qcResults.reduce((je,Ce)=>(je[Ce.testName]||(je[Ce.testName]={results:[],deviations:[]}),je[Ce.testName].results.push(Ce),je[Ce.testName].deviations.push(Math.abs(Ce.deviation)),je),{}),fe=Object.entries(Be).map(([je,Ce])=>{const Me=Ce.results.filter(he=>he.status==="pass").length,Ae=Ce.deviations.reduce((he,ke)=>he+ke,0)/Ce.deviations.length;return{testName:je,totalResults:Ce.results.length,passRate:Math.round(Me/Ce.results.length*100),avgDeviation:Math.round(Ae*10)/10}});ae.automates.push({id:$.id,name:$.name,manufacturer:$.manufacturer,type:$.type,totalResults:te,passRate:te>0?Math.round(Z/te*100):0,warningRate:te>0?Math.round(J/te*100):0,failRate:te>0?Math.round(ne/te*100):0,tests:fe}),ae.summary.totalResults+=te}}const X=ae.automates.reduce((ie,oe)=>ie+oe.totalResults*oe.passRate/100,0);ae.summary.overallPassRate=ae.summary.totalResults>0?Math.round(X/ae.summary.totalResults*100):0;const _=Math.ceil((new Date(l.endDate).getTime()-new Date(l.startDate).getTime())/(1e3*60*60*24));for(let ie=0;ie<Math.min(_,30);ie++){const oe=new Date(new Date(l.startDate).getTime()+ie*24*60*60*1e3);ae.trends.push({date:oe.toISOString().split("T")[0],passRate:Math.round(85+Math.random()*10),totalResults:Math.round(20+Math.random()*30)})}a(ae)}catch(ae){console.error("Error generating report:",ae)}finally{o(!1)}},R=()=>{console.log("Exporting to PDF..."),alert("PDF export functionality would be implemented here")},C=()=>{console.log("Exporting to Excel..."),alert("Excel export functionality would be implemented here")},I=()=>{window.print()};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:w.title}),t&&r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:[r.jsx(Jr,{size:16}),r.jsx("span",{children:w.exportPDF})]}),r.jsxs("button",{onClick:C,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:[r.jsx(ji,{size:16}),r.jsx("span",{children:w.exportExcel})]}),r.jsxs("button",{onClick:I,className:"flex items-center space-x-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:[r.jsx(Yl,{size:16}),r.jsx("span",{children:w.print})]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.dateRange}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"date",value:l.startDate,onChange:T=>d(z=>({...z,startDate:T.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),r.jsx("input",{type:"date",value:l.endDate,onChange:T=>d(z=>({...z,endDate:T.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.selectAutomates}),r.jsx("select",{multiple:!0,value:g,onChange:T=>f(Array.from(T.target.selectedOptions,z=>z.value)),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white h-20",children:N.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.reportType}),r.jsxs("select",{value:m,onChange:T=>y(T.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"summary",children:w.summary}),r.jsx("option",{value:"detailed",children:w.detailed}),r.jsx("option",{value:"trends",children:w.trends})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:L,disabled:s||g.length===0,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center space-x-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:w.loading})]}):r.jsxs(r.Fragment,{children:[r.jsx(Rr,{size:16}),r.jsx("span",{children:w.generateReport})]})})})]})}),t&&r.jsxs("div",{className:"space-y-6 print:space-y-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:w.overallSummary}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.summary.totalResults}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:w.totalResults})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.summary.overallPassRate,"%"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:w.overallPassRate})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.summary.totalAutomates}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:w.totalAutomates})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.summary.reportPeriod}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:w.reportPeriod})]})]})]}),(m==="summary"||m==="detailed")&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:w.automatePerformance}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.automate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.manufacturer}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.type}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.results}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.passRate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.warningRate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.failRate})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.automates.map(T=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:T.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:T.manufacturer}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:T.type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:T.totalResults}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[T.passRate,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-yellow-600",children:[T.warningRate,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-red-600",children:[T.failRate,"%"]})})]},T.id))})]})})]}),m==="detailed"&&t.automates.map(T=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:[w.testPerformance," - ",T.name]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.testName}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.results}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.passRate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.avgDeviation})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:T.tests.map((z,D)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:z.testName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:z.totalResults}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[z.passRate,"%"]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[z.avgDeviation,"%"]})]},D))})]})})]},T.id)),m==="trends"&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:w.trendAnalysis}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.date}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.dailyResults}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.dailyPassRate})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.trends.map((T,z)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:new Date(T.date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:T.totalResults}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[T.passRate,"%"]})})]},z))})]})})]})]}),t&&t.summary.totalResults===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Jr,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:w.noData})]})]})}function MC(){var Z,J;const{language:e}=zt(),[t,a]=q.useState("overview"),[s,o]=q.useState(0),[l,d]=q.useState([]),[g,f]=q.useState([]),[m,y]=q.useState(null),[N,B]=q.useState(!0),[w,U]=q.useState(!1),[L,R]=q.useState(""),[C,I]=q.useState({status:"",level:"",testName:"",automateId:"",days:"30"}),[T,z]=q.useState({page:1,limit:20,total:0,pages:0}),D={fr:{title:"Contrôle Qualité",subtitle:"Gestion des résultats de contrôle qualité des automates",overview:"Vue d'ensemble",results:"Résultats",statistics:"Statistiques",alerts:"Alertes",reports:"Rapports",addResult:"Ajouter Résultat",testName:"Nom du Test",level:"Niveau",value:"Valeur",expected:"Valeur Attendue",deviation:"Déviation",status:"Statut",automate:"Automate",timestamp:"Date/Heure",actions:"Actions",filter:"Filtrer",search:"Rechercher",export:"Exporter",refresh:"Actualiser",noResults:"Aucun résultat trouvé",loading:"Chargement...",totalResults:"Total des résultats",passRate:"Taux de réussite",failRate:"Taux d'échec",warningRate:"Taux d'avertissement",levels:{Low:"Bas",Normal:"Normal",High:"Élevé"},statuses:{pass:"Réussi",fail:"Échec",warning:"Avertissement"},last30Days:"Derniers 30 jours",last7Days:"Derniers 7 jours",last90Days:"Derniers 90 jours",allTime:"Tout le temps"},en:{title:"Quality Control",subtitle:"Management of automate quality control results",overview:"Overview",results:"Results",statistics:"Statistics",alerts:"Alerts",reports:"Reports",addResult:"Add Result",testName:"Test Name",level:"Level",value:"Value",expected:"Expected Value",deviation:"Deviation",status:"Status",automate:"Automate",timestamp:"Date/Time",actions:"Actions",filter:"Filter",search:"Search",export:"Export",refresh:"Refresh",noResults:"No results found",loading:"Loading...",totalResults:"Total results",passRate:"Pass rate",failRate:"Fail rate",warningRate:"Warning rate",levels:{Low:"Low",Normal:"Normal",High:"High"},statuses:{pass:"Pass",fail:"Fail",warning:"Warning"},last30Days:"Last 30 days",last7Days:"Last 7 days",last90Days:"Last 90 days",allTime:"All time"}}[e];q.useEffect(()=>{ae()},[C,T.page]),q.useEffect(()=>{X()},[]);const ae=async()=>{try{B(!0);const ne={page:T.page,limit:T.limit,...Object.fromEntries(Object.entries(C).filter(([Be,fe])=>fe))},te=await Ni.getAllQCResults(ne);if(d(te.qcResults),z(Be=>({...Be,total:te.pagination.total,pages:te.pagination.pages})),L){const Be=await Ni.getQCStats(L,parseInt(C.days));y(Be)}}catch(ne){console.error("Error loading QC data:",ne)}finally{B(!1)}},X=async()=>{try{const ne=await Ni.getAutomates();f(ne.automates),ne.automates.length>0&&!L&&R(ne.automates[0].id)}catch(ne){console.error("Error loading automates:",ne)}},_=ne=>{switch(ne){case"pass":return r.jsx(Br,{size:16,className:"text-green-600"});case"fail":return r.jsx(ti,{size:16,className:"text-red-600"});case"warning":return r.jsx(or,{size:16,className:"text-yellow-600"});default:return r.jsx(ds,{size:16,className:"text-gray-600"})}},ie=ne=>{switch(ne){case"pass":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"fail":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},oe=ne=>Math.abs(ne)<5?r.jsx(ds,{size:16,className:"text-green-600"}):ne>0?r.jsx(ws,{size:16,className:"text-red-600"}):r.jsx(hl,{size:16,className:"text-red-600"}),W=()=>{var te;if(!m||m.totalResults===0)return 0;const ne=((te=m.statusStats.find(Be=>Be.status==="pass"))==null?void 0:te._count.status)||0;return Math.round(ne/m.totalResults*100)},$=[{id:"overview",label:D.overview,icon:Rr},{id:"results",label:D.results,icon:ds},{id:"statistics",label:D.statistics,icon:ws},{id:"alerts",label:s>0?`${D.alerts} (${s})`:D.alerts,icon:or},{id:"reports",label:D.reports,icon:Jr}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:D.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:D.subtitle})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>U(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(pa,{size:20,className:"mr-2"}),D.addResult]}),r.jsxs("button",{onClick:ae,className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center",children:[r.jsx(us,{size:20,className:"mr-2"}),D.refresh]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[D.automate,":"]}),r.jsxs("select",{value:L,onChange:ne=>R(ne.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Tous les automates"}),g.map(ne=>r.jsxs("option",{value:ne.id,children:[ne.name," - ",ne.manufacturer]},ne.id))]}),r.jsxs("select",{value:C.days,onChange:ne=>I(te=>({...te,days:ne.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"7",children:D.last7Days}),r.jsx("option",{value:"30",children:D.last30Days}),r.jsx("option",{value:"90",children:D.last90Days}),r.jsx("option",{value:"365",children:D.allTime})]})]})}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:$.map(ne=>r.jsxs("button",{onClick:()=>a(ne.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===ne.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(ne.icon,{size:16}),r.jsx("span",{children:ne.label})]},ne.id))})}),r.jsxs("div",{className:"mt-6",children:[t==="overview"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.totalResults}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(m==null?void 0:m.totalResults)||0})]}),r.jsx(ds,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.passRate}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[W(),"%"]})]}),r.jsx(Br,{className:"h-8 w-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.failRate}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[m?Math.round((((Z=m.statusStats.find(ne=>ne.status==="fail"))==null?void 0:Z._count.status)||0)/m.totalResults*100):0,"%"]})]}),r.jsx(ti,{className:"h-8 w-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.warningRate}),r.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[m?Math.round((((J=m.statusStats.find(ne=>ne.status==="warning"))==null?void 0:J._count.status)||0)/m.totalResults*100):0,"%"]})]}),r.jsx(or,{className:"h-8 w-8 text-yellow-600"})]})})]}),t==="results"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:D.status}),r.jsxs("select",{value:C.status,onChange:ne=>I(te=>({...te,status:ne.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Tous"}),r.jsx("option",{value:"pass",children:D.statuses.pass}),r.jsx("option",{value:"fail",children:D.statuses.fail}),r.jsx("option",{value:"warning",children:D.statuses.warning})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:D.level}),r.jsxs("select",{value:C.level,onChange:ne=>I(te=>({...te,level:ne.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Tous"}),r.jsx("option",{value:"Low",children:D.levels.Low}),r.jsx("option",{value:"Normal",children:D.levels.Normal}),r.jsx("option",{value:"High",children:D.levels.High})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:D.testName}),r.jsx("input",{type:"text",value:C.testName,onChange:ne=>I(te=>({...te,testName:ne.target.value})),placeholder:D.search,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>I({status:"",level:"",testName:"",automateId:"",days:"30"}),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Réinitialiser"})})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[N?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:D.loading})]}):l.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Rr,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:D.noResults})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.testName}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.automate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.level}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.value}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.expected}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.deviation}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.timestamp}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.map(ne=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:ne.testName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:ne.automate.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:D.levels[ne.level]||ne.level}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ne.value.toFixed(2)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:ne.expected.toFixed(2)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:r.jsxs("div",{className:"flex items-center",children:[oe(ne.deviation),r.jsxs("span",{className:"ml-1",children:[ne.deviation.toFixed(2),"%"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${ie(ne.status)}`,children:[_(ne.status),r.jsx("span",{className:"ml-1",children:D.statuses[ne.status]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(ne.timestamp).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Ma,{size:16})}),r.jsx("button",{className:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300",children:r.jsx(Si,{size:16})}),r.jsx("button",{className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(hn,{size:16})})]})})]},ne.id))})]})}),T.pages>1&&r.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>z(ne=>({...ne,page:Math.max(1,ne.page-1)})),disabled:T.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),r.jsx("button",{onClick:()=>z(ne=>({...ne,page:Math.min(ne.pages,ne.page+1)})),disabled:T.page===T.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de"," ",r.jsx("span",{className:"font-medium",children:(T.page-1)*T.limit+1})," ","à"," ",r.jsx("span",{className:"font-medium",children:Math.min(T.page*T.limit,T.total)})," ","sur"," ",r.jsx("span",{className:"font-medium",children:T.total})," ","résultats"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[r.jsx("button",{onClick:()=>z(ne=>({...ne,page:Math.max(1,ne.page-1)})),disabled:T.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),Array.from({length:Math.min(5,T.pages)},(ne,te)=>{const Be=te+1;return r.jsx("button",{onClick:()=>z(fe=>({...fe,page:Be})),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${Be===T.page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:Be},Be)}),r.jsx("button",{onClick:()=>z(ne=>({...ne,page:Math.min(ne.pages,ne.page+1)})),disabled:T.page===T.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]})})]})]})})]})]}),t==="statistics"&&r.jsx(zE,{stats:m,loading:N}),t==="alerts"&&r.jsx(VE,{onAlertCount:o}),t==="reports"&&r.jsx(GE,{})]}),r.jsx(_E,{isOpen:w,onClose:()=>U(!1),onSuccess:ae,automateId:L})]})}const qE={id:"quality-control",name:{fr:"Contrôle Qualité",en:"Quality Control"},description:{fr:"Système complet de contrôle qualité avec gestion des échantillons de contrôle, validation des résultats et rapports de conformité",en:"Complete quality control system with control sample management, result validation and compliance reporting"},version:"1.0.0",category:"laboratory",icon:ol,color:"bg-green-600",features:{fr:["Gestion des échantillons de contrôle","Validation automatique des résultats","Cartes de contrôle statistique","Rapports de conformité","Alertes de dérive qualité","Traçabilité complète","Standards de référence","Audit et certification"],en:["Control sample management","Automatic result validation","Statistical control charts","Compliance reporting","Quality drift alerts","Complete traceability","Reference standards","Audit and certification"]},permissions:["ADMIN","BIOLOGIST","TECHNICIAN"],routes:[{path:"/quality-control",component:MC,name:{fr:"Contrôle Qualité",en:"Quality Control"}}],menuItems:[{name:{fr:"Contrôle Qualité",en:"Quality Control"},path:"/quality-control",icon:ol,permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]}],dashboardWidgets:[{id:"quality-status",name:{fr:"Statut Qualité",en:"Quality Status"},component:({language:e})=>{const t={fr:{title:"Statut Qualité",conformity:"Conformité",alerts:"Alertes",lastControl:"Dernier Contrôle",nextControl:"Prochain Contrôle"},en:{title:"Quality Status",conformity:"Conformity",alerts:"Alerts",lastControl:"Last Control",nextControl:"Next Control"}}[e];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),r.jsx(ol,{className:"h-6 w-6 text-green-600"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.conformity}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Br,{className:"h-4 w-4 text-green-600 mr-1"}),r.jsx("span",{className:"text-sm font-medium text-green-600",children:"98.5%"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.alerts}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(or,{className:"h-4 w-4 text-yellow-600 mr-1"}),r.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"2"})]})]})]})]})},size:"small",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"control-charts",name:{fr:"Cartes de Contrôle",en:"Control Charts"},component:({language:e})=>{const t={fr:{title:"Cartes de Contrôle",inControl:"Sous Contrôle",outOfControl:"Hors Contrôle",trending:"Tendance"},en:{title:"Control Charts",inControl:"In Control",outOfControl:"Out of Control",trending:"Trending"}}[e];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),r.jsx(Rr,{className:"h-6 w-6 text-blue-600"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:"15"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.inControl})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-red-600",children:"1"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.outOfControl})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-yellow-600",children:"2"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.trending})]})]})]})},size:"medium",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]}],quickActions:[{name:{fr:"Nouveau Contrôle",en:"New Control"},icon:Br,action:"new-control",color:"bg-green-600",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]},{name:{fr:"Cartes de Contrôle",en:"Control Charts"},icon:Rr,action:"control-charts",color:"bg-blue-600",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]},{name:{fr:"Rapport Qualité",en:"Quality Report"},icon:f6,action:"quality-report",color:"bg-purple-600",permissions:["ADMIN","BIOLOGIST"]}],notifications:[{id:"quality-alert",type:"warning",condition:"outOfControlSamples > 0",message:{fr:"{count} échantillon(s) de contrôle hors limites",en:"{count} control sample(s) out of limits"},actions:[{label:{fr:"Voir Détails",en:"View Details"},action:"view-quality-alerts"}]},{id:"control-due",type:"info",condition:"controlsDue > 0",message:{fr:"{count} contrôle(s) à effectuer",en:"{count} control(s) due"},actions:[{label:{fr:"Effectuer Contrôles",en:"Perform Controls"},action:"perform-controls"}]}],settings:[{key:"controlFrequency",name:{fr:"Fréquence des Contrôles",en:"Control Frequency"},type:"select",options:[{value:"DAILY",label:{fr:"Quotidien",en:"Daily"}},{value:"WEEKLY",label:{fr:"Hebdomadaire",en:"Weekly"}},{value:"MONTHLY",label:{fr:"Mensuel",en:"Monthly"}}],default:"DAILY"},{key:"alertThreshold",name:{fr:"Seuil d'Alerte (%)",en:"Alert Threshold (%)"},type:"number",min:1,max:10,default:5,description:{fr:"Pourcentage de déviation pour déclencher une alerte",en:"Deviation percentage to trigger an alert"}},{key:"retainControlData",name:{fr:"Rétention Données (mois)",en:"Data Retention (months)"},type:"number",min:6,max:60,default:24},{key:"autoValidation",name:{fr:"Validation Automatique",en:"Auto Validation"},type:"boolean",default:!0,description:{fr:"Valider automatiquement les contrôles dans les limites",en:"Automatically validate controls within limits"}}],dependencies:[],author:"SIL Lab Team",license:"MIT",documentation:{fr:`
# Module Contrôle Qualité

## Vue d'ensemble
Le module Contrôle Qualité assure la conformité et la fiabilité des analyses de laboratoire à travers un système complet de contrôle qualité.

## Fonctionnalités Principales

### Gestion des Échantillons de Contrôle
- Création et suivi des échantillons de contrôle
- Définition des valeurs cibles et limites
- Planification automatique des contrôles

### Cartes de Contrôle
- Cartes de Levey-Jennings
- Règles de Westgard
- Détection automatique des dérives

### Validation et Alertes
- Validation automatique des résultats
- Alertes en temps réel
- Notifications de non-conformité

### Rapports et Traçabilité
- Rapports de conformité
- Historique complet
- Export des données

## Configuration
1. Définir la fréquence des contrôles
2. Configurer les seuils d'alerte
3. Paramétrer la rétention des données
4. Activer la validation automatique

## Utilisation Quotidienne
1. Effectuer les contrôles planifiés
2. Vérifier les cartes de contrôle
3. Traiter les alertes
4. Valider les résultats
    `,en:`
# Quality Control Module

## Overview
The Quality Control module ensures compliance and reliability of laboratory analyses through a comprehensive quality control system.

## Main Features

### Control Sample Management
- Creation and tracking of control samples
- Definition of target values and limits
- Automatic control scheduling

### Control Charts
- Levey-Jennings charts
- Westgard rules
- Automatic drift detection

### Validation and Alerts
- Automatic result validation
- Real-time alerts
- Non-compliance notifications

### Reports and Traceability
- Compliance reports
- Complete history
- Data export

## Configuration
1. Define control frequency
2. Configure alert thresholds
3. Set data retention
4. Enable auto validation

## Daily Usage
1. Perform scheduled controls
2. Check control charts
3. Handle alerts
4. Validate results
    `}};var OC={},vx={exports:{}};/*!
 * ApexCharts v3.54.1
 * (c) 2018-2024 ApexCharts
 * Released under the MIT License.
 */(function(e,t){function a(se,n){(n==null||n>se.length)&&(n=se.length);for(var i=0,c=Array(n);i<n;i++)c[i]=se[i];return c}function s(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function o(se,n){if(!(se instanceof n))throw new TypeError("Cannot call a class as a function")}function l(se,n){for(var i=0;i<n.length;i++){var c=n[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(se,I(c.key),c)}}function d(se,n,i){return n&&l(se.prototype,n),i&&l(se,i),Object.defineProperty(se,"prototype",{writable:!1}),se}function g(se,n){var i=typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(!i){if(Array.isArray(se)||(i=z(se))||n&&se&&typeof se.length=="number"){i&&(se=i);var c=0,A=function(){};return{s:A,n:function(){return c>=se.length?{done:!0}:{done:!1,value:se[c++]}},e:function(x){throw x},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,u=!0,p=!1;return{s:function(){i=i.call(se)},n:function(){var x=i.next();return u=x.done,x},e:function(x){p=!0,h=x},f:function(){try{u||i.return==null||i.return()}finally{if(p)throw h}}}}function f(se){var n=B();return function(){var i,c=y(se);if(n){var A=y(this).constructor;i=Reflect.construct(c,arguments,A)}else i=c.apply(this,arguments);return function(h,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(h)}(this,i)}}function m(se,n,i){return(n=I(n))in se?Object.defineProperty(se,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):se[n]=i,se}function y(se){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y(se)}function N(se,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(n&&n.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),Object.defineProperty(se,"prototype",{writable:!1}),n&&L(se,n)}function B(){try{var se=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B=function(){return!!se})()}function w(se,n){var i=Object.keys(se);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(se);n&&(c=c.filter(function(A){return Object.getOwnPropertyDescriptor(se,A).enumerable})),i.push.apply(i,c)}return i}function U(se){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?w(Object(i),!0).forEach(function(c){m(se,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach(function(c){Object.defineProperty(se,c,Object.getOwnPropertyDescriptor(i,c))})}return se}function L(se,n){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},L(se,n)}function R(se,n){return function(i){if(Array.isArray(i))return i}(se)||function(i,c){var A=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(A!=null){var h,u,p,x,k=[],F=!0,S=!1;try{if(p=(A=A.call(i)).next,c===0){if(Object(A)!==A)return;F=!1}else for(;!(F=(h=p.call(A)).done)&&(k.push(h.value),k.length!==c);F=!0);}catch(P){S=!0,u=P}finally{try{if(!F&&A.return!=null&&(x=A.return(),Object(x)!==x))return}finally{if(S)throw u}}return k}}(se,n)||z(se,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(se){return function(n){if(Array.isArray(n))return a(n)}(se)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(se)||z(se)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I(se){var n=function(i,c){if(typeof i!="object"||!i)return i;var A=i[Symbol.toPrimitive];if(A!==void 0){var h=A.call(i,c||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}(se,"string");return typeof n=="symbol"?n:n+""}function T(se){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},T(se)}function z(se,n){if(se){if(typeof se=="string")return a(se,n);var i={}.toString.call(se).slice(8,-1);return i==="Object"&&se.constructor&&(i=se.constructor.name),i==="Map"||i==="Set"?Array.from(se):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(se,n):void 0}}var D=function(){function se(){o(this,se)}return d(se,[{key:"shadeRGBColor",value:function(n,i){var c=i.split(","),A=n<0?0:255,h=n<0?-1*n:n,u=parseInt(c[0].slice(4),10),p=parseInt(c[1],10),x=parseInt(c[2],10);return"rgb("+(Math.round((A-u)*h)+u)+","+(Math.round((A-p)*h)+p)+","+(Math.round((A-x)*h)+x)+")"}},{key:"shadeHexColor",value:function(n,i){var c=parseInt(i.slice(1),16),A=n<0?0:255,h=n<0?-1*n:n,u=c>>16,p=c>>8&255,x=255&c;return"#"+(16777216+65536*(Math.round((A-u)*h)+u)+256*(Math.round((A-p)*h)+p)+(Math.round((A-x)*h)+x)).toString(16).slice(1)}},{key:"shadeColor",value:function(n,i){return se.isColorHex(i)?this.shadeHexColor(n,i):this.shadeRGBColor(n,i)}}],[{key:"bind",value:function(n,i){return function(){return n.apply(i,arguments)}}},{key:"isObject",value:function(n){return n&&T(n)==="object"&&!Array.isArray(n)&&n!=null}},{key:"is",value:function(n,i){return Object.prototype.toString.call(i)==="[object "+n+"]"}},{key:"listToArray",value:function(n){var i,c=[];for(i=0;i<n.length;i++)c[i]=n[i];return c}},{key:"extend",value:function(n,i){var c=this;typeof Object.assign!="function"&&(Object.assign=function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(h),p=1;p<arguments.length;p++){var x=arguments[p];if(x!=null)for(var k in x)x.hasOwnProperty(k)&&(u[k]=x[k])}return u});var A=Object.assign({},n);return this.isObject(n)&&this.isObject(i)&&Object.keys(i).forEach(function(h){c.isObject(i[h])&&h in n?A[h]=c.extend(n[h],i[h]):Object.assign(A,m({},h,i[h]))}),A}},{key:"extendArray",value:function(n,i){var c=[];return n.map(function(A){c.push(se.extend(i,A))}),n=c}},{key:"monthMod",value:function(n){return n%12}},{key:"clone",value:function(n){if(se.is("Array",n)){for(var i=[],c=0;c<n.length;c++)i[c]=this.clone(n[c]);return i}if(se.is("Null",n))return null;if(se.is("Date",n))return n;if(T(n)==="object"){var A={};for(var h in n)n.hasOwnProperty(h)&&(A[h]=this.clone(n[h]));return A}return n}},{key:"log10",value:function(n){return Math.log(n)/Math.LN10}},{key:"roundToBase10",value:function(n){return Math.pow(10,Math.floor(Math.log10(n)))}},{key:"roundToBase",value:function(n,i){return Math.pow(i,Math.floor(Math.log(n)/Math.log(i)))}},{key:"parseNumber",value:function(n){return n===null?n:parseFloat(n)}},{key:"stripNumber",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(n)?n:parseFloat(n.toPrecision(i))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(n){var i=String(n).split(/[eE]/);if(i.length===1)return i[0];var c="",A=n<0?"-":"",h=i[0].replace(".",""),u=Number(i[1])+1;if(u<0){for(c=A+"0.";u++;)c+="0";return c+h.replace(/^-/,"")}for(u-=h.length;u--;)c+="0";return h+c}},{key:"getDimensions",value:function(n){var i=getComputedStyle(n,null),c=n.clientHeight,A=n.clientWidth;return c-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),[A-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),c]}},{key:"getBoundingClientRect",value:function(n){var i=n.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:n.clientWidth,height:n.clientHeight,x:i.left,y:i.top}}},{key:"getLargestStringFromArr",value:function(n){return n.reduce(function(i,c){return Array.isArray(c)&&(c=c.reduce(function(A,h){return A.length>h.length?A:h})),i.length>c.length?i:c},0)}},{key:"hexToRgba",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;n.substring(0,1)!=="#"&&(n="#999999");var c=n.replace("#","");c=c.match(new RegExp("(.{"+c.length/3+"})","g"));for(var A=0;A<c.length;A++)c[A]=parseInt(c[A].length===1?c[A]+c[A]:c[A],16);return i!==void 0&&c.push(i),"rgba("+c.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(n){return parseFloat(n.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(n){return(n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&n.length===4?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(n)}},{key:"getPolygonPos",value:function(n,i){for(var c=[],A=2*Math.PI/i,h=0;h<i;h++){var u={};u.x=n*Math.sin(h*A),u.y=-n*Math.cos(h*A),c.push(u)}return c}},{key:"polarToCartesian",value:function(n,i,c,A){var h=(A-90)*Math.PI/180;return{x:n+c*Math.cos(h),y:i+c*Math.sin(h)}}},{key:"escapeString",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",c=n.toString().slice();return c=c.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,i)}},{key:"negToZero",value:function(n){return n<0?0:n}},{key:"moveIndexInArray",value:function(n,i,c){if(c>=n.length)for(var A=c-n.length+1;A--;)n.push(void 0);return n.splice(c,0,n.splice(i,1)[0]),n}},{key:"extractNumber",value:function(n){return parseFloat(n.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(n,i){for(;(n=n.parentElement)&&!n.classList.contains(i););return n}},{key:"setELstyles",value:function(n,i){for(var c in i)i.hasOwnProperty(c)&&(n.style.key=i[c])}},{key:"preciseAddition",value:function(n,i){var c=(String(n).split(".")[1]||"").length,A=(String(i).split(".")[1]||"").length,h=Math.pow(10,Math.max(c,A));return(Math.round(n*h)+Math.round(i*h))/h}},{key:"isNumber",value:function(n){return!isNaN(n)&&parseFloat(Number(n))===n&&!isNaN(parseInt(n,10))}},{key:"isFloat",value:function(n){return Number(n)===n&&n%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isMsEdge",value:function(){var n=window.navigator.userAgent,i=n.indexOf("Edge/");return i>0&&parseInt(n.substring(i+5,n.indexOf(".",i)),10)}},{key:"getGCD",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,A=Math.pow(10,c-Math.floor(Math.log10(Math.max(n,i))));for(n=Math.round(Math.abs(n)*A),i=Math.round(Math.abs(i)*A);i;){var h=i;i=n%i,n=h}return n/A}},{key:"getPrimeFactors",value:function(n){for(var i=[],c=2;n>=2;)n%c==0?(i.push(c),n/=c):c++;return i}},{key:"mod",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,A=Math.pow(10,c-Math.floor(Math.log10(Math.max(n,i))));return(n=Math.round(Math.abs(n)*A))%(i=Math.round(Math.abs(i)*A))/A}}]),se}(),ae=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.setEasingFunctions()}return d(se,[{key:"setEasingFunctions",value:function(){var n;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":n="-";break;case"easein":n="<";break;case"easeout":n=">";break;case"easeinout":default:n="<>";break;case"swing":n=function(i){var c=1.70158;return(i-=1)*i*((c+1)*i+c)+1};break;case"bounce":n=function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375};break;case"elastic":n=function(i){return i===!!i?i:Math.pow(2,-10*i)*Math.sin((i-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=n}}},{key:"animateLine",value:function(n,i,c,A){n.attr(i).animate(A).attr(c)}},{key:"animateMarker",value:function(n,i,c,A){n.attr({opacity:0}).animate(i,c).attr({opacity:1}).afterAll(function(){A()})}},{key:"animateRect",value:function(n,i,c,A,h){n.attr(i).animate(A).attr(c).afterAll(function(){return h()})}},{key:"animatePathsGradually",value:function(n){var i=n.el,c=n.realIndex,A=n.j,h=n.fill,u=n.pathFrom,p=n.pathTo,x=n.speed,k=n.delay,F=this.w,S=0;F.config.chart.animations.animateGradually.enabled&&(S=F.config.chart.animations.animateGradually.delay),F.config.chart.animations.dynamicAnimation.enabled&&F.globals.dataChanged&&F.config.chart.type!=="bar"&&(S=0),this.morphSVG(i,c,A,F.config.chart.type!=="line"||F.globals.comboCharts?h:"stroke",u,p,x,k*S)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(n){var i=n.el;i.classList.remove("apexcharts-element-hidden"),i.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(n){var i=this.w;i.globals.animationEnded||(i.globals.animationEnded=!0,this.showDelayedElements(),typeof i.config.chart.events.animationEnd=="function"&&i.config.chart.events.animationEnd(this.ctx,{el:n,w:i}))}},{key:"morphSVG",value:function(n,i,c,A,h,u,p,x){var k=this,F=this.w;h||(h=n.attr("pathFrom")),u||(u=n.attr("pathTo"));var S=function(P){return F.config.chart.type==="radar"&&(p=1),"M 0 ".concat(F.globals.gridHeight)};(!h||h.indexOf("undefined")>-1||h.indexOf("NaN")>-1)&&(h=S()),(!u||u.indexOf("undefined")>-1||u.indexOf("NaN")>-1)&&(u=S()),F.globals.shouldAnimate||(p=1),n.plot(h).animate(1,F.globals.easing,x).plot(h).animate(p,F.globals.easing,x).plot(u).afterAll(function(){D.isNumber(c)?c===F.globals.series[F.globals.maxValsInArrayIndex].length-2&&F.globals.shouldAnimate&&k.animationCompleted(n):A!=="none"&&F.globals.shouldAnimate&&(!F.globals.comboCharts&&i===F.globals.series.length-1||F.globals.comboCharts)&&k.animationCompleted(n),k.showDelayedElements()})}}]),se}(),X=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"getDefaultFilter",value:function(n,i){var c=this.w;n.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),c.config.states.normal.filter!=="none"?this.applyFilter(n,i,c.config.states.normal.filter.type,c.config.states.normal.filter.value):c.config.chart.dropShadow.enabled&&this.dropShadow(n,c.config.chart.dropShadow,i)}},{key:"addNormalFilter",value:function(n,i){var c=this.w;c.config.chart.dropShadow.enabled&&!n.node.classList.contains("apexcharts-marker")&&this.dropShadow(n,c.config.chart.dropShadow,i)}},{key:"addLightenFilter",value:function(n,i,c){var A=this,h=this.w,u=c.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter(function(p){var x=h.config.chart.dropShadow;(x.enabled?A.addShadow(p,i,x):p).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:u}})}),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"addDarkenFilter",value:function(n,i,c){var A=this,h=this.w,u=c.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter(function(p){var x=h.config.chart.dropShadow;(x.enabled?A.addShadow(p,i,x):p).componentTransfer({rgb:{type:"linear",slope:u}})}),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"applyFilter",value:function(n,i,c){var A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(c){case"none":this.addNormalFilter(n,i);break;case"lighten":this.addLightenFilter(n,i,{intensity:A});break;case"darken":this.addDarkenFilter(n,i,{intensity:A})}}},{key:"addShadow",value:function(n,i,c){var A,h=this.w,u=c.blur,p=c.top,x=c.left,k=c.color,F=c.opacity;if(((A=h.config.chart.dropShadow.enabledOnSeries)===null||A===void 0?void 0:A.length)>0&&h.config.chart.dropShadow.enabledOnSeries.indexOf(i)===-1)return n;var S=n.flood(Array.isArray(k)?k[i]:k,F).composite(n.sourceAlpha,"in").offset(x,p).gaussianBlur(u).merge(n.source);return n.blend(n.source,S)}},{key:"dropShadow",value:function(n,i){var c,A,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=i.top,p=i.left,x=i.blur,k=i.color,F=i.opacity,S=i.noUserSpaceOnUse,P=this.w;return n.unfilter(!0),D.isMsEdge()&&P.config.chart.type==="radialBar"||((c=P.config.chart.dropShadow.enabledOnSeries)===null||c===void 0?void 0:c.length)>0&&((A=P.config.chart.dropShadow.enabledOnSeries)===null||A===void 0?void 0:A.indexOf(h))===-1||(k=Array.isArray(k)?k[h]:k,n.filter(function(O){var G=null;G=D.isSafari()||D.isFirefox()||D.isMsEdge()?O.flood(k,F).composite(O.sourceAlpha,"in").offset(p,u).gaussianBlur(x):O.flood(k,F).composite(O.sourceAlpha,"in").offset(p,u).gaussianBlur(x).merge(O.source),O.blend(O.source,G)}),S||n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)),n}},{key:"setSelectionFilter",value:function(n,i,c){var A=this.w;if(A.globals.selectedDataPoints[i]!==void 0&&A.globals.selectedDataPoints[i].indexOf(c)>-1){n.node.setAttribute("selected",!0);var h=A.config.states.active.filter;h!=="none"&&this.applyFilter(n,i,h.type,h.value)}}},{key:"_scaleFilterSize",value:function(n){(function(i){for(var c in i)i.hasOwnProperty(c)&&n.setAttribute(c,i[c])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),se}(),_=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"roundPathCorners",value:function(n,i){function c(me,Fe,Ie){var ze=Fe.x-me.x,Ze=Fe.y-me.y,Ke=Math.sqrt(ze*ze+Ze*Ze);return A(me,Fe,Math.min(1,Ie/Ke))}function A(me,Fe,Ie){return{x:me.x+(Fe.x-me.x)*Ie,y:me.y+(Fe.y-me.y)*Ie}}function h(me,Fe){me.length>2&&(me[me.length-2]=Fe.x,me[me.length-1]=Fe.y)}function u(me){return{x:parseFloat(me[me.length-2]),y:parseFloat(me[me.length-1])}}n.indexOf("NaN")>-1&&(n="");var p=n.split(/[,\s]/).reduce(function(me,Fe){var Ie=Fe.match("([a-zA-Z])(.+)");return Ie?(me.push(Ie[1]),me.push(Ie[2])):me.push(Fe),me},[]).reduce(function(me,Fe){return parseFloat(Fe)==Fe&&me.length?me[me.length-1].push(Fe):me.push([Fe]),me},[]),x=[];if(p.length>1){var k=u(p[0]),F=null;p[p.length-1][0]=="Z"&&p[0].length>2&&(F=["L",k.x,k.y],p[p.length-1]=F),x.push(p[0]);for(var S=1;S<p.length;S++){var P=x[x.length-1],O=p[S],G=O==F?p[1]:p[S+1];if(G&&P&&P.length>2&&O[0]=="L"&&G.length>2&&G[0]=="L"){var V,ee,re=u(P),le=u(O),v=u(G);V=c(le,re,i),ee=c(le,v,i),h(O,V),O.origPoint=le,x.push(O);var Q=A(V,le,.5),K=A(le,ee,.5),ge=["C",Q.x,Q.y,K.x,K.y,ee.x,ee.y];ge.origPoint=le,x.push(ge)}else x.push(O)}if(F){var ce=u(x[x.length-1]);x.push(["Z"]),h(x[0],ce)}}else x=p;return x.reduce(function(me,Fe){return me+Fe.join(" ")+" "},"")}},{key:"drawLine",value:function(n,i,c,A){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,x=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:n,y1:i,x2:c,y2:A,stroke:h,"stroke-dasharray":u,"stroke-width":p,"stroke-linecap":x})}},{key:"drawRect",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,x=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,k=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,F=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,S=this.w.globals.dom.Paper.rect();return S.attr({x:n,y:i,width:c>0?c:0,height:A>0?A:0,rx:h,ry:h,opacity:p,"stroke-width":x!==null?x:0,stroke:k!==null?k:"none","stroke-dasharray":F}),S.node.setAttribute("fill",u),S}},{key:"drawPolygon",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(n).attr({fill:A,stroke:i,"stroke-width":c})}},{key:"drawCircle",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;n<0&&(n=0);var c=this.w.globals.dom.Paper.circle(2*n);return i!==null&&c.attr(i),c}},{key:"drawPath",value:function(n){var i=n.d,c=i===void 0?"":i,A=n.stroke,h=A===void 0?"#a8a8a8":A,u=n.strokeWidth,p=u===void 0?1:u,x=n.fill,k=n.fillOpacity,F=k===void 0?1:k,S=n.strokeOpacity,P=S===void 0?1:S,O=n.classes,G=n.strokeLinecap,V=G===void 0?null:G,ee=n.strokeDashArray,re=ee===void 0?0:ee,le=this.w;return V===null&&(V=le.config.stroke.lineCap),(c.indexOf("undefined")>-1||c.indexOf("NaN")>-1)&&(c="M 0 ".concat(le.globals.gridHeight)),le.globals.dom.Paper.path(c).attr({fill:x,"fill-opacity":F,stroke:h,"stroke-opacity":P,"stroke-linecap":V,"stroke-width":p,"stroke-dasharray":re,class:O})}},{key:"group",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.w.globals.dom.Paper.group();return n!==null&&i.attr(n),i}},{key:"move",value:function(n,i){var c=["M",n,i].join(" ");return c}},{key:"line",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,A=null;return c===null?A=[" L",n,i].join(" "):c==="H"?A=[" H",n].join(" "):c==="V"&&(A=[" V",i].join(" ")),A}},{key:"curve",value:function(n,i,c,A,h,u){var p=["C",n,i,c,A,h,u].join(" ");return p}},{key:"quadraticCurve",value:function(n,i,c,A){return["Q",n,i,c,A].join(" ")}},{key:"arc",value:function(n,i,c,A,h,u,p){var x="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(x="a");var k=[x,n,i,c,A,h,u,p].join(" ");return k}},{key:"renderPaths",value:function(n){var i,c=n.j,A=n.realIndex,h=n.pathFrom,u=n.pathTo,p=n.stroke,x=n.strokeWidth,k=n.strokeLinecap,F=n.fill,S=n.animationDelay,P=n.initialSpeed,O=n.dataChangeSpeed,G=n.className,V=n.chartType,ee=n.shouldClipToGrid,re=ee===void 0||ee,le=n.bindEventsOnPaths,v=le===void 0||le,Q=n.drawShadow,K=Q===void 0||Q,ge=this.w,ce=new X(this.ctx),me=new ae(this.ctx),Fe=this.w.config.chart.animations.enabled,Ie=Fe&&this.w.config.chart.animations.dynamicAnimation.enabled,ze=!!(Fe&&!ge.globals.resized||Ie&&ge.globals.dataChanged&&ge.globals.shouldAnimate);ze?i=h:(i=u,ge.globals.animationEnded=!0);var Ze=ge.config.stroke.dashArray,Ke=0;Ke=Array.isArray(Ze)?Ze[A]:ge.config.stroke.dashArray;var et=this.drawPath({d:i,stroke:p,strokeWidth:x,fill:F,fillOpacity:1,classes:G,strokeLinecap:k,strokeDashArray:Ke});if(et.attr("index",A),re&&(V==="bar"&&!ge.globals.isHorizontal||ge.globals.comboCharts?et.attr({"clip-path":"url(#gridRectBarMask".concat(ge.globals.cuid,")")}):et.attr({"clip-path":"url(#gridRectMask".concat(ge.globals.cuid,")")})),ge.config.states.normal.filter.type!=="none")ce.getDefaultFilter(et,A);else if(ge.config.chart.dropShadow.enabled&&K){var ct=ge.config.chart.dropShadow;ce.dropShadow(et,ct,A)}v&&(et.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,et)),et.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,et)),et.node.addEventListener("mousedown",this.pathMouseDown.bind(this,et))),et.attr({pathTo:u,pathFrom:h});var mt={el:et,j:c,realIndex:A,pathFrom:h,pathTo:u,fill:F,strokeWidth:x,delay:S};return!Fe||ge.globals.resized||ge.globals.dataChanged?!ge.globals.resized&&ge.globals.dataChanged||me.showDelayedElements():me.animatePathsGradually(U(U({},mt),{},{speed:P})),ge.globals.dataChanged&&Ie&&ze&&me.animatePathsGradually(U(U({},mt),{},{speed:O})),et}},{key:"drawPattern",value:function(n,i,c){var A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(i,c,function(u){n==="horizontalLines"?u.line(0,0,c,0).stroke({color:A,width:h+1}):n==="verticalLines"?u.line(0,0,0,i).stroke({color:A,width:h+1}):n==="slantedLines"?u.line(0,0,i,c).stroke({color:A,width:h}):n==="squares"?u.rect(i,c).fill("none").stroke({color:A,width:h}):n==="circles"&&u.circle(i).fill("none").stroke({color:A,width:h})})}},{key:"drawGradient",value:function(n,i,c,A,h){var u,p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,k=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,F=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,S=this.w;i.length<9&&i.indexOf("#")===0&&(i=D.hexToRgba(i,A)),c.length<9&&c.indexOf("#")===0&&(c=D.hexToRgba(c,h));var P=0,O=1,G=1,V=null;x!==null&&(P=x[0]!==void 0?x[0]/100:0,O=x[1]!==void 0?x[1]/100:1,G=x[2]!==void 0?x[2]/100:1,V=x[3]!==void 0?x[3]/100:null);var ee=!(S.config.chart.type!=="donut"&&S.config.chart.type!=="pie"&&S.config.chart.type!=="polarArea"&&S.config.chart.type!=="bubble");if(u=k===null||k.length===0?S.globals.dom.Paper.gradient(ee?"radial":"linear",function(v){v.at(P,i,A),v.at(O,c,h),v.at(G,c,h),V!==null&&v.at(V,i,A)}):S.globals.dom.Paper.gradient(ee?"radial":"linear",function(v){(Array.isArray(k[F])?k[F]:k).forEach(function(Q){v.at(Q.offset/100,Q.color,Q.opacity)})}),ee){var re=S.globals.gridWidth/2,le=S.globals.gridHeight/2;S.config.chart.type!=="bubble"?u.attr({gradientUnits:"userSpaceOnUse",cx:re,cy:le,r:p}):u.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else n==="vertical"?u.from(0,0).to(0,1):n==="diagonal"?u.from(0,0).to(1,1):n==="horizontal"?u.from(0,1).to(1,1):n==="diagonal2"&&u.from(1,0).to(0,1);return u}},{key:"getTextBasedOnMaxWidth",value:function(n){var i=n.text,c=n.maxWidth,A=n.fontSize,h=n.fontFamily,u=this.getTextRects(i,A,h),p=u.width/i.length,x=Math.floor(c/p);return c<u.width?i.slice(0,x-3)+"...":i}},{key:"drawText",value:function(n){var i=this,c=n.x,A=n.y,h=n.text,u=n.textAnchor,p=n.fontSize,x=n.fontFamily,k=n.fontWeight,F=n.foreColor,S=n.opacity,P=n.maxWidth,O=n.cssClass,G=O===void 0?"":O,V=n.isPlainText,ee=V===void 0||V,re=n.dominantBaseline,le=re===void 0?"auto":re,v=this.w;h===void 0&&(h="");var Q=h;u||(u="start"),F&&F.length||(F=v.config.chart.foreColor),x=x||v.config.chart.fontFamily,k=k||"regular";var K,ge={maxWidth:P,fontSize:p=p||"11px",fontFamily:x};return Array.isArray(h)?K=v.globals.dom.Paper.text(function(ce){for(var me=0;me<h.length;me++)Q=h[me],P&&(Q=i.getTextBasedOnMaxWidth(U({text:h[me]},ge))),me===0?ce.tspan(Q):ce.tspan(Q).newLine()}):(P&&(Q=this.getTextBasedOnMaxWidth(U({text:h},ge))),K=ee?v.globals.dom.Paper.plain(h):v.globals.dom.Paper.text(function(ce){return ce.tspan(Q)})),K.attr({x:c,y:A,"text-anchor":u,"dominant-baseline":le,"font-size":p,"font-family":x,"font-weight":k,fill:F,class:"apexcharts-text "+G}),K.node.style.fontFamily=x,K.node.style.opacity=S,K}},{key:"getMarkerPath",value:function(n,i,c,A){var h="";switch(c){case"cross":h="M ".concat(n-(A/=1.4)," ").concat(i-A," L ").concat(n+A," ").concat(i+A,"  M ").concat(n-A," ").concat(i+A," L ").concat(n+A," ").concat(i-A);break;case"plus":h="M ".concat(n-(A/=1.12)," ").concat(i," L ").concat(n+A," ").concat(i,"  M ").concat(n," ").concat(i-A," L ").concat(n," ").concat(i+A);break;case"star":case"sparkle":var u=5;A*=1.15,c==="sparkle"&&(A/=1.1,u=4);for(var p=Math.PI/u,x=0;x<=2*u;x++){var k=x*p,F=x%2==0?A:A/2;h+=(x===0?"M":"L")+(n+F*Math.sin(k))+","+(i-F*Math.cos(k))}h+="Z";break;case"triangle":h="M ".concat(n," ").concat(i-A,` 
             L `).concat(n+A," ").concat(i+A,` 
             L `).concat(n-A," ").concat(i+A,` 
             Z`);break;case"square":case"rect":h="M ".concat(n-(A/=1.125)," ").concat(i-A,` 
           L `).concat(n+A," ").concat(i-A,` 
           L `).concat(n+A," ").concat(i+A,` 
           L `).concat(n-A," ").concat(i+A,` 
           Z`);break;case"diamond":A*=1.05,h="M ".concat(n," ").concat(i-A,` 
             L `).concat(n+A," ").concat(i,` 
             L `).concat(n," ").concat(i+A,` 
             L `).concat(n-A," ").concat(i,` 
            Z`);break;case"line":h="M ".concat(n-(A/=1.1)," ").concat(i,` 
           L `).concat(n+A," ").concat(i);break;default:A*=2,h="M ".concat(n,", ").concat(i,` 
           m -`).concat(A/2,`, 0 
           a `).concat(A/2,",").concat(A/2," 0 1,0 ").concat(A,`,0 
           a `).concat(A/2,",").concat(A/2," 0 1,0 -").concat(A,",0")}return h}},{key:"drawMarkerShape",value:function(n,i,c,A,h){var u=this.drawPath({d:this.getMarkerPath(n,i,c,A,h),stroke:h.pointStrokeColor,strokeDashArray:h.pointStrokeDashArray,strokeWidth:h.pointStrokeWidth,fill:h.pointFillColor,fillOpacity:h.pointFillOpacity,strokeOpacity:h.pointStrokeOpacity});return u.attr({cx:n,cy:i,shape:h.shape,class:h.class?h.class:""}),u}},{key:"drawMarker",value:function(n,i,c){n=n||0;var A=c.pSize||0;return D.isNumber(i)||(A=0,i=0),this.drawMarkerShape(n,i,c==null?void 0:c.shape,A,U(U({},c),c.shape==="line"||c.shape==="plus"||c.shape==="cross"?{pointStrokeColor:c.pointFillColor,pointStrokeOpacity:c.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(n,i){var c=this.w,A=new X(this.ctx),h=parseInt(n.node.getAttribute("index"),10),u=parseInt(n.node.getAttribute("j"),10);if(typeof c.config.chart.events.dataPointMouseEnter=="function"&&c.config.chart.events.dataPointMouseEnter(i,this.ctx,{seriesIndex:h,dataPointIndex:u,w:c}),this.ctx.events.fireEvent("dataPointMouseEnter",[i,this.ctx,{seriesIndex:h,dataPointIndex:u,w:c}]),(c.config.states.active.filter.type==="none"||n.node.getAttribute("selected")!=="true")&&c.config.states.hover.filter.type!=="none"&&!c.globals.isTouchDevice){var p=c.config.states.hover.filter;A.applyFilter(n,h,p.type,p.value)}}},{key:"pathMouseLeave",value:function(n,i){var c=this.w,A=new X(this.ctx),h=parseInt(n.node.getAttribute("index"),10),u=parseInt(n.node.getAttribute("j"),10);typeof c.config.chart.events.dataPointMouseLeave=="function"&&c.config.chart.events.dataPointMouseLeave(i,this.ctx,{seriesIndex:h,dataPointIndex:u,w:c}),this.ctx.events.fireEvent("dataPointMouseLeave",[i,this.ctx,{seriesIndex:h,dataPointIndex:u,w:c}]),c.config.states.active.filter.type!=="none"&&n.node.getAttribute("selected")==="true"||c.config.states.hover.filter.type!=="none"&&A.getDefaultFilter(n,h)}},{key:"pathMouseDown",value:function(n,i){var c=this.w,A=new X(this.ctx),h=parseInt(n.node.getAttribute("index"),10),u=parseInt(n.node.getAttribute("j"),10),p="false";if(n.node.getAttribute("selected")==="true"){if(n.node.setAttribute("selected","false"),c.globals.selectedDataPoints[h].indexOf(u)>-1){var x=c.globals.selectedDataPoints[h].indexOf(u);c.globals.selectedDataPoints[h].splice(x,1)}}else{if(!c.config.states.active.allowMultipleDataPointsSelection&&c.globals.selectedDataPoints.length>0){c.globals.selectedDataPoints=[];var k=c.globals.dom.Paper.select(".apexcharts-series path").members,F=c.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,S=function(G){Array.prototype.forEach.call(G,function(V){V.node.setAttribute("selected","false"),A.getDefaultFilter(V,h)})};S(k),S(F)}n.node.setAttribute("selected","true"),p="true",c.globals.selectedDataPoints[h]===void 0&&(c.globals.selectedDataPoints[h]=[]),c.globals.selectedDataPoints[h].push(u)}if(p==="true"){var P=c.config.states.active.filter;if(P!=="none")A.applyFilter(n,h,P.type,P.value);else if(c.config.states.hover.filter!=="none"&&!c.globals.isTouchDevice){var O=c.config.states.hover.filter;A.applyFilter(n,h,O.type,O.value)}}else c.config.states.active.filter.type!=="none"&&(c.config.states.hover.filter.type==="none"||c.globals.isTouchDevice?A.getDefaultFilter(n,h):(O=c.config.states.hover.filter,A.applyFilter(n,h,O.type,O.value)));typeof c.config.chart.events.dataPointSelection=="function"&&c.config.chart.events.dataPointSelection(i,this.ctx,{selectedDataPoints:c.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:u,w:c}),i&&this.ctx.events.fireEvent("dataPointSelection",[i,this.ctx,{selectedDataPoints:c.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:u,w:c}])}},{key:"rotateAroundCenter",value:function(n){var i={};return n&&typeof n.getBBox=="function"&&(i=n.getBBox()),{x:i.x+i.width/2,y:i.y+i.height/2}}},{key:"getTextRects",value:function(n,i,c,A){var h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],u=this.w,p=this.drawText({x:-200,y:-200,text:n,textAnchor:"start",fontSize:i,fontFamily:c,foreColor:"#fff",opacity:0});A&&p.attr("transform",A),u.globals.dom.Paper.add(p);var x=p.bbox();return h||(x=p.node.getBoundingClientRect()),p.remove(),{width:x.width,height:x.height}}},{key:"placeTextWithEllipsis",value:function(n,i,c){if(typeof n.getComputedTextLength=="function"&&(n.textContent=i,i.length>0&&n.getComputedTextLength()>=c/1.1)){for(var A=i.length-3;A>0;A-=3)if(n.getSubStringLength(0,A)<=c/1.1)return void(n.textContent=i.substring(0,A)+"...");n.textContent="."}}}],[{key:"setAttrs",value:function(n,i){for(var c in i)i.hasOwnProperty(c)&&n.setAttribute(c,i[c])}}]),se}(),ie=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"getStackedSeriesTotals",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=this.w,c=[];if(i.globals.series.length===0)return c;for(var A=0;A<i.globals.series[i.globals.maxValsInArrayIndex].length;A++){for(var h=0,u=0;u<i.globals.series.length;u++)i.globals.series[u][A]!==void 0&&n.indexOf(u)===-1&&(h+=i.globals.series[u][A]);c.push(h)}return c}},{key:"getSeriesTotalByIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return n===null?this.w.config.series.reduce(function(i,c){return i+c},0):this.w.globals.series[n].reduce(function(i,c){return i+c},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var n=this,i=this.w,c=[];return i.globals.seriesGroups.forEach(function(A){var h=[];i.config.series.forEach(function(p,x){A.indexOf(i.globals.seriesNames[x])>-1&&h.push(x)});var u=i.globals.series.map(function(p,x){return h.indexOf(x)===-1?x:-1}).filter(function(p){return p!==-1});c.push(n.getStackedSeriesTotals(u))}),c}},{key:"setSeriesYAxisMappings",value:function(){var n=this.w.globals,i=this.w.config,c=[],A=[],h=[],u=n.series.length>i.yaxis.length||i.yaxis.some(function(S){return Array.isArray(S.seriesName)});i.series.forEach(function(S,P){h.push(P),A.push(null)}),i.yaxis.forEach(function(S,P){c[P]=[]});var p=[];i.yaxis.forEach(function(S,P){var O=!1;if(S.seriesName){var G=[];Array.isArray(S.seriesName)?G=S.seriesName:G.push(S.seriesName),G.forEach(function(V){i.series.forEach(function(ee,re){if(ee.name===V){var le=re;P===re||u?!u||h.indexOf(re)>-1?c[P].push([P,re]):console.warn("Series '"+ee.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(c[re].push([re,P]),le=P),O=!0,(le=h.indexOf(le))!==-1&&h.splice(le,1)}})})}O||p.push(P)}),c=c.map(function(S,P){var O=[];return S.forEach(function(G){A[G[1]]=G[0],O.push(G[1])}),O});for(var x=i.yaxis.length-1,k=0;k<p.length&&(x=p[k],c[x]=[],h);k++){var F=h[0];h.shift(),c[x].push(F),A[F]=x}h.forEach(function(S){c[x].push(S),A[S]=x}),n.seriesYAxisMap=c.map(function(S){return S}),n.seriesYAxisReverseMap=A.map(function(S){return S}),n.seriesYAxisMap.forEach(function(S,P){S.forEach(function(O){i.series[O]&&i.series[O].group===void 0&&(i.series[O].group="apexcharts-axis-".concat(P.toString()))})})}},{key:"isSeriesNull",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(n===null?this.w.config.series.filter(function(i){return i!==null}):this.w.config.series[n].data.filter(function(i){return i!==null})).length===0}},{key:"seriesHaveSameValues",value:function(n){return this.w.globals.series[n].every(function(i,c,A){return i===A[0]})}},{key:"getCategoryLabels",value:function(n){var i=this.w,c=n.slice();return i.config.xaxis.convertedCatToNumeric&&(c=n.map(function(A,h){return i.config.xaxis.labels.formatter(A-i.globals.minX+1)})),c}},{key:"getLargestSeries",value:function(){var n=this.w;n.globals.maxValsInArrayIndex=n.globals.series.map(function(i){return i.length}).indexOf(Math.max.apply(Math,n.globals.series.map(function(i){return i.length})))}},{key:"getLargestMarkerSize",value:function(){var n=this.w,i=0;return n.globals.markers.size.forEach(function(c){i=Math.max(i,c)}),n.config.markers.discrete&&n.config.markers.discrete.length&&n.config.markers.discrete.forEach(function(c){i=Math.max(i,c.size)}),i>0&&(n.config.markers.hover.size>0?i=n.config.markers.hover.size:i+=n.config.markers.hover.sizeOffset),n.globals.markers.largestSize=i,i}},{key:"getSeriesTotals",value:function(){var n=this.w;n.globals.seriesTotals=n.globals.series.map(function(i,c){var A=0;if(Array.isArray(i))for(var h=0;h<i.length;h++)A+=i[h];else A+=i;return A})}},{key:"getSeriesTotalsXRange",value:function(n,i){var c=this.w;return c.globals.series.map(function(A,h){for(var u=0,p=0;p<A.length;p++)c.globals.seriesX[h][p]>n&&c.globals.seriesX[h][p]<i&&(u+=A[p]);return u})}},{key:"getPercentSeries",value:function(){var n=this.w;n.globals.seriesPercent=n.globals.series.map(function(i,c){var A=[];if(Array.isArray(i))for(var h=0;h<i.length;h++){var u=n.globals.stackedSeriesTotals[h],p=0;u&&(p=100*i[h]/u),A.push(p)}else{var x=100*i/n.globals.seriesTotals.reduce(function(k,F){return k+F},0);A.push(x)}return A})}},{key:"getCalculatedRatios",value:function(){var n,i,c,A=this,h=this.w,u=h.globals,p=[],x=0,k=[],F=.1,S=0;if(u.yRange=[],u.isMultipleYAxis)for(var P=0;P<u.minYArr.length;P++)u.yRange.push(Math.abs(u.minYArr[P]-u.maxYArr[P])),k.push(0);else u.yRange.push(Math.abs(u.minY-u.maxY));u.xRange=Math.abs(u.maxX-u.minX),u.zRange=Math.abs(u.maxZ-u.minZ);for(var O=0;O<u.yRange.length;O++)p.push(u.yRange[O]/u.gridHeight);if(i=u.xRange/u.gridWidth,n=u.yRange/u.gridWidth,c=u.xRange/u.gridHeight,(x=u.zRange/u.gridHeight*16)||(x=1),u.minY!==Number.MIN_VALUE&&Math.abs(u.minY)!==0&&(u.hasNegs=!0),h.globals.seriesYAxisReverseMap.length>0){var G=function(ee,re){var le=h.config.yaxis[h.globals.seriesYAxisReverseMap[re]],v=ee<0?-1:1;return ee=Math.abs(ee),le.logarithmic&&(ee=A.getBaseLog(le.logBase,ee)),-v*ee/p[re]};if(u.isMultipleYAxis){k=[];for(var V=0;V<p.length;V++)k.push(G(u.minYArr[V],V))}else(k=[]).push(G(u.minY,0)),u.minY!==Number.MIN_VALUE&&Math.abs(u.minY)!==0&&(F=-u.minY/n,S=u.minX/i)}else(k=[]).push(0),F=0,S=0;return{yRatio:p,invertedYRatio:n,zRatio:x,xRatio:i,invertedXRatio:c,baseLineInvertedY:F,baseLineY:k,baseLineX:S}}},{key:"getLogSeries",value:function(n){var i=this,c=this.w;return c.globals.seriesLog=n.map(function(A,h){var u=c.globals.seriesYAxisReverseMap[h];return c.config.yaxis[u]&&c.config.yaxis[u].logarithmic?A.map(function(p){return p===null?null:i.getLogVal(c.config.yaxis[u].logBase,p,h)}):A}),c.globals.invalidLogScale?n:c.globals.seriesLog}},{key:"getBaseLog",value:function(n,i){return Math.log(i)/Math.log(n)}},{key:"getLogVal",value:function(n,i,c){if(i<=0)return 0;var A=this.w,h=A.globals.minYArr[c]===0?-1:this.getBaseLog(n,A.globals.minYArr[c]),u=(A.globals.maxYArr[c]===0?0:this.getBaseLog(n,A.globals.maxYArr[c]))-h;return i<1?i/u:(this.getBaseLog(n,i)-h)/u}},{key:"getLogYRatios",value:function(n){var i=this,c=this.w,A=this.w.globals;return A.yLogRatio=n.slice(),A.logYRange=A.yRange.map(function(h,u){var p=c.globals.seriesYAxisReverseMap[u];if(c.config.yaxis[p]&&i.w.config.yaxis[p].logarithmic){var x,k=-Number.MAX_VALUE,F=Number.MIN_VALUE;return A.seriesLog.forEach(function(S,P){S.forEach(function(O){c.config.yaxis[P]&&c.config.yaxis[P].logarithmic&&(k=Math.max(O,k),F=Math.min(O,F))})}),x=Math.pow(A.yRange[u],Math.abs(F-k)/A.yRange[u]),A.yLogRatio[u]=x/A.gridHeight,x}}),A.invalidLogScale?n.slice():A.yLogRatio}},{key:"drawSeriesByGroup",value:function(n,i,c,A){var h=this.w,u=[];return n.series.length>0&&i.forEach(function(p){var x=[],k=[];n.i.forEach(function(F,S){h.config.series[F].group===p&&(x.push(n.series[S]),k.push(F))}),x.length>0&&u.push(A.draw(x,c,k))}),u}}],[{key:"checkComboSeries",value:function(n,i){var c=!1,A=0,h=0;return i===void 0&&(i="line"),n.length&&n[0].type!==void 0&&n.forEach(function(u){u.type!=="bar"&&u.type!=="column"&&u.type!=="candlestick"&&u.type!=="boxPlot"||A++,u.type!==void 0&&u.type!==i&&h++}),h>0&&(c=!0),{comboBarCount:A,comboCharts:c}}},{key:"extendArrayProps",value:function(n,i,c){var A,h,u,p,x,k;return(A=i)!==null&&A!==void 0&&A.yaxis&&(i=n.extendYAxis(i,c)),(h=i)!==null&&h!==void 0&&h.annotations&&(i.annotations.yaxis&&(i=n.extendYAxisAnnotations(i)),(u=i)!==null&&u!==void 0&&(p=u.annotations)!==null&&p!==void 0&&p.xaxis&&(i=n.extendXAxisAnnotations(i)),(x=i)!==null&&x!==void 0&&(k=x.annotations)!==null&&k!==void 0&&k.points&&(i=n.extendPointAnnotations(i))),i}}]),se}(),oe=function(){function se(n){o(this,se),this.w=n.w,this.annoCtx=n}return d(se,[{key:"setOrientations",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=this.w;if(n.label.orientation==="vertical"){var A=i!==null?i:0,h=c.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(A,"']"));if(h!==null){var u=h.getBoundingClientRect();h.setAttribute("x",parseFloat(h.getAttribute("x"))-u.height+4);var p=n.label.position==="top"?u.width:-u.width;h.setAttribute("y",parseFloat(h.getAttribute("y"))+p);var x=this.annoCtx.graphics.rotateAroundCenter(h),k=x.x,F=x.y;h.setAttribute("transform","rotate(-90 ".concat(k," ").concat(F,")"))}}}},{key:"addBackgroundToAnno",value:function(n,i){var c=this.w;if(!n||!i.label.text||!String(i.label.text).trim())return null;var A=c.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),h=n.getBoundingClientRect(),u=i.label.style.padding,p=u.left,x=u.right,k=u.top,F=u.bottom;if(i.label.orientation==="vertical"){var S=[p,x,k,F];k=S[0],F=S[1],p=S[2],x=S[3]}var P=h.left-A.left-p,O=h.top-A.top-k,G=this.annoCtx.graphics.drawRect(P-c.globals.barPadForNumericAxis,O,h.width+p+x,h.height+k+F,i.label.borderRadius,i.label.style.background,1,i.label.borderWidth,i.label.borderColor,0);return i.id&&G.node.classList.add(i.id),G}},{key:"annotationsBackground",value:function(){var n=this,i=this.w,c=function(A,h,u){var p=i.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-annotations .apexcharts-").concat(u,"-annotation-label[rel='").concat(h,"']"));if(p){var x=p.parentNode,k=n.addBackgroundToAnno(p,A);k&&(x.insertBefore(k.node,p),A.label.mouseEnter&&k.node.addEventListener("mouseenter",A.label.mouseEnter.bind(n,A)),A.label.mouseLeave&&k.node.addEventListener("mouseleave",A.label.mouseLeave.bind(n,A)),A.label.click&&k.node.addEventListener("click",A.label.click.bind(n,A)))}};i.config.annotations.xaxis.forEach(function(A,h){return c(A,h,"xaxis")}),i.config.annotations.yaxis.forEach(function(A,h){return c(A,h,"yaxis")}),i.config.annotations.points.forEach(function(A,h){return c(A,h,"point")})}},{key:"getY1Y2",value:function(n,i){var c,A=this.w,h=n==="y1"?i.y:i.y2,u=!1;if(this.annoCtx.invertAxis){var p=A.config.xaxis.convertedCatToNumeric?A.globals.categoryLabels:A.globals.labels,x=p.indexOf(h),k=A.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(x+1,")"));c=k?parseFloat(k.getAttribute("y")):(A.globals.gridHeight/p.length-1)*(x+1)-A.globals.barHeight,i.seriesIndex!==void 0&&A.globals.barHeight&&(c-=A.globals.barHeight/2*(A.globals.series.length-1)-A.globals.barHeight*i.seriesIndex)}else{var F,S=A.globals.seriesYAxisMap[i.yAxisIndex][0],P=A.config.yaxis[i.yAxisIndex].logarithmic?new ie(this.annoCtx.ctx).getLogVal(A.config.yaxis[i.yAxisIndex].logBase,h,S)/A.globals.yLogRatio[S]:(h-A.globals.minYArr[S])/(A.globals.yRange[S]/A.globals.gridHeight);c=A.globals.gridHeight-Math.min(Math.max(P,0),A.globals.gridHeight),u=P>A.globals.gridHeight||P<0,!i.marker||i.y!==void 0&&i.y!==null||(c=0),(F=A.config.yaxis[i.yAxisIndex])!==null&&F!==void 0&&F.reversed&&(c=P)}return typeof h=="string"&&h.includes("px")&&(c=parseFloat(h)),{yP:c,clipped:u}}},{key:"getX1X2",value:function(n,i){var c=this.w,A=n==="x1"?i.x:i.x2,h=this.annoCtx.invertAxis?c.globals.minY:c.globals.minX,u=this.annoCtx.invertAxis?c.globals.maxY:c.globals.maxX,p=this.annoCtx.invertAxis?c.globals.yRange[0]:c.globals.xRange,x=!1,k=this.annoCtx.inversedReversedAxis?(u-A)/(p/c.globals.gridWidth):(A-h)/(p/c.globals.gridWidth);return c.config.xaxis.type!=="category"&&!c.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||c.globals.dataFormatXNumeric||c.config.chart.sparkline.enabled||(k=this.getStringX(A)),typeof A=="string"&&A.includes("px")&&(k=parseFloat(A)),A==null&&i.marker&&(k=c.globals.gridWidth),i.seriesIndex!==void 0&&c.globals.barWidth&&!this.annoCtx.invertAxis&&(k-=c.globals.barWidth/2*(c.globals.series.length-1)-c.globals.barWidth*i.seriesIndex),k>c.globals.gridWidth?(k=c.globals.gridWidth,x=!0):k<0&&(k=0,x=!0),{x:k,clipped:x}}},{key:"getStringX",value:function(n){var i=this.w,c=n;i.config.xaxis.convertedCatToNumeric&&i.globals.categoryLabels.length&&(n=i.globals.categoryLabels.indexOf(n)+1);var A=i.globals.labels.map(function(u){return Array.isArray(u)?u.join(" "):u}).indexOf(n),h=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(A+1,")"));return h&&(c=parseFloat(h.getAttribute("x"))),c}}]),se}(),W=function(){function se(n){o(this,se),this.w=n.w,this.annoCtx=n,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new oe(this.annoCtx)}return d(se,[{key:"addXaxisAnnotation",value:function(n,i,c){var A,h=this.w,u=this.helpers.getX1X2("x1",n),p=u.x,x=u.clipped,k=!0,F=n.label.text,S=n.strokeDashArray;if(D.isNumber(p)){if(n.x2===null||n.x2===void 0){if(!x){var P=this.annoCtx.graphics.drawLine(p+n.offsetX,0+n.offsetY,p+n.offsetX,h.globals.gridHeight+n.offsetY,n.borderColor,S,n.borderWidth);i.appendChild(P.node),n.id&&P.node.classList.add(n.id)}}else{var O=this.helpers.getX1X2("x2",n);if(A=O.x,k=O.clipped,!x||!k){if(A<p){var G=p;p=A,A=G}var V=this.annoCtx.graphics.drawRect(p+n.offsetX,0+n.offsetY,A-p,h.globals.gridHeight+n.offsetY,0,n.fillColor,n.opacity,1,n.borderColor,S);V.node.classList.add("apexcharts-annotation-rect"),V.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),i.appendChild(V.node),n.id&&V.node.classList.add(n.id)}}if(!x||!k){var ee=this.annoCtx.graphics.getTextRects(F,parseFloat(n.label.style.fontSize)),re=n.label.position==="top"?4:n.label.position==="center"?h.globals.gridHeight/2+(n.label.orientation==="vertical"?ee.width/2:0):h.globals.gridHeight,le=this.annoCtx.graphics.drawText({x:p+n.label.offsetX,y:re+n.label.offsetY-(n.label.orientation==="vertical"?n.label.position==="top"?ee.width/2-12:-ee.width/2:0),text:F,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});le.attr({rel:c}),i.appendChild(le.node),this.annoCtx.helpers.setOrientations(n,c)}}}},{key:"drawXAxisAnnotations",value:function(){var n=this,i=this.w,c=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return i.config.annotations.xaxis.map(function(A,h){n.addXaxisAnnotation(A,c.node,h)}),c}}]),se}(),$=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return d(se,[{key:"isValidDate",value:function(n){return typeof n!="number"&&!isNaN(this.parseDate(n))}},{key:"getTimeStamp",value:function(n){return Date.parse(n)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toISOString().substr(0,25)).getTime():new Date(n).getTime():n}},{key:"getDate",value:function(n){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toUTCString()):new Date(n)}},{key:"parseDate",value:function(n){var i=Date.parse(n);if(!isNaN(i))return this.getTimeStamp(n);var c=Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "));return c=this.getTimeStamp(c)}},{key:"parseDateWithTimezone",value:function(n){return Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(n,i){var c=this.w.globals.locale,A=this.w.config.xaxis.labels.datetimeUTC,h=["\0"].concat(C(c.months)),u=[""].concat(C(c.shortMonths)),p=[""].concat(C(c.days)),x=[""].concat(C(c.shortDays));function k(me,Fe){var Ie=me+"";for(Fe=Fe||2;Ie.length<Fe;)Ie="0"+Ie;return Ie}var F=A?n.getUTCFullYear():n.getFullYear();i=(i=(i=i.replace(/(^|[^\\])yyyy+/g,"$1"+F)).replace(/(^|[^\\])yy/g,"$1"+F.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+F);var S=(A?n.getUTCMonth():n.getMonth())+1;i=(i=(i=(i=i.replace(/(^|[^\\])MMMM+/g,"$1"+h[0])).replace(/(^|[^\\])MMM/g,"$1"+u[0])).replace(/(^|[^\\])MM/g,"$1"+k(S))).replace(/(^|[^\\])M/g,"$1"+S);var P=A?n.getUTCDate():n.getDate();i=(i=(i=(i=i.replace(/(^|[^\\])dddd+/g,"$1"+p[0])).replace(/(^|[^\\])ddd/g,"$1"+x[0])).replace(/(^|[^\\])dd/g,"$1"+k(P))).replace(/(^|[^\\])d/g,"$1"+P);var O=A?n.getUTCHours():n.getHours(),G=O>12?O-12:O===0?12:O;i=(i=(i=(i=i.replace(/(^|[^\\])HH+/g,"$1"+k(O))).replace(/(^|[^\\])H/g,"$1"+O)).replace(/(^|[^\\])hh+/g,"$1"+k(G))).replace(/(^|[^\\])h/g,"$1"+G);var V=A?n.getUTCMinutes():n.getMinutes();i=(i=i.replace(/(^|[^\\])mm+/g,"$1"+k(V))).replace(/(^|[^\\])m/g,"$1"+V);var ee=A?n.getUTCSeconds():n.getSeconds();i=(i=i.replace(/(^|[^\\])ss+/g,"$1"+k(ee))).replace(/(^|[^\\])s/g,"$1"+ee);var re=A?n.getUTCMilliseconds():n.getMilliseconds();i=i.replace(/(^|[^\\])fff+/g,"$1"+k(re,3)),re=Math.round(re/10),i=i.replace(/(^|[^\\])ff/g,"$1"+k(re)),re=Math.round(re/10);var le=O<12?"AM":"PM";i=(i=(i=i.replace(/(^|[^\\])f/g,"$1"+re)).replace(/(^|[^\\])TT+/g,"$1"+le)).replace(/(^|[^\\])T/g,"$1"+le.charAt(0));var v=le.toLowerCase();i=(i=i.replace(/(^|[^\\])tt+/g,"$1"+v)).replace(/(^|[^\\])t/g,"$1"+v.charAt(0));var Q=-n.getTimezoneOffset(),K=A||!Q?"Z":Q>0?"+":"-";if(!A){var ge=(Q=Math.abs(Q))%60;K+=k(Math.floor(Q/60))+":"+k(ge)}i=i.replace(/(^|[^\\])K/g,"$1"+K);var ce=(A?n.getUTCDay():n.getDay())+1;return i=(i=(i=(i=(i=i.replace(new RegExp(p[0],"g"),p[ce])).replace(new RegExp(x[0],"g"),x[ce])).replace(new RegExp(h[0],"g"),h[S])).replace(new RegExp(u[0],"g"),u[S])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(n,i,c){var A=this.w;A.config.xaxis.min!==void 0&&(n=A.config.xaxis.min),A.config.xaxis.max!==void 0&&(i=A.config.xaxis.max);var h=this.getDate(n),u=this.getDate(i),p=this.formatDate(h,"yyyy MM dd HH mm ss fff").split(" "),x=this.formatDate(u,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(p[6],10),maxMillisecond:parseInt(x[6],10),minSecond:parseInt(p[5],10),maxSecond:parseInt(x[5],10),minMinute:parseInt(p[4],10),maxMinute:parseInt(x[4],10),minHour:parseInt(p[3],10),maxHour:parseInt(x[3],10),minDate:parseInt(p[2],10),maxDate:parseInt(x[2],10),minMonth:parseInt(p[1],10)-1,maxMonth:parseInt(x[1],10)-1,minYear:parseInt(p[0],10),maxYear:parseInt(x[0],10)}}},{key:"isLeapYear",value:function(n){return n%4==0&&n%100!=0||n%400==0}},{key:"calculcateLastDaysOfMonth",value:function(n,i,c){return this.determineDaysOfMonths(n,i)-c}},{key:"determineDaysOfYear",value:function(n){var i=365;return this.isLeapYear(n)&&(i=366),i}},{key:"determineRemainingDaysOfYear",value:function(n,i,c){var A=this.daysCntOfYear[i]+c;return i>1&&this.isLeapYear()&&A++,A}},{key:"determineDaysOfMonths",value:function(n,i){var c=30;switch(n=D.monthMod(n),!0){case this.months30.indexOf(n)>-1:n===2&&(c=this.isLeapYear(i)?29:28);break;case this.months31.indexOf(n)>-1:default:c=31}return c}}]),se}(),Z=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.tooltipKeyFormat="dd MMM"}return d(se,[{key:"xLabelFormat",value:function(n,i,c,A){var h=this.w;if(h.config.xaxis.type==="datetime"&&h.config.xaxis.labels.formatter===void 0&&h.config.tooltip.x.formatter===void 0){var u=new $(this.ctx);return u.formatDate(u.getDate(i),h.config.tooltip.x.format)}return n(i,c,A)}},{key:"defaultGeneralFormatter",value:function(n){return Array.isArray(n)?n.map(function(i){return i}):n}},{key:"defaultYFormatter",value:function(n,i,c){var A=this.w;if(D.isNumber(n))if(A.globals.yValueDecimal!==0)n=n.toFixed(i.decimalsInFloat!==void 0?i.decimalsInFloat:A.globals.yValueDecimal);else{var h=n.toFixed(0);n=n==h?h:n.toFixed(1)}return n}},{key:"setLabelFormatters",value:function(){var n=this,i=this.w;return i.globals.xaxisTooltipFormatter=function(c){return n.defaultGeneralFormatter(c)},i.globals.ttKeyFormatter=function(c){return n.defaultGeneralFormatter(c)},i.globals.ttZFormatter=function(c){return c},i.globals.legendFormatter=function(c){return n.defaultGeneralFormatter(c)},i.config.xaxis.labels.formatter!==void 0?i.globals.xLabelFormatter=i.config.xaxis.labels.formatter:i.globals.xLabelFormatter=function(c){if(D.isNumber(c)){if(!i.config.xaxis.convertedCatToNumeric&&i.config.xaxis.type==="numeric"){if(D.isNumber(i.config.xaxis.decimalsInFloat))return c.toFixed(i.config.xaxis.decimalsInFloat);var A=i.globals.maxX-i.globals.minX;return A>0&&A<100?c.toFixed(1):c.toFixed(0)}return i.globals.isBarHorizontal&&i.globals.maxY-i.globals.minYArr<4?c.toFixed(1):c.toFixed(0)}return c},typeof i.config.tooltip.x.formatter=="function"?i.globals.ttKeyFormatter=i.config.tooltip.x.formatter:i.globals.ttKeyFormatter=i.globals.xLabelFormatter,typeof i.config.xaxis.tooltip.formatter=="function"&&(i.globals.xaxisTooltipFormatter=i.config.xaxis.tooltip.formatter),(Array.isArray(i.config.tooltip.y)||i.config.tooltip.y.formatter!==void 0)&&(i.globals.ttVal=i.config.tooltip.y),i.config.tooltip.z.formatter!==void 0&&(i.globals.ttZFormatter=i.config.tooltip.z.formatter),i.config.legend.formatter!==void 0&&(i.globals.legendFormatter=i.config.legend.formatter),i.config.yaxis.forEach(function(c,A){c.labels.formatter!==void 0?i.globals.yLabelFormatters[A]=c.labels.formatter:i.globals.yLabelFormatters[A]=function(h){return i.globals.xyCharts?Array.isArray(h)?h.map(function(u){return n.defaultYFormatter(u,c,A)}):n.defaultYFormatter(h,c,A):h}}),i.globals}},{key:"heatmapLabelFormatters",value:function(){var n=this.w;if(n.config.chart.type==="heatmap"){n.globals.yAxisScale[0].result=n.globals.seriesNames.slice();var i=n.globals.seriesNames.reduce(function(c,A){return c.length>A.length?c:A},0);n.globals.yAxisScale[0].niceMax=i,n.globals.yAxisScale[0].niceMin=i}}}]),se}(),J=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"getLabel",value:function(n,i,c,A){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",p=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],x=this.w,k=n[A]===void 0?"":n[A],F=k,S=x.globals.xLabelFormatter,P=x.config.xaxis.labels.formatter,O=!1,G=new Z(this.ctx),V=k;p&&(F=G.xLabelFormat(S,k,V,{i:A,dateFormatter:new $(this.ctx).formatDate,w:x}),P!==void 0&&(F=P(k,n[A],{i:A,dateFormatter:new $(this.ctx).formatDate,w:x})));var ee,re;i.length>0?(ee=i[A].unit,re=null,i.forEach(function(K){K.unit==="month"?re="year":K.unit==="day"?re="month":K.unit==="hour"?re="day":K.unit==="minute"&&(re="hour")}),O=re===ee,c=i[A].position,F=i[A].value):x.config.xaxis.type==="datetime"&&P===void 0&&(F=""),F===void 0&&(F=""),F=Array.isArray(F)?F:F.toString();var le=new _(this.ctx),v={};v=x.globals.rotateXLabels&&p?le.getTextRects(F,parseInt(u,10),null,"rotate(".concat(x.config.xaxis.labels.rotate," 0 0)"),!1):le.getTextRects(F,parseInt(u,10));var Q=!x.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(F)&&(String(F)==="NaN"||h.indexOf(F)>=0&&Q)&&(F=""),{x:c,text:F,textRect:v,isBold:O}}},{key:"checkLabelBasedOnTickamount",value:function(n,i,c){var A=this.w,h=A.config.xaxis.tickAmount;return h==="dataPoints"&&(h=Math.round(A.globals.gridWidth/120)),h>c||n%Math.round(c/(h+1))==0||(i.text=""),i}},{key:"checkForOverflowingLabels",value:function(n,i,c,A,h){var u=this.w;if(n===0&&u.globals.skipFirstTimelinelabel&&(i.text=""),n===c-1&&u.globals.skipLastTimelinelabel&&(i.text=""),u.config.xaxis.labels.hideOverlappingLabels&&A.length>0){var p=h[h.length-1];i.x<p.textRect.width/(u.globals.rotateXLabels?Math.abs(u.config.xaxis.labels.rotate)/12:1.01)+p.x&&(i.text="")}return i}},{key:"checkForReversedLabels",value:function(n,i){var c=this.w;return c.config.yaxis[n]&&c.config.yaxis[n].reversed&&i.reverse(),i}},{key:"yAxisAllSeriesCollapsed",value:function(n){var i=this.w.globals;return!i.seriesYAxisMap[n].some(function(c){return i.collapsedSeriesIndices.indexOf(c)===-1})}},{key:"translateYAxisIndex",value:function(n){var i=this.w,c=i.globals,A=i.config.yaxis;return c.series.length>A.length||A.some(function(h){return Array.isArray(h.seriesName)})?n:c.seriesYAxisReverseMap[n]}},{key:"isYAxisHidden",value:function(n){var i=this.w,c=i.config.yaxis[n];if(!c.show||this.yAxisAllSeriesCollapsed(n))return!0;if(!c.showForNullSeries){var A=i.globals.seriesYAxisMap[n],h=new ie(this.ctx);return A.every(function(u){return h.isSeriesNull(u)})}return!1}},{key:"getYAxisForeColor",value:function(n,i){var c=this.w;return Array.isArray(n)&&c.globals.yAxisScale[i]&&this.ctx.theme.pushExtraColors(n,c.globals.yAxisScale[i].result.length,!1),n}},{key:"drawYAxisTicks",value:function(n,i,c,A,h,u,p){var x=this.w,k=new _(this.ctx),F=x.globals.translateY+x.config.yaxis[h].labels.offsetY;if(x.globals.isBarHorizontal?F=0:x.config.chart.type==="heatmap"&&(F+=u/2),A.show&&i>0){x.config.yaxis[h].opposite===!0&&(n+=A.width);for(var S=i;S>=0;S--){var P=k.drawLine(n+c.offsetX-A.width+A.offsetX,F+A.offsetY,n+c.offsetX+A.offsetX,F+A.offsetY,A.color);p.add(P),F+=u}}}}]),se}(),ne=function(){function se(n){o(this,se),this.w=n.w,this.annoCtx=n,this.helpers=new oe(this.annoCtx),this.axesUtils=new J(this.annoCtx)}return d(se,[{key:"addYaxisAnnotation",value:function(n,i,c){var A,h=this.w,u=n.strokeDashArray,p=this.helpers.getY1Y2("y1",n),x=p.yP,k=p.clipped,F=!0,S=!1,P=n.label.text;if(n.y2===null||n.y2===void 0){if(!k){S=!0;var O=this.annoCtx.graphics.drawLine(0+n.offsetX,x+n.offsetY,this._getYAxisAnnotationWidth(n),x+n.offsetY,n.borderColor,u,n.borderWidth);i.appendChild(O.node),n.id&&O.node.classList.add(n.id)}}else{if(A=(p=this.helpers.getY1Y2("y2",n)).yP,F=p.clipped,A>x){var G=x;x=A,A=G}if(!k||!F){S=!0;var V=this.annoCtx.graphics.drawRect(0+n.offsetX,A+n.offsetY,this._getYAxisAnnotationWidth(n),x-A,0,n.fillColor,n.opacity,1,n.borderColor,u);V.node.classList.add("apexcharts-annotation-rect"),V.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),i.appendChild(V.node),n.id&&V.node.classList.add(n.id)}}if(S){var ee=n.label.position==="right"?h.globals.gridWidth:n.label.position==="center"?h.globals.gridWidth/2:0,re=this.annoCtx.graphics.drawText({x:ee+n.label.offsetX,y:(A??x)+n.label.offsetY-3,text:P,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});re.attr({rel:c}),i.appendChild(re.node)}}},{key:"_getYAxisAnnotationWidth",value:function(n){var i=this.w;return i.globals.gridWidth,(n.width.indexOf("%")>-1?i.globals.gridWidth*parseInt(n.width,10)/100:parseInt(n.width,10))+n.offsetX}},{key:"drawYAxisAnnotations",value:function(){var n=this,i=this.w,c=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return i.config.annotations.yaxis.forEach(function(A,h){A.yAxisIndex=n.axesUtils.translateYAxisIndex(A.yAxisIndex),n.axesUtils.isYAxisHidden(A.yAxisIndex)&&n.axesUtils.yAxisAllSeriesCollapsed(A.yAxisIndex)||n.addYaxisAnnotation(A,c.node,h)}),c}}]),se}(),te=function(){function se(n){o(this,se),this.w=n.w,this.annoCtx=n,this.helpers=new oe(this.annoCtx)}return d(se,[{key:"addPointAnnotation",value:function(n,i,c){if(!(this.w.globals.collapsedSeriesIndices.indexOf(n.seriesIndex)>-1)){var A=this.helpers.getX1X2("x1",n),h=A.x,u=A.clipped,p=(A=this.helpers.getY1Y2("y1",n)).yP,x=A.clipped;if(D.isNumber(h)&&!x&&!u){var k={pSize:n.marker.size,pointStrokeWidth:n.marker.strokeWidth,pointFillColor:n.marker.fillColor,pointStrokeColor:n.marker.strokeColor,shape:n.marker.shape,pRadius:n.marker.radius,class:"apexcharts-point-annotation-marker ".concat(n.marker.cssClass," ").concat(n.id?n.id:"")},F=this.annoCtx.graphics.drawMarker(h+n.marker.offsetX,p+n.marker.offsetY,k);i.appendChild(F.node);var S=n.label.text?n.label.text:"",P=this.annoCtx.graphics.drawText({x:h+n.label.offsetX,y:p+n.label.offsetY-n.marker.size-parseFloat(n.label.style.fontSize)/1.6,text:S,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});if(P.attr({rel:c}),i.appendChild(P.node),n.customSVG.SVG){var O=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+n.customSVG.cssClass});O.attr({transform:"translate(".concat(h+n.customSVG.offsetX,", ").concat(p+n.customSVG.offsetY,")")}),O.node.innerHTML=n.customSVG.SVG,i.appendChild(O.node)}if(n.image.path){var G=n.image.width?n.image.width:20,V=n.image.height?n.image.height:20;F=this.annoCtx.addImage({x:h+n.image.offsetX-G/2,y:p+n.image.offsetY-V/2,width:G,height:V,path:n.image.path,appendTo:".apexcharts-point-annotations"})}n.mouseEnter&&F.node.addEventListener("mouseenter",n.mouseEnter.bind(this,n)),n.mouseLeave&&F.node.addEventListener("mouseleave",n.mouseLeave.bind(this,n)),n.click&&F.node.addEventListener("click",n.click.bind(this,n))}}}},{key:"drawPointAnnotations",value:function(){var n=this,i=this.w,c=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return i.config.annotations.points.map(function(A,h){n.addPointAnnotation(A,c.node,h)}),c}}]),se}(),Be={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},fe=function(){function se(){o(this,se),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return d(se,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[Be],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(n){return n}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(n){return n+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce(function(i,c){return i+c},0)/n.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(n){return n},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(n){return n}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(n){return n}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce(function(i,c){return i+c},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(n){return n!==null?n:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(n){return n?n+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),se}(),je=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.graphics=new _(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new oe(this),this.xAxisAnnotations=new W(this),this.yAxisAnnotations=new ne(this),this.pointsAnnotations=new te(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return d(se,[{key:"drawAxesAnnotations",value:function(){var n=this.w;if(n.globals.axisCharts&&n.globals.dataPoints){for(var i=this.yAxisAnnotations.drawYAxisAnnotations(),c=this.xAxisAnnotations.drawXAxisAnnotations(),A=this.pointsAnnotations.drawPointAnnotations(),h=n.config.chart.animations.enabled,u=[i,c,A],p=[c.node,i.node,A.node],x=0;x<3;x++)n.globals.dom.elGraphical.add(u[x]),!h||n.globals.resized||n.globals.dataChanged||n.config.chart.type!=="scatter"&&n.config.chart.type!=="bubble"&&n.globals.dataPoints>1&&p[x].classList.add("apexcharts-element-hidden"),n.globals.delayedElements.push({el:p[x],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var n=this;this.w.config.annotations.images.map(function(i,c){n.addImage(i,c)})}},{key:"drawTextAnnos",value:function(){var n=this;this.w.config.annotations.texts.map(function(i,c){n.addText(i,c)})}},{key:"addXaxisAnnotation",value:function(n,i,c){this.xAxisAnnotations.addXaxisAnnotation(n,i,c)}},{key:"addYaxisAnnotation",value:function(n,i,c){this.yAxisAnnotations.addYaxisAnnotation(n,i,c)}},{key:"addPointAnnotation",value:function(n,i,c){this.pointsAnnotations.addPointAnnotation(n,i,c)}},{key:"addText",value:function(n,i){var c=n.x,A=n.y,h=n.text,u=n.textAnchor,p=n.foreColor,x=n.fontSize,k=n.fontFamily,F=n.fontWeight,S=n.cssClass,P=n.backgroundColor,O=n.borderWidth,G=n.strokeDashArray,V=n.borderRadius,ee=n.borderColor,re=n.appendTo,le=re===void 0?".apexcharts-svg":re,v=n.paddingLeft,Q=v===void 0?4:v,K=n.paddingRight,ge=K===void 0?4:K,ce=n.paddingBottom,me=ce===void 0?2:ce,Fe=n.paddingTop,Ie=Fe===void 0?2:Fe,ze=this.w,Ze=this.graphics.drawText({x:c,y:A,text:h,textAnchor:u||"start",fontSize:x||"12px",fontWeight:F||"regular",fontFamily:k||ze.config.chart.fontFamily,foreColor:p||ze.config.chart.foreColor,cssClass:S}),Ke=ze.globals.dom.baseEl.querySelector(le);Ke&&Ke.appendChild(Ze.node);var et=Ze.bbox();if(h){var ct=this.graphics.drawRect(et.x-Q,et.y-Ie,et.width+Q+ge,et.height+me+Ie,V,P||"transparent",1,O,ee,G);Ke.insertBefore(ct.node,Ze.node)}}},{key:"addImage",value:function(n,i){var c=this.w,A=n.path,h=n.x,u=h===void 0?0:h,p=n.y,x=p===void 0?0:p,k=n.width,F=k===void 0?20:k,S=n.height,P=S===void 0?20:S,O=n.appendTo,G=O===void 0?".apexcharts-svg":O,V=c.globals.dom.Paper.image(A);V.size(F,P).move(u,x);var ee=c.globals.dom.baseEl.querySelector(G);return ee&&ee.appendChild(V.node),V}},{key:"addXaxisAnnotationExternal",value:function(n,i,c){return this.addAnnotationExternal({params:n,pushToMemory:i,context:c,type:"xaxis",contextMethod:c.addXaxisAnnotation}),c}},{key:"addYaxisAnnotationExternal",value:function(n,i,c){return this.addAnnotationExternal({params:n,pushToMemory:i,context:c,type:"yaxis",contextMethod:c.addYaxisAnnotation}),c}},{key:"addPointAnnotationExternal",value:function(n,i,c){return this.invertAxis===void 0&&(this.invertAxis=c.w.globals.isBarHorizontal),this.addAnnotationExternal({params:n,pushToMemory:i,context:c,type:"point",contextMethod:c.addPointAnnotation}),c}},{key:"addAnnotationExternal",value:function(n){var i=n.params,c=n.pushToMemory,A=n.context,h=n.type,u=n.contextMethod,p=A,x=p.w,k=x.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations")),F=k.childNodes.length+1,S=new fe,P=Object.assign({},h==="xaxis"?S.xAxisAnnotation:h==="yaxis"?S.yAxisAnnotation:S.pointAnnotation),O=D.extend(P,i);switch(h){case"xaxis":this.addXaxisAnnotation(O,k,F);break;case"yaxis":this.addYaxisAnnotation(O,k,F);break;case"point":this.addPointAnnotation(O,k,F)}var G=x.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations .apexcharts-").concat(h,"-annotation-label[rel='").concat(F,"']")),V=this.helpers.addBackgroundToAnno(G,O);return V&&k.insertBefore(V.node,G),c&&x.globals.memory.methodsToExec.push({context:p,id:O.id?O.id:D.randomId(),method:u,label:"addAnnotation",params:i}),A}},{key:"clearAnnotations",value:function(n){for(var i=n.w,c=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),A=i.globals.memory.methodsToExec.length-1;A>=0;A--)i.globals.memory.methodsToExec[A].label!=="addText"&&i.globals.memory.methodsToExec[A].label!=="addAnnotation"||i.globals.memory.methodsToExec.splice(A,1);c=D.listToArray(c),Array.prototype.forEach.call(c,function(h){for(;h.firstChild;)h.removeChild(h.firstChild)})}},{key:"removeAnnotation",value:function(n,i){var c=n.w,A=c.globals.dom.baseEl.querySelectorAll(".".concat(i));A&&(c.globals.memory.methodsToExec.map(function(h,u){h.id===i&&c.globals.memory.methodsToExec.splice(u,1)}),Array.prototype.forEach.call(A,function(h){h.parentElement.removeChild(h)}))}}]),se}(),Ce=function(se){var n,i=se.isTimeline,c=se.ctx,A=se.seriesIndex,h=se.dataPointIndex,u=se.y1,p=se.y2,x=se.w,k=x.globals.seriesRangeStart[A][h],F=x.globals.seriesRangeEnd[A][h],S=x.globals.labels[h],P=x.config.series[A].name?x.config.series[A].name:"",O=x.globals.ttKeyFormatter,G=x.config.tooltip.y.title.formatter,V={w:x,seriesIndex:A,dataPointIndex:h,start:k,end:F};typeof G=="function"&&(P=G(P,V)),(n=x.config.series[A].data[h])!==null&&n!==void 0&&n.x&&(S=x.config.series[A].data[h].x),i||x.config.xaxis.type==="datetime"&&(S=new Z(c).xLabelFormat(x.globals.ttKeyFormatter,S,S,{i:void 0,dateFormatter:new $(c).formatDate,w:x})),typeof O=="function"&&(S=O(S,V)),Number.isFinite(u)&&Number.isFinite(p)&&(k=u,F=p);var ee="",re="",le=x.globals.colors[A];if(x.config.tooltip.x.formatter===void 0)if(x.config.xaxis.type==="datetime"){var v=new $(c);ee=v.formatDate(v.getDate(k),x.config.tooltip.x.format),re=v.formatDate(v.getDate(F),x.config.tooltip.x.format)}else ee=k,re=F;else ee=x.config.tooltip.x.formatter(k),re=x.config.tooltip.x.formatter(F);return{start:k,end:F,startVal:ee,endVal:re,ylabel:S,color:le,seriesName:P}},Me=function(se){var n=se.color,i=se.seriesName,c=se.ylabel,A=se.start,h=se.end,u=se.seriesIndex,p=se.dataPointIndex,x=se.ctx.tooltip.tooltipLabels.getFormatters(u);A=x.yLbFormatter(A),h=x.yLbFormatter(h);var k=x.yLbFormatter(se.w.globals.series[u][p]),F=`<span class="value start-value">
  `.concat(A,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(h,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+n+'">'+(i||"")+'</span></div><div> <span class="category">'+c+": </span> "+(se.w.globals.comboCharts?se.w.config.series[u].type==="rangeArea"||se.w.config.series[u].type==="rangeBar"?F:"<span>".concat(k,"</span>"):F)+" </div></div>"},Ae=function(){function se(n){o(this,se),this.opts=n}return d(se,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(n){return this.hideYAxis(),D.extend(n,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(n,i){var c=i.w.config.series[i.seriesIndex].name;return n!==null?c+": "+n:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),U(U({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var n=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(i){var c=i.seriesIndex,A=i.dataPointIndex,h=i.w;return n._getBoxTooltip(h,c,A,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var n=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(i){var c=i.seriesIndex,A=i.dataPointIndex,h=i.w;return n._getBoxTooltip(h,c,A,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(n,i){i.ctx;var c=i.seriesIndex,A=i.dataPointIndex,h=i.w,u=function(){var p=h.globals.seriesRangeStart[c][A];return h.globals.seriesRangeEnd[c][A]-p};return h.globals.comboCharts?h.config.series[c].type==="rangeBar"||h.config.series[c].type==="rangeArea"?u():n:u()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(n){return n.w.config.plotOptions&&n.w.config.plotOptions.bar&&n.w.config.plotOptions.bar.horizontal?function(i){var c=Ce(U(U({},i),{},{isTimeline:!0})),A=c.color,h=c.seriesName,u=c.ylabel,p=c.startVal,x=c.endVal;return Me(U(U({},i),{},{color:A,seriesName:h,ylabel:u,start:p,end:x}))}(n):function(i){var c=Ce(i),A=c.color,h=c.seriesName,u=c.ylabel,p=c.start,x=c.end;return Me(U(U({},i),{},{color:A,seriesName:h,ylabel:u,start:p,end:x}))}(n)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(n){var i,c;return(i=n.plotOptions.bar)!==null&&i!==void 0&&i.barHeight||(n.plotOptions.bar.barHeight=2),(c=n.plotOptions.bar)!==null&&c!==void 0&&c.columnWidth||(n.plotOptions.bar.columnWidth=2),n}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(n){return function(i){var c=Ce(i),A=c.color,h=c.seriesName,u=c.ylabel,p=c.start,x=c.end;return Me(U(U({},i),{},{color:A,seriesName:h,ylabel:u,start:p,end:x}))}(n)}}}}},{key:"brush",value:function(n){return D.extend(n,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(n){n.dataLabels=n.dataLabels||{},n.dataLabels.formatter=n.dataLabels.formatter||void 0;var i=n.dataLabels.formatter;return n.yaxis.forEach(function(c,A){n.yaxis[A].min=0,n.yaxis[A].max=100}),n.chart.type==="bar"&&(n.dataLabels.formatter=i||function(c){return typeof c=="number"&&c?c.toFixed(0)+"%":c}),n}},{key:"stackedBars",value:function(){var n=this.bar();return U(U({},n),{},{plotOptions:U(U({},n.plotOptions),{},{bar:U(U({},n.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(n){return n.xaxis.convertedCatToNumeric=!0,n}},{key:"convertCatToNumericXaxis",value:function(n,i,c){n.xaxis.type="numeric",n.xaxis.labels=n.xaxis.labels||{},n.xaxis.labels.formatter=n.xaxis.labels.formatter||function(u){return D.isNumber(u)?Math.floor(u):u};var A=n.xaxis.labels.formatter,h=n.xaxis.categories&&n.xaxis.categories.length?n.xaxis.categories:n.labels;return c&&c.length&&(h=c.map(function(u){return Array.isArray(u)?u:String(u)})),h&&h.length&&(n.xaxis.labels.formatter=function(u){return D.isNumber(u)?A(h[Math.floor(u)-1]):A(u)}),n.xaxis.categories=[],n.labels=[],n.xaxis.tickAmount=n.xaxis.tickAmount||"dataPoints",n}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(n){return n},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(n,i,c,A,h){var u=n.globals.seriesCandleO[i][c],p=n.globals.seriesCandleH[i][c],x=n.globals.seriesCandleM[i][c],k=n.globals.seriesCandleL[i][c],F=n.globals.seriesCandleC[i][c];return n.config.series[i].type&&n.config.series[i].type!==h?`<div class="apexcharts-custom-tooltip">
          `.concat(n.config.series[i].name?n.config.series[i].name:"series-"+(i+1),": <strong>").concat(n.globals.series[i][c],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(n.config.chart.type,'">')+"<div>".concat(A[0],': <span class="value">')+u+"</span></div>"+"<div>".concat(A[1],': <span class="value">')+p+"</span></div>"+(x?"<div>".concat(A[2],': <span class="value">')+x+"</span></div>":"")+"<div>".concat(A[3],': <span class="value">')+k+"</span></div>"+"<div>".concat(A[4],': <span class="value">')+F+"</span></div></div>"}}]),se}(),he=function(){function se(n){o(this,se),this.opts=n}return d(se,[{key:"init",value:function(n){var i=n.responsiveOverride,c=this.opts,A=new fe,h=new Ae(c);this.chartType=c.chart.type,c=this.extendYAxis(c),c=this.extendAnnotations(c);var u=A.init(),p={};if(c&&T(c)==="object"){var x,k,F,S,P,O,G,V,ee,re,le={};le=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(c.chart.type)!==-1?h[c.chart.type]():h.line(),(x=c.plotOptions)!==null&&x!==void 0&&(k=x.bar)!==null&&k!==void 0&&k.isFunnel&&(le=h.funnel()),c.chart.stacked&&c.chart.type==="bar"&&(le=h.stackedBars()),(F=c.chart.brush)!==null&&F!==void 0&&F.enabled&&(le=h.brush(le)),(S=c.plotOptions)!==null&&S!==void 0&&(P=S.line)!==null&&P!==void 0&&P.isSlopeChart&&(le=h.slope()),c.chart.stacked&&c.chart.stackType==="100%"&&(c=h.stacked100(c)),(O=c.plotOptions)!==null&&O!==void 0&&(G=O.bar)!==null&&G!==void 0&&G.isDumbbell&&(c=h.dumbbell(c)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(c),c.xaxis=c.xaxis||window.Apex.xaxis||{},i||(c.xaxis.convertedCatToNumeric=!1),((V=(c=this.checkForCatToNumericXAxis(this.chartType,le,c)).chart.sparkline)!==null&&V!==void 0&&V.enabled||(ee=window.Apex.chart)!==null&&ee!==void 0&&(re=ee.sparkline)!==null&&re!==void 0&&re.enabled)&&(le=h.sparkline(le)),p=D.extend(u,le)}var v=D.extend(p,window.Apex);return u=D.extend(v,c),u=this.handleUserInputErrors(u)}},{key:"checkForCatToNumericXAxis",value:function(n,i,c){var A,h,u=new Ae(c),p=(n==="bar"||n==="boxPlot")&&((A=c.plotOptions)===null||A===void 0||(h=A.bar)===null||h===void 0?void 0:h.horizontal),x=n==="pie"||n==="polarArea"||n==="donut"||n==="radar"||n==="radialBar"||n==="heatmap",k=c.xaxis.type!=="datetime"&&c.xaxis.type!=="numeric",F=c.xaxis.tickPlacement?c.xaxis.tickPlacement:i.xaxis&&i.xaxis.tickPlacement;return p||x||!k||F==="between"||(c=u.convertCatToNumeric(c)),c}},{key:"extendYAxis",value:function(n,i){var c=new fe;(n.yaxis===void 0||!n.yaxis||Array.isArray(n.yaxis)&&n.yaxis.length===0)&&(n.yaxis={}),n.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(n.yaxis=D.extend(n.yaxis,window.Apex.yaxis)),n.yaxis.constructor!==Array?n.yaxis=[D.extend(c.yAxis,n.yaxis)]:n.yaxis=D.extendArray(n.yaxis,c.yAxis);var A=!1;n.yaxis.forEach(function(u){u.logarithmic&&(A=!0)});var h=n.series;return i&&!h&&(h=i.config.series),A&&h.length!==n.yaxis.length&&h.length&&(n.yaxis=h.map(function(u,p){if(u.name||(h[p].name="series-".concat(p+1)),n.yaxis[p])return n.yaxis[p].seriesName=h[p].name,n.yaxis[p];var x=D.extend(c.yAxis,n.yaxis[0]);return x.show=!1,x})),A&&h.length>1&&h.length!==n.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),n}},{key:"extendAnnotations",value:function(n){return n.annotations===void 0&&(n.annotations={},n.annotations.yaxis=[],n.annotations.xaxis=[],n.annotations.points=[]),n=this.extendYAxisAnnotations(n),n=this.extendXAxisAnnotations(n),n=this.extendPointAnnotations(n)}},{key:"extendYAxisAnnotations",value:function(n){var i=new fe;return n.annotations.yaxis=D.extendArray(n.annotations.yaxis!==void 0?n.annotations.yaxis:[],i.yAxisAnnotation),n}},{key:"extendXAxisAnnotations",value:function(n){var i=new fe;return n.annotations.xaxis=D.extendArray(n.annotations.xaxis!==void 0?n.annotations.xaxis:[],i.xAxisAnnotation),n}},{key:"extendPointAnnotations",value:function(n){var i=new fe;return n.annotations.points=D.extendArray(n.annotations.points!==void 0?n.annotations.points:[],i.pointAnnotation),n}},{key:"checkForDarkTheme",value:function(n){n.theme&&n.theme.mode==="dark"&&(n.tooltip||(n.tooltip={}),n.tooltip.theme!=="light"&&(n.tooltip.theme="dark"),n.chart.foreColor||(n.chart.foreColor="#f6f7f8"),n.theme.palette||(n.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(n){var i=n;if(i.tooltip.shared&&i.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(i.chart.type==="bar"&&i.plotOptions.bar.horizontal){if(i.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");i.yaxis[0].reversed&&(i.yaxis[0].opposite=!0),i.xaxis.tooltip.enabled=!1,i.yaxis[0].tooltip.enabled=!1,i.chart.zoom.enabled=!1}return i.chart.type!=="bar"&&i.chart.type!=="rangeBar"||i.tooltip.shared&&i.xaxis.crosshairs.width==="barWidth"&&i.series.length>1&&(i.xaxis.crosshairs.width="tickWidth"),i.chart.type!=="candlestick"&&i.chart.type!=="boxPlot"||i.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(i.chart.type," chart is not supported.")),i.yaxis[0].reversed=!1),i}}]),se}(),ke=function(){function se(){o(this,se)}return d(se,[{key:"initGlobalVars",value:function(n){n.series=[],n.seriesCandleO=[],n.seriesCandleH=[],n.seriesCandleM=[],n.seriesCandleL=[],n.seriesCandleC=[],n.seriesRangeStart=[],n.seriesRangeEnd=[],n.seriesRange=[],n.seriesPercent=[],n.seriesGoals=[],n.seriesX=[],n.seriesZ=[],n.seriesNames=[],n.seriesTotals=[],n.seriesLog=[],n.seriesColors=[],n.stackedSeriesTotals=[],n.seriesXvalues=[],n.seriesYvalues=[],n.labels=[],n.hasXaxisGroups=!1,n.groups=[],n.barGroups=[],n.lineGroups=[],n.areaGroups=[],n.hasSeriesGroups=!1,n.seriesGroups=[],n.categoryLabels=[],n.timescaleLabels=[],n.noLabelsProvided=!1,n.resizeTimer=null,n.selectionResizeTimer=null,n.lastWheelExecution=0,n.delayedElements=[],n.pointsArray=[],n.dataLabelsRects=[],n.isXNumeric=!1,n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1,n.isDataXYZ=!1,n.isMultiLineX=!1,n.isMultipleYAxis=!1,n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE,n.minYArr=[],n.maxYArr=[],n.maxX=-Number.MAX_VALUE,n.minX=Number.MAX_VALUE,n.initialMaxX=-Number.MAX_VALUE,n.initialMinX=Number.MAX_VALUE,n.maxDate=0,n.minDate=Number.MAX_VALUE,n.minZ=Number.MAX_VALUE,n.maxZ=-Number.MAX_VALUE,n.minXDiff=Number.MAX_VALUE,n.yAxisScale=[],n.xAxisScale=null,n.xAxisTicksPositions=[],n.yLabelsCoords=[],n.yTitleCoords=[],n.barPadForNumericAxis=0,n.padHorizontal=0,n.xRange=0,n.yRange=[],n.zRange=0,n.dataPoints=0,n.xTickAmount=0,n.multiAxisTickAmount=0}},{key:"globalVars",value:function(n){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:n.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:n.chart.toolbar.autoSelected==="zoom"&&n.chart.toolbar.tools.zoom&&n.chart.zoom.enabled,panEnabled:n.chart.toolbar.autoSelected==="pan"&&n.chart.toolbar.tools.pan,selectionEnabled:n.chart.toolbar.autoSelected==="selection"&&n.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:n.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(n){var i=this.globalVars(n);return this.initGlobalVars(i),i.initialConfig=D.extend({},n),i.initialSeries=D.clone(n.series),i.lastXAxis=D.clone(i.initialConfig.xaxis),i.lastYAxis=D.clone(i.initialConfig.yaxis),i}}]),se}(),Le=function(){function se(n){o(this,se),this.opts=n}return d(se,[{key:"init",value:function(){var n=new he(this.opts).init({responsiveOverride:!1});return{config:n,globals:new ke().init(n)}}}]),se}(),Pe=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return d(se,[{key:"clippedImgArea",value:function(n){var i=this.w,c=i.config,A=parseInt(i.globals.gridWidth,10),h=parseInt(i.globals.gridHeight,10),u=A>h?A:h,p=n.image,x=0,k=0;n.width===void 0&&n.height===void 0?c.fill.image.width!==void 0&&c.fill.image.height!==void 0?(x=c.fill.image.width+1,k=c.fill.image.height):(x=u+1,k=u):(x=n.width,k=n.height);var F=document.createElementNS(i.globals.SVGNS,"pattern");_.setAttrs(F,{id:n.patternID,patternUnits:n.patternUnits?n.patternUnits:"userSpaceOnUse",width:x+"px",height:k+"px"});var S=document.createElementNS(i.globals.SVGNS,"image");F.appendChild(S),S.setAttributeNS(window.SVG.xlink,"href",p),_.setAttrs(S,{x:0,y:0,preserveAspectRatio:"none",width:x+"px",height:k+"px"}),S.style.opacity=n.opacity,i.globals.dom.elDefs.node.appendChild(F)}},{key:"getSeriesIndex",value:function(n){var i=this.w,c=i.config.chart.type;return(c==="bar"||c==="rangeBar")&&i.config.plotOptions.bar.distributed||c==="heatmap"||c==="treemap"?this.seriesIndex=n.seriesNumber:this.seriesIndex=n.seriesNumber%i.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(n){var i=this.w;this.opts=n;var c,A,h,u=this.w.config;this.seriesIndex=this.getSeriesIndex(n);var p=this.getFillColors()[this.seriesIndex];i.globals.seriesColors[this.seriesIndex]!==void 0&&(p=i.globals.seriesColors[this.seriesIndex]),typeof p=="function"&&(p=p({seriesIndex:this.seriesIndex,dataPointIndex:n.dataPointIndex,value:n.value,w:i}));var x=n.fillType?n.fillType:this.getFillType(this.seriesIndex),k=Array.isArray(u.fill.opacity)?u.fill.opacity[this.seriesIndex]:u.fill.opacity;n.color&&(p=n.color),p||(p="#fff",console.warn("undefined color - ApexCharts"));var F=p;if(p.indexOf("rgb")===-1?p.length<9&&(F=D.hexToRgba(p,k)):p.indexOf("rgba")>-1&&(k=D.getOpacityFromRGBA(p)),n.opacity&&(k=n.opacity),x==="pattern"&&(A=this.handlePatternFill({fillConfig:n.fillConfig,patternFill:A,fillColor:p,fillOpacity:k,defaultColor:F})),x==="gradient"&&(h=this.handleGradientFill({fillConfig:n.fillConfig,fillColor:p,fillOpacity:k,i:this.seriesIndex})),x==="image"){var S=u.fill.image.src,P=n.patternID?n.patternID:"",O="pattern".concat(i.globals.cuid).concat(n.seriesNumber+1).concat(P);this.patternIDs.indexOf(O)===-1&&(this.clippedImgArea({opacity:k,image:Array.isArray(S)?n.seriesNumber<S.length?S[n.seriesNumber]:S[0]:S,width:n.width?n.width:void 0,height:n.height?n.height:void 0,patternUnits:n.patternUnits,patternID:O}),this.patternIDs.push(O)),c="url(#".concat(O,")")}else c=x==="gradient"?h:x==="pattern"?A:F;return n.solid&&(c=F),c}},{key:"getFillType",value:function(n){var i=this.w;return Array.isArray(i.config.fill.type)?i.config.fill.type[n]:i.config.fill.type}},{key:"getFillColors",value:function(){var n=this.w,i=n.config,c=this.opts,A=[];return n.globals.comboCharts?n.config.series[this.seriesIndex].type==="line"?Array.isArray(n.globals.stroke.colors)?A=n.globals.stroke.colors:A.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?A=n.globals.fill.colors:A.push(n.globals.fill.colors):i.chart.type==="line"?Array.isArray(n.globals.stroke.colors)?A=n.globals.stroke.colors:A.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?A=n.globals.fill.colors:A.push(n.globals.fill.colors),c.fillColors!==void 0&&(A=[],Array.isArray(c.fillColors)?A=c.fillColors.slice():A.push(c.fillColors)),A}},{key:"handlePatternFill",value:function(n){var i=n.fillConfig,c=n.patternFill,A=n.fillColor,h=n.fillOpacity,u=n.defaultColor,p=this.w.config.fill;i&&(p=i);var x=this.opts,k=new _(this.ctx),F=Array.isArray(p.pattern.strokeWidth)?p.pattern.strokeWidth[this.seriesIndex]:p.pattern.strokeWidth,S=A;return Array.isArray(p.pattern.style)?c=p.pattern.style[x.seriesNumber]!==void 0?k.drawPattern(p.pattern.style[x.seriesNumber],p.pattern.width,p.pattern.height,S,F,h):u:c=k.drawPattern(p.pattern.style,p.pattern.width,p.pattern.height,S,F,h),c}},{key:"handleGradientFill",value:function(n){var i=n.fillColor,c=n.fillOpacity,A=n.fillConfig,h=n.i,u=this.w.config.fill;A&&(u=U(U({},u),A));var p,x=this.opts,k=new _(this.ctx),F=new D,S=u.gradient.type,P=i,O=u.gradient.opacityFrom===void 0?c:Array.isArray(u.gradient.opacityFrom)?u.gradient.opacityFrom[h]:u.gradient.opacityFrom;P.indexOf("rgba")>-1&&(O=D.getOpacityFromRGBA(P));var G=u.gradient.opacityTo===void 0?c:Array.isArray(u.gradient.opacityTo)?u.gradient.opacityTo[h]:u.gradient.opacityTo;if(u.gradient.gradientToColors===void 0||u.gradient.gradientToColors.length===0)p=u.gradient.shade==="dark"?F.shadeColor(-1*parseFloat(u.gradient.shadeIntensity),i.indexOf("rgb")>-1?D.rgb2hex(i):i):F.shadeColor(parseFloat(u.gradient.shadeIntensity),i.indexOf("rgb")>-1?D.rgb2hex(i):i);else if(u.gradient.gradientToColors[x.seriesNumber]){var V=u.gradient.gradientToColors[x.seriesNumber];p=V,V.indexOf("rgba")>-1&&(G=D.getOpacityFromRGBA(V))}else p=i;if(u.gradient.gradientFrom&&(P=u.gradient.gradientFrom),u.gradient.gradientTo&&(p=u.gradient.gradientTo),u.gradient.inverseColors){var ee=P;P=p,p=ee}return P.indexOf("rgb")>-1&&(P=D.rgb2hex(P)),p.indexOf("rgb")>-1&&(p=D.rgb2hex(p)),k.drawGradient(S,P,p,O,G,x.size,u.gradient.stops,u.gradient.colorStops,h)}}]),se}(),Re=function(){function se(n,i){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"setGlobalMarkerSize",value:function(){var n=this.w;if(n.globals.markers.size=Array.isArray(n.config.markers.size)?n.config.markers.size:[n.config.markers.size],n.globals.markers.size.length>0){if(n.globals.markers.size.length<n.globals.series.length+1)for(var i=0;i<=n.globals.series.length;i++)n.globals.markers.size[i]===void 0&&n.globals.markers.size.push(n.globals.markers.size[0])}else n.globals.markers.size=n.config.series.map(function(c){return n.config.markers.size})}},{key:"plotChartMarkers",value:function(n,i,c,A){var h,u=arguments.length>4&&arguments[4]!==void 0&&arguments[4],p=this.w,x=i,k=n,F=null,S=new _(this.ctx),P=p.config.markers.discrete&&p.config.markers.discrete.length;if((p.globals.markers.size[i]>0||u||P)&&(F=S.group({class:u||P?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(p.globals.cuid,")")),Array.isArray(k.x))for(var O=0;O<k.x.length;O++){var G=c;c===1&&O===0&&(G=0),c===1&&O===1&&(G=1);var V="apexcharts-marker";if(p.config.chart.type!=="line"&&p.config.chart.type!=="area"||p.globals.comboCharts||p.config.tooltip.intersect||(V+=" no-pointer-events"),(Array.isArray(p.config.markers.size)?p.globals.markers.size[i]>0:p.config.markers.size>0)||u||P){D.isNumber(k.y[O])?V+=" w".concat(D.randomId()):V="apexcharts-nullpoint";var ee=this.getMarkerConfig({cssClass:V,seriesIndex:i,dataPointIndex:G});p.config.series[x].data[G]&&(p.config.series[x].data[G].fillColor&&(ee.pointFillColor=p.config.series[x].data[G].fillColor),p.config.series[x].data[G].strokeColor&&(ee.pointStrokeColor=p.config.series[x].data[G].strokeColor)),A!==void 0&&(ee.pSize=A),(k.x[O]<-p.globals.markers.largestSize||k.x[O]>p.globals.gridWidth+p.globals.markers.largestSize||k.y[O]<-p.globals.markers.largestSize||k.y[O]>p.globals.gridHeight+p.globals.markers.largestSize)&&(ee.pSize=0),(h=S.drawMarker(k.x[O],k.y[O],ee)).attr("rel",G),h.attr("j",G),h.attr("index",i),h.node.setAttribute("default-marker-size",ee.pSize),new X(this.ctx).setSelectionFilter(h,i,G),this.addEvents(h),F&&F.add(h)}else p.globals.pointsArray[i]===void 0&&(p.globals.pointsArray[i]=[]),p.globals.pointsArray[i].push([k.x[O],k.y[O]])}return F}},{key:"getMarkerConfig",value:function(n){var i=n.cssClass,c=n.seriesIndex,A=n.dataPointIndex,h=A===void 0?null:A,u=n.radius,p=u===void 0?null:u,x=n.size,k=x===void 0?null:x,F=n.strokeWidth,S=F===void 0?null:F,P=this.w,O=this.getMarkerStyle(c),G=k===null?P.globals.markers.size[c]:k,V=P.config.markers;return h!==null&&V.discrete.length&&V.discrete.map(function(ee){ee.seriesIndex===c&&ee.dataPointIndex===h&&(O.pointStrokeColor=ee.strokeColor,O.pointFillColor=ee.fillColor,G=ee.size,O.pointShape=ee.shape)}),{pSize:p===null?G:p,pRadius:p!==null?p:V.radius,pointStrokeWidth:S!==null?S:Array.isArray(V.strokeWidth)?V.strokeWidth[c]:V.strokeWidth,pointStrokeColor:O.pointStrokeColor,pointFillColor:O.pointFillColor,shape:O.pointShape||(Array.isArray(V.shape)?V.shape[c]:V.shape),class:i,pointStrokeOpacity:Array.isArray(V.strokeOpacity)?V.strokeOpacity[c]:V.strokeOpacity,pointStrokeDashArray:Array.isArray(V.strokeDashArray)?V.strokeDashArray[c]:V.strokeDashArray,pointFillOpacity:Array.isArray(V.fillOpacity)?V.fillOpacity[c]:V.fillOpacity,seriesIndex:c}}},{key:"addEvents",value:function(n){var i=this.w,c=new _(this.ctx);n.node.addEventListener("mouseenter",c.pathMouseEnter.bind(this.ctx,n)),n.node.addEventListener("mouseleave",c.pathMouseLeave.bind(this.ctx,n)),n.node.addEventListener("mousedown",c.pathMouseDown.bind(this.ctx,n)),n.node.addEventListener("click",i.config.markers.onClick),n.node.addEventListener("dblclick",i.config.markers.onDblClick),n.node.addEventListener("touchstart",c.pathMouseDown.bind(this.ctx,n),{passive:!0})}},{key:"getMarkerStyle",value:function(n){var i=this.w,c=i.globals.markers.colors,A=i.config.markers.strokeColor||i.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(A)?A[n]:A,pointFillColor:Array.isArray(c)?c[n]:c}}}]),se}(),ve=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.initialAnim=this.w.config.chart.animations.enabled}return d(se,[{key:"draw",value:function(n,i,c){var A=this.w,h=new _(this.ctx),u=c.realIndex,p=c.pointsPos,x=c.zRatio,k=c.elParent,F=h.group({class:"apexcharts-series-markers apexcharts-series-".concat(A.config.chart.type)});if(F.attr("clip-path","url(#gridRectMarkerMask".concat(A.globals.cuid,")")),Array.isArray(p.x))for(var S=0;S<p.x.length;S++){var P=i+1,O=!0;i===0&&S===0&&(P=0),i===0&&S===1&&(P=1);var G=A.globals.markers.size[u];if(x!==1/0){var V=A.config.plotOptions.bubble;G=A.globals.seriesZ[u][P],V.zScaling&&(G/=x),V.minBubbleRadius&&G<V.minBubbleRadius&&(G=V.minBubbleRadius),V.maxBubbleRadius&&G>V.maxBubbleRadius&&(G=V.maxBubbleRadius)}var ee=p.x[S],re=p.y[S];if(G=G||0,re!==null&&A.globals.series[u][P]!==void 0||(O=!1),O){var le=this.drawPoint(ee,re,G,u,P,i);F.add(le)}k.add(F)}}},{key:"drawPoint",value:function(n,i,c,A,h,u){var p=this.w,x=A,k=new ae(this.ctx),F=new X(this.ctx),S=new Pe(this.ctx),P=new Re(this.ctx),O=new _(this.ctx),G=P.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:x,dataPointIndex:h,radius:p.config.chart.type==="bubble"||p.globals.comboCharts&&p.config.series[A]&&p.config.series[A].type==="bubble"?c:null}),V=S.fillPath({seriesNumber:A,dataPointIndex:h,color:G.pointFillColor,patternUnits:"objectBoundingBox",value:p.globals.series[A][u]}),ee=O.drawMarker(n,i,G);if(p.config.series[x].data[h]&&p.config.series[x].data[h].fillColor&&(V=p.config.series[x].data[h].fillColor),ee.attr({fill:V}),p.config.chart.dropShadow.enabled){var re=p.config.chart.dropShadow;F.dropShadow(ee,re,A)}if(!this.initialAnim||p.globals.dataChanged||p.globals.resized)p.globals.animationEnded=!0;else{var le=p.config.chart.animations.speed;k.animateMarker(ee,le,p.globals.easing,function(){window.setTimeout(function(){k.animationCompleted(ee)},100)})}return ee.attr({rel:h,j:h,index:A,"default-marker-size":G.pSize}),F.setSelectionFilter(ee,A,h),P.addEvents(ee),ee.node.classList.add("apexcharts-marker"),ee}},{key:"centerTextInBubble",value:function(n){var i=this.w;return{y:n+=parseInt(i.config.dataLabels.style.fontSize,10)/4}}}]),se}(),Ee=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"dataLabelsCorrection",value:function(n,i,c,A,h,u,p){var x=this.w,k=!1,F=new _(this.ctx).getTextRects(c,p),S=F.width,P=F.height;i<0&&(i=0),i>x.globals.gridHeight+P&&(i=x.globals.gridHeight+P/2),x.globals.dataLabelsRects[A]===void 0&&(x.globals.dataLabelsRects[A]=[]),x.globals.dataLabelsRects[A].push({x:n,y:i,width:S,height:P});var O=x.globals.dataLabelsRects[A].length-2,G=x.globals.lastDrawnDataLabelsIndexes[A]!==void 0?x.globals.lastDrawnDataLabelsIndexes[A][x.globals.lastDrawnDataLabelsIndexes[A].length-1]:0;if(x.globals.dataLabelsRects[A][O]!==void 0){var V=x.globals.dataLabelsRects[A][G];(n>V.x+V.width||i>V.y+V.height||i+P<V.y||n+S<V.x)&&(k=!0)}return(h===0||u)&&(k=!0),{x:n,y:i,textRects:F,drawnextLabel:k}}},{key:"drawDataLabel",value:function(n){var i=this,c=n.type,A=n.pos,h=n.i,u=n.j,p=n.isRangeStart,x=n.strokeWidth,k=x===void 0?2:x,F=this.w,S=new _(this.ctx),P=F.config.dataLabels,O=0,G=0,V=u,ee=null;if(F.globals.collapsedSeriesIndices.indexOf(h)!==-1||!P.enabled||!Array.isArray(A.x))return ee;ee=S.group({class:"apexcharts-data-labels"});for(var re=0;re<A.x.length;re++)if(O=A.x[re]+P.offsetX,G=A.y[re]+P.offsetY+k,!isNaN(O)){u===1&&re===0&&(V=0),u===1&&re===1&&(V=1);var le=F.globals.series[h][V];c==="rangeArea"&&(le=p?F.globals.seriesRangeStart[h][V]:F.globals.seriesRangeEnd[h][V]);var v="",Q=function(ge){return F.config.dataLabels.formatter(ge,{ctx:i.ctx,seriesIndex:h,dataPointIndex:V,w:F})};F.config.chart.type==="bubble"?(v=Q(le=F.globals.seriesZ[h][V]),G=A.y[re],G=new ve(this.ctx).centerTextInBubble(G,h,V).y):le!==void 0&&(v=Q(le));var K=F.config.dataLabels.textAnchor;F.globals.isSlopeChart&&(K=V===0?"end":V===F.config.series[h].data.length-1?"start":"middle"),this.plotDataLabelsText({x:O,y:G,text:v,i:h,j:V,parent:ee,offsetCorrection:!0,dataLabelsConfig:F.config.dataLabels,textAnchor:K})}return ee}},{key:"plotDataLabelsText",value:function(n){var i=this.w,c=new _(this.ctx),A=n.x,h=n.y,u=n.i,p=n.j,x=n.text,k=n.textAnchor,F=n.fontSize,S=n.parent,P=n.dataLabelsConfig,O=n.color,G=n.alwaysDrawDataLabel,V=n.offsetCorrection,ee=n.className,re=null;if(Array.isArray(i.config.dataLabels.enabledOnSeries)&&i.config.dataLabels.enabledOnSeries.indexOf(u)<0)return re;var le={x:A,y:h,drawnextLabel:!0,textRects:null};V&&(le=this.dataLabelsCorrection(A,h,x,u,p,G,parseInt(P.style.fontSize,10))),i.globals.zoomed||(A=le.x,h=le.y),le.textRects&&(A<-20-le.textRects.width||A>i.globals.gridWidth+le.textRects.width+30)&&(x="");var v=i.globals.dataLabels.style.colors[u];((i.config.chart.type==="bar"||i.config.chart.type==="rangeBar")&&i.config.plotOptions.bar.distributed||i.config.dataLabels.distributed)&&(v=i.globals.dataLabels.style.colors[p]),typeof v=="function"&&(v=v({series:i.globals.series,seriesIndex:u,dataPointIndex:p,w:i})),O&&(v=O);var Q=P.offsetX,K=P.offsetY;if(i.config.chart.type!=="bar"&&i.config.chart.type!=="rangeBar"||(Q=0,K=0),i.globals.isSlopeChart&&(p!==0&&(Q=-2*P.offsetX+5),p!==0&&p!==i.config.series[u].data.length-1&&(Q=0)),le.drawnextLabel){if((re=c.drawText({width:100,height:parseInt(P.style.fontSize,10),x:A+Q,y:h+K,foreColor:v,textAnchor:k||P.textAnchor,text:x,fontSize:F||P.style.fontSize,fontFamily:P.style.fontFamily,fontWeight:P.style.fontWeight||"normal"})).attr({class:ee||"apexcharts-datalabel",cx:A,cy:h}),P.dropShadow.enabled){var ge=P.dropShadow;new X(this.ctx).dropShadow(re,ge)}S.add(re),i.globals.lastDrawnDataLabelsIndexes[u]===void 0&&(i.globals.lastDrawnDataLabelsIndexes[u]=[]),i.globals.lastDrawnDataLabelsIndexes[u].push(p)}return re}},{key:"addBackgroundToDataLabel",value:function(n,i){var c=this.w,A=c.config.dataLabels.background,h=A.padding,u=A.padding/2,p=i.width,x=i.height,k=new _(this.ctx).drawRect(i.x-h,i.y-u/2,p+2*h,x+u,A.borderRadius,c.config.chart.background!=="transparent"&&c.config.chart.background?c.config.chart.background:"#fff",A.opacity,A.borderWidth,A.borderColor);return A.dropShadow.enabled&&new X(this.ctx).dropShadow(k,A.dropShadow),k}},{key:"dataLabelsBackground",value:function(){var n=this.w;if(n.config.chart.type!=="bubble")for(var i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),c=0;c<i.length;c++){var A=i[c],h=A.getBBox(),u=null;if(h.width&&h.height&&(u=this.addBackgroundToDataLabel(A,h)),u){A.parentNode.insertBefore(u.node,A);var p=A.getAttribute("fill");n.config.chart.animations.enabled&&!n.globals.resized&&!n.globals.dataChanged?u.animate().attr({fill:p}):u.attr({fill:p}),A.setAttribute("fill",n.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var n=this.w,i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),c=n.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),A=0;A<i.length;A++)c&&c.insertBefore(i[A],c.nextSibling)}}]),se}(),Xe=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.legendInactiveClass="legend-mouseover-inactive"}return d(se,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(n){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(D.escapeString(n),"']"))}},{key:"isSeriesHidden",value:function(n){var i=this.getSeriesByName(n),c=parseInt(i.getAttribute("data:realIndex"),10);return{isHidden:i.classList.contains("apexcharts-series-collapsed"),realIndex:c}}},{key:"addCollapsedClassToSeries",value:function(n,i){var c=this.w;function A(h){for(var u=0;u<h.length;u++)h[u].index===i&&n.node.classList.add("apexcharts-series-collapsed")}A(c.globals.collapsedSeries),A(c.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(n){var i=this.isSeriesHidden(n);return this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,i.isHidden),i.isHidden}},{key:"showSeries",value:function(n){var i=this.isSeriesHidden(n);i.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,!0)}},{key:"hideSeries",value:function(n){var i=this.isSeriesHidden(n);i.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,!1)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],A=this.w,h=D.clone(A.globals.initialSeries);A.globals.previousPaths=[],c?(A.globals.collapsedSeries=[],A.globals.ancillaryCollapsedSeries=[],A.globals.collapsedSeriesIndices=[],A.globals.ancillaryCollapsedSeriesIndices=[]):h=this.emptyCollapsedSeries(h),A.config.series=h,n&&(i&&(A.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(h,A.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(n){for(var i=this.w,c=0;c<n.length;c++)i.globals.collapsedSeriesIndices.indexOf(c)>-1&&(n[c].data=[]);return n}},{key:"highlightSeries",value:function(n){var i=this.w,c=this.getSeriesByName(n),A=parseInt(c==null?void 0:c.getAttribute("data:realIndex"),10),h=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),u=null,p=null,x=null;if(i.globals.axisCharts||i.config.chart.type==="radialBar")if(i.globals.axisCharts){u=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(A,"']")),p=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(A,"']"));var k=i.globals.seriesYAxisReverseMap[A];x=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(k,"']"))}else u=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(A+1,"']"));else u=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(A+1,"'] path"));for(var F=0;F<h.length;F++)h[F].classList.add(this.legendInactiveClass);if(u)i.globals.axisCharts||u.parentNode.classList.remove(this.legendInactiveClass),u.classList.remove(this.legendInactiveClass),p!==null&&p.classList.remove(this.legendInactiveClass),x!==null&&x.classList.remove(this.legendInactiveClass);else for(var S=0;S<h.length;S++)h[S].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(n,i){var c=this.w;i||(i=n.target);var A=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(n.type==="mousemove"){var h=parseInt(i.getAttribute("rel"),10)-1;this.highlightSeries(c.globals.seriesNames[h])}else if(n.type==="mouseout")for(var u=0;u<A.length;u++)A[u].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(n,i){var c=this,A=this.w,h=A.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),u=function(k){for(var F=0;F<h.length;F++)h[F].classList[k](c.legendInactiveClass)};if(n.type==="mousemove"){var p=parseInt(i.getAttribute("rel"),10)-1;u("add");var x=A.config.plotOptions.heatmap.colorScale.ranges;(function(k,F){for(var S=0;S<h.length;S++){var P=Number(h[S].getAttribute("val"));P>=k.from&&(P<k.to||k.to===F&&P===F)&&h[S].classList.remove(c.legendInactiveClass)}})(x[p],x.reduce(function(k,F){return Math.max(k,F.to)},0))}else n.type==="mouseout"&&u("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=this.w,A=0;if(c.config.series.length>1){for(var h=c.config.series.map(function(p,x){return p.data&&p.data.length>0&&c.globals.collapsedSeriesIndices.indexOf(x)===-1&&(!c.globals.comboCharts||i.length===0||i.length&&i.indexOf(c.config.series[x].type)>-1)?x:-1}),u=n==="asc"?0:h.length-1;n==="asc"?u<h.length:u>=0;n==="asc"?u++:u--)if(h[u]!==-1){A=h[u];break}}return A}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(n,i){return n.type==="bar"||n.type==="column"?i:-1}).filter(function(n){return n!==-1}):this.w.config.series.map(function(n,i){return i})}},{key:"getPreviousPaths",value:function(){var n=this.w;function i(u,p,x){for(var k=u[p].childNodes,F={type:x,paths:[],realIndex:u[p].getAttribute("data:realIndex")},S=0;S<k.length;S++)if(k[S].hasAttribute("pathTo")){var P=k[S].getAttribute("pathTo");F.paths.push({d:P})}n.globals.previousPaths.push(F)}n.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(u){for(var p,x=(p=u,n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p,"-series .apexcharts-series"))),k=0;k<x.length;k++)i(x,k,u)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var c=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series"));if(c.length>0)for(var A=function(u){for(var p=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(u,"'] rect")),x=[],k=function(S){var P=function(G){return p[S].getAttribute(G)},O={x:parseFloat(P("x")),y:parseFloat(P("y")),width:parseFloat(P("width")),height:parseFloat(P("height"))};x.push({rect:O,color:p[S].getAttribute("color")})},F=0;F<p.length;F++)k(F);n.globals.previousPaths.push(x)},h=0;h<c.length;h++)A(h);n.globals.axisCharts||(n.globals.previousPaths=n.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(n){var i=this.w,c=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series"));if(c.length>0)for(var A=0;A<c.length;A++){for(var h=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series[data\\:realIndex='").concat(A,"'] circle")),u=[],p=0;p<h.length;p++)u.push({x:h[p].getAttribute("cx"),y:h[p].getAttribute("cy"),r:h[p].getAttribute("r")});i.globals.previousPaths.push(u)}}},{key:"clearPreviousPaths",value:function(){var n=this.w;n.globals.previousPaths=[],n.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var n=this.w,i=n.config.noData,c=new _(this.ctx),A=n.globals.svgWidth/2,h=n.globals.svgHeight/2,u="middle";if(n.globals.noData=!0,n.globals.animationEnded=!0,i.align==="left"?(A=10,u="start"):i.align==="right"&&(A=n.globals.svgWidth-10,u="end"),i.verticalAlign==="top"?h=50:i.verticalAlign==="bottom"&&(h=n.globals.svgHeight-50),A+=i.offsetX,h=h+parseInt(i.style.fontSize,10)+2+i.offsetY,i.text!==void 0&&i.text!==""){var p=c.drawText({x:A,y:h,text:i.text,textAnchor:u,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,foreColor:i.style.color,opacity:1,class:"apexcharts-text-nodata"});n.globals.dom.Paper.add(p)}}},{key:"setNullSeriesToZeroValues",value:function(n){for(var i=this.w,c=0;c<n.length;c++)if(n[c].length===0)for(var A=0;A<n[i.globals.maxValsInArrayIndex].length;A++)n[c].push(0);return n}},{key:"hasAllSeriesEqualX",value:function(){for(var n=!0,i=this.w,c=this.filteredSeriesX(),A=0;A<c.length-1;A++)if(c[A][0]!==c[A+1][0]){n=!1;break}return i.globals.allSeriesHasEqualX=n,n}},{key:"filteredSeriesX",value:function(){var n=this.w.globals.seriesX.map(function(i){return i.length>0?i:[]});return n}}]),se}(),tt=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new ie(this.ctx)}return d(se,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var n=this.w.config.series.slice(),i=new Xe(this.ctx);if(this.activeSeriesIndex=i.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].x!==void 0&&n[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var n=this.w.config.series.slice(),i=new Xe(this.ctx);if(this.activeSeriesIndex=i.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==void 0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(n,i){for(var c=this.w.config,A=this.w.globals,h=c.chart.type==="boxPlot"||c.series[i].type==="boxPlot",u=0;u<n[i].data.length;u++)if(n[i].data[u][1]!==void 0&&(Array.isArray(n[i].data[u][1])&&n[i].data[u][1].length===4&&!h?this.twoDSeries.push(D.parseNumber(n[i].data[u][1][3])):n[i].data[u].length>=5?this.twoDSeries.push(D.parseNumber(n[i].data[u][4])):this.twoDSeries.push(D.parseNumber(n[i].data[u][1])),A.dataFormatXNumeric=!0),c.xaxis.type==="datetime"){var p=new Date(n[i].data[u][0]);p=new Date(p).getTime(),this.twoDSeriesX.push(p)}else this.twoDSeriesX.push(n[i].data[u][0]);for(var x=0;x<n[i].data.length;x++)n[i].data[x][2]!==void 0&&(this.threeDSeries.push(n[i].data[x][2]),A.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(n,i){var c=this.w.config,A=this.w.globals,h=new $(this.ctx),u=i;A.collapsedSeriesIndices.indexOf(i)>-1&&(u=this.activeSeriesIndex);for(var p=0;p<n[i].data.length;p++)n[i].data[p].y!==void 0&&(Array.isArray(n[i].data[p].y)?this.twoDSeries.push(D.parseNumber(n[i].data[p].y[n[i].data[p].y.length-1])):this.twoDSeries.push(D.parseNumber(n[i].data[p].y))),n[i].data[p].goals!==void 0&&Array.isArray(n[i].data[p].goals)?(this.seriesGoals[i]===void 0&&(this.seriesGoals[i]=[]),this.seriesGoals[i].push(n[i].data[p].goals)):(this.seriesGoals[i]===void 0&&(this.seriesGoals[i]=[]),this.seriesGoals[i].push(null));for(var x=0;x<n[u].data.length;x++){var k=typeof n[u].data[x].x=="string",F=Array.isArray(n[u].data[x].x),S=!F&&!!h.isValidDate(n[u].data[x].x);if(k||S)if(k||c.xaxis.convertedCatToNumeric){var P=A.isBarHorizontal&&A.isRangeData;c.xaxis.type!=="datetime"||P?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[u].data[x].x),isNaN(n[u].data[x].x)||this.w.config.xaxis.type==="category"||typeof n[u].data[x].x=="string"||(A.isXNumeric=!0)):this.twoDSeriesX.push(h.parseDate(n[u].data[x].x))}else c.xaxis.type==="datetime"?this.twoDSeriesX.push(h.parseDate(n[u].data[x].x.toString())):(A.dataFormatXNumeric=!0,A.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(n[u].data[x].x)));else F?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[u].data[x].x)):(A.isXNumeric=!0,A.dataFormatXNumeric=!0,this.twoDSeriesX.push(n[u].data[x].x))}if(n[i].data[0]&&n[i].data[0].z!==void 0){for(var O=0;O<n[i].data.length;O++)this.threeDSeries.push(n[i].data[O].z);A.isDataXYZ=!0}}},{key:"handleRangeData",value:function(n,i){var c=this.w.globals,A={};return this.isFormat2DArray()?A=this.handleRangeDataFormat("array",n,i):this.isFormatXY()&&(A=this.handleRangeDataFormat("xy",n,i)),c.seriesRangeStart.push(A.start===void 0?[]:A.start),c.seriesRangeEnd.push(A.end===void 0?[]:A.end),c.seriesRange.push(A.rangeUniques),c.seriesRange.forEach(function(h,u){h&&h.forEach(function(p,x){p.y.forEach(function(k,F){for(var S=0;S<p.y.length;S++)if(F!==S){var P=k.y1,O=k.y2,G=p.y[S].y1;P<=p.y[S].y2&&G<=O&&(p.overlaps.indexOf(k.rangeName)<0&&p.overlaps.push(k.rangeName),p.overlaps.indexOf(p.y[S].rangeName)<0&&p.overlaps.push(p.y[S].rangeName))}})})}),A}},{key:"handleCandleStickBoxData",value:function(n,i){var c=this.w.globals,A={};return this.isFormat2DArray()?A=this.handleCandleStickBoxDataFormat("array",n,i):this.isFormatXY()&&(A=this.handleCandleStickBoxDataFormat("xy",n,i)),c.seriesCandleO[i]=A.o,c.seriesCandleH[i]=A.h,c.seriesCandleM[i]=A.m,c.seriesCandleL[i]=A.l,c.seriesCandleC[i]=A.c,A}},{key:"handleRangeDataFormat",value:function(n,i,c){var A=[],h=[],u=i[c].data.filter(function(F,S,P){return S===P.findIndex(function(O){return O.x===F.x})}).map(function(F,S){return{x:F.x,overlaps:[],y:[]}});if(n==="array")for(var p=0;p<i[c].data.length;p++)Array.isArray(i[c].data[p])?(A.push(i[c].data[p][1][0]),h.push(i[c].data[p][1][1])):(A.push(i[c].data[p]),h.push(i[c].data[p]));else if(n==="xy")for(var x=function(F){var S=Array.isArray(i[c].data[F].y),P=D.randomId(),O=i[c].data[F].x,G={y1:S?i[c].data[F].y[0]:i[c].data[F].y,y2:S?i[c].data[F].y[1]:i[c].data[F].y,rangeName:P};i[c].data[F].rangeName=P;var V=u.findIndex(function(ee){return ee.x===O});u[V].y.push(G),A.push(G.y1),h.push(G.y2)},k=0;k<i[c].data.length;k++)x(k);return{start:A,end:h,rangeUniques:u}}},{key:"handleCandleStickBoxDataFormat",value:function(n,i,c){var A=this.w,h=A.config.chart.type==="boxPlot"||A.config.series[c].type==="boxPlot",u=[],p=[],x=[],k=[],F=[];if(n==="array")if(h&&i[c].data[0].length===6||!h&&i[c].data[0].length===5)for(var S=0;S<i[c].data.length;S++)u.push(i[c].data[S][1]),p.push(i[c].data[S][2]),h?(x.push(i[c].data[S][3]),k.push(i[c].data[S][4]),F.push(i[c].data[S][5])):(k.push(i[c].data[S][3]),F.push(i[c].data[S][4]));else for(var P=0;P<i[c].data.length;P++)Array.isArray(i[c].data[P][1])&&(u.push(i[c].data[P][1][0]),p.push(i[c].data[P][1][1]),h?(x.push(i[c].data[P][1][2]),k.push(i[c].data[P][1][3]),F.push(i[c].data[P][1][4])):(k.push(i[c].data[P][1][2]),F.push(i[c].data[P][1][3])));else if(n==="xy")for(var O=0;O<i[c].data.length;O++)Array.isArray(i[c].data[O].y)&&(u.push(i[c].data[O].y[0]),p.push(i[c].data[O].y[1]),h?(x.push(i[c].data[O].y[2]),k.push(i[c].data[O].y[3]),F.push(i[c].data[O].y[4])):(k.push(i[c].data[O].y[2]),F.push(i[c].data[O].y[3])));return{o:u,h:p,m:x,l:k,c:F}}},{key:"parseDataAxisCharts",value:function(n){var i=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,A=this.w.config,h=this.w.globals,u=new $(c),p=A.labels.length>0?A.labels.slice():A.xaxis.categories.slice();h.isRangeBar=A.chart.type==="rangeBar"&&h.isBarHorizontal,h.hasXaxisGroups=A.xaxis.type==="category"&&A.xaxis.group.groups.length>0,h.hasXaxisGroups&&(h.groups=A.xaxis.group.groups),n.forEach(function(O,G){O.name!==void 0?h.seriesNames.push(O.name):h.seriesNames.push("series-"+parseInt(G+1,10))}),this.coreUtils.setSeriesYAxisMappings();var x=[],k=C(new Set(A.series.map(function(O){return O.group})));A.series.forEach(function(O,G){var V=k.indexOf(O.group);x[V]||(x[V]=[]),x[V].push(h.seriesNames[G])}),h.seriesGroups=x;for(var F=function(){for(var O=0;O<p.length;O++)if(typeof p[O]=="string"){if(!u.isValidDate(p[O]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");i.twoDSeriesX.push(u.parseDate(p[O]))}else i.twoDSeriesX.push(p[O])},S=0;S<n.length;S++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],n[S].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(A.chart.type!=="rangeBar"&&A.chart.type!=="rangeArea"&&n[S].type!=="rangeBar"&&n[S].type!=="rangeArea"||(h.isRangeData=!0,A.chart.type!=="rangeBar"&&A.chart.type!=="rangeArea"||this.handleRangeData(n,S)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(n,S):this.isFormatXY()&&this.handleFormatXY(n,S),A.chart.type!=="candlestick"&&n[S].type!=="candlestick"&&A.chart.type!=="boxPlot"&&n[S].type!=="boxPlot"||this.handleCandleStickBoxData(n,S),h.series.push(this.twoDSeries),h.labels.push(this.twoDSeriesX),h.seriesX.push(this.twoDSeriesX),h.seriesGoals=this.seriesGoals,S!==this.activeSeriesIndex||this.fallbackToCategory||(h.isXNumeric=!0);else{A.xaxis.type==="datetime"?(h.isXNumeric=!0,F(),h.seriesX.push(this.twoDSeriesX)):A.xaxis.type==="numeric"&&(h.isXNumeric=!0,p.length>0&&(this.twoDSeriesX=p,h.seriesX.push(this.twoDSeriesX))),h.labels.push(this.twoDSeriesX);var P=n[S].data.map(function(O){return D.parseNumber(O)});h.series.push(P)}h.seriesZ.push(this.threeDSeries),n[S].color!==void 0?h.seriesColors.push(n[S].color):h.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(n){var i=this.w.globals,c=this.w.config;i.series=n.slice(),i.seriesNames=c.labels.slice();for(var A=0;A<i.series.length;A++)i.seriesNames[A]===void 0&&i.seriesNames.push("series-"+(A+1));return this.w}},{key:"handleExternalLabelsData",value:function(n){var i=this.w.config,c=this.w.globals;i.xaxis.categories.length>0?c.labels=i.xaxis.categories:i.labels.length>0?c.labels=i.labels.slice():this.fallbackToCategory?(c.labels=c.labels[0],c.seriesRange.length&&(c.seriesRange.map(function(A){A.forEach(function(h){c.labels.indexOf(h.x)<0&&h.x&&c.labels.push(h.x)})}),c.labels=Array.from(new Set(c.labels.map(JSON.stringify)),JSON.parse)),i.xaxis.convertedCatToNumeric&&(new Ae(i).convertCatToNumericXaxis(i,this.ctx,c.seriesX[0]),this._generateExternalLabels(n))):this._generateExternalLabels(n)}},{key:"_generateExternalLabels",value:function(n){var i=this.w.globals,c=this.w.config,A=[];if(i.axisCharts){if(i.series.length>0)if(this.isFormatXY())for(var h=c.series.map(function(S,P){return S.data.filter(function(O,G,V){return V.findIndex(function(ee){return ee.x===O.x})===G})}),u=h.reduce(function(S,P,O,G){return G[S].length>P.length?S:O},0),p=0;p<h[u].length;p++)A.push(p+1);else for(var x=0;x<i.series[i.maxValsInArrayIndex].length;x++)A.push(x+1);i.seriesX=[];for(var k=0;k<n.length;k++)i.seriesX.push(A);this.w.globals.isBarHorizontal||(i.isXNumeric=!0)}if(A.length===0){A=i.axisCharts?[]:i.series.map(function(S,P){return P+1});for(var F=0;F<n.length;F++)i.seriesX.push(A)}i.labels=A,c.xaxis.convertedCatToNumeric&&(i.categoryLabels=A.map(function(S){return c.xaxis.labels.formatter(S)})),i.noLabelsProvided=!0}},{key:"parseData",value:function(n){var i=this.w,c=i.config,A=i.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),A.axisCharts?(this.parseDataAxisCharts(n),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(n),c.chart.stacked){var h=new Xe(this.ctx);A.series=h.setNullSeriesToZeroValues(A.series)}this.coreUtils.getSeriesTotals(),A.axisCharts&&(A.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),A.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),A.dataFormatXNumeric||A.isXNumeric&&(c.xaxis.type!=="numeric"||c.labels.length!==0||c.xaxis.categories.length!==0)||this.handleExternalLabelsData(n);for(var u=this.coreUtils.getCategoryLabels(A.labels),p=0;p<u.length;p++)if(Array.isArray(u[p])){A.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var n=this.w,i=[];n.globals.seriesYAxisMap.forEach(function(c,A){var h=0;c.forEach(function(u){n.globals.collapsedSeriesIndices.indexOf(u)!==-1&&h++}),h>0&&h==c.length&&i.push(A)}),n.globals.ignoreYAxisIndexes=i.map(function(c){return c})}}]),se}(),He=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"scaleSvgNode",value:function(n,i){var c=parseFloat(n.getAttributeNS(null,"width")),A=parseFloat(n.getAttributeNS(null,"height"));n.setAttributeNS(null,"width",c*i),n.setAttributeNS(null,"height",A*i),n.setAttributeNS(null,"viewBox","0 0 "+c+" "+A)}},{key:"getSvgString",value:function(){var n=this;return new Promise(function(i){var c=n.w,A=c.config.chart.toolbar.export.width,h=c.config.chart.toolbar.export.scale||A/c.globals.svgWidth;h||(h=1);var u=n.w.globals.dom.Paper.svg(),p=n.w.globals.dom.Paper.node.cloneNode(!0);h!==1&&n.scaleSvgNode(p,h),n.convertImagesToBase64(p).then(function(){u=new XMLSerializer().serializeToString(p),i(u.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(n){var i=this,c=n.getElementsByTagName("image"),A=Array.from(c).map(function(h){var u=h.getAttributeNS("http://www.w3.org/1999/xlink","href");return u&&!u.startsWith("data:")?i.getBase64FromUrl(u).then(function(p){h.setAttributeNS("http://www.w3.org/1999/xlink","href",p)}).catch(function(p){console.error("Error converting image to base64:",p)}):Promise.resolve()});return Promise.all(A)}},{key:"getBase64FromUrl",value:function(n){return new Promise(function(i,c){var A=new Image;A.crossOrigin="Anonymous",A.onload=function(){var h=document.createElement("canvas");h.width=A.width,h.height=A.height,h.getContext("2d").drawImage(A,0,0),i(h.toDataURL())},A.onerror=c,A.src=n})}},{key:"cleanup",value:function(){var n=this.w,i=n.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),c=n.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),A=n.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(A,function(h){h.setAttribute("width",0)}),i&&i[0]&&(i[0].setAttribute("x",-500),i[0].setAttribute("x1",-500),i[0].setAttribute("x2",-500)),c&&c[0]&&(c[0].setAttribute("y",-100),c[0].setAttribute("y1",-100),c[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var n=this;return new Promise(function(i){n.cleanup(),n.getSvgString().then(function(c){var A=new Blob([c],{type:"image/svg+xml;charset=utf-8"});i(URL.createObjectURL(A))})})}},{key:"dataURI",value:function(n){var i=this;return new Promise(function(c){var A=i.w,h=n?n.scale||n.width/A.globals.svgWidth:1;i.cleanup();var u=document.createElement("canvas");u.width=A.globals.svgWidth*h,u.height=parseInt(A.globals.dom.elWrap.style.height,10)*h;var p=A.config.chart.background!=="transparent"&&A.config.chart.background?A.config.chart.background:"#fff",x=u.getContext("2d");x.fillStyle=p,x.fillRect(0,0,u.width*h,u.height*h),i.getSvgString().then(function(k){var F="data:image/svg+xml,"+encodeURIComponent(k),S=new Image;S.crossOrigin="anonymous",S.onload=function(){if(x.drawImage(S,0,0),u.msToBlob){var P=u.msToBlob();c({blob:P})}else{var O=u.toDataURL("image/png");c({imgURI:O})}},S.src=F})})}},{key:"exportToSVG",value:function(){var n=this;this.svgUrl().then(function(i){n.triggerDownload(i,n.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var n=this,i=this.w.config.chart.toolbar.export.scale,c=this.w.config.chart.toolbar.export.width,A=i?{scale:i}:c?{width:c}:void 0;this.dataURI(A).then(function(h){var u=h.imgURI,p=h.blob;p?navigator.msSaveOrOpenBlob(p,n.w.globals.chartID+".png"):n.triggerDownload(u,n.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(n){var i=this,c=n.series,A=n.fileName,h=n.columnDelimiter,u=h===void 0?",":h,p=n.lineDelimiter,x=p===void 0?`
`:p,k=this.w;c||(c=k.config.series);var F,S,P=[],O=[],G="",V=k.globals.series.map(function(ce,me){return k.globals.collapsedSeriesIndices.indexOf(me)===-1?ce:[]}),ee=function(ce){return typeof k.config.chart.toolbar.export.csv.categoryFormatter=="function"?k.config.chart.toolbar.export.csv.categoryFormatter(ce):k.config.xaxis.type==="datetime"&&String(ce).length>=10?new Date(ce).toDateString():D.isNumber(ce)?ce:ce.split(u).join("")},re=function(ce){return typeof k.config.chart.toolbar.export.csv.valueFormatter=="function"?k.config.chart.toolbar.export.csv.valueFormatter(ce):ce},le=Math.max.apply(Math,C(c.map(function(ce){return ce.data?ce.data.length:0}))),v=new tt(this.ctx),Q=new J(this.ctx),K=function(ce){var me="";if(k.globals.axisCharts){if(k.config.xaxis.type==="category"||k.config.xaxis.convertedCatToNumeric)if(k.globals.isBarHorizontal){var Fe=k.globals.yLabelFormatters[0],Ie=new Xe(i.ctx).getActiveConfigSeriesIndex();me=Fe(k.globals.labels[ce],{seriesIndex:Ie,dataPointIndex:ce,w:k})}else me=Q.getLabel(k.globals.labels,k.globals.timescaleLabels,0,ce).text;k.config.xaxis.type==="datetime"&&(k.config.xaxis.categories.length?me=k.config.xaxis.categories[ce]:k.config.labels.length&&(me=k.config.labels[ce]))}else me=k.config.labels[ce];return me===null?"nullvalue":(Array.isArray(me)&&(me=me.join(" ")),D.isNumber(me)?me:me.split(u).join(""))},ge=function(ce,me){if(P.length&&me===0&&O.push(P.join(u)),ce.data){ce.data=ce.data.length&&ce.data||C(Array(le)).map(function(){return""});for(var Fe=0;Fe<ce.data.length;Fe++){P=[];var Ie=K(Fe);if(Ie!=="nullvalue"){if(Ie||(v.isFormatXY()?Ie=c[me].data[Fe].x:v.isFormat2DArray()&&(Ie=c[me].data[Fe]?c[me].data[Fe][0]:"")),me===0){P.push(ee(Ie));for(var ze=0;ze<k.globals.series.length;ze++){var Ze,Ke=v.isFormatXY()?(Ze=c[ze].data[Fe])===null||Ze===void 0?void 0:Ze.y:V[ze][Fe];P.push(re(Ke))}}(k.config.chart.type==="candlestick"||ce.type&&ce.type==="candlestick")&&(P.pop(),P.push(k.globals.seriesCandleO[me][Fe]),P.push(k.globals.seriesCandleH[me][Fe]),P.push(k.globals.seriesCandleL[me][Fe]),P.push(k.globals.seriesCandleC[me][Fe])),(k.config.chart.type==="boxPlot"||ce.type&&ce.type==="boxPlot")&&(P.pop(),P.push(k.globals.seriesCandleO[me][Fe]),P.push(k.globals.seriesCandleH[me][Fe]),P.push(k.globals.seriesCandleM[me][Fe]),P.push(k.globals.seriesCandleL[me][Fe]),P.push(k.globals.seriesCandleC[me][Fe])),k.config.chart.type==="rangeBar"&&(P.pop(),P.push(k.globals.seriesRangeStart[me][Fe]),P.push(k.globals.seriesRangeEnd[me][Fe])),P.length&&O.push(P.join(u))}}}};P.push(k.config.chart.toolbar.export.csv.headerCategory),k.config.chart.type==="boxPlot"?(P.push("minimum"),P.push("q1"),P.push("median"),P.push("q3"),P.push("maximum")):k.config.chart.type==="candlestick"?(P.push("open"),P.push("high"),P.push("low"),P.push("close")):k.config.chart.type==="rangeBar"?(P.push("minimum"),P.push("maximum")):c.map(function(ce,me){var Fe=(ce.name?ce.name:"series-".concat(me))+"";k.globals.axisCharts&&P.push(Fe.split(u).join("")?Fe.split(u).join(""):"series-".concat(me))}),k.globals.axisCharts||(P.push(k.config.chart.toolbar.export.csv.headerValue),O.push(P.join(u))),k.globals.allSeriesHasEqualX||!k.globals.axisCharts||k.config.xaxis.categories.length||k.config.labels.length?c.map(function(ce,me){k.globals.axisCharts?ge(ce,me):((P=[]).push(ee(k.globals.labels[me])),P.push(re(V[me])),O.push(P.join(u)))}):(F=new Set,S={},c.forEach(function(ce,me){ce==null||ce.data.forEach(function(Fe){var Ie,ze;if(v.isFormatXY())Ie=Fe.x,ze=Fe.y;else{if(!v.isFormat2DArray())return;Ie=Fe[0],ze=Fe[1]}S[Ie]||(S[Ie]=Array(c.length).fill("")),S[Ie][me]=re(ze),F.add(Ie)})}),P.length&&O.push(P.join(u)),Array.from(F).sort().forEach(function(ce){O.push([ee(ce),S[ce].join(u)])})),G+=O.join(x),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+G),A||k.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(n,i,c){var A=document.createElement("a");A.href=n,A.download=(i||this.w.globals.chartID)+c,document.body.appendChild(A),A.click(),document.body.removeChild(A)}}]),se}(),qe=function(){function se(n,i){o(this,se),this.ctx=n,this.elgrid=i,this.w=n.w;var c=this.w;this.axesUtils=new J(n),this.xaxisLabels=c.globals.labels.slice(),c.globals.timescaleLabels.length>0&&!c.globals.isBarHorizontal&&(this.xaxisLabels=c.globals.timescaleLabels.slice()),c.config.xaxis.overwriteCategories&&(this.xaxisLabels=c.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],c.config.xaxis.position==="top"?this.offY=0:this.offY=c.globals.gridHeight,this.offY=this.offY+c.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=c.config.chart.type==="bar"&&c.config.plotOptions.bar.horizontal,this.xaxisFontSize=c.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=c.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=c.config.xaxis.labels.style.colors,this.xaxisBorderWidth=c.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=c.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=c.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=c.config.xaxis.axisBorder.height,this.yaxis=c.config.yaxis[0]}return d(se,[{key:"drawXaxis",value:function(){var n=this.w,i=new _(this.ctx),c=i.group({class:"apexcharts-xaxis",transform:"translate(".concat(n.config.xaxis.offsetX,", ").concat(n.config.xaxis.offsetY,")")}),A=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(n.globals.translateXAxisX,", ").concat(n.globals.translateXAxisY,")")});c.add(A);for(var h=[],u=0;u<this.xaxisLabels.length;u++)h.push(this.xaxisLabels[u]);if(this.drawXAxisLabelAndGroup(!0,i,A,h,n.globals.isXNumeric,function(G,V){return V}),n.globals.hasXaxisGroups){var p=n.globals.groups;h=[];for(var x=0;x<p.length;x++)h.push(p[x].title);var k={};n.config.xaxis.group.style&&(k.xaxisFontSize=n.config.xaxis.group.style.fontSize,k.xaxisFontFamily=n.config.xaxis.group.style.fontFamily,k.xaxisForeColors=n.config.xaxis.group.style.colors,k.fontWeight=n.config.xaxis.group.style.fontWeight,k.cssClass=n.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,i,A,h,!1,function(G,V){return p[G].cols*V},k)}if(n.config.xaxis.title.text!==void 0){var F=i.group({class:"apexcharts-xaxis-title"}),S=i.drawText({x:n.globals.gridWidth/2+n.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(n.config.xaxis.position==="bottom"?n.globals.xAxisLabelsHeight:-n.globals.xAxisLabelsHeight-10)+n.config.xaxis.title.offsetY,text:n.config.xaxis.title.text,textAnchor:"middle",fontSize:n.config.xaxis.title.style.fontSize,fontFamily:n.config.xaxis.title.style.fontFamily,fontWeight:n.config.xaxis.title.style.fontWeight,foreColor:n.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+n.config.xaxis.title.style.cssClass});F.add(S),c.add(F)}if(n.config.xaxis.axisBorder.show){var P=n.globals.barPadForNumericAxis,O=i.drawLine(n.globals.padHorizontal+n.config.xaxis.axisBorder.offsetX-P,this.offY,this.xaxisBorderWidth+P,this.offY,n.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(O):c.add(O)}return c}},{key:"drawXAxisLabelAndGroup",value:function(n,i,c,A,h,u){var p,x=this,k=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},F=[],S=[],P=this.w,O=k.xaxisFontSize||this.xaxisFontSize,G=k.xaxisFontFamily||this.xaxisFontFamily,V=k.xaxisForeColors||this.xaxisForeColors,ee=k.fontWeight||P.config.xaxis.labels.style.fontWeight,re=k.cssClass||P.config.xaxis.labels.style.cssClass,le=P.globals.padHorizontal,v=A.length,Q=P.config.xaxis.type==="category"?P.globals.dataPoints:v;if(Q===0&&v>Q&&(Q=v),h){var K=Q>1?Q-1:Q;p=P.globals.gridWidth/Math.min(K,v-1),le=le+u(0,p)/2+P.config.xaxis.labels.offsetX}else p=P.globals.gridWidth/Q,le=le+u(0,p)+P.config.xaxis.labels.offsetX;for(var ge=function(me){var Fe=le-u(me,p)/2+P.config.xaxis.labels.offsetX;me===0&&v===1&&p/2===le&&Q===1&&(Fe=P.globals.gridWidth/2);var Ie=x.axesUtils.getLabel(A,P.globals.timescaleLabels,Fe,me,F,O,n),ze=28;if(P.globals.rotateXLabels&&n&&(ze=22),P.config.xaxis.title.text&&P.config.xaxis.position==="top"&&(ze+=parseFloat(P.config.xaxis.title.style.fontSize)+2),n||(ze=ze+parseFloat(O)+(P.globals.xAxisLabelsHeight-P.globals.xAxisGroupLabelsHeight)+(P.globals.rotateXLabels?10:0)),Ie=P.config.xaxis.tickAmount!==void 0&&P.config.xaxis.tickAmount!=="dataPoints"&&P.config.xaxis.type!=="datetime"?x.axesUtils.checkLabelBasedOnTickamount(me,Ie,v):x.axesUtils.checkForOverflowingLabels(me,Ie,v,F,S),P.config.xaxis.labels.show){var Ze=i.drawText({x:Ie.x,y:x.offY+P.config.xaxis.labels.offsetY+ze-(P.config.xaxis.position==="top"?P.globals.xAxisHeight+P.config.xaxis.axisTicks.height-2:0),text:Ie.text,textAnchor:"middle",fontWeight:Ie.isBold?600:ee,fontSize:O,fontFamily:G,foreColor:Array.isArray(V)?n&&P.config.xaxis.convertedCatToNumeric?V[P.globals.minX+me-1]:V[me]:V,isPlainText:!1,cssClass:(n?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+re});if(c.add(Ze),Ze.on("click",function(et){if(typeof P.config.chart.events.xAxisLabelClick=="function"){var ct=Object.assign({},P,{labelIndex:me});P.config.chart.events.xAxisLabelClick(et,x.ctx,ct)}}),n){var Ke=document.createElementNS(P.globals.SVGNS,"title");Ke.textContent=Array.isArray(Ie.text)?Ie.text.join(" "):Ie.text,Ze.node.appendChild(Ke),Ie.text!==""&&(F.push(Ie.text),S.push(Ie))}}me<v-1&&(le+=u(me+1,p))},ce=0;ce<=v-1;ce++)ge(ce)}},{key:"drawXaxisInversed",value:function(n){var i,c,A=this,h=this.w,u=new _(this.ctx),p=h.config.yaxis[0].opposite?h.globals.translateYAxisX[n]:0,x=u.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:n}),k=u.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+p+", 0)"});x.add(k);var F=[];if(h.config.yaxis[n].show)for(var S=0;S<this.xaxisLabels.length;S++)F.push(this.xaxisLabels[S]);i=h.globals.gridHeight/F.length,c=-i/2.2;var P=h.globals.yLabelFormatters[0],O=h.config.yaxis[0].labels;if(O.show)for(var G=function(K){var ge=F[K]===void 0?"":F[K];ge=P(ge,{seriesIndex:n,dataPointIndex:K,w:h});var ce=A.axesUtils.getYAxisForeColor(O.style.colors,n),me=0;Array.isArray(ge)&&(me=ge.length/2*parseInt(O.style.fontSize,10));var Fe=O.offsetX-15,Ie="end";A.yaxis.opposite&&(Ie="start"),h.config.yaxis[0].labels.align==="left"?(Fe=O.offsetX,Ie="start"):h.config.yaxis[0].labels.align==="center"?(Fe=O.offsetX,Ie="middle"):h.config.yaxis[0].labels.align==="right"&&(Ie="end");var ze=u.drawText({x:Fe,y:c+i+O.offsetY-me,text:ge,textAnchor:Ie,foreColor:Array.isArray(ce)?ce[K]:ce,fontSize:O.style.fontSize,fontFamily:O.style.fontFamily,fontWeight:O.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+O.style.cssClass,maxWidth:O.maxWidth});k.add(ze),ze.on("click",function(et){if(typeof h.config.chart.events.xAxisLabelClick=="function"){var ct=Object.assign({},h,{labelIndex:K});h.config.chart.events.xAxisLabelClick(et,A.ctx,ct)}});var Ze=document.createElementNS(h.globals.SVGNS,"title");if(Ze.textContent=Array.isArray(ge)?ge.join(" "):ge,ze.node.appendChild(Ze),h.config.yaxis[n].labels.rotate!==0){var Ke=u.rotateAroundCenter(ze.node);ze.node.setAttribute("transform","rotate(".concat(h.config.yaxis[n].labels.rotate," 0 ").concat(Ke.y,")"))}c+=i},V=0;V<=F.length-1;V++)G(V);if(h.config.yaxis[0].title.text!==void 0){var ee=u.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+p+", 0)"}),re=u.drawText({x:h.config.yaxis[0].title.offsetX,y:h.globals.gridHeight/2+h.config.yaxis[0].title.offsetY,text:h.config.yaxis[0].title.text,textAnchor:"middle",foreColor:h.config.yaxis[0].title.style.color,fontSize:h.config.yaxis[0].title.style.fontSize,fontWeight:h.config.yaxis[0].title.style.fontWeight,fontFamily:h.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+h.config.yaxis[0].title.style.cssClass});ee.add(re),x.add(ee)}var le=0;this.isCategoryBarHorizontal&&h.config.yaxis[0].opposite&&(le=h.globals.gridWidth);var v=h.config.xaxis.axisBorder;if(v.show){var Q=u.drawLine(h.globals.padHorizontal+v.offsetX+le,1+v.offsetY,h.globals.padHorizontal+v.offsetX+le,h.globals.gridHeight+v.offsetY,v.color,0);this.elgrid&&this.elgrid.elGridBorders&&h.config.grid.show?this.elgrid.elGridBorders.add(Q):x.add(Q)}return h.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(le,F.length,h.config.yaxis[0].axisBorder,h.config.yaxis[0].axisTicks,0,i,x),x}},{key:"drawXaxisTicks",value:function(n,i,c){var A=this.w,h=n;if(!(n<0||n-2>A.globals.gridWidth)){var u=this.offY+A.config.xaxis.axisTicks.offsetY;if(i=i+u+A.config.xaxis.axisTicks.height,A.config.xaxis.position==="top"&&(i=u-A.config.xaxis.axisTicks.height),A.config.xaxis.axisTicks.show){var p=new _(this.ctx).drawLine(n+A.config.xaxis.axisTicks.offsetX,u+A.config.xaxis.offsetY,h+A.config.xaxis.axisTicks.offsetX,i+A.config.xaxis.offsetY,A.config.xaxis.axisTicks.color);c.add(p),p.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var n=this.w,i=[],c=this.xaxisLabels.length,A=n.globals.padHorizontal;if(n.globals.timescaleLabels.length>0)for(var h=0;h<c;h++)A=this.xaxisLabels[h].position,i.push(A);else for(var u=c,p=0;p<u;p++){var x=u;n.globals.isXNumeric&&n.config.chart.type!=="bar"&&(x-=1),A+=n.globals.gridWidth/x,i.push(A)}return i}},{key:"xAxisLabelCorrections",value:function(){var n=this.w,i=new _(this.ctx),c=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),A=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),h=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),u=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(n.globals.rotateXLabels||n.config.xaxis.labels.rotateAlways)for(var p=0;p<A.length;p++){var x=i.rotateAroundCenter(A[p]);x.y=x.y-1,x.x=x.x+1,A[p].setAttribute("transform","rotate(".concat(n.config.xaxis.labels.rotate," ").concat(x.x," ").concat(x.y,")")),A[p].setAttribute("text-anchor","end"),c.setAttribute("transform","translate(0, ".concat(-10,")"));var k=A[p].childNodes;n.config.xaxis.labels.trim&&Array.prototype.forEach.call(k,function(O){i.placeTextWithEllipsis(O,O.textContent,n.globals.xAxisLabelsHeight-(n.config.legend.position==="bottom"?20:10))})}else(function(){for(var O=n.globals.gridWidth/(n.globals.labels.length+1),G=0;G<A.length;G++){var V=A[G].childNodes;n.config.xaxis.labels.trim&&n.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(V,function(ee){i.placeTextWithEllipsis(ee,ee.textContent,O)})}})();if(h.length>0){var F=h[h.length-1].getBBox(),S=h[0].getBBox();F.x<-20&&h[h.length-1].parentNode.removeChild(h[h.length-1]),S.x+S.width>n.globals.gridWidth&&!n.globals.isBarHorizontal&&h[0].parentNode.removeChild(h[0]);for(var P=0;P<u.length;P++)i.placeTextWithEllipsis(u[P],u[P].textContent,n.config.yaxis[0].labels.maxWidth-(n.config.yaxis[0].title.text?2*parseFloat(n.config.yaxis[0].title.style.fontSize):0)-15)}}}]),se}(),Ft=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w;var i=this.w;this.xaxisLabels=i.globals.labels.slice(),this.axesUtils=new J(n),this.isRangeBar=i.globals.seriesRange.length&&i.globals.isBarHorizontal,i.globals.timescaleLabels.length>0&&(this.xaxisLabels=i.globals.timescaleLabels.slice())}return d(se,[{key:"drawGridArea",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.w,c=new _(this.ctx);n||(n=c.group({class:"apexcharts-grid"}));var A=c.drawLine(i.globals.padHorizontal,1,i.globals.padHorizontal,i.globals.gridHeight,"transparent"),h=c.drawLine(i.globals.padHorizontal,i.globals.gridHeight,i.globals.gridWidth,i.globals.gridHeight,"transparent");return n.add(h),n.add(A),n}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var n=this.renderGrid();return this.drawGridArea(n.el),n}return null}},{key:"createGridMask",value:function(){var n=this.w,i=n.globals,c=new _(this.ctx),A=Array.isArray(n.config.stroke.width)?Math.max.apply(Math,C(n.config.stroke.width)):n.config.stroke.width,h=function(F){var S=document.createElementNS(i.SVGNS,"clipPath");return S.setAttribute("id",F),S};i.dom.elGridRectMask=h("gridRectMask".concat(i.cuid)),i.dom.elGridRectBarMask=h("gridRectBarMask".concat(i.cuid)),i.dom.elGridRectMarkerMask=h("gridRectMarkerMask".concat(i.cuid)),i.dom.elForecastMask=h("forecastMask".concat(i.cuid)),i.dom.elNonForecastMask=h("nonForecastMask".concat(i.cuid));var u=0,p=0;(["bar","rangeBar","candlestick","boxPlot"].includes(n.config.chart.type)||n.globals.comboBarCount>0)&&n.globals.isXNumeric&&!n.globals.isBarHorizontal&&(u=Math.max(n.config.grid.padding.left,i.barPadForNumericAxis),p=Math.max(n.config.grid.padding.right,i.barPadForNumericAxis)),i.dom.elGridRect=c.drawRect(0,0,i.gridWidth,i.gridHeight,0,"#fff"),i.dom.elGridRectBar=c.drawRect(-A/2-u-2,-A/2-2,i.gridWidth+A+p+u+4,i.gridHeight+A+4,0,"#fff");var x=n.globals.markers.largestSize;i.dom.elGridRectMarker=c.drawRect(-x,-x,i.gridWidth+2*x,i.gridHeight+2*x,0,"#fff"),i.dom.elGridRectMask.appendChild(i.dom.elGridRect.node),i.dom.elGridRectBarMask.appendChild(i.dom.elGridRectBar.node),i.dom.elGridRectMarkerMask.appendChild(i.dom.elGridRectMarker.node);var k=i.dom.baseEl.querySelector("defs");k.appendChild(i.dom.elGridRectMask),k.appendChild(i.dom.elGridRectBarMask),k.appendChild(i.dom.elGridRectMarkerMask),k.appendChild(i.dom.elForecastMask),k.appendChild(i.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(n){var i=n.i,c=n.x1,A=n.y1,h=n.x2,u=n.y2,p=n.xCount,x=n.parent,k=this.w;if(!(i===0&&k.globals.skipFirstTimelinelabel||i===p-1&&k.globals.skipLastTimelinelabel&&!k.config.xaxis.labels.formatter||k.config.chart.type==="radar")){k.config.grid.xaxis.lines.show&&this._drawGridLine({i,x1:c,y1:A,x2:h,y2:u,xCount:p,parent:x});var F=0;if(k.globals.hasXaxisGroups&&k.config.xaxis.tickPlacement==="between"){var S=k.globals.groups;if(S){for(var P=0,O=0;P<i&&O<S.length;O++)P+=S[O].cols;P===i&&(F=.6*k.globals.xAxisLabelsHeight)}}new qe(this.ctx).drawXaxisTicks(c,F,k.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(n){var i=n.i,c=n.x1,A=n.y1,h=n.x2,u=n.y2,p=n.xCount,x=n.parent,k=this.w,F=x.node.classList.contains("apexcharts-gridlines-horizontal"),S=k.globals.barPadForNumericAxis,P=A===0&&u===0||c===0&&h===0||A===k.globals.gridHeight&&u===k.globals.gridHeight||k.globals.isBarHorizontal&&(i===0||i===p-1),O=new _(this).drawLine(c-(F?S:0),A,h+(F?S:0),u,k.config.grid.borderColor,k.config.grid.strokeDashArray);O.node.classList.add("apexcharts-gridline"),P&&k.config.grid.show?this.elGridBorders.add(O):x.add(O)}},{key:"_drawGridBandRect",value:function(n){var i=n.c,c=n.x1,A=n.y1,h=n.x2,u=n.y2,p=n.type,x=this.w,k=new _(this.ctx),F=x.globals.barPadForNumericAxis,S=x.config.grid[p].colors[i],P=k.drawRect(c-(p==="row"?F:0),A,h+(p==="row"?2*F:0),u,0,S,x.config.grid[p].opacity);this.elg.add(P),P.attr("clip-path","url(#gridRectMask".concat(x.globals.cuid,")")),P.node.classList.add("apexcharts-grid-".concat(p))}},{key:"_drawXYLines",value:function(n){var i=this,c=n.xCount,A=n.tickAmount,h=this.w;if(h.config.grid.xaxis.lines.show||h.config.xaxis.axisTicks.show){var u,p=h.globals.padHorizontal,x=h.globals.gridHeight;h.globals.timescaleLabels.length?function(G){for(var V=G.xC,ee=G.x1,re=G.y1,le=G.x2,v=G.y2,Q=0;Q<V;Q++)ee=i.xaxisLabels[Q].position,le=i.xaxisLabels[Q].position,i._drawGridLines({i:Q,x1:ee,y1:re,x2:le,y2:v,xCount:c,parent:i.elgridLinesV})}({xC:c,x1:p,y1:0,x2:u,y2:x}):(h.globals.isXNumeric&&(c=h.globals.xAxisScale.result.length),function(G){for(var V=G.xC,ee=G.x1,re=G.y1,le=G.x2,v=G.y2,Q=0;Q<V+(h.globals.isXNumeric?0:1);Q++)Q===0&&V===1&&h.globals.dataPoints===1&&(le=ee=h.globals.gridWidth/2),i._drawGridLines({i:Q,x1:ee,y1:re,x2:le,y2:v,xCount:c,parent:i.elgridLinesV}),le=ee+=h.globals.gridWidth/(h.globals.isXNumeric?V-1:V)}({xC:c,x1:p,y1:0,x2:u,y2:x}))}if(h.config.grid.yaxis.lines.show){var k=0,F=0,S=h.globals.gridWidth,P=A+1;this.isRangeBar&&(P=h.globals.labels.length);for(var O=0;O<P+(this.isRangeBar?1:0);O++)this._drawGridLine({i:O,xCount:P+(this.isRangeBar?1:0),x1:0,y1:k,x2:S,y2:F,parent:this.elgridLinesH}),F=k+=h.globals.gridHeight/(this.isRangeBar?P:A)}}},{key:"_drawInvertedXYLines",value:function(n){var i=n.xCount,c=this.w;if(c.config.grid.xaxis.lines.show||c.config.xaxis.axisTicks.show)for(var A,h=c.globals.padHorizontal,u=c.globals.gridHeight,p=0;p<i+1;p++)c.config.grid.xaxis.lines.show&&this._drawGridLine({i:p,xCount:i+1,x1:h,y1:0,x2:A,y2:u,parent:this.elgridLinesV}),new qe(this.ctx).drawXaxisTicks(h,0,c.globals.dom.elGraphical),A=h+=c.globals.gridWidth/i;if(c.config.grid.yaxis.lines.show)for(var x=0,k=0,F=c.globals.gridWidth,S=0;S<c.globals.dataPoints+1;S++)this._drawGridLine({i:S,xCount:c.globals.dataPoints+1,x1:0,y1:x,x2:F,y2:k,parent:this.elgridLinesH}),k=x+=c.globals.gridHeight/c.globals.dataPoints}},{key:"renderGrid",value:function(){var n=this.w,i=n.globals,c=new _(this.ctx);this.elg=c.group({class:"apexcharts-grid"}),this.elgridLinesH=c.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=c.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=c.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),n.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var A=0;A<i.seriesYAxisMap.length&&i.ignoreYAxisIndexes.includes(A);)A++;A===i.seriesYAxisMap.length&&(A=0);var h,u=i.yAxisScale[A].result.length-1;if(!i.isBarHorizontal||this.isRangeBar){var p,x,k;h=this.xaxisLabels.length,this.isRangeBar&&(u=i.labels.length,n.config.xaxis.tickAmount&&n.config.xaxis.labels.formatter&&(h=n.config.xaxis.tickAmount),((p=i.yAxisScale)===null||p===void 0||(x=p[A])===null||x===void 0||(k=x.result)===null||k===void 0?void 0:k.length)>0&&n.config.xaxis.type!=="datetime"&&(h=i.yAxisScale[A].result.length-1)),this._drawXYLines({xCount:h,tickAmount:u})}else h=u,u=i.xTickAmount,this._drawInvertedXYLines({xCount:h,tickAmount:u});return this.drawGridBands(h,u),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:i.gridWidth/h}}},{key:"drawGridBands",value:function(n,i){var c,A,h=this,u=this.w;if(((c=u.config.grid.row.colors)===null||c===void 0?void 0:c.length)>0&&function(G,V,ee,re,le,v){for(var Q=0,K=0;Q<V;Q++,K++)K>=u.config.grid[G].colors.length&&(K=0),h._drawGridBandRect({c:K,x1:ee,y1:re,x2:le,y2:v,type:G}),re+=u.globals.gridHeight/i}("row",i,0,0,u.globals.gridWidth,u.globals.gridHeight/i),((A=u.config.grid.column.colors)===null||A===void 0?void 0:A.length)>0){var p=u.globals.isBarHorizontal||u.config.xaxis.tickPlacement!=="on"||u.config.xaxis.type!=="category"&&!u.config.xaxis.convertedCatToNumeric?n:n-1;u.globals.isXNumeric&&(p=u.globals.xAxisScale.result.length-1);for(var x=u.globals.padHorizontal,k=u.globals.padHorizontal+u.globals.gridWidth/p,F=u.globals.gridHeight,S=0,P=0;S<n;S++,P++){var O;P>=u.config.grid.column.colors.length&&(P=0),u.config.xaxis.type==="datetime"&&(x=this.xaxisLabels[S].position,k=(((O=this.xaxisLabels[S+1])===null||O===void 0?void 0:O.position)||u.globals.gridWidth)-this.xaxisLabels[S].position),this._drawGridBandRect({c:P,x1:x,y1:0,x2:k,y2:F,type:"column"}),x+=u.globals.gridWidth/p}}}}]),se}(),$e=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.coreUtils=new ie(this.ctx)}return d(se,[{key:"niceScale",value:function(n,i){var c,A,h,u,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=1e-11,k=this.w,F=k.globals;F.isBarHorizontal?(c=k.config.xaxis,A=Math.max((F.svgWidth-100)/25,2)):(c=k.config.yaxis[p],A=Math.max((F.svgHeight-100)/15,2)),D.isNumber(A)||(A=10),h=c.min!==void 0&&c.min!==null,u=c.max!==void 0&&c.min!==null;var S=c.stepSize!==void 0&&c.stepSize!==null,P=c.tickAmount!==void 0&&c.tickAmount!==null,O=P?c.tickAmount:F.niceScaleDefaultTicks[Math.min(Math.round(A/2),F.niceScaleDefaultTicks.length-1)];if(F.isMultipleYAxis&&!P&&F.multiAxisTickAmount>0&&(O=F.multiAxisTickAmount,P=!0),O=O==="dataPoints"?F.dataPoints-1:Math.abs(Math.round(O)),(n===Number.MIN_VALUE&&i===0||!D.isNumber(n)&&!D.isNumber(i)||n===Number.MIN_VALUE&&i===-Number.MAX_VALUE)&&(n=D.isNumber(c.min)?c.min:0,i=D.isNumber(c.max)?c.max:n+O,F.allSeriesCollapsed=!1),n>i){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var G=i;i=n,n=G}else n===i&&(n=n===0?0:n-1,i=i===0?2:i+1);var V=[];O<1&&(O=1);var ee=O,re=Math.abs(i-n);!h&&n>0&&n/re<.15&&(n=0,h=!0),!u&&i<0&&-i/re<.15&&(i=0,u=!0);var le=(re=Math.abs(i-n))/ee,v=le,Q=Math.floor(Math.log10(v)),K=Math.pow(10,Q),ge=Math.ceil(v/K);if(le=v=(ge=F.niceScaleAllowedMagMsd[F.yValueDecimal===0?0:1][ge])*K,F.isBarHorizontal&&c.stepSize&&c.type!=="datetime"?(le=c.stepSize,S=!0):S&&(le=c.stepSize),S&&c.forceNiceScale){var ce=Math.floor(Math.log10(le));le*=Math.pow(10,Q-ce)}if(h&&u){var me=re/ee;if(P)if(S)if(D.mod(re,le)!=0){var Fe=D.getGCD(le,me);le=me/Fe<10?Fe:me}else D.mod(le,me)==0?le=me:(me=le,P=!1);else le=me;else if(S)D.mod(re,le)==0?me=le:le=me;else if(D.mod(re,le)==0)me=le;else{me=re/(ee=Math.ceil(re/le));var Ie=D.getGCD(re,le);re/Ie<A&&(me=Ie),le=me}ee=Math.round(re/le)}else{if(h||u){if(u)if(P)n=i-le*ee;else{var ze=n;n=le*Math.floor(n/le),Math.abs(i-n)/D.getGCD(re,le)>A&&(n=i-le*O,n+=le*Math.floor((ze-n)/le))}else if(h)if(P)i=n+le*ee;else{var Ze=i;i=le*Math.ceil(i/le),Math.abs(i-n)/D.getGCD(re,le)>A&&(i=n+le*O,i+=le*Math.ceil((Ze-i)/le))}}else if(F.isMultipleYAxis&&P){var Ke=le*Math.floor(n/le),et=Ke+le*ee;et<i&&(le*=2),et=i,i=(n=Ke)+le*ee,re=Math.abs(i-n),n>0&&n<Math.abs(et-i)&&(n=0,i=le*ee),i<0&&-i<Math.abs(Ke-n)&&(i=0,n=-le*ee)}else n=le*Math.floor(n/le),i=le*Math.ceil(i/le);re=Math.abs(i-n),le=D.getGCD(re,le),ee=Math.round(re/le)}if(P||h||u||(ee=Math.ceil((re-x)/(le+x)))>16&&D.getPrimeFactors(ee).length<2&&ee++,!P&&c.forceNiceScale&&F.yValueDecimal===0&&ee>re&&(ee=re,le=Math.round(re/ee)),ee>A&&(!P&&!S||c.forceNiceScale)){var ct=D.getPrimeFactors(ee),mt=ct.length-1,wt=ee;e:for(var Ut=0;Ut<mt;Ut++)for(var Et=0;Et<=mt-Ut;Et++){for(var Dt=Math.min(Et+Ut,mt),Kt=wt,Nt=1,jr=Et;jr<=Dt;jr++)Nt*=ct[jr];if((Kt/=Nt)<A){wt=Kt;break e}}le=wt===ee?re:re/wt,ee=Math.round(re/le)}F.isMultipleYAxis&&F.multiAxisTickAmount==0&&F.ignoreYAxisIndexes.indexOf(p)<0&&(F.multiAxisTickAmount=ee);var pr=n-le,zr=le*x;do pr+=le,V.push(D.stripNumber(pr,7));while(i-pr>zr);return{result:V,niceMin:V[0],niceMax:V[V.length-1]}}},{key:"linearScale",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,u=Math.abs(i-n),p=[];if(n===i)return{result:p=[n],niceMin:p[0],niceMax:p[p.length-1]};(c=this._adjustTicksForSmallRange(c,A,u))==="dataPoints"&&(c=this.w.globals.dataPoints-1),h||(h=u/c),h=Math.round(10*(h+Number.EPSILON))/10,c===Number.MAX_VALUE&&(c=5,h=1);for(var x=n;c>=0;)p.push(x),x=D.preciseAddition(x,h),c-=1;return{result:p,niceMin:p[0],niceMax:p[p.length-1]}}},{key:"logarithmicScaleNice",value:function(n,i,c){i<=0&&(i=Math.max(n,c)),n<=0&&(n=Math.min(i,c));for(var A=[],h=Math.ceil(Math.log(i)/Math.log(c)+1),u=Math.floor(Math.log(n)/Math.log(c));u<h;u++)A.push(Math.pow(c,u));return{result:A,niceMin:A[0],niceMax:A[A.length-1]}}},{key:"logarithmicScale",value:function(n,i,c){i<=0&&(i=Math.max(n,c)),n<=0&&(n=Math.min(i,c));for(var A=[],h=Math.log(i)/Math.log(c),u=Math.log(n)/Math.log(c),p=h-u,x=Math.round(p),k=p/x,F=0,S=u;F<x;F++,S+=k)A.push(Math.pow(c,S));return A.push(Math.pow(c,h)),{result:A,niceMin:n,niceMax:i}}},{key:"_adjustTicksForSmallRange",value:function(n,i,c){var A=n;if(i!==void 0&&this.w.config.yaxis[i].labels.formatter&&this.w.config.yaxis[i].tickAmount===void 0){var h=Number(this.w.config.yaxis[i].labels.formatter(1));D.isNumber(h)&&this.w.globals.yValueDecimal===0&&(A=Math.ceil(c))}return A<n?A:n}},{key:"setYScaleForIndex",value:function(n,i,c){var A=this.w.globals,h=this.w.config,u=A.isBarHorizontal?h.xaxis:h.yaxis[n];A.yAxisScale[n]===void 0&&(A.yAxisScale[n]=[]);var p=Math.abs(c-i);u.logarithmic&&p<=5&&(A.invalidLogScale=!0),u.logarithmic&&p>5?(A.allSeriesCollapsed=!1,A.yAxisScale[n]=u.forceNiceScale?this.logarithmicScaleNice(i,c,u.logBase):this.logarithmicScale(i,c,u.logBase)):c!==-Number.MAX_VALUE&&D.isNumber(c)&&i!==Number.MAX_VALUE&&D.isNumber(i)?(A.allSeriesCollapsed=!1,A.yAxisScale[n]=this.niceScale(i,c,n)):A.yAxisScale[n]=this.niceScale(Number.MIN_VALUE,0,n)}},{key:"setXScale",value:function(n,i){var c=this.w,A=c.globals,h=Math.abs(i-n);if(i!==-Number.MAX_VALUE&&D.isNumber(i)){var u=A.xTickAmount+1;h<10&&h>1&&(u=h),A.xAxisScale=this.linearScale(n,i,u,0,c.config.xaxis.stepSize)}else A.xAxisScale=this.linearScale(0,10,10);return A.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var n=this,i=this.w.config,c=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var A=c.seriesYAxisMap,h=c.minYArr,u=c.maxYArr;c.allSeriesCollapsed=!0,c.barGroups=[],A.forEach(function(p,x){var k=[];p.forEach(function(F){var S=i.series[F].group;k.indexOf(S)<0&&k.push(S)}),p.length>0?function(){var F,S,P=Number.MAX_VALUE,O=-Number.MAX_VALUE,G=P,V=O;if(i.chart.stacked)(function(){var le=new Array(c.dataPoints).fill(0),v=[],Q=[],K=[];k.forEach(function(){v.push(le.map(function(){return Number.MIN_VALUE})),Q.push(le.map(function(){return Number.MIN_VALUE})),K.push(le.map(function(){return Number.MIN_VALUE}))});for(var ge=function(me){!F&&i.series[p[me]].type&&(F=i.series[p[me]].type);var Fe=p[me];S=i.series[Fe].group?i.series[Fe].group:"axis-".concat(x),!(c.collapsedSeriesIndices.indexOf(Fe)<0&&c.ancillaryCollapsedSeriesIndices.indexOf(Fe)<0)||(c.allSeriesCollapsed=!1,k.forEach(function(Ie,ze){if(i.series[Fe].group===Ie)for(var Ze=0;Ze<c.series[Fe].length;Ze++){var Ke=c.series[Fe][Ze];Ke>=0?Q[ze][Ze]+=Ke:K[ze][Ze]+=Ke,v[ze][Ze]+=Ke,G=Math.min(G,Ke),V=Math.max(V,Ke)}})),F!=="bar"&&F!=="column"||c.barGroups.push(S)},ce=0;ce<p.length;ce++)ge(ce);F||(F=i.chart.type),F==="bar"||F==="column"?k.forEach(function(me,Fe){P=Math.min(P,Math.min.apply(null,K[Fe])),O=Math.max(O,Math.max.apply(null,Q[Fe]))}):(k.forEach(function(me,Fe){G=Math.min(G,Math.min.apply(null,v[Fe])),V=Math.max(V,Math.max.apply(null,v[Fe]))}),P=G,O=V),P===Number.MIN_VALUE&&O===Number.MIN_VALUE&&(O=-Number.MAX_VALUE)})();else for(var ee=0;ee<p.length;ee++){var re=p[ee];P=Math.min(P,h[re]),O=Math.max(O,u[re]),!(c.collapsedSeriesIndices.indexOf(re)<0&&c.ancillaryCollapsedSeriesIndices.indexOf(re)<0)||(c.allSeriesCollapsed=!1)}i.yaxis[x].min!==void 0&&(P=typeof i.yaxis[x].min=="function"?i.yaxis[x].min(P):i.yaxis[x].min),i.yaxis[x].max!==void 0&&(O=typeof i.yaxis[x].max=="function"?i.yaxis[x].max(O):i.yaxis[x].max),c.barGroups=c.barGroups.filter(function(le,v,Q){return Q.indexOf(le)===v}),n.setYScaleForIndex(x,P,O),p.forEach(function(le){h[le]=c.yAxisScale[x].niceMin,u[le]=c.yAxisScale[x].niceMax})}():n.setYScaleForIndex(x,0,-Number.MAX_VALUE)})}}]),se}(),be=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.scales=new $e(n)}return d(se,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w.config,u=this.w.globals,p=-Number.MAX_VALUE,x=Number.MIN_VALUE;A===null&&(A=n+1);var k=u.series,F=k,S=k;h.chart.type==="candlestick"?(F=u.seriesCandleL,S=u.seriesCandleH):h.chart.type==="boxPlot"?(F=u.seriesCandleO,S=u.seriesCandleC):u.isRangeData&&(F=u.seriesRangeStart,S=u.seriesRangeEnd);var P=!1;if(u.seriesX.length>=A){var O,G=(O=u.brushSource)===null||O===void 0?void 0:O.w.config.chart.brush;(h.chart.zoom.enabled&&h.chart.zoom.autoScaleYaxis||G!=null&&G.enabled&&G!=null&&G.autoScaleYaxis)&&(P=!0)}for(var V=n;V<A;V++){u.dataPoints=Math.max(u.dataPoints,k[V].length);var ee=h.series[V].type;u.categoryLabels.length&&(u.dataPoints=u.categoryLabels.filter(function(K){return K!==void 0}).length),u.labels.length&&h.xaxis.type!=="datetime"&&u.series.reduce(function(K,ge){return K+ge.length},0)!==0&&(u.dataPoints=Math.max(u.dataPoints,u.labels.length));var re=0,le=k[V].length-1;if(P){if(h.xaxis.min)for(;re<le&&u.seriesX[V][re]<h.xaxis.min;re++);if(h.xaxis.max)for(;le>re&&u.seriesX[V][le]>h.xaxis.max;le--);}for(var v=re;v<=le&&v<u.series[V].length;v++){var Q=k[V][v];if(Q!==null&&D.isNumber(Q)){switch(S[V][v]!==void 0&&(p=Math.max(p,S[V][v]),i=Math.min(i,S[V][v])),F[V][v]!==void 0&&(i=Math.min(i,F[V][v]),c=Math.max(c,F[V][v])),ee){case"candlestick":u.seriesCandleC[V][v]!==void 0&&(p=Math.max(p,u.seriesCandleH[V][v]),i=Math.min(i,u.seriesCandleL[V][v]));break;case"boxPlot":u.seriesCandleC[V][v]!==void 0&&(p=Math.max(p,u.seriesCandleC[V][v]),i=Math.min(i,u.seriesCandleO[V][v]))}ee&&ee!=="candlestick"&&ee!=="boxPlot"&&ee!=="rangeArea"&&ee!=="rangeBar"&&(p=Math.max(p,u.series[V][v]),i=Math.min(i,u.series[V][v])),c=p,u.seriesGoals[V]&&u.seriesGoals[V][v]&&Array.isArray(u.seriesGoals[V][v])&&u.seriesGoals[V][v].forEach(function(K){x!==Number.MIN_VALUE&&(x=Math.min(x,K.value),i=x),p=Math.max(p,K.value),c=p}),D.isFloat(Q)&&(Q=D.noExponents(Q),u.yValueDecimal=Math.max(u.yValueDecimal,Q.toString().split(".")[1].length)),x>F[V][v]&&F[V][v]<0&&(x=F[V][v])}else u.hasNullValues=!0}ee!=="bar"&&ee!=="column"||(x<0&&p<0&&(p=0,c=Math.max(c,0)),x===Number.MIN_VALUE&&(x=0,i=Math.min(i,0)))}return h.chart.type==="rangeBar"&&u.seriesRangeStart.length&&u.isBarHorizontal&&(x=i),h.chart.type==="bar"&&(x<0&&p<0&&(p=0),x===Number.MIN_VALUE&&(x=0)),{minY:x,maxY:p,lowestY:i,highestY:c}}},{key:"setYRange",value:function(){var n=this.w.globals,i=this.w.config;n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE;var c,A=Number.MAX_VALUE;if(n.isMultipleYAxis){A=Number.MAX_VALUE;for(var h=0;h<n.series.length;h++)c=this.getMinYMaxY(h),n.minYArr[h]=c.lowestY,n.maxYArr[h]=c.highestY,A=Math.min(A,c.lowestY)}return c=this.getMinYMaxY(0,A,null,n.series.length),i.chart.type==="bar"?(n.minY=c.minY,n.maxY=c.maxY):(n.minY=c.lowestY,n.maxY=c.highestY),A=c.lowestY,i.chart.stacked&&this._setStackedMinMax(),i.chart.type==="line"||i.chart.type==="area"||i.chart.type==="scatter"||i.chart.type==="candlestick"||i.chart.type==="boxPlot"||i.chart.type==="rangeBar"&&!n.isBarHorizontal?n.minY===Number.MIN_VALUE&&A!==-Number.MAX_VALUE&&A!==n.maxY&&(n.minY=A):n.minY=n.minY!==Number.MIN_VALUE?Math.min(c.minY,n.minY):c.minY,i.yaxis.forEach(function(u,p){u.max!==void 0&&(typeof u.max=="number"?n.maxYArr[p]=u.max:typeof u.max=="function"&&(n.maxYArr[p]=u.max(n.isMultipleYAxis?n.maxYArr[p]:n.maxY)),n.maxY=n.maxYArr[p]),u.min!==void 0&&(typeof u.min=="number"?n.minYArr[p]=u.min:typeof u.min=="function"&&(n.minYArr[p]=u.min(n.isMultipleYAxis?n.minYArr[p]===Number.MIN_VALUE?0:n.minYArr[p]:n.minY)),n.minY=n.minYArr[p])}),n.isBarHorizontal&&["min","max"].forEach(function(u){i.xaxis[u]!==void 0&&typeof i.xaxis[u]=="number"&&(u==="min"?n.minY=i.xaxis[u]:n.maxY=i.xaxis[u])}),n.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),n.minY=A):(this.scales.setYScaleForIndex(0,n.minY,n.maxY),n.minY=n.yAxisScale[0].niceMin,n.maxY=n.yAxisScale[0].niceMax,n.minYArr[0]=n.minY,n.maxYArr[0]=n.maxY),n.barGroups=[],n.lineGroups=[],n.areaGroups=[],i.series.forEach(function(u){switch(u.type||i.chart.type){case"bar":case"column":n.barGroups.push(u.group);break;case"line":n.lineGroups.push(u.group);break;case"area":n.areaGroups.push(u.group)}}),n.barGroups=n.barGroups.filter(function(u,p,x){return x.indexOf(u)===p}),n.lineGroups=n.lineGroups.filter(function(u,p,x){return x.indexOf(u)===p}),n.areaGroups=n.areaGroups.filter(function(u,p,x){return x.indexOf(u)===p}),{minY:n.minY,maxY:n.maxY,minYArr:n.minYArr,maxYArr:n.maxYArr,yAxisScale:n.yAxisScale}}},{key:"setXRange",value:function(){var n=this.w.globals,i=this.w.config,c=i.xaxis.type==="numeric"||i.xaxis.type==="datetime"||i.xaxis.type==="category"&&!n.noLabelsProvided||n.noLabelsProvided||n.isXNumeric;if(n.isXNumeric&&function(){for(var x=0;x<n.series.length;x++)if(n.labels[x])for(var k=0;k<n.labels[x].length;k++)n.labels[x][k]!==null&&D.isNumber(n.labels[x][k])&&(n.maxX=Math.max(n.maxX,n.labels[x][k]),n.initialMaxX=Math.max(n.maxX,n.labels[x][k]),n.minX=Math.min(n.minX,n.labels[x][k]),n.initialMinX=Math.min(n.minX,n.labels[x][k]))}(),n.noLabelsProvided&&i.xaxis.categories.length===0&&(n.maxX=n.labels[n.labels.length-1],n.initialMaxX=n.labels[n.labels.length-1],n.minX=1,n.initialMinX=1),n.isXNumeric||n.noLabelsProvided||n.dataFormatXNumeric){var A=10;if(i.xaxis.tickAmount===void 0)A=Math.round(n.svgWidth/150),i.xaxis.type==="numeric"&&n.dataPoints<30&&(A=n.dataPoints-1),A>n.dataPoints&&n.dataPoints!==0&&(A=n.dataPoints-1);else if(i.xaxis.tickAmount==="dataPoints"){if(n.series.length>1&&(A=n.series[n.maxValsInArrayIndex].length-1),n.isXNumeric){var h=n.maxX-n.minX;h<30&&(A=h-1)}}else A=i.xaxis.tickAmount;if(n.xTickAmount=A,i.xaxis.max!==void 0&&typeof i.xaxis.max=="number"&&(n.maxX=i.xaxis.max),i.xaxis.min!==void 0&&typeof i.xaxis.min=="number"&&(n.minX=i.xaxis.min),i.xaxis.range!==void 0&&(n.minX=n.maxX-i.xaxis.range),n.minX!==Number.MAX_VALUE&&n.maxX!==-Number.MAX_VALUE)if(i.xaxis.convertedCatToNumeric&&!n.dataFormatXNumeric){for(var u=[],p=n.minX-1;p<n.maxX;p++)u.push(p+1);n.xAxisScale={result:u,niceMin:u[0],niceMax:u[u.length-1]}}else n.xAxisScale=this.scales.setXScale(n.minX,n.maxX);else n.xAxisScale=this.scales.linearScale(0,A,A,0,i.xaxis.stepSize),n.noLabelsProvided&&n.labels.length>0&&(n.xAxisScale=this.scales.linearScale(1,n.labels.length,A-1,0,i.xaxis.stepSize),n.seriesX=n.labels.slice());c&&(n.labels=n.xAxisScale.result.slice())}return n.isBarHorizontal&&n.labels.length&&(n.xTickAmount=n.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:n.minX,maxX:n.maxX}}},{key:"setZRange",value:function(){var n=this.w.globals;if(n.isDataXYZ){for(var i=0;i<n.series.length;i++)if(n.seriesZ[i]!==void 0)for(var c=0;c<n.seriesZ[i].length;c++)n.seriesZ[i][c]!==null&&D.isNumber(n.seriesZ[i][c])&&(n.maxZ=Math.max(n.maxZ,n.seriesZ[i][c]),n.minZ=Math.min(n.minZ,n.seriesZ[i][c]))}}},{key:"_handleSingleDataPoint",value:function(){var n=this.w.globals,i=this.w.config;if(n.minX===n.maxX){var c=new $(this.ctx);if(i.xaxis.type==="datetime"){var A=c.getDate(n.minX);i.xaxis.labels.datetimeUTC?A.setUTCDate(A.getUTCDate()-2):A.setDate(A.getDate()-2),n.minX=new Date(A).getTime();var h=c.getDate(n.maxX);i.xaxis.labels.datetimeUTC?h.setUTCDate(h.getUTCDate()+2):h.setDate(h.getDate()+2),n.maxX=new Date(h).getTime()}else(i.xaxis.type==="numeric"||i.xaxis.type==="category"&&!n.noLabelsProvided)&&(n.minX=n.minX-2,n.initialMinX=n.minX,n.maxX=n.maxX+2,n.initialMaxX=n.maxX)}}},{key:"_getMinXDiff",value:function(){var n=this.w.globals;n.isXNumeric&&n.seriesX.forEach(function(i,c){i.length===1&&i.push(n.seriesX[n.maxValsInArrayIndex][n.seriesX[n.maxValsInArrayIndex].length-1]);var A=i.slice();A.sort(function(h,u){return h-u}),A.forEach(function(h,u){if(u>0){var p=h-A[u-1];p>0&&(n.minXDiff=Math.min(p,n.minXDiff))}}),n.dataPoints!==1&&n.minXDiff!==Number.MAX_VALUE||(n.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var n=this,i=this.w.globals;if(i.series.length){var c=i.seriesGroups;c.length||(c=[this.w.globals.seriesNames.map(function(u){return u})]);var A={},h={};c.forEach(function(u){A[u]=[],h[u]=[],n.w.config.series.map(function(p,x){return u.indexOf(i.seriesNames[x])>-1?x:null}).filter(function(p){return p!==null}).forEach(function(p){for(var x=0;x<i.series[i.maxValsInArrayIndex].length;x++){var k,F,S,P;A[u][x]===void 0&&(A[u][x]=0,h[u][x]=0),(n.w.config.chart.stacked&&!i.comboCharts||n.w.config.chart.stacked&&i.comboCharts&&(!n.w.config.chart.stackOnlyBar||((k=n.w.config.series)===null||k===void 0||(F=k[p])===null||F===void 0?void 0:F.type)==="bar"||((S=n.w.config.series)===null||S===void 0||(P=S[p])===null||P===void 0?void 0:P.type)==="column"))&&i.series[p][x]!==null&&D.isNumber(i.series[p][x])&&(i.series[p][x]>0?A[u][x]+=parseFloat(i.series[p][x])+1e-4:h[u][x]+=parseFloat(i.series[p][x]))}})}),Object.entries(A).forEach(function(u){var p=R(u,1)[0];A[p].forEach(function(x,k){i.maxY=Math.max(i.maxY,A[p][k]),i.minY=Math.min(i.minY,h[p][k])})})}}}]),se}(),ft=function(){function se(n,i){o(this,se),this.ctx=n,this.elgrid=i,this.w=n.w;var c=this.w;this.xaxisFontSize=c.config.xaxis.labels.style.fontSize,this.axisFontFamily=c.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=c.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=c.config.chart.type==="bar"&&c.config.plotOptions.bar.horizontal,this.xAxisoffX=c.config.xaxis.position==="bottom"?c.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new J(n)}return d(se,[{key:"drawYaxis",value:function(n){var i=this.w,c=new _(this.ctx),A=i.config.yaxis[n].labels.style,h=A.fontSize,u=A.fontFamily,p=A.fontWeight,x=c.group({class:"apexcharts-yaxis",rel:n,transform:"translate(".concat(i.globals.translateYAxisX[n],", 0)")});if(this.axesUtils.isYAxisHidden(n))return x;var k=c.group({class:"apexcharts-yaxis-texts-g"});x.add(k);var F=i.globals.yAxisScale[n].result.length-1,S=i.globals.gridHeight/F,P=i.globals.yLabelFormatters[n],O=this.axesUtils.checkForReversedLabels(n,i.globals.yAxisScale[n].result.slice());if(i.config.yaxis[n].labels.show){var G=i.globals.translateY+i.config.yaxis[n].labels.offsetY;i.globals.isBarHorizontal?G=0:i.config.chart.type==="heatmap"&&(G-=S/2),G+=parseInt(h,10)/3;for(var V=F;V>=0;V--){var ee=P(O[V],V,i),re=i.config.yaxis[n].labels.padding;i.config.yaxis[n].opposite&&i.config.yaxis.length!==0&&(re*=-1);var le=this.getTextAnchor(i.config.yaxis[n].labels.align,i.config.yaxis[n].opposite),v=this.axesUtils.getYAxisForeColor(A.colors,n),Q=Array.isArray(v)?v[V]:v,K=D.listToArray(i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label tspan"))).map(function(ce){return ce.textContent}),ge=c.drawText({x:re,y:G,text:K.includes(ee)&&!i.config.yaxis[n].labels.showDuplicates?"":ee,textAnchor:le,fontSize:h,fontFamily:u,fontWeight:p,maxWidth:i.config.yaxis[n].labels.maxWidth,foreColor:Q,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(A.cssClass)});k.add(ge),this.addTooltip(ge,ee),i.config.yaxis[n].labels.rotate!==0&&this.rotateLabel(c,ge,firstLabel,i.config.yaxis[n].labels.rotate),G+=S}}return this.addYAxisTitle(c,x,n),this.addAxisBorder(c,x,n,F,S),x}},{key:"getTextAnchor",value:function(n,i){return n==="left"?"start":n==="center"?"middle":n==="right"?"end":i?"start":"end"}},{key:"addTooltip",value:function(n,i){var c=document.createElementNS(this.w.globals.SVGNS,"title");c.textContent=Array.isArray(i)?i.join(" "):i,n.node.appendChild(c)}},{key:"rotateLabel",value:function(n,i,c,A){var h=n.rotateAroundCenter(c.node),u=n.rotateAroundCenter(i.node);i.node.setAttribute("transform","rotate(".concat(A," ").concat(h.x," ").concat(u.y,")"))}},{key:"addYAxisTitle",value:function(n,i,c){var A=this.w;if(A.config.yaxis[c].title.text!==void 0){var h=n.group({class:"apexcharts-yaxis-title"}),u=A.config.yaxis[c].opposite?A.globals.translateYAxisX[c]:0,p=n.drawText({x:u,y:A.globals.gridHeight/2+A.globals.translateY+A.config.yaxis[c].title.offsetY,text:A.config.yaxis[c].title.text,textAnchor:"end",foreColor:A.config.yaxis[c].title.style.color,fontSize:A.config.yaxis[c].title.style.fontSize,fontWeight:A.config.yaxis[c].title.style.fontWeight,fontFamily:A.config.yaxis[c].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(A.config.yaxis[c].title.style.cssClass)});h.add(p),i.add(h)}}},{key:"addAxisBorder",value:function(n,i,c,A,h){var u=this.w,p=u.config.yaxis[c].axisBorder,x=31+p.offsetX;if(u.config.yaxis[c].opposite&&(x=-31-p.offsetX),p.show){var k=n.drawLine(x,u.globals.translateY+p.offsetY-2,x,u.globals.gridHeight+u.globals.translateY+p.offsetY+2,p.color,0,p.width);i.add(k)}u.config.yaxis[c].axisTicks.show&&this.axesUtils.drawYAxisTicks(x,A,p,u.config.yaxis[c].axisTicks,c,h,i)}},{key:"drawYaxisInversed",value:function(n){var i=this.w,c=new _(this.ctx),A=c.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),h=c.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(i.globals.translateXAxisX,", ").concat(i.globals.translateXAxisY,")")});A.add(h);var u=i.globals.yAxisScale[n].result.length-1,p=i.globals.gridWidth/u+.1,x=p+i.config.xaxis.labels.offsetX,k=i.globals.xLabelFormatter,F=this.axesUtils.checkForReversedLabels(n,i.globals.yAxisScale[n].result.slice()),S=i.globals.timescaleLabels;if(S.length>0&&(this.xaxisLabels=S.slice(),u=(F=S.slice()).length),i.config.xaxis.labels.show)for(var P=S.length?0:u;S.length?P<S.length:P>=0;S.length?P++:P--){var O=k(F[P],P,i),G=i.globals.gridWidth+i.globals.padHorizontal-(x-p+i.config.xaxis.labels.offsetX);if(S.length){var V=this.axesUtils.getLabel(F,S,G,P,this.drawnLabels,this.xaxisFontSize);G=V.x,O=V.text,this.drawnLabels.push(V.text),P===0&&i.globals.skipFirstTimelinelabel&&(O=""),P===F.length-1&&i.globals.skipLastTimelinelabel&&(O="")}var ee=c.drawText({x:G,y:this.xAxisoffX+i.config.xaxis.labels.offsetY+30-(i.config.xaxis.position==="top"?i.globals.xAxisHeight+i.config.xaxis.axisTicks.height-2:0),text:O,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[n]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:i.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(i.config.xaxis.labels.style.cssClass)});h.add(ee),ee.tspan(O),this.addTooltip(ee,O),x+=p}return this.inversedYAxisTitleText(A),this.inversedYAxisBorder(A),A}},{key:"inversedYAxisBorder",value:function(n){var i=this.w,c=new _(this.ctx),A=i.config.xaxis.axisBorder;if(A.show){var h=0;i.config.chart.type==="bar"&&i.globals.isXNumeric&&(h-=15);var u=c.drawLine(i.globals.padHorizontal+h+A.offsetX,this.xAxisoffX,i.globals.gridWidth,this.xAxisoffX,A.color,0,A.height);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(u):n.add(u)}}},{key:"inversedYAxisTitleText",value:function(n){var i=this.w,c=new _(this.ctx);if(i.config.xaxis.title.text!==void 0){var A=c.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),h=c.drawText({x:i.globals.gridWidth/2+i.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(i.config.xaxis.title.style.fontSize)+i.config.xaxis.title.offsetY+20,text:i.config.xaxis.title.text,textAnchor:"middle",fontSize:i.config.xaxis.title.style.fontSize,fontFamily:i.config.xaxis.title.style.fontFamily,fontWeight:i.config.xaxis.title.style.fontWeight,foreColor:i.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(i.config.xaxis.title.style.cssClass)});A.add(h),n.add(A)}}},{key:"yAxisTitleRotate",value:function(n,i){var c=this.w,A=new _(this.ctx),h=c.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),u=h?h.getBoundingClientRect():{width:0,height:0},p=c.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-title text")),x=p?p.getBoundingClientRect():{width:0,height:0};if(p){var k=this.xPaddingForYAxisTitle(n,u,x,i);p.setAttribute("x",k.xPos-(i?10:0));var F=A.rotateAroundCenter(p);p.setAttribute("transform","rotate(".concat(i?-1*c.config.yaxis[n].title.rotate:c.config.yaxis[n].title.rotate," ").concat(F.x," ").concat(F.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(n,i,c,A){var h=this.w,u=0,p=10;return h.config.yaxis[n].title.text===void 0||n<0?{xPos:u,padd:0}:(A?u=i.width+h.config.yaxis[n].title.offsetX+c.width/2+p/2:(u=-1*i.width+h.config.yaxis[n].title.offsetX+p/2+c.width/2,h.globals.isBarHorizontal&&(p=25,u=-1*i.width-h.config.yaxis[n].title.offsetX-p)),{xPos:u,padd:p})}},{key:"setYAxisXPosition",value:function(n,i){var c=this.w,A=0,h=0,u=18,p=1;c.config.yaxis.length>1&&(this.multipleYs=!0),c.config.yaxis.forEach(function(x,k){var F=c.globals.ignoreYAxisIndexes.includes(k)||!x.show||x.floating||n[k].width===0,S=n[k].width+i[k].width;x.opposite?c.globals.isBarHorizontal?(h=c.globals.gridWidth+c.globals.translateX-1,c.globals.translateYAxisX[k]=h-x.labels.offsetX):(h=c.globals.gridWidth+c.globals.translateX+p,F||(p+=S+20),c.globals.translateYAxisX[k]=h-x.labels.offsetX+20):(A=c.globals.translateX-u,F||(u+=S+20),c.globals.translateYAxisX[k]=A+x.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var n=this.w;D.listToArray(n.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(i,c){var A=n.config.yaxis[c];if(A&&!A.floating&&A.labels.align!==void 0){var h=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-texts-g")),u=D.listToArray(n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-label"))),p=h.getBoundingClientRect();u.forEach(function(x){x.setAttribute("text-anchor",A.labels.align)}),A.labels.align!=="left"||A.opposite?A.labels.align==="center"?h.setAttribute("transform","translate(".concat(p.width/2*(A.opposite?1:-1),", 0)")):A.labels.align==="right"&&A.opposite&&h.setAttribute("transform","translate(".concat(p.width,", 0)")):h.setAttribute("transform","translate(-".concat(p.width,", 0)"))}})}}]),se}(),ut=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.documentEvent=D.bind(this.documentEvent,this)}return d(se,[{key:"addEventListener",value:function(n,i){var c=this.w;c.globals.events.hasOwnProperty(n)?c.globals.events[n].push(i):c.globals.events[n]=[i]}},{key:"removeEventListener",value:function(n,i){var c=this.w;if(c.globals.events.hasOwnProperty(n)){var A=c.globals.events[n].indexOf(i);A!==-1&&c.globals.events[n].splice(A,1)}}},{key:"fireEvent",value:function(n,i){var c=this.w;if(c.globals.events.hasOwnProperty(n)){i&&i.length||(i=[]);for(var A=c.globals.events[n],h=A.length,u=0;u<h;u++)A[u].apply(null,i)}}},{key:"setupEventHandlers",value:function(){var n=this,i=this.w,c=this.ctx,A=i.globals.dom.baseEl.querySelector(i.globals.chartClass);this.ctx.eventList.forEach(function(h){A.addEventListener(h,function(u){var p=Object.assign({},i,{seriesIndex:i.globals.axisCharts?i.globals.capturedSeriesIndex:0,dataPointIndex:i.globals.capturedDataPointIndex});u.type==="mousemove"||u.type==="touchmove"?typeof i.config.chart.events.mouseMove=="function"&&i.config.chart.events.mouseMove(u,c,p):u.type==="mouseleave"||u.type==="touchleave"?typeof i.config.chart.events.mouseLeave=="function"&&i.config.chart.events.mouseLeave(u,c,p):(u.type==="mouseup"&&u.which===1||u.type==="touchend")&&(typeof i.config.chart.events.click=="function"&&i.config.chart.events.click(u,c,p),c.ctx.events.fireEvent("click",[u,c,p]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(h){i.globals.dom.baseEl.addEventListener(h,n.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(n){var i=this.w,c=n.target.className;if(n.type==="click"){var A=i.globals.dom.baseEl.querySelector(".apexcharts-menu");A&&A.classList.contains("apexcharts-menu-open")&&c!=="apexcharts-menu-icon"&&A.classList.remove("apexcharts-menu-open")}i.globals.clientX=n.type==="touchmove"?n.touches[0].clientX:n.clientX,i.globals.clientY=n.type==="touchmove"?n.touches[0].clientY:n.clientY}}]),se}(),ot=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"setCurrentLocaleValues",value:function(n){var i=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(i=this.w.config.chart.locales.concat(window.Apex.chart.locales));var c=i.filter(function(h){return h.name===n})[0];if(!c)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var A=D.extend(Be,c);this.w.globals.locale=A.options}}]),se}(),At=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"drawAxis",value:function(n,i){var c,A,h=this,u=this.w.globals,p=this.w.config,x=new qe(this.ctx,i),k=new ft(this.ctx,i);u.axisCharts&&n!=="radar"&&(u.isBarHorizontal?(A=k.drawYaxisInversed(0),c=x.drawXaxisInversed(0),u.dom.elGraphical.add(c),u.dom.elGraphical.add(A)):(c=x.drawXaxis(),u.dom.elGraphical.add(c),p.yaxis.map(function(F,S){if(u.ignoreYAxisIndexes.indexOf(S)===-1&&(A=k.drawYaxis(S),u.dom.Paper.add(A),h.w.config.grid.position==="back")){var P=u.dom.Paper.children()[1];P.remove(),u.dom.Paper.add(P)}})))}}]),se}(),pt=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"drawXCrosshairs",value:function(){var n=this.w,i=new _(this.ctx),c=new X(this.ctx),A=n.config.xaxis.crosshairs.fill.gradient,h=n.config.xaxis.crosshairs.dropShadow,u=n.config.xaxis.crosshairs.fill.type,p=A.colorFrom,x=A.colorTo,k=A.opacityFrom,F=A.opacityTo,S=A.stops,P=h.enabled,O=h.left,G=h.top,V=h.blur,ee=h.color,re=h.opacity,le=n.config.xaxis.crosshairs.fill.color;if(n.config.xaxis.crosshairs.show){u==="gradient"&&(le=i.drawGradient("vertical",p,x,k,F,null,S,null));var v=i.drawRect();n.config.xaxis.crosshairs.width===1&&(v=i.drawLine());var Q=n.globals.gridHeight;(!D.isNumber(Q)||Q<0)&&(Q=0);var K=n.config.xaxis.crosshairs.width;(!D.isNumber(K)||K<0)&&(K=0),v.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:Q,width:K,height:Q,fill:le,filter:"none","fill-opacity":n.config.xaxis.crosshairs.opacity,stroke:n.config.xaxis.crosshairs.stroke.color,"stroke-width":n.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":n.config.xaxis.crosshairs.stroke.dashArray}),P&&(v=c.dropShadow(v,{left:O,top:G,blur:V,color:ee,opacity:re})),n.globals.dom.elGraphical.add(v)}}},{key:"drawYCrosshairs",value:function(){var n=this.w,i=new _(this.ctx),c=n.config.yaxis[0].crosshairs,A=n.globals.barPadForNumericAxis;if(n.config.yaxis[0].crosshairs.show){var h=i.drawLine(-A,0,n.globals.gridWidth+A,0,c.stroke.color,c.stroke.dashArray,c.stroke.width);h.attr({class:"apexcharts-ycrosshairs"}),n.globals.dom.elGraphical.add(h)}var u=i.drawLine(-A,0,n.globals.gridWidth+A,0,c.stroke.color,0,0);u.attr({class:"apexcharts-ycrosshairs-hidden"}),n.globals.dom.elGraphical.add(u)}}]),se}(),ht=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"checkResponsiveConfig",value:function(n){var i=this,c=this.w,A=c.config;if(A.responsive.length!==0){var h=A.responsive.slice();h.sort(function(k,F){return k.breakpoint>F.breakpoint?1:F.breakpoint>k.breakpoint?-1:0}).reverse();var u=new he({}),p=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=h[0].breakpoint,S=window.innerWidth>0?window.innerWidth:screen.width;if(S>F){var P=D.clone(c.globals.initialConfig);P.series=D.clone(c.config.series);var O=ie.extendArrayProps(u,P,c);k=D.extend(O,k),k=D.extend(c.config,k),i.overrideResponsiveOptions(k)}else for(var G=0;G<h.length;G++)S<h[G].breakpoint&&(k=ie.extendArrayProps(u,h[G].options,c),k=D.extend(c.config,k),i.overrideResponsiveOptions(k))};if(n){var x=ie.extendArrayProps(u,n,c);x=D.extend(c.config,x),p(x=D.extend(x,n))}else p({})}}},{key:"overrideResponsiveOptions",value:function(n){var i=new he(n).init({responsiveOverride:!0});this.w.config=i}}]),se}(),Lt=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return d(se,[{key:"checkHeatmapDistributed",value:function(){var n=this.w.config,i=n.chart,c=n.plotOptions;return i.type==="treemap"&&c.treemap&&c.treemap.distributed||i.type==="heatmap"&&c.heatmap&&c.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var n=this.w.config,i=n.chart,c=n.plotOptions;return c.bar&&c.bar.distributed&&(i.type==="bar"||i.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var n=this.w,i=new D;n.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(n.config.theme.mode));var c=C(n.config.colors||n.config.fill.colors||[]);n.globals.colors=this.getColors(c),this.applySeriesColors(n.globals.seriesColors,n.globals.colors),n.config.theme.monochrome.enabled&&(n.globals.colors=this.getMonochromeColors(n.config.theme.monochrome,n.globals.series,i));var A=n.globals.colors.slice();this.pushExtraColors(n.globals.colors),this.applyColorTypes(["fill","stroke"],A),this.applyDataLabelsColors(A),this.applyRadarPolygonsColors(),this.applyMarkersColors(A)}},{key:"getColors",value:function(n){var i=this,c=this.w;return n&&n.length!==0?Array.isArray(n)&&n.length>0&&typeof n[0]=="function"?(this.isColorFn=!0,c.config.series.map(function(A,h){var u=n[h]||n[0];return typeof u=="function"?u({value:c.globals.axisCharts?c.globals.series[h][0]||0:c.globals.series[h],seriesIndex:h,dataPointIndex:h,w:i.w}):u})):n:this.predefined()}},{key:"applySeriesColors",value:function(n,i){n.forEach(function(c,A){c&&(i[A]=c)})}},{key:"getMonochromeColors",value:function(n,i,c){var A=n.color,h=n.shadeIntensity,u=n.shadeTo,p=this.isBarDistributed||this.isHeatmapDistributed?i[0].length*i.length:i.length,x=1/(p/h),k=0;return Array.from({length:p},function(){var F=u==="dark"?c.shadeColor(-1*k,A):c.shadeColor(k,A);return k+=x,F})}},{key:"applyColorTypes",value:function(n,i){var c=this,A=this.w;n.forEach(function(h){A.globals[h].colors=A.config[h].colors===void 0?c.isColorFn?A.config.colors:i:A.config[h].colors.slice(),c.pushExtraColors(A.globals[h].colors)})}},{key:"applyDataLabelsColors",value:function(n){var i=this.w;i.globals.dataLabels.style.colors=i.config.dataLabels.style.colors===void 0?n:i.config.dataLabels.style.colors.slice(),this.pushExtraColors(i.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var n=this.w;n.globals.radarPolygons.fill.colors=n.config.plotOptions.radar.polygons.fill.colors===void 0?[n.config.theme.mode==="dark"?"#424242":"none"]:n.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(n.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(n){var i=this.w;i.globals.markers.colors=i.config.markers.colors===void 0?n:i.config.markers.colors.slice(),this.pushExtraColors(i.globals.markers.colors)}},{key:"pushExtraColors",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,A=this.w,h=i||A.globals.series.length;if(c===null&&(c=this.isBarDistributed||this.isHeatmapDistributed||A.config.chart.type==="heatmap"&&A.config.plotOptions.heatmap&&A.config.plotOptions.heatmap.colorScale.inverse),c&&A.globals.series.length&&(h=A.globals.series[A.globals.maxValsInArrayIndex].length*A.globals.series.length),n.length<h)for(var u=h-n.length,p=0;p<u;p++)n.push(n[p])}},{key:"updateThemeOptions",value:function(n){n.chart=n.chart||{},n.tooltip=n.tooltip||{};var i=n.theme.mode,c=i==="dark"?"palette4":i==="light"?"palette1":n.theme.palette||"palette1",A=i==="dark"?"#f6f7f8":i==="light"?"#373d3f":n.chart.foreColor||"#373d3f";return n.tooltip.theme=i||"light",n.chart.foreColor=A,n.theme.palette=c,n}},{key:"predefined",value:function(){var n={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return n[this.w.config.theme.palette]||n.default}}]),se}(),Mt=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(n){var i=this.w,c=n==="title"?i.config.title:i.config.subtitle,A=i.globals.svgWidth/2,h=c.offsetY,u="middle";if(c.align==="left"?(A=10,u="start"):c.align==="right"&&(A=i.globals.svgWidth-10,u="end"),A+=c.offsetX,h=h+parseInt(c.style.fontSize,10)+c.margin/2,c.text!==void 0){var p=new _(this.ctx).drawText({x:A,y:h,text:c.text,textAnchor:u,fontSize:c.style.fontSize,fontFamily:c.style.fontFamily,fontWeight:c.style.fontWeight,foreColor:c.style.color,opacity:1});p.node.setAttribute("class","apexcharts-".concat(n,"-text")),i.globals.dom.Paper.add(p)}}}]),se}(),Vt=function(){function se(n){o(this,se),this.w=n.w,this.dCtx=n}return d(se,[{key:"getTitleSubtitleCoords",value:function(n){var i=this.w,c=0,A=0,h=n==="title"?i.config.title.floating:i.config.subtitle.floating,u=i.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-text"));if(u!==null&&!h){var p=u.getBoundingClientRect();c=p.width,A=i.globals.axisCharts?p.height+5:p.height}return{width:c,height:A}}},{key:"getLegendsRect",value:function(){var n=this.w,i=n.globals.dom.elLegendWrap;n.config.legend.height||n.config.legend.position!=="top"&&n.config.legend.position!=="bottom"||(i.style.maxHeight=n.globals.svgHeight/2+"px");var c=Object.assign({},D.getBoundingClientRect(i));return i!==null&&!n.config.legend.floating&&n.config.legend.show?this.dCtx.lgRect={x:c.x,y:c.y,height:c.height,width:c.height===0?0:c.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},n.config.legend.position!=="left"&&n.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>n.globals.svgWidth&&(this.dCtx.lgRect.width=n.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var n=this,i=this.w,c=[];i.config.series.forEach(function(x,k){x.data.forEach(function(F,S){var P;P=i.globals.series[k][S],A=i.config.dataLabels.formatter(P,{ctx:n.dCtx.ctx,seriesIndex:k,dataPointIndex:S,w:i}),c.push(A)})});var A=D.getLargestStringFromArr(c),h=new _(this.dCtx.ctx),u=i.config.dataLabels.style,p=h.getTextRects(A,parseInt(u.fontSize),u.fontFamily);return{width:1.05*p.width,height:p.height}}},{key:"getLargestStringFromMultiArr",value:function(n,i){var c=n;if(this.w.globals.isMultiLineX){var A=i.map(function(u,p){return Array.isArray(u)?u.length:1}),h=Math.max.apply(Math,C(A));c=i[A.indexOf(h)]}return c}}]),se}(),Xt=function(){function se(n){o(this,se),this.w=n.w,this.dCtx=n}return d(se,[{key:"getxAxisLabelsCoords",value:function(){var n,i=this.w,c=i.globals.labels.slice();if(i.config.xaxis.convertedCatToNumeric&&c.length===0&&(c=i.globals.categoryLabels),i.globals.timescaleLabels.length>0){var A=this.getxAxisTimeScaleLabelsCoords();n={width:A.width,height:A.height},i.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=i.config.legend.position!=="left"&&i.config.legend.position!=="right"||i.config.legend.floating?0:this.dCtx.lgRect.width;var h=i.globals.xLabelFormatter,u=D.getLargestStringFromArr(c),p=this.dCtx.dimHelpers.getLargestStringFromMultiArr(u,c);i.globals.isBarHorizontal&&(p=u=i.globals.yAxisScale[0].result.reduce(function(G,V){return G.length>V.length?G:V},0));var x=new Z(this.dCtx.ctx),k=u;u=x.xLabelFormat(h,u,k,{i:void 0,dateFormatter:new $(this.dCtx.ctx).formatDate,w:i}),p=x.xLabelFormat(h,p,k,{i:void 0,dateFormatter:new $(this.dCtx.ctx).formatDate,w:i}),(i.config.xaxis.convertedCatToNumeric&&u===void 0||String(u).trim()==="")&&(p=u="1");var F=new _(this.dCtx.ctx),S=F.getTextRects(u,i.config.xaxis.labels.style.fontSize),P=S;if(u!==p&&(P=F.getTextRects(p,i.config.xaxis.labels.style.fontSize)),(n={width:S.width>=P.width?S.width:P.width,height:S.height>=P.height?S.height:P.height}).width*c.length>i.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&i.config.xaxis.labels.rotate!==0||i.config.xaxis.labels.rotateAlways){if(!i.globals.isBarHorizontal){i.globals.rotateXLabels=!0;var O=function(G){return F.getTextRects(G,i.config.xaxis.labels.style.fontSize,i.config.xaxis.labels.style.fontFamily,"rotate(".concat(i.config.xaxis.labels.rotate," 0 0)"),!1)};S=O(u),u!==p&&(P=O(p)),n.height=(S.height>P.height?S.height:P.height)/1.5,n.width=S.width>P.width?S.width:P.width}}else i.globals.rotateXLabels=!1}return i.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var n,i=this.w;if(!i.globals.hasXaxisGroups)return{width:0,height:0};var c,A=((n=i.config.xaxis.group.style)===null||n===void 0?void 0:n.fontSize)||i.config.xaxis.labels.style.fontSize,h=i.globals.groups.map(function(S){return S.title}),u=D.getLargestStringFromArr(h),p=this.dCtx.dimHelpers.getLargestStringFromMultiArr(u,h),x=new _(this.dCtx.ctx),k=x.getTextRects(u,A),F=k;return u!==p&&(F=x.getTextRects(p,A)),c={width:k.width>=F.width?k.width:F.width,height:k.height>=F.height?k.height:F.height},i.config.xaxis.labels.show||(c={width:0,height:0}),{width:c.width,height:c.height}}},{key:"getxAxisTitleCoords",value:function(){var n=this.w,i=0,c=0;if(n.config.xaxis.title.text!==void 0){var A=new _(this.dCtx.ctx).getTextRects(n.config.xaxis.title.text,n.config.xaxis.title.style.fontSize);i=A.width,c=A.height}return{width:i,height:c}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var n,i=this.w;this.dCtx.timescaleLabels=i.globals.timescaleLabels.slice();var c=this.dCtx.timescaleLabels.map(function(h){return h.value}),A=c.reduce(function(h,u){return h===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):h.length>u.length?h:u},0);return 1.05*(n=new _(this.dCtx.ctx).getTextRects(A,i.config.xaxis.labels.style.fontSize)).width*c.length>i.globals.gridWidth&&i.config.xaxis.labels.rotate!==0&&(i.globals.overlappingXLabels=!0),n}},{key:"additionalPaddingXLabels",value:function(n){var i=this,c=this.w,A=c.globals,h=c.config,u=h.xaxis.type,p=n.width;A.skipLastTimelinelabel=!1,A.skipFirstTimelinelabel=!1;var x=c.config.yaxis[0].opposite&&c.globals.isBarHorizontal,k=function(F,S){h.yaxis.length>1&&function(P){return A.collapsedSeriesIndices.indexOf(P)!==-1}(S)||function(P){if(i.dCtx.timescaleLabels&&i.dCtx.timescaleLabels.length){var O=i.dCtx.timescaleLabels[0],G=i.dCtx.timescaleLabels[i.dCtx.timescaleLabels.length-1].position+p/1.75-i.dCtx.yAxisWidthRight,V=O.position-p/1.75+i.dCtx.yAxisWidthLeft,ee=c.config.legend.position==="right"&&i.dCtx.lgRect.width>0?i.dCtx.lgRect.width:0;G>A.svgWidth-A.translateX-ee&&(A.skipLastTimelinelabel=!0),V<-(P.show&&!P.floating||h.chart.type!=="bar"&&h.chart.type!=="candlestick"&&h.chart.type!=="rangeBar"&&h.chart.type!=="boxPlot"?10:p/1.75)&&(A.skipFirstTimelinelabel=!0)}else u==="datetime"?i.dCtx.gridPad.right<p&&!A.rotateXLabels&&(A.skipLastTimelinelabel=!0):u!=="datetime"&&i.dCtx.gridPad.right<p/2-i.dCtx.yAxisWidthRight&&!A.rotateXLabels&&!c.config.xaxis.labels.trim&&(i.dCtx.xPadRight=p/2+1)}(F)};h.yaxis.forEach(function(F,S){x?(i.dCtx.gridPad.left<p&&(i.dCtx.xPadLeft=p/2+1),i.dCtx.xPadRight=p/2+1):k(F,S)})}}]),se}(),er=function(){function se(n){o(this,se),this.w=n.w,this.dCtx=n}return d(se,[{key:"getyAxisLabelsCoords",value:function(){var n=this,i=this.w,c=[],A=10,h=new J(this.dCtx.ctx);return i.config.yaxis.map(function(u,p){var x={seriesIndex:p,dataPointIndex:-1,w:i},k=i.globals.yAxisScale[p],F=0;if(!h.isYAxisHidden(p)&&u.labels.show&&u.labels.minWidth!==void 0&&(F=u.labels.minWidth),!h.isYAxisHidden(p)&&u.labels.show&&k.result.length){var S=i.globals.yLabelFormatters[p],P=k.niceMin===Number.MIN_VALUE?0:k.niceMin,O=k.result.reduce(function(Q,K){var ge,ce;return((ge=String(S(Q,x)))===null||ge===void 0?void 0:ge.length)>((ce=String(S(K,x)))===null||ce===void 0?void 0:ce.length)?Q:K},P),G=O=S(O,x);if(O!==void 0&&O.length!==0||(O=k.niceMax),i.globals.isBarHorizontal){A=0;var V=i.globals.labels.slice();O=D.getLargestStringFromArr(V),O=S(O,{seriesIndex:p,dataPointIndex:-1,w:i}),G=n.dCtx.dimHelpers.getLargestStringFromMultiArr(O,V)}var ee=new _(n.dCtx.ctx),re="rotate(".concat(u.labels.rotate," 0 0)"),le=ee.getTextRects(O,u.labels.style.fontSize,u.labels.style.fontFamily,re,!1),v=le;O!==G&&(v=ee.getTextRects(G,u.labels.style.fontSize,u.labels.style.fontFamily,re,!1)),c.push({width:(F>v.width||F>le.width?F:v.width>le.width?v.width:le.width)+A,height:v.height>le.height?v.height:le.height})}else c.push({width:0,height:0})}),c}},{key:"getyAxisTitleCoords",value:function(){var n=this,i=this.w,c=[];return i.config.yaxis.map(function(A,h){if(A.show&&A.title.text!==void 0){var u=new _(n.dCtx.ctx),p="rotate(".concat(A.title.rotate," 0 0)"),x=u.getTextRects(A.title.text,A.title.style.fontSize,A.title.style.fontFamily,p,!1);c.push({width:x.width,height:x.height})}else c.push({width:0,height:0})}),c}},{key:"getTotalYAxisWidth",value:function(){var n=this.w,i=0,c=0,A=0,h=n.globals.yAxisScale.length>1?10:0,u=new J(this.dCtx.ctx),p=function(x,k){var F=n.config.yaxis[k].floating,S=0;x.width>0&&!F?(S=x.width+h,function(P){return n.globals.ignoreYAxisIndexes.indexOf(P)>-1}(k)&&(S=S-x.width-h)):S=F||u.isYAxisHidden(k)?0:5,n.config.yaxis[k].opposite?A+=S:c+=S,i+=S};return n.globals.yLabelsCoords.map(function(x,k){p(x,k)}),n.globals.yTitleCoords.map(function(x,k){p(x,k)}),n.globals.isBarHorizontal&&!n.config.yaxis[0].floating&&(i=n.globals.yLabelsCoords[0].width+n.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=c,this.dCtx.yAxisWidthRight=A,i}}]),se}(),ur=function(){function se(n){o(this,se),this.w=n.w,this.dCtx=n}return d(se,[{key:"gridPadForColumnsInNumericAxis",value:function(n){var i=this.w,c=i.config,A=i.globals;if(A.noData||A.collapsedSeries.length+A.ancillaryCollapsedSeries.length===c.series.length)return 0;var h=function(O){return["bar","rangeBar","candlestick","boxPlot"].includes(O)},u=c.chart.type,p=0,x=h(u)?c.series.length:1;A.comboBarCount>0&&(x=A.comboBarCount),A.collapsedSeries.forEach(function(O){h(O.type)&&(x-=1)}),c.chart.stacked&&(x=1);var k=h(u)||A.comboBarCount>0,F=Math.abs(A.initialMaxX-A.initialMinX);if(k&&A.isXNumeric&&!A.isBarHorizontal&&x>0&&F!==0){F<=3&&(F=A.dataPoints);var S=F/n,P=A.minXDiff&&A.minXDiff/S>0?A.minXDiff/S:0;P>n/2&&(P/=2),(p=P*parseInt(c.plotOptions.bar.columnWidth,10)/100)<1&&(p=1),A.barPadForNumericAxis=p}return p}},{key:"gridPadFortitleSubtitle",value:function(){var n=this,i=this.w,c=i.globals,A=this.dCtx.isSparkline||!c.axisCharts?0:10;["title","subtitle"].forEach(function(p){i.config[p].text!==void 0?A+=i.config[p].margin:A+=n.dCtx.isSparkline||!c.axisCharts?0:5}),!i.config.legend.show||i.config.legend.position!=="bottom"||i.config.legend.floating||c.axisCharts||(A+=10);var h=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),u=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");c.gridHeight-=h.height+u.height+A,c.translateY+=h.height+u.height+A}},{key:"setGridXPosForDualYAxis",value:function(n,i){var c=this.w,A=new J(this.dCtx.ctx);c.config.yaxis.forEach(function(h,u){c.globals.ignoreYAxisIndexes.indexOf(u)!==-1||h.floating||A.isYAxisHidden(u)||(h.opposite&&(c.globals.translateX-=i[u].width+n[u].width+parseInt(h.labels.style.fontSize,10)/1.2+12),c.globals.translateX<2&&(c.globals.translateX=2))})}}]),se}(),Pt=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Vt(this),this.dimYAxis=new er(this),this.dimXAxis=new Xt(this),this.dimGrid=new ur(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return d(se,[{key:"plotCoords",value:function(){var n=this,i=this.w,c=i.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var A=Array.isArray(i.config.stroke.width)?Math.max.apply(Math,C(i.config.stroke.width)):i.config.stroke.width;this.isSparkline&&((i.config.markers.discrete.length>0||i.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(u){var p=R(u,2),x=p[0],k=p[1];n.gridPad[x]=Math.max(k,n.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(A/2,this.gridPad.top),this.gridPad.bottom=Math.max(A/2,this.gridPad.bottom)),c.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),c.gridHeight=c.gridHeight-this.gridPad.top-this.gridPad.bottom,c.gridWidth=c.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var h=this.dimGrid.gridPadForColumnsInNumericAxis(c.gridWidth);c.gridWidth=c.gridWidth-2*h,c.translateX=c.translateX+this.gridPad.left+this.xPadLeft+(h>0?h:0),c.translateY=c.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var n=this,i=this.w,c=i.globals,A=this.dimYAxis.getyAxisLabelsCoords(),h=this.dimYAxis.getyAxisTitleCoords();c.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),i.globals.yLabelsCoords=[],i.globals.yTitleCoords=[],i.config.yaxis.map(function(O,G){i.globals.yLabelsCoords.push({width:A[G].width,index:G}),i.globals.yTitleCoords.push({width:h[G].width,index:G})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var u=this.dimXAxis.getxAxisLabelsCoords(),p=this.dimXAxis.getxAxisGroupLabelsCoords(),x=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(u,x,p),c.translateXAxisY=i.globals.rotateXLabels?this.xAxisHeight/8:-4,c.translateXAxisX=i.globals.rotateXLabels&&i.globals.isXNumeric&&i.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,i.globals.isBarHorizontal&&(c.rotateXLabels=!1,c.translateXAxisY=parseInt(i.config.xaxis.labels.style.fontSize,10)/1.5*-1),c.translateXAxisY=c.translateXAxisY+i.config.xaxis.labels.offsetY,c.translateXAxisX=c.translateXAxisX+i.config.xaxis.labels.offsetX;var k=this.yAxisWidth,F=this.xAxisHeight;c.xAxisLabelsHeight=this.xAxisHeight-x.height,c.xAxisGroupLabelsHeight=c.xAxisLabelsHeight-u.height,c.xAxisLabelsWidth=this.xAxisWidth,c.xAxisHeight=this.xAxisHeight;var S=10;(i.config.chart.type==="radar"||this.isSparkline)&&(k=0,F=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||i.config.chart.type==="treemap")&&(k=0,F=0,S=0),this.isSparkline||i.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(u);var P=function(){c.translateX=k+n.datalabelsCoords.width,c.gridHeight=c.svgHeight-n.lgRect.height-F-(n.isSparkline||i.config.chart.type==="treemap"?0:i.globals.rotateXLabels?10:15),c.gridWidth=c.svgWidth-k-2*n.datalabelsCoords.width};switch(i.config.xaxis.position==="top"&&(S=c.xAxisHeight-i.config.xaxis.axisTicks.height-5),i.config.legend.position){case"bottom":c.translateY=S,P();break;case"top":c.translateY=this.lgRect.height+S,P();break;case"left":c.translateY=S,c.translateX=this.lgRect.width+k+this.datalabelsCoords.width,c.gridHeight=c.svgHeight-F-12,c.gridWidth=c.svgWidth-this.lgRect.width-k-2*this.datalabelsCoords.width;break;case"right":c.translateY=S,c.translateX=k+this.datalabelsCoords.width,c.gridHeight=c.svgHeight-F-12,c.gridWidth=c.svgWidth-this.lgRect.width-k-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(h,A),new ft(this.ctx).setYAxisXPosition(A,h)}},{key:"setDimensionsForNonAxisCharts",value:function(){var n=this.w,i=n.globals,c=n.config,A=0;n.config.legend.show&&!n.config.legend.floating&&(A=20);var h=c.chart.type==="pie"||c.chart.type==="polarArea"||c.chart.type==="donut"?"pie":"radialBar",u=c.plotOptions[h].offsetY,p=c.plotOptions[h].offsetX;if(!c.legend.show||c.legend.floating){i.gridHeight=i.svgHeight;var x=i.dom.elWrap.getBoundingClientRect().width;return i.gridWidth=Math.min(x,i.gridHeight),i.translateY=u,void(i.translateX=p+(i.svgWidth-i.gridWidth)/2)}switch(c.legend.position){case"bottom":i.gridHeight=i.svgHeight-this.lgRect.height,i.gridWidth=i.svgWidth,i.translateY=u-10,i.translateX=p+(i.svgWidth-i.gridWidth)/2;break;case"top":i.gridHeight=i.svgHeight-this.lgRect.height,i.gridWidth=i.svgWidth,i.translateY=this.lgRect.height+u+10,i.translateX=p+(i.svgWidth-i.gridWidth)/2;break;case"left":i.gridWidth=i.svgWidth-this.lgRect.width-A,i.gridHeight=c.chart.height!=="auto"?i.svgHeight:i.gridWidth,i.translateY=u,i.translateX=p+this.lgRect.width+A;break;case"right":i.gridWidth=i.svgWidth-this.lgRect.width-A-5,i.gridHeight=c.chart.height!=="auto"?i.svgHeight:i.gridWidth,i.translateY=u,i.translateX=p+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(n,i,c){var A=this.w,h=A.globals.hasXaxisGroups?2:1,u=c.height+n.height+i.height,p=A.globals.isMultiLineX?1.2:A.globals.LINE_HEIGHT_RATIO,x=A.globals.rotateXLabels?22:10,k=A.globals.rotateXLabels&&A.config.legend.position==="bottom"?10:0;this.xAxisHeight=u*p+h*x+k,this.xAxisWidth=n.width,this.xAxisHeight-i.height>A.config.xaxis.labels.maxHeight&&(this.xAxisHeight=A.config.xaxis.labels.maxHeight),A.config.xaxis.labels.minHeight&&this.xAxisHeight<A.config.xaxis.labels.minHeight&&(this.xAxisHeight=A.config.xaxis.labels.minHeight),A.config.xaxis.floating&&(this.xAxisHeight=0);var F=0,S=0;A.config.yaxis.forEach(function(P){F+=P.labels.minWidth,S+=P.labels.maxWidth}),this.yAxisWidth<F&&(this.yAxisWidth=F),this.yAxisWidth>S&&(this.yAxisWidth=S)}}]),se}(),Zt=function(){function se(n){o(this,se),this.w=n.w,this.lgCtx=n}return d(se,[{key:"getLegendStyles",value:function(){var n,i,c,A=document.createElement("style");A.setAttribute("type","text/css");var h=((n=this.lgCtx.ctx)===null||n===void 0||(i=n.opts)===null||i===void 0||(c=i.chart)===null||c===void 0?void 0:c.nonce)||this.w.config.chart.nonce;h&&A.setAttribute("nonce",h);var u=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }`);return A.appendChild(u),A}},{key:"getLegendDimensions",value:function(){var n=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),i=n.width;return{clwh:n.height,clww:i}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(n,i){var c=this,A=this.w;if(A.globals.axisCharts||A.config.chart.type==="radialBar"){A.globals.resized=!0;var h=null,u=null;A.globals.risingSeries=[],A.globals.axisCharts?(h=A.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"']")),u=parseInt(h.getAttribute("data:realIndex"),10)):(h=A.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"']")),u=parseInt(h.getAttribute("rel"),10)-1),i?[{cs:A.globals.collapsedSeries,csi:A.globals.collapsedSeriesIndices},{cs:A.globals.ancillaryCollapsedSeries,csi:A.globals.ancillaryCollapsedSeriesIndices}].forEach(function(F){c.riseCollapsedSeries(F.cs,F.csi,u)}):this.hideSeries({seriesEl:h,realIndex:u})}else{var p=A.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(n+1,"'] path")),x=A.config.chart.type;if(x==="pie"||x==="polarArea"||x==="donut"){var k=A.config.plotOptions.pie.donut.labels;new _(this.lgCtx.ctx).pathMouseDown(p.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(p.members[0].node,k)}p.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(n){var i=n.realIndex,c=this.w,A=c.globals,h=D.clone(c.config.series);if(A.axisCharts){var u=c.config.yaxis[A.seriesYAxisReverseMap[i]],p={index:i,data:h[i].data.slice(),type:h[i].type||c.config.chart.type};if(u&&u.show&&u.showAlways)A.ancillaryCollapsedSeriesIndices.indexOf(i)<0&&(A.ancillaryCollapsedSeries.push(p),A.ancillaryCollapsedSeriesIndices.push(i));else if(A.collapsedSeriesIndices.indexOf(i)<0){A.collapsedSeries.push(p),A.collapsedSeriesIndices.push(i);var x=A.risingSeries.indexOf(i);A.risingSeries.splice(x,1)}}else A.collapsedSeries.push({index:i,data:h[i]}),A.collapsedSeriesIndices.push(i);return A.allSeriesCollapsed=A.collapsedSeries.length+A.ancillaryCollapsedSeries.length===c.config.series.length,this._getSeriesBasedOnCollapsedState(h)}},{key:"hideSeries",value:function(n){for(var i=n.seriesEl,c=n.realIndex,A=this.w,h=this.getSeriesAfterCollapsing({realIndex:c}),u=i.childNodes,p=0;p<u.length;p++)u[p].classList.contains("apexcharts-series-markers-wrap")&&(u[p].classList.contains("apexcharts-hide")?u[p].classList.remove("apexcharts-hide"):u[p].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(h,A.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(n,i,c){var A=this.w,h=D.clone(A.config.series);if(n.length>0){for(var u=0;u<n.length;u++)n[u].index===c&&(A.globals.axisCharts?h[c].data=n[u].data.slice():h[c]=n[u].data,h[c].hidden=!1,n.splice(u,1),i.splice(u,1),A.globals.risingSeries.push(c));h=this._getSeriesBasedOnCollapsedState(h),this.lgCtx.ctx.updateHelpers._updateSeries(h,A.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(n){var i=this.w,c=0;return i.globals.axisCharts?n.forEach(function(A,h){i.globals.collapsedSeriesIndices.indexOf(h)<0&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(h)<0||(n[h].data=[],c++)}):n.forEach(function(A,h){!i.globals.collapsedSeriesIndices.indexOf(h)<0&&(n[h]=0,c++)}),i.globals.allSeriesCollapsed=c===n.length,n}}]),se}(),yt=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Zt(this)}return d(se,[{key:"init",value:function(){var n=this.w,i=n.globals,c=n.config,A=c.legend.showForSingleSeries&&i.series.length===1||this.isBarsDistributed||i.series.length>1;if(this.legendHelpers.appendToForeignObject(),(A||!i.axisCharts)&&c.legend.show){for(;i.dom.elLegendWrap.firstChild;)i.dom.elLegendWrap.removeChild(i.dom.elLegendWrap.firstChild);this.drawLegends(),c.legend.position==="bottom"||c.legend.position==="top"?this.legendAlignHorizontal():c.legend.position!=="right"&&c.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(n){var i=n.i,c=n.fillcolor,A=this.w,h=document.createElement("span");h.classList.add("apexcharts-legend-marker");var u=A.config.legend.markers.shape||A.config.markers.shape,p=u;Array.isArray(u)&&(p=u[i]);var x=Array.isArray(A.config.legend.markers.size)?parseFloat(A.config.legend.markers.size[i]):parseFloat(A.config.legend.markers.size),k=Array.isArray(A.config.legend.markers.offsetX)?parseFloat(A.config.legend.markers.offsetX[i]):parseFloat(A.config.legend.markers.offsetX),F=Array.isArray(A.config.legend.markers.offsetY)?parseFloat(A.config.legend.markers.offsetY[i]):parseFloat(A.config.legend.markers.offsetY),S=Array.isArray(A.config.legend.markers.strokeWidth)?parseFloat(A.config.legend.markers.strokeWidth[i]):parseFloat(A.config.legend.markers.strokeWidth),P=h.style;if(P.height=2*(x+S)+"px",P.width=2*(x+S)+"px",P.left=k+"px",P.top=F+"px",A.config.legend.markers.customHTML)P.background="transparent",P.color=c[i],Array.isArray(A.config.legend.markers.customHTML)?A.config.legend.markers.customHTML[i]&&(h.innerHTML=A.config.legend.markers.customHTML[i]()):h.innerHTML=A.config.legend.markers.customHTML();else{var O=new Re(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(p),seriesIndex:i,strokeWidth:S,size:x}),G=SVG(h).size("100%","100%"),V=new _(this.ctx).drawMarker(0,0,U(U({},O),{},{pointFillColor:Array.isArray(c)?c[i]:O.pointFillColor,shape:p}));SVG.select(".apexcharts-legend-marker.apexcharts-marker").members.forEach(function(ee){ee.node.classList.contains("apexcharts-marker-triangle")?ee.node.style.transform="translate(50%, 45%)":ee.node.style.transform="translate(50%, 50%)"}),G.add(V)}return h}},{key:"drawLegends",value:function(){var n=this,i=this.w,c=i.config.legend.fontFamily,A=i.globals.seriesNames,h=i.config.legend.markers.fillColors?i.config.legend.markers.fillColors.slice():i.globals.colors.slice();if(i.config.chart.type==="heatmap"){var u=i.config.plotOptions.heatmap.colorScale.ranges;A=u.map(function(K){return K.name?K.name:K.from+" - "+K.to}),h=u.map(function(K){return K.color})}else this.isBarsDistributed&&(A=i.globals.labels.slice());i.config.legend.customLegendItems.length&&(A=i.config.legend.customLegendItems);for(var p=i.globals.legendFormatter,x=i.config.legend.inverseOrder,k=x?A.length-1:0;x?k>=0:k<=A.length-1;x?k--:k++){var F,S=p(A[k],{seriesIndex:k,w:i}),P=!1,O=!1;if(i.globals.collapsedSeries.length>0)for(var G=0;G<i.globals.collapsedSeries.length;G++)i.globals.collapsedSeries[G].index===k&&(P=!0);if(i.globals.ancillaryCollapsedSeriesIndices.length>0)for(var V=0;V<i.globals.ancillaryCollapsedSeriesIndices.length;V++)i.globals.ancillaryCollapsedSeriesIndices[V]===k&&(O=!0);var ee=this.createLegendMarker({i:k,fillcolor:h});_.setAttrs(ee,{rel:k+1,"data:collapsed":P||O}),(P||O)&&ee.classList.add("apexcharts-inactive-legend");var re=document.createElement("div"),le=document.createElement("span");le.classList.add("apexcharts-legend-text"),le.innerHTML=Array.isArray(S)?S.join(" "):S;var v=i.config.legend.labels.useSeriesColors?i.globals.colors[k]:Array.isArray(i.config.legend.labels.colors)?(F=i.config.legend.labels.colors)===null||F===void 0?void 0:F[k]:i.config.legend.labels.colors;v||(v=i.config.chart.foreColor),le.style.color=v,le.style.fontSize=parseFloat(i.config.legend.fontSize)+"px",le.style.fontWeight=i.config.legend.fontWeight,le.style.fontFamily=c||i.config.chart.fontFamily,_.setAttrs(le,{rel:k+1,i:k,"data:default-text":encodeURIComponent(S),"data:collapsed":P||O}),re.appendChild(ee),re.appendChild(le);var Q=new ie(this.ctx);i.config.legend.showForZeroSeries||Q.getSeriesTotalByIndex(k)===0&&Q.seriesHaveSameValues(k)&&!Q.isSeriesNull(k)&&i.globals.collapsedSeriesIndices.indexOf(k)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(k)===-1&&re.classList.add("apexcharts-hidden-zero-series"),i.config.legend.showForNullSeries||Q.isSeriesNull(k)&&i.globals.collapsedSeriesIndices.indexOf(k)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(k)===-1&&re.classList.add("apexcharts-hidden-null-series"),i.globals.dom.elLegendWrap.appendChild(re),i.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(i.config.legend.horizontalAlign)),i.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+i.config.legend.position),re.classList.add("apexcharts-legend-series"),re.style.margin="".concat(i.config.legend.itemMargin.vertical,"px ").concat(i.config.legend.itemMargin.horizontal,"px"),i.globals.dom.elLegendWrap.style.width=i.config.legend.width?i.config.legend.width+"px":"",i.globals.dom.elLegendWrap.style.height=i.config.legend.height?i.config.legend.height+"px":"",_.setAttrs(re,{rel:k+1,seriesName:D.escapeString(A[k]),"data:collapsed":P||O}),(P||O)&&re.classList.add("apexcharts-inactive-legend"),i.config.legend.onItemClick.toggleDataSeries||re.classList.add("apexcharts-no-click")}i.globals.dom.elWrap.addEventListener("click",n.onLegendClick,!0),i.config.legend.onItemHover.highlightDataSeries&&i.config.legend.customLegendItems.length===0&&(i.globals.dom.elWrap.addEventListener("mousemove",n.onLegendHovered,!0),i.globals.dom.elWrap.addEventListener("mouseout",n.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(n,i){var c=this.w,A=c.globals.dom.elLegendWrap,h=A.clientHeight,u=0,p=0;if(c.config.legend.position==="bottom")p=c.globals.svgHeight-Math.min(h,c.globals.svgHeight/2)-5;else if(c.config.legend.position==="top"){var x=new Pt(this.ctx),k=x.dimHelpers.getTitleSubtitleCoords("title").height,F=x.dimHelpers.getTitleSubtitleCoords("subtitle").height;p=(k>0?k-10:0)+(F>0?F-10:0)}A.style.position="absolute",u=u+n+c.config.legend.offsetX,p=p+i+c.config.legend.offsetY,A.style.left=u+"px",A.style.top=p+"px",c.config.legend.position==="right"&&(A.style.left="auto",A.style.right=25+c.config.legend.offsetX+"px"),["width","height"].forEach(function(S){A.style[S]&&(A.style[S]=parseInt(c.config.legend[S],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var n=this.w;n.globals.dom.elLegendWrap.style.right=0;var i=new Pt(this.ctx),c=i.dimHelpers.getTitleSubtitleCoords("title"),A=i.dimHelpers.getTitleSubtitleCoords("subtitle"),h=0;n.config.legend.position==="top"&&(h=c.height+A.height+n.config.title.margin+n.config.subtitle.margin-10),this.setLegendWrapXY(20,h)}},{key:"legendAlignVertical",value:function(){var n=this.w,i=this.legendHelpers.getLegendDimensions(),c=0;n.config.legend.position==="left"&&(c=20),n.config.legend.position==="right"&&(c=n.globals.svgWidth-i.clww-10),this.setLegendWrapXY(c,20)}},{key:"onLegendHovered",value:function(n){var i=this.w,c=n.target.classList.contains("apexcharts-legend-series")||n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker");if(i.config.chart.type==="heatmap"||this.isBarsDistributed){if(c){var A=parseInt(n.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,A,this.w]),new Xe(this.ctx).highlightRangeInSeries(n,n.target)}}else!n.target.classList.contains("apexcharts-inactive-legend")&&c&&new Xe(this.ctx).toggleSeriesOnHover(n,n.target)}},{key:"onLegendClick",value:function(n){var i=this.w;if(!i.config.legend.customLegendItems.length&&(n.target.classList.contains("apexcharts-legend-series")||n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker"))){var c=parseInt(n.target.getAttribute("rel"),10)-1,A=n.target.getAttribute("data:collapsed")==="true",h=this.w.config.chart.events.legendClick;typeof h=="function"&&h(this.ctx,c,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,c,this.w]);var u=this.w.config.legend.markers.onClick;typeof u=="function"&&n.target.classList.contains("apexcharts-legend-marker")&&(u(this.ctx,c,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,c,this.w])),i.config.chart.type!=="treemap"&&i.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&i.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(c,A)}}}]),se}(),Ca=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w;var i=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=i.globals.minX,this.maxX=i.globals.maxX}return d(se,[{key:"createToolbar",value:function(){var n=this,i=this.w,c=function(){return document.createElement("div")},A=c();if(A.setAttribute("class","apexcharts-toolbar"),A.style.top=i.config.chart.toolbar.offsetY+"px",A.style.right=3-i.config.chart.toolbar.offsetX+"px",i.globals.dom.elWrap.appendChild(A),this.elZoom=c(),this.elZoomIn=c(),this.elZoomOut=c(),this.elPan=c(),this.elSelection=c(),this.elZoomReset=c(),this.elMenuIcon=c(),this.elMenu=c(),this.elCustomIcons=[],this.t=i.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var h=0;h<this.t.customIcons.length;h++)this.elCustomIcons.push(c());var u=[],p=function(S,P,O){var G=S.toLowerCase();n.t[G]&&i.config.chart.zoom.enabled&&u.push({el:P,icon:typeof n.t[G]=="string"?n.t[G]:O,title:n.localeValues[S],class:"apexcharts-".concat(G,"-icon")})};p("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),p("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var x=function(S){n.t[S]&&i.config.chart[S].enabled&&u.push({el:S==="zoom"?n.elZoom:n.elSelection,icon:typeof n.t[S]=="string"?n.t[S]:S==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:n.localeValues[S==="zoom"?"selectionZoom":"selection"],class:i.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(S,"-icon")})};x("zoom"),x("selection"),this.t.pan&&i.config.chart.zoom.enabled&&u.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:i.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),p("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&u.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var k=0;k<this.elCustomIcons.length;k++)u.push({el:this.elCustomIcons[k],icon:this.t.customIcons[k].icon,title:this.t.customIcons[k].title,index:this.t.customIcons[k].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[k].class});u.forEach(function(S,P){S.index&&D.moveIndexInArray(u,P,S.index)});for(var F=0;F<u.length;F++)_.setAttrs(u[F].el,{class:u[F].class,title:u[F].title}),u[F].el.innerHTML=u[F].icon,A.appendChild(u[F].el);this._createHamburgerMenu(A),i.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):i.globals.panEnabled?this.elPan.classList.add(this.selectedClass):i.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(n){this.elMenuItems=[],n.appendChild(this.elMenu),_.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var i=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],c=0;c<i.length;c++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[c].innerHTML=i[c].title,_.setAttrs(this.elMenuItems[c],{class:"apexcharts-menu-item ".concat(i[c].name),title:i[c].title}),this.elMenu.appendChild(this.elMenuItems[c])}},{key:"addToolbarEventListeners",value:function(){var n=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(c){c.classList.contains("exportSVG")?c.addEventListener("click",n.handleDownload.bind(n,"svg")):c.classList.contains("exportPNG")?c.addEventListener("click",n.handleDownload.bind(n,"png")):c.classList.contains("exportCSV")&&c.addEventListener("click",n.handleDownload.bind(n,"csv"))});for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons[i].addEventListener("click",this.t.customIcons[i].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(n){this.ctx.getSyncedCharts().forEach(function(i){i.ctx.toolbar.toggleOtherControls();var c=n==="selection"?i.ctx.toolbar.elSelection:i.ctx.toolbar.elZoom,A=n==="selection"?"selectionEnabled":"zoomEnabled";i.w.globals[A]=!i.w.globals[A],c.classList.contains(i.ctx.toolbar.selectedClass)?c.classList.remove(i.ctx.toolbar.selectedClass):c.classList.add(i.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var n=this.w;this.elZoom||(this.elZoom=n.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=n.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=n.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(n){this.toggleOtherControls(),n==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var i=n==="pan"?this.elPan:this.elZoom,c=n==="pan"?this.elZoom:this.elPan;i&&i.classList.add(this.selectedClass),c&&c.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(n){n.ctx.toolbar.toggleOtherControls(),n.w.globals.panEnabled=!n.w.globals.panEnabled,n.ctx.toolbar.elPan.classList.contains(n.ctx.toolbar.selectedClass)?n.ctx.toolbar.elPan.classList.remove(n.ctx.toolbar.selectedClass):n.ctx.toolbar.elPan.classList.add(n.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var n=this,i=this.w;i.globals.panEnabled=!1,i.globals.zoomEnabled=!1,i.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(c){c&&c.classList.remove(n.selectedClass)})}},{key:"handleZoomIn",value:function(){var n=this.w;n.globals.isRangeBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY);var i=(this.minX+this.maxX)/2,c=(this.minX+i)/2,A=(this.maxX+i)/2,h=this._getNewMinXMaxX(c,A);n.globals.disableZoomIn||this.zoomUpdateOptions(h.minX,h.maxX)}},{key:"handleZoomOut",value:function(){var n=this.w;if(n.globals.isRangeBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY),!(n.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var i=(this.minX+this.maxX)/2,c=this.minX-(i-this.minX),A=this.maxX-(i-this.maxX),h=this._getNewMinXMaxX(c,A);n.globals.disableZoomOut||this.zoomUpdateOptions(h.minX,h.maxX)}}},{key:"_getNewMinXMaxX",value:function(n,i){var c=this.w.config.xaxis.convertedCatToNumeric;return{minX:c?Math.floor(n):n,maxX:c?Math.floor(i):i}}},{key:"zoomUpdateOptions",value:function(n,i){var c=this.w;if(n!==void 0||i!==void 0){if(!(c.config.xaxis.convertedCatToNumeric&&(n<1&&(n=1,i=c.globals.dataPoints),i-n<2))){var A={min:n,max:i},h=this.getBeforeZoomRange(A);h&&(A=h.xaxis);var u={xaxis:A},p=D.clone(c.globals.initialConfig.yaxis);c.config.chart.group||(u.yaxis=p),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(u,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(A,p)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(n,i){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:n,yaxis:i})}},{key:"getBeforeZoomRange",value:function(n,i){var c=null;return typeof this.ev.beforeZoom=="function"&&(c=this.ev.beforeZoom(this,{xaxis:n,yaxis:i})),c}},{key:"toggleMenu",value:function(){var n=this;window.setTimeout(function(){n.elMenu.classList.contains("apexcharts-menu-open")?n.elMenu.classList.remove("apexcharts-menu-open"):n.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(n){var i=this.w,c=new He(this.ctx);switch(n){case"svg":c.exportToSVG(this.ctx);break;case"png":c.exportToPng(this.ctx);break;case"csv":c.exportToCSV({series:i.config.series,columnDelimiter:i.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(n){this.ctx.getSyncedCharts().forEach(function(i){var c=i.w;if(c.globals.lastXAxis.min=c.globals.initialConfig.xaxis.min,c.globals.lastXAxis.max=c.globals.initialConfig.xaxis.max,i.updateHelpers.revertDefaultAxisMinMax(),typeof c.config.chart.events.beforeResetZoom=="function"){var A=c.config.chart.events.beforeResetZoom(i,c);A&&i.updateHelpers.revertDefaultAxisMinMax(A)}typeof c.config.chart.events.zoomed=="function"&&i.ctx.toolbar.zoomCallback({min:c.config.xaxis.min,max:c.config.xaxis.max}),c.globals.zoomed=!1;var h=i.ctx.series.emptyCollapsedSeries(D.clone(c.globals.initialSeries));i.updateHelpers._updateSeries(h,c.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),se}(),cr=function(se){N(i,Ca);var n=f(i);function i(c){var A;return o(this,i),(A=n.call(this,c)).ctx=c,A.w=c.w,A.dragged=!1,A.graphics=new _(A.ctx),A.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],A.clientX=0,A.clientY=0,A.startX=0,A.endX=0,A.dragX=0,A.startY=0,A.endY=0,A.dragY=0,A.moveDirection="none",A.debounceTimer=null,A.debounceDelay=100,A.wheelDelay=400,A}return d(i,[{key:"init",value:function(c){var A=this,h=c.xyRatios,u=this.w,p=this;this.xyRatios=h,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=u.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),u.globals.dom.elGraphical.add(this.zoomRect),u.globals.dom.elGraphical.add(this.selectionRect),u.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:u.globals.gridWidth,maxY:u.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):u.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:u.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=u.globals.dom.baseEl.querySelector("".concat(u.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(x){A.hoverArea.addEventListener(x,p.svgMouseEvents.bind(p,h),{capture:!1,passive:!0})}),u.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",p.mouseWheelEvent.bind(p),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(c,A){var h=this.w,u=this,p=this.ctx.toolbar,x=h.globals.zoomEnabled?h.config.chart.zoom.type:h.config.chart.selection.type,k=h.config.chart.toolbar.autoSelected;if(A.shiftKey?(this.shiftWasPressed=!0,p.enableZoomPanFromToolbar(k==="pan"?"zoom":"pan")):this.shiftWasPressed&&(p.enableZoomPanFromToolbar(k),this.shiftWasPressed=!1),A.target){var F,S=A.target.classList;if(A.target.parentNode&&A.target.parentNode!==null&&(F=A.target.parentNode.classList),!(S.contains("apexcharts-selection-rect")||S.contains("apexcharts-legend-marker")||S.contains("apexcharts-legend-text")||F&&F.contains("apexcharts-toolbar"))){if(u.clientX=A.type==="touchmove"||A.type==="touchstart"?A.touches[0].clientX:A.type==="touchend"?A.changedTouches[0].clientX:A.clientX,u.clientY=A.type==="touchmove"||A.type==="touchstart"?A.touches[0].clientY:A.type==="touchend"?A.changedTouches[0].clientY:A.clientY,A.type==="mousedown"&&A.which===1){var P=u.gridRect.getBoundingClientRect();u.startX=u.clientX-P.left,u.startY=u.clientY-P.top,u.dragged=!1,u.w.globals.mousedown=!0}if((A.type==="mousemove"&&A.which===1||A.type==="touchmove")&&(u.dragged=!0,h.globals.panEnabled?(h.globals.selection=null,u.w.globals.mousedown&&u.panDragging({context:u,zoomtype:x,xyRatios:c})):(u.w.globals.mousedown&&h.globals.zoomEnabled||u.w.globals.mousedown&&h.globals.selectionEnabled)&&(u.selection=u.selectionDrawing({context:u,zoomtype:x}))),A.type==="mouseup"||A.type==="touchend"||A.type==="mouseleave"){var O,G=(O=u.gridRect)===null||O===void 0?void 0:O.getBoundingClientRect();G&&u.w.globals.mousedown&&(u.endX=u.clientX-G.left,u.endY=u.clientY-G.top,u.dragX=Math.abs(u.endX-u.startX),u.dragY=Math.abs(u.endY-u.startY),(h.globals.zoomEnabled||h.globals.selectionEnabled)&&u.selectionDrawn({context:u,zoomtype:x}),h.globals.panEnabled&&h.config.xaxis.convertedCatToNumeric&&u.delayedPanScrolled()),h.globals.zoomEnabled&&u.hideSelectionRect(this.selectionRect),u.dragged=!1,u.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"mouseWheelEvent",value:function(c){var A=this,h=this.w;c.preventDefault();var u=Date.now();u-h.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(c),h.globals.lastWheelExecution=u),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){u-h.globals.lastWheelExecution>A.wheelDelay&&(A.executeMouseWheelZoom(c),h.globals.lastWheelExecution=u)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(c){var A,h=this.w;this.minX=h.globals.isRangeBar?h.globals.minY:h.globals.minX,this.maxX=h.globals.isRangeBar?h.globals.maxY:h.globals.maxX;var u=(A=this.gridRect)===null||A===void 0?void 0:A.getBoundingClientRect();if(u){var p,x,k,F=(c.clientX-u.left)/u.width,S=this.minX,P=this.maxX,O=P-S;if(c.deltaY<0){var G=S+F*O;x=G-(p=.5*O)/2,k=G+p/2}else x=S-(p=1.5*O)/2,k=P+p/2;if(!h.globals.isRangeBar){x=Math.max(x,h.globals.initialMinX),k=Math.min(k,h.globals.initialMaxX);var V=.01*(h.globals.initialMaxX-h.globals.initialMinX);if(k-x<V){var ee=(x+k)/2;x=ee-V/2,k=ee+V/2}}var re=this._getNewMinXMaxX(x,k);isNaN(re.minX)||isNaN(re.maxX)||this.zoomUpdateOptions(re.minX,re.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var c=this.w;if(this.selectionRect){var A=this.selectionRect.node.getBoundingClientRect();A.width>0&&A.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:c.globals.gridWidth,maxY:c.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var c=this.w,A=this.xyRatios;if(!c.globals.zoomEnabled){if(c.globals.selection!==void 0&&c.globals.selection!==null)this.drawSelectionRect(c.globals.selection);else if(c.config.chart.selection.xaxis.min!==void 0&&c.config.chart.selection.xaxis.max!==void 0){var h=(c.config.chart.selection.xaxis.min-c.globals.minX)/A.xRatio,u=c.globals.gridWidth-(c.globals.maxX-c.config.chart.selection.xaxis.max)/A.xRatio-h;c.globals.isRangeBar&&(h=(c.config.chart.selection.xaxis.min-c.globals.yAxisScale[0].niceMin)/A.invertedYRatio,u=(c.config.chart.selection.xaxis.max-c.config.chart.selection.xaxis.min)/A.invertedYRatio);var p={x:h,y:0,width:u,height:c.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(p),this.makeSelectionRectDraggable(),typeof c.config.chart.events.selection=="function"&&c.config.chart.events.selection(this.ctx,{xaxis:{min:c.config.chart.selection.xaxis.min,max:c.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(c){var A=c.x,h=c.y,u=c.width,p=c.height,x=c.translateX,k=x===void 0?0:x,F=c.translateY,S=F===void 0?0:F,P=this.w,O=this.zoomRect,G=this.selectionRect;if(this.dragged||P.globals.selection!==null){var V={transform:"translate("+k+", "+S+")"};P.globals.zoomEnabled&&this.dragged&&(u<0&&(u=1),O.attr({x:A,y:h,width:u,height:p,fill:P.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":P.config.chart.zoom.zoomedArea.fill.opacity,stroke:P.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":P.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":P.config.chart.zoom.zoomedArea.stroke.opacity}),_.setAttrs(O.node,V)),P.globals.selectionEnabled&&(G.attr({x:A,y:h,width:u>0?u:0,height:p>0?p:0,fill:P.config.chart.selection.fill.color,"fill-opacity":P.config.chart.selection.fill.opacity,stroke:P.config.chart.selection.stroke.color,"stroke-width":P.config.chart.selection.stroke.width,"stroke-dasharray":P.config.chart.selection.stroke.dashArray,"stroke-opacity":P.config.chart.selection.stroke.opacity}),_.setAttrs(G.node,V))}}},{key:"hideSelectionRect",value:function(c){c&&c.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(c){var A=c.context,h=c.zoomtype,u=this.w,p=A,x=this.gridRect.getBoundingClientRect(),k=p.startX-1,F=p.startY,S=!1,P=!1,O=p.clientX-x.left-k,G=p.clientY-x.top-F,V={};return Math.abs(O+k)>u.globals.gridWidth?O=u.globals.gridWidth-k:p.clientX-x.left<0&&(O=k),k>p.clientX-x.left&&(S=!0,O=Math.abs(O)),F>p.clientY-x.top&&(P=!0,G=Math.abs(G)),V=h==="x"?{x:S?k-O:k,y:0,width:O,height:u.globals.gridHeight}:h==="y"?{x:0,y:P?F-G:F,width:u.globals.gridWidth,height:G}:{x:S?k-O:k,y:P?F-G:F,width:O,height:G},p.drawSelectionRect(V),p.selectionDragging("resizing"),V}},{key:"selectionDragging",value:function(c,A){var h=this,u=this.w,p=this.xyRatios,x=this.selectionRect,k=0;c==="resizing"&&(k=30);var F=function(P){return parseFloat(x.node.getAttribute(P))},S={x:F("x"),y:F("y"),width:F("width"),height:F("height")};u.globals.selection=S,typeof u.config.chart.events.selection=="function"&&u.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var P,O,G,V,ee=h.gridRect.getBoundingClientRect(),re=x.node.getBoundingClientRect();u.globals.isRangeBar?(P=u.globals.yAxisScale[0].niceMin+(re.left-ee.left)*p.invertedYRatio,O=u.globals.yAxisScale[0].niceMin+(re.right-ee.left)*p.invertedYRatio,G=0,V=1):(P=u.globals.xAxisScale.niceMin+(re.left-ee.left)*p.xRatio,O=u.globals.xAxisScale.niceMin+(re.right-ee.left)*p.xRatio,G=u.globals.yAxisScale[0].niceMin+(ee.bottom-re.bottom)*p.yRatio[0],V=u.globals.yAxisScale[0].niceMax-(re.top-ee.top)*p.yRatio[0]);var le={xaxis:{min:P,max:O},yaxis:{min:G,max:V}};u.config.chart.events.selection(h.ctx,le),u.config.chart.brush.enabled&&u.config.chart.events.brushScrolled!==void 0&&u.config.chart.events.brushScrolled(h.ctx,le)},k))}},{key:"selectionDrawn",value:function(c){var A=c.context,h=c.zoomtype,u=this.w,p=A,x=this.xyRatios,k=this.ctx.toolbar;if(p.startX>p.endX){var F=p.startX;p.startX=p.endX,p.endX=F}if(p.startY>p.endY){var S=p.startY;p.startY=p.endY,p.endY=S}var P=void 0,O=void 0;u.globals.isRangeBar?(P=u.globals.yAxisScale[0].niceMin+p.startX*x.invertedYRatio,O=u.globals.yAxisScale[0].niceMin+p.endX*x.invertedYRatio):(P=u.globals.xAxisScale.niceMin+p.startX*x.xRatio,O=u.globals.xAxisScale.niceMin+p.endX*x.xRatio);var G=[],V=[];if(u.config.yaxis.forEach(function(ge,ce){var me=u.globals.seriesYAxisMap[ce][0];G.push(u.globals.yAxisScale[ce].niceMax-x.yRatio[me]*p.startY),V.push(u.globals.yAxisScale[ce].niceMax-x.yRatio[me]*p.endY)}),p.dragged&&(p.dragX>10||p.dragY>10)&&P!==O){if(u.globals.zoomEnabled){var ee=D.clone(u.globals.initialConfig.yaxis),re=D.clone(u.globals.initialConfig.xaxis);if(u.globals.zoomed=!0,u.config.xaxis.convertedCatToNumeric&&(P=Math.floor(P),O=Math.floor(O),P<1&&(P=1,O=u.globals.dataPoints),O-P<2&&(O=P+1)),h!=="xy"&&h!=="x"||(re={min:P,max:O}),h!=="xy"&&h!=="y"||ee.forEach(function(ge,ce){ee[ce].min=V[ce],ee[ce].max=G[ce]}),k){var le=k.getBeforeZoomRange(re,ee);le&&(re=le.xaxis?le.xaxis:re,ee=le.yaxis?le.yaxis:ee)}var v={xaxis:re};u.config.chart.group||(v.yaxis=ee),p.ctx.updateHelpers._updateOptions(v,!1,p.w.config.chart.animations.dynamicAnimation.enabled),typeof u.config.chart.events.zoomed=="function"&&k.zoomCallback(re,ee)}else if(u.globals.selectionEnabled){var Q,K=null;Q={min:P,max:O},h!=="xy"&&h!=="y"||(K=D.clone(u.config.yaxis)).forEach(function(ge,ce){K[ce].min=V[ce],K[ce].max=G[ce]}),u.globals.selection=p.selection,typeof u.config.chart.events.selection=="function"&&u.config.chart.events.selection(p.ctx,{xaxis:Q,yaxis:K})}}}},{key:"panDragging",value:function(c){var A=c.context,h=this.w,u=A;if(h.globals.lastClientPosition.x!==void 0){var p=h.globals.lastClientPosition.x-u.clientX,x=h.globals.lastClientPosition.y-u.clientY;Math.abs(p)>Math.abs(x)&&p>0?this.moveDirection="left":Math.abs(p)>Math.abs(x)&&p<0?this.moveDirection="right":Math.abs(x)>Math.abs(p)&&x>0?this.moveDirection="up":Math.abs(x)>Math.abs(p)&&x<0&&(this.moveDirection="down")}h.globals.lastClientPosition={x:u.clientX,y:u.clientY};var k=h.globals.isRangeBar?h.globals.minY:h.globals.minX,F=h.globals.isRangeBar?h.globals.maxY:h.globals.maxX;h.config.xaxis.convertedCatToNumeric||u.panScrolled(k,F)}},{key:"delayedPanScrolled",value:function(){var c=this.w,A=c.globals.minX,h=c.globals.maxX,u=(c.globals.maxX-c.globals.minX)/2;this.moveDirection==="left"?(A=c.globals.minX+u,h=c.globals.maxX+u):this.moveDirection==="right"&&(A=c.globals.minX-u,h=c.globals.maxX-u),A=Math.floor(A),h=Math.floor(h),this.updateScrolledChart({xaxis:{min:A,max:h}},A,h)}},{key:"panScrolled",value:function(c,A){var h=this.w,u=this.xyRatios,p=D.clone(h.globals.initialConfig.yaxis),x=u.xRatio,k=h.globals.minX,F=h.globals.maxX;h.globals.isRangeBar&&(x=u.invertedYRatio,k=h.globals.minY,F=h.globals.maxY),this.moveDirection==="left"?(c=k+h.globals.gridWidth/15*x,A=F+h.globals.gridWidth/15*x):this.moveDirection==="right"&&(c=k-h.globals.gridWidth/15*x,A=F-h.globals.gridWidth/15*x),h.globals.isRangeBar||(c<h.globals.initialMinX||A>h.globals.initialMaxX)&&(c=k,A=F);var S={xaxis:{min:c,max:A}};h.config.chart.group||(S.yaxis=p),this.updateScrolledChart(S,c,A)}},{key:"updateScrolledChart",value:function(c,A,h){var u=this.w;this.ctx.updateHelpers._updateOptions(c,!1,!1),typeof u.config.chart.events.scrolled=="function"&&u.config.chart.events.scrolled(this.ctx,{xaxis:{min:A,max:h}})}}]),i}(),js=function(){function se(n){o(this,se),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx}return d(se,[{key:"getNearestValues",value:function(n){var i=n.hoverArea,c=n.elGrid,A=n.clientX,h=n.clientY,u=this.w,p=c.getBoundingClientRect(),x=p.width,k=p.height,F=x/(u.globals.dataPoints-1),S=k/u.globals.dataPoints,P=this.hasBars();!u.globals.comboCharts&&!P||u.config.xaxis.convertedCatToNumeric||(F=x/u.globals.dataPoints);var O=A-p.left-u.globals.barPadForNumericAxis,G=h-p.top;O<0||G<0||O>x||G>k?(i.classList.remove("hovering-zoom"),i.classList.remove("hovering-pan")):u.globals.zoomEnabled?(i.classList.remove("hovering-pan"),i.classList.add("hovering-zoom")):u.globals.panEnabled&&(i.classList.remove("hovering-zoom"),i.classList.add("hovering-pan"));var V=Math.round(O/F),ee=Math.floor(G/S);P&&!u.config.xaxis.convertedCatToNumeric&&(V=Math.ceil(O/F),V-=1);var re=null,le=null,v=u.globals.seriesXvalues.map(function(me){return me.filter(function(Fe){return D.isNumber(Fe)})}),Q=u.globals.seriesYvalues.map(function(me){return me.filter(function(Fe){return D.isNumber(Fe)})});if(u.globals.isXNumeric){var K=this.ttCtx.getElGrid().getBoundingClientRect(),ge=O*(K.width/x),ce=G*(K.height/k);re=(le=this.closestInMultiArray(ge,ce,v,Q)).index,V=le.j,re!==null&&(v=u.globals.seriesXvalues[re],V=(le=this.closestInArray(ge,v)).index)}return u.globals.capturedSeriesIndex=re===null?-1:re,(!V||V<1)&&(V=0),u.globals.isBarHorizontal?u.globals.capturedDataPointIndex=ee:u.globals.capturedDataPointIndex=V,{capturedSeries:re,j:u.globals.isBarHorizontal?ee:V,hoverX:O,hoverY:G}}},{key:"closestInMultiArray",value:function(n,i,c,A){var h=this.w,u=0,p=null,x=-1;h.globals.series.length>1?u=this.getFirstActiveXArray(c):p=0;var k=c[u][0],F=Math.abs(n-k);if(c.forEach(function(O){O.forEach(function(G,V){var ee=Math.abs(n-G);ee<=F&&(F=ee,x=V)})}),x!==-1){var S=A[u][x],P=Math.abs(i-S);p=u,A.forEach(function(O,G){var V=Math.abs(i-O[x]);V<=P&&(P=V,p=G)})}return{index:p,j:x}}},{key:"getFirstActiveXArray",value:function(n){for(var i=this.w,c=0,A=n.map(function(u,p){return u.length>0?p:-1}),h=0;h<A.length;h++)if(A[h]!==-1&&i.globals.collapsedSeriesIndices.indexOf(h)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(h)===-1){c=A[h];break}return c}},{key:"closestInArray",value:function(n,i){for(var c=i[0],A=null,h=Math.abs(n-c),u=0;u<i.length;u++){var p=Math.abs(n-i[u]);p<h&&(h=p,A=u)}return{index:A}}},{key:"isXoverlap",value:function(n){var i=[],c=this.w.globals.seriesX.filter(function(h){return h[0]!==void 0});if(c.length>0)for(var A=0;A<c.length-1;A++)c[A][n]!==void 0&&c[A+1][n]!==void 0&&c[A][n]!==c[A+1][n]&&i.push("unEqual");return i.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var n=!0,i=this.w.globals.initialSeries,c=0;c<i.length-1;c++)if(i[c].data.length!==i[c+1].data.length){n=!1;break}return n}},{key:"getBarsHeight",value:function(n){return C(n).reduce(function(i,c){return i+c.getBBox().height},0)}},{key:"getElMarkers",value:function(n){return typeof n=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(n=C(n)).sort(function(c,A){var h=Number(c.getAttribute("data:realIndex")),u=Number(A.getAttribute("data:realIndex"));return u<h?1:u>h?-1:0});var i=[];return n.forEach(function(c){i.push(c.querySelector(".apexcharts-marker"))}),i}},{key:"hasMarkers",value:function(n){return this.getElMarkers(n).length>0}},{key:"getPathFromPoint",value:function(n,i){var c=Number(n.getAttribute("cx")),A=Number(n.getAttribute("cy")),h=n.getAttribute("shape");return new _(this.ctx).getMarkerPath(c,A,h,i)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(n){var i=this.w,c=i.config.markers.hover.size;return c===void 0&&(c=i.globals.markers.size[n]+i.config.markers.hover.sizeOffset),c}},{key:"toggleAllTooltipSeriesGroups",value:function(n){var i=this.w,c=this.ttCtx;c.allTooltipSeriesGroups.length===0&&(c.allTooltipSeriesGroups=i.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var A=c.allTooltipSeriesGroups,h=0;h<A.length;h++)n==="enable"?(A[h].classList.add("apexcharts-active"),A[h].style.display=i.config.tooltip.items.display):(A[h].classList.remove("apexcharts-active"),A[h].style.display="none")}}]),se}(),br=function(){function se(n){o(this,se),this.w=n.w,this.ctx=n.ctx,this.ttCtx=n,this.tooltipUtil=new js(n)}return d(se,[{key:"drawSeriesTexts",value:function(n){var i=n.shared,c=i===void 0||i,A=n.ttItems,h=n.i,u=h===void 0?0:h,p=n.j,x=p===void 0?null:p,k=n.y1,F=n.y2,S=n.e,P=this.w;P.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:u,j:x,y1:k,y2:F,w:P}):this.toggleActiveInactiveSeries(c,u);var O=this.getValuesToPrint({i:u,j:x});this.printLabels({i:u,j:x,values:O,ttItems:A,shared:c,e:S});var G=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=G.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=G.getBoundingClientRect().height}},{key:"printLabels",value:function(n){var i,c=this,A=n.i,h=n.j,u=n.values,p=n.ttItems,x=n.shared,k=n.e,F=this.w,S=[],P=function(K){return F.globals.seriesGoals[K]&&F.globals.seriesGoals[K][h]&&Array.isArray(F.globals.seriesGoals[K][h])},O=u.xVal,G=u.zVal,V=u.xAxisTTVal,ee="",re=F.globals.colors[A];h!==null&&F.config.plotOptions.bar.distributed&&(re=F.globals.colors[h]);for(var le=function(K,ge){var ce=c.getFormatters(A);ee=c.getSeriesName({fn:ce.yLbTitleFormatter,index:A,seriesIndex:A,j:h}),F.config.chart.type==="treemap"&&(ee=ce.yLbTitleFormatter(String(F.config.series[A].data[h].x),{series:F.globals.series,seriesIndex:A,dataPointIndex:h,w:F}));var me=F.config.tooltip.inverseOrder?ge:K;if(F.globals.axisCharts){var Fe=function(Ze){var Ke,et,ct,mt;return F.globals.isRangeData?ce.yLbFormatter((Ke=F.globals.seriesRangeStart)===null||Ke===void 0||(et=Ke[Ze])===null||et===void 0?void 0:et[h],{series:F.globals.seriesRangeStart,seriesIndex:Ze,dataPointIndex:h,w:F})+" - "+ce.yLbFormatter((ct=F.globals.seriesRangeEnd)===null||ct===void 0||(mt=ct[Ze])===null||mt===void 0?void 0:mt[h],{series:F.globals.seriesRangeEnd,seriesIndex:Ze,dataPointIndex:h,w:F}):ce.yLbFormatter(F.globals.series[Ze][h],{series:F.globals.series,seriesIndex:Ze,dataPointIndex:h,w:F})};if(x)ce=c.getFormatters(me),ee=c.getSeriesName({fn:ce.yLbTitleFormatter,index:me,seriesIndex:A,j:h}),re=F.globals.colors[me],i=Fe(me),P(me)&&(S=F.globals.seriesGoals[me][h].map(function(Ze){return{attrs:Ze,val:ce.yLbFormatter(Ze.value,{seriesIndex:me,dataPointIndex:h,w:F})}}));else{var Ie,ze=k==null||(Ie=k.target)===null||Ie===void 0?void 0:Ie.getAttribute("fill");ze&&(ze.indexOf("url")!==-1?ze.indexOf("Pattern")!==-1&&(re=F.globals.dom.baseEl.querySelector(ze.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):re=ze),i=Fe(A),P(A)&&Array.isArray(F.globals.seriesGoals[A][h])&&(S=F.globals.seriesGoals[A][h].map(function(Ze){return{attrs:Ze,val:ce.yLbFormatter(Ze.value,{seriesIndex:A,dataPointIndex:h,w:F})}}))}}h===null&&(i=ce.yLbFormatter(F.globals.series[A],U(U({},F),{},{seriesIndex:A,dataPointIndex:A}))),c.DOMHandling({i:A,t:me,j:h,ttItems:p,values:{val:i,goalVals:S,xVal:O,xAxisTTVal:V,zVal:G},seriesName:ee,shared:x,pColor:re})},v=0,Q=F.globals.series.length-1;v<F.globals.series.length;v++,Q--)le(v,Q)}},{key:"getFormatters",value:function(n){var i,c=this.w,A=c.globals.yLabelFormatters[n];return c.globals.ttVal!==void 0?Array.isArray(c.globals.ttVal)?(A=c.globals.ttVal[n]&&c.globals.ttVal[n].formatter,i=c.globals.ttVal[n]&&c.globals.ttVal[n].title&&c.globals.ttVal[n].title.formatter):(A=c.globals.ttVal.formatter,typeof c.globals.ttVal.title.formatter=="function"&&(i=c.globals.ttVal.title.formatter)):i=c.config.tooltip.y.title.formatter,typeof A!="function"&&(A=c.globals.yLabelFormatters[0]?c.globals.yLabelFormatters[0]:function(h){return h}),typeof i!="function"&&(i=function(h){return h}),{yLbFormatter:A,yLbTitleFormatter:i}}},{key:"getSeriesName",value:function(n){var i=n.fn,c=n.index,A=n.seriesIndex,h=n.j,u=this.w;return i(String(u.globals.seriesNames[c]),{series:u.globals.series,seriesIndex:A,dataPointIndex:h,w:u})}},{key:"DOMHandling",value:function(n){n.i;var i=n.t,c=n.j,A=n.ttItems,h=n.values,u=n.seriesName,p=n.shared,x=n.pColor,k=this.w,F=this.ttCtx,S=h.val,P=h.goalVals,O=h.xVal,G=h.xAxisTTVal,V=h.zVal,ee=null;ee=A[i].children,k.config.tooltip.fillSeriesColor&&(A[i].style.backgroundColor=x,ee[0].style.display="none"),F.showTooltipTitle&&(F.tooltipTitle===null&&(F.tooltipTitle=k.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),F.tooltipTitle.innerHTML=O),F.isXAxisTooltipEnabled&&(F.xaxisTooltipText.innerHTML=G!==""?G:O);var re=A[i].querySelector(".apexcharts-tooltip-text-y-label");re&&(re.innerHTML=u||"");var le=A[i].querySelector(".apexcharts-tooltip-text-y-value");le&&(le.innerHTML=S!==void 0?S:""),ee[0]&&ee[0].classList.contains("apexcharts-tooltip-marker")&&(k.config.tooltip.marker.fillColors&&Array.isArray(k.config.tooltip.marker.fillColors)&&(x=k.config.tooltip.marker.fillColors[i]),ee[0].style.backgroundColor=x),k.config.tooltip.marker.show||(ee[0].style.display="none");var v=A[i].querySelector(".apexcharts-tooltip-text-goals-label"),Q=A[i].querySelector(".apexcharts-tooltip-text-goals-value");if(P.length&&k.globals.seriesGoals[i]){var K=function(){var me="<div >",Fe="<div>";P.forEach(function(Ie,ze){me+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Ie.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Ie.attrs.name,"</div>"),Fe+="<div>".concat(Ie.val,"</div>")}),v.innerHTML=me+"</div>",Q.innerHTML=Fe+"</div>"};p?k.globals.seriesGoals[i][c]&&Array.isArray(k.globals.seriesGoals[i][c])?K():(v.innerHTML="",Q.innerHTML=""):K()}else v.innerHTML="",Q.innerHTML="";if(V!==null&&(A[i].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=k.config.tooltip.z.title,A[i].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=V!==void 0?V:""),p&&ee[0]){if(k.config.tooltip.hideEmptySeries){var ge=A[i].querySelector(".apexcharts-tooltip-marker"),ce=A[i].querySelector(".apexcharts-tooltip-text");parseFloat(S)==0?(ge.style.display="none",ce.style.display="none"):(ge.style.display="block",ce.style.display="block")}S==null||k.globals.ancillaryCollapsedSeriesIndices.indexOf(i)>-1||k.globals.collapsedSeriesIndices.indexOf(i)>-1||Array.isArray(F.tConfig.enabledOnSeries)&&F.tConfig.enabledOnSeries.indexOf(i)===-1?ee[0].parentNode.style.display="none":ee[0].parentNode.style.display=k.config.tooltip.items.display}else Array.isArray(F.tConfig.enabledOnSeries)&&F.tConfig.enabledOnSeries.indexOf(i)===-1&&(ee[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(n,i){var c=this.w;if(n)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var A=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(i));A&&(A.classList.add("apexcharts-active"),A.style.display=c.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(n){var i=n.i,c=n.j,A=this.w,h=this.ctx.series.filteredSeriesX(),u="",p="",x=null,k=null,F={series:A.globals.series,seriesIndex:i,dataPointIndex:c,w:A},S=A.globals.ttZFormatter;c===null?k=A.globals.series[i]:A.globals.isXNumeric&&A.config.chart.type!=="treemap"?(u=h[i][c],h[i].length===0&&(u=h[this.tooltipUtil.getFirstActiveXArray(h)][c])):u=new tt(this.ctx).isFormatXY()?A.config.series[i].data[c]!==void 0?A.config.series[i].data[c].x:"":A.globals.labels[c]!==void 0?A.globals.labels[c]:"";var P=u;return A.globals.isXNumeric&&A.config.xaxis.type==="datetime"?u=new Z(this.ctx).xLabelFormat(A.globals.ttKeyFormatter,P,P,{i:void 0,dateFormatter:new $(this.ctx).formatDate,w:this.w}):u=A.globals.isBarHorizontal?A.globals.yLabelFormatters[0](P,F):A.globals.xLabelFormatter(P,F),A.config.tooltip.x.formatter!==void 0&&(u=A.globals.ttKeyFormatter(P,F)),A.globals.seriesZ.length>0&&A.globals.seriesZ[i].length>0&&(x=S(A.globals.seriesZ[i][c],A)),p=typeof A.config.xaxis.tooltip.formatter=="function"?A.globals.xaxisTooltipFormatter(P,F):u,{val:Array.isArray(k)?k.join(" "):k,xVal:Array.isArray(u)?u.join(" "):u,xAxisTTVal:Array.isArray(p)?p.join(" "):p,zVal:x}}},{key:"handleCustomTooltip",value:function(n){var i=n.i,c=n.j,A=n.y1,h=n.y2,u=n.w,p=this.ttCtx.getElTooltip(),x=u.config.tooltip.custom;Array.isArray(x)&&x[i]&&(x=x[i]),p.innerHTML=x({ctx:this.ctx,series:u.globals.series,seriesIndex:i,dataPointIndex:c,y1:A,y2:h,w:u})}}]),se}(),Er=function(){function se(n){o(this,se),this.ttCtx=n,this.ctx=n.ctx,this.w=n.w}return d(se,[{key:"moveXCrosshairs",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=this.ttCtx,A=this.w,h=c.getElXCrosshairs(),u=n-c.xcrosshairsWidth/2,p=A.globals.labels.slice().length;if(i!==null&&(u=A.globals.gridWidth/p*i),h===null||A.globals.isBarHorizontal||(h.setAttribute("x",u),h.setAttribute("x1",u),h.setAttribute("x2",u),h.setAttribute("y2",A.globals.gridHeight),h.classList.add("apexcharts-active")),u<0&&(u=0),u>A.globals.gridWidth&&(u=A.globals.gridWidth),c.isXAxisTooltipEnabled){var x=u;A.config.xaxis.crosshairs.width!=="tickWidth"&&A.config.xaxis.crosshairs.width!=="barWidth"||(x=u+c.xcrosshairsWidth/2),this.moveXAxisTooltip(x)}}},{key:"moveYCrosshairs",value:function(n){var i=this.ttCtx;i.ycrosshairs!==null&&_.setAttrs(i.ycrosshairs,{y1:n,y2:n}),i.ycrosshairsHidden!==null&&_.setAttrs(i.ycrosshairsHidden,{y1:n,y2:n})}},{key:"moveXAxisTooltip",value:function(n){var i=this.w,c=this.ttCtx;if(c.xaxisTooltip!==null&&c.xcrosshairsWidth!==0){c.xaxisTooltip.classList.add("apexcharts-active");var A=c.xaxisOffY+i.config.xaxis.tooltip.offsetY+i.globals.translateY+1+i.config.xaxis.offsetY;if(n-=c.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(n)){n+=i.globals.translateX;var h;h=new _(this.ctx).getTextRects(c.xaxisTooltipText.innerHTML),c.xaxisTooltipText.style.minWidth=h.width+"px",c.xaxisTooltip.style.left=n+"px",c.xaxisTooltip.style.top=A+"px"}}}},{key:"moveYAxisTooltip",value:function(n){var i=this.w,c=this.ttCtx;c.yaxisTTEls===null&&(c.yaxisTTEls=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var A=parseInt(c.ycrosshairsHidden.getAttribute("y1"),10),h=i.globals.translateY+A,u=c.yaxisTTEls[n].getBoundingClientRect().height,p=i.globals.translateYAxisX[n]-2;i.config.yaxis[n].opposite&&(p-=26),h-=u/2,i.globals.ignoreYAxisIndexes.indexOf(n)===-1?(c.yaxisTTEls[n].classList.add("apexcharts-active"),c.yaxisTTEls[n].style.top=h+"px",c.yaxisTTEls[n].style.left=p+i.config.yaxis[n].tooltip.offsetX+"px"):c.yaxisTTEls[n].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,A=this.w,h=this.ttCtx,u=h.getElTooltip(),p=h.tooltipRect,x=c!==null?parseFloat(c):1,k=parseFloat(n)+x+5,F=parseFloat(i)+x/2;if(k>A.globals.gridWidth/2&&(k=k-p.ttWidth-x-10),k>A.globals.gridWidth-p.ttWidth-10&&(k=A.globals.gridWidth-p.ttWidth),k<-20&&(k=-20),A.config.tooltip.followCursor){var S=h.getElGrid().getBoundingClientRect();(k=h.e.clientX-S.left)>A.globals.gridWidth/2&&(k-=h.tooltipRect.ttWidth),(F=h.e.clientY+A.globals.translateY-S.top)>A.globals.gridHeight/2&&(F-=h.tooltipRect.ttHeight)}else A.globals.isBarHorizontal||p.ttHeight/2+F>A.globals.gridHeight&&(F=A.globals.gridHeight-p.ttHeight+A.globals.translateY);isNaN(k)||(k+=A.globals.translateX,u.style.left=k+"px",u.style.top=F+"px")}},{key:"moveMarkers",value:function(n,i){var c=this.w,A=this.ttCtx;if(c.globals.markers.size[n]>0)for(var h=c.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-marker")),u=0;u<h.length;u++)parseInt(h[u].getAttribute("rel"),10)===i&&(A.marker.resetPointsSize(),A.marker.enlargeCurrentPoint(i,h[u]));else A.marker.resetPointsSize(),this.moveDynamicPointOnHover(i,n)}},{key:"moveDynamicPointOnHover",value:function(n,i){var c,A,h,u,p=this.w,x=this.ttCtx,k=new _(this.ctx),F=p.globals.pointsArray,S=x.tooltipUtil.getHoverMarkerSize(i),P=p.config.series[i].type;if(!P||P!=="column"&&P!=="candlestick"&&P!=="boxPlot"){h=(c=F[i][n])===null||c===void 0?void 0:c[0],u=((A=F[i][n])===null||A===void 0?void 0:A[1])||0;var O=p.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"'] .apexcharts-series-markers path"));if(O&&u<p.globals.gridHeight&&u>0){var G=O.getAttribute("shape"),V=k.getMarkerPath(h,u,G,1.5*S);O.setAttribute("d",V)}this.moveXCrosshairs(h),x.fixedTooltip||this.moveTooltip(h,u,S)}}},{key:"moveDynamicPointsOnHover",value:function(n){var i,c=this.ttCtx,A=c.w,h=0,u=0,p=A.globals.pointsArray,x=new Xe(this.ctx),k=new _(this.ctx);i=x.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var F=c.tooltipUtil.getHoverMarkerSize(i);p[i]&&(h=p[i][n][0],u=p[i][n][1]);var S=c.tooltipUtil.getAllMarkers();if(S!==null)for(var P=0;P<A.globals.series.length;P++){var O=p[P];if(A.globals.comboCharts&&O===void 0&&S.splice(P,0,null),O&&O.length){var G=p[P][n][1],V=void 0;S[P].setAttribute("cx",h);var ee=S[P].getAttribute("shape");if(A.config.chart.type==="rangeArea"&&!A.globals.comboCharts){var re=n+A.globals.series[P].length;V=p[P][re][1],G-=Math.abs(G-V)/2}if(G!==null&&!isNaN(G)&&G<A.globals.gridHeight+F&&G+F>0){var le=k.getMarkerPath(h,G,ee,F);S[P].setAttribute("d",le)}else S[P].setAttribute("d","")}}this.moveXCrosshairs(h),c.fixedTooltip||this.moveTooltip(h,u||A.globals.gridHeight,F)}},{key:"moveStickyTooltipOverBars",value:function(n,i){var c=this.w,A=this.ttCtx,h=c.globals.columnSeries?c.globals.columnSeries.length:c.globals.series.length,u=h>=2&&h%2==0?Math.floor(h/2):Math.floor(h/2)+1;c.globals.isBarHorizontal&&(u=new Xe(this.ctx).getActiveConfigSeriesIndex("desc")+1);var p=c.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(u,"'] path[j='").concat(n,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(u,"'] path[j='").concat(n,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(u,"'] path[j='").concat(n,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(u,"'] path[j='").concat(n,"']"));p||typeof i!="number"||(p=c.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(i,"'] path[j='").concat(n,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(n,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(n,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(n,"']")));var x=p?parseFloat(p.getAttribute("cx")):0,k=p?parseFloat(p.getAttribute("cy")):0,F=p?parseFloat(p.getAttribute("barWidth")):0,S=A.getElGrid().getBoundingClientRect(),P=p&&(p.classList.contains("apexcharts-candlestick-area")||p.classList.contains("apexcharts-boxPlot-area"));c.globals.isXNumeric?(p&&!P&&(x-=h%2!=0?F/2:0),p&&P&&c.globals.comboCharts&&(x-=F/2)):c.globals.isBarHorizontal||(x=A.xAxisTicksPositions[n-1]+A.dataPointsDividedWidth/2,isNaN(x)&&(x=A.xAxisTicksPositions[n]-A.dataPointsDividedWidth/2)),c.globals.isBarHorizontal?k-=A.tooltipRect.ttHeight:c.config.tooltip.followCursor?k=A.e.clientY-S.top-A.tooltipRect.ttHeight/2:k+A.tooltipRect.ttHeight+15>c.globals.gridHeight&&(k=c.globals.gridHeight),c.globals.isBarHorizontal||this.moveXCrosshairs(x),A.fixedTooltip||this.moveTooltip(x,k||c.globals.gridHeight)}}]),se}(),gn=function(){function se(n){o(this,se),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx,this.tooltipPosition=new Er(n)}return d(se,[{key:"drawDynamicPoints",value:function(){var n=this.w,i=new _(this.ctx),c=new Re(this.ctx),A=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");A=C(A),n.config.chart.stacked&&A.sort(function(S,P){return parseFloat(S.getAttribute("data:realIndex"))-parseFloat(P.getAttribute("data:realIndex"))});for(var h=0;h<A.length;h++){var u=A[h].querySelector(".apexcharts-series-markers-wrap");if(u!==null){var p=void 0,x="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));n.config.chart.type!=="line"&&n.config.chart.type!=="area"||n.globals.comboCharts||n.config.tooltip.intersect||(x+=" no-pointer-events");var k=c.getMarkerConfig({cssClass:x,seriesIndex:Number(u.getAttribute("data:realIndex"))});(p=i.drawMarker(0,0,k)).node.setAttribute("default-marker-size",0);var F=document.createElementNS(n.globals.SVGNS,"g");F.classList.add("apexcharts-series-markers"),F.appendChild(p.node),u.appendChild(F)}}}},{key:"enlargeCurrentPoint",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w;h.config.chart.type!=="bubble"&&this.newPointSize(n,i);var u=i.getAttribute("cx"),p=i.getAttribute("cy");if(c!==null&&A!==null&&(u=c,p=A),this.tooltipPosition.moveXCrosshairs(u),!this.fixedTooltip){if(h.config.chart.type==="radar"){var x=this.ttCtx.getElGrid().getBoundingClientRect();u=this.ttCtx.e.clientX-x.left}this.tooltipPosition.moveTooltip(u,p,h.config.markers.hover.size)}}},{key:"enlargePoints",value:function(n){for(var i=this.w,c=this,A=this.ttCtx,h=n,u=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),p=i.config.markers.hover.size,x=0;x<u.length;x++){var k=u[x].getAttribute("rel"),F=u[x].getAttribute("index");if(p===void 0&&(p=i.globals.markers.size[F]+i.config.markers.hover.sizeOffset),h===parseInt(k,10)){c.newPointSize(h,u[x]);var S=u[x].getAttribute("cx"),P=u[x].getAttribute("cy");c.tooltipPosition.moveXCrosshairs(S),A.fixedTooltip||c.tooltipPosition.moveTooltip(S,P,p)}else c.oldPointSize(u[x])}}},{key:"newPointSize",value:function(n,i){var c=this.w,A=c.config.markers.hover.size,h=n===0?i.parentNode.firstChild:i.parentNode.lastChild;if(h.getAttribute("default-marker-size")!=="0"){var u=parseInt(h.getAttribute("index"),10);A===void 0&&(A=c.globals.markers.size[u]+c.config.markers.hover.sizeOffset),A<0&&(A=0);var p=this.ttCtx.tooltipUtil.getPathFromPoint(i,A);i.setAttribute("d",p)}}},{key:"oldPointSize",value:function(n){var i=parseFloat(n.getAttribute("default-marker-size")),c=this.ttCtx.tooltipUtil.getPathFromPoint(n,i);n.setAttribute("d",c)}},{key:"resetPointsSize",value:function(){for(var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),i=0;i<n.length;i++){var c=parseFloat(n[i].getAttribute("default-marker-size"));if(D.isNumber(c)&&c>=0){var A=this.ttCtx.tooltipUtil.getPathFromPoint(n[i],c);n[i].setAttribute("d",A)}else n[i].setAttribute("d","M0,0")}}}]),se}(),fr=function(){function se(n){o(this,se),this.w=n.w;var i=this.w;this.ttCtx=n,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.config.chart.type==="rangeBar"&&i.config.plotOptions.bar.rangeBarGroupRows}return d(se,[{key:"getAttr",value:function(n,i){return parseFloat(n.target.getAttribute(i))}},{key:"handleHeatTreeTooltip",value:function(n){var i=n.e,c=n.opt,A=n.x,h=n.y,u=n.type,p=this.ttCtx,x=this.w;if(i.target.classList.contains("apexcharts-".concat(u,"-rect"))){var k=this.getAttr(i,"i"),F=this.getAttr(i,"j"),S=this.getAttr(i,"cx"),P=this.getAttr(i,"cy"),O=this.getAttr(i,"width"),G=this.getAttr(i,"height");if(p.tooltipLabels.drawSeriesTexts({ttItems:c.ttItems,i:k,j:F,shared:!1,e:i}),x.globals.capturedSeriesIndex=k,x.globals.capturedDataPointIndex=F,A=S+p.tooltipRect.ttWidth/2+O,h=P+p.tooltipRect.ttHeight/2-G/2,p.tooltipPosition.moveXCrosshairs(S+O/2),A>x.globals.gridWidth/2&&(A=S-p.tooltipRect.ttWidth/2+O),p.w.config.tooltip.followCursor){var V=x.globals.dom.elWrap.getBoundingClientRect();A=x.globals.clientX-V.left-(A>x.globals.gridWidth/2?p.tooltipRect.ttWidth:0),h=x.globals.clientY-V.top-(h>x.globals.gridHeight/2?p.tooltipRect.ttHeight:0)}}return{x:A,y:h}}},{key:"handleMarkerTooltip",value:function(n){var i,c,A=n.e,h=n.opt,u=n.x,p=n.y,x=this.w,k=this.ttCtx;if(A.target.classList.contains("apexcharts-marker")){var F=parseInt(h.paths.getAttribute("cx"),10),S=parseInt(h.paths.getAttribute("cy"),10),P=parseFloat(h.paths.getAttribute("val"));if(c=parseInt(h.paths.getAttribute("rel"),10),i=parseInt(h.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,k.intersect){var O=D.findAncestor(h.paths,"apexcharts-series");O&&(i=parseInt(O.getAttribute("data:realIndex"),10))}if(k.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i,j:c,shared:!k.showOnIntersect&&x.config.tooltip.shared,e:A}),A.type==="mouseup"&&k.markerClick(A,i,c),x.globals.capturedSeriesIndex=i,x.globals.capturedDataPointIndex=c,u=F,p=S+x.globals.translateY-1.4*k.tooltipRect.ttHeight,k.w.config.tooltip.followCursor){var G=k.getElGrid().getBoundingClientRect();p=k.e.clientY+x.globals.translateY-G.top}P<0&&(p=S),k.marker.enlargeCurrentPoint(c,h.paths,u,p)}return{x:u,y:p}}},{key:"handleBarTooltip",value:function(n){var i,c,A=n.e,h=n.opt,u=this.w,p=this.ttCtx,x=p.getElTooltip(),k=0,F=0,S=0,P=this.getBarTooltipXY({e:A,opt:h});i=P.i;var O=P.j;u.globals.capturedSeriesIndex=i,u.globals.capturedDataPointIndex=O,u.globals.isBarHorizontal&&p.tooltipUtil.hasBars()||!u.config.tooltip.shared?(F=P.x,S=P.y,c=Array.isArray(u.config.stroke.width)?u.config.stroke.width[i]:u.config.stroke.width,k=F):u.globals.comboCharts||u.config.tooltip.shared||(k/=2),isNaN(S)&&(S=u.globals.svgHeight-p.tooltipRect.ttHeight);var G=parseInt(h.paths.parentNode.getAttribute("data:realIndex"),10);if(u.globals.isMultipleYAxis?u.config.yaxis[G]&&u.config.yaxis[G].reversed:u.config.yaxis[0].reversed,F+p.tooltipRect.ttWidth>u.globals.gridWidth?F-=p.tooltipRect.ttWidth:F<0&&(F=0),p.w.config.tooltip.followCursor){var V=p.getElGrid().getBoundingClientRect();S=p.e.clientY-V.top}p.tooltip===null&&(p.tooltip=u.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),u.config.tooltip.shared||(u.globals.comboBarCount>0?p.tooltipPosition.moveXCrosshairs(k+c/2):p.tooltipPosition.moveXCrosshairs(k)),!p.fixedTooltip&&(!u.config.tooltip.shared||u.globals.isBarHorizontal&&p.tooltipUtil.hasBars())&&(S=S+u.globals.translateY-p.tooltipRect.ttHeight/2,x.style.left=F+u.globals.translateX+"px",x.style.top=S+"px")}},{key:"getBarTooltipXY",value:function(n){var i=this,c=n.e,A=n.opt,h=this.w,u=null,p=this.ttCtx,x=0,k=0,F=0,S=0,P=0,O=c.target.classList;if(O.contains("apexcharts-bar-area")||O.contains("apexcharts-candlestick-area")||O.contains("apexcharts-boxPlot-area")||O.contains("apexcharts-rangebar-area")){var G=c.target,V=G.getBoundingClientRect(),ee=A.elGrid.getBoundingClientRect(),re=V.height;P=V.height;var le=V.width,v=parseInt(G.getAttribute("cx"),10),Q=parseInt(G.getAttribute("cy"),10);S=parseFloat(G.getAttribute("barWidth"));var K=c.type==="touchmove"?c.touches[0].clientX:c.clientX;u=parseInt(G.getAttribute("j"),10),x=parseInt(G.parentNode.getAttribute("rel"),10)-1;var ge=G.getAttribute("data-range-y1"),ce=G.getAttribute("data-range-y2");h.globals.comboCharts&&(x=parseInt(G.parentNode.getAttribute("data:realIndex"),10));var me=function(Ie){return h.globals.isXNumeric?v-le/2:i.isVerticalGroupedRangeBar?v+le/2:v-p.dataPointsDividedWidth+le/2},Fe=function(){return Q-p.dataPointsDividedHeight+re/2-p.tooltipRect.ttHeight/2};p.tooltipLabels.drawSeriesTexts({ttItems:A.ttItems,i:x,j:u,y1:ge?parseInt(ge,10):null,y2:ce?parseInt(ce,10):null,shared:!p.showOnIntersect&&h.config.tooltip.shared,e:c}),h.config.tooltip.followCursor?h.globals.isBarHorizontal?(k=K-ee.left+15,F=Fe()):(k=me(),F=c.clientY-ee.top-p.tooltipRect.ttHeight/2-15):h.globals.isBarHorizontal?((k=v)<p.xyRatios.baseLineInvertedY&&(k=v-p.tooltipRect.ttWidth),F=Fe()):(k=me(),F=Q)}return{x:k,y:F,barHeight:P,barWidth:S,i:x,j:u}}}]),se}(),Pi=function(){function se(n){o(this,se),this.w=n.w,this.ttCtx=n}return d(se,[{key:"drawXaxisTooltip",value:function(){var n=this.w,i=this.ttCtx,c=n.config.xaxis.position==="bottom";i.xaxisOffY=c?n.globals.gridHeight+1:-n.globals.xAxisHeight-n.config.xaxis.axisTicks.height+3;var A=c?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",h=n.globals.dom.elWrap;i.isXAxisTooltipEnabled&&n.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(i.xaxisTooltip=document.createElement("div"),i.xaxisTooltip.setAttribute("class",A+" apexcharts-theme-"+n.config.tooltip.theme),h.appendChild(i.xaxisTooltip),i.xaxisTooltipText=document.createElement("div"),i.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),i.xaxisTooltipText.style.fontFamily=n.config.xaxis.tooltip.style.fontFamily||n.config.chart.fontFamily,i.xaxisTooltipText.style.fontSize=n.config.xaxis.tooltip.style.fontSize,i.xaxisTooltip.appendChild(i.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var n=this.w,i=this.ttCtx,c=0;c<n.config.yaxis.length;c++){var A=n.config.yaxis[c].opposite||n.config.yaxis[c].crosshairs.opposite;i.yaxisOffX=A?n.globals.gridWidth+1:1;var h="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(c,A?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),u=n.globals.dom.elWrap;n.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(c))===null&&(i.yaxisTooltip=document.createElement("div"),i.yaxisTooltip.setAttribute("class",h+" apexcharts-theme-"+n.config.tooltip.theme),u.appendChild(i.yaxisTooltip),c===0&&(i.yaxisTooltipText=[]),i.yaxisTooltipText[c]=document.createElement("div"),i.yaxisTooltipText[c].classList.add("apexcharts-yaxistooltip-text"),i.yaxisTooltip.appendChild(i.yaxisTooltipText[c]))}}},{key:"setXCrosshairWidth",value:function(){var n=this.w,i=this.ttCtx,c=i.getElXCrosshairs();if(i.xcrosshairsWidth=parseInt(n.config.xaxis.crosshairs.width,10),n.globals.comboCharts){var A=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(A!==null&&n.config.xaxis.crosshairs.width==="barWidth"){var h=parseFloat(A.getAttribute("barWidth"));i.xcrosshairsWidth=h}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var u=n.globals.labels.length;i.xcrosshairsWidth=n.globals.gridWidth/u}}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var p=n.globals.labels.length;i.xcrosshairsWidth=n.globals.gridWidth/p}else if(n.config.xaxis.crosshairs.width==="barWidth"){var x=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(x!==null){var k=parseFloat(x.getAttribute("barWidth"));i.xcrosshairsWidth=k}else i.xcrosshairsWidth=1}n.globals.isBarHorizontal&&(i.xcrosshairsWidth=0),c!==null&&i.xcrosshairsWidth>0&&c.setAttribute("width",i.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var n=this.w,i=this.ttCtx;i.ycrosshairs=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),i.ycrosshairsHidden=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(n,i,c){var A=this.ttCtx,h=this.w,u=h.globals,p=u.seriesYAxisMap[n];if(A.yaxisTooltips[n]&&p.length>0){var x=u.yLabelFormatters[n],k=A.getElGrid().getBoundingClientRect(),F=p[0],S=0;c.yRatio.length>1&&(S=F);var P=(i-k.top)*c.yRatio[S],O=u.maxYArr[F]-u.minYArr[F],G=u.minYArr[F]+(O-P);h.config.yaxis[n].reversed&&(G=u.maxYArr[F]-(O-P)),A.tooltipPosition.moveYCrosshairs(i-k.top),A.yaxisTooltipText[n].innerHTML=x(G),A.tooltipPosition.moveYAxisTooltip(n)}}}]),se}(),Mr=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w;var i=this.w;this.tConfig=i.config.tooltip,this.tooltipUtil=new js(this),this.tooltipLabels=new br(this),this.tooltipPosition=new Er(this),this.marker=new gn(this),this.intersect=new fr(this),this.axesTooltip=new Pi(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!i.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return d(se,[{key:"getElTooltip",value:function(n){return n||(n=this),n.w.globals.dom.baseEl?n.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(n){var i=this.w;this.xyRatios=n,this.isXAxisTooltipEnabled=i.config.xaxis.tooltip.enabled&&i.globals.axisCharts,this.yaxisTooltips=i.config.yaxis.map(function(u,p){return!!(u.show&&u.tooltip.enabled&&i.globals.axisCharts)}),this.allTooltipSeriesGroups=[],i.globals.axisCharts||(this.showTooltipTitle=!1);var c=document.createElement("div");if(c.classList.add("apexcharts-tooltip"),i.config.tooltip.cssClass&&c.classList.add(i.config.tooltip.cssClass),c.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),i.globals.dom.elWrap.appendChild(c),i.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var A=new qe(this.ctx);this.xAxisTicksPositions=A.getXAxisTicksPositions()}if(!i.globals.comboCharts&&!this.tConfig.intersect&&i.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),i.config.markers.size!==0&&i.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),i.globals.collapsedSeries.length!==i.globals.series.length){this.dataPointsDividedHeight=i.globals.gridHeight/i.globals.dataPoints,this.dataPointsDividedWidth=i.globals.gridWidth/i.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||i.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,c.appendChild(this.tooltipTitle));var h=i.globals.series.length;(i.globals.xyCharts||i.globals.comboCharts)&&this.tConfig.shared&&(h=this.showOnIntersect?1:i.globals.series.length),this.legendLabels=i.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(h),this.addSVGEvents()}}},{key:"createTTElements",value:function(n){for(var i=this,c=this.w,A=[],h=this.getElTooltip(),u=function(x){var k=document.createElement("div");k.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(x)),k.style.order=c.config.tooltip.inverseOrder?n-x:x+1;var F=document.createElement("span");F.classList.add("apexcharts-tooltip-marker"),F.style.backgroundColor=c.globals.colors[x],k.appendChild(F);var S=document.createElement("div");S.classList.add("apexcharts-tooltip-text"),S.style.fontFamily=i.tConfig.style.fontFamily||c.config.chart.fontFamily,S.style.fontSize=i.tConfig.style.fontSize,["y","goals","z"].forEach(function(P){var O=document.createElement("div");O.classList.add("apexcharts-tooltip-".concat(P,"-group"));var G=document.createElement("span");G.classList.add("apexcharts-tooltip-text-".concat(P,"-label")),O.appendChild(G);var V=document.createElement("span");V.classList.add("apexcharts-tooltip-text-".concat(P,"-value")),O.appendChild(V),S.appendChild(O)}),k.appendChild(S),h.appendChild(k),A.push(k)},p=0;p<n;p++)u(p);return A}},{key:"addSVGEvents",value:function(){var n=this.w,i=n.config.chart.type,c=this.getElTooltip(),A=!(i!=="bar"&&i!=="candlestick"&&i!=="boxPlot"&&i!=="rangeBar"),h=i==="area"||i==="line"||i==="scatter"||i==="bubble"||i==="radar",u=n.globals.dom.Paper.node,p=this.getElGrid();p&&(this.seriesBound=p.getBoundingClientRect());var x,k=[],F=[],S={hoverArea:u,elGrid:p,tooltipEl:c,tooltipY:k,tooltipX:F,ttItems:this.ttItems};if(n.globals.axisCharts&&(h?x=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):A?x=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):i!=="heatmap"&&i!=="treemap"||(x=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),x&&x.length))for(var P=0;P<x.length;P++)k.push(x[P].getAttribute("cy")),F.push(x[P].getAttribute("cx"));if(n.globals.xyCharts&&!this.showOnIntersect||n.globals.comboCharts&&!this.showOnIntersect||A&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([u],S);else if(A&&!n.globals.comboCharts||h&&this.showOnIntersect)this.addDatapointEventsListeners(S);else if(!n.globals.axisCharts||i==="heatmap"||i==="treemap"){var O=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(O,S)}if(this.showOnIntersect){var G=n.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");G.length>0&&this.addPathsEventListeners(G,S),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(S)}}},{key:"drawFixedTooltipRect",value:function(){var n=this.w,i=this.getElTooltip(),c=i.getBoundingClientRect(),A=c.width+10,h=c.height+10,u=this.tConfig.fixed.offsetX,p=this.tConfig.fixed.offsetY,x=this.tConfig.fixed.position.toLowerCase();return x.indexOf("right")>-1&&(u=u+n.globals.svgWidth-A+10),x.indexOf("bottom")>-1&&(p=p+n.globals.svgHeight-h-10),i.style.left=u+"px",i.style.top=p+"px",{x:u,y:p,ttWidth:A,ttHeight:h}}},{key:"addDatapointEventsListeners",value:function(n){var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(i,n)}},{key:"addPathsEventListeners",value:function(n,i){for(var c=this,A=function(u){var p={paths:n[u],tooltipEl:i.tooltipEl,tooltipY:i.tooltipY,tooltipX:i.tooltipX,elGrid:i.elGrid,hoverArea:i.hoverArea,ttItems:i.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(x){return n[u].addEventListener(x,c.onSeriesHover.bind(c,p),{capture:!1,passive:!0})})},h=0;h<n.length;h++)A(h)}},{key:"onSeriesHover",value:function(n,i){var c=this,A=Date.now()-this.lastHoverTime;A>=100?this.seriesHover(n,i):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){c.seriesHover(n,i)},100-A))}},{key:"seriesHover",value:function(n,i){var c=this;this.lastHoverTime=Date.now();var A=[],h=this.w;h.config.chart.group&&(A=this.ctx.getGroupedCharts()),h.globals.axisCharts&&(h.globals.minX===-1/0&&h.globals.maxX===1/0||h.globals.dataPoints===0)||(A.length?A.forEach(function(u){var p=c.getElTooltip(u),x={paths:n.paths,tooltipEl:p,tooltipY:n.tooltipY,tooltipX:n.tooltipX,elGrid:n.elGrid,hoverArea:n.hoverArea,ttItems:u.w.globals.tooltip.ttItems};u.w.globals.minX===c.w.globals.minX&&u.w.globals.maxX===c.w.globals.maxX&&u.w.globals.tooltip.seriesHoverByContext({chartCtx:u,ttCtx:u.w.globals.tooltip,opt:x,e:i})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:n,e:i}))}},{key:"seriesHoverByContext",value:function(n){var i=n.chartCtx,c=n.ttCtx,A=n.opt,h=n.e,u=i.w,p=this.getElTooltip(i);p&&(c.tooltipRect={x:0,y:0,ttWidth:p.getBoundingClientRect().width,ttHeight:p.getBoundingClientRect().height},c.e=h,c.tooltipUtil.hasBars()&&!u.globals.comboCharts&&!c.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Xe(i).toggleSeriesOnHover(h,h.target.parentNode),c.fixedTooltip&&c.drawFixedTooltipRect(),u.globals.axisCharts?c.axisChartsTooltips({e:h,opt:A,tooltipRect:c.tooltipRect}):c.nonAxisChartsTooltips({e:h,opt:A,tooltipRect:c.tooltipRect}))}},{key:"axisChartsTooltips",value:function(n){var i,c,A=n.e,h=n.opt,u=this.w,p=h.elGrid.getBoundingClientRect(),x=A.type==="touchmove"?A.touches[0].clientX:A.clientX,k=A.type==="touchmove"?A.touches[0].clientY:A.clientY;if(this.clientY=k,this.clientX=x,u.globals.capturedSeriesIndex=-1,u.globals.capturedDataPointIndex=-1,k<p.top||k>p.top+p.height)this.handleMouseOut(h);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!u.config.tooltip.shared){var F=parseInt(h.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(F)<0)return void this.handleMouseOut(h)}var S=this.getElTooltip(),P=this.getElXCrosshairs(),O=[];u.config.chart.group&&(O=this.ctx.getSyncedCharts());var G=u.globals.xyCharts||u.config.chart.type==="bar"&&!u.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||u.globals.comboCharts&&this.tooltipUtil.hasBars();if(A.type==="mousemove"||A.type==="touchmove"||A.type==="mouseup"){if(u.globals.collapsedSeries.length+u.globals.ancillaryCollapsedSeries.length===u.globals.series.length)return;P!==null&&P.classList.add("apexcharts-active");var V=this.yaxisTooltips.filter(function(le){return le===!0});if(this.ycrosshairs!==null&&V.length&&this.ycrosshairs.classList.add("apexcharts-active"),G&&!this.showOnIntersect||O.length>1)this.handleStickyTooltip(A,x,k,h);else if(u.config.chart.type==="heatmap"||u.config.chart.type==="treemap"){var ee=this.intersect.handleHeatTreeTooltip({e:A,opt:h,x:i,y:c,type:u.config.chart.type});i=ee.x,c=ee.y,S.style.left=i+"px",S.style.top=c+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:A,opt:h}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:A,opt:h,x:i,y:c});if(this.yaxisTooltips.length)for(var re=0;re<u.config.yaxis.length;re++)this.axesTooltip.drawYaxisTooltipText(re,k,this.xyRatios);u.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),h.tooltipEl.classList.add("apexcharts-active")}else A.type!=="mouseout"&&A.type!=="touchend"||this.handleMouseOut(h)}}},{key:"nonAxisChartsTooltips",value:function(n){var i=n.e,c=n.opt,A=n.tooltipRect,h=this.w,u=c.paths.getAttribute("rel"),p=this.getElTooltip(),x=h.globals.dom.elWrap.getBoundingClientRect();if(i.type==="mousemove"||i.type==="touchmove"){h.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),p.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:c.ttItems,i:parseInt(u,10)-1,shared:!1});var k=h.globals.clientX-x.left-A.ttWidth/2,F=h.globals.clientY-x.top-A.ttHeight-10;if(p.style.left=k+"px",p.style.top=F+"px",h.config.legend.tooltipHoverFormatter){var S=u-1,P=(0,h.config.legend.tooltipHoverFormatter)(this.legendLabels[S].getAttribute("data:default-text"),{seriesIndex:S,dataPointIndex:S,w:h});this.legendLabels[S].innerHTML=P}}else i.type!=="mouseout"&&i.type!=="touchend"||(p.classList.remove("apexcharts-active"),h.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),h.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(O){var G=O.getAttribute("data:default-text");O.innerHTML=decodeURIComponent(G)}))}},{key:"handleStickyTooltip",value:function(n,i,c,A){var h=this.w,u=this.tooltipUtil.getNearestValues({context:this,hoverArea:A.hoverArea,elGrid:A.elGrid,clientX:i,clientY:c}),p=u.j,x=u.capturedSeries;h.globals.collapsedSeriesIndices.includes(x)&&(x=null);var k=A.elGrid.getBoundingClientRect();if(u.hoverX<0||u.hoverX>k.width)this.handleMouseOut(A);else if(x!==null)this.handleStickyCapturedSeries(n,x,A,p);else if(this.tooltipUtil.isXoverlap(p)||h.globals.isBarHorizontal){var F=h.globals.series.findIndex(function(S,P){return!h.globals.collapsedSeriesIndices.includes(P)});this.create(n,this,F,p,A.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(n,i,c,A){var h=this.w;if(!this.tConfig.shared&&h.globals.series[i][A]===null)return void this.handleMouseOut(c);if(h.globals.series[i][A]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(A)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(n,this,i,A,c.ttItems):this.create(n,this,i,A,c.ttItems,!1);else if(this.tooltipUtil.isXoverlap(A)){var u=h.globals.series.findIndex(function(p,x){return!h.globals.collapsedSeriesIndices.includes(x)});this.create(n,this,u,A,c.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var n=this.w,i=new _(this.ctx),c=n.globals.dom.Paper.select(".apexcharts-bar-area"),A=0;A<c.length;A++)i.pathMouseLeave(c[A])}},{key:"handleMouseOut",value:function(n){var i=this.w,c=this.getElXCrosshairs();if(i.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),n.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),i.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),c!==null&&c.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var A=0;A<this.yaxisTTEls.length;A++)this.yaxisTTEls[A].classList.remove("apexcharts-active")}i.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(h){var u=h.getAttribute("data:default-text");h.innerHTML=decodeURIComponent(u)})}},{key:"markerClick",value:function(n,i,c){var A=this.w;typeof A.config.chart.events.markerClick=="function"&&A.config.chart.events.markerClick(n,this.ctx,{seriesIndex:i,dataPointIndex:c,w:A}),this.ctx.events.fireEvent("markerClick",[n,this.ctx,{seriesIndex:i,dataPointIndex:c,w:A}])}},{key:"create",value:function(n,i,c,A,h){var u,p,x,k,F,S,P,O,G,V,ee,re,le,v,Q,K,ge=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,ce=this.w,me=i;n.type==="mouseup"&&this.markerClick(n,c,A),ge===null&&(ge=this.tConfig.shared);var Fe=this.tooltipUtil.hasMarkers(c),Ie=this.tooltipUtil.getElBars();if(ce.config.legend.tooltipHoverFormatter){var ze=ce.config.legend.tooltipHoverFormatter,Ze=Array.from(this.legendLabels);Ze.forEach(function(Nt){var jr=Nt.getAttribute("data:default-text");Nt.innerHTML=decodeURIComponent(jr)});for(var Ke=0;Ke<Ze.length;Ke++){var et=Ze[Ke],ct=parseInt(et.getAttribute("i"),10),mt=decodeURIComponent(et.getAttribute("data:default-text")),wt=ze(mt,{seriesIndex:ge?ct:c,dataPointIndex:A,w:ce});if(ge)et.innerHTML=ce.globals.collapsedSeriesIndices.indexOf(ct)<0?wt:mt;else if(et.innerHTML=ct===c?wt:mt,c===ct)break}}var Ut=U(U({ttItems:h,i:c,j:A},((u=ce.globals.seriesRange)===null||u===void 0||(p=u[c])===null||p===void 0||(x=p[A])===null||x===void 0||(k=x.y[0])===null||k===void 0?void 0:k.y1)!==void 0&&{y1:(F=ce.globals.seriesRange)===null||F===void 0||(S=F[c])===null||S===void 0||(P=S[A])===null||P===void 0||(O=P.y[0])===null||O===void 0?void 0:O.y1}),((G=ce.globals.seriesRange)===null||G===void 0||(V=G[c])===null||V===void 0||(ee=V[A])===null||ee===void 0||(re=ee.y[0])===null||re===void 0?void 0:re.y2)!==void 0&&{y2:(le=ce.globals.seriesRange)===null||le===void 0||(v=le[c])===null||v===void 0||(Q=v[A])===null||Q===void 0||(K=Q.y[0])===null||K===void 0?void 0:K.y2});if(ge){if(me.tooltipLabels.drawSeriesTexts(U(U({},Ut),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),Fe)ce.globals.markers.largestSize>0?me.marker.enlargePoints(A):me.tooltipPosition.moveDynamicPointsOnHover(A);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(Ie),this.barSeriesHeight>0)){var Et=new _(this.ctx),Dt=ce.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(A,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(A,c);for(var Kt=0;Kt<Dt.length;Kt++)Et.pathMouseEnter(Dt[Kt])}}else me.tooltipLabels.drawSeriesTexts(U({shared:!1},Ut)),this.tooltipUtil.hasBars()&&me.tooltipPosition.moveStickyTooltipOverBars(A,c),Fe&&me.tooltipPosition.moveMarkers(c,A)}}]),se}(),Vs=function(){function se(n){o(this,se),this.w=n.w,this.barCtx=n,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return d(se,[{key:"handleBarDataLabels",value:function(n){var i,c,A=n.x,h=n.y,u=n.y1,p=n.y2,x=n.i,k=n.j,F=n.realIndex,S=n.columnGroupIndex,P=n.series,O=n.barHeight,G=n.barWidth,V=n.barXPosition,ee=n.barYPosition,re=n.visibleSeries,le=n.renderedPath,v=this.w,Q=new _(this.barCtx.ctx),K=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[F]:this.barCtx.strokeWidth;v.globals.isXNumeric&&!v.globals.isBarHorizontal?(i=A+parseFloat(G*(re+1)),c=h+parseFloat(O*(re+1))-K):(i=A+parseFloat(G*re),c=h+parseFloat(O*re));var ge,ce=null,me=A,Fe=h,Ie={},ze=v.config.dataLabels,Ze=this.barCtx.barOptions.dataLabels,Ke=this.barCtx.barOptions.dataLabels.total;ee!==void 0&&this.barCtx.isRangeBar&&(c=ee,Fe=ee),V!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(i=V,me=V);var et=ze.offsetX,ct=ze.offsetY,mt={width:0,height:0};if(v.config.dataLabels.enabled){var wt=v.globals.series[x][k];mt=Q.getTextRects(v.config.dataLabels.formatter?v.config.dataLabels.formatter(wt,U(U({},v),{},{seriesIndex:x,dataPointIndex:k,w:v})):v.globals.yLabelFormatters[0](wt),parseFloat(ze.style.fontSize))}var Ut={x:A,y:h,i:x,j:k,realIndex:F,columnGroupIndex:S,renderedPath:le,bcx:i,bcy:c,barHeight:O,barWidth:G,textRects:mt,strokeWidth:K,dataLabelsX:me,dataLabelsY:Fe,dataLabelsConfig:ze,barDataLabelsConfig:Ze,barTotalDataLabelsConfig:Ke,offX:et,offY:ct};return Ie=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Ut):this.calculateColumnsDataLabelsPosition(Ut),le.attr({cy:Ie.bcy,cx:Ie.bcx,j:k,val:v.globals.series[x][k],barHeight:O,barWidth:G}),ge=this.drawCalculatedDataLabels({x:Ie.dataLabelsX,y:Ie.dataLabelsY,val:this.barCtx.isRangeBar?[u,p]:v.config.chart.stackType==="100%"?P[F][k]:v.globals.series[F][k],i:F,j:k,barWidth:G,barHeight:O,textRects:mt,dataLabelsConfig:ze}),v.config.chart.stacked&&Ke.enabled&&(ce=this.drawTotalDataLabels({x:Ie.totalDataLabelsX,y:Ie.totalDataLabelsY,barWidth:G,barHeight:O,realIndex:F,textAnchor:Ie.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:F,j:k}),dataLabelsConfig:ze,barTotalDataLabelsConfig:Ke})),{dataLabels:ge,totalDataLabels:ce}}},{key:"getStackedTotalDataLabel",value:function(n){var i=n.realIndex,c=n.j,A=this.w,h=this.barCtx.stackedSeriesTotals[c];return this.totalFormatter&&(h=this.totalFormatter(h,U(U({},A),{},{seriesIndex:i,dataPointIndex:c,w:A}))),h}},{key:"calculateColumnsDataLabelsPosition",value:function(n){var i=this.w,c=n.i,A=n.j,h=n.realIndex;n.columnGroupIndex;var u,p,x=n.y,k=n.bcx,F=n.barWidth,S=n.barHeight,P=n.textRects,O=n.dataLabelsX,G=n.dataLabelsY,V=n.dataLabelsConfig,ee=n.barDataLabelsConfig,re=n.barTotalDataLabelsConfig,le=n.strokeWidth,v=n.offX,Q=n.offY,K=k;S=Math.abs(S);var ge=i.config.plotOptions.bar.dataLabels.orientation==="vertical",ce=this.barCtx.barHelpers.getZeroValueEncounters({i:c,j:A}).zeroEncounters;k-=le/2;var me=i.globals.gridWidth/i.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?O+=F/2:(O=i.globals.isXNumeric?k-F/2+v:k-me+F/2+v,ce>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(O-=F*ce)),ge&&(O=O+P.height/2-le/2-2);var Fe=i.globals.series[c][A]<0,Ie=x;switch(this.barCtx.isReversed&&(Ie=x+(Fe?S:-S)),ee.position){case"center":G=ge?Fe?Ie-S/2+Q:Ie+S/2-Q:Fe?Ie-S/2+P.height/2+Q:Ie+S/2+P.height/2-Q;break;case"bottom":G=ge?Fe?Ie-S+Q:Ie+S-Q:Fe?Ie-S+P.height+le+Q:Ie+S-P.height/2+le-Q;break;case"top":G=ge?Fe?Ie+Q:Ie-Q:Fe?Ie-P.height/2-Q:Ie+P.height+Q}if(this.barCtx.lastActiveBarSerieIndex===h&&re.enabled){var ze=new _(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:h,j:A}),V.fontSize);u=Fe?Ie-ze.height/2-Q-re.offsetY+18:Ie+ze.height+Q+re.offsetY-18;var Ze=me;p=K+(i.globals.isXNumeric?-F*i.globals.barGroups.length/2:i.globals.barGroups.length*F/2-(i.globals.barGroups.length-1)*F-Ze)+re.offsetX}return i.config.chart.stacked||(G<0?G=0+le:G+P.height/3>i.globals.gridHeight&&(G=i.globals.gridHeight-le)),{bcx:k,bcy:x,dataLabelsX:O,dataLabelsY:G,totalDataLabelsX:p,totalDataLabelsY:u,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(n){var i=this.w,c=n.x,A=n.i,h=n.j,u=n.realIndex,p=n.bcy,x=n.barHeight,k=n.barWidth,F=n.textRects,S=n.dataLabelsX,P=n.strokeWidth,O=n.dataLabelsConfig,G=n.barDataLabelsConfig,V=n.barTotalDataLabelsConfig,ee=n.offX,re=n.offY,le=i.globals.gridHeight/i.globals.dataPoints;k=Math.abs(k);var v,Q,K=p-(this.barCtx.isRangeBar?0:le)+x/2+F.height/2+re-3,ge="start",ce=i.globals.series[A][h]<0,me=c;switch(this.barCtx.isReversed&&(me=c+(ce?-k:k),ge=ce?"start":"end"),G.position){case"center":S=ce?me+k/2-ee:Math.max(F.width/2,me-k/2)+ee;break;case"bottom":S=ce?me+k-P-ee:me-k+P+ee;break;case"top":S=ce?me-P-ee:me-P+ee}if(this.barCtx.lastActiveBarSerieIndex===u&&V.enabled){var Fe=new _(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:u,j:h}),O.fontSize);ce?(v=me-P-ee-V.offsetX,ge="end"):v=me+ee+V.offsetX+(this.barCtx.isReversed?-(k+P):P),Q=K-F.height/2+Fe.height/2+V.offsetY+P}return i.config.chart.stacked||(O.textAnchor==="start"?S-F.width<0?S=ce?F.width+P:P:S+F.width>i.globals.gridWidth&&(S=ce?i.globals.gridWidth-P:i.globals.gridWidth-F.width-P):O.textAnchor==="middle"?S-F.width/2<0?S=F.width/2+P:S+F.width/2>i.globals.gridWidth&&(S=i.globals.gridWidth-F.width/2-P):O.textAnchor==="end"&&(S<1?S=F.width+P:S+1>i.globals.gridWidth&&(S=i.globals.gridWidth-F.width-P))),{bcx:c,bcy:p,dataLabelsX:S,dataLabelsY:K,totalDataLabelsX:v,totalDataLabelsY:Q,totalDataLabelsAnchor:ge}}},{key:"drawCalculatedDataLabels",value:function(n){var i=n.x,c=n.y,A=n.val,h=n.i,u=n.j,p=n.textRects,x=n.barHeight,k=n.barWidth,F=n.dataLabelsConfig,S=this.w,P="rotate(0)";S.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(P="rotate(-90, ".concat(i,", ").concat(c,")"));var O=new Ee(this.barCtx.ctx),G=new _(this.barCtx.ctx),V=F.formatter,ee=null,re=S.globals.collapsedSeriesIndices.indexOf(h)>-1;if(F.enabled&&!re){ee=G.group({class:"apexcharts-data-labels",transform:P});var le="";A!==void 0&&(le=V(A,U(U({},S),{},{seriesIndex:h,dataPointIndex:u,w:S}))),!A&&S.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(le="");var v=S.globals.series[h][u]<0,Q=S.config.plotOptions.bar.dataLabels.position;S.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(Q==="top"&&(F.textAnchor=v?"end":"start"),Q==="center"&&(F.textAnchor="middle"),Q==="bottom"&&(F.textAnchor=v?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&k<G.getTextRects(le,parseFloat(F.style.fontSize)).width&&(le=""),S.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?p.width/1.6>Math.abs(k)&&(le=""):p.height/1.6>Math.abs(x)&&(le=""));var K=U({},F);this.barCtx.isHorizontal&&A<0&&(F.textAnchor==="start"?K.textAnchor="end":F.textAnchor==="end"&&(K.textAnchor="start")),O.plotDataLabelsText({x:i,y:c,text:le,i:h,j:u,parent:ee,dataLabelsConfig:K,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return ee}},{key:"drawTotalDataLabels",value:function(n){var i=n.x,c=n.y,A=n.val,h=n.realIndex,u=n.textAnchor,p=n.barTotalDataLabelsConfig;this.w;var x,k=new _(this.barCtx.ctx);return p.enabled&&i!==void 0&&c!==void 0&&this.barCtx.lastActiveBarSerieIndex===h&&(x=k.drawText({x:i,y:c,foreColor:p.style.color,text:A,textAnchor:u,fontFamily:p.style.fontFamily,fontSize:p.style.fontSize,fontWeight:p.style.fontWeight})),x}}]),se}(),Qn=function(){function se(n){o(this,se),this.w=n.w,this.barCtx=n}return d(se,[{key:"initVariables",value:function(n){var i=this.w;this.barCtx.series=n,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var c=0;c<n.length;c++)if(n[c].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=n[c].length),i.globals.isXNumeric)for(var A=0;A<n[c].length;A++)i.globals.seriesX[c][A]>i.globals.minX&&i.globals.seriesX[c][A]<i.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=i.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(i.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],i.globals.comboCharts||this.checkZeroSeries({series:n})}},{key:"initialPositions",value:function(){var n,i,c,A,h,u,p,x,k=this.w,F=k.globals.dataPoints;this.barCtx.isRangeBar&&(F=k.globals.labels.length);var S=this.barCtx.seriesLen;if(k.config.plotOptions.bar.rangeBarGroupRows&&(S=1),this.barCtx.isHorizontal)h=(c=k.globals.gridHeight/F)/S,k.globals.isXNumeric&&(h=(c=k.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),h=h*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(h=parseInt(this.barCtx.barOptions.barHeight,10)),x=this.barCtx.baseLineInvertedY+k.globals.padHorizontal+(this.barCtx.isReversed?k.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(x=k.globals.gridWidth/2),i=(c-h*this.barCtx.seriesLen)/2;else{if(A=k.globals.gridWidth/this.barCtx.visibleItems,k.config.xaxis.convertedCatToNumeric&&(A=k.globals.gridWidth/k.globals.dataPoints),u=A/S*parseInt(this.barCtx.barOptions.columnWidth,10)/100,k.globals.isXNumeric){var P=this.barCtx.xRatio;k.globals.minXDiff&&k.globals.minXDiff!==.5&&k.globals.minXDiff/P>0&&(A=k.globals.minXDiff/P),(u=A/S*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(u=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(u=parseInt(this.barCtx.barOptions.columnWidth,10)),p=k.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?k.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),n=k.globals.padHorizontal+(A-u*this.barCtx.seriesLen)/2}return k.globals.barHeight=h,k.globals.barWidth=u,{x:n,y:i,yDivision:c,xDivision:A,barHeight:h,barWidth:u,zeroH:p,zeroW:x}}},{key:"initializeStackedPrevVars",value:function(n){n.w.globals.seriesGroups.forEach(function(i){n[i]||(n[i]={}),n[i].prevY=[],n[i].prevX=[],n[i].prevYF=[],n[i].prevXF=[],n[i].prevYVal=[],n[i].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(n){n.w.globals.seriesGroups.forEach(function(i){n[i]||(n[i]={}),n[i].xArrj=[],n[i].xArrjF=[],n[i].xArrjVal=[],n[i].yArrj=[],n[i].yArrjF=[],n[i].yArrjVal=[]})}},{key:"getPathFillColor",value:function(n,i,c,A){var h,u,p,x,k,F=this.w,S=this.barCtx.ctx.fill,P=null,O=this.barCtx.barOptions.distributed?c:i;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(G){n[i][c]>=G.from&&n[i][c]<=G.to&&(P=G.color)}),(h=F.config.series[i].data[c])!==null&&h!==void 0&&h.fillColor&&(P=F.config.series[i].data[c].fillColor),S.fillPath({seriesNumber:this.barCtx.barOptions.distributed?O:A,dataPointIndex:c,color:P,value:n[i][c],fillConfig:(u=F.config.series[i].data[c])===null||u===void 0?void 0:u.fill,fillType:(p=F.config.series[i].data[c])!==null&&p!==void 0&&(x=p.fill)!==null&&x!==void 0&&x.type?(k=F.config.series[i].data[c])===null||k===void 0?void 0:k.fill.type:Array.isArray(F.config.fill.type)?F.config.fill.type[A]:F.config.fill.type})}},{key:"getStrokeWidth",value:function(n,i,c){var A=0,h=this.w;return this.barCtx.series[n][i]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,h.config.stroke.show&&(this.barCtx.isNullValue||(A=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[c]:this.barCtx.strokeWidth)),A}},{key:"createBorderRadiusArr",value:function(n){var i=this.w,c=!this.w.config.chart.stacked||i.config.plotOptions.bar.borderRadiusWhenStacked!=="last"||i.config.plotOptions.bar.borderRadius<=0,A=n.length,h=n[0].length,u=Array.from({length:A},function(){return Array(h).fill(c?"top":"none")});if(c)return u;for(var p=0;p<h;p++){for(var x=[],k=[],F=0,S=0;S<A;S++){var P=n[S][p];P>0?(x.push(S),F++):P<0&&(k.push(S),F++)}if(x.length>0&&k.length===0)if(x.length===1)u[x[0]][p]="both";else{var O,G=x[0],V=x[x.length-1],ee=g(x);try{for(ee.s();!(O=ee.n()).done;){var re=O.value;u[re][p]=re===G?"bottom":re===V?"top":"none"}}catch(ct){ee.e(ct)}finally{ee.f()}}else if(k.length>0&&x.length===0)if(k.length===1)u[k[0]][p]="both";else{var le,v=k[0],Q=k[k.length-1],K=g(k);try{for(K.s();!(le=K.n()).done;){var ge=le.value;u[ge][p]=ge===v?"bottom":ge===Q?"top":"none"}}catch(ct){K.e(ct)}finally{K.f()}}else if(x.length>0&&k.length>0){var ce,me=x[x.length-1],Fe=g(x);try{for(Fe.s();!(ce=Fe.n()).done;){var Ie=ce.value;u[Ie][p]=Ie===me?"top":"none"}}catch(ct){Fe.e(ct)}finally{Fe.f()}var ze,Ze=k[k.length-1],Ke=g(k);try{for(Ke.s();!(ze=Ke.n()).done;){var et=ze.value;u[et][p]=et===Ze?"bottom":"none"}}catch(ct){Ke.e(ct)}finally{Ke.f()}}else F===1&&(u[x[0]||k[0]][p]="both")}return u}},{key:"barBackground",value:function(n){var i=n.j,c=n.i,A=n.x1,h=n.x2,u=n.y1,p=n.y2,x=n.elSeries,k=this.w,F=new _(this.barCtx.ctx),S=new Xe(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&S===c){i>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(i%=this.barCtx.barOptions.colors.backgroundBarColors.length);var P=this.barCtx.barOptions.colors.backgroundBarColors[i],O=F.drawRect(A!==void 0?A:0,u!==void 0?u:0,h!==void 0?h:k.globals.gridWidth,p!==void 0?p:k.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,P,this.barCtx.barOptions.colors.backgroundBarOpacity);x.add(O),O.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(n){var i,c=n.barWidth,A=n.barXPosition,h=n.y1,u=n.y2,p=n.strokeWidth,x=n.isReversed,k=n.series,F=n.seriesGroup,S=n.realIndex,P=n.i,O=n.j,G=n.w,V=new _(this.barCtx.ctx);(p=Array.isArray(p)?p[S]:p)||(p=0);var ee=c,re=A;(i=G.config.series[S].data[O])!==null&&i!==void 0&&i.columnWidthOffset&&(re=A-G.config.series[S].data[O].columnWidthOffset/2,ee=c+G.config.series[S].data[O].columnWidthOffset);var le=p/2,v=re+le,Q=re+ee-le,K=(k[P][O]>=0?1:-1)*(x?-1:1);h+=.001-le*K,u+=.001+le*K;var ge=V.move(v,h),ce=V.move(v,h),me=V.line(Q,h);if(G.globals.previousPaths.length>0&&(ce=this.barCtx.getPreviousPath(S,O,!1)),ge=ge+V.line(v,u)+V.line(Q,u)+me+(G.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[S][O]==="both"?" Z":" z"),ce=ce+V.line(v,h)+me+me+me+me+me+V.line(v,h)+(G.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[S][O]==="both"?" Z":" z"),this.arrBorderRadius[S][O]!=="none"&&(ge=V.roundPathCorners(ge,G.config.plotOptions.bar.borderRadius)),G.config.chart.stacked){var Fe=this.barCtx;(Fe=this.barCtx[F]).yArrj.push(u-le*K),Fe.yArrjF.push(Math.abs(h-u+p*K)),Fe.yArrjVal.push(this.barCtx.series[P][O])}return{pathTo:ge,pathFrom:ce}}},{key:"getBarpaths",value:function(n){var i,c=n.barYPosition,A=n.barHeight,h=n.x1,u=n.x2,p=n.strokeWidth,x=n.isReversed,k=n.series,F=n.seriesGroup,S=n.realIndex,P=n.i,O=n.j,G=n.w,V=new _(this.barCtx.ctx);(p=Array.isArray(p)?p[S]:p)||(p=0);var ee=c,re=A;(i=G.config.series[S].data[O])!==null&&i!==void 0&&i.barHeightOffset&&(ee=c-G.config.series[S].data[O].barHeightOffset/2,re=A+G.config.series[S].data[O].barHeightOffset);var le=p/2,v=ee+le,Q=ee+re-le,K=(k[P][O]>=0?1:-1)*(x?-1:1);h+=.001+le*K,u+=.001-le*K;var ge=V.move(h,v),ce=V.move(h,v);G.globals.previousPaths.length>0&&(ce=this.barCtx.getPreviousPath(S,O,!1));var me=V.line(h,Q);if(ge=ge+V.line(u,v)+V.line(u,Q)+me+(G.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[S][O]==="both"?" Z":" z"),ce=ce+V.line(h,v)+me+me+me+me+me+V.line(h,v)+(G.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[S][O]==="both"?" Z":" z"),this.arrBorderRadius[S][O]!=="none"&&(ge=V.roundPathCorners(ge,G.config.plotOptions.bar.borderRadius)),G.config.chart.stacked){var Fe=this.barCtx;(Fe=this.barCtx[F]).xArrj.push(u+le*K),Fe.xArrjF.push(Math.abs(h-u-p*K)),Fe.xArrjVal.push(this.barCtx.series[P][O])}return{pathTo:ge,pathFrom:ce}}},{key:"checkZeroSeries",value:function(n){for(var i=n.series,c=this.w,A=0;A<i.length;A++){for(var h=0,u=0;u<i[c.globals.maxValsInArrayIndex].length;u++)h+=i[A][u];h===0&&this.barCtx.zeroSerieses.push(A)}}},{key:"getXForValue",value:function(n,i){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?i:null;return n!=null&&(c=i+n/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?n/this.barCtx.invertedYRatio:0)),c}},{key:"getYForValue",value:function(n,i,c){var A=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?i:null;return n!=null&&(A=i-n/this.barCtx.yRatio[c]+2*(this.barCtx.isReversed?n/this.barCtx.yRatio[c]:0)),A}},{key:"getGoalValues",value:function(n,i,c,A,h,u){var p=this,x=this.w,k=[],F=function(O,G){var V;k.push((m(V={},n,n==="x"?p.getXForValue(O,i,!1):p.getYForValue(O,c,u,!1)),m(V,"attrs",G),V))};if(x.globals.seriesGoals[A]&&x.globals.seriesGoals[A][h]&&Array.isArray(x.globals.seriesGoals[A][h])&&x.globals.seriesGoals[A][h].forEach(function(O){F(O.value,O)}),this.barCtx.barOptions.isDumbbell&&x.globals.seriesRange.length){var S=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:x.globals.colors,P={strokeHeight:n==="x"?0:x.globals.markers.size[A],strokeWidth:n==="x"?x.globals.markers.size[A]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(S[A])?S[A][0]:S[A]};F(x.globals.seriesRangeStart[A][h],P),F(x.globals.seriesRangeEnd[A][h],U(U({},P),{},{strokeColor:Array.isArray(S[A])?S[A][1]:S[A]}))}return k}},{key:"drawGoalLine",value:function(n){var i=n.barXPosition,c=n.barYPosition,A=n.goalX,h=n.goalY,u=n.barWidth,p=n.barHeight,x=new _(this.barCtx.ctx),k=x.group({className:"apexcharts-bar-goals-groups"});k.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:k.node}),k.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var F=null;return this.barCtx.isHorizontal?Array.isArray(A)&&A.forEach(function(S){if(S.x>=-1&&S.x<=x.w.globals.gridWidth+1){var P=S.attrs.strokeHeight!==void 0?S.attrs.strokeHeight:p/2,O=c+P+p/2;F=x.drawLine(S.x,O-2*P,S.x,O,S.attrs.strokeColor?S.attrs.strokeColor:void 0,S.attrs.strokeDashArray,S.attrs.strokeWidth?S.attrs.strokeWidth:2,S.attrs.strokeLineCap),k.add(F)}}):Array.isArray(h)&&h.forEach(function(S){if(S.y>=-1&&S.y<=x.w.globals.gridHeight+1){var P=S.attrs.strokeWidth!==void 0?S.attrs.strokeWidth:u/2,O=i+P+u/2;F=x.drawLine(O-2*P,S.y,O,S.y,S.attrs.strokeColor?S.attrs.strokeColor:void 0,S.attrs.strokeDashArray,S.attrs.strokeHeight?S.attrs.strokeHeight:2,S.attrs.strokeLineCap),k.add(F)}}),k}},{key:"drawBarShadow",value:function(n){var i=n.prevPaths,c=n.currPaths,A=n.color,h=this.w,u=i.x,p=i.x1,x=i.barYPosition,k=c.x,F=c.x1,S=c.barYPosition,P=x+c.barHeight,O=new _(this.barCtx.ctx),G=new D,V=O.move(p,P)+O.line(u,P)+O.line(k,S)+O.line(F,S)+O.line(p,P)+(h.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return O.drawPath({d:V,fill:G.shadeColor(.5,D.rgb2hex(A)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(n){var i,c=n.i,A=n.j,h=this.w,u=0,p=0;return(h.config.plotOptions.bar.horizontal?h.globals.series.map(function(x,k){return k}):((i=h.globals.columnSeries)===null||i===void 0?void 0:i.i.map(function(x){return x}))||[]).forEach(function(x){var k=h.globals.seriesPercent[x][A];k&&u++,x<c&&k===0&&p++}),{nonZeroColumns:u,zeroEncounters:p}}},{key:"getGroupIndex",value:function(n){var i=this.w,c=i.globals.seriesGroups.findIndex(function(u){return u.indexOf(i.globals.seriesNames[n])>-1}),A=this.barCtx.columnGroupIndices,h=A.indexOf(c);return h<0&&(A.push(c),h=A.length-1),{groupIndex:c,columnGroupIndex:h}}}]),se}(),vr=function(){function se(n,i){o(this,se),this.ctx=n,this.w=n.w;var c=this.w;this.barOptions=c.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=c.config.stroke.width,this.isNullValue=!1,this.isRangeBar=c.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!c.globals.isBarHorizontal&&c.globals.seriesRange.length&&c.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=i,this.xyRatios!==null&&(this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.invertedXRatio=i.invertedXRatio,this.invertedYRatio=i.invertedYRatio,this.baseLineY=i.baseLineY,this.baseLineInvertedY=i.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var A=new Xe(this.ctx);this.lastActiveBarSerieIndex=A.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var h=A.getBarSeriesIndices(),u=new ie(this.ctx);this.stackedSeriesTotals=u.getStackedSeriesTotals(this.w.config.series.map(function(p,x){return h.indexOf(x)===-1?x:-1}).filter(function(p){return p!==-1})),this.barHelpers=new Qn(this)}return d(se,[{key:"draw",value:function(n,i){var c=this.w,A=new _(this.ctx),h=new ie(this.ctx,c);n=h.getLogSeries(n),this.series=n,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);var u=A.group({class:"apexcharts-bar-series apexcharts-plot-series"});c.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var p=0,x=0;p<n.length;p++,x++){var k,F,S,P,O=void 0,G=void 0,V=[],ee=[],re=c.globals.comboCharts?i[p]:p,le=this.barHelpers.getGroupIndex(re).columnGroupIndex,v=A.group({class:"apexcharts-series",rel:p+1,seriesName:D.escapeString(c.globals.seriesNames[re]),"data:realIndex":re});this.ctx.series.addCollapsedClassToSeries(v,re),n[p].length>0&&(this.visibleI=this.visibleI+1);var Q=0,K=0;this.yRatio.length>1&&(this.yaxisIndex=c.globals.seriesYAxisReverseMap[re],this.translationsIndex=re);var ge=this.translationsIndex;this.isReversed=c.config.yaxis[this.yaxisIndex]&&c.config.yaxis[this.yaxisIndex].reversed;var ce=this.barHelpers.initialPositions();G=ce.y,Q=ce.barHeight,F=ce.yDivision,P=ce.zeroW,O=ce.x,K=ce.barWidth,k=ce.xDivision,S=ce.zeroH,this.horizontal||ee.push(O+K/2);var me=A.group({class:"apexcharts-datalabels","data:realIndex":re});c.globals.delayedElements.push({el:me.node}),me.node.classList.add("apexcharts-element-hidden");var Fe=A.group({class:"apexcharts-bar-goals-markers"}),Ie=A.group({class:"apexcharts-bar-shadows"});c.globals.delayedElements.push({el:Ie.node}),Ie.node.classList.add("apexcharts-element-hidden");for(var ze=0;ze<n[p].length;ze++){var Ze=this.barHelpers.getStrokeWidth(p,ze,re),Ke=null,et={indexes:{i:p,j:ze,realIndex:re,translationsIndex:ge,bc:x},x:O,y:G,strokeWidth:Ze,elSeries:v};this.isHorizontal?(Ke=this.drawBarPaths(U(U({},et),{},{barHeight:Q,zeroW:P,yDivision:F})),K=this.series[p][ze]/this.invertedYRatio):(Ke=this.drawColumnPaths(U(U({},et),{},{xDivision:k,barWidth:K,zeroH:S})),Q=this.series[p][ze]/this.yRatio[ge]);var ct=this.barHelpers.getPathFillColor(n,p,ze,re);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&ze>0){var mt=this.barHelpers.drawBarShadow({color:typeof ct=="string"&&(ct==null?void 0:ct.indexOf("url"))===-1?ct:D.hexToRgba(c.globals.colors[p]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:Ke});mt&&Ie.add(mt)}this.pathArr.push(Ke);var wt=this.barHelpers.drawGoalLine({barXPosition:Ke.barXPosition,barYPosition:Ke.barYPosition,goalX:Ke.goalX,goalY:Ke.goalY,barHeight:Q,barWidth:K});wt&&Fe.add(wt),G=Ke.y,O=Ke.x,ze>0&&ee.push(O+K/2),V.push(G),this.renderSeries({realIndex:re,pathFill:ct,j:ze,i:p,columnGroupIndex:le,pathFrom:Ke.pathFrom,pathTo:Ke.pathTo,strokeWidth:Ze,elSeries:v,x:O,y:G,series:n,barHeight:Math.abs(Ke.barHeight?Ke.barHeight:Q),barWidth:Math.abs(Ke.barWidth?Ke.barWidth:K),elDataLabelsWrap:me,elGoalsMarkers:Fe,elBarShadows:Ie,visibleSeries:this.visibleI,type:"bar"})}c.globals.seriesXvalues[re]=ee,c.globals.seriesYvalues[re]=V,u.add(v)}return u}},{key:"renderSeries",value:function(n){var i=n.realIndex,c=n.pathFill,A=n.lineFill,h=n.j,u=n.i,p=n.columnGroupIndex,x=n.pathFrom,k=n.pathTo,F=n.strokeWidth,S=n.elSeries,P=n.x,O=n.y,G=n.y1,V=n.y2,ee=n.series,re=n.barHeight,le=n.barWidth,v=n.barXPosition,Q=n.barYPosition,K=n.elDataLabelsWrap,ge=n.elGoalsMarkers,ce=n.elBarShadows,me=n.visibleSeries,Fe=n.type,Ie=n.classes,ze=this.w,Ze=new _(this.ctx);if(!A){var Ke=typeof ze.globals.stroke.colors[i]=="function"?function(Ut){var Et,Dt=ze.config.stroke.colors;return Array.isArray(Dt)&&Dt.length>0&&((Et=Dt[Ut])||(Et=""),typeof Et=="function")?Et({value:ze.globals.series[Ut][h],dataPointIndex:h,w:ze}):Et}(i):ze.globals.stroke.colors[i];A=this.barOptions.distributed?ze.globals.stroke.colors[h]:Ke}ze.config.series[u].data[h]&&ze.config.series[u].data[h].strokeColor&&(A=ze.config.series[u].data[h].strokeColor),this.isNullValue&&(c="none");var et=h/ze.config.chart.animations.animateGradually.delay*(ze.config.chart.animations.speed/ze.globals.dataPoints)/2.4,ct=Ze.renderPaths({i:u,j:h,realIndex:i,pathFrom:x,pathTo:k,stroke:A,strokeWidth:F,strokeLineCap:ze.config.stroke.lineCap,fill:c,animationDelay:et,initialSpeed:ze.config.chart.animations.speed,dataChangeSpeed:ze.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Fe,"-area ").concat(Ie),chartType:Fe});ct.attr("clip-path","url(#gridRectBarMask".concat(ze.globals.cuid,")"));var mt=ze.config.forecastDataPoints;mt.count>0&&h>=ze.globals.dataPoints-mt.count&&(ct.node.setAttribute("stroke-dasharray",mt.dashArray),ct.node.setAttribute("stroke-width",mt.strokeWidth),ct.node.setAttribute("fill-opacity",mt.fillOpacity)),G!==void 0&&V!==void 0&&(ct.attr("data-range-y1",G),ct.attr("data-range-y2",V)),new X(this.ctx).setSelectionFilter(ct,i,h),S.add(ct);var wt=new Vs(this).handleBarDataLabels({x:P,y:O,y1:G,y2:V,i:u,j:h,series:ee,realIndex:i,columnGroupIndex:p,barHeight:re,barWidth:le,barXPosition:v,barYPosition:Q,renderedPath:ct,visibleSeries:me});return wt.dataLabels!==null&&K.add(wt.dataLabels),wt.totalDataLabels&&K.add(wt.totalDataLabels),S.add(K),ge&&S.add(ge),ce&&S.add(ce),S}},{key:"drawBarPaths",value:function(n){var i,c=n.indexes,A=n.barHeight,h=n.strokeWidth,u=n.zeroW,p=n.x,x=n.y,k=n.yDivision,F=n.elSeries,S=this.w,P=c.i,O=c.j;if(S.globals.isXNumeric)i=(x=(S.globals.seriesX[P][O]-S.globals.minX)/this.invertedXRatio-A)+A*this.visibleI;else if(S.config.plotOptions.bar.hideZeroBarsWhenGrouped){var G=0,V=0;S.globals.seriesPercent.forEach(function(re,le){re[O]&&G++,le<P&&re[O]===0&&V++}),G>0&&(A=this.seriesLen*A/G),i=x+A*this.visibleI,i-=A*V}else i=x+A*this.visibleI;this.isFunnel&&(u-=(this.barHelpers.getXForValue(this.series[P][O],u)-u)/2),p=this.barHelpers.getXForValue(this.series[P][O],u);var ee=this.barHelpers.getBarpaths({barYPosition:i,barHeight:A,x1:u,x2:p,strokeWidth:h,isReversed:this.isReversed,series:this.series,realIndex:c.realIndex,i:P,j:O,w:S});return S.globals.isXNumeric||(x+=k),this.barHelpers.barBackground({j:O,i:P,y1:i-A*this.visibleI,y2:A*this.seriesLen,elSeries:F}),{pathTo:ee.pathTo,pathFrom:ee.pathFrom,x1:u,x:p,y:x,goalX:this.barHelpers.getGoalValues("x",u,null,P,O),barYPosition:i,barHeight:A}}},{key:"drawColumnPaths",value:function(n){var i,c=n.indexes,A=n.x,h=n.y,u=n.xDivision,p=n.barWidth,x=n.zeroH,k=n.strokeWidth,F=n.elSeries,S=this.w,P=c.realIndex,O=c.translationsIndex,G=c.i,V=c.j,ee=c.bc;if(S.globals.isXNumeric){var re=this.getBarXForNumericXAxis({x:A,j:V,realIndex:P,barWidth:p});A=re.x,i=re.barXPosition}else if(S.config.plotOptions.bar.hideZeroBarsWhenGrouped){var le=this.barHelpers.getZeroValueEncounters({i:G,j:V}),v=le.nonZeroColumns,Q=le.zeroEncounters;v>0&&(p=this.seriesLen*p/v),i=A+p*this.visibleI,i-=p*Q}else i=A+p*this.visibleI;h=this.barHelpers.getYForValue(this.series[G][V],x,O);var K=this.barHelpers.getColumnPaths({barXPosition:i,barWidth:p,y1:x,y2:h,strokeWidth:k,isReversed:this.isReversed,series:this.series,realIndex:P,i:G,j:V,w:S});return S.globals.isXNumeric||(A+=u),this.barHelpers.barBackground({bc:ee,j:V,i:G,x1:i-k/2-p*this.visibleI,x2:p*this.seriesLen+k/2,elSeries:F}),{pathTo:K.pathTo,pathFrom:K.pathFrom,x:A,y:h,goalY:this.barHelpers.getGoalValues("y",null,x,G,V,O),barXPosition:i,barWidth:p}}},{key:"getBarXForNumericXAxis",value:function(n){var i=n.x,c=n.barWidth,A=n.realIndex,h=n.j,u=this.w,p=A;return u.globals.seriesX[A].length||(p=u.globals.maxValsInArrayIndex),u.globals.seriesX[p][h]&&(i=(u.globals.seriesX[p][h]-u.globals.minX)/this.xRatio-c*this.seriesLen/2),{barXPosition:i+c*this.visibleI,x:i}}},{key:"getPreviousPath",value:function(n,i){for(var c,A=this.w,h=0;h<A.globals.previousPaths.length;h++){var u=A.globals.previousPaths[h];u.paths&&u.paths.length>0&&parseInt(u.realIndex,10)===parseInt(n,10)&&A.globals.previousPaths[h].paths[i]!==void 0&&(c=A.globals.previousPaths[h].paths[i].d)}return c}}]),se}(),_t=function(se){N(i,vr);var n=f(i);function i(){return o(this,i),n.apply(this,arguments)}return d(i,[{key:"draw",value:function(c,A){var h=this,u=this.w;this.graphics=new _(this.ctx),this.bar=new vr(this.ctx,this.xyRatios);var p=new ie(this.ctx,u);c=p.getLogSeries(c),this.yRatio=p.getLogYRatios(this.yRatio),this.barHelpers.initVariables(c),u.config.chart.stackType==="100%"&&(c=u.globals.comboCharts?A.map(function(G){return u.globals.seriesPercent[G]}):u.globals.seriesPercent.slice()),this.series=c,this.barHelpers.initializeStackedPrevVars(this);for(var x=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),k=0,F=0,S=function(G,V){var ee=void 0,re=void 0,le=void 0,v=void 0,Q=u.globals.comboCharts?A[G]:G,K=h.barHelpers.getGroupIndex(Q),ge=K.groupIndex,ce=K.columnGroupIndex;h.groupCtx=h[u.globals.seriesGroups[ge]];var me=[],Fe=[],Ie=0;h.yRatio.length>1&&(h.yaxisIndex=u.globals.seriesYAxisReverseMap[Q][0],Ie=Q),h.isReversed=u.config.yaxis[h.yaxisIndex]&&u.config.yaxis[h.yaxisIndex].reversed;var ze=h.graphics.group({class:"apexcharts-series",seriesName:D.escapeString(u.globals.seriesNames[Q]),rel:G+1,"data:realIndex":Q});h.ctx.series.addCollapsedClassToSeries(ze,Q);var Ze=h.graphics.group({class:"apexcharts-datalabels","data:realIndex":Q}),Ke=h.graphics.group({class:"apexcharts-bar-goals-markers"}),et=0,ct=0,mt=h.initialPositions(k,F,ee,re,le,v,Ie);F=mt.y,et=mt.barHeight,re=mt.yDivision,v=mt.zeroW,k=mt.x,ct=mt.barWidth,ee=mt.xDivision,le=mt.zeroH,u.globals.barHeight=et,u.globals.barWidth=ct,h.barHelpers.initializeStackedXYVars(h),h.groupCtx.prevY.length===1&&h.groupCtx.prevY[0].every(function(pr){return isNaN(pr)})&&(h.groupCtx.prevY[0]=h.groupCtx.prevY[0].map(function(){return le}),h.groupCtx.prevYF[0]=h.groupCtx.prevYF[0].map(function(){return 0}));for(var wt=0;wt<u.globals.dataPoints;wt++){var Ut=h.barHelpers.getStrokeWidth(G,wt,Q),Et={indexes:{i:G,j:wt,realIndex:Q,translationsIndex:Ie,bc:V},strokeWidth:Ut,x:k,y:F,elSeries:ze,columnGroupIndex:ce,seriesGroup:u.globals.seriesGroups[ge]},Dt=null;h.isHorizontal?(Dt=h.drawStackedBarPaths(U(U({},Et),{},{zeroW:v,barHeight:et,yDivision:re})),ct=h.series[G][wt]/h.invertedYRatio):(Dt=h.drawStackedColumnPaths(U(U({},Et),{},{xDivision:ee,barWidth:ct,zeroH:le})),et=h.series[G][wt]/h.yRatio[Ie]);var Kt=h.barHelpers.drawGoalLine({barXPosition:Dt.barXPosition,barYPosition:Dt.barYPosition,goalX:Dt.goalX,goalY:Dt.goalY,barHeight:et,barWidth:ct});Kt&&Ke.add(Kt),F=Dt.y,k=Dt.x,me.push(k),Fe.push(F);var Nt=h.barHelpers.getPathFillColor(c,G,wt,Q),jr="";u.globals.isBarHorizontal?h.barHelpers.arrBorderRadius[Q][wt]==="bottom"&&u.globals.series[Q][wt]>0&&(jr="apexcharts-flip-x"):h.barHelpers.arrBorderRadius[Q][wt]==="bottom"&&u.globals.series[Q][wt]>0&&(jr="apexcharts-flip-y"),ze=h.renderSeries({realIndex:Q,pathFill:Nt,j:wt,i:G,columnGroupIndex:ce,pathFrom:Dt.pathFrom,pathTo:Dt.pathTo,strokeWidth:Ut,elSeries:ze,x:k,y:F,series:c,barHeight:et,barWidth:ct,elDataLabelsWrap:Ze,elGoalsMarkers:Ke,type:"bar",visibleSeries:ce,classes:jr})}u.globals.seriesXvalues[Q]=me,u.globals.seriesYvalues[Q]=Fe,h.groupCtx.prevY.push(h.groupCtx.yArrj),h.groupCtx.prevYF.push(h.groupCtx.yArrjF),h.groupCtx.prevYVal.push(h.groupCtx.yArrjVal),h.groupCtx.prevX.push(h.groupCtx.xArrj),h.groupCtx.prevXF.push(h.groupCtx.xArrjF),h.groupCtx.prevXVal.push(h.groupCtx.xArrjVal),x.add(ze)},P=0,O=0;P<c.length;P++,O++)S(P,O);return x}},{key:"initialPositions",value:function(c,A,h,u,p,x,k){var F,S,P=this.w;if(this.isHorizontal){u=P.globals.gridHeight/P.globals.dataPoints;var O=P.config.plotOptions.bar.barHeight;F=String(O).indexOf("%")===-1?parseInt(O,10):u*parseInt(O,10)/100,x=P.globals.padHorizontal+(this.isReversed?P.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),A=(u-F)/2}else{S=h=P.globals.gridWidth/P.globals.dataPoints;var G=P.config.plotOptions.bar.columnWidth;P.globals.isXNumeric&&P.globals.dataPoints>1?S=(h=P.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(G).indexOf("%")===-1?S=parseInt(G,10):S*=parseInt(G,10)/100,p=this.isReversed?this.baseLineY[k]:P.globals.gridHeight-this.baseLineY[k],c=P.globals.padHorizontal+(h-S)/2}var V=P.globals.barGroups.length||1;return{x:c,y:A,yDivision:u,xDivision:h,barHeight:F/V,barWidth:S/V,zeroH:p,zeroW:x}}},{key:"drawStackedBarPaths",value:function(c){for(var A,h=c.indexes,u=c.barHeight,p=c.strokeWidth,x=c.zeroW,k=c.x,F=c.y,S=c.columnGroupIndex,P=c.seriesGroup,O=c.yDivision,G=c.elSeries,V=this.w,ee=F+S*u,re=h.i,le=h.j,v=h.realIndex,Q=h.translationsIndex,K=0,ge=0;ge<this.groupCtx.prevXF.length;ge++)K+=this.groupCtx.prevXF[ge][le];var ce;if((ce=P.indexOf(V.config.series[v].name))>0){var me=x;this.groupCtx.prevXVal[ce-1][le]<0?me=this.series[re][le]>=0?this.groupCtx.prevX[ce-1][le]+K-2*(this.isReversed?K:0):this.groupCtx.prevX[ce-1][le]:this.groupCtx.prevXVal[ce-1][le]>=0&&(me=this.series[re][le]>=0?this.groupCtx.prevX[ce-1][le]:this.groupCtx.prevX[ce-1][le]-K+2*(this.isReversed?K:0)),A=me}else A=x;k=this.series[re][le]===null?A:A+this.series[re][le]/this.invertedYRatio-2*(this.isReversed?this.series[re][le]/this.invertedYRatio:0);var Fe=this.barHelpers.getBarpaths({barYPosition:ee,barHeight:u,x1:A,x2:k,strokeWidth:p,isReversed:this.isReversed,series:this.series,realIndex:h.realIndex,seriesGroup:P,i:re,j:le,w:V});return this.barHelpers.barBackground({j:le,i:re,y1:ee,y2:u,elSeries:G}),F+=O,{pathTo:Fe.pathTo,pathFrom:Fe.pathFrom,goalX:this.barHelpers.getGoalValues("x",x,null,re,le,Q),barXPosition:A,barYPosition:ee,x:k,y:F}}},{key:"drawStackedColumnPaths",value:function(c){var A=c.indexes,h=c.x,u=c.y,p=c.xDivision,x=c.barWidth,k=c.zeroH,F=c.columnGroupIndex,S=c.seriesGroup,P=c.elSeries,O=this.w,G=A.i,V=A.j,ee=A.bc,re=A.realIndex,le=A.translationsIndex;if(O.globals.isXNumeric){var v=O.globals.seriesX[re][V];v||(v=0),h=(v-O.globals.minX)/this.xRatio-x/2*O.globals.barGroups.length}for(var Q,K=h+F*x,ge=0,ce=0;ce<this.groupCtx.prevYF.length;ce++)ge+=isNaN(this.groupCtx.prevYF[ce][V])?0:this.groupCtx.prevYF[ce][V];var me=G;if(S&&(me=S.indexOf(O.globals.seriesNames[re])),me>0&&!O.globals.isXNumeric||me>0&&O.globals.isXNumeric&&O.globals.seriesX[re-1][V]===O.globals.seriesX[re][V]){var Fe,Ie,ze,Ze=Math.min(this.yRatio.length+1,re+1);if(this.groupCtx.prevY[me-1]!==void 0&&this.groupCtx.prevY[me-1].length)for(var Ke=1;Ke<Ze;Ke++){var et;if(!isNaN((et=this.groupCtx.prevY[me-Ke])===null||et===void 0?void 0:et[V])){ze=this.groupCtx.prevY[me-Ke][V];break}}for(var ct=1;ct<Ze;ct++){var mt,wt;if(((mt=this.groupCtx.prevYVal[me-ct])===null||mt===void 0?void 0:mt[V])<0){Ie=this.series[G][V]>=0?ze-ge+2*(this.isReversed?ge:0):ze;break}if(((wt=this.groupCtx.prevYVal[me-ct])===null||wt===void 0?void 0:wt[V])>=0){Ie=this.series[G][V]>=0?ze:ze+ge-2*(this.isReversed?ge:0);break}}Ie===void 0&&(Ie=O.globals.gridHeight),Q=(Fe=this.groupCtx.prevYF[0])!==null&&Fe!==void 0&&Fe.every(function(Et){return Et===0})&&this.groupCtx.prevYF.slice(1,me).every(function(Et){return Et.every(function(Dt){return isNaN(Dt)})})?k:Ie}else Q=k;u=this.series[G][V]?Q-this.series[G][V]/this.yRatio[le]+2*(this.isReversed?this.series[G][V]/this.yRatio[le]:0):Q;var Ut=this.barHelpers.getColumnPaths({barXPosition:K,barWidth:x,y1:Q,y2:u,yRatio:this.yRatio[le],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:S,realIndex:A.realIndex,i:G,j:V,w:O});return this.barHelpers.barBackground({bc:ee,j:V,i:G,x1:K,x2:x,elSeries:P}),{pathTo:Ut.pathTo,pathFrom:Ut.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,k,G,V),barXPosition:K,x:O.globals.isXNumeric?h:h+p,y:u}}}]),i}(),Ar=function(se){N(i,vr);var n=f(i);function i(){return o(this,i),n.apply(this,arguments)}return d(i,[{key:"draw",value:function(c,A,h){var u=this,p=this.w,x=new _(this.ctx),k=p.globals.comboCharts?A:p.config.chart.type,F=new Pe(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=p.config.plotOptions.bar.horizontal;var S=new ie(this.ctx,p);c=S.getLogSeries(c),this.series=c,this.yRatio=S.getLogYRatios(this.yRatio),this.barHelpers.initVariables(c);for(var P=x.group({class:"apexcharts-".concat(k,"-series apexcharts-plot-series")}),O=function(V){u.isBoxPlot=p.config.chart.type==="boxPlot"||p.config.series[V].type==="boxPlot";var ee,re,le,v,Q=void 0,K=void 0,ge=[],ce=[],me=p.globals.comboCharts?h[V]:V,Fe=u.barHelpers.getGroupIndex(me).columnGroupIndex,Ie=x.group({class:"apexcharts-series",seriesName:D.escapeString(p.globals.seriesNames[me]),rel:V+1,"data:realIndex":me});u.ctx.series.addCollapsedClassToSeries(Ie,me),c[V].length>0&&(u.visibleI=u.visibleI+1);var ze,Ze,Ke=0;u.yRatio.length>1&&(u.yaxisIndex=p.globals.seriesYAxisReverseMap[me][0],Ke=me);var et=u.barHelpers.initialPositions();K=et.y,ze=et.barHeight,re=et.yDivision,v=et.zeroW,Q=et.x,Ze=et.barWidth,ee=et.xDivision,le=et.zeroH,ce.push(Q+Ze/2);for(var ct=x.group({class:"apexcharts-datalabels","data:realIndex":me}),mt=function(Ut){var Et=u.barHelpers.getStrokeWidth(V,Ut,me),Dt=null,Kt={indexes:{i:V,j:Ut,realIndex:me,translationsIndex:Ke},x:Q,y:K,strokeWidth:Et,elSeries:Ie};Dt=u.isHorizontal?u.drawHorizontalBoxPaths(U(U({},Kt),{},{yDivision:re,barHeight:ze,zeroW:v})):u.drawVerticalBoxPaths(U(U({},Kt),{},{xDivision:ee,barWidth:Ze,zeroH:le})),K=Dt.y,Q=Dt.x,Ut>0&&ce.push(Q+Ze/2),ge.push(K),Dt.pathTo.forEach(function(Nt,jr){var pr=!u.isBoxPlot&&u.candlestickOptions.wick.useFillColor?Dt.color[jr]:p.globals.stroke.colors[V],zr=F.fillPath({seriesNumber:me,dataPointIndex:Ut,color:Dt.color[jr],value:c[V][Ut]});u.renderSeries({realIndex:me,pathFill:zr,lineFill:pr,j:Ut,i:V,pathFrom:Dt.pathFrom,pathTo:Nt,strokeWidth:Et,elSeries:Ie,x:Q,y:K,series:c,columnGroupIndex:Fe,barHeight:ze,barWidth:Ze,elDataLabelsWrap:ct,visibleSeries:u.visibleI,type:p.config.chart.type})})},wt=0;wt<p.globals.dataPoints;wt++)mt(wt);p.globals.seriesXvalues[me]=ce,p.globals.seriesYvalues[me]=ge,P.add(Ie)},G=0;G<c.length;G++)O(G);return P}},{key:"drawVerticalBoxPaths",value:function(c){var A=c.indexes,h=c.x;c.y;var u=c.xDivision,p=c.barWidth,x=c.zeroH,k=c.strokeWidth,F=this.w,S=new _(this.ctx),P=A.i,O=A.j,G=!0,V=F.config.plotOptions.candlestick.colors.upward,ee=F.config.plotOptions.candlestick.colors.downward,re="";this.isBoxPlot&&(re=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var le=this.yRatio[A.translationsIndex],v=A.realIndex,Q=this.getOHLCValue(v,O),K=x,ge=x;Q.o>Q.c&&(G=!1);var ce=Math.min(Q.o,Q.c),me=Math.max(Q.o,Q.c),Fe=Q.m;F.globals.isXNumeric&&(h=(F.globals.seriesX[v][O]-F.globals.minX)/this.xRatio-p/2);var Ie=h+p*this.visibleI;this.series[P][O]===void 0||this.series[P][O]===null?(ce=x,me=x):(ce=x-ce/le,me=x-me/le,K=x-Q.h/le,ge=x-Q.l/le,Fe=x-Q.m/le);var ze=S.move(Ie,x),Ze=S.move(Ie+p/2,ce);return F.globals.previousPaths.length>0&&(Ze=this.getPreviousPath(v,O,!0)),ze=this.isBoxPlot?[S.move(Ie,ce)+S.line(Ie+p/2,ce)+S.line(Ie+p/2,K)+S.line(Ie+p/4,K)+S.line(Ie+p-p/4,K)+S.line(Ie+p/2,K)+S.line(Ie+p/2,ce)+S.line(Ie+p,ce)+S.line(Ie+p,Fe)+S.line(Ie,Fe)+S.line(Ie,ce+k/2),S.move(Ie,Fe)+S.line(Ie+p,Fe)+S.line(Ie+p,me)+S.line(Ie+p/2,me)+S.line(Ie+p/2,ge)+S.line(Ie+p-p/4,ge)+S.line(Ie+p/4,ge)+S.line(Ie+p/2,ge)+S.line(Ie+p/2,me)+S.line(Ie,me)+S.line(Ie,Fe)+"z"]:[S.move(Ie,me)+S.line(Ie+p/2,me)+S.line(Ie+p/2,K)+S.line(Ie+p/2,me)+S.line(Ie+p,me)+S.line(Ie+p,ce)+S.line(Ie+p/2,ce)+S.line(Ie+p/2,ge)+S.line(Ie+p/2,ce)+S.line(Ie,ce)+S.line(Ie,me-k/2)],Ze+=S.move(Ie,ce),F.globals.isXNumeric||(h+=u),{pathTo:ze,pathFrom:Ze,x:h,y:me,barXPosition:Ie,color:this.isBoxPlot?re:G?[V]:[ee]}}},{key:"drawHorizontalBoxPaths",value:function(c){var A=c.indexes;c.x;var h=c.y,u=c.yDivision,p=c.barHeight,x=c.zeroW,k=c.strokeWidth,F=this.w,S=new _(this.ctx),P=A.i,O=A.j,G=this.boxOptions.colors.lower;this.isBoxPlot&&(G=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var V=this.invertedYRatio,ee=A.realIndex,re=this.getOHLCValue(ee,O),le=x,v=x,Q=Math.min(re.o,re.c),K=Math.max(re.o,re.c),ge=re.m;F.globals.isXNumeric&&(h=(F.globals.seriesX[ee][O]-F.globals.minX)/this.invertedXRatio-p/2);var ce=h+p*this.visibleI;this.series[P][O]===void 0||this.series[P][O]===null?(Q=x,K=x):(Q=x+Q/V,K=x+K/V,le=x+re.h/V,v=x+re.l/V,ge=x+re.m/V);var me=S.move(x,ce),Fe=S.move(Q,ce+p/2);return F.globals.previousPaths.length>0&&(Fe=this.getPreviousPath(ee,O,!0)),me=[S.move(Q,ce)+S.line(Q,ce+p/2)+S.line(le,ce+p/2)+S.line(le,ce+p/2-p/4)+S.line(le,ce+p/2+p/4)+S.line(le,ce+p/2)+S.line(Q,ce+p/2)+S.line(Q,ce+p)+S.line(ge,ce+p)+S.line(ge,ce)+S.line(Q+k/2,ce),S.move(ge,ce)+S.line(ge,ce+p)+S.line(K,ce+p)+S.line(K,ce+p/2)+S.line(v,ce+p/2)+S.line(v,ce+p-p/4)+S.line(v,ce+p/4)+S.line(v,ce+p/2)+S.line(K,ce+p/2)+S.line(K,ce)+S.line(ge,ce)+"z"],Fe+=S.move(Q,ce),F.globals.isXNumeric||(h+=u),{pathTo:me,pathFrom:Fe,x:K,y:h,barYPosition:ce,color:G}}},{key:"getOHLCValue",value:function(c,A){var h=this.w;return{o:this.isBoxPlot?h.globals.seriesCandleH[c][A]:h.globals.seriesCandleO[c][A],h:this.isBoxPlot?h.globals.seriesCandleO[c][A]:h.globals.seriesCandleH[c][A],m:h.globals.seriesCandleM[c][A],l:this.isBoxPlot?h.globals.seriesCandleC[c][A]:h.globals.seriesCandleL[c][A],c:this.isBoxPlot?h.globals.seriesCandleL[c][A]:h.globals.seriesCandleC[c][A]}}}]),i}(),ii=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"checkColorRange",value:function(){var n=this.w,i=!1,c=n.config.plotOptions[n.config.chart.type];return c.colorScale.ranges.length>0&&c.colorScale.ranges.map(function(A,h){A.from<=0&&(i=!0)}),i}},{key:"getShadeColor",value:function(n,i,c,A){var h=this.w,u=1,p=h.config.plotOptions[n].shadeIntensity,x=this.determineColor(n,i,c);h.globals.hasNegs||A?u=h.config.plotOptions[n].reverseNegativeShade?x.percent<0?x.percent/100*(1.25*p):(1-x.percent/100)*(1.25*p):x.percent<=0?1-(1+x.percent/100)*p:(1-x.percent/100)*p:(u=1-x.percent/100,n==="treemap"&&(u=(1-x.percent/100)*(1.25*p)));var k=x.color,F=new D;if(h.config.plotOptions[n].enableShades)if(this.w.config.theme.mode==="dark"){var S=F.shadeColor(-1*u,x.color);k=D.hexToRgba(D.isColorHex(S)?S:D.rgb2hex(S),h.config.fill.opacity)}else{var P=F.shadeColor(u,x.color);k=D.hexToRgba(D.isColorHex(P)?P:D.rgb2hex(P),h.config.fill.opacity)}return{color:k,colorProps:x}}},{key:"determineColor",value:function(n,i,c){var A=this.w,h=A.globals.series[i][c],u=A.config.plotOptions[n],p=u.colorScale.inverse?c:i;u.distributed&&A.config.chart.type==="treemap"&&(p=c);var x=A.globals.colors[p],k=null,F=Math.min.apply(Math,C(A.globals.series[i])),S=Math.max.apply(Math,C(A.globals.series[i]));u.distributed||n!=="heatmap"||(F=A.globals.minY,S=A.globals.maxY),u.colorScale.min!==void 0&&(F=u.colorScale.min<A.globals.minY?u.colorScale.min:A.globals.minY,S=u.colorScale.max>A.globals.maxY?u.colorScale.max:A.globals.maxY);var P=Math.abs(S)+Math.abs(F),O=100*h/(P===0?P-1e-6:P);return u.colorScale.ranges.length>0&&u.colorScale.ranges.map(function(G,V){if(h>=G.from&&h<=G.to){x=G.color,k=G.foreColor?G.foreColor:null,F=G.from,S=G.to;var ee=Math.abs(S)+Math.abs(F);O=100*h/(ee===0?ee-1e-6:ee)}}),{color:x,foreColor:k,percent:O}}},{key:"calculateDataLabels",value:function(n){var i=n.text,c=n.x,A=n.y,h=n.i,u=n.j,p=n.colorProps,x=n.fontSize,k=this.w.config.dataLabels,F=new _(this.ctx),S=new Ee(this.ctx),P=null;if(k.enabled){P=F.group({class:"apexcharts-data-labels"});var O=k.offsetX,G=k.offsetY,V=c+O,ee=A+parseFloat(k.style.fontSize)/3+G;S.plotDataLabelsText({x:V,y:ee,text:i,i:h,j:u,color:p.foreColor,parent:P,fontSize:x,dataLabelsConfig:k})}return P}},{key:"addListeners",value:function(n){var i=new _(this.ctx);n.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,n)),n.node.addEventListener("mousedown",i.pathMouseDown.bind(this,n))}}]),se}(),Ba=function(){function se(n,i){o(this,se),this.ctx=n,this.w=n.w,this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new ii(n),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return d(se,[{key:"draw",value:function(n){var i=this.w,c=new _(this.ctx),A=c.group({class:"apexcharts-heatmap"});A.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")"));var h=i.globals.gridWidth/i.globals.dataPoints,u=i.globals.gridHeight/i.globals.series.length,p=0,x=!1;this.negRange=this.helpers.checkColorRange();var k=n.slice();i.config.yaxis[0].reversed&&(x=!0,k.reverse());for(var F=x?0:k.length-1;x?F<k.length:F>=0;x?F++:F--){var S=c.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:D.escapeString(i.globals.seriesNames[F]),rel:F+1,"data:realIndex":F});if(this.ctx.series.addCollapsedClassToSeries(S,F),i.config.chart.dropShadow.enabled){var P=i.config.chart.dropShadow;new X(this.ctx).dropShadow(S,P,F)}for(var O=0,G=i.config.plotOptions.heatmap.shadeIntensity,V=0;V<k[F].length;V++){var ee=this.helpers.getShadeColor(i.config.chart.type,F,V,this.negRange),re=ee.color,le=ee.colorProps;i.config.fill.type==="image"&&(re=new Pe(this.ctx).fillPath({seriesNumber:F,dataPointIndex:V,opacity:i.globals.hasNegs?le.percent<0?1-(1+le.percent/100):G+le.percent/100:le.percent/100,patternID:D.randomId(),width:i.config.fill.image.width?i.config.fill.image.width:h,height:i.config.fill.image.height?i.config.fill.image.height:u}));var v=this.rectRadius,Q=c.drawRect(O,p,h,u,v);if(Q.attr({cx:O,cy:p}),Q.node.classList.add("apexcharts-heatmap-rect"),S.add(Q),Q.attr({fill:re,i:F,index:F,j:V,val:n[F][V],"stroke-width":this.strokeWidth,stroke:i.config.plotOptions.heatmap.useFillColorAsStroke?re:i.globals.stroke.colors[0],color:re}),this.helpers.addListeners(Q),i.config.chart.animations.enabled&&!i.globals.dataChanged){var K=1;i.globals.resized||(K=i.config.chart.animations.speed),this.animateHeatMap(Q,O,p,h,u,K)}if(i.globals.dataChanged){var ge=1;if(this.dynamicAnim.enabled&&i.globals.shouldAnimate){ge=this.dynamicAnim.speed;var ce=i.globals.previousPaths[F]&&i.globals.previousPaths[F][V]&&i.globals.previousPaths[F][V].color;ce||(ce="rgba(255, 255, 255, 0)"),this.animateHeatColor(Q,D.isColorHex(ce)?ce:D.rgb2hex(ce),D.isColorHex(re)?re:D.rgb2hex(re),ge)}}var me=(0,i.config.dataLabels.formatter)(i.globals.series[F][V],{value:i.globals.series[F][V],seriesIndex:F,dataPointIndex:V,w:i}),Fe=this.helpers.calculateDataLabels({text:me,x:O+h/2,y:p+u/2,i:F,j:V,colorProps:le,series:k});Fe!==null&&S.add(Fe),O+=h}p+=u,A.add(S)}var Ie=i.globals.yAxisScale[0].result.slice();return i.config.yaxis[0].reversed?Ie.unshift(""):Ie.push(""),i.globals.yAxisScale[0].result=Ie,A}},{key:"animateHeatMap",value:function(n,i,c,A,h,u){var p=new ae(this.ctx);p.animateRect(n,{x:i+A/2,y:c+h/2,width:0,height:0},{x:i,y:c,width:A,height:h},u,function(){p.animationCompleted(n)})}},{key:"animateHeatColor",value:function(n,i,c,A){n.attr({fill:i}).animate(A).attr({fill:c})}}]),se}(),Gs=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"drawYAxisTexts",value:function(n,i,c,A){var h=this.w,u=h.config.yaxis[0],p=h.globals.yLabelFormatters[0];return new _(this.ctx).drawText({x:n+u.labels.offsetX,y:i+u.labels.offsetY,text:p(A,c),textAnchor:"middle",fontSize:u.labels.style.fontSize,fontFamily:u.labels.style.fontFamily,foreColor:Array.isArray(u.labels.style.colors)?u.labels.style.colors[c]:u.labels.style.colors})}}]),se}(),qs=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w;var i=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=i.globals.stroke.colors!==void 0?i.globals.stroke.colors:i.globals.colors,this.defaultSize=Math.min(i.globals.gridWidth,i.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=i.globals.gridWidth/2,i.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(i.config.plotOptions.pie.endAngle-i.config.plotOptions.pie.startAngle),this.initialAngle=i.config.plotOptions.pie.startAngle%this.fullAngle,i.globals.radialSize=this.defaultSize/2.05-i.config.stroke.width-(i.config.chart.sparkline.enabled?0:i.config.chart.dropShadow.blur),this.donutSize=i.globals.radialSize*parseInt(i.config.plotOptions.pie.donut.size,10)/100;var c=i.config.plotOptions.pie.customScale,A=i.globals.gridWidth/2,h=i.globals.gridHeight/2;this.translateX=A-A*c,this.translateY=h-h*c,this.dataLabelsGroup=new _(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(c,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return d(se,[{key:"draw",value:function(n){var i=this,c=this.w,A=new _(this.ctx),h=A.group({class:"apexcharts-pie"});if(c.globals.noData)return h;for(var u=0,p=0;p<n.length;p++)u+=D.negToZero(n[p]);var x=[],k=A.group();u===0&&(u=1e-5),n.forEach(function(v){i.maxY=Math.max(i.maxY,v)}),c.config.yaxis[0].max&&(this.maxY=c.config.yaxis[0].max),c.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(h);for(var F=0;F<n.length;F++){var S=this.fullAngle*D.negToZero(n[F])/u;x.push(S),this.chartType==="polarArea"?(x[F]=this.fullAngle/n.length,this.sliceSizes.push(c.globals.radialSize*n[F]/this.maxY)):this.sliceSizes.push(c.globals.radialSize)}if(c.globals.dataChanged){for(var P,O=0,G=0;G<c.globals.previousPaths.length;G++)O+=D.negToZero(c.globals.previousPaths[G]);for(var V=0;V<c.globals.previousPaths.length;V++)P=this.fullAngle*D.negToZero(c.globals.previousPaths[V])/O,this.prevSectorAngleArr.push(P)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var ee=A.drawCircle(this.donutSize);ee.attr({cx:this.centerX,cy:this.centerY,fill:c.config.plotOptions.pie.donut.background?c.config.plotOptions.pie.donut.background:"transparent"}),k.add(ee)}var re=this.drawArcs(x,n);if(this.sliceLabels.forEach(function(v){re.add(v)}),k.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(c.config.plotOptions.pie.customScale,")")}),k.add(re),h.add(k),this.donutDataLabels.show){var le=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});h.add(le)}return c.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(h),h}},{key:"drawArcs",value:function(n,i){var c=this.w,A=new X(this.ctx),h=new _(this.ctx),u=new Pe(this.ctx),p=h.group({class:"apexcharts-slices"}),x=this.initialAngle,k=this.initialAngle,F=this.initialAngle,S=this.initialAngle;this.strokeWidth=c.config.stroke.show?c.config.stroke.width:0;for(var P=0;P<n.length;P++){var O=h.group({class:"apexcharts-series apexcharts-pie-series",seriesName:D.escapeString(c.globals.seriesNames[P]),rel:P+1,"data:realIndex":P});p.add(O),k=S,F=(x=F)+n[P],S=k+this.prevSectorAngleArr[P];var G=F<x?this.fullAngle+F-x:F-x,V=u.fillPath({seriesNumber:P,size:this.sliceSizes[P],value:i[P]}),ee=this.getChangedPath(k,S),re=h.drawPath({d:ee,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[P]:this.lineColorArr,strokeWidth:0,fill:V,fillOpacity:c.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(P)});if(re.attr({index:0,j:P}),A.setSelectionFilter(re,0,P),c.config.chart.dropShadow.enabled){var le=c.config.chart.dropShadow;A.dropShadow(re,le,P)}this.addListeners(re,this.donutDataLabels),_.setAttrs(re.node,{"data:angle":G,"data:startAngle":x,"data:strokeWidth":this.strokeWidth,"data:value":i[P]});var v={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?v=D.polarToCartesian(this.centerX,this.centerY,c.globals.radialSize/1.25+c.config.plotOptions.pie.dataLabels.offset,(x+G/2)%this.fullAngle):this.chartType==="donut"&&(v=D.polarToCartesian(this.centerX,this.centerY,(c.globals.radialSize+this.donutSize)/2+c.config.plotOptions.pie.dataLabels.offset,(x+G/2)%this.fullAngle)),O.add(re);var Q=0;if(!this.initialAnim||c.globals.resized||c.globals.dataChanged?this.animBeginArr.push(0):((Q=G/this.fullAngle*c.config.chart.animations.speed)===0&&(Q=1),this.animDur=Q+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&c.globals.dataChanged?this.animatePaths(re,{size:this.sliceSizes[P],endAngle:F,startAngle:x,prevStartAngle:k,prevEndAngle:S,animateStartingPos:!0,i:P,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:c.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(re,{size:this.sliceSizes[P],endAngle:F,startAngle:x,i:P,totalItems:n.length-1,animBeginArr:this.animBeginArr,dur:Q}),c.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&re.node.addEventListener("mouseup",this.pieClicked.bind(this,P)),c.globals.selectedDataPoints[0]!==void 0&&c.globals.selectedDataPoints[0].indexOf(P)>-1&&this.pieClicked(P),c.config.dataLabels.enabled){var K=v.x,ge=v.y,ce=100*G/this.fullAngle+"%";if(G!==0&&c.config.plotOptions.pie.dataLabels.minAngleToShowLabel<n[P]){var me=c.config.dataLabels.formatter;me!==void 0&&(ce=me(c.globals.seriesPercent[P][0],{seriesIndex:P,w:c}));var Fe=c.globals.dataLabels.style.colors[P],Ie=h.group({class:"apexcharts-datalabels"}),ze=h.drawText({x:K,y:ge,text:ce,textAnchor:"middle",fontSize:c.config.dataLabels.style.fontSize,fontFamily:c.config.dataLabels.style.fontFamily,fontWeight:c.config.dataLabels.style.fontWeight,foreColor:Fe});if(Ie.add(ze),c.config.dataLabels.dropShadow.enabled){var Ze=c.config.dataLabels.dropShadow;A.dropShadow(ze,Ze)}ze.node.classList.add("apexcharts-pie-label"),c.config.chart.animations.animate&&c.globals.resized===!1&&(ze.node.classList.add("apexcharts-pie-label-delay"),ze.node.style.animationDelay=c.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Ie)}}}return p}},{key:"addListeners",value:function(n,i){var c=new _(this.ctx);n.node.addEventListener("mouseenter",c.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",c.pathMouseLeave.bind(this,n)),n.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,n.node,i)),n.node.addEventListener("mousedown",c.pathMouseDown.bind(this,n)),this.donutDataLabels.total.showAlways||(n.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,n.node,i)),n.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,n.node,i)))}},{key:"animatePaths",value:function(n,i){var c=this.w,A=i.endAngle<i.startAngle?this.fullAngle+i.endAngle-i.startAngle:i.endAngle-i.startAngle,h=A,u=i.startAngle,p=i.startAngle;i.prevStartAngle!==void 0&&i.prevEndAngle!==void 0&&(u=i.prevEndAngle,h=i.prevEndAngle<i.prevStartAngle?this.fullAngle+i.prevEndAngle-i.prevStartAngle:i.prevEndAngle-i.prevStartAngle),i.i===c.config.series.length-1&&(A+p>this.fullAngle?i.endAngle=i.endAngle-(A+p):A+p<this.fullAngle&&(i.endAngle=i.endAngle+(this.fullAngle-(A+p)))),A===this.fullAngle&&(A=this.fullAngle-.01),this.animateArc(n,u,p,A,h,i)}},{key:"animateArc",value:function(n,i,c,A,h,u){var p,x=this,k=this.w,F=new ae(this.ctx),S=u.size;(isNaN(i)||isNaN(h))&&(i=c,h=A,u.dur=0);var P=A,O=c,G=i<c?this.fullAngle+i-c:i-c;k.globals.dataChanged&&u.shouldSetPrevPaths&&u.prevEndAngle&&(p=x.getPiePath({me:x,startAngle:u.prevStartAngle,angle:u.prevEndAngle<u.prevStartAngle?this.fullAngle+u.prevEndAngle-u.prevStartAngle:u.prevEndAngle-u.prevStartAngle,size:S}),n.attr({d:p})),u.dur!==0?n.animate(u.dur,k.globals.easing,u.animBeginArr[u.i]).afterAll(function(){x.chartType!=="pie"&&x.chartType!=="donut"&&x.chartType!=="polarArea"||this.animate(k.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":x.strokeWidth}),u.i===k.config.series.length-1&&F.animationCompleted(n)}).during(function(V){P=G+(A-G)*V,u.animateStartingPos&&(P=h+(A-h)*V,O=i-h+(c-(i-h))*V),p=x.getPiePath({me:x,startAngle:O,angle:P,size:S}),n.node.setAttribute("data:pathOrig",p),n.attr({d:p})}):(p=x.getPiePath({me:x,startAngle:O,angle:A,size:S}),u.isTrack||(k.globals.animationEnded=!0),n.node.setAttribute("data:pathOrig",p),n.attr({d:p,"stroke-width":x.strokeWidth}))}},{key:"pieClicked",value:function(n){var i,c=this.w,A=this,h=A.sliceSizes[n]+(c.config.plotOptions.pie.expandOnClick?4:0),u=c.globals.dom.Paper.select(".apexcharts-".concat(A.chartType.toLowerCase(),"-slice-").concat(n)).members[0];if(u.attr("data:pieClicked")!=="true"){var p=c.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(p,function(S){S.setAttribute("data:pieClicked","false");var P=S.getAttribute("data:pathOrig");P&&S.setAttribute("d",P)}),c.globals.capturedDataPointIndex=n,u.attr("data:pieClicked","true");var x=parseInt(u.attr("data:startAngle"),10),k=parseInt(u.attr("data:angle"),10);i=A.getPiePath({me:A,startAngle:x,angle:k,size:h}),k!==360&&u.plot(i)}else{u.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(u.node,this.donutDataLabels);var F=u.attr("data:pathOrig");u.attr({d:F})}}},{key:"getChangedPath",value:function(n,i){var c="";return this.dynamicAnim&&this.w.globals.dataChanged&&(c=this.getPiePath({me:this,startAngle:n,angle:i-n,size:this.size})),c}},{key:"getPiePath",value:function(n){var i,c=n.me,A=n.startAngle,h=n.angle,u=n.size,p=new _(this.ctx),x=A,k=Math.PI*(x-90)/180,F=h+A;Math.ceil(F)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(F=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(F)>this.fullAngle&&(F-=this.fullAngle);var S=Math.PI*(F-90)/180,P=c.centerX+u*Math.cos(k),O=c.centerY+u*Math.sin(k),G=c.centerX+u*Math.cos(S),V=c.centerY+u*Math.sin(S),ee=D.polarToCartesian(c.centerX,c.centerY,c.donutSize,F),re=D.polarToCartesian(c.centerX,c.centerY,c.donutSize,x),le=h>180?1:0,v=["M",P,O,"A",u,u,0,le,1,G,V];return i=c.chartType==="donut"?[].concat(v,["L",ee.x,ee.y,"A",c.donutSize,c.donutSize,0,le,0,re.x,re.y,"L",P,O,"z"]).join(" "):c.chartType==="pie"||c.chartType==="polarArea"?[].concat(v,["L",c.centerX,c.centerY,"L",P,O]).join(" "):[].concat(v).join(" "),p.roundPathCorners(i,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(n){var i=this.w,c=new $e(this.ctx),A=new _(this.ctx),h=new Gs(this.ctx),u=A.group(),p=A.group(),x=c.niceScale(0,Math.ceil(this.maxY),0),k=x.result.reverse(),F=x.result.length;this.maxY=x.niceMax;for(var S=i.globals.radialSize,P=S/(F-1),O=0;O<F-1;O++){var G=A.drawCircle(S);if(G.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":i.config.plotOptions.polarArea.rings.strokeWidth,stroke:i.config.plotOptions.polarArea.rings.strokeColor}),i.config.yaxis[0].show){var V=h.drawYAxisTexts(this.centerX,this.centerY-S+parseInt(i.config.yaxis[0].labels.style.fontSize,10)/2,O,k[O]);p.add(V)}u.add(G),S-=P}this.drawSpokes(n),n.add(u),n.add(p)}},{key:"renderInnerDataLabels",value:function(n,i,c){var A=this.w,h=new _(this.ctx),u=i.total.show;n.node.innerHTML="",n.node.style.opacity=c.opacity;var p,x,k=c.centerX,F=this.donutDataLabels.total.label?c.centerY:c.centerY-c.centerY/6;p=i.name.color===void 0?A.globals.colors[0]:i.name.color;var S=i.name.fontSize,P=i.name.fontFamily,O=i.name.fontWeight;x=i.value.color===void 0?A.config.chart.foreColor:i.value.color;var G=i.value.formatter,V="",ee="";if(u?(p=i.total.color,S=i.total.fontSize,P=i.total.fontFamily,O=i.total.fontWeight,ee=this.donutDataLabels.total.label?i.total.label:"",V=i.total.formatter(A)):A.globals.series.length===1&&(V=G(A.globals.series[0],A),ee=A.globals.seriesNames[0]),ee&&(ee=i.name.formatter(ee,i.total.show,A)),i.name.show){var re=h.drawText({x:k,y:F+parseFloat(i.name.offsetY),text:ee,textAnchor:"middle",foreColor:p,fontSize:S,fontWeight:O,fontFamily:P});re.node.classList.add("apexcharts-datalabel-label"),n.add(re)}if(i.value.show){var le=i.name.show?parseFloat(i.value.offsetY)+16:i.value.offsetY,v=h.drawText({x:k,y:F+le,text:V,textAnchor:"middle",foreColor:x,fontWeight:i.value.fontWeight,fontSize:i.value.fontSize,fontFamily:i.value.fontFamily});v.node.classList.add("apexcharts-datalabel-value"),n.add(v)}return n}},{key:"printInnerLabels",value:function(n,i,c,A){var h,u=this.w;A?h=n.name.color===void 0?u.globals.colors[parseInt(A.parentNode.getAttribute("rel"),10)-1]:n.name.color:u.globals.series.length>1&&n.total.show&&(h=n.total.color);var p=u.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),x=u.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");c=(0,n.value.formatter)(c,u),A||typeof n.total.formatter!="function"||(c=n.total.formatter(u));var k=i===n.total.label;i=this.donutDataLabels.total.label?n.name.formatter(i,k,u):"",p!==null&&(p.textContent=i),x!==null&&(x.textContent=c),p!==null&&(p.style.fill=h)}},{key:"printDataLabelsInner",value:function(n,i){var c=this.w,A=n.getAttribute("data:value"),h=c.globals.seriesNames[parseInt(n.parentNode.getAttribute("rel"),10)-1];c.globals.series.length>1&&this.printInnerLabels(i,h,A,n);var u=c.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");u!==null&&(u.style.opacity=1)}},{key:"drawSpokes",value:function(n){var i=this,c=this.w,A=new _(this.ctx),h=c.config.plotOptions.polarArea.spokes;if(h.strokeWidth!==0){for(var u=[],p=360/c.globals.series.length,x=0;x<c.globals.series.length;x++)u.push(D.polarToCartesian(this.centerX,this.centerY,c.globals.radialSize,c.config.plotOptions.pie.startAngle+p*x));u.forEach(function(k,F){var S=A.drawLine(k.x,k.y,i.centerX,i.centerY,Array.isArray(h.connectorColors)?h.connectorColors[F]:h.connectorColors);n.add(S)})}}},{key:"revertDataLabelsInner",value:function(){var n=this.w;if(this.donutDataLabels.show){var i=n.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0],c=this.renderInnerDataLabels(i,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});n.globals.dom.Paper.select(".apexcharts-radialbar, .apexcharts-pie").members[0].add(c)}}}]),se}(),Qt=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var i=this.w;this.graphics=new _(this.ctx),this.lineColorArr=i.globals.stroke.colors!==void 0?i.globals.stroke.colors:i.globals.colors,this.defaultSize=i.globals.svgHeight<i.globals.svgWidth?i.globals.gridHeight:i.globals.gridWidth,this.isLog=i.config.yaxis[0].logarithmic,this.logBase=i.config.yaxis[0].logBase,this.coreUtils=new ie(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,i.globals.maxY,0):i.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):i.globals.minY,this.polygons=i.config.plotOptions.radar.polygons,this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-i.config.chart.dropShadow.blur,i.config.xaxis.labels.show&&(this.size=this.size-i.globals.xAxisLabelsWidth/1.75),i.config.plotOptions.radar.size!==void 0&&(this.size=i.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return d(se,[{key:"draw",value:function(n){var i=this,c=this.w,A=new Pe(this.ctx),h=[],u=new Ee(this.ctx);n.length&&(this.dataPointsLen=n[c.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var p=c.globals.gridWidth/2,x=c.globals.gridHeight/2,k=p+c.config.plotOptions.radar.offsetX,F=x+c.config.plotOptions.radar.offsetY,S=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(k||0,", ").concat(F||0,")")}),P=[],O=null,G=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),n.forEach(function(ee,re){var le=ee.length===c.globals.dataPoints,v=i.graphics.group().attr({class:"apexcharts-series","data:longestSeries":le,seriesName:D.escapeString(c.globals.seriesNames[re]),rel:re+1,"data:realIndex":re});i.dataRadiusOfPercent[re]=[],i.dataRadius[re]=[],i.angleArr[re]=[],ee.forEach(function(Ke,et){var ct=Math.abs(i.maxValue-i.minValue);Ke-=i.minValue,i.isLog&&(Ke=i.coreUtils.getLogVal(i.logBase,Ke,0)),i.dataRadiusOfPercent[re][et]=Ke/ct,i.dataRadius[re][et]=i.dataRadiusOfPercent[re][et]*i.size,i.angleArr[re][et]=et*i.disAngle}),P=i.getDataPointsPos(i.dataRadius[re],i.angleArr[re]);var Q=i.createPaths(P,{x:0,y:0});O=i.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),G=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":re}),c.globals.delayedElements.push({el:O.node,index:re});var K={i:re,realIndex:re,animationDelay:re,initialSpeed:c.config.chart.animations.speed,dataChangeSpeed:c.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:c.globals.stroke.colors[re],strokeLineCap:c.config.stroke.lineCap},ge=null;c.globals.previousPaths.length>0&&(ge=i.getPreviousPath(re));for(var ce=0;ce<Q.linePathsTo.length;ce++){var me=i.graphics.renderPaths(U(U({},K),{},{pathFrom:ge===null?Q.linePathsFrom[ce]:ge,pathTo:Q.linePathsTo[ce],strokeWidth:Array.isArray(i.strokeWidth)?i.strokeWidth[re]:i.strokeWidth,fill:"none",drawShadow:!1}));v.add(me);var Fe=A.fillPath({seriesNumber:re}),Ie=i.graphics.renderPaths(U(U({},K),{},{pathFrom:ge===null?Q.areaPathsFrom[ce]:ge,pathTo:Q.areaPathsTo[ce],strokeWidth:0,fill:Fe,drawShadow:!1}));if(c.config.chart.dropShadow.enabled){var ze=new X(i.ctx),Ze=c.config.chart.dropShadow;ze.dropShadow(Ie,Object.assign({},Ze,{noUserSpaceOnUse:!0}),re)}v.add(Ie)}ee.forEach(function(Ke,et){var ct=new Re(i.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:re,dataPointIndex:et}),mt=i.graphics.drawMarker(P[et].x,P[et].y,ct);mt.attr("rel",et),mt.attr("j",et),mt.attr("index",re),mt.node.setAttribute("default-marker-size",ct.pSize);var wt=i.graphics.group({class:"apexcharts-series-markers"});wt&&wt.add(mt),O.add(wt),v.add(O);var Ut=c.config.dataLabels;if(Ut.enabled){var Et=Ut.formatter(c.globals.series[re][et],{seriesIndex:re,dataPointIndex:et,w:c});u.plotDataLabelsText({x:P[et].x,y:P[et].y,text:Et,textAnchor:"middle",i:re,j:re,parent:G,offsetCorrection:!1,dataLabelsConfig:U({},Ut)})}v.add(G)}),h.push(v)}),this.drawPolygons({parent:S}),c.config.xaxis.labels.show){var V=this.drawXAxisTexts();S.add(V)}return h.forEach(function(ee){S.add(ee)}),S.add(this.yaxisLabels),S}},{key:"drawPolygons",value:function(n){for(var i=this,c=this.w,A=n.parent,h=new Gs(this.ctx),u=c.globals.yAxisScale[0].result.reverse(),p=u.length,x=[],k=this.size/(p-1),F=0;F<p;F++)x[F]=k*F;x.reverse();var S=[],P=[];x.forEach(function(O,G){var V=D.getPolygonPos(O,i.dataPointsLen),ee="";V.forEach(function(re,le){if(G===0){var v=i.graphics.drawLine(re.x,re.y,0,0,Array.isArray(i.polygons.connectorColors)?i.polygons.connectorColors[le]:i.polygons.connectorColors);P.push(v)}le===0&&i.yaxisLabelsTextsPos.push({x:re.x,y:re.y}),ee+=re.x+","+re.y+" "}),S.push(ee)}),S.forEach(function(O,G){var V=i.polygons.strokeColors,ee=i.polygons.strokeWidth,re=i.graphics.drawPolygon(O,Array.isArray(V)?V[G]:V,Array.isArray(ee)?ee[G]:ee,c.globals.radarPolygons.fill.colors[G]);A.add(re)}),P.forEach(function(O){A.add(O)}),c.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(O,G){var V=h.drawYAxisTexts(O.x,O.y,G,u[G]);i.yaxisLabels.add(V)})}},{key:"drawXAxisTexts",value:function(){var n=this,i=this.w,c=i.config.xaxis.labels,A=this.graphics.group({class:"apexcharts-xaxis"}),h=D.getPolygonPos(this.size,this.dataPointsLen);return i.globals.labels.forEach(function(u,p){var x=i.config.xaxis.labels.formatter,k=new Ee(n.ctx);if(h[p]){var F=n.getTextPos(h[p],n.size),S=x(u,{seriesIndex:-1,dataPointIndex:p,w:i});k.plotDataLabelsText({x:F.newX,y:F.newY,text:S,textAnchor:F.textAnchor,i:p,j:p,parent:A,className:"apexcharts-xaxis-label",color:Array.isArray(c.style.colors)&&c.style.colors[p]?c.style.colors[p]:"#a8a8a8",dataLabelsConfig:U({textAnchor:F.textAnchor,dropShadow:{enabled:!1}},c),offsetCorrection:!1}).on("click",function(P){if(typeof i.config.chart.events.xAxisLabelClick=="function"){var O=Object.assign({},i,{labelIndex:p});i.config.chart.events.xAxisLabelClick(P,n.ctx,O)}})}}),A}},{key:"createPaths",value:function(n,i){var c=this,A=[],h=[],u=[],p=[];if(n.length){h=[this.graphics.move(i.x,i.y)],p=[this.graphics.move(i.x,i.y)];var x=this.graphics.move(n[0].x,n[0].y),k=this.graphics.move(n[0].x,n[0].y);n.forEach(function(F,S){x+=c.graphics.line(F.x,F.y),k+=c.graphics.line(F.x,F.y),S===n.length-1&&(x+="Z",k+="Z")}),A.push(x),u.push(k)}return{linePathsFrom:h,linePathsTo:A,areaPathsFrom:p,areaPathsTo:u}}},{key:"getTextPos",value:function(n,i){var c="middle",A=n.x,h=n.y;return Math.abs(n.x)>=10?n.x>0?(c="start",A+=10):n.x<0&&(c="end",A-=10):c="middle",Math.abs(n.y)>=i-10&&(n.y<0?h-=10:n.y>0&&(h+=10)),{textAnchor:c,newX:A,newY:h}}},{key:"getPreviousPath",value:function(n){for(var i=this.w,c=null,A=0;A<i.globals.previousPaths.length;A++){var h=i.globals.previousPaths[A];h.paths.length>0&&parseInt(h.realIndex,10)===parseInt(n,10)&&i.globals.previousPaths[A].paths[0]!==void 0&&(c=i.globals.previousPaths[A].paths[0].d)}return c}},{key:"getDataPointsPos",value:function(n,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;n=n||[],i=i||[];for(var A=[],h=0;h<c;h++){var u={};u.x=n[h]*Math.sin(i[h]),u.y=-n[h]*Math.cos(i[h]),A.push(u)}return A}}]),se}(),Xs=function(se){N(i,qs);var n=f(i);function i(c){var A;o(this,i),(A=n.call(this,c)).ctx=c,A.w=c.w,A.animBeginArr=[0],A.animDur=0;var h=A.w;return A.startAngle=h.config.plotOptions.radialBar.startAngle,A.endAngle=h.config.plotOptions.radialBar.endAngle,A.totalAngle=Math.abs(h.config.plotOptions.radialBar.endAngle-h.config.plotOptions.radialBar.startAngle),A.trackStartAngle=h.config.plotOptions.radialBar.track.startAngle,A.trackEndAngle=h.config.plotOptions.radialBar.track.endAngle,A.barLabels=A.w.config.plotOptions.radialBar.barLabels,A.donutDataLabels=A.w.config.plotOptions.radialBar.dataLabels,A.radialDataLabels=A.donutDataLabels,A.trackStartAngle||(A.trackStartAngle=A.startAngle),A.trackEndAngle||(A.trackEndAngle=A.endAngle),A.endAngle===360&&(A.endAngle=359.99),A.margin=parseInt(h.config.plotOptions.radialBar.track.margin,10),A.onBarLabelClick=A.onBarLabelClick.bind(s(A)),A}return d(i,[{key:"draw",value:function(c){var A=this.w,h=new _(this.ctx),u=h.group({class:"apexcharts-radialbar"});if(A.globals.noData)return u;var p=h.group(),x=this.defaultSize/2,k=A.globals.gridWidth/2,F=this.defaultSize/2.05;A.config.chart.sparkline.enabled||(F=F-A.config.stroke.width-A.config.chart.dropShadow.blur);var S=A.globals.fill.colors;if(A.config.plotOptions.radialBar.track.show){var P=this.drawTracks({size:F,centerX:k,centerY:x,colorArr:S,series:c});p.add(P)}var O=this.drawArcs({size:F,centerX:k,centerY:x,colorArr:S,series:c}),G=360;A.config.plotOptions.radialBar.startAngle<0&&(G=this.totalAngle);var V=(360-G)/360;if(A.globals.radialSize=F-F*V,this.radialDataLabels.value.show){var ee=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);A.globals.radialSize+=ee*V}return p.add(O.g),A.config.plotOptions.radialBar.hollow.position==="front"&&(O.g.add(O.elHollow),O.dataLabels&&O.g.add(O.dataLabels)),u.add(p),u}},{key:"drawTracks",value:function(c){var A=this.w,h=new _(this.ctx),u=h.group({class:"apexcharts-tracks"}),p=new X(this.ctx),x=new Pe(this.ctx),k=this.getStrokeWidth(c);c.size=c.size-k/2;for(var F=0;F<c.series.length;F++){var S=h.group({class:"apexcharts-radialbar-track apexcharts-track"});u.add(S),S.attr({rel:F+1}),c.size=c.size-k-this.margin;var P=A.config.plotOptions.radialBar.track,O=x.fillPath({seriesNumber:0,size:c.size,fillColors:Array.isArray(P.background)?P.background[F]:P.background,solid:!0}),G=this.trackStartAngle,V=this.trackEndAngle;Math.abs(V)+Math.abs(G)>=360&&(V=360-Math.abs(this.startAngle)-.1);var ee=h.drawPath({d:"",stroke:O,strokeWidth:k*parseInt(P.strokeWidth,10)/100,fill:"none",strokeOpacity:P.opacity,classes:"apexcharts-radialbar-area"});if(P.dropShadow.enabled){var re=P.dropShadow;p.dropShadow(ee,re)}S.add(ee),ee.attr("id","apexcharts-radialbarTrack-"+F),this.animatePaths(ee,{centerX:c.centerX,centerY:c.centerY,endAngle:V,startAngle:G,size:c.size,i:F,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:A.globals.easing})}return u}},{key:"drawArcs",value:function(c){var A=this.w,h=new _(this.ctx),u=new Pe(this.ctx),p=new X(this.ctx),x=h.group(),k=this.getStrokeWidth(c);c.size=c.size-k/2;var F=A.config.plotOptions.radialBar.hollow.background,S=c.size-k*c.series.length-this.margin*c.series.length-k*parseInt(A.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,P=S-A.config.plotOptions.radialBar.hollow.margin;A.config.plotOptions.radialBar.hollow.image!==void 0&&(F=this.drawHollowImage(c,x,S,F));var O=this.drawHollow({size:P,centerX:c.centerX,centerY:c.centerY,fill:F||"transparent"});if(A.config.plotOptions.radialBar.hollow.dropShadow.enabled){var G=A.config.plotOptions.radialBar.hollow.dropShadow;p.dropShadow(O,G)}var V=1;!this.radialDataLabels.total.show&&A.globals.series.length>1&&(V=0);var ee=null;if(this.radialDataLabels.show){var re=A.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0];ee=this.renderInnerDataLabels(re,this.radialDataLabels,{hollowSize:S,centerX:c.centerX,centerY:c.centerY,opacity:V})}A.config.plotOptions.radialBar.hollow.position==="back"&&(x.add(O),ee&&x.add(ee));var le=!1;A.config.plotOptions.radialBar.inverseOrder&&(le=!0);for(var v=le?c.series.length-1:0;le?v>=0:v<c.series.length;le?v--:v++){var Q=h.group({class:"apexcharts-series apexcharts-radial-series",seriesName:D.escapeString(A.globals.seriesNames[v])});x.add(Q),Q.attr({rel:v+1,"data:realIndex":v}),this.ctx.series.addCollapsedClassToSeries(Q,v),c.size=c.size-k-this.margin;var K=u.fillPath({seriesNumber:v,size:c.size,value:c.series[v]}),ge=this.startAngle,ce=void 0,me=D.negToZero(c.series[v]>100?100:c.series[v])/100,Fe=Math.round(this.totalAngle*me)+this.startAngle,Ie=void 0;A.globals.dataChanged&&(ce=this.startAngle,Ie=Math.round(this.totalAngle*D.negToZero(A.globals.previousPaths[v])/100)+ce),Math.abs(Fe)+Math.abs(ge)>360&&(Fe-=.01),Math.abs(Ie)+Math.abs(ce)>360&&(Ie-=.01);var ze=Fe-ge,Ze=Array.isArray(A.config.stroke.dashArray)?A.config.stroke.dashArray[v]:A.config.stroke.dashArray,Ke=h.drawPath({d:"",stroke:K,strokeWidth:k,fill:"none",fillOpacity:A.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+v,strokeDashArray:Ze});if(_.setAttrs(Ke.node,{"data:angle":ze,"data:value":c.series[v]}),A.config.chart.dropShadow.enabled){var et=A.config.chart.dropShadow;p.dropShadow(Ke,et,v)}if(p.setSelectionFilter(Ke,0,v),this.addListeners(Ke,this.radialDataLabels),Q.add(Ke),Ke.attr({index:0,j:v}),this.barLabels.enabled){var ct=D.polarToCartesian(c.centerX,c.centerY,c.size,ge),mt=this.barLabels.formatter(A.globals.seriesNames[v],{seriesIndex:v,w:A}),wt=["apexcharts-radialbar-label"];this.barLabels.onClick||wt.push("apexcharts-no-click");var Ut=this.barLabels.useSeriesColors?A.globals.colors[v]:A.config.chart.foreColor;Ut||(Ut=A.config.chart.foreColor);var Et=ct.x+this.barLabels.offsetX,Dt=ct.y+this.barLabels.offsetY,Kt=h.drawText({x:Et,y:Dt,text:mt,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:Ut,cssClass:wt.join(" ")});Kt.on("click",this.onBarLabelClick),Kt.attr({rel:v+1}),ge!==0&&Kt.attr({"transform-origin":"".concat(Et," ").concat(Dt),transform:"rotate(".concat(ge," 0 0)")}),Q.add(Kt)}var Nt=0;!this.initialAnim||A.globals.resized||A.globals.dataChanged||(Nt=A.config.chart.animations.speed),A.globals.dataChanged&&(Nt=A.config.chart.animations.dynamicAnimation.speed),this.animDur=Nt/(1.2*c.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Ke,{centerX:c.centerX,centerY:c.centerY,endAngle:Fe,startAngle:ge,prevEndAngle:Ie,prevStartAngle:ce,size:c.size,i:v,totalItems:2,animBeginArr:this.animBeginArr,dur:Nt,shouldSetPrevPaths:!0,easing:A.globals.easing})}return{g:x,elHollow:O,dataLabels:ee}}},{key:"drawHollow",value:function(c){var A=new _(this.ctx).drawCircle(2*c.size);return A.attr({class:"apexcharts-radialbar-hollow",cx:c.centerX,cy:c.centerY,r:c.size,fill:c.fill}),A}},{key:"drawHollowImage",value:function(c,A,h,u){var p=this.w,x=new Pe(this.ctx),k=D.randomId(),F=p.config.plotOptions.radialBar.hollow.image;if(p.config.plotOptions.radialBar.hollow.imageClipped)x.clippedImgArea({width:h,height:h,image:F,patternID:"pattern".concat(p.globals.cuid).concat(k)}),u="url(#pattern".concat(p.globals.cuid).concat(k,")");else{var S=p.config.plotOptions.radialBar.hollow.imageWidth,P=p.config.plotOptions.radialBar.hollow.imageHeight;if(S===void 0&&P===void 0){var O=p.globals.dom.Paper.image(F).loaded(function(V){this.move(c.centerX-V.width/2+p.config.plotOptions.radialBar.hollow.imageOffsetX,c.centerY-V.height/2+p.config.plotOptions.radialBar.hollow.imageOffsetY)});A.add(O)}else{var G=p.globals.dom.Paper.image(F).loaded(function(V){this.move(c.centerX-S/2+p.config.plotOptions.radialBar.hollow.imageOffsetX,c.centerY-P/2+p.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(S,P)});A.add(G)}}return u}},{key:"getStrokeWidth",value:function(c){var A=this.w;return c.size*(100-parseInt(A.config.plotOptions.radialBar.hollow.size,10))/100/(c.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(c){var A=parseInt(c.target.getAttribute("rel"),10)-1,h=this.barLabels.onClick,u=this.w;h&&h(u.globals.seriesNames[A],{w:u,seriesIndex:A})}}]),i}(),fn=function(se){N(i,vr);var n=f(i);function i(){return o(this,i),n.apply(this,arguments)}return d(i,[{key:"draw",value:function(c,A){var h=this.w,u=new _(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=c,this.seriesRangeStart=h.globals.seriesRangeStart,this.seriesRangeEnd=h.globals.seriesRangeEnd,this.barHelpers.initVariables(c);for(var p=u.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),x=0;x<c.length;x++){var k,F,S,P,O=void 0,G=void 0,V=h.globals.comboCharts?A[x]:x,ee=this.barHelpers.getGroupIndex(V).columnGroupIndex,re=u.group({class:"apexcharts-series",seriesName:D.escapeString(h.globals.seriesNames[V]),rel:x+1,"data:realIndex":V});this.ctx.series.addCollapsedClassToSeries(re,V),c[x].length>0&&(this.visibleI=this.visibleI+1);var le=0,v=0,Q=0;this.yRatio.length>1&&(this.yaxisIndex=h.globals.seriesYAxisReverseMap[V][0],Q=V);var K=this.barHelpers.initialPositions();G=K.y,P=K.zeroW,O=K.x,v=K.barWidth,le=K.barHeight,k=K.xDivision,F=K.yDivision,S=K.zeroH;for(var ge=u.group({class:"apexcharts-datalabels","data:realIndex":V}),ce=u.group({class:"apexcharts-rangebar-goals-markers"}),me=0;me<h.globals.dataPoints;me++){var Fe=this.barHelpers.getStrokeWidth(x,me,V),Ie=this.seriesRangeStart[x][me],ze=this.seriesRangeEnd[x][me],Ze=null,Ke=null,et=null,ct={x:O,y:G,strokeWidth:Fe,elSeries:re},mt=this.seriesLen;if(h.config.plotOptions.bar.rangeBarGroupRows&&(mt=1),h.config.series[x].data[me]===void 0)break;if(this.isHorizontal){et=G+le*this.visibleI;var wt=(F-le*mt)/2;if(h.config.series[x].data[me].x){var Ut=this.detectOverlappingBars({i:x,j:me,barYPosition:et,srty:wt,barHeight:le,yDivision:F,initPositions:K});le=Ut.barHeight,et=Ut.barYPosition}v=(Ze=this.drawRangeBarPaths(U({indexes:{i:x,j:me,realIndex:V},barHeight:le,barYPosition:et,zeroW:P,yDivision:F,y1:Ie,y2:ze},ct))).barWidth}else{h.globals.isXNumeric&&(O=(h.globals.seriesX[x][me]-h.globals.minX)/this.xRatio-v/2),Ke=O+v*this.visibleI;var Et=(k-v*mt)/2;if(h.config.series[x].data[me].x){var Dt=this.detectOverlappingBars({i:x,j:me,barXPosition:Ke,srtx:Et,barWidth:v,xDivision:k,initPositions:K});v=Dt.barWidth,Ke=Dt.barXPosition}le=(Ze=this.drawRangeColumnPaths(U({indexes:{i:x,j:me,realIndex:V,translationsIndex:Q},barWidth:v,barXPosition:Ke,zeroH:S,xDivision:k},ct))).barHeight}var Kt=this.barHelpers.drawGoalLine({barXPosition:Ze.barXPosition,barYPosition:et,goalX:Ze.goalX,goalY:Ze.goalY,barHeight:le,barWidth:v});Kt&&ce.add(Kt),G=Ze.y,O=Ze.x;var Nt=this.barHelpers.getPathFillColor(c,x,me,V),jr=h.globals.stroke.colors[V];this.renderSeries({realIndex:V,pathFill:Nt,lineFill:jr,j:me,i:x,x:O,y:G,y1:Ie,y2:ze,pathFrom:Ze.pathFrom,pathTo:Ze.pathTo,strokeWidth:Fe,elSeries:re,series:c,barHeight:le,barWidth:v,barXPosition:Ke,barYPosition:et,columnGroupIndex:ee,elDataLabelsWrap:ge,elGoalsMarkers:ce,visibleSeries:this.visibleI,type:"rangebar"})}p.add(re)}return p}},{key:"detectOverlappingBars",value:function(c){var A=c.i,h=c.j,u=c.barYPosition,p=c.barXPosition,x=c.srty,k=c.srtx,F=c.barHeight,S=c.barWidth,P=c.yDivision,O=c.xDivision,G=c.initPositions,V=this.w,ee=[],re=V.config.series[A].data[h].rangeName,le=V.config.series[A].data[h].x,v=Array.isArray(le)?le.join(" "):le,Q=V.globals.labels.map(function(ge){return Array.isArray(ge)?ge.join(" "):ge}).indexOf(v),K=V.globals.seriesRange[A].findIndex(function(ge){return ge.x===v&&ge.overlaps.length>0});return this.isHorizontal?(u=V.config.plotOptions.bar.rangeBarGroupRows?x+P*Q:x+F*this.visibleI+P*Q,K>-1&&!V.config.plotOptions.bar.rangeBarOverlap&&(ee=V.globals.seriesRange[A][K].overlaps).indexOf(re)>-1&&(u=(F=G.barHeight/ee.length)*this.visibleI+P*(100-parseInt(this.barOptions.barHeight,10))/100/2+F*(this.visibleI+ee.indexOf(re))+P*Q)):(Q>-1&&!V.globals.timescaleLabels.length&&(p=V.config.plotOptions.bar.rangeBarGroupRows?k+O*Q:k+S*this.visibleI+O*Q),K>-1&&!V.config.plotOptions.bar.rangeBarOverlap&&(ee=V.globals.seriesRange[A][K].overlaps).indexOf(re)>-1&&(p=(S=G.barWidth/ee.length)*this.visibleI+O*(100-parseInt(this.barOptions.barWidth,10))/100/2+S*(this.visibleI+ee.indexOf(re))+O*Q)),{barYPosition:u,barXPosition:p,barHeight:F,barWidth:S}}},{key:"drawRangeColumnPaths",value:function(c){var A=c.indexes,h=c.x,u=c.xDivision,p=c.barWidth,x=c.barXPosition,k=c.zeroH,F=this.w,S=A.i,P=A.j,O=A.realIndex,G=A.translationsIndex,V=this.yRatio[G],ee=this.getRangeValue(O,P),re=Math.min(ee.start,ee.end),le=Math.max(ee.start,ee.end);this.series[S][P]===void 0||this.series[S][P]===null?re=k:(re=k-re/V,le=k-le/V);var v=Math.abs(le-re),Q=this.barHelpers.getColumnPaths({barXPosition:x,barWidth:p,y1:re,y2:le,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:O,i:O,j:P,w:F});if(F.globals.isXNumeric){var K=this.getBarXForNumericXAxis({x:h,j:P,realIndex:O,barWidth:p});h=K.x,x=K.barXPosition}else h+=u;return{pathTo:Q.pathTo,pathFrom:Q.pathFrom,barHeight:v,x:h,y:ee.start<0&&ee.end<0?re:le,goalY:this.barHelpers.getGoalValues("y",null,k,S,P,G),barXPosition:x}}},{key:"preventBarOverflow",value:function(c){var A=this.w;return c<0&&(c=0),c>A.globals.gridWidth&&(c=A.globals.gridWidth),c}},{key:"drawRangeBarPaths",value:function(c){var A=c.indexes,h=c.y,u=c.y1,p=c.y2,x=c.yDivision,k=c.barHeight,F=c.barYPosition,S=c.zeroW,P=this.w,O=A.realIndex,G=A.j,V=this.preventBarOverflow(S+u/this.invertedYRatio),ee=this.preventBarOverflow(S+p/this.invertedYRatio),re=this.getRangeValue(O,G),le=Math.abs(ee-V),v=this.barHelpers.getBarpaths({barYPosition:F,barHeight:k,x1:V,x2:ee,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:O,realIndex:O,j:G,w:P});return P.globals.isXNumeric||(h+=x),{pathTo:v.pathTo,pathFrom:v.pathFrom,barWidth:le,x:re.start<0&&re.end<0?V:ee,goalX:this.barHelpers.getGoalValues("x",S,null,O,G),y:h}}},{key:"getRangeValue",value:function(c,A){var h=this.w;return{start:h.globals.seriesRangeStart[c][A],end:h.globals.seriesRangeEnd[c][A]}}}]),i}(),Ya=function(){function se(n){o(this,se),this.w=n.w,this.lineCtx=n}return d(se,[{key:"sameValueSeriesFix",value:function(n,i){var c=this.w;if((c.config.fill.type==="gradient"||c.config.fill.type[n]==="gradient")&&new ie(this.lineCtx.ctx,c).seriesHaveSameValues(n)){var A=i[n].slice();A[A.length-1]=A[A.length-1]+1e-6,i[n]=A}return i}},{key:"calculatePoints",value:function(n){var i=n.series,c=n.realIndex,A=n.x,h=n.y,u=n.i,p=n.j,x=n.prevY,k=this.w,F=[],S=[];if(p===0){var P=this.lineCtx.categoryAxisCorrection+k.config.markers.offsetX;k.globals.isXNumeric&&(P=(k.globals.seriesX[c][0]-k.globals.minX)/this.lineCtx.xRatio+k.config.markers.offsetX),F.push(P),S.push(D.isNumber(i[u][0])?x+k.config.markers.offsetY:null),F.push(A+k.config.markers.offsetX),S.push(D.isNumber(i[u][p+1])?h+k.config.markers.offsetY:null)}else F.push(A+k.config.markers.offsetX),S.push(D.isNumber(i[u][p+1])?h+k.config.markers.offsetY:null);return{x:F,y:S}}},{key:"checkPreviousPaths",value:function(n){for(var i=n.pathFromLine,c=n.pathFromArea,A=n.realIndex,h=this.w,u=0;u<h.globals.previousPaths.length;u++){var p=h.globals.previousPaths[u];(p.type==="line"||p.type==="area")&&p.paths.length>0&&parseInt(p.realIndex,10)===parseInt(A,10)&&(p.type==="line"?(this.lineCtx.appendPathFrom=!1,i=h.globals.previousPaths[u].paths[0].d):p.type==="area"&&(this.lineCtx.appendPathFrom=!1,c=h.globals.previousPaths[u].paths[0].d,h.config.stroke.show&&h.globals.previousPaths[u].paths[1]&&(i=h.globals.previousPaths[u].paths[1].d)))}return{pathFromLine:i,pathFromArea:c}}},{key:"determineFirstPrevY",value:function(n){var i,c,A,h=n.i,u=n.realIndex,p=n.series,x=n.prevY,k=n.lineYPosition,F=n.translationsIndex,S=this.w,P=S.config.chart.stacked&&!S.globals.comboCharts||S.config.chart.stacked&&S.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((i=this.w.config.series[u])===null||i===void 0?void 0:i.type)==="bar"||((c=this.w.config.series[u])===null||c===void 0?void 0:c.type)==="column");if(((A=p[h])===null||A===void 0?void 0:A[0])!==void 0)x=(k=P&&h>0?this.lineCtx.prevSeriesY[h-1][0]:this.lineCtx.zeroY)-p[h][0]/this.lineCtx.yRatio[F]+2*(this.lineCtx.isReversed?p[h][0]/this.lineCtx.yRatio[F]:0);else if(P&&h>0&&p[h][0]===void 0){for(var O=h-1;O>=0;O--)if(p[O][0]!==null&&p[O][0]!==void 0){x=k=this.lineCtx.prevSeriesY[O][0];break}}return{prevY:x,lineYPosition:k}}}]),se}(),ia=function(se){for(var n,i,c,A,h=function(F){for(var S=[],P=F[0],O=F[1],G=S[0]=oi(P,O),V=1,ee=F.length-1;V<ee;V++)P=O,O=F[V+1],S[V]=.5*(G+(G=oi(P,O)));return S[V]=G,S}(se),u=se.length-1,p=[],x=0;x<u;x++)c=oi(se[x],se[x+1]),Math.abs(c)<1e-6?h[x]=h[x+1]=0:(A=(n=h[x]/c)*n+(i=h[x+1]/c)*i)>9&&(A=3*c/Math.sqrt(A),h[x]=A*n,h[x+1]=A*i);for(var k=0;k<=u;k++)A=(se[Math.min(u,k+1)][0]-se[Math.max(0,k-1)][0])/(6*(1+h[k]*h[k])),p.push([A||0,h[k]*A||0]);return p},Zr=function(se){var n=ia(se),i=se[1],c=se[0],A=[],h=n[1],u=n[0];A.push(c,[c[0]+u[0],c[1]+u[1],i[0]-h[0],i[1]-h[1],i[0],i[1]]);for(var p=2,x=n.length;p<x;p++){var k=se[p],F=n[p];A.push([k[0]-F[0],k[1]-F[1],k[0],k[1]])}return A},fs=function(se,n,i){var c=se.slice(n,i);if(n){if(i-n>1&&c[1].length<6){var A=c[0].length;c[1]=[2*c[0][A-2]-c[0][A-4],2*c[0][A-1]-c[0][A-3]].concat(c[1])}c[0]=c[0].slice(-2)}return c};function oi(se,n){return(n[1]-se[1])/(n[0]-se[0])}var Ks=function(){function se(n,i,c){o(this,se),this.ctx=n,this.w=n.w,this.xyRatios=i,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||c,this.scatter=new ve(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ya(this),this.markers=new Re(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return d(se,[{key:"draw",value:function(n,i,c,A){var h,u=this.w,p=new _(this.ctx),x=u.globals.comboCharts?i:u.config.chart.type,k=p.group({class:"apexcharts-".concat(x,"-series apexcharts-plot-series")}),F=new ie(this.ctx,u);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,n=F.getLogSeries(n),this.yRatio=F.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var S=[],P=0;P<n.length;P++){n=this.lineHelpers.sameValueSeriesFix(P,n);var O=u.globals.comboCharts?c[P]:P,G=this.yRatio.length>1?O:0;this._initSerieVariables(n,P,O);var V=[],ee=[],re=[],le=u.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,O),u.globals.isXNumeric&&u.globals.seriesX.length>0&&(le=(u.globals.seriesX[O][0]-u.globals.minX)/this.xRatio),re.push(le);var v,Q=le,K=void 0,ge=Q,ce=this.zeroY,me=this.zeroY;ce=this.lineHelpers.determineFirstPrevY({i:P,realIndex:O,series:n,prevY:ce,lineYPosition:0,translationsIndex:G}).prevY,u.config.stroke.curve==="monotoneCubic"&&n[P][0]===null?V.push(null):V.push(ce),v=ce,x==="rangeArea"&&(K=me=this.lineHelpers.determineFirstPrevY({i:P,realIndex:O,series:A,prevY:me,lineYPosition:0,translationsIndex:G}).prevY,ee.push(V[0]!==null?me:null));var Fe=this._calculatePathsFrom({type:x,series:n,i:P,realIndex:O,translationsIndex:G,prevX:ge,prevY:ce,prevY2:me}),Ie=[V[0]],ze=[ee[0]],Ze={type:x,series:n,realIndex:O,translationsIndex:G,i:P,x:le,y:1,pX:Q,pY:v,pathsFrom:Fe,linePaths:[],areaPaths:[],seriesIndex:c,lineYPosition:0,xArrj:re,yArrj:V,y2Arrj:ee,seriesRangeEnd:A},Ke=this._iterateOverDataPoints(U(U({},Ze),{},{iterations:x==="rangeArea"?n[P].length-1:void 0,isRangeStart:!0}));if(x==="rangeArea"){for(var et=this._calculatePathsFrom({series:A,i:P,realIndex:O,prevX:ge,prevY:me}),ct=this._iterateOverDataPoints(U(U({},Ze),{},{series:A,xArrj:[le],yArrj:Ie,y2Arrj:ze,pY:K,areaPaths:Ke.areaPaths,pathsFrom:et,iterations:A[P].length-1,isRangeStart:!1})),mt=Ke.linePaths.length/2,wt=0;wt<mt;wt++)Ke.linePaths[wt]=ct.linePaths[wt+mt]+Ke.linePaths[wt];Ke.linePaths.splice(mt),Ke.pathFromLine=ct.pathFromLine+Ke.pathFromLine}else Ke.pathFromArea+="z";this._handlePaths({type:x,realIndex:O,i:P,paths:Ke}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),S.push(this.elSeries)}if(((h=u.config.series[0])===null||h===void 0?void 0:h.zIndex)!==void 0&&S.sort(function(Dt,Kt){return Number(Dt.node.getAttribute("zIndex"))-Number(Kt.node.getAttribute("zIndex"))}),u.config.chart.stacked)for(var Ut=S.length-1;Ut>=0;Ut--)k.add(S[Ut]);else for(var Et=0;Et<S.length;Et++)k.add(S[Et]);return k}},{key:"_initSerieVariables",value:function(n,i,c){var A=this.w,h=new _(this.ctx);this.xDivision=A.globals.gridWidth/(A.globals.dataPoints-(A.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(A.config.stroke.width)?A.config.stroke.width[c]:A.config.stroke.width;var u=0;this.yRatio.length>1&&(this.yaxisIndex=A.globals.seriesYAxisReverseMap[c],u=c),this.isReversed=A.config.yaxis[this.yaxisIndex]&&A.config.yaxis[this.yaxisIndex].reversed,this.zeroY=A.globals.gridHeight-this.baseLineY[u]-(this.isReversed?A.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[u]:0),this.areaBottomY=this.zeroY,(this.zeroY>A.globals.gridHeight||A.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=A.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=h.group({class:"apexcharts-series",zIndex:A.config.series[c].zIndex!==void 0?A.config.series[c].zIndex:c,seriesName:D.escapeString(A.globals.seriesNames[c])}),this.elPointsMain=h.group({class:"apexcharts-series-markers-wrap","data:realIndex":c}),this.elDataLabelsWrap=h.group({class:"apexcharts-datalabels","data:realIndex":c});var p=n[i].length===A.globals.dataPoints;this.elSeries.attr({"data:longestSeries":p,rel:i+1,"data:realIndex":c}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(n){var i,c,A,h,u=n.type,p=n.series,x=n.i,k=n.realIndex,F=n.translationsIndex,S=n.prevX,P=n.prevY,O=n.prevY2,G=this.w,V=new _(this.ctx);if(p[x][0]===null){for(var ee=0;ee<p[x].length;ee++)if(p[x][ee]!==null){S=this.xDivision*ee,P=this.zeroY-p[x][ee]/this.yRatio[F],i=V.move(S,P),c=V.move(S,this.areaBottomY);break}}else i=V.move(S,P),u==="rangeArea"&&(i=V.move(S,O)+V.line(S,P)),c=V.move(S,this.areaBottomY)+V.line(S,P);if(A=V.move(0,this.zeroY)+V.line(0,this.zeroY),h=V.move(0,this.zeroY)+V.line(0,this.zeroY),G.globals.previousPaths.length>0){var re=this.lineHelpers.checkPreviousPaths({pathFromLine:A,pathFromArea:h,realIndex:k});A=re.pathFromLine,h=re.pathFromArea}return{prevX:S,prevY:P,linePath:i,areaPath:c,pathFromLine:A,pathFromArea:h}}},{key:"_handlePaths",value:function(n){var i=n.type,c=n.realIndex,A=n.i,h=n.paths,u=this.w,p=new _(this.ctx),x=new Pe(this.ctx);this.prevSeriesY.push(h.yArrj),u.globals.seriesXvalues[c]=h.xArrj,u.globals.seriesYvalues[c]=h.yArrj;var k=u.config.forecastDataPoints;if(k.count>0&&i!=="rangeArea"){var F=u.globals.seriesXvalues[c][u.globals.seriesXvalues[c].length-k.count-1],S=p.drawRect(F,0,u.globals.gridWidth,u.globals.gridHeight,0);u.globals.dom.elForecastMask.appendChild(S.node);var P=p.drawRect(0,0,F,u.globals.gridHeight,0);u.globals.dom.elNonForecastMask.appendChild(P.node)}this.pointsChart||u.globals.delayedElements.push({el:this.elPointsMain.node,index:c});var O={i:A,realIndex:c,animationDelay:A,initialSpeed:u.config.chart.animations.speed,dataChangeSpeed:u.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(i)};if(i==="area")for(var G=x.fillPath({seriesNumber:c}),V=0;V<h.areaPaths.length;V++){var ee=p.renderPaths(U(U({},O),{},{pathFrom:h.pathFromArea,pathTo:h.areaPaths[V],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:G}));this.elSeries.add(ee)}if(u.config.stroke.show&&!this.pointsChart){var re=null;if(i==="line")re=x.fillPath({seriesNumber:c,i:A});else if(u.config.stroke.fill.type==="solid")re=u.globals.stroke.colors[c];else{var le=u.config.fill;u.config.fill=u.config.stroke.fill,re=x.fillPath({seriesNumber:c,i:A}),u.config.fill=le}for(var v=0;v<h.linePaths.length;v++){var Q=re;i==="rangeArea"&&(Q=x.fillPath({seriesNumber:c}));var K=U(U({},O),{},{pathFrom:h.pathFromLine,pathTo:h.linePaths[v],stroke:re,strokeWidth:this.strokeWidth,strokeLineCap:u.config.stroke.lineCap,fill:i==="rangeArea"?Q:"none"}),ge=p.renderPaths(K);if(this.elSeries.add(ge),ge.attr("fill-rule","evenodd"),k.count>0&&i!=="rangeArea"){var ce=p.renderPaths(K);ce.node.setAttribute("stroke-dasharray",k.dashArray),k.strokeWidth&&ce.node.setAttribute("stroke-width",k.strokeWidth),this.elSeries.add(ce),ce.attr("clip-path","url(#forecastMask".concat(u.globals.cuid,")")),ge.attr("clip-path","url(#nonForecastMask".concat(u.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(n){var i,c,A=this,h=n.type,u=n.series,p=n.iterations,x=n.realIndex,k=n.translationsIndex,F=n.i,S=n.x,P=n.y,O=n.pX,G=n.pY,V=n.pathsFrom,ee=n.linePaths,re=n.areaPaths,le=n.seriesIndex,v=n.lineYPosition,Q=n.xArrj,K=n.yArrj,ge=n.y2Arrj,ce=n.isRangeStart,me=n.seriesRangeEnd,Fe=this.w,Ie=new _(this.ctx),ze=this.yRatio,Ze=V.prevY,Ke=V.linePath,et=V.areaPath,ct=V.pathFromLine,mt=V.pathFromArea,wt=D.isNumber(Fe.globals.minYArr[x])?Fe.globals.minYArr[x]:Fe.globals.minY;p||(p=Fe.globals.dataPoints>1?Fe.globals.dataPoints-1:Fe.globals.dataPoints);var Ut=function(ea,ma){return ma-ea/ze[k]+2*(A.isReversed?ea/ze[k]:0)},Et=P,Dt=Fe.config.chart.stacked&&!Fe.globals.comboCharts||Fe.config.chart.stacked&&Fe.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((i=this.w.config.series[x])===null||i===void 0?void 0:i.type)==="bar"||((c=this.w.config.series[x])===null||c===void 0?void 0:c.type)==="column"),Kt=Fe.config.stroke.curve;Array.isArray(Kt)&&(Kt=Array.isArray(le)?Kt[le[F]]:Kt[F]);for(var Nt,jr=0,pr=0;pr<p;pr++){var zr=u[F][pr+1]===void 0||u[F][pr+1]===null;if(Fe.globals.isXNumeric){var lr=Fe.globals.seriesX[x][pr+1];Fe.globals.seriesX[x][pr+1]===void 0&&(lr=Fe.globals.seriesX[x][p-1]),S=(lr-Fe.globals.minX)/this.xRatio}else S+=this.xDivision;Dt?F>0&&Fe.globals.collapsedSeries.length<Fe.config.series.length-1?v=this.prevSeriesY[function(ea){for(var ma=ea;ma>0;ma--){if(!(Fe.globals.collapsedSeriesIndices.indexOf((le==null?void 0:le[ma])||ma)>-1))return ma;ma--}return 0}(F-1)][pr+1]:v=this.zeroY:v=this.zeroY,zr?P=Ut(wt,v):(P=Ut(u[F][pr+1],v),h==="rangeArea"&&(Et=Ut(me[F][pr+1],v))),Q.push(S),!zr||Fe.config.stroke.curve!=="smooth"&&Fe.config.stroke.curve!=="monotoneCubic"?(K.push(P),ge.push(Et)):(K.push(null),ge.push(null));var ar=this.lineHelpers.calculatePoints({series:u,x:S,y:P,realIndex:x,i:F,j:pr,prevY:Ze}),sr=this._createPaths({type:h,series:u,i:F,realIndex:x,j:pr,x:S,y:P,y2:Et,xArrj:Q,yArrj:K,y2Arrj:ge,pX:O,pY:G,pathState:jr,segmentStartX:Nt,linePath:Ke,areaPath:et,linePaths:ee,areaPaths:re,curve:Kt,isRangeStart:ce});re=sr.areaPaths,ee=sr.linePaths,O=sr.pX,G=sr.pY,jr=sr.pathState,Nt=sr.segmentStartX,et=sr.areaPath,Ke=sr.linePath,!this.appendPathFrom||Kt==="monotoneCubic"&&h==="rangeArea"||(ct+=Ie.line(S,this.zeroY),mt+=Ie.line(S,this.zeroY)),this.handleNullDataPoints(u,ar,F,pr,x),this._handleMarkersAndLabels({type:h,pointsPos:ar,i:F,j:pr,realIndex:x,isRangeStart:ce})}return{yArrj:K,xArrj:Q,pathFromArea:mt,areaPaths:re,pathFromLine:ct,linePaths:ee,linePath:Ke,areaPath:et}}},{key:"_handleMarkersAndLabels",value:function(n){var i=n.type,c=n.pointsPos,A=n.isRangeStart,h=n.i,u=n.j,p=n.realIndex,x=this.w,k=new Ee(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,u,{realIndex:p,pointsPos:c,zRatio:this.zRatio,elParent:this.elPointsMain});else{x.globals.series[h].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var F=this.markers.plotChartMarkers(c,p,u+1);F!==null&&this.elPointsMain.add(F)}var S=k.drawDataLabel({type:i,isRangeStart:A,pos:c,i:p,j:u+1});S!==null&&this.elDataLabelsWrap.add(S)}},{key:"_createPaths",value:function(n){var i=n.type,c=n.series,A=n.i;n.realIndex;var h,u=n.j,p=n.x,x=n.y,k=n.xArrj,F=n.yArrj,S=n.y2,P=n.y2Arrj,O=n.pX,G=n.pY,V=n.pathState,ee=n.segmentStartX,re=n.linePath,le=n.areaPath,v=n.linePaths,Q=n.areaPaths,K=n.curve,ge=n.isRangeStart,ce=new _(this.ctx),me=this.areaBottomY,Fe=i==="rangeArea",Ie=i==="rangeArea"&&ge;switch(K){case"monotoneCubic":var ze=ge?F:P;switch(V){case 0:if(ze[u+1]===null)break;V=1;case 1:if(!(Fe?k.length===c[A].length:u===c[A].length-2))break;case 2:var Ze=ge?k:k.slice().reverse(),Ke=ge?ze:ze.slice().reverse(),et=(h=Ke,Ze.map(function(lr,ar){return[lr,h[ar]]}).filter(function(lr){return lr[1]!==null})),ct=et.length>1?Zr(et):et,mt=[];Fe&&(Ie?Q=et:mt=Q.reverse());var wt=0,Ut=0;if(function(lr,ar){for(var sr=function(Qi){var oa=[],Ha=0;return Qi.forEach(function(ci){ci!==null?Ha++:Ha>0&&(oa.push(Ha),Ha=0)}),Ha>0&&oa.push(Ha),oa}(lr),ea=[],ma=0,Fs=0;ma<sr.length;Fs+=sr[ma++])ea[ma]=fs(ar,Fs,Fs+sr[ma]);return ea}(Ke,ct).forEach(function(lr){wt++;var ar=function(ma){for(var Fs="",Qi=0;Qi<ma.length;Qi++){var oa=ma[Qi],Ha=oa.length;Ha>4?(Fs+="C".concat(oa[0],", ").concat(oa[1]),Fs+=", ".concat(oa[2],", ").concat(oa[3]),Fs+=", ".concat(oa[4],", ").concat(oa[5])):Ha>2&&(Fs+="S".concat(oa[0],", ").concat(oa[1]),Fs+=", ".concat(oa[2],", ").concat(oa[3]))}return Fs}(lr),sr=Ut,ea=(Ut+=lr.length)-1;Ie?re=ce.move(et[sr][0],et[sr][1])+ar:Fe?re=ce.move(mt[sr][0],mt[sr][1])+ce.line(et[sr][0],et[sr][1])+ar+ce.line(mt[ea][0],mt[ea][1]):(re=ce.move(et[sr][0],et[sr][1])+ar,le=re+ce.line(et[ea][0],me)+ce.line(et[sr][0],me)+"z",Q.push(le)),v.push(re)}),Fe&&wt>1&&!Ie){var Et=v.slice(wt).reverse();v.splice(wt),Et.forEach(function(lr){return v.push(lr)})}V=0}break;case"smooth":var Dt=.35*(p-O);if(c[A][u]===null)V=0;else switch(V){case 0:if(ee=O,re=Ie?ce.move(O,P[u])+ce.line(O,G):ce.move(O,G),le=ce.move(O,G),c[A][u+1]===null){v.push(re),Q.push(le);break}if(V=1,u<c[A].length-2){var Kt=ce.curve(O+Dt,G,p-Dt,x,p,x);re+=Kt,le+=Kt;break}case 1:if(c[A][u+1]===null)re+=Ie?ce.line(O,S):ce.move(O,G),le+=ce.line(O,me)+ce.line(ee,me)+"z",v.push(re),Q.push(le),V=-1;else{var Nt=ce.curve(O+Dt,G,p-Dt,x,p,x);re+=Nt,le+=Nt,u>=c[A].length-2&&(Ie&&(re+=ce.curve(p,x,p,x,p,S)+ce.move(p,S)),le+=ce.curve(p,x,p,x,p,me)+ce.line(ee,me)+"z",v.push(re),Q.push(le),V=-1)}}O=p,G=x;break;default:var jr=function(lr,ar,sr){var ea=[];switch(lr){case"stepline":ea=ce.line(ar,null,"H")+ce.line(null,sr,"V");break;case"linestep":ea=ce.line(null,sr,"V")+ce.line(ar,null,"H");break;case"straight":ea=ce.line(ar,sr)}return ea};if(c[A][u]===null)V=0;else switch(V){case 0:if(ee=O,re=Ie?ce.move(O,P[u])+ce.line(O,G):ce.move(O,G),le=ce.move(O,G),c[A][u+1]===null){v.push(re),Q.push(le);break}if(V=1,u<c[A].length-2){var pr=jr(K,p,x);re+=pr,le+=pr;break}case 1:if(c[A][u+1]===null)re+=Ie?ce.line(O,S):ce.move(O,G),le+=ce.line(O,me)+ce.line(ee,me)+"z",v.push(re),Q.push(le),V=-1;else{var zr=jr(K,p,x);re+=zr,le+=zr,u>=c[A].length-2&&(Ie&&(re+=ce.line(p,S)),le+=ce.line(p,me)+ce.line(ee,me)+"z",v.push(re),Q.push(le),V=-1)}}O=p,G=x}return{linePaths:v,areaPaths:Q,pX:O,pY:G,pathState:V,segmentStartX:ee,linePath:re,areaPath:le}}},{key:"handleNullDataPoints",value:function(n,i,c,A,h){var u=this.w;if(n[c][A]===null&&u.config.markers.showNullDataPoints||n[c].length===1){var p=this.strokeWidth-u.config.markers.strokeWidth/2;p>0||(p=0);var x=this.markers.plotChartMarkers(i,h,A+1,p,!0);x!==null&&this.elPointsMain.add(x)}}}]),se}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function se(p,x,k,F){this.xoffset=p,this.yoffset=x,this.height=F,this.width=k,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(S){var P,O=[],G=this.xoffset,V=this.yoffset,ee=h(S)/this.height,re=h(S)/this.width;if(this.width>=this.height)for(P=0;P<S.length;P++)O.push([G,V,G+ee,V+S[P]/ee]),V+=S[P]/ee;else for(P=0;P<S.length;P++)O.push([G,V,G+S[P]/re,V+re]),G+=S[P]/re;return O},this.cutArea=function(S){var P;if(this.width>=this.height){var O=S/this.height,G=this.width-O;P=new se(this.xoffset+O,this.yoffset,G,this.height)}else{var V=S/this.width,ee=this.height-V;P=new se(this.xoffset,this.yoffset+V,this.width,ee)}return P}}function n(p,x,k,F,S){F=F===void 0?0:F,S=S===void 0?0:S;var P=i(function(O,G){var V,ee=[],re=G/h(O);for(V=0;V<O.length;V++)ee[V]=O[V]*re;return ee}(p,x*k),[],new se(F,S,x,k),[]);return function(O){var G,V,ee=[];for(G=0;G<O.length;G++)for(V=0;V<O[G].length;V++)ee.push(O[G][V]);return ee}(P)}function i(p,x,k,F){var S,P,O;if(p.length!==0)return S=k.shortestEdge(),function(G,V,ee){var re;if(G.length===0)return!0;(re=G.slice()).push(V);var le=c(G,ee),v=c(re,ee);return le>=v}(x,P=p[0],S)?(x.push(P),i(p.slice(1),x,k,F)):(O=k.cutArea(h(x),F),F.push(k.getCoordinates(x)),i(p,[],O,F)),F;F.push(k.getCoordinates(x))}function c(p,x){var k=Math.min.apply(Math,p),F=Math.max.apply(Math,p),S=h(p);return Math.max(Math.pow(x,2)*F/Math.pow(S,2),Math.pow(S,2)/(Math.pow(x,2)*k))}function A(p){return p&&p.constructor===Array}function h(p){var x,k=0;for(x=0;x<p.length;x++)k+=p[x];return k}function u(p){var x,k=0;if(A(p[0]))for(x=0;x<p.length;x++)k+=u(p[x]);else k=h(p);return k}return function p(x,k,F,S,P){S=S===void 0?0:S,P=P===void 0?0:P;var O,G,V=[],ee=[];if(A(x[0])){for(G=0;G<x.length;G++)V[G]=u(x[G]);for(O=n(V,k,F,S,P),G=0;G<x.length;G++)ee.push(p(x[G],O[G][2]-O[G][0],O[G][3]-O[G][1],O[G][0],O[G][1]))}else ee=n(x,k,F,S,P);return ee}}();var ja,$a,Ws=function(){function se(n,i){o(this,se),this.ctx=n,this.w=n.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new ii(n),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return d(se,[{key:"draw",value:function(n){var i=this,c=this.w,A=new _(this.ctx),h=new Pe(this.ctx),u=A.group({class:"apexcharts-treemap"});if(c.globals.noData)return u;var p=[];return n.forEach(function(x){var k=x.map(function(F){return Math.abs(F)});p.push(k)}),this.negRange=this.helpers.checkColorRange(),c.config.series.forEach(function(x,k){x.data.forEach(function(F){Array.isArray(i.labels[k])||(i.labels[k]=[]),i.labels[k].push(F.x)})}),window.TreemapSquared.generate(p,c.globals.gridWidth,c.globals.gridHeight).forEach(function(x,k){var F=A.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:D.escapeString(c.globals.seriesNames[k]),rel:k+1,"data:realIndex":k});if(c.config.chart.dropShadow.enabled){var S=c.config.chart.dropShadow;new X(i.ctx).dropShadow(u,S,k)}var P=A.group({class:"apexcharts-data-labels"});x.forEach(function(O,G){var V=O[0],ee=O[1],re=O[2],le=O[3],v=A.drawRect(V,ee,re-V,le-ee,c.config.plotOptions.treemap.borderRadius,"#fff",1,i.strokeWidth,c.config.plotOptions.treemap.useFillColorAsStroke?K:c.globals.stroke.colors[k]);v.attr({cx:V,cy:ee,index:k,i:k,j:G,width:re-V,height:le-ee});var Q=i.helpers.getShadeColor(c.config.chart.type,k,G,i.negRange),K=Q.color;c.config.series[k].data[G]!==void 0&&c.config.series[k].data[G].fillColor&&(K=c.config.series[k].data[G].fillColor);var ge=h.fillPath({color:K,seriesNumber:k,dataPointIndex:G});v.node.classList.add("apexcharts-treemap-rect"),v.attr({fill:ge}),i.helpers.addListeners(v);var ce={x:V+(re-V)/2,y:ee+(le-ee)/2,width:0,height:0},me={x:V,y:ee,width:re-V,height:le-ee};if(c.config.chart.animations.enabled&&!c.globals.dataChanged){var Fe=1;c.globals.resized||(Fe=c.config.chart.animations.speed),i.animateTreemap(v,ce,me,Fe)}if(c.globals.dataChanged){var Ie=1;i.dynamicAnim.enabled&&c.globals.shouldAnimate&&(Ie=i.dynamicAnim.speed,c.globals.previousPaths[k]&&c.globals.previousPaths[k][G]&&c.globals.previousPaths[k][G].rect&&(ce=c.globals.previousPaths[k][G].rect),i.animateTreemap(v,ce,me,Ie))}var ze=i.getFontSize(O),Ze=c.config.dataLabels.formatter(i.labels[k][G],{value:c.globals.series[k][G],seriesIndex:k,dataPointIndex:G,w:c});c.config.plotOptions.treemap.dataLabels.format==="truncate"&&(ze=parseInt(c.config.dataLabels.style.fontSize,10),Ze=i.truncateLabels(Ze,ze,V,ee,re,le));var Ke=null;c.globals.series[k][G]&&(Ke=i.helpers.calculateDataLabels({text:Ze,x:(V+re)/2,y:(ee+le)/2+i.strokeWidth/2+ze/3,i:k,j:G,colorProps:Q,fontSize:ze,series:n})),c.config.dataLabels.enabled&&Ke&&i.rotateToFitLabel(Ke,ze,Ze,V,ee,re,le),F.add(v),Ke!==null&&F.add(Ke)}),F.add(P),u.add(F)}),u}},{key:"getFontSize",value:function(n){var i=this.w,c,A,h,u,p=function x(k){var F,S=0;if(Array.isArray(k[0]))for(F=0;F<k.length;F++)S+=x(k[F]);else for(F=0;F<k.length;F++)S+=k[F].length;return S}(this.labels)/function x(k){var F,S=0;if(Array.isArray(k[0]))for(F=0;F<k.length;F++)S+=x(k[F]);else for(F=0;F<k.length;F++)S+=1;return S}(this.labels);return c=n[2]-n[0],A=n[3]-n[1],h=c*A,u=Math.pow(h,.5),Math.min(u/p,parseInt(i.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(n,i,c,A,h,u,p){var x=new _(this.ctx),k=x.getTextRects(c,i);if(k.width+this.w.config.stroke.width+5>u-A&&k.width<=p-h){var F=x.rotateAroundCenter(n.node);n.node.setAttribute("transform","rotate(-90 ".concat(F.x," ").concat(F.y,") translate(").concat(k.height/3,")"))}}},{key:"truncateLabels",value:function(n,i,c,A,h,u){var p=new _(this.ctx),x=p.getTextRects(n,i).width+this.w.config.stroke.width+5>h-c&&u-A>h-c?u-A:h-c,k=p.getTextBasedOnMaxWidth({text:n,maxWidth:x,fontSize:i});return n.length!==k.length&&x/i<5?"":k}},{key:"animateTreemap",value:function(n,i,c,A){var h=new ae(this.ctx);h.animateRect(n,{x:i.x,y:i.y,width:i.width,height:i.height},{x:c.x,y:c.y,width:c.width,height:c.height},A,function(){h.animationCompleted(n)})}}]),se}(),Ys=86400,Ss=10/Ys,pn=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return d(se,[{key:"calculateTimeScaleTicks",value:function(n,i){var c=this,A=this.w;if(A.globals.allSeriesCollapsed)return A.globals.labels=[],A.globals.timescaleLabels=[],[];var h=new $(this.ctx),u=(i-n)/864e5;this.determineInterval(u),A.globals.disableZoomIn=!1,A.globals.disableZoomOut=!1,u<Ss?A.globals.disableZoomIn=!0:u>5e4&&(A.globals.disableZoomOut=!0);var p=h.getTimeUnitsfromTimestamp(n,i,this.utc),x=A.globals.gridWidth/u,k=x/24,F=k/60,S=F/60,P=Math.floor(24*u),O=Math.floor(1440*u),G=Math.floor(u*Ys),V=Math.floor(u),ee=Math.floor(u/30),re=Math.floor(u/365),le={minMillisecond:p.minMillisecond,minSecond:p.minSecond,minMinute:p.minMinute,minHour:p.minHour,minDate:p.minDate,minMonth:p.minMonth,minYear:p.minYear},v={firstVal:le,currentMillisecond:le.minMillisecond,currentSecond:le.minSecond,currentMinute:le.minMinute,currentHour:le.minHour,currentMonthDate:le.minDate,currentDate:le.minDate,currentMonth:le.minMonth,currentYear:le.minYear,daysWidthOnXAxis:x,hoursWidthOnXAxis:k,minutesWidthOnXAxis:F,secondsWidthOnXAxis:S,numberOfSeconds:G,numberOfMinutes:O,numberOfHours:P,numberOfDays:V,numberOfMonths:ee,numberOfYears:re};switch(this.tickInterval){case"years":this.generateYearScale(v);break;case"months":case"half_year":this.generateMonthScale(v);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(v);break;case"hours":this.generateHourScale(v);break;case"minutes_fives":case"minutes":this.generateMinuteScale(v);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(v)}var Q=this.timeScaleArray.map(function(K){var ge={position:K.position,unit:K.unit,year:K.year,day:K.day?K.day:1,hour:K.hour?K.hour:0,month:K.month+1};return K.unit==="month"?U(U({},ge),{},{day:1,value:K.value+1}):K.unit==="day"||K.unit==="hour"?U(U({},ge),{},{value:K.value}):K.unit==="minute"?U(U({},ge),{},{value:K.value,minute:K.value}):K.unit==="second"?U(U({},ge),{},{value:K.value,minute:K.minute,second:K.second}):K});return Q.filter(function(K){var ge=1,ce=Math.ceil(A.globals.gridWidth/120),me=K.value;A.config.xaxis.tickAmount!==void 0&&(ce=A.config.xaxis.tickAmount),Q.length>ce&&(ge=Math.floor(Q.length/ce));var Fe=!1,Ie=!1;switch(c.tickInterval){case"years":K.unit==="year"&&(Fe=!0);break;case"half_year":ge=7,K.unit==="year"&&(Fe=!0);break;case"months":ge=1,K.unit==="year"&&(Fe=!0);break;case"months_fortnight":ge=15,K.unit!=="year"&&K.unit!=="month"||(Fe=!0),me===30&&(Ie=!0);break;case"months_days":ge=10,K.unit==="month"&&(Fe=!0),me===30&&(Ie=!0);break;case"week_days":ge=8,K.unit==="month"&&(Fe=!0);break;case"days":ge=1,K.unit==="month"&&(Fe=!0);break;case"hours":K.unit==="day"&&(Fe=!0);break;case"minutes_fives":case"seconds_fives":me%5!=0&&(Ie=!0);break;case"seconds_tens":me%10!=0&&(Ie=!0)}if(c.tickInterval==="hours"||c.tickInterval==="minutes_fives"||c.tickInterval==="seconds_tens"||c.tickInterval==="seconds_fives"){if(!Ie)return!0}else if((me%ge==0||Fe)&&!Ie)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(n,i){var c=this.w,A=this.formatDates(n),h=this.removeOverlappingTS(A);c.globals.timescaleLabels=h.slice(),new Pt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(n){var i=24*n,c=60*i;switch(!0){case n/365>5:this.tickInterval="years";break;case n>800:this.tickInterval="half_year";break;case n>180:this.tickInterval="months";break;case n>90:this.tickInterval="months_fortnight";break;case n>60:this.tickInterval="months_days";break;case n>30:this.tickInterval="week_days";break;case n>2:this.tickInterval="days";break;case i>2.4:this.tickInterval="hours";break;case c>15:this.tickInterval="minutes_fives";break;case c>5:this.tickInterval="minutes";break;case c>1:this.tickInterval="seconds_tens";break;case 60*c>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(n){var i=n.firstVal,c=n.currentMonth,A=n.currentYear,h=n.daysWidthOnXAxis,u=n.numberOfYears,p=i.minYear,x=0,k=new $(this.ctx),F="year";if(i.minDate>1||i.minMonth>0){var S=k.determineRemainingDaysOfYear(i.minYear,i.minMonth,i.minDate);x=(k.determineDaysOfYear(i.minYear)-S+1)*h,p=i.minYear+1,this.timeScaleArray.push({position:x,value:p,unit:F,year:p,month:D.monthMod(c+1)})}else i.minDate===1&&i.minMonth===0&&this.timeScaleArray.push({position:x,value:p,unit:F,year:A,month:D.monthMod(c+1)});for(var P=p,O=x,G=0;G<u;G++)P++,O=k.determineDaysOfYear(P-1)*h+O,this.timeScaleArray.push({position:O,value:P,unit:F,year:P,month:1})}},{key:"generateMonthScale",value:function(n){var i=n.firstVal,c=n.currentMonthDate,A=n.currentMonth,h=n.currentYear,u=n.daysWidthOnXAxis,p=n.numberOfMonths,x=A,k=0,F=new $(this.ctx),S="month",P=0;if(i.minDate>1){k=(F.determineDaysOfMonths(A+1,i.minYear)-c+1)*u,x=D.monthMod(A+1);var O=h+P,G=D.monthMod(x),V=x;x===0&&(S="year",V=O,G=1,O+=P+=1),this.timeScaleArray.push({position:k,value:V,unit:S,year:O,month:G})}else this.timeScaleArray.push({position:k,value:x,unit:S,year:h,month:D.monthMod(A)});for(var ee=x+1,re=k,le=0,v=1;le<p;le++,v++){(ee=D.monthMod(ee))===0?(S="year",P+=1):S="month";var Q=this._getYear(h,ee,P);re=F.determineDaysOfMonths(ee,Q)*u+re;var K=ee===0?Q:ee;this.timeScaleArray.push({position:re,value:K,unit:S,year:Q,month:ee===0?1:ee}),ee++}}},{key:"generateDayScale",value:function(n){var i=n.firstVal,c=n.currentMonth,A=n.currentYear,h=n.hoursWidthOnXAxis,u=n.numberOfDays,p=new $(this.ctx),x="day",k=i.minDate+1,F=k,S=function(v,Q,K){return v>p.determineDaysOfMonths(Q+1,K)&&(F=1,x="month",O=Q+=1),Q},P=(24-i.minHour)*h,O=k,G=S(F,c,A);i.minHour===0&&i.minDate===1?(P=0,O=D.monthMod(i.minMonth),x="month",F=i.minDate):i.minDate!==1&&i.minHour===0&&i.minMinute===0&&(P=0,k=i.minDate,O=k,G=S(F=k,c,A)),this.timeScaleArray.push({position:P,value:O,unit:x,year:this._getYear(A,G,0),month:D.monthMod(G),day:F});for(var V=P,ee=0;ee<u;ee++){x="day",G=S(F+=1,G,this._getYear(A,G,0));var re=this._getYear(A,G,0);V=24*h+V;var le=F===1?D.monthMod(G):F;this.timeScaleArray.push({position:V,value:le,unit:x,year:re,month:D.monthMod(G),day:le})}}},{key:"generateHourScale",value:function(n){var i=n.firstVal,c=n.currentDate,A=n.currentMonth,h=n.currentYear,u=n.minutesWidthOnXAxis,p=n.numberOfHours,x=new $(this.ctx),k="hour",F=function(ge,ce){return ge>x.determineDaysOfMonths(ce+1,h)&&(ee=1,ce+=1),{month:ce,date:ee}},S=function(ge,ce){return ge>x.determineDaysOfMonths(ce+1,h)?ce+=1:ce},P=60-(i.minMinute+i.minSecond/60),O=P*u,G=i.minHour+1,V=G;P===60&&(O=0,V=G=i.minHour);var ee=c;V>=24&&(V=0,ee+=1,k="day");var re=F(ee,A).month;re=S(ee,re),this.timeScaleArray.push({position:O,value:G,unit:k,day:ee,hour:V,year:h,month:D.monthMod(re)}),V++;for(var le=O,v=0;v<p;v++){k="hour",V>=24&&(V=0,k="day",re=F(ee+=1,re).month,re=S(ee,re));var Q=this._getYear(h,re,0);le=60*u+le;var K=V===0?ee:V;this.timeScaleArray.push({position:le,value:K,unit:k,hour:V,day:ee,year:Q,month:D.monthMod(re)}),V++}}},{key:"generateMinuteScale",value:function(n){for(var i=n.currentMillisecond,c=n.currentSecond,A=n.currentMinute,h=n.currentHour,u=n.currentDate,p=n.currentMonth,x=n.currentYear,k=n.minutesWidthOnXAxis,F=n.secondsWidthOnXAxis,S=n.numberOfMinutes,P=A+1,O=u,G=p,V=x,ee=h,re=(60-c-i/1e3)*F,le=0;le<S;le++)P>=60&&(P=0,(ee+=1)===24&&(ee=0)),this.timeScaleArray.push({position:re,value:P,unit:"minute",hour:ee,minute:P,day:O,year:this._getYear(V,G,0),month:D.monthMod(G)}),re+=k,P++}},{key:"generateSecondScale",value:function(n){for(var i=n.currentMillisecond,c=n.currentSecond,A=n.currentMinute,h=n.currentHour,u=n.currentDate,p=n.currentMonth,x=n.currentYear,k=n.secondsWidthOnXAxis,F=n.numberOfSeconds,S=c+1,P=A,O=u,G=p,V=x,ee=h,re=(1e3-i)/1e3*k,le=0;le<F;le++)S>=60&&(S=0,++P>=60&&(P=0,++ee===24&&(ee=0))),this.timeScaleArray.push({position:re,value:S,unit:"second",hour:ee,minute:P,second:S,day:O,year:this._getYear(V,G,0),month:D.monthMod(G)}),re+=k,S++}},{key:"createRawDateString",value:function(n,i){var c=n.year;return n.month===0&&(n.month=1),c+="-"+("0"+n.month.toString()).slice(-2),n.unit==="day"?c+=n.unit==="day"?"-"+("0"+i).slice(-2):"-01":c+="-"+("0"+(n.day?n.day:"1")).slice(-2),n.unit==="hour"?c+=n.unit==="hour"?"T"+("0"+i).slice(-2):"T00":c+="T"+("0"+(n.hour?n.hour:"0")).slice(-2),n.unit==="minute"?c+=":"+("0"+i).slice(-2):c+=":"+(n.minute?("0"+n.minute).slice(-2):"00"),n.unit==="second"?c+=":"+("0"+i).slice(-2):c+=":00",this.utc&&(c+=".000Z"),c}},{key:"formatDates",value:function(n){var i=this,c=this.w;return n.map(function(A){var h=A.value.toString(),u=new $(i.ctx),p=i.createRawDateString(A,h),x=u.getDate(u.parseDate(p));if(i.utc||(x=u.getDate(u.parseDateWithTimezone(p))),c.config.xaxis.labels.format===void 0){var k="dd MMM",F=c.config.xaxis.labels.datetimeFormatter;A.unit==="year"&&(k=F.year),A.unit==="month"&&(k=F.month),A.unit==="day"&&(k=F.day),A.unit==="hour"&&(k=F.hour),A.unit==="minute"&&(k=F.minute),A.unit==="second"&&(k=F.second),h=u.formatDate(x,k)}else h=u.formatDate(x,c.config.xaxis.labels.format);return{dateString:p,position:A.position,value:h,unit:A.unit,year:A.year,month:A.month}})}},{key:"removeOverlappingTS",value:function(n){var i,c=this,A=new _(this.ctx),h=!1;n.length>0&&n[0].value&&n.every(function(x){return x.value.length===n[0].value.length})&&(h=!0,i=A.getTextRects(n[0].value).width);var u=0,p=n.map(function(x,k){if(k>0&&c.w.config.xaxis.labels.hideOverlappingLabels){var F=h?i:A.getTextRects(n[u].value).width,S=n[u].position;return x.position>S+F+10?(u=k,x):null}return x});return p=p.filter(function(x){return x!==null})}},{key:"_getYear",value:function(n,i,c){return n+Math.floor(i/12)+c}}]),se}(),Ui=function(){function se(n,i){o(this,se),this.ctx=i,this.w=i.w,this.el=n}return d(se,[{key:"setupElements",value:function(){var n=this.w,i=n.globals,c=n.config,A=c.chart.type;i.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(A),i.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(A),i.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(A)&&c.plotOptions.bar.horizontal,i.chartClass=".apexcharts".concat(i.chartID),i.dom.baseEl=this.el,i.dom.elWrap=document.createElement("div"),_.setAttrs(i.dom.elWrap,{id:i.chartClass.substring(1),class:"apexcharts-canvas ".concat(i.chartClass.substring(1))}),this.el.appendChild(i.dom.elWrap),i.dom.Paper=new window.SVG.Doc(i.dom.elWrap),i.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(c.chart.offsetX,", ").concat(c.chart.offsetY,")")}),i.dom.Paper.node.style.background=c.theme.mode!=="dark"||c.chart.background?c.theme.mode!=="light"||c.chart.background?c.chart.background:"#fff":"#424242",this.setSVGDimensions(),i.dom.elLegendForeign=document.createElementNS(i.SVGNS,"foreignObject"),_.setAttrs(i.dom.elLegendForeign,{x:0,y:0,width:i.svgWidth,height:i.svgHeight}),i.dom.elLegendWrap=document.createElement("div"),i.dom.elLegendWrap.classList.add("apexcharts-legend"),i.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),i.dom.elLegendForeign.appendChild(i.dom.elLegendWrap),i.dom.Paper.node.appendChild(i.dom.elLegendForeign),i.dom.elGraphical=i.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),i.dom.elDefs=i.dom.Paper.defs(),i.dom.Paper.add(i.dom.elGraphical),i.dom.elGraphical.add(i.dom.elDefs)}},{key:"plotChartType",value:function(n,i){var c=this.w,A=this.ctx,h=c.config,u=c.globals,p={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},x=h.chart.type||"line",k=null,F=0;u.series.forEach(function(ge,ce){var me=n[ce].type||x;p[me]?(me==="rangeArea"?(p[me].series.push(u.seriesRangeStart[ce]),p[me].seriesRangeEnd.push(u.seriesRangeEnd[ce])):p[me].series.push(ge),p[me].i.push(ce),me!=="column"&&me!=="bar"||(c.globals.columnSeries=p.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(me)?k=me:me==="bar"?(p.column.series.push(ge),p.column.i.push(ce)):console.warn("You have specified an unrecognized series type (".concat(me,").")),x!==me&&me!=="scatter"&&F++}),F>0&&(k&&console.warn("Chart or series type ".concat(k," cannot appear with other chart or series types.")),p.column.series.length>0&&h.plotOptions.bar.horizontal&&(F-=p.column.series.length,p.column={series:[],i:[]},c.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),u.comboCharts||(u.comboCharts=F>0);var S=new Ks(A,i),P=new Ar(A,i);A.pie=new qs(A);var O=new Xs(A);A.rangeBar=new fn(A,i);var G=new Qt(A),V=[];if(u.comboCharts){var ee,re,le=new ie(A);if(p.area.series.length>0&&(ee=V).push.apply(ee,C(le.drawSeriesByGroup(p.area,u.areaGroups,"area",S))),p.column.series.length>0)if(h.chart.stacked){var v=new _t(A,i);V.push(v.draw(p.column.series,p.column.i))}else A.bar=new vr(A,i),V.push(A.bar.draw(p.column.series,p.column.i));if(p.rangeArea.series.length>0&&V.push(S.draw(p.rangeArea.series,"rangeArea",p.rangeArea.i,p.rangeArea.seriesRangeEnd)),p.line.series.length>0&&(re=V).push.apply(re,C(le.drawSeriesByGroup(p.line,u.lineGroups,"line",S))),p.candlestick.series.length>0&&V.push(P.draw(p.candlestick.series,"candlestick",p.candlestick.i)),p.boxPlot.series.length>0&&V.push(P.draw(p.boxPlot.series,"boxPlot",p.boxPlot.i)),p.rangeBar.series.length>0&&V.push(A.rangeBar.draw(p.rangeBar.series,p.rangeBar.i)),p.scatter.series.length>0){var Q=new Ks(A,i,!0);V.push(Q.draw(p.scatter.series,"scatter",p.scatter.i))}if(p.bubble.series.length>0){var K=new Ks(A,i,!0);V.push(K.draw(p.bubble.series,"bubble",p.bubble.i))}}else switch(h.chart.type){case"line":V=S.draw(u.series,"line");break;case"area":V=S.draw(u.series,"area");break;case"bar":h.chart.stacked?V=new _t(A,i).draw(u.series):(A.bar=new vr(A,i),V=A.bar.draw(u.series));break;case"candlestick":V=new Ar(A,i).draw(u.series,"candlestick");break;case"boxPlot":V=new Ar(A,i).draw(u.series,h.chart.type);break;case"rangeBar":V=A.rangeBar.draw(u.series);break;case"rangeArea":V=S.draw(u.seriesRangeStart,"rangeArea",void 0,u.seriesRangeEnd);break;case"heatmap":V=new Ba(A,i).draw(u.series);break;case"treemap":V=new Ws(A,i).draw(u.series);break;case"pie":case"donut":case"polarArea":V=A.pie.draw(u.series);break;case"radialBar":V=O.draw(u.series);break;case"radar":V=G.draw(u.series);break;default:V=S.draw(u.series)}return V}},{key:"setSVGDimensions",value:function(){var n=this.w,i=n.globals,c=n.config;c.chart.width=c.chart.width||"100%",c.chart.height=c.chart.height||"auto",i.svgWidth=c.chart.width,i.svgHeight=c.chart.height;var A=D.getDimensions(this.el),h=c.chart.width.toString().split(/[0-9]+/g).pop();h==="%"?D.isNumber(A[0])&&(A[0].width===0&&(A=D.getDimensions(this.el.parentNode)),i.svgWidth=A[0]*parseInt(c.chart.width,10)/100):h!=="px"&&h!==""||(i.svgWidth=parseInt(c.chart.width,10));var u=String(c.chart.height).toString().split(/[0-9]+/g).pop();if(i.svgHeight!=="auto"&&i.svgHeight!=="")if(u==="%"){var p=D.getDimensions(this.el.parentNode);i.svgHeight=p[1]*parseInt(c.chart.height,10)/100}else i.svgHeight=parseInt(c.chart.height,10);else i.svgHeight=i.axisCharts?i.svgWidth/1.61:i.svgWidth/1.2;if(i.svgWidth=Math.max(i.svgWidth,0),i.svgHeight=Math.max(i.svgHeight,0),_.setAttrs(i.dom.Paper.node,{width:i.svgWidth,height:i.svgHeight}),u!=="%"){var x=c.chart.sparkline.enabled?0:i.axisCharts?c.chart.parentHeightOffset:0;i.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(i.svgHeight+x,"px")}i.dom.elWrap.style.width="".concat(i.svgWidth,"px"),i.dom.elWrap.style.height="".concat(i.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var n=this.w.globals,i=n.translateY,c=n.translateX;_.setAttrs(n.dom.elGraphical.node,{transform:"translate(".concat(c,", ").concat(i,")")})}},{key:"resizeNonAxisCharts",value:function(){var n=this.w,i=n.globals,c=0,A=n.config.chart.sparkline.enabled?1:15;A+=n.config.grid.padding.bottom,["top","bottom"].includes(n.config.legend.position)&&n.config.legend.show&&!n.config.legend.floating&&(c=new yt(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var h=n.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),u=2.05*n.globals.radialSize;if(h&&!n.config.chart.sparkline.enabled&&n.config.plotOptions.radialBar.startAngle!==0){var p=D.getBoundingClientRect(h);u=p.bottom;var x=p.bottom-p.top;u=Math.max(2.05*n.globals.radialSize,x)}var k=Math.ceil(u+i.translateY+c+A);i.dom.elLegendForeign&&i.dom.elLegendForeign.setAttribute("height",k),n.config.chart.height&&String(n.config.chart.height).includes("%")||(i.dom.elWrap.style.height="".concat(k,"px"),_.setAttrs(i.dom.Paper.node,{height:k}),i.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(k,"px"))}},{key:"coreCalculations",value:function(){new be(this.ctx).init()}},{key:"resetGlobals",value:function(){var n=this,i=function(){return n.w.config.series.map(function(){return[]})},c=new ke,A=this.w.globals;c.initGlobalVars(A),A.seriesXvalues=i(),A.seriesYvalues=i()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var n=this.w,i=null;if(n.globals.axisCharts){if(n.config.xaxis.crosshairs.position==="back"&&new pt(this.ctx).drawXCrosshairs(),n.config.yaxis[0].crosshairs.position==="back"&&new pt(this.ctx).drawYCrosshairs(),n.config.xaxis.type==="datetime"&&n.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new pn(this.ctx);var c=[];isFinite(n.globals.minX)&&isFinite(n.globals.maxX)&&!n.globals.isBarHorizontal?c=this.ctx.timeScale.calculateTimeScaleTicks(n.globals.minX,n.globals.maxX):n.globals.isBarHorizontal&&(c=this.ctx.timeScale.calculateTimeScaleTicks(n.globals.minY,n.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(c)}i=new ie(this.ctx).getCalculatedRatios()}return i}},{key:"updateSourceChart",value:function(n){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:n.w.globals.minX,max:n.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var n=this,i=this.w;if(i.config.chart.brush.enabled&&typeof i.config.chart.events.selection!="function"){var c=Array.isArray(i.config.chart.brush.targets)?i.config.chart.brush.targets:[i.config.chart.brush.target];c.forEach(function(A){var h=ApexCharts.getChartByID(A);h.w.globals.brushSource=n.ctx,typeof h.w.config.chart.events.zoomed!="function"&&(h.w.config.chart.events.zoomed=function(){return n.updateSourceChart(h)}),typeof h.w.config.chart.events.scrolled!="function"&&(h.w.config.chart.events.scrolled=function(){return n.updateSourceChart(h)})}),i.config.chart.events.selection=function(A,h){c.forEach(function(u){ApexCharts.getChartByID(u).ctx.updateHelpers._updateOptions({xaxis:{min:h.xaxis.min,max:h.xaxis.max}},!1,!1,!1,!1)})}}}}]),se}(),mo=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"_updateOptions",value:function(n){var i=this,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],A=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],u=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(p){var x=[i.ctx];h&&(x=i.ctx.getSyncedCharts()),i.ctx.w.globals.isExecCalled&&(x=[i.ctx],i.ctx.w.globals.isExecCalled=!1),x.forEach(function(k,F){var S=k.w;if(S.globals.shouldAnimate=A,c||(S.globals.resized=!0,S.globals.dataChanged=!0,A&&k.series.getPreviousPaths()),n&&T(n)==="object"&&(k.config=new he(n),n=ie.extendArrayProps(k.config,n,S),k.w.globals.chartID!==i.ctx.w.globals.chartID&&delete n.series,S.config=D.extend(S.config,n),u&&(S.globals.lastXAxis=n.xaxis?D.clone(n.xaxis):[],S.globals.lastYAxis=n.yaxis?D.clone(n.yaxis):[],S.globals.initialConfig=D.extend({},S.config),S.globals.initialSeries=D.clone(S.config.series),n.series))){for(var P=0;P<S.globals.collapsedSeriesIndices.length;P++){var O=S.config.series[S.globals.collapsedSeriesIndices[P]];S.globals.collapsedSeries[P].data=S.globals.axisCharts?O.data.slice():O}for(var G=0;G<S.globals.ancillaryCollapsedSeriesIndices.length;G++){var V=S.config.series[S.globals.ancillaryCollapsedSeriesIndices[G]];S.globals.ancillaryCollapsedSeries[G].data=S.globals.axisCharts?V.data.slice():V}k.series.emptyCollapsedSeries(S.config.series)}return k.update(n).then(function(){F===x.length-1&&p(k)})})})}},{key:"_updateSeries",value:function(n,i){var c=this,A=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(h){var u,p=c.w;return p.globals.shouldAnimate=i,p.globals.dataChanged=!0,i&&c.ctx.series.getPreviousPaths(),p.globals.axisCharts?((u=n.map(function(x,k){return c._extendSeries(x,k)})).length===0&&(u=[{data:[]}]),p.config.series=u):p.config.series=n.slice(),A&&(p.globals.initialConfig.series=D.clone(p.config.series),p.globals.initialSeries=D.clone(p.config.series)),c.ctx.update().then(function(){h(c.ctx)})})}},{key:"_extendSeries",value:function(n,i){var c=this.w,A=c.config.series[i];return U(U({},c.config.series[i]),{},{name:n.name?n.name:A==null?void 0:A.name,color:n.color?n.color:A==null?void 0:A.color,type:n.type?n.type:A==null?void 0:A.type,group:n.group?n.group:A==null?void 0:A.group,hidden:n.hidden!==void 0?n.hidden:A==null?void 0:A.hidden,data:n.data?n.data:A==null?void 0:A.data,zIndex:n.zIndex!==void 0?n.zIndex:i})}},{key:"toggleDataPointSelection",value:function(n,i){var c=this.w,A=null,h=".apexcharts-series[data\\:realIndex='".concat(n,"']");return c.globals.axisCharts?A=c.globals.dom.Paper.select("".concat(h," path[j='").concat(i,"'], ").concat(h," circle[j='").concat(i,"'], ").concat(h," rect[j='").concat(i,"']")).members[0]:i===void 0&&(A=c.globals.dom.Paper.select("".concat(h," path[j='").concat(n,"']")).members[0],c.config.chart.type!=="pie"&&c.config.chart.type!=="polarArea"&&c.config.chart.type!=="donut"||this.ctx.pie.pieClicked(n)),A?(new _(this.ctx).pathMouseDown(A,null),A.node?A.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(n){var i=this.w;if(["min","max"].forEach(function(A){n.xaxis[A]!==void 0&&(i.config.xaxis[A]=n.xaxis[A],i.globals.lastXAxis[A]=n.xaxis[A])}),n.xaxis.categories&&n.xaxis.categories.length&&(i.config.xaxis.categories=n.xaxis.categories),i.config.xaxis.convertedCatToNumeric){var c=new Ae(n);n=c.convertCatToNumericXaxis(n,this.ctx)}return n}},{key:"forceYAxisUpdate",value:function(n){return n.chart&&n.chart.stacked&&n.chart.stackType==="100%"&&(Array.isArray(n.yaxis)?n.yaxis.forEach(function(i,c){n.yaxis[c].min=0,n.yaxis[c].max=100}):(n.yaxis.min=0,n.yaxis.max=100)),n}},{key:"revertDefaultAxisMinMax",value:function(n){var i=this,c=this.w,A=c.globals.lastXAxis,h=c.globals.lastYAxis;n&&n.xaxis&&(A=n.xaxis),n&&n.yaxis&&(h=n.yaxis),c.config.xaxis.min=A.min,c.config.xaxis.max=A.max;var u=function(p){h[p]!==void 0&&(c.config.yaxis[p].min=h[p].min,c.config.yaxis[p].max=h[p].max)};c.config.yaxis.map(function(p,x){c.globals.zoomed||h[x]!==void 0?u(x):i.ctx.opts.yaxis[x]!==void 0&&(p.min=i.ctx.opts.yaxis[x].min,p.max=i.ctx.opts.yaxis[x].max)})}}]),se}();ja=typeof window<"u"?window:void 0,$a=function(se,n){var i=(this!==void 0?this:se).SVG=function(v){if(i.supported)return v=new i.Doc(v),i.parser.draw||i.prepare(),v};if(i.ns="http://www.w3.org/2000/svg",i.xmlns="http://www.w3.org/2000/xmlns/",i.xlink="http://www.w3.org/1999/xlink",i.svgjs="http://svgjs.dev",i.supported=!0,!i.supported)return!1;i.did=1e3,i.eid=function(v){return"Svgjs"+F(v)+i.did++},i.create=function(v){var Q=n.createElementNS(this.ns,v);return Q.setAttribute("id",this.eid(v)),Q},i.extend=function(){var v,Q;Q=(v=[].slice.call(arguments)).pop();for(var K=v.length-1;K>=0;K--)if(v[K])for(var ge in Q)v[K].prototype[ge]=Q[ge];i.Set&&i.Set.inherit&&i.Set.inherit()},i.invent=function(v){var Q=typeof v.create=="function"?v.create:function(){this.constructor.call(this,i.create(v.create))};return v.inherit&&(Q.prototype=new v.inherit),v.extend&&i.extend(Q,v.extend),v.construct&&i.extend(v.parent||i.Container,v.construct),Q},i.adopt=function(v){return v?v.instance?v.instance:((Q=v.nodeName=="svg"?v.parentNode instanceof se.SVGElement?new i.Nested:new i.Doc:v.nodeName=="linearGradient"?new i.Gradient("linear"):v.nodeName=="radialGradient"?new i.Gradient("radial"):i[F(v.nodeName)]?new i[F(v.nodeName)]:new i.Element(v)).type=v.nodeName,Q.node=v,v.instance=Q,Q instanceof i.Doc&&Q.namespace().defs(),Q.setData(JSON.parse(v.getAttribute("svgjs:data"))||{}),Q):null;var Q},i.prepare=function(){var v=n.getElementsByTagName("body")[0],Q=(v?new i.Doc(v):i.adopt(n.documentElement).nested()).size(2,0);i.parser={body:v||n.documentElement,draw:Q.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:Q.polyline().node,path:Q.path().node,native:i.create("svg")}},i.parser={native:i.create("svg")},n.addEventListener("DOMContentLoaded",function(){i.parser.draw||i.prepare()},!1),i.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},i.utils={map:function(v,Q){for(var K=v.length,ge=[],ce=0;ce<K;ce++)ge.push(Q(v[ce]));return ge},filter:function(v,Q){for(var K=v.length,ge=[],ce=0;ce<K;ce++)Q(v[ce])&&ge.push(v[ce]);return ge},filterSVGElements:function(v){return this.filter(v,function(Q){return Q instanceof se.SVGElement})}},i.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},i.Color=function(v){var Q,K;this.r=0,this.g=0,this.b=0,v&&(typeof v=="string"?i.regex.isRgb.test(v)?(Q=i.regex.rgb.exec(v.replace(i.regex.whitespace,"")),this.r=parseInt(Q[1]),this.g=parseInt(Q[2]),this.b=parseInt(Q[3])):i.regex.isHex.test(v)&&(Q=i.regex.hex.exec((K=v).length==4?["#",K.substring(1,2),K.substring(1,2),K.substring(2,3),K.substring(2,3),K.substring(3,4),K.substring(3,4)].join(""):K),this.r=parseInt(Q[1],16),this.g=parseInt(Q[2],16),this.b=parseInt(Q[3],16)):T(v)==="object"&&(this.r=v.r,this.g=v.g,this.b=v.b))},i.extend(i.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+S(this.r)+S(this.g)+S(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(v){return this.destination=new i.Color(v),this},at:function(v){return this.destination?(v=v<0?0:v>1?1:v,new i.Color({r:~~(this.r+(this.destination.r-this.r)*v),g:~~(this.g+(this.destination.g-this.g)*v),b:~~(this.b+(this.destination.b-this.b)*v)})):this}}),i.Color.test=function(v){return v+="",i.regex.isHex.test(v)||i.regex.isRgb.test(v)},i.Color.isRgb=function(v){return v&&typeof v.r=="number"&&typeof v.g=="number"&&typeof v.b=="number"},i.Color.isColor=function(v){return i.Color.isRgb(v)||i.Color.test(v)},i.Array=function(v,Q){(v=(v||[]).valueOf()).length==0&&Q&&(v=Q.valueOf()),this.value=this.parse(v)},i.extend(i.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(v){return v=v.valueOf(),Array.isArray(v)?v:this.split(v)}}),i.PointArray=function(v,Q){i.Array.call(this,v,Q||[[0,0]])},i.PointArray.prototype=new i.Array,i.PointArray.prototype.constructor=i.PointArray;for(var c={M:function(v,Q,K){return Q.x=K.x=v[0],Q.y=K.y=v[1],["M",Q.x,Q.y]},L:function(v,Q){return Q.x=v[0],Q.y=v[1],["L",v[0],v[1]]},H:function(v,Q){return Q.x=v[0],["H",v[0]]},V:function(v,Q){return Q.y=v[0],["V",v[0]]},C:function(v,Q){return Q.x=v[4],Q.y=v[5],["C",v[0],v[1],v[2],v[3],v[4],v[5]]},Q:function(v,Q){return Q.x=v[2],Q.y=v[3],["Q",v[0],v[1],v[2],v[3]]},S:function(v,Q){return Q.x=v[2],Q.y=v[3],["S",v[0],v[1],v[2],v[3]]},Z:function(v,Q,K){return Q.x=K.x,Q.y=K.y,["Z"]}},A="mlhvqtcsaz".split(""),h=0,u=A.length;h<u;++h)c[A[h]]=function(v){return function(Q,K,ge){if(v=="H")Q[0]=Q[0]+K.x;else if(v=="V")Q[0]=Q[0]+K.y;else if(v=="A")Q[5]=Q[5]+K.x,Q[6]=Q[6]+K.y;else for(var ce=0,me=Q.length;ce<me;++ce)Q[ce]=Q[ce]+(ce%2?K.y:K.x);if(c&&typeof c[v]=="function")return c[v](Q,K,ge)}}(A[h].toUpperCase());i.PathArray=function(v,Q){i.Array.call(this,v,Q||[["M",0,0]])},i.PathArray.prototype=new i.Array,i.PathArray.prototype.constructor=i.PathArray,i.extend(i.PathArray,{toString:function(){return function(v){for(var Q=0,K=v.length,ge="";Q<K;Q++)ge+=v[Q][0],v[Q][1]!=null&&(ge+=v[Q][1],v[Q][2]!=null&&(ge+=" ",ge+=v[Q][2],v[Q][3]!=null&&(ge+=" ",ge+=v[Q][3],ge+=" ",ge+=v[Q][4],v[Q][5]!=null&&(ge+=" ",ge+=v[Q][5],ge+=" ",ge+=v[Q][6],v[Q][7]!=null&&(ge+=" ",ge+=v[Q][7])))));return ge+" "}(this.value)},move:function(v,Q){var K=this.bbox();return K.x,K.y,this},at:function(v){if(!this.destination)return this;for(var Q=this.value,K=this.destination.value,ge=[],ce=new i.PathArray,me=0,Fe=Q.length;me<Fe;me++){ge[me]=[Q[me][0]];for(var Ie=1,ze=Q[me].length;Ie<ze;Ie++)ge[me][Ie]=Q[me][Ie]+(K[me][Ie]-Q[me][Ie])*v;ge[me][0]==="A"&&(ge[me][4]=+(ge[me][4]!=0),ge[me][5]=+(ge[me][5]!=0))}return ce.value=ge,ce},parse:function(v){if(v instanceof i.PathArray)return v.valueOf();var Q,K={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};v=typeof v=="string"?v.replace(i.regex.numbersWithDots,x).replace(i.regex.pathLetters," $& ").replace(i.regex.hyphen,"$1 -").trim().split(i.regex.delimiter):v.reduce(function(ze,Ze){return[].concat.call(ze,Ze)},[]);var ge=[],ce=new i.Point,me=new i.Point,Fe=0,Ie=v.length;do i.regex.isPathLetter.test(v[Fe])?(Q=v[Fe],++Fe):Q=="M"?Q="L":Q=="m"&&(Q="l"),ge.push(c[Q].call(null,v.slice(Fe,Fe+=K[Q.toUpperCase()]).map(parseFloat),ce,me));while(Ie>Fe);return ge},bbox:function(){return i.parser.draw||i.prepare(),i.parser.path.setAttribute("d",this.toString()),i.parser.path.getBBox()}}),i.Number=i.invent({create:function(v,Q){this.value=0,this.unit=Q||"",typeof v=="number"?this.value=isNaN(v)?0:isFinite(v)?v:v<0?-34e37:34e37:typeof v=="string"?(Q=v.match(i.regex.numberAndUnit))&&(this.value=parseFloat(Q[1]),Q[5]=="%"?this.value/=100:Q[5]=="s"&&(this.value*=1e3),this.unit=Q[5]):v instanceof i.Number&&(this.value=v.valueOf(),this.unit=v.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(v){return v=new i.Number(v),new i.Number(this+v,this.unit||v.unit)},minus:function(v){return v=new i.Number(v),new i.Number(this-v,this.unit||v.unit)},times:function(v){return v=new i.Number(v),new i.Number(this*v,this.unit||v.unit)},divide:function(v){return v=new i.Number(v),new i.Number(this/v,this.unit||v.unit)},to:function(v){var Q=new i.Number(this);return typeof v=="string"&&(Q.unit=v),Q},morph:function(v){return this.destination=new i.Number(v),v.relative&&(this.destination.value+=this.value),this},at:function(v){return this.destination?new i.Number(this.destination).minus(this).times(v).plus(this):this}}}),i.Element=i.invent({create:function(v){this._stroke=i.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=v)&&(this.type=v.nodeName,this.node.instance=this,this._stroke=v.getAttribute("stroke")||this._stroke)},extend:{x:function(v){return this.attr("x",v)},y:function(v){return this.attr("y",v)},cx:function(v){return v==null?this.x()+this.width()/2:this.x(v-this.width()/2)},cy:function(v){return v==null?this.y()+this.height()/2:this.y(v-this.height()/2)},move:function(v,Q){return this.x(v).y(Q)},center:function(v,Q){return this.cx(v).cy(Q)},width:function(v){return this.attr("width",v)},height:function(v){return this.attr("height",v)},size:function(v,Q){var K=P(this,v,Q);return this.width(new i.Number(K.width)).height(new i.Number(K.height))},clone:function(v){this.writeDataToDom();var Q=V(this.node.cloneNode(!0));return v?v.add(Q):this.after(Q),Q},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(v){return this.after(v).remove(),v},addTo:function(v){return v.put(this)},putIn:function(v){return v.add(this)},id:function(v){return this.attr("id",v)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var v=this.attr("class");return v==null?[]:v.trim().split(i.regex.delimiter)},hasClass:function(v){return this.classes().indexOf(v)!=-1},addClass:function(v){if(!this.hasClass(v)){var Q=this.classes();Q.push(v),this.attr("class",Q.join(" "))}return this},removeClass:function(v){return this.hasClass(v)&&this.attr("class",this.classes().filter(function(Q){return Q!=v}).join(" ")),this},toggleClass:function(v){return this.hasClass(v)?this.removeClass(v):this.addClass(v)},reference:function(v){return i.get(this.attr(v))},parent:function(v){var Q=this;if(!Q.node.parentNode)return null;if(Q=i.adopt(Q.node.parentNode),!v)return Q;for(;Q&&Q.node instanceof se.SVGElement;){if(typeof v=="string"?Q.matches(v):Q instanceof v)return Q;if(!Q.node.parentNode||Q.node.parentNode.nodeName=="#document")return null;Q=i.adopt(Q.node.parentNode)}},doc:function(){return this instanceof i.Doc?this:this.parent(i.Doc)},parents:function(v){var Q=[],K=this;do{if(!(K=K.parent(v))||!K.node)break;Q.push(K)}while(K.parent);return Q},matches:function(v){return function(Q,K){return(Q.matches||Q.matchesSelector||Q.msMatchesSelector||Q.mozMatchesSelector||Q.webkitMatchesSelector||Q.oMatchesSelector).call(Q,K)}(this.node,v)},native:function(){return this.node},svg:function(v){var Q=n.createElementNS("http://www.w3.org/2000/svg","svg");if(!(v&&this instanceof i.Parent))return Q.appendChild(v=n.createElementNS("http://www.w3.org/2000/svg","svg")),this.writeDataToDom(),v.appendChild(this.node.cloneNode(!0)),Q.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");Q.innerHTML="<svg>"+v.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var K=0,ge=Q.firstChild.childNodes.length;K<ge;K++)this.node.appendChild(Q.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(v){return this.dom=v,this},is:function(v){return function(Q,K){return Q instanceof K}(this,v)}}}),i.easing={"-":function(v){return v},"<>":function(v){return-Math.cos(v*Math.PI)/2+.5},">":function(v){return Math.sin(v*Math.PI/2)},"<":function(v){return 1-Math.cos(v*Math.PI/2)}},i.morph=function(v){return function(Q,K){return new i.MorphObj(Q,K).at(v)}},i.Situation=i.invent({create:function(v){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new i.Number(v.duration).valueOf(),this.delay=new i.Number(v.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=v.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),i.FX=i.invent({create:function(v){this._target=v,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(v,Q,K){T(v)==="object"&&(Q=v.ease,K=v.delay,v=v.duration);var ge=new i.Situation({duration:v||1e3,delay:K||0,ease:i.easing[Q||"-"]||Q});return this.queue(ge),this},target:function(v){return v&&v instanceof i.Element?(this._target=v,this):this._target},timeToAbsPos:function(v){return(v-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(v){return this.situation.duration/this._speed*v+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=se.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){se.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(v){return(typeof v=="function"||v instanceof i.Situation)&&this.situations.push(v),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof i.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var v,Q=this.situation;if(Q.init)return this;for(var K in Q.animations){v=this.target()[K](),Array.isArray(v)||(v=[v]),Array.isArray(Q.animations[K])||(Q.animations[K]=[Q.animations[K]]);for(var ge=v.length;ge--;)Q.animations[K][ge]instanceof i.Number&&(v[ge]=new i.Number(v[ge])),Q.animations[K][ge]=v[ge].morph(Q.animations[K][ge])}for(var K in Q.attrs)Q.attrs[K]=new i.MorphObj(this.target().attr(K),Q.attrs[K]);for(var K in Q.styles)Q.styles[K]=new i.MorphObj(this.target().style(K),Q.styles[K]);return Q.initialTransformation=this.target().matrixify(),Q.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(v,Q){var K=this.active;return this.active=!1,Q&&this.clearQueue(),v&&this.situation&&(!K&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(v){var Q=this.last();return this.target().on("finished.fx",function K(ge){ge.detail.situation==Q&&(v.call(this,Q),this.off("finished.fx",K))}),this._callStart()},during:function(v){var Q=this.last(),K=function(ge){ge.detail.situation==Q&&v.call(this,ge.detail.pos,i.morph(ge.detail.pos),ge.detail.eased,Q)};return this.target().off("during.fx",K).on("during.fx",K),this.after(function(){this.off("during.fx",K)}),this._callStart()},afterAll:function(v){var Q=function K(ge){v.call(this),this.off("allfinished.fx",K)};return this.target().off("allfinished.fx",Q).on("allfinished.fx",Q),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(v,Q,K){return this.last()[K||"animations"][v]=Q,this._callStart()},step:function(v){var Q,K,ge;v||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(Q=Math.max(this.absPos,0),K=Math.floor(Q),this.situation.loops===!0||K<this.situation.loops?(this.pos=Q-K,ge=this.situation.loop,this.situation.loop=K):(this.absPos=this.situation.loops,this.pos=1,ge=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-ge)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var ce=this.situation.ease(this.pos);for(var me in this.situation.once)me>this.lastPos&&me<=ce&&(this.situation.once[me].call(this.target(),this.pos,ce),delete this.situation.once[me]);return this.active&&this.target().fire("during",{pos:this.pos,eased:ce,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=ce,this):this},eachAt:function(){var v,Q=this,K=this.target(),ge=this.situation;for(var ce in ge.animations)v=[].concat(ge.animations[ce]).map(function(Ie){return typeof Ie!="string"&&Ie.at?Ie.at(ge.ease(Q.pos),Q.pos):Ie}),K[ce].apply(K,v);for(var ce in ge.attrs)v=[ce].concat(ge.attrs[ce]).map(function(ze){return typeof ze!="string"&&ze.at?ze.at(ge.ease(Q.pos),Q.pos):ze}),K.attr.apply(K,v);for(var ce in ge.styles)v=[ce].concat(ge.styles[ce]).map(function(ze){return typeof ze!="string"&&ze.at?ze.at(ge.ease(Q.pos),Q.pos):ze}),K.style.apply(K,v);if(ge.transforms.length){v=ge.initialTransformation,ce=0;for(var me=ge.transforms.length;ce<me;ce++){var Fe=ge.transforms[ce];Fe instanceof i.Matrix?v=Fe.relative?v.multiply(new i.Matrix().morph(Fe).at(ge.ease(this.pos))):v.morph(Fe).at(ge.ease(this.pos)):(Fe.relative||Fe.undo(v.extract()),v=v.multiply(Fe.at(ge.ease(this.pos))))}K.matrix(v)}return this},once:function(v,Q,K){var ge=this.last();return K||(v=ge.ease(v)),ge.once[v]=Q,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:i.Element,construct:{animate:function(v,Q,K){return(this.fx||(this.fx=new i.FX(this))).animate(v,Q,K)},delay:function(v){return(this.fx||(this.fx=new i.FX(this))).delay(v)},stop:function(v,Q){return this.fx&&this.fx.stop(v,Q),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),i.MorphObj=i.invent({create:function(v,Q){return i.Color.isColor(Q)?new i.Color(v).morph(Q):i.regex.delimiter.test(v)?i.regex.pathLetters.test(v)?new i.PathArray(v).morph(Q):new i.Array(v).morph(Q):i.regex.numberAndUnit.test(Q)?new i.Number(v).morph(Q):(this.value=v,void(this.destination=Q))},extend:{at:function(v,Q){return Q<1?this.value:this.destination},valueOf:function(){return this.value}}}),i.extend(i.FX,{attr:function(v,Q,K){if(T(v)==="object")for(var ge in v)this.attr(ge,v[ge]);else this.add(v,Q,"attrs");return this},plot:function(v,Q,K,ge){return arguments.length==4?this.plot([v,Q,K,ge]):this.add("plot",new(this.target()).morphArray(v))}}),i.Box=i.invent({create:function(v,Q,K,ge){if(!(T(v)!=="object"||v instanceof i.Element))return i.Box.call(this,v.left!=null?v.left:v.x,v.top!=null?v.top:v.y,v.width,v.height);var ce;arguments.length==4&&(this.x=v,this.y=Q,this.width=K,this.height=ge),(ce=this).x==null&&(ce.x=0,ce.y=0,ce.width=0,ce.height=0),ce.w=ce.width,ce.h=ce.height,ce.x2=ce.x+ce.width,ce.y2=ce.y+ce.height,ce.cx=ce.x+ce.width/2,ce.cy=ce.y+ce.height/2}}),i.BBox=i.invent({create:function(v){if(i.Box.apply(this,[].slice.call(arguments)),v instanceof i.Element){var Q;try{if(!n.documentElement.contains){for(var K=v.node;K.parentNode;)K=K.parentNode;if(K!=n)throw new Error("Element not in the dom")}Q=v.node.getBBox()}catch{if(v instanceof i.Shape){i.parser.draw||i.prepare();var ge=v.clone(i.parser.draw.instance).show();ge&&ge.node&&typeof ge.node.getBBox=="function"&&(Q=ge.node.getBBox()),ge&&typeof ge.remove=="function"&&ge.remove()}else Q={x:v.node.clientLeft,y:v.node.clientTop,width:v.node.clientWidth,height:v.node.clientHeight}}i.Box.call(this,Q)}},inherit:i.Box,parent:i.Element,construct:{bbox:function(){return new i.BBox(this)}}}),i.BBox.prototype.constructor=i.BBox,i.Matrix=i.invent({create:function(v){var Q=G([1,0,0,1,0,0]);v=v===null?Q:v instanceof i.Element?v.matrixify():typeof v=="string"?G(v.split(i.regex.delimiter).map(parseFloat)):arguments.length==6?G([].slice.call(arguments)):Array.isArray(v)?G(v):v&&T(v)==="object"?v:Q;for(var K=re.length-1;K>=0;--K)this[re[K]]=v[re[K]]!=null?v[re[K]]:Q[re[K]]},extend:{extract:function(){var v=O(this,0,1);O(this,1,0);var Q=180/Math.PI*Math.atan2(v.y,v.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(Q*Math.PI/180)+this.f*Math.sin(Q*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(Q*Math.PI/180)+this.e*Math.sin(-Q*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:Q,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new i.Matrix(this)}},clone:function(){return new i.Matrix(this)},morph:function(v){return this.destination=new i.Matrix(v),this},multiply:function(v){return new i.Matrix(this.native().multiply(function(Q){return Q instanceof i.Matrix||(Q=new i.Matrix(Q)),Q}(v).native()))},inverse:function(){return new i.Matrix(this.native().inverse())},translate:function(v,Q){return new i.Matrix(this.native().translate(v||0,Q||0))},native:function(){for(var v=i.parser.native.createSVGMatrix(),Q=re.length-1;Q>=0;Q--)v[re[Q]]=this[re[Q]];return v},toString:function(){return"matrix("+ee(this.a)+","+ee(this.b)+","+ee(this.c)+","+ee(this.d)+","+ee(this.e)+","+ee(this.f)+")"}},parent:i.Element,construct:{ctm:function(){return new i.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof i.Nested){var v=this.rect(1,1),Q=v.node.getScreenCTM();return v.remove(),new i.Matrix(Q)}return new i.Matrix(this.node.getScreenCTM())}}}),i.Point=i.invent({create:function(v,Q){var K;K=Array.isArray(v)?{x:v[0],y:v[1]}:T(v)==="object"?{x:v.x,y:v.y}:v!=null?{x:v,y:Q??v}:{x:0,y:0},this.x=K.x,this.y=K.y},extend:{clone:function(){return new i.Point(this)},morph:function(v,Q){return this.destination=new i.Point(v,Q),this}}}),i.extend(i.Element,{point:function(v,Q){return new i.Point(v,Q).transform(this.screenCTM().inverse())}}),i.extend(i.Element,{attr:function(v,Q,K){if(v==null){for(v={},K=(Q=this.node.attributes).length-1;K>=0;K--)v[Q[K].nodeName]=i.regex.isNumber.test(Q[K].nodeValue)?parseFloat(Q[K].nodeValue):Q[K].nodeValue;return v}if(T(v)==="object")for(var ge in v)this.attr(ge,v[ge]);else if(Q===null)this.node.removeAttribute(v);else{if(Q==null)return(Q=this.node.getAttribute(v))==null?i.defaults.attrs[v]:i.regex.isNumber.test(Q)?parseFloat(Q):Q;v=="stroke-width"?this.attr("stroke",parseFloat(Q)>0?this._stroke:null):v=="stroke"&&(this._stroke=Q),v!="fill"&&v!="stroke"||(i.regex.isImage.test(Q)&&(Q=this.doc().defs().image(Q,0,0)),Q instanceof i.Image&&(Q=this.doc().defs().pattern(0,0,function(){this.add(Q)}))),typeof Q=="number"?Q=new i.Number(Q):i.Color.isColor(Q)?Q=new i.Color(Q):Array.isArray(Q)&&(Q=new i.Array(Q)),v=="leading"?this.leading&&this.leading(Q):typeof K=="string"?this.node.setAttributeNS(K,v,Q.toString()):this.node.setAttribute(v,Q.toString()),!this.rebuild||v!="font-size"&&v!="x"||this.rebuild(v,Q)}return this}}),i.extend(i.Element,{transform:function(v,Q){var K;return T(v)!=="object"?(K=new i.Matrix(this).extract(),typeof v=="string"?K[v]:K):(K=new i.Matrix(this),Q=!!Q||!!v.relative,v.a!=null&&(K=Q?K.multiply(new i.Matrix(v)):new i.Matrix(v)),this.attr("transform",K))}}),i.extend(i.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(i.regex.transforms).slice(0,-1).map(function(v){var Q=v.trim().split("(");return[Q[0],Q[1].split(i.regex.delimiter).map(function(K){return parseFloat(K)})]}).reduce(function(v,Q){return Q[0]=="matrix"?v.multiply(G(Q[1])):v[Q[0]].apply(v,Q[1])},new i.Matrix)},toParent:function(v){if(this==v)return this;var Q=this.screenCTM(),K=v.screenCTM().inverse();return this.addTo(v).untransform().transform(K.multiply(Q)),this},toDoc:function(){return this.toParent(this.doc())}}),i.Transformation=i.invent({create:function(v,Q){if(arguments.length>1&&typeof Q!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(v))for(var K=0,ge=this.arguments.length;K<ge;++K)this[this.arguments[K]]=v[K];else if(v&&T(v)==="object")for(K=0,ge=this.arguments.length;K<ge;++K)this[this.arguments[K]]=v[this.arguments[K]];this.inversed=!1,Q===!0&&(this.inversed=!0)}}),i.Translate=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(v,Q){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),i.extend(i.Element,{style:function(v,Q){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(T(v)==="object")for(var K in v)this.style(K,v[K]);else{if(!i.regex.isCss.test(v))return this.node.style[k(v)];for(v=v.split(/\s*;\s*/).filter(function(ge){return!!ge}).map(function(ge){return ge.split(/\s*:\s*/)});Q=v.pop();)this.style(Q[0],Q[1])}else this.node.style[k(v)]=Q===null||i.regex.isBlank.test(Q)?"":Q;return this}}),i.Parent=i.invent({create:function(v){this.constructor.call(this,v)},inherit:i.Element,extend:{children:function(){return i.utils.map(i.utils.filterSVGElements(this.node.childNodes),function(v){return i.adopt(v)})},add:function(v,Q){return Q==null?this.node.appendChild(v.node):v.node!=this.node.childNodes[Q]&&this.node.insertBefore(v.node,this.node.childNodes[Q]),this},put:function(v,Q){return this.add(v,Q),v},has:function(v){return this.index(v)>=0},index:function(v){return[].slice.call(this.node.childNodes).indexOf(v.node)},get:function(v){return i.adopt(this.node.childNodes[v])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(v,Q){for(var K=this.children(),ge=0,ce=K.length;ge<ce;ge++)K[ge]instanceof i.Element&&v.apply(K[ge],[ge,K]),Q&&K[ge]instanceof i.Container&&K[ge].each(v,Q);return this},removeElement:function(v){return this.node.removeChild(v.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),i.extend(i.Parent,{ungroup:function(v,Q){return Q===0||this instanceof i.Defs||this.node==i.parser.draw||(v=v||(this instanceof i.Doc?this:this.parent(i.Parent)),Q=Q||1/0,this.each(function(){return this instanceof i.Defs?this:this instanceof i.Parent?this.ungroup(v,Q-1):this.toParent(v)}),this.node.firstChild||this.remove()),this},flatten:function(v,Q){return this.ungroup(v,Q)}}),i.Container=i.invent({create:function(v){this.constructor.call(this,v)},inherit:i.Parent}),i.ViewBox=i.invent({parent:i.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(v){i.Element.prototype[v]=function(Q){return i.on(this.node,v,Q),this}}),i.listeners=[],i.handlerMap=[],i.listenerId=0,i.on=function(v,Q,K,ge,ce){var me=K.bind(ge||v.instance||v),Fe=(i.handlerMap.indexOf(v)+1||i.handlerMap.push(v))-1,Ie=Q.split(".")[0],ze=Q.split(".")[1]||"*";i.listeners[Fe]=i.listeners[Fe]||{},i.listeners[Fe][Ie]=i.listeners[Fe][Ie]||{},i.listeners[Fe][Ie][ze]=i.listeners[Fe][Ie][ze]||{},K._svgjsListenerId||(K._svgjsListenerId=++i.listenerId),i.listeners[Fe][Ie][ze][K._svgjsListenerId]=me,v.addEventListener(Ie,me,ce||{passive:!1})},i.off=function(v,Q,K){var ge=i.handlerMap.indexOf(v),ce=Q&&Q.split(".")[0],me=Q&&Q.split(".")[1],Fe="";if(ge!=-1)if(K){if(typeof K=="function"&&(K=K._svgjsListenerId),!K)return;i.listeners[ge][ce]&&i.listeners[ge][ce][me||"*"]&&(v.removeEventListener(ce,i.listeners[ge][ce][me||"*"][K],!1),delete i.listeners[ge][ce][me||"*"][K])}else if(me&&ce){if(i.listeners[ge][ce]&&i.listeners[ge][ce][me]){for(var Ie in i.listeners[ge][ce][me])i.off(v,[ce,me].join("."),Ie);delete i.listeners[ge][ce][me]}}else if(me)for(var ze in i.listeners[ge])for(var Fe in i.listeners[ge][ze])me===Fe&&i.off(v,[ze,me].join("."));else if(ce){if(i.listeners[ge][ce]){for(var Fe in i.listeners[ge][ce])i.off(v,[ce,Fe].join("."));delete i.listeners[ge][ce]}}else{for(var ze in i.listeners[ge])i.off(v,ze);delete i.listeners[ge],delete i.handlerMap[ge]}},i.extend(i.Element,{on:function(v,Q,K,ge){return i.on(this.node,v,Q,K,ge),this},off:function(v,Q){return i.off(this.node,v,Q),this},fire:function(v,Q){return v instanceof se.Event?this.node.dispatchEvent(v):this.node.dispatchEvent(v=new i.CustomEvent(v,{detail:Q,cancelable:!0})),this._event=v,this},event:function(){return this._event}}),i.Defs=i.invent({create:"defs",inherit:i.Container}),i.G=i.invent({create:"g",inherit:i.Container,extend:{x:function(v){return v==null?this.transform("x"):this.transform({x:v-this.x()},!0)}},construct:{group:function(){return this.put(new i.G)}}}),i.Doc=i.invent({create:function(v){v&&((v=typeof v=="string"?n.getElementById(v):v).nodeName=="svg"?this.constructor.call(this,v):(this.constructor.call(this,i.create("svg")),v.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:i.Container,extend:{namespace:function(){return this.attr({xmlns:i.ns,version:"1.1"}).attr("xmlns:xlink",i.xlink,i.xmlns).attr("xmlns:svgjs",i.svgjs,i.xmlns)},defs:function(){var v;return this._defs||((v=this.node.getElementsByTagName("defs")[0])?this._defs=i.adopt(v):this._defs=new i.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,i.parser.draw&&!i.parser.draw.parentNode&&this.node.appendChild(i.parser.draw),this},clone:function(v){this.writeDataToDom();var Q=this.node,K=V(Q.cloneNode(!0));return v?(v.node||v).appendChild(K.node):Q.parentNode.insertBefore(K.node,Q.nextSibling),K}}}),i.extend(i.Element,{}),i.Gradient=i.invent({create:function(v){this.constructor.call(this,i.create(v+"Gradient")),this.type=v},inherit:i.Container,extend:{at:function(v,Q,K){return this.put(new i.Stop).update(v,Q,K)},update:function(v){return this.clear(),typeof v=="function"&&v.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(v,Q,K){return v=="transform"&&(v="gradientTransform"),i.Container.prototype.attr.call(this,v,Q,K)}},construct:{gradient:function(v,Q){return this.defs().gradient(v,Q)}}}),i.extend(i.Gradient,i.FX,{from:function(v,Q){return(this._target||this).type=="radial"?this.attr({fx:new i.Number(v),fy:new i.Number(Q)}):this.attr({x1:new i.Number(v),y1:new i.Number(Q)})},to:function(v,Q){return(this._target||this).type=="radial"?this.attr({cx:new i.Number(v),cy:new i.Number(Q)}):this.attr({x2:new i.Number(v),y2:new i.Number(Q)})}}),i.extend(i.Defs,{gradient:function(v,Q){return this.put(new i.Gradient(v)).update(Q)}}),i.Stop=i.invent({create:"stop",inherit:i.Element,extend:{update:function(v){return(typeof v=="number"||v instanceof i.Number)&&(v={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),v.opacity!=null&&this.attr("stop-opacity",v.opacity),v.color!=null&&this.attr("stop-color",v.color),v.offset!=null&&this.attr("offset",new i.Number(v.offset)),this}}}),i.Pattern=i.invent({create:"pattern",inherit:i.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(v){return this.clear(),typeof v=="function"&&v.call(this,this),this},toString:function(){return this.fill()},attr:function(v,Q,K){return v=="transform"&&(v="patternTransform"),i.Container.prototype.attr.call(this,v,Q,K)}},construct:{pattern:function(v,Q,K){return this.defs().pattern(v,Q,K)}}}),i.extend(i.Defs,{pattern:function(v,Q,K){return this.put(new i.Pattern).update(K).attr({x:0,y:0,width:v,height:Q,patternUnits:"userSpaceOnUse"})}}),i.Shape=i.invent({create:function(v){this.constructor.call(this,v)},inherit:i.Element}),i.Symbol=i.invent({create:"symbol",inherit:i.Container,construct:{symbol:function(){return this.put(new i.Symbol)}}}),i.Use=i.invent({create:"use",inherit:i.Shape,extend:{element:function(v,Q){return this.attr("href",(Q||"")+"#"+v,i.xlink)}},construct:{use:function(v,Q){return this.put(new i.Use).element(v,Q)}}}),i.Rect=i.invent({create:"rect",inherit:i.Shape,construct:{rect:function(v,Q){return this.put(new i.Rect).size(v,Q)}}}),i.Circle=i.invent({create:"circle",inherit:i.Shape,construct:{circle:function(v){return this.put(new i.Circle).rx(new i.Number(v).divide(2)).move(0,0)}}}),i.extend(i.Circle,i.FX,{rx:function(v){return this.attr("r",v)},ry:function(v){return this.rx(v)}}),i.Ellipse=i.invent({create:"ellipse",inherit:i.Shape,construct:{ellipse:function(v,Q){return this.put(new i.Ellipse).size(v,Q).move(0,0)}}}),i.extend(i.Ellipse,i.Rect,i.FX,{rx:function(v){return this.attr("rx",v)},ry:function(v){return this.attr("ry",v)}}),i.extend(i.Circle,i.Ellipse,{x:function(v){return v==null?this.cx()-this.rx():this.cx(v+this.rx())},y:function(v){return v==null?this.cy()-this.ry():this.cy(v+this.ry())},cx:function(v){return v==null?this.attr("cx"):this.attr("cx",v)},cy:function(v){return v==null?this.attr("cy"):this.attr("cy",v)},width:function(v){return v==null?2*this.rx():this.rx(new i.Number(v).divide(2))},height:function(v){return v==null?2*this.ry():this.ry(new i.Number(v).divide(2))},size:function(v,Q){var K=P(this,v,Q);return this.rx(new i.Number(K.width).divide(2)).ry(new i.Number(K.height).divide(2))}}),i.Line=i.invent({create:"line",inherit:i.Shape,extend:{array:function(){return new i.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(v,Q,K,ge){return v==null?this.array():(v=Q!==void 0?{x1:v,y1:Q,x2:K,y2:ge}:new i.PointArray(v).toLine(),this.attr(v))},move:function(v,Q){return this.attr(this.array().move(v,Q).toLine())},size:function(v,Q){var K=P(this,v,Q);return this.attr(this.array().size(K.width,K.height).toLine())}},construct:{line:function(v,Q,K,ge){return i.Line.prototype.plot.apply(this.put(new i.Line),v!=null?[v,Q,K,ge]:[0,0,0,0])}}}),i.Polyline=i.invent({create:"polyline",inherit:i.Shape,construct:{polyline:function(v){return this.put(new i.Polyline).plot(v||new i.PointArray)}}}),i.Polygon=i.invent({create:"polygon",inherit:i.Shape,construct:{polygon:function(v){return this.put(new i.Polygon).plot(v||new i.PointArray)}}}),i.extend(i.Polyline,i.Polygon,{array:function(){return this._array||(this._array=new i.PointArray(this.attr("points")))},plot:function(v){return v==null?this.array():this.clear().attr("points",typeof v=="string"?v:this._array=new i.PointArray(v))},clear:function(){return delete this._array,this},move:function(v,Q){return this.attr("points",this.array().move(v,Q))},size:function(v,Q){var K=P(this,v,Q);return this.attr("points",this.array().size(K.width,K.height))}}),i.extend(i.Line,i.Polyline,i.Polygon,{morphArray:i.PointArray,x:function(v){return v==null?this.bbox().x:this.move(v,this.bbox().y)},y:function(v){return v==null?this.bbox().y:this.move(this.bbox().x,v)},width:function(v){var Q=this.bbox();return v==null?Q.width:this.size(v,Q.height)},height:function(v){var Q=this.bbox();return v==null?Q.height:this.size(Q.width,v)}}),i.Path=i.invent({create:"path",inherit:i.Shape,extend:{morphArray:i.PathArray,array:function(){return this._array||(this._array=new i.PathArray(this.attr("d")))},plot:function(v){return v==null?this.array():this.clear().attr("d",typeof v=="string"?v:this._array=new i.PathArray(v))},clear:function(){return delete this._array,this}},construct:{path:function(v){return this.put(new i.Path).plot(v||new i.PathArray)}}}),i.Image=i.invent({create:"image",inherit:i.Shape,extend:{load:function(v){if(!v)return this;var Q=this,K=new se.Image;return i.on(K,"load",function(){i.off(K);var ge=Q.parent(i.Pattern);ge!==null&&(Q.width()==0&&Q.height()==0&&Q.size(K.width,K.height),ge&&ge.width()==0&&ge.height()==0&&ge.size(Q.width(),Q.height()),typeof Q._loaded=="function"&&Q._loaded.call(Q,{width:K.width,height:K.height,ratio:K.width/K.height,url:v}))}),i.on(K,"error",function(ge){i.off(K),typeof Q._error=="function"&&Q._error.call(Q,ge)}),this.attr("href",K.src=this.src=v,i.xlink)},loaded:function(v){return this._loaded=v,this},error:function(v){return this._error=v,this}},construct:{image:function(v,Q,K){return this.put(new i.Image).load(v).size(Q||0,K||Q||0)}}}),i.Text=i.invent({create:function(){this.constructor.call(this,i.create("text")),this.dom.leading=new i.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",i.defaults.attrs["font-family"])},inherit:i.Shape,extend:{x:function(v){return v==null?this.attr("x"):this.attr("x",v)},text:function(v){if(v===void 0){v="";for(var Q=this.node.childNodes,K=0,ge=Q.length;K<ge;++K)K!=0&&Q[K].nodeType!=3&&i.adopt(Q[K]).dom.newLined==1&&(v+=`
`),v+=Q[K].textContent;return v}if(this.clear().build(!0),typeof v=="function")v.call(this,this);else{K=0;for(var ce=(v=v.split(`
`)).length;K<ce;K++)this.tspan(v[K]).newLine()}return this.build(!1).rebuild()},size:function(v){return this.attr("font-size",v).rebuild()},leading:function(v){return v==null?this.dom.leading:(this.dom.leading=new i.Number(v),this.rebuild())},lines:function(){var v=(this.textPath&&this.textPath()||this).node,Q=i.utils.map(i.utils.filterSVGElements(v.childNodes),function(K){return i.adopt(K)});return new i.Set(Q)},rebuild:function(v){if(typeof v=="boolean"&&(this._rebuild=v),this._rebuild){var Q=this,K=0,ge=this.dom.leading*new i.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(Q.textPath()||this.attr("x",Q.attr("x")),this.text()==`
`?K+=ge:(this.attr("dy",ge+K),K=0))}),this.fire("rebuild")}return this},build:function(v){return this._build=!!v,this},setData:function(v){return this.dom=v,this.dom.leading=new i.Number(v.leading||1.3),this}},construct:{text:function(v){return this.put(new i.Text).text(v)},plain:function(v){return this.put(new i.Text).plain(v)}}}),i.Tspan=i.invent({create:"tspan",inherit:i.Shape,extend:{text:function(v){return v==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof v=="function"?v.call(this,this):this.plain(v),this)},dx:function(v){return this.attr("dx",v)},dy:function(v){return this.attr("dy",v)},newLine:function(){var v=this.parent(i.Text);return this.dom.newLined=!0,this.dy(v.dom.leading*v.attr("font-size")).attr("x",v.x())}}}),i.extend(i.Text,i.Tspan,{plain:function(v){return this._build===!1&&this.clear(),this.node.appendChild(n.createTextNode(v)),this},tspan:function(v){var Q=(this.textPath&&this.textPath()||this).node,K=new i.Tspan;return this._build===!1&&this.clear(),Q.appendChild(K.node),K.text(v)},clear:function(){for(var v=(this.textPath&&this.textPath()||this).node;v.hasChildNodes();)v.removeChild(v.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),i.TextPath=i.invent({create:"textPath",inherit:i.Parent,parent:i.Text,construct:{morphArray:i.PathArray,array:function(){var v=this.track();return v?v.array():null},plot:function(v){var Q=this.track(),K=null;return Q&&(K=Q.plot(v)),v==null?K:this},track:function(){var v=this.textPath();if(v)return v.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return i.adopt(this.node.firstChild)}}}),i.Nested=i.invent({create:function(){this.constructor.call(this,i.create("svg")),this.style("overflow","visible")},inherit:i.Container,construct:{nested:function(){return this.put(new i.Nested)}}});var p={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(v,Q){return Q=="color"?v:v+"-"+Q}};function x(v,Q,K,ge){return K+ge.replace(i.regex.dots," .")}function k(v){return v.toLowerCase().replace(/-(.)/g,function(Q,K){return K.toUpperCase()})}function F(v){return v.charAt(0).toUpperCase()+v.slice(1)}function S(v){var Q=v.toString(16);return Q.length==1?"0"+Q:Q}function P(v,Q,K){if(Q==null||K==null){var ge=v.bbox();Q==null?Q=ge.width/ge.height*K:K==null&&(K=ge.height/ge.width*Q)}return{width:Q,height:K}}function O(v,Q,K){return{x:Q*v.a+K*v.c+0,y:Q*v.b+K*v.d+0}}function G(v){return{a:v[0],b:v[1],c:v[2],d:v[3],e:v[4],f:v[5]}}function V(v){for(var Q=v.childNodes.length-1;Q>=0;Q--)v.childNodes[Q]instanceof se.SVGElement&&V(v.childNodes[Q]);return i.adopt(v).id(i.eid(v.nodeName))}function ee(v){return Math.abs(v)>1e-37?v:0}["fill","stroke"].forEach(function(v){var Q={};Q[v]=function(K){if(K===void 0)return this;if(typeof K=="string"||i.Color.isRgb(K)||K&&typeof K.fill=="function")this.attr(v,K);else for(var ge=p[v].length-1;ge>=0;ge--)K[p[v][ge]]!=null&&this.attr(p.prefix(v,p[v][ge]),K[p[v][ge]]);return this},i.extend(i.Element,i.FX,Q)}),i.extend(i.Element,i.FX,{translate:function(v,Q){return this.transform({x:v,y:Q})},matrix:function(v){return this.attr("transform",new i.Matrix(arguments.length==6?[].slice.call(arguments):v))},opacity:function(v){return this.attr("opacity",v)},dx:function(v){return this.x(new i.Number(v).plus(this instanceof i.FX?0:this.x()),!0)},dy:function(v){return this.y(new i.Number(v).plus(this instanceof i.FX?0:this.y()),!0)}}),i.extend(i.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(v){return this.node.getPointAtLength(v)}}),i.Set=i.invent({create:function(v){Array.isArray(v)?this.members=v:this.clear()},extend:{add:function(){for(var v=[].slice.call(arguments),Q=0,K=v.length;Q<K;Q++)this.members.push(v[Q]);return this},remove:function(v){var Q=this.index(v);return Q>-1&&this.members.splice(Q,1),this},each:function(v){for(var Q=0,K=this.members.length;Q<K;Q++)v.apply(this.members[Q],[Q,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(v){return this.index(v)>=0},index:function(v){return this.members.indexOf(v)},get:function(v){return this.members[v]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(v){return new i.Set(v)}}}),i.FX.Set=i.invent({create:function(v){this.set=v}}),i.Set.inherit=function(){var v=[];for(var Q in i.Shape.prototype)typeof i.Shape.prototype[Q]=="function"&&typeof i.Set.prototype[Q]!="function"&&v.push(Q);for(var Q in v.forEach(function(ge){i.Set.prototype[ge]=function(){for(var ce=0,me=this.members.length;ce<me;ce++)this.members[ce]&&typeof this.members[ce][ge]=="function"&&this.members[ce][ge].apply(this.members[ce],arguments);return ge=="animate"?this.fx||(this.fx=new i.FX.Set(this)):this}}),v=[],i.FX.prototype)typeof i.FX.prototype[Q]=="function"&&typeof i.FX.Set.prototype[Q]!="function"&&v.push(Q);v.forEach(function(K){i.FX.Set.prototype[K]=function(){for(var ge=0,ce=this.set.members.length;ge<ce;ge++)this.set.members[ge].fx[K].apply(this.set.members[ge].fx,arguments);return this}})},i.extend(i.Element,{}),i.extend(i.Element,{remember:function(v,Q){if(T(arguments[0])==="object")for(var K in v)this.remember(K,v[K]);else{if(arguments.length==1)return this.memory()[v];this.memory()[v]=Q}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var v=arguments.length-1;v>=0;v--)delete this.memory()[arguments[v]];return this},memory:function(){return this._memory||(this._memory={})}}),i.get=function(v){var Q=n.getElementById(function(K){var ge=(K||"").toString().match(i.regex.reference);if(ge)return ge[1]}(v)||v);return i.adopt(Q)},i.select=function(v,Q){return new i.Set(i.utils.map((Q||n).querySelectorAll(v),function(K){return i.adopt(K)}))},i.extend(i.Parent,{select:function(v){return i.select(v,this.node)}});var re="abcdef".split("");if(typeof se.CustomEvent!="function"){var le=function(v,Q){Q=Q||{bubbles:!1,cancelable:!1,detail:void 0};var K=n.createEvent("CustomEvent");return K.initCustomEvent(v,Q.bubbles,Q.cancelable,Q.detail),K};le.prototype=se.Event.prototype,i.CustomEvent=le}else i.CustomEvent=se.CustomEvent;return i},T(t)==="object"?e.exports=ja.document?$a(ja,ja.document):function(se){return $a(se,se.document)}:ja.SVG=$a(ja,ja.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(u,p){return this.add(u,p),!u.attr("in")&&this.autoSetIn&&u.attr("in",this.source),u.attr("result")||u.attr("result",u),u},blend:function(u,p,x){return this.put(new SVG.BlendEffect(u,p,x))},colorMatrix:function(u,p){return this.put(new SVG.ColorMatrixEffect(u,p))},convolveMatrix:function(u){return this.put(new SVG.ConvolveMatrixEffect(u))},componentTransfer:function(u){return this.put(new SVG.ComponentTransferEffect(u))},composite:function(u,p,x){return this.put(new SVG.CompositeEffect(u,p,x))},flood:function(u,p){return this.put(new SVG.FloodEffect(u,p))},offset:function(u,p){return this.put(new SVG.OffsetEffect(u,p))},image:function(u){return this.put(new SVG.ImageEffect(u))},merge:function(){var u=[void 0];for(var p in arguments)u.push(arguments[p]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,u)))},gaussianBlur:function(u,p){return this.put(new SVG.GaussianBlurEffect(u,p))},morphology:function(u,p){return this.put(new SVG.MorphologyEffect(u,p))},diffuseLighting:function(u,p,x){return this.put(new SVG.DiffuseLightingEffect(u,p,x))},displacementMap:function(u,p,x,k,F){return this.put(new SVG.DisplacementMapEffect(u,p,x,k,F))},specularLighting:function(u,p,x,k){return this.put(new SVG.SpecularLightingEffect(u,p,x,k))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(u,p,x,k,F){return this.put(new SVG.TurbulenceEffect(u,p,x,k,F))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(u){var p=this.put(new SVG.Filter);return typeof u=="function"&&u.call(p,p),p}}),SVG.extend(SVG.Container,{filter:function(u){return this.defs().filter(u)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(u){return this.filterer=u instanceof SVG.Element?u:this.doc().filter(u),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(u){return this.filterer&&u===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",u)},result:function(u){return u==null?this.attr("result"):this.attr("result",u)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",u)},result:function(u){return u==null?this.attr("result"):this.attr("result",u)},toString:function(){return this.result()}}});var se={blend:function(u,p){return this.parent()&&this.parent().blend(this,u,p)},colorMatrix:function(u,p){return this.parent()&&this.parent().colorMatrix(u,p).in(this)},convolveMatrix:function(u){return this.parent()&&this.parent().convolveMatrix(u).in(this)},componentTransfer:function(u){return this.parent()&&this.parent().componentTransfer(u).in(this)},composite:function(u,p){return this.parent()&&this.parent().composite(this,u,p)},flood:function(u,p){return this.parent()&&this.parent().flood(u,p)},offset:function(u,p){return this.parent()&&this.parent().offset(u,p).in(this)},image:function(u){return this.parent()&&this.parent().image(u)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(u,p){return this.parent()&&this.parent().gaussianBlur(u,p).in(this)},morphology:function(u,p){return this.parent()&&this.parent().morphology(u,p).in(this)},diffuseLighting:function(u,p,x){return this.parent()&&this.parent().diffuseLighting(u,p,x).in(this)},displacementMap:function(u,p,x,k){return this.parent()&&this.parent().displacementMap(this,u,p,x,k)},specularLighting:function(u,p,x,k){return this.parent()&&this.parent().specularLighting(u,p,x,k).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(u,p,x,k,F){return this.parent()&&this.parent().turbulence(u,p,x,k,F).in(this)}};SVG.extend(SVG.Effect,se),SVG.extend(SVG.ParentEffect,se),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(u){this.attr("in",u)}}});var n={blend:function(u,p,x){this.attr({in:u,in2:p,mode:x||"normal"})},colorMatrix:function(u,p){u=="matrix"&&(p=A(p)),this.attr({type:u,values:p===void 0?null:p})},convolveMatrix:function(u){u=A(u),this.attr({order:Math.sqrt(u.split(" ").length),kernelMatrix:u})},composite:function(u,p,x){this.attr({in:u,in2:p,operator:x})},flood:function(u,p){this.attr("flood-color",u),p!=null&&this.attr("flood-opacity",p)},offset:function(u,p){this.attr({dx:u,dy:p})},image:function(u){this.attr("href",u,SVG.xlink)},displacementMap:function(u,p,x,k,F){this.attr({in:u,in2:p,scale:x,xChannelSelector:k,yChannelSelector:F})},gaussianBlur:function(u,p){u!=null||p!=null?this.attr("stdDeviation",function(x){if(!Array.isArray(x))return x;for(var k=0,F=x.length,S=[];k<F;k++)S.push(x[k]);return S.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(u,p){this.attr({operator:u,radius:p})},tile:function(){},turbulence:function(u,p,x,k,F){this.attr({numOctaves:p,seed:x,stitchTiles:k,baseFrequency:u,type:F})}},i={merge:function(){var u;if(arguments[0]instanceof SVG.Set){var p=this;arguments[0].each(function(k){this instanceof SVG.MergeNode?p.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&p.put(new SVG.MergeNode(this))})}else{u=Array.isArray(arguments[0])?arguments[0]:arguments;for(var x=0;x<u.length;x++)u[x]instanceof SVG.MergeNode?this.put(u[x]):this.put(new SVG.MergeNode(u[x]))}},componentTransfer:function(u){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(x){this[x]=new SVG["Func"+x.toUpperCase()]("identity"),this.rgb.add(this[x]),this.node.appendChild(this[x].node)}).bind(this)),u)for(var p in u.rgb&&(["r","g","b"].forEach((function(x){this[x].attr(u.rgb)}).bind(this)),delete u.rgb),u)this[p].attr(u[p])},diffuseLighting:function(u,p,x){this.attr({surfaceScale:u,diffuseConstant:p,kernelUnitLength:x})},specularLighting:function(u,p,x,k){this.attr({surfaceScale:u,diffuseConstant:p,specularExponent:x,kernelUnitLength:k})}},c={distantLight:function(u,p){this.attr({azimuth:u,elevation:p})},pointLight:function(u,p,x){this.attr({x:u,y:p,z:x})},spotLight:function(u,p,x,k,F,S){this.attr({x:u,y:p,z:x,pointsAtX:k,pointsAtY:F,pointsAtZ:S})},mergeNode:function(u){this.attr("in",u)}};function A(u){return Array.isArray(u)&&(u=new SVG.Array(u)),u.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function h(){var u=function(){};for(var p in typeof arguments[arguments.length-1]=="function"&&(u=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var x in arguments[p])u(arguments[p][x],x,arguments[p])}["r","g","b","a"].forEach(function(u){c["Func"+u.toUpperCase()]=function(p){switch(this.attr("type",p),p){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),h(n,function(u,p){var x=p.charAt(0).toUpperCase()+p.slice(1);SVG[x+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+x)),u.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),h(i,function(u,p){var x=p.charAt(0).toUpperCase()+p.slice(1);SVG[x+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+x)),u.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),h(c,function(u,p){var x=p.charAt(0).toUpperCase()+p.slice(1);SVG[x]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+x)),u.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(u){return u instanceof SVG.MergeNode?this.add(u,0):this.add(new SVG.MergeNode(u),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",u)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function se(h,u,p,x,k,F,S){for(var P=h.slice(u,p||S),O=x.slice(k,F||S),G=0,V={pos:[0,0],start:[0,0]},ee={pos:[0,0],start:[0,0]};P[G]=n.call(V,P[G]),O[G]=n.call(ee,O[G]),P[G][0]!=O[G][0]||P[G][0]=="M"||P[G][0]=="A"&&(P[G][4]!=O[G][4]||P[G][5]!=O[G][5])?(Array.prototype.splice.apply(P,[G,1].concat(c.call(V,P[G]))),Array.prototype.splice.apply(O,[G,1].concat(c.call(ee,O[G])))):(P[G]=i.call(V,P[G]),O[G]=i.call(ee,O[G])),!(++G==P.length&&G==O.length);)G==P.length&&P.push(["C",V.pos[0],V.pos[1],V.pos[0],V.pos[1],V.pos[0],V.pos[1]]),G==O.length&&O.push(["C",ee.pos[0],ee.pos[1],ee.pos[0],ee.pos[1],ee.pos[0],ee.pos[1]]);return{start:P,dest:O}}function n(h){switch(h[0]){case"z":case"Z":h[0]="L",h[1]=this.start[0],h[2]=this.start[1];break;case"H":h[0]="L",h[2]=this.pos[1];break;case"V":h[0]="L",h[2]=h[1],h[1]=this.pos[0];break;case"T":h[0]="Q",h[3]=h[1],h[4]=h[2],h[1]=this.reflection[1],h[2]=this.reflection[0];break;case"S":h[0]="C",h[6]=h[4],h[5]=h[3],h[4]=h[2],h[3]=h[1],h[2]=this.reflection[1],h[1]=this.reflection[0]}return h}function i(h){var u=h.length;return this.pos=[h[u-2],h[u-1]],"SCQT".indexOf(h[0])!=-1&&(this.reflection=[2*this.pos[0]-h[u-4],2*this.pos[1]-h[u-3]]),h}function c(h){var u=[h];switch(h[0]){case"M":return this.pos=this.start=[h[1],h[2]],u;case"L":h[5]=h[3]=h[1],h[6]=h[4]=h[2],h[1]=this.pos[0],h[2]=this.pos[1];break;case"Q":h[6]=h[4],h[5]=h[3],h[4]=1*h[4]/3+2*h[2]/3,h[3]=1*h[3]/3+2*h[1]/3,h[2]=1*this.pos[1]/3+2*h[2]/3,h[1]=1*this.pos[0]/3+2*h[1]/3;break;case"A":u=function(p,x){var k,F,S,P,O,G,V,ee,re,le,v,Q,K,ge,ce,me,Fe,Ie,ze,Ze,Ke,et,ct,mt,wt,Ut,Et=Math.abs(x[1]),Dt=Math.abs(x[2]),Kt=x[3]%360,Nt=x[4],jr=x[5],pr=x[6],zr=x[7],lr=new SVG.Point(p),ar=new SVG.Point(pr,zr),sr=[];if(Et===0||Dt===0||lr.x===ar.x&&lr.y===ar.y)return[["C",lr.x,lr.y,ar.x,ar.y,ar.x,ar.y]];for(k=new SVG.Point((lr.x-ar.x)/2,(lr.y-ar.y)/2).transform(new SVG.Matrix().rotate(Kt)),(F=k.x*k.x/(Et*Et)+k.y*k.y/(Dt*Dt))>1&&(Et*=F=Math.sqrt(F),Dt*=F),S=new SVG.Matrix().rotate(Kt).scale(1/Et,1/Dt).rotate(-Kt),lr=lr.transform(S),ar=ar.transform(S),P=[ar.x-lr.x,ar.y-lr.y],G=P[0]*P[0]+P[1]*P[1],O=Math.sqrt(G),P[0]/=O,P[1]/=O,V=G<4?Math.sqrt(1-G/4):0,Nt===jr&&(V*=-1),ee=new SVG.Point((ar.x+lr.x)/2+V*-P[1],(ar.y+lr.y)/2+V*P[0]),re=new SVG.Point(lr.x-ee.x,lr.y-ee.y),le=new SVG.Point(ar.x-ee.x,ar.y-ee.y),v=Math.acos(re.x/Math.sqrt(re.x*re.x+re.y*re.y)),re.y<0&&(v*=-1),Q=Math.acos(le.x/Math.sqrt(le.x*le.x+le.y*le.y)),le.y<0&&(Q*=-1),jr&&v>Q&&(Q+=2*Math.PI),!jr&&v<Q&&(Q-=2*Math.PI),ge=Math.ceil(2*Math.abs(v-Q)/Math.PI),me=[],Fe=v,K=(Q-v)/ge,ce=4*Math.tan(K/4)/3,Ke=0;Ke<=ge;Ke++)ze=Math.cos(Fe),Ie=Math.sin(Fe),Ze=new SVG.Point(ee.x+ze,ee.y+Ie),me[Ke]=[new SVG.Point(Ze.x+ce*Ie,Ze.y-ce*ze),Ze,new SVG.Point(Ze.x-ce*Ie,Ze.y+ce*ze)],Fe+=K;for(me[0][0]=me[0][1].clone(),me[me.length-1][2]=me[me.length-1][1].clone(),S=new SVG.Matrix().rotate(Kt).scale(Et,Dt).rotate(-Kt),Ke=0,et=me.length;Ke<et;Ke++)me[Ke][0]=me[Ke][0].transform(S),me[Ke][1]=me[Ke][1].transform(S),me[Ke][2]=me[Ke][2].transform(S);for(Ke=1,et=me.length;Ke<et;Ke++)ct=(Ze=me[Ke-1][2]).x,mt=Ze.y,wt=(Ze=me[Ke][0]).x,Ut=Ze.y,pr=(Ze=me[Ke][1]).x,zr=Ze.y,sr.push(["C",ct,mt,wt,Ut,pr,zr]);return sr}(this.pos,h),h=u[0]}return h[0]="C",this.pos=[h[5],h[6]],this.reflection=[2*h[5]-h[3],2*h[6]-h[4]],u}function A(h,u){if(u===!1)return!1;for(var p=u,x=h.length;p<x;++p)if(h[p][0]=="M")return p;return!1}SVG.extend(SVG.PathArray,{morph:function(h){for(var u=this.value,p=this.parse(h),x=0,k=0,F=!1,S=!1;x!==!1||k!==!1;){var P;F=A(u,x!==!1&&x+1),S=A(p,k!==!1&&k+1),x===!1&&(x=(P=new SVG.PathArray(O.start).bbox()).height==0||P.width==0?u.push(u[0])-1:u.push(["M",P.x+P.width/2,P.y+P.height/2])-1),k===!1&&(k=(P=new SVG.PathArray(O.dest).bbox()).height==0||P.width==0?p.push(p[0])-1:p.push(["M",P.x+P.width/2,P.y+P.height/2])-1);var O=se(u,x,F,p,k,S);u=u.slice(0,x).concat(O.start,F===!1?[]:u.slice(F)),p=p.slice(0,k).concat(O.dest,S===!1?[]:p.slice(S)),x=F!==!1&&x+O.start.length,k=S!==!1&&k+O.dest.length}return this.value=u,this.destination=new SVG.PathArray,this.destination.value=p,this}})}(),(function(){function se(n){n.remember("_draggable",this),this.el=n}se.prototype.init=function(n,i){var c=this;this.constraint=n,this.value=i,this.el.on("mousedown.drag",function(A){c.start(A)}),this.el.on("touchstart.drag",function(A){c.start(A)})},se.prototype.transformPoint=function(n,i){var c=(n=n||window.event).changedTouches&&n.changedTouches[0]||n;return this.p.x=c.clientX-(i||0),this.p.y=c.clientY,this.p.matrixTransform(this.m)},se.prototype.getBBox=function(){var n=this.el.bbox();return this.el instanceof SVG.Nested&&(n=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(n.x=this.el.x(),n.y=this.el.y()),n},se.prototype.start=function(n){if(n.type!="click"&&n.type!="mousedown"&&n.type!="mousemove"||(n.which||n.buttons)==1){var i=this;if(this.el.fire("beforedrag",{event:n,handler:this}),!this.el.event().defaultPrevented){n.preventDefault(),n.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var c,A=this.getBBox();if(this.el instanceof SVG.Text)switch(c=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":c/=2;break;case"start":c=0}this.startPoints={point:this.transformPoint(n,c),box:A,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(h){i.drag(h)}),SVG.on(window,"touchmove.drag",function(h){i.drag(h)}),SVG.on(window,"mouseup.drag",function(h){i.end(h)}),SVG.on(window,"touchend.drag",function(h){i.end(h)}),this.el.fire("dragstart",{event:n,p:this.startPoints.point,m:this.m,handler:this})}}},se.prototype.drag=function(n){var i=this.getBBox(),c=this.transformPoint(n),A=this.startPoints.box.x+c.x-this.startPoints.point.x,h=this.startPoints.box.y+c.y-this.startPoints.point.y,u=this.constraint,p=c.x-this.startPoints.point.x,x=c.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:n,p:c,m:this.m,handler:this}),this.el.event().defaultPrevented)return c;if(typeof u=="function"){var k=u.call(this.el,A,h,this.m);typeof k=="boolean"&&(k={x:k,y:k}),k.x===!0?this.el.x(A):k.x!==!1&&this.el.x(k.x),k.y===!0?this.el.y(h):k.y!==!1&&this.el.y(k.y)}else typeof u=="object"&&(u.minX!=null&&A<u.minX?p=(A=u.minX)-this.startPoints.box.x:u.maxX!=null&&A>u.maxX-i.width&&(p=(A=u.maxX-i.width)-this.startPoints.box.x),u.minY!=null&&h<u.minY?x=(h=u.minY)-this.startPoints.box.y:u.maxY!=null&&h>u.maxY-i.height&&(x=(h=u.maxY-i.height)-this.startPoints.box.y),u.snapToGrid!=null&&(A-=A%u.snapToGrid,h-=h%u.snapToGrid,p-=p%u.snapToGrid,x-=x%u.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:p,y:x},!0):this.el.move(A,h));return c},se.prototype.end=function(n){var i=this.drag(n);this.el.fire("dragend",{event:n,p:i,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(n,i){typeof n!="function"&&typeof n!="object"||(i=n,n=!0);var c=this.remember("_draggable")||new se(this);return(n=n===void 0||n)?c.init(i||{},n):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function se(n){this.el=n,n.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(i,c,A){var h=typeof i!="string"?i:c[i];return A?h/2:h},this.pointCoords=function(i,c){var A=this.pointsList[i];return{x:this.pointCoord(A[0],c,i==="t"||i==="b"),y:this.pointCoord(A[1],c,i==="r"||i==="l")}}}se.prototype.init=function(n,i){var c=this.el.bbox();this.options={};var A=this.el.selectize.defaults.points;for(var h in this.el.selectize.defaults)this.options[h]=this.el.selectize.defaults[h],i[h]!==void 0&&(this.options[h]=i[h]);var u=["points","pointsExclude"];for(var h in u){var p=this.options[u[h]];typeof p=="string"?p=p.length>0?p.split(/\s*,\s*/i):[]:typeof p=="boolean"&&u[h]==="points"&&(p=p?A:[]),this.options[u[h]]=p}this.options.points=[A,this.options.points].reduce(function(x,k){return x.filter(function(F){return k.indexOf(F)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(x,k){return x.filter(function(F){return k.indexOf(F)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(c.x,c.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(n):this.selectRect(n),this.observe(),this.cleanup()},se.prototype.selectPoints=function(n){return this.pointSelection.isSelected=n,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},se.prototype.getPointArray=function(){var n=this.el.bbox();return this.el.array().valueOf().map(function(i){return[i[0]-n.x,i[1]-n.y]})},se.prototype.drawPoints=function(){for(var n=this,i=this.getPointArray(),c=0,A=i.length;c<A;++c){var h=function(p){return function(x){(x=x||window.event).preventDefault?x.preventDefault():x.returnValue=!1,x.stopPropagation();var k=x.pageX||x.touches[0].pageX,F=x.pageY||x.touches[0].pageY;n.el.fire("point",{x:k,y:F,i:p,event:x})}}(c),u=this.drawPoint(i[c][0],i[c][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",h).on("mousedown",h);this.pointSelection.set.add(u)}},se.prototype.drawPoint=function(n,i){var c=this.options.pointType;switch(c){case"circle":return this.drawCircle(n,i);case"rect":return this.drawRect(n,i);default:if(typeof c=="function")return c.call(this,n,i);throw new Error("Unknown "+c+" point type!")}},se.prototype.drawCircle=function(n,i){return this.nested.circle(this.options.pointSize).center(n,i)},se.prototype.drawRect=function(n,i){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(n,i)},se.prototype.updatePointSelection=function(){var n=this.getPointArray();this.pointSelection.set.each(function(i){this.cx()===n[i][0]&&this.cy()===n[i][1]||this.center(n[i][0],n[i][1])})},se.prototype.updateRectSelection=function(){var n=this,i=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:i.width,height:i.height}),this.options.points.length&&this.options.points.map(function(A,h){var u=n.pointCoords(A,i);n.rectSelection.set.get(h+1).center(u.x,u.y)}),this.options.rotationPoint){var c=this.rectSelection.set.length();this.rectSelection.set.get(c-1).center(i.width/2,20)}},se.prototype.selectRect=function(n){var i=this,c=this.el.bbox();function A(p){return function(x){(x=x||window.event).preventDefault?x.preventDefault():x.returnValue=!1,x.stopPropagation();var k=x.pageX||x.touches[0].pageX,F=x.pageY||x.touches[0].pageY;i.el.fire(p,{x:k,y:F,event:x})}}if(this.rectSelection.isSelected=n,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(c.width,c.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(p,x){var k=i.pointCoords(p,c),F=i.drawPoint(k.x,k.y).attr("class",i.options.classPoints+"_"+p).on("mousedown",A(p)).on("touchstart",A(p));i.rectSelection.set.add(F)}),this.rectSelection.set.each(function(){this.addClass(i.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var h=function(p){(p=p||window.event).preventDefault?p.preventDefault():p.returnValue=!1,p.stopPropagation();var x=p.pageX||p.touches[0].pageX,k=p.pageY||p.touches[0].pageY;i.el.fire("rot",{x,y:k,event:p})},u=this.drawPoint(c.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",h).on("mousedown",h);this.rectSelection.set.add(u)}},se.prototype.handler=function(){var n=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},se.prototype.observe=function(){var n=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){n.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){n.handler()})},se.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(n,i){return typeof n=="object"&&(i=n,n=!0),(this.remember("_selectHandler")||new se(this)).init(n===void 0||n,i||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function se(n){n.remember("_resizeHandler",this),this.el=n,this.parameters={},this.lastUpdateCall=null,this.p=n.doc().node.createSVGPoint()}se.prototype.transformPoint=function(n,i,c){return this.p.x=n-(this.offset.x-window.pageXOffset),this.p.y=i-(this.offset.y-window.pageYOffset),this.p.matrixTransform(c||this.m)},se.prototype._extractPosition=function(n){return{x:n.clientX!=null?n.clientX:n.touches[0].clientX,y:n.clientY!=null?n.clientY:n.touches[0].clientY}},se.prototype.init=function(n){var i=this;if(this.stop(),n!=="stop"){for(var c in this.options={},this.el.resize.defaults)this.options[c]=this.el.resize.defaults[c],n[c]!==void 0&&(this.options[c]=n[c]);this.el.on("lt.resize",function(A){i.resize(A||window.event)}),this.el.on("rt.resize",function(A){i.resize(A||window.event)}),this.el.on("rb.resize",function(A){i.resize(A||window.event)}),this.el.on("lb.resize",function(A){i.resize(A||window.event)}),this.el.on("t.resize",function(A){i.resize(A||window.event)}),this.el.on("r.resize",function(A){i.resize(A||window.event)}),this.el.on("b.resize",function(A){i.resize(A||window.event)}),this.el.on("l.resize",function(A){i.resize(A||window.event)}),this.el.on("rot.resize",function(A){i.resize(A||window.event)}),this.el.on("point.resize",function(A){i.resize(A||window.event)}),this.update()}},se.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},se.prototype.resize=function(n){var i=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var c=this._extractPosition(n.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(c.x,c.y),x:n.detail.x,y:n.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),n.detail.i!==void 0){var A=this.el.array().valueOf();this.parameters.i=n.detail.i,this.parameters.pointCoords=[A[n.detail.i][0],A[n.detail.i][1]]}switch(n.type){case"lt":this.calc=function(h,u){var p=this.snapToGrid(h,u);if(this.parameters.box.width-p[0]>0&&this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-p[0]);p=this.checkAspectRatio(p),this.el.move(this.parameters.box.x+p[0],this.parameters.box.y+p[1]).size(this.parameters.box.width-p[0],this.parameters.box.height-p[1])}};break;case"rt":this.calc=function(h,u){var p=this.snapToGrid(h,u,2);if(this.parameters.box.width+p[0]>0&&this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+p[0]);p=this.checkAspectRatio(p,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+p[1]).size(this.parameters.box.width+p[0],this.parameters.box.height-p[1])}};break;case"rb":this.calc=function(h,u){var p=this.snapToGrid(h,u,0);if(this.parameters.box.width+p[0]>0&&this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+p[0]);p=this.checkAspectRatio(p),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+p[0],this.parameters.box.height+p[1])}};break;case"lb":this.calc=function(h,u){var p=this.snapToGrid(h,u,1);if(this.parameters.box.width-p[0]>0&&this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-p[0]);p=this.checkAspectRatio(p,!0),this.el.move(this.parameters.box.x+p[0],this.parameters.box.y).size(this.parameters.box.width-p[0],this.parameters.box.height+p[1])}};break;case"t":this.calc=function(h,u){var p=this.snapToGrid(h,u,2);if(this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+p[1]).height(this.parameters.box.height-p[1])}};break;case"r":this.calc=function(h,u){var p=this.snapToGrid(h,u,0);if(this.parameters.box.width+p[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+p[0])}};break;case"b":this.calc=function(h,u){var p=this.snapToGrid(h,u,0);if(this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+p[1])}};break;case"l":this.calc=function(h,u){var p=this.snapToGrid(h,u,1);if(this.parameters.box.width-p[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+p[0],this.parameters.box.y).width(this.parameters.box.width-p[0])}};break;case"rot":this.calc=function(h,u){var p=h+this.parameters.p.x,x=u+this.parameters.p.y,k=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),F=Math.atan2(x-this.parameters.box.y-this.parameters.box.height/2,p-this.parameters.box.x-this.parameters.box.width/2),S=this.parameters.rotation+180*(F-k)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(S-S%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(h,u){var p=this.snapToGrid(h,u,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),x=this.el.array().valueOf();x[this.parameters.i][0]=this.parameters.pointCoords[0]+p[0],x[this.parameters.i][1]=this.parameters.pointCoords[1]+p[1],this.el.plot(x)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:n}),SVG.on(window,"touchmove.resize",function(h){i.update(h||window.event)}),SVG.on(window,"touchend.resize",function(){i.done()}),SVG.on(window,"mousemove.resize",function(h){i.update(h||window.event)}),SVG.on(window,"mouseup.resize",function(){i.done()})},se.prototype.update=function(n){if(n){var i=this._extractPosition(n),c=this.transformPoint(i.x,i.y),A=c.x-this.parameters.p.x,h=c.y-this.parameters.p.y;this.lastUpdateCall=[A,h],this.calc(A,h),this.el.fire("resizing",{dx:A,dy:h,event:n})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},se.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},se.prototype.snapToGrid=function(n,i,c,A){var h;return A!==void 0?h=[(c+n)%this.options.snapToGrid,(A+i)%this.options.snapToGrid]:(c=c??3,h=[(this.parameters.box.x+n+(1&c?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+i+(2&c?0:this.parameters.box.height))%this.options.snapToGrid]),n<0&&(h[0]-=this.options.snapToGrid),i<0&&(h[1]-=this.options.snapToGrid),n-=Math.abs(h[0])<this.options.snapToGrid/2?h[0]:h[0]-(n<0?-this.options.snapToGrid:this.options.snapToGrid),i-=Math.abs(h[1])<this.options.snapToGrid/2?h[1]:h[1]-(i<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(n,i,c,A)},se.prototype.constraintToBox=function(n,i,c,A){var h,u,p=this.options.constraint||{};return A!==void 0?(h=c,u=A):(h=this.parameters.box.x+(1&c?0:this.parameters.box.width),u=this.parameters.box.y+(2&c?0:this.parameters.box.height)),p.minX!==void 0&&h+n<p.minX&&(n=p.minX-h),p.maxX!==void 0&&h+n>p.maxX&&(n=p.maxX-h),p.minY!==void 0&&u+i<p.minY&&(i=p.minY-u),p.maxY!==void 0&&u+i>p.maxY&&(i=p.maxY-u),[n,i]},se.prototype.checkAspectRatio=function(n,i){if(!this.options.saveAspectRatio)return n;var c=n.slice(),A=this.parameters.box.width/this.parameters.box.height,h=this.parameters.box.width+n[0],u=this.parameters.box.height-n[1],p=h/u;return p<A?(c[1]=h/A-this.parameters.box.height,i&&(c[1]=-c[1])):p>A&&(c[0]=this.parameters.box.width-u*A,i&&(c[0]=-c[0])),c},SVG.extend(SVG.Element,{resize:function(n){return(this.remember("_resizeHandler")||new se(this)).init(n||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var Di=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ae(this.ctx),this.ctx.axes=new At(this.ctx),this.ctx.core=new Ui(this.ctx.el,this.ctx),this.ctx.config=new he({}),this.ctx.data=new tt(this.ctx),this.ctx.grid=new Ft(this.ctx),this.ctx.graphics=new _(this.ctx),this.ctx.coreUtils=new ie(this.ctx),this.ctx.crosshairs=new pt(this.ctx),this.ctx.events=new ut(this.ctx),this.ctx.exports=new He(this.ctx),this.ctx.fill=new Pe(this.ctx),this.ctx.localization=new ot(this.ctx),this.ctx.options=new fe,this.ctx.responsive=new ht(this.ctx),this.ctx.series=new Xe(this.ctx),this.ctx.theme=new Lt(this.ctx),this.ctx.formatters=new Z(this.ctx),this.ctx.titleSubtitle=new Mt(this.ctx),this.ctx.legend=new yt(this.ctx),this.ctx.toolbar=new Ca(this.ctx),this.ctx.tooltip=new Mr(this.ctx),this.ctx.dimensions=new Pt(this.ctx),this.ctx.updateHelpers=new mo(this.ctx),this.ctx.zoomPanSelection=new cr(this.ctx),this.ctx.w.globals.tooltip=new Mr(this.ctx)}}]),se}(),Ti=function(){function se(n){o(this,se),this.ctx=n,this.w=n.w}return d(se,[{key:"clear",value:function(n){var i=n.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:i})}},{key:"killSVG",value:function(n){n.each(function(){this.removeClass("*"),this.off(),this.stop()},!0),n.ungroup(),n.clear()}},{key:"clearDomElements",value:function(n){var i=this,c=n.isUpdating,A=this.w.globals.dom.Paper.node;A.parentNode&&A.parentNode.parentNode&&!c&&(A.parentNode.parentNode.style.minHeight="unset");var h=this.w.globals.dom.baseEl;h&&this.ctx.eventList.forEach(function(p){h.removeEventListener(p,i.ctx.events.documentEvent)});var u=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(u.Paper),u.Paper.remove(),u.elWrap=null,u.elGraphical=null,u.elLegendWrap=null,u.elLegendForeign=null,u.baseEl=null,u.elGridRect=null,u.elGridRectMask=null,u.elGridRectBarMask=null,u.elGridRectMarkerMask=null,u.elForecastMask=null,u.elNonForecastMask=null,u.elDefs=null}}]),se}(),li=new WeakMap,pc=function(){function se(n,i){o(this,se),this.opts=i,this.ctx=this,this.w=new Le(i).init(),this.el=n,this.w.globals.cuid=D.randomId(),this.w.globals.chartID=this.w.config.chart.id?D.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Di(this).initModules(),this.create=D.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return d(se,[{key:"render",value:function(){var n=this;return new Promise(function(i,c){if(n.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),n.w.config.chart.id&&Apex._chartInstances.push({id:n.w.globals.chartID,group:n.w.config.chart.group,chart:n}),n.setLocale(n.w.config.chart.defaultLocale);var A=n.w.config.chart.events.beforeMount;typeof A=="function"&&A(n,n.w),n.events.fireEvent("beforeMount",[n,n.w]),window.addEventListener("resize",n.windowResizeHandler),function(P,O){var G=!1;if(P.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var V=P.getBoundingClientRect();P.style.display!=="none"&&V.width!==0||(G=!0)}var ee=new ResizeObserver(function(re){G&&O.call(P,re),G=!0});P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(P.children).forEach(function(re){return ee.observe(re)}):ee.observe(P),li.set(O,ee)}(n.el.parentNode,n.parentResizeHandler);var h=n.el.getRootNode&&n.el.getRootNode(),u=D.is("ShadowRoot",h),p=n.el.ownerDocument,x=u?h.getElementById("apexcharts-css"):p.getElementById("apexcharts-css");if(!x){var k;(x=document.createElement("style")).id="apexcharts-css",x.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,
.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,
.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,
.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}
`;var F=((k=n.opts.chart)===null||k===void 0?void 0:k.nonce)||n.w.config.chart.nonce;F&&x.setAttribute("nonce",F),u?h.prepend(x):p.head.appendChild(x)}var S=n.create(n.w.config.series,{});if(!S)return i(n);n.mount(S).then(function(){typeof n.w.config.chart.events.mounted=="function"&&n.w.config.chart.events.mounted(n,n.w),n.events.fireEvent("mounted",[n,n.w]),i(S)}).catch(function(P){c(P)})}else c(new Error("Element not found"))})}},{key:"create",value:function(n,i){var c=this,A=this.w;new Di(this).initModules();var h=this.w.globals;if(h.noData=!1,h.animationEnded=!1,this.responsive.checkResponsiveConfig(i),A.config.xaxis.convertedCatToNumeric&&new Ae(A.config).convertCatToNumericXaxis(A.config,this.ctx),this.el===null||(this.core.setupElements(),A.config.chart.type==="treemap"&&(A.config.grid.show=!1,A.config.yaxis[0].show=!1),h.svgWidth===0))return h.animationEnded=!0,null;var u=n;n.forEach(function(P,O){P.hidden&&(u=c.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:O}))});var p=ie.checkComboSeries(u,A.config.chart.type);h.comboCharts=p.comboCharts,h.comboBarCount=p.comboBarCount;var x=u.every(function(P){return P.data&&P.data.length===0});(u.length===0||x&&h.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(u),this.theme.init(),new Re(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),h.noData&&h.collapsedSeries.length!==h.series.length&&!A.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),h.axisCharts&&(this.core.coreCalculations(),A.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=A.globals.minX,this.ctx.toolbar.maxX=A.globals.maxX),this.formatters.heatmapLabelFormatters(),new ie(this).getLargestMarkerSize(),this.dimensions.plotCoords();var k=this.core.xySettings();this.grid.createGridMask();var F=this.core.plotChartType(u,k),S=new Ee(this);return S.bringForward(),A.config.dataLabels.background.enabled&&S.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:F,xyRatios:k,dimensions:{plot:{left:A.globals.translateX,top:A.globals.translateY,width:A.globals.gridWidth,height:A.globals.gridHeight}}}}},{key:"mount",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,c=this,A=c.w;return new Promise(function(h,u){if(c.el===null)return u(new Error("Not enough data to display or target element not found"));(i===null||A.globals.allSeriesCollapsed)&&c.series.handleNoData(),c.grid=new Ft(c);var p,x,k=c.grid.drawGrid();if(c.annotations=new je(c),c.annotations.drawImageAnnos(),c.annotations.drawTextAnnos(),A.config.grid.position==="back"&&(k&&A.globals.dom.elGraphical.add(k.el),k!=null&&(p=k.elGridBorders)!==null&&p!==void 0&&p.node&&A.globals.dom.elGraphical.add(k.elGridBorders)),Array.isArray(i.elGraph))for(var F=0;F<i.elGraph.length;F++)A.globals.dom.elGraphical.add(i.elGraph[F]);else A.globals.dom.elGraphical.add(i.elGraph);A.config.grid.position==="front"&&(k&&A.globals.dom.elGraphical.add(k.el),k!=null&&(x=k.elGridBorders)!==null&&x!==void 0&&x.node&&A.globals.dom.elGraphical.add(k.elGridBorders)),A.config.xaxis.crosshairs.position==="front"&&c.crosshairs.drawXCrosshairs(),A.config.yaxis[0].crosshairs.position==="front"&&c.crosshairs.drawYCrosshairs(),A.config.chart.type!=="treemap"&&c.axes.drawAxis(A.config.chart.type,k);var S=new qe(n.ctx,k),P=new ft(n.ctx,k);if(k!==null&&(S.xAxisLabelCorrections(k.xAxisTickWidth),P.setYAxisTextAlignments(),A.config.yaxis.map(function(G,V){A.globals.ignoreYAxisIndexes.indexOf(V)===-1&&P.yAxisTitleRotate(V,G.opposite)})),c.annotations.drawAxesAnnotations(),!A.globals.noData){if(A.config.tooltip.enabled&&!A.globals.noData&&c.w.globals.tooltip.drawTooltip(i.xyRatios),A.globals.axisCharts&&(A.globals.isXNumeric||A.config.xaxis.convertedCatToNumeric||A.globals.isRangeBar))(A.config.chart.zoom.enabled||A.config.chart.selection&&A.config.chart.selection.enabled||A.config.chart.pan&&A.config.chart.pan.enabled)&&c.zoomPanSelection.init({xyRatios:i.xyRatios});else{var O=A.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(G){O[G]=!1})}A.config.chart.toolbar.show&&!A.globals.allSeriesCollapsed&&c.toolbar.createToolbar()}A.globals.memory.methodsToExec.length>0&&A.globals.memory.methodsToExec.forEach(function(G){G.method(G.params,!1,G.context)}),A.globals.axisCharts||A.globals.noData||c.core.resizeNonAxisCharts(),h(c)})}},{key:"destroy",value:function(){var n,i;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,n=this.parentResizeHandler,(i=li.get(n))&&(i.disconnect(),li.delete(n));var c=this.w.config.chart.id;c&&Apex._chartInstances.forEach(function(A,h){A.id===D.escapeString(c)&&Apex._chartInstances.splice(h,1)}),new Ti(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(n){var i=this,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],A=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],u=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],p=this.w;return p.globals.selection=void 0,n.series&&(this.series.resetSeries(!1,!0,!1),n.series.length&&n.series[0].data&&(n.series=n.series.map(function(x,k){return i.updateHelpers._extendSeries(x,k)})),this.updateHelpers.revertDefaultAxisMinMax()),n.xaxis&&(n=this.updateHelpers.forceXAxisUpdate(n)),n.yaxis&&(n=this.updateHelpers.forceYAxisUpdate(n)),p.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),n.theme&&(n=this.theme.updateThemeOptions(n)),this.updateHelpers._updateOptions(n,c,A,h,u)}},{key:"updateSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,i,c)}},{key:"appendSeries",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],A=this.w.config.series.slice();return A.push(n),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(A,i,c)}},{key:"appendData",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=this;c.w.globals.dataChanged=!0,c.series.getPreviousPaths();for(var A=c.w.config.series.slice(),h=0;h<A.length;h++)if(n[h]!==null&&n[h]!==void 0)for(var u=0;u<n[h].data.length;u++)A[h].data.push(n[h].data[u]);return c.w.config.series=A,i&&(c.w.globals.initialSeries=D.clone(c.w.config.series)),this.update()}},{key:"update",value:function(n){var i=this;return new Promise(function(c,A){new Ti(i.ctx).clear({isUpdating:!0});var h=i.create(i.w.config.series,n);if(!h)return c(i);i.mount(h).then(function(){typeof i.w.config.chart.events.updated=="function"&&i.w.config.chart.events.updated(i,i.w),i.events.fireEvent("updated",[i,i.w]),i.w.globals.isDirty=!0,c(i)}).catch(function(u){A(u)})})}},{key:"getSyncedCharts",value:function(){var n=this.getGroupedCharts(),i=[this];return n.length&&(i=[],n.forEach(function(c){i.push(c)})),i}},{key:"getGroupedCharts",value:function(){var n=this;return Apex._chartInstances.filter(function(i){if(i.group)return!0}).map(function(i){return n.w.config.chart.group===i.group?i.chart:n})}},{key:"toggleSeries",value:function(n){return this.series.toggleSeries(n)}},{key:"highlightSeriesOnLegendHover",value:function(n,i){return this.series.toggleSeriesOnHover(n,i)}},{key:"showSeries",value:function(n){this.series.showSeries(n)}},{key:"hideSeries",value:function(n){this.series.hideSeries(n)}},{key:"highlightSeries",value:function(n){this.series.highlightSeries(n)}},{key:"isSeriesHidden",value:function(n){this.series.isSeriesHidden(n)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(n,i)}},{key:"addEventListener",value:function(n,i){this.events.addEventListener(n,i)}},{key:"removeEventListener",value:function(n,i){this.events.removeEventListener(n,i)}},{key:"addXaxisAnnotation",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,A=this;c&&(A=c),A.annotations.addXaxisAnnotationExternal(n,i,A)}},{key:"addYaxisAnnotation",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,A=this;c&&(A=c),A.annotations.addYaxisAnnotationExternal(n,i,A)}},{key:"addPointAnnotation",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,A=this;c&&(A=c),A.annotations.addPointAnnotationExternal(n,i,A)}},{key:"clearAnnotations",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=this;n&&(i=n),i.annotations.clearAnnotations(i)}},{key:"removeAnnotation",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,c=this;i&&(c=i),c.annotations.removeAnnotation(c,n)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(n,i){return this.coreUtils.getSeriesTotalsXRange(n,i)}},{key:"getHighestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new be(this.ctx).getMinYMaxY(n).highestY}},{key:"getLowestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new be(this.ctx).getMinYMaxY(n).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(n,i){return this.updateHelpers.toggleDataPointSelection(n,i)}},{key:"zoomX",value:function(n,i){this.ctx.toolbar.zoomUpdateOptions(n,i)}},{key:"setLocale",value:function(n){this.localization.setCurrentLocaleValues(n)}},{key:"dataURI",value:function(n){return new He(this.ctx).dataURI(n)}},{key:"exportToCSV",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new He(this.ctx).exportToCSV(n)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var n=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){n.w.globals.resized=!0,n.w.globals.dataChanged=!1,n.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var n=this.w.config.chart.redrawOnWindowResize;typeof n=="function"&&(n=n()),n&&this._windowResize()}}],[{key:"getChartByID",value:function(n){var i=D.escapeString(n);if(Apex._chartInstances){var c=Apex._chartInstances.filter(function(A){return A.id===i})[0];return c&&c.chart}}},{key:"initOnLoad",value:function(){for(var n=document.querySelectorAll("[data-apexcharts]"),i=0;i<n.length;i++)new se(n[i],JSON.parse(n[i].getAttribute("data-options"))).render()}},{key:"exec",value:function(n,i){var c=this.getChartByID(n);if(c){c.w.globals.isExecCalled=!0;var A=null;if(c.publicMethods.indexOf(i)!==-1){for(var h=arguments.length,u=new Array(h>2?h-2:0),p=2;p<h;p++)u[p-2]=arguments[p];A=c[i].apply(c,u)}return A}}},{key:"merge",value:function(n,i){return D.extend(n,i)}}]),se}();e.exports=pc})(vx,vx.exports);var XE=vx.exports,HC={exports:{}},KE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WE=KE,YE=WE;function _C(){}function zC(){}zC.resetWarningCache=_C;var $E=function(){function e(s,o,l,d,g,f){if(f!==YE){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zC,resetWarningCache:_C};return a.PropTypes=a,a};HC.exports=$E();var JE=HC.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=T;var t=g(q),a=l(XE),s=l(JE),o=["type","width","height","series","options"];function l(z){return z&&z.__esModule?z:{default:z}}function d(z){var D,ae;return typeof WeakMap!="function"?null:(D=new WeakMap,ae=new WeakMap,(d=function(X){return X?ae:D})(z))}function g(z,D){if(!D&&z&&z.__esModule)return z;if(z===null||N(z)!="object"&&typeof z!="function")return{default:z};if(D=d(D),D&&D.has(z))return D.get(z);var ae,X,_={__proto__:null},ie=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ae in z)ae!=="default"&&{}.hasOwnProperty.call(z,ae)&&((X=ie?Object.getOwnPropertyDescriptor(z,ae):null)&&(X.get||X.set)?Object.defineProperty(_,ae,X):_[ae]=z[ae]);return _.default=z,D&&D.set(z,_),_}function f(){return(f=Object.assign?Object.assign.bind():function(z){for(var D=1;D<arguments.length;D++){var ae,X=arguments[D];for(ae in X)!{}.hasOwnProperty.call(X,ae)||(z[ae]=X[ae])}return z}).apply(null,arguments)}function m(z,D){if(z==null)return{};var ae,X=y(z,D);if(Object.getOwnPropertySymbols)for(var _=Object.getOwnPropertySymbols(z),ie=0;ie<_.length;ie++)ae=_[ie],D.includes(ae)||{}.propertyIsEnumerable.call(z,ae)&&(X[ae]=z[ae]);return X}function y(z,D){if(z==null)return{};var ae,X={};for(ae in z)if({}.hasOwnProperty.call(z,ae)){if(D.includes(ae))continue;X[ae]=z[ae]}return X}function N(z){return(N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(z)}function B(z,D){var ae,X=Object.keys(z);return Object.getOwnPropertySymbols&&(ae=Object.getOwnPropertySymbols(z),D&&(ae=ae.filter(function(_){return Object.getOwnPropertyDescriptor(z,_).enumerable})),X.push.apply(X,ae)),X}function w(z){for(var D=1;D<arguments.length;D++){var ae=arguments[D]!=null?arguments[D]:{};D%2?B(Object(ae),!0).forEach(function(X){U(z,X,ae[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(ae)):B(Object(ae)).forEach(function(X){Object.defineProperty(z,X,Object.getOwnPropertyDescriptor(ae,X))})}return z}function U(z,D,ae){return(D=L(D))in z?Object.defineProperty(z,D,{value:ae,enumerable:!0,configurable:!0,writable:!0}):z[D]=ae,z}function L(z){return z=R(z,"string"),N(z)=="symbol"?z:z+""}function R(z,D){if(N(z)!="object"||!z)return z;var ae=z[Symbol.toPrimitive];if(ae===void 0)return(D==="string"?String:Number)(z);if(ae=ae.call(z,D||"default"),N(ae)!="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}function C(z,D){var ae=w({},z);return D.forEach(function(X){delete ae[X]}),ae}function I(z,D){var ae=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(z!==D){if(N(z)!=="object"||z===null||N(D)!=="object"||D===null)return!1;if(!ae.has(z)&&!ae.has(D)){ae.add(z),ae.add(D);var X=Object.keys(z),_=Object.keys(D);if(X.length!==_.length)return!1;for(var ie=0,oe=X;ie<oe.length;ie++){var W=oe[ie];if(!_.includes(W)||!I(z[W],D[W],ae))return!1}}}return!0}function T(Be){function D(fe){return fe&&N(fe)==="object"&&!Array.isArray(fe)}var W=Be.type,ae=W===void 0?"line":W,W=Be.width,X=W===void 0?"100%":W,W=Be.height,_=W===void 0?"auto":W,ie=Be.series,oe=Be.options,W=m(Be,o),$=(0,t.useRef)(null),Z=(0,t.useRef)(null),J=(0,t.useRef)(),ne=((0,t.useEffect)(function(){J.current=oe;var fe=$.current;return Z.current=new a.default(fe,ne()),Z.current.render(),function(){Z.current&&typeof Z.current.destroy=="function"&&Z.current.destroy()}},[]),(0,t.useEffect)(function(){var fe=!I(Z.current.w.config.series,ie),je=!I(J.current,oe)||_!==Z.current.opts.chart.height||X!==Z.current.opts.chart.width;(fe||je)&&(!fe||je?Z.current.updateOptions(ne()):Z.current.updateSeries(ie)),J.current=oe},[oe,ie,_,X]),function(){return te(oe,{chart:{type:ae,height:_,width:X},series:ie})}),te=function(fe,je){var Ce=w({},fe);return D(fe)&&D(je)&&Object.keys(je).forEach(function(Me){D(je[Me])&&Me in fe?Ce[Me]=te(fe[Me],je[Me]):Object.assign(Ce,U({},Me,je[Me]))}),Ce},Be=C(W,Object.keys(T.propTypes));return t.default.createElement("div",f({ref:$},Be))}T.propTypes={type:s.default.string.isRequired,series:s.default.array.isRequired,options:s.default.object.isRequired,width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number])}})(OC);const MA=k2(OC),VC=({title:e,icon:t,data:a,height:s=300,color:o="#3B82F6",smooth:l=!0,gradient:d=!0,className:g=""})=>{const f={chart:{id:`line-${e.replace(/\s+/g,"-").toLowerCase()}`,toolbar:{show:!1},background:"transparent"},theme:{mode:"light"},xaxis:{categories:a.map(y=>new Date(y.date).toLocaleDateString()),labels:{style:{colors:"#6B7280"}}},yaxis:{labels:{style:{colors:"#6B7280"}}},colors:[o],stroke:{curve:l?"smooth":"straight",width:3},fill:d?{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.3}}:void 0,grid:{borderColor:"#E5E7EB"}},m=[{name:e,data:a.map(y=>y.value)}];return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${g}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(MA,{options:f,series:m,type:"area",height:s})]})},ZE=({title:e,icon:t,data:a,height:s=300,colors:o=["#10B981","#F59E0B","#EF4444","#8B5CF6"],horizontal:l=!1,className:d=""})=>{const g={chart:{id:`bar-${e.replace(/\s+/g,"-").toLowerCase()}`,toolbar:{show:!1},background:"transparent"},theme:{mode:"light"},xaxis:{categories:a.map(m=>m.category),labels:{style:{colors:"#6B7280"}}},yaxis:{labels:{style:{colors:"#6B7280"}}},colors:o,plotOptions:{bar:{borderRadius:4,horizontal:l}},grid:{borderColor:"#E5E7EB"}},f=[{name:e,data:a.map(m=>m.value)}];return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${d}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(MA,{options:g,series:f,type:"bar",height:s})]})},GC=({title:e,icon:t,data:a,height:s=300,colors:o=["#3B82F6","#10B981","#F59E0B","#EF4444"],donut:l=!0,className:d=""})=>{const g={chart:{type:l?"donut":"pie",background:"transparent"},theme:{mode:"light"},labels:a.map(m=>m.category),colors:o,legend:{position:"bottom",labels:{colors:"#6B7280"}},plotOptions:l?{pie:{donut:{size:"70%"}}}:void 0},f=a.map(m=>m.value);return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${d}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(MA,{options:g,series:f,type:l?"donut":"pie",height:s})]})},eL=({title:e,icon:t,series:a,categories:s,height:o=350,colors:l=["#3B82F6","#10B981","#F59E0B","#EF4444"],className:d=""})=>{const g={chart:{type:"bar",stacked:!0,toolbar:{show:!1},background:"transparent"},theme:{mode:"light"},plotOptions:{bar:{horizontal:!1,borderRadius:4}},xaxis:{categories:s,labels:{style:{colors:"#6B7280"}}},yaxis:{labels:{style:{colors:"#6B7280"}}},colors:l,legend:{position:"top",labels:{colors:"#6B7280"}},grid:{borderColor:"#E5E7EB"}};return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${d}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(MA,{options:g,series:a,type:"bar",height:o})]})},tL=({title:e,icon:t,series:a,categories:s,height:o=300,color:l="#3B82F6",className:d=""})=>{const g={chart:{type:"heatmap",toolbar:{show:!1},background:"transparent"},theme:{mode:"light"},xaxis:{categories:s,labels:{style:{colors:"#6B7280"}}},yaxis:{labels:{style:{colors:"#6B7280"}}},colors:[l],grid:{borderColor:"#E5E7EB"}};return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${d}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(MA,{options:g,series:a,type:"heatmap",height:o})]})},rL=({title:e,icon:t,actualData:a,forecastData:s,categories:o,height:l=400,className:d=""})=>{const g={chart:{type:"line",toolbar:{show:!1},background:"transparent"},theme:{mode:"light"},xaxis:{categories:o,labels:{style:{colors:"#6B7280"}}},yaxis:{labels:{style:{colors:"#6B7280"}}},colors:["#3B82F6","#F59E0B"],stroke:{curve:"smooth",width:[3,2],dashArray:[0,5]},grid:{borderColor:"#E5E7EB"},legend:{labels:{colors:"#6B7280"}}},f=[{name:"Actual",data:a},{name:"Forecast",data:s}];return r.jsxs("div",{className:`p-6 bg-white dark:bg-gray-800 rounded-lg shadow ${d}`,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[t&&r.jsx("div",{className:"mr-2",children:t}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})]}),r.jsx(MA,{options:g,series:f,type:"line",height:l})]})},Xo=({title:e,value:t,unit:a,icon:s,trend:o,className:l=""})=>{const d=f=>{switch(f){case"up":return"text-green-500";case"down":return"text-red-500";default:return"text-gray-500"}},g=f=>{switch(f){case"up":return"↗";case"down":return"↘";default:return"→"}};return r.jsx("div",{className:`p-4 bg-white dark:bg-gray-800 rounded-lg shadow ${l}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t,a&&r.jsx("span",{className:"text-sm ml-1",children:a})]}),o&&r.jsxs("div",{className:`text-xs flex items-center ${d(o.direction)}`,children:[r.jsx("span",{className:"mr-1",children:g(o.direction)}),o.value," ",o.label]})]}),r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:s})]})})},aL=()=>r.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Analytics Pro"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Advanced analytics and BI: custom dashboards, KPI tracking, and predictive insights."}),r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:"Advanced"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Interactive Charts"})]}),r.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded",children:[r.jsx("div",{className:"text-2xl font-bold",children:"Predictive"}),r.jsx("div",{className:"text-sm text-gray-500",children:"AI Insights"})]})]})]}),qC=()=>{const[e,t]=q.useState("dashboard"),[a,s]=q.useState("30d"),[o,l]=q.useState("all"),[d,g]=q.useState("all"),[f,m]=q.useState(!0),[y,N]=q.useState(null),[B,w]=q.useState(null),[U,L]=q.useState(null),[R,C]=q.useState(null),I=async()=>{try{m(!0),N(null);const W="http://localhost:5001/api",$=localStorage.getItem("sil_lab_token"),Z={"Content-Type":"application/json"};$&&(Z.Authorization=`Bearer ${$}`);const[J,ne,te]=await Promise.all([fetch(`${W}/analytics/overview?period=${a}`,{headers:Z}),fetch(`${W}/analytics/advanced?period=${a}&department=${o}&technician=${d}`,{headers:Z}),fetch(`${W}/analytics/predictions`,{headers:Z})]);if(J.ok){const Be=await J.json();w(Be)}if(ne.ok){const Be=await ne.json();L(Be)}if(te.ok){const Be=await te.json();C(Be)}}catch(W){console.error("Failed to fetch analytics data:",W),N("Failed to load analytics data. Using sample data for demonstration."),w({testsPerDay:[{date:"2025-08-15",count:45},{date:"2025-08-16",count:52},{date:"2025-08-17",count:38},{date:"2025-08-18",count:61},{date:"2025-08-19",count:49},{date:"2025-08-20",count:55},{date:"2025-08-21",count:43}],avgTAT:4.2,departmentShare:[{category:"Hematology",revenue:45},{category:"Biochemistry",revenue:35},{category:"Immunology",revenue:20}],totalRequests:156,completedRequests:142,pendingRequests:14,activeTechnicians:8,completionRate:91}),L({workloadByDept:{"2025-08-20":{Hematology:15,Biochemistry:12,Immunology:8},"2025-08-21":{Hematology:18,Biochemistry:10,Immunology:6}},heatmapData:{8:{1:5,2:8,3:12,4:15,5:10},9:{1:8,2:12,3:18,4:20,5:15},10:{1:12,2:15,3:22,4:25,5:18}},errorData:[],technicianPerformance:[],dailyRevenue:{"2025-08-20":1250,"2025-08-21":1180},period:"30d"}),C({historical:[{date:"2025-08-15",count:45},{date:"2025-08-16",count:52},{date:"2025-08-17",count:38}],forecast:[{day:1,predicted:48,confidence:.85},{day:2,predicted:52,confidence:.8},{day:3,predicted:46,confidence:.75}],insights:{trend:"stable",averageDaily:48,recommendation:"Maintain current staffing levels"}})}finally{m(!1)}};q.useEffect(()=>{I()},[a,o,d]);const T=W=>{console.log(`Exporting data in ${W} format`),alert(`Export in ${W} format - Feature coming soon!`)},z=[{id:"dashboard",label:"Dashboard",icon:r.jsx(Rr,{className:"w-4 h-4"})},{id:"trends",label:"Trends",icon:r.jsx(ws,{className:"w-4 h-4"})},{id:"predictions",label:"Predictions",icon:r.jsx(Eg,{className:"w-4 h-4"})},{id:"reports",label:"Reports",icon:r.jsx(Ma,{className:"w-4 h-4"})}];if(f)return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),r.jsx("div",{className:"flex space-x-4 mb-6",children:[...Array(4)].map((W,$)=>r.jsx("div",{className:"h-10 bg-gray-200 rounded w-24"},$))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((W,$)=>r.jsx("div",{className:"h-24 bg-gray-200 rounded"},$))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"h-80 bg-gray-200 rounded"}),r.jsx("div",{className:"h-80 bg-gray-200 rounded"})]})]})});const D=()=>{if(!(U!=null&&U.workloadByDept))return{series:[],categories:[]};const W=Object.keys(U.workloadByDept).sort(),$=new Set;return W.forEach(J=>{Object.keys(U.workloadByDept[J]).forEach(ne=>{$.add(ne)})}),{series:Array.from($).map(J=>({name:J,data:W.map(ne=>U.workloadByDept[ne][J]||0)})),categories:W.map(J=>new Date(J).toLocaleDateString())}},ae=()=>{if(!(U!=null&&U.heatmapData))return{series:[],categories:[]};const W=Object.keys(U.heatmapData).sort((J,ne)=>parseInt(J)-parseInt(ne)),$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return{series:W.map(J=>({name:`${J}:00`,data:$.map((ne,te)=>{var Be;return((Be=U.heatmapData[J])==null?void 0:Be[te])||0})})),categories:$}},X=()=>{if(!R)return{actualData:[],forecastData:[],categories:[]};const W=R.historical.map(te=>te.count),$=R.forecast.map(te=>te.predicted),Z=[...W,...Array($.length).fill(null)],J=[...Array(W.length).fill(null),...$],ne=[...R.historical.map(te=>new Date(te.date).toLocaleDateString()),...R.forecast.map(te=>`Day +${te.day}`)];return{actualData:Z,forecastData:J,categories:ne}},_=D(),ie=ae(),oe=X();return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Analytics Pro"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Advanced laboratory analytics with predictive insights"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("select",{value:a,onChange:W=>s(W.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"}),r.jsx("option",{value:"1y",children:"Last year"})]}),r.jsxs("select",{value:o,onChange:W=>l(W.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Departments"}),r.jsx("option",{value:"Hematology",children:"Hematology"}),r.jsx("option",{value:"Biochemistry",children:"Biochemistry"}),r.jsx("option",{value:"Immunology",children:"Immunology"})]}),r.jsxs("button",{onClick:()=>T("csv"),className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors flex items-center gap-2",children:[r.jsx(ji,{className:"w-4 h-4"}),"Export"]}),r.jsxs("button",{onClick:I,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors flex items-center gap-2",children:[r.jsx(us,{className:"w-4 h-4"}),"Refresh"]})]})]}),y&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx(or,{className:"w-5 h-5 text-yellow-400 mr-2"}),r.jsxs("div",{className:"text-yellow-800",children:[r.jsx("strong",{children:"Note:"})," ",y]})]})}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:z.map(W=>r.jsxs("button",{onClick:()=>t(W.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${e===W.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[W.icon,W.label]},W.id))})}),e==="dashboard"&&B&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(Xo,{title:"Total Samples",value:B.totalRequests,icon:r.jsx(ds,{className:"w-6 h-6 text-blue-500"}),trend:{direction:"up",value:"+12%",label:"vs last period"}}),r.jsx(Xo,{title:"Avg Turnaround Time",value:B.avgTAT.toFixed(1),unit:"hrs",icon:r.jsx(ka,{className:"w-6 h-6 text-orange-500"}),trend:{direction:"down",value:"-8%",label:"improvement"}}),r.jsx(Xo,{title:"Active Technicians",value:B.activeTechnicians,icon:r.jsx(Ao,{className:"w-6 h-6 text-green-500"}),trend:{direction:"stable",value:"0%",label:"no change"}}),r.jsx(Xo,{title:"Completion Rate",value:B.completionRate.toFixed(1),unit:"%",icon:r.jsx(Br,{className:"w-6 h-6 text-purple-500"}),trend:{direction:"up",value:"+3%",label:"vs last period"}})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(eL,{title:"Workload by Department Over Time",icon:r.jsx(Rr,{className:"w-5 h-5 text-blue-500"}),series:_.series,categories:_.categories,height:350,colors:["#3B82F6","#10B981","#F59E0B","#EF4444"]}),r.jsx(tL,{title:"Test Volumes by Hour & Day",icon:r.jsx(b0,{className:"w-5 h-5 text-red-500"}),series:ie.series,categories:ie.categories,height:350,color:"#EF4444"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[B.testsPerDay.length>0&&r.jsx(VC,{title:"Daily Test Volume Trend",icon:r.jsx(ws,{className:"w-5 h-5 text-green-500"}),data:B.testsPerDay.map(W=>({date:W.date,value:W.count})),height:300,color:"#10B981",smooth:!0,gradient:!0}),B.departmentShare.length>0&&r.jsx(GC,{title:"Department Distribution",icon:r.jsx(tC,{className:"w-5 h-5 text-purple-500"}),data:B.departmentShare.map(W=>({category:W.category,value:W.revenue})),height:300,colors:["#8B5CF6","#06B6D4","#F59E0B","#EF4444"],donut:!0})]})]}),e==="trends"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ws,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Trend Analysis"}),r.jsx("p",{className:"text-gray-500",children:"Detailed trend analysis and comparative views coming soon!"})]})}),e==="predictions"&&R&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ws,{className:"w-8 h-8 text-blue-500 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Trend"}),r.jsx("div",{className:"text-xl font-bold capitalize",children:R.insights.trend})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ds,{className:"w-8 h-8 text-green-500 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Daily Average"}),r.jsx("div",{className:"text-xl font-bold",children:R.insights.averageDaily})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Eg,{className:"w-8 h-8 text-yellow-500 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Forecast Confidence"}),r.jsx("div",{className:"text-xl font-bold",children:"85%"})]})]})})]}),r.jsx(rL,{title:"7-Day Workload Forecast",icon:r.jsx(Eg,{className:"w-5 h-5 text-yellow-500"}),actualData:oe.actualData,forecastData:oe.forecastData,categories:oe.categories,height:400}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(b0,{className:"w-6 h-6 text-blue-500 mr-3 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"AI Recommendation"}),r.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:R.insights.recommendation})]})]})})]}),e==="reports"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ma,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Custom Reports"}),r.jsx("p",{className:"text-gray-500",children:"Advanced report builder and custom analytics coming soon!"})]})})]})},sL=({userRole:e,userId:t})=>{console.log("BillingModule rendering, props:",{userRole:e,userId:t});const{user:a}=zt();console.log("BillingModule user from auth:",a);const s=e||(a==null?void 0:a.role)||"GUEST",o=t||(a==null?void 0:a.id)||"unknown";console.log("BillingModule final userRole:",s,"userId:",o);const[l,d]=q.useState("dashboard"),[g,f]=q.useState(null),[m,y]=q.useState(!0),[N,B]=q.useState([]);if(!a)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(or,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Authentification requise"}),r.jsx("p",{className:"text-gray-600",children:"Veuillez vous connecter pour accéder au module de facturation."})]})});q.useEffect(()=>{console.log("BillingModule useEffect called"),f({totalRevenue:125e3,pendingInvoices:15,overdueAmount:25e3,collectionRate:85.5,recentTransactions:8}),y(!1),w().catch(X=>{console.error("Failed to load quick stats:",X)}),U().catch(X=>{console.error("Failed to load notifications:",X)});const ae=setTimeout(()=>{m&&(console.warn("Billing module loading timeout - forcing render"),y(!1))},2e3);return()=>clearTimeout(ae)},[]);const w=async()=>{console.log("BillingModule loadQuickStats called");try{console.log("BillingModule calling billingService.getDashboardMetrics");const ae=await billingService.getDashboardMetrics("month");console.log("BillingModule received dashboard data:",ae),f({totalRevenue:ae.metrics.totalRevenue,pendingInvoices:ae.metrics.totalInvoices-ae.metrics.paidInvoices,overdueAmount:ae.metrics.overdueInvoices*1e3,collectionRate:parseFloat(ae.metrics.collectionRate),recentTransactions:ae.recentTransactions.length})}catch(ae){console.error("Error loading quick stats:",ae),console.log("BillingModule setting fallback data"),f({totalRevenue:125e3,pendingInvoices:15,overdueAmount:25e3,collectionRate:85.5,recentTransactions:8})}finally{console.log("BillingModule setting loading to false"),y(!1)}},U=async()=>{try{const X=(await billingService.getInvoices({status:"OVERDUE",limit:5})).data.map(_=>({id:_.id,type:"overdue",title:"Facture en retard",message:`Facture ${_.invoiceNumber} de ${_.customerName} est en retard`,timestamp:new Date(_.dueDate),severity:"high"}));B(X)}catch(ae){console.error("Error loading notifications:",ae),B([{id:"1",type:"overdue",title:"Facture en retard",message:"Facture INV-2024-001 de Client Test est en retard",timestamp:new Date,severity:"high"}])}},L=ae=>new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD"}).format(ae),R=ae=>{const _={dashboard:Rr,invoices:Jr,payments:co,customers:Ao,reports:y0,settings:cn}[ae]||Rr;return r.jsx(_,{className:"h-5 w-5"})},C=ae=>({dashboard:"Tableau de Bord",invoices:"Factures",payments:"Paiements",customers:"Clients",reports:"Rapports",settings:"Paramètres"})[ae]||ae,I=ae=>{var _;return((_={ADMIN:["dashboard","invoices","payments","customers","reports","settings"],SECRETARY:["dashboard","invoices","payments","customers","reports"],BIOLOGIST:["dashboard","reports"],TECHNICIAN:["dashboard"]}[s])==null?void 0:_.includes(ae))||!1},T=["dashboard","invoices","payments","customers","reports","settings"].filter(ae=>I(ae)),z=()=>{console.log("BillingModule renderTabContent called, activeTab:",l);try{switch(l){case"dashboard":return console.log("BillingModule rendering dashboard tab"),r.jsx(D,{});case"invoices":return r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Factures"}),r.jsx("p",{children:"Module des factures en cours de développement..."})]});case"payments":return r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Paiements"}),r.jsx("p",{children:"Module des paiements en cours de développement..."})]});case"customers":return r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Clients"}),r.jsx("p",{children:"Module des clients en cours de développement..."})]});case"reports":return r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Rapports"}),r.jsx("p",{children:"Module des rapports en cours de développement..."})]});case"settings":return r.jsx(nL,{userRole:s});default:return r.jsx(D,{})}}catch(ae){return console.error("Error rendering tab content:",ae),r.jsx(D,{})}},D=()=>r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenus Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L((g==null?void 0:g.totalRevenue)||125e3)})]}),r.jsx(Os,{className:"h-8 w-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Factures en Attente"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(g==null?void 0:g.pendingInvoices)||15})]}),r.jsx(ka,{className:"h-8 w-8 text-yellow-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Montant en Retard"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L((g==null?void 0:g.overdueAmount)||25e3)})]}),r.jsx(or,{className:"h-8 w-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Taux de Recouvrement"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[((g==null?void 0:g.collectionRate)||85.5).toFixed(1),"%"]})]}),r.jsx(Br,{className:"h-8 w-8 text-blue-600"})]})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bienvenue dans le Module de Facturation"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Ce module vous permet de gérer toutes vos opérations de facturation, des clients aux rapports financiers."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Fonctionnalités Disponibles"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("li",{children:"• Gestion des factures"}),r.jsx("li",{children:"• Suivi des paiements"}),r.jsx("li",{children:"• Gestion des clients"}),r.jsx("li",{children:"• Rapports financiers"}),r.jsx("li",{children:"• Paramètres de facturation"})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Actions Rapides"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded",children:"→ Créer une nouvelle facture"}),r.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded",children:"→ Enregistrer un paiement"}),r.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded",children:"→ Ajouter un nouveau client"})]})]})]})]})]});return m?(console.log("BillingModule showing loading state"),r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"Chargement du module de facturation..."})]})):(console.log("BillingModule rendering main content, activeTab:",l),r.jsxs("div",{className:"w-full bg-gray-50",children:[r.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",background:"red",color:"white",padding:"5px",zIndex:9999},children:"BILLING MODULE LOADED"}),r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(o6,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestionnaire de Facturation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Gestion complète des finances du laboratoire"})]})]}),g&&r.jsxs("div",{className:"hidden lg:flex space-x-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:L(g.totalRevenue)}),r.jsx("div",{className:"text-xs text-gray-500",children:"Revenus du mois"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:g.pendingInvoices}),r.jsx("div",{className:"text-xs text-gray-500",children:"Factures en attente"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:L(g.overdueAmount)}),r.jsx("div",{className:"text-xs text-gray-500",children:"Montant en retard"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[g.collectionRate.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Taux de recouvrement"})]})]})]})})}),r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("nav",{className:"flex space-x-8",children:T.map(ae=>r.jsxs("button",{onClick:()=>d(ae),className:`flex items-center px-3 py-4 text-sm font-medium border-b-2 transition-colors ${l===ae?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[R(ae),r.jsx("span",{className:"ml-2",children:C(ae)})]},ae))})})}),N.length>0&&r.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(or,{className:"h-5 w-5 text-yellow-600 mr-2"}),r.jsxs("span",{className:"text-sm text-yellow-800",children:[N.length," notification(s) nécessitent votre attention"]}),r.jsx("button",{className:"ml-4 text-sm text-yellow-600 hover:text-yellow-800 underline",children:"Voir tout"})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:z()})]}))},nL=({userRole:e})=>{const[t,a]=q.useState({defaultCurrency:"MAD",taxRate:20,stampTaxRate:.1,paymentTerms:30,autoReminders:!0,reminderDays:[7,14,30],invoicePrefix:"INV",receiptPrefix:"REC",enableMultiCurrency:!1,enableRecurringInvoices:!0,enableOnlinePayments:!1}),[s,o]=q.useState({quickbooks:{enabled:!1,configured:!1},xero:{enabled:!1,configured:!1},odoo:{enabled:!1,configured:!1},sage:{enabled:!1,configured:!1}}),l=(f,m)=>{a(y=>({...y,[f]:m}))},d=f=>{o(m=>({...m,[f]:{...m[f],enabled:!m[f].enabled}}))},g=async()=>{try{console.log("Saving settings:",t),alert("Paramètres sauvegardés avec succès!")}catch(f){console.error("Error saving settings:",f),alert("Erreur lors de la sauvegarde des paramètres")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white shadow rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Paramètres de Facturation"})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Paramètres Généraux"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Devise par défaut"}),r.jsxs("select",{value:t.defaultCurrency,onChange:f=>l("defaultCurrency",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"MAD",children:"MAD - Dirham Marocain"}),r.jsx("option",{value:"USD",children:"USD - Dollar Américain"}),r.jsx("option",{value:"EUR",children:"EUR - Euro"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taux de TVA (%)"}),r.jsx("input",{type:"number",value:t.taxRate,onChange:f=>l("taxRate",parseFloat(f.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taux de timbre (%)"}),r.jsx("input",{type:"number",step:"0.01",value:t.stampTaxRate,onChange:f=>l("stampTaxRate",parseFloat(f.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Délai de paiement (jours)"}),r.jsx("input",{type:"number",value:t.paymentTerms,onChange:f=>l("paymentTerms",parseInt(f.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Paramètres des Factures"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Préfixe des factures"}),r.jsx("input",{type:"text",value:t.invoicePrefix,onChange:f=>l("invoicePrefix",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Préfixe des reçus"}),r.jsx("input",{type:"text",value:t.receiptPrefix,onChange:f=>l("receiptPrefix",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Fonctionnalités"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.autoReminders,onChange:f=>l("autoReminders",f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Rappels automatiques de paiement"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.enableMultiCurrency,onChange:f=>l("enableMultiCurrency",f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Support multi-devises"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.enableRecurringInvoices,onChange:f=>l("enableRecurringInvoices",f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Factures récurrentes"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.enableOnlinePayments,onChange:f=>l("enableOnlinePayments",f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Paiements en ligne"})]})]})]})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Intégrations Comptables"})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(s).map(([f,m])=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ro,{className:"h-8 w-8 text-gray-400 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 capitalize",children:f}),r.jsx("div",{className:"text-sm text-gray-500",children:m.configured?"Configuré":"Non configuré"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>d(f),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${m.enabled?"bg-blue-600":"bg-gray-200"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.enabled?"translate-x-6":"translate-x-1"}`})}),r.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800",children:"Configurer"})]})]},f))})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:g,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Sauvegarder les Paramètres"})})]})},iL=()=>(console.log("BillingModuleWrapper rendering"),r.jsx(sL,{})),pA={"backup-manager":HE,"quality-control":qE,"analytics-pro":{id:"analytics-pro",name:{fr:"Analytics Pro",en:"Analytics Pro"},description:{fr:"Analytique avancée et intelligence d'affaires avec tableaux de bord personnalisés, suivi des KPI et insights prédictifs.",en:"Advanced analytics and business intelligence with custom dashboards, KPI tracking, and predictive insights."},version:"0.1.0",category:"analytics",icon:Rr,color:"#4F46E5",features:{fr:["Tableaux de bord personnalisés","Suivi des KPI","Analyses prédictives"],en:["Custom dashboards","KPI tracking","Predictive analytics"]},permissions:["ADMIN","BIOLOGIST"],routes:[{path:"/modules/analytics-pro",component:qC,name:{fr:"Analytics Pro",en:"Analytics Pro"}}],menuItems:[{name:{fr:"Analytics",en:"Analytics"},path:"/modules/analytics-pro",icon:Rr,permissions:["ADMIN","BIOLOGIST"]}],dashboardWidgets:[{id:"analytics-pro-kpi",name:{fr:"KPI Analytics",en:"KPI Analytics"},component:aL,size:"large",permissions:["ADMIN","BIOLOGIST"]}],quickActions:[],notifications:[],settings:[{key:"analytics.enablePredictive",name:{fr:"Activer prédictif",en:"Enable Predictive"},type:"boolean",default:!0,description:{fr:"Activer les analyses prédictives",en:"Enable predictive analytics"}}],dependencies:[],author:"SIL Labs",license:"proprietary",documentation:{fr:"",en:""}},"billing-manager":{id:"billing-manager",name:{fr:"Gestionnaire de Facturation",en:"Billing Manager"},description:{fr:"Système de facturation avancé avec gestion des assurances, suivi des paiements, rapports financiers et conformité fiscale marocaine.",en:"Advanced billing system with insurance management, payment tracking, financial reporting and Moroccan tax compliance."},version:"1.0.0",category:"finance",icon:co,color:"#059669",features:{fr:["Génération de factures automatique","Gestion des réclamations d'assurance","Suivi des paiements","Rapports financiers avancés","Gestion fiscale (TVA, Timbre)","Support multi-devises","Portail client","Intégrations comptables"],en:["Automatic invoice generation","Insurance claims management","Payment tracking","Advanced financial reporting","Tax management (VAT, Stamp)","Multi-currency support","Client portal","Accounting integrations"]},permissions:["ADMIN","SECRETARY"],routes:[{path:"/modules/billing-manager",component:iL,name:{fr:"Gestionnaire de Facturation",en:"Billing Manager"}}],menuItems:[{name:{fr:"Facturation",en:"Billing"},path:"/modules/billing-manager",icon:co,permissions:["ADMIN","SECRETARY"]}],dashboardWidgets:[{id:"billing-revenue-widget",name:{fr:"Revenus du Mois",en:"Monthly Revenue"},component:()=>null,size:"medium",permissions:["ADMIN","SECRETARY"]},{id:"billing-outstanding-widget",name:{fr:"Factures en Attente",en:"Outstanding Invoices"},component:()=>null,size:"medium",permissions:["ADMIN","SECRETARY"]}],quickActions:[{name:{fr:"Nouvelle Facture",en:"New Invoice"},icon:Jr,action:"billing.create-invoice",color:"#059669",permissions:["ADMIN","SECRETARY"]},{name:{fr:"Enregistrer Paiement",en:"Record Payment"},icon:C6,action:"billing.record-payment",color:"#0891b2",permissions:["ADMIN","SECRETARY"]}],notifications:[{id:"billing-overdue-invoices",type:"warning",condition:"hasOverdueInvoices",message:{fr:"Vous avez des factures en retard qui nécessitent votre attention",en:"You have overdue invoices that require attention"},actions:[{label:{fr:"Voir les factures",en:"View invoices"},action:"billing.view-overdue"}]}],settings:[{key:"billing.defaultCurrency",name:{fr:"Devise par défaut",en:"Default Currency"},type:"select",options:[{value:"MAD",label:{fr:"MAD - Dirham Marocain",en:"MAD - Moroccan Dirham"}},{value:"USD",label:{fr:"USD - Dollar Américain",en:"USD - US Dollar"}},{value:"EUR",label:{fr:"EUR - Euro",en:"EUR - Euro"}}],default:"MAD",description:{fr:"Devise utilisée par défaut pour les factures",en:"Default currency for invoices"}},{key:"billing.taxRate",name:{fr:"Taux de TVA (%)",en:"VAT Rate (%)"},type:"number",min:0,max:100,default:20,description:{fr:"Taux de TVA appliqué aux factures",en:"VAT rate applied to invoices"}},{key:"billing.autoReminders",name:{fr:"Rappels automatiques",en:"Automatic reminders"},type:"boolean",default:!0,description:{fr:"Envoyer des rappels de paiement automatiquement",en:"Send payment reminders automatically"}}],dependencies:[],author:"SIL Lab Systems",license:"proprietary",documentation:{fr:"",en:""}}},$l=e=>pA[e],ff=()=>Object.values(pA),Ou=(e,t)=>{const a=$l(e);return a?a.permissions.includes(t)||a.permissions.includes("ALL"):!1},oL=e=>ff().filter(t=>Ou(t.id,e)).flatMap(t=>t.routes),lL=e=>ff().filter(t=>Ou(t.id,e)).flatMap(t=>t.menuItems).filter(t=>t.permissions.includes(e)||t.permissions.includes("ALL")),cL=e=>ff().filter(t=>Ou(t.id,e)).flatMap(t=>t.dashboardWidgets||[]).filter(t=>t.permissions.includes(e)||t.permissions.includes("ALL")),AL=e=>ff().filter(t=>Ou(t.id,e)).flatMap(t=>t.quickActions||[]).filter(t=>t.permissions.includes(e)||t.permissions.includes("ALL")),XC=(e,t)=>t.some(a=>a.moduleId===e&&(a.status==="ACTIVE"||a.status==="TRIAL")&&new Date(a.expiresAt)>new Date),dL=({children:e})=>{const{user:t,language:a}=zt(),[s,o]=q.useState([]),[l,d]=q.useState(!0);q.useState({});const[g,f]=q.useState(!1),{moduleVersion:m}=sf();q.useEffect(()=>{y()},[m]);const y=async()=>{try{if(!Xr.checkAuthenticationStatus().isAuthenticated){console.warn("User not authenticated, skipping module loading");return}const w=await Xr.getInstalledModules();o(w)}catch(B){console.error("Error loading installed modules:",B),B instanceof Error&&B.message.includes("Authentication")&&(console.warn("Authentication error in module loading. User may need to re-login."),Xr.checkAuthenticationStatus())}finally{d(!1)}},N=()=>{if(!t)return[];const B=oL(t.role).filter(w=>{const U=Object.keys(pA).find(L=>{const R=$l(L);return R==null?void 0:R.routes.some(C=>C.path===w.path)});return U?XC(U,s)&&Ou(U,t.role):!1});if(g&&!B.some(w=>w.path==="/modules/analytics-pro")&&B.push({path:"/modules/analytics-pro",component:$l("analytics-pro").routes[0].component}),(t.role==="ADMIN"||t.role==="SECRETARY")&&!B.some(w=>w.path==="/modules/billing-manager")){const w=$l("billing-manager");w&&w.routes.length>0&&B.push({path:"/modules/billing-manager",component:w.routes[0].component})}return B};return l?r.jsxs(r.Fragment,{children:[e,r.jsx(ux,{})]}):r.jsxs(r.Fragment,{children:[e,r.jsx(ux,{children:N().map((B,w)=>r.jsx(Jt,{path:B.path,element:r.jsx(B.component,{})},`${B.path}-${w}`))})]})},KC=()=>{const{user:e}=zt(),[t,a]=q.useState([]),[s,o]=q.useState(!0);q.useEffect(()=>{l()},[]);const l=async()=>{try{if(!Xr.checkAuthenticationStatus().isAuthenticated){console.warn("User not authenticated, skipping module loading");return}const B=await Xr.getInstalledModules();a(B)}catch(N){console.error("Error loading installed modules:",N),N instanceof Error&&N.message.includes("Authentication")&&(console.warn("Authentication error in module loading. User may need to re-login."),Xr.checkAuthenticationStatus())}finally{o(!1)}},d=N=>XC(N,t);return{installedModules:t,loading:s,isModuleActive:d,getModuleLicense:N=>t.find(B=>B.moduleId===N),getActiveMenuItems:()=>e?lL(e.role).filter(N=>{const B=Object.keys(pA).find(w=>{const U=$l(w);return U==null?void 0:U.menuItems.some(L=>L.path===N.path)});return B&&d(B)}):[],getActiveDashboardWidgets:()=>e?cL(e.role).filter(N=>{const B=Object.keys(pA).find(w=>{var L;const U=$l(w);return(L=U==null?void 0:U.dashboardWidgets)==null?void 0:L.some(R=>R.id===N.id)});return B&&d(B)}):[],getActiveQuickActions:()=>e?AL(e.role).filter(N=>{const B=Object.keys(pA).find(w=>{var L;const U=$l(w);return(L=U==null?void 0:U.quickActions)==null?void 0:L.some(R=>R.action===N.action)});return B&&d(B)}):[],refresh:l}};function uL({onClose:e}){const{user:t,language:a}=zt(),{moduleVersion:s}=sf(),{getActiveMenuItems:o}=KC(),[l,d]=q.useState(null),[g,f]=q.useState(null),[m,y]=q.useState(null),[N,B]=q.useState(null),[w,U]=q.useState(!1),L={fr:{analyticsBasic:"Analytics",analyticsPro:"Analytics Pro",dashboard:"Tableau de bord",patients:"Patients",doctors:"Médecins",analyses:"Analyses",requests:"Demandes",newRequest:"Nouvelle Demande",results:"Résultats",validation:"Validation",billing:"Facturation",config:"Configuration",logout:"Déconnexion",stockManagement:"Gestion des Stocks",stockDashboard:"Tableau de bord",addStock:"Ajouter Stock",createProduct:"Créer un nouveau produit",useStock:"Utiliser Stock",transferStock:"Transférer Stock",adjustInventory:"Ajuster Inventaire",suppliers:"Fournisseurs",orders:"Commandes",reports:"Rapports",priceManagement:"Gestion des Prix",userManagement:"Gestion des Utilisateurs",systemSettings:"Paramètres Système",moduleStore:"Store de Modules",auditTrail:"Journal d'Audit",backupRestore:"Sauvegarde & Restauration",automates:"Intégration Automates",qualityControl:"Contrôle Qualité"},en:{analyticsBasic:"Analytics",analyticsPro:"Analytics Pro",dashboard:"Dashboard",patients:"Patients",doctors:"Doctors",analyses:"Analyses",requests:"Requests",newRequest:"New Request",results:"Results",validation:"Validation",billing:"Billing",config:"Configuration",logout:"Logout",stockManagement:"Stock Management",stockDashboard:"Stock Dashboard",addStock:"Add Stock",createProduct:"Create New Product",useStock:"Use Stock",transferStock:"Transfer Stock",adjustInventory:"Adjust Inventory",suppliers:"Suppliers",orders:"Orders",reports:"Reports",priceManagement:"Price Management",userManagement:"User Management",systemSettings:"System Settings",moduleStore:"Module Store",auditTrail:"Audit Trail",backupRestore:"Backup & Restore",automates:"Automate Integration",qualityControl:"Quality Control"}}[a];q.useEffect(()=>{(async()=>{U(!0);try{const[oe,W,$]=await Promise.all([Xr.checkModuleAccess("stock-manager"),Xr.checkModuleAccess("analytics-pro"),Xr.checkModuleAccess("billing-manager")]);f(oe),y(W),B($)}catch(oe){console.error("Error checking module access:",oe),g||f({hasAccess:!1,daysRemaining:0,status:null,expiresAt:null,features:[]}),m||y({hasAccess:!1,daysRemaining:0,status:null,expiresAt:null,features:[]}),N||((t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SECRETARY"?B({hasAccess:!0,daysRemaining:999,status:"ACTIVE",expiresAt:new Date(Date.now()+863136e5).toISOString(),features:["invoicing","payments","reporting"]}):B({hasAccess:!1,daysRemaining:0,status:null,expiresAt:null,features:[]}))}finally{U(!1)}})()},[s,t==null?void 0:t.role]);const R=[{id:"dashboard",label:L.dashboard,icon:r.jsx(m6,{size:20}),path:"/dashboard",roles:["ADMIN","BIOLOGIST","TECHNICIAN","SECRETARY"]},{id:"patients",label:L.patients,icon:r.jsx(Ao,{size:20}),path:"/patients",roles:["ADMIN","SECRETARY"]},{id:"doctors",label:L.doctors,icon:r.jsx(EA,{size:20}),path:"/doctors",roles:["ADMIN","SECRETARY"]},{id:"analyses",label:L.analyses,icon:r.jsx(Jr,{size:20}),path:"/analyses",roles:["ADMIN","BIOLOGIST"]},{id:"requests",label:L.requests,icon:r.jsx(y0,{size:20}),path:"/requests",roles:["ADMIN","SECRETARY","BIOLOGIST"],subItems:[{id:"requests-list",label:L.requests,icon:r.jsx(y0,{size:16}),path:"/requests",roles:["ADMIN","SECRETARY","BIOLOGIST"]},{id:"new-request",label:L.newRequest,icon:r.jsx(pa,{size:16}),path:"/new-request",roles:["ADMIN","SECRETARY","BIOLOGIST"]}]},{id:"results",label:L.results,icon:r.jsx(b6,{size:20}),path:"/results",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"validation",label:L.validation,icon:r.jsx(Br,{size:20}),path:"/validation",roles:["ADMIN","BIOLOGIST"]}],C=w?{id:"stock-loading",label:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{className:"text-gray-400",children:L.stockManagement}),r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-400"})]}),icon:r.jsx(vs,{size:20,className:"text-gray-400"}),path:"#",roles:["ADMIN","TECHNICIAN"],subItems:[]}:g!=null&&g.hasAccess?{id:"stock",label:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{children:L.stockManagement}),g.daysRemaining<=30&&r.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[r.jsx(ka,{size:12}),r.jsxs("span",{className:g.daysRemaining<=7?"text-red-400":"text-yellow-400",children:[g.daysRemaining,"d"]})]})]}),icon:r.jsx(vs,{size:20}),path:"/stock",roles:["ADMIN","TECHNICIAN"],subItems:[{id:"stock-dashboard",label:L.stockDashboard,icon:r.jsx(Rr,{size:16}),path:"/stock/dashboard",roles:["ADMIN","TECHNICIAN"]},{id:"add-stock",label:L.addStock,icon:r.jsx(pa,{size:16}),path:"/stock/add",roles:["ADMIN","TECHNICIAN"]},{id:"create-product",label:L.createProduct,icon:r.jsx(k6,{size:16}),path:"/stock/create-product",roles:["ADMIN","TECHNICIAN"]},{id:"use-stock",label:L.useStock,icon:r.jsx(v6,{size:16}),path:"/stock/use",roles:["ADMIN","TECHNICIAN"]},{id:"transfer-stock",label:L.transferStock,icon:r.jsx(i6,{size:16}),path:"/stock/transfer",roles:["ADMIN","TECHNICIAN"]},{id:"adjust-inventory",label:L.adjustInventory,icon:r.jsx(cn,{size:16}),path:"/stock/adjust",roles:["ADMIN","TECHNICIAN"]},{id:"suppliers",label:L.suppliers,icon:r.jsx(sC,{size:16}),path:"/stock/suppliers",roles:["ADMIN","TECHNICIAN"]},{id:"orders",label:L.orders,icon:r.jsx(aC,{size:16}),path:"/stock/orders",roles:["ADMIN","TECHNICIAN"]},{id:"reports",label:L.reports,icon:r.jsx(p6,{size:16}),path:"/stock/reports",roles:["ADMIN","TECHNICIAN"]}]}:null,I=w?{id:"analytics-pro-loading",label:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{className:"text-gray-400",children:L.analyticsPro}),r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-400"})]}),icon:r.jsx(Rr,{size:20,className:"text-gray-400"}),path:"#",roles:["ADMIN","BIOLOGIST"]}:m!=null&&m.hasAccess||(t==null?void 0:t.role)==="ADMIN"?{id:"analytics-pro",label:L.analyticsPro,icon:r.jsx(Rr,{size:20}),path:"/modules/analytics-pro",roles:["ADMIN","BIOLOGIST"]}:null,T=w?{id:"billing-loading",label:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{className:"text-gray-400",children:L.billing}),r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-400"})]}),icon:r.jsx(Os,{size:20,className:"text-gray-400"}),path:"#",roles:["ADMIN","SECRETARY"]}:N!=null&&N.hasAccess?{id:"billing-manager",label:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{children:L.billing}),N.daysRemaining<=30&&r.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[r.jsx(ka,{size:12}),r.jsxs("span",{className:N.daysRemaining<=7?"text-red-400":"text-yellow-400",children:[N.daysRemaining,"d"]})]})]}),icon:r.jsx(Os,{size:20}),path:"/modules/billing-manager",roles:["ADMIN","SECRETARY"]}:null,D=[...R,...C?[C]:[],{id:"analytics-basic",label:L.analyticsBasic,icon:r.jsx(Rr,{size:20}),path:"/analytics",roles:["ADMIN","BIOLOGIST","TECHNICIAN","SECRETARY"]},...I?[I]:[],...T?[T]:[],{id:"automates",label:L.automates,icon:r.jsx(Ka,{size:20}),path:"/automates",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"quality-control",label:L.qualityControl,icon:r.jsx(ol,{size:20}),path:"/quality-control",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"moduleStore",label:L.moduleStore,icon:r.jsx(Cw,{size:20,color:"rgb(197 112 0)"}),path:"/config/modules",roles:["ADMIN"]},{id:"config",label:L.config,icon:r.jsx(cn,{size:20}),path:"/config",roles:["ADMIN"],subItems:[{id:"price-management",label:L.priceManagement,icon:r.jsx(Os,{size:16}),path:"/config/prices",roles:["ADMIN"]},{id:"user-management",label:L.userManagement,icon:r.jsx(Ao,{size:16}),path:"/config/users",roles:["ADMIN"]},{id:"system-settings",label:L.systemSettings,icon:r.jsx(cn,{size:16}),path:"/config/system",roles:["ADMIN"]},{id:"server-info",label:"Server Info",icon:r.jsx(eC,{size:16}),path:"/config/server-info",roles:["ADMIN"]},{id:"auditTrail",label:L.auditTrail,icon:r.jsx(Jr,{size:20}),path:"/config/audit",roles:["ADMIN"]}]},{id:"backupRestore",label:L.backupRestore,icon:r.jsx(g6,{size:20}),path:"/config/backup",roles:["ADMIN"]}].filter(ie=>ie.roles.includes((t==null?void 0:t.role)||"")),ae={BarChart3:Rr,Package:vs,Puzzle:Cw,Database:Ka},X=o().filter(ie=>!(ie.path==="/modules/analytics-pro"&&(m!=null&&m.hasAccess))).map(ie=>{let oe=null;if(typeof ie.icon=="string"){const W=ae[ie.icon];oe=W?r.jsx(W,{size:20}):r.jsx(vs,{size:20})}else if(typeof ie.icon=="function"){const W=ie.icon;oe=r.jsx(W,{size:20})}else oe=ie.icon;return{id:`module-${ie.path}`,label:ie.name[a],icon:oe,path:ie.path,roles:ie.permissions}}),_=()=>{e&&e()};return r.jsxs("nav",{className:"fixed lg:static top-0 left-0 h-full w-64 max-w-full bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col z-30 transition-transform lg:translate-x-0 overflow-y-auto shadow-lg lg:shadow-none",children:[r.jsxs("div",{className:"flex lg:hidden items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Menu"}),r.jsx("button",{onClick:e,className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close menu",children:r.jsx(tr,{size:24})})]}),r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 hidden lg:block",children:r.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"SIL Lab System"})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[D.map(ie=>r.jsx("div",{children:ie.subItems?r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"w-full flex items-center justify-between px-3 sm:px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",onClick:()=>d(l===ie.id?null:ie.id),children:[r.jsxs("span",{className:"flex items-center min-w-0",children:[ie.icon,r.jsx("span",{className:"ml-2 sm:ml-3 text-sm font-medium truncate",children:ie.label})]}),l===ie.id?r.jsx(d6,{size:18}):r.jsx(u6,{size:18})]}),l===ie.id&&r.jsx("div",{className:"ml-4 sm:ml-6 mt-1 space-y-1",children:ie.subItems.filter(oe=>oe.roles.includes((t==null?void 0:t.role)||"")).map(oe=>r.jsxs(Ip,{to:oe.path,className:({isActive:W})=>`flex items-center px-2 sm:px-3 py-2 text-sm rounded-lg transition-colors ${W?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"}`,onClick:_,children:[oe.icon,r.jsx("span",{className:"ml-2 truncate",children:oe.label})]},oe.id))})]}):r.jsxs(Ip,{to:ie.path,className:({isActive:oe})=>`flex items-center px-3 sm:px-4 py-2 text-sm rounded-lg transition-colors ${oe?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:_,children:[ie.icon,r.jsx("span",{className:"ml-2 sm:ml-3 font-medium truncate",children:ie.label})]})},ie.id)),X.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Modules"}),X.map(ie=>r.jsx("div",{children:r.jsxs(Ip,{to:ie.path,className:({isActive:oe})=>`flex items-center px-3 sm:px-4 py-2 text-sm rounded-lg transition-colors ${oe?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:_,children:[ie.icon,r.jsx("span",{className:"ml-2 sm:ml-3 font-medium truncate",children:ie.label})]})},ie.id))]})]}),r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 mt-auto",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 text-center",children:"v1.0.0"})})]})}function hL(){const[e,t]=q.useState(""),[a,s]=q.useState(""),[o,l]=q.useState(""),{login:d}=zt(),g=async f=>{f.preventDefault(),l(""),await d(e,a)||l("Invalid credentials")};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8 p-6 sm:p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4",children:"🧪"}),r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"SIL Laboratory"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Sign in to your account"})]}),r.jsxs("form",{className:"mt-6 sm:mt-8 space-y-4 sm:space-y-6",onSubmit:g,children:[r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-sm sm:text-base",placeholder:"admin@lab.fr"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),r.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:a,onChange:f=>s(f.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-sm sm:text-base",placeholder:"admin"})]})]}),o&&r.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:o}),r.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800 transition-colors",children:"Sign in"})]}),r.jsxs("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"hidden sm:block",children:"Demo credentials: admin@sil-lab.com / admin123 | secretary@sil-lab.com / sec123"}),r.jsx("div",{className:"sm:hidden",children:"Demo: admin@sil-lab.com / admin123"})]})]})})}const gL="http://localhost:5001/api";localStorage.getItem("sil_lab_token");const fL=e=>{localStorage.setItem("sil_lab_token",e)},Hw=()=>{localStorage.removeItem("sil_lab_token")},bt=async(e,t={},a=2)=>{const s=`${gL}${e}`,o=localStorage.getItem("sil_lab_token"),l=localStorage.getItem("sil_lab_user"),d={"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",...t.headers||{}};o&&(d.Authorization=`Bearer ${o}`),console.log("API Request Debug:",{url:s,hasToken:!!o,user:l?JSON.parse(l):null,method:t.method||"GET"});try{const g=await fetch(s,{...t,headers:d,cache:"no-store"});if(g.status===304&&a>0){const m=s.includes("?")?`${s}&_=${Date.now()}`:`${s}?_=${Date.now()}`,y=await fetch(m,{...t,headers:d,cache:"no-store"});if(!y.ok){const B=await y.json().catch(()=>({}));throw new Error(B.error||`HTTP error! status: ${y.status}`)}const N=await y.json();return console.log("API Response (retry):",e,N),N}if(!g.ok){const m=await g.json().catch(()=>({}));if(g.status===429&&a>0){const B=Math.pow(2,3-a)*1e3;return await new Promise(w=>setTimeout(w,B)),bt(e,t,a-1)}let y=m.error||`HTTP error! status: ${g.status}`;m.errors&&Array.isArray(m.errors)&&(y=m.errors.map(B=>B.msg||B.message).join(", "));const N=m.details?`: ${m.details}`:"";throw console.error("API Error Details:",{status:g.status,statusText:g.statusText,errorData:m,url:s,method:t.method||"GET"}),console.error("Full Error Data:",JSON.stringify(m,null,2)),new Error(y+N)}const f=await g.json();return console.log("API Response:",e,f),f}catch(g){throw console.error("API request failed:",g),g}},zh={login:async(e,t)=>{const a=await bt("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return a.token&&fL(a.token),a},logout:()=>{Hw()},getCurrentUser:async()=>{try{return(await bt("/auth/me")).user}catch(e){throw Hw(),e}},createUser:async e=>(await bt("/auth/users",{method:"POST",body:JSON.stringify(e)})).user,getUsers:async()=>(await bt("/auth/users")).users,updateUser:async(e,t)=>(await bt(`/auth/users/${e}`,{method:"PUT",body:JSON.stringify(t)})).user,deleteUser:async e=>{await bt(`/auth/users/${e}`,{method:"DELETE"})}},Gc={getPatients:async(e={})=>{const t=new URLSearchParams(e).toString();return await bt(`/patients?${t}`)},getPatient:async e=>(await bt(`/patients/${e}`)).patient,createPatient:async e=>(await bt("/patients",{method:"POST",body:JSON.stringify(e)})).patient,updatePatient:async(e,t)=>(await bt(`/patients/${e}`,{method:"PUT",body:JSON.stringify(t)})).patient,deletePatient:async e=>{await bt(`/patients/${e}`,{method:"DELETE"})},getPatientStats:async()=>await bt("/patients/stats/overview")},pL={getDoctors:async(e={})=>{const t=new URLSearchParams(e).toString();return await bt(`/doctors?${t}`)},getDoctor:async e=>(await bt(`/doctors/${e}`)).doctor,createDoctor:async e=>(await bt("/doctors",{method:"POST",body:JSON.stringify(e)})).doctor,updateDoctor:async(e,t)=>(await bt(`/doctors/${e}`,{method:"PUT",body:JSON.stringify(t)})).doctor,deleteDoctor:async e=>{await bt(`/doctors/${e}`,{method:"DELETE"})},searchDoctors:async e=>(await bt(`/doctors/search/autocomplete?q=${encodeURIComponent(e)}`)).doctors,getDoctorStats:async()=>await bt("/doctors/stats/overview")},wx={getAnalyses:async(e={})=>{const t=new URLSearchParams(e).toString();return await bt(`/analyses?${t}`)},getAnalysis:async e=>(await bt(`/analyses/${e}`)).analysis,createAnalysis:async e=>(await bt("/analyses",{method:"POST",body:JSON.stringify(e)})).analysis,updateAnalysis:async(e,t)=>(await bt(`/analyses/${e}`,{method:"PUT",body:JSON.stringify(t)})).analysis,deleteAnalysis:async e=>{await bt(`/analyses/${e}`,{method:"DELETE"})},getCategories:async()=>(await bt("/analyses/categories/list")).categories,searchAnalyses:async e=>(await bt(`/analyses/search/autocomplete?q=${encodeURIComponent(e)}`)).analyses,bulkUpdatePrices:async e=>await bt("/analyses/prices/bulk",{method:"PUT",body:JSON.stringify({updates:e})}),getAnalysisStats:async()=>await bt("/analyses/stats/overview")},cc={getRequests:async(e={})=>{const t=new URLSearchParams(e).toString();return await bt(`/requests?${t}`)},getRequest:async e=>(await bt(`/requests/${e}?_=${Date.now()}`)).request,createRequest:async e=>(await bt("/requests",{method:"POST",body:JSON.stringify(e)})).request,updateRequest:async(e,t)=>(await bt(`/requests/${e}`,{method:"PUT",body:JSON.stringify(t)})).request,updateRequestStatus:async(e,t)=>(await bt(`/requests/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})})).request,deleteRequest:async e=>{await bt(`/requests/${e}`,{method:"DELETE"})},getRequestStats:async(e="month")=>await bt(`/requests/stats/overview?period=${e}`),markAsDelivered:async(e,t)=>(await bt(`/requests/${e}/deliver`,{method:"PATCH",body:JSON.stringify({deliveredBy:t})})).request},eu={getResults:async(e={})=>{const t=new URLSearchParams(e).toString();return await bt(`/results?${t}`)},getResult:async e=>(await bt(`/results/${e}`)).result,createResult:async e=>(await bt("/results",{method:"POST",body:JSON.stringify(e)})).result,updateResult:async(e,t)=>(await bt(`/results/${e}`,{method:"PUT",body:JSON.stringify(t)})).result,validateResult:async(e,t)=>(await bt(`/results/${e}/validate`,{method:"PATCH",body:JSON.stringify({validatedBy:t})})).result,getResultsByRequest:async e=>(await bt(`/results/request/${e}`)).results,getResultStats:async()=>await bt("/results/stats/overview")},mL={saveRequest:async e=>{try{return{success:!0,data:await cc.createRequest(e)}}catch(t){return console.error("Save request error:",t),{success:!1,error:t.message}}},getRequests:async()=>{try{return{success:!0,data:(await cc.getRequests()).requests}}catch(e){return console.error("Get requests error:",e),{success:!1,error:e.message}}}},Vl={getPrices:async()=>{try{return(await wx.getAnalyses()).analyses.map(t=>({id:t.id,code:t.code,nom:t.nom||t.name,category:t.category,price:t.price,tva:t.tva,cost:t.cost}))}catch(e){return console.error("Get prices error:",e),[]}},savePrices:async e=>{try{const t=e.filter(o=>o.id).map(o=>({id:o.id,price:o.price,tva:o.tva}));if(t.length===0)return console.warn("No valid price updates to save (missing IDs)"),!1;const a=await wx.bulkUpdatePrices(t),s=a.results.every(o=>o.success);return s||console.error("Some price updates failed:",a.results.filter(o=>!o.success)),s}catch(t){return console.error("Save prices error:",t),!1}},calculateRequestTotal:(e,t=0,a=0)=>{let s=0,o=0;e.forEach(m=>{const y=m.price||0,N=m.tva||20,B=y*(N/100);s+=y,o+=B});const l=s+o,d=l*(t/100),g=l-d,f=g-a;return{subtotal:s,tvaTotal:o,totalBeforeDiscount:l,discount:t,discountAmount:d,totalAfterDiscount:g,advancePayment:a,amountDue:f}},getCurrencySettings:()=>{try{const e=localStorage.getItem("sil_lab_currency");if(e)return JSON.parse(e)}catch(e){console.error("Error loading currency settings:",e)}return{symbol:"dh",code:"MAD",position:"after",decimalPlaces:2}},saveCurrencySettings:e=>{try{return localStorage.setItem("sil_lab_currency",JSON.stringify(e)),!0}catch(t){return console.error("Error saving currency settings:",t),!1}}},_w={printLabels:e=>{var o,l,d,g,f,m;const t=window.open("","_blank");if(!t)return;const a=`SIL${Date.now()}`,s=`
      <html>
        <head>
          <title>Sample Labels</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .label { border: 2px solid #000; padding: 10px; margin: 10px 0; width: 300px; }
            .barcode { font-family: monospace; font-size: 12px; }
            .urgent { background-color: #ffebee; border-color: #f44336; }
          </style>
        </head>
        <body>
          <div class="label ${e.urgent?"urgent":""}">
            <h3>SIL Laboratory</h3>
            <p><strong>Patient:</strong> ${(o=e.patient)==null?void 0:o.prenom} ${(l=e.patient)==null?void 0:l.nom}</p>
            <p><strong>CNSS:</strong> ${(d=e.patient)==null?void 0:d.numeroCNSS}</p>
            <p><strong>Date:</strong> ${(g=e.appointment)==null?void 0:g.date} ${(f=e.appointment)==null?void 0:f.time}</p>
            <p><strong>Analyses:</strong></p>
            <ul>
              ${((m=e.analyses)==null?void 0:m.map(y=>`<li>${y.nom}</li>`).join(""))||""}
            </ul>
            <p class="barcode">${a}</p>
            ${e.urgent?'<p style="color: red; font-weight: bold;">URGENT</p>':""}
          </div>
        </body>
      </html>
    `;t.document.write(s),t.document.close(),t.print()},printReceipt:(e,t)=>{var o,l,d;const a=window.open("","_blank");if(!a)return;const s=`
      <html>
        <head>
          <title>Payment Receipt</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .receipt { border: 1px solid #ccc; padding: 20px; width: 400px; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; }
            .item { display: flex; justify-content: space-between; margin: 5px 0; }
            .total { border-top: 1px solid #000; padding-top: 10px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h2>SIL Laboratory</h2>
              <p>123 Medical Center, City, Country</p>
              <p>Phone: +1234567890 | Email: info@sil.lab</p>
            </div>
            
            <h3>Payment Receipt</h3>
            <p><strong>Patient:</strong> ${(o=e.patient)==null?void 0:o.prenom} ${(l=e.patient)==null?void 0:l.nom}</p>
            <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
            <p><strong>Request ID:</strong> ${e.id}</p>
            
            <h4>Analyses:</h4>
            ${((d=e.analyses)==null?void 0:d.map(g=>`
              <div class="item">
                <span>${g.nom}</span>
                <span>${g.price} €</span>
              </div>
            `).join(""))||""}
            
            <div class="total">
              <div class="item">
                <span>Subtotal:</span>
                <span>${t.subtotal} €</span>
              </div>
              <div class="item">
                <span>TVA:</span>
                <span>${t.tvaTotal} €</span>
              </div>
              ${t.discount>0?`
                <div class="item">
                  <span>Discount (${t.discount}%):</span>
                  <span>-${t.discountAmount} €</span>
                </div>
              `:""}
              ${t.advancePayment>0?`
                <div class="item">
                  <span>Advance Payment:</span>
                  <span>-${t.advancePayment} €</span>
                </div>
              `:""}
              <div class="item">
                <span><strong>Amount Due:</strong></span>
                <span><strong>${t.amountDue} €</strong></span>
              </div>
            </div>
            
            <p style="margin-top: 20px; text-align: center;">
              Thank you for choosing SIL Laboratory
            </p>
          </div>
        </body>
      </html>
    `;a.document.write(s),a.document.close(),a.print()}},xr={getDashboard:()=>bt("/stock/dashboard"),getProducts:(e={})=>{const t=new URLSearchParams(e).toString();return bt(`/stock/products?${t}`)},createProduct:e=>bt("/stock/products",{method:"POST",body:JSON.stringify(e)}),updateProduct:(e,t)=>bt(`/stock/products/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteProduct:e=>bt(`/stock/products/${e}`,{method:"DELETE"}),getSuppliers:(e={})=>{const t=new URLSearchParams(e).toString();return bt(`/stock/suppliers?${t}`)},createSupplier:e=>bt("/stock/suppliers",{method:"POST",body:JSON.stringify(e)}),updateSupplier:(e,t)=>bt(`/stock/suppliers/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteSupplier:e=>bt(`/stock/suppliers/${e}`,{method:"DELETE"}),getOrders:(e={})=>{const t=new URLSearchParams(e).toString();return bt(`/stock/orders?${t}`)},createOrder:e=>bt("/stock/orders",{method:"POST",body:JSON.stringify(e)}),updateOrder:(e,t)=>bt(`/stock/orders/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteOrder:e=>bt(`/stock/orders/${e}`,{method:"DELETE"}),addStock:e=>bt("/stock/stock-in",{method:"POST",body:JSON.stringify(e)}),useStock:e=>bt("/stock/stock-out",{method:"POST",body:JSON.stringify(e)}),transferStock:e=>bt("/stock/transfer",{method:"POST",body:JSON.stringify(e)}),adjustInventory:e=>bt("/stock/adjust",{method:"POST",body:JSON.stringify(e)}),getStockHistory:(e={})=>{const t=new URLSearchParams(e).toString();return bt(`/stock/history?${t}`)},getStockActivities:(e={})=>{const t=new URLSearchParams(e).toString();return bt(`/stock/activities?${t}`)},exportStockReport:(e={})=>{const t=new URLSearchParams(e).toString();return bt(`/stock/export?${t}`)}},xL=()=>{console.log("Debug function - API is now connected to PostgreSQL backend"),console.log("Use the browser network tab to see API requests")},an={getAutomates:async(e={})=>{const t=new URLSearchParams(e).toString();return await bt(`/automates?${t}`)},getAutomate:async e=>await bt(`/automates/${e}`),createAutomate:async e=>await bt("/automates",{method:"POST",body:JSON.stringify(e)}),updateAutomate:async(e,t)=>await bt(`/automates/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteAutomate:async e=>await bt(`/automates/${e}`,{method:"DELETE"}),addCodeMapping:async(e,t)=>await bt(`/automates/${e}/codes`,{method:"POST",body:JSON.stringify(t)}),updateCodeMapping:async(e,t,a)=>await bt(`/automates/${e}/codes/${t}`,{method:"PUT",body:JSON.stringify(a)}),deleteCodeMapping:async(e,t)=>await bt(`/automates/${e}/codes/${t}`,{method:"DELETE"}),getTransferLogs:async(e,t={})=>{const a=new URLSearchParams(t).toString();return await bt(`/automates/${e}/logs?${a}`)},updateStatus:async(e,t)=>await bt(`/automates/${e}/status`,{method:"PATCH",body:JSON.stringify(t)})},yL=({onDismiss:e})=>{const{language:t}=zt(),a=Dn(),[s,o]=q.useState(null),[l,d]=q.useState(!1),g={fr:{backupReminder:"Rappel de Sauvegarde",message:"Il y a {days} jours depuis votre dernière sauvegarde. Considérez créer une sauvegarde pour protéger vos données.",noBackupMessage:"Aucune sauvegarde n'a été créée. Il est recommandé de créer une sauvegarde pour protéger vos données.",createBackup:"Créer Sauvegarde",manageBackups:"Gérer Sauvegardes",dismiss:"Ignorer",critical:"Critique",warning:"Attention",info:"Information",dataProtection:"Protection des Données",lastBackup:"Dernière sauvegarde",never:"Jamais",daysAgo:"il y a {days} jours"},en:{backupReminder:"Backup Reminder",message:"It has been {days} days since your last backup. Consider creating a backup to protect your data.",noBackupMessage:"No backup has been created yet. It is recommended to create a backup to protect your data.",createBackup:"Create Backup",manageBackups:"Manage Backups",dismiss:"Dismiss",critical:"Critical",warning:"Warning",info:"Info",dataProtection:"Data Protection",lastBackup:"Last backup",never:"Never",daysAgo:"{days} days ago"}}[t];q.useEffect(()=>{(async()=>{try{const C=await ns.shouldShowBackupReminder();o(C)}catch(C){console.error("Error checking backup reminder:",C),o({show:!0,daysSince:999,message:g.noBackupMessage})}})()},[]);const f=()=>{d(!0),e&&e(),localStorage.setItem("backupReminderDismissed",new Date().toDateString())},m=()=>{a("/config/backup")},y=()=>{a("/config/backup")};if(q.useEffect(()=>{localStorage.getItem("backupReminderDismissed")===new Date().toDateString()&&d(!0)},[]),l||!s||!s.show)return null;const N=R=>R>=90?"critical":R>=30?"warning":"info",B=R=>{switch(R){case"critical":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}},w=R=>{switch(R){case"critical":return r.jsx(or,{className:"h-5 w-5 text-red-600"});case"warning":return r.jsx(or,{className:"h-5 w-5 text-yellow-600"});default:return r.jsx(Ka,{className:"h-5 w-5 text-blue-600"})}},U=N(s.daysSince),L=s.daysSince===999?g.noBackupMessage:g.message.replace("{days}",s.daysSince.toString());return r.jsx("div",{className:`rounded-lg border p-4 mb-6 ${B(U)}`,children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:w(U)}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-sm font-medium",children:[g.backupReminder,r.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-white bg-opacity-50",children:g[U]})]}),r.jsx("button",{onClick:f,className:"flex-shrink-0 ml-4 text-gray-400 hover:text-gray-600",children:r.jsx(tr,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"mt-2",children:r.jsx("p",{className:"text-sm",children:L})}),r.jsxs("div",{className:"mt-3 flex items-center space-x-4 text-xs",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ln,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{children:[g.lastBackup,": ",s.daysSince===999?g.never:g.daysAgo.replace("{days}",s.daysSince.toString())]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ol,{className:"h-4 w-4 mr-1"}),r.jsx("span",{children:g.dataProtection})]})]}),r.jsxs("div",{className:"mt-4 flex space-x-3",children:[r.jsxs("button",{onClick:m,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r.jsx(Ka,{className:"h-4 w-4 mr-1"}),g.createBackup]}),r.jsx("button",{onClick:y,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:g.manageBackups}),r.jsx("button",{onClick:f,className:"inline-flex items-center px-3 py-2 text-sm leading-4 font-medium text-gray-500 hover:text-gray-700",children:g.dismiss})]})]})]})})};function bL(){const{language:e,user:t}=zt(),{moduleVersion:a}=sf(),{getActiveDashboardWidgets:s,getActiveQuickActions:o}=KC(),l=Dn(),[d,g]=q.useState(null),[f,m]=q.useState(null),[y,N]=q.useState({totalRequests:0,pendingRequests:0,completedRequests:0,urgentRequests:0,totalRevenue:0,averageRevenue:0,totalPatients:0,totalDoctors:0,monthlyGrowth:0,topAnalyses:[],recentRequests:[],revenueByMonth:[],statusDistribution:[],expiringProducts:[],lowStockProducts:[]}),[B,w]=q.useState(!0),[U,L]=q.useState("month"),R={fr:{title:"Tableau de Bord",subtitle:"Vue d'ensemble du laboratoire",totalRequests:"Total Demandes",pendingRequests:"Demandes en Attente",completedRequests:"Demandes Terminées",urgentRequests:"Demandes Urgentes",totalRevenue:"Revenu Total",averageRevenue:"Revenu Moyen",totalPatients:"Total Patients",totalDoctors:"Total Médecins",monthlyGrowth:"Croissance Mensuelle",topAnalyses:"Analyses les Plus Demandées",recentRequests:"Demandes Récentes",revenueByMonth:"Revenus par Mois",statusDistribution:"Répartition par Statut",efficiencyMetrics:"Métriques d'Efficacité",qualityMetrics:"Métriques de Qualité",performance:"Performance",turnaroundTime:"Temps de Traitement",accuracy:"Précision",satisfaction:"Satisfaction",hours:"heures",percentage:"%",outOf:"/5",newPatients:"Nouveaux Patients",returningPatients:"Patients Récurrents",doctorReferrals:"Références Médecins",viewAll:"Voir Tout",period:"Période",today:"Aujourd'hui",week:"Cette Semaine",month:"Ce Mois",quarter:"Ce Trimestre",year:"Cette Année",patient:"Patient",doctor:"Médecin",analyses:"Analyses",status:"Statut",date:"Date",amount:"Montant",urgent:"Urgent",normal:"Normal",pending:"En attente",completed:"Terminé",processing:"En cours",cancelled:"Annulé",noData:"Aucune donnée disponible",loading:"Chargement...",rating:"Note",averageTime:"Temps Moyen",productivity:"Productivité",topDoctors:"Médecins les Plus Actifs",revenueTrend:"Tendance des Revenus",requestTrend:"Tendance des Demandes",financialMetrics:"Métriques Financières",operationalMetrics:"Métriques Opérationnelles",expiringProducts:"Produits Expirant Bientôt",lowStockProducts:"Produits en Stock Faible",expiryDate:"expire bientôt",currentStock:"Stock actuel",minStock:"Stock min",viewStockReport:"Voir Rapport Complet"},en:{title:"Dashboard",subtitle:"Laboratory Overview",totalRequests:"Total Requests",pendingRequests:"Pending Requests",completedRequests:"Completed Requests",urgentRequests:"Urgent Requests",totalRevenue:"Total Revenue",averageRevenue:"Average Revenue",totalPatients:"Total Patients",totalDoctors:"Total Doctors",monthlyGrowth:"Monthly Growth",topAnalyses:"Top Analyses",recentRequests:"Recent Requests",revenueByMonth:"Revenue by Month",statusDistribution:"Status Distribution",efficiencyMetrics:"Efficiency Metrics",qualityMetrics:"Quality Metrics",performance:"Performance",turnaroundTime:"Turnaround Time",accuracy:"Accuracy",satisfaction:"Satisfaction",hours:"hours",percentage:"%",outOf:"/5",newPatients:"New Patients",returningPatients:"Returning Patients",doctorReferrals:"Doctor Referrals",viewAll:"View All",period:"Period",today:"Today",week:"This Week",month:"This Month",quarter:"This Quarter",year:"This Year",patient:"Patient",doctor:"Doctor",analyses:"Analyses",status:"Status",date:"Date",amount:"Amount",urgent:"Urgent",normal:"Normal",pending:"Pending",completed:"Completed",processing:"Processing",cancelled:"Cancelled",noData:"No data available",loading:"Loading...",rating:"Rating",averageTime:"Average Time",productivity:"Productivity",topDoctors:"Most Active Doctors",revenueTrend:"Revenue Trend",requestTrend:"Request Trend",financialMetrics:"Financial Metrics",operationalMetrics:"Operational Metrics",expiringProducts:"Expiring Products",lowStockProducts:"Low Stock Products",expiryDate:"expiring soon",currentStock:"Current stock",minStock:"Min stock",viewStockReport:"View Full Report"}}[e];q.useEffect(()=>{C()},[U,d,f]),q.useEffect(()=>{(async()=>{try{const[D,ae]=await Promise.all([Xr.checkModuleAccess("stock-manager"),Xr.checkModuleAccess("billing-manager")]);g(D),m(ae)}catch(D){console.error("Error checking module access:",D),g({hasAccess:!1,daysRemaining:0,status:null,expiresAt:null,features:[]}),m({hasAccess:!1,daysRemaining:0,status:null,expiresAt:null,features:[]})}})()},[a]);const C=async()=>{w(!0);try{const D=(await cc.getRequests({_t:Date.now()})).requests||[],ae=Vl.getPrices(),X=D.length,_=D.filter(ve=>ve.status==="PENDING"||ve.status==="PROCESSING").length,ie=D.filter(ve=>ve.status==="COMPLETED").length,oe=D.filter(ve=>ve.priority==="URGENT").length;let W=0;const $={};D.forEach(ve=>{W+=ve.totalAmount||0,ve.requestAnalyses&&ve.requestAnalyses.forEach(Ee=>{const Xe=Ee.analysis.name;$[Xe]=($[Xe]||0)+1})});const Z=X>0?W/X:0,J=new Set(D.map(ve=>{var Ee;return(Ee=ve.patient)==null?void 0:Ee.id})).size,ne=new Set(D.map(ve=>{var Ee;return(Ee=ve.doctor)==null?void 0:Ee.id})).size,te=new Date().getMonth(),Be=new Date;Be.setMonth(te-1);const fe=D.filter(ve=>new Date(ve.createdAt).getMonth()===te).length,je=D.filter(ve=>new Date(ve.createdAt).getMonth()===Be.getMonth()).length,Ce=je>0?(fe-je)/je*100:0,Me=Object.entries($).map(([ve,Ee])=>{let Xe=0;return D.forEach(tt=>{tt.requestAnalyses&&tt.requestAnalyses.forEach(He=>{He.analysis.name===ve&&(Xe+=He.price)})}),{name:ve,count:Ee,revenue:Xe}}).sort((ve,Ee)=>Ee.count-ve.count).slice(0,5),Ae=D.sort((ve,Ee)=>new Date(Ee.createdAt).getTime()-new Date(ve.createdAt).getTime()).slice(0,5),he=[];for(let ve=5;ve>=0;ve--){const Ee=new Date;Ee.setMonth(Ee.getMonth()-ve);const Xe=Ee.toLocaleDateString(e==="fr"?"fr-FR":"en-US",{month:"short"}),tt=D.filter(qe=>{const Ft=new Date(qe.createdAt);return Ft.getMonth()===Ee.getMonth()&&Ft.getFullYear()===Ee.getFullYear()});let He=0;tt.forEach(qe=>{He+=qe.totalAmount||0}),he.push({month:Xe,revenue:He})}const ke={};D.forEach(ve=>{const Ee=ve.status||"pending";ke[Ee]=(ke[Ee]||0)+1});const Le=Object.entries(ke).map(([ve,Ee])=>({status:ve,count:Ee,percentage:Ee/X*100}));let Pe=[],Re=[];if(d!=null&&d.hasAccess)try{const ve=await xr.exportStockReport();ve&&Array.isArray(ve)&&(Pe=ve.filter(Ee=>Ee.expiringStock>0).sort((Ee,Xe)=>Xe.expiringStock-Ee.expiringStock).slice(0,5).map(Ee=>({name:Ee.name,code:Ee.code,expiringStock:Ee.expiringStock,currentStock:Ee.currentStock,expiryDate:Ee.earliestExpiryDate})),Re=ve.filter(Ee=>Ee.currentStock<=Ee.minStock&&Ee.currentStock>0).sort((Ee,Xe)=>Ee.currentStock/Ee.minStock-Xe.currentStock/Xe.minStock).slice(0,5).map(Ee=>({name:Ee.name,code:Ee.code,currentStock:Ee.currentStock,minStock:Ee.minStock})))}catch(ve){console.error("Error loading stock data:",ve)}N({totalRequests:X,pendingRequests:_,completedRequests:ie,urgentRequests:oe,totalRevenue:W,averageRevenue:Z,totalPatients:J,totalDoctors:ne,monthlyGrowth:Ce,topAnalyses:Me,recentRequests:Ae,revenueByMonth:he,statusDistribution:Le,expiringProducts:Pe,lowStockProducts:Re})}catch(z){console.error("Error loading dashboard data:",z)}finally{w(!1)}},I=z=>{switch(z){case"completed":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"processing":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"pending":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20 dark:text-yellow-400";case"cancelled":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20 dark:text-gray-400"}},T=z=>{switch(z){case"completed":return R.completed;case"processing":return R.processing;case"pending":return R.pending;case"cancelled":return R.cancelled;default:return R.pending}};return B?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:R.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:R.subtitle})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:["today","week","month","quarter","year"].map(z=>r.jsx("button",{onClick:()=>L(z),className:`px-3 sm:px-4 py-2 rounded-lg text-sm font-medium transition-colors ${U===z?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:R[z]},z))})}),r.jsx(yL,{}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:e==="fr"?"Actions Rapides":"Quick Actions"}),r.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[r.jsxs("button",{onClick:()=>l("/new-request"),className:"flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[r.jsx(Jr,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Nouvelle Demande":"New Request"}),r.jsx("span",{className:"sm:hidden",children:e==="fr"?"Demande":"Request"})]}),r.jsxs("button",{onClick:()=>l("/patients"),className:"flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm sm:text-base",children:[r.jsx(Ao,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Nouveau Patient":"New Patient"}),r.jsx("span",{className:"sm:hidden",children:"Patient"})]}),r.jsxs("button",{onClick:()=>l("/results"),className:"flex items-center px-3 sm:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm sm:text-base",children:[r.jsx(Rr,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Saisir Résultats":"Enter Results"}),r.jsx("span",{className:"sm:hidden",children:e==="fr"?"Résultats":"Results"})]}),o().map((z,D)=>r.jsxs("button",{onClick:()=>{z.action==="create-backup"?l("/config/backup"):(z.action==="new-control"||z.action==="control-charts")&&l("/quality-control")},className:`flex items-center px-3 sm:px-4 py-2 text-white rounded-lg hover:opacity-90 transition-colors text-sm sm:text-base ${z.color}`,children:[r.jsx(z.icon,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:z.name[e]}),r.jsx("span",{className:"sm:hidden",children:z.name[e].split(" ")[0]})]},`module-action-${D}`))]})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Jr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:R.totalRequests}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:y.totalRequests})]})]}),r.jsxs("div",{className:"mt-2 flex items-center text-xs sm:text-sm",children:[y.monthlyGrowth>0?r.jsx(ws,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 mr-1"}):r.jsx(hl,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600 mr-1"}),r.jsxs("span",{className:y.monthlyGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(y.monthlyGrowth).toFixed(1),"%"]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Os,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:R.totalRevenue}),r.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:[y.totalRevenue.toFixed(2)," dh"]})]})]}),r.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[R.averageRevenue,": ",y.averageRevenue.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ao,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:R.totalPatients}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:y.totalPatients})]})]}),r.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[R.totalDoctors,": ",y.totalDoctors]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(or,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:R.urgentRequests}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:y.urgentRequests})]})]}),r.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[R.pendingRequests,": ",y.pendingRequests]})]})]}),s().length>0&&r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Modules"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:s().map((z,D)=>r.jsx("div",{children:r.jsx(z.component,{language:e})},`module-widget-${z.id}-${D}`))})]}),(d==null?void 0:d.hasAccess)&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ka,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:R.expiringProducts})]}),r.jsx("button",{onClick:()=>l("/stock/reports"),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:R.viewStockReport})]}),r.jsx("div",{className:"space-y-2",children:y.expiringProducts&&y.expiringProducts.length>0?y.expiringProducts.map((z,D)=>r.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.name}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:z.code})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[z.expiringStock," ",R.expiryDate]}),z.expiryDate&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(z.expiryDate).toLocaleDateString(e==="fr"?"fr-FR":"en-US")}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[R.currentStock,": ",z.currentStock]})]})]},D)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:R.noData})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(or,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:R.lowStockProducts})]}),r.jsx("button",{onClick:()=>l("/stock/reports"),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:R.viewStockReport})]}),r.jsx("div",{className:"space-y-2",children:y.lowStockProducts&&y.lowStockProducts.length>0?y.lowStockProducts.map((z,D)=>r.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.name}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:z.code})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-yellow-600",children:[z.currentStock," / ",z.minStock]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[R.minStock,": ",z.minStock]})]})]},D)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:R.noData})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[r.jsx(ds,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:R.efficiencyMetrics})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[R.turnaroundTime,":"]}),r.jsxs("span",{className:"font-medium",children:["24 ",R.hours]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[R.accuracy,":"]}),r.jsxs("span",{className:"font-medium text-green-600",children:["99.8",R.percentage]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[R.satisfaction,":"]}),r.jsxs("span",{className:"font-medium",children:["4.8 ",R.outOf]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[r.jsx(b0,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:R.qualityMetrics})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[R.completedRequests,":"]}),r.jsx("span",{className:"font-medium text-green-600",children:y.completedRequests})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[R.processing,":"]}),r.jsx("span",{className:"font-medium text-blue-600",children:y.pendingRequests})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[R.urgentRequests,":"]}),r.jsx("span",{className:"font-medium text-orange-600",children:y.urgentRequests})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[r.jsx(KN,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:R.performance})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[R.newPatients,":"]}),r.jsx("span",{className:"font-medium",children:Math.floor(y.totalPatients*.3)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[R.returningPatients,":"]}),r.jsx("span",{className:"font-medium",children:Math.floor(y.totalPatients*.7)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[R.doctorReferrals,":"]}),r.jsx("span",{className:"font-medium",children:y.totalDoctors})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:R.topAnalyses}),r.jsx(Rr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),r.jsx("div",{className:"space-y-2 sm:space-y-3",children:y.topAnalyses.length>0?y.topAnalyses.map((z,D)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mr-2 sm:mr-3 flex-shrink-0",children:r.jsx("span",{className:"text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400",children:D+1})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:z.name}),r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[z.count," ",R.analyses]})]})]}),r.jsxs("span",{className:"text-sm font-medium text-green-600 ml-2 flex-shrink-0",children:[z.revenue.toFixed(2)," dh"]})]},z.name)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:R.noData})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:R.statusDistribution}),r.jsx(tC,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),r.jsx("div",{className:"space-y-2 sm:space-y-3",children:y.statusDistribution.length>0?y.statusDistribution.map(z=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[r.jsx("div",{className:"w-3 h-3 rounded-full mr-2 sm:mr-3 bg-blue-500 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white truncate",children:T(z.status)})]}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-shrink-0",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.count}),r.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["(",z.percentage.toFixed(1),"%)"]})]})]},z.status)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:R.noData})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:R.recentRequests}),r.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:R.viewAll})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:R.patient}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:R.doctor}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:R.analyses}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:R.status}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:R.date}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:R.amount})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:y.recentRequests.length>0?y.recentRequests.map(z=>{var D,ae;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"truncate max-w-[120px] sm:max-w-none",children:z.patient?`${z.patient.firstName} ${z.patient.lastName}`:"N/A"})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden sm:table-cell",children:r.jsx("div",{className:"truncate max-w-[120px]",children:z.doctor?`Dr. ${z.doctor.firstName} ${z.doctor.lastName}`:"N/A"})}),r.jsxs("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:[((D=z.requestAnalyses)==null?void 0:D.length)||0," ",R.analyses]}),r.jsx("td",{className:"px-3 sm:px-6 py-4",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${I(z.status)}`,children:T(z.status)})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-600 dark:text-gray-400 hidden lg:table-cell",children:new Date(z.createdAt).toLocaleDateString()}),r.jsxs("td",{className:"px-3 sm:px-6 py-4 text-sm font-medium text-green-600",children:[((ae=z.amountDue)==null?void 0:ae.toFixed(2))||"0.00"," dh"]})]},z.id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:R.noData})})})]})})]})]})}function vL(){const{language:e}=zt(),t=Dn(),[a,s]=q.useState(""),[o,l]=q.useState(!1),[d,g]=q.useState(!1),[f,m]=q.useState(null),y={fr:{title:"Gestion des Patients",newPatient:"Nouveau Patient",search:"Rechercher un patient...",name:"Nom",birthDate:"Date de Naissance",socialSecurity:"Sécurité Sociale",phone:"Téléphone",email:"Email",lastVisit:"Dernière Visite",actions:"Actions",close:"Fermer",save:"Enregistrer",cancel:"Annuler",viewResults:"Voir les résultats"},en:{title:"Patient Management",newPatient:"New Patient",search:"Search patient...",name:"Name",birthDate:"Birth Date",socialSecurity:"Social Security",phone:"Phone",email:"Email",lastVisit:"Last Visit",actions:"Actions",close:"Close",save:"Save",cancel:"Cancel",viewResults:"View Results"}}[e],[N,B]=q.useState([]),[w,U]=q.useState(!0);q.useEffect(()=>{(async()=>{try{const D=await Gc.getPatients();D.patients?B(D.patients):B([])}catch(D){console.error("Error loading patients:",D),B([])}finally{U(!1)}})()},[]);const L=z=>{m(z),g(!0)},R=z=>{m(z),l(!0)},C=z=>{t(`/results?patientId=${z.id}`),console.log("Navigating to results for patient:",z.id)},I=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:f?"Modifier Patient":y.newPatient}),r.jsx("button",{onClick:()=>l(!1),className:"p-1",children:r.jsx(tr,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Prénom",defaultValue:(f==null?void 0:f.firstName)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"text",placeholder:"Nom",defaultValue:(f==null?void 0:f.lastName)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"date",defaultValue:f!=null&&f.dateOfBirth?new Date(f.dateOfBirth).toISOString().split("T")[0]:"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"text",placeholder:"Sécurité Sociale",defaultValue:(f==null?void 0:f.cnssNumber)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"tel",placeholder:"Téléphone",defaultValue:(f==null?void 0:f.phone)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"email",placeholder:"Email",defaultValue:(f==null?void 0:f.email)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:y.cancel}),r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:y.save})]})]})}),T=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Détails du patient"}),r.jsx("button",{onClick:()=>g(!1),className:"p-1",children:r.jsx(tr,{size:20,className:"text-gray-500"})})]}),f&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",f.id]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Nom:"})," ",`${f.firstName} ${f.lastName}`]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Date de naissance:"})," ",new Date(f.dateOfBirth).toLocaleDateString()]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Genre:"})," ",f.gender]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Sécurité Sociale:"})," ",f.cnssNumber||"N/A"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Téléphone:"})," ",f.phone]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email:"})," ",f.email]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Adresse:"})," ",f.address||"N/A"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Créé le:"})," ",new Date(f.createdAt).toLocaleDateString()]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:y.close})})]})});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-4",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:y.title}),r.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center transition-colors",children:[r.jsx(pa,{size:18,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:y.newPatient}),r.jsx("span",{className:"sm:hidden",children:"+"})]})]}),r.jsx("div",{className:"mb-4 sm:mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(na,{size:18,className:"absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:y.search,value:a,onChange:z=>s(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm sm:text-base"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.name}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:y.birthDate}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:y.socialSecurity}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden md:table-cell",children:y.phone}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:y.lastVisit}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:w?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Chargement..."})]})})}):N.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Aucun patient enregistré."})}):N.map(z=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:r.jsx("div",{className:"truncate max-w-[120px] sm:max-w-none",children:`${z.firstName} ${z.lastName}`})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden sm:table-cell",children:new Date(z.dateOfBirth).toLocaleDateString()}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden lg:table-cell",children:r.jsx("div",{className:"truncate max-w-[120px]",children:z.cnssNumber||"N/A"})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden md:table-cell",children:z.phone}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden lg:table-cell",children:new Date(z.createdAt).toLocaleDateString()}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>L(z),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"View",children:r.jsx(Ma,{size:16})}),r.jsx("button",{onClick:()=>R(z),className:"text-green-600 hover:text-green-900 transition-colors",title:"Edit",children:r.jsx(Si,{size:16})}),r.jsx("button",{onClick:()=>C(z),className:"text-purple-600 hover:text-purple-900 transition-colors",title:y.viewResults,children:r.jsx(Jr,{size:16})})]})})]},z.id))})]})})}),o&&r.jsx(I,{}),d&&r.jsx(T,{})]})}function wL(){const{language:e}=zt(),[t,a]=q.useState([]),[s,o]=q.useState(""),[l,d]=q.useState("all"),[g,f]=q.useState("all"),[m,y]=q.useState(!1),[N,B]=q.useState(null),[w,U]=q.useState(!0),L={fr:{title:"Gestion des Médecins",subtitle:"Gestion des médecins référents",search:"Rechercher un médecin...",filter:"Filtrer",allSpecialties:"Toutes les spécialités",allStatus:"Tous les statuts",addDoctor:"Ajouter un médecin",editDoctor:"Modifier le médecin",nom:"Nom",prenom:"Prénom",specialite:"Spécialité",email:"Email",telephone:"Téléphone",adresse:"Adresse",numeroOrdre:"Numéro d'ordre",dateInscription:"Date d'inscription",statut:"Statut",notes:"Notes",actif:"Actif",inactif:"Inactif",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",actions:"Actions",totalDoctors:"Total médecins",activeDoctors:"Médecins actifs",specialties:"Spécialités",recentRegistrations:"Inscriptions récentes",success:"Médecin enregistré avec succès",error:"Erreur lors de l'enregistrement",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce médecin ?",doctorDetails:"Détails du médecin",noDoctors:"Aucun médecin trouvé",addNewDoctor:"Ajouter un nouveau médecin"},en:{title:"Doctor Management",subtitle:"Managing referring doctors",search:"Search for a doctor...",filter:"Filter",allSpecialties:"All specialties",allStatus:"All status",addDoctor:"Add doctor",editDoctor:"Edit doctor",nom:"Last Name",prenom:"First Name",specialite:"Specialty",email:"Email",telephone:"Phone",adresse:"Address",numeroOrdre:"License Number",dateInscription:"Registration Date",statut:"Status",notes:"Notes",actif:"Active",inactif:"Inactive",save:"Save",cancel:"Cancel",delete:"Delete",actions:"Actions",totalDoctors:"Total doctors",activeDoctors:"Active doctors",specialties:"Specialties",recentRegistrations:"Recent registrations",success:"Doctor saved successfully",error:"Error saving doctor",confirmDelete:"Are you sure you want to delete this doctor?",doctorDetails:"Doctor details",noDoctors:"No doctors found",addNewDoctor:"Add new doctor"}}[e],R=["Médecine générale","Cardiologie","Endocrinologie","Dermatologie","Gastroentérologie","Neurologie","Pneumologie","Rhumatologie","Urologie","Gynécologie","Pédiatrie","Psychiatrie","Radiologie","Chirurgie générale","Orthopédie"];q.useEffect(()=>{C()},[]);const C=()=>{try{const $=localStorage.getItem("sil_lab_doctors");if($)a(JSON.parse($));else{const Z=[{id:"1",nom:"Boulahcen",prenom:"Hicham",specialite:"Médecine générale",email:"h.boulahcen@medecin.fr",telephone:"01.42.34.56.78",adresse:"123 Rue de la Santé, 75014 Paris",numeroOrdre:"12345678",dateInscription:"2020-01-15",statut:"actif",notes:"Médecin généraliste expérimenté"},{id:"2",nom:"Bensaïd",prenom:"Youssef",specialite:"Cardiologie",email:"y.bensaid@cardio.fr",telephone:"01.42.34.56.79",adresse:"456 Avenue des Médecins, 75016 Paris",numeroOrdre:"87654321",dateInscription:"2019-03-20",statut:"actif",notes:"Cardiologue spécialisé en échographie"},{id:"3",nom:"Alaoui",prenom:"Fatima",specialite:"Endocrinologie",email:"f.alaoui@endo.fr",telephone:"01.42.34.56.80",adresse:"789 Boulevard de la Médecine, 75008 Paris",numeroOrdre:"11223344",dateInscription:"2021-06-10",statut:"actif",notes:"Spécialiste en diabétologie"},{id:"4",nom:"Tazi",prenom:"Mohamed",specialite:"Médecine générale",email:"m.tazi@medecin.fr",telephone:"01.42.34.56.81",adresse:"321 Rue du Médecin, 75011 Paris",numeroOrdre:"55667788",dateInscription:"2018-09-05",statut:"actif",notes:"Médecin de famille"},{id:"5",nom:"El Amrani",prenom:"Karim",specialite:"Dermatologie",email:"k.elamrani@dermato.fr",telephone:"01.42.34.56.82",adresse:"654 Avenue de la Dermatologie, 75006 Paris",numeroOrdre:"99887766",dateInscription:"2022-01-12",statut:"actif",notes:"Dermatologue esthétique"}];a(Z),localStorage.setItem("sil_lab_doctors",JSON.stringify(Z))}U(!1)}catch($){console.error("Error loading doctors:",$),U(!1)}},I=t.filter($=>{const Z=`${$.prenom} ${$.nom}`.toLowerCase().includes(s.toLowerCase())||$.specialite.toLowerCase().includes(s.toLowerCase())||$.email.toLowerCase().includes(s.toLowerCase()),J=l==="all"||$.specialite===l,ne=g==="all"||$.statut===g;return Z&&J&&ne}),T=()=>{try{localStorage.setItem("sil_lab_doctors",JSON.stringify(t)),alert(L.success)}catch($){console.error("Save error:",$),alert(L.error)}},z=()=>{const $={id:Date.now().toString(),nom:"",prenom:"",specialite:"Médecine générale",email:"",telephone:"",adresse:"",numeroOrdre:"",dateInscription:new Date().toISOString().split("T")[0],statut:"actif",notes:""};B($),y(!0)},D=$=>{B($),y(!0)},ae=$=>{if(window.confirm(L.confirmDelete)){const Z=t.filter(J=>J.id!==$);a(Z),localStorage.setItem("sil_lab_doctors",JSON.stringify(Z))}},X=()=>{if(N&&N.nom&&N.prenom){let $;if(N.id&&t.find(Z=>Z.id===N.id))$=t.map(Z=>Z.id===N.id?N:Z);else{const Z={...N,id:Date.now().toString()};$=[...t,Z]}a($),localStorage.setItem("sil_lab_doctors",JSON.stringify($)),B(null),y(!1),alert(L.success)}},_=t.length,ie=t.filter($=>$.statut==="actif").length,oe=new Set(t.map($=>$.specialite)).size,W=t.filter($=>{const Z=new Date($.dateInscription),J=new Date;return J.setMonth(J.getMonth()-3),Z>J}).length;return w?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:L.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:L.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Oa,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.totalDoctors}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(EA,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.activeDoctors}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ie})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(RA,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.specialties}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:oe})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Oa,{className:"h-8 w-8 text-orange-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:L.recentRegistrations}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:W})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:s,onChange:$=>o($.target.value),placeholder:L.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:l,onChange:$=>d($.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:L.allSpecialties}),R.map($=>r.jsx("option",{value:$,children:$},$))]}),r.jsxs("select",{value:g,onChange:$=>f($.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:L.allStatus}),r.jsx("option",{value:"actif",children:L.actif}),r.jsx("option",{value:"inactif",children:L.inactif})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:z,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(pa,{size:16,className:"mr-2"}),L.addDoctor]}),r.jsx("button",{onClick:T,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Sauvegarder"})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:L.doctorDetails}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:L.specialite}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:L.statut}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:L.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:I.length>0?I.map($=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Dr. ",$.prenom," ",$.nom]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[L.numeroOrdre,": ",$.numeroOrdre]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[L.dateInscription,": ",new Date($.dateInscription).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:$.specialite}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(ob,{size:14,className:"mr-2 text-gray-400"}),$.email]}),r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(lb,{size:14,className:"mr-2 text-gray-400"}),$.telephone]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(oc,{size:14,className:"mr-2 text-gray-400"}),$.adresse]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${$.statut==="actif"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:$.statut==="actif"?L.actif:L.inactif})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>D($),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Si,{size:16})}),r.jsx("button",{onClick:()=>ae($.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(hn,{size:16})})]})})]},$.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:L.noDoctors})})})]})})}),m&&N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:N.id&&t.find($=>$.id===N.id)?L.editDoctor:L.addNewDoctor}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.nom," *"]}),r.jsx("input",{type:"text",required:!0,value:N.nom,onChange:$=>B(Z=>Z?{...Z,nom:$.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.prenom," *"]}),r.jsx("input",{type:"text",required:!0,value:N.prenom,onChange:$=>B(Z=>Z?{...Z,prenom:$.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.specialite," *"]}),r.jsx("select",{value:N.specialite,onChange:$=>B(Z=>Z?{...Z,specialite:$.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:R.map($=>r.jsx("option",{value:$,children:$},$))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.email," *"]}),r.jsx("input",{type:"email",required:!0,value:N.email,onChange:$=>B(Z=>Z?{...Z,email:$.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.telephone," *"]}),r.jsx("input",{type:"tel",required:!0,value:N.telephone,onChange:$=>B(Z=>Z?{...Z,telephone:$.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[L.numeroOrdre," *"]}),r.jsx("input",{type:"text",required:!0,value:N.numeroOrdre,onChange:$=>B(Z=>Z?{...Z,numeroOrdre:$.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.dateInscription}),r.jsx("input",{type:"date",value:N.dateInscription,onChange:$=>B(Z=>Z?{...Z,dateInscription:$.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.statut}),r.jsxs("select",{value:N.statut,onChange:$=>B(Z=>Z?{...Z,statut:$.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"actif",children:L.actif}),r.jsx("option",{value:"inactif",children:L.inactif})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.adresse}),r.jsx("input",{type:"text",value:N.adresse,onChange:$=>B(Z=>Z?{...Z,adresse:$.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:L.notes}),r.jsx("textarea",{value:N.notes||"",onChange:$=>B(Z=>Z?{...Z,notes:$.target.value}:null),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>{y(!1),B(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:L.cancel}),r.jsx("button",{onClick:X,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:L.save})]})]})})]})}function kL(){const{language:e}=zt(),t=Dn(),[a,s]=q.useState(""),[o,l]=q.useState(!1),[d,g]=q.useState(!1),[f,m]=q.useState(null),[y,N]=q.useState(!1),[B,w]=q.useState([]),[U,L]=q.useState(!0),[R,C]=q.useState("ALL"),[I,T]=q.useState("ALL"),[z,D]=q.useState(""),[ae,X]=q.useState("createdAt"),[_,ie]=q.useState("desc"),[oe,W]=q.useState(1),[$,Z]=q.useState(10),[J,ne]=q.useState(0),te={fr:{title:"Gestion des Demandes",newRequest:"Nouvelle Demande",search:"Rechercher...",id:"ID",patient:"Patient",tests:"Analyses",status:"Statut",priority:"Priorité",sampleType:"Type d'échantillon",date:"Date",actions:"Actions",close:"Fermer",save:"Enregistrer",cancel:"Annuler",refresh:"Actualiser",export:"Exporter",print:"Imprimer",filter:"Filtrer",allStatuses:"Tous les statuts",allPriorities:"Toutes priorités",itemsPerPage:"Éléments par page",page:"Page",of:"sur",previous:"Précédent",next:"Suivant",deleteConfirm:"Êtes-vous sûr de vouloir supprimer cette demande?",viewResults:"Voir résultats",enterResults:"Saisir résultats",validateResults:"Valider résultats",printReport:"Imprimer rapport",created:"Créé",pending:"En attente",processing:"En traitement",completed:"Terminé",cancelled:"Annulé",normal:"Normal",urgent:"Urgent",emergency:"Urgence",paymentStatus:"Statut paiement",paid:"Payé",partiallyPaid:"Partiellement payé",unpaid:"Non payé",totalAmount:"Montant total",amountDue:"Montant dû",doctor:"Médecin",collectionDate:"Date de prélèvement",collectionTime:"Heure de prélèvement",notes:"Notes",createdAt:"Créé le",updatedAt:"Mis à jour le"},en:{title:"Request Management",newRequest:"New Request",search:"Search...",id:"ID",patient:"Patient",tests:"Tests",status:"Status",priority:"Priority",sampleType:"Sample Type",date:"Date",actions:"Actions",close:"Close",save:"Save",cancel:"Cancel",refresh:"Refresh",export:"Export",print:"Print",filter:"Filter",allStatuses:"All statuses",allPriorities:"All priorities",itemsPerPage:"Items per page",page:"Page",of:"of",previous:"Previous",next:"Next",deleteConfirm:"Are you sure you want to delete this request?",viewResults:"View results",enterResults:"Enter results",validateResults:"Validate results",printReport:"Print report",created:"Created",pending:"Pending",processing:"Processing",completed:"Completed",cancelled:"Cancelled",normal:"Normal",urgent:"Urgent",emergency:"Emergency",paymentStatus:"Payment status",paid:"Paid",partiallyPaid:"Partially paid",unpaid:"Unpaid",totalAmount:"Total amount",amountDue:"Amount due",doctor:"Doctor",collectionDate:"Collection date",collectionTime:"Collection time",notes:"Notes",createdAt:"Created at",updatedAt:"Updated at"}}[e];q.useEffect(()=>{(async()=>{try{L(!0);const ft=await cc.getRequests({_t:Date.now()});ft.requests?w(ft.requests):w([])}catch(ft){console.error("Error loading requests:",ft),w([])}finally{L(!1)}})()},[J]);const Be=B.filter(be=>{var Mt,Vt,Xt,er,ur;const ft=`${((Mt=be.patient)==null?void 0:Mt.firstName)||""} ${((Vt=be.patient)==null?void 0:Vt.lastName)||""}`.toLowerCase(),ut=((Xt=be.requestAnalyses)==null?void 0:Xt.map(Pt=>Pt.analysis.name.toLowerCase()))||[],ot=`${((er=be.doctor)==null?void 0:er.firstName)||""} ${((ur=be.doctor)==null?void 0:ur.lastName)||""}`.toLowerCase(),At=ft.includes(a.toLowerCase())||be.id.toLowerCase().includes(a.toLowerCase())||ut.some(Pt=>Pt.includes(a.toLowerCase()))||ot.includes(a.toLowerCase()),pt=R==="ALL"||be.status===R,ht=I==="ALL"||be.priority===I,Lt=!z||be.collectionDate&&be.collectionDate.includes(z);return At&&pt&&ht&&Lt}).sort((be,ft)=>{if(ae==="createdAt")return _==="asc"?new Date(be.createdAt).getTime()-new Date(ft.createdAt).getTime():new Date(ft.createdAt).getTime()-new Date(be.createdAt).getTime();if(ae==="priority"){const ut={NORMAL:0,URGENT:1,EMERGENCY:2};return _==="asc"?(ut[be.priority]||0)-(ut[ft.priority]||0):(ut[ft.priority]||0)-(ut[be.priority]||0)}else if(ae==="status"){const ut={CREATED:0,PENDING:1,PROCESSING:2,COMPLETED:3,CANCELLED:4};return _==="asc"?(ut[be.status]||0)-(ut[ft.status]||0):(ut[ft.status]||0)-(ut[be.status]||0)}return 0}),fe=Math.ceil(Be.length/$),je=Be.slice((oe-1)*$,oe*$),Ce=be=>({CREATED:"bg-gray-100 text-gray-800",PENDING:"bg-yellow-100 text-yellow-800",PROCESSING:"bg-blue-100 text-blue-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[be]||"bg-gray-100 text-gray-800",Me=be=>({NORMAL:"bg-gray-100 text-gray-800",URGENT:"bg-orange-100 text-orange-800",EMERGENCY:"bg-red-100 text-red-800"})[be]||"bg-gray-100 text-gray-800",Ae=be=>be.amountDue<=0?"bg-green-100 text-green-800":be.advancePayment>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",he=be=>be.amountDue<=0?e==="fr"?"Payé":"Paid":be.advancePayment>0?e==="fr"?"Partiellement payé":"Partially paid":e==="fr"?"Non payé":"Unpaid",ke=be=>{m(be),g(!0)},Le=be=>{m(be),l(!0)},Pe=async be=>{if(window.confirm(te.deleteConfirm))try{await cc.deleteRequest(be.id),ne(ft=>ft+1)}catch(ft){console.error("Error deleting request:",ft),alert("Error deleting request")}},Re=()=>{ne(be=>be+1)},ve=async()=>{try{alert("Export functionality would be implemented here")}catch(be){console.error("Error exporting data:",be)}},Ee=()=>{window.print()},Xe=be=>{t(`/results?requestId=${be.id}`)},tt=be=>{t(`/results/entry?requestId=${be.id}`)},He=be=>{t(`/results/print?requestId=${be.id}`)},qe=be=>{ae===be?ie(_==="asc"?"desc":"asc"):(X(be),ie("asc"))},Ft=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:f?"Modifier Demande":te.newRequest}),r.jsx("button",{onClick:()=>l(!1),children:r.jsx(tr,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Nom du patient",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{children:"Sélectionner tests"}),r.jsx("option",{children:"Hémogramme"}),r.jsx("option",{children:"Glycémie"})]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{children:"Priorité normale"}),r.jsx("option",{children:"Urgent"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:te.cancel}),r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:te.save})]})]})}),$e=()=>{var be,ft;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e==="fr"?"Détails de la demande":"Request Details"}),r.jsx("button",{onClick:()=>g(!1),children:r.jsx(tr,{size:20,className:"text-gray-500"})})]}),f&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations patient":"Patient Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[te.patient,":"]})," ",f.patient?`${f.patient.firstName} ${f.patient.lastName}`:"N/A"]}),((be=f.patient)==null?void 0:be.cnssNumber)&&r.jsxs("div",{children:[r.jsx("strong",{children:"CNSS:"})," ",f.patient.cnssNumber]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Statut de la demande":"Request Status"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("strong",{className:"mr-2",children:[te.status,":"]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ce(f.status)}`,children:f.status})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("strong",{className:"mr-2",children:[te.priority,":"]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Me(f.priority)}`,children:f.priority})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("strong",{className:"mr-2",children:[te.paymentStatus,":"]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ae(f)}`,children:he(f)})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Analyses demandées":"Requested Tests"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:(ft=f.requestAnalyses)==null?void 0:ft.map(ut=>r.jsxs("li",{children:[ut.analysis.name," ",r.jsxs("span",{className:"text-gray-500",children:["(",ut.analysis.code,")"]})]},ut.id))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations de prélèvement":"Collection Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[te.sampleType,":"]})," ",f.sampleType]}),f.tubeType&&r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Type de tube":"Tube Type",":"]})," ",f.tubeType]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[te.collectionDate,":"]})," ",f.collectionDate?new Date(f.collectionDate).toLocaleString():"N/A"]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[te.collectionTime,":"]})," ",f.collectionTime||"N/A"]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations financières":"Financial Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[te.totalAmount,":"]})," ",f.totalAmount.toFixed(2)," MAD"]}),f.discount>0&&r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Remise":"Discount",":"]})," ",f.discount,"%"]}),f.advancePayment>0&&r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Avance":"Advance Payment",":"]})," ",f.advancePayment.toFixed(2)," MAD"]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[te.amountDue,":"]})," ",f.amountDue.toFixed(2)," MAD"]})]})]})]}),f.doctor&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Médecin référent":"Referring Doctor"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[te.doctor,":"]})," ",`${f.doctor.firstName} ${f.doctor.lastName}`]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Spécialité":"Specialty",":"]})," ",f.doctor.specialty]})]})]}),f.notes&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:te.notes}),r.jsx("p",{className:"whitespace-pre-line",children:f.notes})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations système":"System Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",f.id]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[te.createdAt,":"]})," ",new Date(f.createdAt).toLocaleString()]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[te.updatedAt,":"]})," ",new Date(f.updatedAt).toLocaleString()]})]})]})]}),r.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-6",children:[r.jsxs("button",{onClick:()=>Xe(f),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(Ma,{size:16,className:"mr-2"}),te.viewResults]}),r.jsxs("button",{onClick:()=>tt(f),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Jr,{size:16,className:"mr-2"}),te.enterResults]}),r.jsxs("button",{onClick:()=>He(f),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[r.jsx(Yl,{size:16,className:"mr-2"}),te.printReport]}),r.jsxs("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 flex items-center",children:[r.jsx(tr,{size:16,className:"mr-2"}),te.close]})]})]})})};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:te.title}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:Re,className:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center",children:[r.jsx(us,{size:16,className:"mr-2"}),te.refresh]}),r.jsxs("button",{onClick:ve,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(ji,{size:16,className:"mr-2"}),te.export]}),r.jsxs("button",{onClick:Ee,className:"bg-purple-600 text-white px-3 py-2 rounded-lg hover:bg-purple-700 flex items-center",children:[r.jsx(Yl,{size:16,className:"mr-2"}),te.print]}),r.jsxs("button",{onClick:()=>t("/new-request"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(pa,{size:16,className:"mr-2"}),te.newRequest]})]})]}),r.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(na,{size:20,className:"absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:te.search,value:a,onChange:be=>s(be.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("button",{onClick:()=>N(!y),className:`px-4 py-2 rounded-lg flex items-center ${y?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[r.jsx(RA,{size:16,className:"mr-2"}),te.filter]})]}),y&&r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:te.status}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:R,onChange:be=>C(be.target.value),children:[r.jsx("option",{value:"ALL",children:te.allStatuses}),r.jsx("option",{value:"CREATED",children:te.created}),r.jsx("option",{value:"PENDING",children:te.pending}),r.jsx("option",{value:"PROCESSING",children:te.processing}),r.jsx("option",{value:"COMPLETED",children:te.completed}),r.jsx("option",{value:"CANCELLED",children:te.cancelled})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:te.priority}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:I,onChange:be=>T(be.target.value),children:[r.jsx("option",{value:"ALL",children:te.allPriorities}),r.jsx("option",{value:"NORMAL",children:te.normal}),r.jsx("option",{value:"URGENT",children:te.urgent}),r.jsx("option",{value:"EMERGENCY",children:te.emergency})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:te.date}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:z,onChange:be=>D(be.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:te.itemsPerPage}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:$,onChange:be=>Z(Number(be.target.value)),children:[r.jsx("option",{value:"5",children:"5"}),r.jsx("option",{value:"10",children:"10"}),r.jsx("option",{value:"25",children:"25"}),r.jsx("option",{value:"50",children:"50"}),r.jsx("option",{value:"100",children:"100"})]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:te.patient}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:te.tests}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>qe("status"),children:r.jsxs("div",{className:"flex items-center",children:[te.status,ae==="status"&&r.jsx("span",{className:"ml-1",children:_==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>qe("priority"),children:r.jsxs("div",{className:"flex items-center",children:[te.priority,ae==="priority"&&r.jsx("span",{className:"ml-1",children:_==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:te.paymentStatus}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:te.sampleType}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>qe("createdAt"),children:r.jsxs("div",{className:"flex items-center",children:[te.date,ae==="createdAt"&&r.jsx("span",{className:"ml-1",children:_==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:te.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:U?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:e==="fr"?"Chargement...":"Loading..."})]})})}):je.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:a||R!=="ALL"||I!=="ALL"||z?e==="fr"?"Aucune demande trouvée pour cette recherche.":"No requests found for this search.":e==="fr"?"Aucune demande enregistrée.":"No requests recorded."})})}):je.map(be=>{var ft,ut,ot;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[be.patient?`${be.patient.firstName} ${be.patient.lastName}`:"N/A",((ft=be.patient)==null?void 0:ft.cnssNumber)&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["CNSS: ",be.patient.cnssNumber]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[r.jsx("div",{className:"max-w-xs truncate",children:((ut=be.requestAnalyses)==null?void 0:ut.map(At=>At.analysis.name).join(", "))||"N/A"}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[((ot=be.requestAnalyses)==null?void 0:ot.length)||0," ","test(s)"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ce(be.status)}`,children:be.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Me(be.priority)}`,children:be.priority})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ae(be)}`,children:he(be)})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[be.sampleType,be.tubeType&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:["(",be.tubeType,")"]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[r.jsx("div",{children:new Date(be.createdAt).toLocaleDateString()}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(be.createdAt).toLocaleTimeString()})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>ke(be),className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:e==="fr"?"Voir détails":"View details",children:r.jsx(Ma,{size:16})}),r.jsx("button",{onClick:()=>Le(be),className:"text-green-600 hover:text-green-900 dark:hover:text-green-400",title:e==="fr"?"Modifier":"Edit",children:r.jsx(Si,{size:16})}),r.jsx("button",{onClick:()=>Xe(be),className:"text-purple-600 hover:text-purple-900 dark:hover:text-purple-400",title:e==="fr"?"Voir résultats":"View results",children:r.jsx(Jr,{size:16})}),r.jsx("button",{onClick:()=>He(be),className:"text-indigo-600 hover:text-indigo-900 dark:hover:text-indigo-400",title:e==="fr"?"Imprimer rapport":"Print report",children:r.jsx(Yl,{size:16})}),r.jsx("button",{onClick:()=>Pe(be),className:"text-red-600 hover:text-red-900 dark:hover:text-red-400",title:e==="fr"?"Supprimer":"Delete",children:r.jsx(hn,{size:16})})]})})]},be.id)})})]})})}),je.length>0&&r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[te.page," ",oe," ",te.of," ",fe]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>W(be=>Math.max(be-1,1)),disabled:oe===1,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md disabled:opacity-50",children:te.previous}),r.jsx("button",{onClick:()=>W(be=>Math.min(be+1,fe)),disabled:oe===fe,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md disabled:opacity-50",children:te.next})]})]}),o&&r.jsx(Ft,{}),d&&r.jsx($e,{})]})}function NL(){const{language:e}=zt(),[t,a]=q.useState({nom:"",prenom:"",dateNaissance:"",numeroCNSS:"",sexe:"M"}),[s,o]=q.useState([{code:"4005",nom:"Hémogramme (CBC)",selected:!1,category:"Hématologie"},{code:"4010",nom:"Glycémie (Blood Sugar)",selected:!1,category:"Biochimie"},{code:"4015",nom:"Cholestérol Total",selected:!1,category:"Lipides"},{code:"4020",nom:"HDL Cholestérol",selected:!1,category:"Lipides"},{code:"4025",nom:"LDL Cholestérol",selected:!1,category:"Lipides"},{code:"4030",nom:"Triglycérides",selected:!1,category:"Lipides"},{code:"4035",nom:"Créatininémie",selected:!1,category:"Biochimie"},{code:"4040",nom:"Urée",selected:!1,category:"Biochimie"},{code:"4045",nom:"Bilan hépatique",selected:!1,category:"Biochimie"},{code:"4050",nom:"TSH",selected:!1,category:"Hormonologie"},{code:"4055",nom:"T4 Libre",selected:!1,category:"Hormonologie"},{code:"4060",nom:"T3 Libre",selected:!1,category:"Hormonologie"},{code:"4070",nom:"Groupe Sanguin",selected:!1,category:"Immunologie"},{code:"4075",nom:"CRP",selected:!1,category:"Inflammation"},{code:"4080",nom:"VS",selected:!1,category:"Inflammation"}]),[l,d]=q.useState(""),[g,f]=q.useState(null),[m,y]=q.useState(""),[N,B]=q.useState(""),[w,U]=q.useState(""),[L,R]=q.useState(!1),[C,I]=q.useState(!1),[T,z]=q.useState(""),[D,ae]=q.useState("success"),[X,_]=q.useState(!1),[ie,oe]=q.useState(!1),[W,$]=q.useState(0),[Z,J]=q.useState(0),[ne,te]=q.useState({subtotal:0,tvaTotal:0,totalBeforeDiscount:0,discount:0,discountAmount:0,totalAfterDiscount:0,advancePayment:0,amountDue:0}),Be=[{id:"1",nom:"Boulahcen",prenom:"Hicham",specialite:"Médecine générale"},{id:"2",nom:"Bensaïd",prenom:"Youssef",specialite:"Cardiologie"},{id:"3",nom:"Alaoui",prenom:"Fatima",specialite:"Endocrinologie"},{id:"4",nom:"Tazi",prenom:"Mohamed",specialite:"Médecine générale"},{id:"5",nom:"El Amrani",prenom:"Karim",specialite:"Dermatologie"}],fe={fr:{title:"Nouvelle Demande d'Analyse",subtitle:"Interface Réceptionniste",patientInfo:"Informations Patient",nom:"Nom",prenom:"Prénom",dateNaissance:"Date de naissance",numeroCNSS:"Numéro CNSS",sexe:"Sexe",analyses:"Analyses Prescrites",addAnalysis:"Ajouter des analyses",searchAnalyses:"Rechercher des analyses...",selectedAnalyses:"Analyses sélectionnées",doctor:"Médecin Référent",searchDoctor:"Rechercher un médecin...",appointment:"Prélèvement",date:"Date",time:"Heure",urgent:"Demande Urgente",pricing:"Tarification",subtotal:"Sous-total HT",tva:"TVA",totalBeforeDiscount:"Total TTC",discount:"Remise (%)",discountAmount:"Montant remise",totalAfterDiscount:"Total après remise",advancePayment:"Acompte",amountDue:"Montant dû",submit:"Soumettre la Demande",clear:"Effacer le Formulaire",success:"Demande enregistrée avec succès",error:"Erreur lors de l'enregistrement",selectDoctor:"Sélectionner un médecin",noAnalysesSelected:"Aucune analyse sélectionnée",validationError:"Veuillez remplir tous les champs obligatoires",printLabels:"Imprimer Étiquettes",printReceipt:"Imprimer Reçu"},en:{title:"New Analysis Request",subtitle:"Receptionist Interface",patientInfo:"Patient Information",nom:"Last Name",prenom:"First Name",dateNaissance:"Date of Birth",numeroCNSS:"CNSS Number",sexe:"Gender",analyses:"Prescribed Analyses",addAnalysis:"Add Analyses",searchAnalyses:"Search analyses...",selectedAnalyses:"Selected Analyses",doctor:"Referring Doctor",searchDoctor:"Search for a doctor...",appointment:"Sample Collection",date:"Date",time:"Time",urgent:"Urgent Request",pricing:"Pricing",subtotal:"Subtotal (excl. tax)",tva:"VAT",totalBeforeDiscount:"Total (incl. tax)",discount:"Discount (%)",discountAmount:"Discount amount",totalAfterDiscount:"Total after discount",advancePayment:"Advance payment",amountDue:"Amount due",submit:"Submit Request",clear:"Clear Form",success:"Request saved successfully",error:"Error saving request",selectDoctor:"Select a doctor",noAnalysesSelected:"No analyses selected",validationError:"Please fill in all required fields",printLabels:"Print Labels",printReceipt:"Print Receipt"}}[e],je=s.filter(ve=>ve.nom.toLowerCase().includes(l.toLowerCase())||ve.code.includes(l)),Ce=Be.filter(ve=>`${ve.prenom} ${ve.nom}`.toLowerCase().includes(m.toLowerCase())||ve.specialite.toLowerCase().includes(m.toLowerCase())),Me=s.filter(ve=>ve.selected);q.useEffect(()=>{const ve=Vl.calculateRequestTotal(Me,W,Z);te(ve)},[Me,W,Z]);const Ae=ve=>{o(Ee=>Ee.map(Xe=>Xe.code===ve?{...Xe,selected:!Xe.selected}:Xe))},he=ve=>{o(Ee=>Ee.map(Xe=>Xe.code===ve?{...Xe,selected:!1}:Xe))},ke=(ve,Ee="success")=>{z(ve),ae(Ee),I(!0),setTimeout(()=>I(!1),5e3)},Le=()=>!t.nom||!t.prenom||!t.dateNaissance||!t.numeroCNSS?(ke(fe.validationError,"error"),!1):Me.length===0?(ke(fe.noAnalysesSelected,"error"),!1):g?!N||!w?(ke("Veuillez sélectionner une date et heure de prélèvement","error"),!1):!0:(ke(fe.selectDoctor,"error"),!1),Pe=async ve=>{if(ve.preventDefault(),!!Le()){_(!0);try{const Ee={patient:{nom:t.nom,prenom:t.prenom,dateNaissance:t.dateNaissance,numeroCNSS:t.numeroCNSS,sexe:t.sexe},analyses:Me.map(tt=>({code:tt.code,nom:tt.nom})),doctor:g,appointment:{date:N,time:w},urgent:L,pricing:ne,timestamp:new Date().toISOString()},Xe=await mL.saveRequest(Ee);Xe.success?(ke(fe.success,"success"),setTimeout(()=>{_w.printLabels(Xe.data),setTimeout(()=>{_w.printReceipt(Xe.data,{...ne,prices:Vl.getPrices()})},1e3)},500),Re()):ke(fe.error,"error")}catch(Ee){console.error("Submit error:",Ee),ke("Erreur de connexion. Les données ont été sauvegardées localement.","error"),Re()}finally{_(!1)}}},Re=()=>{a({nom:"",prenom:"",dateNaissance:"",numeroCNSS:"",sexe:"M"}),o(ve=>ve.map(Ee=>({...Ee,selected:!1}))),f(null),y(""),B(""),U(""),R(!1),d(""),$(0),J(0)};return q.useEffect(()=>{const ve=new Date;ve.setDate(ve.getDate()+1);const Ee=ve.toISOString().split("T")[0];B(Ee)},[]),r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:fe.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:fe.subtitle})]}),r.jsxs("form",{onSubmit:Pe,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Oa,{className:"h-6 w-6 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:fe.patientInfo})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.nom," *"]}),r.jsx("input",{type:"text",required:!0,value:t.nom,onChange:ve=>a(Ee=>({...Ee,nom:ve.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"El Amrani"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.prenom," *"]}),r.jsx("input",{type:"text",required:!0,value:t.prenom,onChange:ve=>a(Ee=>({...Ee,prenom:ve.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Soukaina"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.dateNaissance," *"]}),r.jsx("input",{type:"date",required:!0,value:t.dateNaissance,onChange:ve=>a(Ee=>({...Ee,dateNaissance:ve.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.numeroCNSS," *"]}),r.jsx("input",{type:"text",required:!0,value:t.numeroCNSS,onChange:ve=>a(Ee=>({...Ee,numeroCNSS:ve.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"J123456789"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:fe.sexe}),r.jsxs("select",{value:t.sexe,onChange:ve=>a(Ee=>({...Ee,sexe:ve.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"M",children:"Masculin"}),r.jsx("option",{value:"F",children:"Féminin"})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:fe.analyses}),r.jsxs("button",{type:"button",onClick:()=>oe(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(pa,{size:16,className:"mr-2"}),fe.addAnalysis]})]}),Me.length>0?r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:fe.selectedAnalyses}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Me.map(ve=>r.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full flex items-center",children:[r.jsx("span",{className:"text-sm",children:ve.nom}),r.jsx("button",{type:"button",onClick:()=>he(ve.code),className:"ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:r.jsx(tr,{size:14})})]},ve.code))})]}):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:fe.noAnalysesSelected})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:fe.doctor}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:m,onChange:ve=>y(ve.target.value),placeholder:fe.searchDoctor,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Ce.map(ve=>r.jsxs("button",{type:"button",onClick:()=>{f(ve),y("")},className:`w-full text-left p-3 rounded-lg border transition-colors ${(g==null?void 0:g.id)===ve.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:["Dr. ",ve.prenom," ",ve.nom]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:ve.specialite})]},ve.id))}),g&&r.jsxs("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[r.jsxs("div",{className:"font-medium text-green-800 dark:text-green-200",children:["Médecin sélectionné: Dr. ",g.prenom," ",g.nom]}),r.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:g.specialite})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ln,{className:"h-6 w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:fe.appointment})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.date," *"]}),r.jsx("input",{type:"date",required:!0,value:N,onChange:ve=>B(ve.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[fe.time," *"]}),r.jsx("input",{type:"time",required:!0,value:w,onChange:ve=>U(ve.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:L,onChange:ve=>R(ve.target.checked),className:"form-checkbox h-5 w-5 text-red-600 focus:ring-red-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(or,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:fe.urgent})]})]})})]}),Me.length>0&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Os,{className:"h-6 w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:fe.pricing})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[fe.subtotal,":"]}),r.jsxs("span",{className:"font-medium",children:[ne.subtotal.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[fe.tva,":"]}),r.jsxs("span",{className:"font-medium",children:[ne.tvaTotal.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsxs("span",{className:"font-medium",children:[fe.totalBeforeDiscount,":"]}),r.jsxs("span",{className:"font-bold text-lg",children:[ne.totalBeforeDiscount.toFixed(2)," dh"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:fe.discount}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:W,onChange:ve=>$(parseFloat(ve.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:fe.advancePayment}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:Z,onChange:ve=>J(parseFloat(ve.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),W>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[fe.discountAmount,":"]}),r.jsxs("span",{className:"text-red-600",children:["-",ne.discountAmount.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsxs("span",{className:"font-bold text-lg",children:[fe.amountDue,":"]}),r.jsxs("span",{className:"font-bold text-lg text-green-600",children:[ne.amountDue.toFixed(2)," dh"]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{type:"button",onClick:Re,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:fe.clear}),r.jsxs("button",{type:"submit",disabled:X,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center transition-colors",children:[X?r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):r.jsx(Br,{size:20,className:"mr-2"}),fe.submit]})]})]}),ie&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:fe.analyses}),r.jsx("button",{onClick:()=>oe(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(tr,{size:24})})]}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:l,onChange:ve=>d(ve.target.value),placeholder:fe.searchAnalyses,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:je.map(ve=>r.jsxs("label",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:ve.selected,onChange:()=>Ae(ve.code),className:"form-checkbox h-5 w-5 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ve.nom}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Code: ",ve.code," • ",ve.category]})]})]},ve.code))}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{onClick:()=>oe(!1),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Fermer"})})]})}),C&&r.jsxs("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg flex items-center z-50 ${D==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[D==="success"?r.jsx(Br,{size:20,className:"mr-2"}):r.jsx(or,{size:20,className:"mr-2"}),T,r.jsx("button",{onClick:()=>I(!1),className:"ml-4",children:r.jsx(tr,{size:16})})]})]})}const CL="modulepreload",BL=function(e){return"/"+e},zw={},Gl=function(t,a,s){if(!a||a.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(a.map(l=>{if(l=BL(l),l in zw)return;zw[l]=!0;const d=l.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(!!s)for(let y=o.length-1;y>=0;y--){const N=o[y];if(N.href===l&&(!d||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${g}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":CL,d||(m.as="script",m.crossOrigin=""),m.href=l,document.head.appendChild(m),d)return new Promise((y,N)=>{m.addEventListener("load",y),m.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l})};function jL({data:e,updateData:t,language:a}){const s={title:a==="fr"?"Informations du Patient":"Patient Information",subtitle:a==="fr"?"Saisissez les informations personnelles du patient":"Enter the patient's personal information",firstName:a==="fr"?"Prénom":"First Name",lastName:a==="fr"?"Nom":"Last Name",dateOfBirth:a==="fr"?"Date de naissance":"Date of Birth",gender:a==="fr"?"Genre":"Gender",male:a==="fr"?"Masculin":"Male",female:a==="fr"?"Féminin":"Female",phone:a==="fr"?"Téléphone":"Phone",email:"Email",cnssNumber:a==="fr"?"Numéro CNSS":"CNSS Number",address:a==="fr"?"Adresse":"Address",required:a==="fr"?"Ce champ est requis":"This field is required",invalidEmail:a==="fr"?"Email invalide":"Invalid email",invalidPhone:a==="fr"?"Numéro de téléphone invalide":"Invalid phone number"},o=(l,d)=>{t(l,d)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.firstName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.firstName,onChange:l=>o("firstName",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:s.firstName,required:!0}),r.jsx(Oa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.lastName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.lastName,onChange:l=>o("lastName",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:s.lastName,required:!0}),r.jsx(Oa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.dateOfBirth," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",value:e.dateOfBirth,onChange:l=>o("dateOfBirth",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx(ln,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.gender}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"gender",value:"M",checked:e.gender==="M",onChange:l=>o("gender",l.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.male]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"gender",value:"F",checked:e.gender==="F",onChange:l=>o("gender",l.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.female]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.phone," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"tel",value:e.phone,onChange:l=>o("phone",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+212612345678",pattern:"[0-9+\\-\\s]+",title:s.invalidPhone,required:!0}),r.jsx(lb,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.email}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",value:e.email,onChange:l=>o("email",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"patient@email.com"}),r.jsx(ob,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.cnssNumber}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.cnssNumber,onChange:l=>o("cnssNumber",l.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"CNSS-123456"}),r.jsx(JN,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.address}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:e.address,onChange:l=>o("address",l.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123 Rue Example, Ville, Code Postal"}),r.jsx(oc,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]})]})}function SL({data:e,prescription:t,updateData:a,updatePrescription:s,language:o}){const[l,d]=q.useState([]),[g,f]=q.useState(""),[m,y]=q.useState(""),[N,B]=q.useState(!1),[w,U]=q.useState(!1),[L,R]=q.useState([]),C={title:o==="fr"?"Sélection des Analyses":"Analysis Selection",subtitle:o==="fr"?"Sélectionnez les analyses à effectuer et téléchargez l'ordonnance":"Select the analyses to perform and upload the prescription",searchAnalyses:o==="fr"?"Rechercher des analyses...":"Search analyses...",category:o==="fr"?"Catégorie":"Category",allCategories:o==="fr"?"Toutes les catégories":"All Categories",selectedAnalyses:o==="fr"?"Analyses sélectionnées":"Selected Analyses",noAnalysesSelected:o==="fr"?"Aucune analyse sélectionnée":"No analyses selected",prescription:o==="fr"?"Ordonnance":"Prescription",uploadPrescription:o==="fr"?"Télécharger l'ordonnance":"Upload Prescription",dragDropText:o==="fr"?"Glissez-déposez un fichier ici ou cliquez pour sélectionner":"Drag and drop a file here or click to select",supportedFormats:o==="fr"?"Formats supportés: PDF, JPG, PNG":"Supported formats: PDF, JPG, PNG",remove:o==="fr"?"Supprimer":"Remove",addAnalysis:o==="fr"?"Ajouter des analyses":"Add Analyses",selectAll:o==="fr"?"Tout sélectionner":"Select All",deselectAll:o==="fr"?"Tout désélectionner":"Deselect All",addSelected:o==="fr"?"Ajouter sélectionnés":"Add Selected",selectedCount:o==="fr"?"sélectionnés":"selected",code:"Code",name:o==="fr"?"Nom":"Name",price:o==="fr"?"Prix":"Price",tva:o==="fr"?"TVA":"VAT",total:"Total",noAnalysesFound:o==="fr"?"Aucune analyse trouvée":"No analyses found",loading:o==="fr"?"Chargement...":"Loading..."};q.useEffect(()=>{I()},[]);const I=async()=>{B(!0);try{const Z=await wx.getAnalyses(),J=Z.analyses||Z||[];d(J)}catch(Z){console.error("Error loading analyses:",Z),d([])}finally{B(!1)}},T=Z=>{const J=Z.filter(ne=>!e.find(te=>te.id===ne.id));J.length>0&&a([...e,...J])},z=Z=>{a(e.filter(J=>J.id!==Z))},D=Z=>{var ne;const J=(ne=Z.target.files)==null?void 0:ne[0];J&&s(J)},ae=Z=>{Z.preventDefault();const J=Z.dataTransfer.files[0];J&&s(J)},X=Z=>{Z.preventDefault()},_=l.filter(Z=>{const J=Z.name.toLowerCase().includes(g.toLowerCase())||Z.code.toLowerCase().includes(g.toLowerCase()),ne=!m||Z.category===m;return J&&ne}),ie=[...new Set(l.map(Z=>Z.category))],oe=e.reduce((Z,J)=>Z+J.price,0),W=e.reduce((Z,J)=>Z+J.price*J.tva/100,0),$=oe+W;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:C.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:C.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:C.selectedAnalyses}),r.jsxs("button",{onClick:()=>U(!0),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[r.jsx(pa,{size:16,className:"mr-1"}),C.addAnalysis]})]}),e.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:C.noAnalysesSelected}):r.jsx("div",{className:"space-y-3",children:e.map(Z=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Z.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Z.code," • ",Z.category]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[Z.price," dh"]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",Z.tva,"%"]})]}),r.jsx("button",{onClick:()=>z(Z.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(tr,{size:16})})]})]},Z.id))}),e.length>0&&r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[C.total,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[$.toFixed(2)," dh"]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:C.prescription}),r.jsx("div",{onDrop:ae,onDragOver:X,className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors",children:t?r.jsxs("div",{className:"space-y-2",children:[r.jsx(Jr,{size:32,className:"mx-auto text-green-600 dark:text-green-400"}),r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(t.size/1024/1024).toFixed(2)," MB"]}),r.jsx("button",{onClick:()=>s(void 0),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm",children:C.remove})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(LA,{size:32,className:"mx-auto text-gray-400"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:C.dragDropText}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:C.supportedFormats}),r.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[r.jsx(LA,{size:16,className:"mr-2"}),C.uploadPrescription,r.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:D,className:"hidden"})]})]})})]})]}),w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:C.addAnalysis}),r.jsx("button",{onClick:()=>{U(!1),R([])},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:20})})]}),r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsx("input",{type:"text",placeholder:C.searchAnalyses,value:g,onChange:Z=>f(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsxs("select",{value:m,onChange:Z=>y(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:C.allCategories}),ie.map(Z=>r.jsx("option",{value:Z,children:Z},Z))]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>{const Z=_.filter(J=>!e.find(ne=>ne.id===J.id));R(Z)},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:C.selectAll}),r.jsx("button",{onClick:()=>R([]),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:C.deselectAll})]}),L.length>0&&r.jsxs("button",{onClick:()=>{T(L),R([]),U(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(pa,{size:16,className:"mr-2"}),C.addSelected," (",L.length,")"]})]})]})]}),r.jsx("div",{className:"p-6",children:N?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:C.loading})]}):r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:_.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:C.noAnalysesFound}):_.map(Z=>{const J=e.find(te=>te.id===Z.id),ne=L.find(te=>te.id===Z.id);return r.jsx("div",{className:`w-full text-left p-3 border rounded-lg cursor-pointer transition-colors ${J?"border-gray-300 bg-gray-100 dark:bg-gray-700 opacity-50 cursor-not-allowed":ne?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>{J||R(ne?L.filter(te=>te.id!==Z.id):[...L,Z])},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[!J&&r.jsx("input",{type:"checkbox",checked:!!ne,onChange:()=>{},className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Z.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Z.code," • ",Z.category]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[Z.price," dh"]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",Z.tva,"%"]})]})]})},Z.id)})})})]})})]})}function FL({data:e,updateData:t,language:a}){const[s,o]=q.useState([]),[l,d]=q.useState(""),[g,f]=q.useState(!1),[m,y]=q.useState(!1),[N,B]=q.useState(!1);q.useState(!1);const w={title:a==="fr"?"Référence du Médecin":"Doctor Reference",subtitle:a==="fr"?"Sélectionnez le médecin prescripteur ou ajoutez un nouveau":"Select the prescribing doctor or add a new one",searchDoctor:a==="fr"?"Rechercher un médecin...":"Search for a doctor...",selectDoctor:a==="fr"?"Sélectionner un médecin":"Select a doctor",addNewDoctor:a==="fr"?"Ajouter un nouveau médecin":"Add new doctor",firstName:a==="fr"?"Prénom":"First Name",lastName:a==="fr"?"Nom":"Last Name",email:"Email",phone:a==="fr"?"Téléphone":"Phone",specialty:a==="fr"?"Spécialité":"Specialty",orderNumber:a==="fr"?"Numéro d'ordre":"Order Number",selectedDoctor:a==="fr"?"Médecin sélectionné":"Selected Doctor",noDoctorSelected:a==="fr"?"Aucun médecin sélectionné":"No doctor selected",required:a==="fr"?"Ce champ est requis":"This field is required",noDoctorsFound:a==="fr"?"Aucun médecin trouvé":"No doctors found",loading:a==="fr"?"Chargement...":"Loading...",specialties:{cardiology:a==="fr"?"Cardiologie":"Cardiology",endocrinology:a==="fr"?"Endocrinologie":"Endocrinology",gastroenterology:a==="fr"?"Gastro-entérologie":"Gastroenterology",dermatology:a==="fr"?"Dermatologie":"Dermatology",neurology:a==="fr"?"Neurologie":"Neurology",oncology:a==="fr"?"Oncologie":"Oncology",pediatrics:a==="fr"?"Pédiatrie":"Pediatrics",psychiatry:a==="fr"?"Psychiatrie":"Psychiatry",radiology:a==="fr"?"Radiologie":"Radiology",surgery:a==="fr"?"Chirurgie":"Surgery",other:a==="fr"?"Autre":"Other"}};q.useEffect(()=>{console.log("Step3DoctorRef mounted, loading doctors..."),U()},[]);const U=async()=>{f(!0);try{const T=await pL.getDoctors();console.log("Doctors API response:",T);const z=T.doctors||T||[];console.log("Processed doctors:",z),o(z)}catch(T){console.error("Error loading doctors:",T),o([])}finally{f(!1)}},L=T=>{t("id",T.id),t("firstName",T.firstName||""),t("lastName",T.lastName||""),t("email",T.email||""),t("phone",T.phone||""),t("specialty",T.specialty||""),t("orderNumber",T.orderNumber||""),y(!1),B(!1)},R=()=>{t("id",""),t("firstName",""),t("lastName",""),t("email",""),t("phone",""),t("specialty",""),t("orderNumber",""),B(!0)},C=s.filter(T=>{const z=T.firstName||"",D=T.lastName||"",ae=T.specialty||"";return z.toLowerCase().includes(l.toLowerCase())||D.toLowerCase().includes(l.toLowerCase())||ae.toLowerCase().includes(l.toLowerCase())});console.log("Available doctors:",s),console.log("Filtered doctors:",C),console.log("Search term:",l);const I=(T,z)=>{t(T,z)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:w.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:w.selectedDoctor}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>{console.log("Opening doctor modal, available doctors:",s),y(!0)},className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[r.jsx(na,{size:16,className:"mr-1"}),w.selectDoctor]}),r.jsxs("button",{onClick:R,className:"flex items-center px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:[r.jsx(pa,{size:16,className:"mr-1"}),w.addNewDoctor]})]})]}),r.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Debug: availableDoctors=",s.length,", loading=",g.toString(),", modal=",m.toString()]}),!e.id&&!N?r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:w.noDoctorSelected}):r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(EA,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]})]}),e.id&&r.jsx("button",{onClick:R,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(tr,{size:16})})]}),e.specialty&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.specialty}),e.email&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.email}),e.phone&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.phone})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:N?w.addNewDoctor:w.selectDoctor}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[w.firstName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.firstName,onChange:T=>I("firstName",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:w.firstName}),r.jsx(Oa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[w.lastName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.lastName,onChange:T=>I("lastName",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:w.lastName}),r.jsx(Oa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.email}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",value:e.email,onChange:T=>I("email",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"doctor@email.com"}),r.jsx(ob,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.phone}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"tel",value:e.phone,onChange:T=>I("phone",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+212-6-12-345678"}),r.jsx(lb,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.specialty}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:e.specialty,onChange:T=>I("specialty",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:w.selectDoctor}),Object.entries(w.specialties).map(([T,z])=>r.jsx("option",{value:z,children:z},T))]}),r.jsx(ro,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.orderNumber}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.orderNumber,onChange:T=>I("orderNumber",T.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ORD-001"}),r.jsx(ro,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]})]})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:w.selectDoctor}),r.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:w.searchDoctor,value:l,onChange:T=>d(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:g?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:w.loading})]}):r.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["Total doctors: ",s.length,", Filtered: ",C.length]}),C.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:w.noDoctorsFound}):C.map(T=>r.jsx("button",{onClick:()=>L(T),className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[T.firstName," ",T.lastName]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.specialty}),T.email&&r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.email})]}),r.jsx(EA,{size:20,className:"text-blue-600 dark:text-blue-400"})]})},T.id))]})})]})})]})}function EL({data:e,updateData:t,language:a}){const s={title:a==="fr"?"Rendez-vous":"Appointment",subtitle:a==="fr"?"Planifiez le rendez-vous pour la collecte d'échantillons":"Schedule the appointment for sample collection",date:"Date",time:a==="fr"?"Heure":"Time",location:a==="fr"?"Lieu":"Location",urgency:a==="fr"?"Urgence":"Urgency",sampleType:a==="fr"?"Type d'échantillon":"Sample Type",tubeType:a==="fr"?"Type de tube":"Tube Type",notes:"Notes",normal:"Normal",urgent:"Urgent",emergency:a==="fr"?"Urgence":"Emergency",required:a==="fr"?"Ce champ est requis":"This field is required",selectDate:a==="fr"?"Sélectionner une date":"Select a date",selectTime:a==="fr"?"Sélectionner une heure":"Select a time",enterLocation:a==="fr"?"Entrer le lieu":"Enter location",addNotes:a==="fr"?"Ajouter des notes":"Add notes",urgencyLevels:{normal:a==="fr"?"Résultats dans 24-48h":"Results in 24-48h",urgent:a==="fr"?"Résultats dans 2-4h":"Results in 2-4h",emergency:a==="fr"?"Résultats immédiats":"Immediate results"}},o=(g,f)=>{t(g,f)},l=g=>{switch(g){case"NORMAL":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"URGENT":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EMERGENCY":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},d=g=>{switch(g){case"NORMAL":return r.jsx(ln,{size:16});case"URGENT":return r.jsx(ka,{size:16});case"EMERGENCY":return r.jsx(or,{size:16});default:return r.jsx(ln,{size:16})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.date," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",value:e.date,onChange:g=>o("date",g.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx(ln,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.time," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"time",value:e.time,onChange:g=>o("time",g.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx(ka,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.location}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.location,onChange:g=>o("location",g.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Laboratoire principal"}),r.jsx(oc,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.urgency}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"urgency",value:"NORMAL",checked:e.urgency==="NORMAL",onChange:g=>o("urgency",g.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:s.normal}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${l("NORMAL")}`,children:d("NORMAL")})]})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"urgency",value:"URGENT",checked:e.urgency==="URGENT",onChange:g=>o("urgency",g.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:s.urgent}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${l("URGENT")}`,children:d("URGENT")})]})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"urgency",value:"EMERGENCY",checked:e.urgency==="EMERGENCY",onChange:g=>o("urgency",g.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:s.emergency}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${l("EMERGENCY")}`,children:d("EMERGENCY")})]})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.sampleType," *"]}),r.jsxs("select",{value:e.sampleType,onChange:g=>o("sampleType",g.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"BLOOD",children:a==="fr"?"Sang":"Blood"}),r.jsx("option",{value:"URINE",children:"Urine"}),r.jsx("option",{value:"SALIVA",children:a==="fr"?"Salive":"Saliva"}),r.jsx("option",{value:"STOOL",children:a==="fr"?"Selles":"Stool"}),r.jsx("option",{value:"SPUTUM",children:a==="fr"?"Expectoration":"Sputum"}),r.jsx("option",{value:"CEREBROSPINAL_FLUID",children:a==="fr"?"Liquide céphalo-rachidien":"Cerebrospinal Fluid"}),r.jsx("option",{value:"SYNOVIAL_FLUID",children:a==="fr"?"Liquide synovial":"Synovial Fluid"}),r.jsx("option",{value:"PLEURAL_FLUID",children:a==="fr"?"Liquide pleural":"Pleural Fluid"}),r.jsx("option",{value:"PERITONEAL_FLUID",children:a==="fr"?"Liquide péritonéal":"Peritoneal Fluid"}),r.jsx("option",{value:"OTHER",children:a==="fr"?"Autre":"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.tubeType}),r.jsxs("select",{value:e.tubeType||"",onChange:g=>o("tubeType",g.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Sélectionner un type de tube":"Select tube type"}),r.jsx("option",{value:"EDTA",children:"EDTA"}),r.jsx("option",{value:"CITRATE",children:"Citrate"}),r.jsx("option",{value:"HEPARIN",children:"Héparine"}),r.jsx("option",{value:"SERUM",children:"Sérum"}),r.jsx("option",{value:"PLAIN",children:"Tube sec"}),r.jsx("option",{value:"FLUORIDE",children:"Fluorure"}),r.jsx("option",{value:"OTHER",children:a==="fr"?"Autre":"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.notes}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:e.notes,onChange:g=>o("notes",g.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Instructions spéciales, allergies, etc."}),r.jsx(Jr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(or,{size:20,className:"text-blue-600 dark:text-blue-400 mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:[s.urgency," - ",s.urgencyLevels[e.urgency.toLowerCase()]]}),r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.urgency==="NORMAL"&&(a==="fr"?"Les résultats seront disponibles dans les 24-48 heures suivant la collecte.":"Results will be available within 24-48 hours after collection."),e.urgency==="URGENT"&&(a==="fr"?"Les résultats seront disponibles dans les 2-4 heures suivant la collecte.":"Results will be available within 2-4 hours after collection."),e.urgency==="EMERGENCY"&&(a==="fr"?"Les résultats seront disponibles immédiatement après la collecte.":"Results will be available immediately after collection.")]})]})]})})]})}function LL({data:e,analyses:t,updateData:a,language:s}){const o={title:s==="fr"?"Facturation":"Billing",subtitle:s==="fr"?"Informations de paiement et d'assurance":"Payment and insurance information",payer:s==="fr"?"Payeur":"Payer",patient:"Patient",insurance:s==="fr"?"Assurance":"Insurance",company:s==="fr"?"Entreprise":"Company",insuranceCompany:s==="fr"?"Compagnie d'assurance":"Insurance Company",insuranceNumber:s==="fr"?"Numéro d'assurance":"Insurance Number",discount:s==="fr"?"Remise (%)":"Discount (%)",advancePayment:s==="fr"?"Acompte":"Advance Payment",notes:"Notes",summary:s==="fr"?"Résumé de facturation":"Billing Summary",subtotal:s==="fr"?"Sous-total":"Subtotal",tva:s==="fr"?"TVA":"VAT",totalBeforeDiscount:s==="fr"?"Total avant remise":"Total before discount",discountAmount:s==="fr"?"Montant de la remise":"Discount amount",totalAfterDiscount:s==="fr"?"Total après remise":"Total after discount",amountDue:s==="fr"?"Montant dû":"Amount due",required:s==="fr"?"Ce champ est requis":"This field is required",invalidDiscount:s==="fr"?"La remise doit être entre 0 et 100":"Discount must be between 0 and 100",invalidAdvance:s==="fr"?"L'acompte ne peut pas dépasser le total":"Advance payment cannot exceed total"},l=(B,w)=>{a(B,w)},d=t.reduce((B,w)=>B+w.price,0),g=t.reduce((B,w)=>B+w.price*w.tva/100,0),f=d+g,m=f*(e.discount/100),y=f-m,N=y-e.advancePayment;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.payer}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"payer",value:"PATIENT",checked:e.payer==="PATIENT",onChange:B=>l("payer",B.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx(co,{size:16,className:"mr-2 text-gray-400"}),o.patient]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"payer",value:"INSURANCE",checked:e.payer==="INSURANCE",onChange:B=>l("payer",B.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx(ro,{size:16,className:"mr-2 text-gray-400"}),o.insurance]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"payer",value:"COMPANY",checked:e.payer==="COMPANY",onChange:B=>l("payer",B.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx(ro,{size:16,className:"mr-2 text-gray-400"}),o.company]})]})]}),e.payer==="INSURANCE"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.insuranceCompany}),r.jsx("input",{type:"text",value:e.insuranceCompany,onChange:B=>l("insuranceCompany",B.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nom de la compagnie d'assurance"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.insuranceNumber}),r.jsx("input",{type:"text",value:e.insuranceNumber,onChange:B=>l("insuranceNumber",B.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Numéro de police"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.discount}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:e.discount,onChange:B=>l("discount",parseFloat(B.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"}),r.jsx(N6,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.advancePayment}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",step:"0.01",value:e.advancePayment,onChange:B=>l("advancePayment",parseFloat(B.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"}),r.jsx(Os,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o.notes}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:e.notes,onChange:B=>l("notes",B.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notes de facturation..."}),r.jsx(Jr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:o.summary}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.subtotal,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[d.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.tva,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[g.toFixed(2)," dh"]})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.totalBeforeDiscount,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[f.toFixed(2)," dh"]})]})}),e.discount>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.discountAmount,":"]}),r.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:["-",m.toFixed(2)," dh"]})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.totalAfterDiscount,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[y.toFixed(2)," dh"]})]})})]}),e.advancePayment>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[o.advancePayment,":"]}),r.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["-",e.advancePayment.toFixed(2)," dh"]})]}),r.jsx("div",{className:"border-t-2 border-gray-300 dark:border-gray-500 pt-2",children:r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsxs("span",{className:"text-gray-900 dark:text-white",children:[o.amountDue,":"]}),r.jsxs("span",{className:`${N>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[N.toFixed(2)," dh"]})]})})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(co,{size:20,className:"text-blue-600 dark:text-blue-400 mr-3"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:[e.payer==="PATIENT"&&o.patient,e.payer==="INSURANCE"&&o.insurance,e.payer==="COMPANY"&&o.company]}),r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.payer==="PATIENT"&&(s==="fr"?"Le patient paiera directement":"Patient will pay directly"),e.payer==="INSURANCE"&&(s==="fr"?"Paiement par assurance":"Payment by insurance"),e.payer==="COMPANY"&&(s==="fr"?"Paiement par entreprise":"Payment by company")]})]})]})})]})]})]})}function IL({data:e,language:t}){const a={title:t==="fr"?"Révision et Soumission":"Review and Submit",subtitle:t==="fr"?"Vérifiez toutes les informations avant de soumettre la demande":"Review all information before submitting the request",patientInfo:t==="fr"?"Informations du Patient":"Patient Information",analyses:"Analyses",doctorInfo:t==="fr"?"Informations du Médecin":"Doctor Information",appointment:t==="fr"?"Rendez-vous":"Appointment",billing:t==="fr"?"Facturation":"Billing",prescription:t==="fr"?"Ordonnance":"Prescription",name:t==="fr"?"Nom":"Name",dateOfBirth:t==="fr"?"Date de naissance":"Date of Birth",gender:t==="fr"?"Genre":"Gender",phone:t==="fr"?"Téléphone":"Phone",email:"Email",cnssNumber:t==="fr"?"Numéro CNSS":"CNSS Number",address:t==="fr"?"Adresse":"Address",specialty:t==="fr"?"Spécialité":"Specialty",orderNumber:t==="fr"?"Numéro d'ordre":"Order Number",date:"Date",time:t==="fr"?"Heure":"Time",location:t==="fr"?"Lieu":"Location",urgency:t==="fr"?"Urgence":"Urgency",notes:"Notes",payer:t==="fr"?"Payeur":"Payer",insuranceCompany:t==="fr"?"Compagnie d'assurance":"Insurance Company",insuranceNumber:t==="fr"?"Numéro d'assurance":"Insurance Number",discount:t==="fr"?"Remise":"Discount",advancePayment:t==="fr"?"Acompte":"Advance Payment",subtotal:t==="fr"?"Sous-total":"Subtotal",tva:t==="fr"?"TVA":"VAT",total:"Total",amountDue:t==="fr"?"Montant dû":"Amount due",uploaded:t==="fr"?"Téléchargé":"Uploaded",notUploaded:t==="fr"?"Non téléchargé":"Not uploaded",male:t==="fr"?"Masculin":"Male",female:t==="fr"?"Féminin":"Female",normal:"Normal",urgent:"Urgent",emergency:t==="fr"?"Urgence":"Emergency",patient:"Patient",insurance:t==="fr"?"Assurance":"Insurance",company:t==="fr"?"Entreprise":"Company",noData:t==="fr"?"Aucune donnée":"No data",readyToSubmit:t==="fr"?"Prêt à soumettre":"Ready to submit",reviewComplete:t==="fr"?"Révision terminée":"Review complete"},s=e.analyses.reduce((N,B)=>N+B.price,0),o=e.analyses.reduce((N,B)=>N+B.price*B.tva/100,0),l=s+o,d=l*(e.billing.discount/100),f=l-d-e.billing.advancePayment,m=N=>N?new Date(N).toLocaleDateString(t==="fr"?"fr-FR":"en-US"):a.noData,y=N=>{switch(N){case"NORMAL":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"URGENT":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EMERGENCY":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Oa,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.patientInfo})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.name,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.patient.firstName," ",e.patient.lastName]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.dateOfBirth,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:m(e.patient.dateOfBirth)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.gender,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.gender==="M"?a.male:a.female})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.phone,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.phone})]}),e.patient.email&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.email,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.email})]}),e.patient.cnssNumber&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.cnssNumber,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.cnssNumber})]}),e.patient.address&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.address,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.address})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(EA,{size:20,className:"text-green-600 dark:text-green-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.doctorInfo})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.name,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.doctor.firstName," ",e.doctor.lastName]})]}),e.doctor.specialty&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.specialty,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.specialty})]}),e.doctor.email&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.email,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.email})]}),e.doctor.phone&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.phone,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.phone})]}),e.doctor.orderNumber&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.orderNumber,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.orderNumber})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ln,{size:20,className:"text-purple-600 dark:text-purple-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.appointment})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.date,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:m(e.appointment.date)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.time,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.time})]}),e.appointment.location&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.location,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.location})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.urgency,":"]}),r.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${y(e.appointment.urgency)}`,children:[e.appointment.urgency==="NORMAL"&&a.normal,e.appointment.urgency==="URGENT"&&a.urgent,e.appointment.urgency==="EMERGENCY"&&a.emergency]})]}),e.appointment.notes&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.notes,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.notes})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(co,{size:20,className:"text-orange-600 dark:text-orange-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.billing})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.payer,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.payer==="PATIENT"&&a.patient,e.billing.payer==="INSURANCE"&&a.insurance,e.billing.payer==="COMPANY"&&a.company]})]}),e.billing.payer==="INSURANCE"&&e.billing.insuranceCompany&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.insuranceCompany,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.billing.insuranceCompany})]}),e.billing.payer==="INSURANCE"&&e.billing.insuranceNumber&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.insuranceNumber,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.billing.insuranceNumber})]}),e.billing.discount>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.discount,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.discount,"%"]})]}),e.billing.advancePayment>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.advancePayment,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.advancePayment," dh"]})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.amountDue,":"]}),r.jsxs("span",{className:`font-bold ${f>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[f.toFixed(2)," dh"]})]})})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Jr,{size:20,className:"text-indigo-600 dark:text-indigo-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.analyses})]}),r.jsxs("div",{className:"space-y-3",children:[e.analyses.map(N=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:N.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[N.code," • ",N.category]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[N.price," dh"]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",N.tva,"%"]})]})]},N.id)),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.subtotal,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[s.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.tva,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[o.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[r.jsxs("span",{className:"text-gray-900 dark:text-white",children:[a.total,":"]}),r.jsxs("span",{className:"text-gray-900 dark:text-white",children:[l.toFixed(2)," dh"]})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Jr,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.prescription})]}),r.jsx("div",{className:"flex items-center",children:e.prescription?r.jsxs(r.Fragment,{children:[r.jsx(Br,{size:20,className:"text-green-600 dark:text-green-400 mr-2"}),r.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:a.uploaded}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:["(",e.prescription.name,")"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(or,{size:20,className:"text-yellow-600 dark:text-yellow-400 mr-2"}),r.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:a.notUploaded})]})})]}),r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Br,{size:24,className:"text-green-600 dark:text-green-400 mr-3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100",children:a.readyToSubmit}),r.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:a.reviewComplete})]})]})})]})}const Vh=[{id:1,title:"Patient Info",icon:Oa},{id:2,title:"Analyses",icon:Jr},{id:3,title:"Doctor Ref",icon:EA},{id:4,title:"Appointment",icon:ln},{id:5,title:"Billing",icon:co},{id:6,title:"Review",icon:Ma}];function PL(){const{language:e}=zt(),t=Dn(),[a,s]=q.useState(1),[o,l]=q.useState(!1),[d,g]=q.useState({patient:{firstName:"",lastName:"",dateOfBirth:"",gender:"M",phone:"",email:"",cnssNumber:"",address:""},analyses:[],doctor:{id:"",firstName:"",lastName:"",email:"",phone:"",specialty:"",orderNumber:""},appointment:{date:"",time:"",location:"",urgency:"NORMAL",sampleType:"BLOOD",tubeType:void 0,notes:""},billing:{payer:"PATIENT",insuranceCompany:"",insuranceNumber:"",discount:0,advancePayment:0,notes:""}}),f={title:e==="fr"?"Nouvelle Demande d'Analyse":"New Analysis Request",subtitle:e==="fr"?"Créer une nouvelle demande d'analyse de laboratoire":"Create a new laboratory analysis request",back:e==="fr"?"Retour":"Back",next:e==="fr"?"Suivant":"Next",submit:e==="fr"?"Soumettre":"Submit",loading:e==="fr"?"Envoi en cours...":"Submitting...",success:e==="fr"?"Demande créée avec succès":"Request created successfully",error:e==="fr"?"Erreur lors de la création":"Error creating request",step:e==="fr"?"Étape":"Step",of:e==="fr"?"sur":"of"},m=(R,C)=>{g(I=>({...I,[R]:C}))},y=(R,C,I)=>{g(T=>({...T,[R]:{...T[R],[C]:I}}))},N=()=>{a<Vh.length&&s(a+1)},B=()=>{a>1&&s(a-1)},w=async()=>{l(!0);try{const R=d.analyses.reduce((W,$)=>W+$.price,0),C=d.analyses.reduce((W,$)=>W+$.price*$.tva/100,0),I=R+C,T=I*(d.billing.discount/100),D=I-T-d.billing.advancePayment;let ae;if(d.patient.cnssNumber)try{const W=await Gc.getPatients({cnssNumber:d.patient.cnssNumber}),$=W.patients||W||[];if($.length>0){const Z=$[0];if(ae=Z.id,Z.firstName!==d.patient.firstName||Z.lastName!==d.patient.lastName||(Z.gender||"")!==d.patient.gender||(Z.phone||"")!==d.patient.phone||(Z.email||"")!==d.patient.email||(Z.address||"")!==d.patient.address||(Z.dateOfBirth?Z.dateOfBirth.slice(0,10):"")!==d.patient.dateOfBirth)try{const ne=d.patient.phone.replace(/[^\d+]/g,"");await Gc.updatePatient(Z.id,{firstName:d.patient.firstName,lastName:d.patient.lastName,dateOfBirth:new Date(d.patient.dateOfBirth).toISOString(),gender:d.patient.gender,phone:ne,email:d.patient.email||null,cnssNumber:d.patient.cnssNumber,address:d.patient.address})}catch{console.warn("Patient update failed, proceeding with existing data")}}else{const Z=d.patient.phone.replace(/[^\d+]/g,"");ae=(await Gc.createPatient({firstName:d.patient.firstName,lastName:d.patient.lastName,dateOfBirth:new Date(d.patient.dateOfBirth).toISOString(),gender:d.patient.gender,phone:Z,email:d.patient.email||null,cnssNumber:d.patient.cnssNumber,address:d.patient.address})).id}}catch{const $=d.patient.phone.replace(/[^\d+]/g,"");ae=(await Gc.createPatient({firstName:d.patient.firstName,lastName:d.patient.lastName,dateOfBirth:new Date(d.patient.dateOfBirth).toISOString(),gender:d.patient.gender,phone:$,email:d.patient.email||null,cnssNumber:d.patient.cnssNumber,address:d.patient.address})).id}else{const W=d.patient.phone.replace(/[^\d+]/g,"");ae=(await Gc.createPatient({firstName:d.patient.firstName,lastName:d.patient.lastName,dateOfBirth:new Date(d.patient.dateOfBirth).toISOString(),gender:d.patient.gender,phone:W,email:d.patient.email||null,address:d.patient.address})).id}const X=d.analyses.map(W=>{const $=W.price+W.price*W.tva/100;return{analysisId:W.id,price:$}});let _;try{if(d.appointment.date){if(_=new Date(d.appointment.date),isNaN(_.getTime()))throw new Error("Invalid date");_=_.toISOString().split("T")[0]}else _=new Date().toISOString().split("T")[0]}catch(W){console.error("Date parsing error:",W),_=new Date().toISOString().split("T")[0]}const ie={patientId:ae,doctorId:d.doctor.id||void 0,appointmentDate:_,appointmentTime:d.appointment.time||"09:00",sampleType:d.appointment.sampleType,tubeType:d.appointment.tubeType,urgent:d.appointment.urgency==="URGENT"||d.appointment.urgency==="EMERGENCY",discount:d.billing.discount||0,advancePayment:d.billing.advancePayment||0,notes:(d.appointment.notes||"")+(d.billing.notes?`
Billing: ${d.billing.notes}`:""),analyses:X},oe=await cc.createRequest(ie);alert(e==="fr"?"Demande créée avec succès!":"Request created successfully!");try{if(window.confirm(e==="fr"?"Imprimer le reçu patient ?":"Print patient receipt?")){const{printReceipt:ne}=await Gl(()=>import("./printing-cfcc767e.js"),[]);ne(oe,{amountPaid:d.billing.advancePayment,paymentMethod:d.billing.payer})}if(window.confirm(e==="fr"?"Imprimer la fiche de prélèvement ?":"Print collection sheet?")){const{printCollectionSheet:ne}=await Gl(()=>import("./printing-cfcc767e.js"),[]);ne(oe)}if(window.confirm(e==="fr"?"Imprimer les étiquettes des tubes ?":"Print tube labels?")){const{printTubeLabels:ne}=await Gl(()=>import("./printing-cfcc767e.js"),[]);ne(oe)}if(window.confirm(e==="fr"?"Imprimer le bordereau de routage interne ?":"Print internal routing slip?")){const{printRoutingSlip:ne}=await Gl(()=>import("./printing-cfcc767e.js"),[]);ne(oe)}}catch(W){console.warn("Printing flow error",W)}t("/requests")}catch(R){console.error("Error submitting request:",R);let C=e==="fr"?"Erreur lors de la création de la demande":"Error creating request";if(R instanceof Error)if(R.message.includes("Validation"))C+=e==="fr"?": Validation échouée. Veuillez vérifier les informations du patient (téléphone, email, etc.)":": Validation failed. Please check patient information (phone, email, etc.)";else if(R.message.includes("Internal server error")){const I=R.message.indexOf(":");if(I>-1){const T=R.message.substring(I+1).trim();C+=e==="fr"?`: Erreur serveur - ${T}`:`: Server error - ${T}`}else C+=`: ${R.message}`}else C+=`: ${R.message}`;alert(C)}finally{l(!1)}},U=()=>{switch(a){case 1:return r.jsx(jL,{data:d.patient,updateData:(R,C)=>y("patient",R,C),language:e});case 2:return r.jsx(SL,{data:d.analyses,prescription:d.prescription,updateData:R=>m("analyses",R),updatePrescription:R=>m("prescription",R),language:e});case 3:return r.jsx(FL,{data:d.doctor,updateData:(R,C)=>y("doctor",R,C),language:e});case 4:return r.jsx(EL,{data:d.appointment,updateData:(R,C)=>y("appointment",R,C),language:e});case 5:return r.jsx(LL,{data:d.billing,analyses:d.analyses,updateData:(R,C)=>y("billing",R,C),language:e});case 6:return r.jsx(IL,{data:d,language:e});default:return null}},L=()=>{switch(a){case 1:return d.patient.firstName&&d.patient.lastName&&d.patient.dateOfBirth&&d.patient.phone;case 2:return d.analyses.length>0;case 3:return d.doctor.id||d.doctor.firstName&&d.doctor.lastName;case 4:return d.appointment.date&&d.appointment.time;case 5:return!0;case 6:return!0;default:return!1}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("button",{onClick:()=>t("/requests"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mr-4",children:[r.jsx(ic,{size:20,className:"mr-2"}),f.back]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:f.title}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f.subtitle})]})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.step," ",a," ",f.of," ",Vh.length]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:e==="fr"?"Progression":"Progress"}),r.jsx("nav",{className:"space-y-2",children:Vh.map((R,C)=>{const I=R.icon,T=a===R.id,z=a>R.id;return r.jsxs("div",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-colors ${T?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700":z?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700":"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600"}`,onClick:()=>s(R.id),children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full mr-3",children:z?r.jsx(Br,{size:20,className:"text-green-600 dark:text-green-400"}):r.jsx(I,{size:20,className:T?"text-blue-600 dark:text-blue-400":"text-gray-400"})}),r.jsx("span",{className:`text-sm font-medium ${T?"text-blue-900 dark:text-blue-100":z?"text-green-900 dark:text-green-100":"text-gray-600 dark:text-gray-400"}`,children:R.title})]},R.id)})})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"p-6",children:U()}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsxs("button",{onClick:B,disabled:a===1,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(ic,{size:16,className:"mr-2"}),f.back]}),r.jsx("div",{className:"flex items-center space-x-3",children:a<Vh.length?r.jsxs("button",{onClick:N,disabled:!L(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.next,r.jsx(x0,{size:16,className:"ml-2"})]}):r.jsx("button",{onClick:w,disabled:!L()||o,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),f.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),f.submit]})})})]})]})})]})})]})}function Nr(e){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(e)}var cs=Uint8Array,nn=Uint16Array,fb=Int32Array,pf=new cs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mf=new cs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kx=new cs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),WC=function(e,t){for(var a=new nn(31),s=0;s<31;++s)a[s]=t+=1<<e[s-1];for(var o=new fb(a[30]),s=1;s<30;++s)for(var l=a[s];l<a[s+1];++l)o[l]=l-a[s]<<5|s;return{b:a,r:o}},YC=WC(pf,2),$C=YC.b,Nx=YC.r;$C[28]=258,Nx[258]=28;var JC=WC(mf,0),UL=JC.b,Vw=JC.r,Cx=new nn(32768);for(var Hr=0;Hr<32768;++Hr){var Io=(Hr&43690)>>1|(Hr&21845)<<1;Io=(Io&52428)>>2|(Io&13107)<<2,Io=(Io&61680)>>4|(Io&3855)<<4,Cx[Hr]=((Io&65280)>>8|(Io&255)<<8)>>1}var Bi=function(e,t,a){for(var s=e.length,o=0,l=new nn(t);o<s;++o)e[o]&&++l[e[o]-1];var d=new nn(t);for(o=1;o<t;++o)d[o]=d[o-1]+l[o-1]<<1;var g;if(a){g=new nn(1<<t);var f=15-t;for(o=0;o<s;++o)if(e[o])for(var m=o<<4|e[o],y=t-e[o],N=d[e[o]-1]++<<y,B=N|(1<<y)-1;N<=B;++N)g[Cx[N]>>f]=m}else for(g=new nn(s),o=0;o<s;++o)e[o]&&(g[o]=Cx[d[e[o]-1]++]>>15-e[o]);return g},gl=new cs(288);for(var Hr=0;Hr<144;++Hr)gl[Hr]=8;for(var Hr=144;Hr<256;++Hr)gl[Hr]=9;for(var Hr=256;Hr<280;++Hr)gl[Hr]=7;for(var Hr=280;Hr<288;++Hr)gl[Hr]=8;var ju=new cs(32);for(var Hr=0;Hr<32;++Hr)ju[Hr]=5;var DL=Bi(gl,9,0),TL=Bi(gl,9,1),QL=Bi(ju,5,0),RL=Bi(ju,5,1),Mp=function(e){for(var t=e[0],a=1;a<e.length;++a)e[a]>t&&(t=e[a]);return t},zn=function(e,t,a){var s=t/8|0;return(e[s]|e[s+1]<<8)>>(t&7)&a},Op=function(e,t){var a=t/8|0;return(e[a]|e[a+1]<<8|e[a+2]<<16)>>(t&7)},pb=function(e){return(e+7)/8|0},ZC=function(e,t,a){return(t==null||t<0)&&(t=0),(a==null||a>e.length)&&(a=e.length),new cs(e.subarray(t,a))},ML=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Xn=function(e,t,a){var s=new Error(t||ML[e]);if(s.code=e,Error.captureStackTrace&&Error.captureStackTrace(s,Xn),!a)throw s;return s},OL=function(e,t,a,s){var o=e.length,l=s?s.length:0;if(!o||t.f&&!t.l)return a||new cs(0);var d=!a,g=d||t.i!=2,f=t.i;d&&(a=new cs(o*3));var m=function(tt){var He=a.length;if(tt>He){var qe=new cs(Math.max(He*2,tt));qe.set(a),a=qe}},y=t.f||0,N=t.p||0,B=t.b||0,w=t.l,U=t.d,L=t.m,R=t.n,C=o*8;do{if(!w){y=zn(e,N,1);var I=zn(e,N+1,3);if(N+=3,I)if(I==1)w=TL,U=RL,L=9,R=5;else if(I==2){var ae=zn(e,N,31)+257,X=zn(e,N+10,15)+4,_=ae+zn(e,N+5,31)+1;N+=14;for(var ie=new cs(_),oe=new cs(19),W=0;W<X;++W)oe[kx[W]]=zn(e,N+W*3,7);N+=X*3;for(var $=Mp(oe),Z=(1<<$)-1,J=Bi(oe,$,1),W=0;W<_;){var ne=J[zn(e,N,Z)];N+=ne&15;var T=ne>>4;if(T<16)ie[W++]=T;else{var te=0,Be=0;for(T==16?(Be=3+zn(e,N,3),N+=2,te=ie[W-1]):T==17?(Be=3+zn(e,N,7),N+=3):T==18&&(Be=11+zn(e,N,127),N+=7);Be--;)ie[W++]=te}}var fe=ie.subarray(0,ae),je=ie.subarray(ae);L=Mp(fe),R=Mp(je),w=Bi(fe,L,1),U=Bi(je,R,1)}else Xn(1);else{var T=pb(N)+4,z=e[T-4]|e[T-3]<<8,D=T+z;if(D>o){f&&Xn(0);break}g&&m(B+z),a.set(e.subarray(T,D),B),t.b=B+=z,t.p=N=D*8,t.f=y;continue}if(N>C){f&&Xn(0);break}}g&&m(B+131072);for(var Ce=(1<<L)-1,Me=(1<<R)-1,Ae=N;;Ae=N){var te=w[Op(e,N)&Ce],he=te>>4;if(N+=te&15,N>C){f&&Xn(0);break}if(te||Xn(2),he<256)a[B++]=he;else if(he==256){Ae=N,w=null;break}else{var ke=he-254;if(he>264){var W=he-257,Le=pf[W];ke=zn(e,N,(1<<Le)-1)+$C[W],N+=Le}var Pe=U[Op(e,N)&Me],Re=Pe>>4;Pe||Xn(3),N+=Pe&15;var je=UL[Re];if(Re>3){var Le=mf[Re];je+=Op(e,N)&(1<<Le)-1,N+=Le}if(N>C){f&&Xn(0);break}g&&m(B+131072);var ve=B+ke;if(B<je){var Ee=l-je,Xe=Math.min(je,ve);for(Ee+B<0&&Xn(3);B<Xe;++B)a[B]=s[Ee+B]}for(;B<ve;++B)a[B]=a[B-je]}}t.l=w,t.p=Ae,t.b=B,t.f=y,w&&(y=1,t.m=L,t.d=U,t.n=R)}while(!y);return B!=a.length&&d?ZC(a,0,B):a.subarray(0,B)},qi=function(e,t,a){a<<=t&7;var s=t/8|0;e[s]|=a,e[s+1]|=a>>8},vd=function(e,t,a){a<<=t&7;var s=t/8|0;e[s]|=a,e[s+1]|=a>>8,e[s+2]|=a>>16},Hp=function(e,t){for(var a=[],s=0;s<e.length;++s)e[s]&&a.push({s,f:e[s]});var o=a.length,l=a.slice();if(!o)return{t:tB,l:0};if(o==1){var d=new cs(a[0].s+1);return d[a[0].s]=1,{t:d,l:1}}a.sort(function(D,ae){return D.f-ae.f}),a.push({s:-1,f:25001});var g=a[0],f=a[1],m=0,y=1,N=2;for(a[0]={s:-1,f:g.f+f.f,l:g,r:f};y!=o-1;)g=a[a[m].f<a[N].f?m++:N++],f=a[m!=y&&a[m].f<a[N].f?m++:N++],a[y++]={s:-1,f:g.f+f.f,l:g,r:f};for(var B=l[0].s,s=1;s<o;++s)l[s].s>B&&(B=l[s].s);var w=new nn(B+1),U=Bx(a[y-1],w,0);if(U>t){var s=0,L=0,R=U-t,C=1<<R;for(l.sort(function(ae,X){return w[X.s]-w[ae.s]||ae.f-X.f});s<o;++s){var I=l[s].s;if(w[I]>t)L+=C-(1<<U-w[I]),w[I]=t;else break}for(L>>=R;L>0;){var T=l[s].s;w[T]<t?L-=1<<t-w[T]++-1:++s}for(;s>=0&&L;--s){var z=l[s].s;w[z]==t&&(--w[z],++L)}U=t}return{t:new cs(w),l:U}},Bx=function(e,t,a){return e.s==-1?Math.max(Bx(e.l,t,a+1),Bx(e.r,t,a+1)):t[e.s]=a},Gw=function(e){for(var t=e.length;t&&!e[--t];);for(var a=new nn(++t),s=0,o=e[0],l=1,d=function(f){a[s++]=f},g=1;g<=t;++g)if(e[g]==o&&g!=t)++l;else{if(!o&&l>2){for(;l>138;l-=138)d(32754);l>2&&(d(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(d(o),--l;l>6;l-=6)d(8304);l>2&&(d(l-3<<5|8208),l=0)}for(;l--;)d(o);l=1,o=e[g]}return{c:a.subarray(0,s),n:t}},wd=function(e,t){for(var a=0,s=0;s<t.length;++s)a+=e[s]*t[s];return a},eB=function(e,t,a){var s=a.length,o=pb(t+2);e[o]=s&255,e[o+1]=s>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var l=0;l<s;++l)e[o+l+4]=a[l];return(o+4+s)*8},qw=function(e,t,a,s,o,l,d,g,f,m,y){qi(t,y++,a),++o[256];for(var N=Hp(o,15),B=N.t,w=N.l,U=Hp(l,15),L=U.t,R=U.l,C=Gw(B),I=C.c,T=C.n,z=Gw(L),D=z.c,ae=z.n,X=new nn(19),_=0;_<I.length;++_)++X[I[_]&31];for(var _=0;_<D.length;++_)++X[D[_]&31];for(var ie=Hp(X,7),oe=ie.t,W=ie.l,$=19;$>4&&!oe[kx[$-1]];--$);var Z=m+5<<3,J=wd(o,gl)+wd(l,ju)+d,ne=wd(o,B)+wd(l,L)+d+14+3*$+wd(X,oe)+2*X[16]+3*X[17]+7*X[18];if(f>=0&&Z<=J&&Z<=ne)return eB(t,y,e.subarray(f,f+m));var te,Be,fe,je;if(qi(t,y,1+(ne<J)),y+=2,ne<J){te=Bi(B,w,0),Be=B,fe=Bi(L,R,0),je=L;var Ce=Bi(oe,W,0);qi(t,y,T-257),qi(t,y+5,ae-1),qi(t,y+10,$-4),y+=14;for(var _=0;_<$;++_)qi(t,y+3*_,oe[kx[_]]);y+=3*$;for(var Me=[I,D],Ae=0;Ae<2;++Ae)for(var he=Me[Ae],_=0;_<he.length;++_){var ke=he[_]&31;qi(t,y,Ce[ke]),y+=oe[ke],ke>15&&(qi(t,y,he[_]>>5&127),y+=he[_]>>12)}}else te=DL,Be=gl,fe=QL,je=ju;for(var _=0;_<g;++_){var Le=s[_];if(Le>255){var ke=Le>>18&31;vd(t,y,te[ke+257]),y+=Be[ke+257],ke>7&&(qi(t,y,Le>>23&31),y+=pf[ke]);var Pe=Le&31;vd(t,y,fe[Pe]),y+=je[Pe],Pe>3&&(vd(t,y,Le>>5&8191),y+=mf[Pe])}else vd(t,y,te[Le]),y+=Be[Le]}return vd(t,y,te[256]),y+Be[256]},HL=new fb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tB=new cs(0),_L=function(e,t,a,s,o,l){var d=l.z||e.length,g=new cs(s+d+5*(1+Math.ceil(d/7e3))+o),f=g.subarray(s,g.length-o),m=l.l,y=(l.r||0)&7;if(t){y&&(f[0]=l.r>>3);for(var N=HL[t-1],B=N>>13,w=N&8191,U=(1<<a)-1,L=l.p||new nn(32768),R=l.h||new nn(U+1),C=Math.ceil(a/3),I=2*C,T=function(Ft){return(e[Ft]^e[Ft+1]<<C^e[Ft+2]<<I)&U},z=new fb(25e3),D=new nn(288),ae=new nn(32),X=0,_=0,ie=l.i||0,oe=0,W=l.w||0,$=0;ie+2<d;++ie){var Z=T(ie),J=ie&32767,ne=R[Z];if(L[J]=ne,R[Z]=J,W<=ie){var te=d-ie;if((X>7e3||oe>24576)&&(te>423||!m)){y=qw(e,f,0,z,D,ae,_,oe,$,ie-$,y),oe=X=_=0,$=ie;for(var Be=0;Be<286;++Be)D[Be]=0;for(var Be=0;Be<30;++Be)ae[Be]=0}var fe=2,je=0,Ce=w,Me=J-ne&32767;if(te>2&&Z==T(ie-Me))for(var Ae=Math.min(B,te)-1,he=Math.min(32767,ie),ke=Math.min(258,te);Me<=he&&--Ce&&J!=ne;){if(e[ie+fe]==e[ie+fe-Me]){for(var Le=0;Le<ke&&e[ie+Le]==e[ie+Le-Me];++Le);if(Le>fe){if(fe=Le,je=Me,Le>Ae)break;for(var Pe=Math.min(Me,Le-2),Re=0,Be=0;Be<Pe;++Be){var ve=ie-Me+Be&32767,Ee=L[ve],Xe=ve-Ee&32767;Xe>Re&&(Re=Xe,ne=ve)}}}J=ne,ne=L[J],Me+=J-ne&32767}if(je){z[oe++]=268435456|Nx[fe]<<18|Vw[je];var tt=Nx[fe]&31,He=Vw[je]&31;_+=pf[tt]+mf[He],++D[257+tt],++ae[He],W=ie+fe,++X}else z[oe++]=e[ie],++D[e[ie]]}}for(ie=Math.max(ie,W);ie<d;++ie)z[oe++]=e[ie],++D[e[ie]];y=qw(e,f,m,z,D,ae,_,oe,$,ie-$,y),m||(l.r=y&7|f[y/8|0]<<3,y-=7,l.h=R,l.p=L,l.i=ie,l.w=W)}else{for(var ie=l.w||0;ie<d+m;ie+=65535){var qe=ie+65535;qe>=d&&(f[y/8|0]=m,qe=d),y=eB(f,y+1,e.subarray(ie,qe))}l.i=d}return ZC(g,0,s+pb(y)+o)},rB=function(){var e=1,t=0;return{p:function(a){for(var s=e,o=t,l=a.length|0,d=0;d!=l;){for(var g=Math.min(d+2655,l);d<g;++d)o+=s+=a[d];s=(s&65535)+15*(s>>16),o=(o&65535)+15*(o>>16)}e=s,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},zL=function(e,t,a,s,o){if(!o&&(o={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),d=new cs(l.length+e.length);d.set(l),d.set(e,l.length),e=d,o.w=l.length}return _L(e,t.level==null?6:t.level,t.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,a,s,o)},aB=function(e,t,a){for(;a;++t)e[t]=a,a>>>=8},VL=function(e,t){var a=t.level,s=a==0?0:a<6?1:a==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var o=rB();o.p(t.dictionary),aB(e,2,o.d())}},GL=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Xn(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Xn(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function jx(e,t){t||(t={});var a=rB();a.p(e);var s=zL(e,t,t.dictionary?6:2,4);return VL(s,t),aB(s,s.length-4,a.d()),s}function qL(e,t){return OL(e.subarray(GL(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var XL=typeof TextDecoder<"u"&&new TextDecoder,KL=0;try{XL.decode(tB,{stream:!0}),KL=1}catch{}var Ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function _p(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var Ir={log:_p,warn:function(e){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):_p.call(null,arguments))},error:function(e){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):_p(e))}};function zp(e,t,a){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){Tl(s.response,t,a)},s.onerror=function(){Ir.error("could not download file")},s.send()}function Xw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Gh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var tu,Sx,Tl=Ht.saveAs||((typeof window>"u"?"undefined":Nr(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,a){var s=Ht.URL||Ht.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener",typeof e=="string"?(o.href=e,o.origin!==location.origin?Xw(o.href)?zp(e,t,a):Gh(o,o.target="_blank"):Gh(o)):(o.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(o.href)},4e4),setTimeout(function(){Gh(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download",typeof e=="string")if(Xw(e))zp(e,t,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){Gh(s)})}else navigator.msSaveOrOpenBlob(function(o,l){return l===void 0?l={autoBom:!1}:Nr(l)!=="object"&&(Ir.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob([String.fromCharCode(65279),o],{type:o.type}):o}(e,a),t)}:function(e,t,a,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return zp(e,t,a);var o=e.type==="application/octet-stream",l=/constructor/i.test(Ht.HTMLElement)||Ht.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||o&&l)&&(typeof FileReader>"u"?"undefined":Nr(FileReader))==="object"){var g=new FileReader;g.onloadend=function(){var y=g.result;y=d?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=y:location=y,s=null},g.readAsDataURL(e)}else{var f=Ht.URL||Ht.webkitURL,m=f.createObjectURL(e);s?s.location=m:location.href=m,s=null,setTimeout(function(){f.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function sB(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(g){return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(g){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(g){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]}}],s=0;s<a.length;s++){var o=a[s].re,l=a[s].process,d=o.exec(e);d&&(t=l(d),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var g=this.r.toString(16),f=this.g.toString(16),m=this.b.toString(16);return g.length==1&&(g="0"+g),f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),"#"+g+f+m}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Vp(e,t){var a=e[0],s=e[1],o=e[2],l=e[3];a=ts(a,s,o,l,t[0],7,-680876936),l=ts(l,a,s,o,t[1],12,-389564586),o=ts(o,l,a,s,t[2],17,606105819),s=ts(s,o,l,a,t[3],22,-1044525330),a=ts(a,s,o,l,t[4],7,-176418897),l=ts(l,a,s,o,t[5],12,1200080426),o=ts(o,l,a,s,t[6],17,-1473231341),s=ts(s,o,l,a,t[7],22,-45705983),a=ts(a,s,o,l,t[8],7,1770035416),l=ts(l,a,s,o,t[9],12,-1958414417),o=ts(o,l,a,s,t[10],17,-42063),s=ts(s,o,l,a,t[11],22,-1990404162),a=ts(a,s,o,l,t[12],7,1804603682),l=ts(l,a,s,o,t[13],12,-40341101),o=ts(o,l,a,s,t[14],17,-1502002290),a=rs(a,s=ts(s,o,l,a,t[15],22,1236535329),o,l,t[1],5,-165796510),l=rs(l,a,s,o,t[6],9,-1069501632),o=rs(o,l,a,s,t[11],14,643717713),s=rs(s,o,l,a,t[0],20,-373897302),a=rs(a,s,o,l,t[5],5,-701558691),l=rs(l,a,s,o,t[10],9,38016083),o=rs(o,l,a,s,t[15],14,-660478335),s=rs(s,o,l,a,t[4],20,-405537848),a=rs(a,s,o,l,t[9],5,568446438),l=rs(l,a,s,o,t[14],9,-1019803690),o=rs(o,l,a,s,t[3],14,-187363961),s=rs(s,o,l,a,t[8],20,1163531501),a=rs(a,s,o,l,t[13],5,-1444681467),l=rs(l,a,s,o,t[2],9,-51403784),o=rs(o,l,a,s,t[7],14,1735328473),a=as(a,s=rs(s,o,l,a,t[12],20,-1926607734),o,l,t[5],4,-378558),l=as(l,a,s,o,t[8],11,-2022574463),o=as(o,l,a,s,t[11],16,1839030562),s=as(s,o,l,a,t[14],23,-35309556),a=as(a,s,o,l,t[1],4,-1530992060),l=as(l,a,s,o,t[4],11,1272893353),o=as(o,l,a,s,t[7],16,-155497632),s=as(s,o,l,a,t[10],23,-1094730640),a=as(a,s,o,l,t[13],4,681279174),l=as(l,a,s,o,t[0],11,-358537222),o=as(o,l,a,s,t[3],16,-722521979),s=as(s,o,l,a,t[6],23,76029189),a=as(a,s,o,l,t[9],4,-640364487),l=as(l,a,s,o,t[12],11,-421815835),o=as(o,l,a,s,t[15],16,530742520),a=ss(a,s=as(s,o,l,a,t[2],23,-995338651),o,l,t[0],6,-198630844),l=ss(l,a,s,o,t[7],10,1126891415),o=ss(o,l,a,s,t[14],15,-1416354905),s=ss(s,o,l,a,t[5],21,-57434055),a=ss(a,s,o,l,t[12],6,1700485571),l=ss(l,a,s,o,t[3],10,-1894986606),o=ss(o,l,a,s,t[10],15,-1051523),s=ss(s,o,l,a,t[1],21,-2054922799),a=ss(a,s,o,l,t[8],6,1873313359),l=ss(l,a,s,o,t[15],10,-30611744),o=ss(o,l,a,s,t[6],15,-1560198380),s=ss(s,o,l,a,t[13],21,1309151649),a=ss(a,s,o,l,t[4],6,-145523070),l=ss(l,a,s,o,t[11],10,-1120210379),o=ss(o,l,a,s,t[2],15,718787259),s=ss(s,o,l,a,t[9],21,-343485551),e[0]=Ko(a,e[0]),e[1]=Ko(s,e[1]),e[2]=Ko(o,e[2]),e[3]=Ko(l,e[3])}function xf(e,t,a,s,o,l){return t=Ko(Ko(t,e),Ko(s,l)),Ko(t<<o|t>>>32-o,a)}function ts(e,t,a,s,o,l,d){return xf(t&a|~t&s,e,t,o,l,d)}function rs(e,t,a,s,o,l,d){return xf(t&s|a&~s,e,t,o,l,d)}function as(e,t,a,s,o,l,d){return xf(t^a^s,e,t,o,l,d)}function ss(e,t,a,s,o,l,d){return xf(a^(t|~s),e,t,o,l,d)}function nB(e){var t,a=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Vp(s,WL(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(Vp(s,o),t=0;t<16;t++)o[t]=0;return o[14]=8*a,Vp(s,o),s}function WL(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}tu=Ht.atob.bind(Ht),Sx=Ht.btoa.bind(Ht);var Kw="0123456789abcdef".split("");function YL(e){for(var t="",a=0;a<4;a++)t+=Kw[e>>8*a+4&15]+Kw[e>>8*a&15];return t}function $L(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Fx(e){return nB(e).map($L).join("")}var JL=function(e){for(var t=0;t<e.length;t++)e[t]=YL(e[t]);return e.join("")}(nB("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ko(e,t){if(JL){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ex(e,t){var a,s,o,l;if(e!==a){for(var d=(o=e,l=1+(256/e.length>>0),new Array(l+1).join(o)),g=[],f=0;f<256;f++)g[f]=f;var m=0;for(f=0;f<256;f++){var y=g[f];m=(m+y+d.charCodeAt(f))%256,g[f]=g[m],g[m]=y}a=e,s=g}else g=s;var N=t.length,B=0,w=0,U="";for(f=0;f<N;f++)w=(w+(y=g[B=(B+1)%256]))%256,g[B]=g[w],g[w]=y,d=g[(g[B]+g[w])%256],U+=String.fromCharCode(t.charCodeAt(f)^d);return U}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ww={print:4,modify:8,copy:16,"annot-forms":32};function qc(e,t,a,s){this.v=1,this.r=2;var o=192;e.forEach(function(g){if(Ww.perm!==void 0)throw new Error("Invalid permission: "+g);o+=Ww[g]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var l=(t+this.padding).substr(0,32),d=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,d),this.P=-(1+(255^o)),this.encryptionKey=Fx(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Ex(this.encryptionKey,this.padding)}function Xc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",a=e.length,s=0;s<a;s++){var o=e.charCodeAt(s);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?t+="#"+("0"+o.toString(16)).slice(-2):t+=e[s]}return t}function Yw(e){if(Nr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(a,s,o){if(o=o||!1,typeof a!="string"||typeof s!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(a)||(t[a]={});var l=Math.random().toString(35);return t[a][l]=[s,!!o],l},this.unsubscribe=function(a){for(var s in t)if(t[s][a])return delete t[s][a],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(a){if(t.hasOwnProperty(a)){var s=Array.prototype.slice.call(arguments,1),o=[];for(var l in t[a]){var d=t[a][l];try{d[0].apply(e,s)}catch(g){Ht.console&&Ir.error("jsPDF PubSub Error",g.message,g)}d[1]&&o.push(l)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function N0(e){if(!(this instanceof N0))return new N0(e);var t="opacity,stroke-opacity".split(",");for(var a in e)e.hasOwnProperty(a)&&t.indexOf(a)>=0&&(this[a]=e[a]);this.id="",this.objectNumber=-1}function iB(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Rl(e,t,a,s,o){if(!(this instanceof Rl))return new Rl(e,t,a,s,o);this.type=e==="axial"?2:3,this.coords=t,this.colors=a,iB.call(this,s,o)}function lA(e,t,a,s,o){if(!(this instanceof lA))return new lA(e,t,a,s,o);this.boundingBox=e,this.xStep=t,this.yStep=a,this.stream="",this.cloneIndex=0,iB.call(this,s,o)}function Ot(e){var t,a=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],o=arguments[2],l=arguments[3],d=[],g=1,f=16,m="S",y=null;Nr(e=e||{})==="object"&&(a=e.orientation,s=e.unit||s,o=e.format||o,l=e.compress||e.compressPdf||l,(y=e.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),g=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(f=e.floatPrecision),m=e.defaultPathOperation||"S"),d=e.filters||(l===!0?["FlateEncode"]:d),s=s||"mm",a=(""+(a||"P")).toLowerCase();var N=e.putOnlyUsedFonts||!1,B={},w={internal:{},__private__:{}};w.__private__.PubSub=Yw;var U="1.3",L=w.__private__.getPdfVersion=function(){return U};w.__private__.setPdfVersion=function(M){U=M};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return R};var C=w.__private__.getPageFormat=function(M){return R[M]};o=o||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},T=I.COMPAT;function z(){this.saveGraphicsState(),be(new Qt(yt,0,0,-yt,0,yo()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),m="n",T=I.ADVANCED}function D(){this.restoreGraphicsState(),m="S",T=I.COMPAT}var ae=w.__private__.combineFontStyleAndFontWeight=function(M,ue){if(M=="bold"&&ue=="normal"||M=="bold"&&ue==400||M=="normal"&&ue=="italic"||M=="bold"&&ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(M=ue==400||ue==="normal"?M==="italic"?"italic":"normal":ue!=700&&ue!=="bold"||M!=="normal"?(ue==700?"bold":ue)+""+M:"bold"),M};w.advancedAPI=function(M){var ue=T===I.COMPAT;return ue&&z.call(this),typeof M!="function"||(M(this),ue&&D.call(this)),this},w.compatAPI=function(M){var ue=T===I.ADVANCED;return ue&&D.call(this),typeof M!="function"||(M(this),ue&&z.call(this)),this},w.isAdvancedAPI=function(){return T===I.ADVANCED};var X,_=function(M){if(T!==I.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ie=w.roundToPrecision=w.__private__.roundToPrecision=function(M,ue){var Se=t||ue;if(isNaN(M)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Se).replace(/0+$/,"")};X=w.hpf=w.__private__.hpf=typeof f=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(M,f)}:f==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(M,16)};var oe=w.f2=w.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return ie(M,2)},W=w.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return ie(M,3)},$=w.scale=w.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return T===I.COMPAT?M*yt:T===I.ADVANCED?M:void 0},Z=function(M){return T===I.COMPAT?yo()-M:T===I.ADVANCED?M:void 0},J=function(M){return $(Z(M))};w.__private__.setPrecision=w.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(t=parseInt(M,10))};var ne,te="00000000000000000000000000000000",Be=w.__private__.getFileId=function(){return te},fe=w.__private__.setFileId=function(M){return te=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(Et=new qc(y.userPermissions,y.userPassword,y.ownerPassword,te)),te};w.setFileId=function(M){return fe(M),this},w.getFileId=function(){return Be()};var je=w.__private__.convertDateToPDFDate=function(M){var ue=M.getTimezoneOffset(),Se=ue<0?"+":"-",Ue=Math.floor(Math.abs(ue/60)),_e=Math.abs(ue%60),Je=[Se,ke(Ue),"'",ke(_e),"'"].join("");return["D:",M.getFullYear(),ke(M.getMonth()+1),ke(M.getDate()),ke(M.getHours()),ke(M.getMinutes()),ke(M.getSeconds()),Je].join("")},Ce=w.__private__.convertPDFDateToDate=function(M){var ue=parseInt(M.substr(2,4),10),Se=parseInt(M.substr(6,2),10)-1,Ue=parseInt(M.substr(8,2),10),_e=parseInt(M.substr(10,2),10),Je=parseInt(M.substr(12,2),10),it=parseInt(M.substr(14,2),10);return new Date(ue,Se,Ue,_e,Je,it,0)},Me=w.__private__.setCreationDate=function(M){var ue;if(M===void 0&&(M=new Date),M instanceof Date)ue=je(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=M}return ne=ue},Ae=w.__private__.getCreationDate=function(M){var ue=ne;return M==="jsDate"&&(ue=Ce(ne)),ue};w.setCreationDate=function(M){return Me(M),this},w.getCreationDate=function(M){return Ae(M)};var he,ke=w.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},Le=w.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},Pe=0,Re=[],ve=[],Ee=0,Xe=[],tt=[],He=!1,qe=ve,Ft=function(){Pe=0,Ee=0,ve=[],Re=[],Xe=[],Ks=Zr(),ja=Zr()};w.__private__.setCustomOutputDestination=function(M){He=!0,qe=M};var $e=function(M){He||(qe=M)};w.__private__.resetCustomOutputDestination=function(){He=!1,qe=ve};var be=w.__private__.out=function(M){return M=M.toString(),Ee+=M.length+1,qe.push(M),qe},ft=w.__private__.write=function(M){return be(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},ut=w.__private__.getArrayBuffer=function(M){for(var ue=M.length,Se=new ArrayBuffer(ue),Ue=new Uint8Array(Se);ue--;)Ue[ue]=M.charCodeAt(ue);return Se},ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return ot};var At=e.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(M){return At=T===I.ADVANCED?M/yt:M,this};var pt,ht=w.__private__.getFontSize=w.getFontSize=function(){return T===I.COMPAT?At:At*yt},Lt=e.R2L||!1;w.__private__.setR2L=w.setR2L=function(M){return Lt=M,this},w.__private__.getR2L=w.getR2L=function(){return Lt};var Mt,Vt=w.__private__.setZoomMode=function(M){var ue=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))pt=M;else if(isNaN(M)){if(ue.indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');pt=M}else pt=parseInt(M,10)};w.__private__.getZoomMode=function(){return pt};var Xt,er=w.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');Mt=M};w.__private__.getPageMode=function(){return Mt};var ur=w.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Xt=M};w.__private__.getLayoutMode=function(){return Xt},w.__private__.setDisplayMode=w.setDisplayMode=function(M,ue,Se){return Vt(M),ur(ue),er(Se),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(M){if(Object.keys(Pt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[M]},w.__private__.getDocumentProperties=function(){return Pt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(M){for(var ue in Pt)Pt.hasOwnProperty(ue)&&M[ue]&&(Pt[ue]=M[ue]);return this},w.__private__.setDocumentProperty=function(M,ue){if(Object.keys(Pt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[M]=ue};var Zt,yt,Ca,cr,js,br={},Er={},gn=[],fr={},Pi={},Mr={},Vs={},Qn=null,vr=0,_t=[],Ar=new Yw(w),ii=e.hotfixes||[],Ba={},Gs={},qs=[],Qt=function M(ue,Se,Ue,_e,Je,it){if(!(this instanceof M))return new M(ue,Se,Ue,_e,Je,it);isNaN(ue)&&(ue=1),isNaN(Se)&&(Se=0),isNaN(Ue)&&(Ue=0),isNaN(_e)&&(_e=1),isNaN(Je)&&(Je=0),isNaN(it)&&(it=0),this._matrix=[ue,Se,Ue,_e,Je,it]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(M)},Qt.prototype.multiply=function(M){var ue=M.sx*this.sx+M.shy*this.shx,Se=M.sx*this.shy+M.shy*this.sy,Ue=M.shx*this.sx+M.sy*this.shx,_e=M.shx*this.shy+M.sy*this.sy,Je=M.tx*this.sx+M.ty*this.shx+this.tx,it=M.tx*this.shy+M.ty*this.sy+this.ty;return new Qt(ue,Se,Ue,_e,Je,it)},Qt.prototype.decompose=function(){var M=this.sx,ue=this.shy,Se=this.shx,Ue=this.sy,_e=this.tx,Je=this.ty,it=Math.sqrt(M*M+ue*ue),kt=(M/=it)*Se+(ue/=it)*Ue;Se-=M*kt,Ue-=ue*kt;var Tt=Math.sqrt(Se*Se+Ue*Ue);return kt/=Tt,M*(Ue/=Tt)<ue*(Se/=Tt)&&(M=-M,ue=-ue,kt=-kt,it=-it),{scale:new Qt(it,0,0,Tt,0,0),translate:new Qt(1,0,0,1,_e,Je),rotate:new Qt(M,ue,-ue,M,0,0),skew:new Qt(1,0,kt,1,0,0)}},Qt.prototype.toString=function(M){return this.join(" ")},Qt.prototype.inversed=function(){var M=this.sx,ue=this.shy,Se=this.shx,Ue=this.sy,_e=this.tx,Je=this.ty,it=1/(M*Ue-ue*Se),kt=Ue*it,Tt=-ue*it,Wt=-Se*it,Gt=M*it;return new Qt(kt,Tt,Wt,Gt,-kt*_e-Wt*Je,-Tt*_e-Gt*Je)},Qt.prototype.applyToPoint=function(M){var ue=M.x*this.sx+M.y*this.shx+this.tx,Se=M.x*this.shy+M.y*this.sy+this.ty;return new yc(ue,Se)},Qt.prototype.applyToRectangle=function(M){var ue=this.applyToPoint(M),Se=this.applyToPoint(new yc(M.x+M.w,M.y+M.h));return new XA(ue.x,ue.y,Se.x-ue.x,Se.y-ue.y)},Qt.prototype.clone=function(){var M=this.sx,ue=this.shy,Se=this.shx,Ue=this.sy,_e=this.tx,Je=this.ty;return new Qt(M,ue,Se,Ue,_e,Je)},w.Matrix=Qt;var Xs=w.matrixMult=function(M,ue){return ue.multiply(M)},fn=new Qt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=fn;var Ya=function(M,ue){if(!Pi[M]){var Se=(ue instanceof Rl?"Sh":"P")+(Object.keys(fr).length+1).toString(10);ue.id=Se,Pi[M]=Se,fr[Se]=ue,Ar.publish("addPattern",ue)}};w.ShadingPattern=Rl,w.TilingPattern=lA,w.addShadingPattern=function(M,ue){return _("addShadingPattern()"),Ya(M,ue),this},w.beginTilingPattern=function(M){_("beginTilingPattern()"),$u(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},w.endTilingPattern=function(M,ue){_("endTilingPattern()"),ue.stream=tt[he].join(`
`),Ya(M,ue),Ar.publish("endTilingPattern",ue),qs.pop().restore()};var ia=w.__private__.newObject=function(){var M=Zr();return fs(M,!0),M},Zr=w.__private__.newObjectDeferred=function(){return Pe++,Re[Pe]=function(){return Ee},Pe},fs=function(M,ue){return ue=typeof ue=="boolean"&&ue,Re[M]=Ee,ue&&be(M+" 0 obj"),M},oi=w.__private__.newAdditionalObject=function(){var M={objId:Zr(),content:""};return Xe.push(M),M},Ks=Zr(),ja=Zr(),$a=w.__private__.decodeColorString=function(M){var ue=M.split(" ");if(ue.length!==2||ue[1]!=="g"&&ue[1]!=="G")ue.length===5&&(ue[4]==="k"||ue[4]==="K")&&(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var Se=parseFloat(ue[0]);ue=[Se,Se,Se,"r"]}for(var Ue="#",_e=0;_e<3;_e++)Ue+=("0"+Math.floor(255*parseFloat(ue[_e])).toString(16)).slice(-2);return Ue},Ws=w.__private__.encodeColorString=function(M){var ue;typeof M=="string"&&(M={ch1:M});var Se=M.ch1,Ue=M.ch2,_e=M.ch3,Je=M.ch4,it=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var kt=new sB(Se);if(kt.ok)Se=kt.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var Tt=parseInt(Se.substr(1),16);Se=Tt>>16&255,Ue=Tt>>8&255,_e=255&Tt}if(Ue===void 0||Je===void 0&&Se===Ue&&Ue===_e)if(typeof Se=="string")ue=Se+" "+it[0];else switch(M.precision){case 2:ue=oe(Se/255)+" "+it[0];break;case 3:default:ue=W(Se/255)+" "+it[0]}else if(Je===void 0||Nr(Je)==="object"){if(Je&&!isNaN(Je.a)&&Je.a===0)return ue=["1.","1.","1.",it[1]].join(" ");if(typeof Se=="string")ue=[Se,Ue,_e,it[1]].join(" ");else switch(M.precision){case 2:ue=[oe(Se/255),oe(Ue/255),oe(_e/255),it[1]].join(" ");break;default:case 3:ue=[W(Se/255),W(Ue/255),W(_e/255),it[1]].join(" ")}}else if(typeof Se=="string")ue=[Se,Ue,_e,Je,it[2]].join(" ");else switch(M.precision){case 2:ue=[oe(Se),oe(Ue),oe(_e),oe(Je),it[2]].join(" ");break;case 3:default:ue=[W(Se),W(Ue),W(_e),W(Je),it[2]].join(" ")}return ue},Ys=w.__private__.getFilters=function(){return d},Ss=w.__private__.putStream=function(M){var ue=(M=M||{}).data||"",Se=M.filters||Ys(),Ue=M.alreadyAppliedFilters||[],_e=M.addLength1||!1,Je=ue.length,it=M.objectId,kt=function(Ja){return Ja};if(y!==null&&it===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(kt=Et.encryptor(it,0));var Tt={};Se===!0&&(Se=["FlateEncode"]);var Wt=M.additionalKeyValues||[],Gt=(Tt=Ot.API.processDataByFilters!==void 0?Ot.API.processDataByFilters(ue,Se):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(Ue)?Ue.join(" "):Ue.toString());if(Tt.data.length!==0&&(Wt.push({key:"Length",value:Tt.data.length}),_e===!0&&Wt.push({key:"Length1",value:Je})),Gt.length!=0)if(Gt.split("/").length-1==1)Wt.push({key:"Filter",value:Gt});else{Wt.push({key:"Filter",value:"["+Gt+"]"});for(var dr=0;dr<Wt.length;dr+=1)if(Wt[dr].key==="DecodeParms"){for(var qr=[],ta=0;ta<Tt.reverseChain.split("/").length-1;ta+=1)qr.push("null");qr.push(Wt[dr].value),Wt[dr].value="["+qr.join(" ")+"]"}}be("<<");for(var xa=0;xa<Wt.length;xa++)be("/"+Wt[xa].key+" "+Wt[xa].value);be(">>"),Tt.data.length!==0&&(be("stream"),be(kt(Tt.data)),be("endstream"))},pn=w.__private__.putPage=function(M){var ue=M.number,Se=M.data,Ue=M.objId,_e=M.contentsObjId;fs(Ue,!0),be("<</Type /Page"),be("/Parent "+M.rootDictionaryObjId+" 0 R"),be("/Resources "+M.resourceDictionaryObjId+" 0 R"),be("/MediaBox ["+parseFloat(X(M.mediaBox.bottomLeftX))+" "+parseFloat(X(M.mediaBox.bottomLeftY))+" "+X(M.mediaBox.topRightX)+" "+X(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&be("/CropBox ["+X(M.cropBox.bottomLeftX)+" "+X(M.cropBox.bottomLeftY)+" "+X(M.cropBox.topRightX)+" "+X(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&be("/BleedBox ["+X(M.bleedBox.bottomLeftX)+" "+X(M.bleedBox.bottomLeftY)+" "+X(M.bleedBox.topRightX)+" "+X(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&be("/TrimBox ["+X(M.trimBox.bottomLeftX)+" "+X(M.trimBox.bottomLeftY)+" "+X(M.trimBox.topRightX)+" "+X(M.trimBox.topRightY)+"]"),M.artBox!==null&&be("/ArtBox ["+X(M.artBox.bottomLeftX)+" "+X(M.artBox.bottomLeftY)+" "+X(M.artBox.topRightX)+" "+X(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&be("/UserUnit "+M.userUnit),Ar.publish("putPage",{objId:Ue,pageContext:_t[ue],pageNumber:ue,page:Se}),be("/Contents "+_e+" 0 R"),be(">>"),be("endobj");var Je=Se.join(`
`);return T===I.ADVANCED&&(Je+=`
Q`),fs(_e,!0),Ss({data:Je,filters:Ys(),objectId:_e}),be("endobj"),Ue},Ui=w.__private__.putPages=function(){var M,ue,Se=[];for(M=1;M<=vr;M++)_t[M].objId=Zr(),_t[M].contentsObjId=Zr();for(M=1;M<=vr;M++)Se.push(pn({number:M,data:tt[M],objId:_t[M].objId,contentsObjId:_t[M].contentsObjId,mediaBox:_t[M].mediaBox,cropBox:_t[M].cropBox,bleedBox:_t[M].bleedBox,trimBox:_t[M].trimBox,artBox:_t[M].artBox,userUnit:_t[M].userUnit,rootDictionaryObjId:Ks,resourceDictionaryObjId:ja}));fs(Ks,!0),be("<</Type /Pages");var Ue="/Kids [";for(ue=0;ue<vr;ue++)Ue+=Se[ue]+" 0 R ";be(Ue+"]"),be("/Count "+vr),be(">>"),be("endobj"),Ar.publish("postPutPages")},mo=function(M){Ar.publish("putFont",{font:M,out:be,newObject:ia,putStream:Ss}),M.isAlreadyPutted!==!0&&(M.objectNumber=ia(),be("<<"),be("/Type /Font"),be("/BaseFont /"+Xc(M.postScriptName)),be("/Subtype /Type1"),typeof M.encoding=="string"&&be("/Encoding /"+M.encoding),be("/FirstChar 32"),be("/LastChar 255"),be(">>"),be("endobj"))},Di=function(){for(var M in br)br.hasOwnProperty(M)&&(N===!1||N===!0&&B.hasOwnProperty(M))&&mo(br[M])},Ti=function(M){M.objectNumber=ia();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[X(M.x),X(M.y),X(M.x+M.width),X(M.y+M.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Se=M.pages[1].join(`
`);Ss({data:Se,additionalKeyValues:ue,objectId:M.objectNumber}),be("endobj")},li=function(){for(var M in Ba)Ba.hasOwnProperty(M)&&Ti(Ba[M])},pc=function(M,ue){var Se,Ue=[],_e=1/(ue-1);for(Se=0;Se<1;Se+=_e)Ue.push(Se);if(Ue.push(1),M[0].offset!=0){var Je={offset:0,color:M[0].color};M.unshift(Je)}if(M[M.length-1].offset!=1){var it={offset:1,color:M[M.length-1].color};M.push(it)}for(var kt="",Tt=0,Wt=0;Wt<Ue.length;Wt++){for(Se=Ue[Wt];Se>M[Tt+1].offset;)Tt++;var Gt=M[Tt].offset,dr=(Se-Gt)/(M[Tt+1].offset-Gt),qr=M[Tt].color,ta=M[Tt+1].color;kt+=Le(Math.round((1-dr)*qr[0]+dr*ta[0]).toString(16))+Le(Math.round((1-dr)*qr[1]+dr*ta[1]).toString(16))+Le(Math.round((1-dr)*qr[2]+dr*ta[2]).toString(16))}return kt.trim()},se=function(M,ue){ue||(ue=21);var Se=ia(),Ue=pc(M.colors,ue),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+ue+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ss({data:Ue,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),be("endobj"),M.objectNumber=ia(),be("<< /ShadingType "+M.type),be("/ColorSpace /DeviceRGB");var Je="/Coords ["+X(parseFloat(M.coords[0]))+" "+X(parseFloat(M.coords[1]))+" ";M.type===2?Je+=X(parseFloat(M.coords[2]))+" "+X(parseFloat(M.coords[3])):Je+=X(parseFloat(M.coords[2]))+" "+X(parseFloat(M.coords[3]))+" "+X(parseFloat(M.coords[4]))+" "+X(parseFloat(M.coords[5])),be(Je+="]"),M.matrix&&be("/Matrix ["+M.matrix.toString()+"]"),be("/Function "+Se+" 0 R"),be("/Extend [true true]"),be(">>"),be("endobj")},n=function(M,ue){var Se=Zr(),Ue=ia();ue.push({resourcesOid:Se,objectOid:Ue}),M.objectNumber=Ue;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+M.boundingBox.map(X).join(" ")+"]"}),_e.push({key:"XStep",value:X(M.xStep)}),_e.push({key:"YStep",value:X(M.yStep)}),_e.push({key:"Resources",value:Se+" 0 R"}),M.matrix&&_e.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Ss({data:M.stream,additionalKeyValues:_e,objectId:M.objectNumber}),be("endobj")},i=function(M){var ue;for(ue in fr)fr.hasOwnProperty(ue)&&(fr[ue]instanceof Rl?se(fr[ue]):fr[ue]instanceof lA&&n(fr[ue],M))},c=function(M){for(var ue in M.objectNumber=ia(),be("<<"),M)switch(ue){case"opacity":be("/ca "+oe(M[ue]));break;case"stroke-opacity":be("/CA "+oe(M[ue]))}be(">>"),be("endobj")},A=function(){var M;for(M in Mr)Mr.hasOwnProperty(M)&&c(Mr[M])},h=function(){for(var M in be("/XObject <<"),Ba)Ba.hasOwnProperty(M)&&Ba[M].objectNumber>=0&&be("/"+M+" "+Ba[M].objectNumber+" 0 R");Ar.publish("putXobjectDict"),be(">>")},u=function(){Et.oid=ia(),be("<<"),be("/Filter /Standard"),be("/V "+Et.v),be("/R "+Et.r),be("/U <"+Et.toHexString(Et.U)+">"),be("/O <"+Et.toHexString(Et.O)+">"),be("/P "+Et.P),be(">>"),be("endobj")},p=function(){for(var M in be("/Font <<"),br)br.hasOwnProperty(M)&&(N===!1||N===!0&&B.hasOwnProperty(M))&&be("/"+M+" "+br[M].objectNumber+" 0 R");be(">>")},x=function(){if(Object.keys(fr).length>0){for(var M in be("/Shading <<"),fr)fr.hasOwnProperty(M)&&fr[M]instanceof Rl&&fr[M].objectNumber>=0&&be("/"+M+" "+fr[M].objectNumber+" 0 R");Ar.publish("putShadingPatternDict"),be(">>")}},k=function(M){if(Object.keys(fr).length>0){for(var ue in be("/Pattern <<"),fr)fr.hasOwnProperty(ue)&&fr[ue]instanceof w.TilingPattern&&fr[ue].objectNumber>=0&&fr[ue].objectNumber<M&&be("/"+ue+" "+fr[ue].objectNumber+" 0 R");Ar.publish("putTilingPatternDict"),be(">>")}},F=function(){if(Object.keys(Mr).length>0){var M;for(M in be("/ExtGState <<"),Mr)Mr.hasOwnProperty(M)&&Mr[M].objectNumber>=0&&be("/"+M+" "+Mr[M].objectNumber+" 0 R");Ar.publish("putGStateDict"),be(">>")}},S=function(M){fs(M.resourcesOid,!0),be("<<"),be("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),p(),x(),k(M.objectOid),F(),h(),be(">>"),be("endobj")},P=function(){var M=[];Di(),A(),li(),i(M),Ar.publish("putResources"),M.forEach(S),S({resourcesOid:ja,objectOid:Number.MAX_SAFE_INTEGER}),Ar.publish("postPutResources")},O=function(){Ar.publish("putAdditionalObjects");for(var M=0;M<Xe.length;M++){var ue=Xe[M];fs(ue.objId,!0),be(ue.content),be("endobj")}Ar.publish("postPutAdditionalObjects")},G=function(M){Er[M.fontName]=Er[M.fontName]||{},Er[M.fontName][M.fontStyle]=M.id},V=function(M,ue,Se,Ue,_e){var Je={id:"F"+(Object.keys(br).length+1).toString(10),postScriptName:M,fontName:ue,fontStyle:Se,encoding:Ue,isStandardFont:_e||!1,metadata:{}};return Ar.publish("addFont",{font:Je,instance:this}),br[Je.id]=Je,G(Je),Je.id},ee=function(M){for(var ue=0,Se=ot.length;ue<Se;ue++){var Ue=V.call(this,M[ue][0],M[ue][1],M[ue][2],ot[ue][3],!0);N===!1&&(B[Ue]=!0);var _e=M[ue][0].split("-");G({id:Ue,fontName:_e[0],fontStyle:_e[1]||""})}Ar.publish("addFonts",{fonts:br,dictionary:Er})},re=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(Ue){var ue=Ue.stack||"";~ue.indexOf(" at ")&&(ue=ue.split(" at ")[1]);var Se="Error in function "+ue.split(`
`)[0].split("<")[0]+": "+Ue.message;if(!Ht.console)throw new Error(Se);Ht.console.error(Se,Ue),Ht.alert&&alert(Se)}},M.foo.bar=M,M.foo},le=function(M,ue){var Se,Ue,_e,Je,it,kt,Tt,Wt,Gt;if(_e=(ue=ue||{}).sourceEncoding||"Unicode",it=ue.outputEncoding,(ue.autoencode||it)&&br[Zt].metadata&&br[Zt].metadata[_e]&&br[Zt].metadata[_e].encoding&&(Je=br[Zt].metadata[_e].encoding,!it&&br[Zt].encoding&&(it=br[Zt].encoding),!it&&Je.codePages&&(it=Je.codePages[0]),typeof it=="string"&&(it=Je[it]),it)){for(Tt=!1,kt=[],Se=0,Ue=M.length;Se<Ue;Se++)(Wt=it[M.charCodeAt(Se)])?kt.push(String.fromCharCode(Wt)):kt.push(M[Se]),kt[Se].charCodeAt(0)>>8&&(Tt=!0);M=kt.join("")}for(Se=M.length;Tt===void 0&&Se!==0;)M.charCodeAt(Se-1)>>8&&(Tt=!0),Se--;if(!Tt)return M;for(kt=ue.noBOM?[]:[254,255],Se=0,Ue=M.length;Se<Ue;Se++){if((Gt=(Wt=M.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(Gt),kt.push(Wt-(Gt<<8))}return String.fromCharCode.apply(void 0,kt)},v=w.__private__.pdfEscape=w.pdfEscape=function(M,ue){return le(M,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Q=w.__private__.beginPage=function(M){tt[++vr]=[],_t[vr]={objId:0,contentsObjId:0,userUnit:Number(g),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},ce(vr),$e(tt[he])},K=function(M,ue){var Se,Ue,_e;switch(a=ue||a,typeof M=="string"&&(Se=C(M.toLowerCase()),Array.isArray(Se)&&(Ue=Se[0],_e=Se[1])),Array.isArray(M)&&(Ue=M[0]*yt,_e=M[1]*yt),isNaN(Ue)&&(Ue=o[0],_e=o[1]),(Ue>14400||_e>14400)&&(Ir.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ue=Math.min(14400,Ue),_e=Math.min(14400,_e)),o=[Ue,_e],a.substr(0,1)){case"l":_e>Ue&&(o=[_e,Ue]);break;case"p":Ue>_e&&(o=[_e,Ue])}Q(o),qu(zA),be(Rn),GA!==0&&be(GA+" J"),qA!==0&&be(qA+" j"),Ar.publish("addPage",{pageNumber:vr})},ge=function(M){M>0&&M<=vr&&(tt.splice(M,1),_t.splice(M,1),vr--,he>vr&&(he=vr),this.setPage(he))},ce=function(M){M>0&&M<=vr&&(he=M)},me=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return tt.length-1},Fe=function(M,ue,Se){var Ue,_e=void 0;return Se=Se||{},M=M!==void 0?M:br[Zt].fontName,ue=ue!==void 0?ue:br[Zt].fontStyle,Ue=M.toLowerCase(),Er[Ue]!==void 0&&Er[Ue][ue]!==void 0?_e=Er[Ue][ue]:Er[M]!==void 0&&Er[M][ue]!==void 0?_e=Er[M][ue]:Se.disableWarning===!1&&Ir.warn("Unable to look up font label for font '"+M+"', '"+ue+"'. Refer to getFontList() for available fonts."),_e||Se.noFallback||(_e=Er.times[ue])==null&&(_e=Er.times.normal),_e},Ie=w.__private__.putInfo=function(){var M=ia(),ue=function(Ue){return Ue};for(var Se in y!==null&&(ue=Et.encryptor(M,0)),be("<<"),be("/Producer ("+v(ue("jsPDF "+Ot.version))+")"),Pt)Pt.hasOwnProperty(Se)&&Pt[Se]&&be("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+v(ue(Pt[Se]))+")");be("/CreationDate ("+v(ue(ne))+")"),be(">>"),be("endobj")},ze=w.__private__.putCatalog=function(M){var ue=(M=M||{}).rootDictionaryObjId||Ks;switch(ia(),be("<<"),be("/Type /Catalog"),be("/Pages "+ue+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":be("/OpenAction [3 0 R /FitH null]");break;case"fullheight":be("/OpenAction [3 0 R /FitV null]");break;case"fullpage":be("/OpenAction [3 0 R /Fit]");break;case"original":be("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+pt;Se.substr(Se.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&be("/OpenAction [3 0 R /XYZ null null "+oe(pt)+"]")}switch(Xt||(Xt="continuous"),Xt){case"continuous":be("/PageLayout /OneColumn");break;case"single":be("/PageLayout /SinglePage");break;case"two":case"twoleft":be("/PageLayout /TwoColumnLeft");break;case"tworight":be("/PageLayout /TwoColumnRight")}Mt&&be("/PageMode /"+Mt),Ar.publish("putCatalog"),be(">>"),be("endobj")},Ze=w.__private__.putTrailer=function(){be("trailer"),be("<<"),be("/Size "+(Pe+1)),be("/Root "+Pe+" 0 R"),be("/Info "+(Pe-1)+" 0 R"),y!==null&&be("/Encrypt "+Et.oid+" 0 R"),be("/ID [ <"+te+"> <"+te+"> ]"),be(">>")},Ke=w.__private__.putHeader=function(){be("%PDF-"+U),be("%ºß¬à")},et=w.__private__.putXRef=function(){var M="0000000000";be("xref"),be("0 "+(Pe+1)),be("0000000000 65535 f ");for(var ue=1;ue<=Pe;ue++)typeof Re[ue]=="function"?be((M+Re[ue]()).slice(-10)+" 00000 n "):Re[ue]!==void 0?be((M+Re[ue]).slice(-10)+" 00000 n "):be("0000000000 00000 n ")},ct=w.__private__.buildDocument=function(){Ft(),$e(ve),Ar.publish("buildDocument"),Ke(),Ui(),O(),P(),y!==null&&u(),Ie(),ze();var M=Ee;return et(),Ze(),be("startxref"),be(""+M),be("%%EOF"),$e(tt[he]),ve.join(`
`)},mt=w.__private__.getBlob=function(M){return new Blob([ut(M)],{type:"application/pdf"})},wt=w.output=w.__private__.output=re(function(M,ue){switch(typeof(ue=ue||{})=="string"?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",M){case void 0:return ct();case"save":w.save(ue.filename);break;case"arraybuffer":return ut(ct());case"blob":return mt(ct());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(mt(ct()))||void 0;Ir.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",Ue=ct();try{Se=Sx(Ue)}catch{Se=Sx(unescape(encodeURIComponent(Ue)))}return"data:application/pdf;filename="+ue.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(_e=ue.pdfObjectUrl,Je="");var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",kt=Ht.open();return kt!==null&&kt.document.write(it),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',Wt=Ht.open();if(Wt!==null){Wt.document.write(Tt);var Gt=this;Wt.document.documentElement.querySelector("#pdfViewer").onload=function(){Wt.document.title=ue.filename,Wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Gt.output("bloburl"))}}return Wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',qr=Ht.open();if(qr!==null&&(qr.document.write(dr),qr.document.title=ue.filename),qr||typeof safari>"u")return qr;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",ue);default:return null}}),Ut=function(M){return Array.isArray(ii)===!0&&ii.indexOf(M)>-1};switch(s){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=Ut("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);yt=s}var Et=null;Me(),fe();var Dt=function(M){return y!==null?Et.encryptor(M,0):function(ue){return ue}},Kt=w.__private__.getPageInfo=w.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[M].objId,pageNumber:M,pageContext:_t[M]}},Nt=w.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in _t)if(_t[ue].objId===M)break;return Kt(ue)},jr=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:_t[he].objId,pageNumber:he,pageContext:_t[he]}};w.addPage=function(){return K.apply(this,arguments),this},w.setPage=function(){return ce.apply(this,arguments),$e.call(this,tt[he]),this},w.insertPage=function(M){return this.addPage(),this.movePage(he,M),this},w.movePage=function(M,ue){var Se,Ue;if(M>ue){Se=tt[M],Ue=_t[M];for(var _e=M;_e>ue;_e--)tt[_e]=tt[_e-1],_t[_e]=_t[_e-1];tt[ue]=Se,_t[ue]=Ue,this.setPage(ue)}else if(M<ue){Se=tt[M],Ue=_t[M];for(var Je=M;Je<ue;Je++)tt[Je]=tt[Je+1],_t[Je]=_t[Je+1];tt[ue]=Se,_t[ue]=Ue,this.setPage(ue)}return this},w.deletePage=function(){return ge.apply(this,arguments),this},w.__private__.text=w.text=function(M,ue,Se,Ue,_e){var Je,it,kt,Tt,Wt,Gt,dr,qr,ta,xa=(Ue=Ue||{}).scope||this;if(typeof M=="number"&&typeof ue=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Ja=Se;Se=ue,ue=M,M=Ja}if(arguments[3]instanceof Qt?(_("The transform parameter of text() with a Matrix value"),ta=_e):(kt=arguments[4],Tt=arguments[5],Nr(dr=arguments[3])==="object"&&dr!==null||(typeof kt=="string"&&(Tt=kt,kt=null),typeof dr=="string"&&(Tt=dr,dr=null),typeof dr=="number"&&(kt=dr,dr=null),Ue={flags:dr,angle:kt,align:Tt})),isNaN(ue)||isNaN(Se)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return xa;var Ia="",Mn=!1,$s=typeof Ue.lineHeightFactor=="number"?Ue.lineHeightFactor:vl,di=xa.internal.scaleFactor;function Ju(Ur){return Ur=Ur.split("	").join(Array(Ue.TabLen||9).join(" ")),v(Ur,dr)}function $A(Ur){for(var Dr,ca=Ur.concat(),Sa=[],_i=ca.length;_i--;)typeof(Dr=ca.shift())=="string"?Sa.push(Dr):Array.isArray(Ur)&&(Dr.length===1||Dr[1]===void 0&&Dr[2]===void 0)?Sa.push(Dr[0]):Sa.push([Dr[0],Dr[1],Dr[2]]);return Sa}function JA(Ur,Dr){var ca;if(typeof Ur=="string")ca=Dr(Ur)[0];else if(Array.isArray(Ur)){for(var Sa,_i,id=Ur.concat(),Ec=[],ah=id.length;ah--;)typeof(Sa=id.shift())=="string"?Ec.push(Dr(Sa)[0]):Array.isArray(Sa)&&typeof Sa[0]=="string"&&(_i=Dr(Sa[0],Sa[1],Sa[2]),Ec.push([_i[0],_i[1],_i[2]]));ca=Ec}return ca}var vc=!1,ZA=!0;if(typeof M=="string")vc=!0;else if(Array.isArray(M)){var ed=M.concat();it=[];for(var wc,_a=ed.length;_a--;)(typeof(wc=ed.shift())!="string"||Array.isArray(wc)&&typeof wc[0]!="string")&&(ZA=!1);vc=ZA}if(vc===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var kc=At/xa.internal.scaleFactor,Nc=kc*($s-1);switch(Ue.baseline){case"bottom":Se-=Nc;break;case"top":Se+=kc-Nc;break;case"hanging":Se+=kc-2*Nc;break;case"middle":Se+=kc/2-Nc}if((Gt=Ue.maxWidth||0)>0&&(typeof M=="string"?M=xa.splitTextToSize(M,Gt):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(Ur,Dr){return Ur.concat(xa.splitTextToSize(Dr,Gt))},[]))),Je={text:M,x:ue,y:Se,options:Ue,mutex:{pdfEscape:v,activeFontKey:Zt,fonts:br,activeFontSize:At}},Ar.publish("preProcessText",Je),M=Je.text,kt=(Ue=Je.options).angle,!(ta instanceof Qt)&&kt&&typeof kt=="number"){kt*=Math.PI/180,Ue.rotationDirection===0&&(kt=-kt),T===I.ADVANCED&&(kt=-kt);var Cc=Math.cos(kt),td=Math.sin(kt);ta=new Qt(Cc,td,-td,Cc,0,0)}else kt&&kt instanceof Qt&&(ta=kt);T!==I.ADVANCED||ta||(ta=fn),(Wt=Ue.charSpace||xc)!==void 0&&(Ia+=X($(Wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qr=Ue.horizontalScale)!==void 0&&(Ia+=X(100*qr)+` Tz
`),Ue.lang;var Es=-1,Hf=Ue.renderingMode!==void 0?Ue.renderingMode:Ue.stroke,rd=xa.internal.getCurrentPageInfo().pageContext;switch(Hf){case 0:case!1:case"fill":Es=0;break;case 1:case!0:case"stroke":Es=1;break;case 2:case"fillThenStroke":Es=2;break;case 3:case"invisible":Es=3;break;case 4:case"fillAndAddForClipping":Es=4;break;case 5:case"strokeAndAddPathForClipping":Es=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Es=6;break;case 7:case"addToPathForClipping":Es=7}var Zu=rd.usedRenderingMode!==void 0?rd.usedRenderingMode:-1;Es!==-1?Ia+=Es+` Tr
`:Zu!==-1&&(Ia+=`0 Tr
`),Es!==-1&&(rd.usedRenderingMode=Es),Tt=Ue.align||"left";var mn,Bc=At*$s,eh=xa.internal.pageSize.getWidth(),th=br[Zt];Wt=Ue.charSpace||xc,Gt=Ue.maxWidth||0,dr=Object.assign({autoencode:!0,noBOM:!0},Ue.flags);var bo=[],Nl=function(Ur){return xa.getStringUnitWidth(Ur,{font:th,charSpace:Wt,fontSize:At,doKerning:!1})*At/di};if(Object.prototype.toString.call(M)==="[object Array]"){var Ls;it=$A(M),Tt!=="left"&&(mn=it.map(Nl));var ps,vo=0;if(Tt==="right"){ue-=mn[0],M=[],_a=it.length;for(var Mi=0;Mi<_a;Mi++)Mi===0?(ps=Ai(ue),Ls=Ri(Se)):(ps=$(vo-mn[Mi]),Ls=-Bc),M.push([it[Mi],ps,Ls]),vo=mn[Mi]}else if(Tt==="center"){ue-=mn[0]/2,M=[],_a=it.length;for(var Oi=0;Oi<_a;Oi++)Oi===0?(ps=Ai(ue),Ls=Ri(Se)):(ps=$((vo-mn[Oi])/2),Ls=-Bc),M.push([it[Oi],ps,Ls]),vo=mn[Oi]}else if(Tt==="left"){M=[],_a=it.length;for(var jc=0;jc<_a;jc++)M.push(it[jc])}else if(Tt==="justify"&&th.encoding==="Identity-H"){M=[],_a=it.length,Gt=Gt!==0?Gt:eh;for(var Hi=0,la=0;la<_a;la++)if(Ls=la===0?Ri(Se):-Bc,ps=la===0?Ai(ue):Hi,la<_a-1){var ad=$((Gt-mn[la])/(it[la].split(" ").length-1)),ms=it[la].split(" ");M.push([ms[0]+" ",ps,Ls]),Hi=0;for(var xn=1;xn<ms.length;xn++){var Sc=(Nl(ms[xn-1]+" "+ms[xn])-Nl(ms[xn]))*di+ad;xn==ms.length-1?M.push([ms[xn],Sc,0]):M.push([ms[xn]+" ",Sc,0]),Hi-=Sc}}else M.push([it[la],ps,Ls]);M.push(["",Hi,0])}else{if(Tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],_a=it.length,Gt=Gt!==0?Gt:eh,la=0;la<_a;la++)Ls=la===0?Ri(Se):-Bc,ps=la===0?Ai(ue):0,la<_a-1?bo.push(X($((Gt-mn[la])/(it[la].split(" ").length-1)))):bo.push(0),M.push([it[la],ps,Ls])}}var rh=typeof Ue.R2L=="boolean"?Ue.R2L:Lt;rh===!0&&(M=JA(M,function(Ur,Dr,ca){return[Ur.split("").reverse().join(""),Dr,ca]})),Je={text:M,x:ue,y:Se,options:Ue,mutex:{pdfEscape:v,activeFontKey:Zt,fonts:br,activeFontSize:At}},Ar.publish("postProcessText",Je),M=Je.text,Mn=Je.mutex.isHex||!1;var sd=br[Zt].encoding;sd!=="WinAnsiEncoding"&&sd!=="StandardEncoding"||(M=JA(M,function(Ur,Dr,ca){return[Ju(Ur),Dr,ca]})),it=$A(M),M=[];for(var Cl,Bl,wo,jl=0,Fc=1,Sl=Array.isArray(it[0])?Fc:jl,ko="",nd=function(Ur,Dr,ca){var Sa="";return ca instanceof Qt?(ca=typeof Ue.angle=="number"?Xs(ca,new Qt(1,0,0,1,Ur,Dr)):Xs(new Qt(1,0,0,1,Ur,Dr),ca),T===I.ADVANCED&&(ca=Xs(new Qt(1,0,0,-1,0,0),ca)),Sa=ca.join(" ")+` Tm
`):Sa=X(Ur)+" "+X(Dr)+` Td
`,Sa},yn=0;yn<it.length;yn++){switch(ko="",Sl){case Fc:wo=(Mn?"<":"(")+it[yn][0]+(Mn?">":")"),Cl=parseFloat(it[yn][1]),Bl=parseFloat(it[yn][2]);break;case jl:wo=(Mn?"<":"(")+it[yn]+(Mn?">":")"),Cl=Ai(ue),Bl=Ri(Se)}bo!==void 0&&bo[yn]!==void 0&&(ko=bo[yn]+` Tw
`),yn===0?M.push(ko+nd(Cl,Bl,ta)+wo):Sl===jl?M.push(ko+wo):Sl===Fc&&M.push(ko+nd(Cl,Bl,ta)+wo)}M=Sl===jl?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var bn=`BT
/`;return bn+=Zt+" "+At+` Tf
`,bn+=X(At*$s)+` TL
`,bn+=wl+`
`,bn+=Ia,bn+=M,be(bn+="ET"),B[Zt]=!0,xa};var pr=w.__private__.clip=w.clip=function(M){return be(M==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return pr("evenodd")},w.__private__.discardPath=w.discardPath=function(){return be("n"),this};var zr=w.__private__.isValidStyle=function(M){var ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(ue=!0),ue};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(M){return zr(M)&&(m=M),this};var lr=w.__private__.getStyle=w.getStyle=function(M){var ue=m;switch(M){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=M}return ue},ar=w.close=function(){return be("h"),this};w.stroke=function(){return be("S"),this},w.fill=function(M){return sr("f",M),this},w.fillEvenOdd=function(M){return sr("f*",M),this},w.fillStroke=function(M){return sr("B",M),this},w.fillStrokeEvenOdd=function(M){return sr("B*",M),this};var sr=function(M,ue){Nr(ue)==="object"?Fs(ue,M):be(M)},ea=function(M){M===null||T===I.ADVANCED&&M===void 0||(M=lr(M),be(M))};function ma(M,ue,Se,Ue,_e){var Je=new lA(ue||this.boundingBox,Se||this.xStep,Ue||this.yStep,this.gState,_e||this.matrix);Je.stream=this.stream;var it=M+"$$"+this.cloneIndex+++"$$";return Ya(it,Je),Je}var Fs=function(M,ue){var Se=Pi[M.key],Ue=fr[Se];if(Ue instanceof Rl)be("q"),be(Qi(ue)),Ue.gState&&w.setGState(Ue.gState),be(M.matrix.toString()+" cm"),be("/"+Se+" sh"),be("Q");else if(Ue instanceof lA){var _e=new Qt(1,0,0,-1,0,yo());M.matrix&&(_e=_e.multiply(M.matrix||fn),Se=ma.call(Ue,M.key,M.boundingBox,M.xStep,M.yStep,_e).id),be("q"),be("/Pattern cs"),be("/"+Se+" scn"),Ue.gState&&w.setGState(Ue.gState),be(ue),be("Q")}},Qi=function(M){switch(M){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},oa=w.moveTo=function(M,ue){return be(X($(M))+" "+X(J(ue))+" m"),this},Ha=w.lineTo=function(M,ue){return be(X($(M))+" "+X(J(ue))+" l"),this},ci=w.curveTo=function(M,ue,Se,Ue,_e,Je){return be([X($(M)),X(J(ue)),X($(Se)),X(J(Ue)),X($(_e)),X(J(Je)),"c"].join(" ")),this};w.__private__.line=w.line=function(M,ue,Se,Ue,_e){if(isNaN(M)||isNaN(ue)||isNaN(Se)||isNaN(Ue)||!zr(_e))throw new Error("Invalid arguments passed to jsPDF.line");return T===I.COMPAT?this.lines([[Se-M,Ue-ue]],M,ue,[1,1],_e||"S"):this.lines([[Se-M,Ue-ue]],M,ue,[1,1]).stroke()},w.__private__.lines=w.lines=function(M,ue,Se,Ue,_e,Je){var it,kt,Tt,Wt,Gt,dr,qr,ta,xa,Ja,Ia,Mn;if(typeof M=="number"&&(Mn=Se,Se=ue,ue=M,M=Mn),Ue=Ue||[1,1],Je=Je||!1,isNaN(ue)||isNaN(Se)||!Array.isArray(M)||!Array.isArray(Ue)||!zr(_e)||typeof Je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oa(ue,Se),it=Ue[0],kt=Ue[1],Wt=M.length,Ja=ue,Ia=Se,Tt=0;Tt<Wt;Tt++)(Gt=M[Tt]).length===2?(Ja=Gt[0]*it+Ja,Ia=Gt[1]*kt+Ia,Ha(Ja,Ia)):(dr=Gt[0]*it+Ja,qr=Gt[1]*kt+Ia,ta=Gt[2]*it+Ja,xa=Gt[3]*kt+Ia,Ja=Gt[4]*it+Ja,Ia=Gt[5]*kt+Ia,ci(dr,qr,ta,xa,Ja,Ia));return Je&&ar(),ea(_e),this},w.path=function(M){for(var ue=0;ue<M.length;ue++){var Se=M[ue],Ue=Se.c;switch(Se.op){case"m":oa(Ue[0],Ue[1]);break;case"l":Ha(Ue[0],Ue[1]);break;case"c":ci.apply(this,Ue);break;case"h":ar()}}return this},w.__private__.rect=w.rect=function(M,ue,Se,Ue,_e){if(isNaN(M)||isNaN(ue)||isNaN(Se)||isNaN(Ue)||!zr(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return T===I.COMPAT&&(Ue=-Ue),be([X($(M)),X(J(ue)),X($(Se)),X($(Ue)),"re"].join(" ")),ea(_e),this},w.__private__.triangle=w.triangle=function(M,ue,Se,Ue,_e,Je,it){if(isNaN(M)||isNaN(ue)||isNaN(Se)||isNaN(Ue)||isNaN(_e)||isNaN(Je)||!zr(it))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-M,Ue-ue],[_e-Se,Je-Ue],[M-_e,ue-Je]],M,ue,[1,1],it,!0),this},w.__private__.roundedRect=w.roundedRect=function(M,ue,Se,Ue,_e,Je,it){if(isNaN(M)||isNaN(ue)||isNaN(Se)||isNaN(Ue)||isNaN(_e)||isNaN(Je)||!zr(it))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*Se),Je=Math.min(Je,.5*Ue),this.lines([[Se-2*_e,0],[_e*kt,0,_e,Je-Je*kt,_e,Je],[0,Ue-2*Je],[0,Je*kt,-_e*kt,Je,-_e,Je],[2*_e-Se,0],[-_e*kt,0,-_e,-Je*kt,-_e,-Je],[0,2*Je-Ue],[0,-Je*kt,_e*kt,-Je,_e,-Je]],M+_e,ue,[1,1],it,!0),this},w.__private__.ellipse=w.ellipse=function(M,ue,Se,Ue,_e){if(isNaN(M)||isNaN(ue)||isNaN(Se)||isNaN(Ue)||!zr(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Je=4/3*(Math.SQRT2-1)*Se,it=4/3*(Math.SQRT2-1)*Ue;return oa(M+Se,ue),ci(M+Se,ue-it,M+Je,ue-Ue,M,ue-Ue),ci(M-Je,ue-Ue,M-Se,ue-it,M-Se,ue),ci(M-Se,ue+it,M-Je,ue+Ue,M,ue+Ue),ci(M+Je,ue+Ue,M+Se,ue+it,M+Se,ue),ea(_e),this},w.__private__.circle=w.circle=function(M,ue,Se,Ue){if(isNaN(M)||isNaN(ue)||isNaN(Se)||!zr(Ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,ue,Se,Se,Ue)},w.setFont=function(M,ue,Se){return Se&&(ue=ae(ue,Se)),Zt=Fe(M,ue,{disableWarning:!1}),this};var Tf=w.__private__.getFont=w.getFont=function(){return br[Fe.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var M,ue,Se={};for(M in Er)if(Er.hasOwnProperty(M))for(ue in Se[M]=[],Er[M])Er[M].hasOwnProperty(ue)&&Se[M].push(ue);return Se},w.addFont=function(M,ue,Se,Ue,_e){var Je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Je.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Je.indexOf(arguments[3])==-1&&(Se=ae(Se,Ue)),_e=_e||"Identity-H",V.call(this,M,ue,Se,_e)};var vl,zA=e.lineWidth||.200025,mc=w.__private__.getLineWidth=w.getLineWidth=function(){return zA},qu=w.__private__.setLineWidth=w.setLineWidth=function(M){return zA=M,be(X($(M))+" w"),this};w.__private__.setLineDash=Ot.API.setLineDash=Ot.API.setLineDashPattern=function(M,ue){if(M=M||[],ue=ue||0,isNaN(ue)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(Se){return X($(Se))}).join(" "),ue=X($(ue)),be("["+M+"] "+ue+" d"),this};var Xu=w.__private__.getLineHeight=w.getLineHeight=function(){return At*vl};w.__private__.getLineHeight=w.getLineHeight=function(){return At*vl};var Ku=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(vl=M),this},Wu=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return vl};Ku(e.lineHeight);var Ai=w.__private__.getHorizontalCoordinate=function(M){return $(M)},Ri=w.__private__.getVerticalCoordinate=function(M){return T===I.ADVANCED?M:_t[he].mediaBox.topRightY-_t[he].mediaBox.bottomLeftY-$(M)},Qf=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(M){return X(Ai(M))},xo=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(M){return X(Ri(M))},Rn=e.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return $a(Rn)},w.__private__.setStrokeColor=w.setDrawColor=function(M,ue,Se,Ue){return Rn=Ws({ch1:M,ch2:ue,ch3:Se,ch4:Ue,pdfColorType:"draw",precision:2}),be(Rn),this};var VA=e.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return $a(VA)},w.__private__.setFillColor=w.setFillColor=function(M,ue,Se,Ue){return VA=Ws({ch1:M,ch2:ue,ch3:Se,ch4:Ue,pdfColorType:"fill",precision:2}),be(VA),this};var wl=e.textColor||"0 g",Rf=w.__private__.getTextColor=w.getTextColor=function(){return $a(wl)};w.__private__.setTextColor=w.setTextColor=function(M,ue,Se,Ue){return wl=Ws({ch1:M,ch2:ue,ch3:Se,ch4:Ue,pdfColorType:"text",precision:3}),this};var xc=e.charSpace,Mf=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(xc||0)};w.__private__.setCharSpace=w.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xc=M,this};var GA=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(M){var ue=w.CapJoinStyles[M];if(ue===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return GA=ue,be(ue+" J"),this};var qA=0;w.__private__.setLineJoin=w.setLineJoin=function(M){var ue=w.CapJoinStyles[M];if(ue===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qA=ue,be(ue+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return be(X($(M))+" M"),this},w.GState=N0,w.setGState=function(M){(M=typeof M=="string"?Mr[Vs[M]]:Yu(null,M)).equals(Qn)||(be("/"+M.id+" gs"),Qn=M)};var Yu=function(M,ue){if(!M||!Vs[M]){var Se=!1;for(var Ue in Mr)if(Mr.hasOwnProperty(Ue)&&Mr[Ue].equals(ue)){Se=!0;break}if(Se)ue=Mr[Ue];else{var _e="GS"+(Object.keys(Mr).length+1).toString(10);Mr[_e]=ue,ue.id=_e}return M&&(Vs[M]=ue.id),Ar.publish("addGState",ue),ue}};w.addGState=function(M,ue){return Yu(M,ue),this},w.saveGraphicsState=function(){return be("q"),gn.push({key:Zt,size:At,color:wl}),this},w.restoreGraphicsState=function(){be("Q");var M=gn.pop();return Zt=M.key,At=M.size,wl=M.color,Qn=null,this},w.setCurrentTransformationMatrix=function(M){return be(M.toString()+" cm"),this},w.comment=function(M){return be("#"+M),this};var yc=function(M,ue){var Se=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(Je){isNaN(Je)||(Se=parseFloat(Je))}});var Ue=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ue},set:function(Je){isNaN(Je)||(Ue=parseFloat(Je))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Je){_e=Je.toString()}}),this},XA=function(M,ue,Se,Ue){yc.call(this,M,ue),this.type="rect";var _e=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(it){isNaN(it)||(_e=parseFloat(it))}});var Je=Ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Je},set:function(it){isNaN(it)||(Je=parseFloat(it))}}),this},KA=function(){this.page=vr,this.currentPage=he,this.pages=tt.slice(0),this.pagesContext=_t.slice(0),this.x=Ca,this.y=cr,this.matrix=js,this.width=kl(he),this.height=yo(he),this.outputDestination=qe,this.id="",this.objectNumber=-1};KA.prototype.restore=function(){vr=this.page,he=this.currentPage,_t=this.pagesContext,tt=this.pages,Ca=this.x,cr=this.y,js=this.matrix,WA(he,this.width),YA(he,this.height),qe=this.outputDestination};var $u=function(M,ue,Se,Ue,_e){qs.push(new KA),vr=he=0,tt=[],Ca=M,cr=ue,js=_e,Q([Se,Ue])},Of=function(M){if(Gs[M])qs.pop().restore();else{var ue=new KA,Se="Xo"+(Object.keys(Ba).length+1).toString(10);ue.id=Se,Gs[M]=Se,Ba[Se]=ue,Ar.publish("addFormObject",ue),qs.pop().restore()}};for(var bc in w.beginFormObject=function(M,ue,Se,Ue,_e){return $u(M,ue,Se,Ue,_e),this},w.endFormObject=function(M){return Of(M),this},w.doFormObject=function(M,ue){var Se=Ba[Gs[M]];return be("q"),be(ue.toString()+" cm"),be("/"+Se.id+" Do"),be("Q"),this},w.getFormObject=function(M){var ue=Ba[Gs[M]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},w.save=function(M,ue){return M=M||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,ue.returnPromise===!1?(Tl(mt(ct()),M),typeof Tl.unload=="function"&&Ht.setTimeout&&setTimeout(Tl.unload,911),this):new Promise(function(Se,Ue){try{var _e=Tl(mt(ct()),M);typeof Tl.unload=="function"&&Ht.setTimeout&&setTimeout(Tl.unload,911),Se(_e)}catch(Je){Ue(Je.message)}})},Ot.API)Ot.API.hasOwnProperty(bc)&&(bc==="events"&&Ot.API.events.length?function(M,ue){var Se,Ue,_e;for(_e=ue.length-1;_e!==-1;_e--)Se=ue[_e][0],Ue=ue[_e][1],M.subscribe.apply(M,[Se].concat(typeof Ue=="function"?[Ue]:Ue))}(Ar,Ot.API.events):w[bc]=Ot.API[bc]);var kl=w.getPageWidth=function(M){return(_t[M=M||he].mediaBox.topRightX-_t[M].mediaBox.bottomLeftX)/yt},WA=w.setPageWidth=function(M,ue){_t[M].mediaBox.topRightX=ue*yt+_t[M].mediaBox.bottomLeftX},yo=w.getPageHeight=function(M){return(_t[M=M||he].mediaBox.topRightY-_t[M].mediaBox.bottomLeftY)/yt},YA=w.setPageHeight=function(M,ue){_t[M].mediaBox.topRightY=ue*yt+_t[M].mediaBox.bottomLeftY};return w.internal={pdfEscape:v,getStyle:lr,getFont:Tf,getFontSize:ht,getCharSpace:Mf,getTextColor:Rf,getLineHeight:Xu,getLineHeightFactor:Wu,getLineWidth:mc,write:ft,getHorizontalCoordinate:Ai,getVerticalCoordinate:Ri,getCoordinateString:Qf,getVerticalCoordinateString:xo,collections:{},newObject:ia,newAdditionalObject:oi,newObjectDeferred:Zr,newObjectDeferredBegin:fs,getFilters:Ys,putStream:Ss,events:Ar,scaleFactor:yt,pageSize:{getWidth:function(){return kl(he)},setWidth:function(M){WA(he,M)},getHeight:function(){return yo(he)},setHeight:function(M){YA(he,M)}},encryptionOptions:y,encryption:Et,getEncryptor:Dt,output:wt,getNumberOfPages:me,pages:tt,out:be,f2:oe,f3:W,getPageInfo:Kt,getPageInfoByObjId:Nt,getCurrentPageInfo:jr,getPDFVersion:L,Point:yc,Rectangle:XA,Matrix:Qt,hasHotfix:Ut},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return kl(he)},set:function(M){WA(he,M)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return yo(he)},set:function(M){YA(he,M)},enumerable:!0,configurable:!0}),ee.call(w,ot),Zt="F1",K(o,a),Ar.publish("initialized"),w}qc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},qc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qc.prototype.hexToBytes=function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(String.fromCharCode(parseInt(e.substr(a,2),16)));return t.join("")},qc.prototype.processOwnerPassword=function(e,t){return Ex(Fx(t).substr(0,5),e)},qc.prototype.encryptor=function(e,t){var a=Fx(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return Ex(a,s)}},N0.prototype.equals=function(e){var t,a="id,objectNumber,equals";if(!e||Nr(e)!==Nr(this))return!1;var s=0;for(t in this)if(!(a.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&a.indexOf(t)<0&&s--;return s===0},Ot.API={events:[]},Ot.version="3.0.1";var aa=Ot.API,mb=1,fc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qt=function(e){return e.toFixed(2)},Po=function(e){return e.toFixed(5)};aa.__acroform__={};var zs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},$w=function(e){return e*mb},mi=function(e){var t=new lB,a=St.internal.getHeight(e)||0,s=St.internal.getWidth(e)||0;return t.BBox=[0,0,Number(qt(s)),Number(qt(a))],t},ZL=aa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},eI=aa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},tI=aa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ha=aa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tI(e,t-1)},ga=aa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ZL(e,t-1)},fa=aa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return eI(e,t-1)},rI=aa.__acroform__.calculateCoordinates=function(e,t){var a=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,o=e[0],l=e[1],d=e[2],g=e[3],f={};return f.lowerLeft_X=a(o)||0,f.lowerLeft_Y=s(l+g)||0,f.upperRight_X=a(o+d)||0,f.upperRight_Y=s(l)||0,[Number(qt(f.lowerLeft_X)),Number(qt(f.lowerLeft_Y)),Number(qt(f.upperRight_X)),Number(qt(f.upperRight_Y))]},aI=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],a=e._V||e.DV,s=Lx(e,a),o=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+o+" "+qt(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=mi(e);return l.scope=e.scope,l.stream=t.join(`
`),l}},Lx=function(e,t){var a=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},o=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");o=e.multiline?o.map(function(W){return W.split(`
`)}):o.map(function(W){return[W]});var l=a,d=St.internal.getHeight(e)||0;d=d<0?-d:d;var g=St.internal.getWidth(e)||0;g=g<0?-g:g;var f=function(W,$,Z){if(W+1<o.length){var J=$+" "+o[W+1][0];return qh(J,e,Z).width<=g-4}return!1};l++;e:for(;l>0;){t="",l--;var m,y,N=qh("3",e,l).height,B=e.multiline?d-l:(d-N)/2,w=B+=2,U=0,L=0,R=0;if(l<=0){t=`(...) Tj
`,t+="% Width of Text: "+qh(t,e,l=12).width+", FieldWidth:"+g+`
`;break}for(var C="",I=0,T=0;T<o.length;T++)if(o.hasOwnProperty(T)){var z=!1;if(o[T].length!==1&&R!==o[T].length-1){if((N+2)*(I+2)+2>d)continue e;C+=o[T][R],z=!0,L=T,T--}else{C=(C+=o[T][R]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var D=parseInt(T),ae=f(D,C,l),X=T>=o.length-1;if(ae&&!X){C+=" ",R=0;continue}if(ae||X){if(X)L=D;else if(e.multiline&&(N+2)*(I+2)+2>d)continue e}else{if(!e.multiline||(N+2)*(I+2)+2>d)continue e;L=D}}for(var _="",ie=U;ie<=L;ie++){var oe=o[ie];if(e.multiline){if(ie===L){_+=oe[R]+" ",R=(R+1)%oe.length;continue}if(ie===U){_+=oe[oe.length-1]+" ";continue}}_+=oe[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,y=qh(_,e,l).width,e.textAlign){case"right":m=g-y-2;break;case"center":m=(g-y)/2;break;case"left":default:m=2}t+=qt(m)+" "+qt(w)+` Td
`,t+="("+fc(_)+`) Tj
`,t+=-qt(m)+` 0 Td
`,w=-(l+2),y=0,U=z?L:L+1,I++,C=""}break}return s.text=t,s.fontSize=l,s},qh=function(e,t,a){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),o=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:o}},sI={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nI=function(e,t){var a={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===a.type&&s.object===a.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(a)},iI=function(e,t){for(var a in e)if(e.hasOwnProperty(a)){var s=a,o=e[a];t.internal.newObjectDeferredBegin(o.objId,!0),Nr(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete e[s]}},oI=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ri.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(sI)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mb=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new cB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];l.objId=void 0,l.hasAnnotation&&nI(l,a)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(a){(function(s,o){var l=!s;for(var d in s||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(d)){var g=s[d],f=[],m=g.Rect;if(g.Rect&&(g.Rect=rI(g.Rect,o)),o.internal.newObjectDeferredBegin(g.objId,!0),g.DA=St.createDefaultAppearanceStream(g),Nr(g)==="object"&&typeof g.getKeyValueListForStream=="function"&&(f=g.getKeyValueListForStream()),g.Rect=m,g.hasAppearanceStream&&!g.appearanceStreamContent){var y=aI(g);f.push({key:"AP",value:"<</N "+y+">>"}),o.internal.acroformPlugin.xForms.push(y)}if(g.appearanceStreamContent){var N="";for(var B in g.appearanceStreamContent)if(g.appearanceStreamContent.hasOwnProperty(B)){var w=g.appearanceStreamContent[B];if(N+="/"+B+" ",N+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var d in w)if(w.hasOwnProperty(d)){var U=w[d];typeof U=="function"&&(U=U.call(o,g)),N+="/"+d+" "+U+" ",o.internal.acroformPlugin.xForms.indexOf(U)>=0||o.internal.acroformPlugin.xForms.push(U)}}else typeof(U=w)=="function"&&(U=U.call(o,g)),N+="/"+d+" "+U,o.internal.acroformPlugin.xForms.indexOf(U)>=0||o.internal.acroformPlugin.xForms.push(U);N+=">>"}f.push({key:"AP",value:`<<
`+N+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:g.objId}),o.internal.out("endobj")}l&&iI(o.internal.acroformPlugin.xForms,o)})(a,e)}),e.internal.acroformPlugin.isInitialized=!0}},oB=aa.__acroform__.arrayToPdfArray=function(e,t,a){var s=function(d){return d};if(Array.isArray(e)){for(var o="[",l=0;l<e.length;l++)switch(l!==0&&(o+=" "),Nr(e[l])){case"boolean":case"number":case"object":o+=e[l].toString();break;case"string":e[l].substr(0,1)!=="/"?(t!==void 0&&a&&(s=a.internal.getEncryptor(t)),o+="("+fc(s(e[l].toString()))+")"):o+=e[l].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Gp=function(e,t,a){var s=function(o){return o};return t!==void 0&&a&&(s=a.internal.getEncryptor(t)),(e=e||"").toString(),e="("+fc(s(e))+")"},vi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vi.prototype.toString=function(){return this.objId+" 0 R"},vi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},vi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var a in t)if(Object.getOwnPropertyDescriptor(this,t[a]).configurable===!1){var s=t[a],o=this[s];o&&(Array.isArray(o)?e.push({key:s,value:oB(o,this.objId,this.scope)}):o instanceof vi?(o.scope=this.scope,e.push({key:s,value:o.objId+" 0 R"})):typeof o!="function"&&e.push({key:s,value:o}))}return e};var lB=function(){vi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){e=a.trim()},get:function(){return e||null}})};zs(lB,vi);var cB=function(){vi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var a=function(s){return s};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+fc(a(e))+")"}},set:function(a){e=a}})};zs(cB,vi);var ri=function e(){vi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ha(t,3)},set:function(C){C?this.F=ga(t,3):this.F=fa(t,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');a=C}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(C){s=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(C){s[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(C){s[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(C){s[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(C){s[3]=C}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof C0)return;l="FieldObject"+e.FieldNum++}var C=function(I){return I};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+fc(C(l))+")"},set:function(C){l=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(C){l=C}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var g="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return g},set:function(C){g=C}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/mb:m},set:function(C){m=C}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(C){y=C}});var N="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!N||this instanceof C0||this instanceof Jl))return Gp(N,this.objId,this.scope)},set:function(C){C=C.toString(),N=C}});var B=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(B)return this instanceof Qa?B:Gp(B,this.objId,this.scope)},set:function(C){C=C.toString(),B=this instanceof Qa?C:C.substr(0,1)==="("?Tc(C.substr(1,C.length-2)):Tc(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qa?Tc(B.substr(1,B.length-1)):B},set:function(C){C=C.toString(),B=this instanceof Qa?"/"+C:C}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Qa?w:Gp(w,this.objId,this.scope)},set:function(C){C=C.toString(),w=this instanceof Qa?C:C.substr(0,1)==="("?Tc(C.substr(1,C.length-2)):Tc(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qa?Tc(w.substr(1,w.length-1)):w},set:function(C){C=C.toString(),w=this instanceof Qa?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(C){C=!!C,L=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(C){U=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,1)},set:function(C){C?this.Ff=ga(this.Ff,1):this.Ff=fa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,2)},set:function(C){C?this.Ff=ga(this.Ff,2):this.Ff=fa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,3)},set:function(C){C?this.Ff=ga(this.Ff,3):this.Ff=fa(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');R=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(R){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:R=2;break;case"center":case 1:R=1;break;case"left":case 0:default:R=0}}})};zs(ri,vi);var mA=function(){ri.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(a){e=a}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return oB(t,this.objId,this.scope)},set:function(a){var s,o;o=[],typeof(s=a)=="string"&&(o=function(l,d,g){g||(g=1);for(var f,m=[];f=d.exec(l);)m.push(f[g]);return m}(s,/\((.*?)\)/g)),t=o}}),this.getOptions=function(){return t},this.setOptions=function(a){t=a,this.sort&&t.sort()},this.addOption=function(a){a=(a=a||"").toString(),t.push(a),this.sort&&t.sort()},this.removeOption=function(a,s){for(s=s||!1,a=(a=a||"").toString();t.indexOf(a)!==-1&&(t.splice(t.indexOf(a),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,18)},set:function(a){a?this.Ff=ga(this.Ff,18):this.Ff=fa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=ga(this.Ff,19):this.Ff=fa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,20)},set:function(a){a?(this.Ff=ga(this.Ff,20),t.sort()):this.Ff=fa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,22)},set:function(a){a?this.Ff=ga(this.Ff,22):this.Ff=fa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,23)},set:function(a){a?this.Ff=ga(this.Ff,23):this.Ff=fa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,27)},set:function(a){a?this.Ff=ga(this.Ff,27):this.Ff=fa(this.Ff,27)}}),this.hasAppearanceStream=!1};zs(mA,ri);var xA=function(){mA.call(this),this.fontName="helvetica",this.combo=!1};zs(xA,mA);var yA=function(){xA.call(this),this.combo=!0};zs(yA,xA);var Ig=function(){yA.call(this),this.edit=!0};zs(Ig,yA);var Qa=function(){ri.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,15)},set:function(a){a?this.Ff=ga(this.Ff,15):this.Ff=fa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,16)},set:function(a){a?this.Ff=ga(this.Ff,16):this.Ff=fa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,17)},set:function(a){a?this.Ff=ga(this.Ff,17):this.Ff=fa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,26)},set:function(a){a?this.Ff=ga(this.Ff,26):this.Ff=fa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,o=[];for(s in o.push("<<"),t)o.push("/"+s+" ("+fc(a(t[s]))+")");return o.push(">>"),o.join(`
`)}},set:function(a){Nr(a)==="object"&&(t=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(a){typeof a=="string"&&(t.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}})};zs(Qa,ri);var Pg=function(){Qa.call(this),this.pushButton=!0};zs(Pg,Qa);var bA=function(){Qa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};zs(bA,Qa);var C0=function(){var e,t;ri.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(o){e=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(o){t=o}});var a,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(g){return g};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var l,d=[];for(l in d.push("<<"),s)d.push("/"+l+" ("+fc(o(s[l]))+")");return d.push(">>"),d.join(`
`)},set:function(o){Nr(o)==="object"&&(s=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(o){typeof o=="string"&&(s.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(o){a="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zs(C0,ri),bA.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var a=this.Kids[t];a.appearanceStreamContent=e.createAppearanceStream(a.optionName),a.caption=e.getCA()}},bA.prototype.createOption=function(e){var t=new C0;return t.Parent=this,t.optionName=e,this.Kids.push(t),lI.call(this.scope,t),t};var Ug=function(){Qa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};zs(Ug,Qa);var Jl=function(){ri.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,13)},set:function(t){t?this.Ff=ga(this.Ff,13):this.Ff=fa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,21)},set:function(t){t?this.Ff=ga(this.Ff,21):this.Ff=fa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,23)},set:function(t){t?this.Ff=ga(this.Ff,23):this.Ff=fa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,24)},set:function(t){t?this.Ff=ga(this.Ff,24):this.Ff=fa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,25)},set:function(t){t?this.Ff=ga(this.Ff,25):this.Ff=fa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,26)},set:function(t){t?this.Ff=ga(this.Ff,26):this.Ff=fa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zs(Jl,ri);var Dg=function(){Jl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,14)},set:function(e){e?this.Ff=ga(this.Ff,14):this.Ff=fa(this.Ff,14)}}),this.password=!0};zs(Dg,Jl);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=mi(e);t.scope=e.scope;var a=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),l=Lx(e,e.caption);return a.push("0.749023 g"),a.push("0 0 "+qt(St.internal.getWidth(e))+" "+qt(St.internal.getHeight(e))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+s+" "+qt(l.fontSize)+" Tf "+o),a.push("BT"),a.push(l.text),a.push("ET"),a.push("Q"),a.push("EMC"),t.stream=a.join(`
`),t},YesNormal:function(e){var t=mi(e);t.scope=e.scope;var a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),o=[],l=St.internal.getHeight(e),d=St.internal.getWidth(e),g=Lx(e,e.caption);return o.push("1 g"),o.push("0 0 "+qt(d)+" "+qt(l)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+qt(d-1)+" "+qt(l-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+a+" "+qt(g.fontSize)+" Tf "+s),o.push(g.text),o.push("ET"),o.push("Q"),t.stream=o.join(`
`),t},OffPushDown:function(e){var t=mi(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+qt(St.internal.getWidth(e))+" "+qt(St.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Circle.YesNormal,t.D[e]=St.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=mi(e);t.scope=e.scope;var a=[],s=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var o=St.internal.Bezier_C,l=Number((s*o).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+Po(St.internal.getWidth(e)/2)+" "+Po(St.internal.getHeight(e)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),a.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),a.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),a.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=mi(e);t.scope=e.scope;var a=[],s=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var o=Number((2*s).toFixed(5)),l=Number((o*St.internal.Bezier_C).toFixed(5)),d=Number((s*St.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Po(St.internal.getWidth(e)/2)+" "+Po(St.internal.getHeight(e)/2)+" cm"),a.push(o+" 0 m"),a.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),a.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),a.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),a.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+Po(St.internal.getWidth(e)/2)+" "+Po(St.internal.getHeight(e)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+d+" "+d+" "+s+" 0 "+s+" c"),a.push("-"+d+" "+s+" -"+s+" "+d+" -"+s+" 0 c"),a.push("-"+s+" -"+d+" -"+d+" -"+s+" 0 -"+s+" c"),a.push(d+" -"+s+" "+s+" -"+d+" "+s+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=mi(e);t.scope=e.scope;var a=[],s=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var o=Number((2*s).toFixed(5)),l=Number((o*St.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Po(St.internal.getWidth(e)/2)+" "+Po(St.internal.getHeight(e)/2)+" cm"),a.push(o+" 0 m"),a.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),a.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),a.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),a.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Cross.YesNormal,t.D[e]=St.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=mi(e);t.scope=e.scope;var a=[],s=St.internal.calculateCross(e);return a.push("q"),a.push("1 1 "+qt(St.internal.getWidth(e)-2)+" "+qt(St.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(qt(s.x1.x)+" "+qt(s.x1.y)+" m"),a.push(qt(s.x2.x)+" "+qt(s.x2.y)+" l"),a.push(qt(s.x4.x)+" "+qt(s.x4.y)+" m"),a.push(qt(s.x3.x)+" "+qt(s.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=mi(e);t.scope=e.scope;var a=St.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+qt(St.internal.getWidth(e))+" "+qt(St.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+qt(St.internal.getWidth(e)-2)+" "+qt(St.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(qt(a.x1.x)+" "+qt(a.x1.y)+" m"),s.push(qt(a.x2.x)+" "+qt(a.x2.y)+" l"),s.push(qt(a.x4.x)+" "+qt(a.x4.y)+" m"),s.push(qt(a.x3.x)+" "+qt(a.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=mi(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+qt(St.internal.getWidth(e))+" "+qt(St.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+a}};St.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=St.internal.getWidth(e),a=St.internal.getHeight(e),s=Math.min(t,a);return{x1:{x:(t-s)/2,y:(a-s)/2+s},x2:{x:(t-s)/2+s,y:(a-s)/2},x3:{x:(t-s)/2,y:(a-s)/2},x4:{x:(t-s)/2+s,y:(a-s)/2+s}}}},St.internal.getWidth=function(e){var t=0;return Nr(e)==="object"&&(t=$w(e.Rect[2])),t},St.internal.getHeight=function(e){var t=0;return Nr(e)==="object"&&(t=$w(e.Rect[3])),t};var lI=aa.addField=function(e){if(oI(this,e),!(e instanceof ri))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};aa.AcroFormChoiceField=mA,aa.AcroFormListBox=xA,aa.AcroFormComboBox=yA,aa.AcroFormEditBox=Ig,aa.AcroFormButton=Qa,aa.AcroFormPushButton=Pg,aa.AcroFormRadioButton=bA,aa.AcroFormCheckBox=Ug,aa.AcroFormTextField=Jl,aa.AcroFormPasswordField=Dg,aa.AcroFormAppearance=St,aa.AcroForm={ChoiceField:mA,ListBox:xA,ComboBox:yA,EditBox:Ig,Button:Qa,PushButton:Pg,RadioButton:bA,CheckBox:Ug,TextField:Jl,PasswordField:Dg,Appearance:St},Ot.AcroForm={ChoiceField:mA,ListBox:xA,ComboBox:yA,EditBox:Ig,Button:Qa,PushButton:Pg,RadioButton:bA,CheckBox:Ug,TextField:Jl,PasswordField:Dg,Appearance:St};function AB(e){return e.reduce(function(t,a,s){return t[a]=s,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(W,$){var Z,J,ne,te,Be,fe=t;if(($=$||t)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(ae(W))for(Be in a)for(ne=a[Be],Z=0;Z<ne.length;Z+=1){for(te=!0,J=0;J<ne[Z].length;J+=1)if(ne[Z][J]!==void 0&&ne[Z][J]!==W[J]){te=!1;break}if(te===!0){fe=Be;break}}else for(Be in a)for(ne=a[Be],Z=0;Z<ne.length;Z+=1){for(te=!0,J=0;J<ne[Z].length;J+=1)if(ne[Z][J]!==void 0&&ne[Z][J]!==W.charCodeAt(J)){te=!1;break}if(te===!0){fe=Be;break}}return fe===t&&$!==t&&(fe=$),fe},o=function W($){for(var Z=this.internal.write,J=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:$.width}),te.push({key:"Height",value:$.height}),$.colorSpace===R.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===R.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)){for(var Be="",fe=0,je=$.transparency.length;fe<je;fe++)Be+=$.transparency[fe]+" "+$.transparency[fe]+" ";te.push({key:"Mask",value:"["+Be+"]"})}$.sMask!==void 0&&te.push({key:"SMask",value:$.objectId+1+" 0 R"});var Ce=$.filter!==void 0?["/"+$.filter]:void 0;if(J({data:$.data,additionalKeyValues:te,alreadyAppliedFilters:Ce,objectId:$.objectId}),Z("endobj"),"sMask"in $&&$.sMask!==void 0){var Me="/Predictor "+$.predictor+" /Colors 1 /BitsPerComponent "+$.bitsPerComponent+" /Columns "+$.width,Ae={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:$.bitsPerComponent,decodeParameters:Me,data:$.sMask};"filter"in $&&(Ae.filter=$.filter),W.call(this,Ae)}if($.colorSpace===R.INDEXED){var he=this.internal.newObject();J({data:_(new Uint8Array($.palette)),objectId:he}),Z("endobj")}},l=function(){var W=this.internal.collections.addImage_images;for(var $ in W)o.call(this,W[$])},d=function(){var W,$=this.internal.collections.addImage_images,Z=this.internal.write;for(var J in $)Z("/I"+(W=$[J]).index,W.objectId,"0","R")},g=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",d))},f=function(){var W=this.internal.collections.addImage_images;return g.call(this),W},m=function(){return Object.keys(this.internal.collections.addImage_images).length},y=function(W){return typeof e["process"+W.toUpperCase()]=="function"},N=function(W){return Nr(W)==="object"&&W.nodeType===1},B=function(W,$){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var Z=""+W.getAttribute("src");if(Z.indexOf("data:image/")===0)return tu(unescape(Z).split("base64,").pop());var J=e.loadFile(Z,!0);if(J!==void 0)return J}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var ne;switch($){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;case"JPEG":case"JPG":default:ne="image/jpeg"}return tu(W.toDataURL(ne,1).split("base64,").pop())}},w=function(W){var $=this.internal.collections.addImage_images;if($){for(var Z in $)if(W===$[Z].alias)return $[Z]}},U=function(W,$,Z){return W||$||(W=-96,$=-96),W<0&&(W=-1*Z.width*72/W/this.internal.scaleFactor),$<0&&($=-1*Z.height*72/$/this.internal.scaleFactor),W===0&&(W=$*Z.width/Z.height),$===0&&($=W*Z.height/Z.width),[W,$]},L=function(W,$,Z,J,ne,te){var Be=U.call(this,Z,J,ne),fe=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString,Ce=f.call(this);if(Z=Be[0],J=Be[1],Ce[ne.index]=ne,te){te*=Math.PI/180;var Me=Math.cos(te),Ae=Math.sin(te),he=function(Le){return Le.toFixed(4)},ke=[he(Me),he(Ae),he(-1*Ae),he(Me),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,fe(W),je($+J),"cm"].join(" ")),this.internal.write(ke.join(" ")),this.internal.write([fe(Z),"0","0",fe(J),"0","0","cm"].join(" "))):this.internal.write([fe(Z),"0","0",fe(J),fe(W),je($+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},R=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=e.__addimage__.sHashCode=function(W){var $,Z,J=0;if(typeof W=="string")for(Z=W.length,$=0;$<Z;$++)J=(J<<5)-J+W.charCodeAt($),J|=0;else if(ae(W))for(Z=W.byteLength/2,$=0;$<Z;$++)J=(J<<5)-J+W[$],J|=0;return J},T=e.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var $=!0;return W.length===0&&($=!1),W.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&($=!1),$},z=e.__addimage__.extractImageFromDataUrl=function(W){if(W==null||!(W=W.trim()).startsWith("data:"))return null;var $=W.indexOf(",");return $<0?null:W.substring(0,$).trim().endsWith("base64")?W.substring($+1):null},D=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(W){return D()&&W instanceof ArrayBuffer};var ae=e.__addimage__.isArrayBufferView=function(W){return D()&&typeof Uint32Array<"u"&&(W instanceof Int8Array||W instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)},X=e.__addimage__.binaryStringToUint8Array=function(W){for(var $=W.length,Z=new Uint8Array($),J=0;J<$;J++)Z[J]=W.charCodeAt(J);return Z},_=e.__addimage__.arrayBufferToBinaryString=function(W){for(var $="",Z=ae(W)?W:new Uint8Array(W),J=0;J<Z.length;J+=8192)$+=String.fromCharCode.apply(null,Z.subarray(J,J+8192));return $};e.addImage=function(){var W,$,Z,J,ne,te,Be,fe,je;if(typeof arguments[1]=="number"?($=t,Z=arguments[1],J=arguments[2],ne=arguments[3],te=arguments[4],Be=arguments[5],fe=arguments[6],je=arguments[7]):($=arguments[1],Z=arguments[2],J=arguments[3],ne=arguments[4],te=arguments[5],Be=arguments[6],fe=arguments[7],je=arguments[8]),Nr(W=arguments[0])==="object"&&!N(W)&&"imageData"in W){var Ce=W;W=Ce.imageData,$=Ce.format||$||t,Z=Ce.x||Z||0,J=Ce.y||J||0,ne=Ce.w||Ce.width||ne,te=Ce.h||Ce.height||te,Be=Ce.alias||Be,fe=Ce.compression||fe,je=Ce.rotation||Ce.angle||je}var Me=this.internal.getFilters();if(fe===void 0&&Me.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(Z)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");g.call(this);var Ae=ie.call(this,W,$,Be,fe);return L.call(this,Z,J,ne,te,Ae,je),this};var ie=function(W,$,Z,J){var ne,te,Be;if(typeof W=="string"&&s(W)===t){W=unescape(W);var fe=oe(W,!1);(fe!==""||(fe=e.loadFile(W,!0))!==void 0)&&(W=fe)}if(N(W)&&(W=B(W,$)),$=s(W,$),!y($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((Be=Z)==null||Be.length===0)&&(Z=function(je){return typeof je=="string"||ae(je)?I(je):ae(je.data)?I(je.data):null}(W)),(ne=w.call(this,Z))||(D()&&(W instanceof Uint8Array||$==="RGBA"||(te=W,W=X(W))),ne=this["process"+$.toUpperCase()](W,m.call(this),Z,function(je){return je&&typeof je=="string"&&(je=je.toUpperCase()),je in e.image_compression?je:C.NONE}(J),te)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},oe=e.__addimage__.convertBase64ToBinaryString=function(W,$){$=typeof $!="boolean"||$;var Z,J="";if(typeof W=="string"){var ne;Z=(ne=z(W))!==null&&ne!==void 0?ne:W;try{J=tu(Z)}catch(te){if($)throw T(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};e.getImageProperties=function(W){var $,Z,J="";if(N(W)&&(W=B(W)),typeof W=="string"&&s(W)===t&&((J=oe(W,!1))===""&&(J=e.loadFile(W)||""),W=J),Z=s(W),!y(Z))throw new Error("addImage does not support files of type '"+Z+"', please ensure that a plugin for '"+Z+"' support is added.");if(!D()||W instanceof Uint8Array||(W=X(W)),!($=this["process"+Z.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=Z,$}})(Ot.API),function(e){var t=function(a){if(a!==void 0&&a!="")return!0};Ot.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(a){for(var s,o,l,d=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(a.objId),m=a.pageContext.annotations,y=!1,N=0;N<m.length&&!y;N++)switch((s=m[N]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var B=0;B<m.length;B++){s=m[B];var w=this.internal.pdfEscape,U=this.internal.getEncryptor(a.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(L.objId),I=s.title||"Note";l="<</Type /Annot /Subtype /Text "+(o="/Rect ["+d(s.bounds.x)+" "+g(s.bounds.y+s.bounds.h)+" "+d(s.bounds.x+s.bounds.w)+" "+g(s.bounds.y)+"] ")+"/Contents ("+w(C(s.contents))+")",l+=" /Popup "+R.objId+" 0 R",l+=" /P "+f.objId+" 0 R",l+=" /T ("+w(C(I))+") >>",L.content=l;var T=L.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+d(s.bounds.x+30)+" "+g(s.bounds.y+s.bounds.h)+" "+d(s.bounds.x+s.bounds.w+30)+" "+g(s.bounds.y)+"] ")+" /Parent "+T,s.open&&(l+=" /Open true"),l+=" >>",R.content=l,this.internal.write(L.objId,"0 R",R.objId,"0 R");break;case"freetext":o="/Rect ["+d(s.bounds.x)+" "+g(s.bounds.y)+" "+d(s.bounds.x+s.bounds.w)+" "+g(s.bounds.y+s.bounds.h)+"] ";var z=s.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+w(U(s.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(s.options.name){var D=this.annotations._nameMap[s.options.name];s.options.pageNumber=D.page,s.options.top=D.y}else s.options.top||(s.options.top=0);if(o="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",l="",s.options.url)l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+w(U(s.options.url))+") >>";else if(s.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,l+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var ae=g(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),l+=" /XYZ "+s.options.left+" "+ae+" "+s.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),e.createAnnotation=function(a){var s=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":s.pageContext.annotations.push(a)}},e.link=function(a,s,o,l,d){var g=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;g.pageContext.annotations.push({finalBounds:{x:f(a),y:m(s),w:f(a+o),h:m(s+l)},options:d,type:"link"})},e.textWithLink=function(a,s,o,l){var d,g,f=this.getTextWidth(a),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){g=l.maxWidth;var y=this.splitTextToSize(a,g).length;d=Math.ceil(m*y)}else g=f,d=m;return this.text(a,s,o,l),o+=.2*m,l.align==="center"&&(s-=f/2),l.align==="right"&&(s-=f),this.link(s,o-m,g,d,l),f},e.getTextWidth=function(a){var s=this.internal.getFontSize();return this.getStringUnitWidth(a)*s/this.internal.scaleFactor}}(Ot.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];e.__arabicParser__={};var l=e.__arabicParser__.isInArabicSubstitutionA=function(L){return t[L.charCodeAt(0)]!==void 0},d=e.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},g=e.__arabicParser__.isArabicEndLetter=function(L){return d(L)&&l(L)&&t[L.charCodeAt(0)].length<=2},f=e.__arabicParser__.isArabicAlfLetter=function(L){return d(L)&&o.indexOf(L.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return d(L)&&l(L)&&t[L.charCodeAt(0)].length>=1};var m=e.__arabicParser__.arabicLetterHasFinalForm=function(L){return d(L)&&l(L)&&t[L.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(L){return d(L)&&l(L)&&t[L.charCodeAt(0)].length>=3};var y=e.__arabicParser__.arabicLetterHasMedialForm=function(L){return d(L)&&l(L)&&t[L.charCodeAt(0)].length==4},N=e.__arabicParser__.resolveLigatures=function(L){var R=0,C=a,I="",T=0;for(R=0;R<L.length;R+=1)C[L.charCodeAt(R)]!==void 0?(T++,typeof(C=C[L.charCodeAt(R)])=="number"&&(I+=String.fromCharCode(C),C=a,T=0),R===L.length-1&&(C=a,I+=L.charAt(R-(T-1)),R-=T-1,T=0)):(C=a,I+=L.charAt(R-T),R-=T,T=0);return I};e.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&s[L.charCodeAt(0)]!==void 0};var B=e.__arabicParser__.getCorrectForm=function(L,R,C){return d(L)?l(L)===!1?-1:!m(L)||!d(R)&&!d(C)||!d(C)&&g(R)||g(L)&&!d(R)||g(L)&&f(R)||g(L)&&g(R)?0:y(L)&&d(R)&&!g(R)&&d(C)&&m(C)?3:g(L)||!d(C)?1:2:-1},w=function(L){var R=0,C=0,I=0,T="",z="",D="",ae=(L=L||"").split("\\s+"),X=[];for(R=0;R<ae.length;R+=1){for(X.push(""),C=0;C<ae[R].length;C+=1)T=ae[R][C],z=ae[R][C-1],D=ae[R][C+1],d(T)?(I=B(T,z,D),X[R]+=I!==-1?String.fromCharCode(t[T.charCodeAt(0)][I]):T):X[R]+=T;X[R]=N(X[R])}return X.join(" ")},U=e.__arabicParser__.processArabic=e.processArabic=function(){var L,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(R)){var I=0;for(C=[],I=0;I<R.length;I+=1)Array.isArray(R[I])?C.push([w(R[I][0]),R[I][1],R[I][2]]):C.push([w(R[I])]);L=C}else L=w(R);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};e.events.push(["preProcessText",U])}(Ot.API),Ot.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(g){a=g}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(g){s=isNaN(g)||Number.isInteger(g)===!1||g<0?150:g,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(g){o=isNaN(g)||Number.isInteger(g)===!1||g<0?300:g,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(g){l=g}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(g){d=g}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(a,s){var o;if((a=a||"2d")!=="2d")return null;for(o in s)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=s[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ot.API),function(e){var t={left:0,top:0,bottom:0,right:0},a=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(L){f=L}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(L){m=L}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(L){y=L}});var N=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return N},set:function(L){N=L}});var B=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return B},set:function(L){B=L}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(L){w=L}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(L){U=L}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(f){return s.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},e.getTextDimensions=function(f,m){s.call(this);var y=(m=m||{}).fontSize||this.getFontSize(),N=m.font||this.getFont(),B=m.scaleFactor||this.internal.scaleFactor,w=0,U=0,L=0,R=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var C=m.maxWidth;C>0?typeof f=="string"?f=this.splitTextToSize(f,C):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(T,z){return T.concat(R.splitTextToSize(z,C))},[])):f=Array.isArray(f)?f:[f];for(var I=0;I<f.length;I++)w<(L=this.getStringUnitWidth(f[I],{font:N})*y)&&(w=L);return w!==0&&(U=f.length),{w:w/=B,h:Math.max((U*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/B,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new l(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=e.cell=function(){var f;f=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var m=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,N=this.internal.__cell__.margins||t,B=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===f.lineNumber?(f.x=(m.x||0)+(m.width||0),f.y=m.y||0):m.y+m.height+f.height+N.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=N.top,w&&B&&(this.printHeaderRow(f.lineNumber,!0),f.y+=B[0].height)):f.y=m.y+m.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,a===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};e.table=function(f,m,y,N,B){if(s.call(this),!y)throw new Error("No data for PDF table.");var w,U,L,R,C=[],I=[],T=[],z={},D={},ae=[],X=[],_=(B=B||{}).autoSize||!1,ie=B.printHeaders!==!1,oe=B.css&&B.css["font-size"]!==void 0?16*B.css["font-size"]:B.fontSize||12,W=B.margins||Object.assign({width:this.getPageWidth()},t),$=typeof B.padding=="number"?B.padding:3,Z=B.headerBackgroundColor||"#c8c8c8",J=B.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=ie,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=Z,this.internal.__cell__.headerTextColor=J,this.setFontSize(oe),N==null)I=C=Object.keys(y[0]),T=C.map(function(){return"left"});else if(Array.isArray(N)&&Nr(N[0])==="object")for(C=N.map(function(Ce){return Ce.name}),I=N.map(function(Ce){return Ce.prompt||Ce.name||""}),T=N.map(function(Ce){return Ce.align||"left"}),w=0;w<N.length;w+=1)D[N[w].name]=N[w].width*(19.049976/25.4);else Array.isArray(N)&&typeof N[0]=="string"&&(I=C=N,T=C.map(function(){return"left"}));if(_||Array.isArray(N)&&typeof N[0]=="string")for(w=0;w<C.length;w+=1){for(z[R=C[w]]=y.map(function(Ce){return Ce[R]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(I[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=z[R],this.setFont(void 0,"normal"),L=0;L<U.length;L+=1)ae.push(this.getTextDimensions(U[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[R]=Math.max.apply(null,ae)+$+$,ae=[]}if(ie){var ne={};for(w=0;w<C.length;w+=1)ne[C[w]]={},ne[C[w]].text=I[w],ne[C[w]].align=T[w];var te=g.call(this,ne,D);X=C.map(function(Ce){return new l(f,m,D[Ce],te,ne[Ce].text,void 0,ne[Ce].align)}),this.setTableHeaderRow(X),this.printHeaderRow(1,!1)}var Be=N.reduce(function(Ce,Me){return Ce[Me.name]=Me.align,Ce},{});for(w=0;w<y.length;w+=1){"rowStart"in B&&B.rowStart instanceof Function&&B.rowStart({row:w,data:y[w]},this);var fe=g.call(this,y[w],D);for(L=0;L<C.length;L+=1){var je=y[w][C[L]];"cellStart"in B&&B.cellStart instanceof Function&&B.cellStart({row:w,col:L,data:je},this),d.call(this,new l(f,m,D[C[L]],fe,je,w+2,Be[C[L]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=m,this};var g=function(f,m){var y=this.internal.__cell__.padding,N=this.internal.__cell__.table_font_size,B=this.internal.scaleFactor;return Object.keys(f).map(function(w){var U=f[w];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,m[w]-y-y)},this).map(function(w){return this.getLineHeightFactor()*w.length*N/B+y+y},this).reduce(function(w,U){return Math.max(w,U)},0)};e.setTableHeaderRow=function(f){s.call(this),this.internal.__cell__.tableHeaderRow=f},e.printHeaderRow=function(f,m){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var N=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(N[0],N[1],N[2],N[3],void 0,-1)}this.setFont(void 0,"bold");for(var B=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){y=this.internal.__cell__.tableHeaderRow[w].clone(),m&&(y.y=this.internal.__cell__.margins.top||0,B.push(y)),y.lineNumber=f;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,y),this.setTextColor(U)}B.length>0&&this.setTableHeaderRow(B),this.setFont(void 0,"normal"),a=!1}}(Ot.API);var dB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},uB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ix=AB(uB),hB=[100,200,300,400,500,600,700,800,900],cI=AB(hB);function Px(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),a=function(l){return dB[l=l||"normal"]?l:"normal"}(e.style),s=function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}}(e.weight),o=function(l){return typeof Ix[l=l||"normal"]=="number"?l:"normal"}(e.stretch);return{family:t,style:a,weight:s,stretch:o,src:e.src||[],ref:e.ref||{name:t,style:[o,a,s].join(" ")}}}function Jw(e,t,a,s){var o;for(o=a;o>=0&&o<t.length;o+=s)if(e[t[o]])return e[t[o]];for(o=a;o>=0&&o<t.length;o-=s)if(e[t[o]])return e[t[o]]}var AI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Zw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function e1(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function dI(e,t,a){for(var s=(a=a||{}).defaultFontFamily||"times",o=Object.assign({},AI,a.genericFontFamilies||{}),l=null,d=null,g=0;g<t.length;++g)if(o[(l=Px(t[g])).family]&&(l.family=o[l.family]),e.hasOwnProperty(l.family)){d=e[l.family];break}if(!(d=d||e[s]))throw new Error("Could not find a font-family for the rule '"+e1(l)+"' and default family '"+s+"'.");if(d=function(f,m){if(m[f])return m[f];var y=Ix[f],N=y<=Ix.normal?-1:1,B=Jw(m,uB,y,N);if(!B)throw new Error("Could not find a matching font-stretch value for "+f);return B}(l.stretch,d),d=function(f,m){if(m[f])return m[f];for(var y=dB[f],N=0;N<y.length;++N)if(m[y[N]])return m[y[N]];throw new Error("Could not find a matching font-style for "+f)}(l.style,d),!(d=function(f,m){if(m[f])return m[f];if(f===400&&m[500])return m[500];if(f===500&&m[400])return m[400];var y=cI[f],N=Jw(m,hB,y,f<400?-1:1);if(!N)throw new Error("Could not find a matching font-weight for value "+f);return N}(l.weight,d)))throw new Error("Failed to resolve a font for the rule '"+e1(l)+"'.");return d}function t1(e){return e.trimLeft()}function uI(e,t){for(var a=0;a<e.length;){if(e.charAt(a)===t)return[e.substring(0,a),e.substring(a+1)];a+=1}return null}function hI(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Xh,r1,a1,qp=["times"];(function(e){var t,a,s,o,l,d,g,f,m,y=function(Ae){return Ae=Ae||{},this.isStrokeTransparent=Ae.isStrokeTransparent||!1,this.strokeOpacity=Ae.strokeOpacity||1,this.strokeStyle=Ae.strokeStyle||"#000000",this.fillStyle=Ae.fillStyle||"#000000",this.isFillTransparent=Ae.isFillTransparent||!1,this.fillOpacity=Ae.fillOpacity||1,this.font=Ae.font||"10px sans-serif",this.textBaseline=Ae.textBaseline||"alphabetic",this.textAlign=Ae.textAlign||"left",this.lineWidth=Ae.lineWidth||1,this.lineJoin=Ae.lineJoin||"miter",this.lineCap=Ae.lineCap||"butt",this.path=Ae.path||[],this.transform=Ae.transform!==void 0?Ae.transform.clone():new f,this.globalCompositeOperation=Ae.globalCompositeOperation||"normal",this.globalAlpha=Ae.globalAlpha||1,this.clip_path=Ae.clip_path||[],this.currentPoint=Ae.currentPoint||new d,this.miterLimit=Ae.miterLimit||10,this.lastPoint=Ae.lastPoint||new d,this.lineDashOffset=Ae.lineDashOffset||0,this.lineDash=Ae.lineDash||[],this.margin=Ae.margin||[0,0,0,0],this.prevPageLastElemOffset=Ae.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Ae.ignoreClearRect!="boolean"||Ae.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new N(this),t=this.internal.f2,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,d=this.internal.Point,g=this.internal.Rectangle,f=this.internal.Matrix,m=new y}]);var N=function(Ae){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var he=Ae;Object.defineProperty(this,"pdf",{get:function(){return he}});var ke=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ke},set:function($e){ke=!!$e}});var Le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Le},set:function($e){Le=!!$e}});var Pe=0;Object.defineProperty(this,"posX",{get:function(){return Pe},set:function($e){isNaN($e)||(Pe=$e)}});var Re=0;Object.defineProperty(this,"posY",{get:function(){return Re},set:function($e){isNaN($e)||(Re=$e)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function($e){var be;typeof $e=="number"?be=[$e,$e,$e,$e]:((be=new Array(4))[0]=$e[0],be[1]=$e.length>=2?$e[1]:be[0],be[2]=$e.length>=3?$e[2]:be[0],be[3]=$e.length>=4?$e[3]:be[1]),m.margin=be}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function($e){ve=$e}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function($e){Ee=$e}});var Xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Xe},set:function($e){Xe=$e}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function($e){$e instanceof y&&(m=$e)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function($e){m.path=$e}});var tt=[];Object.defineProperty(this,"ctxStack",{get:function(){return tt},set:function($e){tt=$e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function($e){var be;be=B($e),this.ctx.fillStyle=be.style,this.ctx.isFillTransparent=be.a===0,this.ctx.fillOpacity=be.a,this.pdf.setFillColor(be.r,be.g,be.b,{a:be.a}),this.pdf.setTextColor(be.r,be.g,be.b,{a:be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function($e){var be=B($e);this.ctx.strokeStyle=be.style,this.ctx.isStrokeTransparent=be.a===0,this.ctx.strokeOpacity=be.a,be.a===0?this.pdf.setDrawColor(255,255,255):(be.a,this.pdf.setDrawColor(be.r,be.g,be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function($e){["butt","round","square"].indexOf($e)!==-1&&(this.ctx.lineCap=$e,this.pdf.setLineCap($e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function($e){isNaN($e)||(this.ctx.lineWidth=$e,this.pdf.setLineWidth($e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function($e){["bevel","round","miter"].indexOf($e)!==-1&&(this.ctx.lineJoin=$e,this.pdf.setLineJoin($e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function($e){isNaN($e)||(this.ctx.miterLimit=$e,this.pdf.setMiterLimit($e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function($e){this.ctx.textBaseline=$e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function($e){["right","end","center","left","start"].indexOf($e)!==-1&&(this.ctx.textAlign=$e)}});var He=null;function qe($e,be){if(He===null){var ft=function(ut){var ot=[];return Object.keys(ut).forEach(function(At){ut[At].forEach(function(pt){var ht=null;switch(pt){case"bold":ht={family:At,weight:"bold"};break;case"italic":ht={family:At,style:"italic"};break;case"bolditalic":ht={family:At,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:At}}ht!==null&&(ht.ref={name:At,style:pt},ot.push(ht))})}),ot}($e.getFontList());He=function(ut){for(var ot={},At=0;At<ut.length;++At){var pt=Px(ut[At]),ht=pt.family,Lt=pt.stretch,Mt=pt.style,Vt=pt.weight;ot[ht]=ot[ht]||{},ot[ht][Lt]=ot[ht][Lt]||{},ot[ht][Lt][Mt]=ot[ht][Lt][Mt]||{},ot[ht][Lt][Mt][Vt]=pt}return ot}(ft.concat(be))}return He}var Ft=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ft},set:function($e){He=null,Ft=$e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function($e){var be;if(this.ctx.font=$e,(be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec($e))!==null){var ft=be[1];be[2];var ut=be[3],ot=be[4];be[5];var At=be[6],pt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ot)[2];ot=Math.floor(pt==="px"?parseFloat(ot)*this.pdf.internal.scaleFactor:pt==="em"?parseFloat(ot)*this.pdf.getFontSize():parseFloat(ot)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ot);var ht=function(Pt){var Zt,yt,Ca=[],cr=Pt.trim();if(cr==="")return qp;if(cr in Zw)return[Zw[cr]];for(;cr!=="";){switch(yt=null,Zt=(cr=t1(cr)).charAt(0)){case'"':case"'":yt=uI(cr.substring(1),Zt);break;default:yt=hI(cr)}if(yt===null||(Ca.push(yt[0]),(cr=t1(yt[1]))!==""&&cr.charAt(0)!==","))return qp;cr=cr.replace(/^,/,"")}return Ca}(At);if(this.fontFaces){var Lt=dI(qe(this.pdf,this.fontFaces),ht.map(function(Pt){return{family:Pt,stretch:"normal",weight:ut,style:ft}}));this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var Mt="";(ut==="bold"||parseInt(ut,10)>=700||ft==="bold")&&(Mt="bold"),ft==="italic"&&(Mt+="italic"),Mt.length===0&&(Mt="normal");for(var Vt="",Xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},er=0;er<ht.length;er++){if(this.pdf.internal.getFont(ht[er],Mt,{noFallback:!0,disableWarning:!0})!==void 0){Vt=ht[er];break}if(Mt==="bolditalic"&&this.pdf.internal.getFont(ht[er],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Vt=ht[er],Mt="bold";else if(this.pdf.internal.getFont(ht[er],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Vt=ht[er],Mt="normal";break}}if(Vt===""){for(var ur=0;ur<ht.length;ur++)if(Xt[ht[ur]]){Vt=Xt[ht[ur]];break}}Vt=Vt===""?"Times":Vt,this.pdf.setFont(Vt,Mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function($e){this.ctx.globalCompositeOperation=$e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function($e){this.ctx.globalAlpha=$e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function($e){this.ctx.lineDashOffset=$e,Me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function($e){this.ctx.lineDash=$e,Me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function($e){this.ctx.ignoreClearRect=!!$e}})};N.prototype.setLineDash=function(Ae){this.lineDash=Ae},N.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},N.prototype.fill=function(){z.call(this,"fill",!1)},N.prototype.stroke=function(){z.call(this,"stroke",!1)},N.prototype.beginPath=function(){this.path=[{type:"begin"}]},N.prototype.moveTo=function(Ae,he){if(isNaN(Ae)||isNaN(he))throw Ir.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ke=this.ctx.transform.applyToPoint(new d(Ae,he));this.path.push({type:"mt",x:ke.x,y:ke.y}),this.ctx.lastPoint=new d(Ae,he)},N.prototype.closePath=function(){var Ae=new d(0,0),he=0;for(he=this.path.length-1;he!==-1;he--)if(this.path[he].type==="begin"&&Nr(this.path[he+1])==="object"&&typeof this.path[he+1].x=="number"){Ae=new d(this.path[he+1].x,this.path[he+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(Ae.x,Ae.y)},N.prototype.lineTo=function(Ae,he){if(isNaN(Ae)||isNaN(he))throw Ir.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ke=this.ctx.transform.applyToPoint(new d(Ae,he));this.path.push({type:"lt",x:ke.x,y:ke.y}),this.ctx.lastPoint=new d(ke.x,ke.y)},N.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},N.prototype.quadraticCurveTo=function(Ae,he,ke,Le){if(isNaN(ke)||isNaN(Le)||isNaN(Ae)||isNaN(he))throw Ir.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Pe=this.ctx.transform.applyToPoint(new d(ke,Le)),Re=this.ctx.transform.applyToPoint(new d(Ae,he));this.path.push({type:"qct",x1:Re.x,y1:Re.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new d(Pe.x,Pe.y)},N.prototype.bezierCurveTo=function(Ae,he,ke,Le,Pe,Re){if(isNaN(Pe)||isNaN(Re)||isNaN(Ae)||isNaN(he)||isNaN(ke)||isNaN(Le))throw Ir.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new d(Pe,Re)),Ee=this.ctx.transform.applyToPoint(new d(Ae,he)),Xe=this.ctx.transform.applyToPoint(new d(ke,Le));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:Xe.x,y2:Xe.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new d(ve.x,ve.y)},N.prototype.arc=function(Ae,he,ke,Le,Pe,Re){if(isNaN(Ae)||isNaN(he)||isNaN(ke)||isNaN(Le)||isNaN(Pe))throw Ir.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Re=!!Re,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new d(Ae,he));Ae=ve.x,he=ve.y;var Ee=this.ctx.transform.applyToPoint(new d(0,ke)),Xe=this.ctx.transform.applyToPoint(new d(0,0));ke=Math.sqrt(Math.pow(Ee.x-Xe.x,2)+Math.pow(Ee.y-Xe.y,2))}Math.abs(Pe-Le)>=2*Math.PI&&(Le=0,Pe=2*Math.PI),this.path.push({type:"arc",x:Ae,y:he,radius:ke,startAngle:Le,endAngle:Pe,counterclockwise:Re})},N.prototype.arcTo=function(Ae,he,ke,Le,Pe){throw new Error("arcTo not implemented.")},N.prototype.rect=function(Ae,he,ke,Le){if(isNaN(Ae)||isNaN(he)||isNaN(ke)||isNaN(Le))throw Ir.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ae,he),this.lineTo(Ae+ke,he),this.lineTo(Ae+ke,he+Le),this.lineTo(Ae,he+Le),this.lineTo(Ae,he),this.lineTo(Ae+ke,he),this.lineTo(Ae,he)},N.prototype.fillRect=function(Ae,he,ke,Le){if(isNaN(Ae)||isNaN(he)||isNaN(ke)||isNaN(Le))throw Ir.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var Pe={};this.lineCap!=="butt"&&(Pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ae,he,ke,Le),this.fill(),Pe.hasOwnProperty("lineCap")&&(this.lineCap=Pe.lineCap),Pe.hasOwnProperty("lineJoin")&&(this.lineJoin=Pe.lineJoin)}},N.prototype.strokeRect=function(Ae,he,ke,Le){if(isNaN(Ae)||isNaN(he)||isNaN(ke)||isNaN(Le))throw Ir.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(Ae,he,ke,Le),this.stroke())},N.prototype.clearRect=function(Ae,he,ke,Le){if(isNaN(Ae)||isNaN(he)||isNaN(ke)||isNaN(Le))throw Ir.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ae,he,ke,Le))},N.prototype.save=function(Ae){Ae=typeof Ae!="boolean"||Ae;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,ke=0;ke<this.pdf.internal.getNumberOfPages();ke++)this.pdf.setPage(ke+1),this.pdf.internal.out("q");if(this.pdf.setPage(he),Ae){this.ctx.fontSize=this.pdf.internal.getFontSize();var Le=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Le}},N.prototype.restore=function(Ae){Ae=typeof Ae!="boolean"||Ae;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,ke=0;ke<this.pdf.internal.getNumberOfPages();ke++)this.pdf.setPage(ke+1),this.pdf.internal.out("Q");this.pdf.setPage(he),Ae&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},N.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var B=function(Ae){var he,ke,Le,Pe;if(Ae.isCanvasGradient===!0&&(Ae=Ae.getColor()),!Ae)return{r:0,g:0,b:0,a:0,style:Ae};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ae))he=0,ke=0,Le=0,Pe=0;else{var Re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ae);if(Re!==null)he=parseInt(Re[1]),ke=parseInt(Re[2]),Le=parseInt(Re[3]),Pe=1;else if((Re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ae))!==null)he=parseInt(Re[1]),ke=parseInt(Re[2]),Le=parseInt(Re[3]),Pe=parseFloat(Re[4]);else{if(Pe=1,typeof Ae=="string"&&Ae.charAt(0)!=="#"){var ve=new sB(Ae);Ae=ve.ok?ve.toHex():"#000000"}Ae.length===4?(he=Ae.substring(1,2),he+=he,ke=Ae.substring(2,3),ke+=ke,Le=Ae.substring(3,4),Le+=Le):(he=Ae.substring(1,3),ke=Ae.substring(3,5),Le=Ae.substring(5,7)),he=parseInt(he,16),ke=parseInt(ke,16),Le=parseInt(Le,16)}}return{r:he,g:ke,b:Le,a:Pe,style:Ae}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},U=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};N.prototype.fillText=function(Ae,he,ke,Le){if(isNaN(he)||isNaN(ke)||typeof Ae!="string")throw Ir.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Le=isNaN(Le)?void 0:Le,!w.call(this)){var Pe=fe(this.ctx.transform.rotation),Re=this.ctx.transform.scaleX;$.call(this,{text:Ae,x:he,y:ke,scale:Re,angle:Pe,align:this.textAlign,maxWidth:Le})}},N.prototype.strokeText=function(Ae,he,ke,Le){if(isNaN(he)||isNaN(ke)||typeof Ae!="string")throw Ir.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){Le=isNaN(Le)?void 0:Le;var Pe=fe(this.ctx.transform.rotation),Re=this.ctx.transform.scaleX;$.call(this,{text:Ae,x:he,y:ke,scale:Re,renderingMode:"stroke",angle:Pe,align:this.textAlign,maxWidth:Le})}},N.prototype.measureText=function(Ae){if(typeof Ae!="string")throw Ir.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var he=this.pdf,ke=this.pdf.internal.scaleFactor,Le=he.internal.getFontSize(),Pe=he.getStringUnitWidth(Ae)*Le/he.internal.scaleFactor,Re=function(ve){var Ee=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this};return new Re({width:Pe*=Math.round(96*ke/72*1e4)/1e4})},N.prototype.scale=function(Ae,he){if(isNaN(Ae)||isNaN(he))throw Ir.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ke=new f(Ae,0,0,he,0,0);this.ctx.transform=this.ctx.transform.multiply(ke)},N.prototype.rotate=function(Ae){if(isNaN(Ae))throw Ir.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var he=new f(Math.cos(Ae),Math.sin(Ae),-Math.sin(Ae),Math.cos(Ae),0,0);this.ctx.transform=this.ctx.transform.multiply(he)},N.prototype.translate=function(Ae,he){if(isNaN(Ae)||isNaN(he))throw Ir.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ke=new f(1,0,0,1,Ae,he);this.ctx.transform=this.ctx.transform.multiply(ke)},N.prototype.transform=function(Ae,he,ke,Le,Pe,Re){if(isNaN(Ae)||isNaN(he)||isNaN(ke)||isNaN(Le)||isNaN(Pe)||isNaN(Re))throw Ir.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new f(Ae,he,ke,Le,Pe,Re);this.ctx.transform=this.ctx.transform.multiply(ve)},N.prototype.setTransform=function(Ae,he,ke,Le,Pe,Re){Ae=isNaN(Ae)?1:Ae,he=isNaN(he)?0:he,ke=isNaN(ke)?0:ke,Le=isNaN(Le)?1:Le,Pe=isNaN(Pe)?0:Pe,Re=isNaN(Re)?0:Re,this.ctx.transform=new f(Ae,he,ke,Le,Pe,Re)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};N.prototype.drawImage=function(Ae,he,ke,Le,Pe,Re,ve,Ee,Xe){var tt=this.pdf.getImageProperties(Ae),He=1,qe=1,Ft=1,$e=1;Le!==void 0&&Ee!==void 0&&(Ft=Ee/Le,$e=Xe/Pe,He=tt.width/Le*Ee/Le,qe=tt.height/Pe*Xe/Pe),Re===void 0&&(Re=he,ve=ke,he=0,ke=0),Le!==void 0&&Ee===void 0&&(Ee=Le,Xe=Pe),Le===void 0&&Ee===void 0&&(Ee=tt.width,Xe=tt.height);for(var be,ft=this.ctx.transform.decompose(),ut=fe(ft.rotate.shx),ot=new f,At=(ot=(ot=(ot=ot.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new g(Re-he*Ft,ve-ke*$e,Le*He,Pe*qe)),pt=R.call(this,At),ht=[],Lt=0;Lt<pt.length;Lt+=1)ht.indexOf(pt[Lt])===-1&&ht.push(pt[Lt]);if(T(ht),this.autoPaging)for(var Mt=ht[0],Vt=ht[ht.length-1],Xt=Mt;Xt<Vt+1;Xt++){this.pdf.setPage(Xt);var er=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ur=Xt===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=Xt===1?0:Pt+(Xt-2)*Zt;if(this.ctx.clip_path.length!==0){var Ca=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(be,this.posX+this.margin[3],-yt+ur+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Ca}var cr=JSON.parse(JSON.stringify(At));cr=I([cr],this.posX+this.margin[3],-yt+ur+this.ctx.prevPageLastElemOffset)[0];var js=(Xt>Mt||Xt<Vt)&&L.call(this);js&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],er,Zt,null).clip().discardPath()),this.pdf.addImage(Ae,"JPEG",cr.x,cr.y,cr.w,cr.h,null,null,ut),js&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Ae,"JPEG",At.x,At.y,At.w,At.h,null,null,ut)};var R=function(Ae,he,ke){var Le=[];he=he||this.pdf.internal.pageSize.width,ke=ke||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Pe=this.posY+this.ctx.prevPageLastElemOffset;switch(Ae.type){default:case"mt":case"lt":Le.push(Math.floor((Ae.y+Pe)/ke)+1);break;case"arc":Le.push(Math.floor((Ae.y+Pe-Ae.radius)/ke)+1),Le.push(Math.floor((Ae.y+Pe+Ae.radius)/ke)+1);break;case"qct":var Re=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ae.x1,Ae.y1,Ae.x,Ae.y);Le.push(Math.floor((Re.y+Pe)/ke)+1),Le.push(Math.floor((Re.y+Re.h+Pe)/ke)+1);break;case"bct":var ve=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ae.x1,Ae.y1,Ae.x2,Ae.y2,Ae.x,Ae.y);Le.push(Math.floor((ve.y+Pe)/ke)+1),Le.push(Math.floor((ve.y+ve.h+Pe)/ke)+1);break;case"rect":Le.push(Math.floor((Ae.y+Pe)/ke)+1),Le.push(Math.floor((Ae.y+Ae.h+Pe)/ke)+1)}for(var Ee=0;Ee<Le.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<Le[Ee];)C.call(this);return Le},C=function(){var Ae=this.fillStyle,he=this.strokeStyle,ke=this.font,Le=this.lineCap,Pe=this.lineWidth,Re=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ae,this.strokeStyle=he,this.font=ke,this.lineCap=Le,this.lineWidth=Pe,this.lineJoin=Re},I=function(Ae,he,ke){for(var Le=0;Le<Ae.length;Le++)switch(Ae[Le].type){case"bct":Ae[Le].x2+=he,Ae[Le].y2+=ke;case"qct":Ae[Le].x1+=he,Ae[Le].y1+=ke;case"mt":case"lt":case"arc":default:Ae[Le].x+=he,Ae[Le].y+=ke}return Ae},T=function(Ae){return Ae.sort(function(he,ke){return he-ke})},z=function(Ae,he){for(var ke,Le,Pe=this.fillStyle,Re=this.strokeStyle,ve=this.lineCap,Ee=this.lineWidth,Xe=Math.abs(Ee*this.ctx.transform.scaleX),tt=this.lineJoin,He=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),Ft=[],$e=0;$e<qe.length;$e++)if(qe[$e].x!==void 0)for(var be=R.call(this,qe[$e]),ft=0;ft<be.length;ft+=1)Ft.indexOf(be[ft])===-1&&Ft.push(be[ft]);for(var ut=0;ut<Ft.length;ut++)for(;this.pdf.internal.getNumberOfPages()<Ft[ut];)C.call(this);if(T(Ft),this.autoPaging)for(var ot=Ft[0],At=Ft[Ft.length-1],pt=ot;pt<At+1;pt++){this.pdf.setPage(pt),this.fillStyle=Pe,this.strokeStyle=Re,this.lineCap=ve,this.lineWidth=Xe,this.lineJoin=tt;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=pt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xt=pt===1?0:Mt+(pt-2)*Vt;if(this.ctx.clip_path.length!==0){var er=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(ke,this.posX+this.margin[3],-Xt+Lt+this.ctx.prevPageLastElemOffset),D.call(this,Ae,!0),this.path=er}if(Le=JSON.parse(JSON.stringify(He)),this.path=I(Le,this.posX+this.margin[3],-Xt+Lt+this.ctx.prevPageLastElemOffset),he===!1||pt===0){var ur=(pt>ot||pt<At)&&L.call(this);ur&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Vt,null).clip().discardPath()),D.call(this,Ae,he),ur&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=Xe,D.call(this,Ae,he),this.lineWidth=Ee;this.path=He},D=function(Ae,he){if((Ae!=="stroke"||he||!U.call(this))&&(Ae==="stroke"||he||!w.call(this))){for(var ke,Le,Pe=[],Re=this.path,ve=0;ve<Re.length;ve++){var Ee=Re[ve];switch(Ee.type){case"begin":Pe.push({begin:!0});break;case"close":Pe.push({close:!0});break;case"mt":Pe.push({start:Ee,deltas:[],abs:[]});break;case"lt":var Xe=Pe.length;if(Re[ve-1]&&!isNaN(Re[ve-1].x)&&(ke=[Ee.x-Re[ve-1].x,Ee.y-Re[ve-1].y],Xe>0)){for(;Xe>=0;Xe--)if(Pe[Xe-1].close!==!0&&Pe[Xe-1].begin!==!0){Pe[Xe-1].deltas.push(ke),Pe[Xe-1].abs.push(Ee);break}}break;case"bct":ke=[Ee.x1-Re[ve-1].x,Ee.y1-Re[ve-1].y,Ee.x2-Re[ve-1].x,Ee.y2-Re[ve-1].y,Ee.x-Re[ve-1].x,Ee.y-Re[ve-1].y],Pe[Pe.length-1].deltas.push(ke);break;case"qct":var tt=Re[ve-1].x+2/3*(Ee.x1-Re[ve-1].x),He=Re[ve-1].y+2/3*(Ee.y1-Re[ve-1].y),qe=Ee.x+2/3*(Ee.x1-Ee.x),Ft=Ee.y+2/3*(Ee.y1-Ee.y),$e=Ee.x,be=Ee.y;ke=[tt-Re[ve-1].x,He-Re[ve-1].y,qe-Re[ve-1].x,Ft-Re[ve-1].y,$e-Re[ve-1].x,be-Re[ve-1].y],Pe[Pe.length-1].deltas.push(ke);break;case"arc":Pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(Pe[Pe.length-1].abs)&&Pe[Pe.length-1].abs.push(Ee)}}Le=he?null:Ae==="stroke"?"stroke":"fill";for(var ft=!1,ut=0;ut<Pe.length;ut++)if(Pe[ut].arc)for(var ot=Pe[ut].abs,At=0;At<ot.length;At++){var pt=ot[At];pt.type==="arc"?_.call(this,pt.x,pt.y,pt.radius,pt.startAngle,pt.endAngle,pt.counterclockwise,void 0,he,!ft):Z.call(this,pt.x,pt.y),ft=!0}else if(Pe[ut].close===!0)this.pdf.internal.out("h"),ft=!1;else if(Pe[ut].begin!==!0){var ht=Pe[ut].start.x,Lt=Pe[ut].start.y;J.call(this,Pe[ut].deltas,ht,Lt),ft=!0}Le&&ie.call(this,Le),he&&oe.call(this)}},ae=function(Ae){var he=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ke=he*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ae-ke;case"top":return Ae+he-ke;case"hanging":return Ae+he-2*ke;case"middle":return Ae+he/2-ke;case"ideographic":return Ae;case"alphabetic":default:return Ae}},X=function(Ae){return Ae+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};N.prototype.createLinearGradient=function(){var Ae=function(){};return Ae.colorStops=[],Ae.addColorStop=function(he,ke){this.colorStops.push([he,ke])},Ae.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Ae.isCanvasGradient=!0,Ae},N.prototype.createPattern=function(){return this.createLinearGradient()},N.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(Ae,he,ke,Le,Pe,Re,ve,Ee,Xe){for(var tt=te.call(this,ke,Le,Pe,Re),He=0;He<tt.length;He++){var qe=tt[He];He===0&&(Xe?W.call(this,qe.x1+Ae,qe.y1+he):Z.call(this,qe.x1+Ae,qe.y1+he)),ne.call(this,Ae,he,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}Ee?oe.call(this):ie.call(this,ve)},ie=function(Ae){switch(Ae){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(Ae,he){this.pdf.internal.out(a(Ae)+" "+s(he)+" m")},$=function(Ae){var he;switch(Ae.align){case"right":case"end":he="right";break;case"center":he="center";break;case"left":case"start":default:he="left"}var ke=this.pdf.getTextDimensions(Ae.text),Le=ae.call(this,Ae.y),Pe=X.call(this,Le)-ke.h,Re=this.ctx.transform.applyToPoint(new d(Ae.x,Le)),ve=this.ctx.transform.decompose(),Ee=new f;Ee=(Ee=(Ee=Ee.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var Xe,tt,He,qe=this.ctx.transform.applyToRectangle(new g(Ae.x,Le,ke.w,ke.h)),Ft=Ee.applyToRectangle(new g(Ae.x,Pe,ke.w,ke.h)),$e=R.call(this,Ft),be=[],ft=0;ft<$e.length;ft+=1)be.indexOf($e[ft])===-1&&be.push($e[ft]);if(T(be),this.autoPaging)for(var ut=be[0],ot=be[be.length-1],At=ut;At<ot+1;At++){this.pdf.setPage(At);var pt=At===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[2],Mt=Lt-this.margin[0],Vt=this.pdf.internal.pageSize.width-this.margin[1],Xt=Vt-this.margin[3],er=At===1?0:ht+(At-2)*Mt;if(this.ctx.clip_path.length!==0){var ur=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Xe,this.posX+this.margin[3],-1*er+pt),D.call(this,"fill",!0),this.path=ur}var Pt=I([JSON.parse(JSON.stringify(Ft))],this.posX+this.margin[3],-er+pt+this.ctx.prevPageLastElemOffset)[0];Ae.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*Ae.scale),He=this.lineWidth,this.lineWidth=He*Ae.scale);var Zt=this.autoPaging!=="text";if(Zt||Pt.y+Pt.h<=Lt){if(Zt||Pt.y>=pt&&Pt.x<=Vt){var yt=Zt?Ae.text:this.pdf.splitTextToSize(Ae.text,Ae.maxWidth||Vt-Pt.x)[0],Ca=I([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-er+pt+this.ctx.prevPageLastElemOffset)[0],cr=Zt&&(At>ut||At<ot)&&L.call(this);cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Mt,null).clip().discardPath()),this.pdf.text(yt,Ca.x,Ca.y,{angle:Ae.angle,align:he,renderingMode:Ae.renderingMode}),cr&&this.pdf.restoreGraphicsState()}}else Pt.y<Lt&&(this.ctx.prevPageLastElemOffset+=Lt-Pt.y);Ae.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=He)}else Ae.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*Ae.scale),He=this.lineWidth,this.lineWidth=He*Ae.scale),this.pdf.text(Ae.text,Re.x+this.posX,Re.y+this.posY,{angle:Ae.angle,align:he,renderingMode:Ae.renderingMode,maxWidth:Ae.maxWidth}),Ae.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=He)},Z=function(Ae,he,ke,Le){ke=ke||0,Le=Le||0,this.pdf.internal.out(a(Ae+ke)+" "+s(he+Le)+" l")},J=function(Ae,he,ke){return this.pdf.lines(Ae,he,ke,null,null)},ne=function(Ae,he,ke,Le,Pe,Re,ve,Ee){this.pdf.internal.out([t(o(ke+Ae)),t(l(Le+he)),t(o(Pe+Ae)),t(l(Re+he)),t(o(ve+Ae)),t(l(Ee+he)),"c"].join(" "))},te=function(Ae,he,ke,Le){for(var Pe=2*Math.PI,Re=Math.PI/2;he>ke;)he-=Pe;var ve=Math.abs(ke-he);ve<Pe&&Le&&(ve=Pe-ve);for(var Ee=[],Xe=Le?-1:1,tt=he;ve>1e-5;){var He=tt+Xe*Math.min(ve,Re);Ee.push(Be.call(this,Ae,tt,He)),ve-=Math.abs(He-tt),tt=He}return Ee},Be=function(Ae,he,ke){var Le=(ke-he)/2,Pe=Ae*Math.cos(Le),Re=Ae*Math.sin(Le),ve=Pe,Ee=-Re,Xe=ve*ve+Ee*Ee,tt=Xe+ve*Pe+Ee*Re,He=4/3*(Math.sqrt(2*Xe*tt)-tt)/(ve*Re-Ee*Pe),qe=ve-He*Ee,Ft=Ee+He*ve,$e=qe,be=-Ft,ft=Le+he,ut=Math.cos(ft),ot=Math.sin(ft);return{x1:Ae*Math.cos(he),y1:Ae*Math.sin(he),x2:qe*ut-Ft*ot,y2:qe*ot+Ft*ut,x3:$e*ut-be*ot,y3:$e*ot+be*ut,x4:Ae*Math.cos(ke),y4:Ae*Math.sin(ke)}},fe=function(Ae){return 180*Ae/Math.PI},je=function(Ae,he,ke,Le,Pe,Re){var ve=Ae+.5*(ke-Ae),Ee=he+.5*(Le-he),Xe=Pe+.5*(ke-Pe),tt=Re+.5*(Le-Re),He=Math.min(Ae,Pe,ve,Xe),qe=Math.max(Ae,Pe,ve,Xe),Ft=Math.min(he,Re,Ee,tt),$e=Math.max(he,Re,Ee,tt);return new g(He,Ft,qe-He,$e-Ft)},Ce=function(Ae,he,ke,Le,Pe,Re,ve,Ee){var Xe,tt,He,qe,Ft,$e,be,ft,ut,ot,At,pt,ht,Lt,Mt=ke-Ae,Vt=Le-he,Xt=Pe-ke,er=Re-Le,ur=ve-Pe,Pt=Ee-Re;for(tt=0;tt<41;tt++)ut=(be=(He=Ae+(Xe=tt/40)*Mt)+Xe*((Ft=ke+Xe*Xt)-He))+Xe*(Ft+Xe*(Pe+Xe*ur-Ft)-be),ot=(ft=(qe=he+Xe*Vt)+Xe*(($e=Le+Xe*er)-qe))+Xe*($e+Xe*(Re+Xe*Pt-$e)-ft),tt==0?(At=ut,pt=ot,ht=ut,Lt=ot):(At=Math.min(At,ut),pt=Math.min(pt,ot),ht=Math.max(ht,ut),Lt=Math.max(Lt,ot));return new g(Math.round(At),Math.round(pt),Math.round(ht-At),Math.round(Lt-pt))},Me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ae,he,ke=(Ae=this.ctx.lineDash,he=this.ctx.lineDashOffset,JSON.stringify({lineDash:Ae,lineDashOffset:he}));this.prevLineDash!==ke&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ke)}}})(Ot.API),function(e){var t=function(l){var d,g,f,m,y,N,B,w,U,L;for(g=[],f=0,m=(l+=d="\0\0\0\0".slice(l.length%4||4)).length;m>f;f+=4)(y=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(N=(y=((y=((y=((y=(y-(L=y%85))/85)-(U=y%85))/85)-(w=y%85))/85)-(B=y%85))/85)%85,g.push(N+33,B+33,w+33,U+33,L+33)):g.push(122);return function(R,C){for(var I=C;I>0;I--)R.pop()}(g,d.length),String.fromCharCode.apply(String,g)+"~>"},a=function(l){var d,g,f,m,y,N=String,B="length",w=255,U="charCodeAt",L="slice",R="replace";for(l[L](-2),l=l[L](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),f=[],m=0,y=(l+=d="uuuuu"[L](l[B]%5||5))[B];y>m;m+=5)g=52200625*(l[U](m)-33)+614125*(l[U](m+1)-33)+7225*(l[U](m+2)-33)+85*(l[U](m+3)-33)+(l[U](m+4)-33),f.push(w&g>>24,w&g>>16,w&g>>8,w&g);return function(C,I){for(var T=I;T>0;T--)C.pop()}(f,d[B]),N.fromCharCode.apply(N,f)},s=function(l){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),d.test(l)===!1)return"";for(var g="",f=0;f<l.length;f+=2)g+=String.fromCharCode("0x"+(l[f]+l[f+1]));return g},o=function(l){for(var d=new Uint8Array(l.length),g=l.length;g--;)d[g]=l.charCodeAt(g);return l=(d=jx(d)).reduce(function(f,m){return f+String.fromCharCode(m)},"")};e.processDataByFilters=function(l,d){var g=0,f=l||"",m=[];for(typeof(d=d||[])=="string"&&(d=[d]),g=0;g<d.length;g+=1)switch(d[g]){case"ASCII85Decode":case"/ASCII85Decode":f=a(f),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=s(f),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map(function(y){return("0"+y.charCodeAt().toString(16)).slice(-2)}).join("")+">",m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[g]+'" is not implemented')}return{data:f,reverseChain:m.reverse().join(" ")}}}(Ot.API),function(e){e.loadFile=function(t,a,s){return function(o,l,d){l=l!==!1,d=typeof d=="function"?d:function(){};var g=void 0;try{g=function(f,m,y){var N=new XMLHttpRequest,B=0,w=function(U){var L=U.length,R=[],C=String.fromCharCode;for(B=0;B<L;B+=1)R.push(C(255&U.charCodeAt(B)));return R.join("")};if(N.open("GET",f,!m),N.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(N.onload=function(){N.status===200?y(w(this.responseText)):y(void 0)}),N.send(null),m&&N.status===200)return w(N.responseText)}(o,l,d)}catch{}return g}(t,a,s)},e.loadImageFile=e.loadFile}(Ot.API),function(e){function t(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):Gl(()=>Promise.resolve().then(()=>rR),void 0)).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function a(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):Gl(()=>import("./purify.es-31816194.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var s=function(d){var g=Nr(d);return g==="undefined"?"undefined":g==="string"||d instanceof String?"string":g==="number"||d instanceof Number?"number":g==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":g==="object"?"object":"unknown"},o=function(d,g){var f=document.createElement(d);for(var m in g.className&&(f.className=g.className),g.innerHTML&&g.dompurify&&(f.innerHTML=g.dompurify.sanitize(g.innerHTML)),g.style)f.style[m]=g.style[m];return f},l=function d(g){var f=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),m=d.convert(Promise.resolve(),f);return m=(m=m.setProgress(1,d,1,[d])).set(g)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(d,g){return d.__proto__=g||l.prototype,d},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(d,g){return this.then(function(){switch(g=g||function(f){switch(s(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d)){case"string":return this.then(a).then(function(f){return this.set({src:o("div",{innerHTML:d,dompurify:f})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},l.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},g=function f(m,y){for(var N=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),B=m.firstChild;B;B=B.nextSibling)y!==!0&&B.nodeType===1&&B.nodeName==="SCRIPT"||N.appendChild(f(B,y));return m.nodeType===1&&(m.nodeName==="CANVAS"?(N.width=m.width,N.height=m.height,N.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(N.value=m.value),N.addEventListener("load",function(){N.scrollTop=m.scrollTop,N.scrollLeft=m.scrollLeft},!0)),N}(this.prop.src,this.opt.html2canvas.javascriptEnabled);g.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(g),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(t).then(function(g){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,g(this.prop.container,f)}).then(function(g){(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(t).then(function(g){var f=this.opt.jsPDF,m=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=m,m)for(var B=0;B<m.length;++B){var w=m[B],U=w.src.find(function(L){return L.format==="truetype"});U&&f.addFont(U.url,w.ref.name,w.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=N.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,f.context2d.save(!0),g(this.prop.container,N)}).then(function(g){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(d,g,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(d,g):this.outputPdf(d,g)},l.prototype.outputPdf=function(d,g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,g)})},l.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},l.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(d){if(s(d)!=="object")return this;var g=Object.keys(d||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=d[f]};switch(f){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[f]=d[f]}}},this);return this.then(function(){return this.thenList(g)})},l.prototype.get=function(d,g){return this.then(function(){var f=d in l.template.prop?this.prop[d]:this.opt[d];return g?g(f):f})},l.prototype.setMargin=function(d){return this.then(function(){switch(s(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},l.prototype.setPageSize=function(d){function g(f,m){return Math.floor(f*m/72*96)}return this.then(function(){(d=d||Ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:g(d.inner.width,d.k),height:g(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},l.prototype.setProgress=function(d,g,f,m){return d!=null&&(this.progress.val=d),g!=null&&(this.progress.state=g),f!=null&&(this.progress.n=f),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(d,g,f,m){return this.setProgress(d?this.progress.val+d:null,g||null,f?this.progress.n+f:null,m?this.progress.stack.concat(m):null)},l.prototype.then=function(d,g){var f=this;return this.thenCore(d,g,function(m,y){return f.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(N){return f.updateProgress(null,m),N}).then(m,y).then(function(N){return f.updateProgress(1),N})})},l.prototype.thenCore=function(d,g,f){f=f||Promise.prototype.then,d&&(d=d.bind(this)),g&&(g=g.bind(this));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),y=f.call(m,d,g);return l.convert(y,this.__proto__)},l.prototype.thenExternal=function(d,g){return Promise.prototype.then.call(this,d,g)},l.prototype.thenList=function(d){var g=this;return d.forEach(function(f){g=g.thenCore(f)}),g},l.prototype.catch=function(d){d&&(d=d.bind(this));var g=Promise.prototype.catch.call(this,d);return l.convert(g,this)},l.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},l.prototype.error=function(d){return this.then(function(){throw new Error(d)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Ot.getPageSize=function(d,g,f){if(Nr(d)==="object"){var m=d;d=m.orientation,g=m.unit||g,f=m.format||f}g=g||"mm",f=f||"a4",d=(""+(d||"P")).toLowerCase();var y,N=(""+f).toLowerCase(),B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+g}var w,U=0,L=0;if(B.hasOwnProperty(N))U=B[N][1]/y,L=B[N][0]/y;else try{U=f[1],L=f[0]}catch{throw new Error("Invalid format: "+f)}if(d==="p"||d==="portrait")d="p",L>U&&(w=L,L=U,U=w);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",U>L&&(w=L,L=U,U=w)}return{width:L,height:U,unit:g,k:y,orientation:d}},e.html=function(d,g){(g=g||{}).callback=g.callback||function(){},g.html2canvas=g.html2canvas||{},g.html2canvas.canvas=g.html2canvas.canvas||this.canvas,g.jsPDF=g.jsPDF||this,g.fontFaces=g.fontFaces?g.fontFaces.map(Px):null;var f=new l(g);return g.worker?f:f.from(d).doCallback()}}(Ot.API),Ot.API.addJS=function(e){return a1=e,this.internal.events.subscribe("postPutResources",function(){Xh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xh!==void 0&&r1!==void 0&&this.internal.out("/Names <</JavaScript "+Xh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var a=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=a.outline.render().split(/\r\n/),l=0;l<o.length;l++){var d=o[l],g=s.exec(d);if(g!=null){var f=g[1];a.internal.newObjectDeferredBegin(f,!1)}a.internal.write(d)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,y=[];for(l=0;l<m;l++){var N=a.internal.newObject();y.push(N);var B=a.internal.getPageInfo(l+1);a.internal.write("<< /D["+B.objId+" 0 R /XYZ null null null]>> endobj")}var w=a.internal.newObject();for(a.internal.write("<< /Names [ "),l=0;l<y.length;l++)a.internal.write("(page_"+(l+1)+")"+y[l]+" 0 R");a.internal.write(" ] >>","endobj"),t=a.internal.newObject(),a.internal.write("<< /Dests "+w+" 0 R"),a.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(s,o,l){var d={title:o,options:l,children:[]};return s==null&&(s=this.root),s.children.push(d),d},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(s){s.id=a.internal.newObjectDeferred();for(var o=0;o<s.children.length;o++)this.genIds_r(s.children[o])},a.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},a.outline.renderItems=function(s){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<s.children.length;l++){var d=s.children[l];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(s)),l>0&&this.line("/Prev "+this.makeRef(s.children[l-1])),l<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[l+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var g=this.count=this.count_r({count:0},d);if(g>0&&this.line("/Count "+g),d.options&&d.options.pageNumber){var f=a.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var m=0;m<s.children.length;m++)this.renderItems(s.children[m])},a.outline.line=function(s){this.ctx.val+=s+`\r
`},a.outline.makeRef=function(s){return s.id+" 0 R"},a.outline.makeString=function(s){return"("+a.internal.pdfEscape(s)+")"},a.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(s,o){for(var l=0;l<o.children.length;l++)s.count++,this.count_r(s,o.children[l]);return s.count}}])}(Ot.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(a,s,o,l,d,g){var f,m=this.decode.DCT_DECODE,y=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=d||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,(f=function(N){for(var B,w=256*N.charCodeAt(4)+N.charCodeAt(5),U=N.length,L={width:0,height:0,numcomponents:1},R=4;R<U;R+=2){if(R+=w,t.indexOf(N.charCodeAt(R+1))!==-1){B=256*N.charCodeAt(R+5)+N.charCodeAt(R+6),L={width:256*N.charCodeAt(R+7)+N.charCodeAt(R+8),height:B,numcomponents:N.charCodeAt(R+9)};break}w=256*N.charCodeAt(R+2)+N.charCodeAt(R+3)}return L}(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a)).numcomponents){case 1:g=this.color_spaces.DEVICE_GRAY;break;case 4:g=this.color_spaces.DEVICE_CMYK;break;case 3:g=this.color_spaces.DEVICE_RGB}y={data:a,width:f.width,height:f.height,colorSpace:g,bitsPerComponent:8,filter:m,index:s,alias:o}}return y}}(Ot.API);var Qc,Kh,s1,n1,i1,gI=function(){var e,t,a;function s(l){var d,g,f,m,y,N,B,w,U,L,R,C,I,T;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},N=null;;){switch(d=this.readUInt32(),U=(function(){var z,D;for(D=[],z=0;z<4;++z)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":N&&this.animation.frames.push(N),this.pos+=4,N={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},y=this.readUInt16(),m=this.readUInt16()||100,N.delay=1e3*y/m,N.disposeOp=this.data[this.pos++],N.blendOp=this.data[this.pos++],N.data=[];break;case"IDAT":case"fdAT":for(U==="fdAT"&&(this.pos+=4,d-=4),l=(N!=null?N.data:void 0)||this.imgData,C=0;0<=d?C<d:C>d;0<=d?++C:--C)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(d),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((L=f-this.transparency.indexed.length)>0)for(I=0;0<=L?I<L:I>L;0<=L?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":B=(R=this.read(d)).indexOf(0),w=String.fromCharCode.apply(String,R.slice(0,B)),this.text[w]=String.fromCharCode.apply(String,R.slice(B+1));break;case"IEND":return N&&this.animation.frames.push(N),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,g=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*g,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(l){var d,g;for(g=[],d=0;0<=l?d<l:d>l;0<=l?++d:--d)g.push(this.data[this.pos++]);return g},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(l){var d=this.pixelBitlength/8,g=new Uint8Array(this.width*this.height*d),f=0,m=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function y(N,B,w,U){var L,R,C,I,T,z,D,ae,X,_,ie,oe,W,$,Z,J,ne,te,Be,fe,je,Ce=Math.ceil((m.width-N)/w),Me=Math.ceil((m.height-B)/U),Ae=m.width==Ce&&m.height==Me;for($=d*Ce,oe=Ae?g:new Uint8Array($*Me),z=l.length,W=0,R=0;W<Me&&f<z;){switch(l[f++]){case 0:for(I=ne=0;ne<$;I=ne+=1)oe[R++]=l[f++];break;case 1:for(I=te=0;te<$;I=te+=1)L=l[f++],T=I<d?0:oe[R-d],oe[R++]=(L+T)%256;break;case 2:for(I=Be=0;Be<$;I=Be+=1)L=l[f++],C=(I-I%d)/d,Z=W&&oe[(W-1)*$+C*d+I%d],oe[R++]=(Z+L)%256;break;case 3:for(I=fe=0;fe<$;I=fe+=1)L=l[f++],C=(I-I%d)/d,T=I<d?0:oe[R-d],Z=W&&oe[(W-1)*$+C*d+I%d],oe[R++]=(L+Math.floor((T+Z)/2))%256;break;case 4:for(I=je=0;je<$;I=je+=1)L=l[f++],C=(I-I%d)/d,T=I<d?0:oe[R-d],W===0?Z=J=0:(Z=oe[(W-1)*$+C*d+I%d],J=C&&oe[(W-1)*$+(C-1)*d+I%d]),D=T+Z-J,ae=Math.abs(D-T),_=Math.abs(D-Z),ie=Math.abs(D-J),X=ae<=_&&ae<=ie?T:_<=ie?Z:J,oe[R++]=(L+X)%256;break;default:throw new Error("Invalid filter algorithm: "+l[f-1])}if(!Ae){var he=((B+W*U)*m.width+N)*d,ke=W*$;for(I=0;I<Ce;I+=1){for(var Le=0;Le<d;Le+=1)g[he++]=oe[ke++];he+=(w-1)*d}}W++}}return l=qL(l),m.interlaceMethod==1?(y(0,0,8,8),y(4,0,8,8),y(0,4,4,8),y(2,0,4,4),y(0,2,2,4),y(1,0,2,2),y(0,1,1,2)):y(0,0,1,1),g},s.prototype.decodePalette=function(){var l,d,g,f,m,y,N,B,w;for(g=this.palette,y=this.transparency.indexed||[],m=new Uint8Array((y.length||0)+g.length),f=0,l=0,d=N=0,B=g.length;N<B;d=N+=3)m[f++]=g[d],m[f++]=g[d+1],m[f++]=g[d+2],m[f++]=(w=y[l++])!=null?w:255;return m},s.prototype.copyToImageData=function(l,d){var g,f,m,y,N,B,w,U,L,R,C;if(f=this.colors,L=null,g=this.hasAlphaChannel,this.palette.length&&(L=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),f=4,g=!0),U=(m=l.data||l).length,N=L||d,y=B=0,f===1)for(;y<U;)w=L?4*d[y/4]:B,R=N[w++],m[y++]=R,m[y++]=R,m[y++]=R,m[y++]=g?N[w++]:255,B=w;else for(;y<U;)w=L?4*d[y/4]:B,m[y++]=N[w++],m[y++]=N[w++],m[y++]=N[w++],m[y++]=g?N[w++]:255,B=w},s.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var o=function(){if(Object.prototype.toString.call(Ht)==="[object Window]"){try{t=Ht.document.createElement("canvas"),a=t.getContext("2d")}catch{return!1}return!0}return!1};return o(),e=function(l){var d;if(o()===!0)return a.width=l.width,a.height=l.height,a.clearRect(0,0,l.width,l.height),a.putImageData(l,0,0),(d=new Image).src=t.toDataURL(),d;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(l){var d,g,f,m,y,N,B,w;if(this.animation){for(w=[],g=y=0,N=(B=this.animation.frames).length;y<N;g=++y)d=B[g],f=l.createImageData(d.width,d.height),m=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(f,m),d.imageData=f,w.push(d.image=e(f));return w}},s.prototype.renderFrame=function(l,d){var g,f,m;return g=(f=this.animation.frames)[d],m=f[d-1],d===0&&l.clearRect(0,0,this.width,this.height),(m!=null?m.disposeOp:void 0)===1?l.clearRect(m.xOffset,m.yOffset,m.width,m.height):(m!=null?m.disposeOp:void 0)===2&&l.putImageData(m.imageData,m.xOffset,m.yOffset),g.blendOp===0&&l.clearRect(g.xOffset,g.yOffset,g.width,g.height),l.drawImage(g.image,g.xOffset,g.yOffset)},s.prototype.animate=function(l){var d,g,f,m,y,N,B=this;return g=0,N=this.animation,m=N.numFrames,f=N.frames,y=N.numPlays,(d=function(){var w,U;if(w=g++%m,U=f[w],B.renderFrame(l,w),m>1&&g/m<y)return B.animation._timeout=setTimeout(d,U.delay)})()},s.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},s.prototype.render=function(l){var d,g;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,d=l.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(g=d.createImageData(this.width,this.height),this.copyToImageData(g,this.decodePixels()),d.putImageData(g,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function fI(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,o=e[t++],l=o>>7,d=1<<(7&o)+1;e[t++],e[t++];var g=null,f=null;l&&(g=t,f=d,t+=3*d);var m=!0,y=[],N=0,B=null,w=0,U=null;for(this.width=a,this.height=s;m&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,U=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var L=e[t++];N=e[t++]|e[t++]<<8,B=e[t++],!(1&L)&&(B=null),w=L>>2&7,t++;break;case 254:for(;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var R=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,T=e[t++]|e[t++]<<8,z=e[t++],D=z>>6&1,ae=1<<(7&z)+1,X=g,_=f,ie=!1;z>>7&&(ie=!0,X=t,_=ae,t+=3*ae);var oe=t;for(t++;;){var W;if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}y.push({x:R,y:C,width:I,height:T,has_local_palette:ie,palette_offset:X,palette_size:_,data_offset:oe,data_length:t-oe,transparent_index:B,interlaced:!!D,delay:N,disposal:w});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return U},this.frameInfo=function($){if($<0||$>=y.length)throw new Error("Frame index out of range.");return y[$]},this.decodeAndBlitFrameBGRA=function($,Z){var J=this.frameInfo($),ne=J.width*J.height,te=new Uint8Array(ne);o1(e,J.data_offset,te,ne);var Be=J.palette_offset,fe=J.transparent_index;fe===null&&(fe=256);var je=J.width,Ce=a-je,Me=je,Ae=4*(J.y*a+J.x),he=4*((J.y+J.height)*a+J.x),ke=Ae,Le=4*Ce;J.interlaced===!0&&(Le+=4*a*7);for(var Pe=8,Re=0,ve=te.length;Re<ve;++Re){var Ee=te[Re];if(Me===0&&(Me=je,(ke+=Le)>=he&&(Le=4*Ce+4*a*(Pe-1),ke=Ae+(je+Ce)*(Pe<<1),Pe>>=1)),Ee===fe)ke+=4;else{var Xe=e[Be+3*Ee],tt=e[Be+3*Ee+1],He=e[Be+3*Ee+2];Z[ke++]=He,Z[ke++]=tt,Z[ke++]=Xe,Z[ke++]=255}--Me}},this.decodeAndBlitFrameRGBA=function($,Z){var J=this.frameInfo($),ne=J.width*J.height,te=new Uint8Array(ne);o1(e,J.data_offset,te,ne);var Be=J.palette_offset,fe=J.transparent_index;fe===null&&(fe=256);var je=J.width,Ce=a-je,Me=je,Ae=4*(J.y*a+J.x),he=4*((J.y+J.height)*a+J.x),ke=Ae,Le=4*Ce;J.interlaced===!0&&(Le+=4*a*7);for(var Pe=8,Re=0,ve=te.length;Re<ve;++Re){var Ee=te[Re];if(Me===0&&(Me=je,(ke+=Le)>=he&&(Le=4*Ce+4*a*(Pe-1),ke=Ae+(je+Ce)*(Pe<<1),Pe>>=1)),Ee===fe)ke+=4;else{var Xe=e[Be+3*Ee],tt=e[Be+3*Ee+1],He=e[Be+3*Ee+2];Z[ke++]=Xe,Z[ke++]=tt,Z[ke++]=He,Z[ke++]=255}--Me}}}function o1(e,t,a,s){for(var o=e[t++],l=1<<o,d=l+1,g=d+1,f=o+1,m=(1<<f)-1,y=0,N=0,B=0,w=e[t++],U=new Int32Array(4096),L=null;;){for(;y<16&&w!==0;)N|=e[t++]<<y,y+=8,w===1?w=e[t++]:--w;if(y<f)break;var R=N&m;if(N>>=f,y-=f,R!==l){if(R===d)break;for(var C=R<g?R:L,I=0,T=C;T>l;)T=U[T]>>8,++I;var z=T;if(B+I+(C!==R?1:0)>s)return void Ir.log("Warning, gif stream longer than expected.");a[B++]=z;var D=B+=I;for(C!==R&&(a[B++]=z),T=C;I--;)T=U[T],a[--D]=255&T,T>>=8;L!==null&&g<4096&&(U[g++]=L<<8|z,g>=m+1&&f<12&&(++f,m=m<<1|1)),L=R}else g=d+1,m=(1<<(f=o+1))-1,L=null}return B!==s&&Ir.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Xp(e){var t,a,s,o,l,d=Math.floor,g=new Array(64),f=new Array(64),m=new Array(64),y=new Array(64),N=new Array(65535),B=new Array(65535),w=new Array(64),U=new Array(64),L=[],R=0,C=7,I=new Array(64),T=new Array(64),z=new Array(64),D=new Array(256),ae=new Array(2048),X=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(Ae,he){for(var ke=0,Le=0,Pe=new Array,Re=1;Re<=16;Re++){for(var ve=1;ve<=Ae[Re];ve++)Pe[he[Le]]=[],Pe[he[Le]][0]=ke,Pe[he[Le]][1]=Re,Le++,ke++;ke*=2}return Pe}function Be(Ae){for(var he=Ae[0],ke=Ae[1]-1;ke>=0;)he&1<<ke&&(R|=1<<C),ke--,--C<0&&(R==255?(fe(255),fe(0)):fe(R),C=7,R=0)}function fe(Ae){L.push(Ae)}function je(Ae){fe(Ae>>8&255),fe(255&Ae)}function Ce(Ae,he,ke,Le,Pe){for(var Re,ve=Pe[0],Ee=Pe[240],Xe=function(ot,At){var pt,ht,Lt,Mt,Vt,Xt,er,ur,Pt,Zt,yt=0;for(Pt=0;Pt<8;++Pt){pt=ot[yt],ht=ot[yt+1],Lt=ot[yt+2],Mt=ot[yt+3],Vt=ot[yt+4],Xt=ot[yt+5],er=ot[yt+6];var Ca=pt+(ur=ot[yt+7]),cr=pt-ur,js=ht+er,br=ht-er,Er=Lt+Xt,gn=Lt-Xt,fr=Mt+Vt,Pi=Mt-Vt,Mr=Ca+fr,Vs=Ca-fr,Qn=js+Er,vr=js-Er;ot[yt]=Mr+Qn,ot[yt+4]=Mr-Qn;var _t=.707106781*(vr+Vs);ot[yt+2]=Vs+_t,ot[yt+6]=Vs-_t;var Ar=.382683433*((Mr=Pi+gn)-(vr=br+cr)),ii=.5411961*Mr+Ar,Ba=1.306562965*vr+Ar,Gs=.707106781*(Qn=gn+br),qs=cr+Gs,Qt=cr-Gs;ot[yt+5]=Qt+ii,ot[yt+3]=Qt-ii,ot[yt+1]=qs+Ba,ot[yt+7]=qs-Ba,yt+=8}for(yt=0,Pt=0;Pt<8;++Pt){pt=ot[yt],ht=ot[yt+8],Lt=ot[yt+16],Mt=ot[yt+24],Vt=ot[yt+32],Xt=ot[yt+40],er=ot[yt+48];var Xs=pt+(ur=ot[yt+56]),fn=pt-ur,Ya=ht+er,ia=ht-er,Zr=Lt+Xt,fs=Lt-Xt,oi=Mt+Vt,Ks=Mt-Vt,ja=Xs+oi,$a=Xs-oi,Ws=Ya+Zr,Ys=Ya-Zr;ot[yt]=ja+Ws,ot[yt+32]=ja-Ws;var Ss=.707106781*(Ys+$a);ot[yt+16]=$a+Ss,ot[yt+48]=$a-Ss;var pn=.382683433*((ja=Ks+fs)-(Ys=ia+fn)),Ui=.5411961*ja+pn,mo=1.306562965*Ys+pn,Di=.707106781*(Ws=fs+ia),Ti=fn+Di,li=fn-Di;ot[yt+40]=li+Ui,ot[yt+24]=li-Ui,ot[yt+8]=Ti+mo,ot[yt+56]=Ti-mo,yt++}for(Pt=0;Pt<64;++Pt)Zt=ot[Pt]*At[Pt],w[Pt]=Zt>0?Zt+.5|0:Zt-.5|0;return w}(Ae,he),tt=0;tt<64;++tt)U[X[tt]]=Xe[tt];var He=U[0]-ke;ke=U[0],He==0?Be(Le[0]):(Be(Le[B[Re=32767+He]]),Be(N[Re]));for(var qe=63;qe>0&&U[qe]==0;)qe--;if(qe==0)return Be(ve),ke;for(var Ft,$e=1;$e<=qe;){for(var be=$e;U[$e]==0&&$e<=qe;)++$e;var ft=$e-be;if(ft>=16){Ft=ft>>4;for(var ut=1;ut<=Ft;++ut)Be(Ee);ft&=15}Re=32767+U[$e],Be(Pe[(ft<<4)+B[Re]]),Be(N[Re]),$e++}return qe!=63&&Be(ve),ke}function Me(Ae){Ae=Math.min(Math.max(Ae,1),100),l!=Ae&&(function(he){for(var ke=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Le=0;Le<64;Le++){var Pe=d((ke[Le]*he+50)/100);Pe=Math.min(Math.max(Pe,1),255),g[X[Le]]=Pe}for(var Re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var Ee=d((Re[ve]*he+50)/100);Ee=Math.min(Math.max(Ee,1),255),f[X[ve]]=Ee}for(var Xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],tt=0,He=0;He<8;He++)for(var qe=0;qe<8;qe++)m[tt]=1/(g[X[tt]]*Xe[He]*Xe[qe]*8),y[tt]=1/(f[X[tt]]*Xe[He]*Xe[qe]*8),tt++}(Ae<50?Math.floor(5e3/Ae):Math.floor(200-2*Ae)),l=Ae)}this.encode=function(Ae,he){he&&Me(he),L=new Array,R=0,C=7,je(65496),je(65504),je(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),je(1),je(1),fe(0),fe(0),function(){je(65499),je(132),fe(0);for(var ht=0;ht<64;ht++)fe(g[ht]);fe(1);for(var Lt=0;Lt<64;Lt++)fe(f[Lt])}(),function(ht,Lt){je(65472),je(17),fe(8),je(Lt),je(ht),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)}(Ae.width,Ae.height),function(){je(65476),je(418),fe(0);for(var ht=0;ht<16;ht++)fe(_[ht+1]);for(var Lt=0;Lt<=11;Lt++)fe(ie[Lt]);fe(16);for(var Mt=0;Mt<16;Mt++)fe(oe[Mt+1]);for(var Vt=0;Vt<=161;Vt++)fe(W[Vt]);fe(1);for(var Xt=0;Xt<16;Xt++)fe($[Xt+1]);for(var er=0;er<=11;er++)fe(Z[er]);fe(17);for(var ur=0;ur<16;ur++)fe(J[ur+1]);for(var Pt=0;Pt<=161;Pt++)fe(ne[Pt])}(),je(65498),je(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var ke=0,Le=0,Pe=0;R=0,C=7,this.encode.displayName="_encode_";for(var Re,ve,Ee,Xe,tt,He,qe,Ft,$e,be=Ae.data,ft=Ae.width,ut=Ae.height,ot=4*ft,At=0;At<ut;){for(Re=0;Re<ot;){for(tt=ot*At+Re,qe=-1,Ft=0,$e=0;$e<64;$e++)He=tt+(Ft=$e>>3)*ot+(qe=4*(7&$e)),At+Ft>=ut&&(He-=ot*(At+1+Ft-ut)),Re+qe>=ot&&(He-=Re+qe-ot+4),ve=be[He++],Ee=be[He++],Xe=be[He++],I[$e]=(ae[ve]+ae[Ee+256>>0]+ae[Xe+512>>0]>>16)-128,T[$e]=(ae[ve+768>>0]+ae[Ee+1024>>0]+ae[Xe+1280>>0]>>16)-128,z[$e]=(ae[ve+1280>>0]+ae[Ee+1536>>0]+ae[Xe+1792>>0]>>16)-128;ke=Ce(I,m,ke,t,s),Le=Ce(T,y,Le,a,o),Pe=Ce(z,y,Pe,a,o),Re+=32}At+=8}if(C>=0){var pt=[];pt[1]=C+1,pt[0]=(1<<C+1)-1,Be(pt)}return je(65497),new Uint8Array(L)},e=e||50,function(){for(var Ae=String.fromCharCode,he=0;he<256;he++)D[he]=Ae(he)}(),t=te(_,ie),a=te($,Z),s=te(oe,W),o=te(J,ne),function(){for(var Ae=1,he=2,ke=1;ke<=15;ke++){for(var Le=Ae;Le<he;Le++)B[32767+Le]=ke,N[32767+Le]=[],N[32767+Le][1]=ke,N[32767+Le][0]=Le;for(var Pe=-(he-1);Pe<=-Ae;Pe++)B[32767+Pe]=ke,N[32767+Pe]=[],N[32767+Pe][1]=ke,N[32767+Pe][0]=he-1+Pe;Ae<<=1,he<<=1}}(),function(){for(var Ae=0;Ae<256;Ae++)ae[Ae]=19595*Ae,ae[Ae+256>>0]=38470*Ae,ae[Ae+512>>0]=7471*Ae+32768,ae[Ae+768>>0]=-11059*Ae,ae[Ae+1024>>0]=-21709*Ae,ae[Ae+1280>>0]=32768*Ae+8421375,ae[Ae+1536>>0]=-27439*Ae,ae[Ae+1792>>0]=-5329*Ae}(),Me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vn(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function l1(e){function t(_){if(!_)throw Error("assert :P")}function a(_,ie,oe){for(var W=0;4>W;W++)if(_[ie+W]!=oe.charCodeAt(W))return!0;return!1}function s(_,ie,oe,W,$){for(var Z=0;Z<$;Z++)_[ie+Z]=oe[W+Z]}function o(_,ie,oe,W){for(var $=0;$<W;$++)_[ie+$]=oe}function l(_){return new Int32Array(_)}function d(_,ie){for(var oe=[],W=0;W<_;W++)oe.push(new ie);return oe}function g(_,ie){var oe=[];return function W($,Z,J){for(var ne=J[Z],te=0;te<ne&&($.push(J.length>Z+1?[]:new ie),!(J.length<Z+1));te++)W($[te],Z+1,J)}(oe,0,_),oe}var f=function(){var _=this;function ie(b,E){for(var H=1<<E-1>>>0;b&H;)H>>>=1;return H?(b&H-1)+H:b}function oe(b,E,H,Y,de){t(!(Y%H));do b[E+(Y-=H)]=de;while(0<Y)}function W(b,E,H,Y,de){if(t(2328>=de),512>=de)var pe=l(512);else if((pe=l(de))==null)return 0;return function(xe,ye,we,Ne,De,Ve){var Ge,Oe,st=ye,Ye=1<<we,Te=l(16),Qe=l(16);for(t(De!=0),t(Ne!=null),t(xe!=null),t(0<we),Oe=0;Oe<De;++Oe){if(15<Ne[Oe])return 0;++Te[Ne[Oe]]}if(Te[0]==De)return 0;for(Qe[1]=0,Ge=1;15>Ge;++Ge){if(Te[Ge]>1<<Ge)return 0;Qe[Ge+1]=Qe[Ge]+Te[Ge]}for(Oe=0;Oe<De;++Oe)Ge=Ne[Oe],0<Ne[Oe]&&(Ve[Qe[Ge]++]=Oe);if(Qe[15]==1)return(Ne=new $).g=0,Ne.value=Ve[0],oe(xe,st,1,Ye,Ne),Ye;var rt,nt=-1,at=Ye-1,Ct=0,gt=1,Rt=1,xt=1<<we;for(Oe=0,Ge=1,De=2;Ge<=we;++Ge,De<<=1){if(gt+=Rt<<=1,0>(Rt-=Te[Ge]))return 0;for(;0<Te[Ge];--Te[Ge])(Ne=new $).g=Ge,Ne.value=Ve[Oe++],oe(xe,st+Ct,De,xt,Ne),Ct=ie(Ct,Ge)}for(Ge=we+1,De=2;15>=Ge;++Ge,De<<=1){if(gt+=Rt<<=1,0>(Rt-=Te[Ge]))return 0;for(;0<Te[Ge];--Te[Ge]){if(Ne=new $,(Ct&at)!=nt){for(st+=xt,rt=1<<(nt=Ge)-we;15>nt&&!(0>=(rt-=Te[nt]));)++nt,rt<<=1;Ye+=xt=1<<(rt=nt-we),xe[ye+(nt=Ct&at)].g=rt+we,xe[ye+nt].value=st-ye-nt}Ne.g=Ge-we,Ne.value=Ve[Oe++],oe(xe,st+(Ct>>we),De,xt,Ne),Ct=ie(Ct,Ge)}}return gt!=2*Qe[15]-1?0:Ye}(b,E,H,Y,de,pe)}function $(){this.value=this.g=0}function Z(){this.value=this.g=0}function J(){this.G=d(5,$),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(_a,Z)}function ne(b,E,H,Y){t(b!=null),t(E!=null),t(2147483648>Y),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=E,b.pa=H,b.Jd=E,b.Yc=H+Y,b.Zc=4<=Y?H+Y-4+1:H,Re(b)}function te(b,E){for(var H=0;0<E--;)H|=Ee(b,128)<<E;return H}function Be(b,E){var H=te(b,E);return ve(b)?-H:H}function fe(b,E,H,Y){var de,pe=0;for(t(b!=null),t(E!=null),t(4294967288>Y),b.Sb=Y,b.Ra=0,b.u=0,b.h=0,4<Y&&(Y=4),de=0;de<Y;++de)pe+=E[H+de]<<8*de;b.Ra=pe,b.bb=Y,b.oa=E,b.pa=H}function je(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Cc-8>>>0,++b.bb,b.u-=8;ke(b)&&(b.h=1,b.u=0)}function Ce(b,E){if(t(0<=E),!b.h&&E<=Nc){var H=he(b)&kc[E];return b.u+=E,je(b),H}return b.h=1,b.u=0}function Me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Ae(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function he(b){return b.Ra>>>(b.u&Cc-1)>>>0}function ke(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Cc}function Le(b,E){b.u=E,b.h=ke(b)}function Pe(b){b.u>=td&&(t(b.u>=td),je(b))}function Re(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ve(b){return te(b,1)}function Ee(b,E){var H=b.Ca;0>b.b&&Re(b);var Y=b.b,de=H*E>>>8,pe=(b.I>>>Y>de)+0;for(pe?(H-=de,b.I-=de+1<<Y>>>0):H=de+1,Y=H,de=0;256<=Y;)de+=8,Y>>=8;return Y=7^de+Es[Y],b.b-=Y,b.Ca=(H<<Y)-1,pe}function Xe(b,E,H){b[E+0]=H>>24&255,b[E+1]=H>>16&255,b[E+2]=H>>8&255,b[E+3]=H>>0&255}function tt(b,E){return b[E+0]<<0|b[E+1]<<8}function He(b,E){return tt(b,E)|b[E+2]<<16}function qe(b,E){return tt(b,E)|tt(b,E+2)<<16}function Ft(b,E){var H=1<<E;return t(b!=null),t(0<E),b.X=l(H),b.X==null?0:(b.Mb=32-E,b.Xa=E,1)}function $e(b,E){t(b!=null),t(E!=null),t(b.Xa==E.Xa),s(E.X,0,b.X,0,1<<E.Xa)}function be(){this.X=[],this.Xa=this.Mb=0}function ft(b,E,H,Y){t(H!=null),t(Y!=null);var de=H[0],pe=Y[0];return de==0&&(de=(b*pe+E/2)/E),pe==0&&(pe=(E*de+b/2)/b),0>=de||0>=pe?0:(H[0]=de,Y[0]=pe,1)}function ut(b,E){return b+(1<<E)-1>>>E}function ot(b,E){return((4278255360&b)+(4278255360&E)>>>0&4278255360)+((16711935&b)+(16711935&E)>>>0&16711935)>>>0}function At(b,E){_[E]=function(H,Y,de,pe,xe,ye,we){var Ne;for(Ne=0;Ne<xe;++Ne){var De=_[b](ye[we+Ne-1],de,pe+Ne);ye[we+Ne]=ot(H[Y+Ne],De)}}}function pt(){this.ud=this.hd=this.jd=0}function ht(b,E){return((4278124286&(b^E))>>>1)+(b&E)>>>0}function Lt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Mt(b,E){return Lt(b+(b-E+.5>>1))}function Vt(b,E,H){return Math.abs(E-H)-Math.abs(b-H)}function Xt(b,E,H,Y,de,pe,xe){for(Y=pe[xe-1],H=0;H<de;++H)pe[xe+H]=Y=ot(b[E+H],Y)}function er(b,E,H,Y,de){var pe;for(pe=0;pe<H;++pe){var xe=b[E+pe],ye=xe>>8&255,we=16711935&(we=(we=16711935&xe)+((ye<<16)+ye));Y[de+pe]=(4278255360&xe)+we>>>0}}function ur(b,E){E.jd=b>>0&255,E.hd=b>>8&255,E.ud=b>>16&255}function Pt(b,E,H,Y,de,pe){var xe;for(xe=0;xe<Y;++xe){var ye=E[H+xe],we=ye>>>8,Ne=ye,De=255&(De=(De=ye>>>16)+((b.jd<<24>>24)*(we<<24>>24)>>>5));Ne=255&(Ne=(Ne=Ne+((b.hd<<24>>24)*(we<<24>>24)>>>5))+((b.ud<<24>>24)*(De<<24>>24)>>>5)),de[pe+xe]=(4278255360&ye)+(De<<16)+Ne}}function Zt(b,E,H,Y,de){_[E]=function(pe,xe,ye,we,Ne,De,Ve,Ge,Oe){for(we=Ve;we<Ge;++we)for(Ve=0;Ve<Oe;++Ve)Ne[De++]=de(ye[Y(pe[xe++])])},_[b]=function(pe,xe,ye,we,Ne,De,Ve){var Ge=8>>pe.b,Oe=pe.Ea,st=pe.K[0],Ye=pe.w;if(8>Ge)for(pe=(1<<pe.b)-1,Ye=(1<<Ge)-1;xe<ye;++xe){var Te,Qe=0;for(Te=0;Te<Oe;++Te)Te&pe||(Qe=Y(we[Ne++])),De[Ve++]=de(st[Qe&Ye]),Qe>>=Ge}else _["VP8LMapColor"+H](we,Ne,st,Ye,De,Ve,xe,ye,Oe)}}function yt(b,E,H,Y,de){for(H=E+H;E<H;){var pe=b[E++];Y[de++]=pe>>16&255,Y[de++]=pe>>8&255,Y[de++]=pe>>0&255}}function Ca(b,E,H,Y,de){for(H=E+H;E<H;){var pe=b[E++];Y[de++]=pe>>16&255,Y[de++]=pe>>8&255,Y[de++]=pe>>0&255,Y[de++]=pe>>24&255}}function cr(b,E,H,Y,de){for(H=E+H;E<H;){var pe=(xe=b[E++])>>16&240|xe>>12&15,xe=xe>>0&240|xe>>28&15;Y[de++]=pe,Y[de++]=xe}}function js(b,E,H,Y,de){for(H=E+H;E<H;){var pe=(xe=b[E++])>>16&248|xe>>13&7,xe=xe>>5&224|xe>>3&31;Y[de++]=pe,Y[de++]=xe}}function br(b,E,H,Y,de){for(H=E+H;E<H;){var pe=b[E++];Y[de++]=pe>>0&255,Y[de++]=pe>>8&255,Y[de++]=pe>>16&255}}function Er(b,E,H,Y,de,pe){if(pe==0)for(H=E+H;E<H;)Xe(Y,((pe=b[E++])[0]>>24|pe[1]>>8&65280|pe[2]<<8&16711680|pe[3]<<24)>>>0),de+=32;else s(Y,de,b,E,H)}function gn(b,E){_[E][0]=_[b+"0"],_[E][1]=_[b+"1"],_[E][2]=_[b+"2"],_[E][3]=_[b+"3"],_[E][4]=_[b+"4"],_[E][5]=_[b+"5"],_[E][6]=_[b+"6"],_[E][7]=_[b+"7"],_[E][8]=_[b+"8"],_[E][9]=_[b+"9"],_[E][10]=_[b+"10"],_[E][11]=_[b+"11"],_[E][12]=_[b+"12"],_[E][13]=_[b+"13"],_[E][14]=_[b+"0"],_[E][15]=_[b+"0"]}function fr(b){return b==Vf||b==Gf||b==ch||b==qf}function Pi(){this.eb=[],this.size=this.A=this.fb=0}function Mr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Vs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pi,this.f.kb=new Mr,this.sd=null}function Qn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _t(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Ar(b,E){var H=b.T,Y=E.ba.f.RGBA,de=Y.eb,pe=Y.fb+b.ka*Y.A,xe=wn[E.ba.S],ye=b.y,we=b.O,Ne=b.f,De=b.N,Ve=b.ea,Ge=b.W,Oe=E.cc,st=E.dc,Ye=E.Mc,Te=E.Nc,Qe=b.ka,rt=b.ka+b.T,nt=b.U,at=nt+1>>1;for(Qe==0?xe(ye,we,null,null,Ne,De,Ve,Ge,Ne,De,Ve,Ge,de,pe,null,null,nt):(xe(E.ec,E.fc,ye,we,Oe,st,Ye,Te,Ne,De,Ve,Ge,de,pe-Y.A,de,pe,nt),++H);Qe+2<rt;Qe+=2)Oe=Ne,st=De,Ye=Ve,Te=Ge,De+=b.Rc,Ge+=b.Rc,pe+=2*Y.A,xe(ye,(we+=2*b.fa)-b.fa,ye,we,Oe,st,Ye,Te,Ne,De,Ve,Ge,de,pe-Y.A,de,pe,nt);return we+=b.fa,b.j+rt<b.o?(s(E.ec,E.fc,ye,we,nt),s(E.cc,E.dc,Ne,De,at),s(E.Mc,E.Nc,Ve,Ge,at),H--):1&rt||xe(ye,we,null,null,Ne,De,Ve,Ge,Ne,De,Ve,Ge,de,pe+Y.A,null,null,nt),H}function ii(b,E,H){var Y=b.F,de=[b.J];if(Y!=null){var pe=b.U,xe=E.ba.S,ye=xe==lh||xe==ch;E=E.ba.f.RGBA;var we=[0],Ne=b.ka;we[0]=b.T,b.Kb&&(Ne==0?--we[0]:(--Ne,de[0]-=b.width),b.j+b.ka+b.T==b.o&&(we[0]=b.o-b.j-Ne));var De=E.eb;Ne=E.fb+Ne*E.A,b=Dr(Y,de[0],b.width,pe,we,De,Ne+(ye?0:3),E.A),t(H==we),b&&fr(xe)&&bn(De,Ne,ye,pe,we,E.A)}return 0}function Ba(b){var E=b.ma,H=E.ba.S,Y=11>H,de=H==ih||H==oh||H==lh||H==zf||H==12||fr(H);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!ZA(E.Oa,b,de?11:12))return 0;if(de&&fr(H)&&it(),b.da)alert("todo:use_scaling");else{if(Y){if(E.Ib=_t,b.Kb){if(H=b.U+1>>1,E.memory=l(b.U+2*H),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+b.U,E.Mc=E.cc,E.Nc=E.dc+H,E.Ib=Ar,it()}}else alert("todo:EmitYUV");de&&(E.Jb=ii,Y&&_e())}if(Y&&!Hb){for(b=0;256>b;++b)dj[b]=89858*(b-128)+dh>>Ah,gj[b]=-22014*(b-128)+dh,hj[b]=-45773*(b-128),uj[b]=113618*(b-128)+dh>>Ah;for(b=ld;b<Wf;++b)E=76283*(b-16)+dh>>Ah,fj[b-ld]=$s(E,255),pj[b-ld]=$s(E+8>>4,15);Hb=1}return 1}function Gs(b){var E=b.ma,H=b.U,Y=b.T;return t(!(1&b.ka)),0>=H||0>=Y?0:(H=E.Ib(b,E),E.Jb!=null&&E.Jb(b,E,H),E.Dc+=H,1)}function qs(b){b.ma.memory=null}function Qt(b,E,H,Y){return Ce(b,8)!=47?0:(E[0]=Ce(b,14)+1,H[0]=Ce(b,14)+1,Y[0]=Ce(b,1),Ce(b,3)!=0?0:!b.h)}function Xs(b,E){if(4>b)return b+1;var H=b-2>>1;return(2+(1&b)<<H)+Ce(E,H)+1}function fn(b,E){return 120<E?E-120:1<=(H=((H=$5[E-1])>>4)*b+(8-(15&H)))?H:1;var H}function Ya(b,E,H){var Y=he(H),de=b[E+=255&Y].g-8;return 0<de&&(Le(H,H.u+8),Y=he(H),E+=b[E].value,E+=Y&(1<<de)-1),Le(H,H.u+b[E].g),b[E].value}function ia(b,E,H){return H.g+=b.g,H.value+=b.value<<E>>>0,t(8>=H.g),b.g}function Zr(b,E,H){var Y=b.xc;return t((E=Y==0?0:b.vc[b.md*(H>>Y)+(E>>Y)])<b.Wb),b.Ya[E]}function fs(b,E,H,Y){var de=b.ab,pe=b.c*E,xe=b.C;E=xe+E;var ye=H,we=Y;for(Y=b.Ta,H=b.Ua;0<de--;){var Ne=b.gc[de],De=xe,Ve=E,Ge=ye,Oe=we,st=(we=Y,ye=H,Ne.Ea);switch(t(De<Ve),t(Ve<=Ne.nc),Ne.hc){case 2:Zu(Ge,Oe,(Ve-De)*st,we,ye);break;case 0:var Ye=De,Te=Ve,Qe=we,rt=ye,nt=(xt=Ne).Ea;Ye==0&&(Hf(Ge,Oe,null,null,1,Qe,rt),Xt(Ge,Oe+1,0,0,nt-1,Qe,rt+1),Oe+=nt,rt+=nt,++Ye);for(var at=1<<xt.b,Ct=at-1,gt=ut(nt,xt.b),Rt=xt.K,xt=xt.w+(Ye>>xt.b)*gt;Ye<Te;){var mr=Rt,wr=xt,hr=1;for(rd(Ge,Oe,Qe,rt-nt,1,Qe,rt);hr<nt;){var nr=(hr&~Ct)+at;nr>nt&&(nr=nt),(0,bo[mr[wr++]>>8&15])(Ge,Oe+ +hr,Qe,rt+hr-nt,nr-hr,Qe,rt+hr),hr=nr}Oe+=nt,rt+=nt,++Ye&Ct||(xt+=gt)}Ve!=Ne.nc&&s(we,ye-st,we,ye+(Ve-De-1)*st,st);break;case 1:for(st=Ge,Te=Oe,nt=(Ge=Ne.Ea)-(rt=Ge&~(Qe=(Oe=1<<Ne.b)-1)),Ye=ut(Ge,Ne.b),at=Ne.K,Ne=Ne.w+(De>>Ne.b)*Ye;De<Ve;){for(Ct=at,gt=Ne,Rt=new pt,xt=Te+rt,mr=Te+Ge;Te<xt;)ur(Ct[gt++],Rt),Nl(Rt,st,Te,Oe,we,ye),Te+=Oe,ye+=Oe;Te<mr&&(ur(Ct[gt++],Rt),Nl(Rt,st,Te,nt,we,ye),Te+=nt,ye+=nt),++De&Qe||(Ne+=Ye)}break;case 3:if(Ge==we&&Oe==ye&&0<Ne.b){for(Te=we,Ge=st=ye+(Ve-De)*st-(rt=(Ve-De)*ut(Ne.Ea,Ne.b)),Oe=we,Qe=ye,Ye=[],rt=(nt=rt)-1;0<=rt;--rt)Ye[rt]=Oe[Qe+rt];for(rt=nt-1;0<=rt;--rt)Te[Ge+rt]=Ye[rt];mn(Ne,De,Ve,we,st,we,ye)}else mn(Ne,De,Ve,Ge,Oe,we,ye)}ye=Y,we=H}we!=H&&s(Y,H,ye,we,pe)}function oi(b,E){var H=b.V,Y=b.Ba+b.c*b.C,de=E-b.C;if(t(E<=b.l.o),t(16>=de),0<de){var pe=b.l,xe=b.Ta,ye=b.Ua,we=pe.width;if(fs(b,de,H,Y),de=ye=[ye],t((H=b.C)<(Y=E)),t(pe.v<pe.va),Y>pe.o&&(Y=pe.o),H<pe.j){var Ne=pe.j-H;H=pe.j,de[0]+=Ne*we}if(H>=Y?H=0:(de[0]+=4*pe.v,pe.ka=H-pe.j,pe.U=pe.va-pe.v,pe.T=Y-H,H=1),H){if(ye=ye[0],11>(H=b.ca).S){var De=H.f.RGBA,Ve=(Y=H.S,de=pe.U,pe=pe.T,Ne=De.eb,De.A),Ge=pe;for(De=De.fb+b.Ma*De.A;0<Ge--;){var Oe=xe,st=ye,Ye=de,Te=Ne,Qe=De;switch(Y){case nh:Ls(Oe,st,Ye,Te,Qe);break;case ih:ps(Oe,st,Ye,Te,Qe);break;case Vf:ps(Oe,st,Ye,Te,Qe),bn(Te,Qe,0,Ye,1,0);break;case Lb:Oi(Oe,st,Ye,Te,Qe);break;case oh:Er(Oe,st,Ye,Te,Qe,1);break;case Gf:Er(Oe,st,Ye,Te,Qe,1),bn(Te,Qe,0,Ye,1,0);break;case lh:Er(Oe,st,Ye,Te,Qe,0);break;case ch:Er(Oe,st,Ye,Te,Qe,0),bn(Te,Qe,1,Ye,1,0);break;case zf:vo(Oe,st,Ye,Te,Qe);break;case qf:vo(Oe,st,Ye,Te,Qe),Ur(Te,Qe,Ye,1,0);break;case Ib:Mi(Oe,st,Ye,Te,Qe);break;default:t(0)}ye+=we,De+=Ve}b.Ma+=pe}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=H.height)}}b.C=E,t(b.C<=b.i)}function Ks(b){var E;if(0<b.ua)return 0;for(E=0;E<b.Wb;++E){var H=b.Ya[E].G,Y=b.Ya[E].H;if(0<H[1][Y[1]+0].g||0<H[2][Y[2]+0].g||0<H[3][Y[3]+0].g)return 0}return 1}function ja(b,E,H,Y,de,pe){if(b.Z!=0){var xe=b.qd,ye=b.rd;for(t(Co[b.Z]!=null);E<H;++E)Co[b.Z](xe,ye,Y,de,Y,de,pe),xe=Y,ye=de,de+=pe;b.qd=xe,b.rd=ye}}function $a(b,E){var H=b.l.ma,Y=H.Z==0||H.Z==1?b.l.j:b.C;if(Y=b.C<Y?Y:b.C,t(E<=b.l.o),E>Y){var de=b.l.width,pe=H.ca,xe=H.tb+de*Y,ye=b.V,we=b.Ba+b.c*Y,Ne=b.gc;t(b.ab==1),t(Ne[0].hc==3),eh(Ne[0],Y,E,ye,we,pe,xe),ja(H,Y,E,pe,xe,de)}b.C=b.Ma=E}function Ws(b,E,H,Y,de,pe,xe){var ye=b.$/Y,we=b.$%Y,Ne=b.m,De=b.s,Ve=H+b.$,Ge=Ve;de=H+Y*de;var Oe=H+Y*pe,st=280+De.ua,Ye=b.Pb?ye:16777216,Te=0<De.ua?De.Wa:null,Qe=De.wc,rt=Ve<Oe?Zr(De,we,ye):null;t(b.C<pe),t(Oe<=de);var nt=!1;e:for(;;){for(;nt||Ve<Oe;){var at=0;if(ye>=Ye){var Ct=Ve-H;t((Ye=b).Pb),Ye.wd=Ye.m,Ye.xd=Ct,0<Ye.s.ua&&$e(Ye.s.Wa,Ye.s.vb),Ye=ye+Z5}if(we&Qe||(rt=Zr(De,we,ye)),t(rt!=null),rt.Qb&&(E[Ve]=rt.qb,nt=!0),!nt)if(Pe(Ne),rt.jc){at=Ne,Ct=E;var gt=Ve,Rt=rt.pd[he(at)&_a-1];t(rt.jc),256>Rt.g?(Le(at,at.u+Rt.g),Ct[gt]=Rt.value,at=0):(Le(at,at.u+Rt.g-256),t(256<=Rt.value),at=Rt.value),at==0&&(nt=!0)}else at=Ya(rt.G[0],rt.H[0],Ne);if(Ne.h)break;if(nt||256>at){if(!nt)if(rt.nd)E[Ve]=(rt.qb|at<<8)>>>0;else{if(Pe(Ne),nt=Ya(rt.G[1],rt.H[1],Ne),Pe(Ne),Ct=Ya(rt.G[2],rt.H[2],Ne),gt=Ya(rt.G[3],rt.H[3],Ne),Ne.h)break;E[Ve]=(gt<<24|nt<<16|at<<8|Ct)>>>0}if(nt=!1,++Ve,++we>=Y&&(we=0,++ye,xe!=null&&ye<=pe&&!(ye%16)&&xe(b,ye),Te!=null))for(;Ge<Ve;)at=E[Ge++],Te.X[(506832829*at&4294967295)>>>Te.Mb]=at}else if(280>at){if(at=Xs(at-256,Ne),Ct=Ya(rt.G[4],rt.H[4],Ne),Pe(Ne),Ct=fn(Y,Ct=Xs(Ct,Ne)),Ne.h)break;if(Ve-H<Ct||de-Ve<at)break e;for(gt=0;gt<at;++gt)E[Ve+gt]=E[Ve+gt-Ct];for(Ve+=at,we+=at;we>=Y;)we-=Y,++ye,xe!=null&&ye<=pe&&!(ye%16)&&xe(b,ye);if(t(Ve<=de),we&Qe&&(rt=Zr(De,we,ye)),Te!=null)for(;Ge<Ve;)at=E[Ge++],Te.X[(506832829*at&4294967295)>>>Te.Mb]=at}else{if(!(at<st))break e;for(nt=at-280,t(Te!=null);Ge<Ve;)at=E[Ge++],Te.X[(506832829*at&4294967295)>>>Te.Mb]=at;at=Ve,t(!(nt>>>(Ct=Te).Xa)),E[at]=Ct.X[nt],nt=!0}nt||t(Ne.h==ke(Ne))}if(b.Pb&&Ne.h&&Ve<de)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&$e(b.s.vb,b.s.Wa);else{if(Ne.h)break e;xe!=null&&xe(b,ye>pe?pe:ye),b.a=0,b.$=Ve-H}return 1}return b.a=3,0}function Ys(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var E=b.Wa;E!=null&&(E.X=null),b.vb=null,t(b!=null)}function Ss(){var b=new Of;return b==null?null:(b.a=0,b.xb=Db,gn("Predictor","VP8LPredictors"),gn("Predictor","VP8LPredictors_C"),gn("PredictorAdd","VP8LPredictorsAdd"),gn("PredictorAdd","VP8LPredictorsAdd_C"),Zu=er,Nl=Pt,Ls=yt,ps=Ca,vo=cr,Mi=js,Oi=br,_.VP8LMapColor32b=Bc,_.VP8LMapColor8b=th,b)}function pn(b,E,H,Y,de){var pe=1,xe=[b],ye=[E],we=Y.m,Ne=Y.s,De=null,Ve=0;e:for(;;){if(H)for(;pe&&Ce(we,1);){var Ge=xe,Oe=ye,st=Y,Ye=1,Te=st.m,Qe=st.gc[st.ab],rt=Ce(Te,2);if(st.Oc&1<<rt)pe=0;else{switch(st.Oc|=1<<rt,Qe.hc=rt,Qe.Ea=Ge[0],Qe.nc=Oe[0],Qe.K=[null],++st.ab,t(4>=st.ab),rt){case 0:case 1:Qe.b=Ce(Te,3)+2,Ye=pn(ut(Qe.Ea,Qe.b),ut(Qe.nc,Qe.b),0,st,Qe.K),Qe.K=Qe.K[0];break;case 3:var nt,at=Ce(Te,8)+1,Ct=16<at?0:4<at?1:2<at?2:3;if(Ge[0]=ut(Qe.Ea,Ct),Qe.b=Ct,nt=Ye=pn(at,1,0,st,Qe.K)){var gt,Rt=at,xt=Qe,mr=1<<(8>>xt.b),wr=l(mr);if(wr==null)nt=0;else{var hr=xt.K[0],nr=xt.w;for(wr[0]=xt.K[0][0],gt=1;gt<1*Rt;++gt)wr[gt]=ot(hr[nr+gt],wr[gt-1]);for(;gt<4*mr;++gt)wr[gt]=0;xt.K[0]=null,xt.K[0]=wr,nt=1}}Ye=nt;break;case 2:break;default:t(0)}pe=Ye}}if(xe=xe[0],ye=ye[0],pe&&Ce(we,1)&&!(pe=1<=(Ve=Ce(we,4))&&11>=Ve)){Y.a=3;break e}var Lr;if(Lr=pe)t:{var Sr,Yt,ya,Is=Y,ba=xe,Ps=ye,kr=Ve,Zs=H,en=Is.m,Pa=Is.s,za=[null],xs=1,kn=0,ui=J5[kr];r:for(;;){if(Zs&&Ce(en,1)){var Ua=Ce(en,3)+2,Vi=ut(ba,Ua),Fl=ut(Ps,Ua),Lc=Vi*Fl;if(!pn(Vi,Fl,0,Is,za))break r;for(za=za[0],Pa.xc=Ua,Sr=0;Sr<Lc;++Sr){var Bo=za[Sr]>>8&65535;za[Sr]=Bo,Bo>=xs&&(xs=Bo+1)}}if(en.h)break r;for(Yt=0;5>Yt;++Yt){var ra=Pb[Yt];!Yt&&0<kr&&(ra+=1<<kr),kn<ra&&(kn=ra)}var Yf=d(xs*ui,$),Vb=xs,Gb=d(Vb,J);if(Gb==null)var hh=null;else t(65536>=Vb),hh=Gb;var cd=l(kn);if(hh==null||cd==null||Yf==null){Is.a=1;break r}var gh=Yf;for(Sr=ya=0;Sr<xs;++Sr){var Hn=hh[Sr],Ic=Hn.G,Pc=Hn.H,qb=0,fh=1,Xb=0;for(Yt=0;5>Yt;++Yt){ra=Pb[Yt],Ic[Yt]=gh,Pc[Yt]=ya,!Yt&&0<kr&&(ra+=1<<kr);s:{var ph,$f=ra,mh=Is,Ad=cd,yj=gh,bj=ya,Jf=0,jo=mh.m,vj=Ce(jo,1);if(o(Ad,0,0,$f),vj){var wj=Ce(jo,1)+1,kj=Ce(jo,1),Kb=Ce(jo,kj==0?1:8);Ad[Kb]=1,wj==2&&(Ad[Kb=Ce(jo,8)]=1);var xh=1}else{var Wb=l(19),Yb=Ce(jo,4)+4;if(19<Yb){mh.a=3;var yh=0;break s}for(ph=0;ph<Yb;++ph)Wb[Y5[ph]]=Ce(jo,3);var Zf=void 0,dd=void 0,$b=mh,Nj=Wb,bh=$f,Jb=Ad,ep=0,So=$b.m,Zb=8,ev=d(128,$);a:for(;W(ev,0,7,Nj,19);){if(Ce(So,1)){var Cj=2+2*Ce(So,3);if((Zf=2+Ce(So,Cj))>bh)break a}else Zf=bh;for(dd=0;dd<bh&&Zf--;){Pe(So);var tv=ev[0+(127&he(So))];Le(So,So.u+tv.g);var Uc=tv.value;if(16>Uc)Jb[dd++]=Uc,Uc!=0&&(Zb=Uc);else{var Bj=Uc==16,rv=Uc-16,jj=K5[rv],av=Ce(So,X5[rv])+jj;if(dd+av>bh)break a;for(var Sj=Bj?Zb:0;0<av--;)Jb[dd++]=Sj}}ep=1;break a}ep||($b.a=3),xh=ep}(xh=xh&&!jo.h)&&(Jf=W(yj,bj,8,Ad,$f)),xh&&Jf!=0?yh=Jf:(mh.a=3,yh=0)}if(yh==0)break r;if(fh&&W5[Yt]==1&&(fh=gh[ya].g==0),qb+=gh[ya].g,ya+=yh,3>=Yt){var ud,tp=cd[0];for(ud=1;ud<ra;++ud)cd[ud]>tp&&(tp=cd[ud]);Xb+=tp}}if(Hn.nd=fh,Hn.Qb=0,fh&&(Hn.qb=(Ic[3][Pc[3]+0].value<<24|Ic[1][Pc[1]+0].value<<16|Ic[2][Pc[2]+0].value)>>>0,qb==0&&256>Ic[0][Pc[0]+0].value&&(Hn.Qb=1,Hn.qb+=Ic[0][Pc[0]+0].value<<8)),Hn.jc=!Hn.Qb&&6>Xb,Hn.jc){var vh,Gi=Hn;for(vh=0;vh<_a;++vh){var Fo=vh,Eo=Gi.pd[Fo],wh=Gi.G[0][Gi.H[0]+Fo];256<=wh.value?(Eo.g=wh.g+256,Eo.value=wh.value):(Eo.g=0,Eo.value=0,Fo>>=ia(wh,8,Eo),Fo>>=ia(Gi.G[1][Gi.H[1]+Fo],16,Eo),Fo>>=ia(Gi.G[2][Gi.H[2]+Fo],0,Eo),ia(Gi.G[3][Gi.H[3]+Fo],24,Eo))}}}Pa.vc=za,Pa.Wb=xs,Pa.Ya=hh,Pa.yc=Yf,Lr=1;break t}Lr=0}if(!(pe=Lr)){Y.a=3;break e}if(0<Ve){if(Ne.ua=1<<Ve,!Ft(Ne.Wa,Ve)){Y.a=1,pe=0;break e}}else Ne.ua=0;var rp=Y,sv=xe,Fj=ye,ap=rp.s,sp=ap.xc;if(rp.c=sv,rp.i=Fj,ap.md=ut(sv,sp),ap.wc=sp==0?-1:(1<<sp)-1,H){Y.xb=ij;break e}if((De=l(xe*ye))==null){Y.a=1,pe=0;break e}pe=(pe=Ws(Y,De,0,xe,ye,ye,null))&&!we.h;break e}return pe?(de!=null?de[0]=De:(t(De==null),t(H)),Y.$=0,H||Ys(Ne)):Ys(Ne),pe}function Ui(b,E){var H=b.c*b.i,Y=H+E+16*E;return t(b.c<=E),b.V=l(Y),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+H+E,1)}function mo(b,E){var H=b.C,Y=E-H,de=b.V,pe=b.Ba+b.c*H;for(t(E<=b.l.o);0<Y;){var xe=16<Y?16:Y,ye=b.l.ma,we=b.l.width,Ne=we*xe,De=ye.ca,Ve=ye.tb+we*H,Ge=b.Ta,Oe=b.Ua;fs(b,xe,de,pe),ca(Ge,Oe,De,Ve,Ne),ja(ye,H,H+xe,De,Ve,we),Y-=xe,de+=xe*b.c,H+=xe}t(H==E),b.C=b.Ma=E}function Di(){this.ub=this.yd=this.td=this.Rb=0}function Ti(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function li(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function pc(){this.Yb=function(){var b=[];return function E(H,Y,de){for(var pe=de[Y],xe=0;xe<pe&&(H.push(de.length>Y+1?[]:0),!(de.length<Y+1));xe++)E(H[xe],Y+1,de)}(b,0,[3,11]),b}()}function se(){this.jb=l(3),this.Wc=g([4,8],pc),this.Xc=g([4,17],pc)}function n(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function i(){this.ld=this.La=this.dd=this.tc=0}function c(){this.Na=this.la=0}function A(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function h(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function u(){this.uc=this.M=this.Nb=0,this.wa=Array(new i),this.Y=0,this.ya=Array(new h),this.aa=0,this.l=new k}function p(){this.y=l(16),this.f=l(8),this.ea=l(8)}function x(){this.cb=this.a=0,this.sc="",this.m=new Me,this.Od=new Di,this.Kc=new Ti,this.ed=new n,this.Qa=new li,this.Ic=this.$c=this.Aa=0,this.D=new u,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,Me),this.ia=0,this.pb=d(4,A),this.Pa=new se,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new p),this.Hd=0,this.rb=Array(new c),this.sb=0,this.wa=Array(new i),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new h),this.L=this.aa=0,this.gd=g([4,2],i),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function k(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function F(){var b=new x;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,od||(od=G)),b}function S(b,E,H){return b.a==0&&(b.a=E,b.sc=H,b.cb=0),0}function P(b,E,H){return 3<=H&&b[E+0]==157&&b[E+1]==1&&b[E+2]==42}function O(b,E){if(b==null)return 0;if(b.a=0,b.sc="OK",E==null)return S(b,2,"null VP8Io passed to VP8GetHeaders()");var H=E.data,Y=E.w,de=E.ha;if(4>de)return S(b,7,"Truncated header.");var pe=H[Y+0]|H[Y+1]<<8|H[Y+2]<<16,xe=b.Od;if(xe.Rb=!(1&pe),xe.td=pe>>1&7,xe.yd=pe>>4&1,xe.ub=pe>>5,3<xe.td)return S(b,3,"Incorrect keyframe parameters.");if(!xe.yd)return S(b,4,"Frame not displayable.");Y+=3,de-=3;var ye=b.Kc;if(xe.Rb){if(7>de)return S(b,7,"cannot parse picture header");if(!P(H,Y,de))return S(b,3,"Bad code word");ye.c=16383&(H[Y+4]<<8|H[Y+3]),ye.Td=H[Y+4]>>6,ye.i=16383&(H[Y+6]<<8|H[Y+5]),ye.Ud=H[Y+6]>>6,Y+=7,de-=7,b.za=ye.c+15>>4,b.Ub=ye.i+15>>4,E.width=ye.c,E.height=ye.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,o((pe=b.Pa).jb,0,255,pe.jb.length),t((pe=b.Qa)!=null),pe.Cb=0,pe.Bb=0,pe.Fb=1,o(pe.Zb,0,0,pe.Zb.length),o(pe.Lb,0,0,pe.Lb)}if(xe.ub>de)return S(b,7,"bad partition length");ne(pe=b.m,H,Y,xe.ub),Y+=xe.ub,de-=xe.ub,xe.Rb&&(ye.Ld=ve(pe),ye.Kd=ve(pe)),ye=b.Qa;var we,Ne=b.Pa;if(t(pe!=null),t(ye!=null),ye.Cb=ve(pe),ye.Cb){if(ye.Bb=ve(pe),ve(pe)){for(ye.Fb=ve(pe),we=0;4>we;++we)ye.Zb[we]=ve(pe)?Be(pe,7):0;for(we=0;4>we;++we)ye.Lb[we]=ve(pe)?Be(pe,6):0}if(ye.Bb)for(we=0;3>we;++we)Ne.jb[we]=ve(pe)?te(pe,8):255}else ye.Bb=0;if(pe.Ka)return S(b,3,"cannot parse segment header");if((ye=b.ed).zd=ve(pe),ye.Tb=te(pe,6),ye.wb=te(pe,3),ye.Pc=ve(pe),ye.Pc&&ve(pe)){for(Ne=0;4>Ne;++Ne)ve(pe)&&(ye.vd[Ne]=Be(pe,6));for(Ne=0;4>Ne;++Ne)ve(pe)&&(ye.od[Ne]=Be(pe,6))}if(b.L=ye.Tb==0?0:ye.zd?1:2,pe.Ka)return S(b,3,"cannot parse filter header");var De=de;if(de=we=Y,Y=we+De,ye=De,b.Xb=(1<<te(b.m,2))-1,De<3*(Ne=b.Xb))H=7;else{for(we+=3*Ne,ye-=3*Ne,De=0;De<Ne;++De){var Ve=H[de+0]|H[de+1]<<8|H[de+2]<<16;Ve>ye&&(Ve=ye),ne(b.Jc[+De],H,we,Ve),we+=Ve,ye-=Ve,de+=3}ne(b.Jc[+Ne],H,we,ye),H=we<Y?0:5}if(H!=0)return S(b,H,"cannot parse partitions");for(H=te(we=b.m,7),de=ve(we)?Be(we,4):0,Y=ve(we)?Be(we,4):0,ye=ve(we)?Be(we,4):0,Ne=ve(we)?Be(we,4):0,we=ve(we)?Be(we,4):0,De=b.Qa,Ve=0;4>Ve;++Ve){if(De.Cb){var Ge=De.Zb[Ve];De.Fb||(Ge+=H)}else{if(0<Ve){b.pb[Ve]=b.pb[0];continue}Ge=H}var Oe=b.pb[Ve];Oe.Sc[0]=Xf[$s(Ge+de,127)],Oe.Sc[1]=Kf[$s(Ge+0,127)],Oe.Eb[0]=2*Xf[$s(Ge+Y,127)],Oe.Eb[1]=101581*Kf[$s(Ge+ye,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=Xf[$s(Ge+Ne,117)],Oe.Qc[1]=Kf[$s(Ge+we,127)],Oe.lc=Ge+we}if(!xe.Rb)return S(b,4,"Not a key frame.");for(ve(pe),xe=b.Pa,H=0;4>H;++H){for(de=0;8>de;++de)for(Y=0;3>Y;++Y)for(ye=0;11>ye;++ye)Ne=Ee(pe,sj[H][de][Y][ye])?te(pe,8):rj[H][de][Y][ye],xe.Wc[H][de].Yb[Y][ye]=Ne;for(de=0;17>de;++de)xe.Xc[H][de]=xe.Wc[H][nj[de]]}return b.kc=ve(pe),b.kc&&(b.Bd=te(pe,8)),b.cb=1}function G(b,E,H,Y,de,pe,xe){var ye=E[de].Yb[H];for(H=0;16>de;++de){if(!Ee(b,ye[H+0]))return de;for(;!Ee(b,ye[H+1]);)if(ye=E[++de].Yb[0],H=0,de==16)return 16;var we=E[de+1].Yb;if(Ee(b,ye[H+2])){var Ne=b,De=0;if(Ee(Ne,(Ge=ye)[(Ve=H)+3]))if(Ee(Ne,Ge[Ve+6])){for(ye=0,Ve=2*(De=Ee(Ne,Ge[Ve+8]))+(Ge=Ee(Ne,Ge[Ve+9+De])),De=0,Ge=ej[Ve];Ge[ye];++ye)De+=De+Ee(Ne,Ge[ye]);De+=3+(8<<Ve)}else Ee(Ne,Ge[Ve+7])?(De=7+2*Ee(Ne,165),De+=Ee(Ne,145)):De=5+Ee(Ne,159);else De=Ee(Ne,Ge[Ve+4])?3+Ee(Ne,Ge[Ve+5]):2;ye=we[2]}else De=1,ye=we[1];we=xe+tj[de],0>(Ne=b).b&&Re(Ne);var Ve,Ge=Ne.b,Oe=(Ve=Ne.Ca>>1)-(Ne.I>>Ge)>>31;--Ne.b,Ne.Ca+=Oe,Ne.Ca|=1,Ne.I-=(Ve+1&Oe)<<Ge,pe[we]=((De^Oe)-Oe)*Y[(0<de)+0]}return 16}function V(b){var E=b.rb[b.sb-1];E.la=0,E.Na=0,o(b.zc,0,0,b.zc.length),b.ja=0}function ee(b,E){if(b==null)return 0;if(E==null)return S(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!O(b,E))return 0;if(t(b.cb),E.ac==null||E.ac(E)){E.ob&&(b.L=0);var H=uh[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=E.v-H>>4,b.zb=E.j-H>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=E.o+15+H>>4,b.Hb=E.va+15+H>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var Y=b.ed;for(H=0;4>H;++H){var de;if(b.Qa.Cb){var pe=b.Qa.Lb[H];b.Qa.Fb||(pe+=Y.Tb)}else pe=Y.Tb;for(de=0;1>=de;++de){var xe=b.gd[H][de],ye=pe;if(Y.Pc&&(ye+=Y.vd[0],de&&(ye+=Y.od[0])),0<(ye=0>ye?0:63<ye?63:ye)){var we=ye;0<Y.wb&&(we=4<Y.wb?we>>2:we>>1)>9-Y.wb&&(we=9-Y.wb),1>we&&(we=1),xe.dd=we,xe.tc=2*ye+we,xe.ld=40<=ye?2:15<=ye?1:0}else xe.tc=0;xe.La=de}}}H=0}else S(b,6,"Frame setup failed"),H=b.a;if(H=H==0){if(H){b.$c=0,0<b.Aa||(b.Ic=xj);e:{H=b.Ic,Y=4*(we=b.za);var Ne=32*we,De=we+1,Ve=0<b.L?we*(0<b.Aa?2:1):0,Ge=(b.Aa==2?2:1)*we;if((xe=Y+832+(de=3*(16*H+uh[b.L])/2*Ne)+(pe=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=xe)H=0;else{if(xe>b.Vb){if(b.Vb=0,b.Ec=l(xe),b.Fc=0,b.Ec==null){H=S(b,1,"no memory during frame initialization.");break e}b.Vb=xe}xe=b.Ec,ye=b.Fc,b.Ac=xe,b.Bc=ye,ye+=Y,b.Gd=d(Ne,p),b.Hd=0,b.rb=d(De+1,c),b.sb=1,b.wa=Ve?d(Ve,i):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=we),t(!0),b.oc=xe,b.pc=ye,ye+=832,b.ya=d(Ge,h),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=we),b.R=16*we,b.B=8*we,we=(Ne=uh[b.L])*b.R,Ne=Ne/2*b.B,b.sa=xe,b.ta=ye+we,b.qa=b.sa,b.ra=b.ta+16*H*b.R+Ne,b.Ha=b.qa,b.Ia=b.ra+8*H*b.B+Ne,b.$c=0,ye+=de,b.mb=pe?xe:null,b.nb=pe?ye:null,t(ye+pe<=b.Fc+b.Vb),V(b),o(b.Ac,b.Bc,0,Y),H=1}}if(H){if(E.ka=0,E.y=b.sa,E.O=b.ta,E.f=b.qa,E.N=b.ra,E.ea=b.Ha,E.Vd=b.Ia,E.fa=b.R,E.Rc=b.B,E.F=null,E.J=0,!ah){for(H=-255;255>=H;++H)Sa[255+H]=0>H?-H:H;for(H=-1020;1020>=H;++H)_i[1020+H]=-128>H?-128:127<H?127:H;for(H=-112;112>=H;++H)id[112+H]=-16>H?-16:15<H?15:H;for(H=-255;510>=H;++H)Ec[255+H]=0>H?0:255<H?255:H;ah=1}jc=Ie,Hi=ge,ad=ce,ms=me,xn=Fe,la=K,Sc=VA,rh=wl,sd=Mf,Cl=GA,Bl=Rf,wo=xc,jl=qA,Fc=Yu,Sl=Wu,ko=Ai,nd=Ri,yn=Qf,On[0]=zr,On[1]=Ze,On[2]=jr,On[3]=pr,On[4]=lr,On[5]=sr,On[6]=ar,On[7]=ea,On[8]=Fs,On[9]=ma,No[0]=Ut,No[1]=et,No[2]=ct,No[3]=mt,No[4]=Et,No[5]=Dt,No[6]=Kt,zi[0]=ci,zi[1]=Ke,zi[2]=Qi,zi[3]=oa,zi[4]=vl,zi[5]=Tf,zi[6]=zA,H=1}else H=0}H&&(H=function(Oe,st){for(Oe.M=0;Oe.M<Oe.Va;++Oe.M){var Ye,Te=Oe.Jc[Oe.M&Oe.Xb],Qe=Oe.m,rt=Oe;for(Ye=0;Ye<rt.za;++Ye){var nt=Qe,at=rt,Ct=at.Ac,gt=at.Bc+4*Ye,Rt=at.zc,xt=at.ya[at.aa+Ye];if(at.Qa.Bb?xt.$b=Ee(nt,at.Pa.jb[0])?2+Ee(nt,at.Pa.jb[2]):Ee(nt,at.Pa.jb[1]):xt.$b=0,at.kc&&(xt.Ad=Ee(nt,at.Bd)),xt.Za=!Ee(nt,145)+0,xt.Za){var mr=xt.Ob,wr=0;for(at=0;4>at;++at){var hr,nr=Rt[0+at];for(hr=0;4>hr;++hr){nr=aj[Ct[gt+hr]][nr];for(var Lr=Ub[Ee(nt,nr[0])];0<Lr;)Lr=Ub[2*Lr+Ee(nt,nr[Lr])];nr=-Lr,Ct[gt+hr]=nr}s(mr,wr,Ct,gt,4),wr+=4,Rt[0+at]=nr}}else nr=Ee(nt,156)?Ee(nt,128)?1:3:Ee(nt,163)?2:0,xt.Ob[0]=nr,o(Ct,gt,nr,4),o(Rt,0,nr,4);xt.Dd=Ee(nt,142)?Ee(nt,114)?Ee(nt,183)?1:3:2:0}if(rt.m.Ka)return S(Oe,7,"Premature end-of-partition0 encountered.");for(;Oe.ja<Oe.za;++Oe.ja){if(rt=Te,nt=(Qe=Oe).rb[Qe.sb-1],Ct=Qe.rb[Qe.sb+Qe.ja],Ye=Qe.ya[Qe.aa+Qe.ja],gt=Qe.kc?Ye.Ad:0)nt.la=Ct.la=0,Ye.Za||(nt.Na=Ct.Na=0),Ye.Hc=0,Ye.Gc=0,Ye.ia=0;else{var Sr,Yt;if(nt=Ct,Ct=rt,gt=Qe.Pa.Xc,Rt=Qe.ya[Qe.aa+Qe.ja],xt=Qe.pb[Rt.$b],at=Rt.ad,mr=0,wr=Qe.rb[Qe.sb-1],nr=hr=0,o(at,mr,0,384),Rt.Za)var ya=0,Is=gt[3];else{Lr=l(16);var ba=nt.Na+wr.Na;if(ba=od(Ct,gt[1],ba,xt.Eb,0,Lr,0),nt.Na=wr.Na=(0<ba)+0,1<ba)jc(Lr,0,at,mr);else{var Ps=Lr[0]+3>>3;for(Lr=0;256>Lr;Lr+=16)at[mr+Lr]=Ps}ya=1,Is=gt[0]}var kr=15&nt.la,Zs=15&wr.la;for(Lr=0;4>Lr;++Lr){var en=1&Zs;for(Ps=Yt=0;4>Ps;++Ps)kr=kr>>1|(en=(ba=od(Ct,Is,ba=en+(1&kr),xt.Sc,ya,at,mr))>ya)<<7,Yt=Yt<<2|(3<ba?3:1<ba?2:at[mr+0]!=0),mr+=16;kr>>=4,Zs=Zs>>1|en<<7,hr=(hr<<8|Yt)>>>0}for(Is=kr,ya=Zs>>4,Sr=0;4>Sr;Sr+=2){for(Yt=0,kr=nt.la>>4+Sr,Zs=wr.la>>4+Sr,Lr=0;2>Lr;++Lr){for(en=1&Zs,Ps=0;2>Ps;++Ps)ba=en+(1&kr),kr=kr>>1|(en=0<(ba=od(Ct,gt[2],ba,xt.Qc,0,at,mr)))<<3,Yt=Yt<<2|(3<ba?3:1<ba?2:at[mr+0]!=0),mr+=16;kr>>=2,Zs=Zs>>1|en<<5}nr|=Yt<<4*Sr,Is|=kr<<4<<Sr,ya|=(240&Zs)<<Sr}nt.la=Is,wr.la=ya,Rt.Hc=hr,Rt.Gc=nr,Rt.ia=43690&nr?0:xt.ia,gt=!(hr|nr)}if(0<Qe.L&&(Qe.wa[Qe.Y+Qe.ja]=Qe.gd[Ye.$b][Ye.Za],Qe.wa[Qe.Y+Qe.ja].La|=!gt),rt.Ka)return S(Oe,7,"Premature end-of-file encountered.")}if(V(Oe),Qe=st,rt=1,Ye=(Te=Oe).D,nt=0<Te.L&&Te.M>=Te.zb&&Te.M<=Te.Va,Te.Aa==0)e:{if(Ye.M=Te.M,Ye.uc=nt,JA(Te,Ye),rt=1,Ye=(Yt=Te.D).Nb,nt=(nr=uh[Te.L])*Te.R,Ct=nr/2*Te.B,Lr=16*Ye*Te.R,Ps=8*Ye*Te.B,gt=Te.sa,Rt=Te.ta-nt+Lr,xt=Te.qa,at=Te.ra-Ct+Ps,mr=Te.Ha,wr=Te.Ia-Ct+Ps,Zs=(kr=Yt.M)==0,hr=kr>=Te.Va-1,Te.Aa==2&&JA(Te,Yt),Yt.uc)for(en=(ba=Te).D.M,t(ba.D.uc),Yt=ba.yb;Yt<ba.Hb;++Yt){ya=Yt,Is=en;var Pa=(za=(ra=ba).D).Nb;Sr=ra.R;var za=za.wa[za.Y+ya],xs=ra.sa,kn=ra.ta+16*Pa*Sr+16*ya,ui=za.dd,Ua=za.tc;if(Ua!=0)if(t(3<=Ua),ra.L==1)0<ya&&ko(xs,kn,Sr,Ua+4),za.La&&yn(xs,kn,Sr,Ua),0<Is&&Sl(xs,kn,Sr,Ua+4),za.La&&nd(xs,kn,Sr,Ua);else{var Vi=ra.B,Fl=ra.qa,Lc=ra.ra+8*Pa*Vi+8*ya,Bo=ra.Ha,ra=ra.Ia+8*Pa*Vi+8*ya;Pa=za.ld,0<ya&&(rh(xs,kn,Sr,Ua+4,ui,Pa),Cl(Fl,Lc,Bo,ra,Vi,Ua+4,ui,Pa)),za.La&&(wo(xs,kn,Sr,Ua,ui,Pa),Fc(Fl,Lc,Bo,ra,Vi,Ua,ui,Pa)),0<Is&&(Sc(xs,kn,Sr,Ua+4,ui,Pa),sd(Fl,Lc,Bo,ra,Vi,Ua+4,ui,Pa)),za.La&&(Bl(xs,kn,Sr,Ua,ui,Pa),jl(Fl,Lc,Bo,ra,Vi,Ua,ui,Pa))}}if(Te.ia&&alert("todo:DitherRow"),Qe.put!=null){if(Yt=16*kr,kr=16*(kr+1),Zs?(Qe.y=Te.sa,Qe.O=Te.ta+Lr,Qe.f=Te.qa,Qe.N=Te.ra+Ps,Qe.ea=Te.Ha,Qe.W=Te.Ia+Ps):(Yt-=nr,Qe.y=gt,Qe.O=Rt,Qe.f=xt,Qe.N=at,Qe.ea=mr,Qe.W=wr),hr||(kr-=nr),kr>Qe.o&&(kr=Qe.o),Qe.F=null,Qe.J=null,Te.Fa!=null&&0<Te.Fa.length&&Yt<kr&&(Qe.J=YA(Te,Qe,Yt,kr-Yt),Qe.F=Te.mb,Qe.F==null&&Qe.F.length==0)){rt=S(Te,3,"Could not decode alpha data.");break e}Yt<Qe.j&&(nr=Qe.j-Yt,Yt=Qe.j,t(!(1&nr)),Qe.O+=Te.R*nr,Qe.N+=Te.B*(nr>>1),Qe.W+=Te.B*(nr>>1),Qe.F!=null&&(Qe.J+=Qe.width*nr)),Yt<kr&&(Qe.O+=Qe.v,Qe.N+=Qe.v>>1,Qe.W+=Qe.v>>1,Qe.F!=null&&(Qe.J+=Qe.v),Qe.ka=Yt-Qe.j,Qe.U=Qe.va-Qe.v,Qe.T=kr-Yt,rt=Qe.put(Qe))}Ye+1!=Te.Ic||hr||(s(Te.sa,Te.ta-nt,gt,Rt+16*Te.R,nt),s(Te.qa,Te.ra-Ct,xt,at+8*Te.B,Ct),s(Te.Ha,Te.Ia-Ct,mr,wr+8*Te.B,Ct))}if(!rt)return S(Oe,6,"Output aborted.")}return 1}(b,E)),E.bc!=null&&E.bc(E),H&=1}return H?(b.cb=0,H):0}function re(b,E,H,Y,de){de=b[E+H+32*Y]+(de>>3),b[E+H+32*Y]=-256&de?0>de?0:255:de}function le(b,E,H,Y,de,pe){re(b,E,0,H,Y+de),re(b,E,1,H,Y+pe),re(b,E,2,H,Y-pe),re(b,E,3,H,Y-de)}function v(b){return(20091*b>>16)+b}function Q(b,E,H,Y){var de,pe=0,xe=l(16);for(de=0;4>de;++de){var ye=b[E+0]+b[E+8],we=b[E+0]-b[E+8],Ne=(35468*b[E+4]>>16)-v(b[E+12]),De=v(b[E+4])+(35468*b[E+12]>>16);xe[pe+0]=ye+De,xe[pe+1]=we+Ne,xe[pe+2]=we-Ne,xe[pe+3]=ye-De,pe+=4,E++}for(de=pe=0;4>de;++de)ye=(b=xe[pe+0]+4)+xe[pe+8],we=b-xe[pe+8],Ne=(35468*xe[pe+4]>>16)-v(xe[pe+12]),re(H,Y,0,0,ye+(De=v(xe[pe+4])+(35468*xe[pe+12]>>16))),re(H,Y,1,0,we+Ne),re(H,Y,2,0,we-Ne),re(H,Y,3,0,ye-De),pe++,Y+=32}function K(b,E,H,Y){var de=b[E+0]+4,pe=35468*b[E+4]>>16,xe=v(b[E+4]),ye=35468*b[E+1]>>16;le(H,Y,0,de+xe,b=v(b[E+1]),ye),le(H,Y,1,de+pe,b,ye),le(H,Y,2,de-pe,b,ye),le(H,Y,3,de-xe,b,ye)}function ge(b,E,H,Y,de){Q(b,E,H,Y),de&&Q(b,E+16,H,Y+4)}function ce(b,E,H,Y){Hi(b,E+0,H,Y,1),Hi(b,E+32,H,Y+128,1)}function me(b,E,H,Y){var de;for(b=b[E+0]+4,de=0;4>de;++de)for(E=0;4>E;++E)re(H,Y,E,de,b)}function Fe(b,E,H,Y){b[E+0]&&ms(b,E+0,H,Y),b[E+16]&&ms(b,E+16,H,Y+4),b[E+32]&&ms(b,E+32,H,Y+128),b[E+48]&&ms(b,E+48,H,Y+128+4)}function Ie(b,E,H,Y){var de,pe=l(16);for(de=0;4>de;++de){var xe=b[E+0+de]+b[E+12+de],ye=b[E+4+de]+b[E+8+de],we=b[E+4+de]-b[E+8+de],Ne=b[E+0+de]-b[E+12+de];pe[0+de]=xe+ye,pe[8+de]=xe-ye,pe[4+de]=Ne+we,pe[12+de]=Ne-we}for(de=0;4>de;++de)xe=(b=pe[0+4*de]+3)+pe[3+4*de],ye=pe[1+4*de]+pe[2+4*de],we=pe[1+4*de]-pe[2+4*de],Ne=b-pe[3+4*de],H[Y+0]=xe+ye>>3,H[Y+16]=Ne+we>>3,H[Y+32]=xe-ye>>3,H[Y+48]=Ne-we>>3,Y+=64}function ze(b,E,H){var Y,de=E-32,pe=Js,xe=255-b[de-1];for(Y=0;Y<H;++Y){var ye,we=pe,Ne=xe+b[E-1];for(ye=0;ye<H;++ye)b[E+ye]=we[Ne+b[de+ye]];E+=32}}function Ze(b,E){ze(b,E,4)}function Ke(b,E){ze(b,E,8)}function et(b,E){ze(b,E,16)}function ct(b,E){var H;for(H=0;16>H;++H)s(b,E+32*H,b,E-32,16)}function mt(b,E){var H;for(H=16;0<H;--H)o(b,E,b[E-1],16),E+=32}function wt(b,E,H){var Y;for(Y=0;16>Y;++Y)o(E,H+32*Y,b,16)}function Ut(b,E){var H,Y=16;for(H=0;16>H;++H)Y+=b[E-1+32*H]+b[E+H-32];wt(Y>>5,b,E)}function Et(b,E){var H,Y=8;for(H=0;16>H;++H)Y+=b[E-1+32*H];wt(Y>>4,b,E)}function Dt(b,E){var H,Y=8;for(H=0;16>H;++H)Y+=b[E+H-32];wt(Y>>4,b,E)}function Kt(b,E){wt(128,b,E)}function Nt(b,E,H){return b+2*E+H+2>>2}function jr(b,E){var H,Y=E-32;for(Y=new Uint8Array([Nt(b[Y-1],b[Y+0],b[Y+1]),Nt(b[Y+0],b[Y+1],b[Y+2]),Nt(b[Y+1],b[Y+2],b[Y+3]),Nt(b[Y+2],b[Y+3],b[Y+4])]),H=0;4>H;++H)s(b,E+32*H,Y,0,Y.length)}function pr(b,E){var H=b[E-1],Y=b[E-1+32],de=b[E-1+64],pe=b[E-1+96];Xe(b,E+0,16843009*Nt(b[E-1-32],H,Y)),Xe(b,E+32,16843009*Nt(H,Y,de)),Xe(b,E+64,16843009*Nt(Y,de,pe)),Xe(b,E+96,16843009*Nt(de,pe,pe))}function zr(b,E){var H,Y=4;for(H=0;4>H;++H)Y+=b[E+H-32]+b[E-1+32*H];for(Y>>=3,H=0;4>H;++H)o(b,E+32*H,Y,4)}function lr(b,E){var H=b[E-1+0],Y=b[E-1+32],de=b[E-1+64],pe=b[E-1-32],xe=b[E+0-32],ye=b[E+1-32],we=b[E+2-32],Ne=b[E+3-32];b[E+0+96]=Nt(Y,de,b[E-1+96]),b[E+1+96]=b[E+0+64]=Nt(H,Y,de),b[E+2+96]=b[E+1+64]=b[E+0+32]=Nt(pe,H,Y),b[E+3+96]=b[E+2+64]=b[E+1+32]=b[E+0+0]=Nt(xe,pe,H),b[E+3+64]=b[E+2+32]=b[E+1+0]=Nt(ye,xe,pe),b[E+3+32]=b[E+2+0]=Nt(we,ye,xe),b[E+3+0]=Nt(Ne,we,ye)}function ar(b,E){var H=b[E+1-32],Y=b[E+2-32],de=b[E+3-32],pe=b[E+4-32],xe=b[E+5-32],ye=b[E+6-32],we=b[E+7-32];b[E+0+0]=Nt(b[E+0-32],H,Y),b[E+1+0]=b[E+0+32]=Nt(H,Y,de),b[E+2+0]=b[E+1+32]=b[E+0+64]=Nt(Y,de,pe),b[E+3+0]=b[E+2+32]=b[E+1+64]=b[E+0+96]=Nt(de,pe,xe),b[E+3+32]=b[E+2+64]=b[E+1+96]=Nt(pe,xe,ye),b[E+3+64]=b[E+2+96]=Nt(xe,ye,we),b[E+3+96]=Nt(ye,we,we)}function sr(b,E){var H=b[E-1+0],Y=b[E-1+32],de=b[E-1+64],pe=b[E-1-32],xe=b[E+0-32],ye=b[E+1-32],we=b[E+2-32],Ne=b[E+3-32];b[E+0+0]=b[E+1+64]=pe+xe+1>>1,b[E+1+0]=b[E+2+64]=xe+ye+1>>1,b[E+2+0]=b[E+3+64]=ye+we+1>>1,b[E+3+0]=we+Ne+1>>1,b[E+0+96]=Nt(de,Y,H),b[E+0+64]=Nt(Y,H,pe),b[E+0+32]=b[E+1+96]=Nt(H,pe,xe),b[E+1+32]=b[E+2+96]=Nt(pe,xe,ye),b[E+2+32]=b[E+3+96]=Nt(xe,ye,we),b[E+3+32]=Nt(ye,we,Ne)}function ea(b,E){var H=b[E+0-32],Y=b[E+1-32],de=b[E+2-32],pe=b[E+3-32],xe=b[E+4-32],ye=b[E+5-32],we=b[E+6-32],Ne=b[E+7-32];b[E+0+0]=H+Y+1>>1,b[E+1+0]=b[E+0+64]=Y+de+1>>1,b[E+2+0]=b[E+1+64]=de+pe+1>>1,b[E+3+0]=b[E+2+64]=pe+xe+1>>1,b[E+0+32]=Nt(H,Y,de),b[E+1+32]=b[E+0+96]=Nt(Y,de,pe),b[E+2+32]=b[E+1+96]=Nt(de,pe,xe),b[E+3+32]=b[E+2+96]=Nt(pe,xe,ye),b[E+3+64]=Nt(xe,ye,we),b[E+3+96]=Nt(ye,we,Ne)}function ma(b,E){var H=b[E-1+0],Y=b[E-1+32],de=b[E-1+64],pe=b[E-1+96];b[E+0+0]=H+Y+1>>1,b[E+2+0]=b[E+0+32]=Y+de+1>>1,b[E+2+32]=b[E+0+64]=de+pe+1>>1,b[E+1+0]=Nt(H,Y,de),b[E+3+0]=b[E+1+32]=Nt(Y,de,pe),b[E+3+32]=b[E+1+64]=Nt(de,pe,pe),b[E+3+64]=b[E+2+64]=b[E+0+96]=b[E+1+96]=b[E+2+96]=b[E+3+96]=pe}function Fs(b,E){var H=b[E-1+0],Y=b[E-1+32],de=b[E-1+64],pe=b[E-1+96],xe=b[E-1-32],ye=b[E+0-32],we=b[E+1-32],Ne=b[E+2-32];b[E+0+0]=b[E+2+32]=H+xe+1>>1,b[E+0+32]=b[E+2+64]=Y+H+1>>1,b[E+0+64]=b[E+2+96]=de+Y+1>>1,b[E+0+96]=pe+de+1>>1,b[E+3+0]=Nt(ye,we,Ne),b[E+2+0]=Nt(xe,ye,we),b[E+1+0]=b[E+3+32]=Nt(H,xe,ye),b[E+1+32]=b[E+3+64]=Nt(Y,H,xe),b[E+1+64]=b[E+3+96]=Nt(de,Y,H),b[E+1+96]=Nt(pe,de,Y)}function Qi(b,E){var H;for(H=0;8>H;++H)s(b,E+32*H,b,E-32,8)}function oa(b,E){var H;for(H=0;8>H;++H)o(b,E,b[E-1],8),E+=32}function Ha(b,E,H){var Y;for(Y=0;8>Y;++Y)o(E,H+32*Y,b,8)}function ci(b,E){var H,Y=8;for(H=0;8>H;++H)Y+=b[E+H-32]+b[E-1+32*H];Ha(Y>>4,b,E)}function Tf(b,E){var H,Y=4;for(H=0;8>H;++H)Y+=b[E+H-32];Ha(Y>>3,b,E)}function vl(b,E){var H,Y=4;for(H=0;8>H;++H)Y+=b[E-1+32*H];Ha(Y>>3,b,E)}function zA(b,E){Ha(128,b,E)}function mc(b,E,H){var Y=b[E-H],de=b[E+0],pe=3*(de-Y)+_f[1020+b[E-2*H]-b[E+H]],xe=sh[112+(pe+4>>3)];b[E-H]=Js[255+Y+sh[112+(pe+3>>3)]],b[E+0]=Js[255+de-xe]}function qu(b,E,H,Y){var de=b[E+0],pe=b[E+H];return vn[255+b[E-2*H]-b[E-H]]>Y||vn[255+pe-de]>Y}function Xu(b,E,H,Y){return 4*vn[255+b[E-H]-b[E+0]]+vn[255+b[E-2*H]-b[E+H]]<=Y}function Ku(b,E,H,Y,de){var pe=b[E-3*H],xe=b[E-2*H],ye=b[E-H],we=b[E+0],Ne=b[E+H],De=b[E+2*H],Ve=b[E+3*H];return 4*vn[255+ye-we]+vn[255+xe-Ne]>Y?0:vn[255+b[E-4*H]-pe]<=de&&vn[255+pe-xe]<=de&&vn[255+xe-ye]<=de&&vn[255+Ve-De]<=de&&vn[255+De-Ne]<=de&&vn[255+Ne-we]<=de}function Wu(b,E,H,Y){var de=2*Y+1;for(Y=0;16>Y;++Y)Xu(b,E+Y,H,de)&&mc(b,E+Y,H)}function Ai(b,E,H,Y){var de=2*Y+1;for(Y=0;16>Y;++Y)Xu(b,E+Y*H,1,de)&&mc(b,E+Y*H,1)}function Ri(b,E,H,Y){var de;for(de=3;0<de;--de)Wu(b,E+=4*H,H,Y)}function Qf(b,E,H,Y){var de;for(de=3;0<de;--de)Ai(b,E+=4,H,Y)}function xo(b,E,H,Y,de,pe,xe,ye){for(pe=2*pe+1;0<de--;){if(Ku(b,E,H,pe,xe))if(qu(b,E,H,ye))mc(b,E,H);else{var we=b,Ne=E,De=H,Ve=we[Ne-2*De],Ge=we[Ne-De],Oe=we[Ne+0],st=we[Ne+De],Ye=we[Ne+2*De],Te=27*(rt=_f[1020+3*(Oe-Ge)+_f[1020+Ve-st]])+63>>7,Qe=18*rt+63>>7,rt=9*rt+63>>7;we[Ne-3*De]=Js[255+we[Ne-3*De]+rt],we[Ne-2*De]=Js[255+Ve+Qe],we[Ne-De]=Js[255+Ge+Te],we[Ne+0]=Js[255+Oe-Te],we[Ne+De]=Js[255+st-Qe],we[Ne+2*De]=Js[255+Ye-rt]}E+=Y}}function Rn(b,E,H,Y,de,pe,xe,ye){for(pe=2*pe+1;0<de--;){if(Ku(b,E,H,pe,xe))if(qu(b,E,H,ye))mc(b,E,H);else{var we=b,Ne=E,De=H,Ve=we[Ne-De],Ge=we[Ne+0],Oe=we[Ne+De],st=sh[112+((Ye=3*(Ge-Ve))+4>>3)],Ye=sh[112+(Ye+3>>3)],Te=st+1>>1;we[Ne-2*De]=Js[255+we[Ne-2*De]+Te],we[Ne-De]=Js[255+Ve+Ye],we[Ne+0]=Js[255+Ge-st],we[Ne+De]=Js[255+Oe-Te]}E+=Y}}function VA(b,E,H,Y,de,pe){xo(b,E,H,1,16,Y,de,pe)}function wl(b,E,H,Y,de,pe){xo(b,E,1,H,16,Y,de,pe)}function Rf(b,E,H,Y,de,pe){var xe;for(xe=3;0<xe;--xe)Rn(b,E+=4*H,H,1,16,Y,de,pe)}function xc(b,E,H,Y,de,pe){var xe;for(xe=3;0<xe;--xe)Rn(b,E+=4,1,H,16,Y,de,pe)}function Mf(b,E,H,Y,de,pe,xe,ye){xo(b,E,de,1,8,pe,xe,ye),xo(H,Y,de,1,8,pe,xe,ye)}function GA(b,E,H,Y,de,pe,xe,ye){xo(b,E,1,de,8,pe,xe,ye),xo(H,Y,1,de,8,pe,xe,ye)}function qA(b,E,H,Y,de,pe,xe,ye){Rn(b,E+4*de,de,1,8,pe,xe,ye),Rn(H,Y+4*de,de,1,8,pe,xe,ye)}function Yu(b,E,H,Y,de,pe,xe,ye){Rn(b,E+4,1,de,8,pe,xe,ye),Rn(H,Y+4,1,de,8,pe,xe,ye)}function yc(){this.ba=new Vs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function XA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function KA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $u(){this.ua=0,this.Wa=new be,this.vb=new be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new $}function Of(){this.xb=this.a=0,this.l=new k,this.ca=new Vs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Ae,this.Pb=0,this.wd=new Ae,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $u,this.ab=0,this.gc=d(4,KA),this.Oc=0}function bc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new k,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function kl(b,E,H,Y,de,pe,xe){for(b=b==null?0:b[E+0],E=0;E<xe;++E)de[pe+E]=b+H[Y+E]&255,b=de[pe+E]}function WA(b,E,H,Y,de,pe,xe){var ye;if(b==null)kl(null,null,H,Y,de,pe,xe);else for(ye=0;ye<xe;++ye)de[pe+ye]=b[E+ye]+H[Y+ye]&255}function yo(b,E,H,Y,de,pe,xe){if(b==null)kl(null,null,H,Y,de,pe,xe);else{var ye,we=b[E+0],Ne=we,De=we;for(ye=0;ye<xe;++ye)Ne=De+(we=b[E+ye])-Ne,De=H[Y+ye]+(-256&Ne?0>Ne?0:255:Ne)&255,Ne=we,de[pe+ye]=De}}function YA(b,E,H,Y){var de=E.width,pe=E.o;if(t(b!=null&&E!=null),0>H||0>=Y||H+Y>pe)return null;if(!b.Cc){if(b.ga==null){var xe;if(b.ga=new bc,(xe=b.ga==null)||(xe=E.width*E.o,t(b.Gb.length==0),b.Gb=l(xe),b.Uc=0,b.Gb==null?xe=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,xe=1),xe=!xe),!xe){xe=b.ga;var ye=b.Fa,we=b.P,Ne=b.qc,De=b.mb,Ve=b.nb,Ge=we+1,Oe=Ne-1,st=xe.l;if(t(ye!=null&&De!=null&&E!=null),Co[0]=null,Co[1]=kl,Co[2]=WA,Co[3]=yo,xe.ca=De,xe.tb=Ve,xe.c=E.width,xe.i=E.height,t(0<xe.c&&0<xe.i),1>=Ne)E=0;else if(xe.$a=ye[we+0]>>0&3,xe.Z=ye[we+0]>>2&3,xe.Lc=ye[we+0]>>4&3,we=ye[we+0]>>6&3,0>xe.$a||1<xe.$a||4<=xe.Z||1<xe.Lc||we)E=0;else if(st.put=Gs,st.ac=Ba,st.bc=qs,st.ma=xe,st.width=E.width,st.height=E.height,st.Da=E.Da,st.v=E.v,st.va=E.va,st.j=E.j,st.o=E.o,xe.$a)e:{t(xe.$a==1),E=Ss();t:for(;;){if(E==null){E=0;break e}if(t(xe!=null),xe.mc=E,E.c=xe.c,E.i=xe.i,E.l=xe.l,E.l.ma=xe,E.l.width=xe.c,E.l.height=xe.i,E.a=0,fe(E.m,ye,Ge,Oe),!pn(xe.c,xe.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&Ks(E.s)?(xe.ic=1,ye=E.c*E.i,E.Ta=null,E.Ua=0,E.V=l(ye),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(xe.ic=0,E=Ui(E,xe.c)),!E))break t;E=1;break e}xe.mc=null,E=0}else E=Oe>=xe.c*xe.i;xe=!E}if(xe)return null;b.ga.Lc!=1?b.Ga=0:Y=pe-H}t(b.ga!=null),t(H+Y<=pe);e:{if(E=(ye=b.ga).c,pe=ye.l.o,ye.$a==0){if(Ge=b.rc,Oe=b.Vc,st=b.Fa,we=b.P+1+H*E,Ne=b.mb,De=b.nb+H*E,t(we<=b.P+b.qc),ye.Z!=0)for(t(Co[ye.Z]!=null),xe=0;xe<Y;++xe)Co[ye.Z](Ge,Oe,st,we,Ne,De,E),Ge=Ne,Oe=De,De+=E,we+=E;else for(xe=0;xe<Y;++xe)s(Ne,De,st,we,E),Ge=Ne,Oe=De,De+=E,we+=E;b.rc=Ge,b.Vc=Oe}else{if(t(ye.mc!=null),E=H+Y,t((xe=ye.mc)!=null),t(E<=xe.i),xe.C>=E)E=1;else if(ye.ic||_e(),ye.ic){ye=xe.V,Ge=xe.Ba,Oe=xe.c;var Ye=xe.i,Te=(st=1,we=xe.$/Oe,Ne=xe.$%Oe,De=xe.m,Ve=xe.s,xe.$),Qe=Oe*Ye,rt=Oe*E,nt=Ve.wc,at=Te<rt?Zr(Ve,Ne,we):null;t(Te<=Qe),t(E<=Ye),t(Ks(Ve));t:for(;;){for(;!De.h&&Te<rt;){if(Ne&nt||(at=Zr(Ve,Ne,we)),t(at!=null),Pe(De),256>(Ye=Ya(at.G[0],at.H[0],De)))ye[Ge+Te]=Ye,++Te,++Ne>=Oe&&(Ne=0,++we<=E&&!(we%16)&&$a(xe,we));else{if(!(280>Ye)){st=0;break t}Ye=Xs(Ye-256,De);var Ct,gt=Ya(at.G[4],at.H[4],De);if(Pe(De),!(Te>=(gt=fn(Oe,gt=Xs(gt,De)))&&Qe-Te>=Ye)){st=0;break t}for(Ct=0;Ct<Ye;++Ct)ye[Ge+Te+Ct]=ye[Ge+Te+Ct-gt];for(Te+=Ye,Ne+=Ye;Ne>=Oe;)Ne-=Oe,++we<=E&&!(we%16)&&$a(xe,we);Te<rt&&Ne&nt&&(at=Zr(Ve,Ne,we))}t(De.h==ke(De))}$a(xe,we>E?E:we);break t}!st||De.h&&Te<Qe?(st=0,xe.a=De.h?5:3):xe.$=Te,E=st}else E=Ws(xe,xe.V,xe.Ba,xe.c,xe.i,E,mo);if(!E){Y=0;break e}}H+Y>=pe&&(b.Cc=1),Y=1}if(!Y)return null;if(b.Cc&&((Y=b.ga)!=null&&(Y.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+H*de}function M(b,E,H,Y,de,pe){for(;0<de--;){var xe,ye=b,we=E+(H?1:0),Ne=b,De=E+(H?0:3);for(xe=0;xe<Y;++xe){var Ve=Ne[De+4*xe];Ve!=255&&(Ve*=32897,ye[we+4*xe+0]=ye[we+4*xe+0]*Ve>>23,ye[we+4*xe+1]=ye[we+4*xe+1]*Ve>>23,ye[we+4*xe+2]=ye[we+4*xe+2]*Ve>>23)}E+=pe}}function ue(b,E,H,Y,de){for(;0<Y--;){var pe;for(pe=0;pe<H;++pe){var xe=b[E+2*pe+0],ye=15&(Ne=b[E+2*pe+1]),we=4369*ye,Ne=(240&Ne|Ne>>4)*we>>16;b[E+2*pe+0]=(240&xe|xe>>4)*we>>16&240|(15&xe|xe<<4)*we>>16>>4&15,b[E+2*pe+1]=240&Ne|ye}E+=de}}function Se(b,E,H,Y,de,pe,xe,ye){var we,Ne,De=255;for(Ne=0;Ne<de;++Ne){for(we=0;we<Y;++we){var Ve=b[E+we];pe[xe+4*we]=Ve,De&=Ve}E+=H,xe+=ye}return De!=255}function Ue(b,E,H,Y,de){var pe;for(pe=0;pe<de;++pe)H[Y+pe]=b[E+pe]>>8}function _e(){bn=M,Ur=ue,Dr=Se,ca=Ue}function Je(b,E,H){_[b]=function(Y,de,pe,xe,ye,we,Ne,De,Ve,Ge,Oe,st,Ye,Te,Qe,rt,nt){var at,Ct=nt-1>>1,gt=ye[we+0]|Ne[De+0]<<16,Rt=Ve[Ge+0]|Oe[st+0]<<16;t(Y!=null);var xt=3*gt+Rt+131074>>2;for(E(Y[de+0],255&xt,xt>>16,Ye,Te),pe!=null&&(xt=3*Rt+gt+131074>>2,E(pe[xe+0],255&xt,xt>>16,Qe,rt)),at=1;at<=Ct;++at){var mr=ye[we+at]|Ne[De+at]<<16,wr=Ve[Ge+at]|Oe[st+at]<<16,hr=gt+mr+Rt+wr+524296,nr=hr+2*(mr+Rt)>>3;xt=nr+gt>>1,gt=(hr=hr+2*(gt+wr)>>3)+mr>>1,E(Y[de+2*at-1],255&xt,xt>>16,Ye,Te+(2*at-1)*H),E(Y[de+2*at-0],255&gt,gt>>16,Ye,Te+(2*at-0)*H),pe!=null&&(xt=hr+Rt>>1,gt=nr+wr>>1,E(pe[xe+2*at-1],255&xt,xt>>16,Qe,rt+(2*at-1)*H),E(pe[xe+2*at+0],255&gt,gt>>16,Qe,rt+(2*at+0)*H)),gt=mr,Rt=wr}1&nt||(xt=3*gt+Rt+131074>>2,E(Y[de+nt-1],255&xt,xt>>16,Ye,Te+(nt-1)*H),pe!=null&&(xt=3*Rt+gt+131074>>2,E(pe[xe+nt-1],255&xt,xt>>16,Qe,rt+(nt-1)*H)))}}function it(){wn[nh]=oj,wn[ih]=Tb,wn[Lb]=lj,wn[oh]=Qb,wn[lh]=Rb,wn[zf]=Mb,wn[Ib]=cj,wn[Vf]=Tb,wn[Gf]=Qb,wn[ch]=Rb,wn[qf]=Mb}function kt(b){return b&~Aj?0>b?0:255:b>>Ob}function Tt(b,E){return kt((19077*b>>8)+(26149*E>>8)-14234)}function Wt(b,E,H){return kt((19077*b>>8)-(6419*E>>8)-(13320*H>>8)+8708)}function Gt(b,E){return kt((19077*b>>8)+(33050*E>>8)-17685)}function dr(b,E,H,Y,de){Y[de+0]=Tt(b,H),Y[de+1]=Wt(b,E,H),Y[de+2]=Gt(b,E)}function qr(b,E,H,Y,de){Y[de+0]=Gt(b,E),Y[de+1]=Wt(b,E,H),Y[de+2]=Tt(b,H)}function ta(b,E,H,Y,de){var pe=Wt(b,E,H);E=pe<<3&224|Gt(b,E)>>3,Y[de+0]=248&Tt(b,H)|pe>>5,Y[de+1]=E}function xa(b,E,H,Y,de){var pe=240&Gt(b,E)|15;Y[de+0]=240&Tt(b,H)|Wt(b,E,H)>>4,Y[de+1]=pe}function Ja(b,E,H,Y,de){Y[de+0]=255,dr(b,E,H,Y,de+1)}function Ia(b,E,H,Y,de){qr(b,E,H,Y,de),Y[de+3]=255}function Mn(b,E,H,Y,de){dr(b,E,H,Y,de),Y[de+3]=255}function $s(b,E){return 0>b?0:b>E?E:b}function di(b,E,H){_[b]=function(Y,de,pe,xe,ye,we,Ne,De,Ve){for(var Ge=De+(-2&Ve)*H;De!=Ge;)E(Y[de+0],pe[xe+0],ye[we+0],Ne,De),E(Y[de+1],pe[xe+0],ye[we+0],Ne,De+H),de+=2,++xe,++we,De+=2*H;1&Ve&&E(Y[de+0],pe[xe+0],ye[we+0],Ne,De)}}function Ju(b,E,H){return H==0?b==0?E==0?6:5:E==0?4:0:H}function $A(b,E,H,Y,de){switch(b>>>30){case 3:Hi(E,H,Y,de,0);break;case 2:la(E,H,Y,de);break;case 1:ms(E,H,Y,de)}}function JA(b,E){var H,Y,de=E.M,pe=E.Nb,xe=b.oc,ye=b.pc+40,we=b.oc,Ne=b.pc+584,De=b.oc,Ve=b.pc+600;for(H=0;16>H;++H)xe[ye+32*H-1]=129;for(H=0;8>H;++H)we[Ne+32*H-1]=129,De[Ve+32*H-1]=129;for(0<de?xe[ye-1-32]=we[Ne-1-32]=De[Ve-1-32]=129:(o(xe,ye-32-1,127,21),o(we,Ne-32-1,127,9),o(De,Ve-32-1,127,9)),Y=0;Y<b.za;++Y){var Ge=E.ya[E.aa+Y];if(0<Y){for(H=-1;16>H;++H)s(xe,ye+32*H-4,xe,ye+32*H+12,4);for(H=-1;8>H;++H)s(we,Ne+32*H-4,we,Ne+32*H+4,4),s(De,Ve+32*H-4,De,Ve+32*H+4,4)}var Oe=b.Gd,st=b.Hd+Y,Ye=Ge.ad,Te=Ge.Hc;if(0<de&&(s(xe,ye-32,Oe[st].y,0,16),s(we,Ne-32,Oe[st].f,0,8),s(De,Ve-32,Oe[st].ea,0,8)),Ge.Za){var Qe=xe,rt=ye-32+16;for(0<de&&(Y>=b.za-1?o(Qe,rt,Oe[st].y[15],4):s(Qe,rt,Oe[st+1].y,0,4)),H=0;4>H;H++)Qe[rt+128+H]=Qe[rt+256+H]=Qe[rt+384+H]=Qe[rt+0+H];for(H=0;16>H;++H,Te<<=2)Qe=xe,rt=ye+_b[H],On[Ge.Ob[H]](Qe,rt),$A(Te,Ye,16*+H,Qe,rt)}else if(Qe=Ju(Y,de,Ge.Ob[0]),No[Qe](xe,ye),Te!=0)for(H=0;16>H;++H,Te<<=2)$A(Te,Ye,16*+H,xe,ye+_b[H]);for(H=Ge.Gc,Qe=Ju(Y,de,Ge.Dd),zi[Qe](we,Ne),zi[Qe](De,Ve),Te=Ye,Qe=we,rt=Ne,255&(Ge=H>>0)&&(170&Ge?ad(Te,256,Qe,rt):xn(Te,256,Qe,rt)),Ge=De,Te=Ve,255&(H>>=8)&&(170&H?ad(Ye,320,Ge,Te):xn(Ye,320,Ge,Te)),de<b.Ub-1&&(s(Oe[st].y,0,xe,ye+480,16),s(Oe[st].f,0,we,Ne+224,8),s(Oe[st].ea,0,De,Ve+224,8)),H=8*pe*b.B,Oe=b.sa,st=b.ta+16*Y+16*pe*b.R,Ye=b.qa,Ge=b.ra+8*Y+H,Te=b.Ha,Qe=b.Ia+8*Y+H,H=0;16>H;++H)s(Oe,st+H*b.R,xe,ye+32*H,16);for(H=0;8>H;++H)s(Ye,Ge+H*b.B,we,Ne+32*H,8),s(Te,Qe+H*b.B,De,Ve+32*H,8)}}function vc(b,E,H,Y,de,pe,xe,ye,we){var Ne=[0],De=[0],Ve=0,Ge=we!=null?we.kd:0,Oe=we??new XA;if(b==null||12>H)return 7;Oe.data=b,Oe.w=E,Oe.ha=H,E=[E],H=[H],Oe.gb=[Oe.gb];e:{var st=E,Ye=H,Te=Oe.gb;if(t(b!=null),t(Ye!=null),t(Te!=null),Te[0]=0,12<=Ye[0]&&!a(b,st[0],"RIFF")){if(a(b,st[0]+8,"WEBP")){Te=3;break e}var Qe=qe(b,st[0]+4);if(12>Qe||4294967286<Qe){Te=3;break e}if(Ge&&Qe>Ye[0]-8){Te=7;break e}Te[0]=Qe,st[0]+=12,Ye[0]-=12}Te=0}if(Te!=0)return Te;for(Qe=0<Oe.gb[0],H=H[0];;){e:{var rt=b;Ye=E,Te=H;var nt=Ne,at=De,Ct=st=[0];if((xt=Ve=[Ve])[0]=0,8>Te[0])Te=7;else{if(!a(rt,Ye[0],"VP8X")){if(qe(rt,Ye[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var gt=qe(rt,Ye[0]+8),Rt=1+He(rt,Ye[0]+12);if(2147483648<=Rt*(rt=1+He(rt,Ye[0]+15))){Te=3;break e}Ct!=null&&(Ct[0]=gt),nt!=null&&(nt[0]=Rt),at!=null&&(at[0]=rt),Ye[0]+=18,Te[0]-=18,xt[0]=1}Te=0}}if(Ve=Ve[0],st=st[0],Te!=0)return Te;if(Ye=!!(2&st),!Qe&&Ve)return 3;if(pe!=null&&(pe[0]=!!(16&st)),xe!=null&&(xe[0]=Ye),ye!=null&&(ye[0]=0),xe=Ne[0],st=De[0],Ve&&Ye&&we==null){Te=0;break}if(4>H){Te=7;break}if(Qe&&Ve||!Qe&&!Ve&&!a(b,E[0],"ALPH")){H=[H],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{gt=b,Te=E,Qe=H;var xt=Oe.gb;nt=Oe.na,at=Oe.P,Ct=Oe.Sa,Rt=22,t(gt!=null),t(Qe!=null),rt=Te[0];var mr=Qe[0];for(t(nt!=null),t(Ct!=null),nt[0]=null,at[0]=null,Ct[0]=0;;){if(Te[0]=rt,Qe[0]=mr,8>mr){Te=7;break e}var wr=qe(gt,rt+4);if(4294967286<wr){Te=3;break e}var hr=8+wr+1&-2;if(Rt+=hr,0<xt&&Rt>xt){Te=3;break e}if(!a(gt,rt,"VP8 ")||!a(gt,rt,"VP8L")){Te=0;break e}if(mr[0]<hr){Te=7;break e}a(gt,rt,"ALPH")||(nt[0]=gt,at[0]=rt+8,Ct[0]=wr),rt+=hr,mr-=hr}}if(H=H[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Te!=0)break}H=[H],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(xt=b,Te=E,Qe=H,nt=Oe.gb[0],at=Oe.Ja,Ct=Oe.xa,gt=Te[0],rt=!a(xt,gt,"VP8 "),Rt=!a(xt,gt,"VP8L"),t(xt!=null),t(Qe!=null),t(at!=null),t(Ct!=null),8>Qe[0])Te=7;else{if(rt||Rt){if(xt=qe(xt,gt+4),12<=nt&&xt>nt-12){Te=3;break e}if(Ge&&xt>Qe[0]-8){Te=7;break e}at[0]=xt,Te[0]+=8,Qe[0]-=8,Ct[0]=Rt}else Ct[0]=5<=Qe[0]&&xt[gt+0]==47&&!(xt[gt+4]>>5),at[0]=Qe[0];Te=0}if(H=H[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],E=E[0],Te!=0)break;if(4294967286<Oe.Ja)return 3;if(ye==null||Ye||(ye[0]=Oe.xa?2:1),xe=[xe],st=[st],Oe.xa){if(5>H){Te=7;break}ye=xe,Ge=st,Ye=pe,b==null||5>H?b=0:5<=H&&b[E+0]==47&&!(b[E+4]>>5)?(Qe=[0],xt=[0],nt=[0],fe(at=new Ae,b,E,H),Qt(at,Qe,xt,nt)?(ye!=null&&(ye[0]=Qe[0]),Ge!=null&&(Ge[0]=xt[0]),Ye!=null&&(Ye[0]=nt[0]),b=1):b=0):b=0}else{if(10>H){Te=7;break}ye=st,b==null||10>H||!P(b,E+3,H-3)?b=0:(Ge=b[E+0]|b[E+1]<<8|b[E+2]<<16,Ye=16383&(b[E+7]<<8|b[E+6]),b=16383&(b[E+9]<<8|b[E+8]),1&Ge||3<(Ge>>1&7)||!(Ge>>4&1)||Ge>>5>=Oe.Ja||!Ye||!b?b=0:(xe&&(xe[0]=Ye),ye&&(ye[0]=b),b=1))}if(!b||(xe=xe[0],st=st[0],Ve&&(Ne[0]!=xe||De[0]!=st)))return 3;we!=null&&(we[0]=Oe,we.offset=E-we.w,t(4294967286>E-we.w),t(we.offset==we.ha-H));break}return Te==0||Te==7&&Ve&&we==null?(pe!=null&&(pe[0]|=Oe.na!=null&&0<Oe.na.length),Y!=null&&(Y[0]=xe),de!=null&&(de[0]=st),0):Te}function ZA(b,E,H){var Y=E.width,de=E.height,pe=0,xe=0,ye=Y,we=de;if(E.Da=b!=null&&0<b.Da,E.Da&&(ye=b.cd,we=b.bd,pe=b.v,xe=b.j,11>H||(pe&=-2,xe&=-2),0>pe||0>xe||0>=ye||0>=we||pe+ye>Y||xe+we>de))return 0;if(E.v=pe,E.j=xe,E.va=pe+ye,E.o=xe+we,E.U=ye,E.T=we,E.da=b!=null&&0<b.da,E.da){if(!ft(ye,we,H=[b.ib],pe=[b.hb]))return 0;E.ib=H[0],E.hb=pe[0]}return E.ob=b!=null&&b.ob,E.Kb=b==null||!b.Sd,E.da&&(E.ob=E.ib<3*Y/4&&E.hb<3*de/4,E.Kb=0),1}function ed(b){if(b==null)return 2;if(11>b.S){var E=b.f.RGBA;E.fb+=(b.height-1)*E.A,E.A=-E.A}else E=b.f.kb,b=b.height,E.O+=(b-1)*E.fa,E.fa=-E.fa,E.N+=(b-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(b-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(b-1)*E.lb,E.lb=-E.lb);return 0}function wc(b,E,H,Y){if(Y==null||0>=b||0>=E)return 2;if(H!=null){if(H.Da){var de=H.cd,pe=H.bd,xe=-2&H.v,ye=-2&H.j;if(0>xe||0>ye||0>=de||0>=pe||xe+de>b||ye+pe>E)return 2;b=de,E=pe}if(H.da){if(!ft(b,E,de=[H.ib],pe=[H.hb]))return 2;b=de[0],E=pe[0]}}Y.width=b,Y.height=E;e:{var we=Y.width,Ne=Y.height;if(b=Y.S,0>=we||0>=Ne||!(b>=nh&&13>b))b=2;else{if(0>=Y.Rd&&Y.sd==null){xe=pe=de=E=0;var De=(ye=we*zb[b])*Ne;if(11>b||(pe=(Ne+1)/2*(E=(we+1)/2),b==12&&(xe=(de=we)*Ne)),(Ne=l(De+2*pe+xe))==null){b=1;break e}Y.sd=Ne,11>b?((we=Y.f.RGBA).eb=Ne,we.fb=0,we.A=ye,we.size=De):((we=Y.f.kb).y=Ne,we.O=0,we.fa=ye,we.Fd=De,we.f=Ne,we.N=0+De,we.Ab=E,we.Cd=pe,we.ea=Ne,we.W=0+De+pe,we.Db=E,we.Ed=pe,b==12&&(we.F=Ne,we.J=0+De+2*pe),we.Tc=xe,we.lb=de)}if(E=1,de=Y.S,pe=Y.width,xe=Y.height,de>=nh&&13>de)if(11>de)b=Y.f.RGBA,E&=(ye=Math.abs(b.A))*(xe-1)+pe<=b.size,E&=ye>=pe*zb[de],E&=b.eb!=null;else{b=Y.f.kb,ye=(pe+1)/2,De=(xe+1)/2,we=Math.abs(b.fa),Ne=Math.abs(b.Ab);var Ve=Math.abs(b.Db),Ge=Math.abs(b.lb),Oe=Ge*(xe-1)+pe;E&=we*(xe-1)+pe<=b.Fd,E&=Ne*(De-1)+ye<=b.Cd,E=(E&=Ve*(De-1)+ye<=b.Ed)&we>=pe&Ne>=ye&Ve>=ye,E&=b.y!=null,E&=b.f!=null,E&=b.ea!=null,de==12&&(E&=Ge>=pe,E&=Oe<=b.Tc,E&=b.F!=null)}else E=0;b=E?0:2}}return b!=0||H!=null&&H.fd&&(b=ed(Y)),b}var _a=64,kc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Nc=24,Cc=32,td=8,Es=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];At("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(b){return b},_.Predictor2=function(b,E,H){return E[H+0]},_.Predictor3=function(b,E,H){return E[H+1]},_.Predictor4=function(b,E,H){return E[H-1]},_.Predictor5=function(b,E,H){return ht(ht(b,E[H+1]),E[H+0])},_.Predictor6=function(b,E,H){return ht(b,E[H-1])},_.Predictor7=function(b,E,H){return ht(b,E[H+0])},_.Predictor8=function(b,E,H){return ht(E[H-1],E[H+0])},_.Predictor9=function(b,E,H){return ht(E[H+0],E[H+1])},_.Predictor10=function(b,E,H){return ht(ht(b,E[H-1]),ht(E[H+0],E[H+1]))},_.Predictor11=function(b,E,H){var Y=E[H+0];return 0>=Vt(Y>>24&255,b>>24&255,(E=E[H-1])>>24&255)+Vt(Y>>16&255,b>>16&255,E>>16&255)+Vt(Y>>8&255,b>>8&255,E>>8&255)+Vt(255&Y,255&b,255&E)?Y:b},_.Predictor12=function(b,E,H){var Y=E[H+0];return(Lt((b>>24&255)+(Y>>24&255)-((E=E[H-1])>>24&255))<<24|Lt((b>>16&255)+(Y>>16&255)-(E>>16&255))<<16|Lt((b>>8&255)+(Y>>8&255)-(E>>8&255))<<8|Lt((255&b)+(255&Y)-(255&E)))>>>0},_.Predictor13=function(b,E,H){var Y=E[H-1];return(Mt((b=ht(b,E[H+0]))>>24&255,Y>>24&255)<<24|Mt(b>>16&255,Y>>16&255)<<16|Mt(b>>8&255,Y>>8&255)<<8|Mt(b>>0&255,Y>>0&255))>>>0};var Hf=_.PredictorAdd0;_.PredictorAdd1=Xt,At("Predictor2","PredictorAdd2"),At("Predictor3","PredictorAdd3"),At("Predictor4","PredictorAdd4"),At("Predictor5","PredictorAdd5"),At("Predictor6","PredictorAdd6"),At("Predictor7","PredictorAdd7"),At("Predictor8","PredictorAdd8"),At("Predictor9","PredictorAdd9"),At("Predictor10","PredictorAdd10"),At("Predictor11","PredictorAdd11"),At("Predictor12","PredictorAdd12"),At("Predictor13","PredictorAdd13");var rd=_.PredictorAdd2;Zt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Zt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Zu,mn=_.ColorIndexInverseTransform,Bc=_.MapARGB,eh=_.VP8LColorIndexInverseTransformAlpha,th=_.MapAlpha,bo=_.VP8LPredictorsAdd=[];bo.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var Nl,Ls,ps,vo,Mi,Oi,jc,Hi,la,ad,ms,xn,Sc,rh,sd,Cl,Bl,wo,jl,Fc,Sl,ko,nd,yn,bn,Ur,Dr,ca,Sa=l(511),_i=l(2041),id=l(225),Ec=l(767),ah=0,_f=_i,sh=id,Js=Ec,vn=Sa,nh=0,ih=1,Lb=2,oh=3,lh=4,zf=5,Ib=6,Vf=7,Gf=8,ch=9,qf=10,X5=[2,3,7],K5=[3,3,11],Pb=[280,256,256,256,40],W5=[0,1,1,1,0],Y5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],J5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Z5=8,Xf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],od=null,ej=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],tj=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ub=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rj=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],aj=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],sj=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nj=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],No=[],On=[],zi=[],ij=1,Db=2,Co=[],wn=[];Je("UpsampleRgbLinePair",dr,3),Je("UpsampleBgrLinePair",qr,3),Je("UpsampleRgbaLinePair",Mn,4),Je("UpsampleBgraLinePair",Ia,4),Je("UpsampleArgbLinePair",Ja,4),Je("UpsampleRgba4444LinePair",xa,2),Je("UpsampleRgb565LinePair",ta,2);var oj=_.UpsampleRgbLinePair,lj=_.UpsampleBgrLinePair,Tb=_.UpsampleRgbaLinePair,Qb=_.UpsampleBgraLinePair,Rb=_.UpsampleArgbLinePair,Mb=_.UpsampleRgba4444LinePair,cj=_.UpsampleRgb565LinePair,Ah=16,dh=1<<Ah-1,ld=-227,Wf=482,Ob=6,Aj=(256<<Ob)-1,Hb=0,dj=l(256),uj=l(256),hj=l(256),gj=l(256),fj=l(Wf-ld),pj=l(Wf-ld);di("YuvToRgbRow",dr,3),di("YuvToBgrRow",qr,3),di("YuvToRgbaRow",Mn,4),di("YuvToBgraRow",Ia,4),di("YuvToArgbRow",Ja,4),di("YuvToRgba4444Row",xa,2),di("YuvToRgb565Row",ta,2);var _b=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],uh=[0,2,8],mj=[8,7,6,4,4,2,2,2,1,1,1,1],xj=1;this.WebPDecodeRGBA=function(b,E,H,Y,de){var pe=ih,xe=new yc,ye=new Vs;xe.ba=ye,ye.S=pe,ye.width=[ye.width],ye.height=[ye.height];var we=ye.width,Ne=ye.height,De=new Qn;if(De==null||b==null)var Ve=2;else t(De!=null),Ve=vc(b,E,H,De.width,De.height,De.Pd,De.Qd,De.format,null);if(Ve!=0?we=0:(we!=null&&(we[0]=De.width[0]),Ne!=null&&(Ne[0]=De.height[0]),we=1),we){ye.width=ye.width[0],ye.height=ye.height[0],Y!=null&&(Y[0]=ye.width),de!=null&&(de[0]=ye.height);e:{if(Y=new k,(de=new XA).data=b,de.w=E,de.ha=H,de.kd=1,E=[0],t(de!=null),((b=vc(de.data,de.w,de.ha,null,null,null,E,null,de))==0||b==7)&&E[0]&&(b=4),(E=b)==0){if(t(xe!=null),Y.data=de.data,Y.w=de.w+de.offset,Y.ha=de.ha-de.offset,Y.put=Gs,Y.ac=Ba,Y.bc=qs,Y.ma=xe,de.xa){if((b=Ss())==null){xe=1;break e}if(function(Ge,Oe){var st=[0],Ye=[0],Te=[0];t:for(;;){if(Ge==null)return 0;if(Oe==null)return Ge.a=2,0;if(Ge.l=Oe,Ge.a=0,fe(Ge.m,Oe.data,Oe.w,Oe.ha),!Qt(Ge.m,st,Ye,Te)){Ge.a=3;break t}if(Ge.xb=Db,Oe.width=st[0],Oe.height=Ye[0],!pn(st[0],Ye[0],1,Ge,null))break t;return 1}return t(Ge.a!=0),0}(b,Y)){if(Y=(E=wc(Y.width,Y.height,xe.Oa,xe.ba))==0){t:{Y=b;r:for(;;){if(Y==null){Y=0;break t}if(t(Y.s.yc!=null),t(Y.s.Ya!=null),t(0<Y.s.Wb),t((H=Y.l)!=null),t((de=H.ma)!=null),Y.xb!=0){if(Y.ca=de.ba,Y.tb=de.tb,t(Y.ca!=null),!ZA(de.Oa,H,oh)){Y.a=2;break r}if(!Ui(Y,H.width)||H.da)break r;if((H.da||fr(Y.ca.S))&&_e(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&_e()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!Ft(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break r}Y.xb=0}if(!Ws(Y,Y.V,Y.Ba,Y.c,Y.i,H.o,oi))break r;de.Dc=Y.Ma,Y=1;break t}t(Y.a!=0),Y=0}Y=!Y}Y&&(E=b.a)}else E=b.a}else{if((b=new F)==null){xe=1;break e}if(b.Fa=de.na,b.P=de.P,b.qc=de.Sa,O(b,Y)){if((E=wc(Y.width,Y.height,xe.Oa,xe.ba))==0){if(b.Aa=0,H=xe.Oa,t((de=b)!=null),H!=null){if(0<(we=0>(we=H.Md)?0:100<we?255:255*we/100)){for(Ne=De=0;4>Ne;++Ne)12>(Ve=de.pb[Ne]).lc&&(Ve.ia=we*mj[0>Ve.lc?0:Ve.lc]>>3),De|=Ve.ia;De&&(alert("todo:VP8InitRandom"),de.ia=1)}de.Ga=H.Id,100<de.Ga?de.Ga=100:0>de.Ga&&(de.Ga=0)}ee(b,Y)||(E=b.a)}}else E=b.a}E==0&&xe.Oa!=null&&xe.Oa.fd&&(E=ed(xe.ba))}xe=E}pe=xe!=0?null:11>pe?ye.f.RGBA.eb:ye.f.kb.y}else pe=null;return pe};var zb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(_,ie){for(var oe="",W=0;W<4;W++)oe+=String.fromCharCode(_[ie++]);return oe}function y(_,ie){return(_[ie+0]<<0|_[ie+1]<<8|_[ie+2]<<16)>>>0}function N(_,ie){return(_[ie+0]<<0|_[ie+1]<<8|_[ie+2]<<16|_[ie+3]<<24)>>>0}new f;var B=[0],w=[0],U=[],L=new f,R=e,C=function(_,ie){var oe={},W=0,$=!1,Z=0,J=0;if(oe.frames=[],!function(he,ke,Le,Pe){for(var Re=0;Re<Pe;Re++)if(he[ke+Re]!=Le.charCodeAt(Re))return!0;return!1}(_,ie,"RIFF",4)){for(N(_,ie+=4),ie+=8;ie<_.length;){var ne=m(_,ie),te=N(_,ie+=4);ie+=4;var Be=te+(1&te);switch(ne){case"VP8 ":case"VP8L":oe.frames[W]===void 0&&(oe.frames[W]={}),(Ce=oe.frames[W]).src_off=$?J:ie-8,Ce.src_size=Z+te+8,W++,$&&($=!1,Z=0,J=0);break;case"VP8X":(Ce=oe.header={}).feature_flags=_[ie];var fe=ie+4;Ce.canvas_width=1+y(_,fe),fe+=3,Ce.canvas_height=1+y(_,fe),fe+=3;break;case"ALPH":$=!0,Z=Be+8,J=ie-8;break;case"ANIM":(Ce=oe.header).bgcolor=N(_,ie),fe=ie+4,Ce.loop_count=(Me=_)[(Ae=fe)+0]<<0|Me[Ae+1]<<8,fe+=2;break;case"ANMF":var je,Ce;(Ce=oe.frames[W]={}).offset_x=2*y(_,ie),ie+=3,Ce.offset_y=2*y(_,ie),ie+=3,Ce.width=1+y(_,ie),ie+=3,Ce.height=1+y(_,ie),ie+=3,Ce.duration=y(_,ie),ie+=3,je=_[ie++],Ce.dispose=1&je,Ce.blend=je>>1&1}ne!="ANMF"&&(ie+=Be)}var Me,Ae;return oe}}(R,0);C.response=R,C.rgbaoutput=!0,C.dataurl=!1;var I=C.header?C.header:null,T=C.frames?C.frames:null;if(I){I.loop_counter=I.loop_count,B=[I.canvas_height],w=[I.canvas_width];for(var z=0;z<T.length&&T[z].blend!=0;z++);}var D=T[0],ae=L.WebPDecodeRGBA(R,D.src_off,D.src_size,w,B);D.rgba=ae,D.imgwidth=w[0],D.imgheight=B[0];for(var X=0;X<w[0]*B[0]*4;X++)U[X]=ae[X];return this.width=w,this.height=B,this.data=U,this}(function(e){var t=function(){return typeof jx=="function"},a=function(B,w,U,L){var R=4,C=d;switch(L){case e.image_compression.FAST:R=1,C=l;break;case e.image_compression.MEDIUM:R=6,C=g;break;case e.image_compression.SLOW:R=9,C=f}B=s(B,w,U,C);var I=jx(B,{level:R});return e.__addimage__.arrayBufferToBinaryString(I)},s=function(B,w,U,L){for(var R,C,I,T=B.length/w,z=new Uint8Array(B.length+T),D=y(),ae=0;ae<T;ae+=1){if(I=ae*w,R=B.subarray(I,I+w),L)z.set(L(R,U,C),I+ae);else{for(var X,_=D.length,ie=[];X<_;X+=1)ie[X]=D[X](R,U,C);var oe=N(ie.concat());z.set(ie[oe],I+ae)}C=R}return z},o=function(B){var w=Array.apply([],B);return w.unshift(0),w},l=function(B,w){var U,L=[],R=B.length;L[0]=1;for(var C=0;C<R;C+=1)U=B[C-w]||0,L[C+1]=B[C]-U+256&255;return L},d=function(B,w,U){var L,R=[],C=B.length;R[0]=2;for(var I=0;I<C;I+=1)L=U&&U[I]||0,R[I+1]=B[I]-L+256&255;return R},g=function(B,w,U){var L,R,C=[],I=B.length;C[0]=3;for(var T=0;T<I;T+=1)L=B[T-w]||0,R=U&&U[T]||0,C[T+1]=B[T]+256-(L+R>>>1)&255;return C},f=function(B,w,U){var L,R,C,I,T=[],z=B.length;T[0]=4;for(var D=0;D<z;D+=1)L=B[D-w]||0,R=U&&U[D]||0,C=U&&U[D-w]||0,I=m(L,R,C),T[D+1]=B[D]-I+256&255;return T},m=function(B,w,U){if(B===w&&w===U)return B;var L=Math.abs(w-U),R=Math.abs(B-U),C=Math.abs(B+w-U-U);return L<=R&&L<=C?B:R<=C?w:U},y=function(){return[o,l,d,g,f]},N=function(B){var w=B.map(function(U){return U.reduce(function(L,R){return L+Math.abs(R)},0)});return w.indexOf(Math.min.apply(null,w))};e.processPNG=function(B,w,U,L){var R,C,I,T,z,D,ae,X,_,ie,oe,W,$,Z,J,ne=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(B)&&(B=new Uint8Array(B)),this.__addimage__.isArrayBufferView(B)){if(B=(I=new gI(B)).imgData,C=I.bits,R=I.colorSpace,z=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){_=(X=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,oe=new Uint8Array(_*I.colors),ie=new Uint8Array(_);var Be,fe=I.pixelBitlength-I.bits;for(Z=0,J=0;Z<_;Z++){for($=X[Z],Be=0;Be<fe;)oe[J++]=$>>>Be&255,Be+=I.bits;ie[Z]=$>>>Be&255}}if(I.bits===16){_=(X=new Uint32Array(I.decodePixels().buffer)).length,oe=new Uint8Array(_*(32/I.pixelBitlength)*I.colors),ie=new Uint8Array(_*(32/I.pixelBitlength)),W=I.colors>1,Z=0,J=0;for(var je=0;Z<_;)$=X[Z++],oe[J++]=$>>>0&255,W&&(oe[J++]=$>>>16&255,$=X[Z++],oe[J++]=$>>>0&255),ie[je++]=$>>>16&255;C=8}L!==e.image_compression.NONE&&t()?(B=a(oe,I.width*I.colors,I.colors,L),ae=a(ie,I.width,1,L)):(B=oe,ae=ie,ne=void 0)}if(I.colorType===3&&(R=this.color_spaces.INDEXED,D=I.palette,I.transparency.indexed)){var Ce=I.transparency.indexed,Me=0;for(Z=0,_=Ce.length;Z<_;++Z)Me+=Ce[Z];if((Me/=255)===_-1&&Ce.indexOf(0)!==-1)T=[Ce.indexOf(0)];else if(Me!==_){for(X=I.decodePixels(),ie=new Uint8Array(X.length),Z=0,_=X.length;Z<_;Z++)ie[Z]=Ce[X[Z]];ae=a(ie,I.width,1)}}var Ae=function(he){var ke;switch(he){case e.image_compression.FAST:ke=11;break;case e.image_compression.MEDIUM:ke=13;break;case e.image_compression.SLOW:ke=14;break;default:ke=12}return ke}(L);return ne===this.decode.FLATE_DECODE&&(te="/Predictor "+Ae+" "),te+="/Colors "+z+" /BitsPerComponent "+C+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),(ae&&this.__addimage__.isArrayBuffer(ae)||this.__addimage__.isArrayBufferView(ae))&&(ae=this.__addimage__.arrayBufferToBinaryString(ae)),{alias:U,data:B,index:w,filter:ne,decodeParameters:te,transparency:T,palette:D,sMask:ae,predictor:Ae,width:I.width,height:I.height,bitsPerComponent:C,colorSpace:R}}}})(Ot.API),function(e){e.processGIF89A=function(t,a,s,o){var l=new fI(t),d=l.width,g=l.height,f=[];l.decodeAndBlitFrameRGBA(0,f);var m={data:f,width:d,height:g},y=new Xp(100).encode(m,100);return e.processJPEG.call(this,y,a,s,o)},e.processGIF87A=e.processGIF89A}(Ot.API),Vn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:o,green:s,blue:a,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vn.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(a){Ir.log("bit decode error:"+a)}},Vn.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),a=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,o=0;o<t;o++)for(var l=this.datav.getUint8(this.pos++,!0),d=s*this.width*4+8*o*4,g=0;g<8&&8*o+g<this.width;g++){var f=this.palette[l>>7-g&1];this.data[d+4*g]=f.blue,this.data[d+4*g+1]=f.green,this.data[d+4*g+2]=f.red,this.data[d+4*g+3]=255}a!==0&&(this.pos+=4-a)}},Vn.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,o=0;o<e;o++){var l=this.datav.getUint8(this.pos++,!0),d=s*this.width*4+2*o*4,g=l>>4,f=15&l,m=this.palette[g];if(this.data[d]=m.blue,this.data[d+1]=m.green,this.data[d+2]=m.red,this.data[d+3]=255,2*o+1>=this.width)break;m=this.palette[f],this.data[d+4]=m.blue,this.data[d+4+1]=m.green,this.data[d+4+2]=m.red,this.data[d+4+3]=255}t!==0&&(this.pos+=4-t)}},Vn.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+4*s;if(o<this.palette.length){var d=this.palette[o];this.data[l]=d.red,this.data[l+1]=d.green,this.data[l+2]=d.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}e!==0&&(this.pos+=4-e)}},Vn.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&t)/t*255|0,g=(l>>5&t)/t*255|0,f=(l>>10&t)/t*255|0,m=l>>15?255:0,y=s*this.width*4+4*o;this.data[y]=f,this.data[y+1]=g,this.data[y+2]=d,this.data[y+3]=m}this.pos+=e}},Vn.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),a=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var o=this.bottom_up?s:this.height-1-s,l=0;l<this.width;l++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var g=(d&t)/t*255|0,f=(d>>5&a)/a*255|0,m=(d>>11)/t*255|0,y=o*this.width*4+4*l;this.data[y]=m,this.data[y+1]=f,this.data[y+2]=g,this.data[y+3]=255}this.pos+=e}},Vn.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=255}this.pos+=this.width%4}},Vn.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),g=t*this.width*4+4*a;this.data[g]=l,this.data[g+1]=o,this.data[g+2]=s,this.data[g+3]=d}},Vn.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,a,s,o){var l=new Vn(t,!1),d=l.width,g=l.height,f={data:l.getData(),width:d,height:g},m=new Xp(100).encode(f,100);return e.processJPEG.call(this,m,a,s,o)}}(Ot.API),l1.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,a,s,o){var l=new l1(t),d=l.width,g=l.height,f={data:l.getData(),width:d,height:g},m=new Xp(100).encode(f,100);return e.processJPEG.call(this,m,a,s,o)}}(Ot.API),Ot.API.processRGBA=function(e,t,a){for(var s=e.data,o=s.length,l=new Uint8Array(o/4*3),d=new Uint8Array(o/4),g=0,f=0,m=0;m<o;m+=4){var y=s[m],N=s[m+1],B=s[m+2],w=s[m+3];l[g++]=y,l[g++]=N,l[g++]=B,d[f++]=w}var U=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:U,index:t,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ot.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Qc=Ot.API,Kh=Qc.getCharWidthsArray=function(e,t){var a,s,o=(t=t||{}).font||this.internal.getFont(),l=t.fontSize||this.internal.getFontSize(),d=t.charSpace||this.internal.getCharSpace(),g=t.widths?t.widths:o.metadata.Unicode.widths,f=g.fof?g.fof:1,m=t.kerning?t.kerning:o.metadata.Unicode.kerning,y=m.fof?m.fof:1,N=t.doKerning!==!1,B=0,w=e.length,U=0,L=g[0]||f,R=[];for(a=0;a<w;a++)s=e.charCodeAt(a),typeof o.metadata.widthOfString=="function"?R.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(s))+d*(1e3/l)||0)/1e3):(B=N&&Nr(m[s])==="object"&&!isNaN(parseInt(m[s][U],10))?m[s][U]/y:0,R.push((g[s]||L)/f+B)),U=s;return R},s1=Qc.getStringUnitWidth=function(e,t){var a=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),o=t.charSpace||this.internal.getCharSpace();return Qc.processArabic&&(e=Qc.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,a,o)/a:Kh.apply(this,arguments).reduce(function(l,d){return l+d},0)},n1=function(e,t,a,s){for(var o=[],l=0,d=e.length,g=0;l!==d&&g+t[l]<a;)g+=t[l],l++;o.push(e.slice(0,l));var f=l;for(g=0;l!==d;)g+t[l]>s&&(o.push(e.slice(f,l)),g=0,f=l),g+=t[l],l++;return f!==l&&o.push(e.slice(f,l)),o},i1=function(e,t,a){a||(a={});var s,o,l,d,g,f,m,y=[],N=[y],B=a.textIndent||0,w=0,U=0,L=e.split(" "),R=Kh.apply(this,[" ",a])[0];if(f=a.lineIndent===-1?L[0].length+2:a.lineIndent||0){var C=Array(f).join(" "),I=[];L.map(function(z){(z=z.split(/\s*\n/)).length>1?I=I.concat(z.map(function(D,ae){return(ae&&D.length?`
`:"")+D})):I.push(z[0])}),L=I,f=s1.apply(this,[C,a])}for(l=0,d=L.length;l<d;l++){var T=0;if(s=L[l],f&&s[0]==`
`&&(s=s.substr(1),T=1),B+w+(U=(o=Kh.apply(this,[s,a])).reduce(function(z,D){return z+D},0))>t||T){if(U>t){for(g=n1.apply(this,[s,o,t-(B+w),t]),y.push(g.shift()),y=[g.pop()];g.length;)N.push([g.shift()]);U=o.slice(s.length-(y[0]?y[0].length:0)).reduce(function(z,D){return z+D},0)}else y=[s];N.push(y),B=U+f,w=R}else y.push(s),B+=w+U,w=R}return m=f?function(z,D){return(D?C:"")+z.join(" ")}:function(z){return z.join(" ")},N.map(m)},Qc.splitTextToSize=function(e,t,a){var s,o=(a=a||{}).fontSize||this.internal.getFontSize(),l=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var N=this.internal.getFont(y.fontName,y.fontStyle);return N.metadata.Unicode?{widths:N.metadata.Unicode.widths||{0:1},kerning:N.metadata.Unicode.kerning||{}}:{font:N.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var d=1*this.internal.scaleFactor*t/o;l.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/o:0,l.lineIndent=a.lineIndent;var g,f,m=[];for(g=0,f=s.length;g<f;g++)m=m.concat(i1.apply(this,[s[g],d,l]));return m},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",a={},s={},o=0;o<t.length;o++)a[t[o]]="0123456789abcdef"[o],s["0123456789abcdef"[o]]=t[o];var l=function(N){return"0x"+parseInt(N,10).toString(16)},d=e.__fontmetrics__.compress=function(N){var B,w,U,L,R=["{"];for(var C in N){if(B=N[C],isNaN(parseInt(C,10))?w="'"+C+"'":(C=parseInt(C,10),w=(w=l(C).slice(2)).slice(0,-1)+s[w.slice(-1)]),typeof B=="number")B<0?(U=l(B).slice(3),L="-"):(U=l(B).slice(2),L=""),U=L+U.slice(0,-1)+s[U.slice(-1)];else{if(Nr(B)!=="object")throw new Error("Don't know what to do with value type "+Nr(B)+".");U=d(B)}R.push(w+U)}return R.push("}"),R.join("")},g=e.__fontmetrics__.uncompress=function(N){if(typeof N!="string")throw new Error("Invalid argument passed to uncompress.");for(var B,w,U,L,R={},C=1,I=R,T=[],z="",D="",ae=N.length-1,X=1;X<ae;X+=1)(L=N[X])=="'"?B?(U=B.join(""),B=void 0):B=[]:B?B.push(L):L=="{"?(T.push([I,U]),I={},U=void 0):L=="}"?((w=T.pop())[0][w[1]]=I,U=void 0,I=w[0]):L=="-"?C=-1:U===void 0?a.hasOwnProperty(L)?(z+=a[L],U=parseInt(z,16)*C,C=1,z=""):z+=L:a.hasOwnProperty(L)?(D+=a[L],I[U]=parseInt(D,16)*C,C=1,U=void 0,D=""):D+=L;return R},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:g("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},y={Unicode:{"Courier-Oblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":g("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":g("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:g("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:g("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":g("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":g("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(N){var B=N.font,w=y.Unicode[B.postScriptName];w&&(B.metadata.Unicode={},B.metadata.Unicode.widths=w.widths,B.metadata.Unicode.kerning=w.kerning);var U=m.Unicode[B.postScriptName];U&&(B.metadata.Unicode.encoding=U,B.encoding=U.codePages[0])}])}(Ot.API),function(e){var t=function(a){for(var s=a.length,o=new Uint8Array(s),l=0;l<s;l++)o[l]=a.charCodeAt(l);return o};e.API.events.push(["addFont",function(a){var s=void 0,o=a.font,l=a.instance;if(!o.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(s=l.existsFileInVFS(o.postScriptName)===!1?l.loadFile(o.postScriptName):l.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(d,g){g=/^\x00\x01\x00\x00/.test(g)?t(g):t(tu(g)),d.metadata=e.API.TTFFont.open(g),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(o,s)}}])}(Ot),function(e){function t(){return(Ht.canvg?Promise.resolve(Ht.canvg):Gl(()=>import("./index.es-071c0f05.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load canvg: "+a))}).then(function(a){return a.default?a.default:a})}Ot.API.addSvgAsImage=function(a,s,o,l,d,g,f,m){if(isNaN(s)||isNaN(o))throw Ir.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(d))throw Ir.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=l,y.height=d;var N=y.getContext("2d");N.fillStyle="#fff",N.fillRect(0,0,y.width,y.height);var B={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return t().then(function(U){return U.fromString(N,a,B)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(U){return U.render(B)}).then(function(){w.addImage(y.toDataURL("image/jpeg",1),s,o,l,d,f,m)})}}(),Ot.API.putTotalPages=function(e){var t,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),a=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var o=0;o<this.internal.pages[s].length;o++)this.internal.pages[s][o]=this.internal.pages[s][o].replace(t,a);return this},Ot.API.viewerPreferences=function(e,t){var a;e=e||{},t=t||!1;var s,o,l,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},g=Object.keys(d),f=[],m=0,y=0,N=0;function B(U,L){var R,C=!1;for(R=0;R<U.length;R+=1)U[R]===L&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var w=g.length;for(N=0;N<w;N+=1)a[g[N]].value=a[g[N]].defaultValue,a[g[N]].explicitSet=!1}if(Nr(e)==="object"){for(o in e)if(l=e[o],B(g,o)&&l!==void 0){if(a[o].type==="boolean"&&typeof l=="boolean")a[o].value=l;else if(a[o].type==="name"&&B(a[o].valueSet,l))a[o].value=l;else if(a[o].type==="integer"&&Number.isInteger(l))a[o].value=l;else if(a[o].type==="array"){for(m=0;m<l.length;m+=1)if(s=!0,l[m].length===1&&typeof l[m][0]=="number")f.push(String(l[m]-1));else if(l[m].length>1){for(y=0;y<l[m].length;y+=1)typeof l[m][y]!="number"&&(s=!1);s===!0&&f.push([l[m][0]-1,l[m][1]-1].join(" "))}a[o].value="["+f.join(" ")+"]"}else a[o].value=a[o].defaultValue;a[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var U,L=[];for(U in a)a[U].explicitSet===!0&&(a[U].type==="name"?L.push("/"+U+" /"+a[U].value):L.push("/"+U+" "+a[U].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(s)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),g=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),m=l.length+d.length+g.length+o.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(o+l+d+g+f),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",t)),this}}(Ot.API),function(e){var t=e.API,a=t.pdfEscape16=function(l,d){for(var g,f=d.metadata.Unicode.widths,m=["","0","00","000","0000"],y=[""],N=0,B=l.length;N<B;++N){if(g=d.metadata.characterToGlyph(l.charCodeAt(N)),d.metadata.glyIdsUsed.push(g),d.metadata.toUnicode[g]=l.charCodeAt(N),f.indexOf(g)==-1&&(f.push(g),f.push([parseInt(d.metadata.widthOfGlyph(g),10)])),g=="0")return y.join("");g=g.toString(16),y.push(m[4-g.length],g)}return y.join("")},s=function(l){var d,g,f,m,y,N,B;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],N=0,B=(g=Object.keys(l).sort(function(w,U){return w-U})).length;N<B;N++)d=g[N],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),l[d]!==void 0&&l[d]!==null&&typeof l[d].toString=="function"&&(m=("0000"+l[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),f.push("<"+d+"><"+m+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(l){(function(d){var g=d.font,f=d.out,m=d.newObject,y=d.putStream;if(g.metadata instanceof e.API.TTFFont&&g.encoding==="Identity-H"){for(var N=g.metadata.Unicode.widths,B=g.metadata.subset.encode(g.metadata.glyIdsUsed,1),w="",U=0;U<B.length;U++)w+=String.fromCharCode(B[U]);var L=m();y({data:w,addLength1:!0,objectId:L}),f("endobj");var R=m();y({data:s(g.metadata.toUnicode),addLength1:!0,objectId:R}),f("endobj");var C=m();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Xc(g.fontName)),f("/FontFile2 "+L+" 0 R"),f("/FontBBox "+e.API.PDFObject.convert(g.metadata.bbox)),f("/Flags "+g.metadata.flags),f("/StemV "+g.metadata.stemV),f("/ItalicAngle "+g.metadata.italicAngle),f("/Ascent "+g.metadata.ascender),f("/Descent "+g.metadata.decender),f("/CapHeight "+g.metadata.capHeight),f(">>"),f("endobj");var I=m();f("<<"),f("/Type /Font"),f("/BaseFont /"+Xc(g.fontName)),f("/FontDescriptor "+C+" 0 R"),f("/W "+e.API.PDFObject.convert(N)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+g.encoding+")"),f(">>"),f(">>"),f("endobj"),g.objectNumber=m(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+R+" 0 R"),f("/BaseFont /"+Xc(g.fontName)),f("/Encoding /"+g.encoding),f("/DescendantFonts ["+I+" 0 R]"),f(">>"),f("endobj"),g.isAlreadyPutted=!0}})(l)}]),t.events.push(["putFont",function(l){(function(d){var g=d.font,f=d.out,m=d.newObject,y=d.putStream;if(g.metadata instanceof e.API.TTFFont&&g.encoding==="WinAnsiEncoding"){for(var N=g.metadata.rawData,B="",w=0;w<N.length;w++)B+=String.fromCharCode(N[w]);var U=m();y({data:B,addLength1:!0,objectId:U}),f("endobj");var L=m();y({data:s(g.metadata.toUnicode),addLength1:!0,objectId:L}),f("endobj");var R=m();f("<<"),f("/Descent "+g.metadata.decender),f("/CapHeight "+g.metadata.capHeight),f("/StemV "+g.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+U+" 0 R"),f("/Flags 96"),f("/FontBBox "+e.API.PDFObject.convert(g.metadata.bbox)),f("/FontName /"+Xc(g.fontName)),f("/ItalicAngle "+g.metadata.italicAngle),f("/Ascent "+g.metadata.ascender),f(">>"),f("endobj"),g.objectNumber=m();for(var C=0;C<g.metadata.hmtx.widths.length;C++)g.metadata.hmtx.widths[C]=parseInt(g.metadata.hmtx.widths[C]*(1e3/g.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+Xc(g.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+g.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(g.metadata.hmtx.widths)+">>"),f("endobj"),g.isAlreadyPutted=!0}})(l)}]);var o=function(l){var d,g=l.text||"",f=l.x,m=l.y,y=l.options||{},N=l.mutex||{},B=N.pdfEscape,w=N.activeFontKey,U=N.fonts,L=w,R="",C=0,I="",T=U[L].encoding;if(U[L].encoding!=="Identity-H")return{text:g,x:f,y:m,options:y,mutex:N};for(I=g,L=w,Array.isArray(g)&&(I=g[0]),C=0;C<I.length;C+=1)U[L].metadata.hasOwnProperty("cmap")&&(d=U[L].metadata.cmap.unicode.codeMap[I[C].charCodeAt(0)]),d||I[C].charCodeAt(0)<256&&U[L].metadata.hasOwnProperty("Unicode")?R+=I[C]:R+="";var z="";return parseInt(L.slice(1))<14||T==="WinAnsiEncoding"?z=B(R,L).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(z=a(R,U[L])),N.isHex=!0,{text:z,x:f,y:m,options:y,mutex:N}};t.events.push(["postProcessText",function(l){var d=l.text||"",g=[],f={text:d,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(d)){var m=0;for(m=0;m<d.length;m+=1)Array.isArray(d[m])&&d[m].length===3?g.push([o(Object.assign({},f,{text:d[m][0]})).text,d[m][1],d[m][2]]):g.push(o(Object.assign({},f,{text:d[m]})).text);l.text=g}else l.text=o(Object.assign({},f,{text:d})).text}])}(Ot),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0},e.addFileToVFS=function(a,s){return t.call(this),this.internal.vFS[a]=s,this},e.getFileFromVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}}(Ot.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var o,l,d,g,f,m,y,N=t,B=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,T=0;this.__bidiEngine__={};var z=function(W){var $=W.charCodeAt(),Z=$>>8,J=L[Z];return J!==void 0?N[256*J+(255&$)]:Z===252||Z===253?"AL":C.test(Z)?"L":Z===8?"R":"N"},D=function(W){for(var $,Z=0;Z<W.length;Z++){if(($=z(W.charAt(Z)))==="L")return!1;if($==="R")return!0}return!1},ae=function(W,$,Z,J){var ne,te,Be,fe,je=$[J];switch(je){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(je="AN");break;case"AL":I=!0,je="R";break;case"WS":je="N";break;case"CS":J<1||J+1>=$.length||(ne=Z[J-1])!=="EN"&&ne!=="AN"||(te=$[J+1])!=="EN"&&te!=="AN"?je="N":I&&(te="AN"),je=te===ne?te:"N";break;case"ES":je=(ne=J>0?Z[J-1]:"B")==="EN"&&J+1<$.length&&$[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&Z[J-1]==="EN"){je="EN";break}if(I){je="N";break}for(Be=J+1,fe=$.length;Be<fe&&$[Be]==="ET";)Be++;je=Be<fe&&$[Be]==="EN"?"EN":"N";break;case"NSM":if(d&&!g){for(fe=$.length,Be=J+1;Be<fe&&$[Be]==="NSM";)Be++;if(Be<fe){var Ce=W[J],Me=Ce>=1425&&Ce<=2303||Ce===64286;if(ne=$[Be],Me&&(ne==="R"||ne==="AL")){je="R";break}}}je=J<1||(ne=$[J-1])==="B"?"N":Z[J-1];break;case"B":I=!1,o=!0,je=T;break;case"S":l=!0,je="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":je="N"}return je},X=function(W,$,Z){var J=W.split("");return Z&&_(J,Z,{hiLevel:T}),J.reverse(),$&&$.reverse(),J.join("")},_=function(W,$,Z){var J,ne,te,Be,fe,je=-1,Ce=W.length,Me=0,Ae=[],he=T?w:B,ke=[];for(I=!1,o=!1,l=!1,ne=0;ne<Ce;ne++)ke[ne]=z(W[ne]);for(te=0;te<Ce;te++){if(fe=Me,Ae[te]=ae(W,ke,Ae,te),J=240&(Me=he[fe][U[Ae[te]]]),Me&=15,$[te]=Be=he[Me][5],J>0)if(J===16){for(ne=je;ne<te;ne++)$[ne]=1;je=-1}else je=-1;if(he[Me][6])je===-1&&(je=te);else if(je>-1){for(ne=je;ne<te;ne++)$[ne]=Be;je=-1}ke[te]==="B"&&($[te]=0),Z.hiLevel|=Be}l&&function(Le,Pe,Re){for(var ve=0;ve<Re;ve++)if(Le[ve]==="S"){Pe[ve]=T;for(var Ee=ve-1;Ee>=0&&Le[Ee]==="WS";Ee--)Pe[Ee]=T}}(ke,$,Ce)},ie=function(W,$,Z,J,ne){if(!(ne.hiLevel<W)){if(W===1&&T===1&&!o)return $.reverse(),void(Z&&Z.reverse());for(var te,Be,fe,je,Ce=$.length,Me=0;Me<Ce;){if(J[Me]>=W){for(fe=Me+1;fe<Ce&&J[fe]>=W;)fe++;for(je=Me,Be=fe-1;je<Be;je++,Be--)te=$[je],$[je]=$[Be],$[Be]=te,Z&&(te=Z[je],Z[je]=Z[Be],Z[Be]=te);Me=fe}Me++}}},oe=function(W,$,Z){var J=W.split(""),ne={hiLevel:T};return Z||(Z=[]),_(J,Z,ne),function(te,Be,fe){if(fe.hiLevel!==0&&y)for(var je,Ce=0;Ce<te.length;Ce++)Be[Ce]===1&&(je=R.indexOf(te[Ce]))>=0&&(te[Ce]=R[je+1])}(J,Z,ne),ie(2,J,$,Z,ne),ie(1,J,$,Z,ne),J.join("")};return this.__bidiEngine__.doBidiReorder=function(W,$,Z){if(function(ne,te){if(te)for(var Be=0;Be<ne.length;Be++)te[Be]=Be;g===void 0&&(g=D(ne)),m===void 0&&(m=D(ne))}(W,$),d||!f||m)if(d&&f&&g^m)T=g?1:0,W=X(W,$,Z);else if(!d&&f&&m)T=g?1:0,W=oe(W,$,Z),W=X(W,$);else if(!d||g||f||m){if(d&&!f&&g^m)W=X(W,$),g?(T=0,W=oe(W,$,Z)):(T=1,W=oe(W,$,Z),W=X(W,$));else if(d&&g&&!f&&m)T=1,W=oe(W,$,Z),W=X(W,$);else if(!d&&!f&&g^m){var J=y;g?(T=1,W=oe(W,$,Z),T=0,y=!1,W=oe(W,$,Z),y=J):(T=0,W=oe(W,$,Z),W=X(W,$),T=1,y=!1,W=oe(W,$,Z),y=J,W=X(W,$))}}else T=0,W=oe(W,$,Z);else T=g?1:0,W=oe(W,$,Z);return W},this.__bidiEngine__.setOptions=function(W){W&&(d=W.isInputVisual,f=W.isOutputVisual,g=W.isInputRtl,m=W.isOutputRtl,y=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var o=s.text;s.x,s.y;var l=s.options||{};s.mutex,l.lang;var d=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,a.setOptions(l),Object.prototype.toString.call(o)==="[object Array]"){var g=0;for(d=[],g=0;g<o.length;g+=1)Object.prototype.toString.call(o[g])==="[object Array]"?d.push([a.doBidiReorder(o[g][0]),o[g][1],o[g][2]]):d.push([a.doBidiReorder(o[g])]);s.text=d}else s.text=a.doBidiReorder(o);a.setOptions({isInputVisual:!0})}])}(Ot),Ot.API.TTFFont=function(){function e(t){var a;if(this.rawData=t,a=this.contents=new fl(t),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new EI(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new pI(this.contents),this.head=new xI(this),this.name=new kI(this),this.cmap=new gB(this),this.toUnicode={},this.hhea=new yI(this),this.maxp=new NI(this),this.hmtx=new CI(this),this.post=new vI(this),this.os2=new bI(this),this.loca=new FI(this),this.glyf=new BI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,a,s,o,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,g,f,m;for(m=[],d=0,g=(f=this.bbox).length;d<g;d++)t=f[d],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(s=255&(o=this.post.italic_angle),32768&(a=o>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var a;return((a=this.cmap.unicode)!=null?a.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*a},e.prototype.widthOfString=function(t,a,s){var o,l,d,g;for(d=0,l=0,g=(t=""+t).length;0<=g?l<g:l>g;l=0<=g?++l:--l)o=t.charCodeAt(l),d+=this.widthOfGlyph(this.characterToGlyph(o))+s*(1e3/a)||0;return d*(a/1e3)},e.prototype.lineHeight=function(t,a){var s;return a==null&&(a=!1),s=a?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var ai,fl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var a,s;for(s=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)s[a]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var a,s,o;for(o=[],a=0,s=t.length;0<=s?a<s:a>s;a=0<=s?++a:--a)o.push(this.writeByte(t.charCodeAt(a)));return o},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,a,s,o,l,d,g,f;return t=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),d=this.readByte(),g=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^a)+1099511627776*(255^s)+4294967296*(255^o)+16777216*(255^l)+65536*(255^d)+256*(255^g)+(255^f)+1):72057594037927940*t+281474976710656*a+1099511627776*s+4294967296*o+16777216*l+65536*d+256*g+f},e.prototype.writeLongLong=function(t){var a,s;return a=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var a,s;for(a=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)a.push(this.readByte());return a},e.prototype.write=function(t){var a,s,o,l;for(l=[],s=0,o=t.length;s<o;s++)a=t[s],l.push(this.writeByte(a));return l},e}(),pI=function(){var e;function t(a){var s,o,l;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},o=0,l=this.tableCount;0<=l?o<l:o>l;o=0<=l?++o:--o)s={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(a){var s,o,l,d,g,f,m,y,N,B,w,U,L;for(L in w=Object.keys(a).length,f=Math.log(2),N=16*Math.floor(Math.log(w)/f),d=Math.floor(N/f),y=16*w-N,(o=new fl).writeInt(this.scalarType),o.writeShort(w),o.writeShort(N),o.writeShort(d),o.writeShort(y),l=16*w,m=o.pos+l,g=null,U=[],a)for(B=a[L],o.writeString(L),o.writeInt(e(B)),o.writeInt(m),o.writeInt(B.length),U=U.concat(B),L==="head"&&(g=m),m+=B.length;m%4;)U.push(0),m++;return o.write(U),s=2981146554-e(o.data),o.pos=g+8,o.writeUInt32(s),o.data},e=function(a){var s,o,l,d;for(a=fB.call(a);a.length%4;)a.push(0);for(l=new fl(a),o=0,s=0,d=a.length;s<d;s=s+=4)o+=l.readUInt32();return 4294967295&o},t}(),mI={}.hasOwnProperty,Ei=function(e,t){for(var a in t)mI.call(t,a)&&(e[a]=t[a]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};ai=function(){function e(t){var a;this.file=t,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var xI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,ai),t.prototype.tag="head",t.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.revision=a.readInt(),this.checkSumAdjustment=a.readInt(),this.magicNumber=a.readInt(),this.flags=a.readShort(),this.unitsPerEm=a.readShort(),this.created=a.readLongLong(),this.modified=a.readLongLong(),this.xMin=a.readShort(),this.yMin=a.readShort(),this.xMax=a.readShort(),this.yMax=a.readShort(),this.macStyle=a.readShort(),this.lowestRecPPEM=a.readShort(),this.fontDirectionHint=a.readShort(),this.indexToLocFormat=a.readShort(),this.glyphDataFormat=a.readShort()},t.prototype.encode=function(a){var s;return(s=new fl).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(a),s.writeShort(this.glyphDataFormat),s.data},t}(),c1=function(){function e(t,a){var s,o,l,d,g,f,m,y,N,B,w,U,L,R,C,I,T;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=a+t.readInt(),N=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(w=t.readUInt16(),B=w/2,t.pos+=6,l=function(){var z,D;for(D=[],f=z=0;0<=B?z<B:z>B;f=0<=B?++z:--z)D.push(t.readUInt16());return D}(),t.pos+=2,L=function(){var z,D;for(D=[],f=z=0;0<=B?z<B:z>B;f=0<=B?++z:--z)D.push(t.readUInt16());return D}(),m=function(){var z,D;for(D=[],f=z=0;0<=B?z<B:z>B;f=0<=B?++z:--z)D.push(t.readUInt16());return D}(),y=function(){var z,D;for(D=[],f=z=0;0<=B?z<B:z>B;f=0<=B?++z:--z)D.push(t.readUInt16());return D}(),o=(this.length-t.pos+this.offset)/2,g=function(){var z,D;for(D=[],f=z=0;0<=o?z<o:z>o;f=0<=o?++z:--z)D.push(t.readUInt16());return D}(),f=C=0,T=l.length;C<T;f=++C)for(R=l[f],s=I=U=L[f];U<=R?I<=R:I>=R;s=U<=R?++I:--I)y[f]===0?d=s+m[f]:(d=g[y[f]/2+(s-U)-(B-f)]||0)!==0&&(d+=m[f]),this.codeMap[s]=65535&d}t.pos=N}return e.encode=function(t,a){var s,o,l,d,g,f,m,y,N,B,w,U,L,R,C,I,T,z,D,ae,X,_,ie,oe,W,$,Z,J,ne,te,Be,fe,je,Ce,Me,Ae,he,ke,Le,Pe,Re,ve,Ee,Xe,tt,He;switch(J=new fl,d=Object.keys(t).sort(function(qe,Ft){return qe-Ft}),a){case"macroman":for(L=0,R=function(){var qe=[];for(U=0;U<256;++U)qe.push(0);return qe}(),I={0:0},l={},ne=0,je=d.length;ne<je;ne++)I[Ee=t[o=d[ne]]]==null&&(I[Ee]=++L),l[o]={old:t[o],new:I[t[o]]},R[o]=I[t[o]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(R),{charMap:l,subtable:J.data,maxGlyphID:L+1};case"unicode":for($=[],N=[],T=0,I={},s={},C=m=null,te=0,Ce=d.length;te<Ce;te++)I[D=t[o=d[te]]]==null&&(I[D]=++T),s[o]={old:D,new:I[D]},g=I[D]-o,C!=null&&g===m||(C&&N.push(C),$.push(o),m=g),C=o;for(C&&N.push(C),N.push(65535),$.push(65535),oe=2*(ie=$.length),_=2*Math.pow(Math.log(ie)/Math.LN2,2),B=Math.log(_/2)/Math.LN2,X=2*ie-_,f=[],ae=[],w=[],U=Be=0,Me=$.length;Be<Me;U=++Be){if(W=$[U],y=N[U],W===65535){f.push(0),ae.push(0);break}if(W-(Z=s[W].new)>=32768)for(f.push(0),ae.push(2*(w.length+ie-U)),o=fe=W;W<=y?fe<=y:fe>=y;o=W<=y?++fe:--fe)w.push(s[o].new);else f.push(Z-W),ae.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*ie+2*w.length),J.writeUInt16(0),J.writeUInt16(oe),J.writeUInt16(_),J.writeUInt16(B),J.writeUInt16(X),Re=0,Ae=N.length;Re<Ae;Re++)o=N[Re],J.writeUInt16(o);for(J.writeUInt16(0),ve=0,he=$.length;ve<he;ve++)o=$[ve],J.writeUInt16(o);for(Xe=0,ke=f.length;Xe<ke;Xe++)g=f[Xe],J.writeUInt16(g);for(tt=0,Le=ae.length;tt<Le;tt++)z=ae[tt],J.writeUInt16(z);for(He=0,Pe=w.length;He<Pe;He++)L=w[He],J.writeUInt16(L);return{charMap:s,subtable:J.data,maxGlyphID:T+1}}},e}(),gB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,ai),t.prototype.tag="cmap",t.prototype.parse=function(a){var s,o,l;for(a.pos=this.offset,this.version=a.readUInt16(),l=a.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=l?o<l:o>l;o=0<=l?++o:--o)s=new c1(a,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(a,s){var o,l;return s==null&&(s="macroman"),o=c1.encode(a,s),(l=new fl).writeUInt16(0),l.writeUInt16(1),o.table=l.data.concat(o.subtable),o},t}(),yI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,ai),t.prototype.tag="hhea",t.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.ascender=a.readShort(),this.decender=a.readShort(),this.lineGap=a.readShort(),this.advanceWidthMax=a.readShort(),this.minLeftSideBearing=a.readShort(),this.minRightSideBearing=a.readShort(),this.xMaxExtent=a.readShort(),this.caretSlopeRise=a.readShort(),this.caretSlopeRun=a.readShort(),this.caretOffset=a.readShort(),a.pos+=8,this.metricDataFormat=a.readShort(),this.numberOfMetrics=a.readUInt16()},t}(),bI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,ai),t.prototype.tag="OS/2",t.prototype.parse=function(a){if(a.pos=this.offset,this.version=a.readUInt16(),this.averageCharWidth=a.readShort(),this.weightClass=a.readUInt16(),this.widthClass=a.readUInt16(),this.type=a.readShort(),this.ySubscriptXSize=a.readShort(),this.ySubscriptYSize=a.readShort(),this.ySubscriptXOffset=a.readShort(),this.ySubscriptYOffset=a.readShort(),this.ySuperscriptXSize=a.readShort(),this.ySuperscriptYSize=a.readShort(),this.ySuperscriptXOffset=a.readShort(),this.ySuperscriptYOffset=a.readShort(),this.yStrikeoutSize=a.readShort(),this.yStrikeoutPosition=a.readShort(),this.familyClass=a.readShort(),this.panose=function(){var s,o;for(o=[],s=0;s<10;++s)o.push(a.readByte());return o}(),this.charRange=function(){var s,o;for(o=[],s=0;s<4;++s)o.push(a.readInt());return o}(),this.vendorID=a.readString(4),this.selection=a.readShort(),this.firstCharIndex=a.readShort(),this.lastCharIndex=a.readShort(),this.version>0&&(this.ascent=a.readShort(),this.descent=a.readShort(),this.lineGap=a.readShort(),this.winAscent=a.readShort(),this.winDescent=a.readShort(),this.codePageRange=function(){var s,o;for(o=[],s=0;s<2;s=++s)o.push(a.readInt());return o}(),this.version>1))return this.xHeight=a.readShort(),this.capHeight=a.readShort(),this.defaultChar=a.readShort(),this.breakChar=a.readShort(),this.maxContext=a.readShort()},t}(),vI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,ai),t.prototype.tag="post",t.prototype.parse=function(a){var s,o,l;switch(a.pos=this.offset,this.format=a.readInt(),this.italicAngle=a.readInt(),this.underlinePosition=a.readShort(),this.underlineThickness=a.readShort(),this.isFixedPitch=a.readInt(),this.minMemType42=a.readInt(),this.maxMemType42=a.readInt(),this.minMemType1=a.readInt(),this.maxMemType1=a.readInt(),this.format){case 65536:break;case 131072:var d;for(o=a.readUInt16(),this.glyphNameIndex=[],d=0;0<=o?d<o:d>o;d=0<=o?++d:--d)this.glyphNameIndex.push(a.readUInt16());for(this.names=[],l=[];a.pos<this.offset+this.length;)s=a.readByte(),l.push(this.names.push(a.readString(s)));return l;case 151552:return o=a.readUInt16(),this.offsets=a.read(o);case 196608:break;case 262144:return this.map=(function(){var g,f,m;for(m=[],d=g=0,f=this.file.maxp.numGlyphs;0<=f?g<f:g>f;d=0<=f?++g:--g)m.push(a.readUInt32());return m}).call(this)}},t}(),wI=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},kI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,ai),t.prototype.tag="name",t.prototype.parse=function(a){var s,o,l,d,g,f,m,y,N,B,w;for(a.pos=this.offset,a.readShort(),s=a.readShort(),f=a.readShort(),o=[],d=0;0<=s?d<s:d>s;d=0<=s?++d:--d)o.push({platformID:a.readShort(),encodingID:a.readShort(),languageID:a.readShort(),nameID:a.readShort(),length:a.readShort(),offset:this.offset+f+a.readShort()});for(m={},d=N=0,B=o.length;N<B;d=++N)l=o[d],a.pos=l.offset,y=a.readString(l.length),g=new wI(y,l),m[w=l.nameID]==null&&(m[w]=[]),m[l.nameID].push(g);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},t}(),NI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,ai),t.prototype.tag="maxp",t.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.numGlyphs=a.readUInt16(),this.maxPoints=a.readUInt16(),this.maxContours=a.readUInt16(),this.maxCompositePoints=a.readUInt16(),this.maxComponentContours=a.readUInt16(),this.maxZones=a.readUInt16(),this.maxTwilightPoints=a.readUInt16(),this.maxStorage=a.readUInt16(),this.maxFunctionDefs=a.readUInt16(),this.maxInstructionDefs=a.readUInt16(),this.maxStackElements=a.readUInt16(),this.maxSizeOfInstructions=a.readUInt16(),this.maxComponentElements=a.readUInt16(),this.maxComponentDepth=a.readUInt16()},t}(),CI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,ai),t.prototype.tag="hmtx",t.prototype.parse=function(a){var s,o,l,d,g,f,m;for(a.pos=this.offset,this.metrics=[],s=0,f=this.file.hhea.numberOfMetrics;0<=f?s<f:s>f;s=0<=f?++s:--s)this.metrics.push({advance:a.readUInt16(),lsb:a.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var y,N;for(N=[],s=y=0;0<=l?y<l:y>l;s=0<=l?++y:--y)N.push(a.readInt16());return N}(),this.widths=(function(){var y,N,B,w;for(w=[],y=0,N=(B=this.metrics).length;y<N;y++)d=B[y],w.push(d.advance);return w}).call(this),o=this.widths[this.widths.length-1],m=[],s=g=0;0<=l?g<l:g>l;s=0<=l?++g:--g)m.push(this.widths.push(o));return m},t.prototype.forGlyph=function(a){return a in this.metrics?this.metrics[a]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[a-this.metrics.length]}},t}(),fB=[].slice,BI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,ai),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(a){var s,o,l,d,g,f,m,y,N,B;return a in this.cache?this.cache[a]:(d=this.file.loca,s=this.file.contents,o=d.indexOf(a),(l=d.lengthOf(a))===0?this.cache[a]=null:(s.pos=this.offset+o,g=(f=new fl(s.read(l))).readShort(),y=f.readShort(),B=f.readShort(),m=f.readShort(),N=f.readShort(),this.cache[a]=g===-1?new SI(f,y,B,m,N):new jI(f,g,y,B,m,N),this.cache[a]))},t.prototype.encode=function(a,s,o){var l,d,g,f,m;for(g=[],d=[],f=0,m=s.length;f<m;f++)l=a[s[f]],d.push(g.length),l&&(g=g.concat(l.encode(o)));return d.push(g.length),{table:g,offsets:d}},t}(),jI=function(){function e(t,a,s,o,l,d){this.raw=t,this.numberOfContours=a,this.xMin=s,this.yMin=o,this.xMax=l,this.yMax=d,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),SI=function(){function e(t,a,s,o,l){var d,g;for(this.raw=t,this.xMin=a,this.yMin=s,this.xMax=o,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;g=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&g;)d.pos+=1&g?4:2,128&g?d.pos+=8:64&g?d.pos+=4:8&g&&(d.pos+=2)}return e.prototype.encode=function(){var t,a,s;for(a=new fl(fB.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)a.pos=this.glyphOffsets[t];return a.data},e}(),FI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,ai),t.prototype.tag="loca",t.prototype.parse=function(a){var s,o;return a.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var l,d;for(d=[],o=0,l=this.length;o<l;o+=2)d.push(2*a.readUInt16());return d}).call(this):(function(){var l,d;for(d=[],o=0,l=this.length;o<l;o+=4)d.push(a.readUInt32());return d}).call(this)},t.prototype.indexOf=function(a){return this.offsets[a]},t.prototype.lengthOf=function(a){return this.offsets[a+1]-this.offsets[a]},t.prototype.encode=function(a,s){for(var o=new Uint32Array(this.offsets.length),l=0,d=0,g=0;g<o.length;++g)if(o[g]=l,d<s.length&&s[d]==g){++d,o[g]=l;var f=this.offsets[g],m=this.offsets[g+1]-f;m>0&&(l+=m)}for(var y=new Array(4*o.length),N=0;N<o.length;++N)y[4*N+3]=255&o[N],y[4*N+2]=(65280&o[N])>>8,y[4*N+1]=(16711680&o[N])>>16,y[4*N]=(4278190080&o[N])>>24;return y},t}(),EI=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,a,s,o,l;for(a in o=this.font.cmap.tables[0].codeMap,t={},l=this.subset)s=l[a],t[a]=o[s];return t},e.prototype.glyphsFor=function(t){var a,s,o,l,d,g,f;for(o={},d=0,g=t.length;d<g;d++)o[l=t[d]]=this.font.glyf.glyphFor(l);for(l in a=[],o)(s=o[l])!=null&&s.compound&&a.push.apply(a,s.glyphIDs);if(a.length>0)for(l in f=this.glyphsFor(a))s=f[l],o[l]=s;return o},e.prototype.encode=function(t,a){var s,o,l,d,g,f,m,y,N,B,w,U,L,R,C;for(o in s=gB.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(t),w={0:0},C=s.charMap)w[(f=C[o]).old]=f.new;for(U in B=s.maxGlyphID,d)U in w||(w[U]=B++);return y=function(I){var T,z;for(T in z={},I)z[I[T]]=T;return z}(w),N=Object.keys(y).sort(function(I,T){return I-T}),L=function(){var I,T,z;for(z=[],I=0,T=N.length;I<T;I++)g=N[I],z.push(y[g]);return z}(),l=this.font.glyf.encode(d,L,w),m=this.font.loca.encode(l.offsets,L),R={cmap:this.font.cmap.raw(),glyf:l.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},e}();Ot.API.PDFObject=function(){var e;function t(){}return e=function(a,s){return(Array(s+1).join("0")+a).slice(-s)},t.convert=function(a){var s,o,l,d;if(Array.isArray(a))return"["+function(){var g,f,m;for(m=[],g=0,f=a.length;g<f;g++)s=a[g],m.push(t.convert(s));return m}().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a!=null&&a.isString)return"("+a+")";if(a instanceof Date)return"(D:"+e(a.getUTCFullYear(),4)+e(a.getUTCMonth(),2)+e(a.getUTCDate(),2)+e(a.getUTCHours(),2)+e(a.getUTCMinutes(),2)+e(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(o in l=["<<"],a)d=a[o],l.push("/"+o+" "+t.convert(d));return l.push(">>"),l.join(`
`)}return""+a},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ux=function(e,t){return Ux=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])},Ux(e,t)};function si(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ux(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var Dx=function(){return Dx=Object.assign||function(t){for(var a,s=1,o=arguments.length;s<o;s++){a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},Dx.apply(this,arguments)};function ys(e,t,a,s){function o(l){return l instanceof a?l:new a(function(d){d(l)})}return new(a||(a=Promise))(function(l,d){function g(y){try{m(s.next(y))}catch(N){d(N)}}function f(y){try{m(s.throw(y))}catch(N){d(N)}}function m(y){y.done?l(y.value):o(y.value).then(g,f)}m((s=s.apply(e,t||[])).next())})}function is(e,t){var a={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(m){return function(y){return f([m,y])}}function f(m){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return a.label++,{value:m[1],done:!1};case 5:a.label++,o=m[1],m=[0];continue;case 7:m=a.ops.pop(),a.trys.pop();continue;default:if(l=a.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){a=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){a.label=m[1];break}if(m[0]===6&&a.label<l[1]){a.label=l[1],l=m;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(m);break}l[2]&&a.ops.pop(),a.trys.pop();continue}m=t.call(e,a)}catch(y){m=[6,y],o=0}finally{s=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function Wh(e,t,a){if(a||arguments.length===2)for(var s=0,o=t.length,l;s<o;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return e.concat(l||t)}var ho=function(){function e(t,a,s,o){this.left=t,this.top=a,this.width=s,this.height=o}return e.prototype.add=function(t,a,s,o){return new e(this.left+t,this.top+a,this.width+s,this.height+o)},e.fromClientRect=function(t,a){return new e(a.left+t.windowBounds.left,a.top+t.windowBounds.top,a.width,a.height)},e.fromDOMRectList=function(t,a){var s=Array.from(a).find(function(o){return o.width!==0});return s?new e(s.left+t.windowBounds.left,s.top+t.windowBounds.top,s.width,s.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),yf=function(e,t){return ho.fromClientRect(e,t.getBoundingClientRect())},LI=function(e){var t=e.body,a=e.documentElement;if(!t||!a)throw new Error("Unable to get document size");var s=Math.max(Math.max(t.scrollWidth,a.scrollWidth),Math.max(t.offsetWidth,a.offsetWidth),Math.max(t.clientWidth,a.clientWidth)),o=Math.max(Math.max(t.scrollHeight,a.scrollHeight),Math.max(t.offsetHeight,a.offsetHeight),Math.max(t.clientHeight,a.clientHeight));return new ho(0,0,s,o)},bf=function(e){for(var t=[],a=0,s=e.length;a<s;){var o=e.charCodeAt(a++);if(o>=55296&&o<=56319&&a<s){var l=e.charCodeAt(a++);(l&64512)===56320?t.push(((o&1023)<<10)+(l&1023)+65536):(t.push(o),a--)}else t.push(o)}return t},da=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var a=e.length;if(!a)return"";for(var s=[],o=-1,l="";++o<a;){var d=e[o];d<=65535?s.push(d):(d-=65536,s.push((d>>10)+55296,d%1024+56320)),(o+1===a||s.length>16384)&&(l+=String.fromCharCode.apply(String,s),s.length=0)}return l},A1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",II=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yh=0;Yh<A1.length;Yh++)II[A1.charCodeAt(Yh)]=Yh;var d1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $h=0;$h<d1.length;$h++)Dd[d1.charCodeAt($h)]=$h;var PI=function(e){var t=e.length*.75,a=e.length,s,o=0,l,d,g,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),y=Array.isArray(m)?m:new Uint8Array(m);for(s=0;s<a;s+=4)l=Dd[e.charCodeAt(s)],d=Dd[e.charCodeAt(s+1)],g=Dd[e.charCodeAt(s+2)],f=Dd[e.charCodeAt(s+3)],y[o++]=l<<2|d>>4,y[o++]=(d&15)<<4|g>>2,y[o++]=(g&3)<<6|f&63;return m},UI=function(e){for(var t=e.length,a=[],s=0;s<t;s+=2)a.push(e[s+1]<<8|e[s]);return a},DI=function(e){for(var t=e.length,a=[],s=0;s<t;s+=4)a.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return a},Zl=5,xb=6+5,Kp=2,TI=xb-Zl,pB=65536>>Zl,QI=1<<Zl,Wp=QI-1,RI=1024>>Zl,MI=pB+RI,OI=MI,HI=32,_I=OI+HI,zI=65536>>xb,VI=1<<TI,GI=VI-1,u1=function(e,t,a){return e.slice?e.slice(t,a):new Uint16Array(Array.prototype.slice.call(e,t,a))},qI=function(e,t,a){return e.slice?e.slice(t,a):new Uint32Array(Array.prototype.slice.call(e,t,a))},XI=function(e,t){var a=PI(e),s=Array.isArray(a)?DI(a):new Uint32Array(a),o=Array.isArray(a)?UI(a):new Uint16Array(a),l=24,d=u1(o,l/2,s[4]/2),g=s[5]===2?u1(o,(l+s[4])/2):qI(s,Math.ceil((l+s[4])/4));return new KI(s[0],s[1],s[2],s[3],d,g)},KI=function(){function e(t,a,s,o,l,d){this.initialValue=t,this.errorValue=a,this.highStart=s,this.highValueIndex=o,this.index=l,this.data=d}return e.prototype.get=function(t){var a;if(t>=0){if(t<55296||t>56319&&t<=65535)return a=this.index[t>>Zl],a=(a<<Kp)+(t&Wp),this.data[a];if(t<=65535)return a=this.index[pB+(t-55296>>Zl)],a=(a<<Kp)+(t&Wp),this.data[a];if(t<this.highStart)return a=_I-zI+(t>>xb),a=this.index[a],a+=t>>Zl&GI,a=this.index[a],a=(a<<Kp)+(t&Wp),this.data[a];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),h1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jh=0;Jh<h1.length;Jh++)WI[h1.charCodeAt(Jh)]=Jh;var YI="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",g1=50,$I=1,mB=2,xB=3,JI=4,ZI=5,f1=7,yB=8,p1=9,Wo=10,Tx=11,m1=12,Qx=13,eP=14,Td=15,Rx=16,Zh=17,kd=18,tP=19,x1=20,Mx=21,Nd=22,Yp=23,Rc=24,tn=25,Qd=26,Rd=27,Mc=28,rP=29,Ml=30,aP=31,eg=32,tg=33,Ox=34,Hx=35,_x=36,Su=37,zx=38,Tg=39,Qg=40,$p=41,bB=42,sP=43,nP=[9001,65288],vB="!",ir="×",rg="÷",Vx=XI(YI),Xi=[Ml,_x],Gx=[$I,mB,xB,ZI],wB=[Wo,yB],y1=[Rd,Qd],iP=Gx.concat(wB),b1=[zx,Tg,Qg,Ox,Hx],oP=[Td,Qx],lP=function(e,t){t===void 0&&(t="strict");var a=[],s=[],o=[];return e.forEach(function(l,d){var g=Vx.get(l);if(g>g1?(o.push(!0),g-=g1):o.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(l)!==-1)return s.push(d),a.push(Rx);if(g===JI||g===Tx){if(d===0)return s.push(d),a.push(Ml);var f=a[d-1];return iP.indexOf(f)===-1?(s.push(s[d-1]),a.push(f)):(s.push(d),a.push(Ml))}if(s.push(d),g===aP)return a.push(t==="strict"?Mx:Su);if(g===bB||g===rP)return a.push(Ml);if(g===sP)return l>=131072&&l<=196605||l>=196608&&l<=262141?a.push(Su):a.push(Ml);a.push(g)}),[s,a,o]},Jp=function(e,t,a,s){var o=s[a];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var l=a;l<=s.length;){l++;var d=s[l];if(d===t)return!0;if(d!==Wo)break}if(o===Wo)for(var l=a;l>0;){l--;var g=s[l];if(Array.isArray(e)?e.indexOf(g)!==-1:e===g)for(var f=a;f<=s.length;){f++;var d=s[f];if(d===t)return!0;if(d!==Wo)break}if(g!==Wo)break}return!1},v1=function(e,t){for(var a=e;a>=0;){var s=t[a];if(s===Wo)a--;else return s}return 0},cP=function(e,t,a,s,o){if(a[s]===0)return ir;var l=s-1;if(Array.isArray(o)&&o[l]===!0)return ir;var d=l-1,g=l+1,f=t[l],m=d>=0?t[d]:0,y=t[g];if(f===mB&&y===xB)return ir;if(Gx.indexOf(f)!==-1)return vB;if(Gx.indexOf(y)!==-1||wB.indexOf(y)!==-1)return ir;if(v1(l,t)===yB)return rg;if(Vx.get(e[l])===Tx||(f===eg||f===tg)&&Vx.get(e[g])===Tx||f===f1||y===f1||f===p1||[Wo,Qx,Td].indexOf(f)===-1&&y===p1||[Zh,kd,tP,Rc,Mc].indexOf(y)!==-1||v1(l,t)===Nd||Jp(Yp,Nd,l,t)||Jp([Zh,kd],Mx,l,t)||Jp(m1,m1,l,t))return ir;if(f===Wo)return rg;if(f===Yp||y===Yp)return ir;if(y===Rx||f===Rx)return rg;if([Qx,Td,Mx].indexOf(y)!==-1||f===eP||m===_x&&oP.indexOf(f)!==-1||f===Mc&&y===_x||y===x1||Xi.indexOf(y)!==-1&&f===tn||Xi.indexOf(f)!==-1&&y===tn||f===Rd&&[Su,eg,tg].indexOf(y)!==-1||[Su,eg,tg].indexOf(f)!==-1&&y===Qd||Xi.indexOf(f)!==-1&&y1.indexOf(y)!==-1||y1.indexOf(f)!==-1&&Xi.indexOf(y)!==-1||[Rd,Qd].indexOf(f)!==-1&&(y===tn||[Nd,Td].indexOf(y)!==-1&&t[g+1]===tn)||[Nd,Td].indexOf(f)!==-1&&y===tn||f===tn&&[tn,Mc,Rc].indexOf(y)!==-1)return ir;if([tn,Mc,Rc,Zh,kd].indexOf(y)!==-1)for(var N=l;N>=0;){var B=t[N];if(B===tn)return ir;if([Mc,Rc].indexOf(B)!==-1)N--;else break}if([Rd,Qd].indexOf(y)!==-1)for(var N=[Zh,kd].indexOf(f)!==-1?d:l;N>=0;){var B=t[N];if(B===tn)return ir;if([Mc,Rc].indexOf(B)!==-1)N--;else break}if(zx===f&&[zx,Tg,Ox,Hx].indexOf(y)!==-1||[Tg,Ox].indexOf(f)!==-1&&[Tg,Qg].indexOf(y)!==-1||[Qg,Hx].indexOf(f)!==-1&&y===Qg||b1.indexOf(f)!==-1&&[x1,Qd].indexOf(y)!==-1||b1.indexOf(y)!==-1&&f===Rd||Xi.indexOf(f)!==-1&&Xi.indexOf(y)!==-1||f===Rc&&Xi.indexOf(y)!==-1||Xi.concat(tn).indexOf(f)!==-1&&y===Nd&&nP.indexOf(e[g])===-1||Xi.concat(tn).indexOf(y)!==-1&&f===kd)return ir;if(f===$p&&y===$p){for(var w=a[l],U=1;w>0&&(w--,t[w]===$p);)U++;if(U%2!==0)return ir}return f===eg&&y===tg?ir:rg},AP=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var a=lP(e,t.lineBreak),s=a[0],o=a[1],l=a[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(o=o.map(function(g){return[tn,Ml,bB].indexOf(g)!==-1?Su:g}));var d=t.wordBreak==="keep-all"?l.map(function(g,f){return g&&e[f]>=19968&&e[f]<=40959}):void 0;return[s,o,d]},dP=function(){function e(t,a,s,o){this.codePoints=t,this.required=a===vB,this.start=s,this.end=o}return e.prototype.slice=function(){return da.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),uP=function(e,t){var a=bf(e),s=AP(a,t),o=s[0],l=s[1],d=s[2],g=a.length,f=0,m=0;return{next:function(){if(m>=g)return{done:!0,value:null};for(var y=ir;m<g&&(y=cP(a,l,o,++m,d))===ir;);if(y!==ir||m===g){var N=new dP(a,y,f,m);return f=m,{value:N,done:!1}}return{done:!0,value:null}}}},hP=1,gP=2,Hu=4,w1=8,B0=10,k1=47,ru=92,fP=9,pP=32,ag=34,Cd=61,mP=35,xP=36,yP=37,sg=39,ng=40,Bd=41,bP=95,Us=45,vP=33,wP=60,kP=62,NP=64,CP=91,BP=93,jP=61,SP=123,ig=63,FP=125,N1=124,EP=126,LP=128,C1=65533,Zp=42,ql=43,IP=44,PP=58,UP=59,Fu=46,DP=0,TP=8,QP=11,RP=14,MP=31,OP=127,gi=-1,kB=48,NB=97,CB=101,HP=102,_P=117,zP=122,BB=65,jB=69,SB=70,VP=85,GP=90,os=function(e){return e>=kB&&e<=57},qP=function(e){return e>=55296&&e<=57343},Oc=function(e){return os(e)||e>=BB&&e<=SB||e>=NB&&e<=HP},XP=function(e){return e>=NB&&e<=zP},KP=function(e){return e>=BB&&e<=GP},WP=function(e){return XP(e)||KP(e)},YP=function(e){return e>=LP},og=function(e){return e===B0||e===fP||e===pP},j0=function(e){return WP(e)||YP(e)||e===bP},B1=function(e){return j0(e)||os(e)||e===Us},$P=function(e){return e>=DP&&e<=TP||e===QP||e>=RP&&e<=MP||e===OP},Ro=function(e,t){return e!==ru?!1:t!==B0},lg=function(e,t,a){return e===Us?j0(t)||Ro(t,a):j0(e)?!0:!!(e===ru&&Ro(e,t))},em=function(e,t,a){return e===ql||e===Us?os(t)?!0:t===Fu&&os(a):os(e===Fu?t:e)},JP=function(e){var t=0,a=1;(e[t]===ql||e[t]===Us)&&(e[t]===Us&&(a=-1),t++);for(var s=[];os(e[t]);)s.push(e[t++]);var o=s.length?parseInt(da.apply(void 0,s),10):0;e[t]===Fu&&t++;for(var l=[];os(e[t]);)l.push(e[t++]);var d=l.length,g=d?parseInt(da.apply(void 0,l),10):0;(e[t]===jB||e[t]===CB)&&t++;var f=1;(e[t]===ql||e[t]===Us)&&(e[t]===Us&&(f=-1),t++);for(var m=[];os(e[t]);)m.push(e[t++]);var y=m.length?parseInt(da.apply(void 0,m),10):0;return a*(o+g*Math.pow(10,-d))*Math.pow(10,f*y)},ZP={type:2},eU={type:3},tU={type:4},rU={type:13},aU={type:8},sU={type:21},nU={type:9},iU={type:10},oU={type:11},lU={type:12},cU={type:14},cg={type:23},AU={type:1},dU={type:25},uU={type:24},hU={type:26},gU={type:27},fU={type:28},pU={type:29},mU={type:31},qx={type:32},FB=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(bf(t))},e.prototype.read=function(){for(var t=[],a=this.consumeToken();a!==qx;)t.push(a),a=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case ag:return this.consumeStringToken(ag);case mP:var a=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(B1(a)||Ro(s,o)){var l=lg(a,s,o)?gP:hP,d=this.consumeName();return{type:5,value:d,flags:l}}break;case xP:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),rU;break;case sg:return this.consumeStringToken(sg);case ng:return ZP;case Bd:return eU;case Zp:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),cU;break;case ql:if(em(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case IP:return tU;case Us:var g=t,f=this.peekCodePoint(0),m=this.peekCodePoint(1);if(em(g,f,m))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(lg(g,f,m))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(f===Us&&m===kP)return this.consumeCodePoint(),this.consumeCodePoint(),uU;break;case Fu:if(em(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case k1:if(this.peekCodePoint(0)===Zp)for(this.consumeCodePoint();;){var y=this.consumeCodePoint();if(y===Zp&&(y=this.consumeCodePoint(),y===k1))return this.consumeToken();if(y===gi)return this.consumeToken()}break;case PP:return hU;case UP:return gU;case wP:if(this.peekCodePoint(0)===vP&&this.peekCodePoint(1)===Us&&this.peekCodePoint(2)===Us)return this.consumeCodePoint(),this.consumeCodePoint(),dU;break;case NP:var N=this.peekCodePoint(0),B=this.peekCodePoint(1),w=this.peekCodePoint(2);if(lg(N,B,w)){var d=this.consumeName();return{type:7,value:d}}break;case CP:return fU;case ru:if(Ro(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case BP:return pU;case jP:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),aU;break;case SP:return oU;case FP:return lU;case _P:case VP:var U=this.peekCodePoint(0),L=this.peekCodePoint(1);return U===ql&&(Oc(L)||L===ig)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case N1:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),nU;if(this.peekCodePoint(0)===N1)return this.consumeCodePoint(),sU;break;case EP:if(this.peekCodePoint(0)===Cd)return this.consumeCodePoint(),iU;break;case gi:return qx}return og(t)?(this.consumeWhiteSpace(),mU):os(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):j0(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:da(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],a=this.consumeCodePoint();Oc(a)&&t.length<6;)t.push(a),a=this.consumeCodePoint();for(var s=!1;a===ig&&t.length<6;)t.push(a),a=this.consumeCodePoint(),s=!0;if(s){var o=parseInt(da.apply(void 0,t.map(function(f){return f===ig?kB:f})),16),l=parseInt(da.apply(void 0,t.map(function(f){return f===ig?SB:f})),16);return{type:30,start:o,end:l}}var d=parseInt(da.apply(void 0,t),16);if(this.peekCodePoint(0)===Us&&Oc(this.peekCodePoint(1))){this.consumeCodePoint(),a=this.consumeCodePoint();for(var g=[];Oc(a)&&g.length<6;)g.push(a),a=this.consumeCodePoint();var l=parseInt(da.apply(void 0,g),16);return{type:30,start:d,end:l}}else return{type:30,start:d,end:d}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===ng?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ng?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===gi)return{type:22,value:""};var a=this.peekCodePoint(0);if(a===sg||a===ag){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===gi||this.peekCodePoint(0)===Bd)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),cg)}for(;;){var o=this.consumeCodePoint();if(o===gi||o===Bd)return{type:22,value:da.apply(void 0,t)};if(og(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===gi||this.peekCodePoint(0)===Bd?(this.consumeCodePoint(),{type:22,value:da.apply(void 0,t)}):(this.consumeBadUrlRemnants(),cg);if(o===ag||o===sg||o===ng||$P(o))return this.consumeBadUrlRemnants(),cg;if(o===ru)if(Ro(o,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),cg;else t.push(o)}},e.prototype.consumeWhiteSpace=function(){for(;og(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Bd||t===gi)return;Ro(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var a=5e4,s="";t>0;){var o=Math.min(a,t);s+=da.apply(void 0,this._value.splice(0,o)),t-=o}return this._value.shift(),s},e.prototype.consumeStringToken=function(t){var a="",s=0;do{var o=this._value[s];if(o===gi||o===void 0||o===t)return a+=this.consumeStringSlice(s),{type:0,value:a};if(o===B0)return this._value.splice(0,s),AU;if(o===ru){var l=this._value[s+1];l!==gi&&l!==void 0&&(l===B0?(a+=this.consumeStringSlice(s),s=-1,this._value.shift()):Ro(o,l)&&(a+=this.consumeStringSlice(s),a+=da(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},e.prototype.consumeNumber=function(){var t=[],a=Hu,s=this.peekCodePoint(0);for((s===ql||s===Us)&&t.push(this.consumeCodePoint());os(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(s===Fu&&os(o))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),a=w1;os(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0),o=this.peekCodePoint(1);var l=this.peekCodePoint(2);if((s===jB||s===CB)&&((o===ql||o===Us)&&os(l)||os(o)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),a=w1;os(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[JP(t),a]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),a=t[0],s=t[1],o=this.peekCodePoint(0),l=this.peekCodePoint(1),d=this.peekCodePoint(2);if(lg(o,l,d)){var g=this.consumeName();return{type:15,number:a,flags:s,unit:g}}return o===yP?(this.consumeCodePoint(),{type:16,number:a,flags:s}):{type:17,number:a,flags:s}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Oc(t)){for(var a=da(t);Oc(this.peekCodePoint(0))&&a.length<6;)a+=da(this.consumeCodePoint());og(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(a,16);return s===0||qP(s)||s>1114111?C1:s}return t===gi?C1:t},e.prototype.consumeName=function(){for(var t="";;){var a=this.consumeCodePoint();if(B1(a))t+=da(a);else if(Ro(a,this.peekCodePoint(0)))t+=da(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(a),t}},e}(),EB=function(){function e(t){this._tokens=t}return e.create=function(t){var a=new FB;return a.write(t),new e(a.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var a=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return a;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var a=this.consumeComponentValue();if(a.type===32)return t;t.push(a),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var a={type:t,values:[]},s=this.consumeToken();;){if(s.type===32||yU(s,t))return a;this.reconsumeToken(s),a.values.push(this.consumeComponentValue()),s=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var a={name:t.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return a;this.reconsumeToken(s),a.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?qx:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),_u=function(e){return e.type===15},OA=function(e){return e.type===17},Fr=function(e){return e.type===20},xU=function(e){return e.type===0},Xx=function(e,t){return Fr(e)&&e.value===t},LB=function(e){return e.type!==31},IA=function(e){return e.type!==31&&e.type!==4},Li=function(e){var t=[],a=[];return e.forEach(function(s){if(s.type===4){if(a.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(a),a=[];return}s.type!==31&&a.push(s)}),a.length&&t.push(a),t},yU=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},pl=function(e){return e.type===17||e.type===15},va=function(e){return e.type===16||pl(e)},IB=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},qa={type:17,number:0,flags:Hu},yb={type:16,number:50,flags:Hu},Yo={type:16,number:100,flags:Hu},Md=function(e,t,a){var s=e[0],o=e[1];return[Tr(s,t),Tr(typeof o<"u"?o:s,a)]},Tr=function(e,t){if(e.type===16)return e.number/100*t;if(_u(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},PB="deg",UB="grad",DB="rad",TB="turn",vf={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case PB:return Math.PI*t.number/180;case UB:return Math.PI/200*t.number;case DB:return t.number;case TB:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},QB=function(e){return e.type===15&&(e.unit===PB||e.unit===UB||e.unit===DB||e.unit===TB)},RB=function(e){var t=e.filter(Fr).map(function(a){return a.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[qa,qa];case"to top":case"bottom":return En(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[qa,Yo];case"to right":case"left":return En(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Yo,Yo];case"to bottom":case"top":return En(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Yo,qa];case"to left":case"right":return En(270)}return 0},En=function(e){return Math.PI*e/180},cl={name:"color",parse:function(e,t){if(t.type===18){var a=bU[t.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return a(e,t.values)}if(t.type===5){if(t.value.length===3){var s=t.value.substring(0,1),o=t.value.substring(1,2),l=t.value.substring(2,3);return $o(parseInt(s+s,16),parseInt(o+o,16),parseInt(l+l,16),1)}if(t.value.length===4){var s=t.value.substring(0,1),o=t.value.substring(1,2),l=t.value.substring(2,3),d=t.value.substring(3,4);return $o(parseInt(s+s,16),parseInt(o+o,16),parseInt(l+l,16),parseInt(d+d,16)/255)}if(t.value.length===6){var s=t.value.substring(0,2),o=t.value.substring(2,4),l=t.value.substring(4,6);return $o(parseInt(s,16),parseInt(o,16),parseInt(l,16),1)}if(t.value.length===8){var s=t.value.substring(0,2),o=t.value.substring(2,4),l=t.value.substring(4,6),d=t.value.substring(6,8);return $o(parseInt(s,16),parseInt(o,16),parseInt(l,16),parseInt(d,16)/255)}}if(t.type===20){var g=so[t.value.toUpperCase()];if(typeof g<"u")return g}return so.TRANSPARENT}},Al=function(e){return(255&e)===0},Da=function(e){var t=255&e,a=255&e>>8,s=255&e>>16,o=255&e>>24;return t<255?"rgba("+o+","+s+","+a+","+t/255+")":"rgb("+o+","+s+","+a+")"},$o=function(e,t,a,s){return(e<<24|t<<16|a<<8|Math.round(s*255)<<0)>>>0},j1=function(e,t){if(e.type===17)return e.number;if(e.type===16){var a=t===3?1:255;return t===3?e.number/100*a:Math.round(e.number/100*a)}return 0},S1=function(e,t){var a=t.filter(IA);if(a.length===3){var s=a.map(j1),o=s[0],l=s[1],d=s[2];return $o(o,l,d,1)}if(a.length===4){var g=a.map(j1),o=g[0],l=g[1],d=g[2],f=g[3];return $o(o,l,d,f)}return 0};function tm(e,t,a){return a<0&&(a+=1),a>=1&&(a-=1),a<1/6?(t-e)*a*6+e:a<1/2?t:a<2/3?(t-e)*6*(2/3-a)+e:e}var F1=function(e,t){var a=t.filter(IA),s=a[0],o=a[1],l=a[2],d=a[3],g=(s.type===17?En(s.number):vf.parse(e,s))/(Math.PI*2),f=va(o)?o.number/100:0,m=va(l)?l.number/100:0,y=typeof d<"u"&&va(d)?Tr(d,1):1;if(f===0)return $o(m*255,m*255,m*255,1);var N=m<=.5?m*(f+1):m+f-m*f,B=m*2-N,w=tm(B,N,g+1/3),U=tm(B,N,g),L=tm(B,N,g-1/3);return $o(w*255,U*255,L*255,y)},bU={hsl:F1,hsla:F1,rgb:S1,rgba:S1},au=function(e,t){return cl.parse(e,EB.create(t).parseComponentValue())},so={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},vU={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(a){if(Fr(a))switch(a.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},wU={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wf=function(e,t){var a=cl.parse(e,t[0]),s=t[1];return s&&va(s)?{color:a,stop:s}:{color:a,stop:null}},E1=function(e,t){var a=e[0],s=e[e.length-1];a.stop===null&&(a.stop=qa),s.stop===null&&(s.stop=Yo);for(var o=[],l=0,d=0;d<e.length;d++){var g=e[d].stop;if(g!==null){var f=Tr(g,t);f>l?o.push(f):o.push(l),l=f}else o.push(null)}for(var m=null,d=0;d<o.length;d++){var y=o[d];if(y===null)m===null&&(m=d);else if(m!==null){for(var N=d-m,B=o[m-1],w=(y-B)/(N+1),U=1;U<=N;U++)o[m+U-1]=w*U;m=null}}return e.map(function(L,R){var C=L.color;return{color:C,stop:Math.max(Math.min(1,o[R]/t),0)}})},kU=function(e,t,a){var s=t/2,o=a/2,l=Tr(e[0],t)-s,d=o-Tr(e[1],a);return(Math.atan2(d,l)+Math.PI*2)%(Math.PI*2)},NU=function(e,t,a){var s=typeof e=="number"?e:kU(e,t,a),o=Math.abs(t*Math.sin(s))+Math.abs(a*Math.cos(s)),l=t/2,d=a/2,g=o/2,f=Math.sin(s-Math.PI/2)*g,m=Math.cos(s-Math.PI/2)*g;return[o,l-m,l+m,d-f,d+f]},Gn=function(e,t){return Math.sqrt(e*e+t*t)},L1=function(e,t,a,s,o){var l=[[0,0],[0,t],[e,0],[e,t]];return l.reduce(function(d,g){var f=g[0],m=g[1],y=Gn(a-f,s-m);return(o?y<d.optimumDistance:y>d.optimumDistance)?{optimumCorner:g,optimumDistance:y}:d},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},CU=function(e,t,a,s,o){var l=0,d=0;switch(e.size){case 0:e.shape===0?l=d=Math.min(Math.abs(t),Math.abs(t-s),Math.abs(a),Math.abs(a-o)):e.shape===1&&(l=Math.min(Math.abs(t),Math.abs(t-s)),d=Math.min(Math.abs(a),Math.abs(a-o)));break;case 2:if(e.shape===0)l=d=Math.min(Gn(t,a),Gn(t,a-o),Gn(t-s,a),Gn(t-s,a-o));else if(e.shape===1){var g=Math.min(Math.abs(a),Math.abs(a-o))/Math.min(Math.abs(t),Math.abs(t-s)),f=L1(s,o,t,a,!0),m=f[0],y=f[1];l=Gn(m-t,(y-a)/g),d=g*l}break;case 1:e.shape===0?l=d=Math.max(Math.abs(t),Math.abs(t-s),Math.abs(a),Math.abs(a-o)):e.shape===1&&(l=Math.max(Math.abs(t),Math.abs(t-s)),d=Math.max(Math.abs(a),Math.abs(a-o)));break;case 3:if(e.shape===0)l=d=Math.max(Gn(t,a),Gn(t,a-o),Gn(t-s,a),Gn(t-s,a-o));else if(e.shape===1){var g=Math.max(Math.abs(a),Math.abs(a-o))/Math.max(Math.abs(t),Math.abs(t-s)),N=L1(s,o,t,a,!1),m=N[0],y=N[1];l=Gn(m-t,(y-a)/g),d=g*l}break}return Array.isArray(e.size)&&(l=Tr(e.size[0],s),d=e.size.length===2?Tr(e.size[1],o):l),[l,d]},BU=function(e,t){var a=En(180),s=[];return Li(t).forEach(function(o,l){if(l===0){var d=o[0];if(d.type===20&&d.value==="to"){a=RB(o);return}else if(QB(d)){a=vf.parse(e,d);return}}var g=wf(e,o);s.push(g)}),{angle:a,stops:s,type:1}},Ag=function(e,t){var a=En(180),s=[];return Li(t).forEach(function(o,l){if(l===0){var d=o[0];if(d.type===20&&["top","left","right","bottom"].indexOf(d.value)!==-1){a=RB(o);return}else if(QB(d)){a=(vf.parse(e,d)+En(270))%En(360);return}}var g=wf(e,o);s.push(g)}),{angle:a,stops:s,type:1}},jU=function(e,t){var a=En(180),s=[],o=1,l=0,d=3,g=[];return Li(t).forEach(function(f,m){var y=f[0];if(m===0){if(Fr(y)&&y.value==="linear"){o=1;return}else if(Fr(y)&&y.value==="radial"){o=2;return}}if(y.type===18){if(y.name==="from"){var N=cl.parse(e,y.values[0]);s.push({stop:qa,color:N})}else if(y.name==="to"){var N=cl.parse(e,y.values[0]);s.push({stop:Yo,color:N})}else if(y.name==="color-stop"){var B=y.values.filter(IA);if(B.length===2){var N=cl.parse(e,B[1]),w=B[0];OA(w)&&s.push({stop:{type:16,number:w.number*100,flags:w.flags},color:N})}}}}),o===1?{angle:(a+En(180))%En(360),stops:s,type:o}:{size:d,shape:l,stops:s,position:g,type:o}},MB="closest-side",OB="farthest-side",HB="closest-corner",_B="farthest-corner",zB="circle",VB="ellipse",GB="cover",qB="contain",SU=function(e,t){var a=0,s=3,o=[],l=[];return Li(t).forEach(function(d,g){var f=!0;if(g===0){var m=!1;f=d.reduce(function(N,B){if(m)if(Fr(B))switch(B.value){case"center":return l.push(yb),N;case"top":case"left":return l.push(qa),N;case"right":case"bottom":return l.push(Yo),N}else(va(B)||pl(B))&&l.push(B);else if(Fr(B))switch(B.value){case zB:return a=0,!1;case VB:return a=1,!1;case"at":return m=!0,!1;case MB:return s=0,!1;case GB:case OB:return s=1,!1;case qB:case HB:return s=2,!1;case _B:return s=3,!1}else if(pl(B)||va(B))return Array.isArray(s)||(s=[]),s.push(B),!1;return N},f)}if(f){var y=wf(e,d);o.push(y)}}),{size:s,shape:a,stops:o,position:l,type:2}},dg=function(e,t){var a=0,s=3,o=[],l=[];return Li(t).forEach(function(d,g){var f=!0;if(g===0?f=d.reduce(function(y,N){if(Fr(N))switch(N.value){case"center":return l.push(yb),!1;case"top":case"left":return l.push(qa),!1;case"right":case"bottom":return l.push(Yo),!1}else if(va(N)||pl(N))return l.push(N),!1;return y},f):g===1&&(f=d.reduce(function(y,N){if(Fr(N))switch(N.value){case zB:return a=0,!1;case VB:return a=1,!1;case qB:case MB:return s=0,!1;case OB:return s=1,!1;case HB:return s=2,!1;case GB:case _B:return s=3,!1}else if(pl(N)||va(N))return Array.isArray(s)||(s=[]),s.push(N),!1;return y},f)),f){var m=wf(e,d);o.push(m)}}),{size:s,shape:a,stops:o,position:l,type:2}},FU=function(e){return e.type===1},EU=function(e){return e.type===2},bb={name:"image",parse:function(e,t){if(t.type===22){var a={url:t.value,type:0};return e.cache.addImage(t.value),a}if(t.type===18){var s=XB[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return s(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function LU(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!XB[e.name])}var XB={"linear-gradient":BU,"-moz-linear-gradient":Ag,"-ms-linear-gradient":Ag,"-o-linear-gradient":Ag,"-webkit-linear-gradient":Ag,"radial-gradient":SU,"-moz-radial-gradient":dg,"-ms-radial-gradient":dg,"-o-radial-gradient":dg,"-webkit-radial-gradient":dg,"-webkit-gradient":jU},IU={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var a=t[0];return a.type===20&&a.value==="none"?[]:t.filter(function(s){return IA(s)&&LU(s)}).map(function(s){return bb.parse(e,s)})}},PU={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(a){if(Fr(a))switch(a.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},UU={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Li(t).map(function(a){return a.filter(va)}).map(IB)}},DU={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Li(t).map(function(a){return a.filter(Fr).map(function(s){return s.value}).join(" ")}).map(TU)}},TU=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},vA;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(vA||(vA={}));var QU={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Li(t).map(function(a){return a.filter(RU)})}},RU=function(e){return Fr(e)||va(e)},kf=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},MU=kf("top"),OU=kf("right"),HU=kf("bottom"),_U=kf("left"),Nf=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,a){return IB(a.filter(va))}}},zU=Nf("top-left"),VU=Nf("top-right"),GU=Nf("bottom-right"),qU=Nf("bottom-left"),Cf=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,a){switch(a){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},XU=Cf("top"),KU=Cf("right"),WU=Cf("bottom"),YU=Cf("left"),Bf=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,a){return _u(a)?a.number:0}}},$U=Bf("top"),JU=Bf("right"),ZU=Bf("bottom"),eD=Bf("left"),tD={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},rD={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},aD={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Fr).reduce(function(a,s){return a|sD(s.value)},0)}},sD=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},nD={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},iD={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},S0;(function(e){e.NORMAL="normal",e.STRICT="strict"})(S0||(S0={}));var oD={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return S0.STRICT;case"normal":default:return S0.NORMAL}}},lD={name:"line-height",initialValue:"normal",prefix:!1,type:4},I1=function(e,t){return Fr(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:va(e)?Tr(e,t):t},cD={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:bb.parse(e,t)}},AD={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},Kx={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},jf=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},dD=jf("top"),uD=jf("right"),hD=jf("bottom"),gD=jf("left"),fD={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Fr).map(function(a){switch(a.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},pD={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Sf=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},mD=Sf("top"),xD=Sf("right"),yD=Sf("bottom"),bD=Sf("left"),vD={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},wD={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},kD={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Xx(t[0],"none")?[]:Li(t).map(function(a){for(var s={color:so.TRANSPARENT,offsetX:qa,offsetY:qa,blur:qa},o=0,l=0;l<a.length;l++){var d=a[l];pl(d)?(o===0?s.offsetX=d:o===1?s.offsetY=d:s.blur=d,o++):s.color=cl.parse(e,d)}return s})}},ND={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},CD={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var a=SD[t.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return a(t.values)}return null}},BD=function(e){var t=e.filter(function(a){return a.type===17}).map(function(a){return a.number});return t.length===6?t:null},jD=function(e){var t=e.filter(function(f){return f.type===17}).map(function(f){return f.number}),a=t[0],s=t[1];t[2],t[3];var o=t[4],l=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var d=t[12],g=t[13];return t[14],t[15],t.length===16?[a,s,o,l,d,g]:null},SD={matrix:BD,matrix3d:jD},P1={type:16,number:50,flags:Hu},FD=[P1,P1],ED={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var a=t.filter(va);return a.length!==2?FD:[a[0],a[1]]}},LD={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},su;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(su||(su={}));var ID={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return su.BREAK_ALL;case"keep-all":return su.KEEP_ALL;case"normal":default:return su.NORMAL}}},PD={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(OA(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},KB={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},UD={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return OA(t)?t.number:1}},DD={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},TD={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Fr).map(function(a){switch(a.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(a){return a!==0})}},QD={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var a=[],s=[];return t.forEach(function(o){switch(o.type){case 20:case 0:a.push(o.value);break;case 17:a.push(o.number.toString());break;case 4:s.push(a.join(" ")),a.length=0;break}}),a.length&&s.push(a.join(" ")),s.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},RD={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},MD={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(OA(t))return t.number;if(Fr(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},OD={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Fr).map(function(a){return a.value})}},HD={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ea=function(e,t){return(e&t)!==0},_D={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var a=t[0];return a.type===20&&a.value==="none"?[]:t}},zD={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var a=t[0];if(a.type===20&&a.value==="none")return null;for(var s=[],o=t.filter(LB),l=0;l<o.length;l++){var d=o[l],g=o[l+1];if(d.type===20){var f=g&&OA(g)?g.number:1;s.push({counter:d.value,increment:f})}}return s}},VD={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var a=[],s=t.filter(LB),o=0;o<s.length;o++){var l=s[o],d=s[o+1];if(Fr(l)&&l.value!=="none"){var g=d&&OA(d)?d.number:0;a.push({counter:l.value,reset:g})}}return a}},GD={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(_u).map(function(a){return KB.parse(e,a)})}},qD={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var a=t[0];if(a.type===20&&a.value==="none")return null;var s=[],o=t.filter(xU);if(o.length%2!==0)return null;for(var l=0;l<o.length;l+=2){var d=o[l].value,g=o[l+1].value;s.push({open:d,close:g})}return s}},U1=function(e,t,a){if(!e)return"";var s=e[Math.min(t,e.length-1)];return s?a?s.open:s.close:""},XD={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Xx(t[0],"none")?[]:Li(t).map(function(a){for(var s={color:255,offsetX:qa,offsetY:qa,blur:qa,spread:qa,inset:!1},o=0,l=0;l<a.length;l++){var d=a[l];Xx(d,"inset")?s.inset=!0:pl(d)?(o===0?s.offsetX=d:o===1?s.offsetY=d:o===2?s.blur=d:s.spread=d,o++):s.color=cl.parse(e,d)}return s})}},KD={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var a=[0,1,2],s=[];return t.filter(Fr).forEach(function(o){switch(o.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),a.forEach(function(o){s.indexOf(o)===-1&&s.push(o)}),s}},WD={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},YD={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return _u(t)?t.number:0}},$D=function(){function e(t,a){var s,o;this.animationDuration=Bt(t,GD,a.animationDuration),this.backgroundClip=Bt(t,vU,a.backgroundClip),this.backgroundColor=Bt(t,wU,a.backgroundColor),this.backgroundImage=Bt(t,IU,a.backgroundImage),this.backgroundOrigin=Bt(t,PU,a.backgroundOrigin),this.backgroundPosition=Bt(t,UU,a.backgroundPosition),this.backgroundRepeat=Bt(t,DU,a.backgroundRepeat),this.backgroundSize=Bt(t,QU,a.backgroundSize),this.borderTopColor=Bt(t,MU,a.borderTopColor),this.borderRightColor=Bt(t,OU,a.borderRightColor),this.borderBottomColor=Bt(t,HU,a.borderBottomColor),this.borderLeftColor=Bt(t,_U,a.borderLeftColor),this.borderTopLeftRadius=Bt(t,zU,a.borderTopLeftRadius),this.borderTopRightRadius=Bt(t,VU,a.borderTopRightRadius),this.borderBottomRightRadius=Bt(t,GU,a.borderBottomRightRadius),this.borderBottomLeftRadius=Bt(t,qU,a.borderBottomLeftRadius),this.borderTopStyle=Bt(t,XU,a.borderTopStyle),this.borderRightStyle=Bt(t,KU,a.borderRightStyle),this.borderBottomStyle=Bt(t,WU,a.borderBottomStyle),this.borderLeftStyle=Bt(t,YU,a.borderLeftStyle),this.borderTopWidth=Bt(t,$U,a.borderTopWidth),this.borderRightWidth=Bt(t,JU,a.borderRightWidth),this.borderBottomWidth=Bt(t,ZU,a.borderBottomWidth),this.borderLeftWidth=Bt(t,eD,a.borderLeftWidth),this.boxShadow=Bt(t,XD,a.boxShadow),this.color=Bt(t,tD,a.color),this.direction=Bt(t,rD,a.direction),this.display=Bt(t,aD,a.display),this.float=Bt(t,nD,a.cssFloat),this.fontFamily=Bt(t,QD,a.fontFamily),this.fontSize=Bt(t,RD,a.fontSize),this.fontStyle=Bt(t,HD,a.fontStyle),this.fontVariant=Bt(t,OD,a.fontVariant),this.fontWeight=Bt(t,MD,a.fontWeight),this.letterSpacing=Bt(t,iD,a.letterSpacing),this.lineBreak=Bt(t,oD,a.lineBreak),this.lineHeight=Bt(t,lD,a.lineHeight),this.listStyleImage=Bt(t,cD,a.listStyleImage),this.listStylePosition=Bt(t,AD,a.listStylePosition),this.listStyleType=Bt(t,Kx,a.listStyleType),this.marginTop=Bt(t,dD,a.marginTop),this.marginRight=Bt(t,uD,a.marginRight),this.marginBottom=Bt(t,hD,a.marginBottom),this.marginLeft=Bt(t,gD,a.marginLeft),this.opacity=Bt(t,UD,a.opacity);var l=Bt(t,fD,a.overflow);this.overflowX=l[0],this.overflowY=l[l.length>1?1:0],this.overflowWrap=Bt(t,pD,a.overflowWrap),this.paddingTop=Bt(t,mD,a.paddingTop),this.paddingRight=Bt(t,xD,a.paddingRight),this.paddingBottom=Bt(t,yD,a.paddingBottom),this.paddingLeft=Bt(t,bD,a.paddingLeft),this.paintOrder=Bt(t,KD,a.paintOrder),this.position=Bt(t,wD,a.position),this.textAlign=Bt(t,vD,a.textAlign),this.textDecorationColor=Bt(t,DD,(s=a.textDecorationColor)!==null&&s!==void 0?s:a.color),this.textDecorationLine=Bt(t,TD,(o=a.textDecorationLine)!==null&&o!==void 0?o:a.textDecoration),this.textShadow=Bt(t,kD,a.textShadow),this.textTransform=Bt(t,ND,a.textTransform),this.transform=Bt(t,CD,a.transform),this.transformOrigin=Bt(t,ED,a.transformOrigin),this.visibility=Bt(t,LD,a.visibility),this.webkitTextStrokeColor=Bt(t,WD,a.webkitTextStrokeColor),this.webkitTextStrokeWidth=Bt(t,YD,a.webkitTextStrokeWidth),this.wordBreak=Bt(t,ID,a.wordBreak),this.zIndex=Bt(t,PD,a.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Al(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ea(this.display,4)||Ea(this.display,33554432)||Ea(this.display,268435456)||Ea(this.display,536870912)||Ea(this.display,67108864)||Ea(this.display,134217728)},e}(),JD=function(){function e(t,a){this.content=Bt(t,_D,a.content),this.quotes=Bt(t,qD,a.quotes)}return e}(),D1=function(){function e(t,a){this.counterIncrement=Bt(t,zD,a.counterIncrement),this.counterReset=Bt(t,VD,a.counterReset)}return e}(),Bt=function(e,t,a){var s=new FB,o=a!==null&&typeof a<"u"?a.toString():t.initialValue;s.write(o);var l=new EB(s.read());switch(t.type){case 2:var d=l.parseComponentValue();return t.parse(e,Fr(d)?d.value:t.initialValue);case 0:return t.parse(e,l.parseComponentValue());case 1:return t.parse(e,l.parseComponentValues());case 4:return l.parseComponentValue();case 3:switch(t.format){case"angle":return vf.parse(e,l.parseComponentValue());case"color":return cl.parse(e,l.parseComponentValue());case"image":return bb.parse(e,l.parseComponentValue());case"length":var g=l.parseComponentValue();return pl(g)?g:qa;case"length-percentage":var f=l.parseComponentValue();return va(f)?f:qa;case"time":return KB.parse(e,l.parseComponentValue())}break}},ZD="data-html2canvas-debug",eT=function(e){var t=e.getAttribute(ZD);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Wx=function(e,t){var a=eT(e);return a===1||t===a},Ii=function(){function e(t,a){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Wx(a,3))debugger;this.styles=new $D(t,window.getComputedStyle(a,null)),Jx(a)&&(this.styles.animationDuration.some(function(s){return s>0})&&(a.style.animationDuration="0s"),this.styles.transform!==null&&(a.style.transform="none")),this.bounds=yf(this.context,a),Wx(a,4)&&(this.flags|=16)}return e}(),tT="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",T1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Od=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ug=0;ug<T1.length;ug++)Od[T1.charCodeAt(ug)]=ug;var rT=function(e){var t=e.length*.75,a=e.length,s,o=0,l,d,g,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),y=Array.isArray(m)?m:new Uint8Array(m);for(s=0;s<a;s+=4)l=Od[e.charCodeAt(s)],d=Od[e.charCodeAt(s+1)],g=Od[e.charCodeAt(s+2)],f=Od[e.charCodeAt(s+3)],y[o++]=l<<2|d>>4,y[o++]=(d&15)<<4|g>>2,y[o++]=(g&3)<<6|f&63;return m},aT=function(e){for(var t=e.length,a=[],s=0;s<t;s+=2)a.push(e[s+1]<<8|e[s]);return a},sT=function(e){for(var t=e.length,a=[],s=0;s<t;s+=4)a.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return a},ec=5,vb=6+5,rm=2,nT=vb-ec,WB=65536>>ec,iT=1<<ec,am=iT-1,oT=1024>>ec,lT=WB+oT,cT=lT,AT=32,dT=cT+AT,uT=65536>>vb,hT=1<<nT,gT=hT-1,Q1=function(e,t,a){return e.slice?e.slice(t,a):new Uint16Array(Array.prototype.slice.call(e,t,a))},fT=function(e,t,a){return e.slice?e.slice(t,a):new Uint32Array(Array.prototype.slice.call(e,t,a))},pT=function(e,t){var a=rT(e),s=Array.isArray(a)?sT(a):new Uint32Array(a),o=Array.isArray(a)?aT(a):new Uint16Array(a),l=24,d=Q1(o,l/2,s[4]/2),g=s[5]===2?Q1(o,(l+s[4])/2):fT(s,Math.ceil((l+s[4])/4));return new mT(s[0],s[1],s[2],s[3],d,g)},mT=function(){function e(t,a,s,o,l,d){this.initialValue=t,this.errorValue=a,this.highStart=s,this.highValueIndex=o,this.index=l,this.data=d}return e.prototype.get=function(t){var a;if(t>=0){if(t<55296||t>56319&&t<=65535)return a=this.index[t>>ec],a=(a<<rm)+(t&am),this.data[a];if(t<=65535)return a=this.index[WB+(t-55296>>ec)],a=(a<<rm)+(t&am),this.data[a];if(t<this.highStart)return a=dT-uT+(t>>vb),a=this.index[a],a+=t>>ec&gT,a=this.index[a],a=(a<<rm)+(t&am),this.data[a];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),R1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hg=0;hg<R1.length;hg++)xT[R1.charCodeAt(hg)]=hg;var yT=1,sm=2,nm=3,M1=4,O1=5,bT=7,H1=8,im=9,om=10,_1=11,z1=12,V1=13,G1=14,lm=15,vT=function(e){for(var t=[],a=0,s=e.length;a<s;){var o=e.charCodeAt(a++);if(o>=55296&&o<=56319&&a<s){var l=e.charCodeAt(a++);(l&64512)===56320?t.push(((o&1023)<<10)+(l&1023)+65536):(t.push(o),a--)}else t.push(o)}return t},wT=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var a=e.length;if(!a)return"";for(var s=[],o=-1,l="";++o<a;){var d=e[o];d<=65535?s.push(d):(d-=65536,s.push((d>>10)+55296,d%1024+56320)),(o+1===a||s.length>16384)&&(l+=String.fromCharCode.apply(String,s),s.length=0)}return l},kT=pT(tT),Cn="×",cm="÷",NT=function(e){return kT.get(e)},CT=function(e,t,a){var s=a-2,o=t[s],l=t[a-1],d=t[a];if(l===sm&&d===nm)return Cn;if(l===sm||l===nm||l===M1||d===sm||d===nm||d===M1)return cm;if(l===H1&&[H1,im,_1,z1].indexOf(d)!==-1||(l===_1||l===im)&&(d===im||d===om)||(l===z1||l===om)&&d===om||d===V1||d===O1||d===bT||l===yT)return Cn;if(l===V1&&d===G1){for(;o===O1;)o=t[--s];if(o===G1)return Cn}if(l===lm&&d===lm){for(var g=0;o===lm;)g++,o=t[--s];if(g%2===0)return Cn}return cm},BT=function(e){var t=vT(e),a=t.length,s=0,o=0,l=t.map(NT);return{next:function(){if(s>=a)return{done:!0,value:null};for(var d=Cn;s<a&&(d=CT(t,l,++s))===Cn;);if(d!==Cn||s===a){var g=wT.apply(null,t.slice(o,s));return o=s,{value:g,done:!1}}return{done:!0,value:null}}}},jT=function(e){for(var t=BT(e),a=[],s;!(s=t.next()).done;)s.value&&a.push(s.value.slice());return a},ST=function(e){var t=123;if(e.createRange){var a=e.createRange();if(a.getBoundingClientRect){var s=e.createElement("boundtest");s.style.height=t+"px",s.style.display="block",e.body.appendChild(s),a.selectNode(s);var o=a.getBoundingClientRect(),l=Math.round(o.height);if(e.body.removeChild(s),l===t)return!0}}return!1},FT=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var a=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=t.firstChild,o=bf(s.data).map(function(f){return da(f)}),l=0,d={},g=o.every(function(f,m){a.setStart(s,l),a.setEnd(s,l+f.length);var y=a.getBoundingClientRect();l+=f.length;var N=y.x>d.x||y.y>d.y;return d=y,m===0?!0:N});return e.body.removeChild(t),g},ET=function(){return typeof new Image().crossOrigin<"u"},LT=function(){return typeof new XMLHttpRequest().responseType=="string"},IT=function(e){var t=new Image,a=e.createElement("canvas"),s=a.getContext("2d");if(!s)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(t,0,0),a.toDataURL()}catch{return!1}return!0},q1=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},PT=function(e){var t=e.createElement("canvas"),a=100;t.width=a,t.height=a;var s=t.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,a,a);var o=new Image,l=t.toDataURL();o.src=l;var d=Yx(a,a,0,0,o);return s.fillStyle="red",s.fillRect(0,0,a,a),X1(d).then(function(g){s.drawImage(g,0,0);var f=s.getImageData(0,0,a,a).data;s.fillStyle="red",s.fillRect(0,0,a,a);var m=e.createElement("div");return m.style.backgroundImage="url("+l+")",m.style.height=a+"px",q1(f)?X1(Yx(a,a,0,0,m)):Promise.reject(!1)}).then(function(g){return s.drawImage(g,0,0),q1(s.getImageData(0,0,a,a).data)}).catch(function(){return!1})},Yx=function(e,t,a,s,o){var l="http://www.w3.org/2000/svg",d=document.createElementNS(l,"svg"),g=document.createElementNS(l,"foreignObject");return d.setAttributeNS(null,"width",e.toString()),d.setAttributeNS(null,"height",t.toString()),g.setAttributeNS(null,"width","100%"),g.setAttributeNS(null,"height","100%"),g.setAttributeNS(null,"x",a.toString()),g.setAttributeNS(null,"y",s.toString()),g.setAttributeNS(null,"externalResourcesRequired","true"),d.appendChild(g),g.appendChild(o),d},X1=function(e){return new Promise(function(t,a){var s=new Image;s.onload=function(){return t(s)},s.onerror=a,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ga={get SUPPORT_RANGE_BOUNDS(){var e=ST(document);return Object.defineProperty(Ga,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ga.SUPPORT_RANGE_BOUNDS&&FT(document);return Object.defineProperty(Ga,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=IT(document);return Object.defineProperty(Ga,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?PT(document):Promise.resolve(!1);return Object.defineProperty(Ga,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=ET();return Object.defineProperty(Ga,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=LT();return Object.defineProperty(Ga,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ga,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ga,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},nu=function(){function e(t,a){this.text=t,this.bounds=a}return e}(),UT=function(e,t,a,s){var o=QT(t,a),l=[],d=0;return o.forEach(function(g){if(a.textDecorationLine.length||g.trim().length>0)if(Ga.SUPPORT_RANGE_BOUNDS){var f=K1(s,d,g.length).getClientRects();if(f.length>1){var m=wb(g),y=0;m.forEach(function(B){l.push(new nu(B,ho.fromDOMRectList(e,K1(s,y+d,B.length).getClientRects()))),y+=B.length})}else l.push(new nu(g,ho.fromDOMRectList(e,f)))}else{var N=s.splitText(g.length);l.push(new nu(g,DT(e,s))),s=N}else Ga.SUPPORT_RANGE_BOUNDS||(s=s.splitText(g.length));d+=g.length}),l},DT=function(e,t){var a=t.ownerDocument;if(a){var s=a.createElement("html2canvaswrapper");s.appendChild(t.cloneNode(!0));var o=t.parentNode;if(o){o.replaceChild(s,t);var l=yf(e,s);return s.firstChild&&o.replaceChild(s.firstChild,s),l}}return ho.EMPTY},K1=function(e,t,a){var s=e.ownerDocument;if(!s)throw new Error("Node has no owner document");var o=s.createRange();return o.setStart(e,t),o.setEnd(e,t+a),o},wb=function(e){if(Ga.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(a){return a.segment})}return jT(e)},TT=function(e,t){if(Ga.SUPPORT_NATIVE_TEXT_SEGMENTATION){var a=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(a.segment(e)).map(function(s){return s.segment})}return MT(e,t)},QT=function(e,t){return t.letterSpacing!==0?wb(e):TT(e,t)},RT=[32,160,4961,65792,65793,4153,4241],MT=function(e,t){for(var a=uP(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),s=[],o,l=function(){if(o.value){var d=o.value.slice(),g=bf(d),f="";g.forEach(function(m){RT.indexOf(m)===-1?f+=da(m):(f.length&&s.push(f),s.push(da(m)),f="")}),f.length&&s.push(f)}};!(o=a.next()).done;)l();return s},OT=function(){function e(t,a,s){this.text=HT(a.data,s.textTransform),this.textBounds=UT(t,this.text,s,a)}return e}(),HT=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(_T,zT);case 2:return e.toUpperCase();default:return e}},_T=/(^|\s|:|-|\(|\))([a-z])/g,zT=function(e,t,a){return e.length>0?t+a.toUpperCase():e},YB=function(e){si(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.src=s.currentSrc||s.src,o.intrinsicWidth=s.naturalWidth,o.intrinsicHeight=s.naturalHeight,o.context.cache.addImage(o.src),o}return t}(Ii),$B=function(e){si(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.canvas=s,o.intrinsicWidth=s.width,o.intrinsicHeight=s.height,o}return t}(Ii),JB=function(e){si(t,e);function t(a,s){var o=e.call(this,a,s)||this,l=new XMLSerializer,d=yf(a,s);return s.setAttribute("width",d.width+"px"),s.setAttribute("height",d.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(l.serializeToString(s)),o.intrinsicWidth=s.width.baseVal.value,o.intrinsicHeight=s.height.baseVal.value,o.context.cache.addImage(o.svg),o}return t}(Ii),ZB=function(e){si(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.value=s.value,o}return t}(Ii),$x=function(e){si(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.start=s.start,o.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,o}return t}(Ii),VT=[{type:15,flags:0,unit:"px",number:3}],GT=[{type:16,flags:0,number:50}],qT=function(e){return e.width>e.height?new ho(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new ho(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},XT=function(e){var t=e.type===KT?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},F0="checkbox",E0="radio",KT="password",W1=707406591,kb=function(e){si(t,e);function t(a,s){var o=e.call(this,a,s)||this;switch(o.type=s.type.toLowerCase(),o.checked=s.checked,o.value=XT(s),(o.type===F0||o.type===E0)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=qT(o.bounds)),o.type){case F0:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=VT;break;case E0:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=GT;break}return o}return t}(Ii),e5=function(e){si(t,e);function t(a,s){var o=e.call(this,a,s)||this,l=s.options[s.selectedIndex||0];return o.value=l&&l.text||"",o}return t}(Ii),t5=function(e){si(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.value=s.value,o}return t}(Ii),r5=function(e){si(t,e);function t(a,s){var o=e.call(this,a,s)||this;o.src=s.src,o.width=parseInt(s.width,10)||0,o.height=parseInt(s.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){o.tree=s5(a,s.contentWindow.document.documentElement);var l=s.contentWindow.document.documentElement?au(a,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):so.TRANSPARENT,d=s.contentWindow.document.body?au(a,getComputedStyle(s.contentWindow.document.body).backgroundColor):so.TRANSPARENT;o.backgroundColor=Al(l)?Al(d)?o.styles.backgroundColor:d:l}}catch{}return o}return t}(Ii),WT=["OL","UL","MENU"],Rg=function(e,t,a,s){for(var o=t.firstChild,l=void 0;o;o=l)if(l=o.nextSibling,n5(o)&&o.data.trim().length>0)a.textNodes.push(new OT(e,o,a.styles));else if(cA(o))if(c5(o)&&o.assignedNodes)o.assignedNodes().forEach(function(g){return Rg(e,g,a,s)});else{var d=a5(e,o);d.styles.isVisible()&&(YT(o,d,s)?d.flags|=4:$T(d.styles)&&(d.flags|=2),WT.indexOf(o.tagName)!==-1&&(d.flags|=8),a.elements.push(d),o.slot,o.shadowRoot?Rg(e,o.shadowRoot,d,s):!L0(o)&&!i5(o)&&!I0(o)&&Rg(e,o,d,s))}},a5=function(e,t){return Zx(t)?new YB(e,t):o5(t)?new $B(e,t):i5(t)?new JB(e,t):JT(t)?new ZB(e,t):ZT(t)?new $x(e,t):eQ(t)?new kb(e,t):I0(t)?new e5(e,t):L0(t)?new t5(e,t):l5(t)?new r5(e,t):new Ii(e,t)},s5=function(e,t){var a=a5(e,t);return a.flags|=4,Rg(e,t,a,a),a},YT=function(e,t,a){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Nb(e)&&a.styles.isTransparent()},$T=function(e){return e.isPositioned()||e.isFloating()},n5=function(e){return e.nodeType===Node.TEXT_NODE},cA=function(e){return e.nodeType===Node.ELEMENT_NODE},Jx=function(e){return cA(e)&&typeof e.style<"u"&&!Mg(e)},Mg=function(e){return typeof e.className=="object"},JT=function(e){return e.tagName==="LI"},ZT=function(e){return e.tagName==="OL"},eQ=function(e){return e.tagName==="INPUT"},tQ=function(e){return e.tagName==="HTML"},i5=function(e){return e.tagName==="svg"},Nb=function(e){return e.tagName==="BODY"},o5=function(e){return e.tagName==="CANVAS"},Y1=function(e){return e.tagName==="VIDEO"},Zx=function(e){return e.tagName==="IMG"},l5=function(e){return e.tagName==="IFRAME"},$1=function(e){return e.tagName==="STYLE"},rQ=function(e){return e.tagName==="SCRIPT"},L0=function(e){return e.tagName==="TEXTAREA"},I0=function(e){return e.tagName==="SELECT"},c5=function(e){return e.tagName==="SLOT"},J1=function(e){return e.tagName.indexOf("-")>0},aQ=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var a=this.counters[t];return a&&a.length?a[a.length-1]:1},e.prototype.getCounterValues=function(t){var a=this.counters[t];return a||[]},e.prototype.pop=function(t){var a=this;t.forEach(function(s){return a.counters[s].pop()})},e.prototype.parse=function(t){var a=this,s=t.counterIncrement,o=t.counterReset,l=!0;s!==null&&s.forEach(function(g){var f=a.counters[g.counter];f&&g.increment!==0&&(l=!1,f.length||f.push(1),f[Math.max(0,f.length-1)]+=g.increment)});var d=[];return l&&o.forEach(function(g){var f=a.counters[g.counter];d.push(g.counter),f||(f=a.counters[g.counter]=[]),f.push(g.reset)}),d},e}(),Z1={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},e2={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},sQ={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},nQ={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Hc=function(e,t,a,s,o,l){return e<t||e>a?Eu(e,o,l.length>0):s.integers.reduce(function(d,g,f){for(;e>=g;)e-=g,d+=s.values[f];return d},"")+l},A5=function(e,t,a,s){var o="";do a||e--,o=s(e)+o,e/=t;while(e*t>=t);return o},Aa=function(e,t,a,s,o){var l=a-t+1;return(e<0?"-":"")+(A5(Math.abs(e),l,s,function(d){return da(Math.floor(d%l)+t)})+o)},Il=function(e,t,a){a===void 0&&(a=". ");var s=t.length;return A5(Math.abs(e),s,!1,function(o){return t[Math.floor(o%s)]})+a},Kc=1,Uo=2,Do=4,Hd=8,Ki=function(e,t,a,s,o,l){if(e<-9999||e>9999)return Eu(e,4,o.length>0);var d=Math.abs(e),g=o;if(d===0)return t[0]+g;for(var f=0;d>0&&f<=4;f++){var m=d%10;m===0&&Ea(l,Kc)&&g!==""?g=t[m]+g:m>1||m===1&&f===0||m===1&&f===1&&Ea(l,Uo)||m===1&&f===1&&Ea(l,Do)&&e>100||m===1&&f>1&&Ea(l,Hd)?g=t[m]+(f>0?a[f-1]:"")+g:m===1&&f>0&&(g=a[f-1]+g),d=Math.floor(d/10)}return(e<0?s:"")+g},t2="十百千萬",r2="拾佰仟萬",a2="マイナス",Am="마이너스",Eu=function(e,t,a){var s=a?". ":"",o=a?"、":"",l=a?", ":"",d=a?" ":"";switch(t){case 0:return"•"+d;case 1:return"◦"+d;case 2:return"◾"+d;case 5:var g=Aa(e,48,57,!0,s);return g.length<4?"0"+g:g;case 4:return Il(e,"〇一二三四五六七八九",o);case 6:return Hc(e,1,3999,Z1,3,s).toLowerCase();case 7:return Hc(e,1,3999,Z1,3,s);case 8:return Aa(e,945,969,!1,s);case 9:return Aa(e,97,122,!1,s);case 10:return Aa(e,65,90,!1,s);case 11:return Aa(e,1632,1641,!0,s);case 12:case 49:return Hc(e,1,9999,e2,3,s);case 35:return Hc(e,1,9999,e2,3,s).toLowerCase();case 13:return Aa(e,2534,2543,!0,s);case 14:case 30:return Aa(e,6112,6121,!0,s);case 15:return Il(e,"子丑寅卯辰巳午未申酉戌亥",o);case 16:return Il(e,"甲乙丙丁戊己庚辛壬癸",o);case 17:case 48:return Ki(e,"零一二三四五六七八九",t2,"負",o,Uo|Do|Hd);case 47:return Ki(e,"零壹貳參肆伍陸柒捌玖",r2,"負",o,Kc|Uo|Do|Hd);case 42:return Ki(e,"零一二三四五六七八九",t2,"负",o,Uo|Do|Hd);case 41:return Ki(e,"零壹贰叁肆伍陆柒捌玖",r2,"负",o,Kc|Uo|Do|Hd);case 26:return Ki(e,"〇一二三四五六七八九","十百千万",a2,o,0);case 25:return Ki(e,"零壱弐参四伍六七八九","拾百千万",a2,o,Kc|Uo|Do);case 31:return Ki(e,"영일이삼사오육칠팔구","십백천만",Am,l,Kc|Uo|Do);case 33:return Ki(e,"零一二三四五六七八九","十百千萬",Am,l,0);case 32:return Ki(e,"零壹貳參四五六七八九","拾百千",Am,l,Kc|Uo|Do);case 18:return Aa(e,2406,2415,!0,s);case 20:return Hc(e,1,19999,nQ,3,s);case 21:return Aa(e,2790,2799,!0,s);case 22:return Aa(e,2662,2671,!0,s);case 22:return Hc(e,1,10999,sQ,3,s);case 23:return Il(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Il(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Aa(e,3302,3311,!0,s);case 28:return Il(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",o);case 29:return Il(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",o);case 34:return Aa(e,3792,3801,!0,s);case 37:return Aa(e,6160,6169,!0,s);case 38:return Aa(e,4160,4169,!0,s);case 39:return Aa(e,2918,2927,!0,s);case 40:return Aa(e,1776,1785,!0,s);case 43:return Aa(e,3046,3055,!0,s);case 44:return Aa(e,3174,3183,!0,s);case 45:return Aa(e,3664,3673,!0,s);case 46:return Aa(e,3872,3881,!0,s);case 3:default:return Aa(e,48,57,!0,s)}},d5="data-html2canvas-ignore",s2=function(){function e(t,a,s){if(this.context=t,this.options=s,this.scrolledElements=[],this.referenceElement=a,this.counters=new aQ,this.quoteDepth=0,!a.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(a.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,a){var s=this,o=iQ(t,a);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var l=t.defaultView.pageXOffset,d=t.defaultView.pageYOffset,g=o.contentWindow,f=g.document,m=cQ(o).then(function(){return ys(s,void 0,void 0,function(){var y,N;return is(this,function(B){switch(B.label){case 0:return this.scrolledElements.forEach(hQ),g&&(g.scrollTo(a.left,a.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(g.scrollY!==a.top||g.scrollX!==a.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(g.scrollX-a.left,g.scrollY-a.top,0,0))),y=this.options.onclone,N=this.clonedReferenceElement,typeof N>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:f.fonts&&f.fonts.ready?[4,f.fonts.ready]:[3,2];case 1:B.sent(),B.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,lQ(f)]:[3,4];case 3:B.sent(),B.label=4;case 4:return typeof y=="function"?[2,Promise.resolve().then(function(){return y(f,N)}).then(function(){return o})]:[2,o]}})})});return f.open(),f.write(dQ(document.doctype)+"<html></html>"),uQ(this.referenceElement.ownerDocument,l,d),f.replaceChild(f.adoptNode(this.documentElement),f.documentElement),f.close(),m},e.prototype.createElementClone=function(t){if(Wx(t,2))debugger;if(o5(t))return this.createCanvasClone(t);if(Y1(t))return this.createVideoClone(t);if($1(t))return this.createStyleClone(t);var a=t.cloneNode(!1);return Zx(a)&&(Zx(t)&&t.currentSrc&&t.currentSrc!==t.src&&(a.src=t.currentSrc,a.srcset=""),a.loading==="lazy"&&(a.loading="eager")),J1(a)?this.createCustomElementClone(a):a},e.prototype.createCustomElementClone=function(t){var a=document.createElement("html2canvascustomelement");return dm(t.style,a),a},e.prototype.createStyleClone=function(t){try{var a=t.sheet;if(a&&a.cssRules){var s=[].slice.call(a.cssRules,0).reduce(function(l,d){return d&&typeof d.cssText=="string"?l+d.cssText:l},""),o=t.cloneNode(!1);return o.textContent=s,o}}catch(l){if(this.context.logger.error("Unable to access cssRules property",l),l.name!=="SecurityError")throw l}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var a;if(this.options.inlineImages&&t.ownerDocument){var s=t.ownerDocument.createElement("img");try{return s.src=t.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var o=t.cloneNode(!1);try{o.width=t.width,o.height=t.height;var l=t.getContext("2d"),d=o.getContext("2d");if(d)if(!this.options.allowTaint&&l)d.putImageData(l.getImageData(0,0,t.width,t.height),0,0);else{var g=(a=t.getContext("webgl2"))!==null&&a!==void 0?a:t.getContext("webgl");if(g){var f=g.getContextAttributes();(f==null?void 0:f.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}d.drawImage(t,0,0)}return o}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return o},e.prototype.createVideoClone=function(t){var a=t.ownerDocument.createElement("canvas");a.width=t.offsetWidth,a.height=t.offsetHeight;var s=a.getContext("2d");try{return s&&(s.drawImage(t,0,0,a.width,a.height),this.options.allowTaint||s.getImageData(0,0,a.width,a.height)),a}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var o=t.ownerDocument.createElement("canvas");return o.width=t.offsetWidth,o.height=t.offsetHeight,o},e.prototype.appendChildNode=function(t,a,s){(!cA(a)||!rQ(a)&&!a.hasAttribute(d5)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(a)))&&(!this.options.copyStyles||!cA(a)||!$1(a))&&t.appendChild(this.cloneNode(a,s))},e.prototype.cloneChildNodes=function(t,a,s){for(var o=this,l=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;l;l=l.nextSibling)if(cA(l)&&c5(l)&&typeof l.assignedNodes=="function"){var d=l.assignedNodes();d.length&&d.forEach(function(g){return o.appendChildNode(a,g,s)})}else this.appendChildNode(a,l,s)},e.prototype.cloneNode=function(t,a){if(n5(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var s=t.ownerDocument.defaultView;if(s&&cA(t)&&(Jx(t)||Mg(t))){var o=this.createElementClone(t);o.style.transitionProperty="none";var l=s.getComputedStyle(t),d=s.getComputedStyle(t,":before"),g=s.getComputedStyle(t,":after");this.referenceElement===t&&Jx(o)&&(this.clonedReferenceElement=o),Nb(o)&&pQ(o);var f=this.counters.parse(new D1(this.context,l)),m=this.resolvePseudoContent(t,o,d,iu.BEFORE);J1(t)&&(a=!0),Y1(t)||this.cloneChildNodes(t,o,a),m&&o.insertBefore(m,o.firstChild);var y=this.resolvePseudoContent(t,o,g,iu.AFTER);return y&&o.appendChild(y),this.counters.pop(f),(l&&(this.options.copyStyles||Mg(t))&&!l5(t)||a)&&dm(l,o),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([o,t.scrollLeft,t.scrollTop]),(L0(t)||I0(t))&&(L0(o)||I0(o))&&(o.value=t.value),o}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,a,s,o){var l=this;if(s){var d=s.content,g=a.ownerDocument;if(!(!g||!d||d==="none"||d==="-moz-alt-content"||s.display==="none")){this.counters.parse(new D1(this.context,s));var f=new JD(this.context,s),m=g.createElement("html2canvaspseudoelement");dm(s,m),f.content.forEach(function(N){if(N.type===0)m.appendChild(g.createTextNode(N.value));else if(N.type===22){var B=g.createElement("img");B.src=N.value,B.style.opacity="1",m.appendChild(B)}else if(N.type===18){if(N.name==="attr"){var w=N.values.filter(Fr);w.length&&m.appendChild(g.createTextNode(t.getAttribute(w[0].value)||""))}else if(N.name==="counter"){var U=N.values.filter(IA),L=U[0],R=U[1];if(L&&Fr(L)){var C=l.counters.getCounterValue(L.value),I=R&&Fr(R)?Kx.parse(l.context,R.value):3;m.appendChild(g.createTextNode(Eu(C,I,!1)))}}else if(N.name==="counters"){var T=N.values.filter(IA),L=T[0],z=T[1],R=T[2];if(L&&Fr(L)){var D=l.counters.getCounterValues(L.value),ae=R&&Fr(R)?Kx.parse(l.context,R.value):3,X=z&&z.type===0?z.value:"",_=D.map(function(W){return Eu(W,ae,!1)}).join(X);m.appendChild(g.createTextNode(_))}}}else if(N.type===20)switch(N.value){case"open-quote":m.appendChild(g.createTextNode(U1(f.quotes,l.quoteDepth++,!0)));break;case"close-quote":m.appendChild(g.createTextNode(U1(f.quotes,--l.quoteDepth,!1)));break;default:m.appendChild(g.createTextNode(N.value))}}),m.className=ey+" "+ty;var y=o===iu.BEFORE?" "+ey:" "+ty;return Mg(a)?a.className.baseValue+=y:a.className+=y,m}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),iu;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(iu||(iu={}));var iQ=function(e,t){var a=e.createElement("iframe");return a.className="html2canvas-container",a.style.visibility="hidden",a.style.position="fixed",a.style.left="-10000px",a.style.top="0px",a.style.border="0",a.width=t.width.toString(),a.height=t.height.toString(),a.scrolling="no",a.setAttribute(d5,"true"),e.body.appendChild(a),a},oQ=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},lQ=function(e){return Promise.all([].slice.call(e.images,0).map(oQ))},cQ=function(e){return new Promise(function(t,a){var s=e.contentWindow;if(!s)return a("No window assigned for iframe");var o=s.document;s.onload=e.onload=function(){s.onload=e.onload=null;var l=setInterval(function(){o.body.childNodes.length>0&&o.readyState==="complete"&&(clearInterval(l),t(e))},50)}})},AQ=["all","d","content"],dm=function(e,t){for(var a=e.length-1;a>=0;a--){var s=e.item(a);AQ.indexOf(s)===-1&&t.style.setProperty(s,e.getPropertyValue(s))}return t},dQ=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},uQ=function(e,t,a){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||a!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,a)},hQ=function(e){var t=e[0],a=e[1],s=e[2];t.scrollLeft=a,t.scrollTop=s},gQ=":before",fQ=":after",ey="___html2canvas___pseudoelement_before",ty="___html2canvas___pseudoelement_after",n2=`{
    content: "" !important;
    display: none !important;
}`,pQ=function(e){mQ(e,"."+ey+gQ+n2+`
         .`+ty+fQ+n2)},mQ=function(e,t){var a=e.ownerDocument;if(a){var s=a.createElement("style");s.textContent=t,e.appendChild(s)}},u5=function(){function e(){}return e.getOrigin=function(t){var a=e._link;return a?(a.href=t,a.href=a.href,a.protocol+a.hostname+a.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),xQ=function(){function e(t,a){this.context=t,this._options=a,this._cache={}}return e.prototype.addImage=function(t){var a=Promise.resolve();return this.has(t)||(hm(t)||wQ(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),a},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ys(this,void 0,void 0,function(){var a,s,o,l,d=this;return is(this,function(g){switch(g.label){case 0:return a=u5.isSameOrigin(t),s=!um(t)&&this._options.useCORS===!0&&Ga.SUPPORT_CORS_IMAGES&&!a,o=!um(t)&&!a&&!hm(t)&&typeof this._options.proxy=="string"&&Ga.SUPPORT_CORS_XHR&&!s,!a&&this._options.allowTaint===!1&&!um(t)&&!hm(t)&&!o&&!s?[2]:(l=t,o?[4,this.proxy(l)]:[3,2]);case 1:l=g.sent(),g.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(f,m){var y=new Image;y.onload=function(){return f(y)},y.onerror=m,(kQ(l)||s)&&(y.crossOrigin="anonymous"),y.src=l,y.complete===!0&&setTimeout(function(){return f(y)},500),d._options.imageTimeout>0&&setTimeout(function(){return m("Timed out ("+d._options.imageTimeout+"ms) loading image")},d._options.imageTimeout)})];case 3:return[2,g.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var a=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var o=t.substring(0,256);return new Promise(function(l,d){var g=Ga.SUPPORT_RESPONSE_TYPE?"blob":"text",f=new XMLHttpRequest;f.onload=function(){if(f.status===200)if(g==="text")l(f.response);else{var N=new FileReader;N.addEventListener("load",function(){return l(N.result)},!1),N.addEventListener("error",function(B){return d(B)},!1),N.readAsDataURL(f.response)}else d("Failed to proxy resource "+o+" with status code "+f.status)},f.onerror=d;var m=s.indexOf("?")>-1?"&":"?";if(f.open("GET",""+s+m+"url="+encodeURIComponent(t)+"&responseType="+g),g!=="text"&&f instanceof XMLHttpRequest&&(f.responseType=g),a._options.imageTimeout){var y=a._options.imageTimeout;f.timeout=y,f.ontimeout=function(){return d("Timed out ("+y+"ms) proxying "+o)}}f.send()})},e}(),yQ=/^data:image\/svg\+xml/i,bQ=/^data:image\/.*;base64,/i,vQ=/^data:image\/.*/i,wQ=function(e){return Ga.SUPPORT_SVG_DRAWING||!NQ(e)},um=function(e){return vQ.test(e)},kQ=function(e){return bQ.test(e)},hm=function(e){return e.substr(0,4)==="blob"},NQ=function(e){return e.substr(-3).toLowerCase()==="svg"||yQ.test(e)},vt=function(){function e(t,a){this.type=0,this.x=t,this.y=a}return e.prototype.add=function(t,a){return new e(this.x+t,this.y+a)},e}(),_c=function(e,t,a){return new vt(e.x+(t.x-e.x)*a,e.y+(t.y-e.y)*a)},gg=function(){function e(t,a,s,o){this.type=1,this.start=t,this.startControl=a,this.endControl=s,this.end=o}return e.prototype.subdivide=function(t,a){var s=_c(this.start,this.startControl,t),o=_c(this.startControl,this.endControl,t),l=_c(this.endControl,this.end,t),d=_c(s,o,t),g=_c(o,l,t),f=_c(d,g,t);return a?new e(this.start,s,d,f):new e(f,g,l,this.end)},e.prototype.add=function(t,a){return new e(this.start.add(t,a),this.startControl.add(t,a),this.endControl.add(t,a),this.end.add(t,a))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Sn=function(e){return e.type===1},CQ=function(){function e(t){var a=t.styles,s=t.bounds,o=Md(a.borderTopLeftRadius,s.width,s.height),l=o[0],d=o[1],g=Md(a.borderTopRightRadius,s.width,s.height),f=g[0],m=g[1],y=Md(a.borderBottomRightRadius,s.width,s.height),N=y[0],B=y[1],w=Md(a.borderBottomLeftRadius,s.width,s.height),U=w[0],L=w[1],R=[];R.push((l+f)/s.width),R.push((U+N)/s.width),R.push((d+L)/s.height),R.push((m+B)/s.height);var C=Math.max.apply(Math,R);C>1&&(l/=C,d/=C,f/=C,m/=C,N/=C,B/=C,U/=C,L/=C);var I=s.width-f,T=s.height-B,z=s.width-N,D=s.height-L,ae=a.borderTopWidth,X=a.borderRightWidth,_=a.borderBottomWidth,ie=a.borderLeftWidth,oe=Tr(a.paddingTop,t.bounds.width),W=Tr(a.paddingRight,t.bounds.width),$=Tr(a.paddingBottom,t.bounds.width),Z=Tr(a.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=l>0||d>0?Vr(s.left+ie/3,s.top+ae/3,l-ie/3,d-ae/3,yr.TOP_LEFT):new vt(s.left+ie/3,s.top+ae/3),this.topRightBorderDoubleOuterBox=l>0||d>0?Vr(s.left+I,s.top+ae/3,f-X/3,m-ae/3,yr.TOP_RIGHT):new vt(s.left+s.width-X/3,s.top+ae/3),this.bottomRightBorderDoubleOuterBox=N>0||B>0?Vr(s.left+z,s.top+T,N-X/3,B-_/3,yr.BOTTOM_RIGHT):new vt(s.left+s.width-X/3,s.top+s.height-_/3),this.bottomLeftBorderDoubleOuterBox=U>0||L>0?Vr(s.left+ie/3,s.top+D,U-ie/3,L-_/3,yr.BOTTOM_LEFT):new vt(s.left+ie/3,s.top+s.height-_/3),this.topLeftBorderDoubleInnerBox=l>0||d>0?Vr(s.left+ie*2/3,s.top+ae*2/3,l-ie*2/3,d-ae*2/3,yr.TOP_LEFT):new vt(s.left+ie*2/3,s.top+ae*2/3),this.topRightBorderDoubleInnerBox=l>0||d>0?Vr(s.left+I,s.top+ae*2/3,f-X*2/3,m-ae*2/3,yr.TOP_RIGHT):new vt(s.left+s.width-X*2/3,s.top+ae*2/3),this.bottomRightBorderDoubleInnerBox=N>0||B>0?Vr(s.left+z,s.top+T,N-X*2/3,B-_*2/3,yr.BOTTOM_RIGHT):new vt(s.left+s.width-X*2/3,s.top+s.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=U>0||L>0?Vr(s.left+ie*2/3,s.top+D,U-ie*2/3,L-_*2/3,yr.BOTTOM_LEFT):new vt(s.left+ie*2/3,s.top+s.height-_*2/3),this.topLeftBorderStroke=l>0||d>0?Vr(s.left+ie/2,s.top+ae/2,l-ie/2,d-ae/2,yr.TOP_LEFT):new vt(s.left+ie/2,s.top+ae/2),this.topRightBorderStroke=l>0||d>0?Vr(s.left+I,s.top+ae/2,f-X/2,m-ae/2,yr.TOP_RIGHT):new vt(s.left+s.width-X/2,s.top+ae/2),this.bottomRightBorderStroke=N>0||B>0?Vr(s.left+z,s.top+T,N-X/2,B-_/2,yr.BOTTOM_RIGHT):new vt(s.left+s.width-X/2,s.top+s.height-_/2),this.bottomLeftBorderStroke=U>0||L>0?Vr(s.left+ie/2,s.top+D,U-ie/2,L-_/2,yr.BOTTOM_LEFT):new vt(s.left+ie/2,s.top+s.height-_/2),this.topLeftBorderBox=l>0||d>0?Vr(s.left,s.top,l,d,yr.TOP_LEFT):new vt(s.left,s.top),this.topRightBorderBox=f>0||m>0?Vr(s.left+I,s.top,f,m,yr.TOP_RIGHT):new vt(s.left+s.width,s.top),this.bottomRightBorderBox=N>0||B>0?Vr(s.left+z,s.top+T,N,B,yr.BOTTOM_RIGHT):new vt(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=U>0||L>0?Vr(s.left,s.top+D,U,L,yr.BOTTOM_LEFT):new vt(s.left,s.top+s.height),this.topLeftPaddingBox=l>0||d>0?Vr(s.left+ie,s.top+ae,Math.max(0,l-ie),Math.max(0,d-ae),yr.TOP_LEFT):new vt(s.left+ie,s.top+ae),this.topRightPaddingBox=f>0||m>0?Vr(s.left+Math.min(I,s.width-X),s.top+ae,I>s.width+X?0:Math.max(0,f-X),Math.max(0,m-ae),yr.TOP_RIGHT):new vt(s.left+s.width-X,s.top+ae),this.bottomRightPaddingBox=N>0||B>0?Vr(s.left+Math.min(z,s.width-ie),s.top+Math.min(T,s.height-_),Math.max(0,N-X),Math.max(0,B-_),yr.BOTTOM_RIGHT):new vt(s.left+s.width-X,s.top+s.height-_),this.bottomLeftPaddingBox=U>0||L>0?Vr(s.left+ie,s.top+Math.min(D,s.height-_),Math.max(0,U-ie),Math.max(0,L-_),yr.BOTTOM_LEFT):new vt(s.left+ie,s.top+s.height-_),this.topLeftContentBox=l>0||d>0?Vr(s.left+ie+Z,s.top+ae+oe,Math.max(0,l-(ie+Z)),Math.max(0,d-(ae+oe)),yr.TOP_LEFT):new vt(s.left+ie+Z,s.top+ae+oe),this.topRightContentBox=f>0||m>0?Vr(s.left+Math.min(I,s.width+ie+Z),s.top+ae+oe,I>s.width+ie+Z?0:f-ie+Z,m-(ae+oe),yr.TOP_RIGHT):new vt(s.left+s.width-(X+W),s.top+ae+oe),this.bottomRightContentBox=N>0||B>0?Vr(s.left+Math.min(z,s.width-(ie+Z)),s.top+Math.min(T,s.height+ae+oe),Math.max(0,N-(X+W)),B-(_+$),yr.BOTTOM_RIGHT):new vt(s.left+s.width-(X+W),s.top+s.height-(_+$)),this.bottomLeftContentBox=U>0||L>0?Vr(s.left+ie+Z,s.top+D,Math.max(0,U-(ie+Z)),L-(_+$),yr.BOTTOM_LEFT):new vt(s.left+ie+Z,s.top+s.height-(_+$))}return e}(),yr;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(yr||(yr={}));var Vr=function(e,t,a,s,o){var l=4*((Math.sqrt(2)-1)/3),d=a*l,g=s*l,f=e+a,m=t+s;switch(o){case yr.TOP_LEFT:return new gg(new vt(e,m),new vt(e,m-g),new vt(f-d,t),new vt(f,t));case yr.TOP_RIGHT:return new gg(new vt(e,t),new vt(e+d,t),new vt(f,m-g),new vt(f,m));case yr.BOTTOM_RIGHT:return new gg(new vt(f,t),new vt(f,t+g),new vt(e+d,m),new vt(e,m));case yr.BOTTOM_LEFT:default:return new gg(new vt(f,m),new vt(f-d,m),new vt(e,t+g),new vt(e,t))}},P0=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},BQ=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},U0=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},jQ=function(){function e(t,a,s){this.offsetX=t,this.offsetY=a,this.matrix=s,this.type=0,this.target=6}return e}(),fg=function(){function e(t,a){this.path=t,this.target=a,this.type=1}return e}(),SQ=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),FQ=function(e){return e.type===0},h5=function(e){return e.type===1},EQ=function(e){return e.type===2},i2=function(e,t){return e.length===t.length?e.some(function(a,s){return a===t[s]}):!1},LQ=function(e,t,a,s,o){return e.map(function(l,d){switch(d){case 0:return l.add(t,a);case 1:return l.add(t+s,a);case 2:return l.add(t+s,a+o);case 3:return l.add(t,a+o)}return l})},g5=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),f5=function(){function e(t,a){if(this.container=t,this.parent=a,this.effects=[],this.curves=new CQ(this.container),this.container.styles.opacity<1&&this.effects.push(new SQ(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,l=this.container.styles.transform;this.effects.push(new jQ(s,o,l))}if(this.container.styles.overflowX!==0){var d=P0(this.curves),g=U0(this.curves);i2(d,g)?this.effects.push(new fg(d,6)):(this.effects.push(new fg(d,2)),this.effects.push(new fg(g,4)))}}return e.prototype.getEffects=function(t){for(var a=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,o=this.effects.slice(0);s;){var l=s.effects.filter(function(f){return!h5(f)});if(a||s.container.styles.position!==0||!s.parent){if(o.unshift.apply(o,l),a=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var d=P0(s.curves),g=U0(s.curves);i2(d,g)||o.unshift(new fg(g,6))}}else o.unshift.apply(o,l);s=s.parent}return o.filter(function(f){return Ea(f.target,t)})},e}(),ry=function(e,t,a,s){e.container.elements.forEach(function(o){var l=Ea(o.flags,4),d=Ea(o.flags,2),g=new f5(o,e);Ea(o.styles.display,2048)&&s.push(g);var f=Ea(o.flags,8)?[]:s;if(l||d){var m=l||o.styles.isPositioned()?a:t,y=new g5(g);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var N=o.styles.zIndex.order;if(N<0){var B=0;m.negativeZIndex.some(function(U,L){return N>U.element.container.styles.zIndex.order?(B=L,!1):B>0}),m.negativeZIndex.splice(B,0,y)}else if(N>0){var w=0;m.positiveZIndex.some(function(U,L){return N>=U.element.container.styles.zIndex.order?(w=L+1,!1):w>0}),m.positiveZIndex.splice(w,0,y)}else m.zeroOrAutoZIndexOrTransformedOrOpacity.push(y)}else o.styles.isFloating()?m.nonPositionedFloats.push(y):m.nonPositionedInlineLevel.push(y);ry(g,y,l?y:a,f)}else o.styles.isInlineLevel()?t.inlineLevel.push(g):t.nonInlineLevel.push(g),ry(g,t,a,f);Ea(o.flags,8)&&p5(o,f)})},p5=function(e,t){for(var a=e instanceof $x?e.start:1,s=e instanceof $x?e.reversed:!1,o=0;o<t.length;o++){var l=t[o];l.container instanceof ZB&&typeof l.container.value=="number"&&l.container.value!==0&&(a=l.container.value),l.listValue=Eu(a,l.container.styles.listStyleType,!0),a+=s?-1:1}},IQ=function(e){var t=new f5(e,null),a=new g5(t),s=[];return ry(t,a,a,s),p5(t.container,s),a},o2=function(e,t){switch(t){case 0:return Ln(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ln(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ln(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ln(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},PQ=function(e,t){switch(t){case 0:return Ln(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ln(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ln(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Ln(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},UQ=function(e,t){switch(t){case 0:return Ln(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ln(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ln(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Ln(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},DQ=function(e,t){switch(t){case 0:return pg(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return pg(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return pg(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return pg(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},pg=function(e,t){var a=[];return Sn(e)?a.push(e.subdivide(.5,!1)):a.push(e),Sn(t)?a.push(t.subdivide(.5,!0)):a.push(t),a},Ln=function(e,t,a,s){var o=[];return Sn(e)?o.push(e.subdivide(.5,!1)):o.push(e),Sn(a)?o.push(a.subdivide(.5,!0)):o.push(a),Sn(s)?o.push(s.subdivide(.5,!0).reverse()):o.push(s),Sn(t)?o.push(t.subdivide(.5,!1).reverse()):o.push(t),o},m5=function(e){var t=e.bounds,a=e.styles;return t.add(a.borderLeftWidth,a.borderTopWidth,-(a.borderRightWidth+a.borderLeftWidth),-(a.borderTopWidth+a.borderBottomWidth))},D0=function(e){var t=e.styles,a=e.bounds,s=Tr(t.paddingLeft,a.width),o=Tr(t.paddingRight,a.width),l=Tr(t.paddingTop,a.width),d=Tr(t.paddingBottom,a.width);return a.add(s+t.borderLeftWidth,l+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+s+o),-(t.borderTopWidth+t.borderBottomWidth+l+d))},TQ=function(e,t){return e===0?t.bounds:e===2?D0(t):m5(t)},QQ=function(e,t){return e===0?t.bounds:e===2?D0(t):m5(t)},gm=function(e,t,a){var s=TQ(Wc(e.styles.backgroundOrigin,t),e),o=QQ(Wc(e.styles.backgroundClip,t),e),l=RQ(Wc(e.styles.backgroundSize,t),a,s),d=l[0],g=l[1],f=Md(Wc(e.styles.backgroundPosition,t),s.width-d,s.height-g),m=MQ(Wc(e.styles.backgroundRepeat,t),f,l,s,o),y=Math.round(s.left+f[0]),N=Math.round(s.top+f[1]);return[m,y,N,d,g]},zc=function(e){return Fr(e)&&e.value===vA.AUTO},mg=function(e){return typeof e=="number"},RQ=function(e,t,a){var s=t[0],o=t[1],l=t[2],d=e[0],g=e[1];if(!d)return[0,0];if(va(d)&&g&&va(g))return[Tr(d,a.width),Tr(g,a.height)];var f=mg(l);if(Fr(d)&&(d.value===vA.CONTAIN||d.value===vA.COVER)){if(mg(l)){var m=a.width/a.height;return m<l!=(d.value===vA.COVER)?[a.width,a.width/l]:[a.height*l,a.height]}return[a.width,a.height]}var y=mg(s),N=mg(o),B=y||N;if(zc(d)&&(!g||zc(g))){if(y&&N)return[s,o];if(!f&&!B)return[a.width,a.height];if(B&&f){var w=y?s:o*l,U=N?o:s/l;return[w,U]}var L=y?s:a.width,R=N?o:a.height;return[L,R]}if(f){var C=0,I=0;return va(d)?C=Tr(d,a.width):va(g)&&(I=Tr(g,a.height)),zc(d)?C=I*l:(!g||zc(g))&&(I=C/l),[C,I]}var T=null,z=null;if(va(d)?T=Tr(d,a.width):g&&va(g)&&(z=Tr(g,a.height)),T!==null&&(!g||zc(g))&&(z=y&&N?T/s*o:a.height),z!==null&&zc(d)&&(T=y&&N?z/o*s:a.width),T!==null&&z!==null)return[T,z];throw new Error("Unable to calculate background-size for element")},Wc=function(e,t){var a=e[t];return typeof a>"u"?e[0]:a},MQ=function(e,t,a,s,o){var l=t[0],d=t[1],g=a[0],f=a[1];switch(e){case 2:return[new vt(Math.round(s.left),Math.round(s.top+d)),new vt(Math.round(s.left+s.width),Math.round(s.top+d)),new vt(Math.round(s.left+s.width),Math.round(f+s.top+d)),new vt(Math.round(s.left),Math.round(f+s.top+d))];case 3:return[new vt(Math.round(s.left+l),Math.round(s.top)),new vt(Math.round(s.left+l+g),Math.round(s.top)),new vt(Math.round(s.left+l+g),Math.round(s.height+s.top)),new vt(Math.round(s.left+l),Math.round(s.height+s.top))];case 1:return[new vt(Math.round(s.left+l),Math.round(s.top+d)),new vt(Math.round(s.left+l+g),Math.round(s.top+d)),new vt(Math.round(s.left+l+g),Math.round(s.top+d+f)),new vt(Math.round(s.left+l),Math.round(s.top+d+f))];default:return[new vt(Math.round(o.left),Math.round(o.top)),new vt(Math.round(o.left+o.width),Math.round(o.top)),new vt(Math.round(o.left+o.width),Math.round(o.height+o.top)),new vt(Math.round(o.left),Math.round(o.height+o.top))]}},OQ="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",l2="Hidden Text",HQ=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,a){var s=this._document.createElement("div"),o=this._document.createElement("img"),l=this._document.createElement("span"),d=this._document.body;s.style.visibility="hidden",s.style.fontFamily=t,s.style.fontSize=a,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",d.appendChild(s),o.src=OQ,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",l.style.fontFamily=t,l.style.fontSize=a,l.style.margin="0",l.style.padding="0",l.appendChild(this._document.createTextNode(l2)),s.appendChild(l),s.appendChild(o);var g=o.offsetTop-l.offsetTop+2;s.removeChild(l),s.appendChild(this._document.createTextNode(l2)),s.style.lineHeight="normal",o.style.verticalAlign="super";var f=o.offsetTop-s.offsetTop+2;return d.removeChild(s),{baseline:g,middle:f}},e.prototype.getMetrics=function(t,a){var s=t+" "+a;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(t,a)),this._data[s]},e}(),x5=function(){function e(t,a){this.context=t,this.options=a}return e}(),_Q=1e4,zQ=function(e){si(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o._activeEffects=[],o.canvas=s.canvas?s.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),s.canvas||(o.canvas.width=Math.floor(s.width*s.scale),o.canvas.height=Math.floor(s.height*s.scale),o.canvas.style.width=s.width+"px",o.canvas.style.height=s.height+"px"),o.fontMetrics=new HQ(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-s.x,-s.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),o}return t.prototype.applyEffects=function(a){for(var s=this;this._activeEffects.length;)this.popEffect();a.forEach(function(o){return s.applyEffect(o)})},t.prototype.applyEffect=function(a){this.ctx.save(),EQ(a)&&(this.ctx.globalAlpha=a.opacity),FQ(a)&&(this.ctx.translate(a.offsetX,a.offsetY),this.ctx.transform(a.matrix[0],a.matrix[1],a.matrix[2],a.matrix[3],a.matrix[4],a.matrix[5]),this.ctx.translate(-a.offsetX,-a.offsetY)),h5(a)&&(this.path(a.path),this.ctx.clip()),this._activeEffects.push(a)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(a){return ys(this,void 0,void 0,function(){var s;return is(this,function(o){switch(o.label){case 0:return s=a.element.container.styles,s.isVisible()?[4,this.renderStackContent(a)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(a){return ys(this,void 0,void 0,function(){return is(this,function(s){switch(s.label){case 0:if(Ea(a.container.flags,16))debugger;return a.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(a)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(a)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(a,s,o){var l=this;if(s===0)this.ctx.fillText(a.text,a.bounds.left,a.bounds.top+o);else{var d=wb(a.text);d.reduce(function(g,f){return l.ctx.fillText(f,g,a.bounds.top+o),g+l.ctx.measureText(f).width},a.bounds.left)}},t.prototype.createFontStyle=function(a){var s=a.fontVariant.filter(function(d){return d==="normal"||d==="small-caps"}).join(""),o=KQ(a.fontFamily).join(", "),l=_u(a.fontSize)?""+a.fontSize.number+a.fontSize.unit:a.fontSize.number+"px";return[[a.fontStyle,s,a.fontWeight,l,o].join(" "),o,l]},t.prototype.renderTextNode=function(a,s){return ys(this,void 0,void 0,function(){var o,l,d,g,f,m,y,N,B=this;return is(this,function(w){return o=this.createFontStyle(s),l=o[0],d=o[1],g=o[2],this.ctx.font=l,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",f=this.fontMetrics.getMetrics(d,g),m=f.baseline,y=f.middle,N=s.paintOrder,a.textBounds.forEach(function(U){N.forEach(function(L){switch(L){case 0:B.ctx.fillStyle=Da(s.color),B.renderTextWithLetterSpacing(U,s.letterSpacing,m);var R=s.textShadow;R.length&&U.text.trim().length&&(R.slice(0).reverse().forEach(function(C){B.ctx.shadowColor=Da(C.color),B.ctx.shadowOffsetX=C.offsetX.number*B.options.scale,B.ctx.shadowOffsetY=C.offsetY.number*B.options.scale,B.ctx.shadowBlur=C.blur.number,B.renderTextWithLetterSpacing(U,s.letterSpacing,m)}),B.ctx.shadowColor="",B.ctx.shadowOffsetX=0,B.ctx.shadowOffsetY=0,B.ctx.shadowBlur=0),s.textDecorationLine.length&&(B.ctx.fillStyle=Da(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(C){switch(C){case 1:B.ctx.fillRect(U.bounds.left,Math.round(U.bounds.top+m),U.bounds.width,1);break;case 2:B.ctx.fillRect(U.bounds.left,Math.round(U.bounds.top),U.bounds.width,1);break;case 3:B.ctx.fillRect(U.bounds.left,Math.ceil(U.bounds.top+y),U.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&U.text.trim().length&&(B.ctx.strokeStyle=Da(s.webkitTextStrokeColor),B.ctx.lineWidth=s.webkitTextStrokeWidth,B.ctx.lineJoin=window.chrome?"miter":"round",B.ctx.strokeText(U.text,U.bounds.left,U.bounds.top+m)),B.ctx.strokeStyle="",B.ctx.lineWidth=0,B.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(a,s,o){if(o&&a.intrinsicWidth>0&&a.intrinsicHeight>0){var l=D0(a),d=U0(s);this.path(d),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,a.intrinsicWidth,a.intrinsicHeight,l.left,l.top,l.width,l.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(a){return ys(this,void 0,void 0,function(){var s,o,l,d,g,f,I,I,m,y,N,B,z,w,U,D,L,R,C,I,T,z,D;return is(this,function(ae){switch(ae.label){case 0:this.applyEffects(a.getEffects(4)),s=a.container,o=a.curves,l=s.styles,d=0,g=s.textNodes,ae.label=1;case 1:return d<g.length?(f=g[d],[4,this.renderTextNode(f,l)]):[3,4];case 2:ae.sent(),ae.label=3;case 3:return d++,[3,1];case 4:if(!(s instanceof YB))return[3,8];ae.label=5;case 5:return ae.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return I=ae.sent(),this.renderReplacedElement(s,o,I),[3,8];case 7:return ae.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof $B&&this.renderReplacedElement(s,o,s.canvas),!(s instanceof JB))return[3,12];ae.label=9;case 9:return ae.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return I=ae.sent(),this.renderReplacedElement(s,o,I),[3,12];case 11:return ae.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof r5&&s.tree?(m=new t(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,m.render(s.tree)]):[3,14];case 13:y=ae.sent(),s.width&&s.height&&this.ctx.drawImage(y,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),ae.label=14;case 14:if(s instanceof kb&&(N=Math.min(s.bounds.width,s.bounds.height),s.type===F0?s.checked&&(this.ctx.save(),this.path([new vt(s.bounds.left+N*.39363,s.bounds.top+N*.79),new vt(s.bounds.left+N*.16,s.bounds.top+N*.5549),new vt(s.bounds.left+N*.27347,s.bounds.top+N*.44071),new vt(s.bounds.left+N*.39694,s.bounds.top+N*.5649),new vt(s.bounds.left+N*.72983,s.bounds.top+N*.23),new vt(s.bounds.left+N*.84,s.bounds.top+N*.34085),new vt(s.bounds.left+N*.39363,s.bounds.top+N*.79)]),this.ctx.fillStyle=Da(W1),this.ctx.fill(),this.ctx.restore()):s.type===E0&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+N/2,s.bounds.top+N/2,N/4,0,Math.PI*2,!0),this.ctx.fillStyle=Da(W1),this.ctx.fill(),this.ctx.restore())),VQ(s)&&s.value.length){switch(B=this.createFontStyle(l),z=B[0],w=B[1],U=this.fontMetrics.getMetrics(z,w).baseline,this.ctx.font=z,this.ctx.fillStyle=Da(l.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=qQ(s.styles.textAlign),D=D0(s),L=0,s.styles.textAlign){case 1:L+=D.width/2;break;case 2:L+=D.width;break}R=D.add(L,0,0,-D.height/2+1),this.ctx.save(),this.path([new vt(D.left,D.top),new vt(D.left+D.width,D.top),new vt(D.left+D.width,D.top+D.height),new vt(D.left,D.top+D.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new nu(s.value,R),l.letterSpacing,U),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ea(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(C=s.styles.listStyleImage,C.type!==0)return[3,18];I=void 0,T=C.url,ae.label=15;case 15:return ae.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=ae.sent(),this.ctx.drawImage(I,s.bounds.left-(I.width+10),s.bounds.top),[3,18];case 17:return ae.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:a.listValue&&s.styles.listStyleType!==-1&&(z=this.createFontStyle(l)[0],this.ctx.font=z,this.ctx.fillStyle=Da(l.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",D=new ho(s.bounds.left,s.bounds.top+Tr(s.styles.paddingTop,s.bounds.width),s.bounds.width,I1(l.lineHeight,l.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new nu(a.listValue,D),l.letterSpacing,I1(l.lineHeight,l.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ae.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(a){return ys(this,void 0,void 0,function(){var s,o,C,l,d,C,g,f,C,m,y,C,N,B,C,w,U,C,L,R,C;return is(this,function(I){switch(I.label){case 0:if(Ea(a.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(a.element)];case 1:I.sent(),s=0,o=a.negativeZIndex,I.label=2;case 2:return s<o.length?(C=o[s],[4,this.renderStack(C)]):[3,5];case 3:I.sent(),I.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(a.element)];case 6:I.sent(),l=0,d=a.nonInlineLevel,I.label=7;case 7:return l<d.length?(C=d[l],[4,this.renderNode(C)]):[3,10];case 8:I.sent(),I.label=9;case 9:return l++,[3,7];case 10:g=0,f=a.nonPositionedFloats,I.label=11;case 11:return g<f.length?(C=f[g],[4,this.renderStack(C)]):[3,14];case 12:I.sent(),I.label=13;case 13:return g++,[3,11];case 14:m=0,y=a.nonPositionedInlineLevel,I.label=15;case 15:return m<y.length?(C=y[m],[4,this.renderStack(C)]):[3,18];case 16:I.sent(),I.label=17;case 17:return m++,[3,15];case 18:N=0,B=a.inlineLevel,I.label=19;case 19:return N<B.length?(C=B[N],[4,this.renderNode(C)]):[3,22];case 20:I.sent(),I.label=21;case 21:return N++,[3,19];case 22:w=0,U=a.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return w<U.length?(C=U[w],[4,this.renderStack(C)]):[3,26];case 24:I.sent(),I.label=25;case 25:return w++,[3,23];case 26:L=0,R=a.positiveZIndex,I.label=27;case 27:return L<R.length?(C=R[L],[4,this.renderStack(C)]):[3,30];case 28:I.sent(),I.label=29;case 29:return L++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(a){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(a.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(a){this.ctx.beginPath(),this.formatPath(a),this.ctx.closePath()},t.prototype.formatPath=function(a){var s=this;a.forEach(function(o,l){var d=Sn(o)?o.start:o;l===0?s.ctx.moveTo(d.x,d.y):s.ctx.lineTo(d.x,d.y),Sn(o)&&s.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},t.prototype.renderRepeat=function(a,s,o,l){this.path(a),this.ctx.fillStyle=s,this.ctx.translate(o,l),this.ctx.fill(),this.ctx.translate(-o,-l)},t.prototype.resizeImage=function(a,s,o){var l;if(a.width===s&&a.height===o)return a;var d=(l=this.canvas.ownerDocument)!==null&&l!==void 0?l:document,g=d.createElement("canvas");g.width=Math.max(1,s),g.height=Math.max(1,o);var f=g.getContext("2d");return f.drawImage(a,0,0,a.width,a.height,0,0,s,o),g},t.prototype.renderBackgroundImage=function(a){return ys(this,void 0,void 0,function(){var s,o,l,d,g,f;return is(this,function(m){switch(m.label){case 0:s=a.styles.backgroundImage.length-1,o=function(y){var N,B,w,oe,te,Be,Z,J,_,U,oe,te,Be,Z,J,L,R,C,I,T,z,D,ae,X,_,ie,oe,W,$,Z,J,ne,te,Be,fe,je,Ce,Me,Ae,he,ke,Le;return is(this,function(Pe){switch(Pe.label){case 0:if(y.type!==0)return[3,5];N=void 0,B=y.url,Pe.label=1;case 1:return Pe.trys.push([1,3,,4]),[4,l.context.cache.match(B)];case 2:return N=Pe.sent(),[3,4];case 3:return Pe.sent(),l.context.logger.error("Error loading background-image "+B),[3,4];case 4:return N&&(w=gm(a,s,[N.width,N.height,N.width/N.height]),oe=w[0],te=w[1],Be=w[2],Z=w[3],J=w[4],_=l.ctx.createPattern(l.resizeImage(N,Z,J),"repeat"),l.renderRepeat(oe,_,te,Be)),[3,6];case 5:FU(y)?(U=gm(a,s,[null,null,null]),oe=U[0],te=U[1],Be=U[2],Z=U[3],J=U[4],L=NU(y.angle,Z,J),R=L[0],C=L[1],I=L[2],T=L[3],z=L[4],D=document.createElement("canvas"),D.width=Z,D.height=J,ae=D.getContext("2d"),X=ae.createLinearGradient(C,T,I,z),E1(y.stops,R).forEach(function(Re){return X.addColorStop(Re.stop,Da(Re.color))}),ae.fillStyle=X,ae.fillRect(0,0,Z,J),Z>0&&J>0&&(_=l.ctx.createPattern(D,"repeat"),l.renderRepeat(oe,_,te,Be))):EU(y)&&(ie=gm(a,s,[null,null,null]),oe=ie[0],W=ie[1],$=ie[2],Z=ie[3],J=ie[4],ne=y.position.length===0?[yb]:y.position,te=Tr(ne[0],Z),Be=Tr(ne[ne.length-1],J),fe=CU(y,te,Be,Z,J),je=fe[0],Ce=fe[1],je>0&&Ce>0&&(Me=l.ctx.createRadialGradient(W+te,$+Be,0,W+te,$+Be,je),E1(y.stops,je*2).forEach(function(Re){return Me.addColorStop(Re.stop,Da(Re.color))}),l.path(oe),l.ctx.fillStyle=Me,je!==Ce?(Ae=a.bounds.left+.5*a.bounds.width,he=a.bounds.top+.5*a.bounds.height,ke=Ce/je,Le=1/ke,l.ctx.save(),l.ctx.translate(Ae,he),l.ctx.transform(1,0,0,ke,0,0),l.ctx.translate(-Ae,-he),l.ctx.fillRect(W,Le*($-he)+he,Z,J*Le),l.ctx.restore()):l.ctx.fill())),Pe.label=6;case 6:return s--,[2]}})},l=this,d=0,g=a.styles.backgroundImage.slice(0).reverse(),m.label=1;case 1:return d<g.length?(f=g[d],[5,o(f)]):[3,4];case 2:m.sent(),m.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(a,s,o){return ys(this,void 0,void 0,function(){return is(this,function(l){return this.path(o2(o,s)),this.ctx.fillStyle=Da(a),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(a,s,o,l){return ys(this,void 0,void 0,function(){var d,g;return is(this,function(f){switch(f.label){case 0:return s<3?[4,this.renderSolidBorder(a,o,l)]:[3,2];case 1:return f.sent(),[2];case 2:return d=PQ(l,o),this.path(d),this.ctx.fillStyle=Da(a),this.ctx.fill(),g=UQ(l,o),this.path(g),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(a){return ys(this,void 0,void 0,function(){var s,o,l,d,g,f,m,y,N=this;return is(this,function(B){switch(B.label){case 0:return this.applyEffects(a.getEffects(2)),s=a.container.styles,o=!Al(s.backgroundColor)||s.backgroundImage.length,l=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],d=GQ(Wc(s.backgroundClip,0),a.curves),o||s.boxShadow.length?(this.ctx.save(),this.path(d),this.ctx.clip(),Al(s.backgroundColor)||(this.ctx.fillStyle=Da(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(a.container)]):[3,2];case 1:B.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(w){N.ctx.save();var U=P0(a.curves),L=w.inset?0:_Q,R=LQ(U,-L+(w.inset?1:-1)*w.spread.number,(w.inset?1:-1)*w.spread.number,w.spread.number*(w.inset?-2:2),w.spread.number*(w.inset?-2:2));w.inset?(N.path(U),N.ctx.clip(),N.mask(R)):(N.mask(U),N.ctx.clip(),N.path(R)),N.ctx.shadowOffsetX=w.offsetX.number+L,N.ctx.shadowOffsetY=w.offsetY.number,N.ctx.shadowColor=Da(w.color),N.ctx.shadowBlur=w.blur.number,N.ctx.fillStyle=w.inset?Da(w.color):"rgba(0,0,0,1)",N.ctx.fill(),N.ctx.restore()}),B.label=2;case 2:g=0,f=0,m=l,B.label=3;case 3:return f<m.length?(y=m[f],y.style!==0&&!Al(y.color)&&y.width>0?y.style!==2?[3,5]:[4,this.renderDashedDottedBorder(y.color,y.width,g,a.curves,2)]:[3,11]):[3,13];case 4:return B.sent(),[3,11];case 5:return y.style!==3?[3,7]:[4,this.renderDashedDottedBorder(y.color,y.width,g,a.curves,3)];case 6:return B.sent(),[3,11];case 7:return y.style!==4?[3,9]:[4,this.renderDoubleBorder(y.color,y.width,g,a.curves)];case 8:return B.sent(),[3,11];case 9:return[4,this.renderSolidBorder(y.color,g,a.curves)];case 10:B.sent(),B.label=11;case 11:g++,B.label=12;case 12:return f++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(a,s,o,l,d){return ys(this,void 0,void 0,function(){var g,f,m,y,N,B,w,U,L,R,C,I,T,z,D,ae,D,ae;return is(this,function(X){return this.ctx.save(),g=DQ(l,o),f=o2(l,o),d===2&&(this.path(f),this.ctx.clip()),Sn(f[0])?(m=f[0].start.x,y=f[0].start.y):(m=f[0].x,y=f[0].y),Sn(f[1])?(N=f[1].end.x,B=f[1].end.y):(N=f[1].x,B=f[1].y),o===0||o===2?w=Math.abs(m-N):w=Math.abs(y-B),this.ctx.beginPath(),d===3?this.formatPath(g):this.formatPath(f.slice(0,2)),U=s<3?s*3:s*2,L=s<3?s*2:s,d===3&&(U=s,L=s),R=!0,w<=U*2?R=!1:w<=U*2+L?(C=w/(2*U+L),U*=C,L*=C):(I=Math.floor((w+L)/(U+L)),T=(w-I*U)/(I-1),z=(w-(I+1)*U)/I,L=z<=0||Math.abs(L-T)<Math.abs(L-z)?T:z),R&&(d===3?this.ctx.setLineDash([0,U+L]):this.ctx.setLineDash([U,L])),d===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=Da(a),this.ctx.stroke(),this.ctx.setLineDash([]),d===2&&(Sn(f[0])&&(D=f[3],ae=f[0],this.ctx.beginPath(),this.formatPath([new vt(D.end.x,D.end.y),new vt(ae.start.x,ae.start.y)]),this.ctx.stroke()),Sn(f[1])&&(D=f[1],ae=f[2],this.ctx.beginPath(),this.formatPath([new vt(D.end.x,D.end.y),new vt(ae.start.x,ae.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(a){return ys(this,void 0,void 0,function(){var s;return is(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Da(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=IQ(a),[4,this.renderStack(s)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(x5),VQ=function(e){return e instanceof t5||e instanceof e5?!0:e instanceof kb&&e.type!==E0&&e.type!==F0},GQ=function(e,t){switch(e){case 0:return P0(t);case 2:return BQ(t);case 1:default:return U0(t)}},qQ=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},XQ=["-apple-system","system-ui"],KQ=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return XQ.indexOf(t)===-1}):e},WQ=function(e){si(t,e);function t(a,s){var o=e.call(this,a,s)||this;return o.canvas=s.canvas?s.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=s,o.canvas.width=Math.floor(s.width*s.scale),o.canvas.height=Math.floor(s.height*s.scale),o.canvas.style.width=s.width+"px",o.canvas.style.height=s.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-s.x,-s.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),o}return t.prototype.render=function(a){return ys(this,void 0,void 0,function(){var s,o;return is(this,function(l){switch(l.label){case 0:return s=Yx(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,a),[4,YQ(s)];case 1:return o=l.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Da(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(x5),YQ=function(e){return new Promise(function(t,a){var s=new Image;s.onload=function(){t(s)},s.onerror=a,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},$Q=function(){function e(t){var a=t.id,s=t.enabled;this.id=a,this.enabled=s,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Wh([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Wh([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Wh([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Wh([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),JQ=function(){function e(t,a){var s;this.windowBounds=a,this.instanceName="#"+e.instanceCount++,this.logger=new $Q({id:this.instanceName,enabled:t.logging}),this.cache=(s=t.cache)!==null&&s!==void 0?s:new xQ(this,t)}return e.instanceCount=1,e}(),ZQ=function(e,t){return t===void 0&&(t={}),eR(e,t)};typeof window<"u"&&u5.setContext(window);var eR=function(e,t){return ys(void 0,void 0,void 0,function(){var a,s,o,l,d,g,f,m,y,N,B,w,U,L,R,C,I,T,z,D,X,ae,X,_,ie,oe,W,$,Z,J,ne,te,Be,fe,je,Ce,Me,Ae,he,ke;return is(this,function(Le){switch(Le.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(a=e.ownerDocument,!a)throw new Error("Element is not attached to a Document");if(s=a.defaultView,!s)throw new Error("Document is not attached to a Window");return o={allowTaint:(_=t.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(ie=t.imageTimeout)!==null&&ie!==void 0?ie:15e3,proxy:t.proxy,useCORS:(oe=t.useCORS)!==null&&oe!==void 0?oe:!1},l=Dx({logging:(W=t.logging)!==null&&W!==void 0?W:!0,cache:t.cache},o),d={windowWidth:($=t.windowWidth)!==null&&$!==void 0?$:s.innerWidth,windowHeight:(Z=t.windowHeight)!==null&&Z!==void 0?Z:s.innerHeight,scrollX:(J=t.scrollX)!==null&&J!==void 0?J:s.pageXOffset,scrollY:(ne=t.scrollY)!==null&&ne!==void 0?ne:s.pageYOffset},g=new ho(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),f=new JQ(l,g),m=(te=t.foreignObjectRendering)!==null&&te!==void 0?te:!1,y={allowTaint:(Be=t.allowTaint)!==null&&Be!==void 0?Be:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:m,copyStyles:m},f.logger.debug("Starting document clone with size "+g.width+"x"+g.height+" scrolled to "+-g.left+","+-g.top),N=new s2(f,e,y),B=N.clonedReferenceElement,B?[4,N.toIFrame(a,g)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=Le.sent(),U=Nb(B)||tQ(B)?LI(B.ownerDocument):yf(f,B),L=U.width,R=U.height,C=U.left,I=U.top,T=tR(f,B,t.backgroundColor),z={canvas:t.canvas,backgroundColor:T,scale:(je=(fe=t.scale)!==null&&fe!==void 0?fe:s.devicePixelRatio)!==null&&je!==void 0?je:1,x:((Ce=t.x)!==null&&Ce!==void 0?Ce:0)+C,y:((Me=t.y)!==null&&Me!==void 0?Me:0)+I,width:(Ae=t.width)!==null&&Ae!==void 0?Ae:Math.ceil(L),height:(he=t.height)!==null&&he!==void 0?he:Math.ceil(R)},m?(f.logger.debug("Document cloned, using foreign object rendering"),X=new WQ(f,z),[4,X.render(B)]):[3,3];case 2:return D=Le.sent(),[3,5];case 3:return f.logger.debug("Document cloned, element located at "+C+","+I+" with size "+L+"x"+R+" using computed rendering"),f.logger.debug("Starting DOM parsing"),ae=s5(f,B),T===ae.styles.backgroundColor&&(ae.styles.backgroundColor=so.TRANSPARENT),f.logger.debug("Starting renderer for element at "+z.x+","+z.y+" with size "+z.width+"x"+z.height),X=new zQ(f,z),[4,X.render(ae)];case 4:D=Le.sent(),Le.label=5;case 5:return(!((ke=t.removeContainer)!==null&&ke!==void 0)||ke)&&(s2.destroy(w)||f.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),f.logger.debug("Finished rendering"),[2,D]}})})},tR=function(e,t,a){var s=t.ownerDocument,o=s.documentElement?au(e,getComputedStyle(s.documentElement).backgroundColor):so.TRANSPARENT,l=s.body?au(e,getComputedStyle(s.body).backgroundColor):so.TRANSPARENT,d=typeof a=="string"?au(e,a):a===null?so.TRANSPARENT:4294967295;return t===s.documentElement?Al(o)?Al(l)?d:l:o:d};const rR=Object.freeze(Object.defineProperty({__proto__:null,default:ZQ},Symbol.toStringTag,{value:"Module"})),y5=async(e,t="en")=>{var a;try{if(!(e!=null&&e.patient))throw new Error("Invalid request data");let s=null;try{const w=await fetch("http://localhost:5001/api/config",{headers:{"Content-Type":"application/json"}});w.ok&&(s=(await w.json()).config)}catch{console.warn("Could not fetch system config, using defaults")}const o={en:{labName:(s==null?void 0:s.labName)||"SIL Laboratory",labAddress:(s==null?void 0:s.address)||"123 Health Street, Casablanca, Morocco",labPhone:`Phone: ${(s==null?void 0:s.phone)||"+212 5 22 123 456"}`,labEmail:`Email: ${(s==null?void 0:s.email)||"contact@sil-lab.ma"}`,reportTitle:"COMPLETE BLOOD COUNT (CBC)",patientInfo:"PATIENT INFORMATION",doctorInfo:"PRESCRIBING DOCTOR",requestInfo:"REQUEST DETAILS",analysisName:"Test",result:"Result",unit:"Unit",reference:"Ref. Range",status:"Status",notes:"Notes",normal:"Normal",abnormal:"Abnormal",pending:"Pending",validated:"Validated",reportDate:"Report Date",interpretation:"Interpretation",validatedBy:"Validated by",signature:"Signature",disclaimer:"This report is generated automatically by SIL Laboratory System and is intended for medical professionals.",noResults:"No results available"},fr:{labName:(s==null?void 0:s.labName)||"Laboratoire SIL",labAddress:(s==null?void 0:s.address)||"123 Rue de la Santé, Casablanca, Maroc",labPhone:`Tél: ${(s==null?void 0:s.phone)||"+212 5 22 123 456"}`,labEmail:`Email: ${(s==null?void 0:s.email)||"contact@sil-lab.ma"}`,reportTitle:"NUMÉRATION FORMULE SANGUINE (NFS)",patientInfo:"INFORMATIONS PATIENT",doctorInfo:"MÉDECIN PRESCRIPTEUR",requestInfo:"DÉTAILS DEMANDE",analysisName:"Analyse",result:"Résultat",unit:"Unité",reference:"Valeurs de réf.",status:"Statut",notes:"Notes",normal:"Normal",abnormal:"Anormal",pending:"En attente",validated:"Validé",reportDate:"Date du rapport",interpretation:"Interprétation",validatedBy:"Validé par",signature:"Signature",disclaimer:"Ce rapport est généré automatiquement par le système SIL et destiné aux professionnels de santé.",noResults:"Aucun résultat disponible"}}[t],l=w=>new Date(w).toLocaleDateString(t==="fr"?"fr-FR":"en-US"),d=w=>{switch(w){case"VALIDATED":return o.validated;case"PENDING":return o.pending;default:return w}},g=new Ot("p","mm","a4"),f=g.internal.pageSize.getWidth(),m=14;let y=m;g.setFont("helvetica","bold"),g.setFontSize(20),g.text(o.labName,f/2,y,{align:"center"}),y+=7,g.setFontSize(10),g.setFont("helvetica","normal"),g.text(o.labAddress,f/2,y,{align:"center"}),y+=5,g.text(o.labPhone,f/2,y,{align:"center"}),y+=5,g.text(o.labEmail,f/2,y,{align:"center"}),y+=8,g.setDrawColor(0),g.setLineWidth(.5),g.line(m,y,f-m,y),y+=6,g.setFont("helvetica","bold"),g.setFontSize(14),g.text(o.reportTitle,f/2,y,{align:"center"}),y+=8,g.line(m,y,f-m,y),y+=6,g.setFont("helvetica","bold"),g.text(o.patientInfo,m,y),y+=5,g.setFont("helvetica","normal"),g.setFontSize(10),g.text(`${e.patient.firstName} ${e.patient.lastName}`,m,y),g.text(`${o.reportDate}: ${l(new Date().toISOString())}`,f-m,y,{align:"right"}),y+=5,g.text(`${o.analysisName}: CBC`,m,y),g.text(`${o.patientInfo}: ${e.patient.gender}`,f-m,y,{align:"right"}),y+=8;const N=(a=e.results)==null?void 0:a.reduce((w,U)=>{const L=U.analysis.category||"Other";return w[L]||(w[L]=[]),w[L].push(U),w},{});N?Object.entries(N).forEach(([w,U])=>{g.setFont("helvetica","bold"),g.setFillColor(240,240,240),g.rect(m,y-4,f-m*2,6,"F"),g.text(w,m+2,y),y+=6,g.setFontSize(9),g.setFont("helvetica","bold"),[{text:o.analysisName,x:m},{text:o.result,x:m+70},{text:o.unit,x:m+100},{text:o.reference,x:m+120},{text:o.status,x:m+160}].forEach(R=>g.text(R.text,R.x,y)),y+=4,g.setFont("helvetica","normal"),U.forEach(R=>{y>270&&(g.addPage(),y=m),R.status.toUpperCase()==="ABNORMAL"?g.setTextColor(200,0,0):g.setTextColor(0,0,0),g.text(R.analysis.name,m,y),g.text(R.value||"-",m+70,y),g.text(R.unit||"-",m+100,y),g.text(R.reference||"-",m+120,y),g.text(d(R.status),m+160,y),y+=4}),g.setTextColor(0,0,0),y+=3}):(g.setFontSize(10),g.text(o.noResults,m,y),y+=5),y+=5,g.setFont("helvetica","bold"),g.text(o.interpretation,m,y),y+=5,g.setFont("helvetica","normal"),g.setFontSize(9),g.text("All parameters within normal limits unless indicated in red. Please consult a physician for further interpretation.",m,y,{maxWidth:f-m*2}),y+=10,g.setFontSize(8),g.setFont("helvetica","italic"),g.text(o.disclaimer,f/2,285,{align:"center"});const B=`CBC_Report_${e.patient.firstName}_${e.patient.lastName}.pdf`;return g.save(B),B}catch(s){throw console.error(s),s}};function aR({request:e,onClose:t}){var N;const{language:a}=zt(),[s,o]=q.useState(!1),l={fr:{labName:"Laboratoire SIL",labAddress:"123 Rue de la Santé, Casablanca, Maroc",labPhone:"Tél: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"RAPPORT D'ANALYSES MÉDICALES",patientInfo:"INFORMATIONS PATIENT",doctorInfo:"MÉDECIN PRESCRIPTEUR",requestInfo:"INFORMATIONS DEMANDE",analysisResults:"RÉSULTATS D'ANALYSES",patientName:"Nom du patient",patientId:"ID Patient",dateOfBirth:"Date de naissance",gender:"Sexe",cnssNumber:"Numéro CNSS",doctorName:"Nom du médecin",specialty:"Spécialité",requestId:"ID Demande",requestDate:"Date de demande",analysisName:"Analyse",result:"Résultat",unit:"Unité",reference:"Valeurs de référence",status:"Statut",notes:"Notes",normal:"Normal",abnormal:"Anormal",pending:"En attente",validated:"Validé",completed:"Terminé",reportDate:"Date du rapport",validatedBy:"Validé par",signature:"Signature",disclaimer:"Ce rapport est généré automatiquement par le système SIL. Pour toute question, veuillez contacter le laboratoire.",print:"Imprimer",close:"Fermer"},en:{labName:"SIL Laboratory",labAddress:"123 Health Street, Casablanca, Morocco",labPhone:"Phone: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"MEDICAL ANALYSIS REPORT",patientInfo:"PATIENT INFORMATION",doctorInfo:"PRESCRIBING DOCTOR",requestInfo:"REQUEST INFORMATION",analysisResults:"ANALYSIS RESULTS",patientName:"Patient Name",patientId:"Patient ID",dateOfBirth:"Date of Birth",gender:"Gender",cnssNumber:"CNSS Number",doctorName:"Doctor Name",specialty:"Specialty",requestId:"Request ID",requestDate:"Request Date",analysisName:"Analysis",result:"Result",unit:"Unit",reference:"Reference Values",status:"Status",notes:"Notes",normal:"Normal",abnormal:"Abnormal",pending:"Pending",validated:"Validated",completed:"Completed",reportDate:"Report Date",validatedBy:"Validated by",signature:"Signature",disclaimer:"This report is automatically generated by the SIL system. For any questions, please contact the laboratory.",print:"Print",close:"Close"}}[a],d=B=>{switch(B){case"VALIDATED":return l.validated;case"COMPLETED":return l.completed;case"PENDING":return l.pending;default:return B}},g=B=>{switch(B){case"VALIDATED":return"text-green-600";case"COMPLETED":return"text-blue-600";case"PENDING":return"text-yellow-600";default:return"text-gray-600"}},f=B=>new Date(B).toLocaleDateString(a==="fr"?"fr-FR":"en-US"),m=()=>{window.print()},y=async()=>{try{o(!0),await y5(e,a)}catch(B){console.error("Error generating PDF:",B),alert(a==="fr"?"Erreur lors de la génération du PDF":"Error generating PDF")}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 print-container",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto print-container",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center no-print",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l.reportTitle}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:y,disabled:s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:a==="fr"?"Génération...":"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("span",{children:a==="fr"?"Générer PDF":"Generate PDF"})]})}),r.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:l.print}),r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:l.close})]})]}),r.jsxs("div",{id:"result-report-content",className:"p-6 print:p-0",children:[r.jsxs("div",{className:"text-center mb-8 print:mb-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.labName}),r.jsx("p",{className:"text-gray-600",children:l.labAddress}),r.jsx("p",{className:"text-gray-600",children:l.labPhone}),r.jsx("p",{className:"text-gray-600",children:l.labEmail})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 print:mb-4",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:l.patientInfo}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.patientName,":"]}),r.jsxs("span",{className:"ml-2",children:[e.patient.firstName," ",e.patient.lastName]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.patientId,":"]}),r.jsx("span",{className:"ml-2",children:e.patient.id})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.dateOfBirth,":"]}),r.jsx("span",{className:"ml-2",children:f(e.patient.dateOfBirth)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.gender,":"]}),r.jsx("span",{className:"ml-2",children:e.patient.gender})]}),e.patient.cnssNumber&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.cnssNumber,":"]}),r.jsx("span",{className:"ml-2",children:e.patient.cnssNumber})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:l.doctorInfo}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.doctorName,":"]}),r.jsx("span",{className:"ml-2",children:e.doctor?`Dr. ${e.doctor.firstName} ${e.doctor.lastName}`:"N/A"})]}),((N=e.doctor)==null?void 0:N.specialty)&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.specialty,":"]}),r.jsx("span",{className:"ml-2",children:e.doctor.specialty})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-8 print:mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:l.requestInfo}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.requestId,":"]}),r.jsx("span",{className:"ml-2 font-mono",children:e.id})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.requestDate,":"]}),r.jsx("span",{className:"ml-2",children:f(e.createdAt)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.reportDate,":"]}),r.jsx("span",{className:"ml-2",children:f(new Date().toISOString())})]})]})]}),r.jsxs("div",{className:"mb-8 print:mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:l.analysisResults}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full border border-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.analysisName}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.result}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.unit}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.reference}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.status}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:l.notes})]})}),r.jsx("tbody",{children:e.results&&e.results.length>0?e.results.map(B=>r.jsxs("tr",{children:[r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:B.analysis.name}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm font-medium",children:B.value||"-"}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:B.unit||"-"}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:B.reference||"-"}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:r.jsx("span",{className:g(B.status),children:d(B.status)})}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:B.notes||"-"})]},B.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"border border-gray-200 px-4 py-4 text-center text-gray-500",children:a==="fr"?"Aucun résultat disponible":"No results available"})})})]})})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6 print:pt-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[l.validatedBy,":"]}),r.jsx("div",{className:"border-t-2 border-gray-400 w-32 pt-2",children:r.jsx("p",{className:"text-sm font-medium",children:"Dr. Biologist"})})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[l.signature,":"]}),r.jsx("div",{className:"border-t-2 border-gray-400 w-32 ml-auto pt-2",children:r.jsx("p",{className:"text-sm font-medium",children:"Lab Director"})})]})]}),r.jsx("div",{className:"mt-6 print:mt-4 text-center",children:r.jsx("p",{className:"text-xs text-gray-500",children:l.disclaimer})})]})]})]})})}function sR(){const{language:e}=zt(),t=hc(),[a,s]=q.useState([]),[o,l]=q.useState([]),[d,g]=q.useState(null),[f,m]=q.useState(!1),[y,N]=q.useState(null),[B,w]=q.useState(!1),[U,L]=q.useState(null),[R,C]=q.useState(!1),I=new URLSearchParams(t.search),T=I.get("patientId"),z=I.get("requestId"),[D,ae]=q.useState({patientName:"",patientId:T||"",cnssNumber:"",requestId:z||"",status:"",analysisCode:""}),X={fr:{title:"Livraison des Résultats",subtitle:"Panel de réception pour la récupération des résultats",searchPlaceholder:"Nom, ID, CNSS ou référence",search:"Rechercher",patient:"Patient",request:"Demande",doctor:"Médecin",date:"Date d'analyse",status:"Statut",actions:"Actions",notFound:"Aucun résultat trouvé",error:"Erreur lors de la récupération",noResults:"Aucun résultat trouvé",generateReport:"Générer Rapport",print:"Imprimer",download:"Télécharger",view:"Voir",markDelivered:"Marquer comme Livré",delivered:"Livré",inProgress:"En cours",completed:"Terminé",validated:"Validé",pending:"En attente",rejected:"Rejeté",allStatuses:"Tous les statuts",clearFilters:"Effacer les filtres",refresh:"Actualiser",patientName:"Nom du patient",patientId:"ID Patient",cnssNumber:"Numéro CNSS",requestId:"ID Demande",analysisCode:"Code Analyse",test:"Test",value:"Valeur",reference:"Référence",printTest:"Imprimer Test",printIndividualTest:"Imprimer Test Individuel",notReady:"Pas encore prêt pour l'impression",loading:"Chargement...",requestsFound:"demandes trouvées",resultsFound:"résultats trouvés"},en:{title:"Result Delivery",subtitle:"Reception panel for result retrieval",searchPlaceholder:"Name, ID, CNSS or reference",search:"Search",patient:"Patient",request:"Request",doctor:"Doctor",date:"Analysis Date",status:"Status",actions:"Actions",notFound:"No results found",error:"Error fetching data",noResults:"No results found",generateReport:"Generate Report",print:"Print",download:"Download",view:"View",markDelivered:"Mark as Delivered",delivered:"Delivered",inProgress:"In Progress",completed:"Completed",validated:"Validated",pending:"Pending",rejected:"Rejected",allStatuses:"All Statuses",clearFilters:"Clear Filters",refresh:"Refresh",patientName:"Patient Name",patientId:"Patient ID",cnssNumber:"CNSS Number",requestId:"Request ID",analysisCode:"Analysis Code",test:"Test",value:"Value",reference:"Reference",printTest:"Print Test",printIndividualTest:"Print Individual Test",notReady:"Not ready for printing",loading:"Loading...",requestsFound:"requests found",resultsFound:"results found"}}[e];q.useEffect(()=>{_()},[]),q.useEffect(()=>{ie()},[a,D]),q.useEffect(()=>{const te={};T&&(te.patientId=T),z&&(te.requestId=z),Object.keys(te).length>0&&ae(Be=>({...Be,...te}))},[T,z]);const _=async()=>{w(!0),L(null);try{const te={limit:100,include:"request,analysis"};T&&(te.patient=T,console.log("Filtering results by patient ID:",T)),z&&(te.request=z,console.log("Filtering results by request ID:",z));const Be=await eu.getResults(te);if(s(Be.results||[]),T&&Be.results&&Be.results.length>0){const fe=Be.results[0].request.patient;document.title=`${fe.firstName} ${fe.lastName} - ${X.title}`}}catch(te){console.error("Error loading results:",te),L(X.error)}finally{w(!1)}},ie=()=>{let te=a;D.patientName&&(te=te.filter(Be=>Be.request.patient.firstName.toLowerCase().includes(D.patientName.toLowerCase())||Be.request.patient.lastName.toLowerCase().includes(D.patientName.toLowerCase()))),D.patientId&&(te=te.filter(Be=>Be.request.patientId&&Be.request.patientId===D.patientId?!0:Be.request.id.includes(D.patientId))),D.cnssNumber&&(te=te.filter(Be=>{var fe;return(fe=Be.request.patient.cnssNumber)==null?void 0:fe.toLowerCase().includes(D.cnssNumber.toLowerCase())})),D.requestId&&(te=te.filter(Be=>Be.request.id.toLowerCase().includes(D.requestId.toLowerCase()))),D.analysisCode&&(te=te.filter(Be=>Be.analysis.code.toLowerCase().includes(D.analysisCode.toLowerCase())||Be.analysis.name.toLowerCase().includes(D.analysisCode.toLowerCase()))),D.status&&D.status!=="all"&&(te=te.filter(Be=>Be.status===D.status)),l(te)},oe=(te,Be)=>{ae(fe=>({...fe,[te]:Be}))},W=()=>{ae({patientName:"",patientId:T||"",cnssNumber:"",requestId:z||"",status:"",analysisCode:""})},$=te=>{switch(te){case"VALIDATED":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"COMPLETED":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";case"REJECTED":return"text-red-600 bg-red-100 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},Z=te=>{switch(te){case"VALIDATED":return X.validated;case"COMPLETED":return X.completed;case"PENDING":return X.pending;case"REJECTED":return X.rejected;default:return te}},J=async te=>{try{C(!0);const Be=await cc.getRequest(te.request.id),fe=await eu.getResultsByRequest(te.request.id),je={...Be,results:fe||[]};console.log("Complete request for PDF:",je),await y5(je,e)}catch(Be){console.error("Error generating PDF:",Be),alert(e==="fr"?"Erreur lors de la génération du PDF":"Error generating PDF")}finally{C(!1)}},ne=async te=>{try{const Be=window.open("","_blank");Be&&(Be.document.write(`
          <html>
            <head>
              <title>${te.analysis.name} - ${te.request.patient.firstName} ${te.request.patient.lastName}</title>
              <style>
                body { font-family: Arial, sans-serif; margin: 20px; }
                .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
                .info { margin-bottom: 20px; }
                .result { border: 2px solid #2563eb; padding: 20px; margin: 20px 0; border-radius: 8px; }
                .value { font-size: 24px; font-weight: bold; color: #2563eb; }
                .reference { color: #666; font-size: 16px; }
                .status { color: #059669; font-weight: bold; }
                @media print { body { margin: 0; } }
              </style>
            </head>
            <body>
              <div class="header">
                <h1>Résultat d'Analyse Médicale</h1>
                <h2>${te.analysis.name} (${te.analysis.code})</h2>
              </div>
              <div class="info">
                <p><strong>Patient:</strong> ${te.request.patient.firstName} ${te.request.patient.lastName}</p>
                <p><strong>Date de naissance:</strong> ${new Date(te.request.patient.dateOfBirth).toLocaleDateString()}</p>
                <p><strong>Sexe:</strong> ${te.request.patient.gender}</p>
                <p><strong>Date d'analyse:</strong> ${new Date(te.request.createdAt).toLocaleDateString()}</p>
                <p><strong>Numéro de demande:</strong> ${te.request.id}</p>
                ${te.request.patient.cnssNumber?`<p><strong>CNSS:</strong> ${te.request.patient.cnssNumber}</p>`:""}
              </div>
              <div class="result">
                <p><strong>Résultat:</strong> <span class="value">${te.value||"N/A"} ${te.unit||""}</span></p>
                <p><strong>Valeurs de référence:</strong> <span class="reference">${te.reference||"N/A"}</span></p>
                <p><strong>Statut:</strong> <span class="status">${Z(te.status)}</span></p>
                ${te.notes?`<p><strong>Notes:</strong> ${te.notes}</p>`:""}
              </div>
              <div style="margin-top: 40px; text-align: center;">
                <p><em>Ce rapport a été généré automatiquement par le système SIL Lab</em></p>
              </div>
            </body>
          </html>
        `),Be.document.close(),Be.print())}catch(Be){console.error("Error printing individual test:",Be),alert(e==="fr"?"Erreur lors de l'impression du test":"Error printing test")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:X.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:X.subtitle}),(T||z)&&o.length>0&&r.jsxs("div",{className:"mt-2 flex flex-col space-y-1",children:[T&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Oa,{size:16,className:"mr-2 text-blue-600"}),r.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[o[0].request.patient.firstName," ",o[0].request.patient.lastName]})]}),z&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Jr,{size:16,className:"mr-2 text-blue-600"}),r.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[e==="fr"?"Demande: ":"Request: "," ",z]})]}),r.jsxs("button",{onClick:()=>{window.location.href="/results"},className:"self-start text-xs text-gray-500 hover:text-gray-700 mt-1",children:["(",e==="fr"?"effacer les filtres":"clear filters",")"]})]})]}),r.jsxs("button",{onClick:_,disabled:B,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[r.jsx(us,{className:`h-4 w-4 ${B?"animate-spin":""}`}),r.jsx("span",{children:X.refresh})]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:e==="fr"?"Comment imprimer les résultats":"How to print results"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:e==="fr"?`1. Trouvez un résultat avec statut "Validé" 2. Cliquez sur l'icône imprimante pour imprimer le test individuel 3. Ou cliquez sur "Voir" puis "Générer PDF" pour le rapport complet`:'1. Find a result with "Validated" status 2. Click the printer icon to print individual test 3. Or click "View" then "Generate PDF" for complete report'})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",value:D.patientName,onChange:te=>oe("patientName",te.target.value),placeholder:X.patientName,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsx("div",{children:r.jsx("input",{type:"text",value:D.patientId,onChange:te=>oe("patientId",te.target.value),placeholder:X.patientId,disabled:!!T,className:`w-full px-4 py-2 border ${T?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700":"border-gray-300 dark:border-gray-600"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white`})}),r.jsx("div",{children:r.jsx("input",{type:"text",value:D.cnssNumber,onChange:te=>oe("cnssNumber",te.target.value),placeholder:X.cnssNumber,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),r.jsx("div",{children:r.jsx("input",{type:"text",value:D.requestId,onChange:te=>oe("requestId",te.target.value),placeholder:X.requestId,disabled:!!z,className:`w-full px-4 py-2 border ${z?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700":"border-gray-300 dark:border-gray-600"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white`})}),r.jsx("div",{children:r.jsx("input",{type:"text",value:D.analysisCode,onChange:te=>oe("analysisCode",te.target.value),placeholder:X.analysisCode,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),r.jsx("div",{children:r.jsxs("select",{value:D.status,onChange:te=>oe("status",te.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:X.allStatuses}),r.jsx("option",{value:"PENDING",children:X.pending}),r.jsx("option",{value:"COMPLETED",children:X.completed}),r.jsx("option",{value:"VALIDATED",children:X.validated}),r.jsx("option",{value:"REJECTED",children:X.rejected})]})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{onClick:W,className:"px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-2",children:[r.jsx(RA,{size:16}),r.jsx("span",{children:X.clearFilters})]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o.length," ",X.resultsFound]})]})]}),U&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(eo,{className:"text-red-600",size:20}),r.jsx("span",{className:"text-red-800 dark:text-red-200",children:U})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:X.patient}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:X.test}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:X.value}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:X.reference}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:X.date}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:X.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:X.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:B?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:X.loading})]})})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:T||z?r.jsxs("div",{children:[r.jsx("p",{children:X.notFound}),r.jsxs("p",{className:"mt-2 text-sm",children:[T&&(e==="fr"?"Aucun résultat trouvé pour ce patient.":"No results found for this patient."),z&&(e==="fr"?"Aucun résultat trouvé pour cette demande.":"No results found for this request.")]})]}):X.notFound})}):o.map(te=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:r.jsx(Oa,{className:"h-5 w-5 text-blue-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[te.request.patient.firstName," ",te.request.patient.lastName]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:te.request.patient.cnssNumber||"N/A"})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:te.analysis.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[te.analysis.code," - ",te.analysis.category]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[te.value||"-"," ",te.unit]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:te.reference||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(te.request.createdAt).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$(te.status)}`,children:Z(te.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>g(te),className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:X.view,children:r.jsx(Ma,{size:16})}),te.status==="VALIDATED"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>ne(te),className:"text-purple-600 hover:text-purple-900 dark:hover:text-purple-400",title:X.printIndividualTest,children:r.jsx(Yl,{size:16})}),r.jsx("button",{onClick:()=>J(te),disabled:R,className:"text-green-600 hover:text-green-900 dark:hover:text-green-400 disabled:opacity-50 disabled:cursor-not-allowed",title:e==="fr"?"Générer PDF":"Generate PDF",children:R?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})]})})]},te.id))})]})})}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[d.analysis.name," - ",d.request.patient.firstName," ",d.request.patient.lastName]}),r.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(eo,{size:20})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:X.patient}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.request.patient.firstName," ",d.request.patient.lastName]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["CNSS: ",d.request.patient.cnssNumber||"N/A"]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:X.status}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$(d.status)}`,children:Z(d.status)})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:X.test}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.analysis.name," (",d.analysis.code,")"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:d.analysis.category})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:X.value}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.value||"-"," ",d.unit]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Référence: ",d.reference||"-"]})]})]}),r.jsx("div",{className:"flex justify-end space-x-3",children:d.status==="VALIDATED"?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>ne(d),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center space-x-2",children:[r.jsx(Yl,{size:16}),r.jsx("span",{children:X.printIndividualTest})]}),r.jsx("button",{onClick:()=>J(d),disabled:R,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:R?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:e==="fr"?"Génération...":"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("span",{children:e==="fr"?"Générer PDF":"Generate PDF"})]})})]}):r.jsxs("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 flex items-center space-x-2",children:[r.jsx(ka,{size:16}),r.jsx("span",{children:X.notReady})]})})]})]})}),f&&y&&r.jsx(aR,{request:y,onClose:()=>{m(!1),N(null)}})]})}function nR(){const{language:e}=zt(),[t,a]=q.useState([]),[s,o]=q.useState(!1),[l,d]=q.useState(null),[g,f]=q.useState(null),[m,y]=q.useState(!1),[N,B]=q.useState(null),[w,U]=q.useState(""),[L,R]=q.useState(!1),[C,I]=q.useState(""),[T,z]=q.useState("success"),D={fr:{title:"Validation des Résultats",subtitle:"Panel de validation pour les biologistes",searchPlaceholder:"Nom du patient, code analyse...",patient:"Patient",analysis:"Analyse",value:"Valeur",reference:"Référence",status:"Statut",actions:"Actions",pending:"En attente",validated:"Validé",rejected:"Rejeté",validate:"Valider",reject:"Rejeter",view:"Voir",refresh:"Actualiser",notFound:"Aucun résultat trouvé",error:"Erreur lors de la récupération",loading:"Chargement...",confirmValidation:"Confirmer la validation",confirmRejection:"Confirmer le rejet",validationNotes:"Notes de validation",cancel:"Annuler",confirm:"Confirmer",validationSuccess:"Résultat validé avec succès",rejectionSuccess:"Résultat rejeté avec succès",validationError:"Erreur lors de la validation",rejectionError:"Erreur lors du rejet",close:"Fermer",doctor:"Médecin",specialty:"Spécialité",notes:"Notes"},en:{title:"Result Validation",subtitle:"Biologist validation panel",searchPlaceholder:"Patient name, analysis code...",patient:"Patient",analysis:"Analysis",value:"Value",reference:"Reference",status:"Status",actions:"Actions",pending:"Pending",validated:"Validated",rejected:"Rejected",validate:"Validate",reject:"Reject",view:"View",refresh:"Refresh",notFound:"No results found",error:"Error fetching data",loading:"Loading...",confirmValidation:"Confirm validation",confirmRejection:"Confirm rejection",validationNotes:"Validation notes",cancel:"Cancel",confirm:"Confirm",validationSuccess:"Result validated successfully",rejectionSuccess:"Result rejected successfully",validationError:"Error during validation",rejectionError:"Error during rejection",close:"Close",doctor:"Doctor",specialty:"Specialty",notes:"Notes"}}[e],ae=(J,ne)=>{I(J),z(ne),R(!0),setTimeout(()=>R(!1),4e3)};q.useEffect(()=>{X()},[]);const X=async()=>{try{o(!0),d(null);const J=await eu.getResults({limit:100,include:"request,analysis",status:"PENDING"});a(J.results||[])}catch(J){console.error("Error loading results:",J),d(D.error)}finally{o(!1)}},_=J=>{switch(J){case"VALIDATED":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"REJECTED":return"text-red-600 bg-red-100 dark:bg-red-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},ie=J=>{switch(J){case"VALIDATED":return D.validated;case"REJECTED":return D.rejected;case"PENDING":return D.pending;default:return J}},oe=async J=>{try{B(J.id),await eu.validateResult(J.id,"biologist-user"),a(ne=>ne.map(te=>te.id===J.id?{...te,status:"VALIDATED"}:te)),(g==null?void 0:g.id)===J.id&&(y(!1),f(null)),ae(D.validationSuccess,"success")}catch(ne){console.error("Error validating result:",ne),ae(D.validationError,"error")}finally{B(null)}},W=async J=>{try{B(J.id),await eu.updateResult(J.id,{status:"REJECTED"}),a(ne=>ne.map(te=>te.id===J.id?{...te,status:"REJECTED"}:te)),(g==null?void 0:g.id)===J.id&&(y(!1),f(null)),ae(D.rejectionSuccess,"success")}catch(ne){console.error("Error rejecting result:",ne),ae(D.rejectionError,"error")}finally{B(null)}},$=t.filter(J=>{if(!w)return!0;const ne=w.toLowerCase();return J.request.patient.firstName.toLowerCase().includes(ne)||J.request.patient.lastName.toLowerCase().includes(ne)||J.analysis.code.toLowerCase().includes(ne)||J.analysis.name.toLowerCase().includes(ne)}),Z=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[g==null?void 0:g.analysis.name," - ",g==null?void 0:g.request.patient.firstName," ",g==null?void 0:g.request.patient.lastName]}),r.jsx("button",{onClick:()=>{y(!1),f(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:20})})]}),g&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:D.patient}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.request.patient.firstName," ",g.request.patient.lastName]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.request.patient.gender,", ",new Date(g.request.patient.dateOfBirth).toLocaleDateString()]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:D.analysis}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.analysis.name," (",g.analysis.code,")"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.analysis.category})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:D.value}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.value||"-"," ",g.unit]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:D.reference}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.reference||"-"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:D.status}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(g.status)}`,children:ie(g.status)})]}),g.request.doctor&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:D.doctor}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.request.doctor.firstName," ",g.request.doctor.lastName]}),g.request.doctor.specialty&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.request.doctor.specialty})]}),g.notes&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:D.notes}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.notes})]})]}),g&&g.status==="PENDING"&&r.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>W(g),disabled:N===g.id,className:"px-4 py-2 text-red-600 bg-red-100 rounded-lg hover:bg-red-200 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 disabled:opacity-50",children:N===g.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):D.reject}),r.jsx("button",{onClick:()=>oe(g),disabled:N===g.id,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:N===g.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):D.validate})]})]})})});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:D.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:D.subtitle})]}),r.jsxs("button",{onClick:X,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[r.jsx(us,{className:`h-4 w-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:D.refresh})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:D.searchPlaceholder,value:w,onChange:J=>U(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.patient}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.analysis}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.value}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.reference}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:D.loading})]})})}):$.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:D.notFound})}):$.map(J=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[J.request.patient.firstName," ",J.request.patient.lastName]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[J.request.patient.gender,", ",new Date(J.request.patient.dateOfBirth).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:J.analysis.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[J.analysis.code," - ",J.analysis.category]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[J.value||"-"," ",J.unit]}),r.jsx(Br,{size:16,className:"text-green-500"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.reference||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(J.status)}`,children:ie(J.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[J.status==="PENDING"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>oe(J),disabled:N===J.id,className:"text-green-600 hover:text-green-900 dark:hover:text-green-400 disabled:opacity-50",title:D.validate,children:N===J.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):r.jsx(WN,{size:16})}),r.jsx("button",{onClick:()=>W(J),disabled:N===J.id,className:"text-red-600 hover:text-red-900 dark:hover:text-red-400 disabled:opacity-50",title:D.reject,children:N===J.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):r.jsx(tr,{size:16})})]}),r.jsx("button",{onClick:()=>{f(J),y(!0)},className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:D.view,children:r.jsx(Ma,{size:16})})]})})]},J.id))})]})}),m&&r.jsx(Z,{}),L&&r.jsxs("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg flex items-center z-50 ${T==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[T==="success"?r.jsx(Br,{size:20,className:"mr-2"}):r.jsx(or,{size:20,className:"mr-2"}),C,r.jsx("button",{onClick:()=>R(!1),className:"ml-4",children:r.jsx(tr,{size:16})})]})]})}const iR=q.createContext(void 0),oR=()=>{const e=q.useContext(iR);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function b5(e,t){return function(){return e.apply(t,arguments)}}const{toString:lR}=Object.prototype,{getPrototypeOf:Cb}=Object,{iterator:Ff,toStringTag:v5}=Symbol,Ef=(e=>t=>{const a=lR.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),ni=e=>(e=e.toLowerCase(),t=>Ef(t)===e),Lf=e=>t=>typeof t===e,{isArray:HA}=Array,Lu=Lf("undefined");function zu(e){return e!==null&&!Lu(e)&&e.constructor!==null&&!Lu(e.constructor)&&Hs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const w5=ni("ArrayBuffer");function cR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&w5(e.buffer),t}const AR=Lf("string"),Hs=Lf("function"),k5=Lf("number"),Vu=e=>e!==null&&typeof e=="object",dR=e=>e===!0||e===!1,Og=e=>{if(Ef(e)!=="object")return!1;const t=Cb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(v5 in e)&&!(Ff in e)},uR=e=>{if(!Vu(e)||zu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},hR=ni("Date"),gR=ni("File"),fR=ni("Blob"),pR=ni("FileList"),mR=e=>Vu(e)&&Hs(e.pipe),xR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Hs(e.append)&&((t=Ef(e))==="formdata"||t==="object"&&Hs(e.toString)&&e.toString()==="[object FormData]"))},yR=ni("URLSearchParams"),[bR,vR,wR,kR]=["ReadableStream","Request","Response","Headers"].map(ni),NR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gu(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),HA(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{if(zu(e))return;const l=a?Object.getOwnPropertyNames(e):Object.keys(e),d=l.length;let g;for(s=0;s<d;s++)g=l[s],t.call(null,e[g],g,e)}}function N5(e,t){if(zu(e))return null;t=t.toLowerCase();const a=Object.keys(e);let s=a.length,o;for(;s-- >0;)if(o=a[s],t===o.toLowerCase())return o;return null}const Xl=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),C5=e=>!Lu(e)&&e!==Xl;function ay(){const{caseless:e}=C5(this)&&this||{},t={},a=(s,o)=>{const l=e&&N5(t,o)||o;Og(t[l])&&Og(s)?t[l]=ay(t[l],s):Og(s)?t[l]=ay({},s):HA(s)?t[l]=s.slice():t[l]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Gu(arguments[s],a);return t}const CR=(e,t,a,{allOwnKeys:s}={})=>(Gu(t,(o,l)=>{a&&Hs(o)?e[l]=b5(o,a):e[l]=o},{allOwnKeys:s}),e),BR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jR=(e,t,a,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},SR=(e,t,a,s)=>{let o,l,d;const g={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)d=o[l],(!s||s(d,e,t))&&!g[d]&&(t[d]=e[d],g[d]=!0);e=a!==!1&&Cb(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},FR=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const s=e.indexOf(t,a);return s!==-1&&s===a},ER=e=>{if(!e)return null;if(HA(e))return e;let t=e.length;if(!k5(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},LR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Cb(Uint8Array)),IR=(e,t)=>{const s=(e&&e[Ff]).call(e);let o;for(;(o=s.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},PR=(e,t)=>{let a;const s=[];for(;(a=e.exec(t))!==null;)s.push(a);return s},UR=ni("HTMLFormElement"),DR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,o){return s.toUpperCase()+o}),c2=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),TR=ni("RegExp"),B5=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),s={};Gu(a,(o,l)=>{let d;(d=t(o,l,e))!==!1&&(s[l]=d||o)}),Object.defineProperties(e,s)},QR=e=>{B5(e,(t,a)=>{if(Hs(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=e[a];if(Hs(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},RR=(e,t)=>{const a={},s=o=>{o.forEach(l=>{a[l]=!0})};return HA(e)?s(e):s(String(e).split(t)),a},MR=()=>{},OR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function HR(e){return!!(e&&Hs(e.append)&&e[v5]==="FormData"&&e[Ff])}const _R=e=>{const t=new Array(10),a=(s,o)=>{if(Vu(s)){if(t.indexOf(s)>=0)return;if(zu(s))return s;if(!("toJSON"in s)){t[o]=s;const l=HA(s)?[]:{};return Gu(s,(d,g)=>{const f=a(d,o+1);!Lu(f)&&(l[g]=f)}),t[o]=void 0,l}}return s};return a(e,0)},zR=ni("AsyncFunction"),VR=e=>e&&(Vu(e)||Hs(e))&&Hs(e.then)&&Hs(e.catch),j5=((e,t)=>e?setImmediate:t?((a,s)=>(Xl.addEventListener("message",({source:o,data:l})=>{o===Xl&&l===a&&s.length&&s.shift()()},!1),o=>{s.push(o),Xl.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Hs(Xl.postMessage)),GR=typeof queueMicrotask<"u"?queueMicrotask.bind(Xl):typeof process<"u"&&process.nextTick||j5,qR=e=>e!=null&&Hs(e[Ff]),We={isArray:HA,isArrayBuffer:w5,isBuffer:zu,isFormData:xR,isArrayBufferView:cR,isString:AR,isNumber:k5,isBoolean:dR,isObject:Vu,isPlainObject:Og,isEmptyObject:uR,isReadableStream:bR,isRequest:vR,isResponse:wR,isHeaders:kR,isUndefined:Lu,isDate:hR,isFile:gR,isBlob:fR,isRegExp:TR,isFunction:Hs,isStream:mR,isURLSearchParams:yR,isTypedArray:LR,isFileList:pR,forEach:Gu,merge:ay,extend:CR,trim:NR,stripBOM:BR,inherits:jR,toFlatObject:SR,kindOf:Ef,kindOfTest:ni,endsWith:FR,toArray:ER,forEachEntry:IR,matchAll:PR,isHTMLForm:UR,hasOwnProperty:c2,hasOwnProp:c2,reduceDescriptors:B5,freezeMethods:QR,toObjectSet:RR,toCamelCase:DR,noop:MR,toFiniteNumber:OR,findKey:N5,global:Xl,isContextDefined:C5,isSpecCompliantForm:HR,toJSONObject:_R,isAsyncFn:zR,isThenable:VR,setImmediate:j5,asap:GR,isIterable:qR};function $t(e,t,a,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}We.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:We.toJSONObject(this.config),code:this.code,status:this.status}}});const S5=$t.prototype,F5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{F5[e]={value:e}});Object.defineProperties($t,F5);Object.defineProperty(S5,"isAxiosError",{value:!0});$t.from=(e,t,a,s,o,l)=>{const d=Object.create(S5);return We.toFlatObject(e,d,function(f){return f!==Error.prototype},g=>g!=="isAxiosError"),$t.call(d,e.message,t,a,s,o),d.cause=e,d.name=e.name,l&&Object.assign(d,l),d};const XR=null;function sy(e){return We.isPlainObject(e)||We.isArray(e)}function E5(e){return We.endsWith(e,"[]")?e.slice(0,-2):e}function A2(e,t,a){return e?e.concat(t).map(function(o,l){return o=E5(o),!a&&l?"["+o+"]":o}).join(a?".":""):t}function KR(e){return We.isArray(e)&&!e.some(sy)}const WR=We.toFlatObject(We,{},null,function(t){return/^is[A-Z]/.test(t)});function If(e,t,a){if(!We.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=We.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,R){return!We.isUndefined(R[L])});const s=a.metaTokens,o=a.visitor||y,l=a.dots,d=a.indexes,f=(a.Blob||typeof Blob<"u"&&Blob)&&We.isSpecCompliantForm(t);if(!We.isFunction(o))throw new TypeError("visitor must be a function");function m(U){if(U===null)return"";if(We.isDate(U))return U.toISOString();if(We.isBoolean(U))return U.toString();if(!f&&We.isBlob(U))throw new $t("Blob is not supported. Use a Buffer instead.");return We.isArrayBuffer(U)||We.isTypedArray(U)?f&&typeof Blob=="function"?new Blob([U]):Buffer.from(U):U}function y(U,L,R){let C=U;if(U&&!R&&typeof U=="object"){if(We.endsWith(L,"{}"))L=s?L:L.slice(0,-2),U=JSON.stringify(U);else if(We.isArray(U)&&KR(U)||(We.isFileList(U)||We.endsWith(L,"[]"))&&(C=We.toArray(U)))return L=E5(L),C.forEach(function(T,z){!(We.isUndefined(T)||T===null)&&t.append(d===!0?A2([L],z,l):d===null?L:L+"[]",m(T))}),!1}return sy(U)?!0:(t.append(A2(R,L,l),m(U)),!1)}const N=[],B=Object.assign(WR,{defaultVisitor:y,convertValue:m,isVisitable:sy});function w(U,L){if(!We.isUndefined(U)){if(N.indexOf(U)!==-1)throw Error("Circular reference detected in "+L.join("."));N.push(U),We.forEach(U,function(C,I){(!(We.isUndefined(C)||C===null)&&o.call(t,C,We.isString(I)?I.trim():I,L,B))===!0&&w(C,L?L.concat(I):[I])}),N.pop()}}if(!We.isObject(e))throw new TypeError("data must be an object");return w(e),t}function d2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Bb(e,t){this._pairs=[],e&&If(e,this,t)}const L5=Bb.prototype;L5.append=function(t,a){this._pairs.push([t,a])};L5.toString=function(t){const a=t?function(s){return t.call(this,s,d2)}:d2;return this._pairs.map(function(o){return a(o[0])+"="+a(o[1])},"").join("&")};function YR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function I5(e,t,a){if(!t)return e;const s=a&&a.encode||YR;We.isFunction(a)&&(a={serialize:a});const o=a&&a.serialize;let l;if(o?l=o(t,a):l=We.isURLSearchParams(t)?t.toString():new Bb(t,a).toString(s),l){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class $R{constructor(){this.handlers=[]}use(t,a,s){return this.handlers.push({fulfilled:t,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){We.forEach(this.handlers,function(s){s!==null&&t(s)})}}const u2=$R,P5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JR=typeof URLSearchParams<"u"?URLSearchParams:Bb,ZR=typeof FormData<"u"?FormData:null,eM=typeof Blob<"u"?Blob:null,tM={isBrowser:!0,classes:{URLSearchParams:JR,FormData:ZR,Blob:eM},protocols:["http","https","file","blob","url","data"]},jb=typeof window<"u"&&typeof document<"u",ny=typeof navigator=="object"&&navigator||void 0,rM=jb&&(!ny||["ReactNative","NativeScript","NS"].indexOf(ny.product)<0),aM=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),sM=jb&&window.location.href||"http://localhost",nM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jb,hasStandardBrowserEnv:rM,hasStandardBrowserWebWorkerEnv:aM,navigator:ny,origin:sM},Symbol.toStringTag,{value:"Module"})),As={...nM,...tM};function iM(e,t){return If(e,new As.classes.URLSearchParams,{visitor:function(a,s,o,l){return As.isNode&&We.isBuffer(a)?(this.append(s,a.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function oM(e){return We.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lM(e){const t={},a=Object.keys(e);let s;const o=a.length;let l;for(s=0;s<o;s++)l=a[s],t[l]=e[l];return t}function U5(e){function t(a,s,o,l){let d=a[l++];if(d==="__proto__")return!0;const g=Number.isFinite(+d),f=l>=a.length;return d=!d&&We.isArray(o)?o.length:d,f?(We.hasOwnProp(o,d)?o[d]=[o[d],s]:o[d]=s,!g):((!o[d]||!We.isObject(o[d]))&&(o[d]=[]),t(a,s,o[d],l)&&We.isArray(o[d])&&(o[d]=lM(o[d])),!g)}if(We.isFormData(e)&&We.isFunction(e.entries)){const a={};return We.forEachEntry(e,(s,o)=>{t(oM(s),o,a,0)}),a}return null}function cM(e,t,a){if(We.isString(e))try{return(t||JSON.parse)(e),We.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(e)}const Sb={transitional:P5,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const s=a.getContentType()||"",o=s.indexOf("application/json")>-1,l=We.isObject(t);if(l&&We.isHTMLForm(t)&&(t=new FormData(t)),We.isFormData(t))return o?JSON.stringify(U5(t)):t;if(We.isArrayBuffer(t)||We.isBuffer(t)||We.isStream(t)||We.isFile(t)||We.isBlob(t)||We.isReadableStream(t))return t;if(We.isArrayBufferView(t))return t.buffer;if(We.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return iM(t,this.formSerializer).toString();if((g=We.isFileList(t))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return If(g?{"files[]":t}:t,f&&new f,this.formSerializer)}}return l||o?(a.setContentType("application/json",!1),cM(t)):t}],transformResponse:[function(t){const a=this.transitional||Sb.transitional,s=a&&a.forcedJSONParsing,o=this.responseType==="json";if(We.isResponse(t)||We.isReadableStream(t))return t;if(t&&We.isString(t)&&(s&&!this.responseType||o)){const d=!(a&&a.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(g){if(d)throw g.name==="SyntaxError"?$t.from(g,$t.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:As.classes.FormData,Blob:As.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};We.forEach(["delete","get","head","post","put","patch"],e=>{Sb.headers[e]={}});const Fb=Sb,AM=We.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dM=e=>{const t={};let a,s,o;return e&&e.split(`
`).forEach(function(d){o=d.indexOf(":"),a=d.substring(0,o).trim().toLowerCase(),s=d.substring(o+1).trim(),!(!a||t[a]&&AM[a])&&(a==="set-cookie"?t[a]?t[a].push(s):t[a]=[s]:t[a]=t[a]?t[a]+", "+s:s)}),t},h2=Symbol("internals");function jd(e){return e&&String(e).trim().toLowerCase()}function Hg(e){return e===!1||e==null?e:We.isArray(e)?e.map(Hg):String(e)}function uM(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(e);)t[s[1]]=s[2];return t}const hM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function fm(e,t,a,s,o){if(We.isFunction(s))return s.call(this,t,a);if(o&&(t=a),!!We.isString(t)){if(We.isString(s))return t.indexOf(s)!==-1;if(We.isRegExp(s))return s.test(t)}}function gM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,s)=>a.toUpperCase()+s)}function fM(e,t){const a=We.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+a,{value:function(o,l,d){return this[s].call(this,t,o,l,d)},configurable:!0})})}class Pf{constructor(t){t&&this.set(t)}set(t,a,s){const o=this;function l(g,f,m){const y=jd(f);if(!y)throw new Error("header name must be a non-empty string");const N=We.findKey(o,y);(!N||o[N]===void 0||m===!0||m===void 0&&o[N]!==!1)&&(o[N||f]=Hg(g))}const d=(g,f)=>We.forEach(g,(m,y)=>l(m,y,f));if(We.isPlainObject(t)||t instanceof this.constructor)d(t,a);else if(We.isString(t)&&(t=t.trim())&&!hM(t))d(dM(t),a);else if(We.isObject(t)&&We.isIterable(t)){let g={},f,m;for(const y of t){if(!We.isArray(y))throw TypeError("Object iterator must return a key-value pair");g[m=y[0]]=(f=g[m])?We.isArray(f)?[...f,y[1]]:[f,y[1]]:y[1]}d(g,a)}else t!=null&&l(a,t,s);return this}get(t,a){if(t=jd(t),t){const s=We.findKey(this,t);if(s){const o=this[s];if(!a)return o;if(a===!0)return uM(o);if(We.isFunction(a))return a.call(this,o,s);if(We.isRegExp(a))return a.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=jd(t),t){const s=We.findKey(this,t);return!!(s&&this[s]!==void 0&&(!a||fm(this,this[s],s,a)))}return!1}delete(t,a){const s=this;let o=!1;function l(d){if(d=jd(d),d){const g=We.findKey(s,d);g&&(!a||fm(s,s[g],g,a))&&(delete s[g],o=!0)}}return We.isArray(t)?t.forEach(l):l(t),o}clear(t){const a=Object.keys(this);let s=a.length,o=!1;for(;s--;){const l=a[s];(!t||fm(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const a=this,s={};return We.forEach(this,(o,l)=>{const d=We.findKey(s,l);if(d){a[d]=Hg(o),delete a[l];return}const g=t?gM(l):String(l).trim();g!==l&&delete a[l],a[g]=Hg(o),s[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return We.forEach(this,(s,o)=>{s!=null&&s!==!1&&(a[o]=t&&We.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const s=new this(t);return a.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[h2]=this[h2]={accessors:{}}).accessors,o=this.prototype;function l(d){const g=jd(d);s[g]||(fM(o,d),s[g]=!0)}return We.isArray(t)?t.forEach(l):l(t),this}}Pf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);We.reduceDescriptors(Pf.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[a]=s}}});We.freezeMethods(Pf);const Zn=Pf;function pm(e,t){const a=this||Fb,s=t||a,o=Zn.from(s.headers);let l=s.data;return We.forEach(e,function(g){l=g.call(a,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function D5(e){return!!(e&&e.__CANCEL__)}function _A(e,t,a){$t.call(this,e??"canceled",$t.ERR_CANCELED,t,a),this.name="CanceledError"}We.inherits(_A,$t,{__CANCEL__:!0});function T5(e,t,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?e(a):t(new $t("Request failed with status code "+a.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function pM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mM(e,t){e=e||10;const a=new Array(e),s=new Array(e);let o=0,l=0,d;return t=t!==void 0?t:1e3,function(f){const m=Date.now(),y=s[l];d||(d=m),a[o]=f,s[o]=m;let N=l,B=0;for(;N!==o;)B+=a[N++],N=N%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),m-d<t)return;const w=y&&m-y;return w?Math.round(B*1e3/w):void 0}}function xM(e,t){let a=0,s=1e3/t,o,l;const d=(m,y=Date.now())=>{a=y,o=null,l&&(clearTimeout(l),l=null),e(...m)};return[(...m)=>{const y=Date.now(),N=y-a;N>=s?d(m,y):(o=m,l||(l=setTimeout(()=>{l=null,d(o)},s-N)))},()=>o&&d(o)]}const T0=(e,t,a=3)=>{let s=0;const o=mM(50,250);return xM(l=>{const d=l.loaded,g=l.lengthComputable?l.total:void 0,f=d-s,m=o(f),y=d<=g;s=d;const N={loaded:d,total:g,progress:g?d/g:void 0,bytes:f,rate:m||void 0,estimated:m&&g&&y?(g-d)/m:void 0,event:l,lengthComputable:g!=null,[t?"download":"upload"]:!0};e(N)},a)},g2=(e,t)=>{const a=e!=null;return[s=>t[0]({lengthComputable:a,total:e,loaded:s}),t[1]]},f2=e=>(...t)=>We.asap(()=>e(...t)),yM=As.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,As.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(As.origin),As.navigator&&/(msie|trident)/i.test(As.navigator.userAgent)):()=>!0,bM=As.hasStandardBrowserEnv?{write(e,t,a,s,o,l){const d=[e+"="+encodeURIComponent(t)];We.isNumber(a)&&d.push("expires="+new Date(a).toGMTString()),We.isString(s)&&d.push("path="+s),We.isString(o)&&d.push("domain="+o),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Q5(e,t,a){let s=!vM(t);return e&&(s||a==!1)?wM(e,t):t}const p2=e=>e instanceof Zn?{...e}:e;function Ac(e,t){t=t||{};const a={};function s(m,y,N,B){return We.isPlainObject(m)&&We.isPlainObject(y)?We.merge.call({caseless:B},m,y):We.isPlainObject(y)?We.merge({},y):We.isArray(y)?y.slice():y}function o(m,y,N,B){if(We.isUndefined(y)){if(!We.isUndefined(m))return s(void 0,m,N,B)}else return s(m,y,N,B)}function l(m,y){if(!We.isUndefined(y))return s(void 0,y)}function d(m,y){if(We.isUndefined(y)){if(!We.isUndefined(m))return s(void 0,m)}else return s(void 0,y)}function g(m,y,N){if(N in t)return s(m,y);if(N in e)return s(void 0,m)}const f={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:g,headers:(m,y,N)=>o(p2(m),p2(y),N,!0)};return We.forEach(Object.keys({...e,...t}),function(y){const N=f[y]||o,B=N(e[y],t[y],y);We.isUndefined(B)&&N!==g||(a[y]=B)}),a}const R5=e=>{const t=Ac({},e);let{data:a,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:d,auth:g}=t;t.headers=d=Zn.from(d),t.url=I5(Q5(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&d.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let f;if(We.isFormData(a)){if(As.hasStandardBrowserEnv||As.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((f=d.getContentType())!==!1){const[m,...y]=f?f.split(";").map(N=>N.trim()).filter(Boolean):[];d.setContentType([m||"multipart/form-data",...y].join("; "))}}if(As.hasStandardBrowserEnv&&(s&&We.isFunction(s)&&(s=s(t)),s||s!==!1&&yM(t.url))){const m=o&&l&&bM.read(l);m&&d.set(o,m)}return t},kM=typeof XMLHttpRequest<"u",NM=kM&&function(e){return new Promise(function(a,s){const o=R5(e);let l=o.data;const d=Zn.from(o.headers).normalize();let{responseType:g,onUploadProgress:f,onDownloadProgress:m}=o,y,N,B,w,U;function L(){w&&w(),U&&U(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let R=new XMLHttpRequest;R.open(o.method.toUpperCase(),o.url,!0),R.timeout=o.timeout;function C(){if(!R)return;const T=Zn.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),D={data:!g||g==="text"||g==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:T,config:e,request:R};T5(function(X){a(X),L()},function(X){s(X),L()},D),R=null}"onloadend"in R?R.onloadend=C:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(C)},R.onabort=function(){R&&(s(new $t("Request aborted",$t.ECONNABORTED,e,R)),R=null)},R.onerror=function(){s(new $t("Network Error",$t.ERR_NETWORK,e,R)),R=null},R.ontimeout=function(){let z=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const D=o.transitional||P5;o.timeoutErrorMessage&&(z=o.timeoutErrorMessage),s(new $t(z,D.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,e,R)),R=null},l===void 0&&d.setContentType(null),"setRequestHeader"in R&&We.forEach(d.toJSON(),function(z,D){R.setRequestHeader(D,z)}),We.isUndefined(o.withCredentials)||(R.withCredentials=!!o.withCredentials),g&&g!=="json"&&(R.responseType=o.responseType),m&&([B,U]=T0(m,!0),R.addEventListener("progress",B)),f&&R.upload&&([N,w]=T0(f),R.upload.addEventListener("progress",N),R.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(y=T=>{R&&(s(!T||T.type?new _A(null,e,R):T),R.abort(),R=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const I=pM(o.url);if(I&&As.protocols.indexOf(I)===-1){s(new $t("Unsupported protocol "+I+":",$t.ERR_BAD_REQUEST,e));return}R.send(l||null)})},CM=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let s=new AbortController,o;const l=function(m){if(!o){o=!0,g();const y=m instanceof Error?m:this.reason;s.abort(y instanceof $t?y:new _A(y instanceof Error?y.message:y))}};let d=t&&setTimeout(()=>{d=null,l(new $t(`timeout ${t} of ms exceeded`,$t.ETIMEDOUT))},t);const g=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),e=null)};e.forEach(m=>m.addEventListener("abort",l));const{signal:f}=s;return f.unsubscribe=()=>We.asap(g),f}},BM=CM,jM=function*(e,t){let a=e.byteLength;if(!t||a<t){yield e;return}let s=0,o;for(;s<a;)o=s+t,yield e.slice(s,o),s=o},SM=async function*(e,t){for await(const a of FM(e))yield*jM(a,t)},FM=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:s}=await t.read();if(a)break;yield s}}finally{await t.cancel()}},m2=(e,t,a,s)=>{const o=SM(e,t);let l=0,d,g=f=>{d||(d=!0,s&&s(f))};return new ReadableStream({async pull(f){try{const{done:m,value:y}=await o.next();if(m){g(),f.close();return}let N=y.byteLength;if(a){let B=l+=N;a(B)}f.enqueue(new Uint8Array(y))}catch(m){throw g(m),m}},cancel(f){return g(f),o.return()}},{highWaterMark:2})},Uf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",M5=Uf&&typeof ReadableStream=="function",EM=Uf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),O5=(e,...t)=>{try{return!!e(...t)}catch{return!1}},LM=M5&&O5(()=>{let e=!1;const t=new Request(As.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),x2=64*1024,iy=M5&&O5(()=>We.isReadableStream(new Response("").body)),Q0={stream:iy&&(e=>e.body)};Uf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Q0[t]&&(Q0[t]=We.isFunction(e[t])?a=>a[t]():(a,s)=>{throw new $t(`Response type '${t}' is not supported`,$t.ERR_NOT_SUPPORT,s)})})})(new Response);const IM=async e=>{if(e==null)return 0;if(We.isBlob(e))return e.size;if(We.isSpecCompliantForm(e))return(await new Request(As.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(We.isArrayBufferView(e)||We.isArrayBuffer(e))return e.byteLength;if(We.isURLSearchParams(e)&&(e=e+""),We.isString(e))return(await EM(e)).byteLength},PM=async(e,t)=>{const a=We.toFiniteNumber(e.getContentLength());return a??IM(t)},UM=Uf&&(async e=>{let{url:t,method:a,data:s,signal:o,cancelToken:l,timeout:d,onDownloadProgress:g,onUploadProgress:f,responseType:m,headers:y,withCredentials:N="same-origin",fetchOptions:B}=R5(e);m=m?(m+"").toLowerCase():"text";let w=BM([o,l&&l.toAbortSignal()],d),U;const L=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let R;try{if(f&&LM&&a!=="get"&&a!=="head"&&(R=await PM(y,s))!==0){let D=new Request(t,{method:"POST",body:s,duplex:"half"}),ae;if(We.isFormData(s)&&(ae=D.headers.get("content-type"))&&y.setContentType(ae),D.body){const[X,_]=g2(R,T0(f2(f)));s=m2(D.body,x2,X,_)}}We.isString(N)||(N=N?"include":"omit");const C="credentials"in Request.prototype;U=new Request(t,{...B,signal:w,method:a.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:C?N:void 0});let I=await fetch(U,B);const T=iy&&(m==="stream"||m==="response");if(iy&&(g||T&&L)){const D={};["status","statusText","headers"].forEach(ie=>{D[ie]=I[ie]});const ae=We.toFiniteNumber(I.headers.get("content-length")),[X,_]=g&&g2(ae,T0(f2(g),!0))||[];I=new Response(m2(I.body,x2,X,()=>{_&&_(),L&&L()}),D)}m=m||"text";let z=await Q0[We.findKey(Q0,m)||"text"](I,e);return!T&&L&&L(),await new Promise((D,ae)=>{T5(D,ae,{data:z,headers:Zn.from(I.headers),status:I.status,statusText:I.statusText,config:e,request:U})})}catch(C){throw L&&L(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new $t("Network Error",$t.ERR_NETWORK,e,U),{cause:C.cause||C}):$t.from(C,C&&C.code,e,U)}}),oy={http:XR,xhr:NM,fetch:UM};We.forEach(oy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const y2=e=>`- ${e}`,DM=e=>We.isFunction(e)||e===null||e===!1,H5={getAdapter:e=>{e=We.isArray(e)?e:[e];const{length:t}=e;let a,s;const o={};for(let l=0;l<t;l++){a=e[l];let d;if(s=a,!DM(a)&&(s=oy[(d=String(a)).toLowerCase()],s===void 0))throw new $t(`Unknown adapter '${d}'`);if(s)break;o[d||"#"+l]=s}if(!s){const l=Object.entries(o).map(([g,f])=>`adapter ${g} `+(f===!1?"is not supported by the environment":"is not available in the build"));let d=t?l.length>1?`since :
`+l.map(y2).join(`
`):" "+y2(l[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s},adapters:oy};function mm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _A(null,e)}function b2(e){return mm(e),e.headers=Zn.from(e.headers),e.data=pm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),H5.getAdapter(e.adapter||Fb.adapter)(e).then(function(s){return mm(e),s.data=pm.call(e,e.transformResponse,s),s.headers=Zn.from(s.headers),s},function(s){return D5(s)||(mm(e),s&&s.response&&(s.response.data=pm.call(e,e.transformResponse,s.response),s.response.headers=Zn.from(s.response.headers))),Promise.reject(s)})}const _5="1.11.0",Df={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Df[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const v2={};Df.transitional=function(t,a,s){function o(l,d){return"[Axios v"+_5+"] Transitional option '"+l+"'"+d+(s?". "+s:"")}return(l,d,g)=>{if(t===!1)throw new $t(o(d," has been removed"+(a?" in "+a:"")),$t.ERR_DEPRECATED);return a&&!v2[d]&&(v2[d]=!0,console.warn(o(d," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(l,d,g):!0}};Df.spelling=function(t){return(a,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function TM(e,t,a){if(typeof e!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const l=s[o],d=t[l];if(d){const g=e[l],f=g===void 0||d(g,l,e);if(f!==!0)throw new $t("option "+l+" must be "+f,$t.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new $t("Unknown option "+l,$t.ERR_BAD_OPTION)}}const _g={assertOptions:TM,validators:Df},fi=_g.validators;class R0{constructor(t){this.defaults=t||{},this.interceptors={request:new u2,response:new u2}}async request(t,a){try{return await this._request(t,a)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=Ac(this.defaults,a);const{transitional:s,paramsSerializer:o,headers:l}=a;s!==void 0&&_g.assertOptions(s,{silentJSONParsing:fi.transitional(fi.boolean),forcedJSONParsing:fi.transitional(fi.boolean),clarifyTimeoutError:fi.transitional(fi.boolean)},!1),o!=null&&(We.isFunction(o)?a.paramsSerializer={serialize:o}:_g.assertOptions(o,{encode:fi.function,serialize:fi.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),_g.assertOptions(a,{baseUrl:fi.spelling("baseURL"),withXsrfToken:fi.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let d=l&&We.merge(l.common,l[a.method]);l&&We.forEach(["delete","get","head","post","put","patch","common"],U=>{delete l[U]}),a.headers=Zn.concat(d,l);const g=[];let f=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(a)===!1||(f=f&&L.synchronous,g.unshift(L.fulfilled,L.rejected))});const m=[];this.interceptors.response.forEach(function(L){m.push(L.fulfilled,L.rejected)});let y,N=0,B;if(!f){const U=[b2.bind(this),void 0];for(U.unshift(...g),U.push(...m),B=U.length,y=Promise.resolve(a);N<B;)y=y.then(U[N++],U[N++]);return y}B=g.length;let w=a;for(N=0;N<B;){const U=g[N++],L=g[N++];try{w=U(w)}catch(R){L.call(this,R);break}}try{y=b2.call(this,w)}catch(U){return Promise.reject(U)}for(N=0,B=m.length;N<B;)y=y.then(m[N++],m[N++]);return y}getUri(t){t=Ac(this.defaults,t);const a=Q5(t.baseURL,t.url,t.allowAbsoluteUrls);return I5(a,t.params,t.paramsSerializer)}}We.forEach(["delete","get","head","options"],function(t){R0.prototype[t]=function(a,s){return this.request(Ac(s||{},{method:t,url:a,data:(s||{}).data}))}});We.forEach(["post","put","patch"],function(t){function a(s){return function(l,d,g){return this.request(Ac(g||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}R0.prototype[t]=a(),R0.prototype[t+"Form"]=a(!0)});const zg=R0;class Eb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(l){a=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const d=new Promise(g=>{s.subscribe(g),l=g}).then(o);return d.cancel=function(){s.unsubscribe(l)},d},t(function(l,d,g){s.reason||(s.reason=new _A(l,d,g),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=s=>{t.abort(s)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new Eb(function(o){t=o}),cancel:t}}}const QM=Eb;function RM(e){return function(a){return e.apply(null,a)}}function MM(e){return We.isObject(e)&&e.isAxiosError===!0}const ly={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ly).forEach(([e,t])=>{ly[t]=e});const OM=ly;function z5(e){const t=new zg(e),a=b5(zg.prototype.request,t);return We.extend(a,zg.prototype,t,{allOwnKeys:!0}),We.extend(a,t,null,{allOwnKeys:!0}),a.create=function(o){return z5(Ac(e,o))},a}const Na=z5(Fb);Na.Axios=zg;Na.CanceledError=_A;Na.CancelToken=QM;Na.isCancel=D5;Na.VERSION=_5;Na.toFormData=If;Na.AxiosError=$t;Na.Cancel=Na.CanceledError;Na.all=function(t){return Promise.all(t)};Na.spread=RM;Na.isAxiosError=MM;Na.mergeConfig=Ac;Na.AxiosHeaders=Zn;Na.formToJSON=e=>U5(We.isHTMLForm(e)?new FormData(e):e);Na.getAdapter=H5.getAdapter;Na.HttpStatusCode=OM;Na.default=Na;const _d=Na,HM="http://localhost:5001/api",yi=_d.create({baseURL:HM,timeout:1e4});yi.interceptors.request.use(e=>{const t=localStorage.getItem("sil_lab_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));yi.interceptors.response.use(e=>e,e=>{var t;return console.error("API Error:",e),((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user"),window.location.href="/login"),Promise.reject(e)});class w2{static async getDashboardMetrics(){try{return(await yi.get("/billing/dashboard")).data}catch(t){return console.warn("API call failed, using fallback data:",t),{metrics:{totalInvoices:156,totalRevenue:125e3,paidInvoices:132,overdueInvoices:15,collectionRate:"85.5%"},recentTransactions:[{id:"1",transactionNumber:"TXN-2024-001",type:"PAYMENT",status:"COMPLETED",amount:1200,currency:"MAD",exchangeRate:1,paymentMethod:"BANK_TRANSFER",paymentDate:new Date().toISOString(),customerId:"1",processedById:"1",processedAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),customer:{name:"CNSS Maroc",type:"INSURANCE"},invoice:{invoiceNumber:"INV-2024-001",totalAmount:1200}}],topCustomers:[{id:"1",name:"CNSS Maroc",type:"INSURANCE",email:"facturation@cnss.ma",phone:"+212 5 37 71 96 96",address:"Casablanca",city:"Casablanca",postalCode:"20000",country:"Morocco",creditLimit:5e4,paymentTerms:30,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),totalRevenue:25e3}]}}}static async getInvoices(t){try{return(await yi.get("/billing/invoices",{params:t})).data}catch(a){return console.warn("API call failed, using fallback data:",a),{invoices:[{id:"1",invoiceNumber:"INV-2024-001",type:"STANDARD",status:"PAID",customerId:"1",customerName:"CNSS Maroc",patientName:"Ahmed Benali",subtotal:1e3,discountAmount:0,discountPercent:0,taxAmount:200,stampTaxAmount:30,totalAmount:1230,paidAmount:1230,balanceAmount:0,currency:"MAD",exchangeRate:1,issueDate:"2024-01-15",dueDate:"2024-02-14",paidDate:"2024-01-20",recurrenceType:"NONE",createdById:"1",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-20T14:30:00Z"},{id:"2",invoiceNumber:"INV-2024-002",type:"STANDARD",status:"OVERDUE",customerId:"2",customerName:"CNOPS",patientName:"Fatima Zahra",subtotal:800,discountAmount:0,discountPercent:0,taxAmount:160,stampTaxAmount:20,totalAmount:980,paidAmount:0,balanceAmount:980,currency:"MAD",exchangeRate:1,issueDate:"2024-01-10",dueDate:"2024-01-25",recurrenceType:"NONE",createdById:"1",createdAt:"2024-01-10T09:00:00Z",updatedAt:"2024-01-10T09:00:00Z"}],pagination:{page:1,limit:10,total:2,pages:1}}}}static async getCustomers(t){try{return(await yi.get("/billing/customers",{params:t})).data}catch(a){return console.warn("API call failed, using fallback data:",a),{customers:[{id:"1",name:"CNSS Maroc",type:"INSURANCE",email:"facturation@cnss.ma",phone:"+212 5 37 71 96 96",address:"Angle Bd Abdelmoumen et rue Soumaya",city:"Casablanca",postalCode:"20000",country:"Morocco",taxId:"ICE001234567890123",insuranceCode:"CNSS",creditLimit:5e4,paymentTerms:30,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",name:"CNOPS",type:"INSURANCE",email:"remboursement@cnops.ma",phone:"+212 5 37 71 30 30",address:"Hay Riad",city:"Rabat",postalCode:"10000",country:"Morocco",taxId:"ICE001234567890124",insuranceCode:"CNOPS",creditLimit:75e3,paymentTerms:45,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],pagination:{page:1,limit:10,total:2,pages:1}}}}static async getTransactions(t){try{return(await yi.get("/billing/transactions",{params:t})).data}catch(a){return console.warn("API call failed, using fallback data:",a),{transactions:[{id:"1",transactionNumber:"TXN-2024-001",type:"PAYMENT",status:"COMPLETED",amount:1230,currency:"MAD",exchangeRate:1,paymentMethod:"BANK_TRANSFER",paymentReference:"BT20240115001",paymentDate:"2024-01-20T14:30:00Z",invoiceId:"1",customerId:"1",description:"Payment for INV-2024-001",processedById:"1",processedAt:"2024-01-20T14:30:00Z",createdAt:"2024-01-20T14:30:00Z",updatedAt:"2024-01-20T14:30:00Z",customer:{name:"CNSS Maroc",type:"INSURANCE"},invoice:{invoiceNumber:"INV-2024-001",totalAmount:1230}}],pagination:{page:1,limit:10,total:1,pages:1}}}}static async getInsuranceClaims(t){try{return(await yi.get("/billing/claims",{params:t})).data}catch(a){return console.warn("API call failed, using fallback data:",a),{claims:[{id:"1",claimNumber:"CLM-2024-001",status:"SUBMITTED",customerId:"1",insuranceCode:"CNSS",contractNumber:"CNT-2024-001",invoiceId:"1",claimAmount:1230,submittedDate:"2024-01-21T10:00:00Z",createdById:"1",createdAt:"2024-01-21T10:00:00Z",updatedAt:"2024-01-21T10:00:00Z"}],pagination:{page:1,limit:10,total:1,pages:1}}}}static async createInvoice(t){try{return(await yi.post("/billing/invoices",t)).data}catch(a){throw console.error("Failed to create invoice:",a),new Error("Failed to create invoice. Please try again.")}}static async createCustomer(t){try{return(await yi.post("/billing/customers",t)).data}catch(a){throw console.error("Failed to create customer:",a),new Error("Failed to create customer. Please try again.")}}static async createTransaction(t){try{return(await yi.post("/billing/transactions",{...t,type:"PAYMENT"})).data}catch(a){throw console.error("Failed to create transaction:",a),new Error("Failed to record payment. Please try again.")}}}const _M=()=>{const{language:e,user:t,theme:a}=oR(),[s,o]=q.useState("dashboard"),[l,d]=q.useState(!1),[g,f]=q.useState(""),[m,y]=q.useState("all"),[N,B]=q.useState(!1),[w,U]=q.useState("invoice"),[L,R]=q.useState({totalRevenue:125e3,pendingInvoices:15,overdueAmount:25e3,collectionRate:85.5,monthlyGrowth:12.5}),[C,I]=q.useState([]);q.useState([]),q.useState([]),q.useState([]),q.useEffect(()=>{T()},[]);const T=async()=>{d(!0);try{const[J,ne]=await Promise.allSettled([w2.getDashboardMetrics(),w2.getInvoices({limit:5})]);J.status==="fulfilled"&&R({totalRevenue:J.value.metrics.totalRevenue,pendingInvoices:J.value.metrics.totalInvoices-J.value.metrics.paidInvoices,overdueAmount:J.value.metrics.overdueInvoices*1e3,collectionRate:parseFloat(J.value.metrics.collectionRate),monthlyGrowth:12.5}),ne.status==="fulfilled"&&I(ne.value.invoices)}catch(J){console.error("Error loading dashboard data:",J)}finally{d(!1)}},D={fr:{billingManager:"Gestionnaire de Facturation",dashboard:"Tableau de Bord",invoices:"Factures",payments:"Paiements",customers:"Clients",reports:"Rapports",claims:"Réclamations",settings:"Paramètres",totalRevenue:"Revenus Total",pendingInvoices:"Factures en Attente",overdueAmount:"Montant en Retard",collectionRate:"Taux de Recouvrement",monthlyGrowth:"Croissance Mensuelle",newInvoice:"Nouvelle Facture",recordPayment:"Enregistrer Paiement",generateReport:"Générer Rapport",paymentReminders:"Rappels de Paiement",search:"Rechercher...",filter:"Filtrer",status:"Statut",all:"Tous",draft:"Brouillon",sent:"Envoyée",paid:"Payée",overdue:"En retard",cancelled:"Annulée",actions:"Actions",view:"Voir",edit:"Modifier",delete:"Supprimer",amount:"Montant",date:"Date",customer:"Client",invoiceNumber:"N° Facture"},en:{billingManager:"Billing Manager",dashboard:"Dashboard",invoices:"Invoices",payments:"Payments",customers:"Customers",reports:"Reports",claims:"Claims",settings:"Settings",totalRevenue:"Total Revenue",pendingInvoices:"Pending Invoices",overdueAmount:"Overdue Amount",collectionRate:"Collection Rate",monthlyGrowth:"Monthly Growth",newInvoice:"New Invoice",recordPayment:"Record Payment",generateReport:"Generate Report",paymentReminders:"Payment Reminders",search:"Search...",filter:"Filter",status:"Status",all:"All",draft:"Draft",sent:"Sent",paid:"Paid",overdue:"Overdue",cancelled:"Cancelled",actions:"Actions",view:"View",edit:"Edit",delete:"Delete",amount:"Amount",date:"Date",customer:"Customer",invoiceNumber:"Invoice Number"}}[e],X=[{id:"dashboard",label:D.dashboard,icon:Rr,roles:["ADMIN","SECRETARY","BIOLOGIST"]},{id:"invoices",label:D.invoices,icon:Jr,roles:["ADMIN","SECRETARY"]},{id:"payments",label:D.payments,icon:co,roles:["ADMIN","SECRETARY"]},{id:"customers",label:D.customers,icon:Ao,roles:["ADMIN","SECRETARY"]},{id:"claims",label:D.claims,icon:y0,roles:["ADMIN","SECRETARY"]},{id:"reports",label:D.reports,icon:Rr,roles:["ADMIN","SECRETARY","BIOLOGIST"]},{id:"settings",label:D.settings,icon:cn,roles:["ADMIN"]}].filter(J=>J.roles.includes((t==null?void 0:t.role)||"GUEST")),_=J=>new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD"}).format(J),ie=J=>{const ne={PAID:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",DRAFT:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",SENT:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",OVERDUE:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",CANCELLED:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"};return ne[J]||ne.DRAFT},oe=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.totalRevenue}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_(L.totalRevenue)}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(ws,{className:"h-4 w-4 text-green-500"}),r.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400 ml-1",children:["+",L.monthlyGrowth,"%"]})]})]}),r.jsx(Os,{className:"h-8 w-8 text-green-600 dark:text-green-400"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.pendingInvoices}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:L.pendingInvoices})]}),r.jsx(ka,{className:"h-8 w-8 text-yellow-600 dark:text-yellow-400"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.overdueAmount}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_(L.overdueAmount)})]}),r.jsx(or,{className:"h-8 w-8 text-red-600 dark:text-red-400"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.collectionRate}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[L.collectionRate,"%"]})]}),r.jsx(Rr,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Actions Rapides"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("button",{onClick:()=>{U("invoice"),B(!0)},className:"flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(Jr,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:D.newInvoice})]}),r.jsxs("button",{onClick:()=>{U("payment"),B(!0)},className:"flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(co,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:D.recordPayment})]}),r.jsxs("button",{className:"flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(Rr,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:D.generateReport})]}),r.jsxs("button",{className:"flex items-center justify-center px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[r.jsx(or,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:D.paymentReminders})]})]})]})]}),W=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D.invoices}),r.jsxs("button",{onClick:()=>{U("invoice"),B(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center",children:[r.jsx(pa,{className:"h-4 w-4 mr-2"}),D.newInvoice]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border dark:border-gray-700",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:D.search,value:g,onChange:J=>f(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})}),r.jsxs("select",{value:m,onChange:J=>y(J.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"all",children:D.all}),r.jsx("option",{value:"DRAFT",children:D.draft}),r.jsx("option",{value:"SENT",children:D.sent}),r.jsx("option",{value:"PAID",children:D.paid}),r.jsx("option",{value:"OVERDUE",children:D.overdue}),r.jsx("option",{value:"CANCELLED",children:D.cancelled})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow border dark:border-gray-700 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.invoiceNumber}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.customer}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.amount}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.date}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:C.filter(J=>m==="all"||J.status===m).filter(J=>g===""||J.invoiceNumber.toLowerCase().includes(g.toLowerCase())||J.customerName.toLowerCase().includes(g.toLowerCase())).map(J=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:J.invoiceNumber})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:J.customerName}),J.patientName&&r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:J.patientName})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_(J.totalAmount)}),J.paidAmount>0&&r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Payé: ",_(J.paidAmount)]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ie(J.status)}`,children:J.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(J.issueDate).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400",children:r.jsx(Ma,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-green-600 hover:text-green-900 dark:text-green-400",children:r.jsx(Si,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-red-600 hover:text-red-900 dark:text-red-400",children:r.jsx(hn,{className:"h-4 w-4"})})]})})]},J.id))})]})})})]}),$=()=>N?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:w==="invoice"?D.newInvoice:w==="payment"?D.recordPayment:"Modal"}),r.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ti,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:w==="invoice"?"Formulaire de création de facture en cours de développement...":w==="payment"?"Formulaire d'enregistrement de paiement en cours de développement...":"Contenu du modal..."}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",children:"Annuler"}),r.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Enregistrer"})]})]})]})}):null,Z=()=>{switch(s){case"dashboard":return oe();case"invoices":return W();case"payments":return r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:D.payments}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Module des paiements en cours de développement..."})]});case"customers":return r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:D.customers}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Module des clients en cours de développement..."})]});case"claims":return r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:D.claims}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Module des réclamations d'assurance en cours de développement..."})]});case"reports":return r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:D.reports}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Module des rapports financiers en cours de développement..."})]});case"settings":return r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border dark:border-gray-700",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:D.settings}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Configuration des taxes et paramètres de facturation en cours de développement..."})]});default:return oe()}};return t?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 shadow border-b dark:border-gray-700",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex justify-between items-center py-6",children:r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:D.billingManager})})})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 shadow border-b dark:border-gray-700",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("nav",{className:"flex space-x-8",children:X.map(J=>{const ne=J.icon;return r.jsxs("button",{onClick:()=>o(J.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===J.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(ne,{className:"h-5 w-5 mr-2"}),J.label]},J.id)})})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:Z()}),$()]}):r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(or,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Authentification requise"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Veuillez vous connecter pour accéder au module de facturation."})]})})},zM=()=>{const{user:e}=zt();return r.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Billing Manager Test"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"User:"})," ",e?e.name:"Not logged in"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Role:"})," ",e?e.role:"No role"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email:"})," ",e?e.email:"No email"]}),r.jsxs("div",{className:"mt-6 p-4 bg-green-100 border border-green-300 rounded",children:[r.jsx("p",{className:"text-green-800",children:"✅ Billing Manager route is working!"}),r.jsx("p",{className:"text-sm text-green-600 mt-2",children:"If you can see this message, the route is properly configured and the component is rendering."})]})]})]})},VM=()=>(console.log("SimpleBillingTest rendering"),r.jsxs("div",{style:{padding:"20px",backgroundColor:"white",minHeight:"400px"},children:[r.jsx("h1",{style:{color:"red",fontSize:"24px",marginBottom:"20px"},children:"🎯 BILLING MODULE TEST - THIS SHOULD BE VISIBLE"}),r.jsxs("div",{style:{border:"2px solid red",padding:"20px",backgroundColor:"#f0f0f0"},children:[r.jsx("p",{style:{fontSize:"18px",color:"black"},children:"If you can see this red text and border, the route is working correctly!"}),r.jsx("p",{style:{fontSize:"14px",color:"gray",marginTop:"10px"},children:"Route: /modules/billing-manager"}),r.jsx("p",{style:{fontSize:"14px",color:"gray"},children:"Component: SimpleBillingTest"})]})]})),GM=()=>{console.log("MinimalBillingModule rendering");const{user:e}=zt();return r.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:[r.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",background:"green",color:"white",padding:"5px",zIndex:9999},children:"MINIMAL BILLING MODULE LOADED"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"💰 Billing Manager"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Total Revenue"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"125,000 MAD"})]}),r.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg border border-yellow-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Pending Invoices"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"15"})]}),r.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Overdue Amount"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:"25,000 MAD"})]})]}),r.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Create Invoice"}),r.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:"Record Payment"}),r.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors",children:"View Reports"}),r.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Settings"})]})]}),r.jsx("div",{className:"mt-6 p-4 bg-green-100 border border-green-300 rounded-lg",children:r.jsxs("p",{className:"text-green-800",children:["✅ Billing Manager is working! User: ",(e==null?void 0:e.name)||"Unknown"," (",(e==null?void 0:e.role)||"No role",")"]})})]})};function qM(){const{language:e}=zt(),[t,a]=q.useState("laboratory"),[s,o]=q.useState({labName:"SIL Laboratory",address:"123 Main Street, City, Country",phone:"+1234567890",email:"info@sil.lab",currencySymbol:"€",currencyCode:"EUR",currencyPosition:"AFTER",decimalPlaces:2,taxRate:20,autoprint:!0,printLogo:!0,smsNotifications:!0,emailNotifications:!0,language:"en",timezone:"UTC",dateFormat:"DD/MM/YYYY",timeFormat:"24h",qcEnabled:!0,qcFrequency:"DAILY",qcRetentionDays:365,autoBackup:!1,backupFrequency:"WEEKLY",backupRetentionDays:30,sessionTimeout:30,passwordExpiry:90,maxLoginAttempts:5,hl7Enabled:!1,hl7Port:2575,lisIntegration:!1}),[l,d]=q.useState(!1),[g,f]=q.useState(!1),[m,y]=q.useState(!1),[N,B]=q.useState("idle"),w={fr:{title:"Paramètres Système",laboratory:"Laboratoire",director:"Directeur",accreditation:"Accréditation",printing:"Impression",notifications:"Notifications",system:"Système",backup:"Sauvegarde",labName:"Nom du Laboratoire",labCode:"Code du Laboratoire",address:"Adresse",phone:"Téléphone",email:"Email",website:"Site Web",fax:"Fax",directorName:"Nom du Directeur",directorTitle:"Titre du Directeur",directorSignature:"Signature du Directeur",accreditationNumber:"Numéro d'Accréditation",accreditationBody:"Organisme d'Accréditation",accreditationExpiry:"Expiration de l'Accréditation",licenseNumber:"Numéro de Licence",autoprint:"Impression Automatique",defaultPrinter:"Imprimante par Défaut",printLogo:"Imprimer le Logo",logoUrl:"URL du Logo",reportHeader:"En-tête du Rapport",reportFooter:"Pied de Page du Rapport",smsNotifications:"Notifications SMS",emailNotifications:"Notifications Email",smsProvider:"Fournisseur SMS",smsApiKey:"Clé API SMS",emailProvider:"Fournisseur Email",emailApiKey:"Clé API Email",language:"Langue",timezone:"Fuseau Horaire",dateFormat:"Format de Date",timeFormat:"Format d'Heure",autoBackup:"Sauvegarde Automatique",backupFrequency:"Fréquence de Sauvegarde",backupRetentionDays:"Rétention Sauvegarde (jours)",daily:"Quotidien",weekly:"Hebdomadaire",monthly:"Mensuel",save:"Enregistrer",saving:"Enregistrement...",saved:"Enregistré",error:"Erreur",showApiKeys:"Afficher les Clés API",hideApiKeys:"Masquer les Clés API",uploadLogo:"Télécharger Logo",uploadSignature:"Télécharger Signature"},en:{title:"System Settings",laboratory:"Laboratory",director:"Director",accreditation:"Accreditation",printing:"Printing",notifications:"Notifications",system:"System",backup:"Backup",labName:"Laboratory Name",labCode:"Laboratory Code",address:"Address",phone:"Phone",email:"Email",website:"Website",fax:"Fax",directorName:"Director Name",directorTitle:"Director Title",directorSignature:"Director Signature",accreditationNumber:"Accreditation Number",accreditationBody:"Accreditation Body",accreditationExpiry:"Accreditation Expiry",licenseNumber:"License Number",autoprint:"Auto Print",defaultPrinter:"Default Printer",printLogo:"Print Logo",logoUrl:"Logo URL",reportHeader:"Report Header",reportFooter:"Report Footer",smsNotifications:"SMS Notifications",emailNotifications:"Email Notifications",smsProvider:"SMS Provider",smsApiKey:"SMS API Key",emailProvider:"Email Provider",emailApiKey:"Email API Key",language:"Language",timezone:"Timezone",dateFormat:"Date Format",timeFormat:"Time Format",autoBackup:"Auto Backup",backupFrequency:"Backup Frequency",backupRetentionDays:"Backup Retention (days)",daily:"Daily",weekly:"Weekly",monthly:"Monthly",save:"Save",saving:"Saving...",saved:"Saved",error:"Error",showApiKeys:"Show API Keys",hideApiKeys:"Hide API Keys",uploadLogo:"Upload Logo",uploadSignature:"Upload Signature"}}[e];q.useEffect(()=>{U()},[]);const U=async()=>{d(!0);try{const T=await fetch("http://localhost:5001/api/config",{headers:{"Content-Type":"application/json"}});if(T.ok){const z=await T.json();z.config&&o(z.config)}}catch(T){console.error("Error loading config:",T)}finally{d(!1)}},L=async()=>{f(!0),B("idle");try{(await fetch("http://localhost:5001/api/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok?(B("success"),setTimeout(()=>B("idle"),3e3)):B("error")}catch(T){console.error("Error saving config:",T),B("error")}finally{f(!1)}},R=(T,z)=>{o(D=>({...D,[T]:z}))},C=[{id:"laboratory",label:w.laboratory,icon:A6},{id:"director",label:w.director,icon:Oa},{id:"accreditation",label:w.accreditation,icon:KN},{id:"printing",label:w.printing,icon:Yl},{id:"notifications",label:w.notifications,icon:nb},{id:"system",label:w.system,icon:$N},{id:"backup",label:w.backup,icon:Ka}],I=()=>{switch(t){case"laboratory":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[w.labName," *"]}),r.jsx("input",{type:"text",value:s.labName,onChange:T=>R("labName",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.labCode}),r.jsx("input",{type:"text",value:s.labCode||"",onChange:T=>R("labCode",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[w.address," *"]}),r.jsx("textarea",{value:s.address,onChange:T=>R("address",T.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[w.phone," *"]}),r.jsx("input",{type:"tel",value:s.phone,onChange:T=>R("phone",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[w.email," *"]}),r.jsx("input",{type:"email",value:s.email,onChange:T=>R("email",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.website}),r.jsx("input",{type:"url",value:s.website||"",onChange:T=>R("website",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.fax}),r.jsx("input",{type:"tel",value:s.fax||"",onChange:T=>R("fax",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]})]});case"director":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.directorName}),r.jsx("input",{type:"text",value:s.directorName||"",onChange:T=>R("directorName",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.directorTitle}),r.jsx("input",{type:"text",value:s.directorTitle||"",onChange:T=>R("directorTitle",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.directorSignature}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"signature-upload",onChange:T=>{var D;const z=(D=T.target.files)==null?void 0:D[0];if(z){const ae=new FileReader;ae.onload=X=>{var _;R("directorSignature",(_=X.target)==null?void 0:_.result)},ae.readAsDataURL(z)}}}),r.jsxs("label",{htmlFor:"signature-upload",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[r.jsx(LA,{className:"h-4 w-4 mr-2"}),w.uploadSignature]}),s.directorSignature&&r.jsx("img",{src:s.directorSignature,alt:"Director Signature",className:"h-12 border border-gray-300 rounded"})]})]})]});case"accreditation":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.accreditationNumber}),r.jsx("input",{type:"text",value:s.accreditationNumber||"",onChange:T=>R("accreditationNumber",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.accreditationBody}),r.jsx("input",{type:"text",value:s.accreditationBody||"",onChange:T=>R("accreditationBody",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.accreditationExpiry}),r.jsx("input",{type:"date",value:s.accreditationExpiry||"",onChange:T=>R("accreditationExpiry",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.licenseNumber}),r.jsx("input",{type:"text",value:s.licenseNumber||"",onChange:T=>R("licenseNumber",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]})]});case"printing":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.autoprint,onChange:T=>R("autoprint",T.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:w.autoprint})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.printLogo,onChange:T=>R("printLogo",T.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:w.printLogo})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.defaultPrinter}),r.jsx("input",{type:"text",value:s.defaultPrinter||"",onChange:T=>R("defaultPrinter",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.logoUrl}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"logo-upload",onChange:T=>{var D;const z=(D=T.target.files)==null?void 0:D[0];if(z){const ae=new FileReader;ae.onload=X=>{var _;R("logoUrl",(_=X.target)==null?void 0:_.result)},ae.readAsDataURL(z)}}}),r.jsxs("label",{htmlFor:"logo-upload",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[r.jsx(LA,{className:"h-4 w-4 mr-2"}),w.uploadLogo]}),s.logoUrl&&r.jsx("img",{src:s.logoUrl,alt:"Laboratory Logo",className:"h-12 border border-gray-300 rounded"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.reportHeader}),r.jsx("textarea",{value:s.reportHeader||"",onChange:T=>R("reportHeader",T.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.reportFooter}),r.jsx("textarea",{value:s.reportFooter||"",onChange:T=>R("reportFooter",T.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]});case"notifications":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.smsNotifications,onChange:T=>R("smsNotifications",T.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:w.smsNotifications})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.emailNotifications,onChange:T=>R("emailNotifications",T.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:w.emailNotifications})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.smsProvider}),r.jsx("input",{type:"text",value:s.smsProvider||"",onChange:T=>R("smsProvider",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.emailProvider}),r.jsx("input",{type:"text",value:s.emailProvider||"",onChange:T=>R("emailProvider",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.smsApiKey}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:m?"text":"password",value:s.smsApiKey||"",onChange:T=>R("smsApiKey",T.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:m?r.jsx(vw,{className:"h-4 w-4"}):r.jsx(Ma,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.emailApiKey}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:m?"text":"password",value:s.emailApiKey||"",onChange:T=>R("emailApiKey",T.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:m?r.jsx(vw,{className:"h-4 w-4"}):r.jsx(Ma,{className:"h-4 w-4"})})]})]})]})]});case"system":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.language}),r.jsxs("select",{value:s.language,onChange:T=>R("language",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"fr",children:"Français"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.timezone}),r.jsxs("select",{value:s.timezone,onChange:T=>R("timezone",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"UTC",children:"UTC"}),r.jsx("option",{value:"Europe/Paris",children:"Europe/Paris"}),r.jsx("option",{value:"Africa/Casablanca",children:"Africa/Casablanca"}),r.jsx("option",{value:"America/New_York",children:"America/New_York"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.dateFormat}),r.jsxs("select",{value:s.dateFormat,onChange:T=>R("dateFormat",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),r.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),r.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.timeFormat}),r.jsxs("select",{value:s.timeFormat,onChange:T=>R("timeFormat",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"24h",children:"24 Hours"}),r.jsx("option",{value:"12h",children:"12 Hours"})]})]})]})]});case"backup":return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.autoBackup,onChange:T=>R("autoBackup",T.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:w.autoBackup})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.backupFrequency}),r.jsxs("select",{value:s.backupFrequency,onChange:T=>R("backupFrequency",T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"DAILY",children:w.daily}),r.jsx("option",{value:"WEEKLY",children:w.weekly}),r.jsx("option",{value:"MONTHLY",children:w.monthly})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:w.backupRetentionDays}),r.jsx("input",{type:"number",min:"1",value:s.backupRetentionDays,onChange:T=>R("backupRetentionDays",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]})]});default:return null}};return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:w.title}),r.jsxs("div",{className:"flex items-center space-x-4",children:[N==="success"&&r.jsxs("div",{className:"flex items-center text-green-600",children:[r.jsx(WN,{className:"h-5 w-5 mr-2"}),w.saved]}),N==="error"&&r.jsxs("div",{className:"flex items-center text-red-600",children:[r.jsx(tr,{className:"h-5 w-5 mr-2"}),w.error]}),r.jsxs("button",{onClick:L,disabled:g,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[r.jsx(Bs,{className:"h-4 w-4 mr-2"}),g?w.saving:w.save]})]})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"lg:w-64 flex-shrink-0",children:r.jsx("nav",{className:"space-y-1",children:C.map(T=>{const z=T.icon;return r.jsxs("button",{onClick:()=>a(T.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${t===T.id?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:[r.jsx(z,{className:"h-5 w-5 mr-3"}),T.label]},T.id)})})}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:I()})})]})]})}function XM(){return r.jsx(qM,{})}function KM(){zt();const[e,t]=q.useState(null),[a,s]=q.useState(!0),[o,l]=q.useState(null),[d,g]=q.useState(null),[f,m]=q.useState(!1),y=C=>{if(C===0)return"0 Bytes";const I=1024,T=["Bytes","KB","MB","GB","TB"],z=Math.floor(Math.log(C)/Math.log(I));return parseFloat((C/Math.pow(I,z)).toFixed(2))+" "+T[z]},N=C=>{const I=Math.floor(C/86400),T=Math.floor(C%86400/3600),z=Math.floor(C%3600/60);return`${I}d ${T}h ${z}m`},B=C=>C<50?"text-green-600":C<80?"text-yellow-600":"text-red-600",w=C=>C<50?"bg-green-500":C<80?"bg-yellow-500":"bg-red-500",U=async()=>{try{s(!0),l(null);const C=await fetch("http://localhost:5001/api/config/server-info");if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const I=await C.json();t(I.serverInfo),g(new Date)}catch(C){l(C instanceof Error?C.message:"Failed to fetch server info"),console.error("Error fetching server info:",C)}finally{s(!1)}};q.useEffect(()=>{U()},[]),q.useEffect(()=>{let C=null;return f&&(C=setInterval(U,3e4)),()=>{C&&clearInterval(C)}},[f]);const L=({title:C,icon:I,children:T,className:z=""})=>r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6 ${z}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:I}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:C})]}),T]}),R=({percentage:C,label:I})=>r.jsxs("div",{className:"mb-3",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[r.jsx("span",{children:I}),r.jsxs("span",{className:B(C),children:[C.toFixed(1),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${w(C)}`,style:{width:`${C}%`}})})]});return a?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(or,{className:"text-red-500",size:24}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-200",children:"Error Loading Server Information"}),r.jsx("p",{className:"text-red-600 dark:text-red-300",children:o}),r.jsx("button",{onClick:U,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors dark:bg-red-700 dark:hover:bg-red-600",children:"Retry"})]})]})})}):e?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"System & Server Information"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive overview of system resources, performance, and application metrics"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx(ka,{size:16}),r.jsxs("span",{children:["Last updated: ",d==null?void 0:d.toLocaleTimeString()]})]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[r.jsx("input",{type:"checkbox",checked:f,onChange:C=>m(C.target.checked),className:"rounded border-gray-300 dark:border-gray-600 dark:bg-gray-700"}),"Auto-refresh"]}),r.jsxs("button",{onClick:U,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors dark:bg-blue-700 dark:hover:bg-blue-600",children:[r.jsx(us,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(L,{title:"System",icon:r.jsx(eC,{className:"text-blue-600",size:20}),children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{children:"Model:"})," ",e.system.manufacturer," ",e.system.model]}),r.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{children:"OS:"})," ",e.os.distro," ",e.os.release]}),r.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{children:"Arch:"})," ",e.os.arch]}),r.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{children:"Hostname:"})," ",e.os.hostname]}),r.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{children:"Uptime:"})," ",N(e.os.uptime)]})]})}),r.jsx(L,{title:"CPU",icon:r.jsx(h6,{className:"text-green-600",size:20}),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.performance.cpu.brand}),r.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[e.performance.cpu.cores," cores @ ",e.performance.cpu.speed," GHz"]})]}),r.jsx(R,{percentage:e.performance.cpu.currentLoad||0,label:"CPU Usage"}),(e.performance.cpu.temperature||0)>0&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx(j6,{size:14}),r.jsxs("span",{children:[e.performance.cpu.temperature,"°C"]})]})]})}),r.jsx(L,{title:"Memory",icon:r.jsx(kw,{className:"text-purple-600",size:20}),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{children:"Total:"})," ",y(e.performance.memory.total)]}),r.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{children:"Available:"})," ",y(e.performance.memory.available)]})]}),r.jsx(R,{percentage:parseFloat(e.performance.memory.usage),label:"Memory Usage"})]})}),r.jsx(L,{title:"Storage",icon:r.jsx(ib,{className:"text-orange-600",size:20}),children:e.storage.map((C,I)=>r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:C.mount}),r.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:["(",C.type,")"]}),r.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[y(C.used)," / ",y(C.size)]})]}),r.jsx(R,{percentage:C.usePercent,label:`Disk ${C.device}`})]},I))})]}),r.jsx(L,{title:"Application Statistics",icon:r.jsx(ds,{className:"text-indigo-600",size:20}),children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.application.totalPatients.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Patients"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-800 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.application.totalDoctors.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Doctors"})]}),r.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.application.totalAnalyses.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Analyses"})]}),r.jsxs("div",{className:"text-center p-4 bg-orange-50 dark:bg-orange-900/20 border border-orange-100 dark:border-orange-800 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.application.totalRequests.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Requests"})]}),r.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.application.totalResults.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Results"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 border border-gray-100 dark:border-gray-600 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-600 dark:text-gray-300",children:N(e.application.serverUptime)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Server Uptime"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(L,{title:"Database Information",icon:r.jsx(Ka,{className:"text-teal-600",size:20}),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Type:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.database.type})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Size:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:y(e.database.size)})]}),r.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h4",{className:"font-medium mb-2 text-gray-900 dark:text-white",children:"Table Records:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Patients:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:e.database.tables.patients.toLocaleString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Doctors:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:e.database.tables.doctors.toLocaleString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Analyses:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:e.database.tables.analyses.toLocaleString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Requests:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:e.database.tables.requests.toLocaleString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Results:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:e.database.tables.results.toLocaleString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Configs:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:e.database.tables.configs.toLocaleString()})]})]})]})]})}),r.jsx(L,{title:"Network Information",icon:r.jsx(w6,{className:"text-cyan-600",size:20}),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Hostname:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.network.hostname})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"External IP:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.network.externalIP.ok?e.network.externalIP.outAddr||"Connected":"Not available"})]}),e.network.internetConnectivity&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Internet Latency:"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.network.internetConnectivity,"ms"]})]}),r.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h4",{className:"font-medium mb-2 text-gray-900 dark:text-white",children:"Network Interfaces:"}),r.jsx("div",{className:"space-y-2 text-sm",children:(e.network.interfaces||[]).slice(0,3).map((C,I)=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 p-2 rounded",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:C.iface}),r.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:["IP: ",C.ip4]}),r.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:["Type: ",C.type]})]},I))})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(L,{title:"Runtime Environment",icon:r.jsx(cn,{className:"text-emerald-600",size:20}),children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Node.js:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.runtime.node})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"NPM:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.runtime.npm||"N/A"})]}),e.runtime.yarn&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Yarn:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.runtime.yarn})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Platform:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.process.platform})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Architecture:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.process.arch})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Process ID:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.process.pid})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Working Directory:"}),r.jsx("span",{className:"font-medium text-xs text-gray-900 dark:text-white break-all",children:e.process.cwd})]})]})}),r.jsx(L,{title:"Security & Users",icon:r.jsx(ol,{className:"text-red-600",size:20}),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Active Users:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(e.security.users||[]).length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Processes:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.security.processes.total})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Running Processes:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.security.processes.running})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"System Services:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.security.services})]}),(e.security.users||[]).length>0&&r.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h4",{className:"font-medium mb-2 text-gray-900 dark:text-white",children:"Logged in Users:"}),r.jsx("div",{className:"space-y-1 text-sm",children:(e.security.users||[]).slice(0,3).map((C,I)=>r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-900 dark:text-white",children:C.user}),r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:C.tty})]},I))})]})]})})]}),((e.performance.graphics||[]).length>0||e.battery)&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(e.performance.graphics||[]).length>0&&r.jsx(L,{title:"Graphics",icon:r.jsx(Ma,{className:"text-pink-600",size:20}),children:r.jsx("div",{className:"space-y-3",children:(e.performance.graphics||[]).map((C,I)=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 p-3 rounded",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[C.vendor," ",C.model]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["VRAM: ",y(C.vram)]}),C.vramDynamic&&r.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Dynamic VRAM"})]},I))})}),e.battery&&r.jsx(L,{title:"Battery",icon:r.jsx(l6,{className:"text-yellow-600",size:20}),children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Level:"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.battery.percent,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),r.jsx("span",{className:`font-medium ${e.battery.isCharging?"text-green-600":"text-gray-600 dark:text-gray-400"}`,children:e.battery.isCharging?"Charging":"Not Charging"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Capacity:"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.battery.currentCapacity," / ",e.battery.maxCapacity," ",e.battery.capacityUnit]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cycle Count:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.battery.cycleCount})]}),r.jsx(R,{percentage:e.battery.percent,label:"Battery Level"})]})})]}),(e.performance.memory.layout||[]).length>0&&r.jsx(L,{title:"Memory Layout",icon:r.jsx(kw,{className:"text-violet-600",size:20}),children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(e.performance.memory.layout||[]).map((C,I)=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 p-4 rounded-lg",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:C.manufacturer}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{children:["Size: ",y(C.size)]}),r.jsxs("div",{children:["Type: ",C.type]}),r.jsxs("div",{children:["Speed: ",C.clockSpeed," MHz"]}),r.jsxs("div",{children:["Form: ",C.formFactor]}),r.jsxs("div",{children:["Bank: ",C.bank]})]})]},I))})}),r.jsxs("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 pt-4 border-t border-gray-200 dark:border-gray-700",children:["Last updated: ",new Date(e.timestamp).toLocaleString()," | SIL Lab Management System Server Information"]})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:r.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No server information available"})})})}function WM(){const{language:e}=zt(),[t,a]=q.useState([]),[s,o]=q.useState({symbol:"dh",code:"MAD",position:"after",decimalPlaces:2}),[l,d]=q.useState(""),[g,f]=q.useState("all"),[m,y]=q.useState(!1),[N,B]=q.useState(null),[w,U]=q.useState(!0),[L,R]=q.useState(!1),[C,I]=q.useState("success"),[T,z]=q.useState(""),[D,ae]=q.useState(""),[X,_]=q.useState(!1),[ie,oe]=q.useState(!1),[W,$]=q.useState(""),Z={fr:{title:"Gestion des Prix",subtitle:"Configuration des tarifs des analyses",currency:"Devise",currencySymbol:"Symbole de devise",currencyCode:"Code devise",currencyPosition:"Position du symbole",decimalPlaces:"Décimales",before:"Avant",after:"Après",search:"Rechercher...",filter:"Filtrer par catégorie",allCategories:"Toutes les catégories",addPrice:"Ajouter un prix",editPrice:"Modifier le prix",code:"Code",name:"Nom",category:"Catégorie",price:"Prix HT",tva:"TVA (%)",cost:"Coût",profit:"Marge",totalPrice:"Prix TTC",lastUpdated:"Dernière mise à jour",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",saveAll:"Enregistrer tout",priceHistory:"Historique des prix",profitAnalysis:"Analyse des marges",totalRevenue:"Revenu total",averagePrice:"Prix moyen",totalAnalyses:"Total analyses",priceChanges:"Changements de prix",success:"Prix enregistré avec succès",error:"Erreur lors de l'enregistrement",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce prix ?"},en:{title:"Price Management",subtitle:"Analysis pricing configuration",currency:"Currency",currencySymbol:"Currency symbol",currencyCode:"Currency code",currencyPosition:"Symbol position",decimalPlaces:"Decimal places",before:"Before",after:"After",search:"Search...",filter:"Filter by category",allCategories:"All categories",addPrice:"Add price",editPrice:"Edit price",code:"Code",name:"Name",category:"Category",price:"Price (excl. tax)",tva:"VAT (%)",cost:"Cost",profit:"Profit",totalPrice:"Total price",lastUpdated:"Last updated",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",saveAll:"Save all",priceHistory:"Price history",profitAnalysis:"Profit analysis",totalRevenue:"Total revenue",averagePrice:"Average price",totalAnalyses:"Total analyses",priceChanges:"Price changes",success:"Price saved successfully",error:"Error saving price",confirmDelete:"Are you sure you want to delete this price?"}}[e];q.useEffect(()=>{J()},[]);const J=async()=>{try{const He=await Vl.getPrices();a(He.length>0?He:ne());const qe=await Vl.getCurrencySettings();qe&&o(qe),U(!1)}catch(He){console.error("Error loading data:",He),a(ne()),U(!1)}},ne=()=>[{code:"4005",nom:"Hémogramme (CBC)",category:"Hématologie",price:45,tva:20,cost:15,profit:30},{code:"4010",nom:"Glycémie (Blood Sugar)",category:"Biochimie",price:25,tva:20,cost:8,profit:17},{code:"4015",nom:"Cholestérol Total",category:"Lipides",price:30,tva:20,cost:10,profit:20},{code:"4020",nom:"HDL Cholestérol",category:"Lipides",price:35,tva:20,cost:12,profit:23},{code:"4025",nom:"LDL Cholestérol",category:"Lipides",price:35,tva:20,cost:12,profit:23},{code:"4030",nom:"Triglycérides",category:"Lipides",price:30,tva:20,cost:10,profit:20},{code:"4035",nom:"Créatininémie",category:"Biochimie",price:28,tva:20,cost:9,profit:19},{code:"4040",nom:"Urée",category:"Biochimie",price:25,tva:20,cost:8,profit:17},{code:"4045",nom:"Bilan hépatique",category:"Biochimie",price:55,tva:20,cost:18,profit:37},{code:"4050",nom:"TSH",category:"Hormonologie",price:40,tva:20,cost:13,profit:27},{code:"4055",nom:"T4 Libre",category:"Hormonologie",price:45,tva:20,cost:15,profit:30},{code:"4060",nom:"T3 Libre",category:"Hormonologie",price:45,tva:20,cost:15,profit:30},{code:"4070",nom:"Groupe Sanguin",category:"Immunologie",price:35,tva:20,cost:11,profit:24},{code:"4075",nom:"CRP",category:"Inflammation",price:32,tva:20,cost:10,profit:22},{code:"4080",nom:"VS",category:"Inflammation",price:20,tva:20,cost:6,profit:14}],te=["Hématologie","Biochimie","Lipides","Hormonologie","Immunologie","Inflammation"],Be=(He,qe,Ft)=>{I(He),z(qe),ae(Ft),R(!0)},fe=t.filter(He=>{const qe=He.nom&&He.nom.toLowerCase().includes(l.toLowerCase())||He.code&&He.code.includes(l),Ft=g==="all"||He.category===g;return qe&&Ft}),je=(He,qe)=>He*(1+qe/100),Ce=(He,qe=0)=>He-qe,Me=He=>{const qe=He.toFixed(s.decimalPlaces);return s.position==="before"?`${s.symbol}${qe}`:`${qe}${s.symbol}`},Ae=(He,qe,Ft)=>{a($e=>$e.map(be=>{if(be.code===He){const ft={...be,[qe]:Ft};return(qe==="price"||qe==="cost")&&(ft.profit=Ce(ft.price,ft.cost)),ft}return be}))},he=async()=>{_(!0);try{const He=await Vl.savePrices(t);Vl.saveCurrencySettings(s),_(!1),He?Be("success",Z.success,"Les prix ont été sauvegardés avec succès."):Be("danger",Z.error,"Certains prix n'ont peut-être pas été sauvegardés. Veuillez vérifier la console pour plus de détails.")}catch(He){console.error("Save error:",He),_(!1),Be("danger",Z.error,"Une erreur est survenue lors de la sauvegarde.")}},ke=He=>{$(He),oe(!0)},Le=()=>{a(He=>He.filter(qe=>qe.code!==W)),oe(!1),$(""),Be("success","Supprimé","Le prix a été supprimé avec succès.")},Pe=()=>{const He={code:"",nom:"",category:"Biochimie",price:0,tva:20,cost:0,profit:0,lastUpdated:new Date().toISOString()};B(He),y(!0)},Re=()=>{if(N&&N.code&&N.nom){const He={...N,profit:Ce(N.price,N.cost),lastUpdated:new Date().toISOString()};a(qe=>[...qe,He]),B(null),y(!1)}},ve=t.reduce((He,qe)=>He+qe.price,0),Ee=ve/t.length,Xe=t.reduce((He,qe)=>He+(qe.profit||0),0),tt=ve>0?Xe/ve*100:0;return w?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:Z.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:Z.subtitle})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:Z.currency}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Z.currencySymbol}),r.jsx("input",{type:"text",value:s.symbol,onChange:He=>o(qe=>({...qe,symbol:He.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",maxLength:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Z.currencyCode}),r.jsx("input",{type:"text",value:s.code,onChange:He=>o(qe=>({...qe,code:He.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",maxLength:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Z.currencyPosition}),r.jsxs("select",{value:s.position,onChange:He=>o(qe=>({...qe,position:He.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"before",children:Z.before}),r.jsx("option",{value:"after",children:Z.after})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Z.decimalPlaces}),r.jsx("input",{type:"number",min:"0",max:"4",value:s.decimalPlaces,onChange:He=>o(qe=>({...qe,decimalPlaces:parseInt(He.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Os,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Z.totalRevenue}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Me(ve)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ws,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Z.averagePrice}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Me(Ee)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ws,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Z.profitAnalysis}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Me(Xe)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(hl,{className:"h-8 w-8 text-orange-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Marge (%)"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[tt.toFixed(1),"%"]})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:l,onChange:He=>d(He.target.value),placeholder:Z.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:g,onChange:He=>f(He.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:Z.allCategories}),te.map(He=>r.jsx("option",{value:He,children:He},He))]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:Pe,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(pa,{size:16,className:"mr-2"}),Z.addPrice]}),r.jsxs("button",{onClick:he,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Bs,{size:16,className:"mr-2"}),Z.saveAll]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Z.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Z.name}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Z.category}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Z.price}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Z.tva}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Z.cost}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Z.profit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Z.totalPrice}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Z.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:fe.map(He=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:He.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:He.nom}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:He.category}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",min:"0",value:He.price,onChange:qe=>Ae(He.code,"price",parseFloat(qe.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:He.tva,onChange:qe=>Ae(He.code,"tva",parseFloat(qe.target.value)||0),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",min:"0",value:He.cost||0,onChange:qe=>Ae(He.code,"cost",parseFloat(qe.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400",children:Me(He.profit||0)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 dark:text-blue-400",children:Me(je(He.price,He.tva))}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("button",{onClick:()=>ke(He.code),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(hn,{size:16})})})]},He.code))})]})})}),m&&N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:Z.addPrice}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Z.code}),r.jsx("input",{type:"text",value:N.code,onChange:He=>B(qe=>qe?{...qe,code:He.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Z.name}),r.jsx("input",{type:"text",value:N.nom,onChange:He=>B(qe=>qe?{...qe,nom:He.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Z.category}),r.jsx("select",{value:N.category,onChange:He=>B(qe=>qe?{...qe,category:He.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:te.map(He=>r.jsx("option",{value:He,children:He},He))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Z.price}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:N.price,onChange:He=>B(qe=>qe?{...qe,price:parseFloat(He.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Z.tva}),r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:N.tva,onChange:He=>B(qe=>qe?{...qe,tva:parseFloat(He.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>{y(!1),B(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:Z.cancel}),r.jsx("button",{onClick:Re,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:Z.save})]})]})}),r.jsx(Bu,{isOpen:L,onClose:()=>R(!1),onConfirm:()=>R(!1),title:T,message:D,type:C,confirmText:"OK",loading:X}),r.jsx(Bu,{isOpen:ie,onClose:()=>{oe(!1),$("")},onConfirm:Le,title:Z.confirmDelete,message:`Êtes-vous sûr de vouloir supprimer le prix pour le code ${W} ?`,type:"danger",confirmText:Z.delete,cancelText:Z.cancel})]})}const YM=It.memo(({isOpen:e,onClose:t,newUserData:a,onNameChange:s,onEmailChange:o,onRoleChange:l,onPasswordChange:d,onSubmit:g,loading:f,error:m,language:y,t:N})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:N.newUser}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:r.jsx(tr,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{children:r.jsx("input",{type:"text",placeholder:y==="fr"?"Nom complet (min. 2 caractères)":"Full name (min. 2 characters)",value:a.name,onChange:s,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})}),r.jsx("div",{children:r.jsx("input",{type:"email",placeholder:"Email",value:a.email,onChange:o,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})}),r.jsx("div",{children:r.jsxs("select",{value:a.role,onChange:l,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"",children:y==="fr"?"Sélectionner un rôle":"Select a role"}),r.jsx("option",{value:"ADMIN",children:N.admin}),r.jsx("option",{value:"BIOLOGIST",children:N.biologist}),r.jsx("option",{value:"TECHNICIAN",children:N.technician}),r.jsx("option",{value:"SECRETARY",children:N.secretary})]})}),r.jsx("div",{children:r.jsx("input",{type:"password",placeholder:y==="fr"?"Mot de passe (min. 6 caractères)":"Password (min. 6 characters)",value:a.password,onChange:d,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:f,children:N.cancel}),r.jsx("button",{onClick:g,disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:f?y==="fr"?"Création...":"Creating...":N.create})]}),m&&r.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:m})]})}):null),$M=It.memo(({isOpen:e,onClose:t,editUserData:a,onNameChange:s,onEmailChange:o,onRoleChange:l,onSubmit:d,loading:g,error:f,language:m,t:y})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:y.editUser}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:r.jsx(tr,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:m==="fr"?"Nom complet":"Full name",value:a.name,onChange:s,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"email",placeholder:"Email",value:a.email,onChange:o,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsxs("select",{value:a.role,onChange:l,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"",children:m==="fr"?"Sélectionner un rôle":"Select a role"}),r.jsx("option",{value:"ADMIN",children:y.admin}),r.jsx("option",{value:"BIOLOGIST",children:y.biologist}),r.jsx("option",{value:"TECHNICIAN",children:y.technician}),r.jsx("option",{value:"SECRETARY",children:y.secretary})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:g,children:y.cancel}),r.jsx("button",{onClick:d,disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:g?m==="fr"?"Mise à jour...":"Updating...":y.update})]}),f&&r.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:f})]})}):null),JM=It.memo(({isOpen:e,onClose:t,onConfirm:a,selectedUser:s,loading:o,error:l,language:d,t:g})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g.confirmDelete}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:r.jsx(tr,{size:20,className:"text-gray-500"})})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:g.deleteMessage}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:[r.jsx("strong",{children:s==null?void 0:s.name})," (",s==null?void 0:s.email,")"]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:o,children:g.cancel}),r.jsx("button",{onClick:a,disabled:o,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:o?d==="fr"?"Suppression...":"Deleting...":g.delete})]}),l&&r.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:l})]})}):null),ZM=()=>{const{language:e}=zt(),[t,a]=q.useState([]),[s,o]=q.useState(!1),[l,d]=q.useState(null),[g,f]=q.useState(!1),[m,y]=q.useState(!1),[N,B]=q.useState(!1),[w,U]=q.useState(null),[L,R]=q.useState({name:"",email:"",role:"",password:""}),[C,I]=q.useState({name:"",email:"",role:""}),T={title:e==="fr"?"Gestion des Utilisateurs":"User Management",newUser:e==="fr"?"Nouvel Utilisateur":"New User",editUser:e==="fr"?"Modifier Utilisateur":"Edit User",confirmDelete:e==="fr"?"Confirmer la Suppression":"Confirm Delete",deleteMessage:e==="fr"?"Êtes-vous sûr de vouloir supprimer cet utilisateur ?":"Are you sure you want to delete this user?",name:e==="fr"?"Nom":"Name",email:"Email",role:e==="fr"?"Rôle":"Role",actions:"Actions",admin:e==="fr"?"Administrateur":"Admin",biologist:e==="fr"?"Biologiste":"Biologist",technician:e==="fr"?"Technicien":"Technician",secretary:e==="fr"?"Secrétaire":"Secretary",create:e==="fr"?"Créer":"Create",update:e==="fr"?"Mettre à jour":"Update",delete:e==="fr"?"Supprimer":"Delete",cancel:e==="fr"?"Annuler":"Cancel",edit:e==="fr"?"Modifier":"Edit",createdAt:e==="fr"?"Créé le":"Created"};q.useEffect(()=>{z()},[]);const z=async()=>{o(!0);try{const Ce=await zh.getUsers();console.log("Fetched users:",Ce),a(Ce||[])}catch(Ce){d((Ce==null?void 0:Ce.message)||"Failed to fetch users")}finally{o(!1)}},D=Ce=>{U(Ce),I({name:Ce.name,email:Ce.email,role:Ce.role}),y(!0)},ae=Ce=>{U(Ce),B(!0)},X=async()=>{if(w){o(!0),d(null);try{await zh.deleteUser(w.id),a(Ce=>Ce.filter(Me=>Me.id!==w.id)),B(!1),U(null)}catch(Ce){d((Ce==null?void 0:Ce.message)||"Failed to delete user")}finally{o(!1)}}},_=async()=>{if(!L.name||!L.email||!L.role||!L.password){d("Please fill in all fields");return}if(L.name.length<2){d("Name must be at least 2 characters long");return}if(L.password.length<6){d("Password must be at least 6 characters long");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L.email)){d("Please enter a valid email address");return}o(!0),d(null);try{console.log("Creating user with data:",L);const Me=await zh.createUser(L);console.log("Created user response:",Me),a(Ae=>[Me,...Ae]),R({name:"",email:"",role:"",password:""}),f(!1)}catch(Me){console.error("Create user error:",Me);let Ae="Failed to create user";Me!=null&&Me.message&&(Ae=Me.message),d(Ae)}finally{o(!1)}},ie=async()=>{if(!w||!C.name||!C.email||!C.role){d("Please fill in all fields");return}o(!0),d(null);try{const Ce=await zh.updateUser(w.id,C);a(Me=>Me.map(Ae=>Ae.id===w.id?Ce:Ae)),y(!1),U(null)}catch(Ce){d((Ce==null?void 0:Ce.message)||"Failed to update user")}finally{o(!1)}},oe=It.useCallback(Ce=>{R(Me=>({...Me,name:Ce.target.value}))},[]),W=It.useCallback(Ce=>{R(Me=>({...Me,email:Ce.target.value}))},[]),$=It.useCallback(Ce=>{R(Me=>({...Me,role:Ce.target.value}))},[]),Z=It.useCallback(Ce=>{R(Me=>({...Me,password:Ce.target.value}))},[]),J=It.useCallback(()=>{f(!1),R({name:"",email:"",role:"",password:""}),d(null)},[]),ne=It.useCallback(Ce=>{I(Me=>({...Me,name:Ce.target.value}))},[]),te=It.useCallback(Ce=>{I(Me=>({...Me,email:Ce.target.value}))},[]),Be=It.useCallback(Ce=>{I(Me=>({...Me,role:Ce.target.value}))},[]),fe=It.useCallback(()=>{y(!1),I({name:"",email:"",role:""}),d(null),U(null)},[]),je=It.useCallback(()=>{B(!1),U(null),d(null)},[]);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:T.title}),r.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[r.jsx(pa,{size:20}),r.jsx("span",{children:T.newUser})]})]}),s&&!g&&!m&&!N&&r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Loading..."})}),l&&!g&&!m&&!N&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:l}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:T.name}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:T.email}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:T.role}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:T.createdAt}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:T.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t&&t.length>0?t.map(Ce=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:Ce.name||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Ce.email||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Ce.role?T[Ce.role.toLowerCase()]||Ce.role:"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:Ce.createdAt?new Date(Ce.createdAt).toLocaleDateString():"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>D(Ce),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Si,{size:16})}),r.jsx("button",{onClick:()=>ae(Ce),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(hn,{size:16})})]})})]},Ce.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-300",children:s?"Loading users...":"No users found"})})})]})}),r.jsx(YM,{isOpen:g,onClose:J,newUserData:L,onNameChange:oe,onEmailChange:W,onRoleChange:$,onPasswordChange:Z,onSubmit:_,loading:s,error:l,language:e,t:T}),r.jsx($M,{isOpen:m,onClose:fe,editUserData:C,onNameChange:ne,onEmailChange:te,onRoleChange:Be,onSubmit:ie,loading:s,error:l,language:e,t:T}),r.jsx(JM,{isOpen:N,onClose:je,onConfirm:X,selectedUser:w,loading:s,error:l,language:e,t:T})]})};function e7({onClose:e,onSuccess:t}){const{user:a,language:s}=zt(),[o,l]=q.useState({productId:"",quantity:0,lotNumber:"",expiryDate:"",location:"",unitCost:0,notes:"",receivedBy:(a==null?void 0:a.name)||""}),[d,g]=q.useState([]),[f,m]=q.useState([]),[y,N]=q.useState(!1),[B,w]=q.useState({}),[U,L]=q.useState(!1);q.useState(!1);const[R,C]=q.useState(""),[I,T]=q.useState(""),z={title:s==="fr"?"Ajouter Stock":"Add Stock Entry",subtitle:s==="fr"?"Enregistrer un nouvel arrivage":"Record new stock arrival",product:s==="fr"?"Produit":"Product",selectProduct:s==="fr"?"Sélectionner un produit":"Select a product",searchProduct:s==="fr"?"Rechercher un produit...":"Search for a product...",quantity:s==="fr"?"Quantité":"Quantity",lotNumber:s==="fr"?"Numéro de lot":"Lot Number",expiryDate:s==="fr"?"Date d'expiration":"Expiry Date",location:s==="fr"?"Emplacement":"Location",unitCost:s==="fr"?"Coût unitaire":"Unit Cost",notes:"Notes",receivedBy:s==="fr"?"Reçu par":"Received By",supplier:s==="fr"?"Fournisseur":"Supplier",selectSupplier:s==="fr"?"Sélectionner un fournisseur":"Select a supplier",searchSupplier:s==="fr"?"Rechercher un fournisseur...":"Search for a supplier...",addNewProduct:s==="fr"?"Ajouter un nouveau produit":"Add New Product",addNewSupplier:s==="fr"?"Ajouter un nouveau fournisseur":"Add New Supplier",save:s==="fr"?"Enregistrer":"Save",cancel:s==="fr"?"Annuler":"Cancel",required:s==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:s==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",invalidCost:s==="fr"?"Le coût doit être positif":"Cost must be positive",invalidDate:s==="fr"?"La date d'expiration doit être dans le futur":"Expiry date must be in the future",success:s==="fr"?"Stock ajouté avec succès":"Stock added successfully",error:s==="fr"?"Erreur lors de l'ajout du stock":"Error adding stock",loading:s==="fr"?"Enregistrement...":"Saving...",noProducts:s==="fr"?"Aucun produit trouvé":"No products found",noSuppliers:s==="fr"?"Aucun fournisseur trouvé":"No suppliers found",createProduct:s==="fr"?"Créer un produit":"Create Product",createSupplier:s==="fr"?"Créer un fournisseur":"Create Supplier",productName:s==="fr"?"Nom du produit":"Product Name",productCode:s==="fr"?"Code du produit":"Product Code",category:s==="fr"?"Catégorie":"Category",unit:s==="fr"?"Unité":"Unit",minQuantity:s==="fr"?"Quantité minimale":"Minimum Quantity",supplierName:s==="fr"?"Nom du fournisseur":"Supplier Name",supplierEmail:s==="fr"?"Email du fournisseur":"Supplier Email",supplierPhone:s==="fr"?"Téléphone du fournisseur":"Supplier Phone",supplierAddress:s==="fr"?"Adresse du fournisseur":"Supplier Address",contactPerson:s==="fr"?"Personne de contact":"Contact Person"};q.useEffect(()=>{D(),ae()},[]);const D=async()=>{try{const W=await xr.getProducts({limit:100});g(W.products||[])}catch(W){console.error("Error loading products:",W)}},ae=async()=>{try{const W=await xr.getSuppliers({limit:100});m(W.suppliers||[])}catch(W){console.error("Error loading suppliers:",W)}},X=()=>{const W={};return o.productId||(W.productId=z.required),(!o.quantity||o.quantity<=0)&&(W.quantity=z.invalidQuantity),o.location||(W.location=z.required),o.receivedBy||(W.receivedBy=z.required),o.unitCost<0&&(W.unitCost=z.invalidCost),o.expiryDate&&new Date(o.expiryDate)<=new Date&&(W.expiryDate=z.invalidDate),w(W),Object.keys(W).length===0},_=async W=>{if(W.preventDefault(),!!X()){N(!0);try{await xr.addStockEntry(o),t==null||t(),e()}catch($){console.error("Error adding stock entry:",$),alert(z.error)}finally{N(!1)}}},ie=(W,$)=>{l(Z=>({...Z,[W]:$})),B[W]&&w(Z=>({...Z,[W]:""}))},oe=d.filter(W=>W.name.toLowerCase().includes(R.toLowerCase())||W.code.toLowerCase().includes(R.toLowerCase())||W.category.toLowerCase().includes(R.toLowerCase()));return f.filter(W=>W.name.toLowerCase().includes(I.toLowerCase())),r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:z.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:z.subtitle})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:24})})]}),r.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[z.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:z.selectProduct,value:R,onChange:W=>C(W.target.value),onClick:()=>L(!0),readOnly:!0,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${B.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(na,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),B.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:B.productId})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[z.quantity," *"]}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:o.quantity,onChange:W=>ie("quantity",parseFloat(W.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${B.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),B.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:B.quantity})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:z.lotNumber}),r.jsx("input",{type:"text",value:o.lotNumber,onChange:W=>ie("lotNumber",W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:z.expiryDate}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",value:o.expiryDate,onChange:W=>ie("expiryDate",W.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${B.expiryDate?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(ln,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),B.expiryDate&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:B.expiryDate})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[z.location," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o.location,onChange:W=>ie("location",W.target.value),placeholder:"e.g., Fridge A, Cabinet 3",className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${B.location?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(oc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),B.location&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:B.location})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:z.unitCost}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",step:"0.01",min:"0",value:o.unitCost,onChange:W=>ie("unitCost",parseFloat(W.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${B.unitCost?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(Os,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),B.unitCost&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:B.unitCost})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[z.receivedBy," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o.receivedBy,onChange:W=>ie("receivedBy",W.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${B.receivedBy?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(Oa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),B.receivedBy&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:B.receivedBy})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:z.notes}),r.jsx("textarea",{value:o.notes,onChange:W=>ie("notes",W.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:z.cancel}),r.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),z.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),z.save]})})]})]})]}),U&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:z.selectProduct}),r.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:z.searchProduct,value:R,onChange:W=>C(W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:oe.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:z.noProducts}):oe.map(W=>r.jsxs("button",{onClick:()=>{l($=>({...$,productId:W.id})),C(W.name),L(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:W.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[W.code," • ",W.category," • ",W.unit]})]},W.id))}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:()=>{L(!1)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[r.jsx(pa,{size:16,className:"mr-2"}),z.addNewProduct]})})]})]})})]})}const V5=e=>{switch(e){case"OK":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"LOW":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EXPIRED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"EXPIRING":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},G5=(e,t)=>{switch(e){case"OK":return t.ok;case"LOW":return t.low;case"EXPIRED":return t.expired;case"EXPIRING":return t.expiring;default:return e}};function t7(){const{language:e}=zt(),[t,a]=q.useState(null),[s,o]=q.useState([]),[l,d]=q.useState(!0),[g,f]=q.useState(""),[m,y]=q.useState(""),[N,B]=q.useState(""),[w,U]=q.useState(!1),[L,R]=q.useState(!1),[C,I]=q.useState(!1),[T,z]=q.useState(null),[D,ae]=q.useState(null),[X,_]=q.useState(""),ie={title:e==="fr"?"Gestion des Stocks":"Stock Management",subtitle:e==="fr"?"Vue d'ensemble de l'inventaire":"Inventory Overview",totalProducts:e==="fr"?"Total Produits":"Total Products",totalValue:e==="fr"?"Valeur Totale":"Total Value",expiringSoon:e==="fr"?"Expire Bientôt":"Expiring Soon",lowStock:e==="fr"?"Stock Faible":"Low Stock",addStock:e==="fr"?"Ajouter Stock":"Add Stock",export:e==="fr"?"Exporter":"Export",search:e==="fr"?"Rechercher...":"Search...",category:e==="fr"?"Catégorie":"Category",status:e==="fr"?"Statut":"Status",allCategories:e==="fr"?"Toutes les catégories":"All Categories",allStatus:e==="fr"?"Tous les statuts":"All Status",product:e==="fr"?"Produit":"Product",code:"Code",stock:"Stock",unit:e==="fr"?"Unité":"Unit",expiry:e==="fr"?"Expiration":"Expiry",location:e==="fr"?"Emplacement":"Location",supplier:e==="fr"?"Fournisseur":"Supplier",actions:"Actions",view:e==="fr"?"Voir":"View",edit:e==="fr"?"Modifier":"Edit",delete:e==="fr"?"Supprimer":"Delete",noData:e==="fr"?"Aucune donnée":"No data available",loading:e==="fr"?"Chargement...":"Loading...",ok:"OK",low:e==="fr"?"FAIBLE":"LOW",expired:e==="fr"?"EXPIRÉ":"EXPIRED",expiring:e==="fr"?"EXPIRE":"EXPIRING"},oe=fe=>{switch(fe){case"AVAILABLE":return"OK";case"LOW_STOCK":return"LOW";case"OUT_OF_STOCK":return"LOW";case"EXPIRED":return"EXPIRED";default:return"OK"}},W=async()=>{try{const fe=await xr.getDashboard();a(fe)}catch(fe){console.error("Error loading dashboard data:",fe)}},$=async()=>{try{d(!0);const fe=await xr.getProducts({search:X,category:m,status:N}),Ce=(Array.isArray(fe)?fe:[]).map(Me=>{var he;const Ae=Me.stockEntries&&Me.stockEntries.length>0?(he=Me.stockEntries.filter(ke=>ke.expiryDate).sort((ke,Le)=>new Date(ke.expiryDate).getTime()-new Date(Le.expiryDate).getTime())[0])==null?void 0:he.expiryDate:null;return{...Me,status:oe(Me.stockStatus||"AVAILABLE"),earliestExpiry:Ae}});o(Ce)}catch(fe){console.error("Error loading products:",fe),o([])}finally{d(!1)}};q.useEffect(()=>{W(),$()},[]),q.useEffect(()=>{const fe=setTimeout(()=>{_(g)},500);return()=>clearTimeout(fe)},[g]),q.useEffect(()=>{(X!==""||m!==""||N!=="")&&$()},[X,m,N]);const Z=fe=>fe?new Date(fe).toLocaleDateString():"-",J=async()=>{try{const fe={search:X,category:m,status:N},je=await xr.exportStockReport(fe);if(je&&Array.isArray(je)){const Ce=Object.keys(je[0]).join(","),Me=je.map(Pe=>Object.values(Pe).join(",")),Ae=[Ce,...Me].join(`
`),he=new Blob([Ae],{type:"text/csv;charset=utf-8;"}),ke=URL.createObjectURL(he),Le=document.createElement("a");Le.setAttribute("href",ke),Le.setAttribute("download",`stock-report-${new Date().toISOString().split("T")[0]}.csv`),Le.style.visibility="hidden",document.body.appendChild(Le),Le.click(),document.body.removeChild(Le)}else console.error("Invalid response format for export")}catch(fe){console.error("Error exporting stock report:",fe)}},ne=fe=>{const je=s.find(Ce=>Ce.id===fe);je&&(z(je),R(!0))},te=fe=>{const je=s.find(Ce=>Ce.id===fe);je&&(ae(je),I(!0))},Be=async fe=>{if(window.confirm(e==="fr"?"Êtes-vous sûr de vouloir supprimer ce produit ?":"Are you sure you want to delete this product?"))try{await xr.deleteProduct(fe),$()}catch(je){console.error("Error deleting product:",je)}};return l&&!t?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:ie.loading})]})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:ie.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:ie.subtitle})]}),t&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(vs,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:ie.totalProducts}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalProducts})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Os,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:ie.totalValue}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.totalValue.toFixed(2)," dh"]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ka,{className:"h-8 w-8 text-orange-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:ie.expiringSoon}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.expiringSoon})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(or,{className:"h-8 w-8 text-yellow-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:ie.lowStock}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.lowStock})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:ie.search,value:g,onChange:fe=>f(fe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("select",{value:m,onChange:fe=>y(fe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:r.jsx("option",{value:"",children:ie.allCategories})}),r.jsxs("select",{value:N,onChange:fe=>B(fe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:ie.allStatus}),r.jsx("option",{value:"OK",children:ie.ok}),r.jsx("option",{value:"LOW",children:ie.low}),r.jsx("option",{value:"EXPIRED",children:ie.expired}),r.jsx("option",{value:"EXPIRING",children:ie.expiring})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>U(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(pa,{size:16,className:"mr-2"}),ie.addStock]}),r.jsxs("button",{onClick:J,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(ji,{size:16,className:"mr-2"}),ie.export]})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[w&&r.jsx(e7,{onClose:()=>U(!1),onSuccess:()=>{W(),$(),U(!1)}}),L&&T&&r.jsx(r7,{product:T,onClose:()=>{R(!1),z(null)},t:ie}),C&&D&&r.jsx(a7,{product:D,onClose:()=>{I(!1),ae(null)},onSuccess:()=>{$(),I(!1),ae(null)},t:ie}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ie.product}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ie.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ie.stock}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ie.unit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ie.expiry}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ie.location}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ie.supplier}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ie.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:ie.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:ie.loading})]})})}):s.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:ie.noData})}):s.map(fe=>{var je;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:fe.name}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:fe.category})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:fe.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:fe.currentStock}),fe.currentStock<=fe.minStock&&r.jsx(hl,{className:"ml-2 h-4 w-4 text-red-500"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:fe.unit}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Z(fe.earliestExpiry)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:((je=fe.supplier)==null?void 0:je.name)||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V5(fe.status)}`,children:G5(fe.status,ie)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>ne(fe.id),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Ma,{size:16})}),r.jsx("button",{onClick:()=>te(fe.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:r.jsx(Si,{size:16})}),r.jsx("button",{onClick:()=>Be(fe.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(hn,{size:16})})]})})]},fe.id)})})]})})]})]})}function r7({product:e,onClose:t,t:a}){var s;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.viewProduct||"View Product"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:20})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.code}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.code})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.product}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.category}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.stock}),r.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.currentStock," ",e.unit]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.expiry}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.earliestExpiry?new Date(e.earliestExpiry).toLocaleDateString():"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.status}),r.jsx("p",{children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V5(e.status)}`,children:G5(e.status,a)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.supplier||"Supplier"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:((s=e.supplier)==null?void 0:s.name)||"-"})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",children:a.close||"Close"})})]})})}function a7({product:e,onClose:t,onSuccess:a,t:s}){const[o,l]=q.useState({name:e.name,code:e.code,category:e.category,unit:e.unit,minStock:e.minStock||0,maxStock:e.maxStock||0}),[d,g]=q.useState(!1),[f,m]=q.useState({}),y=(w,U)=>{l(L=>({...L,[w]:U})),f[w]&&m(L=>({...L,[w]:""}))},N=()=>{const w={};return o.name.trim()||(w.name=s.required||"This field is required"),o.code.trim()||(w.code=s.required||"This field is required"),o.category.trim()||(w.category=s.required||"This field is required"),o.unit.trim()||(w.unit=s.required||"This field is required"),o.minStock<0&&(w.minStock=s.invalidMinStock||"Minimum stock cannot be negative"),o.maxStock<o.minStock&&(w.maxStock=s.invalidMaxStock||"Maximum stock must be greater than minimum stock"),m(w),Object.keys(w).length===0},B=async w=>{if(w.preventDefault(),!!N()){g(!0);try{await xr.updateProduct(e.id,o),a()}catch(U){console.error("Error updating product:",U)}finally{g(!1)}}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s.editProduct||"Edit Product"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:20})})]}),r.jsxs("form",{onSubmit:B,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.code," *"]}),r.jsx("input",{type:"text",value:o.code,onChange:w=>y("code",w.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.code?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.code&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.code})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.product," *"]}),r.jsx("input",{type:"text",value:o.name,onChange:w=>y("name",w.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.name?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.category," *"]}),r.jsx("input",{type:"text",value:o.category,onChange:w=>y("category",w.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.category?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.category&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.category})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.unit," *"]}),r.jsx("input",{type:"text",value:o.unit,onChange:w=>y("unit",w.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.unit?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.unit&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.unit})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s.minStock||"Min Stock"}),r.jsx("input",{type:"number",min:"0",value:o.minStock,onChange:w=>y("minStock",parseInt(w.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.minStock?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.minStock&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.minStock})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s.maxStock||"Max Stock"}),r.jsx("input",{type:"number",min:"0",value:o.maxStock,onChange:w=>y("maxStock",parseInt(w.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.maxStock?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),f.maxStock&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.maxStock})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:s.cancel||"Cancel"}),r.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s.loading||"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),s.save||"Save"]})})]})]})]})})}function s7({isOpen:e,onClose:t,onSuccess:a}){const{language:s}=zt(),[o,l]=q.useState(!1),[d,g]=q.useState(""),[f,m]=q.useState({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""}),y={fr:{title:"Créer un nouveau produit",productName:"Nom du produit",productNamePlaceholder:"Entrez le nom du produit",description:"Description",descriptionPlaceholder:"Description détaillée du produit",category:"Catégorie",categoryPlaceholder:"Sélectionnez une catégorie",sku:"Code SKU",skuPlaceholder:"Code unique du produit",barcode:"Code-barres",barcodePlaceholder:"Code-barres du produit",unitPrice:"Prix unitaire",costPrice:"Prix de revient",unit:"Unité",unitPlaceholder:"Ex: pièce, boîte, ml",minStock:"Stock minimum",maxStock:"Stock maximum",reorderLevel:"Niveau de réapprovisionnement",supplier:"Fournisseur",supplierPlaceholder:"Nom du fournisseur",expirationDate:"Date d'expiration",batchNumber:"Numéro de lot",batchNumberPlaceholder:"Numéro de lot du produit",location:"Emplacement",locationPlaceholder:"Emplacement de stockage",notes:"Notes",notesPlaceholder:"Notes supplémentaires",save:"Enregistrer le produit",cancel:"Annuler",required:"Champ obligatoire",success:"Produit créé avec succès!",error:"Erreur lors de la création du produit",categories:{reagents:"Réactifs",consumables:"Consommables",equipment:"Équipements",maintenance:"Maintenance",calibration:"Étalonnage",quality_control:"Contrôle qualité",other:"Autre"}},en:{title:"Create New Product",productName:"Product Name",productNamePlaceholder:"Enter product name",description:"Description",descriptionPlaceholder:"Detailed product description",category:"Category",categoryPlaceholder:"Select a category",sku:"SKU Code",skuPlaceholder:"Unique product code",barcode:"Barcode",barcodePlaceholder:"Product barcode",unitPrice:"Unit Price",costPrice:"Cost Price",unit:"Unit",unitPlaceholder:"Ex: piece, box, ml",minStock:"Minimum Stock",maxStock:"Maximum Stock",reorderLevel:"Reorder Level",supplier:"Supplier",supplierPlaceholder:"Supplier name",expirationDate:"Expiration Date",batchNumber:"Batch Number",batchNumberPlaceholder:"Product batch number",location:"Location",locationPlaceholder:"Storage location",notes:"Notes",notesPlaceholder:"Additional notes",save:"Save Product",cancel:"Cancel",required:"Required field",success:"Product created successfully!",error:"Error creating product",categories:{reagents:"Reagents",consumables:"Consumables",equipment:"Equipment",maintenance:"Maintenance",calibration:"Calibration",quality_control:"Quality Control",other:"Other"}}}[s],N=R=>{const{name:C,value:I}=R.target;m(T=>({...T,[C]:C.includes("Price")||C.includes("Stock")||C==="reorderLevel"?parseFloat(I)||0:I}))},B=()=>{const R=Date.now().toString().slice(-6),C=Math.random().toString(36).substring(2,5).toUpperCase();return`${f.category?f.category.substring(0,3).toUpperCase():"PRD"}-${C}-${R}`},w=()=>{m(R=>({...R,sku:B()}))},U=()=>f.name.trim()?f.category?f.sku.trim()?f.unit.trim()?!0:(g("L'unité est obligatoire"),!1):(g("Le code SKU est obligatoire"),!1):(g("La catégorie est obligatoire"),!1):(g("Le nom du produit est obligatoire"),!1),L=async R=>{if(R.preventDefault(),g(""),!!U()){l(!0);try{const C={...f,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),id:`product_${Date.now()}`,currentStock:0,status:"active"};await new Promise(T=>setTimeout(T,1e3));const I=JSON.parse(localStorage.getItem("sil_products")||"[]");I.push(C),localStorage.setItem("sil_products",JSON.stringify(I)),a==null||a(C),t(),m({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""})}catch{g(y.error)}finally{l(!1)}}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(vs,{size:24,className:"text-blue-600"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:y.title})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:24})})]}),d&&r.jsx("div",{className:"mx-6 mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(eo,{size:20,className:"text-red-500 mr-3"}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:d})]})}),r.jsxs("form",{onSubmit:L,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.productName," *"]}),r.jsx("input",{type:"text",name:"name",value:f.name,onChange:N,placeholder:y.productNamePlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.category," *"]}),r.jsxs("select",{name:"category",value:f.category,onChange:N,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:y.categoryPlaceholder}),r.jsx("option",{value:"reagents",children:y.categories.reagents}),r.jsx("option",{value:"consumables",children:y.categories.consumables}),r.jsx("option",{value:"equipment",children:y.categories.equipment}),r.jsx("option",{value:"maintenance",children:y.categories.maintenance}),r.jsx("option",{value:"calibration",children:y.categories.calibration}),r.jsx("option",{value:"quality_control",children:y.categories.quality_control}),r.jsx("option",{value:"other",children:y.categories.other})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.sku," *"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",name:"sku",value:f.sku,onChange:N,placeholder:y.skuPlaceholder,className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx("button",{type:"button",onClick:w,className:"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-500 text-sm",children:"Auto"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.unit," *"]}),r.jsx("input",{type:"text",name:"unit",value:f.unit,onChange:N,placeholder:y.unitPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.unitPrice}),r.jsx("input",{type:"number",name:"unitPrice",value:f.unitPrice,onChange:N,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.costPrice}),r.jsx("input",{type:"number",name:"costPrice",value:f.costPrice,onChange:N,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.minStock}),r.jsx("input",{type:"number",name:"minStock",value:f.minStock,onChange:N,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.reorderLevel}),r.jsx("input",{type:"number",name:"reorderLevel",value:f.reorderLevel,onChange:N,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.supplier}),r.jsx("input",{type:"text",name:"supplier",value:f.supplier,onChange:N,placeholder:y.supplierPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.location}),r.jsx("input",{type:"text",name:"location",value:f.location,onChange:N,placeholder:y.locationPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.description}),r.jsx("textarea",{name:"description",value:f.description,onChange:N,placeholder:y.descriptionPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:y.cancel}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),y.save]})})]})]})]})}):null}function n7(){const{user:e,language:t}=zt(),a=Dn(),[s,o]=q.useState({productId:"",quantity:0,lotNumber:"",expiryDate:"",location:"Main Storage",unitCost:0,notes:"",receivedBy:(e==null?void 0:e.name)||""}),[l,d]=q.useState([]),[g,f]=q.useState(null),[m,y]=q.useState(!1),[N,B]=q.useState(!1),[w,U]=q.useState(!1),[L,R]=q.useState(""),[C,I]=q.useState(!1),[T,z]=q.useState(!1),[D,ae]=q.useState(""),X={fr:{title:"Ajouter Stock",subtitle:"Enregistrer un nouvel arrivage de stock",backToStock:"Retour aux stocks",product:"Produit",selectProduct:"Sélectionner un produit",searchProduct:"Rechercher un produit...",quantity:"Quantité",lotNumber:"Numéro de lot",expiryDate:"Date d'expiration",location:"Emplacement",unitCost:"Coût unitaire",notes:"Notes",receivedBy:"Reçu par",save:"Enregistrer",cancel:"Annuler",createNewProduct:"Créer un nouveau produit",required:"Ce champ est requis",success:"Stock ajouté avec succès!",error:"Erreur lors de l'ajout du stock",loading:"Enregistrement...",noProducts:"Aucun produit trouvé",additionalNotes:"Notes supplémentaires...",redirecting:"Redirection vers le tableau de bord..."},en:{title:"Add Stock Entry",subtitle:"Record new stock arrival",backToStock:"Back to Stock",product:"Product",selectProduct:"Select a product",searchProduct:"Search for a product...",quantity:"Quantity",lotNumber:"Lot Number",expiryDate:"Expiry Date",location:"Location",unitCost:"Unit Cost",notes:"Notes",receivedBy:"Received By",save:"Save",cancel:"Cancel",createNewProduct:"Create New Product",required:"This field is required",success:"Stock added successfully!",error:"Error adding stock",loading:"Saving...",noProducts:"No products found",additionalNotes:"Additional notes...",redirecting:"Redirecting to dashboard..."}}[t];q.useEffect(()=>{_()},[]);const _=async()=>{try{y(!0);const ne=await xr.getProducts();d(ne.products||[])}catch(ne){console.error("Error loading products:",ne),R("Erreur lors du chargement des produits")}finally{y(!1)}},ie=ne=>{const{name:te,value:Be}=ne.target;o(fe=>({...fe,[te]:te==="quantity"||te==="unitCost"?parseFloat(Be)||0:Be}))},oe=ne=>{f(ne),o(te=>({...te,productId:ne.id})),I(!1),ae("")},W=l.filter(ne=>ne.name.toLowerCase().includes(D.toLowerCase())||ne.code.toLowerCase().includes(D.toLowerCase())),$=()=>s.productId?s.quantity<=0?(R("La quantité doit être supérieure à 0"),!1):s.lotNumber.trim()?s.location.trim()?!0:(R("L'emplacement est requis"),!1):(R("Le numéro de lot est requis"),!1):(R("Veuillez sélectionner un produit"),!1),Z=async ne=>{if(ne.preventDefault(),R(""),!!$()){B(!0);try{const te={productId:s.productId,quantity:s.quantity,lotNumber:s.lotNumber,expiryDate:s.expiryDate||null,location:s.location,unitCost:s.unitCost,notes:s.notes,receivedBy:s.receivedBy,receivedAt:new Date().toISOString(),type:"stock_in"};await xr.addStock(te),U(!0),setTimeout(()=>{a("/stock/dashboard")},2e3)}catch(te){console.error("Error adding stock:",te),R("Erreur lors de l'ajout du stock. Veuillez réessayer.")}finally{B(!1)}}},J=ne=>{d(te=>[...te,ne]),f(ne),o(te=>({...te,productId:ne.id}))};return w?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Br,{size:64,className:"mx-auto text-green-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:X.success}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:[g==null?void 0:g.name," - ",s.quantity," ",g==null?void 0:g.unit]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:X.redirecting}),r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mt-4"})]})})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:[r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>a("/stock/dashboard"),className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mb-4",children:[r.jsx(ic,{size:20,className:"mr-2"}),X.backToStock]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(vs,{size:32,className:"text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:X.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:X.subtitle})]})]})]}),L&&r.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(eo,{size:20,className:"text-red-500 mr-3"}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:L})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsxs("form",{onSubmit:Z,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[X.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",readOnly:!0,placeholder:X.selectProduct,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600 cursor-pointer",value:g?`${g.name} (${g.code})`:"",onClick:()=>I(!0)}),r.jsx(na,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[X.quantity," *"]}),r.jsx("input",{type:"number",name:"quantity",value:s.quantity,onChange:ie,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"0",min:"0",step:"1",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[X.lotNumber," *"]}),r.jsx("input",{type:"text",name:"lotNumber",value:s.lotNumber,onChange:ie,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"LOT-001",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:X.expiryDate}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",name:"expiryDate",value:s.expiryDate,onChange:ie,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600"}),r.jsx(ln,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[X.location," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",name:"location",value:s.location,onChange:ie,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"Main Storage",required:!0}),r.jsx(oc,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:X.unitCost}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",name:"unitCost",value:s.unitCost,onChange:ie,step:"0.01",className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"0.00",min:"0"}),r.jsx(Os,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:X.receivedBy}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",name:"receivedBy",value:s.receivedBy,onChange:ie,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),r.jsx(Oa,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:X.notes}),r.jsx("textarea",{name:"notes",value:s.notes,onChange:ie,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:X.additionalNotes})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:()=>a("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:X.cancel}),r.jsx("button",{type:"submit",disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:N?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),X.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),X.save]})})]})]})})]}),C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:X.selectProduct}),r.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"×"})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex space-x-2 mb-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",placeholder:X.searchProduct,value:D,onChange:ne=>ae(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(na,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),r.jsxs("button",{onClick:()=>{I(!1),z(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(pa,{size:16,className:"mr-2"}),X.createNewProduct]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:m?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):W.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:X.noProducts}):r.jsx("div",{className:"space-y-2",children:W.map(ne=>r.jsxs("button",{onClick:()=>oe(ne),className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ne.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ne.code," • ",ne.category," • ",ne.unit]})]},ne.id))})})]})]})}),r.jsx(s7,{isOpen:T,onClose:()=>z(!1),onSuccess:J})]})}function i7(){const{language:e}=zt(),t=Dn(),[a,s]=q.useState(!1),[o,l]=q.useState(!1),[d,g]=q.useState(""),[f,m]=q.useState({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""}),y={fr:{title:"Créer un nouveau produit",subtitle:"Ajouter un nouveau produit au système de gestion des stocks",backToStock:"Retour aux stocks",productInfo:"Informations du produit",pricingInfo:"Informations de prix",stockInfo:"Informations de stock",additionalInfo:"Informations supplémentaires",productName:"Nom du produit",productNamePlaceholder:"Entrez le nom du produit",description:"Description",descriptionPlaceholder:"Description détaillée du produit",category:"Catégorie",categoryPlaceholder:"Sélectionnez une catégorie",sku:"Code SKU",skuPlaceholder:"Code unique du produit",barcode:"Code-barres",barcodePlaceholder:"Code-barres du produit",unitPrice:"Prix unitaire",costPrice:"Prix de revient",unit:"Unité",unitPlaceholder:"Ex: pièce, boîte, ml",minStock:"Stock minimum",maxStock:"Stock maximum",reorderLevel:"Niveau de réapprovisionnement",supplier:"Fournisseur",supplierPlaceholder:"Nom du fournisseur",expirationDate:"Date d'expiration",batchNumber:"Numéro de lot",batchNumberPlaceholder:"Numéro de lot du produit",location:"Emplacement",locationPlaceholder:"Emplacement de stockage",notes:"Notes",notesPlaceholder:"Notes supplémentaires",save:"Enregistrer le produit",cancel:"Annuler",required:"Champ obligatoire",success:"Produit créé avec succès!",error:"Erreur lors de la création du produit",categories:{reagents:"Réactifs",consumables:"Consommables",equipment:"Équipements",maintenance:"Maintenance",calibration:"Étalonnage",quality_control:"Contrôle qualité",other:"Autre"}},en:{title:"Create New Product",subtitle:"Add a new product to the stock management system",backToStock:"Back to Stock",productInfo:"Product Information",pricingInfo:"Pricing Information",stockInfo:"Stock Information",additionalInfo:"Additional Information",productName:"Product Name",productNamePlaceholder:"Enter product name",description:"Description",descriptionPlaceholder:"Detailed product description",category:"Category",categoryPlaceholder:"Select a category",sku:"SKU Code",skuPlaceholder:"Unique product code",barcode:"Barcode",barcodePlaceholder:"Product barcode",unitPrice:"Unit Price",costPrice:"Cost Price",unit:"Unit",unitPlaceholder:"Ex: piece, box, ml",minStock:"Minimum Stock",maxStock:"Maximum Stock",reorderLevel:"Reorder Level",supplier:"Supplier",supplierPlaceholder:"Supplier name",expirationDate:"Expiration Date",batchNumber:"Batch Number",batchNumberPlaceholder:"Product batch number",location:"Location",locationPlaceholder:"Storage location",notes:"Notes",notesPlaceholder:"Additional notes",save:"Save Product",cancel:"Cancel",required:"Required field",success:"Product created successfully!",error:"Error creating product",categories:{reagents:"Reagents",consumables:"Consumables",equipment:"Equipment",maintenance:"Maintenance",calibration:"Calibration",quality_control:"Quality Control",other:"Other"}}}[e],N=C=>{const{name:I,value:T}=C.target;m(z=>({...z,[I]:I.includes("Price")||I.includes("Stock")||I==="reorderLevel"?parseFloat(T)||0:T}))},B=()=>{const C=Date.now().toString().slice(-6),I=Math.random().toString(36).substring(2,5).toUpperCase();return`${f.category?f.category.substring(0,3).toUpperCase():"PRD"}-${I}-${C}`},w=()=>{m(C=>({...C,sku:B()}))},U=()=>f.name.trim()?f.category?f.sku.trim()?f.unit.trim()?f.unitPrice<0||f.costPrice<0?(g("Les prix ne peuvent pas être négatifs"),!1):f.minStock<0||f.maxStock<0||f.reorderLevel<0?(g("Les quantités de stock ne peuvent pas être négatives"),!1):f.maxStock>0&&f.minStock>f.maxStock?(g("Le stock minimum ne peut pas être supérieur au stock maximum"),!1):!0:(g("L'unité est obligatoire"),!1):(g("Le code SKU est obligatoire"),!1):(g("La catégorie est obligatoire"),!1):(g("Le nom du produit est obligatoire"),!1),L=async C=>{if(C.preventDefault(),g(""),!!U()){s(!0);try{const I={...f,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),id:`product_${Date.now()}`,currentStock:0,status:"active"};await new Promise(z=>setTimeout(z,1e3));const T=JSON.parse(localStorage.getItem("sil_products")||"[]");T.push(I),localStorage.setItem("sil_products",JSON.stringify(T)),l(!0),setTimeout(()=>{t("/stock/dashboard")},2e3)}catch{g(y.error)}finally{s(!1)}}},R=()=>{t("/stock/dashboard")};return o?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Br,{size:64,className:"mx-auto text-green-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:y.success}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:['Le produit "',f.name,'" a été créé avec succès.']}),r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})]})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:R,className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mb-4",children:[r.jsx(ic,{size:20,className:"mr-2"}),y.backToStock]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(vs,{size:32,className:"text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:y.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:y.subtitle})]})]})]}),d&&r.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(eo,{size:20,className:"text-red-500 mr-3"}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:d})]})}),r.jsxs("form",{onSubmit:L,className:"space-y-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(B6,{size:20,className:"mr-2 text-blue-600"}),y.productInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.productName," *"]}),r.jsx("input",{type:"text",name:"name",value:f.name,onChange:N,placeholder:y.productNamePlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.category," *"]}),r.jsxs("select",{name:"category",value:f.category,onChange:N,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:y.categoryPlaceholder}),r.jsx("option",{value:"reagents",children:y.categories.reagents}),r.jsx("option",{value:"consumables",children:y.categories.consumables}),r.jsx("option",{value:"equipment",children:y.categories.equipment}),r.jsx("option",{value:"maintenance",children:y.categories.maintenance}),r.jsx("option",{value:"calibration",children:y.categories.calibration}),r.jsx("option",{value:"quality_control",children:y.categories.quality_control}),r.jsx("option",{value:"other",children:y.categories.other})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.description}),r.jsx("textarea",{name:"description",value:f.description,onChange:N,placeholder:y.descriptionPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.sku," *"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",name:"sku",value:f.sku,onChange:N,placeholder:y.skuPlaceholder,className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx("button",{type:"button",onClick:w,className:"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-500",children:"Générer"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.barcode}),r.jsxs("div",{className:"relative",children:[r.jsx(JN,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),r.jsx("input",{type:"text",name:"barcode",value:f.barcode,onChange:N,placeholder:y.barcodePlaceholder,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.unit," *"]}),r.jsx("input",{type:"text",name:"unit",value:f.unit,onChange:N,placeholder:y.unitPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(Os,{size:20,className:"mr-2 text-green-600"}),y.pricingInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.unitPrice}),r.jsx("input",{type:"number",name:"unitPrice",value:f.unitPrice,onChange:N,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.costPrice}),r.jsx("input",{type:"number",name:"costPrice",value:f.costPrice,onChange:N,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(vs,{size:20,className:"mr-2 text-purple-600"}),y.stockInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.minStock}),r.jsx("input",{type:"number",name:"minStock",value:f.minStock,onChange:N,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.maxStock}),r.jsx("input",{type:"number",name:"maxStock",value:f.maxStock,onChange:N,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.reorderLevel}),r.jsx("input",{type:"number",name:"reorderLevel",value:f.reorderLevel,onChange:N,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(Jr,{size:20,className:"mr-2 text-orange-600"}),y.additionalInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.supplier}),r.jsxs("div",{className:"relative",children:[r.jsx(ro,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),r.jsx("input",{type:"text",name:"supplier",value:f.supplier,onChange:N,placeholder:y.supplierPlaceholder,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.expirationDate}),r.jsxs("div",{className:"relative",children:[r.jsx(ln,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),r.jsx("input",{type:"date",name:"expirationDate",value:f.expirationDate,onChange:N,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.batchNumber}),r.jsx("input",{type:"text",name:"batchNumber",value:f.batchNumber,onChange:N,placeholder:y.batchNumberPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.location}),r.jsx("input",{type:"text",name:"location",value:f.location,onChange:N,placeholder:y.locationPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.notes}),r.jsx("textarea",{name:"notes",value:f.notes,onChange:N,placeholder:y.notesPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{type:"button",onClick:R,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:y.cancel}),r.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),y.save]})})]})]})]})})}function o7(){const{user:e,language:t}=zt(),a=Dn(),[s,o]=q.useState({productId:"",quantity:0,usedBy:(e==null?void 0:e.name)||"",department:"",purpose:"",notes:""}),[l,d]=q.useState([]),[g,f]=q.useState(!1),[m,y]=q.useState({}),[N,B]=q.useState(!1),[w,U]=q.useState(""),[L,R]=q.useState(null),C={title:t==="fr"?"Utiliser Stock":"Use Stock",subtitle:t==="fr"?"Enregistrer l'utilisation de stock":"Record stock usage",product:t==="fr"?"Produit":"Product",selectProduct:t==="fr"?"Sélectionner un produit":"Select a product",searchProduct:t==="fr"?"Rechercher un produit...":"Search for a product...",quantity:t==="fr"?"Quantité utilisée":"Quantity Used",usedBy:t==="fr"?"Utilisé par":"Used By",department:t==="fr"?"Département":"Department",purpose:t==="fr"?"Objectif":"Purpose",notes:"Notes",currentStock:t==="fr"?"Stock actuel":"Current Stock",availableStock:t==="fr"?"Stock disponible":"Available Stock",save:t==="fr"?"Enregistrer":"Save",cancel:t==="fr"?"Annuler":"Cancel",back:t==="fr"?"Retour":"Back",required:t==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:t==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",insufficientStock:t==="fr"?"Stock insuffisant":"Insufficient stock",success:t==="fr"?"Utilisation enregistrée avec succès":"Usage recorded successfully",error:t==="fr"?"Erreur lors de l'enregistrement":"Error recording usage",loading:t==="fr"?"Enregistrement...":"Saving...",noProducts:t==="fr"?"Aucun produit trouvé":"No products found",departments:{lab:t==="fr"?"Laboratoire":"Laboratory",research:t==="fr"?"Recherche":"Research",quality:t==="fr"?"Contrôle Qualité":"Quality Control",maintenance:"Maintenance",other:t==="fr"?"Autre":"Other"},purposes:{testing:t==="fr"?"Tests":"Testing",calibration:t==="fr"?"Étalonnage":"Calibration",maintenance:"Maintenance",research:t==="fr"?"Recherche":"Research",other:t==="fr"?"Autre":"Other"}};q.useEffect(()=>{I()},[]);const I=async()=>{try{const X=await xr.getProducts({limit:100});d(Array.isArray(X)?X:[])}catch(X){console.error("Error loading products:",X)}},T=()=>{const X={};return s.productId||(X.productId=C.required),s.quantity<=0?X.quantity=C.invalidQuantity:L&&s.quantity>L.currentStock&&(X.quantity=C.insufficientStock),s.department.trim()||(X.department=C.required),s.purpose.trim()||(X.purpose=C.required),y(X),Object.keys(X).length===0},z=async X=>{if(X.preventDefault(),!!T()){f(!0);try{await xr.useStock(s),alert(C.success),a("/stock/dashboard")}catch(_){console.error("Error using stock:",_),alert(C.error)}finally{f(!1)}}},D=(X,_)=>{o(ie=>({...ie,[X]:_})),m[X]&&y(ie=>({...ie,[X]:""}))},ae=l.filter(X=>X.name.toLowerCase().includes(w.toLowerCase())||X.code.toLowerCase().includes(w.toLowerCase()));return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>a("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[r.jsx(ic,{size:20,className:"mr-2"}),C.back]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:C.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:C.subtitle})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsxs("form",{onSubmit:z,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[C.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:(L==null?void 0:L.name)||"",onClick:()=>B(!0),readOnly:!0,placeholder:C.selectProduct,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(na,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),m.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.productId})]}),L&&r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[C.currentStock,":"]}),r.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[L.currentStock," ",L.unit]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[C.quantity," *"]}),r.jsx("input",{type:"number",value:s.quantity,onChange:X=>D("quantity",parseInt(X.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),m.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.quantity})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[C.department," *"]}),r.jsxs("select",{value:s.department,onChange:X=>D("department",X.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.department?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:C.selectProduct}),r.jsx("option",{value:C.departments.lab,children:C.departments.lab}),r.jsx("option",{value:C.departments.research,children:C.departments.research}),r.jsx("option",{value:C.departments.quality,children:C.departments.quality}),r.jsx("option",{value:C.departments.maintenance,children:C.departments.maintenance}),r.jsx("option",{value:C.departments.other,children:C.departments.other})]}),m.department&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.department})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[C.purpose," *"]}),r.jsxs("select",{value:s.purpose,onChange:X=>D("purpose",X.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.purpose?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:C.selectProduct}),r.jsx("option",{value:C.purposes.testing,children:C.purposes.testing}),r.jsx("option",{value:C.purposes.calibration,children:C.purposes.calibration}),r.jsx("option",{value:C.purposes.maintenance,children:C.purposes.maintenance}),r.jsx("option",{value:C.purposes.research,children:C.purposes.research}),r.jsx("option",{value:C.purposes.other,children:C.purposes.other})]}),m.purpose&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.purpose})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:C.usedBy}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:s.usedBy,onChange:X=>D("usedBy",X.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),r.jsx(Oa,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:C.notes}),r.jsx("textarea",{value:s.notes,onChange:X=>D("notes",X.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:()=>a("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:C.cancel}),r.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),C.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),C.save]})})]})]})}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:C.selectProduct}),r.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:C.searchProduct,value:w,onChange:X=>U(X.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ae.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:C.noProducts}):ae.map(X=>r.jsxs("button",{onClick:()=>{o(_=>({..._,productId:X.id})),R(X),U(X.name),B(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:X.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[X.code," • ",X.category," • ",X.unit]}),r.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[C.currentStock,": ",X.currentStock]})]},X.id))})})]})})]})}function l7({onClose:e,onSuccess:t}){const{user:a,language:s}=zt(),[o,l]=q.useState({productId:"",fromLocation:"",toLocation:"",quantity:0,transferredBy:(a==null?void 0:a.name)||"",notes:""}),[d,g]=q.useState([]),[f,m]=q.useState(!1),[y,N]=q.useState({}),[B,w]=q.useState(!1),[U,L]=q.useState(""),[R,C]=q.useState(null),I={title:s==="fr"?"Transférer Stock":"Transfer Stock",subtitle:s==="fr"?"Déplacer du stock entre emplacements":"Move stock between locations",product:s==="fr"?"Produit":"Product",selectProduct:s==="fr"?"Sélectionner un produit":"Select a product",searchProduct:s==="fr"?"Rechercher un produit...":"Search for a product...",fromLocation:s==="fr"?"Emplacement source":"Source Location",toLocation:s==="fr"?"Emplacement destination":"Destination Location",quantity:s==="fr"?"Quantité à transférer":"Quantity to Transfer",transferredBy:s==="fr"?"Transféré par":"Transferred By",notes:"Notes",currentStock:s==="fr"?"Stock actuel":"Current Stock",save:s==="fr"?"Transférer":"Transfer",cancel:s==="fr"?"Annuler":"Cancel",required:s==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:s==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",insufficientStock:s==="fr"?"Stock insuffisant à l'emplacement source":"Insufficient stock at source location",sameLocation:s==="fr"?"Les emplacements source et destination doivent être différents":"Source and destination locations must be different",success:s==="fr"?"Transfert effectué avec succès":"Transfer completed successfully",error:s==="fr"?"Erreur lors du transfert":"Error during transfer",loading:s==="fr"?"Transfert en cours...":"Transferring...",noProducts:s==="fr"?"Aucun produit trouvé":"No products found",commonLocations:{fridge:s==="fr"?"Réfrigérateur":"Fridge",freezer:s==="fr"?"Congélateur":"Freezer",cabinet1:s==="fr"?"Armoire 1":"Cabinet 1",cabinet2:s==="fr"?"Armoire 2":"Cabinet 2",cabinet3:s==="fr"?"Armoire 3":"Cabinet 3",shelf1:s==="fr"?"Étagère 1":"Shelf 1",shelf2:s==="fr"?"Étagère 2":"Shelf 2",other:s==="fr"?"Autre":"Other"}};q.useEffect(()=>{T()},[]);const T=async()=>{try{const _=await xr.getProducts({limit:100});g(_.products||[])}catch(_){console.error("Error loading products:",_)}},z=()=>{const _={};return o.productId||(_.productId=I.required),o.fromLocation||(_.fromLocation=I.required),o.toLocation||(_.toLocation=I.required),o.fromLocation===o.toLocation&&(_.toLocation=I.sameLocation),(!o.quantity||o.quantity<=0)&&(_.quantity=I.invalidQuantity),o.transferredBy||(_.transferredBy=I.required),R&&o.quantity>R.currentStock&&(_.quantity=I.insufficientStock),N(_),Object.keys(_).length===0},D=async _=>{if(_.preventDefault(),!!z()){m(!0);try{await xr.transferStock(o),t==null||t(),e()}catch(ie){console.error("Error transferring stock:",ie),alert(I.error)}finally{m(!1)}}},ae=(_,ie)=>{l(oe=>({...oe,[_]:ie})),y[_]&&N(oe=>({...oe,[_]:""}))},X=d.filter(_=>_.name.toLowerCase().includes(U.toLowerCase())||_.code.toLowerCase().includes(U.toLowerCase())||_.category.toLowerCase().includes(U.toLowerCase()));return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:I.subtitle})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:24})})]}),r.jsxs("form",{onSubmit:D,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[I.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:I.selectProduct,value:U,onChange:_=>L(_.target.value),onClick:()=>w(!0),readOnly:!0,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${y.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(na,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),y.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.productId}),R&&r.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:[I.currentStock,": ",R.currentStock," ",R.unit]}),R.currentStock<=0&&r.jsx(or,{className:"h-4 w-4 text-red-500"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[I.fromLocation," *"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:o.fromLocation,onChange:_=>ae("fromLocation",_.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${y.fromLocation?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:I.commonLocations.other}),r.jsx("option",{value:"fridge",children:I.commonLocations.fridge}),r.jsx("option",{value:"freezer",children:I.commonLocations.freezer}),r.jsx("option",{value:"cabinet1",children:I.commonLocations.cabinet1}),r.jsx("option",{value:"cabinet2",children:I.commonLocations.cabinet2}),r.jsx("option",{value:"cabinet3",children:I.commonLocations.cabinet3}),r.jsx("option",{value:"shelf1",children:I.commonLocations.shelf1}),r.jsx("option",{value:"shelf2",children:I.commonLocations.shelf2})]}),r.jsx(oc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 pointer-events-none"})]}),y.fromLocation&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.fromLocation})]}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(x0,{className:"h-6 w-6 text-gray-400"})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[I.toLocation," *"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:o.toLocation,onChange:_=>ae("toLocation",_.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${y.toLocation?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:I.commonLocations.other}),r.jsx("option",{value:"fridge",children:I.commonLocations.fridge}),r.jsx("option",{value:"freezer",children:I.commonLocations.freezer}),r.jsx("option",{value:"cabinet1",children:I.commonLocations.cabinet1}),r.jsx("option",{value:"cabinet2",children:I.commonLocations.cabinet2}),r.jsx("option",{value:"cabinet3",children:I.commonLocations.cabinet3}),r.jsx("option",{value:"shelf1",children:I.commonLocations.shelf1}),r.jsx("option",{value:"shelf2",children:I.commonLocations.shelf2})]}),r.jsx(oc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 pointer-events-none"})]}),y.toLocation&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.toLocation})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[I.quantity," *"]}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:o.quantity,onChange:_=>ae("quantity",parseFloat(_.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${y.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),y.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.quantity})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[I.transferredBy," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o.transferredBy,onChange:_=>ae("transferredBy",_.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${y.transferredBy?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(Oa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),y.transferredBy&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.transferredBy})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:I.notes}),r.jsx("textarea",{value:o.notes,onChange:_=>ae("notes",_.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes about the transfer..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:I.cancel}),r.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:f?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),I.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),I.save]})})]})]})]}),B&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:I.selectProduct}),r.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:I.searchProduct,value:U,onChange:_=>L(_.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:X.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:I.noProducts}):X.map(_=>r.jsxs("button",{onClick:()=>{l(ie=>({...ie,productId:_.id})),L(_.name),C(_),w(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:_.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.code," • ",_.category," • ",_.unit]}),r.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:[I.currentStock,": ",_.currentStock," ",_.unit]})]},_.id))})})]})})]})}function c7(){const{user:e,language:t}=zt(),a=Dn(),[s,o]=q.useState({productId:"",newQuantity:0,reason:"",adjustedBy:(e==null?void 0:e.name)||"",notes:""}),[l,d]=q.useState([]),[g,f]=q.useState(!1),[m,y]=q.useState({}),[N,B]=q.useState(!1),[w,U]=q.useState(""),[L,R]=q.useState(null),C={title:t==="fr"?"Ajuster Inventaire":"Adjust Inventory",subtitle:t==="fr"?"Corriger manuellement les niveaux de stock":"Manually correct stock levels",product:t==="fr"?"Produit":"Product",selectProduct:t==="fr"?"Sélectionner un produit":"Select a product",searchProduct:t==="fr"?"Rechercher un produit...":"Search for a product...",currentQuantity:t==="fr"?"Quantité actuelle":"Current Quantity",newQuantity:t==="fr"?"Nouvelle quantité":"New Quantity",difference:t==="fr"?"Différence":"Difference",reason:t==="fr"?"Raison de l'ajustement":"Adjustment Reason",adjustedBy:t==="fr"?"Ajusté par":"Adjusted By",notes:"Notes",save:t==="fr"?"Ajuster":"Adjust",cancel:t==="fr"?"Annuler":"Cancel",back:t==="fr"?"Retour":"Back",required:t==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:t==="fr"?"La quantité doit être positive":"Quantity must be positive",invalidReason:t==="fr"?"La raison doit contenir au moins 5 caractères":"Reason must be at least 5 characters",success:t==="fr"?"Ajustement effectué avec succès":"Adjustment completed successfully",error:t==="fr"?"Erreur lors de l'ajustement":"Error during adjustment",loading:t==="fr"?"Ajustement en cours...":"Adjusting...",noProducts:t==="fr"?"Aucun produit trouvé":"No products found",reasons:{damage:t==="fr"?"Produit endommagé":"Damaged product",loss:t==="fr"?"Perte de stock":"Stock loss",found:t==="fr"?"Stock retrouvé":"Stock found",correction:t==="fr"?"Correction d'erreur":"Error correction",audit:t==="fr"?"Audit d'inventaire":"Inventory audit",other:t==="fr"?"Autre":"Other"}};q.useEffect(()=>{I()},[]);const I=async()=>{try{const oe=await xr.getProducts({limit:100});d(Array.isArray(oe)?oe:[])}catch(oe){console.error("Error loading products:",oe)}},T=()=>{const oe={};return s.productId||(oe.productId=C.required),s.newQuantity<0&&(oe.newQuantity=C.invalidQuantity),(!s.reason.trim()||s.reason.trim().length<5)&&(oe.reason=C.invalidReason),y(oe),Object.keys(oe).length===0},z=async oe=>{if(oe.preventDefault(),!!T()){f(!0);try{await xr.adjustInventory(s),alert(C.success),a("/stock/dashboard")}catch(W){console.error("Error adjusting inventory:",W),alert(C.error)}finally{f(!1)}}},D=(oe,W)=>{o($=>({...$,[oe]:W})),m[oe]&&y($=>({...$,[oe]:""}))},ae=()=>L?s.newQuantity-L.currentStock:0,X=()=>{const oe=ae();return oe>0?"text-green-600 dark:text-green-400":oe<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"},_=()=>{const oe=ae();return oe>0?r.jsx(ws,{size:16,className:"text-green-600 dark:text-green-400"}):oe<0?r.jsx(hl,{size:16,className:"text-red-600 dark:text-red-400"}):null},ie=l.filter(oe=>oe.name.toLowerCase().includes(w.toLowerCase())||oe.code.toLowerCase().includes(w.toLowerCase()));return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>a("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[r.jsx(ic,{size:20,className:"mr-2"}),C.back]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:C.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:C.subtitle})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsxs("form",{onSubmit:z,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[C.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:(L==null?void 0:L.name)||"",onClick:()=>B(!0),readOnly:!0,placeholder:C.selectProduct,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(na,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),m.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.productId})]}),L&&r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[C.currentQuantity,":"]}),r.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[L.currentStock," ",L.unit]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[C.newQuantity," *"]}),r.jsx("input",{type:"number",value:s.newQuantity,onChange:oe=>D("newQuantity",parseInt(oe.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.newQuantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),m.newQuantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.newQuantity})]}),L&&r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[C.difference,":"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[_(),r.jsxs("span",{className:`text-lg font-semibold ${X()}`,children:[ae()>0?"+":"",ae()," ",L.unit]})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[C.reason," *"]}),r.jsxs("select",{value:s.reason,onChange:oe=>D("reason",oe.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${m.reason?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:C.selectProduct}),r.jsx("option",{value:C.reasons.damage,children:C.reasons.damage}),r.jsx("option",{value:C.reasons.loss,children:C.reasons.loss}),r.jsx("option",{value:C.reasons.found,children:C.reasons.found}),r.jsx("option",{value:C.reasons.correction,children:C.reasons.correction}),r.jsx("option",{value:C.reasons.audit,children:C.reasons.audit}),r.jsx("option",{value:C.reasons.other,children:C.reasons.other})]}),m.reason&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:m.reason})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:C.adjustedBy}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:s.adjustedBy,onChange:oe=>D("adjustedBy",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),r.jsx(Oa,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:C.notes}),r.jsx("textarea",{value:s.notes,onChange:oe=>D("notes",oe.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:()=>a("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:C.cancel}),r.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),C.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),C.save]})})]})]})}),N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:C.selectProduct}),r.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(tr,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:C.searchProduct,value:w,onChange:oe=>U(oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ie.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:C.noProducts}):ie.map(oe=>r.jsxs("button",{onClick:()=>{o(W=>({...W,productId:oe.id})),R(oe),U(oe.name),B(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:oe.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[oe.code," • ",oe.category," • ",oe.unit]}),r.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[C.currentQuantity,": ",oe.currentStock]})]},oe.id))})})]})})]})}function A7(){const{language:e}=zt(),[t,a]=q.useState([]),[s,o]=q.useState([]),[l,d]=q.useState(""),[g,f]=q.useState("all"),[m,y]=q.useState(!0),[N,B]=q.useState(!1),[w,U]=q.useState(null),[L,R]=q.useState(null),C={fr:{title:"Gestion des Fournisseurs",subtitle:"Gérez vos fournisseurs et partenaires",addSupplier:"Ajouter Fournisseur",editSupplier:"Modifier Fournisseur",viewSupplier:"Détails Fournisseur",search:"Rechercher...",filter:"Filtrer par statut",all:"Tous",active:"Actif",inactive:"Inactif",code:"Code",name:"Nom",email:"Email",phone:"Téléphone",address:"Adresse",contactPerson:"Personne de contact",status:"Statut",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce fournisseur ?",success:"Fournisseur enregistré avec succès",error:"Erreur lors de l'enregistrement",noSuppliers:"Aucun fournisseur trouvé",totalSuppliers:"Total Fournisseurs",activeSuppliers:"Fournisseurs Actifs",recentSuppliers:"Fournisseurs Récents"},en:{title:"Suppliers Management",subtitle:"Manage your suppliers and partners",addSupplier:"Add Supplier",editSupplier:"Edit Supplier",viewSupplier:"View Supplier",search:"Search...",filter:"Filter by status",all:"All",active:"Active",inactive:"Inactive",code:"Code",name:"Name",email:"Email",phone:"Phone",address:"Address",contactPerson:"Contact Person",status:"Status",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Are you sure you want to delete this supplier?",success:"Supplier saved successfully",error:"Error saving supplier",noSuppliers:"No suppliers found",totalSuppliers:"Total Suppliers",activeSuppliers:"Active Suppliers",recentSuppliers:"Recent Suppliers"}}[e];q.useEffect(()=>{I()},[]),q.useEffect(()=>{T()},[t,l,g]);const I=async()=>{try{y(!0);const _=await xr.getSuppliers();a(_)}catch(_){console.error("Error loading suppliers:",_)}finally{y(!1)}},T=()=>{let _=t;l&&(_=_.filter(ie=>{var oe;return ie.name.toLowerCase().includes(l.toLowerCase())||ie.code.toLowerCase().includes(l.toLowerCase())||((oe=ie.email)==null?void 0:oe.toLowerCase().includes(l.toLowerCase()))})),g!=="all"&&(_=_.filter(ie=>g==="active"?ie.isActive:!ie.isActive)),o(_)},z=async _=>{try{w?await xr.updateSupplier(w.id,_):await xr.createSupplier(_),await I(),B(!1),U(null),alert(C.success)}catch(ie){console.error("Error saving supplier:",ie),alert(C.error)}},D=async _=>{if(window.confirm(C.confirmDelete))try{await xr.deleteSupplier(_),await I()}catch(ie){console.error("Error deleting supplier:",ie),alert(C.error)}},ae=t.filter(_=>_.isActive).length,X=t.filter(_=>{const ie=new Date(_.createdAt),oe=new Date;return oe.setDate(oe.getDate()-30),ie>oe}).length;return m?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:C.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:C.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ro,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:C.totalSuppliers}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ro,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:C.activeSuppliers}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ae})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ro,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:C.recentSuppliers}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:X})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:l,onChange:_=>d(_.target.value),placeholder:C.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:g,onChange:_=>f(_.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:C.all}),r.jsx("option",{value:"active",children:C.active}),r.jsx("option",{value:"inactive",children:C.inactive})]})]}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs("button",{onClick:()=>B(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(pa,{size:16,className:"mr-2"}),C.addSupplier]})})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:C.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:C.name}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:C.contactPerson}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:C.email}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:C.phone}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:C.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:C.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(_=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:_.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:_.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:_.contactPerson||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:_.email||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:_.phone||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:_.isActive?C.active:C.inactive})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>R(_),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Ma,{size:16})}),r.jsx("button",{onClick:()=>{U(_),B(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:r.jsx(Si,{size:16})}),r.jsx("button",{onClick:()=>D(_.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(hn,{size:16})})]})})]},_.id))})]})}),s.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:C.noSuppliers})})]}),N&&r.jsx(d7,{supplier:w,onSave:z,onCancel:()=>{B(!1),U(null)},t:C}),L&&r.jsx(u7,{supplier:L,onClose:()=>R(null),t:C})]})}function d7({supplier:e,onSave:t,onCancel:a,t:s}){const[o,l]=q.useState({name:(e==null?void 0:e.name)||"",code:(e==null?void 0:e.code)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",contactPerson:(e==null?void 0:e.contactPerson)||"",isActive:(e==null?void 0:e.isActive)??!0}),d=g=>{g.preventDefault(),t(o)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e?s.editSupplier:s.addSupplier}),r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.code}),r.jsx("input",{type:"text",value:o.code,onChange:g=>l(f=>({...f,code:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.name}),r.jsx("input",{type:"text",value:o.name,onChange:g=>l(f=>({...f,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.contactPerson}),r.jsx("input",{type:"text",value:o.contactPerson,onChange:g=>l(f=>({...f,contactPerson:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.email}),r.jsx("input",{type:"email",value:o.email,onChange:g=>l(f=>({...f,email:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.phone}),r.jsx("input",{type:"tel",value:o.phone,onChange:g=>l(f=>({...f,phone:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.address}),r.jsx("textarea",{value:o.address,onChange:g=>l(f=>({...f,address:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:g=>l(f=>({...f,isActive:g.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:s.active})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:s.cancel}),r.jsx("button",{onClick:()=>t(o),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:s.save})]})]})})}function u7({supplier:e,onClose:t,t:a}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a.viewSupplier}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.code}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.code})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.name}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.contactPerson}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.contactPerson||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.email}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.email||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.phone}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.phone||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.address}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.address||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.status}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:e.isActive?a.active:a.inactive})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a.cancel})})]})})}function h7(){const{language:e}=zt(),[t,a]=q.useState([]),[s,o]=q.useState([]),[l,d]=q.useState([]),[g,f]=q.useState([]),[m,y]=q.useState(""),[N,B]=q.useState("all"),[w,U]=q.useState(!0),[L,R]=q.useState(!1),[C,I]=q.useState(null),[T,z]=q.useState(null),D={fr:{title:"Gestion des Commandes",subtitle:"Gérez vos commandes de stock",addOrder:"Nouvelle Commande",editOrder:"Modifier Commande",viewOrder:"Détails Commande",search:"Rechercher...",filter:"Filtrer par statut",all:"Tous",draft:"Brouillon",pending:"En attente",confirmed:"Confirmée",shipped:"Expédiée",delivered:"Livrée",cancelled:"Annulée",orderNumber:"N° Commande",supplier:"Fournisseur",status:"Statut",orderDate:"Date Commande",expectedDate:"Date Livraison",totalAmount:"Montant Total",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Êtes-vous sûr de vouloir supprimer cette commande ?",success:"Commande enregistrée avec succès",error:"Erreur lors de l'enregistrement",noOrders:"Aucune commande trouvée",totalOrders:"Total Commandes",pendingOrders:"Commandes En Attente",totalValue:"Valeur Totale"},en:{title:"Orders Management",subtitle:"Manage your stock orders",addOrder:"New Order",editOrder:"Edit Order",viewOrder:"View Order",search:"Search...",filter:"Filter by status",all:"All",draft:"Draft",pending:"Pending",confirmed:"Confirmed",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",orderNumber:"Order Number",supplier:"Supplier",status:"Status",orderDate:"Order Date",expectedDate:"Expected Date",totalAmount:"Total Amount",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Are you sure you want to delete this order?",success:"Order saved successfully",error:"Error saving order",noOrders:"No orders found",totalOrders:"Total Orders",pendingOrders:"Pending Orders",totalValue:"Total Value"}}[e];q.useEffect(()=>{ae()},[]),q.useEffect(()=>{X()},[t,m,N]);const ae=async()=>{try{U(!0);const[J,ne,te]=await Promise.all([xr.getOrders(),xr.getSuppliers(),xr.getProducts()]);a(J),d(ne),f(te)}catch(J){console.error("Error loading data:",J)}finally{U(!1)}},X=()=>{let J=t;m&&(J=J.filter(ne=>ne.orderNumber.toLowerCase().includes(m.toLowerCase())||ne.supplier.name.toLowerCase().includes(m.toLowerCase()))),N!=="all"&&(J=J.filter(ne=>ne.status===N.toUpperCase())),o(J)},_=async J=>{try{C?await xr.updateOrder(C.id,J):await xr.createOrder(J),await ae(),R(!1),I(null),alert(D.success)}catch(ne){console.error("Error saving order:",ne),alert(D.error)}},ie=async J=>{if(window.confirm(D.confirmDelete))try{await xr.deleteOrder(J),await ae()}catch(ne){console.error("Error deleting order:",ne),alert(D.error)}},oe=J=>{switch(J){case"DRAFT":return r.jsx(ka,{className:"h-4 w-4 text-gray-500"});case"PENDING":return r.jsx(ka,{className:"h-4 w-4 text-yellow-500"});case"CONFIRMED":return r.jsx(Br,{className:"h-4 w-4 text-blue-500"});case"SHIPPED":return r.jsx(sC,{className:"h-4 w-4 text-purple-500"});case"DELIVERED":return r.jsx(Br,{className:"h-4 w-4 text-green-500"});case"CANCELLED":return r.jsx(ti,{className:"h-4 w-4 text-red-500"});default:return r.jsx(ka,{className:"h-4 w-4 text-gray-500"})}},W=J=>{switch(J){case"DRAFT":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"CONFIRMED":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"SHIPPED":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"DELIVERED":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"CANCELLED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},$=t.filter(J=>J.status==="PENDING").length,Z=t.reduce((J,ne)=>J+ne.totalAmount,0);return w?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:D.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:D.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(aC,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D.totalOrders}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ka,{className:"h-8 w-8 text-yellow-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D.pendingOrders}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:$})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Os,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D.totalValue}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[Z.toFixed(2)," dh"]})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:m,onChange:J=>y(J.target.value),placeholder:D.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:N,onChange:J=>B(J.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:D.all}),r.jsx("option",{value:"draft",children:D.draft}),r.jsx("option",{value:"pending",children:D.pending}),r.jsx("option",{value:"confirmed",children:D.confirmed}),r.jsx("option",{value:"shipped",children:D.shipped}),r.jsx("option",{value:"delivered",children:D.delivered}),r.jsx("option",{value:"cancelled",children:D.cancelled})]})]}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs("button",{onClick:()=>R(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(pa,{size:16,className:"mr-2"}),D.addOrder]})})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:D.orderNumber}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:D.supplier}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:D.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:D.orderDate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:D.expectedDate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:D.totalAmount}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:D.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(J=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:J.orderNumber}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:J.supplier.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[oe(J.status),r.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${W(J.status)}`,children:D[J.status.toLowerCase()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(J.orderDate).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:J.expectedDate?new Date(J.expectedDate).toLocaleDateString():"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:[J.totalAmount.toFixed(2)," dh"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>z(J),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Ma,{size:16})}),r.jsx("button",{onClick:()=>{I(J),R(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:r.jsx(Si,{size:16})}),r.jsx("button",{onClick:()=>ie(J.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(hn,{size:16})})]})})]},J.id))})]})}),s.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:D.noOrders})})]}),L&&r.jsx(g7,{order:C,suppliers:l,products:g,onSave:_,onCancel:()=>{R(!1),I(null)},t:D}),T&&r.jsx(f7,{order:T,onClose:()=>z(null),t:D})]})}function g7({order:e,suppliers:t,products:a,onSave:s,onCancel:o,t:l}){const[d,g]=q.useState({supplierId:(e==null?void 0:e.supplierId)||"",status:(e==null?void 0:e.status)||"DRAFT",expectedDate:e!=null&&e.expectedDate?e.expectedDate.split("T")[0]:"",notes:(e==null?void 0:e.notes)||"",orderItems:(e==null?void 0:e.orderItems)||[]}),[f,m]=q.useState({productId:"",quantity:1,unitPrice:0}),y=()=>{if(f.productId&&f.quantity>0){const w=a.find(L=>L.id===f.productId),U=f.quantity*f.unitPrice;g(L=>({...L,orderItems:[...L.orderItems,{id:Date.now().toString(),productId:f.productId,product:w,quantity:f.quantity,unitPrice:f.unitPrice,totalPrice:U}]})),m({productId:"",quantity:1,unitPrice:0})}},N=w=>{g(U=>({...U,orderItems:U.orderItems.filter((L,R)=>R!==w)}))},B=w=>{w.preventDefault();const U=d.orderItems.reduce((L,R)=>L+R.totalPrice,0);s({...d,totalAmount:U})};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e?l.editOrder:l.addOrder}),r.jsxs("form",{onSubmit:B,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.supplier}),r.jsxs("select",{value:d.supplierId,onChange:w=>g(U=>({...U,supplierId:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0,children:[r.jsx("option",{value:"",children:l.supplier}),t.map(w=>r.jsxs("option",{value:w.id,children:[w.name," (",w.code,")"]},w.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.status}),r.jsxs("select",{value:d.status,onChange:w=>g(U=>({...U,status:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"DRAFT",children:l.draft}),r.jsx("option",{value:"PENDING",children:l.pending}),r.jsx("option",{value:"CONFIRMED",children:l.confirmed}),r.jsx("option",{value:"SHIPPED",children:l.shipped}),r.jsx("option",{value:"DELIVERED",children:l.delivered}),r.jsx("option",{value:"CANCELLED",children:l.cancelled})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.expectedDate}),r.jsx("input",{type:"date",value:d.expectedDate,onChange:w=>g(U=>({...U,expectedDate:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),r.jsx("textarea",{value:d.notes,onChange:w=>g(U=>({...U,notes:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-4",children:[r.jsxs("select",{value:f.productId,onChange:w=>{const U=a.find(L=>L.id===w.target.value);m(L=>({...L,productId:w.target.value,unitPrice:(U==null?void 0:U.price)||0}))},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"",children:"Select Product"}),a.map(w=>r.jsxs("option",{value:w.id,children:[w.name," (",w.code,")"]},w.id))]}),r.jsx("input",{type:"number",placeholder:"Quantity",value:f.quantity,onChange:w=>m(U=>({...U,quantity:parseInt(w.target.value)||0})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",min:"1"}),r.jsx("input",{type:"number",placeholder:"Unit Price",value:f.unitPrice,onChange:w=>m(U=>({...U,unitPrice:parseFloat(w.target.value)||0})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",step:"0.01",min:"0"}),r.jsx("button",{type:"button",onClick:y,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Add Item"})]}),r.jsx("div",{className:"space-y-2",children:d.orderItems.map((w,U)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:w.product.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[w.quantity," x ",w.unitPrice.toFixed(2)," dh = ",w.totalPrice.toFixed(2)," dh"]})]}),r.jsx("button",{type:"button",onClick:()=>N(U),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(hn,{size:16})})]},w.id))}),r.jsx("div",{className:"text-right mt-4",children:r.jsxs("p",{className:"text-lg font-bold",children:["Total: ",d.orderItems.reduce((w,U)=>w+U.totalPrice,0).toFixed(2)," dh"]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:o,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:l.cancel}),r.jsx("button",{onClick:B,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:l.save})]})]})})}function f7({order:e,onClose:t,t:a}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a.viewOrder}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.orderNumber}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.orderNumber})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.supplier}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.supplier.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.status}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:a[e.status.toLowerCase()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.orderDate}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:new Date(e.orderDate).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.expectedDate}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.expectedDate?new Date(e.expectedDate).toLocaleDateString():"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.totalAmount}),r.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.totalAmount.toFixed(2)," dh"]})]})]}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.notes})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),r.jsx("div",{className:"space-y-2",children:e.orderItems.map(s=>r.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:s.product.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.quantity," x ",s.unitPrice.toFixed(2)," dh = ",s.totalPrice.toFixed(2)," dh"]})]})},s.id))})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a.cancel})})]})})}const Vc="http://localhost:5001/api",p7=()=>{const[e,t]=q.useState([]),[a,s]=q.useState(null),[o,l]=q.useState(!0),[d,g]=q.useState(null),[f,m]=q.useState(!1),[y,N]=q.useState(1),[B,w]=q.useState(0),[U,L]=q.useState({search:"",action:"",severity:"",category:"",startDate:"",endDate:""}),[R,C]=q.useState(!1),I=()=>{const _=localStorage.getItem("sil_lab_token");return{"Content-Type":"application/json",..._&&{Authorization:`Bearer ${_}`}}},T=q.useCallback(async()=>{var _;try{l(!0);const ie=await _d.get(`${Vc}/admin/audit-logs`,{params:{...U,page:y,limit:20},headers:I()});t(ie.data.logs||[]),w(((_=ie.data.pagination)==null?void 0:_.total)||0)}catch(ie){console.error("Error fetching audit logs:",ie),console.log("Auth headers:",I()),console.log("Request URL:",`${Vc}/admin/audit-logs`),t([{id:"1",timestamp:new Date().toISOString(),user_email:"admin@sil-lab.com",user_name:"Administrator",action:"USER_LOGIN",resource_type:"USER",ip_address:"192.168.1.100",success:!0,severity:"LOW",category:"AUTHENTICATION"},{id:"2",timestamp:new Date(Date.now()-36e5).toISOString(),user_email:"user@sil-lab.com",user_name:"Lab Technician",action:"PATIENT_CREATE",resource_type:"PATIENT",ip_address:"192.168.1.101",success:!0,severity:"MEDIUM",category:"PATIENT_MANAGEMENT"}]),w(2)}finally{l(!1)}},[U,y]),z=q.useCallback(async()=>{try{const _=await _d.get(`${Vc}/admin/audit-stats`,{headers:I()});s(_.data)}catch(_){console.error("Error fetching audit stats:",_),console.log("Auth headers for stats:",I()),console.log("Stats request URL:",`${Vc}/admin/audit-stats`),s({overview:{totalEvents:1250,uniqueUsers:15,failedEvents:23,criticalEvents:5}})}},[]),D=async()=>{try{const _=await _d.get(`${Vc}/admin/audit-logs/export`,{params:{...U,format:"csv"},headers:I(),responseType:"blob"}),ie=new Blob([_.data],{type:"text/csv"}),oe=window.URL.createObjectURL(ie),W=document.createElement("a");W.href=oe,W.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(W),W.click(),document.body.removeChild(W),window.URL.revokeObjectURL(oe)}catch(_){console.error("Error exporting logs:",_)}},ae=async()=>{var _,ie,oe,W,$;try{console.log("Initializing audit system..."),console.log("Auth headers:",I());const Z=await _d.post(`${Vc}/admin/audit/initialize`,{},{headers:I()});console.log("Audit system initialization response:",Z.data),alert("Audit system initialized successfully!"),T()}catch(Z){console.error("Failed to initialize audit system:",Z),console.log("Error response:",(_=Z.response)==null?void 0:_.data),console.log("Error status:",(ie=Z.response)==null?void 0:ie.status),((oe=Z.response)==null?void 0:oe.status)===401?alert("Authentication failed. Please log in again."):alert(`Failed to initialize audit system: ${(($=(W=Z.response)==null?void 0:W.data)==null?void 0:$.error)||Z.message}`)}};q.useEffect(()=>{T()},[T]),q.useEffect(()=>{z()},[z]),q.useEffect(()=>{if(R){const _=setInterval(T,3e4);return()=>clearInterval(_)}},[R,T]);const X=_=>({CRITICAL:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",HIGH:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",MEDIUM:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",LOW:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"})[_]||"bg-gray-100 text-gray-800";return r.jsx("div",{className:"min-h-full bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[r.jsx(ol,{className:"inline w-8 h-8 mr-3 text-blue-600"}),"Audit Trail"]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive system activity tracking"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:ae,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Initialize"]}),r.jsxs("button",{onClick:()=>C(!R),className:`px-4 py-2 rounded-lg flex items-center ${R?"bg-green-600 text-white":"bg-gray-200 text-gray-700"}`,children:[r.jsx(us,{className:`w-4 h-4 mr-2 ${R?"animate-spin":""}`}),"Auto Refresh"]})]})]})}),a&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ds,{className:"w-8 h-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Events"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.overview.totalEvents.toLocaleString()})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Oa,{className:"w-8 h-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Users"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.overview.uniqueUsers})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ti,{className:"w-8 h-8 text-red-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Failed Events"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.overview.failedEvents})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(or,{className:"w-8 h-8 text-orange-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Critical Events"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.overview.criticalEvents})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filters & Export"}),r.jsxs("button",{onClick:D,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(ji,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search logs...",value:U.search,onChange:_=>L({...U,search:_.target.value}),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg w-full dark:bg-gray-700 dark:text-white"})]}),r.jsxs("select",{value:U.severity,onChange:_=>L({...U,severity:_.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"",children:"All Severities"}),r.jsx("option",{value:"LOW",children:"Low"}),r.jsx("option",{value:"MEDIUM",children:"Medium"}),r.jsx("option",{value:"HIGH",children:"High"}),r.jsx("option",{value:"CRITICAL",children:"Critical"})]}),r.jsx("input",{type:"date",value:U.startDate,onChange:_=>L({...U,startDate:_.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"date",value:U.endDate,onChange:_=>L({...U,endDate:_.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Audit Events (",B.toLocaleString()," total)"]}),r.jsxs("button",{onClick:T,disabled:o,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 flex items-center",children:[r.jsx(us,{className:`w-4 h-4 mr-1 ${o?"animate-spin":""}`}),"Refresh"]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Resource"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Severity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"IP"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(_=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ka,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(_.timestamp).toLocaleString()]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:_.user_name||"System"}),r.jsx("div",{className:"text-gray-500 text-xs",children:_.user_email||"N/A"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:_.action}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:_.resource_type||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.success?"Success":"Failed"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${X(_.severity)}`,children:_.severity})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:_.ip_address}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("button",{onClick:()=>{g(_),m(!0)},className:"text-blue-600 hover:text-blue-900",children:r.jsx(Ma,{className:"w-4 h-4"})})})]},_.id))})]})}),e.length===0&&!o&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ol,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No audit logs found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No logs match your current filters."})]})]}),f&&d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Audit Event Details"}),r.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ti,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Timestamp:"})," ",new Date(d.timestamp).toLocaleString()]}),r.jsxs("div",{children:[r.jsx("strong",{children:"User:"})," ",d.user_name," (",d.user_email,")"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Action:"})," ",d.action]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Resource:"})," ",d.resource_type," ",d.resource_id&&`(${d.resource_id})`]}),r.jsxs("div",{children:[r.jsx("strong",{children:"IP Address:"})," ",d.ip_address]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",d.success?"Success":"Failed"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Severity:"})," ",d.severity]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Category:"})," ",d.category]}),d.metadata&&r.jsxs("div",{children:[r.jsx("strong",{children:"Metadata:"}),r.jsx("pre",{className:"mt-2 p-3 bg-gray-100 dark:bg-gray-700 rounded text-sm overflow-x-auto",children:JSON.stringify(JSON.parse(d.metadata),null,2)})]})]})]})})})]})})};function m7({isOpen:e,onClose:t,onSuccess:a}){const{language:s}=zt(),[o,l]=q.useState(!1),[d,g]=q.useState({name:"",type:"",manufacturer:"",protocol:"HL7",connection:"tcp",config:{autoSendWorklist:!0,autoReceiveResults:!0,enableQCMonitoring:!0},enabled:!0}),f={fr:{title:"Ajouter un Automate",name:"Nom de l'automate",type:"Type",manufacturer:"Fabricant",protocol:"Protocole",connection:"Type de connexion",ipAddress:"Adresse IP",port:"Port",comPort:"Port COM",baudRate:"Débit en bauds",ftpHost:"Hôte FTP",ftpPort:"Port FTP",ftpUser:"Utilisateur FTP",ftpPass:"Mot de passe FTP",autoSendWorklist:"Envoi automatique de la liste de travail",autoReceiveResults:"Réception automatique des résultats",enableQCMonitoring:"Activer la surveillance QC",enabled:"Activé",save:"Enregistrer",cancel:"Annuler",required:"Ce champ est requis",success:"Automate ajouté avec succès",error:"Erreur lors de l'ajout de l'automate"},en:{title:"Add New Automate",name:"Automate Name",type:"Type",manufacturer:"Manufacturer",protocol:"Protocol",connection:"Connection Type",ipAddress:"IP Address",port:"Port",comPort:"COM Port",baudRate:"Baud Rate",ftpHost:"FTP Host",ftpPort:"FTP Port",ftpUser:"FTP User",ftpPass:"FTP Password",autoSendWorklist:"Auto-send Worklist",autoReceiveResults:"Auto-receive Results",enableQCMonitoring:"Enable QC Monitoring",enabled:"Enabled",save:"Save",cancel:"Cancel",required:"This field is required",success:"Automate added successfully",error:"Error adding automate"}}[s],m=["Immunoassay","Clinical Chemistry","Hematology","Coagulation","Molecular","Microbiology","Other"],y=["Roche","Abbott","Siemens","Beckman Coulter","Ortho Clinical Diagnostics","Sysmex","Bio-Rad","DiaSorin","Other"],N=[{value:"HL7",label:"HL7"},{value:"ASTM",label:"ASTM"},{value:"LIS2-A2",label:"LIS2-A2"}],B=[{value:"tcp",label:"TCP/IP"},{value:"serial",label:"Serial"},{value:"ftp",label:"FTP"}],w=(L,R)=>{if(L.includes(".")){const[C,I]=L.split(".");g(T=>({...T,[C]:{...T[C],[I]:R}}))}else g(C=>({...C,[L]:R}))},U=async L=>{if(L.preventDefault(),!d.name||!d.type||!d.manufacturer){alert(f.required);return}l(!0);try{await an.createAutomate(d),alert(f.success),a(),t(),g({name:"",type:"",manufacturer:"",protocol:"HL7",connection:"tcp",config:{autoSendWorklist:!0,autoReceiveResults:!0,enableQCMonitoring:!0},enabled:!0})}catch(R){console.error("Error creating automate:",R),alert(f.error)}finally{l(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[r.jsx(Ka,{size:20,className:"mr-2"}),f.title]}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(tr,{size:20})})]}),r.jsxs("form",{onSubmit:U,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.name," *"]}),r.jsx("input",{type:"text",value:d.name,onChange:L=>w("name",L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.type," *"]}),r.jsxs("select",{value:d.type,onChange:L=>w("type",L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:s==="fr"?"Sélectionner un type":"Select type"}),m.map(L=>r.jsx("option",{value:L,children:L},L))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[f.manufacturer," *"]}),r.jsxs("select",{value:d.manufacturer,onChange:L=>w("manufacturer",L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:s==="fr"?"Sélectionner un fabricant":"Select manufacturer"}),y.map(L=>r.jsx("option",{value:L,children:L},L))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.protocol}),r.jsx("select",{value:d.protocol,onChange:L=>w("protocol",L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:N.map(L=>r.jsx("option",{value:L.value,children:L.label},L.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.connection}),r.jsx("select",{value:d.connection,onChange:L=>w("connection",L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:B.map(L=>r.jsx("option",{value:L.value,children:L.label},L.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.enabled}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:d.enabled,onChange:L=>w("enabled",L.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:d.enabled?s==="fr"?"Activé":"Enabled":s==="fr"?"Désactivé":"Disabled"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:s==="fr"?"Configuration de connexion":"Connection Configuration"}),d.connection==="tcp"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.ipAddress}),r.jsx("input",{type:"text",value:d.config.ipAddress||"",onChange:L=>w("config.ipAddress",L.target.value),placeholder:"192.168.1.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.port}),r.jsx("input",{type:"number",value:d.config.port||"",onChange:L=>w("config.port",parseInt(L.target.value)||void 0),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),d.connection==="serial"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.comPort}),r.jsx("input",{type:"text",value:d.config.comPort||"",onChange:L=>w("config.comPort",L.target.value),placeholder:"COM3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.baudRate}),r.jsxs("select",{value:d.config.baudRate||"",onChange:L=>w("config.baudRate",parseInt(L.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:s==="fr"?"Sélectionner":"Select"}),r.jsx("option",{value:"9600",children:"9600"}),r.jsx("option",{value:"19200",children:"19200"}),r.jsx("option",{value:"38400",children:"38400"}),r.jsx("option",{value:"57600",children:"57600"}),r.jsx("option",{value:"115200",children:"115200"})]})]})]}),d.connection==="ftp"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.ftpHost}),r.jsx("input",{type:"text",value:d.config.ftpHost||"",onChange:L=>w("config.ftpHost",L.target.value),placeholder:"ftp.example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.ftpPort}),r.jsx("input",{type:"number",value:d.config.ftpPort||"",onChange:L=>w("config.ftpPort",parseInt(L.target.value)||void 0),placeholder:"21",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.ftpUser}),r.jsx("input",{type:"text",value:d.config.ftpUser||"",onChange:L=>w("config.ftpUser",L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:f.ftpPass}),r.jsx("input",{type:"password",value:d.config.ftpPass||"",onChange:L=>w("config.ftpPass",L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:s==="fr"?"Paramètres d'automatisation":"Automation Settings"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:d.config.autoSendWorklist,onChange:L=>w("config.autoSendWorklist",L.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:f.autoSendWorklist})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:d.config.autoReceiveResults,onChange:L=>w("config.autoReceiveResults",L.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:f.autoReceiveResults})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:d.config.enableQCMonitoring,onChange:L=>w("config.enableQCMonitoring",L.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:f.enableQCMonitoring})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:f.cancel}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s==="fr"?"Enregistrement...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),f.save]})})]})]})]})}):null}function x7({automates:e,onRefresh:t}){const{language:a}=zt(),[s,o]=q.useState(null),[l,d]=q.useState(!1),[g,f]=q.useState({}),m={fr:{title:"Configuration des Automates",subtitle:"Gérez les paramètres de connexion et de configuration de vos automates",selectAutomate:"Sélectionner un automate",connectionSettings:"Paramètres de connexion",automationSettings:"Paramètres d'automatisation",generalSettings:"Paramètres généraux",save:"Enregistrer",test:"Tester la connexion",reset:"Réinitialiser",success:"Configuration mise à jour avec succès",error:"Erreur lors de la mise à jour",connectionTest:"Test de connexion",connectionSuccess:"Connexion réussie",connectionFailed:"Échec de la connexion",ipAddress:"Adresse IP",port:"Port",comPort:"Port COM",baudRate:"Débit en bauds",ftpHost:"Hôte FTP",ftpPort:"Port FTP",ftpUser:"Utilisateur FTP",ftpPass:"Mot de passe FTP",autoSendWorklist:"Envoi automatique de la liste de travail",autoReceiveResults:"Réception automatique des résultats",enableQCMonitoring:"Activer la surveillance QC",enabled:"Activé",protocol:"Protocole",connection:"Type de connexion",manufacturer:"Fabricant",type:"Type"},en:{title:"Automate Configuration",subtitle:"Manage connection and configuration settings for your automates",selectAutomate:"Select an automate",connectionSettings:"Connection Settings",automationSettings:"Automation Settings",generalSettings:"General Settings",save:"Save",test:"Test Connection",reset:"Reset",success:"Configuration updated successfully",error:"Error updating configuration",connectionTest:"Connection Test",connectionSuccess:"Connection successful",connectionFailed:"Connection failed",ipAddress:"IP Address",port:"Port",comPort:"COM Port",baudRate:"Baud Rate",ftpHost:"FTP Host",ftpPort:"FTP Port",ftpUser:"FTP User",ftpPass:"FTP Password",autoSendWorklist:"Auto-send Worklist",autoReceiveResults:"Auto-receive Results",enableQCMonitoring:"Enable QC Monitoring",enabled:"Enabled",protocol:"Protocol",connection:"Connection Type",manufacturer:"Manufacturer",type:"Type"}}[a];q.useEffect(()=>{s&&f(s.config||{})},[s]);const y=(L,R)=>{f(C=>({...C,[L]:R}))},N=async()=>{if(s){d(!0);try{await an.updateAutomate(s.id,{config:g}),alert(m.success),t()}catch(L){console.error("Error updating configuration:",L),alert(m.error)}finally{d(!1)}}},B=async()=>{if(s){d(!0);try{await new Promise(L=>setTimeout(L,2e3)),alert(m.connectionSuccess)}catch{alert(m.connectionFailed)}finally{d(!1)}}},w=()=>{s&&f(s.config||{})},U=L=>{switch(L){case"tcp":return r.jsx(nC,{size:16});case"serial":return r.jsx(S6,{size:16});case"ftp":return r.jsx(ib,{size:16});default:return r.jsx(Ka,{size:16})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(cn,{size:24,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:m.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:m.subtitle})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.selectAutomate}),r.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:L=>{const R=e.find(C=>C.id===L.target.value);o(R||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Sélectionner un automate":"Select an automate"}),e.map(L=>r.jsxs("option",{value:L.id,children:[L.name," (",L.manufacturer,")"]},L.id))]})]})]}),s&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(Ka,{size:20,className:"mr-2"}),m.generalSettings]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.name}),r.jsx("input",{type:"text",value:s.name,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.manufacturer}),r.jsx("input",{type:"text",value:s.manufacturer,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.type}),r.jsx("input",{type:"text",value:s.type,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.protocol}),r.jsx("input",{type:"text",value:s.protocol,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.connection}),r.jsxs("div",{className:"flex items-center",children:[U(s.connection),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 capitalize",children:s.connection})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[U(s.connection),r.jsx("span",{className:"ml-2",children:m.connectionSettings})]}),s.connection==="tcp"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.ipAddress}),r.jsx("input",{type:"text",value:g.ipAddress||"",onChange:L=>y("ipAddress",L.target.value),placeholder:"192.168.1.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.port}),r.jsx("input",{type:"number",value:g.port||"",onChange:L=>y("port",parseInt(L.target.value)||void 0),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.connection==="serial"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.comPort}),r.jsx("input",{type:"text",value:g.comPort||"",onChange:L=>y("comPort",L.target.value),placeholder:"COM3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.baudRate}),r.jsxs("select",{value:g.baudRate||"",onChange:L=>y("baudRate",parseInt(L.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Sélectionner":"Select"}),r.jsx("option",{value:"9600",children:"9600"}),r.jsx("option",{value:"19200",children:"19200"}),r.jsx("option",{value:"38400",children:"38400"}),r.jsx("option",{value:"57600",children:"57600"}),r.jsx("option",{value:"115200",children:"115200"})]})]})]}),s.connection==="ftp"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.ftpHost}),r.jsx("input",{type:"text",value:g.ftpHost||"",onChange:L=>y("ftpHost",L.target.value),placeholder:"ftp.example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.ftpPort}),r.jsx("input",{type:"number",value:g.ftpPort||"",onChange:L=>y("ftpPort",parseInt(L.target.value)||void 0),placeholder:"21",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.ftpUser}),r.jsx("input",{type:"text",value:g.ftpUser||"",onChange:L=>y("ftpUser",L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.ftpPass}),r.jsx("input",{type:"password",value:g.ftpPass||"",onChange:L=>y("ftpPass",L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:m.automationSettings}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:g.autoSendWorklist||!1,onChange:L=>y("autoSendWorklist",L.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:m.autoSendWorklist})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:g.autoReceiveResults||!1,onChange:L=>y("autoReceiveResults",L.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:m.autoReceiveResults})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:g.enableQCMonitoring||!1,onChange:L=>y("enableQCMonitoring",L.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:m.enableQCMonitoring})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.enabled,disabled:!0,className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:m.enabled})]})]}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsx("button",{onClick:N,disabled:l,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a==="fr"?"Enregistrement...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),m.save]})}),r.jsxs("button",{onClick:B,disabled:l,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[r.jsx(us,{size:16,className:"mr-2"}),m.test]}),r.jsx("button",{onClick:w,disabled:l,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m.reset})]})]})]})]})}function y7({automates:e,onRefresh:t}){const{language:a}=zt(),[s,o]=q.useState(null),[l,d]=q.useState(!1),[g,f]=q.useState(!1),[m,y]=q.useState(null),[N,B]=q.useState(!1),[w,U]=q.useState(""),[L,R]=q.useState({codeAutomate:"",silTestName:"",sampleType:"Sang",unit:"",refRangeLow:null,refRangeHigh:null}),C={fr:{title:"Mapping des Codes",subtitle:"Gérez la correspondance entre les codes des automates et les tests SIL",selectAutomate:"Sélectionner un automate",addMapping:"Ajouter un mapping",editMapping:"Modifier le mapping",codeAutomate:"Code Automate",silTestName:"Nom du test SIL",sampleType:"Type d'échantillon",unit:"Unité",refRangeLow:"Valeur de référence basse",refRangeHigh:"Valeur de référence haute",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",search:"Rechercher...",noMappings:"Aucun mapping trouvé",success:"Mapping enregistré avec succès",error:"Erreur lors de l'enregistrement",deleteConfirm:"Êtes-vous sûr de vouloir supprimer ce mapping ?",deleteSuccess:"Mapping supprimé avec succès",deleteError:"Erreur lors de la suppression"},en:{title:"Code Mapping",subtitle:"Manage the mapping between automate codes and SIL tests",selectAutomate:"Select an automate",addMapping:"Add Mapping",editMapping:"Edit Mapping",codeAutomate:"Automate Code",silTestName:"SIL Test Name",sampleType:"Sample Type",unit:"Unit",refRangeLow:"Reference Range Low",refRangeHigh:"Reference Range High",save:"Save",cancel:"Cancel",delete:"Delete",search:"Search...",noMappings:"No mappings found",success:"Mapping saved successfully",error:"Error saving mapping",deleteConfirm:"Are you sure you want to delete this mapping?",deleteSuccess:"Mapping deleted successfully",deleteError:"Error deleting mapping"}}[a],I=["Sang","Serum","Plasma","Urine","Saliva","Stool","CSF","Other"],T=["g/L","mg/dL","mmol/L","µmol/L","U/L","mIU/L","ng/mL","pg/mL","%","10^9/L","10^12/L","Other"],z=(s==null?void 0:s.driverCodes.filter(oe=>oe.codeAutomate.toLowerCase().includes(w.toLowerCase())||oe.silTestName.toLowerCase().includes(w.toLowerCase())))||[],D=()=>{R({codeAutomate:"",silTestName:"",sampleType:"Sang",unit:"",refRangeLow:null,refRangeHigh:null}),d(!0)},ae=oe=>{y(oe),R({codeAutomate:oe.codeAutomate,silTestName:oe.silTestName,sampleType:oe.sampleType,unit:oe.unit||"",refRangeLow:oe.refRangeLow,refRangeHigh:oe.refRangeHigh}),f(!0)},X=async oe=>{if(!(!s||!confirm(C.deleteConfirm))){B(!0);try{await an.deleteCodeMapping(s.id,oe),alert(C.deleteSuccess),t()}catch(W){console.error("Error deleting mapping:",W),alert(C.deleteError)}finally{B(!1)}}},_=async oe=>{if(oe.preventDefault(),!!s){B(!0);try{g&&m?await an.updateCodeMapping(s.id,m.id,L):await an.addCodeMapping(s.id,L),alert(C.success),d(!1),f(!1),t()}catch(W){console.error("Error saving mapping:",W),alert(C.error)}finally{B(!1)}}},ie=(oe,W)=>{R($=>({...$,[oe]:W}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(YN,{size:24,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:C.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:C.subtitle})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:C.selectAutomate}),r.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:oe=>{const W=e.find($=>$.id===oe.target.value);o(W||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Sélectionner un automate":"Select an automate"}),e.map(oe=>r.jsxs("option",{value:oe.id,children:[oe.name," (",oe.manufacturer,")"]},oe.id))]})]})]}),s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(na,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:C.search,value:w,onChange:oe=>U(oe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(pa,{size:16,className:"mr-2"}),C.addMapping]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:C.codeAutomate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:C.silTestName}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:C.sampleType}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:C.unit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Référence"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:z.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:C.noMappings})}):z.map(oe=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:oe.codeAutomate}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:oe.silTestName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:oe.sampleType}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:oe.unit||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:oe.refRangeLow&&oe.refRangeHigh?`${oe.refRangeLow} - ${oe.refRangeHigh}`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>ae(oe),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Si,{size:16})}),r.jsx("button",{onClick:()=>X(oe.id),disabled:N,className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50",children:r.jsx(hn,{size:16})})]})})]},oe.id))})]})})})]}),(l||g)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g?C.editMapping:C.addMapping}),r.jsx("button",{onClick:()=>{d(!1),f(!1)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(tr,{size:20})})]}),r.jsxs("form",{onSubmit:_,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[C.codeAutomate," *"]}),r.jsx("input",{type:"text",value:L.codeAutomate,onChange:oe=>ie("codeAutomate",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[C.silTestName," *"]}),r.jsx("input",{type:"text",value:L.silTestName,onChange:oe=>ie("silTestName",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:C.sampleType}),r.jsx("select",{value:L.sampleType,onChange:oe=>ie("sampleType",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:I.map(oe=>r.jsx("option",{value:oe,children:oe},oe))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:C.unit}),r.jsxs("select",{value:L.unit,onChange:oe=>ie("unit",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Sélectionner":"Select"}),T.map(oe=>r.jsx("option",{value:oe,children:oe},oe))]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:C.refRangeLow}),r.jsx("input",{type:"number",step:"0.01",value:L.refRangeLow||"",onChange:oe=>ie("refRangeLow",parseFloat(oe.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:C.refRangeHigh}),r.jsx("input",{type:"number",step:"0.01",value:L.refRangeHigh||"",onChange:oe=>ie("refRangeHigh",parseFloat(oe.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{d(!1),f(!1)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:C.cancel}),r.jsx("button",{type:"submit",disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:N?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a==="fr"?"Enregistrement...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Bs,{size:16,className:"mr-2"}),C.save]})})]})]})]})})]})}function b7({automates:e,onRefresh:t}){var J;const{language:a}=zt(),[s,o]=q.useState(null),[l,d]=q.useState("all"),[g,f]=q.useState("all"),[m,y]=q.useState("24h"),[N,B]=q.useState({}),[w,U]=q.useState(!1);q.useEffect(()=>{let ne=!1;const te=async()=>{U(!0);try{const Be=await Promise.all((e||[]).map(async fe=>{try{const je=await an.getTransferLogs(fe.id,{limit:50});return[fe.id,je.logs||[]]}catch(je){return console.error("Failed to load logs for",fe.id,je),[fe.id,[]]}}));if(!ne){const fe={};for(const[je,Ce]of Be)fe[je]=Ce;B(fe)}}finally{ne||U(!1)}};return e&&e.length&&te(),()=>{ne=!0}},[e]);const L=s?N[s.id]||((J=e.find(ne=>ne.id===s.id))==null?void 0:J.transferLogs)||[]:(e||[]).flatMap(ne=>N[ne.id]||ne.transferLogs||[]),R={fr:{title:"Logs et Monitoring",subtitle:"Surveillez les transferts de données et l'état de vos automates",selectAutomate:"Sélectionner un automate",allAutomates:"Tous les automates",status:"Statut",type:"Type",duration:"Durée",timestamp:"Horodatage",error:"Erreur",noLogs:"Aucun log trouvé",export:"Exporter",refresh:"Actualiser",filter:"Filtrer",all:"Tous",success:"Succès",warning:"Avertissement",info:"Information",worklist:"Liste de travail",results:"Résultats",qc:"Contrôle qualité",last24h:"Dernières 24h",last7d:"Derniers 7 jours",last30d:"Derniers 30 jours",allTime:"Tout le temps",online:"En ligne",offline:"Hors ligne",lastSync:"Dernière synchronisation",never:"Jamais",totalLogs:"Total des logs",successRate:"Taux de succès",avgDuration:"Durée moyenne"},en:{title:"Logs and Monitoring",subtitle:"Monitor data transfers and automate status",selectAutomate:"Select an automate",allAutomates:"All automates",status:"Status",type:"Type",duration:"Duration",timestamp:"Timestamp",error:"Error",noLogs:"No logs found",export:"Export",refresh:"Refresh",filter:"Filter",all:"All",success:"Success",warning:"Warning",info:"Information",worklist:"Worklist",results:"Results",qc:"Quality Control",last24h:"Last 24h",last7d:"Last 7 days",last30d:"Last 30 days",allTime:"All time",online:"Online",offline:"Offline",lastSync:"Last sync",never:"Never",totalLogs:"Total logs",successRate:"Success rate",avgDuration:"Average duration"}}[a],C=[{value:"all",label:R.all},{value:"success",label:R.success},{value:"error",label:R.error},{value:"warning",label:R.warning}],I=[{value:"all",label:R.all},{value:"worklist",label:R.worklist},{value:"results",label:R.results},{value:"qc",label:R.qc}],T=[{value:"24h",label:R.last24h},{value:"7d",label:R.last7d},{value:"30d",label:R.last30d},{value:"all",label:R.allTime}],z=ne=>{switch(ne){case"success":return r.jsx(Br,{size:16,className:"text-green-500"});case"error":return r.jsx(ti,{size:16,className:"text-red-500"});case"warning":return r.jsx(or,{size:16,className:"text-yellow-500"});default:return r.jsx(ds,{size:16,className:"text-blue-500"})}},D=ne=>{switch(ne){case"success":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}},ae=ne=>{switch(ne){case"online":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"offline":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},X=ne=>ne?ne<1e3?`${ne}ms`:`${(ne/1e3).toFixed(1)}s`:"-",_=ne=>new Date(ne).toLocaleString(a==="fr"?"fr-FR":"en-US"),ie=L.filter(ne=>{const te=l==="all"||ne.status===l,Be=g==="all"||ne.type===g;return te&&Be}),W=(e||[]).flatMap(ne=>(ne.transferLogs||[]).map(te=>({...te,automateName:ne.name}))).filter(ne=>{const te=l==="all"||ne.status===l,Be=g==="all"||ne.type===g;return te&&Be}),$={totalLogs:W.length,successRate:W.length>0?Math.round(W.filter(ne=>ne.status==="success").length/W.length*100):0,avgDuration:W.length>0?Math.round(W.reduce((ne,te)=>ne+(te.duration||0),0)/W.length):0},Z=()=>{const ne=[["Timestamp","Automate","Type","Status","Duration","Error"].join(","),...W.map(je=>[_(je.timestamp),je.automateName||(s==null?void 0:s.name)||"",je.type,je.status,X(je.duration),je.errorMsg||""].join(","))].join(`
`),te=new Blob([ne],{type:"text/csv"}),Be=window.URL.createObjectURL(te),fe=document.createElement("a");fe.href=Be,fe.download=`automate-logs-${new Date().toISOString().split("T")[0]}.csv`,fe.click(),window.URL.revokeObjectURL(Be)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ds,{size:24,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:R.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:R.subtitle})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:R.selectAutomate}),r.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:ne=>{const te=e.find(Be=>Be.id===ne.target.value);o(te||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:R.allAutomates}),e.map(ne=>r.jsxs("option",{value:ne.id,children:[ne.name," (",ne.manufacturer,")"]},ne.id))]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ds,{size:20,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:R.totalLogs}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:$.totalLogs})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Br,{size:20,className:"text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:R.successRate}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[$.successRate,"%"]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ka,{size:20,className:"text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:R.avgDuration}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:X($.avgDuration)})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:a==="fr"?"État des automates":"Automate Status"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(ne=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:ne.name}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ae(ne.status)}`,children:ne.status})]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[ne.manufacturer," - ",ne.type]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[R.lastSync,": ",ne.lastSync?_(ne.lastSync):R.never]})]},ne.id))})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(RA,{size:16,className:"text-gray-500"}),r.jsx("select",{value:l,onChange:ne=>d(ne.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:C.map(ne=>r.jsx("option",{value:ne.value,children:ne.label},ne.value))})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("select",{value:g,onChange:ne=>f(ne.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:I.map(ne=>r.jsx("option",{value:ne.value,children:ne.label},ne.value))})}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("select",{value:m,onChange:ne=>y(ne.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:T.map(ne=>r.jsx("option",{value:ne.value,children:ne.label},ne.value))})})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:Z,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(ji,{size:16,className:"mr-2"}),R.export]}),r.jsxs("button",{onClick:async()=>{if(s)try{const ne=await an.getTransferLogs(s.id,{limit:50});B(te=>({...te,[s.id]:ne.logs||[]}))}catch(ne){console.error("Refresh logs failed",ne)}else try{const ne=await Promise.all((e||[]).map(async Be=>{try{const fe=await an.getTransferLogs(Be.id,{limit:50});return[Be.id,fe.logs||[]]}catch{return[Be.id,[]]}})),te={};for(const[Be,fe]of ne)te[Be]=fe;B(te)}catch(ne){console.error("Refresh all logs failed",ne)}t()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(us,{size:16,className:"mr-2"}),R.refresh]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:R.timestamp}),!s&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Automate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:R.type}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:R.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:R.duration}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:R.error})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:(s?ie:W).length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:s?5:6,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:R.noLogs})}):(s?ie:W).map(ne=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:_(ne.timestamp)}),!s&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ne.automateName||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize",children:ne.type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[z(ne.status),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${D(ne.status)}`,children:ne.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:X(ne.duration)}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate",children:ne.errorMsg||"-"})]},ne.id))})]})})})]})}function v7(){const{language:e}=zt(),[t,a]=q.useState("list"),[s,o]=q.useState([]),[l,d]=q.useState(null),[g,f]=q.useState(!0),[m,y]=q.useState(!1);q.useState(!1);const[N,B]=q.useState(!1),[w,U]=q.useState([]),L={fr:{title:"Intégration Automates",subtitle:"Gestion des analyseurs de laboratoire",automatesList:"Liste des Automates",configuration:"Configuration",codeMapping:"Mapping des Codes",logs:"Logs et Monitoring",addNew:"Ajouter un Automate",status:{online:"Connecté",offline:"Hors ligne",error:"Erreur"},lastSync:"Dernière synchronisation",viewLogs:"Voir les Logs",noAutomates:"Aucun automate configuré",loading:"Chargement..."},en:{title:"Automate Integration",subtitle:"Laboratory analyzer management",automatesList:"Automates List",configuration:"Configuration",codeMapping:"Code Mapping",logs:"Logs & Monitoring",addNew:"Add New Automate",status:{online:"Connected",offline:"Offline",error:"Error"},lastSync:"Last sync",viewLogs:"View Logs",noAutomates:"No automates configured",loading:"Loading..."}}[e];q.useEffect(()=>{R()},[]);const R=async()=>{try{f(!0);const X=await an.getAutomates();o(X.automates||[])}catch(X){console.error("Error loading automates:",X)}finally{f(!1)}},C=X=>{switch(X){case"online":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"offline":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},I=X=>{switch(X){case"online":return r.jsx(nC,{size:16});case"offline":return r.jsx(jw,{size:16});case"error":return r.jsx(or,{size:16});default:return r.jsx(jw,{size:16})}},T=async X=>{d(X);try{const _=await an.getTransferLogs(X.id);U(_.logs||[]),B(!0)}catch(_){console.error("Error loading logs:",_)}},z=async X=>{try{await an.updateStatus(X.id,{status:"offline"}),setTimeout(()=>{an.updateStatus(X.id,{status:"online"})},2e3),R()}catch(_){console.error("Error restarting interface:",_)}},D=async X=>{try{await an.updateStatus(X.id,{status:"online",lastSync:new Date().toISOString()}),R()}catch(_){console.error("Error syncing:",_)}},ae=[{id:"list",label:L.automatesList,icon:Ka},{id:"config",label:L.configuration,icon:cn},{id:"mapping",label:L.codeMapping,icon:YN},{id:"logs",label:L.logs,icon:Rr}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:L.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:L.subtitle})]}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:ae.map(X=>r.jsxs("button",{onClick:()=>a(X.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===X.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(X.icon,{size:16}),r.jsx("span",{children:X.label})]},X.id))})}),r.jsxs("div",{className:"mt-6",children:[t==="list"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:L.automatesList}),r.jsxs("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(pa,{size:20,className:"mr-2"}),L.addNew]})]}),g?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:L.loading})]}):s.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ka,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:L.noAutomates}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Commencez par ajouter votre premier automate de laboratoire."}),r.jsx("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:L.addNew})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(X=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:X.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[X.manufacturer," - ",X.type]})]}),r.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${C(X.status)}`,children:[I(X.status),r.jsx("span",{className:"ml-1",children:L.status[X.status]})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Protocol:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:X.protocol})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Connection:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:X.connection})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Code Mappings:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:X._count.driverCodes})]}),X.lastSync&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[L.lastSync,":"]}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:new Date(X.lastSync).toLocaleString()})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>T(X),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded text-sm hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center",children:[r.jsx(Ma,{size:14,className:"mr-1"}),L.viewLogs]}),r.jsx("button",{onClick:()=>z(X),className:"bg-yellow-100 text-yellow-800 px-3 py-2 rounded text-sm hover:bg-yellow-200 flex items-center",title:"Restart Interface",children:r.jsx(us,{size:14})}),r.jsx("button",{onClick:()=>D(X),className:"bg-green-100 text-green-800 px-3 py-2 rounded text-sm hover:bg-green-200 flex items-center",title:"Sync Now",children:r.jsx(rC,{size:14})})]})]},X.id))})]}),t==="config"&&r.jsx(x7,{automates:s,onRefresh:R}),t==="mapping"&&r.jsx(y7,{automates:s,onRefresh:R}),t==="logs"&&r.jsx(b7,{automates:s,onRefresh:R})]}),r.jsx(m7,{isOpen:m,onClose:()=>y(!1),onSuccess:R}),N&&l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Logs - ",l.name]}),r.jsx("button",{onClick:()=>B(!1),children:r.jsx("span",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})})]}),r.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Error"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:w.map(X=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(X.timestamp).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:X.type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${X.status==="success"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:X.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:X.duration?`${X.duration}ms`:"-"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:X.errorMsg||"-"})]},X.id))})]})})]})})]})}function w7(){const{language:e}=zt(),{refreshModules:t}=sf(),[a,s]=q.useState([]),[o,l]=q.useState([]),[d,g]=q.useState(!0),[f,m]=q.useState("store"),[y,N]=q.useState(!1),[B,w]=q.useState(null),[U,L]=q.useState(""),[R,C]=q.useState(""),[I,T]=q.useState(""),[z,D]=q.useState(!1),[ae,X]=q.useState(""),[_,ie]=q.useState(!1),[oe,W]=q.useState(null),[$,Z]=q.useState(!1),J={fr:{title:"Store de Modules",subtitle:"Étendez les fonctionnalités de votre laboratoire",store:"Store",installed:"Installés",install:"Installer",startTrial:"Essai Gratuit",enterLicense:"Entrer la Licence",licenseKey:"Clé de Licence",organizationName:"Nom de l'Organisation",contactEmail:"Email de Contact",activate:"Activer",cancel:"Annuler",trial:"Essai",active:"Actif",expired:"Expiré",daysLeft:"jours restants",features:"Fonctionnalités",version:"Version",author:"Auteur",category:"Catégorie",price:"Prix",free:"Gratuit",deactivate:"Désactiver",refresh:"Actualiser",noModules:"Aucun module disponible",noInstalled:"Aucun module installé",installSuccess:"Module installé avec succès!",trialStarted:"Essai gratuit démarré!",invalidLicense:"Clé de licence invalide",licenseInUse:"Cette clé de licence est déjà utilisée",installError:"Erreur lors de l'installation",generateDemo:"Générer Clé Demo",confirmDeactivate:"Êtes-vous sûr de vouloir désactiver ce module? Cette action supprimera toutes les fonctionnalités associées.",deactivateSuccess:"Module désactivé avec succès"},en:{title:"Module Store",subtitle:"Extend your laboratory functionality",store:"Store",installed:"Installed",install:"Install",startTrial:"Start Trial",enterLicense:"Enter License",licenseKey:"License Key",organizationName:"Organization Name",contactEmail:"Contact Email",activate:"Activate",cancel:"Cancel",trial:"Trial",active:"Active",expired:"Expired",daysLeft:"days left",features:"Features",version:"Version",author:"Author",category:"Category",price:"Price",free:"Free",deactivate:"Deactivate",refresh:"Refresh",noModules:"No modules available",noInstalled:"No modules installed",installSuccess:"Module installed successfully!",trialStarted:"Trial started successfully!",invalidLicense:"Invalid license key",licenseInUse:"License key already in use",installError:"Installation error",generateDemo:"Generate Demo Key",confirmDeactivate:"Are you sure you want to deactivate this module? This will remove all associated functionality.",deactivateSuccess:"Module deactivated successfully"}}[e];q.useEffect(()=>{ne()},[]);const ne=async()=>{g(!0),X("");try{console.log("Loading modules data...");const[he,ke]=await Promise.all([Xr.getModules(),Xr.getInstalledModules()]);console.log("Modules loaded:",he.length,"available,",ke.length,"installed"),s(he),l(ke)}catch(he){console.error("Error loading modules:",he),X(`Failed to load modules: ${he.message}`)}finally{g(!1)}},te=he=>{w(he),N(!0),L(""),C(""),T(""),X("")},Be=async he=>{D(!0);try{console.log("Starting trial for module:",he.id,"with org:",R,"email:",I),await Xr.startTrial(he.id,R||"Demo Organization",I||"demo@example.com"),X(""),await ne(),t(),X(J.trialStarted),setTimeout(()=>X(""),3e3)}catch(ke){console.error("Trial start error:",ke),X(ke.message||J.installError)}finally{D(!1)}},fe=async()=>{if(!B||!U.trim()){X("License key is required");return}D(!0);try{await Xr.installModule(B.id,U.trim(),R.trim()||void 0,I.trim()||void 0),N(!1),X(""),await ne(),t(),X(J.installSuccess),setTimeout(()=>X(""),3e3)}catch(he){X(he.message||J.installError)}finally{D(!1)}},je=he=>{W(he),ie(!0)},Ce=async()=>{if(oe){Z(!0);try{await Xr.deactivateModule(oe),X(J.deactivateSuccess),ie(!1),W(null),await ne(),t(),setTimeout(()=>X(""),3e3)}catch(he){X(he.message||"Failed to deactivate module")}finally{Z(!1)}}},Me=()=>{if(B){const he=Xr.generateLicenseKey(B.name);L(he)}},Ae=(he,ke)=>he==="EXPIRED"||ke<=0?r.jsx(ti,{className:"w-4 h-4"}):he==="TRIAL"||ke<=7?r.jsx(or,{className:"w-4 h-4"}):r.jsx(Br,{className:"w-4 h-4"});return d?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(vs,{size:32,className:"text-amber-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:J.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:J.subtitle})]})]}),r.jsxs("div",{className:"flex space-x-1 bg-gray-200 dark:bg-gray-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>m("store"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${f==="store"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:J.store}),r.jsxs("button",{onClick:()=>m("installed"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${f==="installed"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:[J.installed," (",o.length,")"]})]})]}),ae&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${ae.includes("success")||ae.includes("started"),"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300"}`,children:ae}),r.jsx("div",{className:"mb-6 flex justify-end",children:r.jsxs("button",{onClick:ne,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(us,{size:16,className:"mr-2"}),J.refresh]})}),f==="store"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.length===0?r.jsx("div",{className:"col-span-full text-center py-12 text-gray-500 dark:text-gray-400",children:J.noModules}):a.map(he=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/20 rounded-lg",children:r.jsx(vs,{size:24,className:"text-amber-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:he.displayName}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["v",he.version," • ",he.author]})]})]}),he.isInstalled&&r.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${Xr.getStatusBadgeColor(he.licenseStatus||"",he.daysRemaining)}`,children:[Ae(he.licenseStatus||"",he.daysRemaining),r.jsx("span",{children:he.licenseStatus})]})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:he.description}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[J.category,":"]}),r.jsx("span",{className:"text-gray-900 dark:text-white capitalize",children:he.category})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[J.price,":"]}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:he.price===0?J.free:`$${he.price}`})]}),he.isInstalled&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status:"}),r.jsx("span",{className:Xr.getStatusColor(he.licenseStatus||"",he.daysRemaining),children:Xr.formatDaysRemaining(he.daysRemaining)})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[J.features,":"]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[he.features.slice(0,3).map((ke,Le)=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:ke},Le)),he.features.length>3&&r.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:["+",he.features.length-3," more"]})]})]}),r.jsx("div",{className:"flex space-x-2",children:he.isInstalled?r.jsxs("div",{className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-lg text-sm",children:[r.jsx(Br,{size:14,className:"mr-1"}),"Installed"]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>Be(he),disabled:z,className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm",children:[r.jsx(rC,{size:14,className:"mr-1"}),J.startTrial]}),r.jsxs("button",{onClick:()=>te(he),disabled:z,className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 text-sm",children:[r.jsx(ww,{size:14,className:"mr-1"}),J.install]})]})})]},he.id))}),f==="installed"&&r.jsx("div",{className:"space-y-4",children:o.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:J.noInstalled}):o.map(he=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/20 rounded-lg",children:r.jsx(vs,{size:24,className:"text-amber-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:he.displayName}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["License: ",he.licenseKey]}),he.organizationName&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Organization: ",he.organizationName]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${Xr.getStatusBadgeColor(he.status,he.daysRemaining)}`,children:[Ae(he.status,he.daysRemaining),r.jsx("span",{children:he.status})]}),r.jsx("p",{className:`text-sm mt-1 ${Xr.getStatusColor(he.status,he.daysRemaining)}`,children:Xr.formatDaysRemaining(he.daysRemaining)}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Expires: ",new Date(he.expiresAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ao,{size:14}),r.jsxs("span",{children:["Max ",he.maxUsers," users"]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ln,{size:14}),r.jsxs("span",{children:["Since ",new Date(he.activatedAt).toLocaleDateString()]})]})]}),r.jsxs("button",{onClick:()=>je(he.id),className:"flex items-center px-3 py-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-sm",children:[r.jsx(hn,{size:14,className:"mr-1"}),J.deactivate]})]})]},he.id))}),y&&B&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:J.enterLicense}),r.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"×"})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Installing: ",r.jsx("strong",{children:B.displayName})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[J.licenseKey," *"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:U,onChange:he=>L(he.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your license key"}),r.jsx("button",{onClick:Me,className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm",title:J.generateDemo,children:r.jsx(Eg,{size:16})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:J.organizationName}),r.jsx("input",{type:"text",value:R,onChange:he=>C(he.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your organization name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:J.contactEmail}),r.jsx("input",{type:"email",value:I,onChange:he=>T(he.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contact@example.com"})]}),ae&&r.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm",children:ae})]}),r.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:J.cancel}),r.jsx("button",{onClick:fe,disabled:z||!U.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:z?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Installing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ww,{size:16,className:"mr-2"}),J.activate]})})]})]})}),r.jsx(Bu,{isOpen:_,onClose:()=>{ie(!1),W(null)},onConfirm:Ce,title:e==="fr"?"Désactiver le module":"Deactivate Module",message:J.confirmDeactivate,confirmText:J.deactivate,cancelText:J.cancel,type:"warning",loading:$})]})})}const k7=()=>{const[e,t]=q.useState(null),[a,s]=q.useState(!0),[o,l]=q.useState("30d"),[d,g]=q.useState(null),f="http://localhost:5001/api",m=async()=>{try{s(!0),g(null);const L=localStorage.getItem("sil_lab_token"),R={"Content-Type":"application/json"};L&&(R.Authorization=`Bearer ${L}`);const C=await fetch(`${f}/analytics/overview?period=${o}`,{headers:R});if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const I=await C.json();t(I)}catch(L){console.error("Failed to fetch analytics data:",L),g("Failed to load analytics data. Please try again."),t({testsPerDay:[{date:"2025-08-15",count:45},{date:"2025-08-16",count:52},{date:"2025-08-17",count:38},{date:"2025-08-18",count:61},{date:"2025-08-19",count:49},{date:"2025-08-20",count:55},{date:"2025-08-21",count:43}],avgTAT:4.2,departmentShare:[{category:"Hematology",revenue:45},{category:"Biochemistry",revenue:35},{category:"Immunology",revenue:20}],totalRequests:156,completedRequests:142,pendingRequests:14,activeTechnicians:8,completionRate:91})}finally{s(!1)}};q.useEffect(()=>{m()},[o]);const y=L=>{l(L)},N=()=>{m()};if(a)return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(4)].map((L,R)=>r.jsx("div",{className:"h-24 bg-gray-200 rounded"},R))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"h-80 bg-gray-200 rounded"}),r.jsx("div",{className:"h-80 bg-gray-200 rounded"})]})]})});if(!e)return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-500 mb-4",children:"No analytics data available"}),r.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]})});const B=e.testsPerDay.map(L=>({date:L.date,value:L.count})),w=e.departmentShare.map(L=>({category:L.category,value:L.revenue})),U=e.departmentShare.map(L=>({category:L.category,value:L.revenue}));return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Essential laboratory metrics and insights"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("select",{value:o,onChange:L=>y(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"}),r.jsx("option",{value:"1y",children:"Last year"})]}),r.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Refresh"})]})]}),d&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:r.jsx("div",{className:"flex",children:r.jsxs("div",{className:"text-yellow-800",children:[r.jsx("strong",{children:"Note:"})," ",d," Showing sample data for demonstration."]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(Xo,{title:"Total Samples",value:e.totalRequests,icon:r.jsx(ds,{className:"w-6 h-6 text-blue-500"}),trend:{direction:"up",value:"+12%",label:"vs last period"}}),r.jsx(Xo,{title:"Avg Turnaround Time",value:e.avgTAT.toFixed(1),unit:"hrs",icon:r.jsx(ka,{className:"w-6 h-6 text-orange-500"}),trend:{direction:"down",value:"-8%",label:"improvement"}}),r.jsx(Xo,{title:"Active Technicians",value:e.activeTechnicians,icon:r.jsx(Ao,{className:"w-6 h-6 text-green-500"}),trend:{direction:"stable",value:"0%",label:"no change"}}),r.jsx(Xo,{title:"Completion Rate",value:e.completionRate.toFixed(1),unit:"%",icon:r.jsx(Br,{className:"w-6 h-6 text-purple-500"}),trend:{direction:"up",value:"+3%",label:"vs last period"}})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(VC,{title:"Samples Processed Over Time",icon:r.jsx(ws,{className:"w-5 h-5 text-blue-500"}),data:B,height:300,color:"#3B82F6",smooth:!0,gradient:!0}),r.jsx(GC,{title:"Work Distribution by Department",icon:r.jsx(b0,{className:"w-5 h-5 text-green-500"}),data:U,height:300,colors:["#3B82F6","#10B981","#F59E0B","#EF4444"],donut:!0})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6",children:r.jsx(ZE,{title:"Test Volume by Category",icon:r.jsx(Rr,{className:"w-5 h-5 text-purple-500"}),data:w,height:250,colors:["#8B5CF6","#06B6D4","#F59E0B","#EF4444"],horizontal:!1})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Quick Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.completedRequests}),r.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.pendingRequests}),r.jsx("div",{className:"text-sm text-gray-500",children:"Pending"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.testsPerDay.length>0?Math.round(e.testsPerDay.reduce((L,R)=>L+R.count,0)/e.testsPerDay.length):0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Daily Average"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.testsPerDay.length>0?Math.max(...e.testsPerDay.map(L=>L.count)):0}),r.jsx("div",{className:"text-sm text-gray-500",children:"Peak Day"})]})]})]})]})};function N7(){const{language:e}=zt(),[t,a]=q.useState([]),[s,o]=q.useState(null),[l,d]=q.useState(!0),[g,f]=q.useState({productId:"",type:"",startDate:"",endDate:"",limit:100}),m={title:e==="fr"?"Rapport d'Activité Stock":"Stock Activity Report",subtitle:e==="fr"?"Historique complet des activités de stock":"Complete stock activity history",filter:e==="fr"?"Filtrer":"Filter",export:e==="fr"?"Exporter":"Export",search:e==="fr"?"Rechercher...":"Search...",product:e==="fr"?"Produit":"Product",type:"Type",date:"Date",startDate:e==="fr"?"Date de début":"Start Date",endDate:e==="fr"?"Date de fin":"End Date",limit:e==="fr"?"Limite":"Limit",allTypes:e==="fr"?"Tous les types":"All Types",stockIn:e==="fr"?"Ajout Stock":"Stock In",stockOut:e==="fr"?"Utilisation Stock":"Stock Out",transfer:e==="fr"?"Transfert":"Transfer",adjustment:e==="fr"?"Ajustement":"Adjustment",quantity:e==="fr"?"Quantité":"Quantity",location:e==="fr"?"Emplacement":"Location",performedBy:e==="fr"?"Effectué par":"Performed By",notes:"Notes",department:e==="fr"?"Département":"Department",purpose:e==="fr"?"Objectif":"Purpose",supplier:e==="fr"?"Fournisseur":"Supplier",lotNumber:e==="fr"?"Numéro de lot":"Lot Number",expiryDate:e==="fr"?"Date d'expiration":"Expiry Date",unitCost:e==="fr"?"Coût unitaire":"Unit Cost",reason:e==="fr"?"Raison":"Reason",fromLocation:e==="fr"?"De":"From",toLocation:e==="fr"?"Vers":"To",oldQuantity:e==="fr"?"Ancienne quantité":"Old Quantity",newQuantity:e==="fr"?"Nouvelle quantité":"New Quantity",noData:e==="fr"?"Aucune donnée":"No data available",loading:e==="fr"?"Chargement...":"Loading...",summary:e==="fr"?"Résumé":"Summary",total:"Total",clearFilters:e==="fr"?"Effacer les filtres":"Clear Filters",applyFilters:e==="fr"?"Appliquer":"Apply"},y=async()=>{try{d(!0);const I=await xr.getStockActivities(g);a(I.activities||[]),o(I.summary||null)}catch(I){console.error("Error loading activities:",I),a([]),o(null)}finally{d(!1)}};q.useEffect(()=>{y()},[g]);const N=(I,T)=>{f(z=>({...z,[I]:T}))},B=()=>{f({productId:"",type:"",startDate:"",endDate:"",limit:100})},w=I=>{switch(I){case"STOCK_IN":return r.jsx(ws,{size:16,className:"text-green-600"});case"STOCK_OUT":return r.jsx(hl,{size:16,className:"text-red-600"});case"TRANSFER":return r.jsx(x0,{size:16,className:"text-blue-600"});case"ADJUSTMENT":return r.jsx(cn,{size:16,className:"text-orange-600"});default:return r.jsx(vs,{size:16,className:"text-gray-600"})}},U=I=>{switch(I){case"STOCK_IN":return"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800";case"STOCK_OUT":return"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800";case"TRANSFER":return"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800";case"ADJUSTMENT":return"bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:border-orange-800";default:return"bg-gray-50 border-gray-200 dark:bg-gray-900/20 dark:border-gray-800"}},L=I=>new Date(I).toLocaleString(),R=I=>`${I>0?"+":""}${I}`,C=async()=>{try{const T=(await xr.getStockActivities(g)).activities||[],z=["Date","Type","Product","Code","Category","Quantity","Location","Performed By","Notes","Department","Purpose","Supplier","Lot Number","Expiry Date","Unit Cost","Reason","From Location","To Location"],D=T.map(oe=>[L(oe.date),oe.type,oe.productName,oe.productCode,oe.category,R(oe.quantity),oe.location,oe.performedBy||"",oe.notes||"",oe.department||"",oe.purpose||"",oe.supplier||"",oe.lotNumber||"",oe.expiryDate?new Date(oe.expiryDate).toLocaleDateString():"",oe.unitCost||"",oe.reason||"",oe.fromLocation||"",oe.toLocation||""]),ae=[z,...D].map(oe=>oe.join(",")).join(`
`),X=new Blob([ae],{type:"text/csv;charset=utf-8;"}),_=URL.createObjectURL(X),ie=document.createElement("a");ie.setAttribute("href",_),ie.setAttribute("download",`stock-activities-${new Date().toISOString().split("T")[0]}.csv`),ie.style.visibility="hidden",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)}catch(I){console.error("Error exporting report:",I),alert(e==="fr"?"Erreur lors de l'exportation":"Error exporting report")}};return r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:m.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:m.subtitle})]}),s&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(vs,{className:"h-6 w-6 text-gray-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:m.total}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.total})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ws,{className:"h-6 w-6 text-green-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:m.stockIn}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.stockIn})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(hl,{className:"h-6 w-6 text-red-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:m.stockOut}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.stockOut})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(x0,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:m.transfer}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.transfers})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(cn,{className:"h-6 w-6 text-orange-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:m.adjustment}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.adjustments})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[r.jsx(RA,{className:"h-5 w-5 mr-2"}),m.filter]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:B,className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:m.clearFilters}),r.jsxs("button",{onClick:C,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center",children:[r.jsx(ji,{size:14,className:"mr-1"}),m.export]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.type}),r.jsxs("select",{value:g.type,onChange:I=>N("type",I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:m.allTypes}),r.jsx("option",{value:"STOCK_IN",children:m.stockIn}),r.jsx("option",{value:"STOCK_OUT",children:m.stockOut}),r.jsx("option",{value:"TRANSFER",children:m.transfer}),r.jsx("option",{value:"ADJUSTMENT",children:m.adjustment})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.startDate}),r.jsx("input",{type:"date",value:g.startDate,onChange:I=>N("startDate",I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.endDate}),r.jsx("input",{type:"date",value:g.endDate,onChange:I=>N("endDate",I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:m.limit}),r.jsxs("select",{value:g.limit,onChange:I=>N("limit",I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"}),r.jsx("option",{value:200,children:"200"}),r.jsx("option",{value:500,children:"500"})]})]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:m.loading})]})}):t.length===0?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(vs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m.noData})]})}):r.jsx("div",{className:"space-y-4 p-6",children:t.map(I=>r.jsx("div",{className:`border rounded-lg p-4 ${U(I.type)}`,children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"mt-1",children:w(I.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:I.productName}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",I.productCode,")"]}),r.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:I.category})]}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:I.description}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.quantity,":"]}),r.jsx("span",{className:`ml-1 ${I.quantity>0?"text-green-600":"text-red-600"}`,children:R(I.quantity)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.location,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.location})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.performedBy,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.performedBy||"-"})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.date,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:L(I.date)})]})]}),I.type==="STOCK_IN"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[I.supplier&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.supplier,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.supplier})]}),I.lotNumber&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.lotNumber,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.lotNumber})]}),I.expiryDate&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.expiryDate,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:new Date(I.expiryDate).toLocaleDateString()})]}),I.unitCost>0&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.unitCost,":"]}),r.jsxs("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:["$",I.unitCost]})]})]}),I.type==="STOCK_OUT"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[I.department&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.department,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.department})]}),I.purpose&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.purpose,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.purpose})]})]}),I.type==="TRANSFER"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.fromLocation,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.fromLocation})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.toLocation,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.toLocation})]})]}),I.type==="ADJUSTMENT"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.oldQuantity,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.oldQuantity})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.newQuantity,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.newQuantity})]}),I.reason&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.reason,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.reason})]})]}),I.notes&&r.jsxs("div",{className:"mt-2 text-sm",children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[m.notes,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:I.notes})]})]})]})})},I.id))})})]})}function C7(){const{language:e}=zt(),t=Dn(),[a,s]=q.useState([]),[o,l]=q.useState(!0),[d,g]=q.useState(""),[f,m]=q.useState(""),[y,N]=q.useState("summary"),B={title:e==="fr"?"Rapport de Stock":"Stock Report",subtitle:e==="fr"?"Visualiser et exporter les données de stock":"View and export stock data",search:e==="fr"?"Rechercher...":"Search...",allCategories:e==="fr"?"Toutes les catégories":"All Categories",export:e==="fr"?"Exporter":"Export",back:e==="fr"?"Retour":"Back",loading:e==="fr"?"Chargement...":"Loading...",product:e==="fr"?"Produit":"Product",code:"Code",category:e==="fr"?"Catégorie":"Category",currentStock:e==="fr"?"Stock Actuel":"Current Stock",expiringStock:e==="fr"?"Stock Expirant":"Expiring Stock",unit:e==="fr"?"Unité":"Unit",minStock:e==="fr"?"Stock Minimum":"Min Stock",noData:e==="fr"?"Aucune donnée disponible":"No data available",summary:e==="fr"?"Résumé":"Summary",activities:e==="fr"?"Activités":"Activities",stockSummary:e==="fr"?"Résumé du Stock":"Stock Summary",stockActivities:e==="fr"?"Activités de Stock":"Stock Activities"};q.useEffect(()=>{w()},[]);const w=async()=>{l(!0);try{const C=await xr.exportStockReport();s(Array.isArray(C)?C:[])}catch(C){console.error("Error loading report:",C)}finally{l(!1)}},U=async()=>{try{const C={search:d,category:f},I=await xr.exportStockReport(C);if(I&&Array.isArray(I)){const T=Object.keys(I[0]).join(","),z=I.map(ie=>Object.values(ie).join(",")),D=[T,...z].join(`
`),ae=new Blob([D],{type:"text/csv;charset=utf-8;"}),X=URL.createObjectURL(ae),_=document.createElement("a");_.setAttribute("href",X),_.setAttribute("download",`stock-report-${new Date().toISOString().split("T")[0]}.csv`),_.style.visibility="hidden",document.body.appendChild(_),_.click(),document.body.removeChild(_)}else console.error("Invalid response format for export")}catch(C){console.error("Error exporting stock report:",C)}},L=a.filter(C=>{const I=d===""||C.name.toLowerCase().includes(d.toLowerCase())||C.code.toLowerCase().includes(d.toLowerCase()),T=f===""||C.category===f;return I&&T}),R=[...new Set(a.map(C=>C.category))].filter(Boolean);return r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>t("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[r.jsx(ic,{size:20,className:"mr-2"}),B.back]}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:B.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:B.subtitle})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsxs("button",{onClick:()=>N("summary"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${y==="summary"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(Rr,{size:16,className:"mr-2"}),B.stockSummary]}),r.jsxs("button",{onClick:()=>N("activities"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${y==="activities"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(ds,{size:16,className:"mr-2"}),B.stockActivities]})]})})}),y==="summary"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:B.search,value:d,onChange:C=>g(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:f,onChange:C=>m(C.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:B.allCategories}),R.map(C=>r.jsx("option",{value:C,children:C},C))]})]}),r.jsx("div",{children:r.jsxs("button",{onClick:U,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(ji,{size:16,className:"mr-2"}),B.export]})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:B.loading})]})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.product}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.category}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.currentStock}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.expiringStock}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.unit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:B.minStock})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:L.length>0?L.map((C,I)=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.category}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.currentStock}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.expiringStock}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.unit}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.minStock})]},I)):r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:B.noData})})})]})})})]}):r.jsx(N7,{})]})}const q5=q.createContext(void 0),zt=()=>{const e=q.useContext(q5);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function B7(){const[e,t]=q.useState(()=>{const w=localStorage.getItem("sil_lab_token"),U=localStorage.getItem("sil_lab_user");if(w&&U)try{return JSON.parse(U)}catch(L){console.error("Error parsing user data:",L),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}return null}),[a,s]=q.useState(()=>{const w=localStorage.getItem("sil_lab_theme");return w||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),[o,l]=q.useState(()=>localStorage.getItem("sil_lab_language")||"fr");q.useEffect(()=>{const w=window.document.documentElement;w.classList.remove("light","dark"),w.classList.add(a),localStorage.setItem("sil_lab_theme",a)},[a]),q.useEffect(()=>{localStorage.setItem("sil_lab_language",o)},[o]),q.useEffect(()=>{const w=window.matchMedia("(prefers-color-scheme: dark)"),U=L=>{localStorage.getItem("sil_lab_theme")||s(L.matches?"dark":"light")};return w.addEventListener("change",U),()=>w.removeEventListener("change",U)},[]),q.useEffect(()=>{(async()=>{const U=localStorage.getItem("sil_lab_token");if(U&&!e)try{const L=await fetch("http://localhost:5001/api/auth/me",{headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"}});if(L.ok){const R=await L.json();t(R.user),localStorage.setItem("sil_lab_user",JSON.stringify(R.user))}else localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}catch(L){console.error("Error validating token:",L),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}})()},[e]);const y={user:e,login:async(w,U)=>{try{const L=await fetch("http://localhost:5001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:w,password:U})});if(L.ok){const R=await L.json();return t(R.user),localStorage.setItem("sil_lab_token",R.token),localStorage.setItem("sil_lab_user",JSON.stringify(R.user)),!0}else return console.error("Login failed"),!1}catch(L){return console.error("Login error:",L),!1}},logout:()=>{t(null),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")},theme:a,toggleTheme:()=>{s(w=>w==="light"?"dark":"light")},language:o,toggleLanguage:()=>{l(w=>w==="fr"?"en":"fr")}},[N,B]=q.useState(!1);return r.jsx(q5.Provider,{value:y,children:r.jsx(I6,{children:r.jsx("div",{className:`min-h-screen ${a==="dark"?"dark bg-gray-900":"bg-gray-50"}`,children:e?r.jsxs("div",{className:"flex flex-col lg:flex-row h-screen overflow-hidden",children:[N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>B(!1)}),r.jsx("div",{className:`fixed lg:static z-30 transform ${N?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out`,children:r.jsx(uL,{onClose:()=>B(!1)})}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:[r.jsx(E6,{onMenuClick:()=>B(!N)}),r.jsx("main",{className:"flex-1 overflow-y-auto p-2 sm:p-4 lg:p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx(dL,{children:r.jsxs(ux,{children:[r.jsx(Jt,{path:"/",element:r.jsx(Oh,{to:"/dashboard",replace:!0})}),r.jsx(Jt,{path:"/dashboard",element:r.jsx(bL,{})}),r.jsx(Jt,{path:"/patients",element:r.jsx(vL,{})}),r.jsx(Jt,{path:"/doctors",element:r.jsx(wL,{})}),r.jsx(Jt,{path:"/requests",element:r.jsx(kL,{})}),r.jsx(Jt,{path:"/new-request",element:r.jsx(PL,{})}),r.jsx(Jt,{path:"/analyses",element:r.jsx(NL,{})}),r.jsx(Jt,{path:"/results",element:r.jsx(sR,{})}),r.jsx(Jt,{path:"/validation",element:r.jsx(nR,{})}),r.jsx(Jt,{path:"/config/system",element:r.jsx(XM,{})}),r.jsx(Jt,{path:"/config/server-info",element:r.jsx(KM,{})}),r.jsx(Jt,{path:"/config/prices",element:r.jsx(WM,{})}),r.jsx(Jt,{path:"/config/users",element:r.jsx(ZM,{})}),r.jsx(Jt,{path:"/config/modules",element:r.jsx(w7,{})}),r.jsx(Jt,{path:"/analytics",element:r.jsx(k7,{})}),r.jsx(Jt,{path:"/config/audit",element:r.jsx(p7,{})}),r.jsx(Jt,{path:"/config/backup",element:r.jsx(RC,{})}),r.jsx(Jt,{path:"/modules/analytics-pro",element:r.jsx(qC,{})}),r.jsx(Jt,{path:"/analytics-pro",element:r.jsx(Oh,{to:"/modules/analytics-pro",replace:!0})}),r.jsx(Jt,{path:"/modules/billing-manager",element:r.jsx(_M,{})}),r.jsx(Jt,{path:"/modules/billing-manager-original",element:r.jsx(BillingModuleWrapper,{})}),r.jsx(Jt,{path:"/modules/billing-manager-minimal",element:r.jsx(GM,{})}),r.jsx(Jt,{path:"/modules/billing-manager-simple",element:r.jsx(VM,{})}),r.jsx(Jt,{path:"/modules/billing-manager-test",element:r.jsx(zM,{})}),r.jsx(Jt,{path:"/modules/*",element:r.jsx("div",{})}),r.jsx(Jt,{path:"/automates",element:r.jsx(v7,{})}),r.jsx(Jt,{path:"/quality-control",element:r.jsx(MC,{})}),r.jsx(Jt,{path:"/stock",element:r.jsx(Oh,{to:"/stock/dashboard",replace:!0})}),r.jsx(Jt,{path:"/stock/dashboard",element:r.jsx(t7,{})}),r.jsx(Jt,{path:"/stock/add",element:r.jsx(n7,{})}),r.jsx(Jt,{path:"/stock/create-product",element:r.jsx(i7,{})}),r.jsx(Jt,{path:"/stock/use",element:r.jsx(o7,{})}),r.jsx(Jt,{path:"/stock/transfer",element:r.jsx(l7,{onClose:()=>{}})}),r.jsx(Jt,{path:"/stock/adjust",element:r.jsx(c7,{})}),r.jsx(Jt,{path:"/stock/suppliers",element:r.jsx(A7,{})}),r.jsx(Jt,{path:"/stock/orders",element:r.jsx(h7,{})}),r.jsx(Jt,{path:"/stock/reports",element:r.jsx(C7,{})}),r.jsx(Jt,{path:"*",element:r.jsx(Oh,{to:"/dashboard",replace:!0})})]})})})})]})]}):r.jsx(hL,{})})})})}window.debugRequests=xL;QN(document.getElementById("root")).render(r.jsx(q.StrictMode,{children:r.jsx($3,{children:r.jsx(B7,{})})}));export{Nr as _,j7 as c,k2 as g};
