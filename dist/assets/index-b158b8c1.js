function ek(e,t){for(var a=0;a<t.length;a++){const s=t[a];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(s,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&s(A)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var j7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dv={exports:{}},kh={},Tv={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=Symbol.for("react.element"),rk=Symbol.for("react.portal"),ak=Symbol.for("react.fragment"),sk=Symbol.for("react.strict_mode"),nk=Symbol.for("react.profiler"),ik=Symbol.for("react.provider"),Ak=Symbol.for("react.context"),ok=Symbol.for("react.forward_ref"),lk=Symbol.for("react.suspense"),ck=Symbol.for("react.memo"),dk=Symbol.for("react.lazy"),Iy=Symbol.iterator;function uk(e){return e===null||typeof e!="object"?null:(e=Iy&&e[Iy]||e["@@iterator"],typeof e=="function"?e:null)}var Rv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hv=Object.assign,Mv={};function pl(e,t,a){this.props=e,this.context=t,this.refs=Mv,this.updater=a||Rv}pl.prototype.isReactComponent={};pl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ov(){}Ov.prototype=pl.prototype;function zp(e,t,a){this.props=e,this.context=t,this.refs=Mv,this.updater=a||Rv}var Vp=zp.prototype=new Ov;Vp.constructor=zp;Hv(Vp,pl.prototype);Vp.isPureReactComponent=!0;var Py=Array.isArray,_v=Object.prototype.hasOwnProperty,Gp={current:null},Kv={key:!0,ref:!0,__self:!0,__source:!0};function qv(e,t,a){var s,n={},i=null,A=null;if(t!=null)for(s in t.ref!==void 0&&(A=t.ref),t.key!==void 0&&(i=""+t.key),t)_v.call(t,s)&&!Kv.hasOwnProperty(s)&&(n[s]=t[s]);var o=arguments.length-2;if(o===1)n.children=a;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];n.children=l}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)n[s]===void 0&&(n[s]=o[s]);return{$$typeof:pd,type:e,key:i,ref:A,props:n,_owner:Gp.current}}function hk(e,t){return{$$typeof:pd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wp(e){return typeof e=="object"&&e!==null&&e.$$typeof===pd}function gk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var Dy=/\/+/g;function Zg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gk(""+e.key):t.toString(36)}function l0(e,t,a,s,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var A=!1;if(e===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(e.$$typeof){case pd:case rk:A=!0}}if(A)return A=e,n=n(A),e=s===""?"."+Zg(A,0):s,Py(n)?(a="",e!=null&&(a=e.replace(Dy,"$&/")+"/"),l0(n,t,a,"",function(c){return c})):n!=null&&(Wp(n)&&(n=hk(n,a+(!n.key||A&&A.key===n.key?"":(""+n.key).replace(Dy,"$&/")+"/")+e)),t.push(n)),1;if(A=0,s=s===""?".":s+":",Py(e))for(var o=0;o<e.length;o++){i=e[o];var l=s+Zg(i,o);A+=l0(i,t,a,l,n)}else if(l=uk(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=s+Zg(i,o++),A+=l0(i,t,a,l,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return A}function xu(e,t,a){if(e==null)return e;var s=[],n=0;return l0(e,s,"","",function(i){return t.call(a,i,n++)}),s}function fk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pa={current:null},c0={transition:null},mk={ReactCurrentDispatcher:pa,ReactCurrentBatchConfig:c0,ReactCurrentOwner:Gp};function zv(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:xu,forEach:function(e,t,a){xu(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return xu(e,function(){t++}),t},toArray:function(e){return xu(e,function(t){return t})||[]},only:function(e){if(!Wp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=pl;gt.Fragment=ak;gt.Profiler=nk;gt.PureComponent=zp;gt.StrictMode=sk;gt.Suspense=lk;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mk;gt.act=zv;gt.cloneElement=function(e,t,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Hv({},e.props),n=e.key,i=e.ref,A=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,A=Gp.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)_v.call(t,l)&&!Kv.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=a;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];s.children=o}return{$$typeof:pd,type:e.type,key:n,ref:i,props:s,_owner:A}};gt.createContext=function(e){return e={$$typeof:Ak,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ik,_context:e},e.Consumer=e};gt.createElement=qv;gt.createFactory=function(e){var t=qv.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:ok,render:e}};gt.isValidElement=Wp;gt.lazy=function(e){return{$$typeof:dk,_payload:{_status:-1,_result:e},_init:fk}};gt.memo=function(e,t){return{$$typeof:ck,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=c0.transition;c0.transition={};try{e()}finally{c0.transition=t}};gt.unstable_act=zv;gt.useCallback=function(e,t){return pa.current.useCallback(e,t)};gt.useContext=function(e){return pa.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return pa.current.useDeferredValue(e)};gt.useEffect=function(e,t){return pa.current.useEffect(e,t)};gt.useId=function(){return pa.current.useId()};gt.useImperativeHandle=function(e,t,a){return pa.current.useImperativeHandle(e,t,a)};gt.useInsertionEffect=function(e,t){return pa.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return pa.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return pa.current.useMemo(e,t)};gt.useReducer=function(e,t,a){return pa.current.useReducer(e,t,a)};gt.useRef=function(e){return pa.current.useRef(e)};gt.useState=function(e){return pa.current.useState(e)};gt.useSyncExternalStore=function(e,t,a){return pa.current.useSyncExternalStore(e,t,a)};gt.useTransition=function(){return pa.current.useTransition()};gt.version="18.3.1";Tv.exports=gt;var L=Tv.exports;const pk=tk(L),xk=ek({__proto__:null,default:pk},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk=L,bk=Symbol.for("react.element"),wk=Symbol.for("react.fragment"),vk=Object.prototype.hasOwnProperty,Bk=yk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nk={key:!0,ref:!0,__self:!0,__source:!0};function Vv(e,t,a){var s,n={},i=null,A=null;a!==void 0&&(i=""+a),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(A=t.ref);for(s in t)vk.call(t,s)&&!Nk.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:bk,type:e,key:i,ref:A,props:n,_owner:Bk.current}}kh.Fragment=wk;kh.jsx=Vv;kh.jsxs=Vv;Dv.exports=kh;var r=Dv.exports,Gv={exports:{}},$a={},Wv={exports:{}},$v={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,te){var ie=q.length;q.push(te);e:for(;0<ie;){var pe=ie-1>>>1,R=q[pe];if(0<n(R,te))q[pe]=te,q[ie]=R,ie=pe;else break e}}function a(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var te=q[0],ie=q.pop();if(ie!==te){q[0]=ie;e:for(var pe=0,R=q.length,$=R>>>1;pe<$;){var Y=2*(pe+1)-1,re=q[Y],ee=Y+1,se=q[ee];if(0>n(re,ie))ee<R&&0>n(se,re)?(q[pe]=se,q[ee]=ie,pe=ee):(q[pe]=re,q[Y]=ie,pe=Y);else if(ee<R&&0>n(se,ie))q[pe]=se,q[ee]=ie,pe=ee;else break e}}return te}function n(q,te){var ie=q.sortIndex-te.sortIndex;return ie!==0?ie:q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var A=Date,o=A.now();e.unstable_now=function(){return A.now()-o}}var l=[],c=[],u=1,h=null,x=3,g=!1,v=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var te=a(c);te!==null;){if(te.callback===null)s(c);else if(te.startTime<=q)s(c),te.sortIndex=te.expirationTime,t(l,te);else break;te=a(c)}}function E(q){if(y=!1,w(q),!v)if(a(l)!==null)v=!0,S(U);else{var te=a(c);te!==null&&X(E,te.startTime-q)}}function U(q,te){v=!1,y&&(y=!1,p(C),C=-1),g=!0;var ie=x;try{for(w(te),h=a(l);h!==null&&(!(h.expirationTime>te)||q&&!Q());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,x=h.priorityLevel;var R=pe(h.expirationTime<=te);te=e.unstable_now(),typeof R=="function"?h.callback=R:h===a(l)&&s(l),w(te)}else s(l);h=a(l)}if(h!==null)var $=!0;else{var Y=a(c);Y!==null&&X(E,Y.startTime-te),$=!1}return $}finally{h=null,x=ie,g=!1}}var D=!1,F=null,C=-1,K=5,M=-1;function Q(){return!(e.unstable_now()-M<K)}function j(){if(F!==null){var q=e.unstable_now();M=q;var te=!0;try{te=F(!0,q)}finally{te?T():(D=!1,F=null)}}else D=!1}var T;if(typeof m=="function")T=function(){m(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,H=z.port2;z.port1.onmessage=j,T=function(){H.postMessage(null)}}else T=function(){N(j,0)};function S(q){F=q,D||(D=!0,T())}function X(q,te){C=N(function(){q(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,S(U))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return a(l)},e.unstable_next=function(q){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var ie=x;x=te;try{return q()}finally{x=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=x;x=q;try{return te()}finally{x=ie}},e.unstable_scheduleCallback=function(q,te,ie){var pe=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?pe+ie:pe):ie=pe,q){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ie+R,q={id:u++,callback:te,priorityLevel:q,startTime:ie,expirationTime:R,sortIndex:-1},ie>pe?(q.sortIndex=ie,t(c,q),a(l)===null&&q===a(c)&&(y?(p(C),C=-1):y=!0,X(E,ie-pe))):(q.sortIndex=R,t(l,q),v||g||(v=!0,S(U))),q},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(q){var te=x;return function(){var ie=x;x=te;try{return q.apply(this,arguments)}finally{x=ie}}}})($v);Wv.exports=$v;var kk=Wv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jk=L,Wa=kk;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jv=new Set,Vc={};function MA(e,t){Al(e,t),Al(e+"Capture",t)}function Al(e,t){for(Vc[e]=t,e=0;e<t.length;e++)Jv.add(t[e])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,Ck=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ty={},Ry={};function Sk(e){return lm.call(Ry,e)?!0:lm.call(Ty,e)?!1:Ck.test(e)?Ry[e]=!0:(Ty[e]=!0,!1)}function Fk(e,t,a,s){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ek(e,t,a,s){if(t===null||typeof t>"u"||Fk(e,t,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xa(e,t,a,s,n,i,A){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=A}var qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qr[e]=new xa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qr[t]=new xa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qr[e]=new xa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qr[e]=new xa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qr[e]=new xa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qr[e]=new xa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qr[e]=new xa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qr[e]=new xa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qr[e]=new xa(e,5,!1,e.toLowerCase(),null,!1,!1)});var $p=/[\-:]([a-z])/g;function Jp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($p,Jp);qr[t]=new xa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($p,Jp);qr[t]=new xa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($p,Jp);qr[t]=new xa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qr[e]=new xa(e,1,!1,e.toLowerCase(),null,!1,!1)});qr.xlinkHref=new xa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qr[e]=new xa(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xp(e,t,a,s){var n=qr.hasOwnProperty(t)?qr[t]:null;(n!==null?n.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ek(t,a,n,s)&&(a=null),s||n===null?Sk(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):n.mustUseProperty?e[n.propertyName]=a===null?n.type===3?!1:"":a:(t=n.attributeName,s=n.attributeNamespace,a===null?e.removeAttribute(t):(n=n.type,a=n===3||n===4&&a===!0?"":""+a,s?e.setAttributeNS(s,t,a):e.setAttribute(t,a))))}var Wn=jk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yu=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),Yp=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),Xv=Symbol.for("react.provider"),Yv=Symbol.for("react.context"),Zp=Symbol.for("react.forward_ref"),dm=Symbol.for("react.suspense"),um=Symbol.for("react.suspense_list"),ex=Symbol.for("react.memo"),pi=Symbol.for("react.lazy"),Zv=Symbol.for("react.offscreen"),Hy=Symbol.iterator;function ac(e){return e===null||typeof e!="object"?null:(e=Hy&&e[Hy]||e["@@iterator"],typeof e=="function"?e:null)}var er=Object.assign,ef;function xc(e){if(ef===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ef=t&&t[1]||""}return`
`+ef+e}var tf=!1;function rf(e,t){if(!e||tf)return"";tf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),i=s.stack.split(`
`),A=n.length-1,o=i.length-1;1<=A&&0<=o&&n[A]!==i[o];)o--;for(;1<=A&&0<=o;A--,o--)if(n[A]!==i[o]){if(A!==1||o!==1)do if(A--,o--,0>o||n[A]!==i[o]){var l=`
`+n[A].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=A&&0<=o);break}}}finally{tf=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?xc(e):""}function Qk(e){switch(e.tag){case 5:return xc(e.type);case 16:return xc("Lazy");case 13:return xc("Suspense");case 19:return xc("SuspenseList");case 0:case 2:case 15:return e=rf(e.type,!1),e;case 11:return e=rf(e.type.render,!1),e;case 1:return e=rf(e.type,!0),e;default:return""}}function hm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Io:return"Fragment";case Lo:return"Portal";case cm:return"Profiler";case Yp:return"StrictMode";case dm:return"Suspense";case um:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yv:return(e.displayName||"Context")+".Consumer";case Xv:return(e._context.displayName||"Context")+".Provider";case Zp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ex:return t=e.displayName||null,t!==null?t:hm(e.type)||"Memo";case pi:t=e._payload,e=e._init;try{return hm(e(t))}catch{}}return null}function Uk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hm(t);case 8:return t===Yp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function e1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lk(e){var t=e1(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(A){s=""+A,i.call(this,A)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(A){s=""+A},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bu(e){e._valueTracker||(e._valueTracker=Lk(e))}function t1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=e1(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function L0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gm(e,t){var a=t.checked;return er({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function My(e,t){var a=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;a=Oi(t.value!=null?t.value:a),e._wrapperState={initialChecked:s,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r1(e,t){t=t.checked,t!=null&&Xp(e,"checked",t,!1)}function fm(e,t){r1(e,t);var a=Oi(t.value),s=t.type;if(a!=null)s==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mm(e,t.type,a):t.hasOwnProperty("defaultValue")&&mm(e,t.type,Oi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oy(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function mm(e,t,a){(t!=="number"||L0(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var yc=Array.isArray;function Go(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Oi(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function pm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return er({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _y(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(Se(92));if(yc(a)){if(1<a.length)throw Error(Se(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:Oi(a)}}function a1(e,t){var a=Oi(t.value),s=Oi(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),s!=null&&(e.defaultValue=""+s)}function Ky(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function s1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?s1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wu,n1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,s,n){MSApp.execUnsafeLocalFunction(function(){return e(t,a,s,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wu=wu||document.createElement("div"),wu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gc(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ik=["Webkit","ms","Moz","O"];Object.keys(Fc).forEach(function(e){Ik.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fc[t]=Fc[e]})});function i1(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||Fc.hasOwnProperty(e)&&Fc[e]?(""+t).trim():t+"px"}function A1(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=a.indexOf("--")===0,n=i1(a,t[a],s);a==="float"&&(a="cssFloat"),s?e.setProperty(a,n):e[a]=n}}var Pk=er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ym(e,t){if(t){if(Pk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function bm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wm=null;function tx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vm=null,Wo=null,$o=null;function qy(e){if(e=bd(e)){if(typeof vm!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=Eh(t),vm(e.stateNode,e.type,t))}}function o1(e){Wo?$o?$o.push(e):$o=[e]:Wo=e}function l1(){if(Wo){var e=Wo,t=$o;if($o=Wo=null,qy(e),t)for(e=0;e<t.length;e++)qy(t[e])}}function c1(e,t){return e(t)}function d1(){}var af=!1;function u1(e,t,a){if(af)return e(t,a);af=!0;try{return c1(e,t,a)}finally{af=!1,(Wo!==null||$o!==null)&&(d1(),l1())}}function Wc(e,t){var a=e.stateNode;if(a===null)return null;var s=Eh(a);if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(Se(231,t,typeof a));return a}var Bm=!1;if(_n)try{var sc={};Object.defineProperty(sc,"passive",{get:function(){Bm=!0}}),window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{Bm=!1}function Dk(e,t,a,s,n,i,A,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(a,c)}catch(u){this.onError(u)}}var Ec=!1,I0=null,P0=!1,Nm=null,Tk={onError:function(e){Ec=!0,I0=e}};function Rk(e,t,a,s,n,i,A,o,l){Ec=!1,I0=null,Dk.apply(Tk,arguments)}function Hk(e,t,a,s,n,i,A,o,l){if(Rk.apply(this,arguments),Ec){if(Ec){var c=I0;Ec=!1,I0=null}else throw Error(Se(198));P0||(P0=!0,Nm=c)}}function OA(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zy(e){if(OA(e)!==e)throw Error(Se(188))}function Mk(e){var t=e.alternate;if(!t){if(t=OA(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return zy(n),e;if(i===s)return zy(n),t;i=i.sibling}throw Error(Se(188))}if(a.return!==s.return)a=n,s=i;else{for(var A=!1,o=n.child;o;){if(o===a){A=!0,a=n,s=i;break}if(o===s){A=!0,s=n,a=i;break}o=o.sibling}if(!A){for(o=i.child;o;){if(o===a){A=!0,a=i,s=n;break}if(o===s){A=!0,s=i,a=n;break}o=o.sibling}if(!A)throw Error(Se(189))}}if(a.alternate!==s)throw Error(Se(190))}if(a.tag!==3)throw Error(Se(188));return a.stateNode.current===a?e:t}function g1(e){return e=Mk(e),e!==null?f1(e):null}function f1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f1(e);if(t!==null)return t;e=e.sibling}return null}var m1=Wa.unstable_scheduleCallback,Vy=Wa.unstable_cancelCallback,Ok=Wa.unstable_shouldYield,_k=Wa.unstable_requestPaint,ur=Wa.unstable_now,Kk=Wa.unstable_getCurrentPriorityLevel,rx=Wa.unstable_ImmediatePriority,p1=Wa.unstable_UserBlockingPriority,D0=Wa.unstable_NormalPriority,qk=Wa.unstable_LowPriority,x1=Wa.unstable_IdlePriority,jh=null,hn=null;function zk(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(jh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ts=Math.clz32?Math.clz32:Wk,Vk=Math.log,Gk=Math.LN2;function Wk(e){return e>>>=0,e===0?32:31-(Vk(e)/Gk|0)|0}var vu=64,Bu=4194304;function bc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function T0(e,t){var a=e.pendingLanes;if(a===0)return 0;var s=0,n=e.suspendedLanes,i=e.pingedLanes,A=a&268435455;if(A!==0){var o=A&~n;o!==0?s=bc(o):(i&=A,i!==0&&(s=bc(i)))}else A=a&~n,A!==0?s=bc(A):i!==0&&(s=bc(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&n)&&(n=s&-s,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(s&4&&(s|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)a=31-Ts(t),n=1<<a,s|=e[a],t&=~n;return s}function $k(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jk(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var A=31-Ts(i),o=1<<A,l=n[A];l===-1?(!(o&a)||o&s)&&(n[A]=$k(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function km(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function y1(){var e=vu;return vu<<=1,!(vu&4194240)&&(vu=64),e}function sf(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function xd(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ts(t),e[t]=a}function Xk(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<a;){var n=31-Ts(a),i=1<<n;t[n]=0,s[n]=-1,e[n]=-1,a&=~i}}function ax(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-Ts(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}var Ut=0;function b1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var w1,sx,v1,B1,N1,jm=!1,Nu=[],Fi=null,Ei=null,Qi=null,$c=new Map,Jc=new Map,bi=[],Yk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gy(e,t){switch(e){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":$c.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jc.delete(t.pointerId)}}function nc(e,t,a,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=bd(t),t!==null&&sx(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Zk(e,t,a,s,n){switch(t){case"focusin":return Fi=nc(Fi,e,t,a,s,n),!0;case"dragenter":return Ei=nc(Ei,e,t,a,s,n),!0;case"mouseover":return Qi=nc(Qi,e,t,a,s,n),!0;case"pointerover":var i=n.pointerId;return $c.set(i,nc($c.get(i)||null,e,t,a,s,n)),!0;case"gotpointercapture":return i=n.pointerId,Jc.set(i,nc(Jc.get(i)||null,e,t,a,s,n)),!0}return!1}function k1(e){var t=yA(e.target);if(t!==null){var a=OA(t);if(a!==null){if(t=a.tag,t===13){if(t=h1(a),t!==null){e.blockedOn=t,N1(e.priority,function(){v1(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function d0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Cm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);wm=s,a.target.dispatchEvent(s),wm=null}else return t=bd(a),t!==null&&sx(t),e.blockedOn=a,!1;t.shift()}return!0}function Wy(e,t,a){d0(e)&&a.delete(t)}function e4(){jm=!1,Fi!==null&&d0(Fi)&&(Fi=null),Ei!==null&&d0(Ei)&&(Ei=null),Qi!==null&&d0(Qi)&&(Qi=null),$c.forEach(Wy),Jc.forEach(Wy)}function ic(e,t){e.blockedOn===t&&(e.blockedOn=null,jm||(jm=!0,Wa.unstable_scheduleCallback(Wa.unstable_NormalPriority,e4)))}function Xc(e){function t(n){return ic(n,e)}if(0<Nu.length){ic(Nu[0],e);for(var a=1;a<Nu.length;a++){var s=Nu[a];s.blockedOn===e&&(s.blockedOn=null)}}for(Fi!==null&&ic(Fi,e),Ei!==null&&ic(Ei,e),Qi!==null&&ic(Qi,e),$c.forEach(t),Jc.forEach(t),a=0;a<bi.length;a++)s=bi[a],s.blockedOn===e&&(s.blockedOn=null);for(;0<bi.length&&(a=bi[0],a.blockedOn===null);)k1(a),a.blockedOn===null&&bi.shift()}var Jo=Wn.ReactCurrentBatchConfig,R0=!0;function t4(e,t,a,s){var n=Ut,i=Jo.transition;Jo.transition=null;try{Ut=1,nx(e,t,a,s)}finally{Ut=n,Jo.transition=i}}function r4(e,t,a,s){var n=Ut,i=Jo.transition;Jo.transition=null;try{Ut=4,nx(e,t,a,s)}finally{Ut=n,Jo.transition=i}}function nx(e,t,a,s){if(R0){var n=Cm(e,t,a,s);if(n===null)ff(e,t,s,H0,a),Gy(e,s);else if(Zk(n,e,t,a,s))s.stopPropagation();else if(Gy(e,s),t&4&&-1<Yk.indexOf(e)){for(;n!==null;){var i=bd(n);if(i!==null&&w1(i),i=Cm(e,t,a,s),i===null&&ff(e,t,s,H0,a),i===n)break;n=i}n!==null&&s.stopPropagation()}else ff(e,t,s,null,a)}}var H0=null;function Cm(e,t,a,s){if(H0=null,e=tx(s),e=yA(e),e!==null)if(t=OA(e),t===null)e=null;else if(a=t.tag,a===13){if(e=h1(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return H0=e,null}function j1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kk()){case rx:return 1;case p1:return 4;case D0:case qk:return 16;case x1:return 536870912;default:return 16}default:return 16}}var vi=null,ix=null,u0=null;function C1(){if(u0)return u0;var e,t=ix,a=t.length,s,n="value"in vi?vi.value:vi.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var A=a-e;for(s=1;s<=A&&t[a-s]===n[i-s];s++);return u0=n.slice(e,1<s?1-s:void 0)}function h0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ku(){return!0}function $y(){return!1}function Ja(e){function t(a,s,n,i,A){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ku:$y,this.isPropagationStopped=$y,this}return er(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),t}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ax=Ja(xl),yd=er({},xl,{view:0,detail:0}),a4=Ja(yd),nf,Af,Ac,Ch=er({},yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ox,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ac&&(Ac&&e.type==="mousemove"?(nf=e.screenX-Ac.screenX,Af=e.screenY-Ac.screenY):Af=nf=0,Ac=e),nf)},movementY:function(e){return"movementY"in e?e.movementY:Af}}),Jy=Ja(Ch),s4=er({},Ch,{dataTransfer:0}),n4=Ja(s4),i4=er({},yd,{relatedTarget:0}),of=Ja(i4),A4=er({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),o4=Ja(A4),l4=er({},xl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),c4=Ja(l4),d4=er({},xl,{data:0}),Xy=Ja(d4),u4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g4[e])?!!t[e]:!1}function ox(){return f4}var m4=er({},yd,{key:function(e){if(e.key){var t=u4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=h0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?h4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ox,charCode:function(e){return e.type==="keypress"?h0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?h0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p4=Ja(m4),x4=er({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yy=Ja(x4),y4=er({},yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ox}),b4=Ja(y4),w4=er({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),v4=Ja(w4),B4=er({},Ch,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N4=Ja(B4),k4=[9,13,27,32],lx=_n&&"CompositionEvent"in window,Qc=null;_n&&"documentMode"in document&&(Qc=document.documentMode);var j4=_n&&"TextEvent"in window&&!Qc,S1=_n&&(!lx||Qc&&8<Qc&&11>=Qc),Zy=String.fromCharCode(32),eb=!1;function F1(e,t){switch(e){case"keyup":return k4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Po=!1;function C4(e,t){switch(e){case"compositionend":return E1(t);case"keypress":return t.which!==32?null:(eb=!0,Zy);case"textInput":return e=t.data,e===Zy&&eb?null:e;default:return null}}function S4(e,t){if(Po)return e==="compositionend"||!lx&&F1(e,t)?(e=C1(),u0=ix=vi=null,Po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S1&&t.locale!=="ko"?null:t.data;default:return null}}var F4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!F4[e.type]:t==="textarea"}function Q1(e,t,a,s){o1(s),t=M0(t,"onChange"),0<t.length&&(a=new Ax("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Uc=null,Yc=null;function E4(e){_1(e,0)}function Sh(e){var t=Ro(e);if(t1(t))return e}function Q4(e,t){if(e==="change")return t}var U1=!1;if(_n){var lf;if(_n){var cf="oninput"in document;if(!cf){var rb=document.createElement("div");rb.setAttribute("oninput","return;"),cf=typeof rb.oninput=="function"}lf=cf}else lf=!1;U1=lf&&(!document.documentMode||9<document.documentMode)}function ab(){Uc&&(Uc.detachEvent("onpropertychange",L1),Yc=Uc=null)}function L1(e){if(e.propertyName==="value"&&Sh(Yc)){var t=[];Q1(t,Yc,e,tx(e)),u1(E4,t)}}function U4(e,t,a){e==="focusin"?(ab(),Uc=t,Yc=a,Uc.attachEvent("onpropertychange",L1)):e==="focusout"&&ab()}function L4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sh(Yc)}function I4(e,t){if(e==="click")return Sh(t)}function P4(e,t){if(e==="input"||e==="change")return Sh(t)}function D4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Os=typeof Object.is=="function"?Object.is:D4;function Zc(e,t){if(Os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!lm.call(t,n)||!Os(e[n],t[n]))return!1}return!0}function sb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nb(e,t){var a=sb(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sb(a)}}function I1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function P1(){for(var e=window,t=L0();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=L0(e.document)}return t}function cx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T4(e){var t=P1(),a=e.focusedElem,s=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&I1(a.ownerDocument.documentElement,a)){if(s!==null&&cx(a)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=a.textContent.length,i=Math.min(s.start,n);s=s.end===void 0?i:Math.min(s.end,n),!e.extend&&i>s&&(n=s,s=i,i=n),n=nb(a,i);var A=nb(a,s);n&&A&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==A.node||e.focusOffset!==A.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(A.node,A.offset)):(t.setEnd(A.node,A.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var R4=_n&&"documentMode"in document&&11>=document.documentMode,Do=null,Sm=null,Lc=null,Fm=!1;function ib(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fm||Do==null||Do!==L0(s)||(s=Do,"selectionStart"in s&&cx(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Lc&&Zc(Lc,s)||(Lc=s,s=M0(Sm,"onSelect"),0<s.length&&(t=new Ax("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Do)))}function ju(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var To={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},df={},D1={};_n&&(D1=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Fh(e){if(df[e])return df[e];if(!To[e])return e;var t=To[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in D1)return df[e]=t[a];return e}var T1=Fh("animationend"),R1=Fh("animationiteration"),H1=Fh("animationstart"),M1=Fh("transitionend"),O1=new Map,Ab="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(e,t){O1.set(e,t),MA(t,[e])}for(var uf=0;uf<Ab.length;uf++){var hf=Ab[uf],H4=hf.toLowerCase(),M4=hf[0].toUpperCase()+hf.slice(1);Wi(H4,"on"+M4)}Wi(T1,"onAnimationEnd");Wi(R1,"onAnimationIteration");Wi(H1,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(M1,"onTransitionEnd");Al("onMouseEnter",["mouseout","mouseover"]);Al("onMouseLeave",["mouseout","mouseover"]);Al("onPointerEnter",["pointerout","pointerover"]);Al("onPointerLeave",["pointerout","pointerover"]);MA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));MA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));MA("onBeforeInput",["compositionend","keypress","textInput","paste"]);MA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));MA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));MA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O4=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function ob(e,t,a){var s=e.type||"unknown-event";e.currentTarget=a,Hk(s,t,void 0,e),e.currentTarget=null}function _1(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var A=s.length-1;0<=A;A--){var o=s[A],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&n.isPropagationStopped())break e;ob(n,o,c),i=l}else for(A=0;A<s.length;A++){if(o=s[A],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&n.isPropagationStopped())break e;ob(n,o,c),i=l}}}if(P0)throw e=Nm,P0=!1,Nm=null,e}function _t(e,t){var a=t[Im];a===void 0&&(a=t[Im]=new Set);var s=e+"__bubble";a.has(s)||(K1(t,e,2,!1),a.add(s))}function gf(e,t,a){var s=0;t&&(s|=4),K1(a,e,s,t)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Cu]){e[Cu]=!0,Jv.forEach(function(a){a!=="selectionchange"&&(O4.has(a)||gf(a,!1,e),gf(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cu]||(t[Cu]=!0,gf("selectionchange",!1,t))}}function K1(e,t,a,s){switch(j1(t)){case 1:var n=t4;break;case 4:n=r4;break;default:n=nx}a=n.bind(null,t,a,e),n=void 0,!Bm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function ff(e,t,a,s,n){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var A=s.tag;if(A===3||A===4){var o=s.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(A===4)for(A=s.return;A!==null;){var l=A.tag;if((l===3||l===4)&&(l=A.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;A=A.return}for(;o!==null;){if(A=yA(o),A===null)return;if(l=A.tag,l===5||l===6){s=i=A;continue e}o=o.parentNode}}s=s.return}u1(function(){var c=i,u=tx(a),h=[];e:{var x=O1.get(e);if(x!==void 0){var g=Ax,v=e;switch(e){case"keypress":if(h0(a)===0)break e;case"keydown":case"keyup":g=p4;break;case"focusin":v="focus",g=of;break;case"focusout":v="blur",g=of;break;case"beforeblur":case"afterblur":g=of;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=n4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=b4;break;case T1:case R1:case H1:g=o4;break;case M1:g=v4;break;case"scroll":g=a4;break;case"wheel":g=N4;break;case"copy":case"cut":case"paste":g=c4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Yy}var y=(t&4)!==0,N=!y&&e==="scroll",p=y?x!==null?x+"Capture":null:x;y=[];for(var m=c,w;m!==null;){w=m;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,p!==null&&(E=Wc(m,p),E!=null&&y.push(td(m,E,w)))),N)break;m=m.return}0<y.length&&(x=new g(x,v,null,a,u),h.push({event:x,listeners:y}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",x&&a!==wm&&(v=a.relatedTarget||a.fromElement)&&(yA(v)||v[Kn]))break e;if((g||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,g?(v=a.relatedTarget||a.toElement,g=c,v=v?yA(v):null,v!==null&&(N=OA(v),v!==N||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(y=Jy,E="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=Yy,E="onPointerLeave",p="onPointerEnter",m="pointer"),N=g==null?x:Ro(g),w=v==null?x:Ro(v),x=new y(E,m+"leave",g,a,u),x.target=N,x.relatedTarget=w,E=null,yA(u)===c&&(y=new y(p,m+"enter",v,a,u),y.target=w,y.relatedTarget=N,E=y),N=E,g&&v)t:{for(y=g,p=v,m=0,w=y;w;w=yo(w))m++;for(w=0,E=p;E;E=yo(E))w++;for(;0<m-w;)y=yo(y),m--;for(;0<w-m;)p=yo(p),w--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=yo(y),p=yo(p)}y=null}else y=null;g!==null&&lb(h,x,g,y,!1),v!==null&&N!==null&&lb(h,N,v,y,!0)}}e:{if(x=c?Ro(c):window,g=x.nodeName&&x.nodeName.toLowerCase(),g==="select"||g==="input"&&x.type==="file")var U=Q4;else if(tb(x))if(U1)U=P4;else{U=L4;var D=U4}else(g=x.nodeName)&&g.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(U=I4);if(U&&(U=U(e,c))){Q1(h,U,a,u);break e}D&&D(e,x,c),e==="focusout"&&(D=x._wrapperState)&&D.controlled&&x.type==="number"&&mm(x,"number",x.value)}switch(D=c?Ro(c):window,e){case"focusin":(tb(D)||D.contentEditable==="true")&&(Do=D,Sm=c,Lc=null);break;case"focusout":Lc=Sm=Do=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,ib(h,a,u);break;case"selectionchange":if(R4)break;case"keydown":case"keyup":ib(h,a,u)}var F;if(lx)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Po?F1(e,a)&&(C="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(C="onCompositionStart");C&&(S1&&a.locale!=="ko"&&(Po||C!=="onCompositionStart"?C==="onCompositionEnd"&&Po&&(F=C1()):(vi=u,ix="value"in vi?vi.value:vi.textContent,Po=!0)),D=M0(c,C),0<D.length&&(C=new Xy(C,e,null,a,u),h.push({event:C,listeners:D}),F?C.data=F:(F=E1(a),F!==null&&(C.data=F)))),(F=j4?C4(e,a):S4(e,a))&&(c=M0(c,"onBeforeInput"),0<c.length&&(u=new Xy("onBeforeInput","beforeinput",null,a,u),h.push({event:u,listeners:c}),u.data=F))}_1(h,t)})}function td(e,t,a){return{instance:e,listener:t,currentTarget:a}}function M0(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=Wc(e,a),i!=null&&s.unshift(td(e,i,n)),i=Wc(e,t),i!=null&&s.push(td(e,i,n))),e=e.return}return s}function yo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lb(e,t,a,s,n){for(var i=t._reactName,A=[];a!==null&&a!==s;){var o=a,l=o.alternate,c=o.stateNode;if(l!==null&&l===s)break;o.tag===5&&c!==null&&(o=c,n?(l=Wc(a,i),l!=null&&A.unshift(td(a,l,o))):n||(l=Wc(a,i),l!=null&&A.push(td(a,l,o)))),a=a.return}A.length!==0&&e.push({event:t,listeners:A})}var _4=/\r\n?/g,K4=/\u0000|\uFFFD/g;function cb(e){return(typeof e=="string"?e:""+e).replace(_4,`
`).replace(K4,"")}function Su(e,t,a){if(t=cb(t),cb(e)!==t&&a)throw Error(Se(425))}function O0(){}var Em=null,Qm=null;function Um(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lm=typeof setTimeout=="function"?setTimeout:void 0,q4=typeof clearTimeout=="function"?clearTimeout:void 0,db=typeof Promise=="function"?Promise:void 0,z4=typeof queueMicrotask=="function"?queueMicrotask:typeof db<"u"?function(e){return db.resolve(null).then(e).catch(V4)}:Lm;function V4(e){setTimeout(function(){throw e})}function mf(e,t){var a=t,s=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){e.removeChild(n),Xc(t);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=n}while(a);Xc(t)}function Ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ub(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var yl=Math.random().toString(36).slice(2),dn="__reactFiber$"+yl,rd="__reactProps$"+yl,Kn="__reactContainer$"+yl,Im="__reactEvents$"+yl,G4="__reactListeners$"+yl,W4="__reactHandles$"+yl;function yA(e){var t=e[dn];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Kn]||a[dn]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=ub(e);e!==null;){if(a=e[dn])return a;e=ub(e)}return t}e=a,a=e.parentNode}return null}function bd(e){return e=e[dn]||e[Kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function Eh(e){return e[rd]||null}var Pm=[],Ho=-1;function $i(e){return{current:e}}function qt(e){0>Ho||(e.current=Pm[Ho],Pm[Ho]=null,Ho--)}function Ot(e,t){Ho++,Pm[Ho]=e.current,e.current=t}var _i={},Aa=$i(_i),Sa=$i(!1),QA=_i;function ol(e,t){var a=e.type.contextTypes;if(!a)return _i;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in a)n[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Fa(e){return e=e.childContextTypes,e!=null}function _0(){qt(Sa),qt(Aa)}function hb(e,t,a){if(Aa.current!==_i)throw Error(Se(168));Ot(Aa,t),Ot(Sa,a)}function q1(e,t,a){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var n in s)if(!(n in t))throw Error(Se(108,Uk(e)||"Unknown",n));return er({},a,s)}function K0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,QA=Aa.current,Ot(Aa,e),Ot(Sa,Sa.current),!0}function gb(e,t,a){var s=e.stateNode;if(!s)throw Error(Se(169));a?(e=q1(e,t,QA),s.__reactInternalMemoizedMergedChildContext=e,qt(Sa),qt(Aa),Ot(Aa,e)):qt(Sa),Ot(Sa,a)}var Dn=null,Qh=!1,pf=!1;function z1(e){Dn===null?Dn=[e]:Dn.push(e)}function $4(e){Qh=!0,z1(e)}function Ji(){if(!pf&&Dn!==null){pf=!0;var e=0,t=Ut;try{var a=Dn;for(Ut=1;e<a.length;e++){var s=a[e];do s=s(!0);while(s!==null)}Dn=null,Qh=!1}catch(n){throw Dn!==null&&(Dn=Dn.slice(e+1)),m1(rx,Ji),n}finally{Ut=t,pf=!1}}return null}var Mo=[],Oo=0,q0=null,z0=0,is=[],As=0,UA=null,Tn=1,Rn="";function gA(e,t){Mo[Oo++]=z0,Mo[Oo++]=q0,q0=e,z0=t}function V1(e,t,a){is[As++]=Tn,is[As++]=Rn,is[As++]=UA,UA=e;var s=Tn;e=Rn;var n=32-Ts(s)-1;s&=~(1<<n),a+=1;var i=32-Ts(t)+n;if(30<i){var A=n-n%5;i=(s&(1<<A)-1).toString(32),s>>=A,n-=A,Tn=1<<32-Ts(t)+n|a<<n|s,Rn=i+e}else Tn=1<<i|a<<n|s,Rn=e}function dx(e){e.return!==null&&(gA(e,1),V1(e,1,0))}function ux(e){for(;e===q0;)q0=Mo[--Oo],Mo[Oo]=null,z0=Mo[--Oo],Mo[Oo]=null;for(;e===UA;)UA=is[--As],is[As]=null,Rn=is[--As],is[As]=null,Tn=is[--As],is[As]=null}var za=null,_a=null,Gt=!1,Ps=null;function G1(e,t){var a=ls(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function fb(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,za=e,_a=Ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,za=e,_a=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=UA!==null?{id:Tn,overflow:Rn}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=ls(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,za=e,_a=null,!0):!1;default:return!1}}function Dm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tm(e){if(Gt){var t=_a;if(t){var a=t;if(!fb(e,t)){if(Dm(e))throw Error(Se(418));t=Ui(a.nextSibling);var s=za;t&&fb(e,t)?G1(s,a):(e.flags=e.flags&-4097|2,Gt=!1,za=e)}}else{if(Dm(e))throw Error(Se(418));e.flags=e.flags&-4097|2,Gt=!1,za=e}}}function mb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;za=e}function Fu(e){if(e!==za)return!1;if(!Gt)return mb(e),Gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Um(e.type,e.memoizedProps)),t&&(t=_a)){if(Dm(e))throw W1(),Error(Se(418));for(;t;)G1(e,t),t=Ui(t.nextSibling)}if(mb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){_a=Ui(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}_a=null}}else _a=za?Ui(e.stateNode.nextSibling):null;return!0}function W1(){for(var e=_a;e;)e=Ui(e.nextSibling)}function ll(){_a=za=null,Gt=!1}function hx(e){Ps===null?Ps=[e]:Ps.push(e)}var J4=Wn.ReactCurrentBatchConfig;function oc(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(Se(309));var s=a.stateNode}if(!s)throw Error(Se(147,e));var n=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(A){var o=n.refs;A===null?delete o[i]:o[i]=A},t._stringRef=i,t)}if(typeof e!="string")throw Error(Se(284));if(!a._owner)throw Error(Se(290,e))}return e}function Eu(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pb(e){var t=e._init;return t(e._payload)}function $1(e){function t(p,m){if(e){var w=p.deletions;w===null?(p.deletions=[m],p.flags|=16):w.push(m)}}function a(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function s(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function n(p,m){return p=Di(p,m),p.index=0,p.sibling=null,p}function i(p,m,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<m?(p.flags|=2,m):w):(p.flags|=2,m)):(p.flags|=1048576,m)}function A(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,m,w,E){return m===null||m.tag!==6?(m=Nf(w,p.mode,E),m.return=p,m):(m=n(m,w),m.return=p,m)}function l(p,m,w,E){var U=w.type;return U===Io?u(p,m,w.props.children,E,w.key):m!==null&&(m.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===pi&&pb(U)===m.type)?(E=n(m,w.props),E.ref=oc(p,m,w),E.return=p,E):(E=b0(w.type,w.key,w.props,null,p.mode,E),E.ref=oc(p,m,w),E.return=p,E)}function c(p,m,w,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=kf(w,p.mode,E),m.return=p,m):(m=n(m,w.children||[]),m.return=p,m)}function u(p,m,w,E,U){return m===null||m.tag!==7?(m=jA(w,p.mode,E,U),m.return=p,m):(m=n(m,w),m.return=p,m)}function h(p,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Nf(""+m,p.mode,w),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case yu:return w=b0(m.type,m.key,m.props,null,p.mode,w),w.ref=oc(p,null,m),w.return=p,w;case Lo:return m=kf(m,p.mode,w),m.return=p,m;case pi:var E=m._init;return h(p,E(m._payload),w)}if(yc(m)||ac(m))return m=jA(m,p.mode,w,null),m.return=p,m;Eu(p,m)}return null}function x(p,m,w,E){var U=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return U!==null?null:o(p,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yu:return w.key===U?l(p,m,w,E):null;case Lo:return w.key===U?c(p,m,w,E):null;case pi:return U=w._init,x(p,m,U(w._payload),E)}if(yc(w)||ac(w))return U!==null?null:u(p,m,w,E,null);Eu(p,w)}return null}function g(p,m,w,E,U){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(w)||null,o(m,p,""+E,U);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case yu:return p=p.get(E.key===null?w:E.key)||null,l(m,p,E,U);case Lo:return p=p.get(E.key===null?w:E.key)||null,c(m,p,E,U);case pi:var D=E._init;return g(p,m,w,D(E._payload),U)}if(yc(E)||ac(E))return p=p.get(w)||null,u(m,p,E,U,null);Eu(m,E)}return null}function v(p,m,w,E){for(var U=null,D=null,F=m,C=m=0,K=null;F!==null&&C<w.length;C++){F.index>C?(K=F,F=null):K=F.sibling;var M=x(p,F,w[C],E);if(M===null){F===null&&(F=K);break}e&&F&&M.alternate===null&&t(p,F),m=i(M,m,C),D===null?U=M:D.sibling=M,D=M,F=K}if(C===w.length)return a(p,F),Gt&&gA(p,C),U;if(F===null){for(;C<w.length;C++)F=h(p,w[C],E),F!==null&&(m=i(F,m,C),D===null?U=F:D.sibling=F,D=F);return Gt&&gA(p,C),U}for(F=s(p,F);C<w.length;C++)K=g(F,p,C,w[C],E),K!==null&&(e&&K.alternate!==null&&F.delete(K.key===null?C:K.key),m=i(K,m,C),D===null?U=K:D.sibling=K,D=K);return e&&F.forEach(function(Q){return t(p,Q)}),Gt&&gA(p,C),U}function y(p,m,w,E){var U=ac(w);if(typeof U!="function")throw Error(Se(150));if(w=U.call(w),w==null)throw Error(Se(151));for(var D=U=null,F=m,C=m=0,K=null,M=w.next();F!==null&&!M.done;C++,M=w.next()){F.index>C?(K=F,F=null):K=F.sibling;var Q=x(p,F,M.value,E);if(Q===null){F===null&&(F=K);break}e&&F&&Q.alternate===null&&t(p,F),m=i(Q,m,C),D===null?U=Q:D.sibling=Q,D=Q,F=K}if(M.done)return a(p,F),Gt&&gA(p,C),U;if(F===null){for(;!M.done;C++,M=w.next())M=h(p,M.value,E),M!==null&&(m=i(M,m,C),D===null?U=M:D.sibling=M,D=M);return Gt&&gA(p,C),U}for(F=s(p,F);!M.done;C++,M=w.next())M=g(F,p,C,M.value,E),M!==null&&(e&&M.alternate!==null&&F.delete(M.key===null?C:M.key),m=i(M,m,C),D===null?U=M:D.sibling=M,D=M);return e&&F.forEach(function(j){return t(p,j)}),Gt&&gA(p,C),U}function N(p,m,w,E){if(typeof w=="object"&&w!==null&&w.type===Io&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yu:e:{for(var U=w.key,D=m;D!==null;){if(D.key===U){if(U=w.type,U===Io){if(D.tag===7){a(p,D.sibling),m=n(D,w.props.children),m.return=p,p=m;break e}}else if(D.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===pi&&pb(U)===D.type){a(p,D.sibling),m=n(D,w.props),m.ref=oc(p,D,w),m.return=p,p=m;break e}a(p,D);break}else t(p,D);D=D.sibling}w.type===Io?(m=jA(w.props.children,p.mode,E,w.key),m.return=p,p=m):(E=b0(w.type,w.key,w.props,null,p.mode,E),E.ref=oc(p,m,w),E.return=p,p=E)}return A(p);case Lo:e:{for(D=w.key;m!==null;){if(m.key===D)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){a(p,m.sibling),m=n(m,w.children||[]),m.return=p,p=m;break e}else{a(p,m);break}else t(p,m);m=m.sibling}m=kf(w,p.mode,E),m.return=p,p=m}return A(p);case pi:return D=w._init,N(p,m,D(w._payload),E)}if(yc(w))return v(p,m,w,E);if(ac(w))return y(p,m,w,E);Eu(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(a(p,m.sibling),m=n(m,w),m.return=p,p=m):(a(p,m),m=Nf(w,p.mode,E),m.return=p,p=m),A(p)):a(p,m)}return N}var cl=$1(!0),J1=$1(!1),V0=$i(null),G0=null,_o=null,gx=null;function fx(){gx=_o=G0=null}function mx(e){var t=V0.current;qt(V0),e._currentValue=t}function Rm(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Xo(e,t){G0=e,gx=_o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ca=!0),e.firstContext=null)}function hs(e){var t=e._currentValue;if(gx!==e)if(e={context:e,memoizedValue:t,next:null},_o===null){if(G0===null)throw Error(Se(308));_o=e,G0.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var bA=null;function px(e){bA===null?bA=[e]:bA.push(e)}function X1(e,t,a,s){var n=t.interleaved;return n===null?(a.next=a,px(t)):(a.next=n.next,n.next=a),t.interleaved=a,qn(e,s)}function qn(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var xi=!1;function xx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Li(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,bt&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,qn(e,a)}return n=s.interleaved,n===null?(t.next=t,px(s)):(t.next=n.next,n.next=t),s.interleaved=t,qn(e,a)}function g0(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ax(e,a)}}function xb(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var A={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};i===null?n=i=A:i=i.next=A,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function W0(e,t,a,s){var n=e.updateQueue;xi=!1;var i=n.firstBaseUpdate,A=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,c=l.next;l.next=null,A===null?i=c:A.next=c,A=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==A&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=n.baseState;A=0,u=c=l=null,o=i;do{var x=o.lane,g=o.eventTime;if((s&x)===x){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,y=o;switch(x=t,g=a,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(g,h,x);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,x=typeof v=="function"?v.call(g,h,x):v,x==null)break e;h=er({},h,x);break e;case 2:xi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=n.effects,x===null?n.effects=[o]:x.push(o))}else g={eventTime:g,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,A|=x;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;x=o,o=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(1);if(u===null&&(l=h),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do A|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);IA|=A,e.lanes=A,e.memoizedState=h}}function yb(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(n!==null){if(s.callback=null,s=a,typeof n!="function")throw Error(Se(191,n));n.call(s)}}}var wd={},gn=$i(wd),ad=$i(wd),sd=$i(wd);function wA(e){if(e===wd)throw Error(Se(174));return e}function yx(e,t){switch(Ot(sd,t),Ot(ad,e),Ot(gn,wd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xm(t,e)}qt(gn),Ot(gn,t)}function dl(){qt(gn),qt(ad),qt(sd)}function Z1(e){wA(sd.current);var t=wA(gn.current),a=xm(t,e.type);t!==a&&(Ot(ad,e),Ot(gn,a))}function bx(e){ad.current===e&&(qt(gn),qt(ad))}var Jt=$i(0);function $0(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xf=[];function wx(){for(var e=0;e<xf.length;e++)xf[e]._workInProgressVersionPrimary=null;xf.length=0}var f0=Wn.ReactCurrentDispatcher,yf=Wn.ReactCurrentBatchConfig,LA=0,Xt=null,Cr=null,Ir=null,J0=!1,Ic=!1,nd=0,X4=0;function $r(){throw Error(Se(321))}function vx(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Os(e[a],t[a]))return!1;return!0}function Bx(e,t,a,s,n,i){if(LA=i,Xt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,f0.current=e===null||e.memoizedState===null?tj:rj,e=a(s,n),Ic){i=0;do{if(Ic=!1,nd=0,25<=i)throw Error(Se(301));i+=1,Ir=Cr=null,t.updateQueue=null,f0.current=aj,e=a(s,n)}while(Ic)}if(f0.current=X0,t=Cr!==null&&Cr.next!==null,LA=0,Ir=Cr=Xt=null,J0=!1,t)throw Error(Se(300));return e}function Nx(){var e=nd!==0;return nd=0,e}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?Xt.memoizedState=Ir=e:Ir=Ir.next=e,Ir}function gs(){if(Cr===null){var e=Xt.alternate;e=e!==null?e.memoizedState:null}else e=Cr.next;var t=Ir===null?Xt.memoizedState:Ir.next;if(t!==null)Ir=t,Cr=e;else{if(e===null)throw Error(Se(310));Cr=e,e={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Ir===null?Xt.memoizedState=Ir=e:Ir=Ir.next=e}return Ir}function id(e,t){return typeof t=="function"?t(e):t}function bf(e){var t=gs(),a=t.queue;if(a===null)throw Error(Se(311));a.lastRenderedReducer=e;var s=Cr,n=s.baseQueue,i=a.pending;if(i!==null){if(n!==null){var A=n.next;n.next=i.next,i.next=A}s.baseQueue=n=i,a.pending=null}if(n!==null){i=n.next,s=s.baseState;var o=A=null,l=null,c=i;do{var u=c.lane;if((LA&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,A=s):l=l.next=h,Xt.lanes|=u,IA|=u}c=c.next}while(c!==null&&c!==i);l===null?A=s:l.next=o,Os(s,t.memoizedState)||(Ca=!0),t.memoizedState=s,t.baseState=A,t.baseQueue=l,a.lastRenderedState=s}if(e=a.interleaved,e!==null){n=e;do i=n.lane,Xt.lanes|=i,IA|=i,n=n.next;while(n!==e)}else n===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function wf(e){var t=gs(),a=t.queue;if(a===null)throw Error(Se(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var A=n=n.next;do i=e(i,A.action),A=A.next;while(A!==n);Os(i,t.memoizedState)||(Ca=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,s]}function e2(){}function t2(e,t){var a=Xt,s=gs(),n=t(),i=!Os(s.memoizedState,n);if(i&&(s.memoizedState=n,Ca=!0),s=s.queue,kx(s2.bind(null,a,s,e),[e]),s.getSnapshot!==t||i||Ir!==null&&Ir.memoizedState.tag&1){if(a.flags|=2048,Ad(9,a2.bind(null,a,s,n,t),void 0,null),Dr===null)throw Error(Se(349));LA&30||r2(a,t,n)}return n}function r2(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function a2(e,t,a,s){t.value=a,t.getSnapshot=s,n2(t)&&i2(e)}function s2(e,t,a){return a(function(){n2(t)&&i2(e)})}function n2(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Os(e,a)}catch{return!0}}function i2(e){var t=qn(e,1);t!==null&&Rs(t,e,1,-1)}function bb(e){var t=cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:e},t.queue=e,e=e.dispatch=ej.bind(null,Xt,e),[t.memoizedState,e]}function Ad(e,t,a,s){return e={tag:e,create:t,destroy:a,deps:s,next:null},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e)),e}function A2(){return gs().memoizedState}function m0(e,t,a,s){var n=cn();Xt.flags|=e,n.memoizedState=Ad(1|t,a,void 0,s===void 0?null:s)}function Uh(e,t,a,s){var n=gs();s=s===void 0?null:s;var i=void 0;if(Cr!==null){var A=Cr.memoizedState;if(i=A.destroy,s!==null&&vx(s,A.deps)){n.memoizedState=Ad(t,a,i,s);return}}Xt.flags|=e,n.memoizedState=Ad(1|t,a,i,s)}function wb(e,t){return m0(8390656,8,e,t)}function kx(e,t){return Uh(2048,8,e,t)}function o2(e,t){return Uh(4,2,e,t)}function l2(e,t){return Uh(4,4,e,t)}function c2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function d2(e,t,a){return a=a!=null?a.concat([e]):null,Uh(4,4,c2.bind(null,t,e),a)}function jx(){}function u2(e,t){var a=gs();t=t===void 0?null:t;var s=a.memoizedState;return s!==null&&t!==null&&vx(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function h2(e,t){var a=gs();t=t===void 0?null:t;var s=a.memoizedState;return s!==null&&t!==null&&vx(t,s[1])?s[0]:(e=e(),a.memoizedState=[e,t],e)}function g2(e,t,a){return LA&21?(Os(a,t)||(a=y1(),Xt.lanes|=a,IA|=a,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ca=!0),e.memoizedState=a)}function Y4(e,t){var a=Ut;Ut=a!==0&&4>a?a:4,e(!0);var s=yf.transition;yf.transition={};try{e(!1),t()}finally{Ut=a,yf.transition=s}}function f2(){return gs().memoizedState}function Z4(e,t,a){var s=Pi(e);if(a={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null},m2(e))p2(t,a);else if(a=X1(e,t,a,s),a!==null){var n=fa();Rs(a,e,s,n),x2(a,t,s)}}function ej(e,t,a){var s=Pi(e),n={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null};if(m2(e))p2(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var A=t.lastRenderedState,o=i(A,a);if(n.hasEagerState=!0,n.eagerState=o,Os(o,A)){var l=t.interleaved;l===null?(n.next=n,px(t)):(n.next=l.next,l.next=n),t.interleaved=n;return}}catch{}finally{}a=X1(e,t,n,s),a!==null&&(n=fa(),Rs(a,e,s,n),x2(a,t,s))}}function m2(e){var t=e.alternate;return e===Xt||t!==null&&t===Xt}function p2(e,t){Ic=J0=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function x2(e,t,a){if(a&4194240){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ax(e,a)}}var X0={readContext:hs,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},tj={readContext:hs,useCallback:function(e,t){return cn().memoizedState=[e,t===void 0?null:t],e},useContext:hs,useEffect:wb,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,m0(4194308,4,c2.bind(null,t,e),a)},useLayoutEffect:function(e,t){return m0(4194308,4,e,t)},useInsertionEffect:function(e,t){return m0(4,2,e,t)},useMemo:function(e,t){var a=cn();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var s=cn();return t=a!==void 0?a(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Z4.bind(null,Xt,e),[s.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:bb,useDebugValue:jx,useDeferredValue:function(e){return cn().memoizedState=e},useTransition:function(){var e=bb(!1),t=e[0];return e=Y4.bind(null,e[1]),cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var s=Xt,n=cn();if(Gt){if(a===void 0)throw Error(Se(407));a=a()}else{if(a=t(),Dr===null)throw Error(Se(349));LA&30||r2(s,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,wb(s2.bind(null,s,i,e),[e]),s.flags|=2048,Ad(9,a2.bind(null,s,i,a,t),void 0,null),a},useId:function(){var e=cn(),t=Dr.identifierPrefix;if(Gt){var a=Rn,s=Tn;a=(s&~(1<<32-Ts(s)-1)).toString(32)+a,t=":"+t+"R"+a,a=nd++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=X4++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rj={readContext:hs,useCallback:u2,useContext:hs,useEffect:kx,useImperativeHandle:d2,useInsertionEffect:o2,useLayoutEffect:l2,useMemo:h2,useReducer:bf,useRef:A2,useState:function(){return bf(id)},useDebugValue:jx,useDeferredValue:function(e){var t=gs();return g2(t,Cr.memoizedState,e)},useTransition:function(){var e=bf(id)[0],t=gs().memoizedState;return[e,t]},useMutableSource:e2,useSyncExternalStore:t2,useId:f2,unstable_isNewReconciler:!1},aj={readContext:hs,useCallback:u2,useContext:hs,useEffect:kx,useImperativeHandle:d2,useInsertionEffect:o2,useLayoutEffect:l2,useMemo:h2,useReducer:wf,useRef:A2,useState:function(){return wf(id)},useDebugValue:jx,useDeferredValue:function(e){var t=gs();return Cr===null?t.memoizedState=e:g2(t,Cr.memoizedState,e)},useTransition:function(){var e=wf(id)[0],t=gs().memoizedState;return[e,t]},useMutableSource:e2,useSyncExternalStore:t2,useId:f2,unstable_isNewReconciler:!1};function Us(e,t){if(e&&e.defaultProps){t=er({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function Hm(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:er({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lh={isMounted:function(e){return(e=e._reactInternals)?OA(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var s=fa(),n=Pi(e),i=Mn(s,n);i.payload=t,a!=null&&(i.callback=a),t=Li(e,i,n),t!==null&&(Rs(t,e,n,s),g0(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=fa(),n=Pi(e),i=Mn(s,n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=Li(e,i,n),t!==null&&(Rs(t,e,n,s),g0(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=fa(),s=Pi(e),n=Mn(a,s);n.tag=2,t!=null&&(n.callback=t),t=Li(e,n,s),t!==null&&(Rs(t,e,s,a),g0(t,e,s))}};function vb(e,t,a,s,n,i,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,A):t.prototype&&t.prototype.isPureReactComponent?!Zc(a,s)||!Zc(n,i):!0}function y2(e,t,a){var s=!1,n=_i,i=t.contextType;return typeof i=="object"&&i!==null?i=hs(i):(n=Fa(t)?QA:Aa.current,s=t.contextTypes,i=(s=s!=null)?ol(e,n):_i),t=new t(a,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lh,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function Bb(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Lh.enqueueReplaceState(t,t.state,null)}function Mm(e,t,a,s){var n=e.stateNode;n.props=a,n.state=e.memoizedState,n.refs={},xx(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=hs(i):(i=Fa(t)?QA:Aa.current,n.context=ol(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hm(e,t,i,a),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&Lh.enqueueReplaceState(n,n.state,null),W0(e,a,n,s),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function ul(e,t){try{var a="",s=t;do a+=Qk(s),s=s.return;while(s);var n=a}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function vf(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function Om(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var sj=typeof WeakMap=="function"?WeakMap:Map;function b2(e,t,a){a=Mn(-1,a),a.tag=3,a.payload={element:null};var s=t.value;return a.callback=function(){Z0||(Z0=!0,Xm=s),Om(e,t)},a}function w2(e,t,a){a=Mn(-1,a),a.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var n=t.value;a.payload=function(){return s(n)},a.callback=function(){Om(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(a.callback=function(){Om(e,t),typeof s!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var A=t.stack;this.componentDidCatch(t.value,{componentStack:A!==null?A:""})}),a}function Nb(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new sj;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(n.add(a),e=xj.bind(null,e,t,a),t.then(e,e))}function kb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jb(e,t,a,s,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=Mn(-1,1),t.tag=2,Li(a,t,1))),a.lanes|=1),e)}var nj=Wn.ReactCurrentOwner,Ca=!1;function ga(e,t,a,s){t.child=e===null?J1(t,null,a,s):cl(t,e.child,a,s)}function Cb(e,t,a,s,n){a=a.render;var i=t.ref;return Xo(t,n),s=Bx(e,t,a,s,i,n),a=Nx(),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,zn(e,t,n)):(Gt&&a&&dx(t),t.flags|=1,ga(e,t,s,n),t.child)}function Sb(e,t,a,s,n){if(e===null){var i=a.type;return typeof i=="function"&&!Ix(i)&&i.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=i,v2(e,t,i,s,n)):(e=b0(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var A=i.memoizedProps;if(a=a.compare,a=a!==null?a:Zc,a(A,s)&&e.ref===t.ref)return zn(e,t,n)}return t.flags|=1,e=Di(i,s),e.ref=t.ref,e.return=t,t.child=e}function v2(e,t,a,s,n){if(e!==null){var i=e.memoizedProps;if(Zc(i,s)&&e.ref===t.ref)if(Ca=!1,t.pendingProps=s=i,(e.lanes&n)!==0)e.flags&131072&&(Ca=!0);else return t.lanes=e.lanes,zn(e,t,n)}return _m(e,t,a,s,n)}function B2(e,t,a){var s=t.pendingProps,n=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(qo,Ma),Ma|=a;else{if(!(a&1073741824))return e=i!==null?i.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ot(qo,Ma),Ma|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:a,Ot(qo,Ma),Ma|=s}else i!==null?(s=i.baseLanes|a,t.memoizedState=null):s=a,Ot(qo,Ma),Ma|=s;return ga(e,t,n,a),t.child}function N2(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function _m(e,t,a,s,n){var i=Fa(a)?QA:Aa.current;return i=ol(t,i),Xo(t,n),a=Bx(e,t,a,s,i,n),s=Nx(),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,zn(e,t,n)):(Gt&&s&&dx(t),t.flags|=1,ga(e,t,a,n),t.child)}function Fb(e,t,a,s,n){if(Fa(a)){var i=!0;K0(t)}else i=!1;if(Xo(t,n),t.stateNode===null)p0(e,t),y2(t,a,s),Mm(t,a,s,n),s=!0;else if(e===null){var A=t.stateNode,o=t.memoizedProps;A.props=o;var l=A.context,c=a.contextType;typeof c=="object"&&c!==null?c=hs(c):(c=Fa(a)?QA:Aa.current,c=ol(t,c));var u=a.getDerivedStateFromProps,h=typeof u=="function"||typeof A.getSnapshotBeforeUpdate=="function";h||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==s||l!==c)&&Bb(t,A,s,c),xi=!1;var x=t.memoizedState;A.state=x,W0(t,s,A,n),l=t.memoizedState,o!==s||x!==l||Sa.current||xi?(typeof u=="function"&&(Hm(t,a,u,s),l=t.memoizedState),(o=xi||vb(t,a,o,s,x,l,c))?(h||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(t.flags|=4194308)):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),A.props=s,A.state=l,A.context=c,s=o):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{A=t.stateNode,Y1(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Us(t.type,o),A.props=c,h=t.pendingProps,x=A.context,l=a.contextType,typeof l=="object"&&l!==null?l=hs(l):(l=Fa(a)?QA:Aa.current,l=ol(t,l));var g=a.getDerivedStateFromProps;(u=typeof g=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==h||x!==l)&&Bb(t,A,s,l),xi=!1,x=t.memoizedState,A.state=x,W0(t,s,A,n);var v=t.memoizedState;o!==h||x!==v||Sa.current||xi?(typeof g=="function"&&(Hm(t,a,g,s),v=t.memoizedState),(c=xi||vb(t,a,c,s,x,v,l)||!1)?(u||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(s,v,l),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(s,v,l)),typeof A.componentDidUpdate=="function"&&(t.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof A.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),A.props=s,A.state=v,A.context=l,s=c):(typeof A.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),s=!1)}return Km(e,t,a,s,i,n)}function Km(e,t,a,s,n,i){N2(e,t);var A=(t.flags&128)!==0;if(!s&&!A)return n&&gb(t,a,!1),zn(e,t,i);s=t.stateNode,nj.current=t;var o=A&&typeof a.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&A?(t.child=cl(t,e.child,null,i),t.child=cl(t,null,o,i)):ga(e,t,o,i),t.memoizedState=s.state,n&&gb(t,a,!0),t.child}function k2(e){var t=e.stateNode;t.pendingContext?hb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hb(e,t.context,!1),yx(e,t.containerInfo)}function Eb(e,t,a,s,n){return ll(),hx(n),t.flags|=256,ga(e,t,a,s),t.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function zm(e){return{baseLanes:e,cachePool:null,transitions:null}}function j2(e,t,a){var s=t.pendingProps,n=Jt.current,i=!1,A=(t.flags&128)!==0,o;if((o=A)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Ot(Jt,n&1),e===null)return Tm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(A=s.children,e=s.fallback,i?(s=t.mode,i=t.child,A={mode:"hidden",children:A},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=Dh(A,s,0,null),e=jA(e,s,a,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=zm(a),t.memoizedState=qm,e):Cx(t,A));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return ij(e,t,A,s,o,n,a);if(i){i=s.fallback,A=t.mode,n=e.child,o=n.sibling;var l={mode:"hidden",children:s.children};return!(A&1)&&t.child!==n?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=Di(n,l),s.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=Di(o,i):(i=jA(i,A,a,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,A=e.child.memoizedState,A=A===null?zm(a):{baseLanes:A.baseLanes|a,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=e.childLanes&~a,t.memoizedState=qm,s}return i=e.child,e=i.sibling,s=Di(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=a),s.return=t,s.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=s,t.memoizedState=null,s}function Cx(e,t){return t=Dh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qu(e,t,a,s){return s!==null&&hx(s),cl(t,e.child,null,a),e=Cx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ij(e,t,a,s,n,i,A){if(a)return t.flags&256?(t.flags&=-257,s=vf(Error(Se(422))),Qu(e,t,A,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,n=t.mode,s=Dh({mode:"visible",children:s.children},n,0,null),i=jA(i,n,A,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&cl(t,e.child,null,A),t.child.memoizedState=zm(A),t.memoizedState=qm,i);if(!(t.mode&1))return Qu(e,t,A,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(Se(419)),s=vf(i,s,void 0),Qu(e,t,A,s)}if(o=(A&e.childLanes)!==0,Ca||o){if(s=Dr,s!==null){switch(A&-A){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|A)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,qn(e,n),Rs(s,e,n,-1))}return Lx(),s=vf(Error(Se(421))),Qu(e,t,A,s)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=yj.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,_a=Ui(n.nextSibling),za=t,Gt=!0,Ps=null,e!==null&&(is[As++]=Tn,is[As++]=Rn,is[As++]=UA,Tn=e.id,Rn=e.overflow,UA=t),t=Cx(t,s.children),t.flags|=4096,t)}function Qb(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Rm(e.return,t,a)}function Bf(e,t,a,s,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=a,i.tailMode=n)}function C2(e,t,a){var s=t.pendingProps,n=s.revealOrder,i=s.tail;if(ga(e,t,s.children,a),s=Jt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qb(e,a,t);else if(e.tag===19)Qb(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ot(Jt,s),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&$0(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Bf(t,!1,n,a,i);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&$0(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Bf(t,!0,a,null,i);break;case"together":Bf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function p0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),IA|=t.lanes,!(a&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,a=Di(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Di(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Aj(e,t,a){switch(t.tag){case 3:k2(t),ll();break;case 5:Z1(t);break;case 1:Fa(t.type)&&K0(t);break;case 4:yx(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;Ot(V0,s._currentValue),s._currentValue=n;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ot(Jt,Jt.current&1),t.flags|=128,null):a&t.child.childLanes?j2(e,t,a):(Ot(Jt,Jt.current&1),e=zn(e,t,a),e!==null?e.sibling:null);Ot(Jt,Jt.current&1);break;case 19:if(s=(a&t.childLanes)!==0,e.flags&128){if(s)return C2(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ot(Jt,Jt.current),s)break;return null;case 22:case 23:return t.lanes=0,B2(e,t,a)}return zn(e,t,a)}var S2,Vm,F2,E2;S2=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Vm=function(){};F2=function(e,t,a,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,wA(gn.current);var i=null;switch(a){case"input":n=gm(e,n),s=gm(e,s),i=[];break;case"select":n=er({},n,{value:void 0}),s=er({},s,{value:void 0}),i=[];break;case"textarea":n=pm(e,n),s=pm(e,s),i=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=O0)}ym(a,s);var A;a=null;for(c in n)if(!s.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var o=n[c];for(A in o)o.hasOwnProperty(A)&&(a||(a={}),a[A]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in s){var l=s[c];if(o=n!=null?n[c]:void 0,s.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(A in o)!o.hasOwnProperty(A)||l&&l.hasOwnProperty(A)||(a||(a={}),a[A]="");for(A in l)l.hasOwnProperty(A)&&o[A]!==l[A]&&(a||(a={}),a[A]=l[A])}else a||(i||(i=[]),i.push(c,a)),a=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_t("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}a&&(i=i||[]).push("style",a);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};E2=function(e,t,a,s){a!==s&&(t.flags|=4)};function lc(e,t){if(!Gt)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function oj(e,t,a){var s=t.pendingProps;switch(ux(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(t),null;case 1:return Fa(t.type)&&_0(),Jr(t),null;case 3:return s=t.stateNode,dl(),qt(Sa),qt(Aa),wx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Fu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ps!==null&&(ep(Ps),Ps=null))),Vm(e,t),Jr(t),null;case 5:bx(t);var n=wA(sd.current);if(a=t.type,e!==null&&t.stateNode!=null)F2(e,t,a,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Se(166));return Jr(t),null}if(e=wA(gn.current),Fu(t)){s=t.stateNode,a=t.type;var i=t.memoizedProps;switch(s[dn]=t,s[rd]=i,e=(t.mode&1)!==0,a){case"dialog":_t("cancel",s),_t("close",s);break;case"iframe":case"object":case"embed":_t("load",s);break;case"video":case"audio":for(n=0;n<wc.length;n++)_t(wc[n],s);break;case"source":_t("error",s);break;case"img":case"image":case"link":_t("error",s),_t("load",s);break;case"details":_t("toggle",s);break;case"input":My(s,i),_t("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},_t("invalid",s);break;case"textarea":_y(s,i),_t("invalid",s)}ym(a,i),n=null;for(var A in i)if(i.hasOwnProperty(A)){var o=i[A];A==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&Su(s.textContent,o,e),n=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Su(s.textContent,o,e),n=["children",""+o]):Vc.hasOwnProperty(A)&&o!=null&&A==="onScroll"&&_t("scroll",s)}switch(a){case"input":bu(s),Oy(s,i,!0);break;case"textarea":bu(s),Ky(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=O0)}s=n,t.updateQueue=s,s!==null&&(t.flags|=4)}else{A=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=s1(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=A.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=A.createElement(a,{is:s.is}):(e=A.createElement(a),a==="select"&&(A=e,s.multiple?A.multiple=!0:s.size&&(A.size=s.size))):e=A.createElementNS(e,a),e[dn]=t,e[rd]=s,S2(e,t,!1,!1),t.stateNode=e;e:{switch(A=bm(a,s),a){case"dialog":_t("cancel",e),_t("close",e),n=s;break;case"iframe":case"object":case"embed":_t("load",e),n=s;break;case"video":case"audio":for(n=0;n<wc.length;n++)_t(wc[n],e);n=s;break;case"source":_t("error",e),n=s;break;case"img":case"image":case"link":_t("error",e),_t("load",e),n=s;break;case"details":_t("toggle",e),n=s;break;case"input":My(e,s),n=gm(e,s),_t("invalid",e);break;case"option":n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=er({},s,{value:void 0}),_t("invalid",e);break;case"textarea":_y(e,s),n=pm(e,s),_t("invalid",e);break;default:n=s}ym(a,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?A1(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&n1(e,l)):i==="children"?typeof l=="string"?(a!=="textarea"||l!=="")&&Gc(e,l):typeof l=="number"&&Gc(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_t("scroll",e):l!=null&&Xp(e,i,l,A))}switch(a){case"input":bu(e),Oy(e,s,!1);break;case"textarea":bu(e),Ky(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Oi(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Go(e,!!s.multiple,i,!1):s.defaultValue!=null&&Go(e,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=O0)}switch(a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jr(t),null;case 6:if(e&&t.stateNode!=null)E2(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Se(166));if(a=wA(sd.current),wA(gn.current),Fu(t)){if(s=t.stateNode,a=t.memoizedProps,s[dn]=t,(i=s.nodeValue!==a)&&(e=za,e!==null))switch(e.tag){case 3:Su(s.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Su(s.nodeValue,a,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[dn]=t,t.stateNode=s}return Jr(t),null;case 13:if(qt(Jt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gt&&_a!==null&&t.mode&1&&!(t.flags&128))W1(),ll(),t.flags|=98560,i=!1;else if(i=Fu(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Se(317));i[dn]=t}else ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jr(t),i=!1}else Ps!==null&&(ep(Ps),Ps=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=a,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Jt.current&1?Fr===0&&(Fr=3):Lx())),t.updateQueue!==null&&(t.flags|=4),Jr(t),null);case 4:return dl(),Vm(e,t),e===null&&ed(t.stateNode.containerInfo),Jr(t),null;case 10:return mx(t.type._context),Jr(t),null;case 17:return Fa(t.type)&&_0(),Jr(t),null;case 19:if(qt(Jt),i=t.memoizedState,i===null)return Jr(t),null;if(s=(t.flags&128)!==0,A=i.rendering,A===null)if(s)lc(i,!1);else{if(Fr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(A=$0(e),A!==null){for(t.flags|=128,lc(i,!1),s=A.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=a,a=t.child;a!==null;)i=a,e=s,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,e=A.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Ot(Jt,Jt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ur()>hl&&(t.flags|=128,s=!0,lc(i,!1),t.lanes=4194304)}else{if(!s)if(e=$0(A),e!==null){if(t.flags|=128,s=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),lc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!Gt)return Jr(t),null}else 2*ur()-i.renderingStartTime>hl&&a!==1073741824&&(t.flags|=128,s=!0,lc(i,!1),t.lanes=4194304);i.isBackwards?(A.sibling=t.child,t.child=A):(a=i.last,a!==null?a.sibling=A:t.child=A,i.last=A)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ur(),t.sibling=null,a=Jt.current,Ot(Jt,s?a&1|2:a&1),t):(Jr(t),null);case 22:case 23:return Ux(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ma&1073741824&&(Jr(t),t.subtreeFlags&6&&(t.flags|=8192)):Jr(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function lj(e,t){switch(ux(t),t.tag){case 1:return Fa(t.type)&&_0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dl(),qt(Sa),qt(Aa),wx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bx(t),null;case 13:if(qt(Jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(Jt),null;case 4:return dl(),null;case 10:return mx(t.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var Uu=!1,sa=!1,cj=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Ko(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){ir(e,t,s)}else a.current=null}function Gm(e,t,a){try{a()}catch(s){ir(e,t,s)}}var Ub=!1;function dj(e,t){if(Em=R0,e=P1(),cx(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var A=0,o=-1,l=-1,c=0,u=0,h=e,x=null;t:for(;;){for(var g;h!==a||n!==0&&h.nodeType!==3||(o=A+n),h!==i||s!==0&&h.nodeType!==3||(l=A+s),h.nodeType===3&&(A+=h.nodeValue.length),(g=h.firstChild)!==null;)x=h,h=g;for(;;){if(h===e)break t;if(x===a&&++c===n&&(o=A),x===i&&++u===s&&(l=A),(g=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=g}a=o===-1||l===-1?null:{start:o,end:l}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qm={focusedElem:e,selectionRange:a},R0=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){t=ze;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,N=v.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:Us(t.type,y),N);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(E){ir(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}return v=Ub,Ub=!1,v}function Pc(e,t,a){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Gm(t,a,i)}n=n.next}while(n!==s)}}function Ih(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var s=a.create;a.destroy=s()}a=a.next}while(a!==t)}}function Wm(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function Q2(e){var t=e.alternate;t!==null&&(e.alternate=null,Q2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[rd],delete t[Im],delete t[G4],delete t[W4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function U2(e){return e.tag===5||e.tag===3||e.tag===4}function Lb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||U2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $m(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=O0));else if(s!==4&&(e=e.child,e!==null))for($m(e,t,a),e=e.sibling;e!==null;)$m(e,t,a),e=e.sibling}function Jm(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Jm(e,t,a),e=e.sibling;e!==null;)Jm(e,t,a),e=e.sibling}var Mr=null,Is=!1;function ui(e,t,a){for(a=a.child;a!==null;)L2(e,t,a),a=a.sibling}function L2(e,t,a){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(jh,a)}catch{}switch(a.tag){case 5:sa||Ko(a,t);case 6:var s=Mr,n=Is;Mr=null,ui(e,t,a),Mr=s,Is=n,Mr!==null&&(Is?(e=Mr,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Mr.removeChild(a.stateNode));break;case 18:Mr!==null&&(Is?(e=Mr,a=a.stateNode,e.nodeType===8?mf(e.parentNode,a):e.nodeType===1&&mf(e,a),Xc(e)):mf(Mr,a.stateNode));break;case 4:s=Mr,n=Is,Mr=a.stateNode.containerInfo,Is=!0,ui(e,t,a),Mr=s,Is=n;break;case 0:case 11:case 14:case 15:if(!sa&&(s=a.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var i=n,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&Gm(a,t,A),n=n.next}while(n!==s)}ui(e,t,a);break;case 1:if(!sa&&(Ko(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=a.memoizedProps,s.state=a.memoizedState,s.componentWillUnmount()}catch(o){ir(a,t,o)}ui(e,t,a);break;case 21:ui(e,t,a);break;case 22:a.mode&1?(sa=(s=sa)||a.memoizedState!==null,ui(e,t,a),sa=s):ui(e,t,a);break;default:ui(e,t,a)}}function Ib(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new cj),t.forEach(function(s){var n=bj.bind(null,e,s);a.has(s)||(a.add(s),s.then(n,n))})}}function Ss(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];try{var i=e,A=t,o=A;e:for(;o!==null;){switch(o.tag){case 5:Mr=o.stateNode,Is=!1;break e;case 3:Mr=o.stateNode.containerInfo,Is=!0;break e;case 4:Mr=o.stateNode.containerInfo,Is=!0;break e}o=o.return}if(Mr===null)throw Error(Se(160));L2(i,A,n),Mr=null,Is=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(c){ir(n,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)I2(t,e),t=t.sibling}function I2(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ss(t,e),nn(e),s&4){try{Pc(3,e,e.return),Ih(3,e)}catch(y){ir(e,e.return,y)}try{Pc(5,e,e.return)}catch(y){ir(e,e.return,y)}}break;case 1:Ss(t,e),nn(e),s&512&&a!==null&&Ko(a,a.return);break;case 5:if(Ss(t,e),nn(e),s&512&&a!==null&&Ko(a,a.return),e.flags&32){var n=e.stateNode;try{Gc(n,"")}catch(y){ir(e,e.return,y)}}if(s&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,A=a!==null?a.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&r1(n,i),bm(o,A);var c=bm(o,i);for(A=0;A<l.length;A+=2){var u=l[A],h=l[A+1];u==="style"?A1(n,h):u==="dangerouslySetInnerHTML"?n1(n,h):u==="children"?Gc(n,h):Xp(n,u,h,c)}switch(o){case"input":fm(n,i);break;case"textarea":a1(n,i);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Go(n,!!i.multiple,g,!1):x!==!!i.multiple&&(i.defaultValue!=null?Go(n,!!i.multiple,i.defaultValue,!0):Go(n,!!i.multiple,i.multiple?[]:"",!1))}n[rd]=i}catch(y){ir(e,e.return,y)}}break;case 6:if(Ss(t,e),nn(e),s&4){if(e.stateNode===null)throw Error(Se(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(y){ir(e,e.return,y)}}break;case 3:if(Ss(t,e),nn(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Xc(t.containerInfo)}catch(y){ir(e,e.return,y)}break;case 4:Ss(t,e),nn(e);break;case 13:Ss(t,e),nn(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(Ex=ur())),s&4&&Ib(e);break;case 22:if(u=a!==null&&a.memoizedState!==null,e.mode&1?(sa=(c=sa)||u,Ss(t,e),sa=c):Ss(t,e),nn(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ze=e,u=e.child;u!==null;){for(h=ze=u;ze!==null;){switch(x=ze,g=x.child,x.tag){case 0:case 11:case 14:case 15:Pc(4,x,x.return);break;case 1:Ko(x,x.return);var v=x.stateNode;if(typeof v.componentWillUnmount=="function"){s=x,a=x.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){ir(s,a,y)}}break;case 5:Ko(x,x.return);break;case 22:if(x.memoizedState!==null){Db(h);continue}}g!==null?(g.return=x,ze=g):Db(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{n=h.stateNode,c?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,A=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=i1("display",A))}catch(y){ir(e,e.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){ir(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ss(t,e),nn(e),s&4&&Ib(e);break;case 21:break;default:Ss(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(U2(a)){var s=a;break e}a=a.return}throw Error(Se(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(Gc(n,""),s.flags&=-33);var i=Lb(e);Jm(e,i,n);break;case 3:case 4:var A=s.stateNode.containerInfo,o=Lb(e);$m(e,o,A);break;default:throw Error(Se(161))}}catch(l){ir(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uj(e,t,a){ze=e,P2(e)}function P2(e,t,a){for(var s=(e.mode&1)!==0;ze!==null;){var n=ze,i=n.child;if(n.tag===22&&s){var A=n.memoizedState!==null||Uu;if(!A){var o=n.alternate,l=o!==null&&o.memoizedState!==null||sa;o=Uu;var c=sa;if(Uu=A,(sa=l)&&!c)for(ze=n;ze!==null;)A=ze,l=A.child,A.tag===22&&A.memoizedState!==null?Tb(n):l!==null?(l.return=A,ze=l):Tb(n);for(;i!==null;)ze=i,P2(i),i=i.sibling;ze=n,Uu=o,sa=c}Pb(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,ze=i):Pb(e)}}function Pb(e){for(;ze!==null;){var t=ze;if(t.flags&8772){var a=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sa||Ih(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!sa)if(a===null)s.componentDidMount();else{var n=t.elementType===t.type?a.memoizedProps:Us(t.type,a.memoizedProps);s.componentDidUpdate(n,a.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&yb(t,i,s);break;case 3:var A=t.updateQueue;if(A!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}yb(t,A,a)}break;case 5:var o=t.stateNode;if(a===null&&t.flags&4){a=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break;case"img":l.src&&(a.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Xc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}sa||t.flags&512&&Wm(t)}catch(x){ir(t,t.return,x)}}if(t===e){ze=null;break}if(a=t.sibling,a!==null){a.return=t.return,ze=a;break}ze=t.return}}function Db(e){for(;ze!==null;){var t=ze;if(t===e){ze=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ze=a;break}ze=t.return}}function Tb(e){for(;ze!==null;){var t=ze;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Ih(4,t)}catch(l){ir(t,a,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var n=t.return;try{s.componentDidMount()}catch(l){ir(t,n,l)}}var i=t.return;try{Wm(t)}catch(l){ir(t,i,l)}break;case 5:var A=t.return;try{Wm(t)}catch(l){ir(t,A,l)}}}catch(l){ir(t,t.return,l)}if(t===e){ze=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ze=o;break}ze=t.return}}var hj=Math.ceil,Y0=Wn.ReactCurrentDispatcher,Sx=Wn.ReactCurrentOwner,us=Wn.ReactCurrentBatchConfig,bt=0,Dr=null,vr=null,Kr=0,Ma=0,qo=$i(0),Fr=0,od=null,IA=0,Ph=0,Fx=0,Dc=null,ja=null,Ex=0,hl=1/0,Pn=null,Z0=!1,Xm=null,Ii=null,Lu=!1,Bi=null,eh=0,Tc=0,Ym=null,x0=-1,y0=0;function fa(){return bt&6?ur():x0!==-1?x0:x0=ur()}function Pi(e){return e.mode&1?bt&2&&Kr!==0?Kr&-Kr:J4.transition!==null?(y0===0&&(y0=y1()),y0):(e=Ut,e!==0||(e=window.event,e=e===void 0?16:j1(e.type)),e):1}function Rs(e,t,a,s){if(50<Tc)throw Tc=0,Ym=null,Error(Se(185));xd(e,a,s),(!(bt&2)||e!==Dr)&&(e===Dr&&(!(bt&2)&&(Ph|=a),Fr===4&&wi(e,Kr)),Ea(e,s),a===1&&bt===0&&!(t.mode&1)&&(hl=ur()+500,Qh&&Ji()))}function Ea(e,t){var a=e.callbackNode;Jk(e,t);var s=T0(e,e===Dr?Kr:0);if(s===0)a!==null&&Vy(a),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(a!=null&&Vy(a),t===1)e.tag===0?$4(Rb.bind(null,e)):z1(Rb.bind(null,e)),z4(function(){!(bt&6)&&Ji()}),a=null;else{switch(b1(s)){case 1:a=rx;break;case 4:a=p1;break;case 16:a=D0;break;case 536870912:a=x1;break;default:a=D0}a=K2(a,D2.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function D2(e,t){if(x0=-1,y0=0,bt&6)throw Error(Se(327));var a=e.callbackNode;if(Yo()&&e.callbackNode!==a)return null;var s=T0(e,e===Dr?Kr:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=th(e,s);else{t=s;var n=bt;bt|=2;var i=R2();(Dr!==e||Kr!==t)&&(Pn=null,hl=ur()+500,kA(e,t));do try{mj();break}catch(o){T2(e,o)}while(1);fx(),Y0.current=i,bt=n,vr!==null?t=0:(Dr=null,Kr=0,t=Fr)}if(t!==0){if(t===2&&(n=km(e),n!==0&&(s=n,t=Zm(e,n))),t===1)throw a=od,kA(e,0),wi(e,s),Ea(e,ur()),a;if(t===6)wi(e,s);else{if(n=e.current.alternate,!(s&30)&&!gj(n)&&(t=th(e,s),t===2&&(i=km(e),i!==0&&(s=i,t=Zm(e,i))),t===1))throw a=od,kA(e,0),wi(e,s),Ea(e,ur()),a;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error(Se(345));case 2:fA(e,ja,Pn);break;case 3:if(wi(e,s),(s&130023424)===s&&(t=Ex+500-ur(),10<t)){if(T0(e,0)!==0)break;if(n=e.suspendedLanes,(n&s)!==s){fa(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Lm(fA.bind(null,e,ja,Pn),t);break}fA(e,ja,Pn);break;case 4:if(wi(e,s),(s&4194240)===s)break;for(t=e.eventTimes,n=-1;0<s;){var A=31-Ts(s);i=1<<A,A=t[A],A>n&&(n=A),s&=~i}if(s=n,s=ur()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*hj(s/1960))-s,10<s){e.timeoutHandle=Lm(fA.bind(null,e,ja,Pn),s);break}fA(e,ja,Pn);break;case 5:fA(e,ja,Pn);break;default:throw Error(Se(329))}}}return Ea(e,ur()),e.callbackNode===a?D2.bind(null,e):null}function Zm(e,t){var a=Dc;return e.current.memoizedState.isDehydrated&&(kA(e,t).flags|=256),e=th(e,t),e!==2&&(t=ja,ja=a,t!==null&&ep(t)),e}function ep(e){ja===null?ja=e:ja.push.apply(ja,e)}function gj(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var s=0;s<a.length;s++){var n=a[s],i=n.getSnapshot;n=n.value;try{if(!Os(i(),n))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wi(e,t){for(t&=~Fx,t&=~Ph,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-Ts(t),s=1<<a;e[a]=-1,t&=~s}}function Rb(e){if(bt&6)throw Error(Se(327));Yo();var t=T0(e,0);if(!(t&1))return Ea(e,ur()),null;var a=th(e,t);if(e.tag!==0&&a===2){var s=km(e);s!==0&&(t=s,a=Zm(e,s))}if(a===1)throw a=od,kA(e,0),wi(e,t),Ea(e,ur()),a;if(a===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fA(e,ja,Pn),Ea(e,ur()),null}function Qx(e,t){var a=bt;bt|=1;try{return e(t)}finally{bt=a,bt===0&&(hl=ur()+500,Qh&&Ji())}}function PA(e){Bi!==null&&Bi.tag===0&&!(bt&6)&&Yo();var t=bt;bt|=1;var a=us.transition,s=Ut;try{if(us.transition=null,Ut=1,e)return e()}finally{Ut=s,us.transition=a,bt=t,!(bt&6)&&Ji()}}function Ux(){Ma=qo.current,qt(qo)}function kA(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,q4(a)),vr!==null)for(a=vr.return;a!==null;){var s=a;switch(ux(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&_0();break;case 3:dl(),qt(Sa),qt(Aa),wx();break;case 5:bx(s);break;case 4:dl();break;case 13:qt(Jt);break;case 19:qt(Jt);break;case 10:mx(s.type._context);break;case 22:case 23:Ux()}a=a.return}if(Dr=e,vr=e=Di(e.current,null),Kr=Ma=t,Fr=0,od=null,Fx=Ph=IA=0,ja=Dc=null,bA!==null){for(t=0;t<bA.length;t++)if(a=bA[t],s=a.interleaved,s!==null){a.interleaved=null;var n=s.next,i=a.pending;if(i!==null){var A=i.next;i.next=n,s.next=A}a.pending=s}bA=null}return e}function T2(e,t){do{var a=vr;try{if(fx(),f0.current=X0,J0){for(var s=Xt.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}J0=!1}if(LA=0,Ir=Cr=Xt=null,Ic=!1,nd=0,Sx.current=null,a===null||a.return===null){Fr=1,od=t,vr=null;break}e:{var i=e,A=a.return,o=a,l=t;if(t=Kr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=kb(A);if(g!==null){g.flags&=-257,jb(g,A,o,i,t),g.mode&1&&Nb(i,c,t),t=g,l=c;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){Nb(i,c,t),Lx();break e}l=Error(Se(426))}}else if(Gt&&o.mode&1){var N=kb(A);if(N!==null){!(N.flags&65536)&&(N.flags|=256),jb(N,A,o,i,t),hx(ul(l,o));break e}}i=l=ul(l,o),Fr!==4&&(Fr=2),Dc===null?Dc=[i]:Dc.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=b2(i,l,t);xb(i,p);break e;case 1:o=l;var m=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ii===null||!Ii.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=w2(i,o,t);xb(i,E);break e}}i=i.return}while(i!==null)}M2(a)}catch(U){t=U,vr===a&&a!==null&&(vr=a=a.return);continue}break}while(1)}function R2(){var e=Y0.current;return Y0.current=X0,e===null?X0:e}function Lx(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),Dr===null||!(IA&268435455)&&!(Ph&268435455)||wi(Dr,Kr)}function th(e,t){var a=bt;bt|=2;var s=R2();(Dr!==e||Kr!==t)&&(Pn=null,kA(e,t));do try{fj();break}catch(n){T2(e,n)}while(1);if(fx(),bt=a,Y0.current=s,vr!==null)throw Error(Se(261));return Dr=null,Kr=0,Fr}function fj(){for(;vr!==null;)H2(vr)}function mj(){for(;vr!==null&&!Ok();)H2(vr)}function H2(e){var t=_2(e.alternate,e,Ma);e.memoizedProps=e.pendingProps,t===null?M2(e):vr=t,Sx.current=null}function M2(e){var t=e;do{var a=t.alternate;if(e=t.return,t.flags&32768){if(a=lj(a,t),a!==null){a.flags&=32767,vr=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fr=6,vr=null;return}}else if(a=oj(a,t,Ma),a!==null){vr=a;return}if(t=t.sibling,t!==null){vr=t;return}vr=t=e}while(t!==null);Fr===0&&(Fr=5)}function fA(e,t,a){var s=Ut,n=us.transition;try{us.transition=null,Ut=1,pj(e,t,a,s)}finally{us.transition=n,Ut=s}return null}function pj(e,t,a,s){do Yo();while(Bi!==null);if(bt&6)throw Error(Se(327));a=e.finishedWork;var n=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var i=a.lanes|a.childLanes;if(Xk(e,i),e===Dr&&(vr=Dr=null,Kr=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Lu||(Lu=!0,K2(D0,function(){return Yo(),null})),i=(a.flags&15990)!==0,a.subtreeFlags&15990||i){i=us.transition,us.transition=null;var A=Ut;Ut=1;var o=bt;bt|=4,Sx.current=null,dj(e,a),I2(a,e),T4(Qm),R0=!!Em,Qm=Em=null,e.current=a,uj(a),_k(),bt=o,Ut=A,us.transition=i}else e.current=a;if(Lu&&(Lu=!1,Bi=e,eh=n),i=e.pendingLanes,i===0&&(Ii=null),zk(a.stateNode),Ea(e,ur()),t!==null)for(s=e.onRecoverableError,a=0;a<t.length;a++)n=t[a],s(n.value,{componentStack:n.stack,digest:n.digest});if(Z0)throw Z0=!1,e=Xm,Xm=null,e;return eh&1&&e.tag!==0&&Yo(),i=e.pendingLanes,i&1?e===Ym?Tc++:(Tc=0,Ym=e):Tc=0,Ji(),null}function Yo(){if(Bi!==null){var e=b1(eh),t=us.transition,a=Ut;try{if(us.transition=null,Ut=16>e?16:e,Bi===null)var s=!1;else{if(e=Bi,Bi=null,eh=0,bt&6)throw Error(Se(331));var n=bt;for(bt|=4,ze=e.current;ze!==null;){var i=ze,A=i.child;if(ze.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ze=c;ze!==null;){var u=ze;switch(u.tag){case 0:case 11:case 15:Pc(8,u,i)}var h=u.child;if(h!==null)h.return=u,ze=h;else for(;ze!==null;){u=ze;var x=u.sibling,g=u.return;if(Q2(u),u===c){ze=null;break}if(x!==null){x.return=g,ze=x;break}ze=g}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var N=y.sibling;y.sibling=null,y=N}while(y!==null)}}ze=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,ze=A;else e:for(;ze!==null;){if(i=ze,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pc(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,ze=p;break e}ze=i.return}}var m=e.current;for(ze=m;ze!==null;){A=ze;var w=A.child;if(A.subtreeFlags&2064&&w!==null)w.return=A,ze=w;else e:for(A=m;ze!==null;){if(o=ze,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ih(9,o)}}catch(U){ir(o,o.return,U)}if(o===A){ze=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,ze=E;break e}ze=o.return}}if(bt=n,Ji(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(jh,e)}catch{}s=!0}return s}finally{Ut=a,us.transition=t}}return!1}function Hb(e,t,a){t=ul(a,t),t=b2(e,t,1),e=Li(e,t,1),t=fa(),e!==null&&(xd(e,1,t),Ea(e,t))}function ir(e,t,a){if(e.tag===3)Hb(e,e,a);else for(;t!==null;){if(t.tag===3){Hb(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ii===null||!Ii.has(s))){e=ul(a,e),e=w2(t,e,1),t=Li(t,e,1),e=fa(),t!==null&&(xd(t,1,e),Ea(t,e));break}}t=t.return}}function xj(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),t=fa(),e.pingedLanes|=e.suspendedLanes&a,Dr===e&&(Kr&a)===a&&(Fr===4||Fr===3&&(Kr&130023424)===Kr&&500>ur()-Ex?kA(e,0):Fx|=a),Ea(e,t)}function O2(e,t){t===0&&(e.mode&1?(t=Bu,Bu<<=1,!(Bu&130023424)&&(Bu=4194304)):t=1);var a=fa();e=qn(e,t),e!==null&&(xd(e,t,a),Ea(e,a))}function yj(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),O2(e,a)}function bj(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Se(314))}s!==null&&s.delete(t),O2(e,a)}var _2;_2=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||Sa.current)Ca=!0;else{if(!(e.lanes&a)&&!(t.flags&128))return Ca=!1,Aj(e,t,a);Ca=!!(e.flags&131072)}else Ca=!1,Gt&&t.flags&1048576&&V1(t,z0,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;p0(e,t),e=t.pendingProps;var n=ol(t,Aa.current);Xo(t,a),n=Bx(null,t,s,e,n,a);var i=Nx();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fa(s)?(i=!0,K0(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,xx(t),n.updater=Lh,t.stateNode=n,n._reactInternals=t,Mm(t,s,e,a),t=Km(null,t,s,!0,i,a)):(t.tag=0,Gt&&i&&dx(t),ga(null,t,n,a),t=t.child),t;case 16:s=t.elementType;e:{switch(p0(e,t),e=t.pendingProps,n=s._init,s=n(s._payload),t.type=s,n=t.tag=vj(s),e=Us(s,e),n){case 0:t=_m(null,t,s,e,a);break e;case 1:t=Fb(null,t,s,e,a);break e;case 11:t=Cb(null,t,s,e,a);break e;case 14:t=Sb(null,t,s,Us(s.type,e),a);break e}throw Error(Se(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Us(s,n),_m(e,t,s,n,a);case 1:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Us(s,n),Fb(e,t,s,n,a);case 3:e:{if(k2(t),e===null)throw Error(Se(387));s=t.pendingProps,i=t.memoizedState,n=i.element,Y1(e,t),W0(t,s,null,a);var A=t.memoizedState;if(s=A.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=ul(Error(Se(423)),t),t=Eb(e,t,s,a,n);break e}else if(s!==n){n=ul(Error(Se(424)),t),t=Eb(e,t,s,a,n);break e}else for(_a=Ui(t.stateNode.containerInfo.firstChild),za=t,Gt=!0,Ps=null,a=J1(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ll(),s===n){t=zn(e,t,a);break e}ga(e,t,s,a)}t=t.child}return t;case 5:return Z1(t),e===null&&Tm(t),s=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,A=n.children,Um(s,n)?A=null:i!==null&&Um(s,i)&&(t.flags|=32),N2(e,t),ga(e,t,A,a),t.child;case 6:return e===null&&Tm(t),null;case 13:return j2(e,t,a);case 4:return yx(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=cl(t,null,s,a):ga(e,t,s,a),t.child;case 11:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Us(s,n),Cb(e,t,s,n,a);case 7:return ga(e,t,t.pendingProps,a),t.child;case 8:return ga(e,t,t.pendingProps.children,a),t.child;case 12:return ga(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,i=t.memoizedProps,A=n.value,Ot(V0,s._currentValue),s._currentValue=A,i!==null)if(Os(i.value,A)){if(i.children===n.children&&!Sa.current){t=zn(e,t,a);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){A=i.child;for(var l=o.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=Mn(-1,a&-a),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=a,l=i.alternate,l!==null&&(l.lanes|=a),Rm(i.return,a,t),o.lanes|=a;break}l=l.next}}else if(i.tag===10)A=i.type===t.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error(Se(341));A.lanes|=a,o=A.alternate,o!==null&&(o.lanes|=a),Rm(A,a,t),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===t){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}ga(e,t,n.children,a),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,Xo(t,a),n=hs(n),s=s(n),t.flags|=1,ga(e,t,s,a),t.child;case 14:return s=t.type,n=Us(s,t.pendingProps),n=Us(s.type,n),Sb(e,t,s,n,a);case 15:return v2(e,t,t.type,t.pendingProps,a);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Us(s,n),p0(e,t),t.tag=1,Fa(s)?(e=!0,K0(t)):e=!1,Xo(t,a),y2(t,s,n),Mm(t,s,n,a),Km(null,t,s,!0,e,a);case 19:return C2(e,t,a);case 22:return B2(e,t,a)}throw Error(Se(156,t.tag))};function K2(e,t){return m1(e,t)}function wj(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(e,t,a,s){return new wj(e,t,a,s)}function Ix(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vj(e){if(typeof e=="function")return Ix(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zp)return 11;if(e===ex)return 14}return 2}function Di(e,t){var a=e.alternate;return a===null?(a=ls(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function b0(e,t,a,s,n,i){var A=2;if(s=e,typeof e=="function")Ix(e)&&(A=1);else if(typeof e=="string")A=5;else e:switch(e){case Io:return jA(a.children,n,i,t);case Yp:A=8,n|=8;break;case cm:return e=ls(12,a,t,n|2),e.elementType=cm,e.lanes=i,e;case dm:return e=ls(13,a,t,n),e.elementType=dm,e.lanes=i,e;case um:return e=ls(19,a,t,n),e.elementType=um,e.lanes=i,e;case Zv:return Dh(a,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xv:A=10;break e;case Yv:A=9;break e;case Zp:A=11;break e;case ex:A=14;break e;case pi:A=16,s=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=ls(A,a,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function jA(e,t,a,s){return e=ls(7,e,s,t),e.lanes=a,e}function Dh(e,t,a,s){return e=ls(22,e,s,t),e.elementType=Zv,e.lanes=a,e.stateNode={isHidden:!1},e}function Nf(e,t,a){return e=ls(6,e,null,t),e.lanes=a,e}function kf(e,t,a){return t=ls(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bj(e,t,a,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sf(0),this.expirationTimes=sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sf(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Px(e,t,a,s,n,i,A,o,l){return e=new Bj(e,t,a,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ls(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},xx(i),e}function Nj(e,t,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:s==null?null:""+s,children:e,containerInfo:t,implementation:a}}function q2(e){if(!e)return _i;e=e._reactInternals;e:{if(OA(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var a=e.type;if(Fa(a))return q1(e,a,t)}return t}function z2(e,t,a,s,n,i,A,o,l){return e=Px(a,s,!0,e,n,i,A,o,l),e.context=q2(null),a=e.current,s=fa(),n=Pi(a),i=Mn(s,n),i.callback=t??null,Li(a,i,n),e.current.lanes=n,xd(e,n,s),Ea(e,s),e}function Th(e,t,a,s){var n=t.current,i=fa(),A=Pi(n);return a=q2(a),t.context===null?t.context=a:t.pendingContext=a,t=Mn(i,A),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Li(n,t,A),e!==null&&(Rs(e,n,A,i),g0(e,n,A)),A}function rh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Dx(e,t){Mb(e,t),(e=e.alternate)&&Mb(e,t)}function kj(){return null}var V2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tx(e){this._internalRoot=e}Rh.prototype.render=Tx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));Th(e,t,null,null)};Rh.prototype.unmount=Tx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;PA(function(){Th(null,e,null,null)}),t[Kn]=null}};function Rh(e){this._internalRoot=e}Rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=B1();e={blockedOn:null,target:e,priority:t};for(var a=0;a<bi.length&&t!==0&&t<bi[a].priority;a++);bi.splice(a,0,e),a===0&&k1(e)}};function Rx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ob(){}function jj(e,t,a,s,n){if(n){if(typeof s=="function"){var i=s;s=function(){var c=rh(A);i.call(c)}}var A=z2(t,s,e,0,null,!1,!1,"",Ob);return e._reactRootContainer=A,e[Kn]=A.current,ed(e.nodeType===8?e.parentNode:e),PA(),A}for(;n=e.lastChild;)e.removeChild(n);if(typeof s=="function"){var o=s;s=function(){var c=rh(l);o.call(c)}}var l=Px(e,0,!1,null,null,!1,!1,"",Ob);return e._reactRootContainer=l,e[Kn]=l.current,ed(e.nodeType===8?e.parentNode:e),PA(function(){Th(t,l,a,s)}),l}function Mh(e,t,a,s,n){var i=a._reactRootContainer;if(i){var A=i;if(typeof n=="function"){var o=n;n=function(){var l=rh(A);o.call(l)}}Th(t,A,e,n)}else A=jj(a,t,e,n,s);return rh(A)}w1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=bc(t.pendingLanes);a!==0&&(ax(t,a|1),Ea(t,ur()),!(bt&6)&&(hl=ur()+500,Ji()))}break;case 13:PA(function(){var s=qn(e,1);if(s!==null){var n=fa();Rs(s,e,1,n)}}),Dx(e,1)}};sx=function(e){if(e.tag===13){var t=qn(e,134217728);if(t!==null){var a=fa();Rs(t,e,134217728,a)}Dx(e,134217728)}};v1=function(e){if(e.tag===13){var t=Pi(e),a=qn(e,t);if(a!==null){var s=fa();Rs(a,e,t,s)}Dx(e,t)}};B1=function(){return Ut};N1=function(e,t){var a=Ut;try{return Ut=e,t()}finally{Ut=a}};vm=function(e,t,a){switch(t){case"input":if(fm(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=Eh(s);if(!n)throw Error(Se(90));t1(s),fm(s,n)}}}break;case"textarea":a1(e,a);break;case"select":t=a.value,t!=null&&Go(e,!!a.multiple,t,!1)}};c1=Qx;d1=PA;var Cj={usingClientEntryPoint:!1,Events:[bd,Ro,Eh,o1,l1,Qx]},cc={findFiberByHostInstance:yA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sj={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=g1(e),e===null?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||kj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{jh=Iu.inject(Sj),hn=Iu}catch{}}$a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cj;$a.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rx(t))throw Error(Se(200));return Nj(e,t,null,a)};$a.createRoot=function(e,t){if(!Rx(e))throw Error(Se(299));var a=!1,s="",n=V2;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Px(e,1,!1,null,null,a,!1,s,n),e[Kn]=t.current,ed(e.nodeType===8?e.parentNode:e),new Tx(t)};$a.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=g1(t),e=e===null?null:e.stateNode,e};$a.flushSync=function(e){return PA(e)};$a.hydrate=function(e,t,a){if(!Hh(t))throw Error(Se(200));return Mh(null,e,t,!0,a)};$a.hydrateRoot=function(e,t,a){if(!Rx(e))throw Error(Se(405));var s=a!=null&&a.hydratedSources||null,n=!1,i="",A=V2;if(a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),t=z2(t,null,e,1,a??null,n,!1,i,A),e[Kn]=t.current,ed(e),s)for(e=0;e<s.length;e++)a=s[e],n=a._getVersion,n=n(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,n]:t.mutableSourceEagerHydrationData.push(a,n);return new Rh(t)};$a.render=function(e,t,a){if(!Hh(t))throw Error(Se(200));return Mh(null,e,t,!1,a)};$a.unmountComponentAtNode=function(e){if(!Hh(e))throw Error(Se(40));return e._reactRootContainer?(PA(function(){Mh(null,null,e,!1,function(){e._reactRootContainer=null,e[Kn]=null})}),!0):!1};$a.unstable_batchedUpdates=Qx;$a.unstable_renderSubtreeIntoContainer=function(e,t,a,s){if(!Hh(a))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return Mh(e,t,a,!1,s)};$a.version="18.3.1-next-f1338f8080-20240426";function G2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G2)}catch(e){console.error(e)}}G2(),Gv.exports=$a;var Fj=Gv.exports,W2,_b=Fj;W2=_b.createRoot,_b.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},ld.apply(this,arguments)}var Ni;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ni||(Ni={}));const Kb="popstate";function Ej(e){e===void 0&&(e={});function t(s,n){let{pathname:i,search:A,hash:o}=s.location;return tp("",{pathname:i,search:A,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(s,n){return typeof n=="string"?n:ah(n)}return Uj(t,a,null,e)}function Yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qj(){return Math.random().toString(36).substr(2,8)}function qb(e,t){return{usr:e.state,key:e.key,idx:t}}function tp(e,t,a,s){return a===void 0&&(a=null),ld({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bl(t):t,{state:a,key:t&&t.key||s||Qj()})}function ah(e){let{pathname:t="/",search:a="",hash:s=""}=e;return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function bl(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Uj(e,t,a,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:i=!1}=s,A=n.history,o=Ni.Pop,l=null,c=u();c==null&&(c=0,A.replaceState(ld({},A.state,{idx:c}),""));function u(){return(A.state||{idx:null}).idx}function h(){o=Ni.Pop;let N=u(),p=N==null?null:N-c;c=N,l&&l({action:o,location:y.location,delta:p})}function x(N,p){o=Ni.Push;let m=tp(y.location,N,p);a&&a(m,N),c=u()+1;let w=qb(m,c),E=y.createHref(m);try{A.pushState(w,"",E)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;n.location.assign(E)}i&&l&&l({action:o,location:y.location,delta:1})}function g(N,p){o=Ni.Replace;let m=tp(y.location,N,p);a&&a(m,N),c=u();let w=qb(m,c),E=y.createHref(m);A.replaceState(w,"",E),i&&l&&l({action:o,location:y.location,delta:0})}function v(N){let p=n.location.origin!=="null"?n.location.origin:n.location.href,m=typeof N=="string"?N:ah(N);return m=m.replace(/ $/,"%20"),Yt(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let y={get action(){return o},get location(){return e(n,A)},listen(N){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(Kb,h),l=N,()=>{n.removeEventListener(Kb,h),l=null}},createHref(N){return t(n,N)},createURL:v,encodeLocation(N){let p=v(N);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:x,replace:g,go(N){return A.go(N)}};return y}var zb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zb||(zb={}));function Lj(e,t,a){return a===void 0&&(a="/"),Ij(e,t,a,!1)}function Ij(e,t,a,s){let n=typeof t=="string"?bl(t):t,i=gl(n.pathname||"/",a);if(i==null)return null;let A=J2(e);Pj(A);let o=null;for(let l=0;o==null&&l<A.length;++l){let c=Vj(i);o=qj(A[l],c,s)}return o}function J2(e,t,a,s){t===void 0&&(t=[]),a===void 0&&(a=[]),s===void 0&&(s="");let n=(i,A,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:A,route:i};l.relativePath.startsWith("/")&&(Yt(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=Ti([s,l.relativePath]),u=a.concat(l);i.children&&i.children.length>0&&(Yt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),J2(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:_j(c,i.index),routesMeta:u})};return e.forEach((i,A)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,A);else for(let l of X2(i.path))n(i,A,l)}),t}function X2(e){let t=e.split("/");if(t.length===0)return[];let[a,...s]=t,n=a.endsWith("?"),i=a.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let A=X2(s.join("/")),o=[];return o.push(...A.map(l=>l===""?i:[i,l].join("/"))),n&&o.push(...A),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Pj(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:Kj(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const Dj=/^:[\w-]+$/,Tj=3,Rj=2,Hj=1,Mj=10,Oj=-2,Vb=e=>e==="*";function _j(e,t){let a=e.split("/"),s=a.length;return a.some(Vb)&&(s+=Oj),t&&(s+=Rj),a.filter(n=>!Vb(n)).reduce((n,i)=>n+(Dj.test(i)?Tj:i===""?Hj:Mj),s)}function Kj(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function qj(e,t,a){a===void 0&&(a=!1);let{routesMeta:s}=e,n={},i="/",A=[];for(let o=0;o<s.length;++o){let l=s[o],c=o===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=sh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),x=l.route;if(!h&&c&&a&&!s[s.length-1].route.index&&(h=sh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(n,h.params),A.push({params:n,pathname:Ti([i,h.pathname]),pathnameBase:Jj(Ti([i,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(i=Ti([i,h.pathnameBase]))}return A}function sh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,s]=zj(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let i=n[0],A=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:s.reduce((c,u,h)=>{let{paramName:x,isOptional:g}=u;if(x==="*"){let y=o[h]||"";A=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[h];return g&&!v?c[x]=void 0:c[x]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:A,pattern:e}}function zj(e,t,a){t===void 0&&(t=!1),a===void 0&&(a=!0),$2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,o,l)=>(s.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function Vj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=e.charAt(a);return s&&s!=="/"?null:e.slice(a)||"/"}function Gj(e,t){t===void 0&&(t="/");let{pathname:a,search:s="",hash:n=""}=typeof e=="string"?bl(e):e;return{pathname:a?a.startsWith("/")?a:Wj(a,t):t,search:Xj(s),hash:Yj(n)}}function Wj(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function jf(e,t,a,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $j(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Hx(e,t){let a=$j(e);return t?a.map((s,n)=>n===a.length-1?s.pathname:s.pathnameBase):a.map(s=>s.pathnameBase)}function Mx(e,t,a,s){s===void 0&&(s=!1);let n;typeof e=="string"?n=bl(e):(n=ld({},e),Yt(!n.pathname||!n.pathname.includes("?"),jf("?","pathname","search",n)),Yt(!n.pathname||!n.pathname.includes("#"),jf("#","pathname","hash",n)),Yt(!n.search||!n.search.includes("#"),jf("#","search","hash",n)));let i=e===""||n.pathname==="",A=i?"/":n.pathname,o;if(A==null)o=a;else{let h=t.length-1;if(!s&&A.startsWith("..")){let x=A.split("/");for(;x[0]==="..";)x.shift(),h-=1;n.pathname=x.join("/")}o=h>=0?t[h]:"/"}let l=Gj(n,o),c=A&&A!=="/"&&A.endsWith("/"),u=(i||A===".")&&a.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ti=e=>e.join("/").replace(/\/\/+/g,"/"),Jj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Zj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Y2=["post","put","patch","delete"];new Set(Y2);const eC=["get",...Y2];new Set(eC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},cd.apply(this,arguments)}const Oh=L.createContext(null),Z2=L.createContext(null),$n=L.createContext(null),_h=L.createContext(null),Xi=L.createContext({outlet:null,matches:[],isDataRoute:!1}),e5=L.createContext(null);function tC(e,t){let{relative:a}=t===void 0?{}:t;wl()||Yt(!1);let{basename:s,navigator:n}=L.useContext($n),{hash:i,pathname:A,search:o}=Kh(e,{relative:a}),l=A;return s!=="/"&&(l=A==="/"?s:Ti([s,A])),n.createHref({pathname:l,search:o,hash:i})}function wl(){return L.useContext(_h)!=null}function vl(){return wl()||Yt(!1),L.useContext(_h).location}function t5(e){L.useContext($n).static||L.useLayoutEffect(e)}function Ks(){let{isDataRoute:e}=L.useContext(Xi);return e?gC():rC()}function rC(){wl()||Yt(!1);let e=L.useContext(Oh),{basename:t,future:a,navigator:s}=L.useContext($n),{matches:n}=L.useContext(Xi),{pathname:i}=vl(),A=JSON.stringify(Hx(n,a.v7_relativeSplatPath)),o=L.useRef(!1);return t5(()=>{o.current=!0}),L.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){s.go(c);return}let h=Mx(c,JSON.parse(A),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ti([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,A,i,e])}function Kh(e,t){let{relative:a}=t===void 0?{}:t,{future:s}=L.useContext($n),{matches:n}=L.useContext(Xi),{pathname:i}=vl(),A=JSON.stringify(Hx(n,s.v7_relativeSplatPath));return L.useMemo(()=>Mx(e,JSON.parse(A),i,a==="path"),[e,A,i,a])}function aC(e,t){return sC(e,t)}function sC(e,t,a,s){wl()||Yt(!1);let{navigator:n}=L.useContext($n),{matches:i}=L.useContext(Xi),A=i[i.length-1],o=A?A.params:{};A&&A.pathname;let l=A?A.pathnameBase:"/";A&&A.route;let c=vl(),u;if(t){var h;let N=typeof t=="string"?bl(t):t;l==="/"||(h=N.pathname)!=null&&h.startsWith(l)||Yt(!1),u=N}else u=c;let x=u.pathname||"/",g=x;if(l!=="/"){let N=l.replace(/^\//,"").split("/");g="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let v=Lj(e,{pathname:g}),y=lC(v&&v.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:Ti([l,n.encodeLocation?n.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?l:Ti([l,n.encodeLocation?n.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,a,s);return t&&y?L.createElement(_h.Provider,{value:{location:cd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ni.Pop}},y):y}function nC(){let e=hC(),t=Zj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),a?L.createElement("pre",{style:n},a):null,i)}const iC=L.createElement(nC,null);class AC extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?L.createElement(Xi.Provider,{value:this.props.routeContext},L.createElement(e5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oC(e){let{routeContext:t,match:a,children:s}=e,n=L.useContext(Oh);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),L.createElement(Xi.Provider,{value:t},s)}function lC(e,t,a,s){var n;if(t===void 0&&(t=[]),a===void 0&&(a=null),s===void 0&&(s=null),e==null){var i;if(!a)return null;if(a.errors)e=a.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let A=e,o=(n=a)==null?void 0:n.errors;if(o!=null){let u=A.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Yt(!1),A=A.slice(0,Math.min(A.length,u+1))}let l=!1,c=-1;if(a&&s&&s.v7_partialHydration)for(let u=0;u<A.length;u++){let h=A[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:x,errors:g}=a,v=h.route.loader&&x[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?A=A.slice(0,c+1):A=[A[0]];break}}}return A.reduceRight((u,h,x)=>{let g,v=!1,y=null,N=null;a&&(g=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||iC,l&&(c<0&&x===0?(fC("route-fallback",!1),v=!0,N=null):c===x&&(v=!0,N=h.route.hydrateFallbackElement||null)));let p=t.concat(A.slice(0,x+1)),m=()=>{let w;return g?w=y:v?w=N:h.route.Component?w=L.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,L.createElement(oC,{match:h,routeContext:{outlet:u,matches:p,isDataRoute:a!=null},children:w})};return a&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?L.createElement(AC,{location:a.location,revalidation:a.revalidation,component:y,error:g,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var r5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(r5||{}),nh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nh||{});function cC(e){let t=L.useContext(Oh);return t||Yt(!1),t}function dC(e){let t=L.useContext(Z2);return t||Yt(!1),t}function uC(e){let t=L.useContext(Xi);return t||Yt(!1),t}function a5(e){let t=uC(),a=t.matches[t.matches.length-1];return a.route.id||Yt(!1),a.route.id}function hC(){var e;let t=L.useContext(e5),a=dC(nh.UseRouteError),s=a5(nh.UseRouteError);return t!==void 0?t:(e=a.errors)==null?void 0:e[s]}function gC(){let{router:e}=cC(r5.UseNavigateStable),t=a5(nh.UseNavigateStable),a=L.useRef(!1);return t5(()=>{a.current=!0}),L.useCallback(function(n,i){i===void 0&&(i={}),a.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,cd({fromRouteId:t},i)))},[e,t])}const Gb={};function fC(e,t,a){!t&&!Gb[e]&&(Gb[e]=!0)}function mC(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Cf(e){let{to:t,replace:a,state:s,relative:n}=e;wl()||Yt(!1);let{future:i,static:A}=L.useContext($n),{matches:o}=L.useContext(Xi),{pathname:l}=vl(),c=Ks(),u=Mx(t,Hx(o,i.v7_relativeSplatPath),l,n==="path"),h=JSON.stringify(u);return L.useEffect(()=>c(JSON.parse(h),{replace:a,state:s,relative:n}),[c,h,n,a,s]),null}function Nt(e){Yt(!1)}function pC(e){let{basename:t="/",children:a=null,location:s,navigationType:n=Ni.Pop,navigator:i,static:A=!1,future:o}=e;wl()&&Yt(!1);let l=t.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:i,static:A,future:cd({v7_relativeSplatPath:!1},o)}),[l,o,i,A]);typeof s=="string"&&(s=bl(s));let{pathname:u="/",search:h="",hash:x="",state:g=null,key:v="default"}=s,y=L.useMemo(()=>{let N=gl(u,l);return N==null?null:{location:{pathname:N,search:h,hash:x,state:g,key:v},navigationType:n}},[l,u,h,x,g,v,n]);return y==null?null:L.createElement($n.Provider,{value:c},L.createElement(_h.Provider,{children:a,value:y}))}function s5(e){let{children:t,location:a}=e;return aC(rp(t),a)}new Promise(()=>{});function rp(e,t){t===void 0&&(t=[]);let a=[];return L.Children.forEach(e,(s,n)=>{if(!L.isValidElement(s))return;let i=[...t,n];if(s.type===L.Fragment){a.push.apply(a,rp(s.props.children,i));return}s.type!==Nt&&Yt(!1),!s.props.index||!s.props.children||Yt(!1);let A={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(A.children=rp(s.props.children,i)),a.push(A)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},ih.apply(this,arguments)}function n5(e,t){if(e==null)return{};var a={},s=Object.keys(e),n,i;for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&(a[n]=e[n]);return a}function xC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yC(e,t){return e.button===0&&(!t||t==="_self")&&!xC(e)}const bC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],vC="6";try{window.__reactRouterVersion=vC}catch{}const BC=L.createContext({isTransitioning:!1}),NC="startTransition",Wb=xk[NC];function kC(e){let{basename:t,children:a,future:s,window:n}=e,i=L.useRef();i.current==null&&(i.current=Ej({window:n,v5Compat:!0}));let A=i.current,[o,l]=L.useState({action:A.action,location:A.location}),{v7_startTransition:c}=s||{},u=L.useCallback(h=>{c&&Wb?Wb(()=>l(h)):l(h)},[l,c]);return L.useLayoutEffect(()=>A.listen(u),[A,u]),L.useEffect(()=>mC(s),[s]),L.createElement(pC,{basename:t,children:a,location:o.location,navigationType:o.action,navigator:A,future:s})}const jC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SC=L.forwardRef(function(t,a){let{onClick:s,relative:n,reloadDocument:i,replace:A,state:o,target:l,to:c,preventScrollReset:u,viewTransition:h}=t,x=n5(t,bC),{basename:g}=L.useContext($n),v,y=!1;if(typeof c=="string"&&CC.test(c)&&(v=c,jC))try{let w=new URL(window.location.href),E=c.startsWith("//")?new URL(w.protocol+c):new URL(c),U=gl(E.pathname,g);E.origin===w.origin&&U!=null?c=U+E.search+E.hash:y=!0}catch{}let N=tC(c,{relative:n}),p=EC(c,{replace:A,state:o,target:l,preventScrollReset:u,relative:n,viewTransition:h});function m(w){s&&s(w),w.defaultPrevented||p(w)}return L.createElement("a",ih({},x,{href:v||N,onClick:y||i?s:m,ref:a,target:l}))}),Sf=L.forwardRef(function(t,a){let{"aria-current":s="page",caseSensitive:n=!1,className:i="",end:A=!1,style:o,to:l,viewTransition:c,children:u}=t,h=n5(t,wC),x=Kh(l,{relative:h.relative}),g=vl(),v=L.useContext(Z2),{navigator:y,basename:N}=L.useContext($n),p=v!=null&&QC(x)&&c===!0,m=y.encodeLocation?y.encodeLocation(x).pathname:x.pathname,w=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(w=w.toLowerCase(),E=E?E.toLowerCase():null,m=m.toLowerCase()),E&&N&&(E=gl(E,N)||E);const U=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let D=w===m||!A&&w.startsWith(m)&&w.charAt(U)==="/",F=E!=null&&(E===m||!A&&E.startsWith(m)&&E.charAt(m.length)==="/"),C={isActive:D,isPending:F,isTransitioning:p},K=D?s:void 0,M;typeof i=="function"?M=i(C):M=[i,D?"active":null,F?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(C):o;return L.createElement(SC,ih({},h,{"aria-current":K,className:M,ref:a,style:Q,to:l,viewTransition:c}),typeof u=="function"?u(C):u)});var ap;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ap||(ap={}));var $b;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($b||($b={}));function FC(e){let t=L.useContext(Oh);return t||Yt(!1),t}function EC(e,t){let{target:a,replace:s,state:n,preventScrollReset:i,relative:A,viewTransition:o}=t===void 0?{}:t,l=Ks(),c=vl(),u=Kh(e,{relative:A});return L.useCallback(h=>{if(yC(h,a)){h.preventDefault();let x=s!==void 0?s:ah(c)===ah(u);l(e,{replace:x,state:n,preventScrollReset:i,relative:A,viewTransition:o})}},[c,l,u,s,n,a,e,i,A,o])}function QC(e,t){t===void 0&&(t={});let a=L.useContext(BC);a==null&&Yt(!1);let{basename:s}=FC(ap.useViewTransitionState),n=Kh(e,{relative:t.relative});if(!a.isTransitioning)return!1;let i=gl(a.currentLocation.pathname,s)||a.currentLocation.pathname,A=gl(a.nextLocation.pathname,s)||a.nextLocation.pathname;return sh(n.pathname,A)!=null||sh(n.pathname,i)!=null}var UC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pe=(e,t)=>{const a=L.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:A,children:o,...l},c)=>L.createElement("svg",{ref:c,...UC,width:n,height:n,stroke:s,strokeWidth:A?Number(i)*24/Number(n):i,className:`lucide lucide-${LC(e)}`,...l},[...t.map(([u,h])=>L.createElement(u,h)),...(Array.isArray(o)?o:[o])||[]]));return a.displayName=`${e}`,a},Ds=Pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Hn=Pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zt=Pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["line",{x1:"12",x2:"12",y1:"9",y2:"13",key:"1gkch0"}],["line",{x1:"12",x2:"12.01",y1:"17",y2:"17",key:"io3f8k"}]]),IC=Pe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),DA=Pe("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]),Ah=Pe("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),PC=Pe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),_s=Pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),DC=Pe("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),i5=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Ri=Pe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Va=Pe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Wt=Pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),TC=Pe("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),RC=Pe("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),HC=Pe("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),Jb=Pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Ka=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),A5=Pe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),oh=Pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),MC=Pe("DatabaseBackup",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14c0 1.4 3 2.7 7 3",key:"jgylly"}],["path",{d:"M3 12c0 1.2 2 2.5 5 3",key:"vxrdms"}],["path",{d:"M21 5v4",key:"1vq2e7"}],["path",{d:"M13 20a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L12 16",key:"1f4ei9"}],["path",{d:"M12 12v4h4",key:"1bxaet"}]]),Qa=Pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),fs=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Jn=Pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Xn=Pe("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]]),ms=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),OC=Pe("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),_C=Pe("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),zr=Pe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Bl=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),KC=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),o5=Pe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),l5=Pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),qC=Pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),zC=Pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Xb=Pe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),VC=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ox=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),TA=Pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),GC=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),WC=Pe("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]),$C=Pe("Minus",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),Yb=Pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),JC=Pe("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Ga=Pe("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),XC=Pe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),_x=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),YC=Pe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),c5=Pe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),mr=Pe("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),CA=Pe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),ZC=Pe("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]),Hs=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),oa=Pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Br=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),e3=Pe("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]]),fn=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zo=Pe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),d5=Pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),fl=Pe("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Zb=Pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),t3=Pe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),r3=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),qs=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),a3=Pe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Ki=Pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Vn=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),u5=Pe("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),lh=Pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),s3=Pe("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]),ma=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),dd=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ew=Pe("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),h5=Pe("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),qi=Pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]),ht=Pe("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]]),n3=Pe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),dA="http://localhost:5001/api",uA=()=>({Authorization:`Bearer ${localStorage.getItem("sil_lab_token")}`,"Content-Type":"application/json"}),mn={async getAllQCResults(e={}){const t=new URLSearchParams;Object.entries(e).forEach(([s,n])=>{n!==void 0&&n!==""&&t.append(s,n.toString())});const a=await fetch(`${dA}/automates/qc-results/all?${t}`,{headers:uA()});if(!a.ok)throw new Error("Failed to fetch QC results");return a.json()},async getAutomateQCResults(e,t={}){const a=new URLSearchParams;Object.entries(t).forEach(([n,i])=>{i!==void 0&&i!==""&&a.append(n,i.toString())});const s=await fetch(`${dA}/automates/${e}/qc-results?${a}`,{headers:uA()});if(!s.ok)throw new Error("Failed to fetch automate QC results");return s.json()},async getQCStats(e,t=30){const a=await fetch(`${dA}/automates/${e}/qc-stats?days=${t}`,{headers:uA()});if(!a.ok)throw new Error("Failed to fetch QC statistics");return a.json()},async createQCResult(e,t){const a=await fetch(`${dA}/automates/${e}/qc-results`,{method:"POST",headers:uA(),body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to create QC result");return a.json()},async updateQCResult(e,t){const a=await fetch(`${dA}/automates/qc-results/${e}`,{method:"PUT",headers:uA(),body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to update QC result");return a.json()},async deleteQCResult(e){const t=await fetch(`${dA}/automates/qc-results/${e}`,{method:"DELETE",headers:uA()});if(!t.ok)throw new Error("Failed to delete QC result");return t.json()},async getAutomates(){const e=await fetch(`${dA}/automates`,{headers:uA()});if(!e.ok)throw new Error("Failed to fetch automates");return e.json()}};function i3(){const{language:e}=At(),[t,a]=L.useState([]),[s,n]=L.useState(!1),[i,A]=L.useState(!1),o={fr:{qcAlerts:"Alertes CQ",noAlerts:"Aucune alerte",warning:"Avertissement",fail:"chec",deviation:"Dviation",viewAll:"Voir toutes les alertes",newAlert:"Nouvelle alerte CQ"},en:{qcAlerts:"QC Alerts",noAlerts:"No alerts",warning:"Warning",fail:"Fail",deviation:"Deviation",viewAll:"View all alerts",newAlert:"New QC alert"}}[e];L.useEffect(()=>{l();const x=setInterval(l,6e4);return()=>clearInterval(x)},[]);const l=async()=>{try{A(!0);const g=(await mn.getAllQCResults({limit:20})).qcResults.filter(v=>{const y=new Date(v.timestamp).getTime(),N=Date.now()-24*60*60*1e3;return(v.status==="warning"||v.status==="fail")&&y>N}).map(v=>({id:v.id,automateId:v.automateId,automateName:v.automate.name,testName:v.testName,status:v.status,deviation:v.deviation,timestamp:v.timestamp}));a(g)}catch(x){console.error("Error loading QC notifications:",x)}finally{A(!1)}},c=x=>{switch(x){case"fail":return r.jsx(qi,{className:"h-4 w-4 text-red-500"});case"warning":return r.jsx(Zt,{className:"h-4 w-4 text-yellow-500"});default:return null}},u=x=>{switch(x){case"fail":return"text-red-600";case"warning":return"text-yellow-600";default:return"text-gray-600"}},h=t.length;return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>n(!s),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg",children:[r.jsx(i5,{size:20}),h>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:h>9?"9+":h})]}),s&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:o.qcAlerts})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:i?r.jsx("div",{className:"p-4 text-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):t.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:o.noAlerts}):r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.slice(0,5).map(x=>r.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[c(x.status),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:x.automateName}),r.jsx("span",{className:`text-xs font-medium ${u(x.status)}`,children:x.status==="fail"?o.fail:o.warning})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:x.testName}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[o.deviation,": ",x.deviation>0?"+":"",x.deviation.toFixed(1),"%"]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(x.timestamp).toLocaleTimeString()})]})]})]})},x.id))})}),t.length>0&&r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:r.jsx("button",{onClick:()=>{n(!1),window.location.href="/quality-control"},className:"w-full text-center text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:o.viewAll})})]}),s&&r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)})]})}function A3({onMenuClick:e}){const{user:t,logout:a,theme:s,toggleTheme:n,language:i,setLanguage:A}=At();return r.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 h-16 flex items-center justify-between px-3 sm:px-4 lg:px-6",children:[r.jsxs("div",{className:"flex items-center min-w-0",children:[r.jsx("button",{onClick:e,className:"mr-2 p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 lg:hidden transition-colors","aria-label":"Toggle menu",children:r.jsx(GC,{size:24})}),r.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 dark:text-white truncate",children:"SIL Laboratory System"})]}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-4",children:[r.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors sm:hidden","aria-label":s==="light"?"Switch to dark mode":"Switch to light mode",children:s==="light"?r.jsx(Yb,{size:18,className:"text-gray-600 dark:text-gray-300"}):r.jsx(Zb,{size:18,className:"text-gray-600 dark:text-gray-300"})}),r.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[r.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":s==="light"?"Switch to dark mode":"Switch to light mode",children:s==="light"?r.jsx(Yb,{size:20,className:"text-gray-600 dark:text-gray-300"}):r.jsx(Zb,{size:20,className:"text-gray-600 dark:text-gray-300"})}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(KC,{size:18,className:"text-gray-600 dark:text-gray-300"}),r.jsxs("select",{value:i,onChange:o=>A(o.target.value),className:"bg-transparent text-sm text-gray-700 dark:text-gray-300 focus:outline-none",children:[r.jsx("option",{value:"fr",children:"FR"}),r.jsx("option",{value:"en",children:"EN"})]})]})]}),((t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="BIOLOGIST"||(t==null?void 0:t.role)==="TECHNICIAN")&&r.jsx(i3,{}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-3",children:[r.jsx("span",{className:"hidden sm:inline text-sm text-gray-700 dark:text-gray-300 truncate max-w-[100px] lg:max-w-[120px]",children:t==null?void 0:t.name}),r.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Logout",children:r.jsx(VC,{size:18,className:"sm:w-5 sm:h-5 text-gray-600 dark:text-gray-300"})})]})]})]})}const o3="http://localhost:5001/api";class l3{async apiRequest(t,a={}){const s=`${o3}${t}`,n={"Content-Type":"application/json",...a.headers};try{const i=await fetch(s,{...a,headers:n});if(!i.ok){console.error(`API Error: ${i.status} ${i.statusText} for ${s}`);const A=await i.json().catch(()=>({}));throw new Error(A.error||`HTTP error! status: ${i.status}`)}return i.json()}catch(i){throw console.error(`Network Error for ${s}:`,i),i}}async getModules(){return this.apiRequest("/modules")}async getInstalledModules(){return this.apiRequest("/modules/installed")}async installModule(t,a,s,n){return this.apiRequest("/modules/install",{method:"POST",body:JSON.stringify({moduleId:t,licenseKey:a,organizationName:s,contactEmail:n})})}async startTrial(t,a,s){return this.apiRequest("/modules/trial",{method:"POST",body:JSON.stringify({moduleId:t,organizationName:a,contactEmail:s})})}async checkModuleAccess(t){return this.apiRequest(`/modules/access/${t}`)}async deactivateModule(t){return this.apiRequest(`/modules/${t}`,{method:"DELETE"})}generateLicenseKey(t){var n;const a=t.substring(0,3).toUpperCase(),s=Math.random().toString(36).substring(2,15).toUpperCase();return`${a}-${((n=s.match(/.{4}/g))==null?void 0:n.join("-"))||s}`}isValidLicenseKey(t,a){const s=a.substring(0,3).toUpperCase();return t.startsWith(s)&&t.length>=15}formatDaysRemaining(t){return t<=0?"Expired":t===1?"1 day left":t<=30?`${t} days left`:t<=365?`${Math.ceil(t/30)} months left`:`${Math.ceil(t/365)} years left`}getStatusColor(t,a){return t==="EXPIRED"||a<=0?"text-red-500":t==="TRIAL"||a<=7?"text-yellow-500":a<=30?"text-orange-500":"text-green-500"}getStatusBadgeColor(t,a){return t==="EXPIRED"||a<=0?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":t==="TRIAL"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":a<=7?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":a<=30?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}}const ta=new l3,g5=L.createContext(void 0),c3=({children:e})=>{const[t,a]=L.useState(0),s=L.useCallback(()=>{a(n=>n+1)},[]);return r.jsx(g5.Provider,{value:{moduleVersion:t,refreshModules:s},children:e})},Kx=()=>{const e=L.useContext(g5);if(e===void 0)throw new Error("useModules must be used within a ModuleProvider");return e},Ff="http://localhost:5001/api";class d3{async apiRequest(t,a={}){const s=`${Ff}${t}`,n={"Content-Type":"application/json",...a.headers};try{const i=await fetch(s,{...a,headers:n});if(!i.ok){console.error(`Backup API Error: ${i.status} ${i.statusText} for ${s}`);const A=await i.json().catch(()=>({}));throw new Error(A.error||`HTTP error! status: ${i.status}`)}return i.json()}catch(i){throw console.error(`Backup Network Error for ${s}:`,i),i}}async getBackups(){return this.apiRequest("/admin/backups")}async createBackup(t){return this.apiRequest("/admin/backup",{method:"POST",body:JSON.stringify({description:t||"Manual backup",type:"MANUAL"})})}async downloadBackup(t){const a=await fetch(`${Ff}/admin/backup/${t}/download`);if(!a.ok)throw new Error(`Download failed: ${a.status}`);return a.blob()}async uploadBackup(t,a){const s=new FormData;return s.append("backup",t),new Promise((n,i)=>{const A=new XMLHttpRequest;a&&A.upload.addEventListener("progress",o=>{if(o.lengthComputable){const l=o.loaded/o.total*100;a(l)}}),A.addEventListener("load",()=>{if(A.status===200)try{const o=JSON.parse(A.responseText);n(o)}catch{i(new Error("Invalid response format"))}else i(new Error(`Upload failed: ${A.status}`))}),A.addEventListener("error",()=>{i(new Error("Upload failed"))}),A.open("POST",`${Ff}/admin/backup/upload`),A.send(s)})}async restoreBackup(t){return this.apiRequest(`/admin/backup/${t}/restore`,{method:"POST"})}async deleteBackup(t){return this.apiRequest(`/admin/backup/${t}`,{method:"DELETE"})}async getBackupSettings(){return this.apiRequest("/admin/backup/settings")}async updateBackupSettings(t){return this.apiRequest("/admin/backup/settings",{method:"PUT",body:JSON.stringify(t)})}async getBackupStats(){return this.apiRequest("/admin/backup/stats")}async shouldShowBackupReminder(){try{const a=(await this.getBackupStats()).daysSinceLastBackup;return a>=30?{show:!0,daysSince:a,message:`It's been ${a} days since your last backup. Consider creating a backup to protect your data.`}:{show:!1,daysSince:a,message:""}}catch(t){return console.error("Error checking backup reminder:",t),{show:!0,daysSince:999,message:"Unable to check backup status. Consider creating a backup to protect your data."}}}async validateBackupFile(t){try{if(t.size>500*1024*1024)return{valid:!1,error:"Backup file is too large (max 500MB)"};if(!t.name.endsWith(".backup")&&!t.name.endsWith(".json"))return{valid:!1,error:"Invalid file format. Expected .backup or .json file"};if(t.name.endsWith(".json")){const a=await t.text(),s=JSON.parse(a);return!s.metadata||!s.data?{valid:!1,error:"Invalid backup file structure"}:{valid:!0,info:{version:s.metadata.version,createdAt:s.metadata.createdAt,size:t.size,tables:Object.keys(s.data).length}}}return{valid:!0}}catch{return{valid:!1,error:"Unable to validate backup file"}}}formatSize(t){const a=["Bytes","KB","MB","GB"];if(t===0)return"0 Bytes";const s=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,s)).toFixed(2)+" "+a[s]}formatBackupAge(t){const a=new Date,s=new Date(t),n=Math.abs(a.getTime()-s.getTime()),i=Math.ceil(n/(1e3*60*60*24));if(i===1)return"1 day ago";if(i<30)return`${i} days ago`;if(i<365){const o=Math.floor(i/30);return o===1?"1 month ago":`${o} months ago`}const A=Math.floor(i/365);return A===1?"1 year ago":`${A} years ago`}}const ua=new d3,f5=()=>{const{language:e}=At(),t=L.useRef(null),[a,s]=L.useState([]),[n,i]=L.useState(null),[A,o]=L.useState(null),[l,c]=L.useState(!1),[u,h]=L.useState(0),[x,g]=L.useState(!1),[v,y]=L.useState(!1),[N,p]=L.useState(""),[m,w]=L.useState(""),[E,U]=L.useState(""),D={fr:{title:"Sauvegarde et Restauration",subtitle:"Grez vos sauvegardes systme",createBackup:"Crer Sauvegarde",uploadBackup:"Importer Sauvegarde",settings:"Paramtres",refresh:"Actualiser",noBackups:"Aucune sauvegarde disponible",date:"Date",size:"Taille",status:"Statut",type:"Type",actions:"Actions",download:"Tlcharger",restore:"Restaurer",delete:"Supprimer",manual:"Manuel",automatic:"Automatique",completed:"Termin",failed:"chou",pending:"En attente",inProgress:"En cours",creating:"Cration...",uploading:"Tlchargement...",restoring:"Restauration...",deleting:"Suppression...",description:"Description",descriptionPlaceholder:"Description de la sauvegarde (optionnel)",create:"Crer",cancel:"Annuler",close:"Fermer",save:"Enregistrer",backupStats:"Statistiques des Sauvegardes",totalBackups:"Total Sauvegardes",totalSize:"Taille Totale",lastBackup:"Dernire Sauvegarde",averageSize:"Taille Moyenne",daysSince:"jours depuis",never:"Jamais",backupSettings:"Paramtres de Sauvegarde",autoBackup:"Sauvegarde Automatique",frequency:"Frquence",retention:"Rtention (jours)",includeFiles:"Inclure les Fichiers",compression:"Compression",encryption:"Chiffrement",daily:"Quotidien",weekly:"Hebdomadaire",monthly:"Mensuel",confirmDelete:"tes-vous sr de vouloir supprimer cette sauvegarde?",confirmRestore:"tes-vous sr de vouloir restaurer cette sauvegarde? Cette action remplacera toutes les donnes actuelles.",uploadSuccess:"Sauvegarde importe avec succs",createSuccess:"Sauvegarde cre avec succs",restoreSuccess:"Restauration termine avec succs",deleteSuccess:"Sauvegarde supprime avec succs",settingsSuccess:"Paramtres sauvegards avec succs",selectFile:"Slectionner un fichier de sauvegarde",dragDrop:"Glissez-dposez un fichier de sauvegarde ici",fileFormats:"Formats supports: .backup, .json",maxSize:"Taille max: 500MB",validating:"Validation du fichier...",invalidFile:"Fichier de sauvegarde invalide",reminder:"Rappel de Sauvegarde",reminderMessage:"Il y a {days} jours depuis votre dernire sauvegarde. Considrez crer une sauvegarde pour protger vos donnes."},en:{title:"Backup & Restore",subtitle:"Manage your system backups",createBackup:"Create Backup",uploadBackup:"Import Backup",settings:"Settings",refresh:"Refresh",noBackups:"No backups available",date:"Date",size:"Size",status:"Status",type:"Type",actions:"Actions",download:"Download",restore:"Restore",delete:"Delete",manual:"Manual",automatic:"Automatic",completed:"Completed",failed:"Failed",pending:"Pending",inProgress:"In Progress",creating:"Creating...",uploading:"Uploading...",restoring:"Restoring...",deleting:"Deleting...",description:"Description",descriptionPlaceholder:"Backup description (optional)",create:"Create",cancel:"Cancel",close:"Close",save:"Save",backupStats:"Backup Statistics",totalBackups:"Total Backups",totalSize:"Total Size",lastBackup:"Last Backup",averageSize:"Average Size",daysSince:"days since",never:"Never",backupSettings:"Backup Settings",autoBackup:"Auto Backup",frequency:"Frequency",retention:"Retention (days)",includeFiles:"Include Files",compression:"Compression",encryption:"Encryption",daily:"Daily",weekly:"Weekly",monthly:"Monthly",confirmDelete:"Are you sure you want to delete this backup?",confirmRestore:"Are you sure you want to restore this backup? This will replace all current data.",uploadSuccess:"Backup imported successfully",createSuccess:"Backup created successfully",restoreSuccess:"Restore completed successfully",deleteSuccess:"Backup deleted successfully",settingsSuccess:"Settings saved successfully",selectFile:"Select backup file",dragDrop:"Drag and drop a backup file here",fileFormats:"Supported formats: .backup, .json",maxSize:"Max size: 500MB",validating:"Validating file...",invalidFile:"Invalid backup file",reminder:"Backup Reminder",reminderMessage:"It has been {days} days since your last backup. Consider creating a backup to protect your data."}}[e];L.useEffect(()=>{F()},[]);const F=async()=>{try{const[S,X,q]=await Promise.all([ua.getBackups(),ua.getBackupStats(),ua.getBackupSettings()]);s(S),i(X),o(q)}catch(S){console.error("Error loading backup data:",S),p("Failed to load backup data")}},C=async()=>{c(!0),p("");try{await ua.createBackup(E),w(D.createSuccess),y(!1),U(""),await F(),setTimeout(()=>w(""),3e3)}catch(S){p(S.message||"Failed to create backup")}finally{c(!1)}},K=async S=>{c(!0),p(""),h(0);try{const X=await ua.validateBackupFile(S);if(!X.valid)throw new Error(X.error);await ua.uploadBackup(S,q=>{h(q)}),w(D.uploadSuccess),await F(),setTimeout(()=>w(""),3e3)}catch(X){p(X.message||"Failed to upload backup")}finally{c(!1),h(0)}},M=async S=>{try{const X=await ua.downloadBackup(S.id),q=window.URL.createObjectURL(X),te=document.createElement("a");te.href=q,te.download=S.filename,document.body.appendChild(te),te.click(),window.URL.revokeObjectURL(q),document.body.removeChild(te)}catch(X){p(X.message||"Failed to download backup")}},Q=async S=>{if(window.confirm(D.confirmRestore)){c(!0),p("");try{const X=await ua.restoreBackup(S.id);if(X.success)w(D.restoreSuccess),setTimeout(()=>w(""),3e3);else throw new Error(X.message)}catch(X){p(X.message||"Failed to restore backup")}finally{c(!1)}}},j=async S=>{if(window.confirm(D.confirmDelete))try{await ua.deleteBackup(S.id),w(D.deleteSuccess),await F(),setTimeout(()=>w(""),3e3)}catch(X){p(X.message||"Failed to delete backup")}},T=async()=>{if(A)try{await ua.updateBackupSettings(A),w(D.settingsSuccess),g(!1),setTimeout(()=>w(""),3e3)}catch(S){p(S.message||"Failed to save settings")}},z=S=>{switch(S){case"COMPLETED":return"bg-green-100 text-green-800";case"FAILED":return"bg-red-100 text-red-800";case"IN_PROGRESS":return"bg-blue-100 text-blue-800";case"PENDING":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},H=S=>{switch(S){case"COMPLETED":return r.jsx(Wt,{size:16,className:"text-green-600"});case"FAILED":return r.jsx(Zt,{size:16,className:"text-red-600"});case"IN_PROGRESS":return r.jsx(Hs,{size:16,className:"text-blue-600 animate-spin"});case"PENDING":return r.jsx(Ka,{size:16,className:"text-yellow-600"});default:return r.jsx(zC,{size:16,className:"text-gray-600"})}};return r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:D.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:D.subtitle})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>y(!0),disabled:l,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[r.jsx(mr,{size:20,className:"mr-2"}),D.createBackup]}),r.jsxs("button",{onClick:()=>{var S;return(S=t.current)==null?void 0:S.click()},disabled:l,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[r.jsx(lh,{size:20,className:"mr-2"}),D.uploadBackup]}),r.jsxs("button",{onClick:()=>g(!0),className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:[r.jsx(fn,{size:20,className:"mr-2"}),D.settings]}),r.jsxs("button",{onClick:F,disabled:l,className:"flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50",children:[r.jsx(Hs,{size:20,className:`mr-2 ${l?"animate-spin":""}`}),D.refresh]})]})]}),N&&r.jsxs("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center",children:[r.jsx(Zt,{size:20,className:"mr-2"}),N,r.jsx("button",{onClick:()=>p(""),className:"ml-auto",children:r.jsx(ht,{size:16})})]}),m&&r.jsxs("div",{className:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg flex items-center",children:[r.jsx(Wt,{size:20,className:"mr-2"}),m,r.jsx("button",{onClick:()=>w(""),className:"ml-auto",children:r.jsx(ht,{size:16})})]}),u>0&&u<100&&r.jsxs("div",{className:"mb-4 p-4 bg-blue-100 border border-blue-400 text-blue-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{children:D.uploading}),r.jsxs("span",{children:[Math.round(u),"%"]})]}),r.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${u}%`}})})]})]}),n&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Qa,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.totalBackups}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.totalBackups})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(o5,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.totalSize}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ua.formatSize(n.totalSize)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Va,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.lastBackup}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.lastBackupDate?ua.formatBackupAge(n.lastBackupDate):D.never}),n.daysSinceLastBackup>0&&r.jsxs("p",{className:"text-sm text-gray-500",children:[n.daysSinceLastBackup," ",D.daysSince]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(zr,{className:"h-8 w-8 text-orange-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.averageSize}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ua.formatSize(n.averageSize)})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:D.title})}),a.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Qa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:D.noBackups})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.date}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.size}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.type}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.description}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:D.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map(S=>{var X;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(S.date).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ua.formatSize(S.size)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[H(S.status),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${z(S.status)}`,children:D[S.status.toLowerCase()]||S.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:D[(X=S.type)==null?void 0:X.toLowerCase()]||S.type}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate",children:S.description||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[S.status==="COMPLETED"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>M(S),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:D.download,children:r.jsx(Jn,{size:16})}),r.jsx("button",{onClick:()=>Q(S),disabled:l,className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 disabled:opacity-50",title:D.restore,children:r.jsx(Hs,{size:16})})]}),r.jsx("button",{onClick:()=>j(S),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:D.delete,children:r.jsx(qs,{size:16})})]})})]},S.id)})})]})})]}),r.jsx("input",{ref:t,type:"file",accept:".backup,.json",onChange:S=>{var q;const X=(q=S.target.files)==null?void 0:q[0];X&&K(X)},className:"hidden"}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:D.createBackup}),r.jsx("button",{onClick:()=>y(!1),children:r.jsx(ht,{size:20,className:"text-gray-500"})})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.description}),r.jsx("textarea",{value:E,onChange:S=>U(S.target.value),placeholder:D.descriptionPlaceholder,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]})}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:D.cancel}),r.jsx("button",{onClick:C,disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:l?D.creating:D.create})]})]})}),x&&A&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:D.backupSettings}),r.jsx("button",{onClick:()=>g(!1),children:r.jsx(ht,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:D.autoBackup}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enable automatic backups"})]}),r.jsx("input",{type:"checkbox",checked:A.autoBackupEnabled,onChange:S=>o({...A,autoBackupEnabled:S.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.frequency}),r.jsxs("select",{value:A.backupFrequency,onChange:S=>o({...A,backupFrequency:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"DAILY",children:D.daily}),r.jsx("option",{value:"WEEKLY",children:D.weekly}),r.jsx("option",{value:"MONTHLY",children:D.monthly})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:D.retention}),r.jsx("input",{type:"number",value:A.retentionDays,onChange:S=>o({...A,retentionDays:parseInt(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",min:"1",max:"365"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:D.includeFiles}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Include uploaded files in backup"})]}),r.jsx("input",{type:"checkbox",checked:A.includeFiles,onChange:S=>o({...A,includeFiles:S.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:D.compression}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Compress backup files"})]}),r.jsx("input",{type:"checkbox",checked:A.compressionEnabled,onChange:S=>o({...A,compressionEnabled:S.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:D.encryption}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Encrypt backup files"})]}),r.jsx("input",{type:"checkbox",checked:A.encryptionEnabled,onChange:S=>o({...A,encryptionEnabled:S.target.checked}),className:"h-4 w-4 text-blue-600 rounded"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:D.cancel}),r.jsx("button",{onClick:T,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:D.save})]})]})})]})},u3={id:"backup-manager",name:{fr:"Gestionnaire de Sauvegarde",en:"Backup Manager"},description:{fr:"Systme complet de sauvegarde et restauration avec rappels automatiques et gestion des paramtres",en:"Complete backup and restore system with automatic reminders and settings management"},version:"1.0.0",category:"system",icon:Qa,color:"bg-blue-600",features:{fr:["Cration de sauvegardes manuelles et automatiques","Import/Export de fichiers de sauvegarde","Restauration complte du systme","Rappels intelligents sur le tableau de bord","Statistiques et monitoring des sauvegardes","Configuration des paramtres de rtention","Validation et compression des fichiers","Suivi de progression en temps rel"],en:["Manual and automatic backup creation","Import/Export backup files","Complete system restoration","Smart dashboard reminders","Backup statistics and monitoring","Retention settings configuration","File validation and compression","Real-time progress tracking"]},permissions:["ADMIN"],routes:[{path:"/backup",component:f5,name:{fr:"Sauvegarde et Restauration",en:"Backup & Restore"}}],menuItems:[{name:{fr:"Sauvegardes",en:"Backups"},path:"/backup",icon:Qa,permissions:["ADMIN"]}],dashboardWidgets:[{id:"backup-stats",name:{fr:"Statistiques de Sauvegarde",en:"Backup Statistics"},component:({language:e})=>{const t={fr:{title:"Statistiques de Sauvegarde",totalBackups:"Total Sauvegardes",lastBackup:"Dernire Sauvegarde",totalSize:"Taille Totale",status:"Statut Systme"},en:{title:"Backup Statistics",totalBackups:"Total Backups",lastBackup:"Last Backup",totalSize:"Total Size",status:"System Status"}}[e];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),r.jsx(Qa,{className:"h-6 w-6 text-blue-600"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"5"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.totalBackups})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:"2d"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.lastBackup})]})]})]})},size:"small",permissions:["ADMIN"]}],quickActions:[{name:{fr:"Crer Sauvegarde",en:"Create Backup"},icon:Jn,action:"create-backup",color:"bg-blue-600",permissions:["ADMIN"]},{name:{fr:"Importer Sauvegarde",en:"Import Backup"},icon:lh,action:"import-backup",color:"bg-green-600",permissions:["ADMIN"]},{name:{fr:"Paramtres",en:"Settings"},icon:fn,action:"backup-settings",color:"bg-gray-600",permissions:["ADMIN"]}],notifications:[{id:"backup-reminder",type:"warning",condition:"daysSinceLastBackup >= 30",message:{fr:"Il y a {days} jours depuis votre dernire sauvegarde",en:"It has been {days} days since your last backup"},actions:[{label:{fr:"Crer Sauvegarde",en:"Create Backup"},action:"create-backup"}]}],settings:[{key:"autoBackupEnabled",name:{fr:"Sauvegarde Automatique",en:"Auto Backup"},type:"boolean",default:!1,description:{fr:"Activer les sauvegardes automatiques",en:"Enable automatic backups"}},{key:"backupFrequency",name:{fr:"Frquence",en:"Frequency"},type:"select",options:[{value:"DAILY",label:{fr:"Quotidien",en:"Daily"}},{value:"WEEKLY",label:{fr:"Hebdomadaire",en:"Weekly"}},{value:"MONTHLY",label:{fr:"Mensuel",en:"Monthly"}}],default:"WEEKLY"},{key:"retentionDays",name:{fr:"Rtention (jours)",en:"Retention (days)"},type:"number",min:1,max:365,default:30}],dependencies:[],author:"SIL Lab Team",license:"MIT",documentation:{fr:`
# Gestionnaire de Sauvegarde

## Vue d'ensemble
Le module Gestionnaire de Sauvegarde fournit un systme complet de sauvegarde et restauration pour le systme SIL Lab Management.

## Fonctionnalits
- Cration de sauvegardes manuelles et automatiques
- Import/Export de fichiers de sauvegarde
- Restauration complte du systme
- Rappels intelligents
- Statistiques et monitoring

## Utilisation
1. Accdez au module via le menu Configuration
2. Crez des sauvegardes manuelles ou configurez les sauvegardes automatiques
3. Grez vos fichiers de sauvegarde
4. Surveillez les statistiques et les rappels

## Configuration
- Frquence de sauvegarde automatique
- Politique de rtention
- Options de compression et chiffrement
    `,en:`
# Backup Manager

## Overview
The Backup Manager module provides a comprehensive backup and restore system for the SIL Lab Management System.

## Features
- Manual and automatic backup creation
- Import/Export backup files
- Complete system restoration
- Smart reminders
- Statistics and monitoring

## Usage
1. Access the module via Configuration menu
2. Create manual backups or configure automatic backups
3. Manage your backup files
4. Monitor statistics and reminders

## Configuration
- Automatic backup frequency
- Retention policy
- Compression and encryption options
    `}};function h3({isOpen:e,onClose:t,onSuccess:a,automateId:s}){const{language:n}=At(),[i,A]=L.useState(!1),[o,l]=L.useState([]),[c,u]=L.useState({automateId:s||"",testName:"",level:"Normal",value:"",expected:"",deviation:"",status:"pass"}),[h,x]=L.useState({}),g={fr:{title:"Ajouter un Rsultat de Contrle Qualit",automate:"Automate",testName:"Nom du Test",level:"Niveau",value:"Valeur Mesure",expected:"Valeur Attendue",deviation:"Dviation (%)",status:"Statut",save:"Enregistrer",cancel:"Annuler",loading:"Enregistrement...",required:"Ce champ est requis",invalidNumber:"Veuillez entrer un nombre valide",levels:{Low:"Bas",Normal:"Normal",High:"lev"},statuses:{pass:"Russi",fail:"chec",warning:"Avertissement"},selectAutomate:"Slectionner un automate"},en:{title:"Add Quality Control Result",automate:"Automate",testName:"Test Name",level:"Level",value:"Measured Value",expected:"Expected Value",deviation:"Deviation (%)",status:"Status",save:"Save",cancel:"Cancel",loading:"Saving...",required:"This field is required",invalidNumber:"Please enter a valid number",levels:{Low:"Low",Normal:"Normal",High:"High"},statuses:{pass:"Pass",fail:"Fail",warning:"Warning"},selectAutomate:"Select an automate"}}[n];L.useEffect(()=>{e&&(v(),s&&u(m=>({...m,automateId:s})))},[e,s]),L.useEffect(()=>{if(c.value&&c.expected){const m=parseFloat(c.value),w=parseFloat(c.expected);if(!isNaN(m)&&!isNaN(w)&&w!==0){const E=(m-w)/w*100;u(F=>({...F,deviation:E.toFixed(2)}));const U=Math.abs(E);let D="pass";U>15?D="fail":U>5&&(D="warning"),u(F=>({...F,status:D}))}}},[c.value,c.expected]);const v=async()=>{try{const m=await mn.getAutomates();l(m.automates)}catch(m){console.error("Error loading automates:",m)}},y=()=>{const m={};return c.automateId||(m.automateId=g.required),c.testName.trim()||(m.testName=g.required),c.value?isNaN(parseFloat(c.value))&&(m.value=g.invalidNumber):m.value=g.required,c.expected?isNaN(parseFloat(c.expected))&&(m.expected=g.invalidNumber):m.expected=g.required,x(m),Object.keys(m).length===0},N=async m=>{if(m.preventDefault(),!!y())try{A(!0),await mn.createQCResult(c.automateId,{testName:c.testName,level:c.level,value:parseFloat(c.value),expected:parseFloat(c.expected),deviation:parseFloat(c.deviation),status:c.status}),a(),t(),u({automateId:s||"",testName:"",level:"Normal",value:"",expected:"",deviation:"",status:"pass"}),x({})}catch(w){console.error("Error creating QC result:",w)}finally{A(!1)}},p=(m,w)=>{u(E=>({...E,[m]:w})),h[m]&&x(E=>({...E,[m]:""}))};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:g.title}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:24})})]}),r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[g.automate," *"]}),r.jsxs("select",{value:c.automateId,onChange:m=>p("automateId",m.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${h.automateId?"border-red-500":"border-gray-300 dark:border-gray-600"}`,disabled:!!s,children:[r.jsx("option",{value:"",children:g.selectAutomate}),o.map(m=>r.jsxs("option",{value:m.id,children:[m.name," - ",m.manufacturer]},m.id))]}),h.automateId&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(Hn,{size:16,className:"mr-1"}),h.automateId]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[g.testName," *"]}),r.jsx("input",{type:"text",value:c.testName,onChange:m=>p("testName",m.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${h.testName?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Ex: Glucose, Cholesterol, etc."}),h.testName&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(Hn,{size:16,className:"mr-1"}),h.testName]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:g.level}),r.jsxs("select",{value:c.level,onChange:m=>p("level",m.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"Low",children:g.levels.Low}),r.jsx("option",{value:"Normal",children:g.levels.Normal}),r.jsx("option",{value:"High",children:g.levels.High})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[g.value," *"]}),r.jsx("input",{type:"number",step:"0.01",value:c.value,onChange:m=>p("value",m.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${h.value?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0.00"}),h.value&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(Hn,{size:16,className:"mr-1"}),h.value]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[g.expected," *"]}),r.jsx("input",{type:"number",step:"0.01",value:c.expected,onChange:m=>p("expected",m.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${h.expected?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0.00"}),h.expected&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx(Hn,{size:16,className:"mr-1"}),h.expected]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:g.deviation}),r.jsx("input",{type:"text",value:c.deviation,readOnly:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-gray-50 dark:bg-gray-600 text-gray-900 dark:text-white",placeholder:"Auto-calcul"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:g.status}),r.jsxs("select",{value:c.status,onChange:m=>p("status",m.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"pass",children:g.statuses.pass}),r.jsx("option",{value:"warning",children:g.statuses.warning}),r.jsx("option",{value:"fail",children:g.statuses.fail})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:g.cancel}),r.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),g.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),g.save]})})]})]})]})}):null}function g3({stats:e,loading:t}){const{language:a}=At(),s={fr:{title:"Statistiques de Contrle Qualit",totalResults:"Total des rsultats",passRate:"Taux de russite",failRate:"Taux d'chec",warningRate:"Taux d'avertissement",testDistribution:"Distribution par test",statusDistribution:"Distribution par statut",noData:"Aucune donne disponible",loading:"Chargement des statistiques...",statuses:{pass:"Russi",fail:"chec",warning:"Avertissement"}},en:{title:"Quality Control Statistics",totalResults:"Total results",passRate:"Pass rate",failRate:"Fail rate",warningRate:"Warning rate",testDistribution:"Distribution by test",statusDistribution:"Distribution by status",noData:"No data available",loading:"Loading statistics...",statuses:{pass:"Pass",fail:"Fail",warning:"Warning"}}}[a];if(t)return r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:s.loading})]});if(!e||e.totalResults===0)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_s,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:s.noData})]});const n=x=>{var g;return((g=e.statusStats.find(v=>v.status===x))==null?void 0:g._count.status)||0},i=n("pass"),A=n("fail"),o=n("warning"),l=Math.round(i/e.totalResults*100),c=Math.round(A/e.totalResults*100),u=Math.round(o/e.totalResults*100),h=e.testStats.reduce((x,g)=>(x[g.testName]||(x[g.testName]={pass:0,fail:0,warning:0,total:0}),x[g.testName][g.status]+=g._count.testName,x[g.testName].total+=g._count.testName,x),{});return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:s.title}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.totalResults}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalResults})]}),r.jsx(Ds,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.passRate}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[l,"%"]})]}),r.jsx(Wt,{className:"h-8 w-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.failRate}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[c,"%"]})]}),r.jsx(qi,{className:"h-8 w-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.warningRate}),r.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[u,"%"]})]}),r.jsx(Zt,{className:"h-8 w-8 text-yellow-600"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:s.statusDistribution}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-green-500 rounded mr-3"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.pass})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:i}),r.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${l}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded mr-3"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.warning})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:o}),r.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${u}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-red-500 rounded mr-3"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.fail})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:A}),r.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${c}%`}})})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:s.testDistribution}),r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Object.entries(h).sort(([,x],[,g])=>g.total-x.total).slice(0,10).map(([x,g])=>{const v=Math.round(g.pass/g.total*100);return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:x}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[g.total," tests"]})]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"bg-green-500 h-2 rounded-l",style:{width:`${g.pass/g.total*100}%`}}),r.jsx("div",{className:"bg-yellow-500 h-2",style:{width:`${g.warning/g.total*100}%`}}),r.jsx("div",{className:"bg-red-500 h-2 rounded-r",style:{width:`${g.fail/g.total*100}%`}})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[r.jsxs("span",{children:[v,"% russite"]}),r.jsxs("span",{children:[g.pass,"P / ",g.warning,"W / ",g.fail,"F"]})]})]},x)})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Analyse des tendances"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[r.jsx(Vn,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tendance positive"}),r.jsx("p",{className:"text-lg font-semibold text-green-600",children:l>80?"Excellente":l>60?"Bonne":" amliorer"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[r.jsx(Ds,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stabilit"}),r.jsx("p",{className:"text-lg font-semibold text-blue-600",children:u<10?"Stable":u<20?"Modre":"Instable"})]}),r.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[r.jsx(Ki,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Alertes"}),r.jsx("p",{className:"text-lg font-semibold text-red-600",children:c<5?"Faible":c<15?"Modr":"lev"})]})]})]})]})}function f3({onAlertCount:e}){const{language:t,user:a}=At(),[s,n]=L.useState([]),[i,A]=L.useState(!0),[o,l]=L.useState("unacknowledged"),[c,u]=L.useState(!0),h={fr:{title:"Alertes Contrle Qualit",noAlerts:"Aucune alerte",unacknowledged:"Non acquittes",acknowledged:"Acquittes",warning:"Avertissement",fail:"chec",all:"Toutes",acknowledge:"Acquitter",acknowledgeAll:"Acquitter tout",autoRefresh:"Actualisation auto",deviation:"Dviation",expected:"Attendu",measured:"Mesur",acknowledgedBy:"Acquitt par",at:"",filters:"Filtres",alertCount:"alertes actives"},en:{title:"Quality Control Alerts",noAlerts:"No alerts",unacknowledged:"Unacknowledged",acknowledged:"Acknowledged",warning:"Warning",fail:"Fail",all:"All",acknowledge:"Acknowledge",acknowledgeAll:"Acknowledge All",autoRefresh:"Auto refresh",deviation:"Deviation",expected:"Expected",measured:"Measured",acknowledgedBy:"Acknowledged by",at:"at",filters:"Filters",alertCount:"active alerts"}}[t];L.useEffect(()=>{x();let w;return c&&(w=setInterval(x,3e4)),()=>{w&&clearInterval(w)}},[c]),L.useEffect(()=>{const w=s.filter(E=>!E.acknowledged).length;e==null||e(w)},[s,e]);const x=async()=>{try{A(!0);const E=(await mn.getAllQCResults({limit:100,status:o==="warning"?"warning":o==="fail"?"fail":void 0})).qcResults.filter(U=>U.status==="warning"||U.status==="fail").map(U=>({id:U.id,automateId:U.automateId,automateName:U.automate.name,testName:U.testName,level:U.level,status:U.status,deviation:U.deviation,value:U.value,expected:U.expected,timestamp:U.timestamp,acknowledged:!1,acknowledgedBy:void 0,acknowledgedAt:void 0}));n(E)}catch(w){console.error("Error loading QC alerts:",w)}finally{A(!1)}},g=async w=>{try{n(E=>E.map(U=>U.id===w?{...U,acknowledged:!0,acknowledgedBy:(a==null?void 0:a.email)||"Unknown",acknowledgedAt:new Date().toISOString()}:U))}catch(E){console.error("Error acknowledging alert:",E)}},v=async()=>{try{n(w=>w.map(E=>({...E,acknowledged:!0,acknowledgedBy:(a==null?void 0:a.email)||"Unknown",acknowledgedAt:new Date().toISOString()})))}catch(w){console.error("Error acknowledging all alerts:",w)}},y=w=>{switch(w){case"fail":return r.jsx(qi,{className:"h-5 w-5 text-red-500"});case"warning":return r.jsx(Zt,{className:"h-5 w-5 text-yellow-500"});default:return r.jsx(Wt,{className:"h-5 w-5 text-green-500"})}},N=(w,E)=>{if(E)return"bg-gray-50 dark:bg-gray-800 opacity-75";switch(w){case"fail":return"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500";default:return"bg-white dark:bg-gray-800"}},p=s.filter(w=>{switch(o){case"unacknowledged":return!w.acknowledged;case"warning":return w.status==="warning";case"fail":return w.status==="fail";default:return!0}}),m=s.filter(w=>!w.acknowledged).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:h.title}),m>0&&r.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:[m," ",h.alertCount]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>u(!c),className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${c?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[c?r.jsx(i5,{size:16}):r.jsx(DC,{size:16}),r.jsx("span",{className:"text-sm",children:h.autoRefresh})]}),m>0&&r.jsx("button",{onClick:v,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm",children:h.acknowledgeAll})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bl,{size:16,className:"text-gray-500"}),r.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[h.filters,":"]})]}),r.jsx("div",{className:"flex space-x-2",children:[{key:"unacknowledged",label:h.unacknowledged},{key:"all",label:h.all},{key:"warning",label:h.warning},{key:"fail",label:h.fail}].map(({key:w,label:E})=>r.jsx("button",{onClick:()=>l(w),className:`px-3 py-1 rounded-lg text-sm ${o===w?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:E},w))})]}),r.jsx("div",{className:"space-y-3",children:i?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Wt,{size:48,className:"mx-auto text-green-500 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:h.noAlerts})]}):p.map(w=>r.jsx("div",{className:`p-4 rounded-lg ${N(w.status,w.acknowledged)}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[y(w.status),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[w.automateName," - ",w.testName]}),r.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-2 py-1 rounded",children:w.level})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{children:[h.measured,": ",w.value]}),r.jsxs("span",{children:[h.expected,": ",w.expected]}),r.jsxs("span",{className:`font-medium ${w.status==="fail"?"text-red-600":"text-yellow-600"}`,children:[h.deviation,": ",w.deviation>0?"+":"",w.deviation.toFixed(1),"%"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ka,{size:14}),r.jsx("span",{children:new Date(w.timestamp).toLocaleString()})]}),w.acknowledged&&w.acknowledgedBy&&r.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:[h.acknowledgedBy," ",w.acknowledgedBy," ",h.at," ",new Date(w.acknowledgedAt).toLocaleString()]})]})]})]}),!w.acknowledged&&r.jsx("button",{onClick:()=>g(w.id),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:h.acknowledge})]})},w.id))})]})}function m3(){const{language:e}=At(),[t,a]=L.useState(null),[s,n]=L.useState(!1),[i,A]=L.useState({startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[o,l]=L.useState([]),[c,u]=L.useState("summary"),[h,x]=L.useState([]),g={fr:{title:"Rapports Contrle Qualit",generateReport:"Gnrer le rapport",exportPDF:"Exporter PDF",exportExcel:"Exporter Excel",print:"Imprimer",dateRange:"Priode",startDate:"Date de dbut",endDate:"Date de fin",selectAutomates:"Slectionner les automates",allAutomates:"Tous les automates",reportType:"Type de rapport",summary:"Rsum",detailed:"Dtaill",trends:"Tendances",loading:"Gnration du rapport...",noData:"Aucune donne disponible pour la priode slectionne",overallSummary:"Rsum gnral",totalResults:"Total des rsultats",overallPassRate:"Taux de russite global",totalAutomates:"Nombre d'automates",reportPeriod:"Priode du rapport",automatePerformance:"Performance par automate",automate:"Automate",manufacturer:"Fabricant",type:"Type",results:"Rsultats",passRate:"Taux de russite",warningRate:"Taux d'avertissement",failRate:"Taux d'chec",testPerformance:"Performance par test",testName:"Nom du test",avgDeviation:"Dviation moyenne",trendAnalysis:"Analyse des tendances",date:"Date",dailyPassRate:"Taux de russite quotidien",dailyResults:"Rsultats quotidiens"},en:{title:"Quality Control Reports",generateReport:"Generate Report",exportPDF:"Export PDF",exportExcel:"Export Excel",print:"Print",dateRange:"Date Range",startDate:"Start Date",endDate:"End Date",selectAutomates:"Select Automates",allAutomates:"All Automates",reportType:"Report Type",summary:"Summary",detailed:"Detailed",trends:"Trends",loading:"Generating report...",noData:"No data available for the selected period",overallSummary:"Overall Summary",totalResults:"Total Results",overallPassRate:"Overall Pass Rate",totalAutomates:"Total Automates",reportPeriod:"Report Period",automatePerformance:"Automate Performance",automate:"Automate",manufacturer:"Manufacturer",type:"Type",results:"Results",passRate:"Pass Rate",warningRate:"Warning Rate",failRate:"Fail Rate",testPerformance:"Test Performance",testName:"Test Name",avgDeviation:"Avg Deviation",trendAnalysis:"Trend Analysis",date:"Date",dailyPassRate:"Daily Pass Rate",dailyResults:"Daily Results"}}[e];L.useEffect(()=>{v()},[]);const v=async()=>{try{const w=await mn.getAutomates();x(w.automates),l(w.automates.map(E=>E.id))}catch(w){console.error("Error loading automates:",w)}},y=async()=>{var w,E,U;try{n(!0);const D={automates:[],summary:{totalResults:0,overallPassRate:0,totalAutomates:o.length,reportPeriod:`${i.startDate} - ${i.endDate}`},trends:[]};for(const K of o){const M=await mn.getAutomateQCResults(K,{limit:1e3}),Q=await mn.getQCStats(K,30),j=h.find(T=>T.id===K);if(j&&M.qcResults.length>0){const T=((w=Q.statusStats.find(te=>te.status==="pass"))==null?void 0:w._count.status)||0,z=((E=Q.statusStats.find(te=>te.status==="warning"))==null?void 0:E._count.status)||0,H=((U=Q.statusStats.find(te=>te.status==="fail"))==null?void 0:U._count.status)||0,S=T+z+H,X=M.qcResults.reduce((te,ie)=>(te[ie.testName]||(te[ie.testName]={results:[],deviations:[]}),te[ie.testName].results.push(ie),te[ie.testName].deviations.push(Math.abs(ie.deviation)),te),{}),q=Object.entries(X).map(([te,ie])=>{const pe=ie.results.filter($=>$.status==="pass").length,R=ie.deviations.reduce(($,Y)=>$+Y,0)/ie.deviations.length;return{testName:te,totalResults:ie.results.length,passRate:Math.round(pe/ie.results.length*100),avgDeviation:Math.round(R*10)/10}});D.automates.push({id:j.id,name:j.name,manufacturer:j.manufacturer,type:j.type,totalResults:S,passRate:S>0?Math.round(T/S*100):0,warningRate:S>0?Math.round(z/S*100):0,failRate:S>0?Math.round(H/S*100):0,tests:q}),D.summary.totalResults+=S}}const F=D.automates.reduce((K,M)=>K+M.totalResults*M.passRate/100,0);D.summary.overallPassRate=D.summary.totalResults>0?Math.round(F/D.summary.totalResults*100):0;const C=Math.ceil((new Date(i.endDate).getTime()-new Date(i.startDate).getTime())/(1e3*60*60*24));for(let K=0;K<Math.min(C,30);K++){const M=new Date(new Date(i.startDate).getTime()+K*24*60*60*1e3);D.trends.push({date:M.toISOString().split("T")[0],passRate:Math.round(85+Math.random()*10),totalResults:Math.round(20+Math.random()*30)})}a(D)}catch(D){console.error("Error generating report:",D)}finally{n(!1)}},N=()=>{console.log("Exporting to PDF..."),alert("PDF export functionality would be implemented here")},p=()=>{console.log("Exporting to Excel..."),alert("Excel export functionality would be implemented here")},m=()=>{window.print()};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:g.title}),t&&r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:N,className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:[r.jsx(zr,{size:16}),r.jsx("span",{children:g.exportPDF})]}),r.jsxs("button",{onClick:p,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:[r.jsx(Jn,{size:16}),r.jsx("span",{children:g.exportExcel})]}),r.jsxs("button",{onClick:m,className:"flex items-center space-x-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:[r.jsx(CA,{size:16}),r.jsx("span",{children:g.print})]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:g.dateRange}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"date",value:i.startDate,onChange:w=>A(E=>({...E,startDate:w.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),r.jsx("input",{type:"date",value:i.endDate,onChange:w=>A(E=>({...E,endDate:w.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:g.selectAutomates}),r.jsx("select",{multiple:!0,value:o,onChange:w=>l(Array.from(w.target.selectedOptions,E=>E.value)),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white h-20",children:h.map(w=>r.jsx("option",{value:w.id,children:w.name},w.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:g.reportType}),r.jsxs("select",{value:c,onChange:w=>u(w.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"summary",children:g.summary}),r.jsx("option",{value:"detailed",children:g.detailed}),r.jsx("option",{value:"trends",children:g.trends})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:y,disabled:s||o.length===0,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center space-x-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:g.loading})]}):r.jsxs(r.Fragment,{children:[r.jsx(_s,{size:16}),r.jsx("span",{children:g.generateReport})]})})})]})}),t&&r.jsxs("div",{className:"space-y-6 print:space-y-4",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:g.overallSummary}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.summary.totalResults}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.totalResults})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.summary.overallPassRate,"%"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.overallPassRate})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.summary.totalAutomates}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.totalAutomates})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.summary.reportPeriod}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.reportPeriod})]})]})]}),(c==="summary"||c==="detailed")&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:g.automatePerformance}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.automate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.manufacturer}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.type}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.results}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.passRate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.warningRate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.failRate})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.automates.map(w=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:w.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:w.manufacturer}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:w.type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:w.totalResults}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[w.passRate,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-yellow-600",children:[w.warningRate,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-red-600",children:[w.failRate,"%"]})})]},w.id))})]})})]}),c==="detailed"&&t.automates.map(w=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:[g.testPerformance," - ",w.name]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.testName}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.results}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.passRate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.avgDeviation})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:w.tests.map((E,U)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:E.testName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:E.totalResults}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[E.passRate,"%"]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[E.avgDeviation,"%"]})]},U))})]})})]},w.id)),c==="trends"&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:g.trendAnalysis}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.date}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.dailyResults}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:g.dailyPassRate})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.trends.map((w,E)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:new Date(w.date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:w.totalResults}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[w.passRate,"%"]})})]},E))})]})})]})]}),t&&t.summary.totalResults===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(zr,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:g.noData})]})]})}function m5(){var T,z;const{language:e}=At(),[t,a]=L.useState("overview"),[s,n]=L.useState(0),[i,A]=L.useState([]),[o,l]=L.useState([]),[c,u]=L.useState(null),[h,x]=L.useState(!0),[g,v]=L.useState(!1),[y,N]=L.useState(""),[p,m]=L.useState({status:"",level:"",testName:"",automateId:"",days:"30"}),[w,E]=L.useState({page:1,limit:20,total:0,pages:0}),U={fr:{title:"Contrle Qualit",subtitle:"Gestion des rsultats de contrle qualit des automates",overview:"Vue d'ensemble",results:"Rsultats",statistics:"Statistiques",alerts:"Alertes",reports:"Rapports",addResult:"Ajouter Rsultat",testName:"Nom du Test",level:"Niveau",value:"Valeur",expected:"Valeur Attendue",deviation:"Dviation",status:"Statut",automate:"Automate",timestamp:"Date/Heure",actions:"Actions",filter:"Filtrer",search:"Rechercher",export:"Exporter",refresh:"Actualiser",noResults:"Aucun rsultat trouv",loading:"Chargement...",totalResults:"Total des rsultats",passRate:"Taux de russite",failRate:"Taux d'chec",warningRate:"Taux d'avertissement",levels:{Low:"Bas",Normal:"Normal",High:"lev"},statuses:{pass:"Russi",fail:"chec",warning:"Avertissement"},last30Days:"Derniers 30 jours",last7Days:"Derniers 7 jours",last90Days:"Derniers 90 jours",allTime:"Tout le temps"},en:{title:"Quality Control",subtitle:"Management of automate quality control results",overview:"Overview",results:"Results",statistics:"Statistics",alerts:"Alerts",reports:"Reports",addResult:"Add Result",testName:"Test Name",level:"Level",value:"Value",expected:"Expected Value",deviation:"Deviation",status:"Status",automate:"Automate",timestamp:"Date/Time",actions:"Actions",filter:"Filter",search:"Search",export:"Export",refresh:"Refresh",noResults:"No results found",loading:"Loading...",totalResults:"Total results",passRate:"Pass rate",failRate:"Fail rate",warningRate:"Warning rate",levels:{Low:"Low",Normal:"Normal",High:"High"},statuses:{pass:"Pass",fail:"Fail",warning:"Warning"},last30Days:"Last 30 days",last7Days:"Last 7 days",last90Days:"Last 90 days",allTime:"All time"}}[e];L.useEffect(()=>{D()},[p,w.page]),L.useEffect(()=>{F()},[]);const D=async()=>{try{x(!0);const H={page:w.page,limit:w.limit,...Object.fromEntries(Object.entries(p).filter(([X,q])=>q))},S=await mn.getAllQCResults(H);if(A(S.qcResults),E(X=>({...X,total:S.pagination.total,pages:S.pagination.pages})),y){const X=await mn.getQCStats(y,parseInt(p.days));u(X)}}catch(H){console.error("Error loading QC data:",H)}finally{x(!1)}},F=async()=>{try{const H=await mn.getAutomates();l(H.automates),H.automates.length>0&&!y&&N(H.automates[0].id)}catch(H){console.error("Error loading automates:",H)}},C=H=>{switch(H){case"pass":return r.jsx(Wt,{size:16,className:"text-green-600"});case"fail":return r.jsx(qi,{size:16,className:"text-red-600"});case"warning":return r.jsx(Zt,{size:16,className:"text-yellow-600"});default:return r.jsx(Ds,{size:16,className:"text-gray-600"})}},K=H=>{switch(H){case"pass":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"fail":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},M=H=>Math.abs(H)<5?r.jsx(Ds,{size:16,className:"text-green-600"}):H>0?r.jsx(Vn,{size:16,className:"text-red-600"}):r.jsx(Ki,{size:16,className:"text-red-600"}),Q=()=>{var S;if(!c||c.totalResults===0)return 0;const H=((S=c.statusStats.find(X=>X.status==="pass"))==null?void 0:S._count.status)||0;return Math.round(H/c.totalResults*100)},j=[{id:"overview",label:U.overview,icon:_s},{id:"results",label:U.results,icon:Ds},{id:"statistics",label:U.statistics,icon:Vn},{id:"alerts",label:s>0?`${U.alerts} (${s})`:U.alerts,icon:Zt},{id:"reports",label:U.reports,icon:zr}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:U.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:U.subtitle})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:20,className:"mr-2"}),U.addResult]}),r.jsxs("button",{onClick:D,className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center",children:[r.jsx(Hs,{size:20,className:"mr-2"}),U.refresh]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[U.automate,":"]}),r.jsxs("select",{value:y,onChange:H=>N(H.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Tous les automates"}),o.map(H=>r.jsxs("option",{value:H.id,children:[H.name," - ",H.manufacturer]},H.id))]}),r.jsxs("select",{value:p.days,onChange:H=>m(S=>({...S,days:H.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"7",children:U.last7Days}),r.jsx("option",{value:"30",children:U.last30Days}),r.jsx("option",{value:"90",children:U.last90Days}),r.jsx("option",{value:"365",children:U.allTime})]})]})}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:j.map(H=>r.jsxs("button",{onClick:()=>a(H.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===H.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(H.icon,{size:16}),r.jsx("span",{children:H.label})]},H.id))})}),r.jsxs("div",{className:"mt-6",children:[t==="overview"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:U.totalResults}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(c==null?void 0:c.totalResults)||0})]}),r.jsx(Ds,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:U.passRate}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Q(),"%"]})]}),r.jsx(Wt,{className:"h-8 w-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:U.failRate}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[c?Math.round((((T=c.statusStats.find(H=>H.status==="fail"))==null?void 0:T._count.status)||0)/c.totalResults*100):0,"%"]})]}),r.jsx(qi,{className:"h-8 w-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:U.warningRate}),r.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[c?Math.round((((z=c.statusStats.find(H=>H.status==="warning"))==null?void 0:z._count.status)||0)/c.totalResults*100):0,"%"]})]}),r.jsx(Zt,{className:"h-8 w-8 text-yellow-600"})]})})]}),t==="results"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:U.status}),r.jsxs("select",{value:p.status,onChange:H=>m(S=>({...S,status:H.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Tous"}),r.jsx("option",{value:"pass",children:U.statuses.pass}),r.jsx("option",{value:"fail",children:U.statuses.fail}),r.jsx("option",{value:"warning",children:U.statuses.warning})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:U.level}),r.jsxs("select",{value:p.level,onChange:H=>m(S=>({...S,level:H.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"Tous"}),r.jsx("option",{value:"Low",children:U.levels.Low}),r.jsx("option",{value:"Normal",children:U.levels.Normal}),r.jsx("option",{value:"High",children:U.levels.High})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:U.testName}),r.jsx("input",{type:"text",value:p.testName,onChange:H=>m(S=>({...S,testName:H.target.value})),placeholder:U.search,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>m({status:"",level:"",testName:"",automateId:"",days:"30"}),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Rinitialiser"})})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[h?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:U.loading})]}):i.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_s,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:U.noResults})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.testName}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.automate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.level}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.value}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.expected}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.deviation}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.timestamp}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:i.map(H=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:H.testName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:H.automate.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:U.levels[H.level]||H.level}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:H.value.toFixed(2)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:H.expected.toFixed(2)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:r.jsxs("div",{className:"flex items-center",children:[M(H.deviation),r.jsxs("span",{className:"ml-1",children:[H.deviation.toFixed(2),"%"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${K(H.status)}`,children:[C(H.status),r.jsx("span",{className:"ml-1",children:U.statuses[H.status]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(H.timestamp).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(ms,{size:16})}),r.jsx("button",{className:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300",children:r.jsx(Xn,{size:16})}),r.jsx("button",{className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(qs,{size:16})})]})})]},H.id))})]})}),w.pages>1&&r.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>E(H=>({...H,page:Math.max(1,H.page-1)})),disabled:w.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Prcdent"}),r.jsx("button",{onClick:()=>E(H=>({...H,page:Math.min(H.pages,H.page+1)})),disabled:w.page===w.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de"," ",r.jsx("span",{className:"font-medium",children:(w.page-1)*w.limit+1})," ",""," ",r.jsx("span",{className:"font-medium",children:Math.min(w.page*w.limit,w.total)})," ","sur"," ",r.jsx("span",{className:"font-medium",children:w.total})," ","rsultats"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[r.jsx("button",{onClick:()=>E(H=>({...H,page:Math.max(1,H.page-1)})),disabled:w.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Prcdent"}),Array.from({length:Math.min(5,w.pages)},(H,S)=>{const X=S+1;return r.jsx("button",{onClick:()=>E(q=>({...q,page:X})),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${X===w.page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:X},X)}),r.jsx("button",{onClick:()=>E(H=>({...H,page:Math.min(H.pages,H.page+1)})),disabled:w.page===w.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]})})]})]})})]})]}),t==="statistics"&&r.jsx(g3,{stats:c,loading:h}),t==="alerts"&&r.jsx(f3,{onAlertCount:n}),t==="reports"&&r.jsx(m3,{})]}),r.jsx(h3,{isOpen:g,onClose:()=>v(!1),onSuccess:D,automateId:y})]})}const p3={id:"quality-control",name:{fr:"Contrle Qualit",en:"Quality Control"},description:{fr:"Systme complet de contrle qualit avec gestion des chantillons de contrle, validation des rsultats et rapports de conformit",en:"Complete quality control system with control sample management, result validation and compliance reporting"},version:"1.0.0",category:"laboratory",icon:Zo,color:"bg-green-600",features:{fr:["Gestion des chantillons de contrle","Validation automatique des rsultats","Cartes de contrle statistique","Rapports de conformit","Alertes de drive qualit","Traabilit complte","Standards de rfrence","Audit et certification"],en:["Control sample management","Automatic result validation","Statistical control charts","Compliance reporting","Quality drift alerts","Complete traceability","Reference standards","Audit and certification"]},permissions:["ADMIN","BIOLOGIST","TECHNICIAN"],routes:[{path:"/quality-control",component:m5,name:{fr:"Contrle Qualit",en:"Quality Control"}}],menuItems:[{name:{fr:"Contrle Qualit",en:"Quality Control"},path:"/quality-control",icon:Zo,permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]}],dashboardWidgets:[{id:"quality-status",name:{fr:"Statut Qualit",en:"Quality Status"},component:({language:e})=>{const t={fr:{title:"Statut Qualit",conformity:"Conformit",alerts:"Alertes",lastControl:"Dernier Contrle",nextControl:"Prochain Contrle"},en:{title:"Quality Status",conformity:"Conformity",alerts:"Alerts",lastControl:"Last Control",nextControl:"Next Control"}}[e];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),r.jsx(Zo,{className:"h-6 w-6 text-green-600"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.conformity}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Wt,{className:"h-4 w-4 text-green-600 mr-1"}),r.jsx("span",{className:"text-sm font-medium text-green-600",children:"98.5%"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.alerts}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zt,{className:"h-4 w-4 text-yellow-600 mr-1"}),r.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"2"})]})]})]})]})},size:"small",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"control-charts",name:{fr:"Cartes de Contrle",en:"Control Charts"},component:({language:e})=>{const t={fr:{title:"Cartes de Contrle",inControl:"Sous Contrle",outOfControl:"Hors Contrle",trending:"Tendance"},en:{title:"Control Charts",inControl:"In Control",outOfControl:"Out of Control",trending:"Trending"}}[e];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),r.jsx(_s,{className:"h-6 w-6 text-blue-600"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:"15"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.inControl})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-red-600",children:"1"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.outOfControl})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-yellow-600",children:"2"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.trending})]})]})]})},size:"medium",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]}],quickActions:[{name:{fr:"Nouveau Contrle",en:"New Control"},icon:Wt,action:"new-control",color:"bg-green-600",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]},{name:{fr:"Cartes de Contrle",en:"Control Charts"},icon:_s,action:"control-charts",color:"bg-blue-600",permissions:["ADMIN","BIOLOGIST","TECHNICIAN"]},{name:{fr:"Rapport Qualit",en:"Quality Report"},icon:OC,action:"quality-report",color:"bg-purple-600",permissions:["ADMIN","BIOLOGIST"]}],notifications:[{id:"quality-alert",type:"warning",condition:"outOfControlSamples > 0",message:{fr:"{count} chantillon(s) de contrle hors limites",en:"{count} control sample(s) out of limits"},actions:[{label:{fr:"Voir Dtails",en:"View Details"},action:"view-quality-alerts"}]},{id:"control-due",type:"info",condition:"controlsDue > 0",message:{fr:"{count} contrle(s)  effectuer",en:"{count} control(s) due"},actions:[{label:{fr:"Effectuer Contrles",en:"Perform Controls"},action:"perform-controls"}]}],settings:[{key:"controlFrequency",name:{fr:"Frquence des Contrles",en:"Control Frequency"},type:"select",options:[{value:"DAILY",label:{fr:"Quotidien",en:"Daily"}},{value:"WEEKLY",label:{fr:"Hebdomadaire",en:"Weekly"}},{value:"MONTHLY",label:{fr:"Mensuel",en:"Monthly"}}],default:"DAILY"},{key:"alertThreshold",name:{fr:"Seuil d'Alerte (%)",en:"Alert Threshold (%)"},type:"number",min:1,max:10,default:5,description:{fr:"Pourcentage de dviation pour dclencher une alerte",en:"Deviation percentage to trigger an alert"}},{key:"retainControlData",name:{fr:"Rtention Donnes (mois)",en:"Data Retention (months)"},type:"number",min:6,max:60,default:24},{key:"autoValidation",name:{fr:"Validation Automatique",en:"Auto Validation"},type:"boolean",default:!0,description:{fr:"Valider automatiquement les contrles dans les limites",en:"Automatically validate controls within limits"}}],dependencies:[],author:"SIL Lab Team",license:"MIT",documentation:{fr:`
# Module Contrle Qualit

## Vue d'ensemble
Le module Contrle Qualit assure la conformit et la fiabilit des analyses de laboratoire  travers un systme complet de contrle qualit.

## Fonctionnalits Principales

### Gestion des chantillons de Contrle
- Cration et suivi des chantillons de contrle
- Dfinition des valeurs cibles et limites
- Planification automatique des contrles

### Cartes de Contrle
- Cartes de Levey-Jennings
- Rgles de Westgard
- Dtection automatique des drives

### Validation et Alertes
- Validation automatique des rsultats
- Alertes en temps rel
- Notifications de non-conformit

### Rapports et Traabilit
- Rapports de conformit
- Historique complet
- Export des donnes

## Configuration
1. Dfinir la frquence des contrles
2. Configurer les seuils d'alerte
3. Paramtrer la rtention des donnes
4. Activer la validation automatique

## Utilisation Quotidienne
1. Effectuer les contrles planifis
2. Vrifier les cartes de contrle
3. Traiter les alertes
4. Valider les rsultats
    `,en:`
# Quality Control Module

## Overview
The Quality Control module ensures compliance and reliability of laboratory analyses through a comprehensive quality control system.

## Main Features

### Control Sample Management
- Creation and tracking of control samples
- Definition of target values and limits
- Automatic control scheduling

### Control Charts
- Levey-Jennings charts
- Westgard rules
- Automatic drift detection

### Validation and Alerts
- Automatic result validation
- Real-time alerts
- Non-compliance notifications

### Reports and Traceability
- Compliance reports
- Complete history
- Data export

## Configuration
1. Define control frequency
2. Configure alert thresholds
3. Set data retention
4. Enable auto validation

## Daily Usage
1. Perform scheduled controls
2. Check control charts
3. Handle alerts
4. Validate results
    `}},el={"backup-manager":u3,"quality-control":p3},Rc=e=>el[e],qh=()=>Object.values(el),vd=(e,t)=>{const a=Rc(e);return a?a.permissions.includes(t)||a.permissions.includes("ALL"):!1},x3=e=>qh().filter(t=>vd(t.id,e)).flatMap(t=>t.routes),y3=e=>qh().filter(t=>vd(t.id,e)).flatMap(t=>t.menuItems).filter(t=>t.permissions.includes(e)||t.permissions.includes("ALL")),b3=e=>qh().filter(t=>vd(t.id,e)).flatMap(t=>t.dashboardWidgets||[]).filter(t=>t.permissions.includes(e)||t.permissions.includes("ALL")),w3=e=>qh().filter(t=>vd(t.id,e)).flatMap(t=>t.quickActions||[]).filter(t=>t.permissions.includes(e)||t.permissions.includes("ALL")),p5=(e,t)=>t.some(a=>a.moduleId===e&&(a.status==="ACTIVE"||a.status==="TRIAL")&&new Date(a.expiresAt)>new Date),v3=({children:e})=>{const{user:t,language:a}=At(),[s,n]=L.useState([]),[i,A]=L.useState(!0);L.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await ta.getInstalledModules();n(c)}catch(c){console.error("Error loading installed modules:",c)}finally{A(!1)}},l=()=>t?x3(t.role).filter(c=>{const u=Object.keys(el).find(h=>{const x=Rc(h);return x==null?void 0:x.routes.some(g=>g.path===c.path)});return u?p5(u,s)&&vd(u,t.role):!1}):[];return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs(r.Fragment,{children:[e,r.jsx(s5,{children:l().map((c,u)=>r.jsx(Nt,{path:c.path,element:r.jsx(c.component,{})},`${c.path}-${u}`))})]})},x5=()=>{const{user:e}=At(),[t,a]=L.useState([]),[s,n]=L.useState(!0);L.useEffect(()=>{i()},[]);const i=async()=>{try{const h=await ta.getInstalledModules();a(h)}catch(h){console.error("Error loading installed modules:",h)}finally{n(!1)}},A=h=>p5(h,t);return{installedModules:t,loading:s,isModuleActive:A,getModuleLicense:h=>t.find(x=>x.moduleId===h),getActiveMenuItems:()=>e?y3(e.role).filter(h=>{const x=Object.keys(el).find(g=>{const v=Rc(g);return v==null?void 0:v.menuItems.some(y=>y.path===h.path)});return x&&A(x)}):[],getActiveDashboardWidgets:()=>e?b3(e.role).filter(h=>{const x=Object.keys(el).find(g=>{var y;const v=Rc(g);return(y=v==null?void 0:v.dashboardWidgets)==null?void 0:y.some(N=>N.id===h.id)});return x&&A(x)}):[],getActiveQuickActions:()=>e?w3(e.role).filter(h=>{const x=Object.keys(el).find(g=>{var y;const v=Rc(g);return(y=v==null?void 0:v.quickActions)==null?void 0:y.some(N=>N.action===h.action)});return x&&A(x)}):[],refresh:i}};function B3({onClose:e}){const{user:t,language:a}=At(),{moduleVersion:s}=Kx(),{getActiveMenuItems:n}=x5(),[i,A]=L.useState(null),[o,l]=L.useState(null),[c,u]=L.useState(!1),h={fr:{dashboard:"Tableau de bord",patients:"Patients",doctors:"Mdecins",analyses:"Analyses",requests:"Demandes",newRequest:"Nouvelle Demande",results:"Rsultats",validation:"Validation",billing:"Facturation",config:"Configuration",logout:"Dconnexion",stockManagement:"Gestion des Stocks",stockDashboard:"Tableau de bord",addStock:"Ajouter Stock",createProduct:"Crer un nouveau produit",useStock:"Utiliser Stock",transferStock:"Transfrer Stock",adjustInventory:"Ajuster Inventaire",suppliers:"Fournisseurs",orders:"Commandes",reports:"Rapports",priceManagement:"Gestion des Prix",userManagement:"Gestion des Utilisateurs",systemSettings:"Paramtres Systme",moduleStore:"Store de Modules",auditTrail:"Journal d'Audit",backupRestore:"Sauvegarde & Restauration",automates:"Intgration Automates",qualityControl:"Contrle Qualit"},en:{dashboard:"Dashboard",patients:"Patients",doctors:"Doctors",analyses:"Analyses",requests:"Requests",newRequest:"New Request",results:"Results",validation:"Validation",billing:"Billing",config:"Configuration",logout:"Logout",stockManagement:"Stock Management",stockDashboard:"Stock Dashboard",addStock:"Add Stock",createProduct:"Create New Product",useStock:"Use Stock",transferStock:"Transfer Stock",adjustInventory:"Adjust Inventory",suppliers:"Suppliers",orders:"Orders",reports:"Reports",priceManagement:"Price Management",userManagement:"User Management",systemSettings:"System Settings",moduleStore:"Module Store",auditTrail:"Audit Trail",backupRestore:"Backup & Restore",automates:"Automate Integration",qualityControl:"Quality Control"}}[a];L.useEffect(()=>{(async()=>{u(!0);try{const w=await ta.checkModuleAccess("stock-manager");l(w)}catch(w){console.error("Error checking stock module access:",w),l({hasAccess:!1,daysRemaining:0,status:null,expiresAt:null,features:[]})}finally{u(!1)}})()},[s]);const x=[{id:"dashboard",label:h.dashboard,icon:r.jsx(qC,{size:20}),path:"/dashboard",roles:["ADMIN","BIOLOGIST","TECHNICIAN","SECRETARY"]},{id:"patients",label:h.patients,icon:r.jsx(dd,{size:20}),path:"/patients",roles:["ADMIN","SECRETARY"]},{id:"doctors",label:h.doctors,icon:r.jsx(fl,{size:20}),path:"/doctors",roles:["ADMIN","SECRETARY"]},{id:"analyses",label:h.analyses,icon:r.jsx(zr,{size:20}),path:"/analyses",roles:["ADMIN","BIOLOGIST"]},{id:"requests",label:h.requests,icon:r.jsx(Jb,{size:20}),path:"/requests",roles:["ADMIN","SECRETARY","BIOLOGIST"],subItems:[{id:"requests-list",label:h.requests,icon:r.jsx(Jb,{size:16}),path:"/requests",roles:["ADMIN","SECRETARY","BIOLOGIST"]},{id:"new-request",label:h.newRequest,icon:r.jsx(mr,{size:16}),path:"/new-request",roles:["ADMIN","SECRETARY","BIOLOGIST"]}]},{id:"results",label:h.results,icon:r.jsx(WC,{size:20}),path:"/results",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"validation",label:h.validation,icon:r.jsx(Wt,{size:20}),path:"/validation",roles:["ADMIN","BIOLOGIST"]}],g=c?{id:"stock-loading",label:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{className:"text-gray-400",children:h.stockManagement}),r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-400"})]}),icon:r.jsx(Ga,{size:20,className:"text-gray-400"}),path:"#",roles:["ADMIN","TECHNICIAN"],subItems:[]}:o!=null&&o.hasAccess?{id:"stock",label:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{children:h.stockManagement}),o.daysRemaining<=30&&r.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[r.jsx(Ka,{size:12}),r.jsxs("span",{className:o.daysRemaining<=7?"text-red-400":"text-yellow-400",children:[o.daysRemaining,"d"]})]})]}),icon:r.jsx(Ga,{size:20}),path:"/stock",roles:["ADMIN","TECHNICIAN"],subItems:[{id:"stock-dashboard",label:h.stockDashboard,icon:r.jsx(_s,{size:16}),path:"/stock/dashboard",roles:["ADMIN","TECHNICIAN"]},{id:"add-stock",label:h.addStock,icon:r.jsx(mr,{size:16}),path:"/stock/add",roles:["ADMIN","TECHNICIAN"]},{id:"create-product",label:h.createProduct,icon:r.jsx(JC,{size:16}),path:"/stock/create-product",roles:["ADMIN","TECHNICIAN"]},{id:"use-stock",label:h.useStock,icon:r.jsx($C,{size:16}),path:"/stock/use",roles:["ADMIN","TECHNICIAN"]},{id:"transfer-stock",label:h.transferStock,icon:r.jsx(IC,{size:16}),path:"/stock/transfer",roles:["ADMIN","TECHNICIAN"]},{id:"adjust-inventory",label:h.adjustInventory,icon:r.jsx(fn,{size:16}),path:"/stock/adjust",roles:["ADMIN","TECHNICIAN"]},{id:"suppliers",label:h.suppliers,icon:r.jsx(u5,{size:16}),path:"/stock/suppliers",roles:["ADMIN","TECHNICIAN"]},{id:"orders",label:h.orders,icon:r.jsx(d5,{size:16}),path:"/stock/orders",roles:["ADMIN","TECHNICIAN"]},{id:"reports",label:h.reports,icon:r.jsx(_C,{size:16}),path:"/stock/reports",roles:["ADMIN","TECHNICIAN"]}]}:null,y=[...x,...g?[g]:[],{id:"billing",label:h.billing,icon:r.jsx(fs,{size:20}),path:"/billing",roles:["ADMIN","SECRETARY"]},{id:"automates",label:h.automates,icon:r.jsx(Qa,{size:20}),path:"/automates",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"quality-control",label:h.qualityControl,icon:r.jsx(Zo,{size:20}),path:"/quality-control",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"moduleStore",label:h.moduleStore,icon:r.jsx(ZC,{size:20,color:"rgb(197 112 0)"}),path:"/config/modules",roles:["ADMIN"]},{id:"config",label:h.config,icon:r.jsx(fn,{size:20}),path:"/config",roles:["ADMIN"],subItems:[{id:"price-management",label:h.priceManagement,icon:r.jsx(fs,{size:16}),path:"/config/prices",roles:["ADMIN"]},{id:"user-management",label:h.userManagement,icon:r.jsx(dd,{size:16}),path:"/config/users",roles:["ADMIN"]},{id:"system-settings",label:h.systemSettings,icon:r.jsx(fn,{size:16}),path:"/config/system",roles:["ADMIN"]},{id:"auditTrail",label:h.auditTrail,icon:r.jsx(zr,{size:20}),path:"/config/audit",roles:["ADMIN"]}]},{id:"backupRestore",label:h.backupRestore,icon:r.jsx(MC,{size:20}),path:"/config/backup",roles:["ADMIN"]}].filter(m=>m.roles.includes((t==null?void 0:t.role)||"")),N=n().map(m=>({id:`module-${m.path}`,label:m.name[a],icon:r.jsx(m.icon,{size:20}),path:m.path,roles:m.permissions})),p=()=>{e&&e()};return r.jsxs("nav",{className:"fixed lg:static top-0 left-0 h-full w-64 max-w-full bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col z-30 transition-transform lg:translate-x-0 overflow-y-auto shadow-lg lg:shadow-none",children:[r.jsxs("div",{className:"flex lg:hidden items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Menu"}),r.jsx("button",{onClick:e,className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close menu",children:r.jsx(ht,{size:24})})]}),r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 hidden lg:block",children:r.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"SIL Lab System"})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[y.map(m=>r.jsx("div",{children:m.subItems?r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"w-full flex items-center justify-between px-3 sm:px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",onClick:()=>A(i===m.id?null:m.id),children:[r.jsxs("span",{className:"flex items-center min-w-0",children:[m.icon,r.jsx("span",{className:"ml-2 sm:ml-3 text-sm font-medium truncate",children:m.label})]}),i===m.id?r.jsx(RC,{size:18}):r.jsx(HC,{size:18})]}),i===m.id&&r.jsx("div",{className:"ml-4 sm:ml-6 mt-1 space-y-1",children:m.subItems.filter(w=>w.roles.includes((t==null?void 0:t.role)||"")).map(w=>r.jsxs(Sf,{to:w.path,className:({isActive:E})=>`flex items-center px-2 sm:px-3 py-2 text-sm rounded-lg transition-colors ${E?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"}`,onClick:p,children:[w.icon,r.jsx("span",{className:"ml-2 truncate",children:w.label})]},w.id))})]}):r.jsxs(Sf,{to:m.path,className:({isActive:w})=>`flex items-center px-3 sm:px-4 py-2 text-sm rounded-lg transition-colors ${w?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:p,children:[m.icon,r.jsx("span",{className:"ml-2 sm:ml-3 font-medium truncate",children:m.label})]})},m.id)),N.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Modules"}),N.map(m=>r.jsx("div",{children:r.jsxs(Sf,{to:m.path,className:({isActive:w})=>`flex items-center px-3 sm:px-4 py-2 text-sm rounded-lg transition-colors ${w?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:p,children:[m.icon,r.jsx("span",{className:"ml-2 sm:ml-3 font-medium truncate",children:m.label})]})},m.id))]})]}),r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 mt-auto",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 text-center",children:"v1.0.0"})})]})}function N3(){const[e,t]=L.useState(""),[a,s]=L.useState(""),[n,i]=L.useState(""),{login:A}=At(),o=async l=>{l.preventDefault(),i(""),await A(e,a)||i("Invalid credentials")};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8 p-6 sm:p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4",children:""}),r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"SIL Laboratory"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Sign in to your account"})]}),r.jsxs("form",{className:"mt-6 sm:mt-8 space-y-4 sm:space-y-6",onSubmit:o,children:[r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:l=>t(l.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-sm sm:text-base",placeholder:"admin@lab.fr"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),r.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:a,onChange:l=>s(l.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-sm sm:text-base",placeholder:"admin"})]})]}),n&&r.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:n}),r.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800 transition-colors",children:"Sign in"})]}),r.jsxs("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"hidden sm:block",children:"Demo credentials: admin@sil-lab.com / admin123 | secretary@sil-lab.com / sec123"}),r.jsx("div",{className:"sm:hidden",children:"Demo: admin@sil-lab.com / admin123"})]})]})})}const k3="http://localhost:5001/api";let tw=localStorage.getItem("sil_lab_token");const qe=async(e,t={},a=2)=>{const s=`${k3}${e}`,n={"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",...t.headers||{}};tw&&(n.Authorization=`Bearer ${tw}`),console.log("API Request:",s,n);try{const i=await fetch(s,{...t,headers:n,cache:"no-store"});if(i.status===304&&a>0){const o=s.includes("?")?`${s}&_=${Date.now()}`:`${s}?_=${Date.now()}`,l=await fetch(o,{...t,headers:n,cache:"no-store"});if(!l.ok){const u=await l.json().catch(()=>({}));throw new Error(u.error||`HTTP error! status: ${l.status}`)}const c=await l.json();return console.log("API Response (retry):",e,c),c}if(!i.ok){const o=await i.json().catch(()=>({}));if(i.status===429&&a>0){const l=Math.pow(2,3-a)*1e3;return await new Promise(c=>setTimeout(c,l)),qe(e,t,a-1)}throw new Error(o.error||`HTTP error! status: ${i.status}`)}const A=await i.json();return console.log("API Response:",e,A),A}catch(i){throw console.error("API request failed:",i),i}},So={getPatients:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/patients?${t}`)},getPatient:async e=>(await qe(`/patients/${e}`)).patient,createPatient:async e=>(await qe("/patients",{method:"POST",body:JSON.stringify(e)})).patient,updatePatient:async(e,t)=>(await qe(`/patients/${e}`,{method:"PUT",body:JSON.stringify(t)})).patient,deletePatient:async e=>{await qe(`/patients/${e}`,{method:"DELETE"})},getPatientStats:async()=>await qe("/patients/stats/overview")},j3={getDoctors:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/doctors?${t}`)},getDoctor:async e=>(await qe(`/doctors/${e}`)).doctor,createDoctor:async e=>(await qe("/doctors",{method:"POST",body:JSON.stringify(e)})).doctor,updateDoctor:async(e,t)=>(await qe(`/doctors/${e}`,{method:"PUT",body:JSON.stringify(t)})).doctor,deleteDoctor:async e=>{await qe(`/doctors/${e}`,{method:"DELETE"})},searchDoctors:async e=>(await qe(`/doctors/search/autocomplete?q=${encodeURIComponent(e)}`)).doctors,getDoctorStats:async()=>await qe("/doctors/stats/overview")},sp={getAnalyses:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/analyses?${t}`)},getAnalysis:async e=>(await qe(`/analyses/${e}`)).analysis,createAnalysis:async e=>(await qe("/analyses",{method:"POST",body:JSON.stringify(e)})).analysis,updateAnalysis:async(e,t)=>(await qe(`/analyses/${e}`,{method:"PUT",body:JSON.stringify(t)})).analysis,deleteAnalysis:async e=>{await qe(`/analyses/${e}`,{method:"DELETE"})},getCategories:async()=>(await qe("/analyses/categories/list")).categories,searchAnalyses:async e=>(await qe(`/analyses/search/autocomplete?q=${encodeURIComponent(e)}`)).analyses,bulkUpdatePrices:async e=>await qe("/analyses/prices/bulk",{method:"PUT",body:JSON.stringify({updates:e})}),getAnalysisStats:async()=>await qe("/analyses/stats/overview")},RA={getRequests:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/requests?${t}`)},getRequest:async e=>(await qe(`/requests/${e}?_=${Date.now()}`)).request,createRequest:async e=>(await qe("/requests",{method:"POST",body:JSON.stringify(e)})).request,updateRequest:async(e,t)=>(await qe(`/requests/${e}`,{method:"PUT",body:JSON.stringify(t)})).request,updateRequestStatus:async(e,t)=>(await qe(`/requests/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})})).request,deleteRequest:async e=>{await qe(`/requests/${e}`,{method:"DELETE"})},getRequestStats:async(e="month")=>await qe(`/requests/stats/overview?period=${e}`),markAsDelivered:async(e,t)=>(await qe(`/requests/${e}/deliver`,{method:"PATCH",body:JSON.stringify({deliveredBy:t})})).request},Hc={getResults:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/results?${t}`)},getResult:async e=>(await qe(`/results/${e}`)).result,createResult:async e=>(await qe("/results",{method:"POST",body:JSON.stringify(e)})).result,updateResult:async(e,t)=>(await qe(`/results/${e}`,{method:"PUT",body:JSON.stringify(t)})).result,validateResult:async(e,t)=>(await qe(`/results/${e}/validate`,{method:"PATCH",body:JSON.stringify({validatedBy:t})})).result,getResultsByRequest:async e=>(await qe(`/results/request/${e}`)).results,getResultStats:async()=>await qe("/results/stats/overview")},C3={saveRequest:async e=>{try{return{success:!0,data:await RA.createRequest(e)}}catch(t){return console.error("Save request error:",t),{success:!1,error:t.message}}},getRequests:async()=>{try{return{success:!0,data:(await RA.getRequests()).requests}}catch(e){return console.error("Get requests error:",e),{success:!1,error:e.message}}}},tl={getPrices:async()=>{try{return(await sp.getAnalyses()).analyses.map(t=>({code:t.code,nom:t.nom,category:t.category,price:t.price,tva:t.tva,cost:t.cost}))}catch(e){return console.error("Get prices error:",e),[]}},savePrices:async e=>{try{const t=e.map(s=>({id:s.id,price:s.price,tva:s.tva}));return(await sp.bulkUpdatePrices(t)).results.every(s=>s.success)}catch(t){return console.error("Save prices error:",t),!1}},calculateRequestTotal:(e,t=0,a=0)=>{let s=0,n=0;e.forEach(c=>{const u=c.price||0,h=c.tva||20,x=u*(h/100);s+=u,n+=x});const i=s+n,A=i*(t/100),o=i-A,l=o-a;return{subtotal:s,tvaTotal:n,totalBeforeDiscount:i,discount:t,discountAmount:A,totalAfterDiscount:o,advancePayment:a,amountDue:l}}},rw={printLabels:e=>{var n,i,A,o,l,c;const t=window.open("","_blank");if(!t)return;const a=`SIL${Date.now()}`,s=`
      <html>
        <head>
          <title>Sample Labels</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .label { border: 2px solid #000; padding: 10px; margin: 10px 0; width: 300px; }
            .barcode { font-family: monospace; font-size: 12px; }
            .urgent { background-color: #ffebee; border-color: #f44336; }
          </style>
        </head>
        <body>
          <div class="label ${e.urgent?"urgent":""}">
            <h3>SIL Laboratory</h3>
            <p><strong>Patient:</strong> ${(n=e.patient)==null?void 0:n.prenom} ${(i=e.patient)==null?void 0:i.nom}</p>
            <p><strong>CNSS:</strong> ${(A=e.patient)==null?void 0:A.numeroCNSS}</p>
            <p><strong>Date:</strong> ${(o=e.appointment)==null?void 0:o.date} ${(l=e.appointment)==null?void 0:l.time}</p>
            <p><strong>Analyses:</strong></p>
            <ul>
              ${((c=e.analyses)==null?void 0:c.map(u=>`<li>${u.nom}</li>`).join(""))||""}
            </ul>
            <p class="barcode">${a}</p>
            ${e.urgent?'<p style="color: red; font-weight: bold;">URGENT</p>':""}
          </div>
        </body>
      </html>
    `;t.document.write(s),t.document.close(),t.print()},printReceipt:(e,t)=>{var n,i,A;const a=window.open("","_blank");if(!a)return;const s=`
      <html>
        <head>
          <title>Payment Receipt</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .receipt { border: 1px solid #ccc; padding: 20px; width: 400px; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; }
            .item { display: flex; justify-content: space-between; margin: 5px 0; }
            .total { border-top: 1px solid #000; padding-top: 10px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h2>SIL Laboratory</h2>
              <p>123 Medical Center, City, Country</p>
              <p>Phone: +1234567890 | Email: info@sil.lab</p>
            </div>
            
            <h3>Payment Receipt</h3>
            <p><strong>Patient:</strong> ${(n=e.patient)==null?void 0:n.prenom} ${(i=e.patient)==null?void 0:i.nom}</p>
            <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
            <p><strong>Request ID:</strong> ${e.id}</p>
            
            <h4>Analyses:</h4>
            ${((A=e.analyses)==null?void 0:A.map(o=>`
              <div class="item">
                <span>${o.nom}</span>
                <span>${o.price} </span>
              </div>
            `).join(""))||""}
            
            <div class="total">
              <div class="item">
                <span>Subtotal:</span>
                <span>${t.subtotal} </span>
              </div>
              <div class="item">
                <span>TVA:</span>
                <span>${t.tvaTotal} </span>
              </div>
              ${t.discount>0?`
                <div class="item">
                  <span>Discount (${t.discount}%):</span>
                  <span>-${t.discountAmount} </span>
                </div>
              `:""}
              ${t.advancePayment>0?`
                <div class="item">
                  <span>Advance Payment:</span>
                  <span>-${t.advancePayment} </span>
                </div>
              `:""}
              <div class="item">
                <span><strong>Amount Due:</strong></span>
                <span><strong>${t.amountDue} </strong></span>
              </div>
            </div>
            
            <p style="margin-top: 20px; text-align: center;">
              Thank you for choosing SIL Laboratory
            </p>
          </div>
        </body>
      </html>
    `;a.document.write(s),a.document.close(),a.print()}},kt={getDashboard:()=>qe("/stock/dashboard"),getProducts:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/products?${t}`)},createProduct:e=>qe("/stock/products",{method:"POST",body:JSON.stringify(e)}),updateProduct:(e,t)=>qe(`/stock/products/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteProduct:e=>qe(`/stock/products/${e}`,{method:"DELETE"}),getSuppliers:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/suppliers?${t}`)},createSupplier:e=>qe("/stock/suppliers",{method:"POST",body:JSON.stringify(e)}),updateSupplier:(e,t)=>qe(`/stock/suppliers/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteSupplier:e=>qe(`/stock/suppliers/${e}`,{method:"DELETE"}),getOrders:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/orders?${t}`)},createOrder:e=>qe("/stock/orders",{method:"POST",body:JSON.stringify(e)}),updateOrder:(e,t)=>qe(`/stock/orders/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteOrder:e=>qe(`/stock/orders/${e}`,{method:"DELETE"}),addStock:e=>qe("/stock/stock-in",{method:"POST",body:JSON.stringify(e)}),useStock:e=>qe("/stock/stock-out",{method:"POST",body:JSON.stringify(e)}),transferStock:e=>qe("/stock/transfer",{method:"POST",body:JSON.stringify(e)}),adjustInventory:e=>qe("/stock/adjust",{method:"POST",body:JSON.stringify(e)}),getStockHistory:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/history?${t}`)},getStockActivities:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/activities?${t}`)},exportStockReport:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/export?${t}`)}},S3=()=>{console.log("Debug function - API is now connected to PostgreSQL backend"),console.log("Use the browser network tab to see API requests")},Oa={getAutomates:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/automates?${t}`)},getAutomate:async e=>await qe(`/automates/${e}`),createAutomate:async e=>await qe("/automates",{method:"POST",body:JSON.stringify(e)}),updateAutomate:async(e,t)=>await qe(`/automates/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteAutomate:async e=>await qe(`/automates/${e}`,{method:"DELETE"}),addCodeMapping:async(e,t)=>await qe(`/automates/${e}/codes`,{method:"POST",body:JSON.stringify(t)}),updateCodeMapping:async(e,t,a)=>await qe(`/automates/${e}/codes/${t}`,{method:"PUT",body:JSON.stringify(a)}),deleteCodeMapping:async(e,t)=>await qe(`/automates/${e}/codes/${t}`,{method:"DELETE"}),getTransferLogs:async(e,t={})=>{const a=new URLSearchParams(t).toString();return await qe(`/automates/${e}/logs?${a}`)},updateStatus:async(e,t)=>await qe(`/automates/${e}/status`,{method:"PATCH",body:JSON.stringify(t)})},F3=({onDismiss:e})=>{const{language:t}=At(),a=Ks(),[s,n]=L.useState(null),[i,A]=L.useState(!1),o={fr:{backupReminder:"Rappel de Sauvegarde",message:"Il y a {days} jours depuis votre dernire sauvegarde. Considrez crer une sauvegarde pour protger vos donnes.",noBackupMessage:"Aucune sauvegarde n'a t cre. Il est recommand de crer une sauvegarde pour protger vos donnes.",createBackup:"Crer Sauvegarde",manageBackups:"Grer Sauvegardes",dismiss:"Ignorer",critical:"Critique",warning:"Attention",info:"Information",dataProtection:"Protection des Donnes",lastBackup:"Dernire sauvegarde",never:"Jamais",daysAgo:"il y a {days} jours"},en:{backupReminder:"Backup Reminder",message:"It has been {days} days since your last backup. Consider creating a backup to protect your data.",noBackupMessage:"No backup has been created yet. It is recommended to create a backup to protect your data.",createBackup:"Create Backup",manageBackups:"Manage Backups",dismiss:"Dismiss",critical:"Critical",warning:"Warning",info:"Info",dataProtection:"Data Protection",lastBackup:"Last backup",never:"Never",daysAgo:"{days} days ago"}}[t];L.useEffect(()=>{(async()=>{try{const p=await ua.shouldShowBackupReminder();n(p)}catch(p){console.error("Error checking backup reminder:",p),n({show:!0,daysSince:999,message:o.noBackupMessage})}})()},[]);const l=()=>{A(!0),e&&e(),localStorage.setItem("backupReminderDismissed",new Date().toDateString())},c=()=>{a("/config/backup")},u=()=>{a("/config/backup")};if(L.useEffect(()=>{localStorage.getItem("backupReminderDismissed")===new Date().toDateString()&&A(!0)},[]),i||!s||!s.show)return null;const h=N=>N>=90?"critical":N>=30?"warning":"info",x=N=>{switch(N){case"critical":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}},g=N=>{switch(N){case"critical":return r.jsx(Zt,{className:"h-5 w-5 text-red-600"});case"warning":return r.jsx(Zt,{className:"h-5 w-5 text-yellow-600"});default:return r.jsx(Qa,{className:"h-5 w-5 text-blue-600"})}},v=h(s.daysSince),y=s.daysSince===999?o.noBackupMessage:o.message.replace("{days}",s.daysSince.toString());return r.jsx("div",{className:`rounded-lg border p-4 mb-6 ${x(v)}`,children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:g(v)}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-sm font-medium",children:[o.backupReminder,r.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-white bg-opacity-50",children:o[v]})]}),r.jsx("button",{onClick:l,className:"flex-shrink-0 ml-4 text-gray-400 hover:text-gray-600",children:r.jsx(ht,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"mt-2",children:r.jsx("p",{className:"text-sm",children:y})}),r.jsxs("div",{className:"mt-3 flex items-center space-x-4 text-xs",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Va,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{children:[o.lastBackup,": ",s.daysSince===999?o.never:o.daysAgo.replace("{days}",s.daysSince.toString())]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zo,{className:"h-4 w-4 mr-1"}),r.jsx("span",{children:o.dataProtection})]})]}),r.jsxs("div",{className:"mt-4 flex space-x-3",children:[r.jsxs("button",{onClick:c,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r.jsx(Qa,{className:"h-4 w-4 mr-1"}),o.createBackup]}),r.jsx("button",{onClick:u,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:o.manageBackups}),r.jsx("button",{onClick:l,className:"inline-flex items-center px-3 py-2 text-sm leading-4 font-medium text-gray-500 hover:text-gray-700",children:o.dismiss})]})]})]})})};function E3(){const{language:e,user:t}=At(),{moduleVersion:a}=Kx(),{getActiveDashboardWidgets:s,getActiveQuickActions:n}=x5(),i=Ks(),[A,o]=L.useState(null),[l,c]=L.useState({totalRequests:0,pendingRequests:0,completedRequests:0,urgentRequests:0,totalRevenue:0,averageRevenue:0,totalPatients:0,totalDoctors:0,monthlyGrowth:0,topAnalyses:[],recentRequests:[],revenueByMonth:[],statusDistribution:[],expiringProducts:[],lowStockProducts:[]}),[u,h]=L.useState(!0),[x,g]=L.useState("month"),v={fr:{title:"Tableau de Bord",subtitle:"Vue d'ensemble du laboratoire",totalRequests:"Total Demandes",pendingRequests:"Demandes en Attente",completedRequests:"Demandes Termines",urgentRequests:"Demandes Urgentes",totalRevenue:"Revenu Total",averageRevenue:"Revenu Moyen",totalPatients:"Total Patients",totalDoctors:"Total Mdecins",monthlyGrowth:"Croissance Mensuelle",topAnalyses:"Analyses les Plus Demandes",recentRequests:"Demandes Rcentes",revenueByMonth:"Revenus par Mois",statusDistribution:"Rpartition par Statut",efficiencyMetrics:"Mtriques d'Efficacit",qualityMetrics:"Mtriques de Qualit",performance:"Performance",turnaroundTime:"Temps de Traitement",accuracy:"Prcision",satisfaction:"Satisfaction",hours:"heures",percentage:"%",outOf:"/5",newPatients:"Nouveaux Patients",returningPatients:"Patients Rcurrents",doctorReferrals:"Rfrences Mdecins",viewAll:"Voir Tout",period:"Priode",today:"Aujourd'hui",week:"Cette Semaine",month:"Ce Mois",quarter:"Ce Trimestre",year:"Cette Anne",patient:"Patient",doctor:"Mdecin",analyses:"Analyses",status:"Statut",date:"Date",amount:"Montant",urgent:"Urgent",normal:"Normal",pending:"En attente",completed:"Termin",processing:"En cours",cancelled:"Annul",noData:"Aucune donne disponible",loading:"Chargement...",rating:"Note",averageTime:"Temps Moyen",productivity:"Productivit",topDoctors:"Mdecins les Plus Actifs",revenueTrend:"Tendance des Revenus",requestTrend:"Tendance des Demandes",financialMetrics:"Mtriques Financires",operationalMetrics:"Mtriques Oprationnelles",expiringProducts:"Produits Expirant Bientt",lowStockProducts:"Produits en Stock Faible",expiryDate:"expire bientt",currentStock:"Stock actuel",minStock:"Stock min",viewStockReport:"Voir Rapport Complet"},en:{title:"Dashboard",subtitle:"Laboratory Overview",totalRequests:"Total Requests",pendingRequests:"Pending Requests",completedRequests:"Completed Requests",urgentRequests:"Urgent Requests",totalRevenue:"Total Revenue",averageRevenue:"Average Revenue",totalPatients:"Total Patients",totalDoctors:"Total Doctors",monthlyGrowth:"Monthly Growth",topAnalyses:"Top Analyses",recentRequests:"Recent Requests",revenueByMonth:"Revenue by Month",statusDistribution:"Status Distribution",efficiencyMetrics:"Efficiency Metrics",qualityMetrics:"Quality Metrics",performance:"Performance",turnaroundTime:"Turnaround Time",accuracy:"Accuracy",satisfaction:"Satisfaction",hours:"hours",percentage:"%",outOf:"/5",newPatients:"New Patients",returningPatients:"Returning Patients",doctorReferrals:"Doctor Referrals",viewAll:"View All",period:"Period",today:"Today",week:"This Week",month:"This Month",quarter:"This Quarter",year:"This Year",patient:"Patient",doctor:"Doctor",analyses:"Analyses",status:"Status",date:"Date",amount:"Amount",urgent:"Urgent",normal:"Normal",pending:"Pending",completed:"Completed",processing:"Processing",cancelled:"Cancelled",noData:"No data available",loading:"Loading...",rating:"Rating",averageTime:"Average Time",productivity:"Productivity",topDoctors:"Most Active Doctors",revenueTrend:"Revenue Trend",requestTrend:"Request Trend",financialMetrics:"Financial Metrics",operationalMetrics:"Operational Metrics",expiringProducts:"Expiring Products",lowStockProducts:"Low Stock Products",expiryDate:"expiring soon",currentStock:"Current stock",minStock:"Min stock",viewStockReport:"View Full Report"}}[e];L.useEffect(()=>{y()},[x,A]),L.useEffect(()=>{(async()=>{try{const w=await ta.checkModuleAccess("stock-manager");o(w)}catch(w){console.error("Error checking stock module access:",w),o({hasAccess:!1,daysRemaining:0,status:null,expiresAt:null,features:[]})}})()},[a]);const y=async()=>{h(!0);try{const w=(await RA.getRequests({_t:Date.now()})).requests||[],E=tl.getPrices(),U=w.length,D=w.filter(ee=>ee.status==="PENDING"||ee.status==="PROCESSING").length,F=w.filter(ee=>ee.status==="COMPLETED").length,C=w.filter(ee=>ee.priority==="URGENT").length;let K=0;const M={};w.forEach(ee=>{K+=ee.totalAmount||0,ee.requestAnalyses&&ee.requestAnalyses.forEach(se=>{const ae=se.analysis.name;M[ae]=(M[ae]||0)+1})});const Q=U>0?K/U:0,j=new Set(w.map(ee=>{var se;return(se=ee.patient)==null?void 0:se.id})).size,T=new Set(w.map(ee=>{var se;return(se=ee.doctor)==null?void 0:se.id})).size,z=new Date().getMonth(),H=new Date;H.setMonth(z-1);const S=w.filter(ee=>new Date(ee.createdAt).getMonth()===z).length,X=w.filter(ee=>new Date(ee.createdAt).getMonth()===H.getMonth()).length,q=X>0?(S-X)/X*100:0,te=Object.entries(M).map(([ee,se])=>{let ae=0;return w.forEach(de=>{de.requestAnalyses&&de.requestAnalyses.forEach(Be=>{Be.analysis.name===ee&&(ae+=Be.price)})}),{name:ee,count:se,revenue:ae}}).sort((ee,se)=>se.count-ee.count).slice(0,5),ie=w.sort((ee,se)=>new Date(se.createdAt).getTime()-new Date(ee.createdAt).getTime()).slice(0,5),pe=[];for(let ee=5;ee>=0;ee--){const se=new Date;se.setMonth(se.getMonth()-ee);const ae=se.toLocaleDateString(e==="fr"?"fr-FR":"en-US",{month:"short"}),de=w.filter(ke=>{const Qe=new Date(ke.createdAt);return Qe.getMonth()===se.getMonth()&&Qe.getFullYear()===se.getFullYear()});let Be=0;de.forEach(ke=>{Be+=ke.totalAmount||0}),pe.push({month:ae,revenue:Be})}const R={};w.forEach(ee=>{const se=ee.status||"pending";R[se]=(R[se]||0)+1});const $=Object.entries(R).map(([ee,se])=>({status:ee,count:se,percentage:se/U*100}));let Y=[],re=[];if(A!=null&&A.hasAccess)try{const ee=await kt.exportStockReport();ee&&Array.isArray(ee)&&(Y=ee.filter(se=>se.expiringStock>0).sort((se,ae)=>ae.expiringStock-se.expiringStock).slice(0,5).map(se=>({name:se.name,code:se.code,expiringStock:se.expiringStock,currentStock:se.currentStock,expiryDate:se.earliestExpiryDate})),re=ee.filter(se=>se.currentStock<=se.minStock&&se.currentStock>0).sort((se,ae)=>se.currentStock/se.minStock-ae.currentStock/ae.minStock).slice(0,5).map(se=>({name:se.name,code:se.code,currentStock:se.currentStock,minStock:se.minStock})))}catch(ee){console.error("Error loading stock data:",ee)}c({totalRequests:U,pendingRequests:D,completedRequests:F,urgentRequests:C,totalRevenue:K,averageRevenue:Q,totalPatients:j,totalDoctors:T,monthlyGrowth:q,topAnalyses:te,recentRequests:ie,revenueByMonth:pe,statusDistribution:$,expiringProducts:Y,lowStockProducts:re})}catch(m){console.error("Error loading dashboard data:",m)}finally{h(!1)}},N=m=>{switch(m){case"completed":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"processing":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"pending":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20 dark:text-yellow-400";case"cancelled":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20 dark:text-gray-400"}},p=m=>{switch(m){case"completed":return v.completed;case"processing":return v.processing;case"pending":return v.pending;case"cancelled":return v.cancelled;default:return v.pending}};return u?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:v.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:v.subtitle})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:["today","week","month","quarter","year"].map(m=>r.jsx("button",{onClick:()=>g(m),className:`px-3 sm:px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x===m?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:v[m]},m))})}),r.jsx(F3,{}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:e==="fr"?"Actions Rapides":"Quick Actions"}),r.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[r.jsxs("button",{onClick:()=>i("/new-request"),className:"flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[r.jsx(zr,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Nouvelle Demande":"New Request"}),r.jsx("span",{className:"sm:hidden",children:e==="fr"?"Demande":"Request"})]}),r.jsxs("button",{onClick:()=>i("/patients"),className:"flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm sm:text-base",children:[r.jsx(dd,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Nouveau Patient":"New Patient"}),r.jsx("span",{className:"sm:hidden",children:"Patient"})]}),r.jsxs("button",{onClick:()=>i("/results"),className:"flex items-center px-3 sm:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm sm:text-base",children:[r.jsx(_s,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Saisir Rsultats":"Enter Results"}),r.jsx("span",{className:"sm:hidden",children:e==="fr"?"Rsultats":"Results"})]}),n().map((m,w)=>r.jsxs("button",{onClick:()=>{m.action==="create-backup"?i("/config/backup"):(m.action==="new-control"||m.action==="control-charts")&&i("/quality-control")},className:`flex items-center px-3 sm:px-4 py-2 text-white rounded-lg hover:opacity-90 transition-colors text-sm sm:text-base ${m.color}`,children:[r.jsx(m.icon,{size:16,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:m.name[e]}),r.jsx("span",{className:"sm:hidden",children:m.name[e].split(" ")[0]})]},`module-action-${w}`))]})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(zr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:v.totalRequests}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:l.totalRequests})]})]}),r.jsxs("div",{className:"mt-2 flex items-center text-xs sm:text-sm",children:[l.monthlyGrowth>0?r.jsx(Vn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 mr-1"}):r.jsx(Ki,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600 mr-1"}),r.jsxs("span",{className:l.monthlyGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(l.monthlyGrowth).toFixed(1),"%"]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:v.totalRevenue}),r.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:[l.totalRevenue.toFixed(2)," dh"]})]})]}),r.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[v.averageRevenue,": ",l.averageRevenue.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(dd,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:v.totalPatients}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:l.totalPatients})]})]}),r.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[v.totalDoctors,": ",l.totalDoctors]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600 mr-2 sm:mr-3"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:v.urgentRequests}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:l.urgentRequests})]})]}),r.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[v.pendingRequests,": ",l.pendingRequests]})]})]}),s().length>0&&r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Modules"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:s().map((m,w)=>r.jsx("div",{children:r.jsx(m.component,{language:e})},`module-widget-${m.id}-${w}`))})]}),(A==null?void 0:A.hasAccess)&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ka,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:v.expiringProducts})]}),r.jsx("button",{onClick:()=>i("/stock/reports"),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:v.viewStockReport})]}),r.jsx("div",{className:"space-y-2",children:l.expiringProducts&&l.expiringProducts.length>0?l.expiringProducts.map((m,w)=>r.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.name}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m.code})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[m.expiringStock," ",v.expiryDate]}),m.expiryDate&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(m.expiryDate).toLocaleDateString(e==="fr"?"fr-FR":"en-US")}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[v.currentStock,": ",m.currentStock]})]})]},w)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:v.noData})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:v.lowStockProducts})]}),r.jsx("button",{onClick:()=>i("/stock/reports"),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:v.viewStockReport})]}),r.jsx("div",{className:"space-y-2",children:l.lowStockProducts&&l.lowStockProducts.length>0?l.lowStockProducts.map((m,w)=>r.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.name}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m.code})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-yellow-600",children:[m.currentStock," / ",m.minStock]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[v.minStock,": ",m.minStock]})]})]},w)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:v.noData})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[r.jsx(Ds,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:v.efficiencyMetrics})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[v.turnaroundTime,":"]}),r.jsxs("span",{className:"font-medium",children:["24 ",v.hours]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[v.accuracy,":"]}),r.jsxs("span",{className:"font-medium text-green-600",children:["99.8",v.percentage]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[v.satisfaction,":"]}),r.jsxs("span",{className:"font-medium",children:["4.8 ",v.outOf]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[r.jsx(r3,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:v.qualityMetrics})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[v.completedRequests,":"]}),r.jsx("span",{className:"font-medium text-green-600",children:l.completedRequests})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[v.processing,":"]}),r.jsx("span",{className:"font-medium text-blue-600",children:l.pendingRequests})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[v.urgentRequests,":"]}),r.jsx("span",{className:"font-medium text-orange-600",children:l.urgentRequests})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[r.jsx(PC,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600 mr-2"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:v.performance})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[v.newPatients,":"]}),r.jsx("span",{className:"font-medium",children:Math.floor(l.totalPatients*.3)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[v.returningPatients,":"]}),r.jsx("span",{className:"font-medium",children:Math.floor(l.totalPatients*.7)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[v.doctorReferrals,":"]}),r.jsx("span",{className:"font-medium",children:l.totalDoctors})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:v.topAnalyses}),r.jsx(_s,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),r.jsx("div",{className:"space-y-2 sm:space-y-3",children:l.topAnalyses.length>0?l.topAnalyses.map((m,w)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[r.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mr-2 sm:mr-3 flex-shrink-0",children:r.jsx("span",{className:"text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400",children:w+1})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:m.name}),r.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[m.count," ",v.analyses]})]})]}),r.jsxs("span",{className:"text-sm font-medium text-green-600 ml-2 flex-shrink-0",children:[m.revenue.toFixed(2)," dh"]})]},m.name)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:v.noData})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:v.statusDistribution}),r.jsx(YC,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),r.jsx("div",{className:"space-y-2 sm:space-y-3",children:l.statusDistribution.length>0?l.statusDistribution.map(m=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[r.jsx("div",{className:"w-3 h-3 rounded-full mr-2 sm:mr-3 bg-blue-500 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white truncate",children:p(m.status)})]}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-shrink-0",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.count}),r.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["(",m.percentage.toFixed(1),"%)"]})]})]},m.status)):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:v.noData})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:v.recentRequests}),r.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:v.viewAll})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:v.patient}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:v.doctor}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:v.analyses}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:v.status}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:v.date}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:v.amount})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.recentRequests.length>0?l.recentRequests.map(m=>{var w,E;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white",children:r.jsx("div",{className:"truncate max-w-[120px] sm:max-w-none",children:m.patient?`${m.patient.firstName} ${m.patient.lastName}`:"N/A"})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden sm:table-cell",children:r.jsx("div",{className:"truncate max-w-[120px]",children:m.doctor?`Dr. ${m.doctor.firstName} ${m.doctor.lastName}`:"N/A"})}),r.jsxs("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:[((w=m.requestAnalyses)==null?void 0:w.length)||0," ",v.analyses]}),r.jsx("td",{className:"px-3 sm:px-6 py-4",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N(m.status)}`,children:p(m.status)})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-600 dark:text-gray-400 hidden lg:table-cell",children:new Date(m.createdAt).toLocaleDateString()}),r.jsxs("td",{className:"px-3 sm:px-6 py-4 text-sm font-medium text-green-600",children:[((E=m.amountDue)==null?void 0:E.toFixed(2))||"0.00"," dh"]})]},m.id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:v.noData})})})]})})]})]})}function Q3(){const{language:e}=At(),[t,a]=L.useState(""),[s,n]=L.useState(!1),[i,A]=L.useState(!1),[o,l]=L.useState(null),c={fr:{title:"Gestion des Patients",newPatient:"Nouveau Patient",search:"Rechercher un patient...",name:"Nom",birthDate:"Date de Naissance",socialSecurity:"Scurit Sociale",phone:"Tlphone",email:"Email",lastVisit:"Dernire Visite",actions:"Actions",close:"Fermer",save:"Enregistrer",cancel:"Annuler"},en:{title:"Patient Management",newPatient:"New Patient",search:"Search patient...",name:"Name",birthDate:"Birth Date",socialSecurity:"Social Security",phone:"Phone",email:"Email",lastVisit:"Last Visit",actions:"Actions",close:"Close",save:"Save",cancel:"Cancel"}}[e],[u,h]=L.useState([]),[x,g]=L.useState(!0);L.useEffect(()=>{(async()=>{try{const w=await So.getPatients();w.patients?h(w.patients):h([])}catch(w){console.error("Error loading patients:",w),h([])}finally{g(!1)}})()},[]);const v=m=>{l(m),A(!0)},y=m=>{l(m),n(!0)},N=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:o?"Modifier Patient":c.newPatient}),r.jsx("button",{onClick:()=>n(!1),className:"p-1",children:r.jsx(ht,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Prnom",defaultValue:(o==null?void 0:o.firstName)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"text",placeholder:"Nom",defaultValue:(o==null?void 0:o.lastName)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"date",defaultValue:o!=null&&o.dateOfBirth?new Date(o.dateOfBirth).toISOString().split("T")[0]:"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"text",placeholder:"Scurit Sociale",defaultValue:(o==null?void 0:o.cnssNumber)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"tel",placeholder:"Tlphone",defaultValue:(o==null?void 0:o.phone)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"email",placeholder:"Email",defaultValue:(o==null?void 0:o.email)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),r.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c.save})]})]})}),p=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Dtails du patient"}),r.jsx("button",{onClick:()=>A(!1),className:"p-1",children:r.jsx(ht,{size:20,className:"text-gray-500"})})]}),o&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",o.id]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Nom:"})," ",`${o.firstName} ${o.lastName}`]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Date de naissance:"})," ",new Date(o.dateOfBirth).toLocaleDateString()]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Genre:"})," ",o.gender]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Scurit Sociale:"})," ",o.cnssNumber||"N/A"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Tlphone:"})," ",o.phone]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email:"})," ",o.email]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Adresse:"})," ",o.address||"N/A"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cr le:"})," ",new Date(o.createdAt).toLocaleDateString()]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:c.close})})]})});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-4",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:c.title}),r.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center transition-colors",children:[r.jsx(mr,{size:18,className:"mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:c.newPatient}),r.jsx("span",{className:"sm:hidden",children:"+"})]})]}),r.jsx("div",{className:"mb-4 sm:mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(Br,{size:18,className:"absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:c.search,value:t,onChange:m=>a(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm sm:text-base"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.name}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:c.birthDate}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:c.socialSecurity}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden md:table-cell",children:c.phone}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:c.lastVisit}),r.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:x?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Chargement..."})]})})}):u.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Aucun patient enregistr."})}):u.map(m=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:r.jsx("div",{className:"truncate max-w-[120px] sm:max-w-none",children:`${m.firstName} ${m.lastName}`})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden sm:table-cell",children:new Date(m.dateOfBirth).toLocaleDateString()}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden lg:table-cell",children:r.jsx("div",{className:"truncate max-w-[120px]",children:m.cnssNumber||"N/A"})}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden md:table-cell",children:m.phone}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden lg:table-cell",children:new Date(m.createdAt).toLocaleDateString()}),r.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>v(m),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"View",children:r.jsx(ms,{size:16})}),r.jsx("button",{onClick:()=>y(m),className:"text-green-600 hover:text-green-900 transition-colors",title:"Edit",children:r.jsx(Xn,{size:16})})]})})]},m.id))})]})})}),s&&r.jsx(N,{}),i&&r.jsx(p,{})]})}function U3(){const{language:e}=At(),[t,a]=L.useState([]),[s,n]=L.useState(""),[i,A]=L.useState("all"),[o,l]=L.useState("all"),[c,u]=L.useState(!1),[h,x]=L.useState(null),[g,v]=L.useState(!0),y={fr:{title:"Gestion des Mdecins",subtitle:"Gestion des mdecins rfrents",search:"Rechercher un mdecin...",filter:"Filtrer",allSpecialties:"Toutes les spcialits",allStatus:"Tous les statuts",addDoctor:"Ajouter un mdecin",editDoctor:"Modifier le mdecin",nom:"Nom",prenom:"Prnom",specialite:"Spcialit",email:"Email",telephone:"Tlphone",adresse:"Adresse",numeroOrdre:"Numro d'ordre",dateInscription:"Date d'inscription",statut:"Statut",notes:"Notes",actif:"Actif",inactif:"Inactif",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",actions:"Actions",totalDoctors:"Total mdecins",activeDoctors:"Mdecins actifs",specialties:"Spcialits",recentRegistrations:"Inscriptions rcentes",success:"Mdecin enregistr avec succs",error:"Erreur lors de l'enregistrement",confirmDelete:"tes-vous sr de vouloir supprimer ce mdecin ?",doctorDetails:"Dtails du mdecin",noDoctors:"Aucun mdecin trouv",addNewDoctor:"Ajouter un nouveau mdecin"},en:{title:"Doctor Management",subtitle:"Managing referring doctors",search:"Search for a doctor...",filter:"Filter",allSpecialties:"All specialties",allStatus:"All status",addDoctor:"Add doctor",editDoctor:"Edit doctor",nom:"Last Name",prenom:"First Name",specialite:"Specialty",email:"Email",telephone:"Phone",adresse:"Address",numeroOrdre:"License Number",dateInscription:"Registration Date",statut:"Status",notes:"Notes",actif:"Active",inactif:"Inactive",save:"Save",cancel:"Cancel",delete:"Delete",actions:"Actions",totalDoctors:"Total doctors",activeDoctors:"Active doctors",specialties:"Specialties",recentRegistrations:"Recent registrations",success:"Doctor saved successfully",error:"Error saving doctor",confirmDelete:"Are you sure you want to delete this doctor?",doctorDetails:"Doctor details",noDoctors:"No doctors found",addNewDoctor:"Add new doctor"}}[e],N=["Mdecine gnrale","Cardiologie","Endocrinologie","Dermatologie","Gastroentrologie","Neurologie","Pneumologie","Rhumatologie","Urologie","Gyncologie","Pdiatrie","Psychiatrie","Radiologie","Chirurgie gnrale","Orthopdie"];L.useEffect(()=>{p()},[]);const p=()=>{try{const j=localStorage.getItem("sil_lab_doctors");if(j)a(JSON.parse(j));else{const T=[{id:"1",nom:"Boulahcen",prenom:"Hicham",specialite:"Mdecine gnrale",email:"h.boulahcen@medecin.fr",telephone:"01.42.34.56.78",adresse:"123 Rue de la Sant, 75014 Paris",numeroOrdre:"12345678",dateInscription:"2020-01-15",statut:"actif",notes:"Mdecin gnraliste expriment"},{id:"2",nom:"Bensad",prenom:"Youssef",specialite:"Cardiologie",email:"y.bensaid@cardio.fr",telephone:"01.42.34.56.79",adresse:"456 Avenue des Mdecins, 75016 Paris",numeroOrdre:"87654321",dateInscription:"2019-03-20",statut:"actif",notes:"Cardiologue spcialis en chographie"},{id:"3",nom:"Alaoui",prenom:"Fatima",specialite:"Endocrinologie",email:"f.alaoui@endo.fr",telephone:"01.42.34.56.80",adresse:"789 Boulevard de la Mdecine, 75008 Paris",numeroOrdre:"11223344",dateInscription:"2021-06-10",statut:"actif",notes:"Spcialiste en diabtologie"},{id:"4",nom:"Tazi",prenom:"Mohamed",specialite:"Mdecine gnrale",email:"m.tazi@medecin.fr",telephone:"01.42.34.56.81",adresse:"321 Rue du Mdecin, 75011 Paris",numeroOrdre:"55667788",dateInscription:"2018-09-05",statut:"actif",notes:"Mdecin de famille"},{id:"5",nom:"El Amrani",prenom:"Karim",specialite:"Dermatologie",email:"k.elamrani@dermato.fr",telephone:"01.42.34.56.82",adresse:"654 Avenue de la Dermatologie, 75006 Paris",numeroOrdre:"99887766",dateInscription:"2022-01-12",statut:"actif",notes:"Dermatologue esthtique"}];a(T),localStorage.setItem("sil_lab_doctors",JSON.stringify(T))}v(!1)}catch(j){console.error("Error loading doctors:",j),v(!1)}},m=t.filter(j=>{const T=`${j.prenom} ${j.nom}`.toLowerCase().includes(s.toLowerCase())||j.specialite.toLowerCase().includes(s.toLowerCase())||j.email.toLowerCase().includes(s.toLowerCase()),z=i==="all"||j.specialite===i,H=o==="all"||j.statut===o;return T&&z&&H}),w=()=>{try{localStorage.setItem("sil_lab_doctors",JSON.stringify(t)),alert(y.success)}catch(j){console.error("Save error:",j),alert(y.error)}},E=()=>{const j={id:Date.now().toString(),nom:"",prenom:"",specialite:"Mdecine gnrale",email:"",telephone:"",adresse:"",numeroOrdre:"",dateInscription:new Date().toISOString().split("T")[0],statut:"actif",notes:""};x(j),u(!0)},U=j=>{x(j),u(!0)},D=j=>{if(window.confirm(y.confirmDelete)){const T=t.filter(z=>z.id!==j);a(T),localStorage.setItem("sil_lab_doctors",JSON.stringify(T))}},F=()=>{if(h&&h.nom&&h.prenom){let j;if(h.id&&t.find(T=>T.id===h.id))j=t.map(T=>T.id===h.id?h:T);else{const T={...h,id:Date.now().toString()};j=[...t,T]}a(j),localStorage.setItem("sil_lab_doctors",JSON.stringify(j)),x(null),u(!1),alert(y.success)}},C=t.length,K=t.filter(j=>j.statut==="actif").length,M=new Set(t.map(j=>j.specialite)).size,Q=t.filter(j=>{const T=new Date(j.dateInscription),z=new Date;return z.setMonth(z.getMonth()-3),T>z}).length;return g?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:y.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:y.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ma,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.totalDoctors}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:C})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(fl,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.activeDoctors}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:K})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Bl,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.specialties}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:M})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ma,{className:"h-8 w-8 text-orange-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.recentRegistrations}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Q})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:s,onChange:j=>n(j.target.value),placeholder:y.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:i,onChange:j=>A(j.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:y.allSpecialties}),N.map(j=>r.jsx("option",{value:j,children:j},j))]}),r.jsxs("select",{value:o,onChange:j=>l(j.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:y.allStatus}),r.jsx("option",{value:"actif",children:y.actif}),r.jsx("option",{value:"inactif",children:y.inactif})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:E,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:16,className:"mr-2"}),y.addDoctor]}),r.jsx("button",{onClick:w,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Sauvegarder"})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.doctorDetails}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.specialite}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.statut}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:m.length>0?m.map(j=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Dr. ",j.prenom," ",j.nom]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y.numeroOrdre,": ",j.numeroOrdre]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y.dateInscription,": ",new Date(j.dateInscription).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:j.specialite}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(Ox,{size:14,className:"mr-2 text-gray-400"}),j.email]}),r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(_x,{size:14,className:"mr-2 text-gray-400"}),j.telephone]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(TA,{size:14,className:"mr-2 text-gray-400"}),j.adresse]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j.statut==="actif"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:j.statut==="actif"?y.actif:y.inactif})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>U(j),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Xn,{size:16})}),r.jsx("button",{onClick:()=>D(j.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(qs,{size:16})})]})})]},j.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:y.noDoctors})})})]})})}),c&&h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:h.id&&t.find(j=>j.id===h.id)?y.editDoctor:y.addNewDoctor}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.nom," *"]}),r.jsx("input",{type:"text",required:!0,value:h.nom,onChange:j=>x(T=>T?{...T,nom:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.prenom," *"]}),r.jsx("input",{type:"text",required:!0,value:h.prenom,onChange:j=>x(T=>T?{...T,prenom:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.specialite," *"]}),r.jsx("select",{value:h.specialite,onChange:j=>x(T=>T?{...T,specialite:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:N.map(j=>r.jsx("option",{value:j,children:j},j))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.email," *"]}),r.jsx("input",{type:"email",required:!0,value:h.email,onChange:j=>x(T=>T?{...T,email:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.telephone," *"]}),r.jsx("input",{type:"tel",required:!0,value:h.telephone,onChange:j=>x(T=>T?{...T,telephone:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.numeroOrdre," *"]}),r.jsx("input",{type:"text",required:!0,value:h.numeroOrdre,onChange:j=>x(T=>T?{...T,numeroOrdre:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.dateInscription}),r.jsx("input",{type:"date",value:h.dateInscription,onChange:j=>x(T=>T?{...T,dateInscription:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.statut}),r.jsxs("select",{value:h.statut,onChange:j=>x(T=>T?{...T,statut:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"actif",children:y.actif}),r.jsx("option",{value:"inactif",children:y.inactif})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.adresse}),r.jsx("input",{type:"text",value:h.adresse,onChange:j=>x(T=>T?{...T,adresse:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.notes}),r.jsx("textarea",{value:h.notes||"",onChange:j=>x(T=>T?{...T,notes:j.target.value}:null),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>{u(!1),x(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:y.cancel}),r.jsx("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:y.save})]})]})})]})}function L3(){const{language:e}=At(),t=Ks(),[a,s]=L.useState(""),[n,i]=L.useState(!1),[A,o]=L.useState(!1),[l,c]=L.useState(null),[u,h]=L.useState(!1),[x,g]=L.useState([]),[v,y]=L.useState(!0),[N,p]=L.useState("ALL"),[m,w]=L.useState("ALL"),[E,U]=L.useState(""),[D,F]=L.useState("createdAt"),[C,K]=L.useState("desc"),[M,Q]=L.useState(1),[j,T]=L.useState(10),[z,H]=L.useState(0),S={fr:{title:"Gestion des Demandes",newRequest:"Nouvelle Demande",search:"Rechercher...",id:"ID",patient:"Patient",tests:"Analyses",status:"Statut",priority:"Priorit",sampleType:"Type d'chantillon",date:"Date",actions:"Actions",close:"Fermer",save:"Enregistrer",cancel:"Annuler",refresh:"Actualiser",export:"Exporter",print:"Imprimer",filter:"Filtrer",allStatuses:"Tous les statuts",allPriorities:"Toutes priorits",itemsPerPage:"lments par page",page:"Page",of:"sur",previous:"Prcdent",next:"Suivant",deleteConfirm:"tes-vous sr de vouloir supprimer cette demande?",viewResults:"Voir rsultats",enterResults:"Saisir rsultats",validateResults:"Valider rsultats",printReport:"Imprimer rapport",created:"Cr",pending:"En attente",processing:"En traitement",completed:"Termin",cancelled:"Annul",normal:"Normal",urgent:"Urgent",emergency:"Urgence",paymentStatus:"Statut paiement",paid:"Pay",partiallyPaid:"Partiellement pay",unpaid:"Non pay",totalAmount:"Montant total",amountDue:"Montant d",doctor:"Mdecin",collectionDate:"Date de prlvement",collectionTime:"Heure de prlvement",notes:"Notes",createdAt:"Cr le",updatedAt:"Mis  jour le"},en:{title:"Request Management",newRequest:"New Request",search:"Search...",id:"ID",patient:"Patient",tests:"Tests",status:"Status",priority:"Priority",sampleType:"Sample Type",date:"Date",actions:"Actions",close:"Close",save:"Save",cancel:"Cancel",refresh:"Refresh",export:"Export",print:"Print",filter:"Filter",allStatuses:"All statuses",allPriorities:"All priorities",itemsPerPage:"Items per page",page:"Page",of:"of",previous:"Previous",next:"Next",deleteConfirm:"Are you sure you want to delete this request?",viewResults:"View results",enterResults:"Enter results",validateResults:"Validate results",printReport:"Print report",created:"Created",pending:"Pending",processing:"Processing",completed:"Completed",cancelled:"Cancelled",normal:"Normal",urgent:"Urgent",emergency:"Emergency",paymentStatus:"Payment status",paid:"Paid",partiallyPaid:"Partially paid",unpaid:"Unpaid",totalAmount:"Total amount",amountDue:"Amount due",doctor:"Doctor",collectionDate:"Collection date",collectionTime:"Collection time",notes:"Notes",createdAt:"Created at",updatedAt:"Updated at"}}[e];L.useEffect(()=>{(async()=>{try{y(!0);const _e=await RA.getRequests({_t:Date.now()});_e.requests?g(_e.requests):g([])}catch(_e){console.error("Error loading requests:",_e),g([])}finally{y(!1)}})()},[z]);const X=x.filter(G=>{var tt,at,dt,ft,vt;const _e=`${((tt=G.patient)==null?void 0:tt.firstName)||""} ${((at=G.patient)==null?void 0:at.lastName)||""}`.toLowerCase(),Ue=((dt=G.requestAnalyses)==null?void 0:dt.map(Xe=>Xe.analysis.name.toLowerCase()))||[],Ce=`${((ft=G.doctor)==null?void 0:ft.firstName)||""} ${((vt=G.doctor)==null?void 0:vt.lastName)||""}`.toLowerCase(),Fe=_e.includes(a.toLowerCase())||G.id.toLowerCase().includes(a.toLowerCase())||Ue.some(Xe=>Xe.includes(a.toLowerCase()))||Ce.includes(a.toLowerCase()),Te=N==="ALL"||G.status===N,Ie=m==="ALL"||G.priority===m,Ge=!E||G.collectionDate&&G.collectionDate.includes(E);return Fe&&Te&&Ie&&Ge}).sort((G,_e)=>{if(D==="createdAt")return C==="asc"?new Date(G.createdAt).getTime()-new Date(_e.createdAt).getTime():new Date(_e.createdAt).getTime()-new Date(G.createdAt).getTime();if(D==="priority"){const Ue={NORMAL:0,URGENT:1,EMERGENCY:2};return C==="asc"?(Ue[G.priority]||0)-(Ue[_e.priority]||0):(Ue[_e.priority]||0)-(Ue[G.priority]||0)}else if(D==="status"){const Ue={CREATED:0,PENDING:1,PROCESSING:2,COMPLETED:3,CANCELLED:4};return C==="asc"?(Ue[G.status]||0)-(Ue[_e.status]||0):(Ue[_e.status]||0)-(Ue[G.status]||0)}return 0}),q=Math.ceil(X.length/j),te=X.slice((M-1)*j,M*j),ie=G=>({CREATED:"bg-gray-100 text-gray-800",PENDING:"bg-yellow-100 text-yellow-800",PROCESSING:"bg-blue-100 text-blue-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[G]||"bg-gray-100 text-gray-800",pe=G=>({NORMAL:"bg-gray-100 text-gray-800",URGENT:"bg-orange-100 text-orange-800",EMERGENCY:"bg-red-100 text-red-800"})[G]||"bg-gray-100 text-gray-800",R=G=>G.amountDue<=0?"bg-green-100 text-green-800":G.advancePayment>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",$=G=>G.amountDue<=0?e==="fr"?"Pay":"Paid":G.advancePayment>0?e==="fr"?"Partiellement pay":"Partially paid":e==="fr"?"Non pay":"Unpaid",Y=G=>{c(G),o(!0)},re=G=>{c(G),i(!0)},ee=async G=>{if(window.confirm(S.deleteConfirm))try{await RA.deleteRequest(G.id),H(_e=>_e+1)}catch(_e){console.error("Error deleting request:",_e),alert("Error deleting request")}},se=()=>{H(G=>G+1)},ae=async()=>{try{alert("Export functionality would be implemented here")}catch(G){console.error("Error exporting data:",G)}},de=()=>{window.print()},Be=G=>{t(`/results?requestId=${G.id}`)},ke=G=>{t(`/results/entry?requestId=${G.id}`)},Qe=G=>{t(`/results/print?requestId=${G.id}`)},Ee=G=>{D===G?K(C==="asc"?"desc":"asc"):(F(G),K("asc"))},Je=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l?"Modifier Demande":S.newRequest}),r.jsx("button",{onClick:()=>i(!1),children:r.jsx(ht,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Nom du patient",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{children:"Slectionner tests"}),r.jsx("option",{children:"Hmogramme"}),r.jsx("option",{children:"Glycmie"})]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{children:"Priorit normale"}),r.jsx("option",{children:"Urgent"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:S.cancel}),r.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:S.save})]})]})}),ye=()=>{var G,_e;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e==="fr"?"Dtails de la demande":"Request Details"}),r.jsx("button",{onClick:()=>o(!1),children:r.jsx(ht,{size:20,className:"text-gray-500"})})]}),l&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations patient":"Patient Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[S.patient,":"]})," ",l.patient?`${l.patient.firstName} ${l.patient.lastName}`:"N/A"]}),((G=l.patient)==null?void 0:G.cnssNumber)&&r.jsxs("div",{children:[r.jsx("strong",{children:"CNSS:"})," ",l.patient.cnssNumber]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Statut de la demande":"Request Status"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("strong",{className:"mr-2",children:[S.status,":"]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ie(l.status)}`,children:l.status})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("strong",{className:"mr-2",children:[S.priority,":"]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${pe(l.priority)}`,children:l.priority})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("strong",{className:"mr-2",children:[S.paymentStatus,":"]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(l)}`,children:$(l)})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Analyses demandes":"Requested Tests"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:(_e=l.requestAnalyses)==null?void 0:_e.map(Ue=>r.jsxs("li",{children:[Ue.analysis.name," ",r.jsxs("span",{className:"text-gray-500",children:["(",Ue.analysis.code,")"]})]},Ue.id))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations de prlvement":"Collection Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[S.sampleType,":"]})," ",l.sampleType]}),l.tubeType&&r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Type de tube":"Tube Type",":"]})," ",l.tubeType]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[S.collectionDate,":"]})," ",l.collectionDate?new Date(l.collectionDate).toLocaleString():"N/A"]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[S.collectionTime,":"]})," ",l.collectionTime||"N/A"]})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations financires":"Financial Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[S.totalAmount,":"]})," ",l.totalAmount.toFixed(2)," MAD"]}),l.discount>0&&r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Remise":"Discount",":"]})," ",l.discount,"%"]}),l.advancePayment>0&&r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Avance":"Advance Payment",":"]})," ",l.advancePayment.toFixed(2)," MAD"]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[S.amountDue,":"]})," ",l.amountDue.toFixed(2)," MAD"]})]})]})]}),l.doctor&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Mdecin rfrent":"Referring Doctor"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsxs("strong",{children:[S.doctor,":"]})," ",`${l.doctor.firstName} ${l.doctor.lastName}`]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[e==="fr"?"Spcialit":"Specialty",":"]})," ",l.doctor.specialty]})]})]}),l.notes&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:S.notes}),r.jsx("p",{className:"whitespace-pre-line",children:l.notes})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations systme":"System Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",l.id]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[S.createdAt,":"]})," ",new Date(l.createdAt).toLocaleString()]}),r.jsxs("div",{children:[r.jsxs("strong",{children:[S.updatedAt,":"]})," ",new Date(l.updatedAt).toLocaleString()]})]})]})]}),r.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-6",children:[r.jsxs("button",{onClick:()=>Be(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(ms,{size:16,className:"mr-2"}),S.viewResults]}),r.jsxs("button",{onClick:()=>ke(l),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(zr,{size:16,className:"mr-2"}),S.enterResults]}),r.jsxs("button",{onClick:()=>Qe(l),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[r.jsx(CA,{size:16,className:"mr-2"}),S.printReport]}),r.jsxs("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 flex items-center",children:[r.jsx(ht,{size:16,className:"mr-2"}),S.close]})]})]})})};return r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:S.title}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:se,className:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center",children:[r.jsx(Hs,{size:16,className:"mr-2"}),S.refresh]}),r.jsxs("button",{onClick:ae,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Jn,{size:16,className:"mr-2"}),S.export]}),r.jsxs("button",{onClick:de,className:"bg-purple-600 text-white px-3 py-2 rounded-lg hover:bg-purple-700 flex items-center",children:[r.jsx(CA,{size:16,className:"mr-2"}),S.print]}),r.jsxs("button",{onClick:()=>t("/new-request"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:16,className:"mr-2"}),S.newRequest]})]})]}),r.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Br,{size:20,className:"absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:S.search,value:a,onChange:G=>s(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),r.jsxs("button",{onClick:()=>h(!u),className:`px-4 py-2 rounded-lg flex items-center ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[r.jsx(Bl,{size:16,className:"mr-2"}),S.filter]})]}),u&&r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:S.status}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:N,onChange:G=>p(G.target.value),children:[r.jsx("option",{value:"ALL",children:S.allStatuses}),r.jsx("option",{value:"CREATED",children:S.created}),r.jsx("option",{value:"PENDING",children:S.pending}),r.jsx("option",{value:"PROCESSING",children:S.processing}),r.jsx("option",{value:"COMPLETED",children:S.completed}),r.jsx("option",{value:"CANCELLED",children:S.cancelled})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:S.priority}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:m,onChange:G=>w(G.target.value),children:[r.jsx("option",{value:"ALL",children:S.allPriorities}),r.jsx("option",{value:"NORMAL",children:S.normal}),r.jsx("option",{value:"URGENT",children:S.urgent}),r.jsx("option",{value:"EMERGENCY",children:S.emergency})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:S.date}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:E,onChange:G=>U(G.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:S.itemsPerPage}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:j,onChange:G=>T(Number(G.target.value)),children:[r.jsx("option",{value:"5",children:"5"}),r.jsx("option",{value:"10",children:"10"}),r.jsx("option",{value:"25",children:"25"}),r.jsx("option",{value:"50",children:"50"}),r.jsx("option",{value:"100",children:"100"})]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("id"),children:r.jsxs("div",{className:"flex items-center",children:[S.id,D==="id"&&r.jsx("span",{className:"ml-1",children:C==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:S.patient}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:S.tests}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("status"),children:r.jsxs("div",{className:"flex items-center",children:[S.status,D==="status"&&r.jsx("span",{className:"ml-1",children:C==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("priority"),children:r.jsxs("div",{className:"flex items-center",children:[S.priority,D==="priority"&&r.jsx("span",{className:"ml-1",children:C==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:S.paymentStatus}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:S.sampleType}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("createdAt"),children:r.jsxs("div",{className:"flex items-center",children:[S.date,D==="createdAt"&&r.jsx("span",{className:"ml-1",children:C==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:S.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:v?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:e==="fr"?"Chargement...":"Loading..."})]})})}):te.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-8 text-center",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:a||N!=="ALL"||m!=="ALL"||E?e==="fr"?"Aucune demande trouve pour cette recherche.":"No requests found for this search.":e==="fr"?"Aucune demande enregistre.":"No requests recorded."})})}):te.map(G=>{var _e,Ue,Ce;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:G.id}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[G.patient?`${G.patient.firstName} ${G.patient.lastName}`:"N/A",((_e=G.patient)==null?void 0:_e.cnssNumber)&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["CNSS: ",G.patient.cnssNumber]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[r.jsx("div",{className:"max-w-xs truncate",children:((Ue=G.requestAnalyses)==null?void 0:Ue.map(Fe=>Fe.analysis.name).join(", "))||"N/A"}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[((Ce=G.requestAnalyses)==null?void 0:Ce.length)||0," ","test(s)"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ie(G.status)}`,children:G.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${pe(G.priority)}`,children:G.priority})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(G)}`,children:$(G)})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[G.sampleType,G.tubeType&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:["(",G.tubeType,")"]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[r.jsx("div",{children:new Date(G.createdAt).toLocaleDateString()}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(G.createdAt).toLocaleTimeString()})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Y(G),className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:e==="fr"?"Voir dtails":"View details",children:r.jsx(ms,{size:16})}),r.jsx("button",{onClick:()=>re(G),className:"text-green-600 hover:text-green-900 dark:hover:text-green-400",title:e==="fr"?"Modifier":"Edit",children:r.jsx(Xn,{size:16})}),r.jsx("button",{onClick:()=>Be(G),className:"text-purple-600 hover:text-purple-900 dark:hover:text-purple-400",title:e==="fr"?"Voir rsultats":"View results",children:r.jsx(zr,{size:16})}),r.jsx("button",{onClick:()=>Qe(G),className:"text-indigo-600 hover:text-indigo-900 dark:hover:text-indigo-400",title:e==="fr"?"Imprimer rapport":"Print report",children:r.jsx(CA,{size:16})}),r.jsx("button",{onClick:()=>ee(G),className:"text-red-600 hover:text-red-900 dark:hover:text-red-400",title:e==="fr"?"Supprimer":"Delete",children:r.jsx(qs,{size:16})})]})})]},G.id)})})]})})}),te.length>0&&r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[S.page," ",M," ",S.of," ",q]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Q(G=>Math.max(G-1,1)),disabled:M===1,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md disabled:opacity-50",children:S.previous}),r.jsx("button",{onClick:()=>Q(G=>Math.min(G+1,q)),disabled:M===q,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md disabled:opacity-50",children:S.next})]})]}),n&&r.jsx(Je,{}),A&&r.jsx(ye,{})]})}function I3(){const{language:e}=At(),[t,a]=L.useState({nom:"",prenom:"",dateNaissance:"",numeroCNSS:"",sexe:"M"}),[s,n]=L.useState([{code:"4005",nom:"Hmogramme (CBC)",selected:!1,category:"Hmatologie"},{code:"4010",nom:"Glycmie (Blood Sugar)",selected:!1,category:"Biochimie"},{code:"4015",nom:"Cholestrol Total",selected:!1,category:"Lipides"},{code:"4020",nom:"HDL Cholestrol",selected:!1,category:"Lipides"},{code:"4025",nom:"LDL Cholestrol",selected:!1,category:"Lipides"},{code:"4030",nom:"Triglycrides",selected:!1,category:"Lipides"},{code:"4035",nom:"Cratininmie",selected:!1,category:"Biochimie"},{code:"4040",nom:"Ure",selected:!1,category:"Biochimie"},{code:"4045",nom:"Bilan hpatique",selected:!1,category:"Biochimie"},{code:"4050",nom:"TSH",selected:!1,category:"Hormonologie"},{code:"4055",nom:"T4 Libre",selected:!1,category:"Hormonologie"},{code:"4060",nom:"T3 Libre",selected:!1,category:"Hormonologie"},{code:"4070",nom:"Groupe Sanguin",selected:!1,category:"Immunologie"},{code:"4075",nom:"CRP",selected:!1,category:"Inflammation"},{code:"4080",nom:"VS",selected:!1,category:"Inflammation"}]),[i,A]=L.useState(""),[o,l]=L.useState(null),[c,u]=L.useState(""),[h,x]=L.useState(""),[g,v]=L.useState(""),[y,N]=L.useState(!1),[p,m]=L.useState(!1),[w,E]=L.useState(""),[U,D]=L.useState("success"),[F,C]=L.useState(!1),[K,M]=L.useState(!1),[Q,j]=L.useState(0),[T,z]=L.useState(0),[H,S]=L.useState({subtotal:0,tvaTotal:0,totalBeforeDiscount:0,discount:0,discountAmount:0,totalAfterDiscount:0,advancePayment:0,amountDue:0}),X=[{id:"1",nom:"Boulahcen",prenom:"Hicham",specialite:"Mdecine gnrale"},{id:"2",nom:"Bensad",prenom:"Youssef",specialite:"Cardiologie"},{id:"3",nom:"Alaoui",prenom:"Fatima",specialite:"Endocrinologie"},{id:"4",nom:"Tazi",prenom:"Mohamed",specialite:"Mdecine gnrale"},{id:"5",nom:"El Amrani",prenom:"Karim",specialite:"Dermatologie"}],q={fr:{title:"Nouvelle Demande d'Analyse",subtitle:"Interface Rceptionniste",patientInfo:"Informations Patient",nom:"Nom",prenom:"Prnom",dateNaissance:"Date de naissance",numeroCNSS:"Numro CNSS",sexe:"Sexe",analyses:"Analyses Prescrites",addAnalysis:"Ajouter des analyses",searchAnalyses:"Rechercher des analyses...",selectedAnalyses:"Analyses slectionnes",doctor:"Mdecin Rfrent",searchDoctor:"Rechercher un mdecin...",appointment:"Prlvement",date:"Date",time:"Heure",urgent:"Demande Urgente",pricing:"Tarification",subtotal:"Sous-total HT",tva:"TVA",totalBeforeDiscount:"Total TTC",discount:"Remise (%)",discountAmount:"Montant remise",totalAfterDiscount:"Total aprs remise",advancePayment:"Acompte",amountDue:"Montant d",submit:"Soumettre la Demande",clear:"Effacer le Formulaire",success:"Demande enregistre avec succs",error:"Erreur lors de l'enregistrement",selectDoctor:"Slectionner un mdecin",noAnalysesSelected:"Aucune analyse slectionne",validationError:"Veuillez remplir tous les champs obligatoires",printLabels:"Imprimer tiquettes",printReceipt:"Imprimer Reu"},en:{title:"New Analysis Request",subtitle:"Receptionist Interface",patientInfo:"Patient Information",nom:"Last Name",prenom:"First Name",dateNaissance:"Date of Birth",numeroCNSS:"CNSS Number",sexe:"Gender",analyses:"Prescribed Analyses",addAnalysis:"Add Analyses",searchAnalyses:"Search analyses...",selectedAnalyses:"Selected Analyses",doctor:"Referring Doctor",searchDoctor:"Search for a doctor...",appointment:"Sample Collection",date:"Date",time:"Time",urgent:"Urgent Request",pricing:"Pricing",subtotal:"Subtotal (excl. tax)",tva:"VAT",totalBeforeDiscount:"Total (incl. tax)",discount:"Discount (%)",discountAmount:"Discount amount",totalAfterDiscount:"Total after discount",advancePayment:"Advance payment",amountDue:"Amount due",submit:"Submit Request",clear:"Clear Form",success:"Request saved successfully",error:"Error saving request",selectDoctor:"Select a doctor",noAnalysesSelected:"No analyses selected",validationError:"Please fill in all required fields",printLabels:"Print Labels",printReceipt:"Print Receipt"}}[e],te=s.filter(ae=>ae.nom.toLowerCase().includes(i.toLowerCase())||ae.code.includes(i)),ie=X.filter(ae=>`${ae.prenom} ${ae.nom}`.toLowerCase().includes(c.toLowerCase())||ae.specialite.toLowerCase().includes(c.toLowerCase())),pe=s.filter(ae=>ae.selected);L.useEffect(()=>{const ae=tl.calculateRequestTotal(pe,Q,T);S(ae)},[pe,Q,T]);const R=ae=>{n(de=>de.map(Be=>Be.code===ae?{...Be,selected:!Be.selected}:Be))},$=ae=>{n(de=>de.map(Be=>Be.code===ae?{...Be,selected:!1}:Be))},Y=(ae,de="success")=>{E(ae),D(de),m(!0),setTimeout(()=>m(!1),5e3)},re=()=>!t.nom||!t.prenom||!t.dateNaissance||!t.numeroCNSS?(Y(q.validationError,"error"),!1):pe.length===0?(Y(q.noAnalysesSelected,"error"),!1):o?!h||!g?(Y("Veuillez slectionner une date et heure de prlvement","error"),!1):!0:(Y(q.selectDoctor,"error"),!1),ee=async ae=>{if(ae.preventDefault(),!!re()){C(!0);try{const de={patient:{nom:t.nom,prenom:t.prenom,dateNaissance:t.dateNaissance,numeroCNSS:t.numeroCNSS,sexe:t.sexe},analyses:pe.map(ke=>({code:ke.code,nom:ke.nom})),doctor:o,appointment:{date:h,time:g},urgent:y,pricing:H,timestamp:new Date().toISOString()},Be=await C3.saveRequest(de);Be.success?(Y(q.success,"success"),setTimeout(()=>{rw.printLabels(Be.data),setTimeout(()=>{rw.printReceipt(Be.data,{...H,prices:tl.getPrices()})},1e3)},500),se()):Y(q.error,"error")}catch(de){console.error("Submit error:",de),Y("Erreur de connexion. Les donnes ont t sauvegardes localement.","error"),se()}finally{C(!1)}}},se=()=>{a({nom:"",prenom:"",dateNaissance:"",numeroCNSS:"",sexe:"M"}),n(ae=>ae.map(de=>({...de,selected:!1}))),l(null),u(""),x(""),v(""),N(!1),A(""),j(0),z(0)};return L.useEffect(()=>{const ae=new Date;ae.setDate(ae.getDate()+1);const de=ae.toISOString().split("T")[0];x(de)},[]),r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:q.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:q.subtitle})]}),r.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ma,{className:"h-6 w-6 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:q.patientInfo})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[q.nom," *"]}),r.jsx("input",{type:"text",required:!0,value:t.nom,onChange:ae=>a(de=>({...de,nom:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"El Amrani"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[q.prenom," *"]}),r.jsx("input",{type:"text",required:!0,value:t.prenom,onChange:ae=>a(de=>({...de,prenom:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Soukaina"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[q.dateNaissance," *"]}),r.jsx("input",{type:"date",required:!0,value:t.dateNaissance,onChange:ae=>a(de=>({...de,dateNaissance:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[q.numeroCNSS," *"]}),r.jsx("input",{type:"text",required:!0,value:t.numeroCNSS,onChange:ae=>a(de=>({...de,numeroCNSS:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"J123456789"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:q.sexe}),r.jsxs("select",{value:t.sexe,onChange:ae=>a(de=>({...de,sexe:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"M",children:"Masculin"}),r.jsx("option",{value:"F",children:"Fminin"})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:q.analyses}),r.jsxs("button",{type:"button",onClick:()=>M(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:16,className:"mr-2"}),q.addAnalysis]})]}),pe.length>0?r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:q.selectedAnalyses}),r.jsx("div",{className:"flex flex-wrap gap-2",children:pe.map(ae=>r.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full flex items-center",children:[r.jsx("span",{className:"text-sm",children:ae.nom}),r.jsx("button",{type:"button",onClick:()=>$(ae.code),className:"ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:r.jsx(ht,{size:14})})]},ae.code))})]}):r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:q.noAnalysesSelected})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:q.doctor}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:c,onChange:ae=>u(ae.target.value),placeholder:q.searchDoctor,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:ie.map(ae=>r.jsxs("button",{type:"button",onClick:()=>{l(ae),u("")},className:`w-full text-left p-3 rounded-lg border transition-colors ${(o==null?void 0:o.id)===ae.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:["Dr. ",ae.prenom," ",ae.nom]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:ae.specialite})]},ae.id))}),o&&r.jsxs("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[r.jsxs("div",{className:"font-medium text-green-800 dark:text-green-200",children:["Mdecin slectionn: Dr. ",o.prenom," ",o.nom]}),r.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:o.specialite})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Va,{className:"h-6 w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:q.appointment})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[q.date," *"]}),r.jsx("input",{type:"date",required:!0,value:h,onChange:ae=>x(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[q.time," *"]}),r.jsx("input",{type:"time",required:!0,value:g,onChange:ae=>v(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:y,onChange:ae=>N(ae.target.checked),className:"form-checkbox h-5 w-5 text-red-600 focus:ring-red-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zt,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:q.urgent})]})]})})]}),pe.length>0&&r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(fs,{className:"h-6 w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:q.pricing})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[q.subtotal,":"]}),r.jsxs("span",{className:"font-medium",children:[H.subtotal.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[q.tva,":"]}),r.jsxs("span",{className:"font-medium",children:[H.tvaTotal.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsxs("span",{className:"font-medium",children:[q.totalBeforeDiscount,":"]}),r.jsxs("span",{className:"font-bold text-lg",children:[H.totalBeforeDiscount.toFixed(2)," dh"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:q.discount}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:Q,onChange:ae=>j(parseFloat(ae.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:q.advancePayment}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:T,onChange:ae=>z(parseFloat(ae.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Q>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[q.discountAmount,":"]}),r.jsxs("span",{className:"text-red-600",children:["-",H.discountAmount.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsxs("span",{className:"font-bold text-lg",children:[q.amountDue,":"]}),r.jsxs("span",{className:"font-bold text-lg text-green-600",children:[H.amountDue.toFixed(2)," dh"]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{type:"button",onClick:se,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:q.clear}),r.jsxs("button",{type:"submit",disabled:F,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center transition-colors",children:[F?r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):r.jsx(Wt,{size:20,className:"mr-2"}),q.submit]})]})]}),K&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:q.analyses}),r.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(ht,{size:24})})]}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:i,onChange:ae=>A(ae.target.value),placeholder:q.searchAnalyses,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:te.map(ae=>r.jsxs("label",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:ae.selected,onChange:()=>R(ae.code),className:"form-checkbox h-5 w-5 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ae.nom}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Code: ",ae.code,"  ",ae.category]})]})]},ae.code))}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{onClick:()=>M(!1),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Fermer"})})]})}),p&&r.jsxs("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg flex items-center z-50 ${U==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[U==="success"?r.jsx(Wt,{size:20,className:"mr-2"}):r.jsx(Zt,{size:20,className:"mr-2"}),w,r.jsx("button",{onClick:()=>m(!1),className:"ml-4",children:r.jsx(ht,{size:16})})]})]})}const P3="modulepreload",D3=function(e){return"/"+e},aw={},vA=function(t,a,s){if(!a||a.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(a.map(i=>{if(i=D3(i),i in aw)return;aw[i]=!0;const A=i.endsWith(".css"),o=A?'[rel="stylesheet"]':"";if(!!s)for(let u=n.length-1;u>=0;u--){const h=n[u];if(h.href===i&&(!A||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const c=document.createElement("link");if(c.rel=A?"stylesheet":P3,A||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),A)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=i,window.dispatchEvent(A),!A.defaultPrevented)throw i})};function T3({data:e,updateData:t,language:a}){const s={title:a==="fr"?"Informations du Patient":"Patient Information",subtitle:a==="fr"?"Saisissez les informations personnelles du patient":"Enter the patient's personal information",firstName:a==="fr"?"Prnom":"First Name",lastName:a==="fr"?"Nom":"Last Name",dateOfBirth:a==="fr"?"Date de naissance":"Date of Birth",gender:a==="fr"?"Genre":"Gender",male:a==="fr"?"Masculin":"Male",female:a==="fr"?"Fminin":"Female",phone:a==="fr"?"Tlphone":"Phone",email:"Email",cnssNumber:a==="fr"?"Numro CNSS":"CNSS Number",address:a==="fr"?"Adresse":"Address",required:a==="fr"?"Ce champ est requis":"This field is required",invalidEmail:a==="fr"?"Email invalide":"Invalid email",invalidPhone:a==="fr"?"Numro de tlphone invalide":"Invalid phone number"},n=(i,A)=>{t(i,A)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.firstName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.firstName,onChange:i=>n("firstName",i.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:s.firstName,required:!0}),r.jsx(ma,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.lastName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.lastName,onChange:i=>n("lastName",i.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:s.lastName,required:!0}),r.jsx(ma,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.dateOfBirth," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",value:e.dateOfBirth,onChange:i=>n("dateOfBirth",i.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx(Va,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.gender}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"gender",value:"M",checked:e.gender==="M",onChange:i=>n("gender",i.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.male]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"gender",value:"F",checked:e.gender==="F",onChange:i=>n("gender",i.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.female]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.phone," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"tel",value:e.phone,onChange:i=>n("phone",i.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+212-6-12-345678",required:!0}),r.jsx(_x,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.email}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",value:e.email,onChange:i=>n("email",i.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"patient@email.com"}),r.jsx(Ox,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.cnssNumber}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.cnssNumber,onChange:i=>n("cnssNumber",i.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"CNSS-123456"}),r.jsx(l5,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.address}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:e.address,onChange:i=>n("address",i.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123 Rue Example, Ville, Code Postal"}),r.jsx(TA,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]})]})}function R3({data:e,prescription:t,updateData:a,updatePrescription:s,language:n}){const[i,A]=L.useState([]),[o,l]=L.useState(""),[c,u]=L.useState(""),[h,x]=L.useState(!1),[g,v]=L.useState(!1),[y,N]=L.useState([]),p={title:n==="fr"?"Slection des Analyses":"Analysis Selection",subtitle:n==="fr"?"Slectionnez les analyses  effectuer et tlchargez l'ordonnance":"Select the analyses to perform and upload the prescription",searchAnalyses:n==="fr"?"Rechercher des analyses...":"Search analyses...",category:n==="fr"?"Catgorie":"Category",allCategories:n==="fr"?"Toutes les catgories":"All Categories",selectedAnalyses:n==="fr"?"Analyses slectionnes":"Selected Analyses",noAnalysesSelected:n==="fr"?"Aucune analyse slectionne":"No analyses selected",prescription:n==="fr"?"Ordonnance":"Prescription",uploadPrescription:n==="fr"?"Tlcharger l'ordonnance":"Upload Prescription",dragDropText:n==="fr"?"Glissez-dposez un fichier ici ou cliquez pour slectionner":"Drag and drop a file here or click to select",supportedFormats:n==="fr"?"Formats supports: PDF, JPG, PNG":"Supported formats: PDF, JPG, PNG",remove:n==="fr"?"Supprimer":"Remove",addAnalysis:n==="fr"?"Ajouter des analyses":"Add Analyses",selectAll:n==="fr"?"Tout slectionner":"Select All",deselectAll:n==="fr"?"Tout dslectionner":"Deselect All",addSelected:n==="fr"?"Ajouter slectionns":"Add Selected",selectedCount:n==="fr"?"slectionns":"selected",code:"Code",name:n==="fr"?"Nom":"Name",price:n==="fr"?"Prix":"Price",tva:n==="fr"?"TVA":"VAT",total:"Total",noAnalysesFound:n==="fr"?"Aucune analyse trouve":"No analyses found",loading:n==="fr"?"Chargement...":"Loading..."};L.useEffect(()=>{m()},[]);const m=async()=>{x(!0);try{const T=await sp.getAnalyses(),z=T.analyses||T||[];A(z)}catch(T){console.error("Error loading analyses:",T),A([])}finally{x(!1)}},w=T=>{const z=T.filter(H=>!e.find(S=>S.id===H.id));z.length>0&&a([...e,...z])},E=T=>{a(e.filter(z=>z.id!==T))},U=T=>{var H;const z=(H=T.target.files)==null?void 0:H[0];z&&s(z)},D=T=>{T.preventDefault();const z=T.dataTransfer.files[0];z&&s(z)},F=T=>{T.preventDefault()},C=i.filter(T=>{const z=T.name.toLowerCase().includes(o.toLowerCase())||T.code.toLowerCase().includes(o.toLowerCase()),H=!c||T.category===c;return z&&H}),K=[...new Set(i.map(T=>T.category))],M=e.reduce((T,z)=>T+z.price,0),Q=e.reduce((T,z)=>T+z.price*z.tva/100,0),j=M+Q;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:p.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:p.selectedAnalyses}),r.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[r.jsx(mr,{size:16,className:"mr-1"}),p.addAnalysis]})]}),e.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:p.noAnalysesSelected}):r.jsx("div",{className:"space-y-3",children:e.map(T=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:T.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.code,"  ",T.category]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[T.price," dh"]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",T.tva,"%"]})]}),r.jsx("button",{onClick:()=>E(T.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(ht,{size:16})})]})]},T.id))}),e.length>0&&r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[p.total,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[j.toFixed(2)," dh"]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:p.prescription}),r.jsx("div",{onDrop:D,onDragOver:F,className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors",children:t?r.jsxs("div",{className:"space-y-2",children:[r.jsx(zr,{size:32,className:"mx-auto text-green-600 dark:text-green-400"}),r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(t.size/1024/1024).toFixed(2)," MB"]}),r.jsx("button",{onClick:()=>s(void 0),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm",children:p.remove})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(lh,{size:32,className:"mx-auto text-gray-400"}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:p.dragDropText}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:p.supportedFormats}),r.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[r.jsx(lh,{size:16,className:"mr-2"}),p.uploadPrescription,r.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:U,className:"hidden"})]})]})})]})]}),g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:p.addAnalysis}),r.jsx("button",{onClick:()=>{v(!1),N([])},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:20})})]}),r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsx("input",{type:"text",placeholder:p.searchAnalyses,value:o,onChange:T=>l(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsxs("select",{value:c,onChange:T=>u(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:p.allCategories}),K.map(T=>r.jsx("option",{value:T,children:T},T))]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>{const T=C.filter(z=>!e.find(H=>H.id===z.id));N(T)},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:p.selectAll}),r.jsx("button",{onClick:()=>N([]),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:p.deselectAll})]}),y.length>0&&r.jsxs("button",{onClick:()=>{w(y),N([]),v(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(mr,{size:16,className:"mr-2"}),p.addSelected," (",y.length,")"]})]})]})]}),r.jsx("div",{className:"p-6",children:h?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:p.loading})]}):r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:C.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:p.noAnalysesFound}):C.map(T=>{const z=e.find(S=>S.id===T.id),H=y.find(S=>S.id===T.id);return r.jsx("div",{className:`w-full text-left p-3 border rounded-lg cursor-pointer transition-colors ${z?"border-gray-300 bg-gray-100 dark:bg-gray-700 opacity-50 cursor-not-allowed":H?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>{z||N(H?y.filter(S=>S.id!==T.id):[...y,T])},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[!z&&r.jsx("input",{type:"checkbox",checked:!!H,onChange:()=>{},className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:T.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.code,"  ",T.category]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[T.price," dh"]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",T.tva,"%"]})]})]})},T.id)})})})]})})]})}function H3({data:e,updateData:t,language:a}){const[s,n]=L.useState([]),[i,A]=L.useState(""),[o,l]=L.useState(!1),[c,u]=L.useState(!1),[h,x]=L.useState(!1);L.useState(!1);const g={title:a==="fr"?"Rfrence du Mdecin":"Doctor Reference",subtitle:a==="fr"?"Slectionnez le mdecin prescripteur ou ajoutez un nouveau":"Select the prescribing doctor or add a new one",searchDoctor:a==="fr"?"Rechercher un mdecin...":"Search for a doctor...",selectDoctor:a==="fr"?"Slectionner un mdecin":"Select a doctor",addNewDoctor:a==="fr"?"Ajouter un nouveau mdecin":"Add new doctor",firstName:a==="fr"?"Prnom":"First Name",lastName:a==="fr"?"Nom":"Last Name",email:"Email",phone:a==="fr"?"Tlphone":"Phone",specialty:a==="fr"?"Spcialit":"Specialty",orderNumber:a==="fr"?"Numro d'ordre":"Order Number",selectedDoctor:a==="fr"?"Mdecin slectionn":"Selected Doctor",noDoctorSelected:a==="fr"?"Aucun mdecin slectionn":"No doctor selected",required:a==="fr"?"Ce champ est requis":"This field is required",noDoctorsFound:a==="fr"?"Aucun mdecin trouv":"No doctors found",loading:a==="fr"?"Chargement...":"Loading...",specialties:{cardiology:a==="fr"?"Cardiologie":"Cardiology",endocrinology:a==="fr"?"Endocrinologie":"Endocrinology",gastroenterology:a==="fr"?"Gastro-entrologie":"Gastroenterology",dermatology:a==="fr"?"Dermatologie":"Dermatology",neurology:a==="fr"?"Neurologie":"Neurology",oncology:a==="fr"?"Oncologie":"Oncology",pediatrics:a==="fr"?"Pdiatrie":"Pediatrics",psychiatry:a==="fr"?"Psychiatrie":"Psychiatry",radiology:a==="fr"?"Radiologie":"Radiology",surgery:a==="fr"?"Chirurgie":"Surgery",other:a==="fr"?"Autre":"Other"}};L.useEffect(()=>{console.log("Step3DoctorRef mounted, loading doctors..."),v()},[]);const v=async()=>{l(!0);try{const w=await j3.getDoctors();console.log("Doctors API response:",w);const E=w.doctors||w||[];console.log("Processed doctors:",E),n(E)}catch(w){console.error("Error loading doctors:",w),n([])}finally{l(!1)}},y=w=>{t("id",w.id),t("firstName",w.firstName||""),t("lastName",w.lastName||""),t("email",w.email||""),t("phone",w.phone||""),t("specialty",w.specialty||""),t("orderNumber",w.orderNumber||""),u(!1),x(!1)},N=()=>{t("id",""),t("firstName",""),t("lastName",""),t("email",""),t("phone",""),t("specialty",""),t("orderNumber",""),x(!0)},p=s.filter(w=>{const E=w.firstName||"",U=w.lastName||"",D=w.specialty||"";return E.toLowerCase().includes(i.toLowerCase())||U.toLowerCase().includes(i.toLowerCase())||D.toLowerCase().includes(i.toLowerCase())});console.log("Available doctors:",s),console.log("Filtered doctors:",p),console.log("Search term:",i);const m=(w,E)=>{t(w,E)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:g.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:g.selectedDoctor}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>{console.log("Opening doctor modal, available doctors:",s),u(!0)},className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[r.jsx(Br,{size:16,className:"mr-1"}),g.selectDoctor]}),r.jsxs("button",{onClick:N,className:"flex items-center px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:[r.jsx(mr,{size:16,className:"mr-1"}),g.addNewDoctor]})]})]}),r.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Debug: availableDoctors=",s.length,", loading=",o.toString(),", modal=",c.toString()]}),!e.id&&!h?r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:g.noDoctorSelected}):r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(fl,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]})]}),e.id&&r.jsx("button",{onClick:N,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(ht,{size:16})})]}),e.specialty&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.specialty}),e.email&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.email}),e.phone&&r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.phone})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:h?g.addNewDoctor:g.selectDoctor}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[g.firstName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.firstName,onChange:w=>m("firstName",w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:g.firstName}),r.jsx(ma,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[g.lastName," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.lastName,onChange:w=>m("lastName",w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:g.lastName}),r.jsx(ma,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:g.email}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",value:e.email,onChange:w=>m("email",w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"doctor@email.com"}),r.jsx(Ox,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:g.phone}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"tel",value:e.phone,onChange:w=>m("phone",w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+212-6-12-345678"}),r.jsx(_x,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:g.specialty}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:e.specialty,onChange:w=>m("specialty",w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:g.selectDoctor}),Object.entries(g.specialties).map(([w,E])=>r.jsx("option",{value:E,children:E},w))]}),r.jsx(Ri,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:g.orderNumber}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.orderNumber,onChange:w=>m("orderNumber",w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ORD-001"}),r.jsx(Ri,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]})]})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g.selectDoctor}),r.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:g.searchDoctor,value:i,onChange:w=>A(w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:o?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:g.loading})]}):r.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["Total doctors: ",s.length,", Filtered: ",p.length]}),p.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:g.noDoctorsFound}):p.map(w=>r.jsx("button",{onClick:()=>y(w),className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[w.firstName," ",w.lastName]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:w.specialty}),w.email&&r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:w.email})]}),r.jsx(fl,{size:20,className:"text-blue-600 dark:text-blue-400"})]})},w.id))]})})]})})]})}function M3({data:e,updateData:t,language:a}){const s={title:a==="fr"?"Rendez-vous":"Appointment",subtitle:a==="fr"?"Planifiez le rendez-vous pour la collecte d'chantillons":"Schedule the appointment for sample collection",date:"Date",time:a==="fr"?"Heure":"Time",location:a==="fr"?"Lieu":"Location",urgency:a==="fr"?"Urgence":"Urgency",sampleType:a==="fr"?"Type d'chantillon":"Sample Type",tubeType:a==="fr"?"Type de tube":"Tube Type",notes:"Notes",normal:"Normal",urgent:"Urgent",emergency:a==="fr"?"Urgence":"Emergency",required:a==="fr"?"Ce champ est requis":"This field is required",selectDate:a==="fr"?"Slectionner une date":"Select a date",selectTime:a==="fr"?"Slectionner une heure":"Select a time",enterLocation:a==="fr"?"Entrer le lieu":"Enter location",addNotes:a==="fr"?"Ajouter des notes":"Add notes",urgencyLevels:{normal:a==="fr"?"Rsultats dans 24-48h":"Results in 24-48h",urgent:a==="fr"?"Rsultats dans 2-4h":"Results in 2-4h",emergency:a==="fr"?"Rsultats immdiats":"Immediate results"}},n=(o,l)=>{t(o,l)},i=o=>{switch(o){case"NORMAL":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"URGENT":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EMERGENCY":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},A=o=>{switch(o){case"NORMAL":return r.jsx(Va,{size:16});case"URGENT":return r.jsx(Ka,{size:16});case"EMERGENCY":return r.jsx(Zt,{size:16});default:return r.jsx(Va,{size:16})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.date," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",value:e.date,onChange:o=>n("date",o.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx(Va,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.time," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"time",value:e.time,onChange:o=>n("time",o.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx(Ka,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.location}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:e.location,onChange:o=>n("location",o.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Laboratoire principal"}),r.jsx(TA,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.urgency}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"urgency",value:"NORMAL",checked:e.urgency==="NORMAL",onChange:o=>n("urgency",o.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:s.normal}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${i("NORMAL")}`,children:A("NORMAL")})]})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"urgency",value:"URGENT",checked:e.urgency==="URGENT",onChange:o=>n("urgency",o.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:s.urgent}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${i("URGENT")}`,children:A("URGENT")})]})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"urgency",value:"EMERGENCY",checked:e.urgency==="EMERGENCY",onChange:o=>n("urgency",o.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:s.emergency}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${i("EMERGENCY")}`,children:A("EMERGENCY")})]})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.sampleType," *"]}),r.jsxs("select",{value:e.sampleType,onChange:o=>n("sampleType",o.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"BLOOD",children:a==="fr"?"Sang":"Blood"}),r.jsx("option",{value:"URINE",children:"Urine"}),r.jsx("option",{value:"SALIVA",children:a==="fr"?"Salive":"Saliva"}),r.jsx("option",{value:"STOOL",children:a==="fr"?"Selles":"Stool"}),r.jsx("option",{value:"SPUTUM",children:a==="fr"?"Expectoration":"Sputum"}),r.jsx("option",{value:"CEREBROSPINAL_FLUID",children:a==="fr"?"Liquide cphalo-rachidien":"Cerebrospinal Fluid"}),r.jsx("option",{value:"SYNOVIAL_FLUID",children:a==="fr"?"Liquide synovial":"Synovial Fluid"}),r.jsx("option",{value:"PLEURAL_FLUID",children:a==="fr"?"Liquide pleural":"Pleural Fluid"}),r.jsx("option",{value:"PERITONEAL_FLUID",children:a==="fr"?"Liquide pritonal":"Peritoneal Fluid"}),r.jsx("option",{value:"OTHER",children:a==="fr"?"Autre":"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.tubeType}),r.jsxs("select",{value:e.tubeType||"",onChange:o=>n("tubeType",o.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Slectionner un type de tube":"Select tube type"}),r.jsx("option",{value:"EDTA",children:"EDTA"}),r.jsx("option",{value:"CITRATE",children:"Citrate"}),r.jsx("option",{value:"HEPARIN",children:"Hparine"}),r.jsx("option",{value:"SERUM",children:"Srum"}),r.jsx("option",{value:"PLAIN",children:"Tube sec"}),r.jsx("option",{value:"FLUORIDE",children:"Fluorure"}),r.jsx("option",{value:"OTHER",children:a==="fr"?"Autre":"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.notes}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:e.notes,onChange:o=>n("notes",o.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Instructions spciales, allergies, etc."}),r.jsx(zr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Zt,{size:20,className:"text-blue-600 dark:text-blue-400 mr-3 mt-0.5"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:[s.urgency," - ",s.urgencyLevels[e.urgency.toLowerCase()]]}),r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.urgency==="NORMAL"&&(a==="fr"?"Les rsultats seront disponibles dans les 24-48 heures suivant la collecte.":"Results will be available within 24-48 hours after collection."),e.urgency==="URGENT"&&(a==="fr"?"Les rsultats seront disponibles dans les 2-4 heures suivant la collecte.":"Results will be available within 2-4 hours after collection."),e.urgency==="EMERGENCY"&&(a==="fr"?"Les rsultats seront disponibles immdiatement aprs la collecte.":"Results will be available immediately after collection.")]})]})]})})]})}function O3({data:e,analyses:t,updateData:a,language:s}){const n={title:s==="fr"?"Facturation":"Billing",subtitle:s==="fr"?"Informations de paiement et d'assurance":"Payment and insurance information",payer:s==="fr"?"Payeur":"Payer",patient:"Patient",insurance:s==="fr"?"Assurance":"Insurance",company:s==="fr"?"Entreprise":"Company",insuranceCompany:s==="fr"?"Compagnie d'assurance":"Insurance Company",insuranceNumber:s==="fr"?"Numro d'assurance":"Insurance Number",discount:s==="fr"?"Remise (%)":"Discount (%)",advancePayment:s==="fr"?"Acompte":"Advance Payment",notes:"Notes",summary:s==="fr"?"Rsum de facturation":"Billing Summary",subtotal:s==="fr"?"Sous-total":"Subtotal",tva:s==="fr"?"TVA":"VAT",totalBeforeDiscount:s==="fr"?"Total avant remise":"Total before discount",discountAmount:s==="fr"?"Montant de la remise":"Discount amount",totalAfterDiscount:s==="fr"?"Total aprs remise":"Total after discount",amountDue:s==="fr"?"Montant d":"Amount due",required:s==="fr"?"Ce champ est requis":"This field is required",invalidDiscount:s==="fr"?"La remise doit tre entre 0 et 100":"Discount must be between 0 and 100",invalidAdvance:s==="fr"?"L'acompte ne peut pas dpasser le total":"Advance payment cannot exceed total"},i=(x,g)=>{a(x,g)},A=t.reduce((x,g)=>x+g.price,0),o=t.reduce((x,g)=>x+g.price*g.tva/100,0),l=A+o,c=l*(e.discount/100),u=l-c,h=u-e.advancePayment;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.payer}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"payer",value:"PATIENT",checked:e.payer==="PATIENT",onChange:x=>i("payer",x.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx(oh,{size:16,className:"mr-2 text-gray-400"}),n.patient]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"payer",value:"INSURANCE",checked:e.payer==="INSURANCE",onChange:x=>i("payer",x.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx(Ri,{size:16,className:"mr-2 text-gray-400"}),n.insurance]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"payer",value:"COMPANY",checked:e.payer==="COMPANY",onChange:x=>i("payer",x.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx(Ri,{size:16,className:"mr-2 text-gray-400"}),n.company]})]})]}),e.payer==="INSURANCE"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.insuranceCompany}),r.jsx("input",{type:"text",value:e.insuranceCompany,onChange:x=>i("insuranceCompany",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nom de la compagnie d'assurance"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.insuranceNumber}),r.jsx("input",{type:"text",value:e.insuranceNumber,onChange:x=>i("insuranceNumber",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Numro de police"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.discount}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:e.discount,onChange:x=>i("discount",parseFloat(x.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"}),r.jsx(XC,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.advancePayment}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",min:"0",step:"0.01",value:e.advancePayment,onChange:x=>i("advancePayment",parseFloat(x.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"}),r.jsx(fs,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.notes}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:e.notes,onChange:x=>i("notes",x.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notes de facturation..."}),r.jsx(zr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:n.summary}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.subtotal,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[A.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.tva,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[o.toFixed(2)," dh"]})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.totalBeforeDiscount,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[l.toFixed(2)," dh"]})]})}),e.discount>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.discountAmount,":"]}),r.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:["-",c.toFixed(2)," dh"]})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.totalAfterDiscount,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[u.toFixed(2)," dh"]})]})})]}),e.advancePayment>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.advancePayment,":"]}),r.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["-",e.advancePayment.toFixed(2)," dh"]})]}),r.jsx("div",{className:"border-t-2 border-gray-300 dark:border-gray-500 pt-2",children:r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsxs("span",{className:"text-gray-900 dark:text-white",children:[n.amountDue,":"]}),r.jsxs("span",{className:`${h>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[h.toFixed(2)," dh"]})]})})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(oh,{size:20,className:"text-blue-600 dark:text-blue-400 mr-3"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:[e.payer==="PATIENT"&&n.patient,e.payer==="INSURANCE"&&n.insurance,e.payer==="COMPANY"&&n.company]}),r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.payer==="PATIENT"&&(s==="fr"?"Le patient paiera directement":"Patient will pay directly"),e.payer==="INSURANCE"&&(s==="fr"?"Paiement par assurance":"Payment by insurance"),e.payer==="COMPANY"&&(s==="fr"?"Paiement par entreprise":"Payment by company")]})]})]})})]})]})]})}function _3({data:e,language:t}){const a={title:t==="fr"?"Rvision et Soumission":"Review and Submit",subtitle:t==="fr"?"Vrifiez toutes les informations avant de soumettre la demande":"Review all information before submitting the request",patientInfo:t==="fr"?"Informations du Patient":"Patient Information",analyses:"Analyses",doctorInfo:t==="fr"?"Informations du Mdecin":"Doctor Information",appointment:t==="fr"?"Rendez-vous":"Appointment",billing:t==="fr"?"Facturation":"Billing",prescription:t==="fr"?"Ordonnance":"Prescription",name:t==="fr"?"Nom":"Name",dateOfBirth:t==="fr"?"Date de naissance":"Date of Birth",gender:t==="fr"?"Genre":"Gender",phone:t==="fr"?"Tlphone":"Phone",email:"Email",cnssNumber:t==="fr"?"Numro CNSS":"CNSS Number",address:t==="fr"?"Adresse":"Address",specialty:t==="fr"?"Spcialit":"Specialty",orderNumber:t==="fr"?"Numro d'ordre":"Order Number",date:"Date",time:t==="fr"?"Heure":"Time",location:t==="fr"?"Lieu":"Location",urgency:t==="fr"?"Urgence":"Urgency",notes:"Notes",payer:t==="fr"?"Payeur":"Payer",insuranceCompany:t==="fr"?"Compagnie d'assurance":"Insurance Company",insuranceNumber:t==="fr"?"Numro d'assurance":"Insurance Number",discount:t==="fr"?"Remise":"Discount",advancePayment:t==="fr"?"Acompte":"Advance Payment",subtotal:t==="fr"?"Sous-total":"Subtotal",tva:t==="fr"?"TVA":"VAT",total:"Total",amountDue:t==="fr"?"Montant d":"Amount due",uploaded:t==="fr"?"Tlcharg":"Uploaded",notUploaded:t==="fr"?"Non tlcharg":"Not uploaded",male:t==="fr"?"Masculin":"Male",female:t==="fr"?"Fminin":"Female",normal:"Normal",urgent:"Urgent",emergency:t==="fr"?"Urgence":"Emergency",patient:"Patient",insurance:t==="fr"?"Assurance":"Insurance",company:t==="fr"?"Entreprise":"Company",noData:t==="fr"?"Aucune donne":"No data",readyToSubmit:t==="fr"?"Prt  soumettre":"Ready to submit",reviewComplete:t==="fr"?"Rvision termine":"Review complete"},s=e.analyses.reduce((h,x)=>h+x.price,0),n=e.analyses.reduce((h,x)=>h+x.price*x.tva/100,0),i=s+n,A=i*(e.billing.discount/100),l=i-A-e.billing.advancePayment,c=h=>h?new Date(h).toLocaleDateString(t==="fr"?"fr-FR":"en-US"):a.noData,u=h=>{switch(h){case"NORMAL":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"URGENT":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EMERGENCY":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ma,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.patientInfo})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.name,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.patient.firstName," ",e.patient.lastName]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.dateOfBirth,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c(e.patient.dateOfBirth)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.gender,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.gender==="M"?a.male:a.female})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.phone,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.phone})]}),e.patient.email&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.email,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.email})]}),e.patient.cnssNumber&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.cnssNumber,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.cnssNumber})]}),e.patient.address&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.address,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.address})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(fl,{size:20,className:"text-green-600 dark:text-green-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.doctorInfo})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.name,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.doctor.firstName," ",e.doctor.lastName]})]}),e.doctor.specialty&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.specialty,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.specialty})]}),e.doctor.email&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.email,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.email})]}),e.doctor.phone&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.phone,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.phone})]}),e.doctor.orderNumber&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.orderNumber,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.orderNumber})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Va,{size:20,className:"text-purple-600 dark:text-purple-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.appointment})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.date,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c(e.appointment.date)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.time,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.time})]}),e.appointment.location&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.location,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.location})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.urgency,":"]}),r.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${u(e.appointment.urgency)}`,children:[e.appointment.urgency==="NORMAL"&&a.normal,e.appointment.urgency==="URGENT"&&a.urgent,e.appointment.urgency==="EMERGENCY"&&a.emergency]})]}),e.appointment.notes&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.notes,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.notes})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(oh,{size:20,className:"text-orange-600 dark:text-orange-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.billing})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.payer,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.payer==="PATIENT"&&a.patient,e.billing.payer==="INSURANCE"&&a.insurance,e.billing.payer==="COMPANY"&&a.company]})]}),e.billing.payer==="INSURANCE"&&e.billing.insuranceCompany&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.insuranceCompany,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.billing.insuranceCompany})]}),e.billing.payer==="INSURANCE"&&e.billing.insuranceNumber&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.insuranceNumber,":"]}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.billing.insuranceNumber})]}),e.billing.discount>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.discount,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.discount,"%"]})]}),e.billing.advancePayment>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.advancePayment,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.advancePayment," dh"]})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.amountDue,":"]}),r.jsxs("span",{className:`font-bold ${l>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[l.toFixed(2)," dh"]})]})})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(zr,{size:20,className:"text-indigo-600 dark:text-indigo-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.analyses})]}),r.jsxs("div",{className:"space-y-3",children:[e.analyses.map(h=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:h.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[h.code,"  ",h.category]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[h.price," dh"]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",h.tva,"%"]})]})]},h.id)),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.subtotal,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[s.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a.tva,":"]}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[n.toFixed(2)," dh"]})]}),r.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[r.jsxs("span",{className:"text-gray-900 dark:text-white",children:[a.total,":"]}),r.jsxs("span",{className:"text-gray-900 dark:text-white",children:[i.toFixed(2)," dh"]})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(zr,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.prescription})]}),r.jsx("div",{className:"flex items-center",children:e.prescription?r.jsxs(r.Fragment,{children:[r.jsx(Wt,{size:20,className:"text-green-600 dark:text-green-400 mr-2"}),r.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:a.uploaded}),r.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:["(",e.prescription.name,")"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(Zt,{size:20,className:"text-yellow-600 dark:text-yellow-400 mr-2"}),r.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:a.notUploaded})]})})]}),r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Wt,{size:24,className:"text-green-600 dark:text-green-400 mr-3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100",children:a.readyToSubmit}),r.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:a.reviewComplete})]})]})})]})}const Pu=[{id:1,title:"Patient Info",icon:ma},{id:2,title:"Analyses",icon:zr},{id:3,title:"Doctor Ref",icon:fl},{id:4,title:"Appointment",icon:Va},{id:5,title:"Billing",icon:oh},{id:6,title:"Review",icon:ms}];function K3(){const{language:e}=At(),t=Ks(),[a,s]=L.useState(1),[n,i]=L.useState(!1),[A,o]=L.useState({patient:{firstName:"",lastName:"",dateOfBirth:"",gender:"M",phone:"",email:"",cnssNumber:"",address:""},analyses:[],doctor:{id:"",firstName:"",lastName:"",email:"",phone:"",specialty:"",orderNumber:""},appointment:{date:"",time:"",location:"",urgency:"NORMAL",sampleType:"BLOOD",tubeType:void 0,notes:""},billing:{payer:"PATIENT",insuranceCompany:"",insuranceNumber:"",discount:0,advancePayment:0,notes:""}}),l={title:e==="fr"?"Nouvelle Demande d'Analyse":"New Analysis Request",subtitle:e==="fr"?"Crer une nouvelle demande d'analyse de laboratoire":"Create a new laboratory analysis request",back:e==="fr"?"Retour":"Back",next:e==="fr"?"Suivant":"Next",submit:e==="fr"?"Soumettre":"Submit",loading:e==="fr"?"Envoi en cours...":"Submitting...",success:e==="fr"?"Demande cre avec succs":"Request created successfully",error:e==="fr"?"Erreur lors de la cration":"Error creating request",step:e==="fr"?"tape":"Step",of:e==="fr"?"sur":"of"},c=(N,p)=>{o(m=>({...m,[N]:p}))},u=(N,p,m)=>{o(w=>({...w,[N]:{...w[N],[p]:m}}))},h=()=>{a<Pu.length&&s(a+1)},x=()=>{a>1&&s(a-1)},g=async()=>{i(!0);try{const N=A.analyses.reduce((M,Q)=>M+Q.price,0),p=A.analyses.reduce((M,Q)=>M+Q.price*Q.tva/100,0),m=N+p,w=m*(A.billing.discount/100),U=m-w-A.billing.advancePayment;let D;if(A.patient.cnssNumber)try{const M=await So.getPatients({cnssNumber:A.patient.cnssNumber}),Q=M.patients||M||[];if(Q.length>0){const j=Q[0];if(D=j.id,j.firstName!==A.patient.firstName||j.lastName!==A.patient.lastName||(j.gender||"")!==A.patient.gender||(j.phone||"")!==A.patient.phone||(j.email||"")!==A.patient.email||(j.address||"")!==A.patient.address||(j.dateOfBirth?j.dateOfBirth.slice(0,10):"")!==A.patient.dateOfBirth)try{await So.updatePatient(j.id,{firstName:A.patient.firstName,lastName:A.patient.lastName,dateOfBirth:new Date(A.patient.dateOfBirth).toISOString(),gender:A.patient.gender,phone:A.patient.phone,email:A.patient.email,cnssNumber:A.patient.cnssNumber,address:A.patient.address})}catch{console.warn("Patient update failed, proceeding with existing data")}}else D=(await So.createPatient({firstName:A.patient.firstName,lastName:A.patient.lastName,dateOfBirth:new Date(A.patient.dateOfBirth).toISOString(),gender:A.patient.gender,phone:A.patient.phone,email:A.patient.email,cnssNumber:A.patient.cnssNumber,address:A.patient.address})).id}catch{D=(await So.createPatient({firstName:A.patient.firstName,lastName:A.patient.lastName,dateOfBirth:new Date(A.patient.dateOfBirth).toISOString(),gender:A.patient.gender,phone:A.patient.phone,email:A.patient.email,cnssNumber:A.patient.cnssNumber,address:A.patient.address})).id}else D=(await So.createPatient({firstName:A.patient.firstName,lastName:A.patient.lastName,dateOfBirth:new Date(A.patient.dateOfBirth).toISOString(),gender:A.patient.gender,phone:A.patient.phone,email:A.patient.email,address:A.patient.address})).id;const F=A.analyses.map(M=>({analysisId:M.id,price:M.price,tva:M.tva})),C={patientId:D,doctorId:A.doctor.id||void 0,appointmentDate:new Date(A.appointment.date).toISOString(),appointmentTime:A.appointment.time,sampleType:A.appointment.sampleType,tubeType:A.appointment.tubeType,urgent:A.appointment.urgency==="URGENT"||A.appointment.urgency==="EMERGENCY",discount:A.billing.discount,advancePayment:A.billing.advancePayment,notes:A.appointment.notes+(A.billing.notes?`
Billing: ${A.billing.notes}`:""),analyses:F},K=await RA.createRequest(C);alert(e==="fr"?"Demande cre avec succs!":"Request created successfully!");try{if(window.confirm(e==="fr"?"Imprimer le reu patient ?":"Print patient receipt?")){const{printReceipt:z}=await vA(()=>import("./printing-cfcc767e.js"),[]);z(K,{amountPaid:A.billing.advancePayment,paymentMethod:A.billing.payer})}if(window.confirm(e==="fr"?"Imprimer la fiche de prlvement ?":"Print collection sheet?")){const{printCollectionSheet:z}=await vA(()=>import("./printing-cfcc767e.js"),[]);z(K)}if(window.confirm(e==="fr"?"Imprimer les tiquettes des tubes ?":"Print tube labels?")){const{printTubeLabels:z}=await vA(()=>import("./printing-cfcc767e.js"),[]);z(K)}if(window.confirm(e==="fr"?"Imprimer le bordereau de routage interne ?":"Print internal routing slip?")){const{printRoutingSlip:z}=await vA(()=>import("./printing-cfcc767e.js"),[]);z(K)}}catch(M){console.warn("Printing flow error",M)}t("/requests")}catch(N){console.error("Error submitting request:",N),alert(e==="fr"?"Erreur lors de la cration de la demande":"Error creating request")}finally{i(!1)}},v=()=>{switch(a){case 1:return r.jsx(T3,{data:A.patient,updateData:(N,p)=>u("patient",N,p),language:e});case 2:return r.jsx(R3,{data:A.analyses,prescription:A.prescription,updateData:N=>c("analyses",N),updatePrescription:N=>c("prescription",N),language:e});case 3:return r.jsx(H3,{data:A.doctor,updateData:(N,p)=>u("doctor",N,p),language:e});case 4:return r.jsx(M3,{data:A.appointment,updateData:(N,p)=>u("appointment",N,p),language:e});case 5:return r.jsx(O3,{data:A.billing,analyses:A.analyses,updateData:(N,p)=>u("billing",N,p),language:e});case 6:return r.jsx(_3,{data:A,language:e});default:return null}},y=()=>{switch(a){case 1:return A.patient.firstName&&A.patient.lastName&&A.patient.dateOfBirth&&A.patient.phone;case 2:return A.analyses.length>0;case 3:return A.doctor.id||A.doctor.firstName&&A.doctor.lastName;case 4:return A.appointment.date&&A.appointment.time;case 5:return!0;case 6:return!0;default:return!1}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("button",{onClick:()=>t("/requests"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mr-4",children:[r.jsx(DA,{size:20,className:"mr-2"}),l.back]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:l.title}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l.subtitle})]})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l.step," ",a," ",l.of," ",Pu.length]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:e==="fr"?"Progression":"Progress"}),r.jsx("nav",{className:"space-y-2",children:Pu.map((N,p)=>{const m=N.icon,w=a===N.id,E=a>N.id;return r.jsxs("div",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-colors ${w?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700":E?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700":"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600"}`,onClick:()=>s(N.id),children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full mr-3",children:E?r.jsx(Wt,{size:20,className:"text-green-600 dark:text-green-400"}):r.jsx(m,{size:20,className:w?"text-blue-600 dark:text-blue-400":"text-gray-400"})}),r.jsx("span",{className:`text-sm font-medium ${w?"text-blue-900 dark:text-blue-100":E?"text-green-900 dark:text-green-100":"text-gray-600 dark:text-gray-400"}`,children:N.title})]},N.id)})})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"p-6",children:v()}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsxs("button",{onClick:x,disabled:a===1,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(DA,{size:16,className:"mr-2"}),l.back]}),r.jsx("div",{className:"flex items-center space-x-3",children:a<Pu.length?r.jsxs("button",{onClick:h,disabled:!y(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.next,r.jsx(Ah,{size:16,className:"ml-2"})]}):r.jsx("button",{onClick:g,disabled:!y()||n,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),l.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),l.submit]})})})]})]})})]})})]})}function Qt(e){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(e)}var na=Uint8Array,qa=Uint16Array,qx=Int32Array,zh=new na([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vh=new na([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),np=new na([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),y5=function(e,t){for(var a=new qa(31),s=0;s<31;++s)a[s]=t+=1<<e[s-1];for(var n=new qx(a[30]),s=1;s<30;++s)for(var i=a[s];i<a[s+1];++i)n[i]=i-a[s]<<5|s;return{b:a,r:n}},b5=y5(zh,2),w5=b5.b,ip=b5.r;w5[28]=258,ip[258]=28;var v5=y5(Vh,0),q3=v5.b,sw=v5.r,Ap=new qa(32768);for(var Kt=0;Kt<32768;++Kt){var hi=(Kt&43690)>>1|(Kt&21845)<<1;hi=(hi&52428)>>2|(hi&13107)<<2,hi=(hi&61680)>>4|(hi&3855)<<4,Ap[Kt]=((hi&65280)>>8|(hi&255)<<8)>>1}var pn=function(e,t,a){for(var s=e.length,n=0,i=new qa(t);n<s;++n)e[n]&&++i[e[n]-1];var A=new qa(t);for(n=1;n<t;++n)A[n]=A[n-1]+i[n-1]<<1;var o;if(a){o=new qa(1<<t);var l=15-t;for(n=0;n<s;++n)if(e[n])for(var c=n<<4|e[n],u=t-e[n],h=A[e[n]-1]++<<u,x=h|(1<<u)-1;h<=x;++h)o[Ap[h]>>l]=c}else for(o=new qa(s),n=0;n<s;++n)e[n]&&(o[n]=Ap[A[e[n]-1]++]>>15-e[n]);return o},zi=new na(288);for(var Kt=0;Kt<144;++Kt)zi[Kt]=8;for(var Kt=144;Kt<256;++Kt)zi[Kt]=9;for(var Kt=256;Kt<280;++Kt)zi[Kt]=7;for(var Kt=280;Kt<288;++Kt)zi[Kt]=8;var ud=new na(32);for(var Kt=0;Kt<32;++Kt)ud[Kt]=5;var z3=pn(zi,9,0),V3=pn(zi,9,1),G3=pn(ud,5,0),W3=pn(ud,5,1),Ef=function(e){for(var t=e[0],a=1;a<e.length;++a)e[a]>t&&(t=e[a]);return t},Fs=function(e,t,a){var s=t/8|0;return(e[s]|e[s+1]<<8)>>(t&7)&a},Qf=function(e,t){var a=t/8|0;return(e[a]|e[a+1]<<8|e[a+2]<<16)>>(t&7)},zx=function(e){return(e+7)/8|0},B5=function(e,t,a){return(t==null||t<0)&&(t=0),(a==null||a>e.length)&&(a=e.length),new na(e.subarray(t,a))},$3=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ls=function(e,t,a){var s=new Error(t||$3[e]);if(s.code=e,Error.captureStackTrace&&Error.captureStackTrace(s,Ls),!a)throw s;return s},J3=function(e,t,a,s){var n=e.length,i=s?s.length:0;if(!n||t.f&&!t.l)return a||new na(0);var A=!a,o=A||t.i!=2,l=t.i;A&&(a=new na(n*3));var c=function(ke){var Qe=a.length;if(ke>Qe){var Ee=new na(Math.max(Qe*2,ke));Ee.set(a),a=Ee}},u=t.f||0,h=t.p||0,x=t.b||0,g=t.l,v=t.d,y=t.m,N=t.n,p=n*8;do{if(!g){u=Fs(e,h,1);var m=Fs(e,h+1,3);if(h+=3,m)if(m==1)g=V3,v=W3,y=9,N=5;else if(m==2){var D=Fs(e,h,31)+257,F=Fs(e,h+10,15)+4,C=D+Fs(e,h+5,31)+1;h+=14;for(var K=new na(C),M=new na(19),Q=0;Q<F;++Q)M[np[Q]]=Fs(e,h+Q*3,7);h+=F*3;for(var j=Ef(M),T=(1<<j)-1,z=pn(M,j,1),Q=0;Q<C;){var H=z[Fs(e,h,T)];h+=H&15;var w=H>>4;if(w<16)K[Q++]=w;else{var S=0,X=0;for(w==16?(X=3+Fs(e,h,3),h+=2,S=K[Q-1]):w==17?(X=3+Fs(e,h,7),h+=3):w==18&&(X=11+Fs(e,h,127),h+=7);X--;)K[Q++]=S}}var q=K.subarray(0,D),te=K.subarray(D);y=Ef(q),N=Ef(te),g=pn(q,y,1),v=pn(te,N,1)}else Ls(1);else{var w=zx(h)+4,E=e[w-4]|e[w-3]<<8,U=w+E;if(U>n){l&&Ls(0);break}o&&c(x+E),a.set(e.subarray(w,U),x),t.b=x+=E,t.p=h=U*8,t.f=u;continue}if(h>p){l&&Ls(0);break}}o&&c(x+131072);for(var ie=(1<<y)-1,pe=(1<<N)-1,R=h;;R=h){var S=g[Qf(e,h)&ie],$=S>>4;if(h+=S&15,h>p){l&&Ls(0);break}if(S||Ls(2),$<256)a[x++]=$;else if($==256){R=h,g=null;break}else{var Y=$-254;if($>264){var Q=$-257,re=zh[Q];Y=Fs(e,h,(1<<re)-1)+w5[Q],h+=re}var ee=v[Qf(e,h)&pe],se=ee>>4;ee||Ls(3),h+=ee&15;var te=q3[se];if(se>3){var re=Vh[se];te+=Qf(e,h)&(1<<re)-1,h+=re}if(h>p){l&&Ls(0);break}o&&c(x+131072);var ae=x+Y;if(x<te){var de=i-te,Be=Math.min(te,ae);for(de+x<0&&Ls(3);x<Be;++x)a[x]=s[de+x]}for(;x<ae;++x)a[x]=a[x-te]}}t.l=g,t.p=R,t.b=x,t.f=u,g&&(u=1,t.m=y,t.d=v,t.n=N)}while(!u);return x!=a.length&&A?B5(a,0,x):a.subarray(0,x)},Un=function(e,t,a){a<<=t&7;var s=t/8|0;e[s]|=a,e[s+1]|=a>>8},dc=function(e,t,a){a<<=t&7;var s=t/8|0;e[s]|=a,e[s+1]|=a>>8,e[s+2]|=a>>16},Uf=function(e,t){for(var a=[],s=0;s<e.length;++s)e[s]&&a.push({s,f:e[s]});var n=a.length,i=a.slice();if(!n)return{t:k5,l:0};if(n==1){var A=new na(a[0].s+1);return A[a[0].s]=1,{t:A,l:1}}a.sort(function(U,D){return U.f-D.f}),a.push({s:-1,f:25001});var o=a[0],l=a[1],c=0,u=1,h=2;for(a[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=n-1;)o=a[a[c].f<a[h].f?c++:h++],l=a[c!=u&&a[c].f<a[h].f?c++:h++],a[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var x=i[0].s,s=1;s<n;++s)i[s].s>x&&(x=i[s].s);var g=new qa(x+1),v=op(a[u-1],g,0);if(v>t){var s=0,y=0,N=v-t,p=1<<N;for(i.sort(function(D,F){return g[F.s]-g[D.s]||D.f-F.f});s<n;++s){var m=i[s].s;if(g[m]>t)y+=p-(1<<v-g[m]),g[m]=t;else break}for(y>>=N;y>0;){var w=i[s].s;g[w]<t?y-=1<<t-g[w]++-1:++s}for(;s>=0&&y;--s){var E=i[s].s;g[E]==t&&(--g[E],++y)}v=t}return{t:new na(g),l:v}},op=function(e,t,a){return e.s==-1?Math.max(op(e.l,t,a+1),op(e.r,t,a+1)):t[e.s]=a},nw=function(e){for(var t=e.length;t&&!e[--t];);for(var a=new qa(++t),s=0,n=e[0],i=1,A=function(l){a[s++]=l},o=1;o<=t;++o)if(e[o]==n&&o!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)A(32754);i>2&&(A(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(A(n),--i;i>6;i-=6)A(8304);i>2&&(A(i-3<<5|8208),i=0)}for(;i--;)A(n);i=1,n=e[o]}return{c:a.subarray(0,s),n:t}},uc=function(e,t){for(var a=0,s=0;s<t.length;++s)a+=e[s]*t[s];return a},N5=function(e,t,a){var s=a.length,n=zx(t+2);e[n]=s&255,e[n+1]=s>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var i=0;i<s;++i)e[n+i+4]=a[i];return(n+4+s)*8},iw=function(e,t,a,s,n,i,A,o,l,c,u){Un(t,u++,a),++n[256];for(var h=Uf(n,15),x=h.t,g=h.l,v=Uf(i,15),y=v.t,N=v.l,p=nw(x),m=p.c,w=p.n,E=nw(y),U=E.c,D=E.n,F=new qa(19),C=0;C<m.length;++C)++F[m[C]&31];for(var C=0;C<U.length;++C)++F[U[C]&31];for(var K=Uf(F,7),M=K.t,Q=K.l,j=19;j>4&&!M[np[j-1]];--j);var T=c+5<<3,z=uc(n,zi)+uc(i,ud)+A,H=uc(n,x)+uc(i,y)+A+14+3*j+uc(F,M)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&T<=z&&T<=H)return N5(t,u,e.subarray(l,l+c));var S,X,q,te;if(Un(t,u,1+(H<z)),u+=2,H<z){S=pn(x,g,0),X=x,q=pn(y,N,0),te=y;var ie=pn(M,Q,0);Un(t,u,w-257),Un(t,u+5,D-1),Un(t,u+10,j-4),u+=14;for(var C=0;C<j;++C)Un(t,u+3*C,M[np[C]]);u+=3*j;for(var pe=[m,U],R=0;R<2;++R)for(var $=pe[R],C=0;C<$.length;++C){var Y=$[C]&31;Un(t,u,ie[Y]),u+=M[Y],Y>15&&(Un(t,u,$[C]>>5&127),u+=$[C]>>12)}}else S=z3,X=zi,q=G3,te=ud;for(var C=0;C<o;++C){var re=s[C];if(re>255){var Y=re>>18&31;dc(t,u,S[Y+257]),u+=X[Y+257],Y>7&&(Un(t,u,re>>23&31),u+=zh[Y]);var ee=re&31;dc(t,u,q[ee]),u+=te[ee],ee>3&&(dc(t,u,re>>5&8191),u+=Vh[ee])}else dc(t,u,S[re]),u+=X[re]}return dc(t,u,S[256]),u+X[256]},X3=new qx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),k5=new na(0),Y3=function(e,t,a,s,n,i){var A=i.z||e.length,o=new na(s+A+5*(1+Math.ceil(A/7e3))+n),l=o.subarray(s,o.length-n),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var h=X3[t-1],x=h>>13,g=h&8191,v=(1<<a)-1,y=i.p||new qa(32768),N=i.h||new qa(v+1),p=Math.ceil(a/3),m=2*p,w=function(Je){return(e[Je]^e[Je+1]<<p^e[Je+2]<<m)&v},E=new qx(25e3),U=new qa(288),D=new qa(32),F=0,C=0,K=i.i||0,M=0,Q=i.w||0,j=0;K+2<A;++K){var T=w(K),z=K&32767,H=N[T];if(y[z]=H,N[T]=z,Q<=K){var S=A-K;if((F>7e3||M>24576)&&(S>423||!c)){u=iw(e,l,0,E,U,D,C,M,j,K-j,u),M=F=C=0,j=K;for(var X=0;X<286;++X)U[X]=0;for(var X=0;X<30;++X)D[X]=0}var q=2,te=0,ie=g,pe=z-H&32767;if(S>2&&T==w(K-pe))for(var R=Math.min(x,S)-1,$=Math.min(32767,K),Y=Math.min(258,S);pe<=$&&--ie&&z!=H;){if(e[K+q]==e[K+q-pe]){for(var re=0;re<Y&&e[K+re]==e[K+re-pe];++re);if(re>q){if(q=re,te=pe,re>R)break;for(var ee=Math.min(pe,re-2),se=0,X=0;X<ee;++X){var ae=K-pe+X&32767,de=y[ae],Be=ae-de&32767;Be>se&&(se=Be,H=ae)}}}z=H,H=y[z],pe+=z-H&32767}if(te){E[M++]=268435456|ip[q]<<18|sw[te];var ke=ip[q]&31,Qe=sw[te]&31;C+=zh[ke]+Vh[Qe],++U[257+ke],++D[Qe],Q=K+q,++F}else E[M++]=e[K],++U[e[K]]}}for(K=Math.max(K,Q);K<A;++K)E[M++]=e[K],++U[e[K]];u=iw(e,l,c,E,U,D,C,M,j,K-j,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=N,i.p=y,i.i=K,i.w=Q)}else{for(var K=i.w||0;K<A+c;K+=65535){var Ee=K+65535;Ee>=A&&(l[u/8|0]=c,Ee=A),u=N5(l,u+1,e.subarray(K,Ee))}i.i=A}return B5(o,0,s+zx(u)+n)},j5=function(){var e=1,t=0;return{p:function(a){for(var s=e,n=t,i=a.length|0,A=0;A!=i;){for(var o=Math.min(A+2655,i);A<o;++A)n+=s+=a[A];s=(s&65535)+15*(s>>16),n=(n&65535)+15*(n>>16)}e=s,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Z3=function(e,t,a,s,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),A=new na(i.length+e.length);A.set(i),A.set(e,i.length),e=A,n.w=i.length}return Y3(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,a,s,n)},C5=function(e,t,a){for(;a;++t)e[t]=a,a>>>=8},e6=function(e,t){var a=t.level,s=a==0?0:a<6?1:a==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=j5();n.p(t.dictionary),C5(e,2,n.d())}},t6=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ls(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Ls(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function lp(e,t){t||(t={});var a=j5();a.p(e);var s=Z3(e,t,t.dictionary?6:2,4);return e6(s,t),C5(s,s.length-4,a.d()),s}function r6(e,t){return J3(e.subarray(t6(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var a6=typeof TextDecoder<"u"&&new TextDecoder,s6=0;try{a6.decode(k5,{stream:!0}),s6=1}catch{}var et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Lf(){et.console&&typeof et.console.log=="function"&&et.console.log.apply(et.console,arguments)}var Tt={log:Lf,warn:function(e){et.console&&(typeof et.console.warn=="function"?et.console.warn.apply(et.console,arguments):Lf.call(null,arguments))},error:function(e){et.console&&(typeof et.console.error=="function"?et.console.error.apply(et.console,arguments):Lf(e))}};function If(e,t,a){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){mA(s.response,t,a)},s.onerror=function(){Tt.error("could not download file")},s.send()}function Aw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Du(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Mc,cp,mA=et.saveAs||((typeof window>"u"?"undefined":Qt(window))!=="object"||window!==et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,a){var s=et.URL||et.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?Aw(n.href)?If(e,t,a):Du(n,n.target="_blank"):Du(n)):(n.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(n.href)},4e4),setTimeout(function(){Du(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download",typeof e=="string")if(Aw(e))If(e,t,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){Du(s)})}else navigator.msSaveOrOpenBlob(function(n,i){return i===void 0?i={autoBom:!1}:Qt(i)!=="object"&&(Tt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n}(e,a),t)}:function(e,t,a,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return If(e,t,a);var n=e.type==="application/octet-stream",i=/constructor/i.test(et.HTMLElement)||et.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||n&&i)&&(typeof FileReader>"u"?"undefined":Qt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=A?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},o.readAsDataURL(e)}else{var l=et.URL||et.webkitURL,c=l.createObjectURL(e);s?s.location=c:location.href=c,s=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function S5(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],s=0;s<a.length;s++){var n=a[s].re,i=a[s].process,A=n.exec(e);A&&(t=i(A),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Pf(e,t){var a=e[0],s=e[1],n=e[2],i=e[3];a=Xr(a,s,n,i,t[0],7,-680876936),i=Xr(i,a,s,n,t[1],12,-389564586),n=Xr(n,i,a,s,t[2],17,606105819),s=Xr(s,n,i,a,t[3],22,-1044525330),a=Xr(a,s,n,i,t[4],7,-176418897),i=Xr(i,a,s,n,t[5],12,1200080426),n=Xr(n,i,a,s,t[6],17,-1473231341),s=Xr(s,n,i,a,t[7],22,-45705983),a=Xr(a,s,n,i,t[8],7,1770035416),i=Xr(i,a,s,n,t[9],12,-1958414417),n=Xr(n,i,a,s,t[10],17,-42063),s=Xr(s,n,i,a,t[11],22,-1990404162),a=Xr(a,s,n,i,t[12],7,1804603682),i=Xr(i,a,s,n,t[13],12,-40341101),n=Xr(n,i,a,s,t[14],17,-1502002290),a=Yr(a,s=Xr(s,n,i,a,t[15],22,1236535329),n,i,t[1],5,-165796510),i=Yr(i,a,s,n,t[6],9,-1069501632),n=Yr(n,i,a,s,t[11],14,643717713),s=Yr(s,n,i,a,t[0],20,-373897302),a=Yr(a,s,n,i,t[5],5,-701558691),i=Yr(i,a,s,n,t[10],9,38016083),n=Yr(n,i,a,s,t[15],14,-660478335),s=Yr(s,n,i,a,t[4],20,-405537848),a=Yr(a,s,n,i,t[9],5,568446438),i=Yr(i,a,s,n,t[14],9,-1019803690),n=Yr(n,i,a,s,t[3],14,-187363961),s=Yr(s,n,i,a,t[8],20,1163531501),a=Yr(a,s,n,i,t[13],5,-1444681467),i=Yr(i,a,s,n,t[2],9,-51403784),n=Yr(n,i,a,s,t[7],14,1735328473),a=Zr(a,s=Yr(s,n,i,a,t[12],20,-1926607734),n,i,t[5],4,-378558),i=Zr(i,a,s,n,t[8],11,-2022574463),n=Zr(n,i,a,s,t[11],16,1839030562),s=Zr(s,n,i,a,t[14],23,-35309556),a=Zr(a,s,n,i,t[1],4,-1530992060),i=Zr(i,a,s,n,t[4],11,1272893353),n=Zr(n,i,a,s,t[7],16,-155497632),s=Zr(s,n,i,a,t[10],23,-1094730640),a=Zr(a,s,n,i,t[13],4,681279174),i=Zr(i,a,s,n,t[0],11,-358537222),n=Zr(n,i,a,s,t[3],16,-722521979),s=Zr(s,n,i,a,t[6],23,76029189),a=Zr(a,s,n,i,t[9],4,-640364487),i=Zr(i,a,s,n,t[12],11,-421815835),n=Zr(n,i,a,s,t[15],16,530742520),a=ea(a,s=Zr(s,n,i,a,t[2],23,-995338651),n,i,t[0],6,-198630844),i=ea(i,a,s,n,t[7],10,1126891415),n=ea(n,i,a,s,t[14],15,-1416354905),s=ea(s,n,i,a,t[5],21,-57434055),a=ea(a,s,n,i,t[12],6,1700485571),i=ea(i,a,s,n,t[3],10,-1894986606),n=ea(n,i,a,s,t[10],15,-1051523),s=ea(s,n,i,a,t[1],21,-2054922799),a=ea(a,s,n,i,t[8],6,1873313359),i=ea(i,a,s,n,t[15],10,-30611744),n=ea(n,i,a,s,t[6],15,-1560198380),s=ea(s,n,i,a,t[13],21,1309151649),a=ea(a,s,n,i,t[4],6,-145523070),i=ea(i,a,s,n,t[11],10,-1120210379),n=ea(n,i,a,s,t[2],15,718787259),s=ea(s,n,i,a,t[9],21,-343485551),e[0]=ki(a,e[0]),e[1]=ki(s,e[1]),e[2]=ki(n,e[2]),e[3]=ki(i,e[3])}function Gh(e,t,a,s,n,i){return t=ki(ki(t,e),ki(s,i)),ki(t<<n|t>>>32-n,a)}function Xr(e,t,a,s,n,i,A){return Gh(t&a|~t&s,e,t,n,i,A)}function Yr(e,t,a,s,n,i,A){return Gh(t&s|a&~s,e,t,n,i,A)}function Zr(e,t,a,s,n,i,A){return Gh(t^a^s,e,t,n,i,A)}function ea(e,t,a,s,n,i,A){return Gh(a^(t|~s),e,t,n,i,A)}function F5(e){var t,a=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Pf(s,n6(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(Pf(s,n),t=0;t<16;t++)n[t]=0;return n[14]=8*a,Pf(s,n),s}function n6(e){var t,a=[];for(t=0;t<64;t+=4)a[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return a}Mc=et.atob.bind(et),cp=et.btoa.bind(et);var ow="0123456789abcdef".split("");function i6(e){for(var t="",a=0;a<4;a++)t+=ow[e>>8*a+4&15]+ow[e>>8*a&15];return t}function A6(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function dp(e){return F5(e).map(A6).join("")}var o6=function(e){for(var t=0;t<e.length;t++)e[t]=i6(e[t]);return e.join("")}(F5("hello"))!="5d41402abc4b2a76b9719d911017c592";function ki(e,t){if(o6){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function up(e,t){var a,s,n,i;if(e!==a){for(var A=(n=e,i=1+(256/e.length>>0),new Array(i+1).join(n)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+A.charCodeAt(l))%256,o[l]=o[c],o[c]=u}a=e,s=o}else o=s;var h=t.length,x=0,g=0,v="";for(l=0;l<h;l++)g=(g+(u=o[x=(x+1)%256]))%256,o[x]=o[g],o[g]=u,A=o[(o[x]+o[g])%256],v+=String.fromCharCode(t.charCodeAt(l)^A);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lw={print:4,modify:8,copy:16,"annot-forms":32};function Fo(e,t,a,s){this.v=1,this.r=2;var n=192;e.forEach(function(o){if(lw.perm!==void 0)throw new Error("Invalid permission: "+o);n+=lw[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),A=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,A),this.P=-(1+(255^n)),this.encryptionKey=dp(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=up(this.encryptionKey,this.padding)}function Eo(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",a=e.length,s=0;s<a;s++){var n=e.charCodeAt(s);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?t+="#"+("0"+n.toString(16)).slice(-2):t+=e[s]}return t}function cw(e){if(Qt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(a,s,n){if(n=n||!1,typeof a!="string"||typeof s!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(a)||(t[a]={});var i=Math.random().toString(35);return t[a][i]=[s,!!n],i},this.unsubscribe=function(a){for(var s in t)if(t[s][a])return delete t[s][a],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(a){if(t.hasOwnProperty(a)){var s=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[a]){var A=t[a][i];try{A[0].apply(e,s)}catch(o){et.console&&Tt.error("jsPDF PubSub Error",o.message,o)}A[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ch(e){if(!(this instanceof ch))return new ch(e);var t="opacity,stroke-opacity".split(",");for(var a in e)e.hasOwnProperty(a)&&t.indexOf(a)>=0&&(this[a]=e[a]);this.id="",this.objectNumber=-1}function E5(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function pA(e,t,a,s,n){if(!(this instanceof pA))return new pA(e,t,a,s,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=a,E5.call(this,s,n)}function zo(e,t,a,s,n){if(!(this instanceof zo))return new zo(e,t,a,s,n);this.boundingBox=e,this.xStep=t,this.yStep=a,this.stream="",this.cloneIndex=0,E5.call(this,s,n)}function Ze(e){var t,a=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],n=arguments[2],i=arguments[3],A=[],o=1,l=16,c="S",u=null;Qt(e=e||{})==="object"&&(a=e.orientation,s=e.unit||s,n=e.format||n,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),A=e.filters||(i===!0?["FlateEncode"]:A),s=s||"mm",a=(""+(a||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=cw;var v="1.3",y=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(b){v=b};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var p=g.__private__.getPageFormat=function(b){return N[b]};n=n||"a4";var m={COMPAT:"compat",ADVANCED:"advanced"},w=m.COMPAT;function E(){this.saveGraphicsState(),G(new Ye(Re,0,0,-Re,0,ei()*Re).toString()+" cm"),this.setFontSize(this.getFontSize()/Re),c="n",w=m.ADVANCED}function U(){this.restoreGraphicsState(),c="S",w=m.COMPAT}var D=g.__private__.combineFontStyleAndFontWeight=function(b,P){if(b=="bold"&&P=="normal"||b=="bold"&&P==400||b=="normal"&&P=="italic"||b=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(b=P==400||P==="normal"?b==="italic"?"italic":"normal":P!=700&&P!=="bold"||b!=="normal"?(P==700?"bold":P)+""+b:"bold"),b};g.advancedAPI=function(b){var P=w===m.COMPAT;return P&&E.call(this),typeof b!="function"||(b(this),P&&U.call(this)),this},g.compatAPI=function(b){var P=w===m.ADVANCED;return P&&U.call(this),typeof b!="function"||(b(this),P&&E.call(this)),this},g.isAdvancedAPI=function(){return w===m.ADVANCED};var F,C=function(b){if(w!==m.ADVANCED)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=g.roundToPrecision=g.__private__.roundToPrecision=function(b,P){var Z=t||P;if(isNaN(b)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(Z).replace(/0+$/,"")};F=g.hpf=g.__private__.hpf=typeof l=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return K(b,l)}:l==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return K(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return K(b,16)};var M=g.f2=g.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return K(b,2)},Q=g.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return K(b,3)},j=g.scale=g.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return w===m.COMPAT?b*Re:w===m.ADVANCED?b:void 0},T=function(b){return w===m.COMPAT?ei()-b:w===m.ADVANCED?b:void 0},z=function(b){return j(T(b))};g.__private__.setPrecision=g.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(t=parseInt(b,10))};var H,S="00000000000000000000000000000000",X=g.__private__.getFileId=function(){return S},q=g.__private__.setFileId=function(b){return S=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():S.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Gr=new Fo(u.userPermissions,u.userPassword,u.ownerPassword,S)),S};g.setFileId=function(b){return q(b),this},g.getFileId=function(){return X()};var te=g.__private__.convertDateToPDFDate=function(b){var P=b.getTimezoneOffset(),Z=P<0?"+":"-",ne=Math.floor(Math.abs(P/60)),ue=Math.abs(P%60),xe=[Z,Y(ne),"'",Y(ue),"'"].join("");return["D:",b.getFullYear(),Y(b.getMonth()+1),Y(b.getDate()),Y(b.getHours()),Y(b.getMinutes()),Y(b.getSeconds()),xe].join("")},ie=g.__private__.convertPDFDateToDate=function(b){var P=parseInt(b.substr(2,4),10),Z=parseInt(b.substr(6,2),10)-1,ne=parseInt(b.substr(8,2),10),ue=parseInt(b.substr(10,2),10),xe=parseInt(b.substr(12,2),10),je=parseInt(b.substr(14,2),10);return new Date(P,Z,ne,ue,xe,je,0)},pe=g.__private__.setCreationDate=function(b){var P;if(b===void 0&&(b=new Date),b instanceof Date)P=te(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=b}return H=P},R=g.__private__.getCreationDate=function(b){var P=H;return b==="jsDate"&&(P=ie(H)),P};g.setCreationDate=function(b){return pe(b),this},g.getCreationDate=function(b){return R(b)};var $,Y=g.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},re=g.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},ee=0,se=[],ae=[],de=0,Be=[],ke=[],Qe=!1,Ee=ae,Je=function(){ee=0,de=0,ae=[],se=[],Be=[],vn=pr(),bs=pr()};g.__private__.setCustomOutputDestination=function(b){Qe=!0,Ee=b};var ye=function(b){Qe||(Ee=b)};g.__private__.resetCustomOutputDestination=function(){Qe=!1,Ee=ae};var G=g.__private__.out=function(b){return b=b.toString(),de+=b.length+1,Ee.push(b),Ee},_e=g.__private__.write=function(b){return G(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},Ue=g.__private__.getArrayBuffer=function(b){for(var P=b.length,Z=new ArrayBuffer(P),ne=new Uint8Array(Z);P--;)ne[P]=b.charCodeAt(P);return Z},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ce};var Fe=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(b){return Fe=w===m.ADVANCED?b/Re:b,this};var Te,Ie=g.__private__.getFontSize=g.getFontSize=function(){return w===m.COMPAT?Fe:Fe*Re},Ge=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(b){return Ge=b,this},g.__private__.getR2L=g.getR2L=function(){return Ge};var tt,at=g.__private__.setZoomMode=function(b){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))Te=b;else if(isNaN(b)){if(P.indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');Te=b}else Te=parseInt(b,10)};g.__private__.getZoomMode=function(){return Te};var dt,ft=g.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');tt=b};g.__private__.getPageMode=function(){return tt};var vt=g.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');dt=b};g.__private__.getLayoutMode=function(){return dt},g.__private__.setDisplayMode=g.setDisplayMode=function(b,P,Z){return at(b),vt(P),ft(Z),this};var Xe={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(b){if(Object.keys(Xe).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xe[b]},g.__private__.getDocumentProperties=function(){return Xe},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(b){for(var P in Xe)Xe.hasOwnProperty(P)&&b[P]&&(Xe[P]=b[P]);return this},g.__private__.setDocumentProperty=function(b,P){if(Object.keys(Xe).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xe[b]=P};var ut,Re,Vr,wt,ps,Pt={},zt={},$s=[],jt={},Yi={},tr={},xs={},wn=null,rr=0,st=[],Ct=new cw(g),Zi=e.hotfixes||[],Tr={},Js={},Xs=[],Ye=function b(P,Z,ne,ue,xe,je){if(!(this instanceof b))return new b(P,Z,ne,ue,xe,je);isNaN(P)&&(P=1),isNaN(Z)&&(Z=0),isNaN(ne)&&(ne=0),isNaN(ue)&&(ue=1),isNaN(xe)&&(xe=0),isNaN(je)&&(je=0),this._matrix=[P,Z,ne,ue,xe,je]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(b)},Ye.prototype.multiply=function(b){var P=b.sx*this.sx+b.shy*this.shx,Z=b.sx*this.shy+b.shy*this.sy,ne=b.shx*this.sx+b.sy*this.shx,ue=b.shx*this.shy+b.sy*this.sy,xe=b.tx*this.sx+b.ty*this.shx+this.tx,je=b.tx*this.shy+b.ty*this.sy+this.ty;return new Ye(P,Z,ne,ue,xe,je)},Ye.prototype.decompose=function(){var b=this.sx,P=this.shy,Z=this.shx,ne=this.sy,ue=this.tx,xe=this.ty,je=Math.sqrt(b*b+P*P),Me=(b/=je)*Z+(P/=je)*ne;Z-=b*Me,ne-=P*Me;var We=Math.sqrt(Z*Z+ne*ne);return Me/=We,b*(ne/=We)<P*(Z/=We)&&(b=-b,P=-P,Me=-Me,je=-je),{scale:new Ye(je,0,0,We,0,0),translate:new Ye(1,0,0,1,ue,xe),rotate:new Ye(b,P,-P,b,0,0),skew:new Ye(1,0,Me,1,0,0)}},Ye.prototype.toString=function(b){return this.join(" ")},Ye.prototype.inversed=function(){var b=this.sx,P=this.shy,Z=this.shx,ne=this.sy,ue=this.tx,xe=this.ty,je=1/(b*ne-P*Z),Me=ne*je,We=-P*je,ot=-Z*je,nt=b*je;return new Ye(Me,We,ot,nt,-Me*ue-ot*xe,-We*ue-nt*xe)},Ye.prototype.applyToPoint=function(b){var P=b.x*this.sx+b.y*this.shx+this.tx,Z=b.x*this.shy+b.y*this.sy+this.ty;return new ro(P,Z)},Ye.prototype.applyToRectangle=function(b){var P=this.applyToPoint(b),Z=this.applyToPoint(new ro(b.x+b.w,b.y+b.h));return new Tl(P.x,P.y,Z.x-P.x,Z.y-P.y)},Ye.prototype.clone=function(){var b=this.sx,P=this.shy,Z=this.shx,ne=this.sy,ue=this.tx,xe=this.ty;return new Ye(b,P,Z,ne,ue,xe)},g.Matrix=Ye;var ys=g.matrixMult=function(b,P){return P.multiply(b)},Ys=new Ye(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Ys;var ya=function(b,P){if(!Yi[b]){var Z=(P instanceof pA?"Sh":"P")+(Object.keys(jt).length+1).toString(10);P.id=Z,Yi[b]=Z,jt[Z]=P,Ct.publish("addPattern",P)}};g.ShadingPattern=pA,g.TilingPattern=zo,g.addShadingPattern=function(b,P){return C("addShadingPattern()"),ya(b,P),this},g.beginTilingPattern=function(b){C("beginTilingPattern()"),Vd(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},g.endTilingPattern=function(b,P){C("endTilingPattern()"),P.stream=ke[$].join(`
`),ya(b,P),Ct.publish("endTilingPattern",P),Xs.pop().restore()};var kr=g.__private__.newObject=function(){var b=pr();return Ia(b,!0),b},pr=g.__private__.newObjectDeferred=function(){return ee++,se[ee]=function(){return de},ee},Ia=function(b,P){return P=typeof P=="boolean"&&P,se[b]=de,P&&G(b+" 0 obj"),b},KA=g.__private__.newAdditionalObject=function(){var b={objId:pr(),content:""};return Be.push(b),b},vn=pr(),bs=pr(),ws=g.__private__.decodeColorString=function(b){var P=b.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var Z=parseFloat(P[0]);P=[Z,Z,Z,"r"]}for(var ne="#",ue=0;ue<3;ue++)ne+=("0"+Math.floor(255*parseFloat(P[ue])).toString(16)).slice(-2);return ne},vs=g.__private__.encodeColorString=function(b){var P;typeof b=="string"&&(b={ch1:b});var Z=b.ch1,ne=b.ch2,ue=b.ch3,xe=b.ch4,je=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var Me=new S5(Z);if(Me.ok)Z=Me.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var We=parseInt(Z.substr(1),16);Z=We>>16&255,ne=We>>8&255,ue=255&We}if(ne===void 0||xe===void 0&&Z===ne&&ne===ue)if(typeof Z=="string")P=Z+" "+je[0];else switch(b.precision){case 2:P=M(Z/255)+" "+je[0];break;case 3:default:P=Q(Z/255)+" "+je[0]}else if(xe===void 0||Qt(xe)==="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return P=["1.","1.","1.",je[1]].join(" ");if(typeof Z=="string")P=[Z,ne,ue,je[1]].join(" ");else switch(b.precision){case 2:P=[M(Z/255),M(ne/255),M(ue/255),je[1]].join(" ");break;default:case 3:P=[Q(Z/255),Q(ne/255),Q(ue/255),je[1]].join(" ")}}else if(typeof Z=="string")P=[Z,ne,ue,xe,je[2]].join(" ");else switch(b.precision){case 2:P=[M(Z),M(ne),M(ue),M(xe),je[2]].join(" ");break;case 3:default:P=[Q(Z),Q(ne),Q(ue),Q(xe),je[2]].join(" ")}return P},Zs=g.__private__.getFilters=function(){return A},Xa=g.__private__.putStream=function(b){var P=(b=b||{}).data||"",Z=b.filters||Zs(),ne=b.alreadyAppliedFilters||[],ue=b.addLength1||!1,xe=P.length,je=b.objectId,Me=function(Wr){return Wr};if(u!==null&&je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Me=Gr.encryptor(je,0));var We={};Z===!0&&(Z=["FlateEncode"]);var ot=b.additionalKeyValues||[],nt=(We=Ze.API.processDataByFilters!==void 0?Ze.API.processDataByFilters(P,Z):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ne)?ne.join(" "):ne.toString());if(We.data.length!==0&&(ot.push({key:"Length",value:We.data.length}),ue===!0&&ot.push({key:"Length1",value:xe})),nt.length!=0)if(nt.split("/").length-1==1)ot.push({key:"Filter",value:nt});else{ot.push({key:"Filter",value:"["+nt+"]"});for(var xt=0;xt<ot.length;xt+=1)if(ot[xt].key==="DecodeParms"){for(var $t=[],ar=0;ar<We.reverseChain.split("/").length-1;ar+=1)$t.push("null");$t.push(ot[xt].value),ot[xt].value="["+$t.join(" ")+"]"}}G("<<");for(var xr=0;xr<ot.length;xr++)G("/"+ot[xr].key+" "+ot[xr].value);G(">>"),We.data.length!==0&&(G("stream"),G(Me(We.data)),G("endstream"))},en=g.__private__.putPage=function(b){var P=b.number,Z=b.data,ne=b.objId,ue=b.contentsObjId;Ia(ne,!0),G("<</Type /Page"),G("/Parent "+b.rootDictionaryObjId+" 0 R"),G("/Resources "+b.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(F(b.mediaBox.bottomLeftX))+" "+parseFloat(F(b.mediaBox.bottomLeftY))+" "+F(b.mediaBox.topRightX)+" "+F(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&G("/CropBox ["+F(b.cropBox.bottomLeftX)+" "+F(b.cropBox.bottomLeftY)+" "+F(b.cropBox.topRightX)+" "+F(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&G("/BleedBox ["+F(b.bleedBox.bottomLeftX)+" "+F(b.bleedBox.bottomLeftY)+" "+F(b.bleedBox.topRightX)+" "+F(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&G("/TrimBox ["+F(b.trimBox.bottomLeftX)+" "+F(b.trimBox.bottomLeftY)+" "+F(b.trimBox.topRightX)+" "+F(b.trimBox.topRightY)+"]"),b.artBox!==null&&G("/ArtBox ["+F(b.artBox.bottomLeftX)+" "+F(b.artBox.bottomLeftY)+" "+F(b.artBox.topRightX)+" "+F(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&G("/UserUnit "+b.userUnit),Ct.publish("putPage",{objId:ne,pageContext:st[P],pageNumber:P,page:Z}),G("/Contents "+ue+" 0 R"),G(">>"),G("endobj");var xe=Z.join(`
`);return w===m.ADVANCED&&(xe+=`
Q`),Ia(ue,!0),Xa({data:xe,filters:Zs(),objectId:ue}),G("endobj"),ne},eA=g.__private__.putPages=function(){var b,P,Z=[];for(b=1;b<=rr;b++)st[b].objId=pr(),st[b].contentsObjId=pr();for(b=1;b<=rr;b++)Z.push(en({number:b,data:ke[b],objId:st[b].objId,contentsObjId:st[b].contentsObjId,mediaBox:st[b].mediaBox,cropBox:st[b].cropBox,bleedBox:st[b].bleedBox,trimBox:st[b].trimBox,artBox:st[b].artBox,userUnit:st[b].userUnit,rootDictionaryObjId:vn,resourceDictionaryObjId:bs}));Ia(vn,!0),G("<</Type /Pages");var ne="/Kids [";for(P=0;P<rr;P++)ne+=Z[P]+" 0 R ";G(ne+"]"),G("/Count "+rr),G(">>"),G("endobj"),Ct.publish("postPutPages")},qA=function(b){Ct.publish("putFont",{font:b,out:G,newObject:kr,putStream:Xa}),b.isAlreadyPutted!==!0&&(b.objectNumber=kr(),G("<<"),G("/Type /Font"),G("/BaseFont /"+Eo(b.postScriptName)),G("/Subtype /Type1"),typeof b.encoding=="string"&&G("/Encoding /"+b.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},zA=function(){for(var b in Pt)Pt.hasOwnProperty(b)&&(h===!1||h===!0&&x.hasOwnProperty(b))&&qA(Pt[b])},VA=function(b){b.objectNumber=kr();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[F(b.x),F(b.y),F(b.x+b.width),F(b.y+b.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var Z=b.pages[1].join(`
`);Xa({data:Z,additionalKeyValues:P,objectId:b.objectNumber}),G("endobj")},GA=function(){for(var b in Tr)Tr.hasOwnProperty(b)&&VA(Tr[b])},Sd=function(b,P){var Z,ne=[],ue=1/(P-1);for(Z=0;Z<1;Z+=ue)ne.push(Z);if(ne.push(1),b[0].offset!=0){var xe={offset:0,color:b[0].color};b.unshift(xe)}if(b[b.length-1].offset!=1){var je={offset:1,color:b[b.length-1].color};b.push(je)}for(var Me="",We=0,ot=0;ot<ne.length;ot++){for(Z=ne[ot];Z>b[We+1].offset;)We++;var nt=b[We].offset,xt=(Z-nt)/(b[We+1].offset-nt),$t=b[We].color,ar=b[We+1].color;Me+=re(Math.round((1-xt)*$t[0]+xt*ar[0]).toString(16))+re(Math.round((1-xt)*$t[1]+xt*ar[1]).toString(16))+re(Math.round((1-xt)*$t[2]+xt*ar[2]).toString(16))}return Me.trim()},dg=function(b,P){P||(P=21);var Z=kr(),ne=Sd(b.colors,P),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+P+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xa({data:ne,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),G("endobj"),b.objectNumber=kr(),G("<< /ShadingType "+b.type),G("/ColorSpace /DeviceRGB");var xe="/Coords ["+F(parseFloat(b.coords[0]))+" "+F(parseFloat(b.coords[1]))+" ";b.type===2?xe+=F(parseFloat(b.coords[2]))+" "+F(parseFloat(b.coords[3])):xe+=F(parseFloat(b.coords[2]))+" "+F(parseFloat(b.coords[3]))+" "+F(parseFloat(b.coords[4]))+" "+F(parseFloat(b.coords[5])),G(xe+="]"),b.matrix&&G("/Matrix ["+b.matrix.toString()+"]"),G("/Function "+Z+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},ug=function(b,P){var Z=pr(),ne=kr();P.push({resourcesOid:Z,objectOid:ne}),b.objectNumber=ne;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+b.boundingBox.map(F).join(" ")+"]"}),ue.push({key:"XStep",value:F(b.xStep)}),ue.push({key:"YStep",value:F(b.yStep)}),ue.push({key:"Resources",value:Z+" 0 R"}),b.matrix&&ue.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),Xa({data:b.stream,additionalKeyValues:ue,objectId:b.objectNumber}),G("endobj")},WA=function(b){var P;for(P in jt)jt.hasOwnProperty(P)&&(jt[P]instanceof pA?dg(jt[P]):jt[P]instanceof zo&&ug(jt[P],b))},Fd=function(b){for(var P in b.objectNumber=kr(),G("<<"),b)switch(P){case"opacity":G("/ca "+M(b[P]));break;case"stroke-opacity":G("/CA "+M(b[P]))}G(">>"),G("endobj")},hg=function(){var b;for(b in tr)tr.hasOwnProperty(b)&&Fd(tr[b])},Cl=function(){for(var b in G("/XObject <<"),Tr)Tr.hasOwnProperty(b)&&Tr[b].objectNumber>=0&&G("/"+b+" "+Tr[b].objectNumber+" 0 R");Ct.publish("putXobjectDict"),G(">>")},gg=function(){Gr.oid=kr(),G("<<"),G("/Filter /Standard"),G("/V "+Gr.v),G("/R "+Gr.r),G("/U <"+Gr.toHexString(Gr.U)+">"),G("/O <"+Gr.toHexString(Gr.O)+">"),G("/P "+Gr.P),G(">>"),G("endobj")},Ed=function(){for(var b in G("/Font <<"),Pt)Pt.hasOwnProperty(b)&&(h===!1||h===!0&&x.hasOwnProperty(b))&&G("/"+b+" "+Pt[b].objectNumber+" 0 R");G(">>")},fg=function(){if(Object.keys(jt).length>0){for(var b in G("/Shading <<"),jt)jt.hasOwnProperty(b)&&jt[b]instanceof pA&&jt[b].objectNumber>=0&&G("/"+b+" "+jt[b].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),G(">>")}},$A=function(b){if(Object.keys(jt).length>0){for(var P in G("/Pattern <<"),jt)jt.hasOwnProperty(P)&&jt[P]instanceof g.TilingPattern&&jt[P].objectNumber>=0&&jt[P].objectNumber<b&&G("/"+P+" "+jt[P].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),G(">>")}},mg=function(){if(Object.keys(tr).length>0){var b;for(b in G("/ExtGState <<"),tr)tr.hasOwnProperty(b)&&tr[b].objectNumber>=0&&G("/"+b+" "+tr[b].objectNumber+" 0 R");Ct.publish("putGStateDict"),G(">>")}},Ar=function(b){Ia(b.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ed(),fg(),$A(b.objectOid),mg(),Cl(),G(">>"),G("endobj")},Qd=function(){var b=[];zA(),hg(),GA(),WA(b),Ct.publish("putResources"),b.forEach(Ar),Ar({resourcesOid:bs,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources")},Ud=function(){Ct.publish("putAdditionalObjects");for(var b=0;b<Be.length;b++){var P=Be[b];Ia(P.objId,!0),G(P.content),G("endobj")}Ct.publish("postPutAdditionalObjects")},Ld=function(b){zt[b.fontName]=zt[b.fontName]||{},zt[b.fontName][b.fontStyle]=b.id},Sl=function(b,P,Z,ne,ue){var xe={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:b,fontName:P,fontStyle:Z,encoding:ne,isStandardFont:ue||!1,metadata:{}};return Ct.publish("addFont",{font:xe,instance:this}),Pt[xe.id]=xe,Ld(xe),xe.id},pg=function(b){for(var P=0,Z=Ce.length;P<Z;P++){var ne=Sl.call(this,b[P][0],b[P][1],b[P][2],Ce[P][3],!0);h===!1&&(x[ne]=!0);var ue=b[P][0].split("-");Ld({id:ne,fontName:ue[0],fontStyle:ue[1]||""})}Ct.publish("addFonts",{fonts:Pt,dictionary:zt})},Bs=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(ne){var P=ne.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var Z="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ne.message;if(!et.console)throw new Error(Z);et.console.error(Z,ne),et.alert&&alert(Z)}},b.foo.bar=b,b.foo},JA=function(b,P){var Z,ne,ue,xe,je,Me,We,ot,nt;if(ue=(P=P||{}).sourceEncoding||"Unicode",je=P.outputEncoding,(P.autoencode||je)&&Pt[ut].metadata&&Pt[ut].metadata[ue]&&Pt[ut].metadata[ue].encoding&&(xe=Pt[ut].metadata[ue].encoding,!je&&Pt[ut].encoding&&(je=Pt[ut].encoding),!je&&xe.codePages&&(je=xe.codePages[0]),typeof je=="string"&&(je=xe[je]),je)){for(We=!1,Me=[],Z=0,ne=b.length;Z<ne;Z++)(ot=je[b.charCodeAt(Z)])?Me.push(String.fromCharCode(ot)):Me.push(b[Z]),Me[Z].charCodeAt(0)>>8&&(We=!0);b=Me.join("")}for(Z=b.length;We===void 0&&Z!==0;)b.charCodeAt(Z-1)>>8&&(We=!0),Z--;if(!We)return b;for(Me=P.noBOM?[]:[254,255],Z=0,ne=b.length;Z<ne;Z++){if((nt=(ot=b.charCodeAt(Z))>>8)>>8)throw new Error("Character at position "+Z+" of string '"+b+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Me.push(nt),Me.push(ot-(nt<<8))}return String.fromCharCode.apply(void 0,Me)},ba=g.__private__.pdfEscape=g.pdfEscape=function(b,P){return JA(b,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fl=g.__private__.beginPage=function(b){ke[++rr]=[],st[rr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},Pd(rr),ye(ke[$])},Id=function(b,P){var Z,ne,ue;switch(a=P||a,typeof b=="string"&&(Z=p(b.toLowerCase()),Array.isArray(Z)&&(ne=Z[0],ue=Z[1])),Array.isArray(b)&&(ne=b[0]*Re,ue=b[1]*Re),isNaN(ne)&&(ne=n[0],ue=n[1]),(ne>14400||ue>14400)&&(Tt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ne=Math.min(14400,ne),ue=Math.min(14400,ue)),n=[ne,ue],a.substr(0,1)){case"l":ue>ne&&(n=[ue,ne]);break;case"p":ne>ue&&(n=[ue,ne])}Fl(n),Od(Ll),G(Ns),Pl!==0&&G(Pl+" J"),Dl!==0&&G(Dl+" j"),Ct.publish("addPage",{pageNumber:rr})},xg=function(b){b>0&&b<=rr&&(ke.splice(b,1),st.splice(b,1),rr--,$>rr&&($=rr),this.setPage($))},Pd=function(b){b>0&&b<=rr&&($=b)},yg=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ke.length-1},Dd=function(b,P,Z){var ne,ue=void 0;return Z=Z||{},b=b!==void 0?b:Pt[ut].fontName,P=P!==void 0?P:Pt[ut].fontStyle,ne=b.toLowerCase(),zt[ne]!==void 0&&zt[ne][P]!==void 0?ue=zt[ne][P]:zt[b]!==void 0&&zt[b][P]!==void 0?ue=zt[b][P]:Z.disableWarning===!1&&Tt.warn("Unable to look up font label for font '"+b+"', '"+P+"'. Refer to getFontList() for available fonts."),ue||Z.noFallback||(ue=zt.times[P])==null&&(ue=zt.times.normal),ue},bg=g.__private__.putInfo=function(){var b=kr(),P=function(ne){return ne};for(var Z in u!==null&&(P=Gr.encryptor(b,0)),G("<<"),G("/Producer ("+ba(P("jsPDF "+Ze.version))+")"),Xe)Xe.hasOwnProperty(Z)&&Xe[Z]&&G("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+ba(P(Xe[Z]))+")");G("/CreationDate ("+ba(P(H))+")"),G(">>"),G("endobj")},El=g.__private__.putCatalog=function(b){var P=(b=b||{}).rootDictionaryObjId||vn;switch(kr(),G("<<"),G("/Type /Catalog"),G("/Pages "+P+" 0 R"),Te||(Te="fullwidth"),Te){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+Te;Z.substr(Z.length-1)==="%"&&(Te=parseInt(Te)/100),typeof Te=="number"&&G("/OpenAction [3 0 R /XYZ null null "+M(Te)+"]")}switch(dt||(dt="continuous"),dt){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}tt&&G("/PageMode /"+tt),Ct.publish("putCatalog"),G(">>"),G("endobj")},wg=g.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(ee+1)),G("/Root "+ee+" 0 R"),G("/Info "+(ee-1)+" 0 R"),u!==null&&G("/Encrypt "+Gr.oid+" 0 R"),G("/ID [ <"+S+"> <"+S+"> ]"),G(">>")},vg=g.__private__.putHeader=function(){G("%PDF-"+v),G("%")},Bg=g.__private__.putXRef=function(){var b="0000000000";G("xref"),G("0 "+(ee+1)),G("0000000000 65535 f ");for(var P=1;P<=ee;P++)typeof se[P]=="function"?G((b+se[P]()).slice(-10)+" 00000 n "):se[P]!==void 0?G((b+se[P]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Bn=g.__private__.buildDocument=function(){Je(),ye(ae),Ct.publish("buildDocument"),vg(),eA(),Ud(),Qd(),u!==null&&gg(),bg(),El();var b=de;return Bg(),wg(),G("startxref"),G(""+b),G("%%EOF"),ye(ke[$]),ae.join(`
`)},XA=g.__private__.getBlob=function(b){return new Blob([Ue(b)],{type:"application/pdf"})},YA=g.output=g.__private__.output=Bs(function(b,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",b){case void 0:return Bn();case"save":g.save(P.filename);break;case"arraybuffer":return Ue(Bn());case"blob":return XA(Bn());case"bloburi":case"bloburl":if(et.URL!==void 0&&typeof et.URL.createObjectURL=="function")return et.URL&&et.URL.createObjectURL(XA(Bn()))||void 0;Tt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",ne=Bn();try{Z=cp(ne)}catch{Z=cp(unescape(encodeURIComponent(ne)))}return"data:application/pdf;filename="+P.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(ue=P.pdfObjectUrl,xe="");var je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Me=et.open();return Me!==null&&Me.document.write(je),Me}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',ot=et.open();if(ot!==null){ot.document.write(We);var nt=this;ot.document.documentElement.querySelector("#pdfViewer").onload=function(){ot.document.title=P.filename,ot.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nt.output("bloburl"))}}return ot}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',$t=et.open();if($t!==null&&($t.document.write(xt),$t.document.title=P.filename),$t||typeof safari>"u")return $t;break;case"datauri":case"dataurl":return et.document.location.href=this.output("datauristring",P);default:return null}}),Td=function(b){return Array.isArray(Zi)===!0&&Zi.indexOf(b)>-1};switch(s){case"pt":Re=1;break;case"mm":Re=72/25.4;break;case"cm":Re=72/2.54;break;case"in":Re=72;break;case"px":Re=Td("px_scaling")==1?.75:96/72;break;case"pc":case"em":Re=12;break;case"ex":Re=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Re=s}var Gr=null;pe(),q();var Ng=function(b){return u!==null?Gr.encryptor(b,0):function(P){return P}},Rd=g.__private__.getPageInfo=g.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[b].objId,pageNumber:b,pageContext:st[b]}},rt=g.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in st)if(st[P].objId===b)break;return Rd(P)},kg=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:st[$].objId,pageNumber:$,pageContext:st[$]}};g.addPage=function(){return Id.apply(this,arguments),this},g.setPage=function(){return Pd.apply(this,arguments),ye.call(this,ke[$]),this},g.insertPage=function(b){return this.addPage(),this.movePage($,b),this},g.movePage=function(b,P){var Z,ne;if(b>P){Z=ke[b],ne=st[b];for(var ue=b;ue>P;ue--)ke[ue]=ke[ue-1],st[ue]=st[ue-1];ke[P]=Z,st[P]=ne,this.setPage(P)}else if(b<P){Z=ke[b],ne=st[b];for(var xe=b;xe<P;xe++)ke[xe]=ke[xe+1],st[xe]=st[xe+1];ke[P]=Z,st[P]=ne,this.setPage(P)}return this},g.deletePage=function(){return xg.apply(this,arguments),this},g.__private__.text=g.text=function(b,P,Z,ne,ue){var xe,je,Me,We,ot,nt,xt,$t,ar,xr=(ne=ne||{}).scope||this;if(typeof b=="number"&&typeof P=="number"&&(typeof Z=="string"||Array.isArray(Z))){var Wr=Z;Z=P,P=b,b=Wr}if(arguments[3]instanceof Ye?(C("The transform parameter of text() with a Matrix value"),ar=ue):(Me=arguments[4],We=arguments[5],Qt(xt=arguments[3])==="object"&&xt!==null||(typeof Me=="string"&&(We=Me,Me=null),typeof xt=="string"&&(We=xt,xt=null),typeof xt=="number"&&(Me=xt,xt=null),ne={flags:xt,angle:Me,align:We})),isNaN(P)||isNaN(Z)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return xr;var Er="",ks=!1,Pa=typeof ne.lineHeightFactor=="number"?ne.lineHeightFactor:rA,an=xr.internal.scaleFactor;function Gd(Rt){return Rt=Rt.split("	").join(Array(ne.TabLen||9).join(" ")),ba(Rt,xt)}function Ol(Rt){for(var Ht,lr=Rt.concat(),jr=[],Sn=lr.length;Sn--;)typeof(Ht=lr.shift())=="string"?jr.push(Ht):Array.isArray(Rt)&&(Ht.length===1||Ht[1]===void 0&&Ht[2]===void 0)?jr.push(Ht[0]):jr.push([Ht[0],Ht[1],Ht[2]]);return jr}function _l(Rt,Ht){var lr;if(typeof Rt=="string")lr=Ht(Rt)[0];else if(Array.isArray(Rt)){for(var jr,Sn,Jl=Rt.concat(),go=[],Yd=Jl.length;Yd--;)typeof(jr=Jl.shift())=="string"?go.push(Ht(jr)[0]):Array.isArray(jr)&&typeof jr[0]=="string"&&(Sn=Ht(jr[0],jr[1],jr[2]),go.push([Sn[0],Sn[1],Sn[2]]));lr=go}return lr}var so=!1,Kl=!0;if(typeof b=="string")so=!0;else if(Array.isArray(b)){var ql=b.concat();je=[];for(var no,Rr=ql.length;Rr--;)(typeof(no=ql.shift())!="string"||Array.isArray(no)&&typeof no[0]!="string")&&(Kl=!1);so=Kl}if(so===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var io=Fe/xr.internal.scaleFactor,Ao=io*(Pa-1);switch(ne.baseline){case"bottom":Z-=Ao;break;case"top":Z+=io-Ao;break;case"hanging":Z+=io-2*Ao;break;case"middle":Z+=io/2-Ao}if((nt=ne.maxWidth||0)>0&&(typeof b=="string"?b=xr.splitTextToSize(b,nt):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(Rt,Ht){return Rt.concat(xr.splitTextToSize(Ht,nt))},[]))),xe={text:b,x:P,y:Z,options:ne,mutex:{pdfEscape:ba,activeFontKey:ut,fonts:Pt,activeFontSize:Fe}},Ct.publish("preProcessText",xe),b=xe.text,Me=(ne=xe.options).angle,!(ar instanceof Ye)&&Me&&typeof Me=="number"){Me*=Math.PI/180,ne.rotationDirection===0&&(Me=-Me),w===m.ADVANCED&&(Me=-Me);var oo=Math.cos(Me),zl=Math.sin(Me);ar=new Ye(oo,zl,-zl,oo,0,0)}else Me&&Me instanceof Ye&&(ar=Me);w!==m.ADVANCED||ar||(ar=Ys),(ot=ne.charSpace||to)!==void 0&&(Er+=F(j(ot))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($t=ne.horizontalScale)!==void 0&&(Er+=F(100*$t)+` Tz
`),ne.lang;var wa=-1,Pg=ne.renderingMode!==void 0?ne.renderingMode:ne.stroke,Vl=xr.internal.getCurrentPageInfo().pageContext;switch(Pg){case 0:case!1:case"fill":wa=0;break;case 1:case!0:case"stroke":wa=1;break;case 2:case"fillThenStroke":wa=2;break;case 3:case"invisible":wa=3;break;case 4:case"fillAndAddForClipping":wa=4;break;case 5:case"strokeAndAddPathForClipping":wa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wa=6;break;case 7:case"addToPathForClipping":wa=7}var Wd=Vl.usedRenderingMode!==void 0?Vl.usedRenderingMode:-1;wa!==-1?Er+=wa+` Tr
`:Wd!==-1&&(Er+=`0 Tr
`),wa!==-1&&(Vl.usedRenderingMode=wa),We=ne.align||"left";var Ya,lo=Fe*Pa,$d=xr.internal.pageSize.getWidth(),Jd=Pt[ut];ot=ne.charSpace||to,nt=ne.maxWidth||0,xt=Object.assign({autoencode:!0,noBOM:!0},ne.flags);var ti=[],nA=function(Rt){return xr.getStringUnitWidth(Rt,{font:Jd,charSpace:ot,fontSize:Fe,doKerning:!1})*Fe/an};if(Object.prototype.toString.call(b)==="[object Array]"){var va;je=Ol(b),We!=="left"&&(Ya=je.map(nA));var la,ri=0;if(We==="right"){P-=Ya[0],b=[],Rr=je.length;for(var kn=0;kn<Rr;kn++)kn===0?(la=rn(P),va=Nn(Z)):(la=j(ri-Ya[kn]),va=-lo),b.push([je[kn],la,va]),ri=Ya[kn]}else if(We==="center"){P-=Ya[0]/2,b=[],Rr=je.length;for(var jn=0;jn<Rr;jn++)jn===0?(la=rn(P),va=Nn(Z)):(la=j((ri-Ya[jn])/2),va=-lo),b.push([je[jn],la,va]),ri=Ya[jn]}else if(We==="left"){b=[],Rr=je.length;for(var co=0;co<Rr;co++)b.push(je[co])}else if(We==="justify"&&Jd.encoding==="Identity-H"){b=[],Rr=je.length,nt=nt!==0?nt:$d;for(var Cn=0,or=0;or<Rr;or++)if(va=or===0?Nn(Z):-lo,la=or===0?rn(P):Cn,or<Rr-1){var Gl=j((nt-Ya[or])/(je[or].split(" ").length-1)),ca=je[or].split(" ");b.push([ca[0]+" ",la,va]),Cn=0;for(var Za=1;Za<ca.length;Za++){var uo=(nA(ca[Za-1]+" "+ca[Za])-nA(ca[Za]))*an+Gl;Za==ca.length-1?b.push([ca[Za],uo,0]):b.push([ca[Za]+" ",uo,0]),Cn-=uo}}else b.push([je[or],la,va]);b.push(["",Cn,0])}else{if(We!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],Rr=je.length,nt=nt!==0?nt:$d,or=0;or<Rr;or++)va=or===0?Nn(Z):-lo,la=or===0?rn(P):0,or<Rr-1?ti.push(F(j((nt-Ya[or])/(je[or].split(" ").length-1)))):ti.push(0),b.push([je[or],la,va])}}var Xd=typeof ne.R2L=="boolean"?ne.R2L:Ge;Xd===!0&&(b=_l(b,function(Rt,Ht,lr){return[Rt.split("").reverse().join(""),Ht,lr]})),xe={text:b,x:P,y:Z,options:ne,mutex:{pdfEscape:ba,activeFontKey:ut,fonts:Pt,activeFontSize:Fe}},Ct.publish("postProcessText",xe),b=xe.text,ks=xe.mutex.isHex||!1;var Wl=Pt[ut].encoding;Wl!=="WinAnsiEncoding"&&Wl!=="StandardEncoding"||(b=_l(b,function(Rt,Ht,lr){return[Gd(Rt),Ht,lr]})),je=Ol(b),b=[];for(var iA,AA,ai,oA=0,ho=1,lA=Array.isArray(je[0])?ho:oA,si="",$l=function(Rt,Ht,lr){var jr="";return lr instanceof Ye?(lr=typeof ne.angle=="number"?ys(lr,new Ye(1,0,0,1,Rt,Ht)):ys(new Ye(1,0,0,1,Rt,Ht),lr),w===m.ADVANCED&&(lr=ys(new Ye(1,0,0,-1,0,0),lr)),jr=lr.join(" ")+` Tm
`):jr=F(Rt)+" "+F(Ht)+` Td
`,jr},es=0;es<je.length;es++){switch(si="",lA){case ho:ai=(ks?"<":"(")+je[es][0]+(ks?">":")"),iA=parseFloat(je[es][1]),AA=parseFloat(je[es][2]);break;case oA:ai=(ks?"<":"(")+je[es]+(ks?">":")"),iA=rn(P),AA=Nn(Z)}ti!==void 0&&ti[es]!==void 0&&(si=ti[es]+` Tw
`),es===0?b.push(si+$l(iA,AA,ar)+ai):lA===oA?b.push(si+ai):lA===ho&&b.push(si+$l(iA,AA,ar)+ai)}b=lA===oA?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var ts=`BT
/`;return ts+=ut+" "+Fe+` Tf
`,ts+=F(Fe*Pa)+` TL
`,ts+=aA+`
`,ts+=Er,ts+=b,G(ts+="ET"),x[ut]=!0,xr};var jg=g.__private__.clip=g.clip=function(b){return G(b==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return jg("evenodd")},g.__private__.discardPath=g.discardPath=function(){return G("n"),this};var tn=g.__private__.isValidStyle=function(b){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(P=!0),P};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(b){return tn(b)&&(c=b),this};var Hd=g.__private__.getStyle=g.getStyle=function(b){var P=c;switch(b){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=b}return P},Md=g.close=function(){return G("h"),this};g.stroke=function(){return G("S"),this},g.fill=function(b){return ZA("f",b),this},g.fillEvenOdd=function(b){return ZA("f*",b),this},g.fillStroke=function(b){return ZA("B",b),this},g.fillStrokeEvenOdd=function(b){return ZA("B*",b),this};var ZA=function(b,P){Qt(P)==="object"?Sg(P,b):G(b)},Ql=function(b){b===null||w===m.ADVANCED&&b===void 0||(b=Hd(b),G(b))};function Cg(b,P,Z,ne,ue){var xe=new zo(P||this.boundingBox,Z||this.xStep,ne||this.yStep,this.gState,ue||this.matrix);xe.stream=this.stream;var je=b+"$$"+this.cloneIndex+++"$$";return ya(je,xe),xe}var Sg=function(b,P){var Z=Yi[b.key],ne=jt[Z];if(ne instanceof pA)G("q"),G(Fg(P)),ne.gState&&g.setGState(ne.gState),G(b.matrix.toString()+" cm"),G("/"+Z+" sh"),G("Q");else if(ne instanceof zo){var ue=new Ye(1,0,0,-1,0,ei());b.matrix&&(ue=ue.multiply(b.matrix||Ys),Z=Cg.call(ne,b.key,b.boundingBox,b.xStep,b.yStep,ue).id),G("q"),G("/Pattern cs"),G("/"+Z+" scn"),ne.gState&&g.setGState(ne.gState),G(P),G("Q")}},Fg=function(b){switch(b){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ul=g.moveTo=function(b,P){return G(F(j(b))+" "+F(z(P))+" m"),this},tA=g.lineTo=function(b,P){return G(F(j(b))+" "+F(z(P))+" l"),this},Yn=g.curveTo=function(b,P,Z,ne,ue,xe){return G([F(j(b)),F(z(P)),F(j(Z)),F(z(ne)),F(j(ue)),F(z(xe)),"c"].join(" ")),this};g.__private__.line=g.line=function(b,P,Z,ne,ue){if(isNaN(b)||isNaN(P)||isNaN(Z)||isNaN(ne)||!tn(ue))throw new Error("Invalid arguments passed to jsPDF.line");return w===m.COMPAT?this.lines([[Z-b,ne-P]],b,P,[1,1],ue||"S"):this.lines([[Z-b,ne-P]],b,P,[1,1]).stroke()},g.__private__.lines=g.lines=function(b,P,Z,ne,ue,xe){var je,Me,We,ot,nt,xt,$t,ar,xr,Wr,Er,ks;if(typeof b=="number"&&(ks=Z,Z=P,P=b,b=ks),ne=ne||[1,1],xe=xe||!1,isNaN(P)||isNaN(Z)||!Array.isArray(b)||!Array.isArray(ne)||!tn(ue)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ul(P,Z),je=ne[0],Me=ne[1],ot=b.length,Wr=P,Er=Z,We=0;We<ot;We++)(nt=b[We]).length===2?(Wr=nt[0]*je+Wr,Er=nt[1]*Me+Er,tA(Wr,Er)):(xt=nt[0]*je+Wr,$t=nt[1]*Me+Er,ar=nt[2]*je+Wr,xr=nt[3]*Me+Er,Wr=nt[4]*je+Wr,Er=nt[5]*Me+Er,Yn(xt,$t,ar,xr,Wr,Er));return xe&&Md(),Ql(ue),this},g.path=function(b){for(var P=0;P<b.length;P++){var Z=b[P],ne=Z.c;switch(Z.op){case"m":Ul(ne[0],ne[1]);break;case"l":tA(ne[0],ne[1]);break;case"c":Yn.apply(this,ne);break;case"h":Md()}}return this},g.__private__.rect=g.rect=function(b,P,Z,ne,ue){if(isNaN(b)||isNaN(P)||isNaN(Z)||isNaN(ne)||!tn(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return w===m.COMPAT&&(ne=-ne),G([F(j(b)),F(z(P)),F(j(Z)),F(j(ne)),"re"].join(" ")),Ql(ue),this},g.__private__.triangle=g.triangle=function(b,P,Z,ne,ue,xe,je){if(isNaN(b)||isNaN(P)||isNaN(Z)||isNaN(ne)||isNaN(ue)||isNaN(xe)||!tn(je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-b,ne-P],[ue-Z,xe-ne],[b-ue,P-xe]],b,P,[1,1],je,!0),this},g.__private__.roundedRect=g.roundedRect=function(b,P,Z,ne,ue,xe,je){if(isNaN(b)||isNaN(P)||isNaN(Z)||isNaN(ne)||isNaN(ue)||isNaN(xe)||!tn(je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Me=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*Z),xe=Math.min(xe,.5*ne),this.lines([[Z-2*ue,0],[ue*Me,0,ue,xe-xe*Me,ue,xe],[0,ne-2*xe],[0,xe*Me,-ue*Me,xe,-ue,xe],[2*ue-Z,0],[-ue*Me,0,-ue,-xe*Me,-ue,-xe],[0,2*xe-ne],[0,-xe*Me,ue*Me,-xe,ue,-xe]],b+ue,P,[1,1],je,!0),this},g.__private__.ellipse=g.ellipse=function(b,P,Z,ne,ue){if(isNaN(b)||isNaN(P)||isNaN(Z)||isNaN(ne)||!tn(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*Z,je=4/3*(Math.SQRT2-1)*ne;return Ul(b+Z,P),Yn(b+Z,P-je,b+xe,P-ne,b,P-ne),Yn(b-xe,P-ne,b-Z,P-je,b-Z,P),Yn(b-Z,P+je,b-xe,P+ne,b,P+ne),Yn(b+xe,P+ne,b+Z,P+je,b+Z,P),Ql(ue),this},g.__private__.circle=g.circle=function(b,P,Z,ne){if(isNaN(b)||isNaN(P)||isNaN(Z)||!tn(ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,P,Z,Z,ne)},g.setFont=function(b,P,Z){return Z&&(P=D(P,Z)),ut=Dd(b,P,{disableWarning:!1}),this};var Eg=g.__private__.getFont=g.getFont=function(){return Pt[Dd.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var b,P,Z={};for(b in zt)if(zt.hasOwnProperty(b))for(P in Z[b]=[],zt[b])zt[b].hasOwnProperty(P)&&Z[b].push(P);return Z},g.addFont=function(b,P,Z,ne,ue){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&(Z=D(Z,ne)),ue=ue||"Identity-H",Sl.call(this,b,P,Z,ue)};var rA,Ll=e.lineWidth||.200025,eo=g.__private__.getLineWidth=g.getLineWidth=function(){return Ll},Od=g.__private__.setLineWidth=g.setLineWidth=function(b){return Ll=b,G(F(j(b))+" w"),this};g.__private__.setLineDash=Ze.API.setLineDash=Ze.API.setLineDashPattern=function(b,P){if(b=b||[],P=P||0,isNaN(P)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(Z){return F(j(Z))}).join(" "),P=F(j(P)),G("["+b+"] "+P+" d"),this};var _d=g.__private__.getLineHeight=g.getLineHeight=function(){return Fe*rA};g.__private__.getLineHeight=g.getLineHeight=function(){return Fe*rA};var Kd=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(rA=b),this},qd=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return rA};Kd(e.lineHeight);var rn=g.__private__.getHorizontalCoordinate=function(b){return j(b)},Nn=g.__private__.getVerticalCoordinate=function(b){return w===m.ADVANCED?b:st[$].mediaBox.topRightY-st[$].mediaBox.bottomLeftY-j(b)},Qg=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(b){return F(rn(b))},Zn=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(b){return F(Nn(b))},Ns=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ws(Ns)},g.__private__.setStrokeColor=g.setDrawColor=function(b,P,Z,ne){return Ns=vs({ch1:b,ch2:P,ch3:Z,ch4:ne,pdfColorType:"draw",precision:2}),G(Ns),this};var Il=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ws(Il)},g.__private__.setFillColor=g.setFillColor=function(b,P,Z,ne){return Il=vs({ch1:b,ch2:P,ch3:Z,ch4:ne,pdfColorType:"fill",precision:2}),G(Il),this};var aA=e.textColor||"0 g",Ug=g.__private__.getTextColor=g.getTextColor=function(){return ws(aA)};g.__private__.setTextColor=g.setTextColor=function(b,P,Z,ne){return aA=vs({ch1:b,ch2:P,ch3:Z,ch4:ne,pdfColorType:"text",precision:3}),this};var to=e.charSpace,Lg=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(to||0)};g.__private__.setCharSpace=g.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return to=b,this};var Pl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(b){var P=g.CapJoinStyles[b];if(P===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pl=P,G(P+" J"),this};var Dl=0;g.__private__.setLineJoin=g.setLineJoin=function(b){var P=g.CapJoinStyles[b];if(P===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dl=P,G(P+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(F(j(b))+" M"),this},g.GState=ch,g.setGState=function(b){(b=typeof b=="string"?tr[xs[b]]:zd(null,b)).equals(wn)||(G("/"+b.id+" gs"),wn=b)};var zd=function(b,P){if(!b||!xs[b]){var Z=!1;for(var ne in tr)if(tr.hasOwnProperty(ne)&&tr[ne].equals(P)){Z=!0;break}if(Z)P=tr[ne];else{var ue="GS"+(Object.keys(tr).length+1).toString(10);tr[ue]=P,P.id=ue}return b&&(xs[b]=P.id),Ct.publish("addGState",P),P}};g.addGState=function(b,P){return zd(b,P),this},g.saveGraphicsState=function(){return G("q"),$s.push({key:ut,size:Fe,color:aA}),this},g.restoreGraphicsState=function(){G("Q");var b=$s.pop();return ut=b.key,Fe=b.size,aA=b.color,wn=null,this},g.setCurrentTransformationMatrix=function(b){return G(b.toString()+" cm"),this},g.comment=function(b){return G("#"+b),this};var ro=function(b,P){var Z=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(xe){isNaN(xe)||(Z=parseFloat(xe))}});var ne=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ne},set:function(xe){isNaN(xe)||(ne=parseFloat(xe))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(xe){ue=xe.toString()}}),this},Tl=function(b,P,Z,ne){ro.call(this,b,P),this.type="rect";var ue=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(je){isNaN(je)||(ue=parseFloat(je))}});var xe=ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(je){isNaN(je)||(xe=parseFloat(je))}}),this},Rl=function(){this.page=rr,this.currentPage=$,this.pages=ke.slice(0),this.pagesContext=st.slice(0),this.x=Vr,this.y=wt,this.matrix=ps,this.width=sA($),this.height=ei($),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Rl.prototype.restore=function(){rr=this.page,$=this.currentPage,st=this.pagesContext,ke=this.pages,Vr=this.x,wt=this.y,ps=this.matrix,Hl($,this.width),Ml($,this.height),Ee=this.outputDestination};var Vd=function(b,P,Z,ne,ue){Xs.push(new Rl),rr=$=0,ke=[],Vr=b,wt=P,ps=ue,Fl([Z,ne])},Ig=function(b){if(Js[b])Xs.pop().restore();else{var P=new Rl,Z="Xo"+(Object.keys(Tr).length+1).toString(10);P.id=Z,Js[b]=Z,Tr[Z]=P,Ct.publish("addFormObject",P),Xs.pop().restore()}};for(var ao in g.beginFormObject=function(b,P,Z,ne,ue){return Vd(b,P,Z,ne,ue),this},g.endFormObject=function(b){return Ig(b),this},g.doFormObject=function(b,P){var Z=Tr[Js[b]];return G("q"),G(P.toString()+" cm"),G("/"+Z.id+" Do"),G("Q"),this},g.getFormObject=function(b){var P=Tr[Js[b]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},g.save=function(b,P){return b=b||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(mA(XA(Bn()),b),typeof mA.unload=="function"&&et.setTimeout&&setTimeout(mA.unload,911),this):new Promise(function(Z,ne){try{var ue=mA(XA(Bn()),b);typeof mA.unload=="function"&&et.setTimeout&&setTimeout(mA.unload,911),Z(ue)}catch(xe){ne(xe.message)}})},Ze.API)Ze.API.hasOwnProperty(ao)&&(ao==="events"&&Ze.API.events.length?function(b,P){var Z,ne,ue;for(ue=P.length-1;ue!==-1;ue--)Z=P[ue][0],ne=P[ue][1],b.subscribe.apply(b,[Z].concat(typeof ne=="function"?[ne]:ne))}(Ct,Ze.API.events):g[ao]=Ze.API[ao]);var sA=g.getPageWidth=function(b){return(st[b=b||$].mediaBox.topRightX-st[b].mediaBox.bottomLeftX)/Re},Hl=g.setPageWidth=function(b,P){st[b].mediaBox.topRightX=P*Re+st[b].mediaBox.bottomLeftX},ei=g.getPageHeight=function(b){return(st[b=b||$].mediaBox.topRightY-st[b].mediaBox.bottomLeftY)/Re},Ml=g.setPageHeight=function(b,P){st[b].mediaBox.topRightY=P*Re+st[b].mediaBox.bottomLeftY};return g.internal={pdfEscape:ba,getStyle:Hd,getFont:Eg,getFontSize:Ie,getCharSpace:Lg,getTextColor:Ug,getLineHeight:_d,getLineHeightFactor:qd,getLineWidth:eo,write:_e,getHorizontalCoordinate:rn,getVerticalCoordinate:Nn,getCoordinateString:Qg,getVerticalCoordinateString:Zn,collections:{},newObject:kr,newAdditionalObject:KA,newObjectDeferred:pr,newObjectDeferredBegin:Ia,getFilters:Zs,putStream:Xa,events:Ct,scaleFactor:Re,pageSize:{getWidth:function(){return sA($)},setWidth:function(b){Hl($,b)},getHeight:function(){return ei($)},setHeight:function(b){Ml($,b)}},encryptionOptions:u,encryption:Gr,getEncryptor:Ng,output:YA,getNumberOfPages:yg,pages:ke,out:G,f2:M,f3:Q,getPageInfo:Rd,getPageInfoByObjId:rt,getCurrentPageInfo:kg,getPDFVersion:y,Point:ro,Rectangle:Tl,Matrix:Ye,hasHotfix:Td},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return sA($)},set:function(b){Hl($,b)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ei($)},set:function(b){Ml($,b)},enumerable:!0,configurable:!0}),pg.call(g,Ce),ut="F1",Id(n,a),Ct.publish("initialized"),g}Fo.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Fo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fo.prototype.hexToBytes=function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(String.fromCharCode(parseInt(e.substr(a,2),16)));return t.join("")},Fo.prototype.processOwnerPassword=function(e,t){return up(dp(t).substr(0,5),e)},Fo.prototype.encryptor=function(e,t){var a=dp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return up(a,s)}},ch.prototype.equals=function(e){var t,a="id,objectNumber,equals";if(!e||Qt(e)!==Qt(this))return!1;var s=0;for(t in this)if(!(a.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&a.indexOf(t)<0&&s--;return s===0},Ze.API={events:[]},Ze.version="3.0.1";var nr=Ze.API,Vx=1,_A=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bo=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},it=function(e){return e.toFixed(2)},gi=function(e){return e.toFixed(5)};nr.__acroform__={};var La=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},dw=function(e){return e*Vx},ln=function(e){var t=new U5,a=Ve.internal.getHeight(e)||0,s=Ve.internal.getWidth(e)||0;return t.BBox=[0,0,Number(it(s)),Number(it(a))],t},l6=nr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},c6=nr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},d6=nr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},hr=nr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return d6(e,t-1)},gr=nr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return l6(e,t-1)},fr=nr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return c6(e,t-1)},u6=nr.__acroform__.calculateCoordinates=function(e,t){var a=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,n=e[0],i=e[1],A=e[2],o=e[3],l={};return l.lowerLeft_X=a(n)||0,l.lowerLeft_Y=s(i+o)||0,l.upperRight_X=a(n+A)||0,l.upperRight_Y=s(i)||0,[Number(it(l.lowerLeft_X)),Number(it(l.lowerLeft_Y)),Number(it(l.upperRight_X)),Number(it(l.upperRight_Y))]},h6=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],a=e._V||e.DV,s=hp(e,a),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+it(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ln(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},hp=function(e,t){var a=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(Q){return Q.split(`
`)}):n.map(function(Q){return[Q]});var i=a,A=Ve.internal.getHeight(e)||0;A=A<0?-A:A;var o=Ve.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(Q,j,T){if(Q+1<n.length){var z=j+" "+n[Q+1][0];return Tu(z,e,T).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,h=Tu("3",e,i).height,x=e.multiline?A-i:(A-h)/2,g=x+=2,v=0,y=0,N=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Tu(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var p="",m=0,w=0;w<n.length;w++)if(n.hasOwnProperty(w)){var E=!1;if(n[w].length!==1&&N!==n[w].length-1){if((h+2)*(m+2)+2>A)continue e;p+=n[w][N],E=!0,y=w,w--}else{p=(p+=n[w][N]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var U=parseInt(w),D=l(U,p,i),F=w>=n.length-1;if(D&&!F){p+=" ",N=0;continue}if(D||F){if(F)y=U;else if(e.multiline&&(h+2)*(m+2)+2>A)continue e}else{if(!e.multiline||(h+2)*(m+2)+2>A)continue e;y=U}}for(var C="",K=v;K<=y;K++){var M=n[K];if(e.multiline){if(K===y){C+=M[N]+" ",N=(N+1)%M.length;continue}if(K===v){C+=M[M.length-1]+" ";continue}}C+=M[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=Tu(C,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=it(c)+" "+it(g)+` Td
`,t+="("+_A(C)+`) Tj
`,t+=-it(c)+` 0 Td
`,g=-(i+2),u=0,v=E?y:y+1,m++,p=""}break}return s.text=t,s.fontSize=i,s},Tu=function(e,t,a){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:n}},g6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},f6=function(e,t){var a={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===a.type&&s.object===a.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(a)},m6=function(e,t){for(var a in e)if(e.hasOwnProperty(a)){var s=a,n=e[a];t.internal.newObjectDeferredBegin(n.objId,!0),Qt(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete e[s]}},p6=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(zs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(g6)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new L5,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in s)if(s.hasOwnProperty(n)){var i=s[n];i.objId=void 0,i.hasAnnotation&&f6(i,a)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(a){(function(s,n){var i=!s;for(var A in s||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(A)){var o=s[A],l=[],c=o.Rect;if(o.Rect&&(o.Rect=u6(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ve.createDefaultAppearanceStream(o),Qt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=h6(o);l.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var h="";for(var x in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(x)){var g=o.appearanceStreamContent[x];if(h+="/"+x+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var A in g)if(g.hasOwnProperty(A)){var v=g[A];typeof v=="function"&&(v=v.call(n,o)),h+="/"+A+" "+v+" ",n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(n,o)),h+="/"+A+" "+v,n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:o.objId}),n.internal.out("endobj")}i&&m6(n.internal.acroformPlugin.xForms,n)})(a,e)}),e.internal.acroformPlugin.isInitialized=!0}},Q5=nr.__acroform__.arrayToPdfArray=function(e,t,a){var s=function(A){return A};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(i!==0&&(n+=" "),Qt(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&a&&(s=a.internal.getEncryptor(t)),n+="("+_A(s(e[i].toString()))+")"):n+=e[i].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Df=function(e,t,a){var s=function(n){return n};return t!==void 0&&a&&(s=a.internal.getEncryptor(t)),(e=e||"").toString(),e="("+_A(s(e))+")"},un=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};un.prototype.toString=function(){return this.objId+" 0 R"},un.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},un.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var a in t)if(Object.getOwnPropertyDescriptor(this,t[a]).configurable===!1){var s=t[a],n=this[s];n&&(Array.isArray(n)?e.push({key:s,value:Q5(n,this.objId,this.scope)}):n instanceof un?(n.scope=this.scope,e.push({key:s,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:s,value:n}))}return e};var U5=function(){un.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){e=a.trim()},get:function(){return e||null}})};La(U5,un);var L5=function(){un.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var a=function(s){return s};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+_A(a(e))+")"}},set:function(a){e=a}})};La(L5,un);var zs=function e(){un.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');t=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hr(t,3)},set:function(p){p?this.F=gr(t,3):this.F=fr(t,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');a=p}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(p){s=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(p){s[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(p){s[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(p){s[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(p){s[3]=p}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof dh)return;i="FieldObject"+e.FieldNum++}var p=function(m){return m};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+_A(p(i))+")"},set:function(p){i=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(p){i=p}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(p){A=p}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Vx:c},set:function(p){c=p}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(p){u=p}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof dh||this instanceof SA))return Df(h,this.objId,this.scope)},set:function(p){p=p.toString(),h=p}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Pr?x:Df(x,this.objId,this.scope)},set:function(p){p=p.toString(),x=this instanceof Pr?p:p.substr(0,1)==="("?bo(p.substr(1,p.length-2)):bo(p)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pr?bo(x.substr(1,x.length-1)):x},set:function(p){p=p.toString(),x=this instanceof Pr?"/"+p:p}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Pr?g:Df(g,this.objId,this.scope)},set:function(p){p=p.toString(),g=this instanceof Pr?p:p.substr(0,1)==="("?bo(p.substr(1,p.length-2)):bo(p)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pr?bo(g.substr(1,g.length-1)):g},set:function(p){p=p.toString(),g=this instanceof Pr?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(p){p=!!p,y=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(p){v=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,1)},set:function(p){p?this.Ff=gr(this.Ff,1):this.Ff=fr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,2)},set:function(p){p?this.Ff=gr(this.Ff,2):this.Ff=fr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,3)},set:function(p){p?this.Ff=gr(this.Ff,3):this.Ff=fr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');N=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(N){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};La(zs,un);var rl=function(){zs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(a){e=a}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Q5(t,this.objId,this.scope)},set:function(a){var s,n;n=[],typeof(s=a)=="string"&&(n=function(i,A,o){o||(o=1);for(var l,c=[];l=A.exec(i);)c.push(l[o]);return c}(s,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(a){t=a,this.sort&&t.sort()},this.addOption=function(a){a=(a=a||"").toString(),t.push(a),this.sort&&t.sort()},this.removeOption=function(a,s){for(s=s||!1,a=(a=a||"").toString();t.indexOf(a)!==-1&&(t.splice(t.indexOf(a),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,18)},set:function(a){a?this.Ff=gr(this.Ff,18):this.Ff=fr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=gr(this.Ff,19):this.Ff=fr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,20)},set:function(a){a?(this.Ff=gr(this.Ff,20),t.sort()):this.Ff=fr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,22)},set:function(a){a?this.Ff=gr(this.Ff,22):this.Ff=fr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(a){a?this.Ff=gr(this.Ff,23):this.Ff=fr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,27)},set:function(a){a?this.Ff=gr(this.Ff,27):this.Ff=fr(this.Ff,27)}}),this.hasAppearanceStream=!1};La(rl,zs);var al=function(){rl.call(this),this.fontName="helvetica",this.combo=!1};La(al,rl);var sl=function(){al.call(this),this.combo=!0};La(sl,al);var w0=function(){sl.call(this),this.edit=!0};La(w0,sl);var Pr=function(){zs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,15)},set:function(a){a?this.Ff=gr(this.Ff,15):this.Ff=fr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,16)},set:function(a){a?this.Ff=gr(this.Ff,16):this.Ff=fr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,17)},set:function(a){a?this.Ff=gr(this.Ff,17):this.Ff=fr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(a){a?this.Ff=gr(this.Ff,26):this.Ff=fr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(i){return i};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,n=[];for(s in n.push("<<"),t)n.push("/"+s+" ("+_A(a(t[s]))+")");return n.push(">>"),n.join(`
`)}},set:function(a){Qt(a)==="object"&&(t=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(a){typeof a=="string"&&(t.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}})};La(Pr,zs);var v0=function(){Pr.call(this),this.pushButton=!0};La(v0,Pr);var nl=function(){Pr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};La(nl,Pr);var dh=function(){var e,t;zs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var a,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,A=[];for(i in A.push("<<"),s)A.push("/"+i+" ("+_A(n(s[i]))+")");return A.push(">>"),A.join(`
`)},set:function(n){Qt(n)==="object"&&(s=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(n){typeof n=="string"&&(s.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(n){a=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(n){a="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ve.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};La(dh,zs),nl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var a=this.Kids[t];a.appearanceStreamContent=e.createAppearanceStream(a.optionName),a.caption=e.getCA()}},nl.prototype.createOption=function(e){var t=new dh;return t.Parent=this,t.optionName=e,this.Kids.push(t),x6.call(this.scope,t),t};var B0=function(){Pr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ve.CheckBox.createAppearanceStream()};La(B0,Pr);var SA=function(){zs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,13)},set:function(t){t?this.Ff=gr(this.Ff,13):this.Ff=fr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,21)},set:function(t){t?this.Ff=gr(this.Ff,21):this.Ff=fr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(t){t?this.Ff=gr(this.Ff,23):this.Ff=fr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,24)},set:function(t){t?this.Ff=gr(this.Ff,24):this.Ff=fr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,25)},set:function(t){t?this.Ff=gr(this.Ff,25):this.Ff=fr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(t){t?this.Ff=gr(this.Ff,26):this.Ff=fr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};La(SA,zs);var N0=function(){SA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,14)},set:function(e){e?this.Ff=gr(this.Ff,14):this.Ff=fr(this.Ff,14)}}),this.password=!0};La(N0,SA);var Ve={CheckBox:{createAppearanceStream:function(){return{N:{On:Ve.CheckBox.YesNormal},D:{On:Ve.CheckBox.YesPushDown,Off:Ve.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ln(e);t.scope=e.scope;var a=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=hp(e,e.caption);return a.push("0.749023 g"),a.push("0 0 "+it(Ve.internal.getWidth(e))+" "+it(Ve.internal.getHeight(e))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+s+" "+it(i.fontSize)+" Tf "+n),a.push("BT"),a.push(i.text),a.push("ET"),a.push("Q"),a.push("EMC"),t.stream=a.join(`
`),t},YesNormal:function(e){var t=ln(e);t.scope=e.scope;var a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),n=[],i=Ve.internal.getHeight(e),A=Ve.internal.getWidth(e),o=hp(e,e.caption);return n.push("1 g"),n.push("0 0 "+it(A)+" "+it(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+it(A-1)+" "+it(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+a+" "+it(o.fontSize)+" Tf "+s),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ln(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+it(Ve.internal.getWidth(e))+" "+it(Ve.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Circle.YesNormal,t.D[e]=Ve.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ln(e);t.scope=e.scope;var a=[],s=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=Ve.internal.Bezier_C,i=Number((s*n).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+gi(Ve.internal.getWidth(e)/2)+" "+gi(Ve.internal.getHeight(e)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),a.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),a.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),a.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=ln(e);t.scope=e.scope;var a=[],s=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),i=Number((n*Ve.internal.Bezier_C).toFixed(5)),A=Number((s*Ve.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+gi(Ve.internal.getWidth(e)/2)+" "+gi(Ve.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+gi(Ve.internal.getWidth(e)/2)+" "+gi(Ve.internal.getHeight(e)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+A+" "+A+" "+s+" 0 "+s+" c"),a.push("-"+A+" "+s+" -"+s+" "+A+" -"+s+" 0 c"),a.push("-"+s+" -"+A+" -"+A+" -"+s+" 0 -"+s+" c"),a.push(A+" -"+s+" "+s+" -"+A+" "+s+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ln(e);t.scope=e.scope;var a=[],s=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),i=Number((n*Ve.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+gi(Ve.internal.getWidth(e)/2)+" "+gi(Ve.internal.getHeight(e)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),t.stream=a.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Cross.YesNormal,t.D[e]=Ve.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ln(e);t.scope=e.scope;var a=[],s=Ve.internal.calculateCross(e);return a.push("q"),a.push("1 1 "+it(Ve.internal.getWidth(e)-2)+" "+it(Ve.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(it(s.x1.x)+" "+it(s.x1.y)+" m"),a.push(it(s.x2.x)+" "+it(s.x2.y)+" l"),a.push(it(s.x4.x)+" "+it(s.x4.y)+" m"),a.push(it(s.x3.x)+" "+it(s.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},YesPushDown:function(e){var t=ln(e);t.scope=e.scope;var a=Ve.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+it(Ve.internal.getWidth(e))+" "+it(Ve.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+it(Ve.internal.getWidth(e)-2)+" "+it(Ve.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(it(a.x1.x)+" "+it(a.x1.y)+" m"),s.push(it(a.x2.x)+" "+it(a.x2.y)+" l"),s.push(it(a.x4.x)+" "+it(a.x4.y)+" m"),s.push(it(a.x3.x)+" "+it(a.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=ln(e);t.scope=e.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+it(Ve.internal.getWidth(e))+" "+it(Ve.internal.getHeight(e))+" re"),a.push("f"),t.stream=a.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+a}};Ve.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ve.internal.getWidth(e),a=Ve.internal.getHeight(e),s=Math.min(t,a);return{x1:{x:(t-s)/2,y:(a-s)/2+s},x2:{x:(t-s)/2+s,y:(a-s)/2},x3:{x:(t-s)/2,y:(a-s)/2},x4:{x:(t-s)/2+s,y:(a-s)/2+s}}}},Ve.internal.getWidth=function(e){var t=0;return Qt(e)==="object"&&(t=dw(e.Rect[2])),t},Ve.internal.getHeight=function(e){var t=0;return Qt(e)==="object"&&(t=dw(e.Rect[3])),t};var x6=nr.addField=function(e){if(p6(this,e),!(e instanceof zs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};nr.AcroFormChoiceField=rl,nr.AcroFormListBox=al,nr.AcroFormComboBox=sl,nr.AcroFormEditBox=w0,nr.AcroFormButton=Pr,nr.AcroFormPushButton=v0,nr.AcroFormRadioButton=nl,nr.AcroFormCheckBox=B0,nr.AcroFormTextField=SA,nr.AcroFormPasswordField=N0,nr.AcroFormAppearance=Ve,nr.AcroForm={ChoiceField:rl,ListBox:al,ComboBox:sl,EditBox:w0,Button:Pr,PushButton:v0,RadioButton:nl,CheckBox:B0,TextField:SA,PasswordField:N0,Appearance:Ve},Ze.AcroForm={ChoiceField:rl,ListBox:al,ComboBox:sl,EditBox:w0,Button:Pr,PushButton:v0,RadioButton:nl,CheckBox:B0,TextField:SA,PasswordField:N0,Appearance:Ve};function I5(e){return e.reduce(function(t,a,s){return t[a]=s,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(Q,j){var T,z,H,S,X,q=t;if((j=j||t)==="RGBA"||Q.data!==void 0&&Q.data instanceof Uint8ClampedArray&&"height"in Q&&"width"in Q)return"RGBA";if(D(Q))for(X in a)for(H=a[X],T=0;T<H.length;T+=1){for(S=!0,z=0;z<H[T].length;z+=1)if(H[T][z]!==void 0&&H[T][z]!==Q[z]){S=!1;break}if(S===!0){q=X;break}}else for(X in a)for(H=a[X],T=0;T<H.length;T+=1){for(S=!0,z=0;z<H[T].length;z+=1)if(H[T][z]!==void 0&&H[T][z]!==Q.charCodeAt(z)){S=!1;break}if(S===!0){q=X;break}}return q===t&&j!==t&&(q=j),q},n=function Q(j){for(var T=this.internal.write,z=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var S=[];if(S.push({key:"Type",value:"/XObject"}),S.push({key:"Subtype",value:"/Image"}),S.push({key:"Width",value:j.width}),S.push({key:"Height",value:j.height}),j.colorSpace===N.INDEXED?S.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(S.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===N.DEVICE_CMYK&&S.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),S.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&S.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var X="",q=0,te=j.transparency.length;q<te;q++)X+=j.transparency[q]+" "+j.transparency[q]+" ";S.push({key:"Mask",value:"["+X+"]"})}j.sMask!==void 0&&S.push({key:"SMask",value:j.objectId+1+" 0 R"});var ie=j.filter!==void 0?["/"+j.filter]:void 0;if(z({data:j.data,additionalKeyValues:S,alreadyAppliedFilters:ie,objectId:j.objectId}),T("endobj"),"sMask"in j&&j.sMask!==void 0){var pe="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,R={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:pe,data:j.sMask};"filter"in j&&(R.filter=j.filter),Q.call(this,R)}if(j.colorSpace===N.INDEXED){var $=this.internal.newObject();z({data:C(new Uint8Array(j.palette)),objectId:$}),T("endobj")}},i=function(){var Q=this.internal.collections.addImage_images;for(var j in Q)n.call(this,Q[j])},A=function(){var Q,j=this.internal.collections.addImage_images,T=this.internal.write;for(var z in j)T("/I"+(Q=j[z]).index,Q.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",A))},l=function(){var Q=this.internal.collections.addImage_images;return o.call(this),Q},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(Q){return typeof e["process"+Q.toUpperCase()]=="function"},h=function(Q){return Qt(Q)==="object"&&Q.nodeType===1},x=function(Q,j){if(Q.nodeName==="IMG"&&Q.hasAttribute("src")){var T=""+Q.getAttribute("src");if(T.indexOf("data:image/")===0)return Mc(unescape(T).split("base64,").pop());var z=e.loadFile(T,!0);if(z!==void 0)return z}if(Q.nodeName==="CANVAS"){if(Q.width===0||Q.height===0)throw new Error("Given canvas must have data. Canvas width: "+Q.width+", height: "+Q.height);var H;switch(j){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg"}return Mc(Q.toDataURL(H,1).split("base64,").pop())}},g=function(Q){var j=this.internal.collections.addImage_images;if(j){for(var T in j)if(Q===j[T].alias)return j[T]}},v=function(Q,j,T){return Q||j||(Q=-96,j=-96),Q<0&&(Q=-1*T.width*72/Q/this.internal.scaleFactor),j<0&&(j=-1*T.height*72/j/this.internal.scaleFactor),Q===0&&(Q=j*T.width/T.height),j===0&&(j=Q*T.height/T.width),[Q,j]},y=function(Q,j,T,z,H,S){var X=v.call(this,T,z,H),q=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,ie=l.call(this);if(T=X[0],z=X[1],ie[H.index]=H,S){S*=Math.PI/180;var pe=Math.cos(S),R=Math.sin(S),$=function(re){return re.toFixed(4)},Y=[$(pe),$(R),$(-1*R),$(pe),0,0,"cm"]}this.internal.write("q"),S?(this.internal.write([1,"0","0",1,q(Q),te(j+z),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([q(T),"0","0",q(z),"0","0","cm"].join(" "))):this.internal.write([q(T),"0","0",q(z),q(Q),te(j+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var p=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},m=e.__addimage__.sHashCode=function(Q){var j,T,z=0;if(typeof Q=="string")for(T=Q.length,j=0;j<T;j++)z=(z<<5)-z+Q.charCodeAt(j),z|=0;else if(D(Q))for(T=Q.byteLength/2,j=0;j<T;j++)z=(z<<5)-z+Q[j],z|=0;return z},w=e.__addimage__.validateStringAsBase64=function(Q){(Q=Q||"").toString().trim();var j=!0;return Q.length===0&&(j=!1),Q.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(Q.substr(0,Q.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Q.substr(-2))===!1&&(j=!1),j},E=e.__addimage__.extractImageFromDataUrl=function(Q){if(Q==null||!(Q=Q.trim()).startsWith("data:"))return null;var j=Q.indexOf(",");return j<0?null:Q.substring(0,j).trim().endsWith("base64")?Q.substring(j+1):null},U=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(Q){return U()&&Q instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(Q){return U()&&typeof Uint32Array<"u"&&(Q instanceof Int8Array||Q instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array)},F=e.__addimage__.binaryStringToUint8Array=function(Q){for(var j=Q.length,T=new Uint8Array(j),z=0;z<j;z++)T[z]=Q.charCodeAt(z);return T},C=e.__addimage__.arrayBufferToBinaryString=function(Q){for(var j="",T=D(Q)?Q:new Uint8Array(Q),z=0;z<T.length;z+=8192)j+=String.fromCharCode.apply(null,T.subarray(z,z+8192));return j};e.addImage=function(){var Q,j,T,z,H,S,X,q,te;if(typeof arguments[1]=="number"?(j=t,T=arguments[1],z=arguments[2],H=arguments[3],S=arguments[4],X=arguments[5],q=arguments[6],te=arguments[7]):(j=arguments[1],T=arguments[2],z=arguments[3],H=arguments[4],S=arguments[5],X=arguments[6],q=arguments[7],te=arguments[8]),Qt(Q=arguments[0])==="object"&&!h(Q)&&"imageData"in Q){var ie=Q;Q=ie.imageData,j=ie.format||j||t,T=ie.x||T||0,z=ie.y||z||0,H=ie.w||ie.width||H,S=ie.h||ie.height||S,X=ie.alias||X,q=ie.compression||q,te=ie.rotation||ie.angle||te}var pe=this.internal.getFilters();if(q===void 0&&pe.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(T)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var R=K.call(this,Q,j,X,q);return y.call(this,T,z,H,S,R,te),this};var K=function(Q,j,T,z){var H,S,X;if(typeof Q=="string"&&s(Q)===t){Q=unescape(Q);var q=M(Q,!1);(q!==""||(q=e.loadFile(Q,!0))!==void 0)&&(Q=q)}if(h(Q)&&(Q=x(Q,j)),j=s(Q,j),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((X=T)==null||X.length===0)&&(T=function(te){return typeof te=="string"||D(te)?m(te):D(te.data)?m(te.data):null}(Q)),(H=g.call(this,T))||(U()&&(Q instanceof Uint8Array||j==="RGBA"||(S=Q,Q=F(Q))),H=this["process"+j.toUpperCase()](Q,c.call(this),T,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:p.NONE}(z),S)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},M=e.__addimage__.convertBase64ToBinaryString=function(Q,j){j=typeof j!="boolean"||j;var T,z="";if(typeof Q=="string"){var H;T=(H=E(Q))!==null&&H!==void 0?H:Q;try{z=Mc(T)}catch(S){if(j)throw w(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+S.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(Q){var j,T,z="";if(h(Q)&&(Q=x(Q)),typeof Q=="string"&&s(Q)===t&&((z=M(Q,!1))===""&&(z=e.loadFile(Q)||""),Q=z),T=s(Q),!u(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(!U()||Q instanceof Uint8Array||(Q=F(Q)),!(j=this["process"+T.toUpperCase()](Q)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=T,j}})(Ze.API),function(e){var t=function(a){if(a!==void 0&&a!="")return!0};Ze.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(a){for(var s,n,i,A=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(a.objId),c=a.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((s=c[h]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var x=0;x<c.length;x++){s=c[x];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(a.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(y.objId),m=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+A(s.bounds.x)+" "+o(s.bounds.y+s.bounds.h)+" "+A(s.bounds.x+s.bounds.w)+" "+o(s.bounds.y)+"] ")+"/Contents ("+g(p(s.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+g(p(m))+") >>",y.content=i;var w=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+A(s.bounds.x+30)+" "+o(s.bounds.y+s.bounds.h)+" "+A(s.bounds.x+s.bounds.w+30)+" "+o(s.bounds.y)+"] ")+" /Parent "+w,s.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(y.objId,"0 R",N.objId,"0 R");break;case"freetext":n="/Rect ["+A(s.bounds.x)+" "+o(s.bounds.y)+" "+A(s.bounds.x+s.bounds.w)+" "+o(s.bounds.y+s.bounds.h)+"] ";var E=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+g(v(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var U=this.annotations._nameMap[s.options.name];s.options.pageNumber=U.page,s.options.top=U.y}else s.options.top||(s.options.top=0);if(n="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var D=o(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+D+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(a){var s=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":s.pageContext.annotations.push(a)}},e.link=function(a,s,n,i,A){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(a),y:c(s),w:l(a+n),h:c(s+i)},options:A,type:"link"})},e.textWithLink=function(a,s,n,i){var A,o,l=this.getTextWidth(a),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(a,o).length;A=Math.ceil(c*u)}else o=l,A=c;return this.text(a,s,n,i),n+=.2*c,i.align==="center"&&(s-=l/2),i.align==="right"&&(s-=l),this.link(s,n-c,o,A,i),l},e.getTextWidth=function(a){var s=this.internal.getFontSize();return this.getStringUnitWidth(a)*s/this.internal.scaleFactor}}(Ze.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},A=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return A(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(y){return A(y)&&n.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return A(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return A(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return A(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return A(y)&&i(y)&&t[y.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(y){var N=0,p=a,m="",w=0;for(N=0;N<y.length;N+=1)p[y.charCodeAt(N)]!==void 0?(w++,typeof(p=p[y.charCodeAt(N)])=="number"&&(m+=String.fromCharCode(p),p=a,w=0),N===y.length-1&&(p=a,m+=y.charAt(N-(w-1)),N-=w-1,w=0)):(p=a,m+=y.charAt(N-w),N-=w,w=0);return m};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&s[y.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(y,N,p){return A(y)?i(y)===!1?-1:!c(y)||!A(N)&&!A(p)||!A(p)&&o(N)||o(y)&&!A(N)||o(y)&&l(N)||o(y)&&o(N)?0:u(y)&&A(N)&&!o(N)&&A(p)&&c(p)?3:o(y)||!A(p)?1:2:-1},g=function(y){var N=0,p=0,m=0,w="",E="",U="",D=(y=y||"").split("\\s+"),F=[];for(N=0;N<D.length;N+=1){for(F.push(""),p=0;p<D[N].length;p+=1)w=D[N][p],E=D[N][p-1],U=D[N][p+1],A(w)?(m=x(w,E,U),F[N]+=m!==-1?String.fromCharCode(t[w.charCodeAt(0)][m]):w):F[N]+=w;F[N]=h(F[N])}return F.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var y,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(N)){var m=0;for(p=[],m=0;m<N.length;m+=1)Array.isArray(N[m])?p.push([g(N[m][0]),N[m][1],N[m][2]]):p.push([g(N[m])]);y=p}else y=g(N);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",v])}(Ze.API),Ze.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(o){a=o}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(o){A=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(a,s){var n;if((a=a||"2d")!=="2d")return null;for(n in s)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=s[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ze.API),function(e){var t={left:0,top:0,bottom:0,right:0},a=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(y){x=y}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(y){v=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return s.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){s.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),x=c.scaleFactor||this.internal.scaleFactor,g=0,v=0,y=0,N=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var p=c.maxWidth;p>0?typeof l=="string"?l=this.splitTextToSize(l,p):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,E){return w.concat(N.splitTextToSize(E,p))},[])):l=Array.isArray(l)?l:[l];for(var m=0;m<l.length;m++)g<(y=this.getStringUnitWidth(l[m],{font:h})*u)&&(g=y);return g!==0&&(v=l.length),{w:g/=x,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,g&&x&&(this.printHeaderRow(l.lineNumber,!0),l.y+=x[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,a===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,h,x){if(s.call(this),!u)throw new Error("No data for PDF table.");var g,v,y,N,p=[],m=[],w=[],E={},U={},D=[],F=[],C=(x=x||{}).autoSize||!1,K=x.printHeaders!==!1,M=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,Q=x.margins||Object.assign({width:this.getPageWidth()},t),j=typeof x.padding=="number"?x.padding:3,T=x.headerBackgroundColor||"#c8c8c8",z=x.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=Q,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=z,this.setFontSize(M),h==null)m=p=Object.keys(u[0]),w=p.map(function(){return"left"});else if(Array.isArray(h)&&Qt(h[0])==="object")for(p=h.map(function(ie){return ie.name}),m=h.map(function(ie){return ie.prompt||ie.name||""}),w=h.map(function(ie){return ie.align||"left"}),g=0;g<h.length;g+=1)U[h[g].name]=h[g].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(m=p=h,w=p.map(function(){return"left"}));if(C||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<p.length;g+=1){for(E[N=p[g]]=u.map(function(ie){return ie[N]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=E[N],this.setFont(void 0,"normal"),y=0;y<v.length;y+=1)D.push(this.getTextDimensions(v[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[N]=Math.max.apply(null,D)+j+j,D=[]}if(K){var H={};for(g=0;g<p.length;g+=1)H[p[g]]={},H[p[g]].text=m[g],H[p[g]].align=w[g];var S=o.call(this,H,U);F=p.map(function(ie){return new i(l,c,U[ie],S,H[ie].text,void 0,H[ie].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var X=h.reduce(function(ie,pe){return ie[pe.name]=pe.align,ie},{});for(g=0;g<u.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:u[g]},this);var q=o.call(this,u[g],U);for(y=0;y<p.length;y+=1){var te=u[g][p[y]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:y,data:te},this),A.call(this,new i(l,c,U[p[y]],q,te,g+2,X[p[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(l).map(function(g){var v=l[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[g]-u-u)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/x+u+u},this).reduce(function(g,v){return Math.max(g,v)},0)};e.setTableHeaderRow=function(l){s.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){u=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,x.push(u)),u.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,u),this.setTextColor(v)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),a=!1}}(Ze.API);var P5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},D5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gp=I5(D5),T5=[100,200,300,400,500,600,700,800,900],y6=I5(T5);function fp(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),a=function(i){return P5[i=i||"normal"]?i:"normal"}(e.style),s=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),n=function(i){return typeof gp[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:a,weight:s,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,a,s].join(" ")}}}function uw(e,t,a,s){var n;for(n=a;n>=0&&n<t.length;n+=s)if(e[t[n]])return e[t[n]];for(n=a;n>=0&&n<t.length;n-=s)if(e[t[n]])return e[t[n]]}var b6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function w6(e,t,a){for(var s=(a=a||{}).defaultFontFamily||"times",n=Object.assign({},b6,a.genericFontFamilies||{}),i=null,A=null,o=0;o<t.length;++o)if(n[(i=fp(t[o])).family]&&(i.family=n[i.family]),e.hasOwnProperty(i.family)){A=e[i.family];break}if(!(A=A||e[s]))throw new Error("Could not find a font-family for the rule '"+gw(i)+"' and default family '"+s+"'.");if(A=function(l,c){if(c[l])return c[l];var u=gp[l],h=u<=gp.normal?-1:1,x=uw(c,D5,u,h);if(!x)throw new Error("Could not find a matching font-stretch value for "+l);return x}(i.stretch,A),A=function(l,c){if(c[l])return c[l];for(var u=P5[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(i.style,A),!(A=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=y6[l],h=uw(c,T5,u,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(i.weight,A)))throw new Error("Failed to resolve a font for the rule '"+gw(i)+"'.");return A}function fw(e){return e.trimLeft()}function v6(e,t){for(var a=0;a<e.length;){if(e.charAt(a)===t)return[e.substring(0,a),e.substring(a+1)];a+=1}return null}function B6(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ru,mw,pw,Tf=["times"];(function(e){var t,a,s,n,i,A,o,l,c,u=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new A,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new A,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,A=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=R;Object.defineProperty(this,"pdf",{get:function(){return $}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(ye){Y=!!ye}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(ye){re=!!ye}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(ye){isNaN(ye)||(ee=ye)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(ye){isNaN(ye)||(se=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var G;typeof ye=="number"?G=[ye,ye,ye,ye]:((G=new Array(4))[0]=ye[0],G[1]=ye.length>=2?ye[1]:G[0],G[2]=ye.length>=3?ye[2]:G[0],G[3]=ye.length>=4?ye[3]:G[1]),c.margin=G}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(ye){ae=ye}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ye){de=ye}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(ye){Be=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof u&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(ye){ke=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var G;G=x(ye),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var G=x(ye);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Qe=null;function Ee(ye,G){if(Qe===null){var _e=function(Ue){var Ce=[];return Object.keys(Ue).forEach(function(Fe){Ue[Fe].forEach(function(Te){var Ie=null;switch(Te){case"bold":Ie={family:Fe,weight:"bold"};break;case"italic":Ie={family:Fe,style:"italic"};break;case"bolditalic":Ie={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Fe}}Ie!==null&&(Ie.ref={name:Fe,style:Te},Ce.push(Ie))})}),Ce}(ye.getFontList());Qe=function(Ue){for(var Ce={},Fe=0;Fe<Ue.length;++Fe){var Te=fp(Ue[Fe]),Ie=Te.family,Ge=Te.stretch,tt=Te.style,at=Te.weight;Ce[Ie]=Ce[Ie]||{},Ce[Ie][Ge]=Ce[Ie][Ge]||{},Ce[Ie][Ge][tt]=Ce[Ie][Ge][tt]||{},Ce[Ie][Ge][tt][at]=Te}return Ce}(_e.concat(G))}return Qe}var Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(ye){Qe=null,Je=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var G;if(this.ctx.font=ye,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var _e=G[1];G[2];var Ue=G[3],Ce=G[4];G[5];var Fe=G[6],Te=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(Te==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:Te==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var Ie=function(Xe){var ut,Re,Vr=[],wt=Xe.trim();if(wt==="")return Tf;if(wt in hw)return[hw[wt]];for(;wt!=="";){switch(Re=null,ut=(wt=fw(wt)).charAt(0)){case'"':case"'":Re=v6(wt.substring(1),ut);break;default:Re=B6(wt)}if(Re===null||(Vr.push(Re[0]),(wt=fw(Re[1]))!==""&&wt.charAt(0)!==","))return Tf;wt=wt.replace(/^,/,"")}return Vr}(Fe);if(this.fontFaces){var Ge=w6(Ee(this.pdf,this.fontFaces),Ie.map(function(Xe){return{family:Xe,stretch:"normal",weight:Ue,style:_e}}));this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var tt="";(Ue==="bold"||parseInt(Ue,10)>=700||_e==="bold")&&(tt="bold"),_e==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var at="",dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<Ie.length;ft++){if(this.pdf.internal.getFont(Ie[ft],tt,{noFallback:!0,disableWarning:!0})!==void 0){at=Ie[ft];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Ie[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Ie[ft],tt="bold";else if(this.pdf.internal.getFont(Ie[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Ie[ft],tt="normal";break}}if(at===""){for(var vt=0;vt<Ie.length;vt++)if(dt[Ie[vt]]){at=dt[Ie[vt]];break}}at=at===""?"Times":at,this.pdf.setFont(at,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};h.prototype.setLineDash=function(R){this.lineDash=R},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(R,$){if(isNaN(R)||isNaN($))throw Tt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new A(R,$));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new A(R,$)},h.prototype.closePath=function(){var R=new A(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Qt(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){R=new A(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(R.x,R.y)},h.prototype.lineTo=function(R,$){if(isNaN(R)||isNaN($))throw Tt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new A(R,$));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new A(Y.x,Y.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(R,$,Y,re){if(isNaN(Y)||isNaN(re)||isNaN(R)||isNaN($))throw Tt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new A(Y,re)),se=this.ctx.transform.applyToPoint(new A(R,$));this.path.push({type:"qct",x1:se.x,y1:se.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new A(ee.x,ee.y)},h.prototype.bezierCurveTo=function(R,$,Y,re,ee,se){if(isNaN(ee)||isNaN(se)||isNaN(R)||isNaN($)||isNaN(Y)||isNaN(re))throw Tt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new A(ee,se)),de=this.ctx.transform.applyToPoint(new A(R,$)),Be=this.ctx.transform.applyToPoint(new A(Y,re));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:Be.x,y2:Be.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new A(ae.x,ae.y)},h.prototype.arc=function(R,$,Y,re,ee,se){if(isNaN(R)||isNaN($)||isNaN(Y)||isNaN(re)||isNaN(ee))throw Tt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new A(R,$));R=ae.x,$=ae.y;var de=this.ctx.transform.applyToPoint(new A(0,Y)),Be=this.ctx.transform.applyToPoint(new A(0,0));Y=Math.sqrt(Math.pow(de.x-Be.x,2)+Math.pow(de.y-Be.y,2))}Math.abs(ee-re)>=2*Math.PI&&(re=0,ee=2*Math.PI),this.path.push({type:"arc",x:R,y:$,radius:Y,startAngle:re,endAngle:ee,counterclockwise:se})},h.prototype.arcTo=function(R,$,Y,re,ee){throw new Error("arcTo not implemented.")},h.prototype.rect=function(R,$,Y,re){if(isNaN(R)||isNaN($)||isNaN(Y)||isNaN(re))throw Tt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,$),this.lineTo(R+Y,$),this.lineTo(R+Y,$+re),this.lineTo(R,$+re),this.lineTo(R,$),this.lineTo(R+Y,$),this.lineTo(R,$)},h.prototype.fillRect=function(R,$,Y,re){if(isNaN(R)||isNaN($)||isNaN(Y)||isNaN(re))throw Tt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,$,Y,re),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},h.prototype.strokeRect=function(R,$,Y,re){if(isNaN(R)||isNaN($)||isNaN(Y)||isNaN(re))throw Tt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(R,$,Y,re),this.stroke())},h.prototype.clearRect=function(R,$,Y,re){if(isNaN(R)||isNaN($)||isNaN(Y)||isNaN(re))throw Tt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,$,Y,re))},h.prototype.save=function(R){R=typeof R!="boolean"||R;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage($),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},h.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage($),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(R){var $,Y,re,ee;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))$=0,Y=0,re=0,ee=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(se!==null)$=parseInt(se[1]),Y=parseInt(se[2]),re=parseInt(se[3]),ee=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)$=parseInt(se[1]),Y=parseInt(se[2]),re=parseInt(se[3]),ee=parseFloat(se[4]);else{if(ee=1,typeof R=="string"&&R.charAt(0)!=="#"){var ae=new S5(R);R=ae.ok?ae.toHex():"#000000"}R.length===4?($=R.substring(1,2),$+=$,Y=R.substring(2,3),Y+=Y,re=R.substring(3,4),re+=re):($=R.substring(1,3),Y=R.substring(3,5),re=R.substring(5,7)),$=parseInt($,16),Y=parseInt(Y,16),re=parseInt(re,16)}}return{r:$,g:Y,b:re,a:ee,style:R}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(R,$,Y,re){if(isNaN($)||isNaN(Y)||typeof R!="string")throw Tt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!g.call(this)){var ee=q(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;j.call(this,{text:R,x:$,y:Y,scale:se,angle:ee,align:this.textAlign,maxWidth:re})}},h.prototype.strokeText=function(R,$,Y,re){if(isNaN($)||isNaN(Y)||typeof R!="string")throw Tt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){re=isNaN(re)?void 0:re;var ee=q(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;j.call(this,{text:R,x:$,y:Y,scale:se,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:re})}},h.prototype.measureText=function(R){if(typeof R!="string")throw Tt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,Y=this.pdf.internal.scaleFactor,re=$.internal.getFontSize(),ee=$.getStringUnitWidth(R)*re/$.internal.scaleFactor,se=function(ae){var de=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new se({width:ee*=Math.round(96*Y/72*1e4)/1e4})},h.prototype.scale=function(R,$){if(isNaN(R)||isNaN($))throw Tt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(R,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.rotate=function(R){if(isNaN(R))throw Tt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.translate=function(R,$){if(isNaN(R)||isNaN($))throw Tt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,R,$);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.transform=function(R,$,Y,re,ee,se){if(isNaN(R)||isNaN($)||isNaN(Y)||isNaN(re)||isNaN(ee)||isNaN(se))throw Tt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new l(R,$,Y,re,ee,se);this.ctx.transform=this.ctx.transform.multiply(ae)},h.prototype.setTransform=function(R,$,Y,re,ee,se){R=isNaN(R)?1:R,$=isNaN($)?0:$,Y=isNaN(Y)?0:Y,re=isNaN(re)?1:re,ee=isNaN(ee)?0:ee,se=isNaN(se)?0:se,this.ctx.transform=new l(R,$,Y,re,ee,se)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(R,$,Y,re,ee,se,ae,de,Be){var ke=this.pdf.getImageProperties(R),Qe=1,Ee=1,Je=1,ye=1;re!==void 0&&de!==void 0&&(Je=de/re,ye=Be/ee,Qe=ke.width/re*de/re,Ee=ke.height/ee*Be/ee),se===void 0&&(se=$,ae=Y,$=0,Y=0),re!==void 0&&de===void 0&&(de=re,Be=ee),re===void 0&&de===void 0&&(de=ke.width,Be=ke.height);for(var G,_e=this.ctx.transform.decompose(),Ue=q(_e.rotate.shx),Ce=new l,Fe=(Ce=(Ce=(Ce=Ce.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale)).applyToRectangle(new o(se-$*Je,ae-Y*ye,re*Qe,ee*Ee)),Te=N.call(this,Fe),Ie=[],Ge=0;Ge<Te.length;Ge+=1)Ie.indexOf(Te[Ge])===-1&&Ie.push(Te[Ge]);if(w(Ie),this.autoPaging)for(var tt=Ie[0],at=Ie[Ie.length-1],dt=tt;dt<at+1;dt++){this.pdf.setPage(dt);var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=dt===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Re=dt===1?0:Xe+(dt-2)*ut;if(this.ctx.clip_path.length!==0){var Vr=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(G,this.posX+this.margin[3],-Re+vt+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=Vr}var wt=JSON.parse(JSON.stringify(Fe));wt=m([wt],this.posX+this.margin[3],-Re+vt+this.ctx.prevPageLastElemOffset)[0];var ps=(dt>tt||dt<at)&&y.call(this);ps&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,ut,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,Ue),ps&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Ue)};var N=function(R,$,Y){var re=[];$=$||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":re.push(Math.floor((R.y+ee)/Y)+1);break;case"arc":re.push(Math.floor((R.y+ee-R.radius)/Y)+1),re.push(Math.floor((R.y+ee+R.radius)/Y)+1);break;case"qct":var se=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);re.push(Math.floor((se.y+ee)/Y)+1),re.push(Math.floor((se.y+se.h+ee)/Y)+1);break;case"bct":var ae=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);re.push(Math.floor((ae.y+ee)/Y)+1),re.push(Math.floor((ae.y+ae.h+ee)/Y)+1);break;case"rect":re.push(Math.floor((R.y+ee)/Y)+1),re.push(Math.floor((R.y+R.h+ee)/Y)+1)}for(var de=0;de<re.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<re[de];)p.call(this);return re},p=function(){var R=this.fillStyle,$=this.strokeStyle,Y=this.font,re=this.lineCap,ee=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=$,this.font=Y,this.lineCap=re,this.lineWidth=ee,this.lineJoin=se},m=function(R,$,Y){for(var re=0;re<R.length;re++)switch(R[re].type){case"bct":R[re].x2+=$,R[re].y2+=Y;case"qct":R[re].x1+=$,R[re].y1+=Y;case"mt":case"lt":case"arc":default:R[re].x+=$,R[re].y+=Y}return R},w=function(R){return R.sort(function($,Y){return $-Y})},E=function(R,$){for(var Y,re,ee=this.fillStyle,se=this.strokeStyle,ae=this.lineCap,de=this.lineWidth,Be=Math.abs(de*this.ctx.transform.scaleX),ke=this.lineJoin,Qe=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Je=[],ye=0;ye<Ee.length;ye++)if(Ee[ye].x!==void 0)for(var G=N.call(this,Ee[ye]),_e=0;_e<G.length;_e+=1)Je.indexOf(G[_e])===-1&&Je.push(G[_e]);for(var Ue=0;Ue<Je.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<Je[Ue];)p.call(this);if(w(Je),this.autoPaging)for(var Ce=Je[0],Fe=Je[Je.length-1],Te=Ce;Te<Fe+1;Te++){this.pdf.setPage(Te),this.fillStyle=ee,this.strokeStyle=se,this.lineCap=ae,this.lineWidth=Be,this.lineJoin=ke;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Te===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Te===1?0:tt+(Te-2)*at;if(this.ctx.clip_path.length!==0){var ft=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(Y,this.posX+this.margin[3],-dt+Ge+this.ctx.prevPageLastElemOffset),U.call(this,R,!0),this.path=ft}if(re=JSON.parse(JSON.stringify(Qe)),this.path=m(re,this.posX+this.margin[3],-dt+Ge+this.ctx.prevPageLastElemOffset),$===!1||Te===0){var vt=(Te>Ce||Te<Fe)&&y.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,at,null).clip().discardPath()),U.call(this,R,$),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=Be,U.call(this,R,$),this.lineWidth=de;this.path=Qe},U=function(R,$){if((R!=="stroke"||$||!v.call(this))&&(R==="stroke"||$||!g.call(this))){for(var Y,re,ee=[],se=this.path,ae=0;ae<se.length;ae++){var de=se[ae];switch(de.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:de,deltas:[],abs:[]});break;case"lt":var Be=ee.length;if(se[ae-1]&&!isNaN(se[ae-1].x)&&(Y=[de.x-se[ae-1].x,de.y-se[ae-1].y],Be>0)){for(;Be>=0;Be--)if(ee[Be-1].close!==!0&&ee[Be-1].begin!==!0){ee[Be-1].deltas.push(Y),ee[Be-1].abs.push(de);break}}break;case"bct":Y=[de.x1-se[ae-1].x,de.y1-se[ae-1].y,de.x2-se[ae-1].x,de.y2-se[ae-1].y,de.x-se[ae-1].x,de.y-se[ae-1].y],ee[ee.length-1].deltas.push(Y);break;case"qct":var ke=se[ae-1].x+2/3*(de.x1-se[ae-1].x),Qe=se[ae-1].y+2/3*(de.y1-se[ae-1].y),Ee=de.x+2/3*(de.x1-de.x),Je=de.y+2/3*(de.y1-de.y),ye=de.x,G=de.y;Y=[ke-se[ae-1].x,Qe-se[ae-1].y,Ee-se[ae-1].x,Je-se[ae-1].y,ye-se[ae-1].x,G-se[ae-1].y],ee[ee.length-1].deltas.push(Y);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(de)}}re=$?null:R==="stroke"?"stroke":"fill";for(var _e=!1,Ue=0;Ue<ee.length;Ue++)if(ee[Ue].arc)for(var Ce=ee[Ue].abs,Fe=0;Fe<Ce.length;Fe++){var Te=Ce[Fe];Te.type==="arc"?C.call(this,Te.x,Te.y,Te.radius,Te.startAngle,Te.endAngle,Te.counterclockwise,void 0,$,!_e):T.call(this,Te.x,Te.y),_e=!0}else if(ee[Ue].close===!0)this.pdf.internal.out("h"),_e=!1;else if(ee[Ue].begin!==!0){var Ie=ee[Ue].start.x,Ge=ee[Ue].start.y;z.call(this,ee[Ue].deltas,Ie,Ge),_e=!0}re&&K.call(this,re),$&&M.call(this)}},D=function(R){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-Y;case"top":return R+$-Y;case"hanging":return R+$-2*Y;case"middle":return R+$/2-Y;case"ideographic":return R;case"alphabetic":default:return R}},F=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function($,Y){this.colorStops.push([$,Y])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(R,$,Y,re,ee,se,ae,de,Be){for(var ke=S.call(this,Y,re,ee,se),Qe=0;Qe<ke.length;Qe++){var Ee=ke[Qe];Qe===0&&(Be?Q.call(this,Ee.x1+R,Ee.y1+$):T.call(this,Ee.x1+R,Ee.y1+$)),H.call(this,R,$,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}de?M.call(this):K.call(this,ae)},K=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},Q=function(R,$){this.pdf.internal.out(a(R)+" "+s($)+" m")},j=function(R){var $;switch(R.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var Y=this.pdf.getTextDimensions(R.text),re=D.call(this,R.y),ee=F.call(this,re)-Y.h,se=this.ctx.transform.applyToPoint(new A(R.x,re)),ae=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(ae.translate)).multiply(ae.skew)).multiply(ae.scale);for(var Be,ke,Qe,Ee=this.ctx.transform.applyToRectangle(new o(R.x,re,Y.w,Y.h)),Je=de.applyToRectangle(new o(R.x,ee,Y.w,Y.h)),ye=N.call(this,Je),G=[],_e=0;_e<ye.length;_e+=1)G.indexOf(ye[_e])===-1&&G.push(ye[_e]);if(w(G),this.autoPaging)for(var Ue=G[0],Ce=G[G.length-1],Fe=Ue;Fe<Ce+1;Fe++){this.pdf.setPage(Fe);var Te=Fe===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],tt=Ge-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],dt=at-this.margin[3],ft=Fe===1?0:Ie+(Fe-2)*tt;if(this.ctx.clip_path.length!==0){var vt=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(Be,this.posX+this.margin[3],-1*ft+Te),U.call(this,"fill",!0),this.path=vt}var Xe=m([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-ft+Te+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*R.scale),Qe=this.lineWidth,this.lineWidth=Qe*R.scale);var ut=this.autoPaging!=="text";if(ut||Xe.y+Xe.h<=Ge){if(ut||Xe.y>=Te&&Xe.x<=at){var Re=ut?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||at-Xe.x)[0],Vr=m([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-ft+Te+this.ctx.prevPageLastElemOffset)[0],wt=ut&&(Fe>Ue||Fe<Ce)&&y.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,tt,null).clip().discardPath()),this.pdf.text(Re,Vr.x,Vr.y,{angle:R.angle,align:$,renderingMode:R.renderingMode}),wt&&this.pdf.restoreGraphicsState()}}else Xe.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-Xe.y);R.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Qe)}else R.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*R.scale),Qe=this.lineWidth,this.lineWidth=Qe*R.scale),this.pdf.text(R.text,se.x+this.posX,se.y+this.posY,{angle:R.angle,align:$,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Qe)},T=function(R,$,Y,re){Y=Y||0,re=re||0,this.pdf.internal.out(a(R+Y)+" "+s($+re)+" l")},z=function(R,$,Y){return this.pdf.lines(R,$,Y,null,null)},H=function(R,$,Y,re,ee,se,ae,de){this.pdf.internal.out([t(n(Y+R)),t(i(re+$)),t(n(ee+R)),t(i(se+$)),t(n(ae+R)),t(i(de+$)),"c"].join(" "))},S=function(R,$,Y,re){for(var ee=2*Math.PI,se=Math.PI/2;$>Y;)$-=ee;var ae=Math.abs(Y-$);ae<ee&&re&&(ae=ee-ae);for(var de=[],Be=re?-1:1,ke=$;ae>1e-5;){var Qe=ke+Be*Math.min(ae,se);de.push(X.call(this,R,ke,Qe)),ae-=Math.abs(Qe-ke),ke=Qe}return de},X=function(R,$,Y){var re=(Y-$)/2,ee=R*Math.cos(re),se=R*Math.sin(re),ae=ee,de=-se,Be=ae*ae+de*de,ke=Be+ae*ee+de*se,Qe=4/3*(Math.sqrt(2*Be*ke)-ke)/(ae*se-de*ee),Ee=ae-Qe*de,Je=de+Qe*ae,ye=Ee,G=-Je,_e=re+$,Ue=Math.cos(_e),Ce=Math.sin(_e);return{x1:R*Math.cos($),y1:R*Math.sin($),x2:Ee*Ue-Je*Ce,y2:Ee*Ce+Je*Ue,x3:ye*Ue-G*Ce,y3:ye*Ce+G*Ue,x4:R*Math.cos(Y),y4:R*Math.sin(Y)}},q=function(R){return 180*R/Math.PI},te=function(R,$,Y,re,ee,se){var ae=R+.5*(Y-R),de=$+.5*(re-$),Be=ee+.5*(Y-ee),ke=se+.5*(re-se),Qe=Math.min(R,ee,ae,Be),Ee=Math.max(R,ee,ae,Be),Je=Math.min($,se,de,ke),ye=Math.max($,se,de,ke);return new o(Qe,Je,Ee-Qe,ye-Je)},ie=function(R,$,Y,re,ee,se,ae,de){var Be,ke,Qe,Ee,Je,ye,G,_e,Ue,Ce,Fe,Te,Ie,Ge,tt=Y-R,at=re-$,dt=ee-Y,ft=se-re,vt=ae-ee,Xe=de-se;for(ke=0;ke<41;ke++)Ue=(G=(Qe=R+(Be=ke/40)*tt)+Be*((Je=Y+Be*dt)-Qe))+Be*(Je+Be*(ee+Be*vt-Je)-G),Ce=(_e=(Ee=$+Be*at)+Be*((ye=re+Be*ft)-Ee))+Be*(ye+Be*(se+Be*Xe-ye)-_e),ke==0?(Fe=Ue,Te=Ce,Ie=Ue,Ge=Ce):(Fe=Math.min(Fe,Ue),Te=Math.min(Te,Ce),Ie=Math.max(Ie,Ue),Ge=Math.max(Ge,Ce));return new o(Math.round(Fe),Math.round(Te),Math.round(Ie-Fe),Math.round(Ge-Te))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,$,Y=(R=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:$}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Ze.API),function(e){var t=function(i){var A,o,l,c,u,h,x,g,v,y;for(o=[],l=0,c=(i+=A="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(y=u%85))/85)-(v=u%85))/85)-(g=u%85))/85)-(x=u%85))/85)%85,o.push(h+33,x+33,g+33,v+33,y+33)):o.push(122);return function(N,p){for(var m=p;m>0;m--)N.pop()}(o,A.length),String.fromCharCode.apply(String,o)+"~>"},a=function(i){var A,o,l,c,u,h=String,x="length",g=255,v="charCodeAt",y="slice",N="replace";for(i[y](-2),i=i[y](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),l=[],c=0,u=(i+=A="uuuuu"[y](i[x]%5||5))[x];u>c;c+=5)o=52200625*(i[v](c)-33)+614125*(i[v](c+1)-33)+7225*(i[v](c+2)-33)+85*(i[v](c+3)-33)+(i[v](c+4)-33),l.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(p,m){for(var w=m;w>0;w--)p.pop()}(l,A[x]),h.fromCharCode.apply(h,l)},s=function(i){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),A.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},n=function(i){for(var A=new Uint8Array(i.length),o=i.length;o--;)A[o]=i.charCodeAt(o);return i=(A=lp(A)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,A){var o=0,l=i||"",c=[];for(typeof(A=A||[])=="string"&&(A=[A]),o=0;o<A.length;o+=1)switch(A[o]){case"ASCII85Decode":case"/ASCII85Decode":l=a(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=s(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=n(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ze.API),function(e){e.loadFile=function(t,a,s){return function(n,i,A){i=i!==!1,A=typeof A=="function"?A:function(){};var o=void 0;try{o=function(l,c,u){var h=new XMLHttpRequest,x=0,g=function(v){var y=v.length,N=[],p=String.fromCharCode;for(x=0;x<y;x+=1)N.push(p(255&v.charCodeAt(x)));return N.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(g(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return g(h.responseText)}(n,i,A)}catch{}return o}(t,a,s)},e.loadImageFile=e.loadFile}(Ze.API),function(e){function t(){return(et.html2canvas?Promise.resolve(et.html2canvas):vA(()=>Promise.resolve().then(()=>uL),void 0)).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function a(){return(et.DOMPurify?Promise.resolve(et.DOMPurify):vA(()=>import("./purify.es-31816194.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var s=function(A){var o=Qt(A);return o==="undefined"?"undefined":o==="string"||A instanceof String?"string":o==="number"||A instanceof Number?"number":o==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":o==="object"?"object":"unknown"},n=function(A,o){var l=document.createElement(A);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function A(o){var l=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),c=A.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,A,1,[A])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(A,o){return A.__proto__=o||i.prototype,A},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(A,o){return this.then(function(){switch(o=o||function(l){switch(s(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A)){case"string":return this.then(a).then(function(l){return this.set({src:n("div",{innerHTML:A,dompurify:l})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},i.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),x=c.firstChild;x;x=x.nextSibling)u!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||h.appendChild(l(x,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var x=0;x<c.length;++x){var g=c[x],v=g.src.find(function(y){return y.format==="truetype"});v&&l.addFont(v.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(A,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(A,o):this.outputPdf(A,o)},i.prototype.outputPdf=function(A,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,o)})},i.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},i.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(A){if(s(A)!=="object")return this;var o=Object.keys(A||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=A[l]};switch(l){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[l]=A[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(A,o){return this.then(function(){var l=A in i.template.prop?this.prop[A]:this.opt[A];return o?o(l):l})},i.prototype.setMargin=function(A){return this.then(function(){switch(s(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},i.prototype.setPageSize=function(A){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(A=A||Ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:o(A.inner.width,A.k),height:o(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},i.prototype.setProgress=function(A,o,l,c){return A!=null&&(this.progress.val=A),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(A,o,l,c){return this.setProgress(A?this.progress.val+A:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(A,o){var l=this;return this.thenCore(A,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},i.prototype.thenCore=function(A,o,l){l=l||Promise.prototype.then,A&&(A=A.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,A,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(A,o){return Promise.prototype.then.call(this,A,o)},i.prototype.thenList=function(A){var o=this;return A.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(A){A&&(A=A.bind(this));var o=Promise.prototype.catch.call(this,A);return i.convert(o,this)},i.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},i.prototype.error=function(A){return this.then(function(){throw new Error(A)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Ze.getPageSize=function(A,o,l){if(Qt(A)==="object"){var c=A;A=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",A=(""+(A||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var g,v=0,y=0;if(x.hasOwnProperty(h))v=x[h][1]/u,y=x[h][0]/u;else try{v=l[1],y=l[0]}catch{throw new Error("Invalid format: "+l)}if(A==="p"||A==="portrait")A="p",y>v&&(g=y,y=v,v=g);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",v>y&&(g=y,y=v,v=g)}return{width:y,height:v,unit:o,k:u,orientation:A}},e.html=function(A,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(fp):null;var l=new i(o);return o.worker?l:l.from(A).doCallback()}}(Ze.API),Ze.API.addJS=function(e){return pw=e,this.internal.events.subscribe("postPutResources",function(){Ru=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ru+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ru!==void 0&&mw!==void 0&&this.internal.out("/Names <</JavaScript "+Ru+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var a=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=a.outline.render().split(/\r\n/),i=0;i<n.length;i++){var A=n[i],o=s.exec(A);if(o!=null){var l=o[1];a.internal.newObjectDeferredBegin(l,!1)}a.internal.write(A)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var h=a.internal.newObject();u.push(h);var x=a.internal.getPageInfo(i+1);a.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=a.internal.newObject();for(a.internal.write("<< /Names [ "),i=0;i<u.length;i++)a.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");a.internal.write(" ] >>","endobj"),t=a.internal.newObject(),a.internal.write("<< /Dests "+g+" 0 R"),a.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(s,n,i){var A={title:n,options:i,children:[]};return s==null&&(s=this.root),s.children.push(A),A},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(s){s.id=a.internal.newObjectDeferred();for(var n=0;n<s.children.length;n++)this.genIds_r(s.children[n])},a.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},a.outline.renderItems=function(s){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var A=s.children[i];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var o=this.count=this.count_r({count:0},A);if(o>0&&this.line("/Count "+o),A.options&&A.options.pageNumber){var l=a.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<s.children.length;c++)this.renderItems(s.children[c])},a.outline.line=function(s){this.ctx.val+=s+`\r
`},a.outline.makeRef=function(s){return s.id+" 0 R"},a.outline.makeString=function(s){return"("+a.internal.pdfEscape(s)+")"},a.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(s,n){for(var i=0;i<n.children.length;i++)s.count++,this.count_r(s,n.children[i]);return s.count}}])}(Ze.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(a,s,n,i,A,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=A||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,(l=function(h){for(var x,g=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,y={width:0,height:0,numcomponents:1},N=4;N<v;N+=2){if(N+=g,t.indexOf(h.charCodeAt(N+1))!==-1){x=256*h.charCodeAt(N+5)+h.charCodeAt(N+6),y={width:256*h.charCodeAt(N+7)+h.charCodeAt(N+8),height:x,numcomponents:h.charCodeAt(N+9)};break}g=256*h.charCodeAt(N+2)+h.charCodeAt(N+3)}return y}(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:a,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:s,alias:n}}return u}}(Ze.API);var wo,Hu,xw,yw,bw,N6=function(){var e,t,a;function s(i){var A,o,l,c,u,h,x,g,v,y,N,p,m,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(A=this.readUInt32(),v=(function(){var E,U;for(U=[],E=0;E<4;++E)U.push(String.fromCharCode(this.data[this.pos++]));return U}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(A);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,A-=4),i=(h!=null?h.data:void 0)||this.imgData,p=0;0<=A?p<A:p>A;0<=A?++p:--p)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(A),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((y=l-this.transparency.indexed.length)>0)for(m=0;0<=y?m<y:m>y;0<=y?++m:--m)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(A)[0];break;case 2:this.transparency.rgb=this.read(A)}break;case"tEXt":x=(N=this.read(A)).indexOf(0),g=String.fromCharCode.apply(String,N.slice(0,x)),this.text[g]=String.fromCharCode.apply(String,N.slice(x+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=A}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(i){var A,o;for(o=[],A=0;0<=i?A<i:A>i;0<=i?++A:--A)o.push(this.data[this.pos++]);return o},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(i){var A=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*A),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(h,x,g,v){var y,N,p,m,w,E,U,D,F,C,K,M,Q,j,T,z,H,S,X,q,te,ie=Math.ceil((c.width-h)/g),pe=Math.ceil((c.height-x)/v),R=c.width==ie&&c.height==pe;for(j=A*ie,M=R?o:new Uint8Array(j*pe),E=i.length,Q=0,N=0;Q<pe&&l<E;){switch(i[l++]){case 0:for(m=H=0;H<j;m=H+=1)M[N++]=i[l++];break;case 1:for(m=S=0;S<j;m=S+=1)y=i[l++],w=m<A?0:M[N-A],M[N++]=(y+w)%256;break;case 2:for(m=X=0;X<j;m=X+=1)y=i[l++],p=(m-m%A)/A,T=Q&&M[(Q-1)*j+p*A+m%A],M[N++]=(T+y)%256;break;case 3:for(m=q=0;q<j;m=q+=1)y=i[l++],p=(m-m%A)/A,w=m<A?0:M[N-A],T=Q&&M[(Q-1)*j+p*A+m%A],M[N++]=(y+Math.floor((w+T)/2))%256;break;case 4:for(m=te=0;te<j;m=te+=1)y=i[l++],p=(m-m%A)/A,w=m<A?0:M[N-A],Q===0?T=z=0:(T=M[(Q-1)*j+p*A+m%A],z=p&&M[(Q-1)*j+(p-1)*A+m%A]),U=w+T-z,D=Math.abs(U-w),C=Math.abs(U-T),K=Math.abs(U-z),F=D<=C&&D<=K?w:C<=K?T:z,M[N++]=(y+F)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!R){var $=((x+Q*v)*c.width+h)*A,Y=Q*j;for(m=0;m<ie;m+=1){for(var re=0;re<A;re+=1)o[$++]=M[Y++];$+=(g-1)*A}}Q++}}return i=r6(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},s.prototype.decodePalette=function(){var i,A,o,l,c,u,h,x,g;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,A=h=0,x=o.length;h<x;A=h+=3)c[l++]=o[A],c[l++]=o[A+1],c[l++]=o[A+2],c[l++]=(g=u[i++])!=null?g:255;return c},s.prototype.copyToImageData=function(i,A){var o,l,c,u,h,x,g,v,y,N,p;if(l=this.colors,y=null,o=this.hasAlphaChannel,this.palette.length&&(y=(p=this._decodedPalette)!=null?p:this._decodedPalette=this.decodePalette(),l=4,o=!0),v=(c=i.data||i).length,h=y||A,u=x=0,l===1)for(;u<v;)g=y?4*A[u/4]:x,N=h[g++],c[u++]=N,c[u++]=N,c[u++]=N,c[u++]=o?h[g++]:255,x=g;else for(;u<v;)g=y?4*A[u/4]:x,c[u++]=h[g++],c[u++]=h[g++],c[u++]=h[g++],c[u++]=o?h[g++]:255,x=g},s.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var n=function(){if(Object.prototype.toString.call(et)==="[object Window]"){try{t=et.document.createElement("canvas"),a=t.getContext("2d")}catch{return!1}return!0}return!1};return n(),e=function(i){var A;if(n()===!0)return a.width=i.width,a.height=i.height,a.clearRect(0,0,i.width,i.height),a.putImageData(i,0,0),(A=new Image).src=t.toDataURL(),A;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(i){var A,o,l,c,u,h,x,g;if(this.animation){for(g=[],o=u=0,h=(x=this.animation.frames).length;u<h;o=++u)A=x[o],l=i.createImageData(A.width,A.height),c=this.decodePixels(new Uint8Array(A.data)),this.copyToImageData(l,c),A.imageData=l,g.push(A.image=e(l));return g}},s.prototype.renderFrame=function(i,A){var o,l,c;return o=(l=this.animation.frames)[A],c=l[A-1],A===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},s.prototype.animate=function(i){var A,o,l,c,u,h,x=this;return o=0,h=this.animation,c=h.numFrames,l=h.frames,u=h.numPlays,(A=function(){var g,v;if(g=o++%c,v=l[g],x.renderFrame(i,g),c>1&&o/c<u)return x.animation._timeout=setTimeout(A,v.delay)})()},s.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},s.prototype.render=function(i){var A,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,A=i.getContext("2d"),this.animation?(this.decodeFrames(A),this.animate(A)):(o=A.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),A.putImageData(o,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function k6(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,n=e[t++],i=n>>7,A=1<<(7&n)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=A,t+=3*A);var c=!0,u=[],h=0,x=null,g=0,v=null;for(this.width=a,this.height=s;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((Q=e[t++])>=0))throw Error("Invalid block size");if(Q===0)break;t+=Q}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];h=e[t++]|e[t++]<<8,x=e[t++],!(1&y)&&(x=null),g=y>>2&7,t++;break;case 254:for(;;){if(!((Q=e[t++])>=0))throw Error("Invalid block size");if(Q===0)break;t+=Q}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,p=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,E=e[t++],U=E>>6&1,D=1<<(7&E)+1,F=o,C=l,K=!1;E>>7&&(K=!0,F=t,C=D,t+=3*D);var M=t;for(t++;;){var Q;if(!((Q=e[t++])>=0))throw Error("Invalid block size");if(Q===0)break;t+=Q}u.push({x:N,y:p,width:m,height:w,has_local_palette:K,palette_offset:F,palette_size:C,data_offset:M,data_length:t-M,transparent_index:x,interlaced:!!U,delay:h,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,T){var z=this.frameInfo(j),H=z.width*z.height,S=new Uint8Array(H);ww(e,z.data_offset,S,H);var X=z.palette_offset,q=z.transparent_index;q===null&&(q=256);var te=z.width,ie=a-te,pe=te,R=4*(z.y*a+z.x),$=4*((z.y+z.height)*a+z.x),Y=R,re=4*ie;z.interlaced===!0&&(re+=4*a*7);for(var ee=8,se=0,ae=S.length;se<ae;++se){var de=S[se];if(pe===0&&(pe=te,(Y+=re)>=$&&(re=4*ie+4*a*(ee-1),Y=R+(te+ie)*(ee<<1),ee>>=1)),de===q)Y+=4;else{var Be=e[X+3*de],ke=e[X+3*de+1],Qe=e[X+3*de+2];T[Y++]=Qe,T[Y++]=ke,T[Y++]=Be,T[Y++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(j,T){var z=this.frameInfo(j),H=z.width*z.height,S=new Uint8Array(H);ww(e,z.data_offset,S,H);var X=z.palette_offset,q=z.transparent_index;q===null&&(q=256);var te=z.width,ie=a-te,pe=te,R=4*(z.y*a+z.x),$=4*((z.y+z.height)*a+z.x),Y=R,re=4*ie;z.interlaced===!0&&(re+=4*a*7);for(var ee=8,se=0,ae=S.length;se<ae;++se){var de=S[se];if(pe===0&&(pe=te,(Y+=re)>=$&&(re=4*ie+4*a*(ee-1),Y=R+(te+ie)*(ee<<1),ee>>=1)),de===q)Y+=4;else{var Be=e[X+3*de],ke=e[X+3*de+1],Qe=e[X+3*de+2];T[Y++]=Be,T[Y++]=ke,T[Y++]=Qe,T[Y++]=255}--pe}}}function ww(e,t,a,s){for(var n=e[t++],i=1<<n,A=i+1,o=A+1,l=n+1,c=(1<<l)-1,u=0,h=0,x=0,g=e[t++],v=new Int32Array(4096),y=null;;){for(;u<16&&g!==0;)h|=e[t++]<<u,u+=8,g===1?g=e[t++]:--g;if(u<l)break;var N=h&c;if(h>>=l,u-=l,N!==i){if(N===A)break;for(var p=N<o?N:y,m=0,w=p;w>i;)w=v[w]>>8,++m;var E=w;if(x+m+(p!==N?1:0)>s)return void Tt.log("Warning, gif stream longer than expected.");a[x++]=E;var U=x+=m;for(p!==N&&(a[x++]=E),w=p;m--;)w=v[w],a[--U]=255&w,w>>=8;y!==null&&o<4096&&(v[o++]=y<<8|E,o>=c+1&&l<12&&(++l,c=c<<1|1)),y=N}else o=A+1,c=(1<<(l=n+1))-1,y=null}return x!==s&&Tt.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Rf(e){var t,a,s,n,i,A=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),x=new Array(65535),g=new Array(64),v=new Array(64),y=[],N=0,p=7,m=new Array(64),w=new Array(64),E=new Array(64),U=new Array(256),D=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function S(R,$){for(var Y=0,re=0,ee=new Array,se=1;se<=16;se++){for(var ae=1;ae<=R[se];ae++)ee[$[re]]=[],ee[$[re]][0]=Y,ee[$[re]][1]=se,re++,Y++;Y*=2}return ee}function X(R){for(var $=R[0],Y=R[1]-1;Y>=0;)$&1<<Y&&(N|=1<<p),Y--,--p<0&&(N==255?(q(255),q(0)):q(N),p=7,N=0)}function q(R){y.push(R)}function te(R){q(R>>8&255),q(255&R)}function ie(R,$,Y,re,ee){for(var se,ae=ee[0],de=ee[240],Be=function(Ce,Fe){var Te,Ie,Ge,tt,at,dt,ft,vt,Xe,ut,Re=0;for(Xe=0;Xe<8;++Xe){Te=Ce[Re],Ie=Ce[Re+1],Ge=Ce[Re+2],tt=Ce[Re+3],at=Ce[Re+4],dt=Ce[Re+5],ft=Ce[Re+6];var Vr=Te+(vt=Ce[Re+7]),wt=Te-vt,ps=Ie+ft,Pt=Ie-ft,zt=Ge+dt,$s=Ge-dt,jt=tt+at,Yi=tt-at,tr=Vr+jt,xs=Vr-jt,wn=ps+zt,rr=ps-zt;Ce[Re]=tr+wn,Ce[Re+4]=tr-wn;var st=.707106781*(rr+xs);Ce[Re+2]=xs+st,Ce[Re+6]=xs-st;var Ct=.382683433*((tr=Yi+$s)-(rr=Pt+wt)),Zi=.5411961*tr+Ct,Tr=1.306562965*rr+Ct,Js=.707106781*(wn=$s+Pt),Xs=wt+Js,Ye=wt-Js;Ce[Re+5]=Ye+Zi,Ce[Re+3]=Ye-Zi,Ce[Re+1]=Xs+Tr,Ce[Re+7]=Xs-Tr,Re+=8}for(Re=0,Xe=0;Xe<8;++Xe){Te=Ce[Re],Ie=Ce[Re+8],Ge=Ce[Re+16],tt=Ce[Re+24],at=Ce[Re+32],dt=Ce[Re+40],ft=Ce[Re+48];var ys=Te+(vt=Ce[Re+56]),Ys=Te-vt,ya=Ie+ft,kr=Ie-ft,pr=Ge+dt,Ia=Ge-dt,KA=tt+at,vn=tt-at,bs=ys+KA,ws=ys-KA,vs=ya+pr,Zs=ya-pr;Ce[Re]=bs+vs,Ce[Re+32]=bs-vs;var Xa=.707106781*(Zs+ws);Ce[Re+16]=ws+Xa,Ce[Re+48]=ws-Xa;var en=.382683433*((bs=vn+Ia)-(Zs=kr+Ys)),eA=.5411961*bs+en,qA=1.306562965*Zs+en,zA=.707106781*(vs=Ia+kr),VA=Ys+zA,GA=Ys-zA;Ce[Re+40]=GA+eA,Ce[Re+24]=GA-eA,Ce[Re+8]=VA+qA,Ce[Re+56]=VA-qA,Re++}for(Xe=0;Xe<64;++Xe)ut=Ce[Xe]*Fe[Xe],g[Xe]=ut>0?ut+.5|0:ut-.5|0;return g}(R,$),ke=0;ke<64;++ke)v[F[ke]]=Be[ke];var Qe=v[0]-Y;Y=v[0],Qe==0?X(re[0]):(X(re[x[se=32767+Qe]]),X(h[se]));for(var Ee=63;Ee>0&&v[Ee]==0;)Ee--;if(Ee==0)return X(ae),Y;for(var Je,ye=1;ye<=Ee;){for(var G=ye;v[ye]==0&&ye<=Ee;)++ye;var _e=ye-G;if(_e>=16){Je=_e>>4;for(var Ue=1;Ue<=Je;++Ue)X(de);_e&=15}se=32767+v[ye],X(ee[(_e<<4)+x[se]]),X(h[se]),ye++}return Ee!=63&&X(ae),Y}function pe(R){R=Math.min(Math.max(R,1),100),i!=R&&(function($){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ee=A((Y[re]*$+50)/100);ee=Math.min(Math.max(ee,1),255),o[F[re]]=ee}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var de=A((se[ae]*$+50)/100);de=Math.min(Math.max(de,1),255),l[F[ae]]=de}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Qe=0;Qe<8;Qe++)for(var Ee=0;Ee<8;Ee++)c[ke]=1/(o[F[ke]]*Be[Qe]*Be[Ee]*8),u[ke]=1/(l[F[ke]]*Be[Qe]*Be[Ee]*8),ke++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),i=R)}this.encode=function(R,$){$&&pe($),y=new Array,N=0,p=7,te(65496),te(65504),te(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),te(1),te(1),q(0),q(0),function(){te(65499),te(132),q(0);for(var Ie=0;Ie<64;Ie++)q(o[Ie]);q(1);for(var Ge=0;Ge<64;Ge++)q(l[Ge])}(),function(Ie,Ge){te(65472),te(17),q(8),te(Ge),te(Ie),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(R.width,R.height),function(){te(65476),te(418),q(0);for(var Ie=0;Ie<16;Ie++)q(C[Ie+1]);for(var Ge=0;Ge<=11;Ge++)q(K[Ge]);q(16);for(var tt=0;tt<16;tt++)q(M[tt+1]);for(var at=0;at<=161;at++)q(Q[at]);q(1);for(var dt=0;dt<16;dt++)q(j[dt+1]);for(var ft=0;ft<=11;ft++)q(T[ft]);q(17);for(var vt=0;vt<16;vt++)q(z[vt+1]);for(var Xe=0;Xe<=161;Xe++)q(H[Xe])}(),te(65498),te(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var Y=0,re=0,ee=0;N=0,p=7,this.encode.displayName="_encode_";for(var se,ae,de,Be,ke,Qe,Ee,Je,ye,G=R.data,_e=R.width,Ue=R.height,Ce=4*_e,Fe=0;Fe<Ue;){for(se=0;se<Ce;){for(ke=Ce*Fe+se,Ee=-1,Je=0,ye=0;ye<64;ye++)Qe=ke+(Je=ye>>3)*Ce+(Ee=4*(7&ye)),Fe+Je>=Ue&&(Qe-=Ce*(Fe+1+Je-Ue)),se+Ee>=Ce&&(Qe-=se+Ee-Ce+4),ae=G[Qe++],de=G[Qe++],Be=G[Qe++],m[ye]=(D[ae]+D[de+256>>0]+D[Be+512>>0]>>16)-128,w[ye]=(D[ae+768>>0]+D[de+1024>>0]+D[Be+1280>>0]>>16)-128,E[ye]=(D[ae+1280>>0]+D[de+1536>>0]+D[Be+1792>>0]>>16)-128;Y=ie(m,c,Y,t,s),re=ie(w,u,re,a,n),ee=ie(E,u,ee,a,n),se+=32}Fe+=8}if(p>=0){var Te=[];Te[1]=p+1,Te[0]=(1<<p+1)-1,X(Te)}return te(65497),new Uint8Array(y)},e=e||50,function(){for(var R=String.fromCharCode,$=0;$<256;$++)U[$]=R($)}(),t=S(C,K),a=S(j,T),s=S(M,Q),n=S(z,H),function(){for(var R=1,$=2,Y=1;Y<=15;Y++){for(var re=R;re<$;re++)x[32767+re]=Y,h[32767+re]=[],h[32767+re][1]=Y,h[32767+re][0]=re;for(var ee=-($-1);ee<=-R;ee++)x[32767+ee]=Y,h[32767+ee]=[],h[32767+ee][1]=Y,h[32767+ee][0]=$-1+ee;R<<=1,$<<=1}}(),function(){for(var R=0;R<256;R++)D[R]=19595*R,D[R+256>>0]=38470*R,D[R+512>>0]=7471*R+32768,D[R+768>>0]=-11059*R,D[R+1024>>0]=-21709*R,D[R+1280>>0]=32768*R+8421375,D[R+1536>>0]=-27439*R,D[R+1792>>0]=-5329*R}(),pe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Es(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vw(e){function t(C){if(!C)throw Error("assert :P")}function a(C,K,M){for(var Q=0;4>Q;Q++)if(C[K+Q]!=M.charCodeAt(Q))return!0;return!1}function s(C,K,M,Q,j){for(var T=0;T<j;T++)C[K+T]=M[Q+T]}function n(C,K,M,Q){for(var j=0;j<Q;j++)C[K+j]=M}function i(C){return new Int32Array(C)}function A(C,K){for(var M=[],Q=0;Q<C;Q++)M.push(new K);return M}function o(C,K){var M=[];return function Q(j,T,z){for(var H=z[T],S=0;S<H&&(j.push(z.length>T+1?[]:new K),!(z.length<T+1));S++)Q(j[S],T+1,z)}(M,0,C),M}var l=function(){var C=this;function K(d,f){for(var B=1<<f-1>>>0;d&B;)B>>>=1;return B?(d&B-1)+B:d}function M(d,f,B,k,I){t(!(k%B));do d[f+(k-=B)]=I;while(0<k)}function Q(d,f,B,k,I){if(t(2328>=I),512>=I)var O=i(512);else if((O=i(I))==null)return 0;return function(_,V,W,J,Ae,he){var ge,ce,ve=V,me=1<<W,oe=i(16),le=i(16);for(t(Ae!=0),t(J!=null),t(_!=null),t(0<W),ce=0;ce<Ae;++ce){if(15<J[ce])return 0;++oe[J[ce]]}if(oe[0]==Ae)return 0;for(le[1]=0,ge=1;15>ge;++ge){if(oe[ge]>1<<ge)return 0;le[ge+1]=le[ge]+oe[ge]}for(ce=0;ce<Ae;++ce)ge=J[ce],0<J[ce]&&(he[le[ge]++]=ce);if(le[15]==1)return(J=new j).g=0,J.value=he[0],M(_,ve,1,me,J),me;var be,Ne=-1,we=me-1,Oe=0,Le=1,$e=1,De=1<<W;for(ce=0,ge=1,Ae=2;ge<=W;++ge,Ae<<=1){if(Le+=$e<<=1,0>($e-=oe[ge]))return 0;for(;0<oe[ge];--oe[ge])(J=new j).g=ge,J.value=he[ce++],M(_,ve+Oe,Ae,De,J),Oe=K(Oe,ge)}for(ge=W+1,Ae=2;15>=ge;++ge,Ae<<=1){if(Le+=$e<<=1,0>($e-=oe[ge]))return 0;for(;0<oe[ge];--oe[ge]){if(J=new j,(Oe&we)!=Ne){for(ve+=De,be=1<<(Ne=ge)-W;15>Ne&&!(0>=(be-=oe[Ne]));)++Ne,be<<=1;me+=De=1<<(be=Ne-W),_[V+(Ne=Oe&we)].g=be+W,_[V+Ne].value=ve-V-Ne}J.g=ge-W,J.value=he[ce++],M(_,ve+(Oe>>W),Ae,De,J),Oe=K(Oe,ge)}}return Le!=2*le[15]-1?0:me}(d,f,B,k,I,O)}function j(){this.value=this.g=0}function T(){this.value=this.g=0}function z(){this.G=A(5,j),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(Rr,T)}function H(d,f,B,k){t(d!=null),t(f!=null),t(2147483648>k),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=f,d.pa=B,d.Jd=f,d.Yc=B+k,d.Zc=4<=k?B+k-4+1:B,se(d)}function S(d,f){for(var B=0;0<f--;)B|=de(d,128)<<f;return B}function X(d,f){var B=S(d,f);return ae(d)?-B:B}function q(d,f,B,k){var I,O=0;for(t(d!=null),t(f!=null),t(4294967288>k),d.Sb=k,d.Ra=0,d.u=0,d.h=0,4<k&&(k=4),I=0;I<k;++I)O+=f[B+I]<<8*I;d.Ra=O,d.bb=k,d.oa=f,d.pa=B}function te(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<oo-8>>>0,++d.bb,d.u-=8;Y(d)&&(d.h=1,d.u=0)}function ie(d,f){if(t(0<=f),!d.h&&f<=Ao){var B=$(d)&io[f];return d.u+=f,te(d),B}return d.h=1,d.u=0}function pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(d){return d.Ra>>>(d.u&oo-1)>>>0}function Y(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>oo}function re(d,f){d.u=f,d.h=Y(d)}function ee(d){d.u>=zl&&(t(d.u>=zl),te(d))}function se(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function ae(d){return S(d,1)}function de(d,f){var B=d.Ca;0>d.b&&se(d);var k=d.b,I=B*f>>>8,O=(d.I>>>k>I)+0;for(O?(B-=I,d.I-=I+1<<k>>>0):B=I+1,k=B,I=0;256<=k;)I+=8,k>>=8;return k=7^I+wa[k],d.b-=k,d.Ca=(B<<k)-1,O}function Be(d,f,B){d[f+0]=B>>24&255,d[f+1]=B>>16&255,d[f+2]=B>>8&255,d[f+3]=B>>0&255}function ke(d,f){return d[f+0]<<0|d[f+1]<<8}function Qe(d,f){return ke(d,f)|d[f+2]<<16}function Ee(d,f){return ke(d,f)|ke(d,f+2)<<16}function Je(d,f){var B=1<<f;return t(d!=null),t(0<f),d.X=i(B),d.X==null?0:(d.Mb=32-f,d.Xa=f,1)}function ye(d,f){t(d!=null),t(f!=null),t(d.Xa==f.Xa),s(f.X,0,d.X,0,1<<f.Xa)}function G(){this.X=[],this.Xa=this.Mb=0}function _e(d,f,B,k){t(B!=null),t(k!=null);var I=B[0],O=k[0];return I==0&&(I=(d*O+f/2)/f),O==0&&(O=(f*I+d/2)/d),0>=I||0>=O?0:(B[0]=I,k[0]=O,1)}function Ue(d,f){return d+(1<<f)-1>>>f}function Ce(d,f){return((4278255360&d)+(4278255360&f)>>>0&4278255360)+((16711935&d)+(16711935&f)>>>0&16711935)>>>0}function Fe(d,f){C[f]=function(B,k,I,O,_,V,W){var J;for(J=0;J<_;++J){var Ae=C[d](V[W+J-1],I,O+J);V[W+J]=Ce(B[k+J],Ae)}}}function Te(){this.ud=this.hd=this.jd=0}function Ie(d,f){return((4278124286&(d^f))>>>1)+(d&f)>>>0}function Ge(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function tt(d,f){return Ge(d+(d-f+.5>>1))}function at(d,f,B){return Math.abs(f-B)-Math.abs(d-B)}function dt(d,f,B,k,I,O,_){for(k=O[_-1],B=0;B<I;++B)O[_+B]=k=Ce(d[f+B],k)}function ft(d,f,B,k,I){var O;for(O=0;O<B;++O){var _=d[f+O],V=_>>8&255,W=16711935&(W=(W=16711935&_)+((V<<16)+V));k[I+O]=(4278255360&_)+W>>>0}}function vt(d,f){f.jd=d>>0&255,f.hd=d>>8&255,f.ud=d>>16&255}function Xe(d,f,B,k,I,O){var _;for(_=0;_<k;++_){var V=f[B+_],W=V>>>8,J=V,Ae=255&(Ae=(Ae=V>>>16)+((d.jd<<24>>24)*(W<<24>>24)>>>5));J=255&(J=(J=J+((d.hd<<24>>24)*(W<<24>>24)>>>5))+((d.ud<<24>>24)*(Ae<<24>>24)>>>5)),I[O+_]=(4278255360&V)+(Ae<<16)+J}}function ut(d,f,B,k,I){C[f]=function(O,_,V,W,J,Ae,he,ge,ce){for(W=he;W<ge;++W)for(he=0;he<ce;++he)J[Ae++]=I(V[k(O[_++])])},C[d]=function(O,_,V,W,J,Ae,he){var ge=8>>O.b,ce=O.Ea,ve=O.K[0],me=O.w;if(8>ge)for(O=(1<<O.b)-1,me=(1<<ge)-1;_<V;++_){var oe,le=0;for(oe=0;oe<ce;++oe)oe&O||(le=k(W[J++])),Ae[he++]=I(ve[le&me]),le>>=ge}else C["VP8LMapColor"+B](W,J,ve,me,Ae,he,_,V,ce)}}function Re(d,f,B,k,I){for(B=f+B;f<B;){var O=d[f++];k[I++]=O>>16&255,k[I++]=O>>8&255,k[I++]=O>>0&255}}function Vr(d,f,B,k,I){for(B=f+B;f<B;){var O=d[f++];k[I++]=O>>16&255,k[I++]=O>>8&255,k[I++]=O>>0&255,k[I++]=O>>24&255}}function wt(d,f,B,k,I){for(B=f+B;f<B;){var O=(_=d[f++])>>16&240|_>>12&15,_=_>>0&240|_>>28&15;k[I++]=O,k[I++]=_}}function ps(d,f,B,k,I){for(B=f+B;f<B;){var O=(_=d[f++])>>16&248|_>>13&7,_=_>>5&224|_>>3&31;k[I++]=O,k[I++]=_}}function Pt(d,f,B,k,I){for(B=f+B;f<B;){var O=d[f++];k[I++]=O>>0&255,k[I++]=O>>8&255,k[I++]=O>>16&255}}function zt(d,f,B,k,I,O){if(O==0)for(B=f+B;f<B;)Be(k,((O=d[f++])[0]>>24|O[1]>>8&65280|O[2]<<8&16711680|O[3]<<24)>>>0),I+=32;else s(k,I,d,f,B)}function $s(d,f){C[f][0]=C[d+"0"],C[f][1]=C[d+"1"],C[f][2]=C[d+"2"],C[f][3]=C[d+"3"],C[f][4]=C[d+"4"],C[f][5]=C[d+"5"],C[f][6]=C[d+"6"],C[f][7]=C[d+"7"],C[f][8]=C[d+"8"],C[f][9]=C[d+"9"],C[f][10]=C[d+"10"],C[f][11]=C[d+"11"],C[f][12]=C[d+"12"],C[f][13]=C[d+"13"],C[f][14]=C[d+"0"],C[f][15]=C[d+"0"]}function jt(d){return d==Rg||d==Hg||d==su||d==Mg}function Yi(){this.eb=[],this.size=this.A=this.fb=0}function tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yi,this.f.kb=new tr,this.sd=null}function wn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Ct(d,f){var B=d.T,k=f.ba.f.RGBA,I=k.eb,O=k.fb+d.ka*k.A,_=as[f.ba.S],V=d.y,W=d.O,J=d.f,Ae=d.N,he=d.ea,ge=d.W,ce=f.cc,ve=f.dc,me=f.Mc,oe=f.Nc,le=d.ka,be=d.ka+d.T,Ne=d.U,we=Ne+1>>1;for(le==0?_(V,W,null,null,J,Ae,he,ge,J,Ae,he,ge,I,O,null,null,Ne):(_(f.ec,f.fc,V,W,ce,ve,me,oe,J,Ae,he,ge,I,O-k.A,I,O,Ne),++B);le+2<be;le+=2)ce=J,ve=Ae,me=he,oe=ge,Ae+=d.Rc,ge+=d.Rc,O+=2*k.A,_(V,(W+=2*d.fa)-d.fa,V,W,ce,ve,me,oe,J,Ae,he,ge,I,O-k.A,I,O,Ne);return W+=d.fa,d.j+be<d.o?(s(f.ec,f.fc,V,W,Ne),s(f.cc,f.dc,J,Ae,we),s(f.Mc,f.Nc,he,ge,we),B--):1&be||_(V,W,null,null,J,Ae,he,ge,J,Ae,he,ge,I,O+k.A,null,null,Ne),B}function Zi(d,f,B){var k=d.F,I=[d.J];if(k!=null){var O=d.U,_=f.ba.S,V=_==au||_==su;f=f.ba.f.RGBA;var W=[0],J=d.ka;W[0]=d.T,d.Kb&&(J==0?--W[0]:(--J,I[0]-=d.width),d.j+d.ka+d.T==d.o&&(W[0]=d.o-d.j-J));var Ae=f.eb;J=f.fb+J*f.A,d=Ht(k,I[0],d.width,O,W,Ae,J+(V?0:3),f.A),t(B==W),d&&jt(_)&&ts(Ae,J,V,O,W,f.A)}return 0}function Tr(d){var f=d.ma,B=f.ba.S,k=11>B,I=B==tu||B==ru||B==au||B==Tg||B==12||jt(B);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Kl(f.Oa,d,I?11:12))return 0;if(I&&jt(B)&&je(),d.da)alert("todo:use_scaling");else{if(k){if(f.Ib=st,d.Kb){if(B=d.U+1>>1,f.memory=i(d.U+2*B),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+d.U,f.Mc=f.cc,f.Nc=f.dc+B,f.Ib=Ct,je()}}else alert("todo:EmitYUV");I&&(f.Jb=Zi,k&&ue())}if(k&&!my){for(d=0;256>d;++d)PN[d]=89858*(d-128)+iu>>nu,RN[d]=-22014*(d-128)+iu,TN[d]=-45773*(d-128),DN[d]=113618*(d-128)+iu>>nu;for(d=Yl;d<Kg;++d)f=76283*(d-16)+iu>>nu,HN[d-Yl]=Pa(f,255),MN[d-Yl]=Pa(f+8>>4,15);my=1}return 1}function Js(d){var f=d.ma,B=d.U,k=d.T;return t(!(1&d.ka)),0>=B||0>=k?0:(B=f.Ib(d,f),f.Jb!=null&&f.Jb(d,f,B),f.Dc+=B,1)}function Xs(d){d.ma.memory=null}function Ye(d,f,B,k){return ie(d,8)!=47?0:(f[0]=ie(d,14)+1,B[0]=ie(d,14)+1,k[0]=ie(d,1),ie(d,3)!=0?0:!d.h)}function ys(d,f){if(4>d)return d+1;var B=d-2>>1;return(2+(1&d)<<B)+ie(f,B)+1}function Ys(d,f){return 120<f?f-120:1<=(B=((B=wN[f-1])>>4)*d+(8-(15&B)))?B:1;var B}function ya(d,f,B){var k=$(B),I=d[f+=255&k].g-8;return 0<I&&(re(B,B.u+8),k=$(B),f+=d[f].value,f+=k&(1<<I)-1),re(B,B.u+d[f].g),d[f].value}function kr(d,f,B){return B.g+=d.g,B.value+=d.value<<f>>>0,t(8>=B.g),d.g}function pr(d,f,B){var k=d.xc;return t((f=k==0?0:d.vc[d.md*(B>>k)+(f>>k)])<d.Wb),d.Ya[f]}function Ia(d,f,B,k){var I=d.ab,O=d.c*f,_=d.C;f=_+f;var V=B,W=k;for(k=d.Ta,B=d.Ua;0<I--;){var J=d.gc[I],Ae=_,he=f,ge=V,ce=W,ve=(W=k,V=B,J.Ea);switch(t(Ae<he),t(he<=J.nc),J.hc){case 2:Wd(ge,ce,(he-Ae)*ve,W,V);break;case 0:var me=Ae,oe=he,le=W,be=V,Ne=(De=J).Ea;me==0&&(Pg(ge,ce,null,null,1,le,be),dt(ge,ce+1,0,0,Ne-1,le,be+1),ce+=Ne,be+=Ne,++me);for(var we=1<<De.b,Oe=we-1,Le=Ue(Ne,De.b),$e=De.K,De=De.w+(me>>De.b)*Le;me<oe;){var Bt=$e,Ft=De,yt=1;for(Vl(ge,ce,le,be-Ne,1,le,be);yt<Ne;){var mt=(yt&~Oe)+we;mt>Ne&&(mt=Ne),(0,ti[Bt[Ft++]>>8&15])(ge,ce+ +yt,le,be+yt-Ne,mt-yt,le,be+yt),yt=mt}ce+=Ne,be+=Ne,++me&Oe||(De+=Le)}he!=J.nc&&s(W,V-ve,W,V+(he-Ae-1)*ve,ve);break;case 1:for(ve=ge,oe=ce,Ne=(ge=J.Ea)-(be=ge&~(le=(ce=1<<J.b)-1)),me=Ue(ge,J.b),we=J.K,J=J.w+(Ae>>J.b)*me;Ae<he;){for(Oe=we,Le=J,$e=new Te,De=oe+be,Bt=oe+ge;oe<De;)vt(Oe[Le++],$e),nA($e,ve,oe,ce,W,V),oe+=ce,V+=ce;oe<Bt&&(vt(Oe[Le++],$e),nA($e,ve,oe,Ne,W,V),oe+=Ne,V+=Ne),++Ae&le||(J+=me)}break;case 3:if(ge==W&&ce==V&&0<J.b){for(oe=W,ge=ve=V+(he-Ae)*ve-(be=(he-Ae)*Ue(J.Ea,J.b)),ce=W,le=V,me=[],be=(Ne=be)-1;0<=be;--be)me[be]=ce[le+be];for(be=Ne-1;0<=be;--be)oe[ge+be]=me[be];Ya(J,Ae,he,W,ve,W,V)}else Ya(J,Ae,he,ge,ce,W,V)}V=k,W=B}W!=B&&s(k,B,V,W,O)}function KA(d,f){var B=d.V,k=d.Ba+d.c*d.C,I=f-d.C;if(t(f<=d.l.o),t(16>=I),0<I){var O=d.l,_=d.Ta,V=d.Ua,W=O.width;if(Ia(d,I,B,k),I=V=[V],t((B=d.C)<(k=f)),t(O.v<O.va),k>O.o&&(k=O.o),B<O.j){var J=O.j-B;B=O.j,I[0]+=J*W}if(B>=k?B=0:(I[0]+=4*O.v,O.ka=B-O.j,O.U=O.va-O.v,O.T=k-B,B=1),B){if(V=V[0],11>(B=d.ca).S){var Ae=B.f.RGBA,he=(k=B.S,I=O.U,O=O.T,J=Ae.eb,Ae.A),ge=O;for(Ae=Ae.fb+d.Ma*Ae.A;0<ge--;){var ce=_,ve=V,me=I,oe=J,le=Ae;switch(k){case eu:va(ce,ve,me,oe,le);break;case tu:la(ce,ve,me,oe,le);break;case Rg:la(ce,ve,me,oe,le),ts(oe,le,0,me,1,0);break;case iy:jn(ce,ve,me,oe,le);break;case ru:zt(ce,ve,me,oe,le,1);break;case Hg:zt(ce,ve,me,oe,le,1),ts(oe,le,0,me,1,0);break;case au:zt(ce,ve,me,oe,le,0);break;case su:zt(ce,ve,me,oe,le,0),ts(oe,le,1,me,1,0);break;case Tg:ri(ce,ve,me,oe,le);break;case Mg:ri(ce,ve,me,oe,le),Rt(oe,le,me,1,0);break;case Ay:kn(ce,ve,me,oe,le);break;default:t(0)}V+=W,Ae+=he}d.Ma+=O}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=B.height)}}d.C=f,t(d.C<=d.i)}function vn(d){var f;if(0<d.ua)return 0;for(f=0;f<d.Wb;++f){var B=d.Ya[f].G,k=d.Ya[f].H;if(0<B[1][k[1]+0].g||0<B[2][k[2]+0].g||0<B[3][k[3]+0].g)return 0}return 1}function bs(d,f,B,k,I,O){if(d.Z!=0){var _=d.qd,V=d.rd;for(t(ii[d.Z]!=null);f<B;++f)ii[d.Z](_,V,k,I,k,I,O),_=k,V=I,I+=O;d.qd=_,d.rd=V}}function ws(d,f){var B=d.l.ma,k=B.Z==0||B.Z==1?d.l.j:d.C;if(k=d.C<k?k:d.C,t(f<=d.l.o),f>k){var I=d.l.width,O=B.ca,_=B.tb+I*k,V=d.V,W=d.Ba+d.c*k,J=d.gc;t(d.ab==1),t(J[0].hc==3),$d(J[0],k,f,V,W,O,_),bs(B,k,f,O,_,I)}d.C=d.Ma=f}function vs(d,f,B,k,I,O,_){var V=d.$/k,W=d.$%k,J=d.m,Ae=d.s,he=B+d.$,ge=he;I=B+k*I;var ce=B+k*O,ve=280+Ae.ua,me=d.Pb?V:16777216,oe=0<Ae.ua?Ae.Wa:null,le=Ae.wc,be=he<ce?pr(Ae,W,V):null;t(d.C<O),t(ce<=I);var Ne=!1;e:for(;;){for(;Ne||he<ce;){var we=0;if(V>=me){var Oe=he-B;t((me=d).Pb),me.wd=me.m,me.xd=Oe,0<me.s.ua&&ye(me.s.Wa,me.s.vb),me=V+BN}if(W&le||(be=pr(Ae,W,V)),t(be!=null),be.Qb&&(f[he]=be.qb,Ne=!0),!Ne)if(ee(J),be.jc){we=J,Oe=f;var Le=he,$e=be.pd[$(we)&Rr-1];t(be.jc),256>$e.g?(re(we,we.u+$e.g),Oe[Le]=$e.value,we=0):(re(we,we.u+$e.g-256),t(256<=$e.value),we=$e.value),we==0&&(Ne=!0)}else we=ya(be.G[0],be.H[0],J);if(J.h)break;if(Ne||256>we){if(!Ne)if(be.nd)f[he]=(be.qb|we<<8)>>>0;else{if(ee(J),Ne=ya(be.G[1],be.H[1],J),ee(J),Oe=ya(be.G[2],be.H[2],J),Le=ya(be.G[3],be.H[3],J),J.h)break;f[he]=(Le<<24|Ne<<16|we<<8|Oe)>>>0}if(Ne=!1,++he,++W>=k&&(W=0,++V,_!=null&&V<=O&&!(V%16)&&_(d,V),oe!=null))for(;ge<he;)we=f[ge++],oe.X[(506832829*we&4294967295)>>>oe.Mb]=we}else if(280>we){if(we=ys(we-256,J),Oe=ya(be.G[4],be.H[4],J),ee(J),Oe=Ys(k,Oe=ys(Oe,J)),J.h)break;if(he-B<Oe||I-he<we)break e;for(Le=0;Le<we;++Le)f[he+Le]=f[he+Le-Oe];for(he+=we,W+=we;W>=k;)W-=k,++V,_!=null&&V<=O&&!(V%16)&&_(d,V);if(t(he<=I),W&le&&(be=pr(Ae,W,V)),oe!=null)for(;ge<he;)we=f[ge++],oe.X[(506832829*we&4294967295)>>>oe.Mb]=we}else{if(!(we<ve))break e;for(Ne=we-280,t(oe!=null);ge<he;)we=f[ge++],oe.X[(506832829*we&4294967295)>>>oe.Mb]=we;we=he,t(!(Ne>>>(Oe=oe).Xa)),f[we]=Oe.X[Ne],Ne=!0}Ne||t(J.h==Y(J))}if(d.Pb&&J.h&&he<I)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&ye(d.s.vb,d.s.Wa);else{if(J.h)break e;_!=null&&_(d,V>O?O:V),d.a=0,d.$=he-B}return 1}return d.a=3,0}function Zs(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var f=d.Wa;f!=null&&(f.X=null),d.vb=null,t(d!=null)}function Xa(){var d=new Ig;return d==null?null:(d.a=0,d.xb=cy,$s("Predictor","VP8LPredictors"),$s("Predictor","VP8LPredictors_C"),$s("PredictorAdd","VP8LPredictorsAdd"),$s("PredictorAdd","VP8LPredictorsAdd_C"),Wd=ft,nA=Xe,va=Re,la=Vr,ri=wt,kn=ps,jn=Pt,C.VP8LMapColor32b=lo,C.VP8LMapColor8b=Jd,d)}function en(d,f,B,k,I){var O=1,_=[d],V=[f],W=k.m,J=k.s,Ae=null,he=0;e:for(;;){if(B)for(;O&&ie(W,1);){var ge=_,ce=V,ve=k,me=1,oe=ve.m,le=ve.gc[ve.ab],be=ie(oe,2);if(ve.Oc&1<<be)O=0;else{switch(ve.Oc|=1<<be,le.hc=be,le.Ea=ge[0],le.nc=ce[0],le.K=[null],++ve.ab,t(4>=ve.ab),be){case 0:case 1:le.b=ie(oe,3)+2,me=en(Ue(le.Ea,le.b),Ue(le.nc,le.b),0,ve,le.K),le.K=le.K[0];break;case 3:var Ne,we=ie(oe,8)+1,Oe=16<we?0:4<we?1:2<we?2:3;if(ge[0]=Ue(le.Ea,Oe),le.b=Oe,Ne=me=en(we,1,0,ve,le.K)){var Le,$e=we,De=le,Bt=1<<(8>>De.b),Ft=i(Bt);if(Ft==null)Ne=0;else{var yt=De.K[0],mt=De.w;for(Ft[0]=De.K[0][0],Le=1;Le<1*$e;++Le)Ft[Le]=Ce(yt[mt+Le],Ft[Le-1]);for(;Le<4*Bt;++Le)Ft[Le]=0;De.K[0]=null,De.K[0]=Ft,Ne=1}}me=Ne;break;case 2:break;default:t(0)}O=me}}if(_=_[0],V=V[0],O&&ie(W,1)&&!(O=1<=(he=ie(W,4))&&11>=he)){k.a=3;break e}var Dt;if(Dt=O)t:{var Lt,lt,yr,Ba=k,br=_,Na=V,Et=he,Ta=B,Ra=Ba.m,Qr=Ba.s,Hr=[null],da=1,ss=0,sn=vN[Et];r:for(;;){if(Ta&&ie(Ra,1)){var Ur=ie(Ra,3)+2,En=Ue(br,Ur),cA=Ue(Na,Ur),fo=En*cA;if(!en(En,cA,0,Ba,Hr))break r;for(Hr=Hr[0],Qr.xc=Ur,Lt=0;Lt<fo;++Lt){var Ai=Hr[Lt]>>8&65535;Hr[Lt]=Ai,Ai>=da&&(da=Ai+1)}}if(Ra.h)break r;for(lt=0;5>lt;++lt){var sr=oy[lt];!lt&&0<Et&&(sr+=1<<Et),ss<sr&&(ss=sr)}var qg=A(da*sn,j),yy=da,by=A(yy,z);if(by==null)var ou=null;else t(65536>=yy),ou=by;var Zl=i(ss);if(ou==null||Zl==null||qg==null){Ba.a=1;break r}var lu=qg;for(Lt=yr=0;Lt<da;++Lt){var Cs=ou[Lt],mo=Cs.G,po=Cs.H,wy=0,cu=1,vy=0;for(lt=0;5>lt;++lt){sr=oy[lt],mo[lt]=lu,po[lt]=yr,!lt&&0<Et&&(sr+=1<<Et);s:{var du,zg=sr,uu=Ba,ec=Zl,KN=lu,qN=yr,Vg=0,oi=uu.m,zN=ie(oi,1);if(n(ec,0,0,zg),zN){var VN=ie(oi,1)+1,GN=ie(oi,1),By=ie(oi,GN==0?1:8);ec[By]=1,VN==2&&(ec[By=ie(oi,8)]=1);var hu=1}else{var Ny=i(19),ky=ie(oi,4)+4;if(19<ky){uu.a=3;var gu=0;break s}for(du=0;du<ky;++du)Ny[bN[du]]=ie(oi,3);var Gg=void 0,tc=void 0,jy=uu,WN=Ny,fu=zg,Cy=ec,Wg=0,li=jy.m,Sy=8,Fy=A(128,j);a:for(;Q(Fy,0,7,WN,19);){if(ie(li,1)){var $N=2+2*ie(li,3);if((Gg=2+ie(li,$N))>fu)break a}else Gg=fu;for(tc=0;tc<fu&&Gg--;){ee(li);var Ey=Fy[0+(127&$(li))];re(li,li.u+Ey.g);var xo=Ey.value;if(16>xo)Cy[tc++]=xo,xo!=0&&(Sy=xo);else{var JN=xo==16,Qy=xo-16,XN=xN[Qy],Uy=ie(li,pN[Qy])+XN;if(tc+Uy>fu)break a;for(var YN=JN?Sy:0;0<Uy--;)Cy[tc++]=YN}}Wg=1;break a}Wg||(jy.a=3),hu=Wg}(hu=hu&&!oi.h)&&(Vg=Q(KN,qN,8,ec,zg)),hu&&Vg!=0?gu=Vg:(uu.a=3,gu=0)}if(gu==0)break r;if(cu&&yN[lt]==1&&(cu=lu[yr].g==0),wy+=lu[yr].g,yr+=gu,3>=lt){var rc,$g=Zl[0];for(rc=1;rc<sr;++rc)Zl[rc]>$g&&($g=Zl[rc]);vy+=$g}}if(Cs.nd=cu,Cs.Qb=0,cu&&(Cs.qb=(mo[3][po[3]+0].value<<24|mo[1][po[1]+0].value<<16|mo[2][po[2]+0].value)>>>0,wy==0&&256>mo[0][po[0]+0].value&&(Cs.Qb=1,Cs.qb+=mo[0][po[0]+0].value<<8)),Cs.jc=!Cs.Qb&&6>vy,Cs.jc){var mu,Qn=Cs;for(mu=0;mu<Rr;++mu){var ci=mu,di=Qn.pd[ci],pu=Qn.G[0][Qn.H[0]+ci];256<=pu.value?(di.g=pu.g+256,di.value=pu.value):(di.g=0,di.value=0,ci>>=kr(pu,8,di),ci>>=kr(Qn.G[1][Qn.H[1]+ci],16,di),ci>>=kr(Qn.G[2][Qn.H[2]+ci],0,di),kr(Qn.G[3][Qn.H[3]+ci],24,di))}}}Qr.vc=Hr,Qr.Wb=da,Qr.Ya=ou,Qr.yc=qg,Dt=1;break t}Dt=0}if(!(O=Dt)){k.a=3;break e}if(0<he){if(J.ua=1<<he,!Je(J.Wa,he)){k.a=1,O=0;break e}}else J.ua=0;var Jg=k,Ly=_,ZN=V,Xg=Jg.s,Yg=Xg.xc;if(Jg.c=Ly,Jg.i=ZN,Xg.md=Ue(Ly,Yg),Xg.wc=Yg==0?-1:(1<<Yg)-1,B){k.xb=EN;break e}if((Ae=i(_*V))==null){k.a=1,O=0;break e}O=(O=vs(k,Ae,0,_,V,V,null))&&!W.h;break e}return O?(I!=null?I[0]=Ae:(t(Ae==null),t(B)),k.$=0,B||Zs(J)):Zs(J),O}function eA(d,f){var B=d.c*d.i,k=B+f+16*f;return t(d.c<=f),d.V=i(k),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+B+f,1)}function qA(d,f){var B=d.C,k=f-B,I=d.V,O=d.Ba+d.c*B;for(t(f<=d.l.o);0<k;){var _=16<k?16:k,V=d.l.ma,W=d.l.width,J=W*_,Ae=V.ca,he=V.tb+W*B,ge=d.Ta,ce=d.Ua;Ia(d,_,I,O),lr(ge,ce,Ae,he,J),bs(V,B,B+_,Ae,he,W),k-=_,I+=_*d.c,B+=_}t(B==f),d.C=d.Ma=f}function zA(){this.ub=this.yd=this.td=this.Rb=0}function VA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function GA(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Sd(){this.Yb=function(){var d=[];return function f(B,k,I){for(var O=I[k],_=0;_<O&&(B.push(I.length>k+1?[]:0),!(I.length<k+1));_++)f(B[_],k+1,I)}(d,0,[3,11]),d}()}function dg(){this.jb=i(3),this.Wc=o([4,8],Sd),this.Xc=o([4,17],Sd)}function ug(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function WA(){this.ld=this.La=this.dd=this.tc=0}function Fd(){this.Na=this.la=0}function hg(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gg(){this.uc=this.M=this.Nb=0,this.wa=Array(new WA),this.Y=0,this.ya=Array(new Cl),this.aa=0,this.l=new $A}function Ed(){this.y=i(16),this.f=i(8),this.ea=i(8)}function fg(){this.cb=this.a=0,this.sc="",this.m=new pe,this.Od=new zA,this.Kc=new VA,this.ed=new ug,this.Qa=new GA,this.Ic=this.$c=this.Aa=0,this.D=new gg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,pe),this.ia=0,this.pb=A(4,hg),this.Pa=new dg,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ed),this.Hd=0,this.rb=Array(new Fd),this.sb=0,this.wa=Array(new WA),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cl),this.L=this.aa=0,this.gd=o([4,2],WA),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $A(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function mg(){var d=new fg;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Xl||(Xl=Ld)),d}function Ar(d,f,B){return d.a==0&&(d.a=f,d.sc=B,d.cb=0),0}function Qd(d,f,B){return 3<=B&&d[f+0]==157&&d[f+1]==1&&d[f+2]==42}function Ud(d,f){if(d==null)return 0;if(d.a=0,d.sc="OK",f==null)return Ar(d,2,"null VP8Io passed to VP8GetHeaders()");var B=f.data,k=f.w,I=f.ha;if(4>I)return Ar(d,7,"Truncated header.");var O=B[k+0]|B[k+1]<<8|B[k+2]<<16,_=d.Od;if(_.Rb=!(1&O),_.td=O>>1&7,_.yd=O>>4&1,_.ub=O>>5,3<_.td)return Ar(d,3,"Incorrect keyframe parameters.");if(!_.yd)return Ar(d,4,"Frame not displayable.");k+=3,I-=3;var V=d.Kc;if(_.Rb){if(7>I)return Ar(d,7,"cannot parse picture header");if(!Qd(B,k,I))return Ar(d,3,"Bad code word");V.c=16383&(B[k+4]<<8|B[k+3]),V.Td=B[k+4]>>6,V.i=16383&(B[k+6]<<8|B[k+5]),V.Ud=B[k+6]>>6,k+=7,I-=7,d.za=V.c+15>>4,d.Ub=V.i+15>>4,f.width=V.c,f.height=V.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,n((O=d.Pa).jb,0,255,O.jb.length),t((O=d.Qa)!=null),O.Cb=0,O.Bb=0,O.Fb=1,n(O.Zb,0,0,O.Zb.length),n(O.Lb,0,0,O.Lb)}if(_.ub>I)return Ar(d,7,"bad partition length");H(O=d.m,B,k,_.ub),k+=_.ub,I-=_.ub,_.Rb&&(V.Ld=ae(O),V.Kd=ae(O)),V=d.Qa;var W,J=d.Pa;if(t(O!=null),t(V!=null),V.Cb=ae(O),V.Cb){if(V.Bb=ae(O),ae(O)){for(V.Fb=ae(O),W=0;4>W;++W)V.Zb[W]=ae(O)?X(O,7):0;for(W=0;4>W;++W)V.Lb[W]=ae(O)?X(O,6):0}if(V.Bb)for(W=0;3>W;++W)J.jb[W]=ae(O)?S(O,8):255}else V.Bb=0;if(O.Ka)return Ar(d,3,"cannot parse segment header");if((V=d.ed).zd=ae(O),V.Tb=S(O,6),V.wb=S(O,3),V.Pc=ae(O),V.Pc&&ae(O)){for(J=0;4>J;++J)ae(O)&&(V.vd[J]=X(O,6));for(J=0;4>J;++J)ae(O)&&(V.od[J]=X(O,6))}if(d.L=V.Tb==0?0:V.zd?1:2,O.Ka)return Ar(d,3,"cannot parse filter header");var Ae=I;if(I=W=k,k=W+Ae,V=Ae,d.Xb=(1<<S(d.m,2))-1,Ae<3*(J=d.Xb))B=7;else{for(W+=3*J,V-=3*J,Ae=0;Ae<J;++Ae){var he=B[I+0]|B[I+1]<<8|B[I+2]<<16;he>V&&(he=V),H(d.Jc[+Ae],B,W,he),W+=he,V-=he,I+=3}H(d.Jc[+J],B,W,V),B=W<k?0:5}if(B!=0)return Ar(d,B,"cannot parse partitions");for(B=S(W=d.m,7),I=ae(W)?X(W,4):0,k=ae(W)?X(W,4):0,V=ae(W)?X(W,4):0,J=ae(W)?X(W,4):0,W=ae(W)?X(W,4):0,Ae=d.Qa,he=0;4>he;++he){if(Ae.Cb){var ge=Ae.Zb[he];Ae.Fb||(ge+=B)}else{if(0<he){d.pb[he]=d.pb[0];continue}ge=B}var ce=d.pb[he];ce.Sc[0]=Og[Pa(ge+I,127)],ce.Sc[1]=_g[Pa(ge+0,127)],ce.Eb[0]=2*Og[Pa(ge+k,127)],ce.Eb[1]=101581*_g[Pa(ge+V,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=Og[Pa(ge+J,117)],ce.Qc[1]=_g[Pa(ge+W,127)],ce.lc=ge+W}if(!_.Rb)return Ar(d,4,"Not a key frame.");for(ae(O),_=d.Pa,B=0;4>B;++B){for(I=0;8>I;++I)for(k=0;3>k;++k)for(V=0;11>V;++V)J=de(O,SN[B][I][k][V])?S(O,8):jN[B][I][k][V],_.Wc[B][I].Yb[k][V]=J;for(I=0;17>I;++I)_.Xc[B][I]=_.Wc[B][FN[I]]}return d.kc=ae(O),d.kc&&(d.Bd=S(O,8)),d.cb=1}function Ld(d,f,B,k,I,O,_){var V=f[I].Yb[B];for(B=0;16>I;++I){if(!de(d,V[B+0]))return I;for(;!de(d,V[B+1]);)if(V=f[++I].Yb[0],B=0,I==16)return 16;var W=f[I+1].Yb;if(de(d,V[B+2])){var J=d,Ae=0;if(de(J,(ge=V)[(he=B)+3]))if(de(J,ge[he+6])){for(V=0,he=2*(Ae=de(J,ge[he+8]))+(ge=de(J,ge[he+9+Ae])),Ae=0,ge=NN[he];ge[V];++V)Ae+=Ae+de(J,ge[V]);Ae+=3+(8<<he)}else de(J,ge[he+7])?(Ae=7+2*de(J,165),Ae+=de(J,145)):Ae=5+de(J,159);else Ae=de(J,ge[he+4])?3+de(J,ge[he+5]):2;V=W[2]}else Ae=1,V=W[1];W=_+kN[I],0>(J=d).b&&se(J);var he,ge=J.b,ce=(he=J.Ca>>1)-(J.I>>ge)>>31;--J.b,J.Ca+=ce,J.Ca|=1,J.I-=(he+1&ce)<<ge,O[W]=((Ae^ce)-ce)*k[(0<I)+0]}return 16}function Sl(d){var f=d.rb[d.sb-1];f.la=0,f.Na=0,n(d.zc,0,0,d.zc.length),d.ja=0}function pg(d,f){if(d==null)return 0;if(f==null)return Ar(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Ud(d,f))return 0;if(t(d.cb),f.ac==null||f.ac(f)){f.ob&&(d.L=0);var B=Au[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=f.v-B>>4,d.zb=f.j-B>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=f.o+15+B>>4,d.Hb=f.va+15+B>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var k=d.ed;for(B=0;4>B;++B){var I;if(d.Qa.Cb){var O=d.Qa.Lb[B];d.Qa.Fb||(O+=k.Tb)}else O=k.Tb;for(I=0;1>=I;++I){var _=d.gd[B][I],V=O;if(k.Pc&&(V+=k.vd[0],I&&(V+=k.od[0])),0<(V=0>V?0:63<V?63:V)){var W=V;0<k.wb&&(W=4<k.wb?W>>2:W>>1)>9-k.wb&&(W=9-k.wb),1>W&&(W=1),_.dd=W,_.tc=2*V+W,_.ld=40<=V?2:15<=V?1:0}else _.tc=0;_.La=I}}}B=0}else Ar(d,6,"Frame setup failed"),B=d.a;if(B=B==0){if(B){d.$c=0,0<d.Aa||(d.Ic=_N);e:{B=d.Ic,k=4*(W=d.za);var J=32*W,Ae=W+1,he=0<d.L?W*(0<d.Aa?2:1):0,ge=(d.Aa==2?2:1)*W;if((_=k+832+(I=3*(16*B+Au[d.L])/2*J)+(O=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=_)B=0;else{if(_>d.Vb){if(d.Vb=0,d.Ec=i(_),d.Fc=0,d.Ec==null){B=Ar(d,1,"no memory during frame initialization.");break e}d.Vb=_}_=d.Ec,V=d.Fc,d.Ac=_,d.Bc=V,V+=k,d.Gd=A(J,Ed),d.Hd=0,d.rb=A(Ae+1,Fd),d.sb=1,d.wa=he?A(he,WA):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=W),t(!0),d.oc=_,d.pc=V,V+=832,d.ya=A(ge,Cl),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=W),d.R=16*W,d.B=8*W,W=(J=Au[d.L])*d.R,J=J/2*d.B,d.sa=_,d.ta=V+W,d.qa=d.sa,d.ra=d.ta+16*B*d.R+J,d.Ha=d.qa,d.Ia=d.ra+8*B*d.B+J,d.$c=0,V+=I,d.mb=O?_:null,d.nb=O?V:null,t(V+O<=d.Fc+d.Vb),Sl(d),n(d.Ac,d.Bc,0,k),B=1}}if(B){if(f.ka=0,f.y=d.sa,f.O=d.ta,f.f=d.qa,f.N=d.ra,f.ea=d.Ha,f.Vd=d.Ia,f.fa=d.R,f.Rc=d.B,f.F=null,f.J=0,!Yd){for(B=-255;255>=B;++B)jr[255+B]=0>B?-B:B;for(B=-1020;1020>=B;++B)Sn[1020+B]=-128>B?-128:127<B?127:B;for(B=-112;112>=B;++B)Jl[112+B]=-16>B?-16:15<B?15:B;for(B=-255;510>=B;++B)go[255+B]=0>B?0:255<B?255:B;Yd=1}co=bg,Cn=xg,Gl=Pd,ca=yg,Za=Dd,or=Id,uo=Il,Xd=aA,Wl=Lg,iA=Pl,AA=Ug,ai=to,oA=Dl,ho=zd,lA=qd,si=rn,$l=Nn,es=Qg,js[0]=tn,js[1]=wg,js[2]=kg,js[3]=jg,js[4]=Hd,js[5]=ZA,js[6]=Md,js[7]=Ql,js[8]=Sg,js[9]=Cg,ni[0]=Td,ni[1]=Bg,ni[2]=Bn,ni[3]=XA,ni[4]=Gr,ni[5]=Ng,ni[6]=Rd,Fn[0]=Yn,Fn[1]=vg,Fn[2]=Fg,Fn[3]=Ul,Fn[4]=rA,Fn[5]=Eg,Fn[6]=Ll,B=1}else B=0}B&&(B=function(ce,ve){for(ce.M=0;ce.M<ce.Va;++ce.M){var me,oe=ce.Jc[ce.M&ce.Xb],le=ce.m,be=ce;for(me=0;me<be.za;++me){var Ne=le,we=be,Oe=we.Ac,Le=we.Bc+4*me,$e=we.zc,De=we.ya[we.aa+me];if(we.Qa.Bb?De.$b=de(Ne,we.Pa.jb[0])?2+de(Ne,we.Pa.jb[2]):de(Ne,we.Pa.jb[1]):De.$b=0,we.kc&&(De.Ad=de(Ne,we.Bd)),De.Za=!de(Ne,145)+0,De.Za){var Bt=De.Ob,Ft=0;for(we=0;4>we;++we){var yt,mt=$e[0+we];for(yt=0;4>yt;++yt){mt=CN[Oe[Le+yt]][mt];for(var Dt=ly[de(Ne,mt[0])];0<Dt;)Dt=ly[2*Dt+de(Ne,mt[Dt])];mt=-Dt,Oe[Le+yt]=mt}s(Bt,Ft,Oe,Le,4),Ft+=4,$e[0+we]=mt}}else mt=de(Ne,156)?de(Ne,128)?1:3:de(Ne,163)?2:0,De.Ob[0]=mt,n(Oe,Le,mt,4),n($e,0,mt,4);De.Dd=de(Ne,142)?de(Ne,114)?de(Ne,183)?1:3:2:0}if(be.m.Ka)return Ar(ce,7,"Premature end-of-partition0 encountered.");for(;ce.ja<ce.za;++ce.ja){if(be=oe,Ne=(le=ce).rb[le.sb-1],Oe=le.rb[le.sb+le.ja],me=le.ya[le.aa+le.ja],Le=le.kc?me.Ad:0)Ne.la=Oe.la=0,me.Za||(Ne.Na=Oe.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var Lt,lt;if(Ne=Oe,Oe=be,Le=le.Pa.Xc,$e=le.ya[le.aa+le.ja],De=le.pb[$e.$b],we=$e.ad,Bt=0,Ft=le.rb[le.sb-1],mt=yt=0,n(we,Bt,0,384),$e.Za)var yr=0,Ba=Le[3];else{Dt=i(16);var br=Ne.Na+Ft.Na;if(br=Xl(Oe,Le[1],br,De.Eb,0,Dt,0),Ne.Na=Ft.Na=(0<br)+0,1<br)co(Dt,0,we,Bt);else{var Na=Dt[0]+3>>3;for(Dt=0;256>Dt;Dt+=16)we[Bt+Dt]=Na}yr=1,Ba=Le[0]}var Et=15&Ne.la,Ta=15&Ft.la;for(Dt=0;4>Dt;++Dt){var Ra=1&Ta;for(Na=lt=0;4>Na;++Na)Et=Et>>1|(Ra=(br=Xl(Oe,Ba,br=Ra+(1&Et),De.Sc,yr,we,Bt))>yr)<<7,lt=lt<<2|(3<br?3:1<br?2:we[Bt+0]!=0),Bt+=16;Et>>=4,Ta=Ta>>1|Ra<<7,yt=(yt<<8|lt)>>>0}for(Ba=Et,yr=Ta>>4,Lt=0;4>Lt;Lt+=2){for(lt=0,Et=Ne.la>>4+Lt,Ta=Ft.la>>4+Lt,Dt=0;2>Dt;++Dt){for(Ra=1&Ta,Na=0;2>Na;++Na)br=Ra+(1&Et),Et=Et>>1|(Ra=0<(br=Xl(Oe,Le[2],br,De.Qc,0,we,Bt)))<<3,lt=lt<<2|(3<br?3:1<br?2:we[Bt+0]!=0),Bt+=16;Et>>=2,Ta=Ta>>1|Ra<<5}mt|=lt<<4*Lt,Ba|=Et<<4<<Lt,yr|=(240&Ta)<<Lt}Ne.la=Ba,Ft.la=yr,$e.Hc=yt,$e.Gc=mt,$e.ia=43690&mt?0:De.ia,Le=!(yt|mt)}if(0<le.L&&(le.wa[le.Y+le.ja]=le.gd[me.$b][me.Za],le.wa[le.Y+le.ja].La|=!Le),be.Ka)return Ar(ce,7,"Premature end-of-file encountered.")}if(Sl(ce),le=ve,be=1,me=(oe=ce).D,Ne=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(me.M=oe.M,me.uc=Ne,_l(oe,me),be=1,me=(lt=oe.D).Nb,Ne=(mt=Au[oe.L])*oe.R,Oe=mt/2*oe.B,Dt=16*me*oe.R,Na=8*me*oe.B,Le=oe.sa,$e=oe.ta-Ne+Dt,De=oe.qa,we=oe.ra-Oe+Na,Bt=oe.Ha,Ft=oe.Ia-Oe+Na,Ta=(Et=lt.M)==0,yt=Et>=oe.Va-1,oe.Aa==2&&_l(oe,lt),lt.uc)for(Ra=(br=oe).D.M,t(br.D.uc),lt=br.yb;lt<br.Hb;++lt){yr=lt,Ba=Ra;var Qr=(Hr=(sr=br).D).Nb;Lt=sr.R;var Hr=Hr.wa[Hr.Y+yr],da=sr.sa,ss=sr.ta+16*Qr*Lt+16*yr,sn=Hr.dd,Ur=Hr.tc;if(Ur!=0)if(t(3<=Ur),sr.L==1)0<yr&&si(da,ss,Lt,Ur+4),Hr.La&&es(da,ss,Lt,Ur),0<Ba&&lA(da,ss,Lt,Ur+4),Hr.La&&$l(da,ss,Lt,Ur);else{var En=sr.B,cA=sr.qa,fo=sr.ra+8*Qr*En+8*yr,Ai=sr.Ha,sr=sr.Ia+8*Qr*En+8*yr;Qr=Hr.ld,0<yr&&(Xd(da,ss,Lt,Ur+4,sn,Qr),iA(cA,fo,Ai,sr,En,Ur+4,sn,Qr)),Hr.La&&(ai(da,ss,Lt,Ur,sn,Qr),ho(cA,fo,Ai,sr,En,Ur,sn,Qr)),0<Ba&&(uo(da,ss,Lt,Ur+4,sn,Qr),Wl(cA,fo,Ai,sr,En,Ur+4,sn,Qr)),Hr.La&&(AA(da,ss,Lt,Ur,sn,Qr),oA(cA,fo,Ai,sr,En,Ur,sn,Qr))}}if(oe.ia&&alert("todo:DitherRow"),le.put!=null){if(lt=16*Et,Et=16*(Et+1),Ta?(le.y=oe.sa,le.O=oe.ta+Dt,le.f=oe.qa,le.N=oe.ra+Na,le.ea=oe.Ha,le.W=oe.Ia+Na):(lt-=mt,le.y=Le,le.O=$e,le.f=De,le.N=we,le.ea=Bt,le.W=Ft),yt||(Et-=mt),Et>le.o&&(Et=le.o),le.F=null,le.J=null,oe.Fa!=null&&0<oe.Fa.length&&lt<Et&&(le.J=Ml(oe,le,lt,Et-lt),le.F=oe.mb,le.F==null&&le.F.length==0)){be=Ar(oe,3,"Could not decode alpha data.");break e}lt<le.j&&(mt=le.j-lt,lt=le.j,t(!(1&mt)),le.O+=oe.R*mt,le.N+=oe.B*(mt>>1),le.W+=oe.B*(mt>>1),le.F!=null&&(le.J+=le.width*mt)),lt<Et&&(le.O+=le.v,le.N+=le.v>>1,le.W+=le.v>>1,le.F!=null&&(le.J+=le.v),le.ka=lt-le.j,le.U=le.va-le.v,le.T=Et-lt,be=le.put(le))}me+1!=oe.Ic||yt||(s(oe.sa,oe.ta-Ne,Le,$e+16*oe.R,Ne),s(oe.qa,oe.ra-Oe,De,we+8*oe.B,Oe),s(oe.Ha,oe.Ia-Oe,Bt,Ft+8*oe.B,Oe))}if(!be)return Ar(ce,6,"Output aborted.")}return 1}(d,f)),f.bc!=null&&f.bc(f),B&=1}return B?(d.cb=0,B):0}function Bs(d,f,B,k,I){I=d[f+B+32*k]+(I>>3),d[f+B+32*k]=-256&I?0>I?0:255:I}function JA(d,f,B,k,I,O){Bs(d,f,0,B,k+I),Bs(d,f,1,B,k+O),Bs(d,f,2,B,k-O),Bs(d,f,3,B,k-I)}function ba(d){return(20091*d>>16)+d}function Fl(d,f,B,k){var I,O=0,_=i(16);for(I=0;4>I;++I){var V=d[f+0]+d[f+8],W=d[f+0]-d[f+8],J=(35468*d[f+4]>>16)-ba(d[f+12]),Ae=ba(d[f+4])+(35468*d[f+12]>>16);_[O+0]=V+Ae,_[O+1]=W+J,_[O+2]=W-J,_[O+3]=V-Ae,O+=4,f++}for(I=O=0;4>I;++I)V=(d=_[O+0]+4)+_[O+8],W=d-_[O+8],J=(35468*_[O+4]>>16)-ba(_[O+12]),Bs(B,k,0,0,V+(Ae=ba(_[O+4])+(35468*_[O+12]>>16))),Bs(B,k,1,0,W+J),Bs(B,k,2,0,W-J),Bs(B,k,3,0,V-Ae),O++,k+=32}function Id(d,f,B,k){var I=d[f+0]+4,O=35468*d[f+4]>>16,_=ba(d[f+4]),V=35468*d[f+1]>>16;JA(B,k,0,I+_,d=ba(d[f+1]),V),JA(B,k,1,I+O,d,V),JA(B,k,2,I-O,d,V),JA(B,k,3,I-_,d,V)}function xg(d,f,B,k,I){Fl(d,f,B,k),I&&Fl(d,f+16,B,k+4)}function Pd(d,f,B,k){Cn(d,f+0,B,k,1),Cn(d,f+32,B,k+128,1)}function yg(d,f,B,k){var I;for(d=d[f+0]+4,I=0;4>I;++I)for(f=0;4>f;++f)Bs(B,k,f,I,d)}function Dd(d,f,B,k){d[f+0]&&ca(d,f+0,B,k),d[f+16]&&ca(d,f+16,B,k+4),d[f+32]&&ca(d,f+32,B,k+128),d[f+48]&&ca(d,f+48,B,k+128+4)}function bg(d,f,B,k){var I,O=i(16);for(I=0;4>I;++I){var _=d[f+0+I]+d[f+12+I],V=d[f+4+I]+d[f+8+I],W=d[f+4+I]-d[f+8+I],J=d[f+0+I]-d[f+12+I];O[0+I]=_+V,O[8+I]=_-V,O[4+I]=J+W,O[12+I]=J-W}for(I=0;4>I;++I)_=(d=O[0+4*I]+3)+O[3+4*I],V=O[1+4*I]+O[2+4*I],W=O[1+4*I]-O[2+4*I],J=d-O[3+4*I],B[k+0]=_+V>>3,B[k+16]=J+W>>3,B[k+32]=_-V>>3,B[k+48]=J-W>>3,k+=64}function El(d,f,B){var k,I=f-32,O=Da,_=255-d[I-1];for(k=0;k<B;++k){var V,W=O,J=_+d[f-1];for(V=0;V<B;++V)d[f+V]=W[J+d[I+V]];f+=32}}function wg(d,f){El(d,f,4)}function vg(d,f){El(d,f,8)}function Bg(d,f){El(d,f,16)}function Bn(d,f){var B;for(B=0;16>B;++B)s(d,f+32*B,d,f-32,16)}function XA(d,f){var B;for(B=16;0<B;--B)n(d,f,d[f-1],16),f+=32}function YA(d,f,B){var k;for(k=0;16>k;++k)n(f,B+32*k,d,16)}function Td(d,f){var B,k=16;for(B=0;16>B;++B)k+=d[f-1+32*B]+d[f+B-32];YA(k>>5,d,f)}function Gr(d,f){var B,k=8;for(B=0;16>B;++B)k+=d[f-1+32*B];YA(k>>4,d,f)}function Ng(d,f){var B,k=8;for(B=0;16>B;++B)k+=d[f+B-32];YA(k>>4,d,f)}function Rd(d,f){YA(128,d,f)}function rt(d,f,B){return d+2*f+B+2>>2}function kg(d,f){var B,k=f-32;for(k=new Uint8Array([rt(d[k-1],d[k+0],d[k+1]),rt(d[k+0],d[k+1],d[k+2]),rt(d[k+1],d[k+2],d[k+3]),rt(d[k+2],d[k+3],d[k+4])]),B=0;4>B;++B)s(d,f+32*B,k,0,k.length)}function jg(d,f){var B=d[f-1],k=d[f-1+32],I=d[f-1+64],O=d[f-1+96];Be(d,f+0,16843009*rt(d[f-1-32],B,k)),Be(d,f+32,16843009*rt(B,k,I)),Be(d,f+64,16843009*rt(k,I,O)),Be(d,f+96,16843009*rt(I,O,O))}function tn(d,f){var B,k=4;for(B=0;4>B;++B)k+=d[f+B-32]+d[f-1+32*B];for(k>>=3,B=0;4>B;++B)n(d,f+32*B,k,4)}function Hd(d,f){var B=d[f-1+0],k=d[f-1+32],I=d[f-1+64],O=d[f-1-32],_=d[f+0-32],V=d[f+1-32],W=d[f+2-32],J=d[f+3-32];d[f+0+96]=rt(k,I,d[f-1+96]),d[f+1+96]=d[f+0+64]=rt(B,k,I),d[f+2+96]=d[f+1+64]=d[f+0+32]=rt(O,B,k),d[f+3+96]=d[f+2+64]=d[f+1+32]=d[f+0+0]=rt(_,O,B),d[f+3+64]=d[f+2+32]=d[f+1+0]=rt(V,_,O),d[f+3+32]=d[f+2+0]=rt(W,V,_),d[f+3+0]=rt(J,W,V)}function Md(d,f){var B=d[f+1-32],k=d[f+2-32],I=d[f+3-32],O=d[f+4-32],_=d[f+5-32],V=d[f+6-32],W=d[f+7-32];d[f+0+0]=rt(d[f+0-32],B,k),d[f+1+0]=d[f+0+32]=rt(B,k,I),d[f+2+0]=d[f+1+32]=d[f+0+64]=rt(k,I,O),d[f+3+0]=d[f+2+32]=d[f+1+64]=d[f+0+96]=rt(I,O,_),d[f+3+32]=d[f+2+64]=d[f+1+96]=rt(O,_,V),d[f+3+64]=d[f+2+96]=rt(_,V,W),d[f+3+96]=rt(V,W,W)}function ZA(d,f){var B=d[f-1+0],k=d[f-1+32],I=d[f-1+64],O=d[f-1-32],_=d[f+0-32],V=d[f+1-32],W=d[f+2-32],J=d[f+3-32];d[f+0+0]=d[f+1+64]=O+_+1>>1,d[f+1+0]=d[f+2+64]=_+V+1>>1,d[f+2+0]=d[f+3+64]=V+W+1>>1,d[f+3+0]=W+J+1>>1,d[f+0+96]=rt(I,k,B),d[f+0+64]=rt(k,B,O),d[f+0+32]=d[f+1+96]=rt(B,O,_),d[f+1+32]=d[f+2+96]=rt(O,_,V),d[f+2+32]=d[f+3+96]=rt(_,V,W),d[f+3+32]=rt(V,W,J)}function Ql(d,f){var B=d[f+0-32],k=d[f+1-32],I=d[f+2-32],O=d[f+3-32],_=d[f+4-32],V=d[f+5-32],W=d[f+6-32],J=d[f+7-32];d[f+0+0]=B+k+1>>1,d[f+1+0]=d[f+0+64]=k+I+1>>1,d[f+2+0]=d[f+1+64]=I+O+1>>1,d[f+3+0]=d[f+2+64]=O+_+1>>1,d[f+0+32]=rt(B,k,I),d[f+1+32]=d[f+0+96]=rt(k,I,O),d[f+2+32]=d[f+1+96]=rt(I,O,_),d[f+3+32]=d[f+2+96]=rt(O,_,V),d[f+3+64]=rt(_,V,W),d[f+3+96]=rt(V,W,J)}function Cg(d,f){var B=d[f-1+0],k=d[f-1+32],I=d[f-1+64],O=d[f-1+96];d[f+0+0]=B+k+1>>1,d[f+2+0]=d[f+0+32]=k+I+1>>1,d[f+2+32]=d[f+0+64]=I+O+1>>1,d[f+1+0]=rt(B,k,I),d[f+3+0]=d[f+1+32]=rt(k,I,O),d[f+3+32]=d[f+1+64]=rt(I,O,O),d[f+3+64]=d[f+2+64]=d[f+0+96]=d[f+1+96]=d[f+2+96]=d[f+3+96]=O}function Sg(d,f){var B=d[f-1+0],k=d[f-1+32],I=d[f-1+64],O=d[f-1+96],_=d[f-1-32],V=d[f+0-32],W=d[f+1-32],J=d[f+2-32];d[f+0+0]=d[f+2+32]=B+_+1>>1,d[f+0+32]=d[f+2+64]=k+B+1>>1,d[f+0+64]=d[f+2+96]=I+k+1>>1,d[f+0+96]=O+I+1>>1,d[f+3+0]=rt(V,W,J),d[f+2+0]=rt(_,V,W),d[f+1+0]=d[f+3+32]=rt(B,_,V),d[f+1+32]=d[f+3+64]=rt(k,B,_),d[f+1+64]=d[f+3+96]=rt(I,k,B),d[f+1+96]=rt(O,I,k)}function Fg(d,f){var B;for(B=0;8>B;++B)s(d,f+32*B,d,f-32,8)}function Ul(d,f){var B;for(B=0;8>B;++B)n(d,f,d[f-1],8),f+=32}function tA(d,f,B){var k;for(k=0;8>k;++k)n(f,B+32*k,d,8)}function Yn(d,f){var B,k=8;for(B=0;8>B;++B)k+=d[f+B-32]+d[f-1+32*B];tA(k>>4,d,f)}function Eg(d,f){var B,k=4;for(B=0;8>B;++B)k+=d[f+B-32];tA(k>>3,d,f)}function rA(d,f){var B,k=4;for(B=0;8>B;++B)k+=d[f-1+32*B];tA(k>>3,d,f)}function Ll(d,f){tA(128,d,f)}function eo(d,f,B){var k=d[f-B],I=d[f+0],O=3*(I-k)+Dg[1020+d[f-2*B]-d[f+B]],_=Zd[112+(O+4>>3)];d[f-B]=Da[255+k+Zd[112+(O+3>>3)]],d[f+0]=Da[255+I-_]}function Od(d,f,B,k){var I=d[f+0],O=d[f+B];return rs[255+d[f-2*B]-d[f-B]]>k||rs[255+O-I]>k}function _d(d,f,B,k){return 4*rs[255+d[f-B]-d[f+0]]+rs[255+d[f-2*B]-d[f+B]]<=k}function Kd(d,f,B,k,I){var O=d[f-3*B],_=d[f-2*B],V=d[f-B],W=d[f+0],J=d[f+B],Ae=d[f+2*B],he=d[f+3*B];return 4*rs[255+V-W]+rs[255+_-J]>k?0:rs[255+d[f-4*B]-O]<=I&&rs[255+O-_]<=I&&rs[255+_-V]<=I&&rs[255+he-Ae]<=I&&rs[255+Ae-J]<=I&&rs[255+J-W]<=I}function qd(d,f,B,k){var I=2*k+1;for(k=0;16>k;++k)_d(d,f+k,B,I)&&eo(d,f+k,B)}function rn(d,f,B,k){var I=2*k+1;for(k=0;16>k;++k)_d(d,f+k*B,1,I)&&eo(d,f+k*B,1)}function Nn(d,f,B,k){var I;for(I=3;0<I;--I)qd(d,f+=4*B,B,k)}function Qg(d,f,B,k){var I;for(I=3;0<I;--I)rn(d,f+=4,B,k)}function Zn(d,f,B,k,I,O,_,V){for(O=2*O+1;0<I--;){if(Kd(d,f,B,O,_))if(Od(d,f,B,V))eo(d,f,B);else{var W=d,J=f,Ae=B,he=W[J-2*Ae],ge=W[J-Ae],ce=W[J+0],ve=W[J+Ae],me=W[J+2*Ae],oe=27*(be=Dg[1020+3*(ce-ge)+Dg[1020+he-ve]])+63>>7,le=18*be+63>>7,be=9*be+63>>7;W[J-3*Ae]=Da[255+W[J-3*Ae]+be],W[J-2*Ae]=Da[255+he+le],W[J-Ae]=Da[255+ge+oe],W[J+0]=Da[255+ce-oe],W[J+Ae]=Da[255+ve-le],W[J+2*Ae]=Da[255+me-be]}f+=k}}function Ns(d,f,B,k,I,O,_,V){for(O=2*O+1;0<I--;){if(Kd(d,f,B,O,_))if(Od(d,f,B,V))eo(d,f,B);else{var W=d,J=f,Ae=B,he=W[J-Ae],ge=W[J+0],ce=W[J+Ae],ve=Zd[112+((me=3*(ge-he))+4>>3)],me=Zd[112+(me+3>>3)],oe=ve+1>>1;W[J-2*Ae]=Da[255+W[J-2*Ae]+oe],W[J-Ae]=Da[255+he+me],W[J+0]=Da[255+ge-ve],W[J+Ae]=Da[255+ce-oe]}f+=k}}function Il(d,f,B,k,I,O){Zn(d,f,B,1,16,k,I,O)}function aA(d,f,B,k,I,O){Zn(d,f,1,B,16,k,I,O)}function Ug(d,f,B,k,I,O){var _;for(_=3;0<_;--_)Ns(d,f+=4*B,B,1,16,k,I,O)}function to(d,f,B,k,I,O){var _;for(_=3;0<_;--_)Ns(d,f+=4,1,B,16,k,I,O)}function Lg(d,f,B,k,I,O,_,V){Zn(d,f,I,1,8,O,_,V),Zn(B,k,I,1,8,O,_,V)}function Pl(d,f,B,k,I,O,_,V){Zn(d,f,1,I,8,O,_,V),Zn(B,k,1,I,8,O,_,V)}function Dl(d,f,B,k,I,O,_,V){Ns(d,f+4*I,I,1,8,O,_,V),Ns(B,k+4*I,I,1,8,O,_,V)}function zd(d,f,B,k,I,O,_,V){Ns(d,f+4,1,I,8,O,_,V),Ns(B,k+4,1,I,8,O,_,V)}function ro(){this.ba=new xs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Tl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Vd(){this.ua=0,this.Wa=new G,this.vb=new G,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new j}function Ig(){this.xb=this.a=0,this.l=new $A,this.ca=new xs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Vd,this.ab=0,this.gc=A(4,Rl),this.Oc=0}function ao(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $A,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sA(d,f,B,k,I,O,_){for(d=d==null?0:d[f+0],f=0;f<_;++f)I[O+f]=d+B[k+f]&255,d=I[O+f]}function Hl(d,f,B,k,I,O,_){var V;if(d==null)sA(null,null,B,k,I,O,_);else for(V=0;V<_;++V)I[O+V]=d[f+V]+B[k+V]&255}function ei(d,f,B,k,I,O,_){if(d==null)sA(null,null,B,k,I,O,_);else{var V,W=d[f+0],J=W,Ae=W;for(V=0;V<_;++V)J=Ae+(W=d[f+V])-J,Ae=B[k+V]+(-256&J?0>J?0:255:J)&255,J=W,I[O+V]=Ae}}function Ml(d,f,B,k){var I=f.width,O=f.o;if(t(d!=null&&f!=null),0>B||0>=k||B+k>O)return null;if(!d.Cc){if(d.ga==null){var _;if(d.ga=new ao,(_=d.ga==null)||(_=f.width*f.o,t(d.Gb.length==0),d.Gb=i(_),d.Uc=0,d.Gb==null?_=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,_=1),_=!_),!_){_=d.ga;var V=d.Fa,W=d.P,J=d.qc,Ae=d.mb,he=d.nb,ge=W+1,ce=J-1,ve=_.l;if(t(V!=null&&Ae!=null&&f!=null),ii[0]=null,ii[1]=sA,ii[2]=Hl,ii[3]=ei,_.ca=Ae,_.tb=he,_.c=f.width,_.i=f.height,t(0<_.c&&0<_.i),1>=J)f=0;else if(_.$a=V[W+0]>>0&3,_.Z=V[W+0]>>2&3,_.Lc=V[W+0]>>4&3,W=V[W+0]>>6&3,0>_.$a||1<_.$a||4<=_.Z||1<_.Lc||W)f=0;else if(ve.put=Js,ve.ac=Tr,ve.bc=Xs,ve.ma=_,ve.width=f.width,ve.height=f.height,ve.Da=f.Da,ve.v=f.v,ve.va=f.va,ve.j=f.j,ve.o=f.o,_.$a)e:{t(_.$a==1),f=Xa();t:for(;;){if(f==null){f=0;break e}if(t(_!=null),_.mc=f,f.c=_.c,f.i=_.i,f.l=_.l,f.l.ma=_,f.l.width=_.c,f.l.height=_.i,f.a=0,q(f.m,V,ge,ce),!en(_.c,_.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&vn(f.s)?(_.ic=1,V=f.c*f.i,f.Ta=null,f.Ua=0,f.V=i(V),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(_.ic=0,f=eA(f,_.c)),!f))break t;f=1;break e}_.mc=null,f=0}else f=ce>=_.c*_.i;_=!f}if(_)return null;d.ga.Lc!=1?d.Ga=0:k=O-B}t(d.ga!=null),t(B+k<=O);e:{if(f=(V=d.ga).c,O=V.l.o,V.$a==0){if(ge=d.rc,ce=d.Vc,ve=d.Fa,W=d.P+1+B*f,J=d.mb,Ae=d.nb+B*f,t(W<=d.P+d.qc),V.Z!=0)for(t(ii[V.Z]!=null),_=0;_<k;++_)ii[V.Z](ge,ce,ve,W,J,Ae,f),ge=J,ce=Ae,Ae+=f,W+=f;else for(_=0;_<k;++_)s(J,Ae,ve,W,f),ge=J,ce=Ae,Ae+=f,W+=f;d.rc=ge,d.Vc=ce}else{if(t(V.mc!=null),f=B+k,t((_=V.mc)!=null),t(f<=_.i),_.C>=f)f=1;else if(V.ic||ue(),V.ic){V=_.V,ge=_.Ba,ce=_.c;var me=_.i,oe=(ve=1,W=_.$/ce,J=_.$%ce,Ae=_.m,he=_.s,_.$),le=ce*me,be=ce*f,Ne=he.wc,we=oe<be?pr(he,J,W):null;t(oe<=le),t(f<=me),t(vn(he));t:for(;;){for(;!Ae.h&&oe<be;){if(J&Ne||(we=pr(he,J,W)),t(we!=null),ee(Ae),256>(me=ya(we.G[0],we.H[0],Ae)))V[ge+oe]=me,++oe,++J>=ce&&(J=0,++W<=f&&!(W%16)&&ws(_,W));else{if(!(280>me)){ve=0;break t}me=ys(me-256,Ae);var Oe,Le=ya(we.G[4],we.H[4],Ae);if(ee(Ae),!(oe>=(Le=Ys(ce,Le=ys(Le,Ae)))&&le-oe>=me)){ve=0;break t}for(Oe=0;Oe<me;++Oe)V[ge+oe+Oe]=V[ge+oe+Oe-Le];for(oe+=me,J+=me;J>=ce;)J-=ce,++W<=f&&!(W%16)&&ws(_,W);oe<be&&J&Ne&&(we=pr(he,J,W))}t(Ae.h==Y(Ae))}ws(_,W>f?f:W);break t}!ve||Ae.h&&oe<le?(ve=0,_.a=Ae.h?5:3):_.$=oe,f=ve}else f=vs(_,_.V,_.Ba,_.c,_.i,f,qA);if(!f){k=0;break e}}B+k>=O&&(d.Cc=1),k=1}if(!k)return null;if(d.Cc&&((k=d.ga)!=null&&(k.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+B*I}function b(d,f,B,k,I,O){for(;0<I--;){var _,V=d,W=f+(B?1:0),J=d,Ae=f+(B?0:3);for(_=0;_<k;++_){var he=J[Ae+4*_];he!=255&&(he*=32897,V[W+4*_+0]=V[W+4*_+0]*he>>23,V[W+4*_+1]=V[W+4*_+1]*he>>23,V[W+4*_+2]=V[W+4*_+2]*he>>23)}f+=O}}function P(d,f,B,k,I){for(;0<k--;){var O;for(O=0;O<B;++O){var _=d[f+2*O+0],V=15&(J=d[f+2*O+1]),W=4369*V,J=(240&J|J>>4)*W>>16;d[f+2*O+0]=(240&_|_>>4)*W>>16&240|(15&_|_<<4)*W>>16>>4&15,d[f+2*O+1]=240&J|V}f+=I}}function Z(d,f,B,k,I,O,_,V){var W,J,Ae=255;for(J=0;J<I;++J){for(W=0;W<k;++W){var he=d[f+W];O[_+4*W]=he,Ae&=he}f+=B,_+=V}return Ae!=255}function ne(d,f,B,k,I){var O;for(O=0;O<I;++O)B[k+O]=d[f+O]>>8}function ue(){ts=b,Rt=P,Ht=Z,lr=ne}function xe(d,f,B){C[d]=function(k,I,O,_,V,W,J,Ae,he,ge,ce,ve,me,oe,le,be,Ne){var we,Oe=Ne-1>>1,Le=V[W+0]|J[Ae+0]<<16,$e=he[ge+0]|ce[ve+0]<<16;t(k!=null);var De=3*Le+$e+131074>>2;for(f(k[I+0],255&De,De>>16,me,oe),O!=null&&(De=3*$e+Le+131074>>2,f(O[_+0],255&De,De>>16,le,be)),we=1;we<=Oe;++we){var Bt=V[W+we]|J[Ae+we]<<16,Ft=he[ge+we]|ce[ve+we]<<16,yt=Le+Bt+$e+Ft+524296,mt=yt+2*(Bt+$e)>>3;De=mt+Le>>1,Le=(yt=yt+2*(Le+Ft)>>3)+Bt>>1,f(k[I+2*we-1],255&De,De>>16,me,oe+(2*we-1)*B),f(k[I+2*we-0],255&Le,Le>>16,me,oe+(2*we-0)*B),O!=null&&(De=yt+$e>>1,Le=mt+Ft>>1,f(O[_+2*we-1],255&De,De>>16,le,be+(2*we-1)*B),f(O[_+2*we+0],255&Le,Le>>16,le,be+(2*we+0)*B)),Le=Bt,$e=Ft}1&Ne||(De=3*Le+$e+131074>>2,f(k[I+Ne-1],255&De,De>>16,me,oe+(Ne-1)*B),O!=null&&(De=3*$e+Le+131074>>2,f(O[_+Ne-1],255&De,De>>16,le,be+(Ne-1)*B)))}}function je(){as[eu]=QN,as[tu]=dy,as[iy]=UN,as[ru]=uy,as[au]=hy,as[Tg]=gy,as[Ay]=LN,as[Rg]=dy,as[Hg]=uy,as[su]=hy,as[Mg]=gy}function Me(d){return d&~IN?0>d?0:255:d>>fy}function We(d,f){return Me((19077*d>>8)+(26149*f>>8)-14234)}function ot(d,f,B){return Me((19077*d>>8)-(6419*f>>8)-(13320*B>>8)+8708)}function nt(d,f){return Me((19077*d>>8)+(33050*f>>8)-17685)}function xt(d,f,B,k,I){k[I+0]=We(d,B),k[I+1]=ot(d,f,B),k[I+2]=nt(d,f)}function $t(d,f,B,k,I){k[I+0]=nt(d,f),k[I+1]=ot(d,f,B),k[I+2]=We(d,B)}function ar(d,f,B,k,I){var O=ot(d,f,B);f=O<<3&224|nt(d,f)>>3,k[I+0]=248&We(d,B)|O>>5,k[I+1]=f}function xr(d,f,B,k,I){var O=240&nt(d,f)|15;k[I+0]=240&We(d,B)|ot(d,f,B)>>4,k[I+1]=O}function Wr(d,f,B,k,I){k[I+0]=255,xt(d,f,B,k,I+1)}function Er(d,f,B,k,I){$t(d,f,B,k,I),k[I+3]=255}function ks(d,f,B,k,I){xt(d,f,B,k,I),k[I+3]=255}function Pa(d,f){return 0>d?0:d>f?f:d}function an(d,f,B){C[d]=function(k,I,O,_,V,W,J,Ae,he){for(var ge=Ae+(-2&he)*B;Ae!=ge;)f(k[I+0],O[_+0],V[W+0],J,Ae),f(k[I+1],O[_+0],V[W+0],J,Ae+B),I+=2,++_,++W,Ae+=2*B;1&he&&f(k[I+0],O[_+0],V[W+0],J,Ae)}}function Gd(d,f,B){return B==0?d==0?f==0?6:5:f==0?4:0:B}function Ol(d,f,B,k,I){switch(d>>>30){case 3:Cn(f,B,k,I,0);break;case 2:or(f,B,k,I);break;case 1:ca(f,B,k,I)}}function _l(d,f){var B,k,I=f.M,O=f.Nb,_=d.oc,V=d.pc+40,W=d.oc,J=d.pc+584,Ae=d.oc,he=d.pc+600;for(B=0;16>B;++B)_[V+32*B-1]=129;for(B=0;8>B;++B)W[J+32*B-1]=129,Ae[he+32*B-1]=129;for(0<I?_[V-1-32]=W[J-1-32]=Ae[he-1-32]=129:(n(_,V-32-1,127,21),n(W,J-32-1,127,9),n(Ae,he-32-1,127,9)),k=0;k<d.za;++k){var ge=f.ya[f.aa+k];if(0<k){for(B=-1;16>B;++B)s(_,V+32*B-4,_,V+32*B+12,4);for(B=-1;8>B;++B)s(W,J+32*B-4,W,J+32*B+4,4),s(Ae,he+32*B-4,Ae,he+32*B+4,4)}var ce=d.Gd,ve=d.Hd+k,me=ge.ad,oe=ge.Hc;if(0<I&&(s(_,V-32,ce[ve].y,0,16),s(W,J-32,ce[ve].f,0,8),s(Ae,he-32,ce[ve].ea,0,8)),ge.Za){var le=_,be=V-32+16;for(0<I&&(k>=d.za-1?n(le,be,ce[ve].y[15],4):s(le,be,ce[ve+1].y,0,4)),B=0;4>B;B++)le[be+128+B]=le[be+256+B]=le[be+384+B]=le[be+0+B];for(B=0;16>B;++B,oe<<=2)le=_,be=V+py[B],js[ge.Ob[B]](le,be),Ol(oe,me,16*+B,le,be)}else if(le=Gd(k,I,ge.Ob[0]),ni[le](_,V),oe!=0)for(B=0;16>B;++B,oe<<=2)Ol(oe,me,16*+B,_,V+py[B]);for(B=ge.Gc,le=Gd(k,I,ge.Dd),Fn[le](W,J),Fn[le](Ae,he),oe=me,le=W,be=J,255&(ge=B>>0)&&(170&ge?Gl(oe,256,le,be):Za(oe,256,le,be)),ge=Ae,oe=he,255&(B>>=8)&&(170&B?Gl(me,320,ge,oe):Za(me,320,ge,oe)),I<d.Ub-1&&(s(ce[ve].y,0,_,V+480,16),s(ce[ve].f,0,W,J+224,8),s(ce[ve].ea,0,Ae,he+224,8)),B=8*O*d.B,ce=d.sa,ve=d.ta+16*k+16*O*d.R,me=d.qa,ge=d.ra+8*k+B,oe=d.Ha,le=d.Ia+8*k+B,B=0;16>B;++B)s(ce,ve+B*d.R,_,V+32*B,16);for(B=0;8>B;++B)s(me,ge+B*d.B,W,J+32*B,8),s(oe,le+B*d.B,Ae,he+32*B,8)}}function so(d,f,B,k,I,O,_,V,W){var J=[0],Ae=[0],he=0,ge=W!=null?W.kd:0,ce=W??new Tl;if(d==null||12>B)return 7;ce.data=d,ce.w=f,ce.ha=B,f=[f],B=[B],ce.gb=[ce.gb];e:{var ve=f,me=B,oe=ce.gb;if(t(d!=null),t(me!=null),t(oe!=null),oe[0]=0,12<=me[0]&&!a(d,ve[0],"RIFF")){if(a(d,ve[0]+8,"WEBP")){oe=3;break e}var le=Ee(d,ve[0]+4);if(12>le||4294967286<le){oe=3;break e}if(ge&&le>me[0]-8){oe=7;break e}oe[0]=le,ve[0]+=12,me[0]-=12}oe=0}if(oe!=0)return oe;for(le=0<ce.gb[0],B=B[0];;){e:{var be=d;me=f,oe=B;var Ne=J,we=Ae,Oe=ve=[0];if((De=he=[he])[0]=0,8>oe[0])oe=7;else{if(!a(be,me[0],"VP8X")){if(Ee(be,me[0]+4)!=10){oe=3;break e}if(18>oe[0]){oe=7;break e}var Le=Ee(be,me[0]+8),$e=1+Qe(be,me[0]+12);if(2147483648<=$e*(be=1+Qe(be,me[0]+15))){oe=3;break e}Oe!=null&&(Oe[0]=Le),Ne!=null&&(Ne[0]=$e),we!=null&&(we[0]=be),me[0]+=18,oe[0]-=18,De[0]=1}oe=0}}if(he=he[0],ve=ve[0],oe!=0)return oe;if(me=!!(2&ve),!le&&he)return 3;if(O!=null&&(O[0]=!!(16&ve)),_!=null&&(_[0]=me),V!=null&&(V[0]=0),_=J[0],ve=Ae[0],he&&me&&W==null){oe=0;break}if(4>B){oe=7;break}if(le&&he||!le&&!he&&!a(d,f[0],"ALPH")){B=[B],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{Le=d,oe=f,le=B;var De=ce.gb;Ne=ce.na,we=ce.P,Oe=ce.Sa,$e=22,t(Le!=null),t(le!=null),be=oe[0];var Bt=le[0];for(t(Ne!=null),t(Oe!=null),Ne[0]=null,we[0]=null,Oe[0]=0;;){if(oe[0]=be,le[0]=Bt,8>Bt){oe=7;break e}var Ft=Ee(Le,be+4);if(4294967286<Ft){oe=3;break e}var yt=8+Ft+1&-2;if($e+=yt,0<De&&$e>De){oe=3;break e}if(!a(Le,be,"VP8 ")||!a(Le,be,"VP8L")){oe=0;break e}if(Bt[0]<yt){oe=7;break e}a(Le,be,"ALPH")||(Ne[0]=Le,we[0]=be+8,Oe[0]=Ft),be+=yt,Bt-=yt}}if(B=B[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],oe!=0)break}B=[B],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(De=d,oe=f,le=B,Ne=ce.gb[0],we=ce.Ja,Oe=ce.xa,Le=oe[0],be=!a(De,Le,"VP8 "),$e=!a(De,Le,"VP8L"),t(De!=null),t(le!=null),t(we!=null),t(Oe!=null),8>le[0])oe=7;else{if(be||$e){if(De=Ee(De,Le+4),12<=Ne&&De>Ne-12){oe=3;break e}if(ge&&De>le[0]-8){oe=7;break e}we[0]=De,oe[0]+=8,le[0]-=8,Oe[0]=$e}else Oe[0]=5<=le[0]&&De[Le+0]==47&&!(De[Le+4]>>5),we[0]=le[0];oe=0}if(B=B[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],f=f[0],oe!=0)break;if(4294967286<ce.Ja)return 3;if(V==null||me||(V[0]=ce.xa?2:1),_=[_],ve=[ve],ce.xa){if(5>B){oe=7;break}V=_,ge=ve,me=O,d==null||5>B?d=0:5<=B&&d[f+0]==47&&!(d[f+4]>>5)?(le=[0],De=[0],Ne=[0],q(we=new R,d,f,B),Ye(we,le,De,Ne)?(V!=null&&(V[0]=le[0]),ge!=null&&(ge[0]=De[0]),me!=null&&(me[0]=Ne[0]),d=1):d=0):d=0}else{if(10>B){oe=7;break}V=ve,d==null||10>B||!Qd(d,f+3,B-3)?d=0:(ge=d[f+0]|d[f+1]<<8|d[f+2]<<16,me=16383&(d[f+7]<<8|d[f+6]),d=16383&(d[f+9]<<8|d[f+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=ce.Ja||!me||!d?d=0:(_&&(_[0]=me),V&&(V[0]=d),d=1))}if(!d||(_=_[0],ve=ve[0],he&&(J[0]!=_||Ae[0]!=ve)))return 3;W!=null&&(W[0]=ce,W.offset=f-W.w,t(4294967286>f-W.w),t(W.offset==W.ha-B));break}return oe==0||oe==7&&he&&W==null?(O!=null&&(O[0]|=ce.na!=null&&0<ce.na.length),k!=null&&(k[0]=_),I!=null&&(I[0]=ve),0):oe}function Kl(d,f,B){var k=f.width,I=f.height,O=0,_=0,V=k,W=I;if(f.Da=d!=null&&0<d.Da,f.Da&&(V=d.cd,W=d.bd,O=d.v,_=d.j,11>B||(O&=-2,_&=-2),0>O||0>_||0>=V||0>=W||O+V>k||_+W>I))return 0;if(f.v=O,f.j=_,f.va=O+V,f.o=_+W,f.U=V,f.T=W,f.da=d!=null&&0<d.da,f.da){if(!_e(V,W,B=[d.ib],O=[d.hb]))return 0;f.ib=B[0],f.hb=O[0]}return f.ob=d!=null&&d.ob,f.Kb=d==null||!d.Sd,f.da&&(f.ob=f.ib<3*k/4&&f.hb<3*I/4,f.Kb=0),1}function ql(d){if(d==null)return 2;if(11>d.S){var f=d.f.RGBA;f.fb+=(d.height-1)*f.A,f.A=-f.A}else f=d.f.kb,d=d.height,f.O+=(d-1)*f.fa,f.fa=-f.fa,f.N+=(d-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(d-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(d-1)*f.lb,f.lb=-f.lb);return 0}function no(d,f,B,k){if(k==null||0>=d||0>=f)return 2;if(B!=null){if(B.Da){var I=B.cd,O=B.bd,_=-2&B.v,V=-2&B.j;if(0>_||0>V||0>=I||0>=O||_+I>d||V+O>f)return 2;d=I,f=O}if(B.da){if(!_e(d,f,I=[B.ib],O=[B.hb]))return 2;d=I[0],f=O[0]}}k.width=d,k.height=f;e:{var W=k.width,J=k.height;if(d=k.S,0>=W||0>=J||!(d>=eu&&13>d))d=2;else{if(0>=k.Rd&&k.sd==null){_=O=I=f=0;var Ae=(V=W*xy[d])*J;if(11>d||(O=(J+1)/2*(f=(W+1)/2),d==12&&(_=(I=W)*J)),(J=i(Ae+2*O+_))==null){d=1;break e}k.sd=J,11>d?((W=k.f.RGBA).eb=J,W.fb=0,W.A=V,W.size=Ae):((W=k.f.kb).y=J,W.O=0,W.fa=V,W.Fd=Ae,W.f=J,W.N=0+Ae,W.Ab=f,W.Cd=O,W.ea=J,W.W=0+Ae+O,W.Db=f,W.Ed=O,d==12&&(W.F=J,W.J=0+Ae+2*O),W.Tc=_,W.lb=I)}if(f=1,I=k.S,O=k.width,_=k.height,I>=eu&&13>I)if(11>I)d=k.f.RGBA,f&=(V=Math.abs(d.A))*(_-1)+O<=d.size,f&=V>=O*xy[I],f&=d.eb!=null;else{d=k.f.kb,V=(O+1)/2,Ae=(_+1)/2,W=Math.abs(d.fa),J=Math.abs(d.Ab);var he=Math.abs(d.Db),ge=Math.abs(d.lb),ce=ge*(_-1)+O;f&=W*(_-1)+O<=d.Fd,f&=J*(Ae-1)+V<=d.Cd,f=(f&=he*(Ae-1)+V<=d.Ed)&W>=O&J>=V&he>=V,f&=d.y!=null,f&=d.f!=null,f&=d.ea!=null,I==12&&(f&=ge>=O,f&=ce<=d.Tc,f&=d.F!=null)}else f=0;d=f?0:2}}return d!=0||B!=null&&B.fd&&(d=ql(k)),d}var Rr=64,io=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ao=24,oo=32,zl=8,wa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(d){return d},C.Predictor2=function(d,f,B){return f[B+0]},C.Predictor3=function(d,f,B){return f[B+1]},C.Predictor4=function(d,f,B){return f[B-1]},C.Predictor5=function(d,f,B){return Ie(Ie(d,f[B+1]),f[B+0])},C.Predictor6=function(d,f,B){return Ie(d,f[B-1])},C.Predictor7=function(d,f,B){return Ie(d,f[B+0])},C.Predictor8=function(d,f,B){return Ie(f[B-1],f[B+0])},C.Predictor9=function(d,f,B){return Ie(f[B+0],f[B+1])},C.Predictor10=function(d,f,B){return Ie(Ie(d,f[B-1]),Ie(f[B+0],f[B+1]))},C.Predictor11=function(d,f,B){var k=f[B+0];return 0>=at(k>>24&255,d>>24&255,(f=f[B-1])>>24&255)+at(k>>16&255,d>>16&255,f>>16&255)+at(k>>8&255,d>>8&255,f>>8&255)+at(255&k,255&d,255&f)?k:d},C.Predictor12=function(d,f,B){var k=f[B+0];return(Ge((d>>24&255)+(k>>24&255)-((f=f[B-1])>>24&255))<<24|Ge((d>>16&255)+(k>>16&255)-(f>>16&255))<<16|Ge((d>>8&255)+(k>>8&255)-(f>>8&255))<<8|Ge((255&d)+(255&k)-(255&f)))>>>0},C.Predictor13=function(d,f,B){var k=f[B-1];return(tt((d=Ie(d,f[B+0]))>>24&255,k>>24&255)<<24|tt(d>>16&255,k>>16&255)<<16|tt(d>>8&255,k>>8&255)<<8|tt(d>>0&255,k>>0&255))>>>0};var Pg=C.PredictorAdd0;C.PredictorAdd1=dt,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var Vl=C.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Wd,Ya=C.ColorIndexInverseTransform,lo=C.MapARGB,$d=C.VP8LColorIndexInverseTransformAlpha,Jd=C.MapAlpha,ti=C.VP8LPredictorsAdd=[];ti.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var nA,va,la,ri,kn,jn,co,Cn,or,Gl,ca,Za,uo,Xd,Wl,iA,AA,ai,oA,ho,lA,si,$l,es,ts,Rt,Ht,lr,jr=i(511),Sn=i(2041),Jl=i(225),go=i(767),Yd=0,Dg=Sn,Zd=Jl,Da=go,rs=jr,eu=0,tu=1,iy=2,ru=3,au=4,Tg=5,Ay=6,Rg=7,Hg=8,su=9,Mg=10,pN=[2,3,7],xN=[3,3,11],oy=[280,256,256,256,40],yN=[0,1,1,1,0],bN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],BN=8,Og=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_g=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xl=null,NN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ly=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],jN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],CN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],SN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],FN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ni=[],js=[],Fn=[],EN=1,cy=2,ii=[],as=[];xe("UpsampleRgbLinePair",xt,3),xe("UpsampleBgrLinePair",$t,3),xe("UpsampleRgbaLinePair",ks,4),xe("UpsampleBgraLinePair",Er,4),xe("UpsampleArgbLinePair",Wr,4),xe("UpsampleRgba4444LinePair",xr,2),xe("UpsampleRgb565LinePair",ar,2);var QN=C.UpsampleRgbLinePair,UN=C.UpsampleBgrLinePair,dy=C.UpsampleRgbaLinePair,uy=C.UpsampleBgraLinePair,hy=C.UpsampleArgbLinePair,gy=C.UpsampleRgba4444LinePair,LN=C.UpsampleRgb565LinePair,nu=16,iu=1<<nu-1,Yl=-227,Kg=482,fy=6,IN=(256<<fy)-1,my=0,PN=i(256),DN=i(256),TN=i(256),RN=i(256),HN=i(Kg-Yl),MN=i(Kg-Yl);an("YuvToRgbRow",xt,3),an("YuvToBgrRow",$t,3),an("YuvToRgbaRow",ks,4),an("YuvToBgraRow",Er,4),an("YuvToArgbRow",Wr,4),an("YuvToRgba4444Row",xr,2),an("YuvToRgb565Row",ar,2);var py=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Au=[0,2,8],ON=[8,7,6,4,4,2,2,2,1,1,1,1],_N=1;this.WebPDecodeRGBA=function(d,f,B,k,I){var O=tu,_=new ro,V=new xs;_.ba=V,V.S=O,V.width=[V.width],V.height=[V.height];var W=V.width,J=V.height,Ae=new wn;if(Ae==null||d==null)var he=2;else t(Ae!=null),he=so(d,f,B,Ae.width,Ae.height,Ae.Pd,Ae.Qd,Ae.format,null);if(he!=0?W=0:(W!=null&&(W[0]=Ae.width[0]),J!=null&&(J[0]=Ae.height[0]),W=1),W){V.width=V.width[0],V.height=V.height[0],k!=null&&(k[0]=V.width),I!=null&&(I[0]=V.height);e:{if(k=new $A,(I=new Tl).data=d,I.w=f,I.ha=B,I.kd=1,f=[0],t(I!=null),((d=so(I.data,I.w,I.ha,null,null,null,f,null,I))==0||d==7)&&f[0]&&(d=4),(f=d)==0){if(t(_!=null),k.data=I.data,k.w=I.w+I.offset,k.ha=I.ha-I.offset,k.put=Js,k.ac=Tr,k.bc=Xs,k.ma=_,I.xa){if((d=Xa())==null){_=1;break e}if(function(ge,ce){var ve=[0],me=[0],oe=[0];t:for(;;){if(ge==null)return 0;if(ce==null)return ge.a=2,0;if(ge.l=ce,ge.a=0,q(ge.m,ce.data,ce.w,ce.ha),!Ye(ge.m,ve,me,oe)){ge.a=3;break t}if(ge.xb=cy,ce.width=ve[0],ce.height=me[0],!en(ve[0],me[0],1,ge,null))break t;return 1}return t(ge.a!=0),0}(d,k)){if(k=(f=no(k.width,k.height,_.Oa,_.ba))==0){t:{k=d;r:for(;;){if(k==null){k=0;break t}if(t(k.s.yc!=null),t(k.s.Ya!=null),t(0<k.s.Wb),t((B=k.l)!=null),t((I=B.ma)!=null),k.xb!=0){if(k.ca=I.ba,k.tb=I.tb,t(k.ca!=null),!Kl(I.Oa,B,ru)){k.a=2;break r}if(!eA(k,B.width)||B.da)break r;if((B.da||jt(k.ca.S))&&ue(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&ue()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!Je(k.s.vb,k.s.Wa.Xa)){k.a=1;break r}k.xb=0}if(!vs(k,k.V,k.Ba,k.c,k.i,B.o,KA))break r;I.Dc=k.Ma,k=1;break t}t(k.a!=0),k=0}k=!k}k&&(f=d.a)}else f=d.a}else{if((d=new mg)==null){_=1;break e}if(d.Fa=I.na,d.P=I.P,d.qc=I.Sa,Ud(d,k)){if((f=no(k.width,k.height,_.Oa,_.ba))==0){if(d.Aa=0,B=_.Oa,t((I=d)!=null),B!=null){if(0<(W=0>(W=B.Md)?0:100<W?255:255*W/100)){for(J=Ae=0;4>J;++J)12>(he=I.pb[J]).lc&&(he.ia=W*ON[0>he.lc?0:he.lc]>>3),Ae|=he.ia;Ae&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=B.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}pg(d,k)||(f=d.a)}}else f=d.a}f==0&&_.Oa!=null&&_.Oa.fd&&(f=ql(_.ba))}_=f}O=_!=0?null:11>O?V.f.RGBA.eb:V.f.kb.y}else O=null;return O};var xy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,K){for(var M="",Q=0;Q<4;Q++)M+=String.fromCharCode(C[K++]);return M}function u(C,K){return(C[K+0]<<0|C[K+1]<<8|C[K+2]<<16)>>>0}function h(C,K){return(C[K+0]<<0|C[K+1]<<8|C[K+2]<<16|C[K+3]<<24)>>>0}new l;var x=[0],g=[0],v=[],y=new l,N=e,p=function(C,K){var M={},Q=0,j=!1,T=0,z=0;if(M.frames=[],!function($,Y,re,ee){for(var se=0;se<ee;se++)if($[Y+se]!=re.charCodeAt(se))return!0;return!1}(C,K,"RIFF",4)){for(h(C,K+=4),K+=8;K<C.length;){var H=c(C,K),S=h(C,K+=4);K+=4;var X=S+(1&S);switch(H){case"VP8 ":case"VP8L":M.frames[Q]===void 0&&(M.frames[Q]={}),(ie=M.frames[Q]).src_off=j?z:K-8,ie.src_size=T+S+8,Q++,j&&(j=!1,T=0,z=0);break;case"VP8X":(ie=M.header={}).feature_flags=C[K];var q=K+4;ie.canvas_width=1+u(C,q),q+=3,ie.canvas_height=1+u(C,q),q+=3;break;case"ALPH":j=!0,T=X+8,z=K-8;break;case"ANIM":(ie=M.header).bgcolor=h(C,K),q=K+4,ie.loop_count=(pe=C)[(R=q)+0]<<0|pe[R+1]<<8,q+=2;break;case"ANMF":var te,ie;(ie=M.frames[Q]={}).offset_x=2*u(C,K),K+=3,ie.offset_y=2*u(C,K),K+=3,ie.width=1+u(C,K),K+=3,ie.height=1+u(C,K),K+=3,ie.duration=u(C,K),K+=3,te=C[K++],ie.dispose=1&te,ie.blend=te>>1&1}H!="ANMF"&&(K+=X)}var pe,R;return M}}(N,0);p.response=N,p.rgbaoutput=!0,p.dataurl=!1;var m=p.header?p.header:null,w=p.frames?p.frames:null;if(m){m.loop_counter=m.loop_count,x=[m.canvas_height],g=[m.canvas_width];for(var E=0;E<w.length&&w[E].blend!=0;E++);}var U=w[0],D=y.WebPDecodeRGBA(N,U.src_off,U.src_size,g,x);U.rgba=D,U.imgwidth=g[0],U.imgheight=x[0];for(var F=0;F<g[0]*x[0]*4;F++)v[F]=D[F];return this.width=g,this.height=x,this.data=v,this}(function(e){var t=function(){return typeof lp=="function"},a=function(x,g,v,y){var N=4,p=A;switch(y){case e.image_compression.FAST:N=1,p=i;break;case e.image_compression.MEDIUM:N=6,p=o;break;case e.image_compression.SLOW:N=9,p=l}x=s(x,g,v,p);var m=lp(x,{level:N});return e.__addimage__.arrayBufferToBinaryString(m)},s=function(x,g,v,y){for(var N,p,m,w=x.length/g,E=new Uint8Array(x.length+w),U=u(),D=0;D<w;D+=1){if(m=D*g,N=x.subarray(m,m+g),y)E.set(y(N,v,p),m+D);else{for(var F,C=U.length,K=[];F<C;F+=1)K[F]=U[F](N,v,p);var M=h(K.concat());E.set(K[M],m+D)}p=N}return E},n=function(x){var g=Array.apply([],x);return g.unshift(0),g},i=function(x,g){var v,y=[],N=x.length;y[0]=1;for(var p=0;p<N;p+=1)v=x[p-g]||0,y[p+1]=x[p]-v+256&255;return y},A=function(x,g,v){var y,N=[],p=x.length;N[0]=2;for(var m=0;m<p;m+=1)y=v&&v[m]||0,N[m+1]=x[m]-y+256&255;return N},o=function(x,g,v){var y,N,p=[],m=x.length;p[0]=3;for(var w=0;w<m;w+=1)y=x[w-g]||0,N=v&&v[w]||0,p[w+1]=x[w]+256-(y+N>>>1)&255;return p},l=function(x,g,v){var y,N,p,m,w=[],E=x.length;w[0]=4;for(var U=0;U<E;U+=1)y=x[U-g]||0,N=v&&v[U]||0,p=v&&v[U-g]||0,m=c(y,N,p),w[U+1]=x[U]-m+256&255;return w},c=function(x,g,v){if(x===g&&g===v)return x;var y=Math.abs(g-v),N=Math.abs(x-v),p=Math.abs(x+g-v-v);return y<=N&&y<=p?x:N<=p?g:v},u=function(){return[n,i,A,o,l]},h=function(x){var g=x.map(function(v){return v.reduce(function(y,N){return y+Math.abs(N)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(x,g,v,y){var N,p,m,w,E,U,D,F,C,K,M,Q,j,T,z,H=this.decode.FLATE_DECODE,S="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(m=new N6(x)).imgData,p=m.bits,N=m.colorSpace,E=m.colors,[4,6].indexOf(m.colorType)!==-1){if(m.bits===8){C=(F=m.pixelBitlength==32?new Uint32Array(m.decodePixels().buffer):m.pixelBitlength==16?new Uint16Array(m.decodePixels().buffer):new Uint8Array(m.decodePixels().buffer)).length,M=new Uint8Array(C*m.colors),K=new Uint8Array(C);var X,q=m.pixelBitlength-m.bits;for(T=0,z=0;T<C;T++){for(j=F[T],X=0;X<q;)M[z++]=j>>>X&255,X+=m.bits;K[T]=j>>>X&255}}if(m.bits===16){C=(F=new Uint32Array(m.decodePixels().buffer)).length,M=new Uint8Array(C*(32/m.pixelBitlength)*m.colors),K=new Uint8Array(C*(32/m.pixelBitlength)),Q=m.colors>1,T=0,z=0;for(var te=0;T<C;)j=F[T++],M[z++]=j>>>0&255,Q&&(M[z++]=j>>>16&255,j=F[T++],M[z++]=j>>>0&255),K[te++]=j>>>16&255;p=8}y!==e.image_compression.NONE&&t()?(x=a(M,m.width*m.colors,m.colors,y),D=a(K,m.width,1,y)):(x=M,D=K,H=void 0)}if(m.colorType===3&&(N=this.color_spaces.INDEXED,U=m.palette,m.transparency.indexed)){var ie=m.transparency.indexed,pe=0;for(T=0,C=ie.length;T<C;++T)pe+=ie[T];if((pe/=255)===C-1&&ie.indexOf(0)!==-1)w=[ie.indexOf(0)];else if(pe!==C){for(F=m.decodePixels(),K=new Uint8Array(F.length),T=0,C=F.length;T<C;T++)K[T]=ie[F[T]];D=a(K,m.width,1)}}var R=function($){var Y;switch($){case e.image_compression.FAST:Y=11;break;case e.image_compression.MEDIUM:Y=13;break;case e.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(y);return H===this.decode.FLATE_DECODE&&(S="/Predictor "+R+" "),S+="/Colors "+E+" /BitsPerComponent "+p+" /Columns "+m.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:v,data:x,index:g,filter:H,decodeParameters:S,transparency:w,palette:U,sMask:D,predictor:R,width:m.width,height:m.height,bitsPerComponent:p,colorSpace:N}}}})(Ze.API),function(e){e.processGIF89A=function(t,a,s,n){var i=new k6(t),A=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:A,height:o},u=new Rf(100).encode(c,100);return e.processJPEG.call(this,u,a,s,n)},e.processGIF87A=e.processGIF89A}(Ze.API),Es.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:s,blue:a,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Es.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(a){Tt.log("bit decode error:"+a)}},Es.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),a=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),A=s*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[A+4*o]=l.blue,this.data[A+4*o+1]=l.green,this.data[A+4*o+2]=l.red,this.data[A+4*o+3]=255}a!==0&&(this.pos+=4-a)}},Es.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),A=s*this.width*4+2*n*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[A]=c.blue,this.data[A+1]=c.green,this.data[A+2]=c.red,this.data[A+3]=255,2*n+1>=this.width)break;c=this.palette[l],this.data[A+4]=c.blue,this.data[A+4+1]=c.green,this.data[A+4+2]=c.red,this.data[A+4+3]=255}t!==0&&(this.pos+=4-t)}},Es.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),i=a*this.width*4+4*s;if(n<this.palette.length){var A=this.palette[n];this.data[i]=A.red,this.data[i+1]=A.green,this.data[i+2]=A.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Es.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=s*this.width*4+4*n;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=A,this.data[u+3]=c}this.pos+=e}},Es.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),a=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(A&t)/t*255|0,l=(A>>5&a)/a*255|0,c=(A>>11)/t*255|0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Es.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=t*this.width*4+4*a;this.data[A]=i,this.data[A+1]=n,this.data[A+2]=s,this.data[A+3]=255}this.pos+=this.width%4}},Es.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*a;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=s,this.data[o+3]=A}},Es.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,a,s,n){var i=new Es(t,!1),A=i.width,o=i.height,l={data:i.getData(),width:A,height:o},c=new Rf(100).encode(l,100);return e.processJPEG.call(this,c,a,s,n)}}(Ze.API),vw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,a,s,n){var i=new vw(t),A=i.width,o=i.height,l={data:i.getData(),width:A,height:o},c=new Rf(100).encode(l,100);return e.processJPEG.call(this,c,a,s,n)}}(Ze.API),Ze.API.processRGBA=function(e,t,a){for(var s=e.data,n=s.length,i=new Uint8Array(n/4*3),A=new Uint8Array(n/4),o=0,l=0,c=0;c<n;c+=4){var u=s[c],h=s[c+1],x=s[c+2],g=s[c+3];i[o++]=u,i[o++]=h,i[o++]=x,A[l++]=g}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:v,index:t,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ze.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wo=Ze.API,Hu=wo.getCharWidthsArray=function(e,t){var a,s,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),A=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:n.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=t.doKerning!==!1,x=0,g=e.length,v=0,y=o[0]||l,N=[];for(a=0;a<g;a++)s=e.charCodeAt(a),typeof n.metadata.widthOfString=="function"?N.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(s))+A*(1e3/i)||0)/1e3):(x=h&&Qt(c[s])==="object"&&!isNaN(parseInt(c[s][v],10))?c[s][v]/u:0,N.push((o[s]||y)/l+x)),v=s;return N},xw=wo.getStringUnitWidth=function(e,t){var a=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return wo.processArabic&&(e=wo.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,a,n)/a:Hu.apply(this,arguments).reduce(function(i,A){return i+A},0)},yw=function(e,t,a,s){for(var n=[],i=0,A=e.length,o=0;i!==A&&o+t[i]<a;)o+=t[i],i++;n.push(e.slice(0,i));var l=i;for(o=0;i!==A;)o+t[i]>s&&(n.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&n.push(e.slice(l,i)),n},bw=function(e,t,a){a||(a={});var s,n,i,A,o,l,c,u=[],h=[u],x=a.textIndent||0,g=0,v=0,y=e.split(" "),N=Hu.apply(this,[" ",a])[0];if(l=a.lineIndent===-1?y[0].length+2:a.lineIndent||0){var p=Array(l).join(" "),m=[];y.map(function(E){(E=E.split(/\s*\n/)).length>1?m=m.concat(E.map(function(U,D){return(D&&U.length?`
`:"")+U})):m.push(E[0])}),y=m,l=xw.apply(this,[p,a])}for(i=0,A=y.length;i<A;i++){var w=0;if(s=y[i],l&&s[0]==`
`&&(s=s.substr(1),w=1),x+g+(v=(n=Hu.apply(this,[s,a])).reduce(function(E,U){return E+U},0))>t||w){if(v>t){for(o=yw.apply(this,[s,n,t-(x+g),t]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);v=n.slice(s.length-(u[0]?u[0].length:0)).reduce(function(E,U){return E+U},0)}else u=[s];h.push(u),x=v+l,g=N}else u.push(s),x+=g+v,g=N}return c=l?function(E,U){return(U?p:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(c)},wo.splitTextToSize=function(e,t,a){var s,n=(a=a||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var A=1*this.internal.scaleFactor*t/n;i.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=a.lineIndent;var o,l,c=[];for(o=0,l=s.length;o<l;o++)c=c.concat(bw.apply(this,[s[o],A,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",a={},s={},n=0;n<t.length;n++)a[t[n]]="0123456789abcdef"[n],s["0123456789abcdef"[n]]=t[n];var i=function(h){return"0x"+parseInt(h,10).toString(16)},A=e.__fontmetrics__.compress=function(h){var x,g,v,y,N=["{"];for(var p in h){if(x=h[p],isNaN(parseInt(p,10))?g="'"+p+"'":(p=parseInt(p,10),g=(g=i(p).slice(2)).slice(0,-1)+s[g.slice(-1)]),typeof x=="number")x<0?(v=i(x).slice(3),y="-"):(v=i(x).slice(2),y=""),v=y+v.slice(0,-1)+s[v.slice(-1)];else{if(Qt(x)!=="object")throw new Error("Don't know what to do with value type "+Qt(x)+".");v=A(x)}N.push(g+v)}return N.push("}"),N.join("")},o=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,g,v,y,N={},p=1,m=N,w=[],E="",U="",D=h.length-1,F=1;F<D;F+=1)(y=h[F])=="'"?x?(v=x.join(""),x=void 0):x=[]:x?x.push(y):y=="{"?(w.push([m,v]),m={},v=void 0):y=="}"?((g=w.pop())[0][g[1]]=m,v=void 0,m=g[0]):y=="-"?p=-1:v===void 0?a.hasOwnProperty(y)?(E+=a[y],v=parseInt(E,16)*p,p=1,E=""):E+=y:a.hasOwnProperty(y)?(U+=a[y],m[v]=parseInt(U,16)*p,p=1,v=void 0,U=""):U+=y;return N},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var x=h.font,g=u.Unicode[x.postScriptName];g&&(x.metadata.Unicode={},x.metadata.Unicode.widths=g.widths,x.metadata.Unicode.kerning=g.kerning);var v=c.Unicode[x.postScriptName];v&&(x.metadata.Unicode.encoding=v,x.encoding=v.codePages[0])}])}(Ze.API),function(e){var t=function(a){for(var s=a.length,n=new Uint8Array(s),i=0;i<s;i++)n[i]=a.charCodeAt(i);return n};e.API.events.push(["addFont",function(a){var s=void 0,n=a.font,i=a.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(s=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(A,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Mc(o)),A.metadata=e.API.TTFFont.open(o),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(n,s)}}])}(Ze),function(e){function t(){return(et.canvg?Promise.resolve(et.canvg):vA(()=>import("./index.es-9e546528.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load canvg: "+a))}).then(function(a){return a.default?a.default:a})}Ze.API.addSvgAsImage=function(a,s,n,i,A,o,l,c){if(isNaN(s)||isNaN(n))throw Tt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(A))throw Tt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=A;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(v){return v.fromString(h,a,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(x)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),s,n,i,A,l,c)})}}(),Ze.API.putTotalPages=function(e){var t,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),a=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var n=0;n<this.internal.pages[s].length;n++)this.internal.pages[s][n]=this.internal.pages[s][n].replace(t,a);return this},Ze.API.viewerPreferences=function(e,t){var a;e=e||{},t=t||!1;var s,n,i,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(A),l=[],c=0,u=0,h=0;function x(v,y){var N,p=!1;for(N=0;N<v.length;N+=1)v[N]===y&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=o.length;for(h=0;h<g;h+=1)a[o[h]].value=a[o[h]].defaultValue,a[o[h]].explicitSet=!1}if(Qt(e)==="object"){for(n in e)if(i=e[n],x(o,n)&&i!==void 0){if(a[n].type==="boolean"&&typeof i=="boolean")a[n].value=i;else if(a[n].type==="name"&&x(a[n].valueSet,i))a[n].value=i;else if(a[n].type==="integer"&&Number.isInteger(i))a[n].value=i;else if(a[n].type==="array"){for(c=0;c<i.length;c+=1)if(s=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(s=!1);s===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}a[n].value="["+l.join(" ")+"]"}else a[n].value=a[n].defaultValue;a[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,y=[];for(v in a)a[v].explicitSet===!0&&(a[v].type==="name"?y.push("/"+v+" /"+a[v].value):y.push("/"+v+" "+a[v].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+A.length+o.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+i+A+o+l),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",t)),this}}(Ze.API),function(e){var t=e.API,a=t.pdfEscape16=function(i,A){for(var o,l=A.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,x=i.length;h<x;++h){if(o=A.metadata.characterToGlyph(i.charCodeAt(h)),A.metadata.glyIdsUsed.push(o),A.metadata.toUnicode[o]=i.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(A.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},s=function(i){var A,o,l,c,u,h,x;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,x=(o=Object.keys(i).sort(function(g,v){return g-v})).length;h<x;h++)A=o[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[A]!==void 0&&i[A]!==null&&typeof i[A].toString=="function"&&(c=("0000"+i[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),l.push("<"+A+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(A){var o=A.font,l=A.out,c=A.newObject,u=A.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,x=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",v=0;v<x.length;v++)g+=String.fromCharCode(x[v]);var y=c();u({data:g,addLength1:!0,objectId:y}),l("endobj");var N=c();u({data:s(o.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var p=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Eo(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var m=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Eo(o.fontName)),l("/FontDescriptor "+p+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+N+" 0 R"),l("/BaseFont /"+Eo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+m+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(A){var o=A.font,l=A.out,c=A.newObject,u=A.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,x="",g=0;g<h.length;g++)x+=String.fromCharCode(h[g]);var v=c();u({data:x,addLength1:!0,objectId:v}),l("endobj");var y=c();u({data:s(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var N=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Eo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var p=0;p<o.metadata.hmtx.widths.length;p++)o.metadata.hmtx.widths[p]=parseInt(o.metadata.hmtx.widths[p]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Eo(o.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var n=function(i){var A,o=i.text||"",l=i.x,c=i.y,u=i.options||{},h=i.mutex||{},x=h.pdfEscape,g=h.activeFontKey,v=h.fonts,y=g,N="",p=0,m="",w=v[y].encoding;if(v[y].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:h};for(m=o,y=g,Array.isArray(o)&&(m=o[0]),p=0;p<m.length;p+=1)v[y].metadata.hasOwnProperty("cmap")&&(A=v[y].metadata.cmap.unicode.codeMap[m[p].charCodeAt(0)]),A||m[p].charCodeAt(0)<256&&v[y].metadata.hasOwnProperty("Unicode")?N+=m[p]:N+="";var E="";return parseInt(y.slice(1))<14||w==="WinAnsiEncoding"?E=x(N,y).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(E=a(N,v[y])),h.isHex=!0,{text:E,x:l,y:c,options:u,mutex:h}};t.events.push(["postProcessText",function(i){var A=i.text||"",o=[],l={text:A,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(A)){var c=0;for(c=0;c<A.length;c+=1)Array.isArray(A[c])&&A[c].length===3?o.push([n(Object.assign({},l,{text:A[c][0]})).text,A[c][1],A[c][2]]):o.push(n(Object.assign({},l,{text:A[c]})).text);i.text=o}else i.text=n(Object.assign({},l,{text:A})).text}])}(Ze),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0},e.addFileToVFS=function(a,s){return t.call(this),this.internal.vFS[a]=s,this},e.getFileFromVFS=function(a){return t.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}}(Ze.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var n,i,A,o,l,c,u,h=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,w=0;this.__bidiEngine__={};var E=function(Q){var j=Q.charCodeAt(),T=j>>8,z=y[T];return z!==void 0?h[256*z+(255&j)]:T===252||T===253?"AL":p.test(T)?"L":T===8?"R":"N"},U=function(Q){for(var j,T=0;T<Q.length;T++){if((j=E(Q.charAt(T)))==="L")return!1;if(j==="R")return!0}return!1},D=function(Q,j,T,z){var H,S,X,q,te=j[z];switch(te){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(te="AN");break;case"AL":m=!0,te="R";break;case"WS":te="N";break;case"CS":z<1||z+1>=j.length||(H=T[z-1])!=="EN"&&H!=="AN"||(S=j[z+1])!=="EN"&&S!=="AN"?te="N":m&&(S="AN"),te=S===H?S:"N";break;case"ES":te=(H=z>0?T[z-1]:"B")==="EN"&&z+1<j.length&&j[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&T[z-1]==="EN"){te="EN";break}if(m){te="N";break}for(X=z+1,q=j.length;X<q&&j[X]==="ET";)X++;te=X<q&&j[X]==="EN"?"EN":"N";break;case"NSM":if(A&&!o){for(q=j.length,X=z+1;X<q&&j[X]==="NSM";)X++;if(X<q){var ie=Q[z],pe=ie>=1425&&ie<=2303||ie===64286;if(H=j[X],pe&&(H==="R"||H==="AL")){te="R";break}}}te=z<1||(H=j[z-1])==="B"?"N":T[z-1];break;case"B":m=!1,n=!0,te=w;break;case"S":i=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":te="N"}return te},F=function(Q,j,T){var z=Q.split("");return T&&C(z,T,{hiLevel:w}),z.reverse(),j&&j.reverse(),z.join("")},C=function(Q,j,T){var z,H,S,X,q,te=-1,ie=Q.length,pe=0,R=[],$=w?g:x,Y=[];for(m=!1,n=!1,i=!1,H=0;H<ie;H++)Y[H]=E(Q[H]);for(S=0;S<ie;S++){if(q=pe,R[S]=D(Q,Y,R,S),z=240&(pe=$[q][v[R[S]]]),pe&=15,j[S]=X=$[pe][5],z>0)if(z===16){for(H=te;H<S;H++)j[H]=1;te=-1}else te=-1;if($[pe][6])te===-1&&(te=S);else if(te>-1){for(H=te;H<S;H++)j[H]=X;te=-1}Y[S]==="B"&&(j[S]=0),T.hiLevel|=X}i&&function(re,ee,se){for(var ae=0;ae<se;ae++)if(re[ae]==="S"){ee[ae]=w;for(var de=ae-1;de>=0&&re[de]==="WS";de--)ee[de]=w}}(Y,j,ie)},K=function(Q,j,T,z,H){if(!(H.hiLevel<Q)){if(Q===1&&w===1&&!n)return j.reverse(),void(T&&T.reverse());for(var S,X,q,te,ie=j.length,pe=0;pe<ie;){if(z[pe]>=Q){for(q=pe+1;q<ie&&z[q]>=Q;)q++;for(te=pe,X=q-1;te<X;te++,X--)S=j[te],j[te]=j[X],j[X]=S,T&&(S=T[te],T[te]=T[X],T[X]=S);pe=q}pe++}}},M=function(Q,j,T){var z=Q.split(""),H={hiLevel:w};return T||(T=[]),C(z,T,H),function(S,X,q){if(q.hiLevel!==0&&u)for(var te,ie=0;ie<S.length;ie++)X[ie]===1&&(te=N.indexOf(S[ie]))>=0&&(S[ie]=N[te+1])}(z,T,H),K(2,z,j,T,H),K(1,z,j,T,H),z.join("")};return this.__bidiEngine__.doBidiReorder=function(Q,j,T){if(function(H,S){if(S)for(var X=0;X<H.length;X++)S[X]=X;o===void 0&&(o=U(H)),c===void 0&&(c=U(H))}(Q,j),A||!l||c)if(A&&l&&o^c)w=o?1:0,Q=F(Q,j,T);else if(!A&&l&&c)w=o?1:0,Q=M(Q,j,T),Q=F(Q,j);else if(!A||o||l||c){if(A&&!l&&o^c)Q=F(Q,j),o?(w=0,Q=M(Q,j,T)):(w=1,Q=M(Q,j,T),Q=F(Q,j));else if(A&&o&&!l&&c)w=1,Q=M(Q,j,T),Q=F(Q,j);else if(!A&&!l&&o^c){var z=u;o?(w=1,Q=M(Q,j,T),w=0,u=!1,Q=M(Q,j,T),u=z):(w=0,Q=M(Q,j,T),Q=F(Q,j),w=1,u=!1,Q=M(Q,j,T),u=z,Q=F(Q,j))}}else w=0,Q=M(Q,j,T);else w=o?1:0,Q=M(Q,j,T);return Q},this.__bidiEngine__.setOptions=function(Q){Q&&(A=Q.isInputVisual,l=Q.isOutputVisual,o=Q.isInputRtl,c=Q.isOutputRtl,u=Q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var n=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var A=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,a.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(A=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?A.push([a.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):A.push([a.doBidiReorder(n[o])]);s.text=A}else s.text=a.doBidiReorder(n);a.setOptions({isInputVisual:!0})}])}(Ze),Ze.API.TTFFont=function(){function e(t){var a;if(this.rawData=t,a=this.contents=new Vi(t),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new M6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new j6(this.contents),this.head=new S6(this),this.name=new L6(this),this.cmap=new R5(this),this.toUnicode={},this.hhea=new F6(this),this.maxp=new I6(this),this.hmtx=new P6(this),this.post=new Q6(this),this.os2=new E6(this),this.loca=new H6(this),this.glyf=new D6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,a,s,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,o,l,c;for(c=[],A=0,o=(l=this.bbox).length;A<o;A++)t=l[A],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(s=255&(n=this.post.italic_angle),32768&(a=n>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var a;return((a=this.cmap.unicode)!=null?a.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*a},e.prototype.widthOfString=function(t,a,s){var n,i,A,o;for(A=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=t.charCodeAt(i),A+=this.widthOfGlyph(this.characterToGlyph(n))+s*(1e3/a)||0;return A*(a/1e3)},e.prototype.lineHeight=function(t,a){var s;return a==null&&(a=!1),s=a?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var Vs,Vi=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var a,s;for(s=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)s[a]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var a,s,n;for(n=[],a=0,s=t.length;0<=s?a<s:a>s;a=0<=s?++a:--a)n.push(this.writeByte(t.charCodeAt(a)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,a,s,n,i,A,o,l;return t=this.readByte(),a=this.readByte(),s=this.readByte(),n=this.readByte(),i=this.readByte(),A=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^a)+1099511627776*(255^s)+4294967296*(255^n)+16777216*(255^i)+65536*(255^A)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*a+1099511627776*s+4294967296*n+16777216*i+65536*A+256*o+l},e.prototype.writeLongLong=function(t){var a,s;return a=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var a,s;for(a=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)a.push(this.readByte());return a},e.prototype.write=function(t){var a,s,n,i;for(i=[],s=0,n=t.length;s<n;s++)a=t[s],i.push(this.writeByte(a));return i},e}(),j6=function(){var e;function t(a){var s,n,i;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)s={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(a){var s,n,i,A,o,l,c,u,h,x,g,v,y;for(y in g=Object.keys(a).length,l=Math.log(2),h=16*Math.floor(Math.log(g)/l),A=Math.floor(h/l),u=16*g-h,(n=new Vi).writeInt(this.scalarType),n.writeShort(g),n.writeShort(h),n.writeShort(A),n.writeShort(u),i=16*g,c=n.pos+i,o=null,v=[],a)for(x=a[y],n.writeString(y),n.writeInt(e(x)),n.writeInt(c),n.writeInt(x.length),v=v.concat(x),y==="head"&&(o=c),c+=x.length;c%4;)v.push(0),c++;return n.write(v),s=2981146554-e(n.data),n.pos=o+8,n.writeUInt32(s),n.data},e=function(a){var s,n,i,A;for(a=H5.call(a);a.length%4;)a.push(0);for(i=new Vi(a),n=0,s=0,A=a.length;s<A;s=s+=4)n+=i.readUInt32();return 4294967295&n},t}(),C6={}.hasOwnProperty,xn=function(e,t){for(var a in t)C6.call(t,a)&&(e[a]=t[a]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};Vs=function(){function e(t){var a;this.file=t,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var S6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xn(t,Vs),t.prototype.tag="head",t.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.revision=a.readInt(),this.checkSumAdjustment=a.readInt(),this.magicNumber=a.readInt(),this.flags=a.readShort(),this.unitsPerEm=a.readShort(),this.created=a.readLongLong(),this.modified=a.readLongLong(),this.xMin=a.readShort(),this.yMin=a.readShort(),this.xMax=a.readShort(),this.yMax=a.readShort(),this.macStyle=a.readShort(),this.lowestRecPPEM=a.readShort(),this.fontDirectionHint=a.readShort(),this.indexToLocFormat=a.readShort(),this.glyphDataFormat=a.readShort()},t.prototype.encode=function(a){var s;return(s=new Vi).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(a),s.writeShort(this.glyphDataFormat),s.data},t}(),Bw=function(){function e(t,a){var s,n,i,A,o,l,c,u,h,x,g,v,y,N,p,m,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=a+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(g=t.readUInt16(),x=g/2,t.pos+=6,i=function(){var E,U;for(U=[],l=E=0;0<=x?E<x:E>x;l=0<=x?++E:--E)U.push(t.readUInt16());return U}(),t.pos+=2,y=function(){var E,U;for(U=[],l=E=0;0<=x?E<x:E>x;l=0<=x?++E:--E)U.push(t.readUInt16());return U}(),c=function(){var E,U;for(U=[],l=E=0;0<=x?E<x:E>x;l=0<=x?++E:--E)U.push(t.readUInt16());return U}(),u=function(){var E,U;for(U=[],l=E=0;0<=x?E<x:E>x;l=0<=x?++E:--E)U.push(t.readUInt16());return U}(),n=(this.length-t.pos+this.offset)/2,o=function(){var E,U;for(U=[],l=E=0;0<=n?E<n:E>n;l=0<=n?++E:--E)U.push(t.readUInt16());return U}(),l=p=0,w=i.length;p<w;l=++p)for(N=i[l],s=m=v=y[l];v<=N?m<=N:m>=N;s=v<=N?++m:--m)u[l]===0?A=s+c[l]:(A=o[u[l]/2+(s-v)-(x-l)]||0)!==0&&(A+=c[l]),this.codeMap[s]=65535&A}t.pos=h}return e.encode=function(t,a){var s,n,i,A,o,l,c,u,h,x,g,v,y,N,p,m,w,E,U,D,F,C,K,M,Q,j,T,z,H,S,X,q,te,ie,pe,R,$,Y,re,ee,se,ae,de,Be,ke,Qe;switch(z=new Vi,A=Object.keys(t).sort(function(Ee,Je){return Ee-Je}),a){case"macroman":for(y=0,N=function(){var Ee=[];for(v=0;v<256;++v)Ee.push(0);return Ee}(),m={0:0},i={},H=0,te=A.length;H<te;H++)m[de=t[n=A[H]]]==null&&(m[de]=++y),i[n]={old:t[n],new:m[t[n]]},N[n]=m[t[n]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(N),{charMap:i,subtable:z.data,maxGlyphID:y+1};case"unicode":for(j=[],h=[],w=0,m={},s={},p=c=null,S=0,ie=A.length;S<ie;S++)m[U=t[n=A[S]]]==null&&(m[U]=++w),s[n]={old:U,new:m[U]},o=m[U]-n,p!=null&&o===c||(p&&h.push(p),j.push(n),c=o),p=n;for(p&&h.push(p),h.push(65535),j.push(65535),M=2*(K=j.length),C=2*Math.pow(Math.log(K)/Math.LN2,2),x=Math.log(C/2)/Math.LN2,F=2*K-C,l=[],D=[],g=[],v=X=0,pe=j.length;X<pe;v=++X){if(Q=j[v],u=h[v],Q===65535){l.push(0),D.push(0);break}if(Q-(T=s[Q].new)>=32768)for(l.push(0),D.push(2*(g.length+K-v)),n=q=Q;Q<=u?q<=u:q>=u;n=Q<=u?++q:--q)g.push(s[n].new);else l.push(T-Q),D.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*K+2*g.length),z.writeUInt16(0),z.writeUInt16(M),z.writeUInt16(C),z.writeUInt16(x),z.writeUInt16(F),se=0,R=h.length;se<R;se++)n=h[se],z.writeUInt16(n);for(z.writeUInt16(0),ae=0,$=j.length;ae<$;ae++)n=j[ae],z.writeUInt16(n);for(Be=0,Y=l.length;Be<Y;Be++)o=l[Be],z.writeUInt16(o);for(ke=0,re=D.length;ke<re;ke++)E=D[ke],z.writeUInt16(E);for(Qe=0,ee=g.length;Qe<ee;Qe++)y=g[Qe],z.writeUInt16(y);return{charMap:s,subtable:z.data,maxGlyphID:w+1}}},e}(),R5=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xn(t,Vs),t.prototype.tag="cmap",t.prototype.parse=function(a){var s,n,i;for(a.pos=this.offset,this.version=a.readUInt16(),i=a.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)s=new Bw(a,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(a,s){var n,i;return s==null&&(s="macroman"),n=Bw.encode(a,s),(i=new Vi).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),F6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xn(t,Vs),t.prototype.tag="hhea",t.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.ascender=a.readShort(),this.decender=a.readShort(),this.lineGap=a.readShort(),this.advanceWidthMax=a.readShort(),this.minLeftSideBearing=a.readShort(),this.minRightSideBearing=a.readShort(),this.xMaxExtent=a.readShort(),this.caretSlopeRise=a.readShort(),this.caretSlopeRun=a.readShort(),this.caretOffset=a.readShort(),a.pos+=8,this.metricDataFormat=a.readShort(),this.numberOfMetrics=a.readUInt16()},t}(),E6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xn(t,Vs),t.prototype.tag="OS/2",t.prototype.parse=function(a){if(a.pos=this.offset,this.version=a.readUInt16(),this.averageCharWidth=a.readShort(),this.weightClass=a.readUInt16(),this.widthClass=a.readUInt16(),this.type=a.readShort(),this.ySubscriptXSize=a.readShort(),this.ySubscriptYSize=a.readShort(),this.ySubscriptXOffset=a.readShort(),this.ySubscriptYOffset=a.readShort(),this.ySuperscriptXSize=a.readShort(),this.ySuperscriptYSize=a.readShort(),this.ySuperscriptXOffset=a.readShort(),this.ySuperscriptYOffset=a.readShort(),this.yStrikeoutSize=a.readShort(),this.yStrikeoutPosition=a.readShort(),this.familyClass=a.readShort(),this.panose=function(){var s,n;for(n=[],s=0;s<10;++s)n.push(a.readByte());return n}(),this.charRange=function(){var s,n;for(n=[],s=0;s<4;++s)n.push(a.readInt());return n}(),this.vendorID=a.readString(4),this.selection=a.readShort(),this.firstCharIndex=a.readShort(),this.lastCharIndex=a.readShort(),this.version>0&&(this.ascent=a.readShort(),this.descent=a.readShort(),this.lineGap=a.readShort(),this.winAscent=a.readShort(),this.winDescent=a.readShort(),this.codePageRange=function(){var s,n;for(n=[],s=0;s<2;s=++s)n.push(a.readInt());return n}(),this.version>1))return this.xHeight=a.readShort(),this.capHeight=a.readShort(),this.defaultChar=a.readShort(),this.breakChar=a.readShort(),this.maxContext=a.readShort()},t}(),Q6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xn(t,Vs),t.prototype.tag="post",t.prototype.parse=function(a){var s,n,i;switch(a.pos=this.offset,this.format=a.readInt(),this.italicAngle=a.readInt(),this.underlinePosition=a.readShort(),this.underlineThickness=a.readShort(),this.isFixedPitch=a.readInt(),this.minMemType42=a.readInt(),this.maxMemType42=a.readInt(),this.minMemType1=a.readInt(),this.maxMemType1=a.readInt(),this.format){case 65536:break;case 131072:var A;for(n=a.readUInt16(),this.glyphNameIndex=[],A=0;0<=n?A<n:A>n;A=0<=n?++A:--A)this.glyphNameIndex.push(a.readUInt16());for(this.names=[],i=[];a.pos<this.offset+this.length;)s=a.readByte(),i.push(this.names.push(a.readString(s)));return i;case 151552:return n=a.readUInt16(),this.offsets=a.read(n);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],A=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;A=0<=l?++o:--o)c.push(a.readUInt32());return c}).call(this)}},t}(),U6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},L6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xn(t,Vs),t.prototype.tag="name",t.prototype.parse=function(a){var s,n,i,A,o,l,c,u,h,x,g;for(a.pos=this.offset,a.readShort(),s=a.readShort(),l=a.readShort(),n=[],A=0;0<=s?A<s:A>s;A=0<=s?++A:--A)n.push({platformID:a.readShort(),encodingID:a.readShort(),languageID:a.readShort(),nameID:a.readShort(),length:a.readShort(),offset:this.offset+l+a.readShort()});for(c={},A=h=0,x=n.length;h<x;A=++h)i=n[A],a.pos=i.offset,u=a.readString(i.length),o=new U6(u,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),I6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xn(t,Vs),t.prototype.tag="maxp",t.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.numGlyphs=a.readUInt16(),this.maxPoints=a.readUInt16(),this.maxContours=a.readUInt16(),this.maxCompositePoints=a.readUInt16(),this.maxComponentContours=a.readUInt16(),this.maxZones=a.readUInt16(),this.maxTwilightPoints=a.readUInt16(),this.maxStorage=a.readUInt16(),this.maxFunctionDefs=a.readUInt16(),this.maxInstructionDefs=a.readUInt16(),this.maxStackElements=a.readUInt16(),this.maxSizeOfInstructions=a.readUInt16(),this.maxComponentElements=a.readUInt16(),this.maxComponentDepth=a.readUInt16()},t}(),P6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xn(t,Vs),t.prototype.tag="hmtx",t.prototype.parse=function(a){var s,n,i,A,o,l,c;for(a.pos=this.offset,this.metrics=[],s=0,l=this.file.hhea.numberOfMetrics;0<=l?s<l:s>l;s=0<=l?++s:--s)this.metrics.push({advance:a.readUInt16(),lsb:a.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],s=u=0;0<=i?u<i:u>i;s=0<=i?++u:--u)h.push(a.readInt16());return h}(),this.widths=(function(){var u,h,x,g;for(g=[],u=0,h=(x=this.metrics).length;u<h;u++)A=x[u],g.push(A.advance);return g}).call(this),n=this.widths[this.widths.length-1],c=[],s=o=0;0<=i?o<i:o>i;s=0<=i?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(a){return a in this.metrics?this.metrics[a]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[a-this.metrics.length]}},t}(),H5=[].slice,D6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xn(t,Vs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(a){var s,n,i,A,o,l,c,u,h,x;return a in this.cache?this.cache[a]:(A=this.file.loca,s=this.file.contents,n=A.indexOf(a),(i=A.lengthOf(a))===0?this.cache[a]=null:(s.pos=this.offset+n,o=(l=new Vi(s.read(i))).readShort(),u=l.readShort(),x=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[a]=o===-1?new R6(l,u,x,c,h):new T6(l,o,u,x,c,h),this.cache[a]))},t.prototype.encode=function(a,s,n){var i,A,o,l,c;for(o=[],A=[],l=0,c=s.length;l<c;l++)i=a[s[l]],A.push(o.length),i&&(o=o.concat(i.encode(n)));return A.push(o.length),{table:o,offsets:A}},t}(),T6=function(){function e(t,a,s,n,i,A){this.raw=t,this.numberOfContours=a,this.xMin=s,this.yMin=n,this.xMax=i,this.yMax=A,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),R6=function(){function e(t,a,s,n,i){var A,o;for(this.raw=t,this.xMin=a,this.yMin=s,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;o=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&o;)A.pos+=1&o?4:2,128&o?A.pos+=8:64&o?A.pos+=4:8&o&&(A.pos+=2)}return e.prototype.encode=function(){var t,a,s;for(a=new Vi(H5.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)a.pos=this.glyphOffsets[t];return a.data},e}(),H6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xn(t,Vs),t.prototype.tag="loca",t.prototype.parse=function(a){var s,n;return a.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var i,A;for(A=[],n=0,i=this.length;n<i;n+=2)A.push(2*a.readUInt16());return A}).call(this):(function(){var i,A;for(A=[],n=0,i=this.length;n<i;n+=4)A.push(a.readUInt32());return A}).call(this)},t.prototype.indexOf=function(a){return this.offsets[a]},t.prototype.lengthOf=function(a){return this.offsets[a+1]-this.offsets[a]},t.prototype.encode=function(a,s){for(var n=new Uint32Array(this.offsets.length),i=0,A=0,o=0;o<n.length;++o)if(n[o]=i,A<s.length&&s[A]==o){++A,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},t}(),M6=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,a,s,n,i;for(a in n=this.font.cmap.tables[0].codeMap,t={},i=this.subset)s=i[a],t[a]=n[s];return t},e.prototype.glyphsFor=function(t){var a,s,n,i,A,o,l;for(n={},A=0,o=t.length;A<o;A++)n[i=t[A]]=this.font.glyf.glyphFor(i);for(i in a=[],n)(s=n[i])!=null&&s.compound&&a.push.apply(a,s.glyphIDs);if(a.length>0)for(i in l=this.glyphsFor(a))s=l[i],n[i]=s;return n},e.prototype.encode=function(t,a){var s,n,i,A,o,l,c,u,h,x,g,v,y,N,p;for(n in s=R5.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(t),g={0:0},p=s.charMap)g[(l=p[n]).old]=l.new;for(v in x=s.maxGlyphID,A)v in g||(g[v]=x++);return u=function(m){var w,E;for(w in E={},m)E[m[w]]=w;return E}(g),h=Object.keys(u).sort(function(m,w){return m-w}),y=function(){var m,w,E;for(E=[],m=0,w=h.length;m<w;m++)o=h[m],E.push(u[o]);return E}(),i=this.font.glyf.encode(A,y,g),c=this.font.loca.encode(i.offsets,y),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();Ze.API.PDFObject=function(){var e;function t(){}return e=function(a,s){return(Array(s+1).join("0")+a).slice(-s)},t.convert=function(a){var s,n,i,A;if(Array.isArray(a))return"["+function(){var o,l,c;for(c=[],o=0,l=a.length;o<l;o++)s=a[o],c.push(t.convert(s));return c}().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a!=null&&a.isString)return"("+a+")";if(a instanceof Date)return"(D:"+e(a.getUTCFullYear(),4)+e(a.getUTCMonth(),2)+e(a.getUTCDate(),2)+e(a.getUTCHours(),2)+e(a.getUTCMinutes(),2)+e(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(n in i=["<<"],a)A=a[n],i.push("/"+n+" "+t.convert(A));return i.push(">>"),i.join(`
`)}return""+a},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mp=function(e,t){return mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(a[n]=s[n])},mp(e,t)};function Gs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mp(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var pp=function(){return pp=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},pp.apply(this,arguments)};function ha(e,t,a,s){function n(i){return i instanceof a?i:new a(function(A){A(i)})}return new(a||(a=Promise))(function(i,A){function o(u){try{c(s.next(u))}catch(h){A(h)}}function l(u){try{c(s.throw(u))}catch(h){A(h)}}function c(u){u.done?i(u.value):n(u.value).then(o,l)}c((s=s.apply(e,t||[])).next())})}function ra(e,t){var a={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,n,i,A;return A={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function o(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){a=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(c[0]===6&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(u){c=[6,u],n=0}finally{s=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Mu(e,t,a){if(a||arguments.length===2)for(var s=0,n=t.length,i;s<n;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||t)}var Gn=function(){function e(t,a,s,n){this.left=t,this.top=a,this.width=s,this.height=n}return e.prototype.add=function(t,a,s,n){return new e(this.left+t,this.top+a,this.width+s,this.height+n)},e.fromClientRect=function(t,a){return new e(a.left+t.windowBounds.left,a.top+t.windowBounds.top,a.width,a.height)},e.fromDOMRectList=function(t,a){var s=Array.from(a).find(function(n){return n.width!==0});return s?new e(s.left+t.windowBounds.left,s.top+t.windowBounds.top,s.width,s.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Wh=function(e,t){return Gn.fromClientRect(e,t.getBoundingClientRect())},O6=function(e){var t=e.body,a=e.documentElement;if(!t||!a)throw new Error("Unable to get document size");var s=Math.max(Math.max(t.scrollWidth,a.scrollWidth),Math.max(t.offsetWidth,a.offsetWidth),Math.max(t.clientWidth,a.clientWidth)),n=Math.max(Math.max(t.scrollHeight,a.scrollHeight),Math.max(t.offsetHeight,a.offsetHeight),Math.max(t.clientHeight,a.clientHeight));return new Gn(0,0,s,n)},$h=function(e){for(var t=[],a=0,s=e.length;a<s;){var n=e.charCodeAt(a++);if(n>=55296&&n<=56319&&a<s){var i=e.charCodeAt(a++);(i&64512)===56320?t.push(((n&1023)<<10)+(i&1023)+65536):(t.push(n),a--)}else t.push(n)}return t},dr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var a=e.length;if(!a)return"";for(var s=[],n=-1,i="";++n<a;){var A=e[n];A<=65535?s.push(A):(A-=65536,s.push((A>>10)+55296,A%1024+56320)),(n+1===a||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},Nw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ou=0;Ou<Nw.length;Ou++)_6[Nw.charCodeAt(Ou)]=Ou;var kw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _u=0;_u<kw.length;_u++)vc[kw.charCodeAt(_u)]=_u;var K6=function(e){var t=e.length*.75,a=e.length,s,n=0,i,A,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(s=0;s<a;s+=4)i=vc[e.charCodeAt(s)],A=vc[e.charCodeAt(s+1)],o=vc[e.charCodeAt(s+2)],l=vc[e.charCodeAt(s+3)],u[n++]=i<<2|A>>4,u[n++]=(A&15)<<4|o>>2,u[n++]=(o&3)<<6|l&63;return c},q6=function(e){for(var t=e.length,a=[],s=0;s<t;s+=2)a.push(e[s+1]<<8|e[s]);return a},z6=function(e){for(var t=e.length,a=[],s=0;s<t;s+=4)a.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return a},FA=5,Gx=6+5,Hf=2,V6=Gx-FA,M5=65536>>FA,G6=1<<FA,Mf=G6-1,W6=1024>>FA,$6=M5+W6,J6=$6,X6=32,Y6=J6+X6,Z6=65536>>Gx,eS=1<<V6,tS=eS-1,jw=function(e,t,a){return e.slice?e.slice(t,a):new Uint16Array(Array.prototype.slice.call(e,t,a))},rS=function(e,t,a){return e.slice?e.slice(t,a):new Uint32Array(Array.prototype.slice.call(e,t,a))},aS=function(e,t){var a=K6(e),s=Array.isArray(a)?z6(a):new Uint32Array(a),n=Array.isArray(a)?q6(a):new Uint16Array(a),i=24,A=jw(n,i/2,s[4]/2),o=s[5]===2?jw(n,(i+s[4])/2):rS(s,Math.ceil((i+s[4])/4));return new sS(s[0],s[1],s[2],s[3],A,o)},sS=function(){function e(t,a,s,n,i,A){this.initialValue=t,this.errorValue=a,this.highStart=s,this.highValueIndex=n,this.index=i,this.data=A}return e.prototype.get=function(t){var a;if(t>=0){if(t<55296||t>56319&&t<=65535)return a=this.index[t>>FA],a=(a<<Hf)+(t&Mf),this.data[a];if(t<=65535)return a=this.index[M5+(t-55296>>FA)],a=(a<<Hf)+(t&Mf),this.data[a];if(t<this.highStart)return a=Y6-Z6+(t>>Gx),a=this.index[a],a+=t>>FA&tS,a=this.index[a],a=(a<<Hf)+(t&Mf),this.data[a];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Cw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nS=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ku=0;Ku<Cw.length;Ku++)nS[Cw.charCodeAt(Ku)]=Ku;var iS="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Sw=50,AS=1,O5=2,_5=3,oS=4,lS=5,Fw=7,K5=8,Ew=9,ji=10,xp=11,Qw=12,yp=13,cS=14,Bc=15,bp=16,qu=17,hc=18,dS=19,Uw=20,wp=21,gc=22,Of=23,vo=24,Ha=25,Nc=26,kc=27,Bo=28,uS=29,xA=30,hS=31,zu=32,Vu=33,vp=34,Bp=35,Np=36,hd=37,kp=38,k0=39,j0=40,_f=41,q5=42,gS=43,fS=[9001,65288],z5="!",pt="",Gu="",jp=aS(iS),Ln=[xA,Np],Cp=[AS,O5,_5,lS],V5=[ji,K5],Lw=[kc,Nc],mS=Cp.concat(V5),Iw=[kp,k0,j0,vp,Bp],pS=[Bc,yp],xS=function(e,t){t===void 0&&(t="strict");var a=[],s=[],n=[];return e.forEach(function(i,A){var o=jp.get(i);if(o>Sw?(n.push(!0),o-=Sw):n.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return s.push(A),a.push(bp);if(o===oS||o===xp){if(A===0)return s.push(A),a.push(xA);var l=a[A-1];return mS.indexOf(l)===-1?(s.push(s[A-1]),a.push(l)):(s.push(A),a.push(xA))}if(s.push(A),o===hS)return a.push(t==="strict"?wp:hd);if(o===q5||o===uS)return a.push(xA);if(o===gS)return i>=131072&&i<=196605||i>=196608&&i<=262141?a.push(hd):a.push(xA);a.push(o)}),[s,a,n]},Kf=function(e,t,a,s){var n=s[a];if(Array.isArray(e)?e.indexOf(n)!==-1:e===n)for(var i=a;i<=s.length;){i++;var A=s[i];if(A===t)return!0;if(A!==ji)break}if(n===ji)for(var i=a;i>0;){i--;var o=s[i];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var l=a;l<=s.length;){l++;var A=s[l];if(A===t)return!0;if(A!==ji)break}if(o!==ji)break}return!1},Pw=function(e,t){for(var a=e;a>=0;){var s=t[a];if(s===ji)a--;else return s}return 0},yS=function(e,t,a,s,n){if(a[s]===0)return pt;var i=s-1;if(Array.isArray(n)&&n[i]===!0)return pt;var A=i-1,o=i+1,l=t[i],c=A>=0?t[A]:0,u=t[o];if(l===O5&&u===_5)return pt;if(Cp.indexOf(l)!==-1)return z5;if(Cp.indexOf(u)!==-1||V5.indexOf(u)!==-1)return pt;if(Pw(i,t)===K5)return Gu;if(jp.get(e[i])===xp||(l===zu||l===Vu)&&jp.get(e[o])===xp||l===Fw||u===Fw||l===Ew||[ji,yp,Bc].indexOf(l)===-1&&u===Ew||[qu,hc,dS,vo,Bo].indexOf(u)!==-1||Pw(i,t)===gc||Kf(Of,gc,i,t)||Kf([qu,hc],wp,i,t)||Kf(Qw,Qw,i,t))return pt;if(l===ji)return Gu;if(l===Of||u===Of)return pt;if(u===bp||l===bp)return Gu;if([yp,Bc,wp].indexOf(u)!==-1||l===cS||c===Np&&pS.indexOf(l)!==-1||l===Bo&&u===Np||u===Uw||Ln.indexOf(u)!==-1&&l===Ha||Ln.indexOf(l)!==-1&&u===Ha||l===kc&&[hd,zu,Vu].indexOf(u)!==-1||[hd,zu,Vu].indexOf(l)!==-1&&u===Nc||Ln.indexOf(l)!==-1&&Lw.indexOf(u)!==-1||Lw.indexOf(l)!==-1&&Ln.indexOf(u)!==-1||[kc,Nc].indexOf(l)!==-1&&(u===Ha||[gc,Bc].indexOf(u)!==-1&&t[o+1]===Ha)||[gc,Bc].indexOf(l)!==-1&&u===Ha||l===Ha&&[Ha,Bo,vo].indexOf(u)!==-1)return pt;if([Ha,Bo,vo,qu,hc].indexOf(u)!==-1)for(var h=i;h>=0;){var x=t[h];if(x===Ha)return pt;if([Bo,vo].indexOf(x)!==-1)h--;else break}if([kc,Nc].indexOf(u)!==-1)for(var h=[qu,hc].indexOf(l)!==-1?A:i;h>=0;){var x=t[h];if(x===Ha)return pt;if([Bo,vo].indexOf(x)!==-1)h--;else break}if(kp===l&&[kp,k0,vp,Bp].indexOf(u)!==-1||[k0,vp].indexOf(l)!==-1&&[k0,j0].indexOf(u)!==-1||[j0,Bp].indexOf(l)!==-1&&u===j0||Iw.indexOf(l)!==-1&&[Uw,Nc].indexOf(u)!==-1||Iw.indexOf(u)!==-1&&l===kc||Ln.indexOf(l)!==-1&&Ln.indexOf(u)!==-1||l===vo&&Ln.indexOf(u)!==-1||Ln.concat(Ha).indexOf(l)!==-1&&u===gc&&fS.indexOf(e[o])===-1||Ln.concat(Ha).indexOf(u)!==-1&&l===hc)return pt;if(l===_f&&u===_f){for(var g=a[i],v=1;g>0&&(g--,t[g]===_f);)v++;if(v%2!==0)return pt}return l===zu&&u===Vu?pt:Gu},bS=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var a=xS(e,t.lineBreak),s=a[0],n=a[1],i=a[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(n=n.map(function(o){return[Ha,xA,q5].indexOf(o)!==-1?hd:o}));var A=t.wordBreak==="keep-all"?i.map(function(o,l){return o&&e[l]>=19968&&e[l]<=40959}):void 0;return[s,n,A]},wS=function(){function e(t,a,s,n){this.codePoints=t,this.required=a===z5,this.start=s,this.end=n}return e.prototype.slice=function(){return dr.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),vS=function(e,t){var a=$h(e),s=bS(a,t),n=s[0],i=s[1],A=s[2],o=a.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var u=pt;c<o&&(u=yS(a,i,n,++c,A))===pt;);if(u!==pt||c===o){var h=new wS(a,u,l,c);return l=c,{value:h,done:!1}}return{done:!0,value:null}}}},BS=1,NS=2,Bd=4,Dw=8,uh=10,Tw=47,Oc=92,kS=9,jS=32,Wu=34,fc=61,CS=35,SS=36,FS=37,$u=39,Ju=40,mc=41,ES=95,ka=45,QS=33,US=60,LS=62,IS=64,PS=91,DS=93,TS=61,RS=123,Xu=63,HS=125,Rw=124,MS=126,OS=128,Hw=65533,qf=42,BA=43,_S=44,KS=58,qS=59,gd=46,zS=0,VS=8,GS=11,WS=14,$S=31,JS=127,An=-1,G5=48,W5=97,$5=101,XS=102,YS=117,ZS=122,J5=65,X5=69,Y5=70,eF=85,tF=90,aa=function(e){return e>=G5&&e<=57},rF=function(e){return e>=55296&&e<=57343},No=function(e){return aa(e)||e>=J5&&e<=Y5||e>=W5&&e<=XS},aF=function(e){return e>=W5&&e<=ZS},sF=function(e){return e>=J5&&e<=tF},nF=function(e){return aF(e)||sF(e)},iF=function(e){return e>=OS},Yu=function(e){return e===uh||e===kS||e===jS},hh=function(e){return nF(e)||iF(e)||e===ES},Mw=function(e){return hh(e)||aa(e)||e===ka},AF=function(e){return e>=zS&&e<=VS||e===GS||e>=WS&&e<=$S||e===JS},yi=function(e,t){return e!==Oc?!1:t!==uh},Zu=function(e,t,a){return e===ka?hh(t)||yi(t,a):hh(e)?!0:!!(e===Oc&&yi(e,t))},zf=function(e,t,a){return e===BA||e===ka?aa(t)?!0:t===gd&&aa(a):aa(e===gd?t:e)},oF=function(e){var t=0,a=1;(e[t]===BA||e[t]===ka)&&(e[t]===ka&&(a=-1),t++);for(var s=[];aa(e[t]);)s.push(e[t++]);var n=s.length?parseInt(dr.apply(void 0,s),10):0;e[t]===gd&&t++;for(var i=[];aa(e[t]);)i.push(e[t++]);var A=i.length,o=A?parseInt(dr.apply(void 0,i),10):0;(e[t]===X5||e[t]===$5)&&t++;var l=1;(e[t]===BA||e[t]===ka)&&(e[t]===ka&&(l=-1),t++);for(var c=[];aa(e[t]);)c.push(e[t++]);var u=c.length?parseInt(dr.apply(void 0,c),10):0;return a*(n+o*Math.pow(10,-A))*Math.pow(10,l*u)},lF={type:2},cF={type:3},dF={type:4},uF={type:13},hF={type:8},gF={type:21},fF={type:9},mF={type:10},pF={type:11},xF={type:12},yF={type:14},e0={type:23},bF={type:1},wF={type:25},vF={type:24},BF={type:26},NF={type:27},kF={type:28},jF={type:29},CF={type:31},Sp={type:32},Z5=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat($h(t))},e.prototype.read=function(){for(var t=[],a=this.consumeToken();a!==Sp;)t.push(a),a=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Wu:return this.consumeStringToken(Wu);case CS:var a=this.peekCodePoint(0),s=this.peekCodePoint(1),n=this.peekCodePoint(2);if(Mw(a)||yi(s,n)){var i=Zu(a,s,n)?NS:BS,A=this.consumeName();return{type:5,value:A,flags:i}}break;case SS:if(this.peekCodePoint(0)===fc)return this.consumeCodePoint(),uF;break;case $u:return this.consumeStringToken($u);case Ju:return lF;case mc:return cF;case qf:if(this.peekCodePoint(0)===fc)return this.consumeCodePoint(),yF;break;case BA:if(zf(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case _S:return dF;case ka:var o=t,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(zf(o,l,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Zu(o,l,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===ka&&c===LS)return this.consumeCodePoint(),this.consumeCodePoint(),vF;break;case gd:if(zf(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Tw:if(this.peekCodePoint(0)===qf)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===qf&&(u=this.consumeCodePoint(),u===Tw))return this.consumeToken();if(u===An)return this.consumeToken()}break;case KS:return BF;case qS:return NF;case US:if(this.peekCodePoint(0)===QS&&this.peekCodePoint(1)===ka&&this.peekCodePoint(2)===ka)return this.consumeCodePoint(),this.consumeCodePoint(),wF;break;case IS:var h=this.peekCodePoint(0),x=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Zu(h,x,g)){var A=this.consumeName();return{type:7,value:A}}break;case PS:return kF;case Oc:if(yi(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case DS:return jF;case TS:if(this.peekCodePoint(0)===fc)return this.consumeCodePoint(),hF;break;case RS:return pF;case HS:return xF;case YS:case eF:var v=this.peekCodePoint(0),y=this.peekCodePoint(1);return v===BA&&(No(y)||y===Xu)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Rw:if(this.peekCodePoint(0)===fc)return this.consumeCodePoint(),fF;if(this.peekCodePoint(0)===Rw)return this.consumeCodePoint(),gF;break;case MS:if(this.peekCodePoint(0)===fc)return this.consumeCodePoint(),mF;break;case An:return Sp}return Yu(t)?(this.consumeWhiteSpace(),CF):aa(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):hh(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:dr(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],a=this.consumeCodePoint();No(a)&&t.length<6;)t.push(a),a=this.consumeCodePoint();for(var s=!1;a===Xu&&t.length<6;)t.push(a),a=this.consumeCodePoint(),s=!0;if(s){var n=parseInt(dr.apply(void 0,t.map(function(l){return l===Xu?G5:l})),16),i=parseInt(dr.apply(void 0,t.map(function(l){return l===Xu?Y5:l})),16);return{type:30,start:n,end:i}}var A=parseInt(dr.apply(void 0,t),16);if(this.peekCodePoint(0)===ka&&No(this.peekCodePoint(1))){this.consumeCodePoint(),a=this.consumeCodePoint();for(var o=[];No(a)&&o.length<6;)o.push(a),a=this.consumeCodePoint();var i=parseInt(dr.apply(void 0,o),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Ju?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ju?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===An)return{type:22,value:""};var a=this.peekCodePoint(0);if(a===$u||a===Wu){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===An||this.peekCodePoint(0)===mc)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),e0)}for(;;){var n=this.consumeCodePoint();if(n===An||n===mc)return{type:22,value:dr.apply(void 0,t)};if(Yu(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===An||this.peekCodePoint(0)===mc?(this.consumeCodePoint(),{type:22,value:dr.apply(void 0,t)}):(this.consumeBadUrlRemnants(),e0);if(n===Wu||n===$u||n===Ju||AF(n))return this.consumeBadUrlRemnants(),e0;if(n===Oc)if(yi(n,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),e0;else t.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;Yu(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===mc||t===An)return;yi(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var a=5e4,s="";t>0;){var n=Math.min(a,t);s+=dr.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),s},e.prototype.consumeStringToken=function(t){var a="",s=0;do{var n=this._value[s];if(n===An||n===void 0||n===t)return a+=this.consumeStringSlice(s),{type:0,value:a};if(n===uh)return this._value.splice(0,s),bF;if(n===Oc){var i=this._value[s+1];i!==An&&i!==void 0&&(i===uh?(a+=this.consumeStringSlice(s),s=-1,this._value.shift()):yi(n,i)&&(a+=this.consumeStringSlice(s),a+=dr(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},e.prototype.consumeNumber=function(){var t=[],a=Bd,s=this.peekCodePoint(0);for((s===BA||s===ka)&&t.push(this.consumeCodePoint());aa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(s===gd&&aa(n))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),a=Dw;aa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((s===X5||s===$5)&&((n===BA||n===ka)&&aa(i)||aa(n)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),a=Dw;aa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[oF(t),a]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),a=t[0],s=t[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Zu(n,i,A)){var o=this.consumeName();return{type:15,number:a,flags:s,unit:o}}return n===FS?(this.consumeCodePoint(),{type:16,number:a,flags:s}):{type:17,number:a,flags:s}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(No(t)){for(var a=dr(t);No(this.peekCodePoint(0))&&a.length<6;)a+=dr(this.consumeCodePoint());Yu(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(a,16);return s===0||rF(s)||s>1114111?Hw:s}return t===An?Hw:t},e.prototype.consumeName=function(){for(var t="";;){var a=this.consumeCodePoint();if(Mw(a))t+=dr(a);else if(yi(a,this.peekCodePoint(0)))t+=dr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(a),t}},e}(),eB=function(){function e(t){this._tokens=t}return e.create=function(t){var a=new Z5;return a.write(t),new e(a.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var a=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return a;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var a=this.consumeComponentValue();if(a.type===32)return t;t.push(a),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var a={type:t,values:[]},s=this.consumeToken();;){if(s.type===32||FF(s,t))return a;this.reconsumeToken(s),a.values.push(this.consumeComponentValue()),s=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var a={name:t.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return a;this.reconsumeToken(s),a.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Sp:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Nd=function(e){return e.type===15},Nl=function(e){return e.type===17},It=function(e){return e.type===20},SF=function(e){return e.type===0},Fp=function(e,t){return It(e)&&e.value===t},tB=function(e){return e.type!==31},ml=function(e){return e.type!==31&&e.type!==4},yn=function(e){var t=[],a=[];return e.forEach(function(s){if(s.type===4){if(a.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(a),a=[];return}s.type!==31&&a.push(s)}),a.length&&t.push(a),t},FF=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Gi=function(e){return e.type===17||e.type===15},wr=function(e){return e.type===16||Gi(e)},rB=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},_r={type:17,number:0,flags:Bd},Wx={type:16,number:50,flags:Bd},Ci={type:16,number:100,flags:Bd},jc=function(e,t,a){var s=e[0],n=e[1];return[Mt(s,t),Mt(typeof n<"u"?n:s,a)]},Mt=function(e,t){if(e.type===16)return e.number/100*t;if(Nd(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},aB="deg",sB="grad",nB="rad",iB="turn",Jh={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case aB:return Math.PI*t.number/180;case sB:return Math.PI/200*t.number;case nB:return t.number;case iB:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},AB=function(e){return e.type===15&&(e.unit===aB||e.unit===sB||e.unit===nB||e.unit===iB)},oB=function(e){var t=e.filter(It).map(function(a){return a.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[_r,_r];case"to top":case"bottom":return cs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[_r,Ci];case"to right":case"left":return cs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ci,Ci];case"to bottom":case"top":return cs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ci,_r];case"to left":case"right":return cs(270)}return 0},cs=function(e){return Math.PI*e/180},Hi={name:"color",parse:function(e,t){if(t.type===18){var a=EF[t.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return a(e,t.values)}if(t.type===5){if(t.value.length===3){var s=t.value.substring(0,1),n=t.value.substring(1,2),i=t.value.substring(2,3);return Si(parseInt(s+s,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(t.value.length===4){var s=t.value.substring(0,1),n=t.value.substring(1,2),i=t.value.substring(2,3),A=t.value.substring(3,4);return Si(parseInt(s+s,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(t.value.length===6){var s=t.value.substring(0,2),n=t.value.substring(2,4),i=t.value.substring(4,6);return Si(parseInt(s,16),parseInt(n,16),parseInt(i,16),1)}if(t.value.length===8){var s=t.value.substring(0,2),n=t.value.substring(2,4),i=t.value.substring(4,6),A=t.value.substring(6,8);return Si(parseInt(s,16),parseInt(n,16),parseInt(i,16),parseInt(A,16)/255)}}if(t.type===20){var o=On[t.value.toUpperCase()];if(typeof o<"u")return o}return On.TRANSPARENT}},Mi=function(e){return(255&e)===0},Lr=function(e){var t=255&e,a=255&e>>8,s=255&e>>16,n=255&e>>24;return t<255?"rgba("+n+","+s+","+a+","+t/255+")":"rgb("+n+","+s+","+a+")"},Si=function(e,t,a,s){return(e<<24|t<<16|a<<8|Math.round(s*255)<<0)>>>0},Ow=function(e,t){if(e.type===17)return e.number;if(e.type===16){var a=t===3?1:255;return t===3?e.number/100*a:Math.round(e.number/100*a)}return 0},_w=function(e,t){var a=t.filter(ml);if(a.length===3){var s=a.map(Ow),n=s[0],i=s[1],A=s[2];return Si(n,i,A,1)}if(a.length===4){var o=a.map(Ow),n=o[0],i=o[1],A=o[2],l=o[3];return Si(n,i,A,l)}return 0};function Vf(e,t,a){return a<0&&(a+=1),a>=1&&(a-=1),a<1/6?(t-e)*a*6+e:a<1/2?t:a<2/3?(t-e)*6*(2/3-a)+e:e}var Kw=function(e,t){var a=t.filter(ml),s=a[0],n=a[1],i=a[2],A=a[3],o=(s.type===17?cs(s.number):Jh.parse(e,s))/(Math.PI*2),l=wr(n)?n.number/100:0,c=wr(i)?i.number/100:0,u=typeof A<"u"&&wr(A)?Mt(A,1):1;if(l===0)return Si(c*255,c*255,c*255,1);var h=c<=.5?c*(l+1):c+l-c*l,x=c*2-h,g=Vf(x,h,o+1/3),v=Vf(x,h,o),y=Vf(x,h,o-1/3);return Si(g*255,v*255,y*255,u)},EF={hsl:Kw,hsla:Kw,rgb:_w,rgba:_w},_c=function(e,t){return Hi.parse(e,eB.create(t).parseComponentValue())},On={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},QF={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(a){if(It(a))switch(a.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},UF={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xh=function(e,t){var a=Hi.parse(e,t[0]),s=t[1];return s&&wr(s)?{color:a,stop:s}:{color:a,stop:null}},qw=function(e,t){var a=e[0],s=e[e.length-1];a.stop===null&&(a.stop=_r),s.stop===null&&(s.stop=Ci);for(var n=[],i=0,A=0;A<e.length;A++){var o=e[A].stop;if(o!==null){var l=Mt(o,t);l>i?n.push(l):n.push(i),i=l}else n.push(null)}for(var c=null,A=0;A<n.length;A++){var u=n[A];if(u===null)c===null&&(c=A);else if(c!==null){for(var h=A-c,x=n[c-1],g=(u-x)/(h+1),v=1;v<=h;v++)n[c+v-1]=g*v;c=null}}return e.map(function(y,N){var p=y.color;return{color:p,stop:Math.max(Math.min(1,n[N]/t),0)}})},LF=function(e,t,a){var s=t/2,n=a/2,i=Mt(e[0],t)-s,A=n-Mt(e[1],a);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},IF=function(e,t,a){var s=typeof e=="number"?e:LF(e,t,a),n=Math.abs(t*Math.sin(s))+Math.abs(a*Math.cos(s)),i=t/2,A=a/2,o=n/2,l=Math.sin(s-Math.PI/2)*o,c=Math.cos(s-Math.PI/2)*o;return[n,i-c,i+c,A-l,A+l]},Qs=function(e,t){return Math.sqrt(e*e+t*t)},zw=function(e,t,a,s,n){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(A,o){var l=o[0],c=o[1],u=Qs(a-l,s-c);return(n?u<A.optimumDistance:u>A.optimumDistance)?{optimumCorner:o,optimumDistance:u}:A},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},PF=function(e,t,a,s,n){var i=0,A=0;switch(e.size){case 0:e.shape===0?i=A=Math.min(Math.abs(t),Math.abs(t-s),Math.abs(a),Math.abs(a-n)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-s)),A=Math.min(Math.abs(a),Math.abs(a-n)));break;case 2:if(e.shape===0)i=A=Math.min(Qs(t,a),Qs(t,a-n),Qs(t-s,a),Qs(t-s,a-n));else if(e.shape===1){var o=Math.min(Math.abs(a),Math.abs(a-n))/Math.min(Math.abs(t),Math.abs(t-s)),l=zw(s,n,t,a,!0),c=l[0],u=l[1];i=Qs(c-t,(u-a)/o),A=o*i}break;case 1:e.shape===0?i=A=Math.max(Math.abs(t),Math.abs(t-s),Math.abs(a),Math.abs(a-n)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-s)),A=Math.max(Math.abs(a),Math.abs(a-n)));break;case 3:if(e.shape===0)i=A=Math.max(Qs(t,a),Qs(t,a-n),Qs(t-s,a),Qs(t-s,a-n));else if(e.shape===1){var o=Math.max(Math.abs(a),Math.abs(a-n))/Math.max(Math.abs(t),Math.abs(t-s)),h=zw(s,n,t,a,!1),c=h[0],u=h[1];i=Qs(c-t,(u-a)/o),A=o*i}break}return Array.isArray(e.size)&&(i=Mt(e.size[0],s),A=e.size.length===2?Mt(e.size[1],n):i),[i,A]},DF=function(e,t){var a=cs(180),s=[];return yn(t).forEach(function(n,i){if(i===0){var A=n[0];if(A.type===20&&A.value==="to"){a=oB(n);return}else if(AB(A)){a=Jh.parse(e,A);return}}var o=Xh(e,n);s.push(o)}),{angle:a,stops:s,type:1}},t0=function(e,t){var a=cs(180),s=[];return yn(t).forEach(function(n,i){if(i===0){var A=n[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){a=oB(n);return}else if(AB(A)){a=(Jh.parse(e,A)+cs(270))%cs(360);return}}var o=Xh(e,n);s.push(o)}),{angle:a,stops:s,type:1}},TF=function(e,t){var a=cs(180),s=[],n=1,i=0,A=3,o=[];return yn(t).forEach(function(l,c){var u=l[0];if(c===0){if(It(u)&&u.value==="linear"){n=1;return}else if(It(u)&&u.value==="radial"){n=2;return}}if(u.type===18){if(u.name==="from"){var h=Hi.parse(e,u.values[0]);s.push({stop:_r,color:h})}else if(u.name==="to"){var h=Hi.parse(e,u.values[0]);s.push({stop:Ci,color:h})}else if(u.name==="color-stop"){var x=u.values.filter(ml);if(x.length===2){var h=Hi.parse(e,x[1]),g=x[0];Nl(g)&&s.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),n===1?{angle:(a+cs(180))%cs(360),stops:s,type:n}:{size:A,shape:i,stops:s,position:o,type:n}},lB="closest-side",cB="farthest-side",dB="closest-corner",uB="farthest-corner",hB="circle",gB="ellipse",fB="cover",mB="contain",RF=function(e,t){var a=0,s=3,n=[],i=[];return yn(t).forEach(function(A,o){var l=!0;if(o===0){var c=!1;l=A.reduce(function(h,x){if(c)if(It(x))switch(x.value){case"center":return i.push(Wx),h;case"top":case"left":return i.push(_r),h;case"right":case"bottom":return i.push(Ci),h}else(wr(x)||Gi(x))&&i.push(x);else if(It(x))switch(x.value){case hB:return a=0,!1;case gB:return a=1,!1;case"at":return c=!0,!1;case lB:return s=0,!1;case fB:case cB:return s=1,!1;case mB:case dB:return s=2,!1;case uB:return s=3,!1}else if(Gi(x)||wr(x))return Array.isArray(s)||(s=[]),s.push(x),!1;return h},l)}if(l){var u=Xh(e,A);n.push(u)}}),{size:s,shape:a,stops:n,position:i,type:2}},r0=function(e,t){var a=0,s=3,n=[],i=[];return yn(t).forEach(function(A,o){var l=!0;if(o===0?l=A.reduce(function(u,h){if(It(h))switch(h.value){case"center":return i.push(Wx),!1;case"top":case"left":return i.push(_r),!1;case"right":case"bottom":return i.push(Ci),!1}else if(wr(h)||Gi(h))return i.push(h),!1;return u},l):o===1&&(l=A.reduce(function(u,h){if(It(h))switch(h.value){case hB:return a=0,!1;case gB:return a=1,!1;case mB:case lB:return s=0,!1;case cB:return s=1,!1;case dB:return s=2,!1;case fB:case uB:return s=3,!1}else if(Gi(h)||wr(h))return Array.isArray(s)||(s=[]),s.push(h),!1;return u},l)),l){var c=Xh(e,A);n.push(c)}}),{size:s,shape:a,stops:n,position:i,type:2}},HF=function(e){return e.type===1},MF=function(e){return e.type===2},$x={name:"image",parse:function(e,t){if(t.type===22){var a={url:t.value,type:0};return e.cache.addImage(t.value),a}if(t.type===18){var s=pB[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return s(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function OF(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!pB[e.name])}var pB={"linear-gradient":DF,"-moz-linear-gradient":t0,"-ms-linear-gradient":t0,"-o-linear-gradient":t0,"-webkit-linear-gradient":t0,"radial-gradient":RF,"-moz-radial-gradient":r0,"-ms-radial-gradient":r0,"-o-radial-gradient":r0,"-webkit-radial-gradient":r0,"-webkit-gradient":TF},_F={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var a=t[0];return a.type===20&&a.value==="none"?[]:t.filter(function(s){return ml(s)&&OF(s)}).map(function(s){return $x.parse(e,s)})}},KF={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(a){if(It(a))switch(a.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},qF={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return yn(t).map(function(a){return a.filter(wr)}).map(rB)}},zF={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return yn(t).map(function(a){return a.filter(It).map(function(s){return s.value}).join(" ")}).map(VF)}},VF=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},il;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(il||(il={}));var GF={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return yn(t).map(function(a){return a.filter(WF)})}},WF=function(e){return It(e)||wr(e)},Yh=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},$F=Yh("top"),JF=Yh("right"),XF=Yh("bottom"),YF=Yh("left"),Zh=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,a){return rB(a.filter(wr))}}},ZF=Zh("top-left"),eE=Zh("top-right"),tE=Zh("bottom-right"),rE=Zh("bottom-left"),eg=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,a){switch(a){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},aE=eg("top"),sE=eg("right"),nE=eg("bottom"),iE=eg("left"),tg=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,a){return Nd(a)?a.number:0}}},AE=tg("top"),oE=tg("right"),lE=tg("bottom"),cE=tg("left"),dE={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},uE={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},hE={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(It).reduce(function(a,s){return a|gE(s.value)},0)}},gE=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},fE={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mE={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},gh;(function(e){e.NORMAL="normal",e.STRICT="strict"})(gh||(gh={}));var pE={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return gh.STRICT;case"normal":default:return gh.NORMAL}}},xE={name:"line-height",initialValue:"normal",prefix:!1,type:4},Vw=function(e,t){return It(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:wr(e)?Mt(e,t):t},yE={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:$x.parse(e,t)}},bE={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},Ep={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},rg=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},wE=rg("top"),vE=rg("right"),BE=rg("bottom"),NE=rg("left"),kE={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(It).map(function(a){switch(a.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},jE={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},ag=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},CE=ag("top"),SE=ag("right"),FE=ag("bottom"),EE=ag("left"),QE={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},UE={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},LE={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Fp(t[0],"none")?[]:yn(t).map(function(a){for(var s={color:On.TRANSPARENT,offsetX:_r,offsetY:_r,blur:_r},n=0,i=0;i<a.length;i++){var A=a[i];Gi(A)?(n===0?s.offsetX=A:n===1?s.offsetY=A:s.blur=A,n++):s.color=Hi.parse(e,A)}return s})}},IE={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},PE={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var a=RE[t.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return a(t.values)}return null}},DE=function(e){var t=e.filter(function(a){return a.type===17}).map(function(a){return a.number});return t.length===6?t:null},TE=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),a=t[0],s=t[1];t[2],t[3];var n=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var A=t[12],o=t[13];return t[14],t[15],t.length===16?[a,s,n,i,A,o]:null},RE={matrix:DE,matrix3d:TE},Gw={type:16,number:50,flags:Bd},HE=[Gw,Gw],ME={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var a=t.filter(wr);return a.length!==2?HE:[a[0],a[1]]}},OE={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Kc;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Kc||(Kc={}));var _E={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Kc.BREAK_ALL;case"keep-all":return Kc.KEEP_ALL;case"normal":default:return Kc.NORMAL}}},KE={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Nl(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},xB={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},qE={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Nl(t)?t.number:1}},zE={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},VE={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(It).map(function(a){switch(a.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(a){return a!==0})}},GE={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var a=[],s=[];return t.forEach(function(n){switch(n.type){case 20:case 0:a.push(n.value);break;case 17:a.push(n.number.toString());break;case 4:s.push(a.join(" ")),a.length=0;break}}),a.length&&s.push(a.join(" ")),s.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},WE={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},$E={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Nl(t))return t.number;if(It(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},JE={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(It).map(function(a){return a.value})}},XE={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Sr=function(e,t){return(e&t)!==0},YE={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var a=t[0];return a.type===20&&a.value==="none"?[]:t}},ZE={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var a=t[0];if(a.type===20&&a.value==="none")return null;for(var s=[],n=t.filter(tB),i=0;i<n.length;i++){var A=n[i],o=n[i+1];if(A.type===20){var l=o&&Nl(o)?o.number:1;s.push({counter:A.value,increment:l})}}return s}},eQ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var a=[],s=t.filter(tB),n=0;n<s.length;n++){var i=s[n],A=s[n+1];if(It(i)&&i.value!=="none"){var o=A&&Nl(A)?A.number:0;a.push({counter:i.value,reset:o})}}return a}},tQ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Nd).map(function(a){return xB.parse(e,a)})}},rQ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var a=t[0];if(a.type===20&&a.value==="none")return null;var s=[],n=t.filter(SF);if(n.length%2!==0)return null;for(var i=0;i<n.length;i+=2){var A=n[i].value,o=n[i+1].value;s.push({open:A,close:o})}return s}},Ww=function(e,t,a){if(!e)return"";var s=e[Math.min(t,e.length-1)];return s?a?s.open:s.close:""},aQ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Fp(t[0],"none")?[]:yn(t).map(function(a){for(var s={color:255,offsetX:_r,offsetY:_r,blur:_r,spread:_r,inset:!1},n=0,i=0;i<a.length;i++){var A=a[i];Fp(A,"inset")?s.inset=!0:Gi(A)?(n===0?s.offsetX=A:n===1?s.offsetY=A:n===2?s.blur=A:s.spread=A,n++):s.color=Hi.parse(e,A)}return s})}},sQ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var a=[0,1,2],s=[];return t.filter(It).forEach(function(n){switch(n.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),a.forEach(function(n){s.indexOf(n)===-1&&s.push(n)}),s}},nQ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},iQ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Nd(t)?t.number:0}},AQ=function(){function e(t,a){var s,n;this.animationDuration=Ke(t,tQ,a.animationDuration),this.backgroundClip=Ke(t,QF,a.backgroundClip),this.backgroundColor=Ke(t,UF,a.backgroundColor),this.backgroundImage=Ke(t,_F,a.backgroundImage),this.backgroundOrigin=Ke(t,KF,a.backgroundOrigin),this.backgroundPosition=Ke(t,qF,a.backgroundPosition),this.backgroundRepeat=Ke(t,zF,a.backgroundRepeat),this.backgroundSize=Ke(t,GF,a.backgroundSize),this.borderTopColor=Ke(t,$F,a.borderTopColor),this.borderRightColor=Ke(t,JF,a.borderRightColor),this.borderBottomColor=Ke(t,XF,a.borderBottomColor),this.borderLeftColor=Ke(t,YF,a.borderLeftColor),this.borderTopLeftRadius=Ke(t,ZF,a.borderTopLeftRadius),this.borderTopRightRadius=Ke(t,eE,a.borderTopRightRadius),this.borderBottomRightRadius=Ke(t,tE,a.borderBottomRightRadius),this.borderBottomLeftRadius=Ke(t,rE,a.borderBottomLeftRadius),this.borderTopStyle=Ke(t,aE,a.borderTopStyle),this.borderRightStyle=Ke(t,sE,a.borderRightStyle),this.borderBottomStyle=Ke(t,nE,a.borderBottomStyle),this.borderLeftStyle=Ke(t,iE,a.borderLeftStyle),this.borderTopWidth=Ke(t,AE,a.borderTopWidth),this.borderRightWidth=Ke(t,oE,a.borderRightWidth),this.borderBottomWidth=Ke(t,lE,a.borderBottomWidth),this.borderLeftWidth=Ke(t,cE,a.borderLeftWidth),this.boxShadow=Ke(t,aQ,a.boxShadow),this.color=Ke(t,dE,a.color),this.direction=Ke(t,uE,a.direction),this.display=Ke(t,hE,a.display),this.float=Ke(t,fE,a.cssFloat),this.fontFamily=Ke(t,GE,a.fontFamily),this.fontSize=Ke(t,WE,a.fontSize),this.fontStyle=Ke(t,XE,a.fontStyle),this.fontVariant=Ke(t,JE,a.fontVariant),this.fontWeight=Ke(t,$E,a.fontWeight),this.letterSpacing=Ke(t,mE,a.letterSpacing),this.lineBreak=Ke(t,pE,a.lineBreak),this.lineHeight=Ke(t,xE,a.lineHeight),this.listStyleImage=Ke(t,yE,a.listStyleImage),this.listStylePosition=Ke(t,bE,a.listStylePosition),this.listStyleType=Ke(t,Ep,a.listStyleType),this.marginTop=Ke(t,wE,a.marginTop),this.marginRight=Ke(t,vE,a.marginRight),this.marginBottom=Ke(t,BE,a.marginBottom),this.marginLeft=Ke(t,NE,a.marginLeft),this.opacity=Ke(t,qE,a.opacity);var i=Ke(t,kE,a.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ke(t,jE,a.overflowWrap),this.paddingTop=Ke(t,CE,a.paddingTop),this.paddingRight=Ke(t,SE,a.paddingRight),this.paddingBottom=Ke(t,FE,a.paddingBottom),this.paddingLeft=Ke(t,EE,a.paddingLeft),this.paintOrder=Ke(t,sQ,a.paintOrder),this.position=Ke(t,UE,a.position),this.textAlign=Ke(t,QE,a.textAlign),this.textDecorationColor=Ke(t,zE,(s=a.textDecorationColor)!==null&&s!==void 0?s:a.color),this.textDecorationLine=Ke(t,VE,(n=a.textDecorationLine)!==null&&n!==void 0?n:a.textDecoration),this.textShadow=Ke(t,LE,a.textShadow),this.textTransform=Ke(t,IE,a.textTransform),this.transform=Ke(t,PE,a.transform),this.transformOrigin=Ke(t,ME,a.transformOrigin),this.visibility=Ke(t,OE,a.visibility),this.webkitTextStrokeColor=Ke(t,nQ,a.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ke(t,iQ,a.webkitTextStrokeWidth),this.wordBreak=Ke(t,_E,a.wordBreak),this.zIndex=Ke(t,KE,a.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Mi(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Sr(this.display,4)||Sr(this.display,33554432)||Sr(this.display,268435456)||Sr(this.display,536870912)||Sr(this.display,67108864)||Sr(this.display,134217728)},e}(),oQ=function(){function e(t,a){this.content=Ke(t,YE,a.content),this.quotes=Ke(t,rQ,a.quotes)}return e}(),$w=function(){function e(t,a){this.counterIncrement=Ke(t,ZE,a.counterIncrement),this.counterReset=Ke(t,eQ,a.counterReset)}return e}(),Ke=function(e,t,a){var s=new Z5,n=a!==null&&typeof a<"u"?a.toString():t.initialValue;s.write(n);var i=new eB(s.read());switch(t.type){case 2:var A=i.parseComponentValue();return t.parse(e,It(A)?A.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Jh.parse(e,i.parseComponentValue());case"color":return Hi.parse(e,i.parseComponentValue());case"image":return $x.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Gi(o)?o:_r;case"length-percentage":var l=i.parseComponentValue();return wr(l)?l:_r;case"time":return xB.parse(e,i.parseComponentValue())}break}},lQ="data-html2canvas-debug",cQ=function(e){var t=e.getAttribute(lQ);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Qp=function(e,t){var a=cQ(e);return a===1||t===a},bn=function(){function e(t,a){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Qp(a,3))debugger;this.styles=new AQ(t,window.getComputedStyle(a,null)),Ip(a)&&(this.styles.animationDuration.some(function(s){return s>0})&&(a.style.animationDuration="0s"),this.styles.transform!==null&&(a.style.transform="none")),this.bounds=Wh(this.context,a),Qp(a,4)&&(this.flags|=16)}return e}(),dQ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Jw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var a0=0;a0<Jw.length;a0++)Cc[Jw.charCodeAt(a0)]=a0;var uQ=function(e){var t=e.length*.75,a=e.length,s,n=0,i,A,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(s=0;s<a;s+=4)i=Cc[e.charCodeAt(s)],A=Cc[e.charCodeAt(s+1)],o=Cc[e.charCodeAt(s+2)],l=Cc[e.charCodeAt(s+3)],u[n++]=i<<2|A>>4,u[n++]=(A&15)<<4|o>>2,u[n++]=(o&3)<<6|l&63;return c},hQ=function(e){for(var t=e.length,a=[],s=0;s<t;s+=2)a.push(e[s+1]<<8|e[s]);return a},gQ=function(e){for(var t=e.length,a=[],s=0;s<t;s+=4)a.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return a},EA=5,Jx=6+5,Gf=2,fQ=Jx-EA,yB=65536>>EA,mQ=1<<EA,Wf=mQ-1,pQ=1024>>EA,xQ=yB+pQ,yQ=xQ,bQ=32,wQ=yQ+bQ,vQ=65536>>Jx,BQ=1<<fQ,NQ=BQ-1,Xw=function(e,t,a){return e.slice?e.slice(t,a):new Uint16Array(Array.prototype.slice.call(e,t,a))},kQ=function(e,t,a){return e.slice?e.slice(t,a):new Uint32Array(Array.prototype.slice.call(e,t,a))},jQ=function(e,t){var a=uQ(e),s=Array.isArray(a)?gQ(a):new Uint32Array(a),n=Array.isArray(a)?hQ(a):new Uint16Array(a),i=24,A=Xw(n,i/2,s[4]/2),o=s[5]===2?Xw(n,(i+s[4])/2):kQ(s,Math.ceil((i+s[4])/4));return new CQ(s[0],s[1],s[2],s[3],A,o)},CQ=function(){function e(t,a,s,n,i,A){this.initialValue=t,this.errorValue=a,this.highStart=s,this.highValueIndex=n,this.index=i,this.data=A}return e.prototype.get=function(t){var a;if(t>=0){if(t<55296||t>56319&&t<=65535)return a=this.index[t>>EA],a=(a<<Gf)+(t&Wf),this.data[a];if(t<=65535)return a=this.index[yB+(t-55296>>EA)],a=(a<<Gf)+(t&Wf),this.data[a];if(t<this.highStart)return a=wQ-vQ+(t>>Jx),a=this.index[a],a+=t>>EA&NQ,a=this.index[a],a=(a<<Gf)+(t&Wf),this.data[a];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Yw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SQ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var s0=0;s0<Yw.length;s0++)SQ[Yw.charCodeAt(s0)]=s0;var FQ=1,$f=2,Jf=3,Zw=4,ev=5,EQ=7,tv=8,Xf=9,Yf=10,rv=11,av=12,sv=13,nv=14,Zf=15,QQ=function(e){for(var t=[],a=0,s=e.length;a<s;){var n=e.charCodeAt(a++);if(n>=55296&&n<=56319&&a<s){var i=e.charCodeAt(a++);(i&64512)===56320?t.push(((n&1023)<<10)+(i&1023)+65536):(t.push(n),a--)}else t.push(n)}return t},UQ=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var a=e.length;if(!a)return"";for(var s=[],n=-1,i="";++n<a;){var A=e[n];A<=65535?s.push(A):(A-=65536,s.push((A>>10)+55296,A%1024+56320)),(n+1===a||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},LQ=jQ(dQ),ns="",em="",IQ=function(e){return LQ.get(e)},PQ=function(e,t,a){var s=a-2,n=t[s],i=t[a-1],A=t[a];if(i===$f&&A===Jf)return ns;if(i===$f||i===Jf||i===Zw||A===$f||A===Jf||A===Zw)return em;if(i===tv&&[tv,Xf,rv,av].indexOf(A)!==-1||(i===rv||i===Xf)&&(A===Xf||A===Yf)||(i===av||i===Yf)&&A===Yf||A===sv||A===ev||A===EQ||i===FQ)return ns;if(i===sv&&A===nv){for(;n===ev;)n=t[--s];if(n===nv)return ns}if(i===Zf&&A===Zf){for(var o=0;n===Zf;)o++,n=t[--s];if(o%2===0)return ns}return em},DQ=function(e){var t=QQ(e),a=t.length,s=0,n=0,i=t.map(IQ);return{next:function(){if(s>=a)return{done:!0,value:null};for(var A=ns;s<a&&(A=PQ(t,i,++s))===ns;);if(A!==ns||s===a){var o=UQ.apply(null,t.slice(n,s));return n=s,{value:o,done:!1}}return{done:!0,value:null}}}},TQ=function(e){for(var t=DQ(e),a=[],s;!(s=t.next()).done;)s.value&&a.push(s.value.slice());return a},RQ=function(e){var t=123;if(e.createRange){var a=e.createRange();if(a.getBoundingClientRect){var s=e.createElement("boundtest");s.style.height=t+"px",s.style.display="block",e.body.appendChild(s),a.selectNode(s);var n=a.getBoundingClientRect(),i=Math.round(n.height);if(e.body.removeChild(s),i===t)return!0}}return!1},HQ=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var a=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=t.firstChild,n=$h(s.data).map(function(l){return dr(l)}),i=0,A={},o=n.every(function(l,c){a.setStart(s,i),a.setEnd(s,i+l.length);var u=a.getBoundingClientRect();i+=l.length;var h=u.x>A.x||u.y>A.y;return A=u,c===0?!0:h});return e.body.removeChild(t),o},MQ=function(){return typeof new Image().crossOrigin<"u"},OQ=function(){return typeof new XMLHttpRequest().responseType=="string"},_Q=function(e){var t=new Image,a=e.createElement("canvas"),s=a.getContext("2d");if(!s)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(t,0,0),a.toDataURL()}catch{return!1}return!0},iv=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},KQ=function(e){var t=e.createElement("canvas"),a=100;t.width=a,t.height=a;var s=t.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,a,a);var n=new Image,i=t.toDataURL();n.src=i;var A=Up(a,a,0,0,n);return s.fillStyle="red",s.fillRect(0,0,a,a),Av(A).then(function(o){s.drawImage(o,0,0);var l=s.getImageData(0,0,a,a).data;s.fillStyle="red",s.fillRect(0,0,a,a);var c=e.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=a+"px",iv(l)?Av(Up(a,a,0,0,c)):Promise.reject(!1)}).then(function(o){return s.drawImage(o,0,0),iv(s.getImageData(0,0,a,a).data)}).catch(function(){return!1})},Up=function(e,t,a,s,n){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",e.toString()),A.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",a.toString()),o.setAttributeNS(null,"y",s.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(o),o.appendChild(n),A},Av=function(e){return new Promise(function(t,a){var s=new Image;s.onload=function(){return t(s)},s.onerror=a,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Or={get SUPPORT_RANGE_BOUNDS(){var e=RQ(document);return Object.defineProperty(Or,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Or.SUPPORT_RANGE_BOUNDS&&HQ(document);return Object.defineProperty(Or,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=_Q(document);return Object.defineProperty(Or,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?KQ(document):Promise.resolve(!1);return Object.defineProperty(Or,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=MQ();return Object.defineProperty(Or,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=OQ();return Object.defineProperty(Or,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Or,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Or,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},qc=function(){function e(t,a){this.text=t,this.bounds=a}return e}(),qQ=function(e,t,a,s){var n=GQ(t,a),i=[],A=0;return n.forEach(function(o){if(a.textDecorationLine.length||o.trim().length>0)if(Or.SUPPORT_RANGE_BOUNDS){var l=ov(s,A,o.length).getClientRects();if(l.length>1){var c=Xx(o),u=0;c.forEach(function(x){i.push(new qc(x,Gn.fromDOMRectList(e,ov(s,u+A,x.length).getClientRects()))),u+=x.length})}else i.push(new qc(o,Gn.fromDOMRectList(e,l)))}else{var h=s.splitText(o.length);i.push(new qc(o,zQ(e,s))),s=h}else Or.SUPPORT_RANGE_BOUNDS||(s=s.splitText(o.length));A+=o.length}),i},zQ=function(e,t){var a=t.ownerDocument;if(a){var s=a.createElement("html2canvaswrapper");s.appendChild(t.cloneNode(!0));var n=t.parentNode;if(n){n.replaceChild(s,t);var i=Wh(e,s);return s.firstChild&&n.replaceChild(s.firstChild,s),i}}return Gn.EMPTY},ov=function(e,t,a){var s=e.ownerDocument;if(!s)throw new Error("Node has no owner document");var n=s.createRange();return n.setStart(e,t),n.setEnd(e,t+a),n},Xx=function(e){if(Or.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(a){return a.segment})}return TQ(e)},VQ=function(e,t){if(Or.SUPPORT_NATIVE_TEXT_SEGMENTATION){var a=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(a.segment(e)).map(function(s){return s.segment})}return $Q(e,t)},GQ=function(e,t){return t.letterSpacing!==0?Xx(e):VQ(e,t)},WQ=[32,160,4961,65792,65793,4153,4241],$Q=function(e,t){for(var a=vS(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),s=[],n,i=function(){if(n.value){var A=n.value.slice(),o=$h(A),l="";o.forEach(function(c){WQ.indexOf(c)===-1?l+=dr(c):(l.length&&s.push(l),s.push(dr(c)),l="")}),l.length&&s.push(l)}};!(n=a.next()).done;)i();return s},JQ=function(){function e(t,a,s){this.text=XQ(a.data,s.textTransform),this.textBounds=qQ(t,this.text,s,a)}return e}(),XQ=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(YQ,ZQ);case 2:return e.toUpperCase();default:return e}},YQ=/(^|\s|:|-|\(|\))([a-z])/g,ZQ=function(e,t,a){return e.length>0?t+a.toUpperCase():e},bB=function(e){Gs(t,e);function t(a,s){var n=e.call(this,a,s)||this;return n.src=s.currentSrc||s.src,n.intrinsicWidth=s.naturalWidth,n.intrinsicHeight=s.naturalHeight,n.context.cache.addImage(n.src),n}return t}(bn),wB=function(e){Gs(t,e);function t(a,s){var n=e.call(this,a,s)||this;return n.canvas=s,n.intrinsicWidth=s.width,n.intrinsicHeight=s.height,n}return t}(bn),vB=function(e){Gs(t,e);function t(a,s){var n=e.call(this,a,s)||this,i=new XMLSerializer,A=Wh(a,s);return s.setAttribute("width",A.width+"px"),s.setAttribute("height",A.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(s)),n.intrinsicWidth=s.width.baseVal.value,n.intrinsicHeight=s.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t}(bn),BB=function(e){Gs(t,e);function t(a,s){var n=e.call(this,a,s)||this;return n.value=s.value,n}return t}(bn),Lp=function(e){Gs(t,e);function t(a,s){var n=e.call(this,a,s)||this;return n.start=s.start,n.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,n}return t}(bn),eU=[{type:15,flags:0,unit:"px",number:3}],tU=[{type:16,flags:0,number:50}],rU=function(e){return e.width>e.height?new Gn(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Gn(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},aU=function(e){var t=e.type===sU?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},fh="checkbox",mh="radio",sU="password",lv=707406591,Yx=function(e){Gs(t,e);function t(a,s){var n=e.call(this,a,s)||this;switch(n.type=s.type.toLowerCase(),n.checked=s.checked,n.value=aU(s),(n.type===fh||n.type===mh)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=rU(n.bounds)),n.type){case fh:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=eU;break;case mh:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=tU;break}return n}return t}(bn),NB=function(e){Gs(t,e);function t(a,s){var n=e.call(this,a,s)||this,i=s.options[s.selectedIndex||0];return n.value=i&&i.text||"",n}return t}(bn),kB=function(e){Gs(t,e);function t(a,s){var n=e.call(this,a,s)||this;return n.value=s.value,n}return t}(bn),jB=function(e){Gs(t,e);function t(a,s){var n=e.call(this,a,s)||this;n.src=s.src,n.width=parseInt(s.width,10)||0,n.height=parseInt(s.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){n.tree=SB(a,s.contentWindow.document.documentElement);var i=s.contentWindow.document.documentElement?_c(a,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):On.TRANSPARENT,A=s.contentWindow.document.body?_c(a,getComputedStyle(s.contentWindow.document.body).backgroundColor):On.TRANSPARENT;n.backgroundColor=Mi(i)?Mi(A)?n.styles.backgroundColor:A:i}}catch{}return n}return t}(bn),nU=["OL","UL","MENU"],C0=function(e,t,a,s){for(var n=t.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,FB(n)&&n.data.trim().length>0)a.textNodes.push(new JQ(e,n,a.styles));else if(Vo(n))if(LB(n)&&n.assignedNodes)n.assignedNodes().forEach(function(o){return C0(e,o,a,s)});else{var A=CB(e,n);A.styles.isVisible()&&(iU(n,A,s)?A.flags|=4:AU(A.styles)&&(A.flags|=2),nU.indexOf(n.tagName)!==-1&&(A.flags|=8),a.elements.push(A),n.slot,n.shadowRoot?C0(e,n.shadowRoot,A,s):!ph(n)&&!EB(n)&&!xh(n)&&C0(e,n,A,s))}},CB=function(e,t){return Pp(t)?new bB(e,t):QB(t)?new wB(e,t):EB(t)?new vB(e,t):oU(t)?new BB(e,t):lU(t)?new Lp(e,t):cU(t)?new Yx(e,t):xh(t)?new NB(e,t):ph(t)?new kB(e,t):UB(t)?new jB(e,t):new bn(e,t)},SB=function(e,t){var a=CB(e,t);return a.flags|=4,C0(e,t,a,a),a},iU=function(e,t,a){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Zx(e)&&a.styles.isTransparent()},AU=function(e){return e.isPositioned()||e.isFloating()},FB=function(e){return e.nodeType===Node.TEXT_NODE},Vo=function(e){return e.nodeType===Node.ELEMENT_NODE},Ip=function(e){return Vo(e)&&typeof e.style<"u"&&!S0(e)},S0=function(e){return typeof e.className=="object"},oU=function(e){return e.tagName==="LI"},lU=function(e){return e.tagName==="OL"},cU=function(e){return e.tagName==="INPUT"},dU=function(e){return e.tagName==="HTML"},EB=function(e){return e.tagName==="svg"},Zx=function(e){return e.tagName==="BODY"},QB=function(e){return e.tagName==="CANVAS"},cv=function(e){return e.tagName==="VIDEO"},Pp=function(e){return e.tagName==="IMG"},UB=function(e){return e.tagName==="IFRAME"},dv=function(e){return e.tagName==="STYLE"},uU=function(e){return e.tagName==="SCRIPT"},ph=function(e){return e.tagName==="TEXTAREA"},xh=function(e){return e.tagName==="SELECT"},LB=function(e){return e.tagName==="SLOT"},uv=function(e){return e.tagName.indexOf("-")>0},hU=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var a=this.counters[t];return a&&a.length?a[a.length-1]:1},e.prototype.getCounterValues=function(t){var a=this.counters[t];return a||[]},e.prototype.pop=function(t){var a=this;t.forEach(function(s){return a.counters[s].pop()})},e.prototype.parse=function(t){var a=this,s=t.counterIncrement,n=t.counterReset,i=!0;s!==null&&s.forEach(function(o){var l=a.counters[o.counter];l&&o.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var A=[];return i&&n.forEach(function(o){var l=a.counters[o.counter];A.push(o.counter),l||(l=a.counters[o.counter]=[]),l.push(o.reset)}),A},e}(),hv={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},gv={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},gU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},fU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ko=function(e,t,a,s,n,i){return e<t||e>a?fd(e,n,i.length>0):s.integers.reduce(function(A,o,l){for(;e>=o;)e-=o,A+=s.values[l];return A},"")+i},IB=function(e,t,a,s){var n="";do a||e--,n=s(e)+n,e/=t;while(e*t>=t);return n},cr=function(e,t,a,s,n){var i=a-t+1;return(e<0?"-":"")+(IB(Math.abs(e),i,s,function(A){return dr(Math.floor(A%i)+t)})+n)},hA=function(e,t,a){a===void 0&&(a=". ");var s=t.length;return IB(Math.abs(e),s,!1,function(n){return t[Math.floor(n%s)]})+a},Qo=1,fi=2,mi=4,Sc=8,In=function(e,t,a,s,n,i){if(e<-9999||e>9999)return fd(e,4,n.length>0);var A=Math.abs(e),o=n;if(A===0)return t[0]+o;for(var l=0;A>0&&l<=4;l++){var c=A%10;c===0&&Sr(i,Qo)&&o!==""?o=t[c]+o:c>1||c===1&&l===0||c===1&&l===1&&Sr(i,fi)||c===1&&l===1&&Sr(i,mi)&&e>100||c===1&&l>1&&Sr(i,Sc)?o=t[c]+(l>0?a[l-1]:"")+o:c===1&&l>0&&(o=a[l-1]+o),A=Math.floor(A/10)}return(e<0?s:"")+o},fv="",mv="",pv="",tm="",fd=function(e,t,a){var s=a?". ":"",n=a?"":"",i=a?", ":"",A=a?" ":"";switch(t){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var o=cr(e,48,57,!0,s);return o.length<4?"0"+o:o;case 4:return hA(e,"",n);case 6:return ko(e,1,3999,hv,3,s).toLowerCase();case 7:return ko(e,1,3999,hv,3,s);case 8:return cr(e,945,969,!1,s);case 9:return cr(e,97,122,!1,s);case 10:return cr(e,65,90,!1,s);case 11:return cr(e,1632,1641,!0,s);case 12:case 49:return ko(e,1,9999,gv,3,s);case 35:return ko(e,1,9999,gv,3,s).toLowerCase();case 13:return cr(e,2534,2543,!0,s);case 14:case 30:return cr(e,6112,6121,!0,s);case 15:return hA(e,"",n);case 16:return hA(e,"",n);case 17:case 48:return In(e,"",fv,"",n,fi|mi|Sc);case 47:return In(e,"",mv,"",n,Qo|fi|mi|Sc);case 42:return In(e,"",fv,"",n,fi|mi|Sc);case 41:return In(e,"",mv,"",n,Qo|fi|mi|Sc);case 26:return In(e,"","",pv,n,0);case 25:return In(e,"","",pv,n,Qo|fi|mi);case 31:return In(e,"","",tm,i,Qo|fi|mi);case 33:return In(e,"","",tm,i,0);case 32:return In(e,"","",tm,i,Qo|fi|mi);case 18:return cr(e,2406,2415,!0,s);case 20:return ko(e,1,19999,fU,3,s);case 21:return cr(e,2790,2799,!0,s);case 22:return cr(e,2662,2671,!0,s);case 22:return ko(e,1,10999,gU,3,s);case 23:return hA(e,"");case 24:return hA(e,"");case 27:return cr(e,3302,3311,!0,s);case 28:return hA(e,"",n);case 29:return hA(e,"",n);case 34:return cr(e,3792,3801,!0,s);case 37:return cr(e,6160,6169,!0,s);case 38:return cr(e,4160,4169,!0,s);case 39:return cr(e,2918,2927,!0,s);case 40:return cr(e,1776,1785,!0,s);case 43:return cr(e,3046,3055,!0,s);case 44:return cr(e,3174,3183,!0,s);case 45:return cr(e,3664,3673,!0,s);case 46:return cr(e,3872,3881,!0,s);case 3:default:return cr(e,48,57,!0,s)}},PB="data-html2canvas-ignore",xv=function(){function e(t,a,s){if(this.context=t,this.options=s,this.scrolledElements=[],this.referenceElement=a,this.counters=new hU,this.quoteDepth=0,!a.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(a.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,a){var s=this,n=mU(t,a);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,A=t.defaultView.pageYOffset,o=n.contentWindow,l=o.document,c=yU(n).then(function(){return ha(s,void 0,void 0,function(){var u,h;return ra(this,function(x){switch(x.label){case 0:return this.scrolledElements.forEach(BU),o&&(o.scrollTo(a.left,a.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==a.top||o.scrollX!==a.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-a.left,o.scrollY-a.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:x.sent(),x.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,xU(l)]:[3,4];case 3:x.sent(),x.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,h)}).then(function(){return n})]:[2,n]}})})});return l.open(),l.write(wU(document.doctype)+"<html></html>"),vU(this.referenceElement.ownerDocument,i,A),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(t){if(Qp(t,2))debugger;if(QB(t))return this.createCanvasClone(t);if(cv(t))return this.createVideoClone(t);if(dv(t))return this.createStyleClone(t);var a=t.cloneNode(!1);return Pp(a)&&(Pp(t)&&t.currentSrc&&t.currentSrc!==t.src&&(a.src=t.currentSrc,a.srcset=""),a.loading==="lazy"&&(a.loading="eager")),uv(a)?this.createCustomElementClone(a):a},e.prototype.createCustomElementClone=function(t){var a=document.createElement("html2canvascustomelement");return rm(t.style,a),a},e.prototype.createStyleClone=function(t){try{var a=t.sheet;if(a&&a.cssRules){var s=[].slice.call(a.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),n=t.cloneNode(!1);return n.textContent=s,n}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var a;if(this.options.inlineImages&&t.ownerDocument){var s=t.ownerDocument.createElement("img");try{return s.src=t.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var i=t.getContext("2d"),A=n.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var o=(a=t.getContext("webgl2"))!==null&&a!==void 0?a:t.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}A.drawImage(t,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return n},e.prototype.createVideoClone=function(t){var a=t.ownerDocument.createElement("canvas");a.width=t.offsetWidth,a.height=t.offsetHeight;var s=a.getContext("2d");try{return s&&(s.drawImage(t,0,0,a.width,a.height),this.options.allowTaint||s.getImageData(0,0,a.width,a.height)),a}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var n=t.ownerDocument.createElement("canvas");return n.width=t.offsetWidth,n.height=t.offsetHeight,n},e.prototype.appendChildNode=function(t,a,s){(!Vo(a)||!uU(a)&&!a.hasAttribute(PB)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(a)))&&(!this.options.copyStyles||!Vo(a)||!dv(a))&&t.appendChild(this.cloneNode(a,s))},e.prototype.cloneChildNodes=function(t,a,s){for(var n=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(Vo(i)&&LB(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(o){return n.appendChildNode(a,o,s)})}else this.appendChildNode(a,i,s)},e.prototype.cloneNode=function(t,a){if(FB(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var s=t.ownerDocument.defaultView;if(s&&Vo(t)&&(Ip(t)||S0(t))){var n=this.createElementClone(t);n.style.transitionProperty="none";var i=s.getComputedStyle(t),A=s.getComputedStyle(t,":before"),o=s.getComputedStyle(t,":after");this.referenceElement===t&&Ip(n)&&(this.clonedReferenceElement=n),Zx(n)&&jU(n);var l=this.counters.parse(new $w(this.context,i)),c=this.resolvePseudoContent(t,n,A,zc.BEFORE);uv(t)&&(a=!0),cv(t)||this.cloneChildNodes(t,n,a),c&&n.insertBefore(c,n.firstChild);var u=this.resolvePseudoContent(t,n,o,zc.AFTER);return u&&n.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||S0(t))&&!UB(t)||a)&&rm(i,n),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(ph(t)||xh(t))&&(ph(n)||xh(n))&&(n.value=t.value),n}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,a,s,n){var i=this;if(s){var A=s.content,o=a.ownerDocument;if(!(!o||!A||A==="none"||A==="-moz-alt-content"||s.display==="none")){this.counters.parse(new $w(this.context,s));var l=new oQ(this.context,s),c=o.createElement("html2canvaspseudoelement");rm(s,c),l.content.forEach(function(h){if(h.type===0)c.appendChild(o.createTextNode(h.value));else if(h.type===22){var x=o.createElement("img");x.src=h.value,x.style.opacity="1",c.appendChild(x)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(It);g.length&&c.appendChild(o.createTextNode(t.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var v=h.values.filter(ml),y=v[0],N=v[1];if(y&&It(y)){var p=i.counters.getCounterValue(y.value),m=N&&It(N)?Ep.parse(i.context,N.value):3;c.appendChild(o.createTextNode(fd(p,m,!1)))}}else if(h.name==="counters"){var w=h.values.filter(ml),y=w[0],E=w[1],N=w[2];if(y&&It(y)){var U=i.counters.getCounterValues(y.value),D=N&&It(N)?Ep.parse(i.context,N.value):3,F=E&&E.type===0?E.value:"",C=U.map(function(Q){return fd(Q,D,!1)}).join(F);c.appendChild(o.createTextNode(C))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(o.createTextNode(Ww(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(Ww(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(h.value))}}),c.className=Dp+" "+Tp;var u=n===zc.BEFORE?" "+Dp:" "+Tp;return S0(a)?a.className.baseValue+=u:a.className+=u,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),zc;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(zc||(zc={}));var mU=function(e,t){var a=e.createElement("iframe");return a.className="html2canvas-container",a.style.visibility="hidden",a.style.position="fixed",a.style.left="-10000px",a.style.top="0px",a.style.border="0",a.width=t.width.toString(),a.height=t.height.toString(),a.scrolling="no",a.setAttribute(PB,"true"),e.body.appendChild(a),a},pU=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},xU=function(e){return Promise.all([].slice.call(e.images,0).map(pU))},yU=function(e){return new Promise(function(t,a){var s=e.contentWindow;if(!s)return a("No window assigned for iframe");var n=s.document;s.onload=e.onload=function(){s.onload=e.onload=null;var i=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},bU=["all","d","content"],rm=function(e,t){for(var a=e.length-1;a>=0;a--){var s=e.item(a);bU.indexOf(s)===-1&&t.style.setProperty(s,e.getPropertyValue(s))}return t},wU=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},vU=function(e,t,a){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||a!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,a)},BU=function(e){var t=e[0],a=e[1],s=e[2];t.scrollLeft=a,t.scrollTop=s},NU=":before",kU=":after",Dp="___html2canvas___pseudoelement_before",Tp="___html2canvas___pseudoelement_after",yv=`{
    content: "" !important;
    display: none !important;
}`,jU=function(e){CU(e,"."+Dp+NU+yv+`
         .`+Tp+kU+yv)},CU=function(e,t){var a=e.ownerDocument;if(a){var s=a.createElement("style");s.textContent=t,e.appendChild(s)}},DB=function(){function e(){}return e.getOrigin=function(t){var a=e._link;return a?(a.href=t,a.href=a.href,a.protocol+a.hostname+a.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),SU=function(){function e(t,a){this.context=t,this._options=a,this._cache={}}return e.prototype.addImage=function(t){var a=Promise.resolve();return this.has(t)||(sm(t)||UU(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),a},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ha(this,void 0,void 0,function(){var a,s,n,i,A=this;return ra(this,function(o){switch(o.label){case 0:return a=DB.isSameOrigin(t),s=!am(t)&&this._options.useCORS===!0&&Or.SUPPORT_CORS_IMAGES&&!a,n=!am(t)&&!a&&!sm(t)&&typeof this._options.proxy=="string"&&Or.SUPPORT_CORS_XHR&&!s,!a&&this._options.allowTaint===!1&&!am(t)&&!sm(t)&&!n&&!s?[2]:(i=t,n?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(LU(i)||s)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),A._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var a=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var n=t.substring(0,256);return new Promise(function(i,A){var o=Or.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")i(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(x){return A(x)},!1),h.readAsDataURL(l.response)}else A("Failed to proxy resource "+n+" with status code "+l.status)},l.onerror=A;var c=s.indexOf("?")>-1?"&":"?";if(l.open("GET",""+s+c+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),a._options.imageTimeout){var u=a._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return A("Timed out ("+u+"ms) proxying "+n)}}l.send()})},e}(),FU=/^data:image\/svg\+xml/i,EU=/^data:image\/.*;base64,/i,QU=/^data:image\/.*/i,UU=function(e){return Or.SUPPORT_SVG_DRAWING||!IU(e)},am=function(e){return QU.test(e)},LU=function(e){return EU.test(e)},sm=function(e){return e.substr(0,4)==="blob"},IU=function(e){return e.substr(-3).toLowerCase()==="svg"||FU.test(e)},He=function(){function e(t,a){this.type=0,this.x=t,this.y=a}return e.prototype.add=function(t,a){return new e(this.x+t,this.y+a)},e}(),jo=function(e,t,a){return new He(e.x+(t.x-e.x)*a,e.y+(t.y-e.y)*a)},n0=function(){function e(t,a,s,n){this.type=1,this.start=t,this.startControl=a,this.endControl=s,this.end=n}return e.prototype.subdivide=function(t,a){var s=jo(this.start,this.startControl,t),n=jo(this.startControl,this.endControl,t),i=jo(this.endControl,this.end,t),A=jo(s,n,t),o=jo(n,i,t),l=jo(A,o,t);return a?new e(this.start,s,A,l):new e(l,o,i,this.end)},e.prototype.add=function(t,a){return new e(this.start.add(t,a),this.startControl.add(t,a),this.endControl.add(t,a),this.end.add(t,a))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),os=function(e){return e.type===1},PU=function(){function e(t){var a=t.styles,s=t.bounds,n=jc(a.borderTopLeftRadius,s.width,s.height),i=n[0],A=n[1],o=jc(a.borderTopRightRadius,s.width,s.height),l=o[0],c=o[1],u=jc(a.borderBottomRightRadius,s.width,s.height),h=u[0],x=u[1],g=jc(a.borderBottomLeftRadius,s.width,s.height),v=g[0],y=g[1],N=[];N.push((i+l)/s.width),N.push((v+h)/s.width),N.push((A+y)/s.height),N.push((c+x)/s.height);var p=Math.max.apply(Math,N);p>1&&(i/=p,A/=p,l/=p,c/=p,h/=p,x/=p,v/=p,y/=p);var m=s.width-l,w=s.height-x,E=s.width-h,U=s.height-y,D=a.borderTopWidth,F=a.borderRightWidth,C=a.borderBottomWidth,K=a.borderLeftWidth,M=Mt(a.paddingTop,t.bounds.width),Q=Mt(a.paddingRight,t.bounds.width),j=Mt(a.paddingBottom,t.bounds.width),T=Mt(a.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?Vt(s.left+K/3,s.top+D/3,i-K/3,A-D/3,St.TOP_LEFT):new He(s.left+K/3,s.top+D/3),this.topRightBorderDoubleOuterBox=i>0||A>0?Vt(s.left+m,s.top+D/3,l-F/3,c-D/3,St.TOP_RIGHT):new He(s.left+s.width-F/3,s.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||x>0?Vt(s.left+E,s.top+w,h-F/3,x-C/3,St.BOTTOM_RIGHT):new He(s.left+s.width-F/3,s.top+s.height-C/3),this.bottomLeftBorderDoubleOuterBox=v>0||y>0?Vt(s.left+K/3,s.top+U,v-K/3,y-C/3,St.BOTTOM_LEFT):new He(s.left+K/3,s.top+s.height-C/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?Vt(s.left+K*2/3,s.top+D*2/3,i-K*2/3,A-D*2/3,St.TOP_LEFT):new He(s.left+K*2/3,s.top+D*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?Vt(s.left+m,s.top+D*2/3,l-F*2/3,c-D*2/3,St.TOP_RIGHT):new He(s.left+s.width-F*2/3,s.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||x>0?Vt(s.left+E,s.top+w,h-F*2/3,x-C*2/3,St.BOTTOM_RIGHT):new He(s.left+s.width-F*2/3,s.top+s.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||y>0?Vt(s.left+K*2/3,s.top+U,v-K*2/3,y-C*2/3,St.BOTTOM_LEFT):new He(s.left+K*2/3,s.top+s.height-C*2/3),this.topLeftBorderStroke=i>0||A>0?Vt(s.left+K/2,s.top+D/2,i-K/2,A-D/2,St.TOP_LEFT):new He(s.left+K/2,s.top+D/2),this.topRightBorderStroke=i>0||A>0?Vt(s.left+m,s.top+D/2,l-F/2,c-D/2,St.TOP_RIGHT):new He(s.left+s.width-F/2,s.top+D/2),this.bottomRightBorderStroke=h>0||x>0?Vt(s.left+E,s.top+w,h-F/2,x-C/2,St.BOTTOM_RIGHT):new He(s.left+s.width-F/2,s.top+s.height-C/2),this.bottomLeftBorderStroke=v>0||y>0?Vt(s.left+K/2,s.top+U,v-K/2,y-C/2,St.BOTTOM_LEFT):new He(s.left+K/2,s.top+s.height-C/2),this.topLeftBorderBox=i>0||A>0?Vt(s.left,s.top,i,A,St.TOP_LEFT):new He(s.left,s.top),this.topRightBorderBox=l>0||c>0?Vt(s.left+m,s.top,l,c,St.TOP_RIGHT):new He(s.left+s.width,s.top),this.bottomRightBorderBox=h>0||x>0?Vt(s.left+E,s.top+w,h,x,St.BOTTOM_RIGHT):new He(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=v>0||y>0?Vt(s.left,s.top+U,v,y,St.BOTTOM_LEFT):new He(s.left,s.top+s.height),this.topLeftPaddingBox=i>0||A>0?Vt(s.left+K,s.top+D,Math.max(0,i-K),Math.max(0,A-D),St.TOP_LEFT):new He(s.left+K,s.top+D),this.topRightPaddingBox=l>0||c>0?Vt(s.left+Math.min(m,s.width-F),s.top+D,m>s.width+F?0:Math.max(0,l-F),Math.max(0,c-D),St.TOP_RIGHT):new He(s.left+s.width-F,s.top+D),this.bottomRightPaddingBox=h>0||x>0?Vt(s.left+Math.min(E,s.width-K),s.top+Math.min(w,s.height-C),Math.max(0,h-F),Math.max(0,x-C),St.BOTTOM_RIGHT):new He(s.left+s.width-F,s.top+s.height-C),this.bottomLeftPaddingBox=v>0||y>0?Vt(s.left+K,s.top+Math.min(U,s.height-C),Math.max(0,v-K),Math.max(0,y-C),St.BOTTOM_LEFT):new He(s.left+K,s.top+s.height-C),this.topLeftContentBox=i>0||A>0?Vt(s.left+K+T,s.top+D+M,Math.max(0,i-(K+T)),Math.max(0,A-(D+M)),St.TOP_LEFT):new He(s.left+K+T,s.top+D+M),this.topRightContentBox=l>0||c>0?Vt(s.left+Math.min(m,s.width+K+T),s.top+D+M,m>s.width+K+T?0:l-K+T,c-(D+M),St.TOP_RIGHT):new He(s.left+s.width-(F+Q),s.top+D+M),this.bottomRightContentBox=h>0||x>0?Vt(s.left+Math.min(E,s.width-(K+T)),s.top+Math.min(w,s.height+D+M),Math.max(0,h-(F+Q)),x-(C+j),St.BOTTOM_RIGHT):new He(s.left+s.width-(F+Q),s.top+s.height-(C+j)),this.bottomLeftContentBox=v>0||y>0?Vt(s.left+K+T,s.top+U,Math.max(0,v-(K+T)),y-(C+j),St.BOTTOM_LEFT):new He(s.left+K+T,s.top+s.height-(C+j))}return e}(),St;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(St||(St={}));var Vt=function(e,t,a,s,n){var i=4*((Math.sqrt(2)-1)/3),A=a*i,o=s*i,l=e+a,c=t+s;switch(n){case St.TOP_LEFT:return new n0(new He(e,c),new He(e,c-o),new He(l-A,t),new He(l,t));case St.TOP_RIGHT:return new n0(new He(e,t),new He(e+A,t),new He(l,c-o),new He(l,c));case St.BOTTOM_RIGHT:return new n0(new He(l,t),new He(l,t+o),new He(e+A,c),new He(e,c));case St.BOTTOM_LEFT:default:return new n0(new He(l,c),new He(l-A,c),new He(e,t+o),new He(e,t))}},yh=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},DU=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},bh=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},TU=function(){function e(t,a,s){this.offsetX=t,this.offsetY=a,this.matrix=s,this.type=0,this.target=6}return e}(),i0=function(){function e(t,a){this.path=t,this.target=a,this.type=1}return e}(),RU=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),HU=function(e){return e.type===0},TB=function(e){return e.type===1},MU=function(e){return e.type===2},bv=function(e,t){return e.length===t.length?e.some(function(a,s){return a===t[s]}):!1},OU=function(e,t,a,s,n){return e.map(function(i,A){switch(A){case 0:return i.add(t,a);case 1:return i.add(t+s,a);case 2:return i.add(t+s,a+n);case 3:return i.add(t,a+n)}return i})},RB=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),HB=function(){function e(t,a){if(this.container=t,this.parent=a,this.effects=[],this.curves=new PU(this.container),this.container.styles.opacity<1&&this.effects.push(new RU(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new TU(s,n,i))}if(this.container.styles.overflowX!==0){var A=yh(this.curves),o=bh(this.curves);bv(A,o)?this.effects.push(new i0(A,6)):(this.effects.push(new i0(A,2)),this.effects.push(new i0(o,4)))}}return e.prototype.getEffects=function(t){for(var a=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,n=this.effects.slice(0);s;){var i=s.effects.filter(function(l){return!TB(l)});if(a||s.container.styles.position!==0||!s.parent){if(n.unshift.apply(n,i),a=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var A=yh(s.curves),o=bh(s.curves);bv(A,o)||n.unshift(new i0(o,6))}}else n.unshift.apply(n,i);s=s.parent}return n.filter(function(l){return Sr(l.target,t)})},e}(),Rp=function(e,t,a,s){e.container.elements.forEach(function(n){var i=Sr(n.flags,4),A=Sr(n.flags,2),o=new HB(n,e);Sr(n.styles.display,2048)&&s.push(o);var l=Sr(n.flags,8)?[]:s;if(i||A){var c=i||n.styles.isPositioned()?a:t,u=new RB(o);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var h=n.styles.zIndex.order;if(h<0){var x=0;c.negativeZIndex.some(function(v,y){return h>v.element.container.styles.zIndex.order?(x=y,!1):x>0}),c.negativeZIndex.splice(x,0,u)}else if(h>0){var g=0;c.positiveZIndex.some(function(v,y){return h>=v.element.container.styles.zIndex.order?(g=y+1,!1):g>0}),c.positiveZIndex.splice(g,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else n.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Rp(o,u,i?u:a,l)}else n.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Rp(o,t,a,l);Sr(n.flags,8)&&MB(n,l)})},MB=function(e,t){for(var a=e instanceof Lp?e.start:1,s=e instanceof Lp?e.reversed:!1,n=0;n<t.length;n++){var i=t[n];i.container instanceof BB&&typeof i.container.value=="number"&&i.container.value!==0&&(a=i.container.value),i.listValue=fd(a,i.container.styles.listStyleType,!0),a+=s?-1:1}},_U=function(e){var t=new HB(e,null),a=new RB(t),s=[];return Rp(t,a,a,s),MB(t.container,s),a},wv=function(e,t){switch(t){case 0:return ds(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ds(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ds(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ds(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},KU=function(e,t){switch(t){case 0:return ds(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ds(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ds(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ds(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},qU=function(e,t){switch(t){case 0:return ds(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ds(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ds(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ds(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},zU=function(e,t){switch(t){case 0:return A0(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return A0(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return A0(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return A0(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},A0=function(e,t){var a=[];return os(e)?a.push(e.subdivide(.5,!1)):a.push(e),os(t)?a.push(t.subdivide(.5,!0)):a.push(t),a},ds=function(e,t,a,s){var n=[];return os(e)?n.push(e.subdivide(.5,!1)):n.push(e),os(a)?n.push(a.subdivide(.5,!0)):n.push(a),os(s)?n.push(s.subdivide(.5,!0).reverse()):n.push(s),os(t)?n.push(t.subdivide(.5,!1).reverse()):n.push(t),n},OB=function(e){var t=e.bounds,a=e.styles;return t.add(a.borderLeftWidth,a.borderTopWidth,-(a.borderRightWidth+a.borderLeftWidth),-(a.borderTopWidth+a.borderBottomWidth))},wh=function(e){var t=e.styles,a=e.bounds,s=Mt(t.paddingLeft,a.width),n=Mt(t.paddingRight,a.width),i=Mt(t.paddingTop,a.width),A=Mt(t.paddingBottom,a.width);return a.add(s+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+s+n),-(t.borderTopWidth+t.borderBottomWidth+i+A))},VU=function(e,t){return e===0?t.bounds:e===2?wh(t):OB(t)},GU=function(e,t){return e===0?t.bounds:e===2?wh(t):OB(t)},nm=function(e,t,a){var s=VU(Uo(e.styles.backgroundOrigin,t),e),n=GU(Uo(e.styles.backgroundClip,t),e),i=WU(Uo(e.styles.backgroundSize,t),a,s),A=i[0],o=i[1],l=jc(Uo(e.styles.backgroundPosition,t),s.width-A,s.height-o),c=$U(Uo(e.styles.backgroundRepeat,t),l,i,s,n),u=Math.round(s.left+l[0]),h=Math.round(s.top+l[1]);return[c,u,h,A,o]},Co=function(e){return It(e)&&e.value===il.AUTO},o0=function(e){return typeof e=="number"},WU=function(e,t,a){var s=t[0],n=t[1],i=t[2],A=e[0],o=e[1];if(!A)return[0,0];if(wr(A)&&o&&wr(o))return[Mt(A,a.width),Mt(o,a.height)];var l=o0(i);if(It(A)&&(A.value===il.CONTAIN||A.value===il.COVER)){if(o0(i)){var c=a.width/a.height;return c<i!=(A.value===il.COVER)?[a.width,a.width/i]:[a.height*i,a.height]}return[a.width,a.height]}var u=o0(s),h=o0(n),x=u||h;if(Co(A)&&(!o||Co(o))){if(u&&h)return[s,n];if(!l&&!x)return[a.width,a.height];if(x&&l){var g=u?s:n*i,v=h?n:s/i;return[g,v]}var y=u?s:a.width,N=h?n:a.height;return[y,N]}if(l){var p=0,m=0;return wr(A)?p=Mt(A,a.width):wr(o)&&(m=Mt(o,a.height)),Co(A)?p=m*i:(!o||Co(o))&&(m=p/i),[p,m]}var w=null,E=null;if(wr(A)?w=Mt(A,a.width):o&&wr(o)&&(E=Mt(o,a.height)),w!==null&&(!o||Co(o))&&(E=u&&h?w/s*n:a.height),E!==null&&Co(A)&&(w=u&&h?E/n*s:a.width),w!==null&&E!==null)return[w,E];throw new Error("Unable to calculate background-size for element")},Uo=function(e,t){var a=e[t];return typeof a>"u"?e[0]:a},$U=function(e,t,a,s,n){var i=t[0],A=t[1],o=a[0],l=a[1];switch(e){case 2:return[new He(Math.round(s.left),Math.round(s.top+A)),new He(Math.round(s.left+s.width),Math.round(s.top+A)),new He(Math.round(s.left+s.width),Math.round(l+s.top+A)),new He(Math.round(s.left),Math.round(l+s.top+A))];case 3:return[new He(Math.round(s.left+i),Math.round(s.top)),new He(Math.round(s.left+i+o),Math.round(s.top)),new He(Math.round(s.left+i+o),Math.round(s.height+s.top)),new He(Math.round(s.left+i),Math.round(s.height+s.top))];case 1:return[new He(Math.round(s.left+i),Math.round(s.top+A)),new He(Math.round(s.left+i+o),Math.round(s.top+A)),new He(Math.round(s.left+i+o),Math.round(s.top+A+l)),new He(Math.round(s.left+i),Math.round(s.top+A+l))];default:return[new He(Math.round(n.left),Math.round(n.top)),new He(Math.round(n.left+n.width),Math.round(n.top)),new He(Math.round(n.left+n.width),Math.round(n.height+n.top)),new He(Math.round(n.left),Math.round(n.height+n.top))]}},JU="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",vv="Hidden Text",XU=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,a){var s=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;s.style.visibility="hidden",s.style.fontFamily=t,s.style.fontSize=a,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",A.appendChild(s),n.src=JU,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=a,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(vv)),s.appendChild(i),s.appendChild(n);var o=n.offsetTop-i.offsetTop+2;s.removeChild(i),s.appendChild(this._document.createTextNode(vv)),s.style.lineHeight="normal",n.style.verticalAlign="super";var l=n.offsetTop-s.offsetTop+2;return A.removeChild(s),{baseline:o,middle:l}},e.prototype.getMetrics=function(t,a){var s=t+" "+a;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(t,a)),this._data[s]},e}(),_B=function(){function e(t,a){this.context=t,this.options=a}return e}(),YU=1e4,ZU=function(e){Gs(t,e);function t(a,s){var n=e.call(this,a,s)||this;return n._activeEffects=[],n.canvas=s.canvas?s.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),s.canvas||(n.canvas.width=Math.floor(s.width*s.scale),n.canvas.height=Math.floor(s.height*s.scale),n.canvas.style.width=s.width+"px",n.canvas.style.height=s.height+"px"),n.fontMetrics=new XU(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-s.x,-s.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),n}return t.prototype.applyEffects=function(a){for(var s=this;this._activeEffects.length;)this.popEffect();a.forEach(function(n){return s.applyEffect(n)})},t.prototype.applyEffect=function(a){this.ctx.save(),MU(a)&&(this.ctx.globalAlpha=a.opacity),HU(a)&&(this.ctx.translate(a.offsetX,a.offsetY),this.ctx.transform(a.matrix[0],a.matrix[1],a.matrix[2],a.matrix[3],a.matrix[4],a.matrix[5]),this.ctx.translate(-a.offsetX,-a.offsetY)),TB(a)&&(this.path(a.path),this.ctx.clip()),this._activeEffects.push(a)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(a){return ha(this,void 0,void 0,function(){var s;return ra(this,function(n){switch(n.label){case 0:return s=a.element.container.styles,s.isVisible()?[4,this.renderStackContent(a)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(a){return ha(this,void 0,void 0,function(){return ra(this,function(s){switch(s.label){case 0:if(Sr(a.container.flags,16))debugger;return a.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(a)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(a)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(a,s,n){var i=this;if(s===0)this.ctx.fillText(a.text,a.bounds.left,a.bounds.top+n);else{var A=Xx(a.text);A.reduce(function(o,l){return i.ctx.fillText(l,o,a.bounds.top+n),o+i.ctx.measureText(l).width},a.bounds.left)}},t.prototype.createFontStyle=function(a){var s=a.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),n=sL(a.fontFamily).join(", "),i=Nd(a.fontSize)?""+a.fontSize.number+a.fontSize.unit:a.fontSize.number+"px";return[[a.fontStyle,s,a.fontWeight,i,n].join(" "),n,i]},t.prototype.renderTextNode=function(a,s){return ha(this,void 0,void 0,function(){var n,i,A,o,l,c,u,h,x=this;return ra(this,function(g){return n=this.createFontStyle(s),i=n[0],A=n[1],o=n[2],this.ctx.font=i,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(A,o),c=l.baseline,u=l.middle,h=s.paintOrder,a.textBounds.forEach(function(v){h.forEach(function(y){switch(y){case 0:x.ctx.fillStyle=Lr(s.color),x.renderTextWithLetterSpacing(v,s.letterSpacing,c);var N=s.textShadow;N.length&&v.text.trim().length&&(N.slice(0).reverse().forEach(function(p){x.ctx.shadowColor=Lr(p.color),x.ctx.shadowOffsetX=p.offsetX.number*x.options.scale,x.ctx.shadowOffsetY=p.offsetY.number*x.options.scale,x.ctx.shadowBlur=p.blur.number,x.renderTextWithLetterSpacing(v,s.letterSpacing,c)}),x.ctx.shadowColor="",x.ctx.shadowOffsetX=0,x.ctx.shadowOffsetY=0,x.ctx.shadowBlur=0),s.textDecorationLine.length&&(x.ctx.fillStyle=Lr(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(p){switch(p){case 1:x.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+c),v.bounds.width,1);break;case 2:x.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:x.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+u),v.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&v.text.trim().length&&(x.ctx.strokeStyle=Lr(s.webkitTextStrokeColor),x.ctx.lineWidth=s.webkitTextStrokeWidth,x.ctx.lineJoin=window.chrome?"miter":"round",x.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+c)),x.ctx.strokeStyle="",x.ctx.lineWidth=0,x.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(a,s,n){if(n&&a.intrinsicWidth>0&&a.intrinsicHeight>0){var i=wh(a),A=bh(s);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,a.intrinsicWidth,a.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(a){return ha(this,void 0,void 0,function(){var s,n,i,A,o,l,m,m,c,u,h,x,E,g,v,U,y,N,p,m,w,E,U;return ra(this,function(D){switch(D.label){case 0:this.applyEffects(a.getEffects(4)),s=a.container,n=a.curves,i=s.styles,A=0,o=s.textNodes,D.label=1;case 1:return A<o.length?(l=o[A],[4,this.renderTextNode(l,i)]):[3,4];case 2:D.sent(),D.label=3;case 3:return A++,[3,1];case 4:if(!(s instanceof bB))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return m=D.sent(),this.renderReplacedElement(s,n,m),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof wB&&this.renderReplacedElement(s,n,s.canvas),!(s instanceof vB))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return m=D.sent(),this.renderReplacedElement(s,n,m),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof jB&&s.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,c.render(s.tree)]):[3,14];case 13:u=D.sent(),s.width&&s.height&&this.ctx.drawImage(u,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),D.label=14;case 14:if(s instanceof Yx&&(h=Math.min(s.bounds.width,s.bounds.height),s.type===fh?s.checked&&(this.ctx.save(),this.path([new He(s.bounds.left+h*.39363,s.bounds.top+h*.79),new He(s.bounds.left+h*.16,s.bounds.top+h*.5549),new He(s.bounds.left+h*.27347,s.bounds.top+h*.44071),new He(s.bounds.left+h*.39694,s.bounds.top+h*.5649),new He(s.bounds.left+h*.72983,s.bounds.top+h*.23),new He(s.bounds.left+h*.84,s.bounds.top+h*.34085),new He(s.bounds.left+h*.39363,s.bounds.top+h*.79)]),this.ctx.fillStyle=Lr(lv),this.ctx.fill(),this.ctx.restore()):s.type===mh&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+h/2,s.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Lr(lv),this.ctx.fill(),this.ctx.restore())),eL(s)&&s.value.length){switch(x=this.createFontStyle(i),E=x[0],g=x[1],v=this.fontMetrics.getMetrics(E,g).baseline,this.ctx.font=E,this.ctx.fillStyle=Lr(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=rL(s.styles.textAlign),U=wh(s),y=0,s.styles.textAlign){case 1:y+=U.width/2;break;case 2:y+=U.width;break}N=U.add(y,0,0,-U.height/2+1),this.ctx.save(),this.path([new He(U.left,U.top),new He(U.left+U.width,U.top),new He(U.left+U.width,U.top+U.height),new He(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new qc(s.value,N),i.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Sr(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(p=s.styles.listStyleImage,p.type!==0)return[3,18];m=void 0,w=p.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return m=D.sent(),this.ctx.drawImage(m,s.bounds.left-(m.width+10),s.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:a.listValue&&s.styles.listStyleType!==-1&&(E=this.createFontStyle(i)[0],this.ctx.font=E,this.ctx.fillStyle=Lr(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",U=new Gn(s.bounds.left,s.bounds.top+Mt(s.styles.paddingTop,s.bounds.width),s.bounds.width,Vw(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new qc(a.listValue,U),i.letterSpacing,Vw(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(a){return ha(this,void 0,void 0,function(){var s,n,p,i,A,p,o,l,p,c,u,p,h,x,p,g,v,p,y,N,p;return ra(this,function(m){switch(m.label){case 0:if(Sr(a.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(a.element)];case 1:m.sent(),s=0,n=a.negativeZIndex,m.label=2;case 2:return s<n.length?(p=n[s],[4,this.renderStack(p)]):[3,5];case 3:m.sent(),m.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(a.element)];case 6:m.sent(),i=0,A=a.nonInlineLevel,m.label=7;case 7:return i<A.length?(p=A[i],[4,this.renderNode(p)]):[3,10];case 8:m.sent(),m.label=9;case 9:return i++,[3,7];case 10:o=0,l=a.nonPositionedFloats,m.label=11;case 11:return o<l.length?(p=l[o],[4,this.renderStack(p)]):[3,14];case 12:m.sent(),m.label=13;case 13:return o++,[3,11];case 14:c=0,u=a.nonPositionedInlineLevel,m.label=15;case 15:return c<u.length?(p=u[c],[4,this.renderStack(p)]):[3,18];case 16:m.sent(),m.label=17;case 17:return c++,[3,15];case 18:h=0,x=a.inlineLevel,m.label=19;case 19:return h<x.length?(p=x[h],[4,this.renderNode(p)]):[3,22];case 20:m.sent(),m.label=21;case 21:return h++,[3,19];case 22:g=0,v=a.zeroOrAutoZIndexOrTransformedOrOpacity,m.label=23;case 23:return g<v.length?(p=v[g],[4,this.renderStack(p)]):[3,26];case 24:m.sent(),m.label=25;case 25:return g++,[3,23];case 26:y=0,N=a.positiveZIndex,m.label=27;case 27:return y<N.length?(p=N[y],[4,this.renderStack(p)]):[3,30];case 28:m.sent(),m.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(a){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(a.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(a){this.ctx.beginPath(),this.formatPath(a),this.ctx.closePath()},t.prototype.formatPath=function(a){var s=this;a.forEach(function(n,i){var A=os(n)?n.start:n;i===0?s.ctx.moveTo(A.x,A.y):s.ctx.lineTo(A.x,A.y),os(n)&&s.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},t.prototype.renderRepeat=function(a,s,n,i){this.path(a),this.ctx.fillStyle=s,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},t.prototype.resizeImage=function(a,s,n){var i;if(a.width===s&&a.height===n)return a;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=A.createElement("canvas");o.width=Math.max(1,s),o.height=Math.max(1,n);var l=o.getContext("2d");return l.drawImage(a,0,0,a.width,a.height,0,0,s,n),o},t.prototype.renderBackgroundImage=function(a){return ha(this,void 0,void 0,function(){var s,n,i,A,o,l;return ra(this,function(c){switch(c.label){case 0:s=a.styles.backgroundImage.length-1,n=function(u){var h,x,g,M,S,X,T,z,C,v,M,S,X,T,z,y,N,p,m,w,E,U,D,F,C,K,M,Q,j,T,z,H,S,X,q,te,ie,pe,R,$,Y,re;return ra(this,function(ee){switch(ee.label){case 0:if(u.type!==0)return[3,5];h=void 0,x=u.url,ee.label=1;case 1:return ee.trys.push([1,3,,4]),[4,i.context.cache.match(x)];case 2:return h=ee.sent(),[3,4];case 3:return ee.sent(),i.context.logger.error("Error loading background-image "+x),[3,4];case 4:return h&&(g=nm(a,s,[h.width,h.height,h.width/h.height]),M=g[0],S=g[1],X=g[2],T=g[3],z=g[4],C=i.ctx.createPattern(i.resizeImage(h,T,z),"repeat"),i.renderRepeat(M,C,S,X)),[3,6];case 5:HF(u)?(v=nm(a,s,[null,null,null]),M=v[0],S=v[1],X=v[2],T=v[3],z=v[4],y=IF(u.angle,T,z),N=y[0],p=y[1],m=y[2],w=y[3],E=y[4],U=document.createElement("canvas"),U.width=T,U.height=z,D=U.getContext("2d"),F=D.createLinearGradient(p,w,m,E),qw(u.stops,N).forEach(function(se){return F.addColorStop(se.stop,Lr(se.color))}),D.fillStyle=F,D.fillRect(0,0,T,z),T>0&&z>0&&(C=i.ctx.createPattern(U,"repeat"),i.renderRepeat(M,C,S,X))):MF(u)&&(K=nm(a,s,[null,null,null]),M=K[0],Q=K[1],j=K[2],T=K[3],z=K[4],H=u.position.length===0?[Wx]:u.position,S=Mt(H[0],T),X=Mt(H[H.length-1],z),q=PF(u,S,X,T,z),te=q[0],ie=q[1],te>0&&ie>0&&(pe=i.ctx.createRadialGradient(Q+S,j+X,0,Q+S,j+X,te),qw(u.stops,te*2).forEach(function(se){return pe.addColorStop(se.stop,Lr(se.color))}),i.path(M),i.ctx.fillStyle=pe,te!==ie?(R=a.bounds.left+.5*a.bounds.width,$=a.bounds.top+.5*a.bounds.height,Y=ie/te,re=1/Y,i.ctx.save(),i.ctx.translate(R,$),i.ctx.transform(1,0,0,Y,0,0),i.ctx.translate(-R,-$),i.ctx.fillRect(Q,re*(j-$)+$,T,z*re),i.ctx.restore()):i.ctx.fill())),ee.label=6;case 6:return s--,[2]}})},i=this,A=0,o=a.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return A<o.length?(l=o[A],[5,n(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(a,s,n){return ha(this,void 0,void 0,function(){return ra(this,function(i){return this.path(wv(n,s)),this.ctx.fillStyle=Lr(a),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(a,s,n,i){return ha(this,void 0,void 0,function(){var A,o;return ra(this,function(l){switch(l.label){case 0:return s<3?[4,this.renderSolidBorder(a,n,i)]:[3,2];case 1:return l.sent(),[2];case 2:return A=KU(i,n),this.path(A),this.ctx.fillStyle=Lr(a),this.ctx.fill(),o=qU(i,n),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(a){return ha(this,void 0,void 0,function(){var s,n,i,A,o,l,c,u,h=this;return ra(this,function(x){switch(x.label){case 0:return this.applyEffects(a.getEffects(2)),s=a.container.styles,n=!Mi(s.backgroundColor)||s.backgroundImage.length,i=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],A=tL(Uo(s.backgroundClip,0),a.curves),n||s.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Mi(s.backgroundColor)||(this.ctx.fillStyle=Lr(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(a.container)]):[3,2];case 1:x.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var v=yh(a.curves),y=g.inset?0:YU,N=OU(v,-y+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(v),h.ctx.clip(),h.mask(N)):(h.mask(v),h.ctx.clip(),h.path(N)),h.ctx.shadowOffsetX=g.offsetX.number+y,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=Lr(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?Lr(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),x.label=2;case 2:o=0,l=0,c=i,x.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!Mi(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,a.curves,2)]:[3,11]):[3,13];case 4:return x.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,a.curves,3)];case 6:return x.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,a.curves)];case 8:return x.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,a.curves)];case 10:x.sent(),x.label=11;case 11:o++,x.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(a,s,n,i,A){return ha(this,void 0,void 0,function(){var o,l,c,u,h,x,g,v,y,N,p,m,w,E,U,D,U,D;return ra(this,function(F){return this.ctx.save(),o=zU(i,n),l=wv(i,n),A===2&&(this.path(l),this.ctx.clip()),os(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),os(l[1])?(h=l[1].end.x,x=l[1].end.y):(h=l[1].x,x=l[1].y),n===0||n===2?g=Math.abs(c-h):g=Math.abs(u-x),this.ctx.beginPath(),A===3?this.formatPath(o):this.formatPath(l.slice(0,2)),v=s<3?s*3:s*2,y=s<3?s*2:s,A===3&&(v=s,y=s),N=!0,g<=v*2?N=!1:g<=v*2+y?(p=g/(2*v+y),v*=p,y*=p):(m=Math.floor((g+y)/(v+y)),w=(g-m*v)/(m-1),E=(g-(m+1)*v)/m,y=E<=0||Math.abs(y-w)<Math.abs(y-E)?w:E),N&&(A===3?this.ctx.setLineDash([0,v+y]):this.ctx.setLineDash([v,y])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=Lr(a),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(os(l[0])&&(U=l[3],D=l[0],this.ctx.beginPath(),this.formatPath([new He(U.end.x,U.end.y),new He(D.start.x,D.start.y)]),this.ctx.stroke()),os(l[1])&&(U=l[1],D=l[2],this.ctx.beginPath(),this.formatPath([new He(U.end.x,U.end.y),new He(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(a){return ha(this,void 0,void 0,function(){var s;return ra(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Lr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=_U(a),[4,this.renderStack(s)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(_B),eL=function(e){return e instanceof kB||e instanceof NB?!0:e instanceof Yx&&e.type!==mh&&e.type!==fh},tL=function(e,t){switch(e){case 0:return yh(t);case 2:return DU(t);case 1:default:return bh(t)}},rL=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},aL=["-apple-system","system-ui"],sL=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return aL.indexOf(t)===-1}):e},nL=function(e){Gs(t,e);function t(a,s){var n=e.call(this,a,s)||this;return n.canvas=s.canvas?s.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=s,n.canvas.width=Math.floor(s.width*s.scale),n.canvas.height=Math.floor(s.height*s.scale),n.canvas.style.width=s.width+"px",n.canvas.style.height=s.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-s.x,-s.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),n}return t.prototype.render=function(a){return ha(this,void 0,void 0,function(){var s,n;return ra(this,function(i){switch(i.label){case 0:return s=Up(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,a),[4,iL(s)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Lr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(_B),iL=function(e){return new Promise(function(t,a){var s=new Image;s.onload=function(){t(s)},s.onerror=a,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},AL=function(){function e(t){var a=t.id,s=t.enabled;this.id=a,this.enabled=s,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Mu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Mu([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Mu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Mu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),oL=function(){function e(t,a){var s;this.windowBounds=a,this.instanceName="#"+e.instanceCount++,this.logger=new AL({id:this.instanceName,enabled:t.logging}),this.cache=(s=t.cache)!==null&&s!==void 0?s:new SU(this,t)}return e.instanceCount=1,e}(),lL=function(e,t){return t===void 0&&(t={}),cL(e,t)};typeof window<"u"&&DB.setContext(window);var cL=function(e,t){return ha(void 0,void 0,void 0,function(){var a,s,n,i,A,o,l,c,u,h,x,g,v,y,N,p,m,w,E,U,F,D,F,C,K,M,Q,j,T,z,H,S,X,q,te,ie,pe,R,$,Y;return ra(this,function(re){switch(re.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(a=e.ownerDocument,!a)throw new Error("Element is not attached to a Document");if(s=a.defaultView,!s)throw new Error("Document is not attached to a Window");return n={allowTaint:(C=t.allowTaint)!==null&&C!==void 0?C:!1,imageTimeout:(K=t.imageTimeout)!==null&&K!==void 0?K:15e3,proxy:t.proxy,useCORS:(M=t.useCORS)!==null&&M!==void 0?M:!1},i=pp({logging:(Q=t.logging)!==null&&Q!==void 0?Q:!0,cache:t.cache},n),A={windowWidth:(j=t.windowWidth)!==null&&j!==void 0?j:s.innerWidth,windowHeight:(T=t.windowHeight)!==null&&T!==void 0?T:s.innerHeight,scrollX:(z=t.scrollX)!==null&&z!==void 0?z:s.pageXOffset,scrollY:(H=t.scrollY)!==null&&H!==void 0?H:s.pageYOffset},o=new Gn(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),l=new oL(i,o),c=(S=t.foreignObjectRendering)!==null&&S!==void 0?S:!1,u={allowTaint:(X=t.allowTaint)!==null&&X!==void 0?X:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new xv(l,e,u),x=h.clonedReferenceElement,x?[4,h.toIFrame(a,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=re.sent(),v=Zx(x)||dU(x)?O6(x.ownerDocument):Wh(l,x),y=v.width,N=v.height,p=v.left,m=v.top,w=dL(l,x,t.backgroundColor),E={canvas:t.canvas,backgroundColor:w,scale:(te=(q=t.scale)!==null&&q!==void 0?q:s.devicePixelRatio)!==null&&te!==void 0?te:1,x:((ie=t.x)!==null&&ie!==void 0?ie:0)+p,y:((pe=t.y)!==null&&pe!==void 0?pe:0)+m,width:(R=t.width)!==null&&R!==void 0?R:Math.ceil(y),height:($=t.height)!==null&&$!==void 0?$:Math.ceil(N)},c?(l.logger.debug("Document cloned, using foreign object rendering"),F=new nL(l,E),[4,F.render(x)]):[3,3];case 2:return U=re.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+p+","+m+" with size "+y+"x"+N+" using computed rendering"),l.logger.debug("Starting DOM parsing"),D=SB(l,x),w===D.styles.backgroundColor&&(D.styles.backgroundColor=On.TRANSPARENT),l.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),F=new ZU(l,E),[4,F.render(D)];case 4:U=re.sent(),re.label=5;case 5:return(!((Y=t.removeContainer)!==null&&Y!==void 0)||Y)&&(xv.destroy(g)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,U]}})})},dL=function(e,t,a){var s=t.ownerDocument,n=s.documentElement?_c(e,getComputedStyle(s.documentElement).backgroundColor):On.TRANSPARENT,i=s.body?_c(e,getComputedStyle(s.body).backgroundColor):On.TRANSPARENT,A=typeof a=="string"?_c(e,a):a===null?On.TRANSPARENT:4294967295;return t===s.documentElement?Mi(n)?Mi(i)?A:i:n:A};const uL=Object.freeze(Object.defineProperty({__proto__:null,default:lL},Symbol.toStringTag,{value:"Module"})),KB=async(e,t="en")=>{var a;try{if(!(e!=null&&e.patient))throw new Error("Invalid request data");const s={en:{labName:"SIL Laboratory",labAddress:"123 Health Street, Casablanca, Morocco",labPhone:"Phone: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"COMPLETE BLOOD COUNT (CBC)",patientInfo:"PATIENT INFORMATION",doctorInfo:"PRESCRIBING DOCTOR",requestInfo:"REQUEST DETAILS",analysisName:"Test",result:"Result",unit:"Unit",reference:"Ref. Range",status:"Status",notes:"Notes",normal:"Normal",abnormal:"Abnormal",pending:"Pending",validated:"Validated",reportDate:"Report Date",interpretation:"Interpretation",validatedBy:"Validated by",signature:"Signature",disclaimer:"This report is generated automatically by SIL Laboratory System and is intended for medical professionals.",noResults:"No results available"},fr:{labName:"Laboratoire SIL",labAddress:"123 Rue de la Sant, Casablanca, Maroc",labPhone:"Tl: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"NUMRATION FORMULE SANGUINE (NFS)",patientInfo:"INFORMATIONS PATIENT",doctorInfo:"MDECIN PRESCRIPTEUR",requestInfo:"DTAILS DEMANDE",analysisName:"Analyse",result:"Rsultat",unit:"Unit",reference:"Valeurs de rf.",status:"Statut",notes:"Notes",normal:"Normal",abnormal:"Anormal",pending:"En attente",validated:"Valid",reportDate:"Date du rapport",interpretation:"Interprtation",validatedBy:"Valid par",signature:"Signature",disclaimer:"Ce rapport est gnr automatiquement par le systme SIL et destin aux professionnels de sant.",noResults:"Aucun rsultat disponible"}}[t],n=x=>new Date(x).toLocaleDateString(t==="fr"?"fr-FR":"en-US"),i=x=>{switch(x){case"VALIDATED":return s.validated;case"PENDING":return s.pending;default:return x}},A=new Ze("p","mm","a4"),o=A.internal.pageSize.getWidth(),l=14;let c=l;A.setFont("helvetica","bold"),A.setFontSize(20),A.text(s.labName,o/2,c,{align:"center"}),c+=7,A.setFontSize(10),A.setFont("helvetica","normal"),A.text(s.labAddress,o/2,c,{align:"center"}),c+=5,A.text(s.labPhone,o/2,c,{align:"center"}),c+=5,A.text(s.labEmail,o/2,c,{align:"center"}),c+=8,A.setDrawColor(0),A.setLineWidth(.5),A.line(l,c,o-l,c),c+=6,A.setFont("helvetica","bold"),A.setFontSize(14),A.text(s.reportTitle,o/2,c,{align:"center"}),c+=8,A.line(l,c,o-l,c),c+=6,A.setFont("helvetica","bold"),A.text(s.patientInfo,l,c),c+=5,A.setFont("helvetica","normal"),A.setFontSize(10),A.text(`${e.patient.firstName} ${e.patient.lastName}`,l,c),A.text(`${s.reportDate}: ${n(new Date().toISOString())}`,o-l,c,{align:"right"}),c+=5,A.text(`${s.analysisName}: CBC`,l,c),A.text(`${s.patientInfo}: ${e.patient.gender}`,o-l,c,{align:"right"}),c+=8;const u=(a=e.results)==null?void 0:a.reduce((x,g)=>{const v=g.analysis.category||"Other";return x[v]||(x[v]=[]),x[v].push(g),x},{});u?Object.entries(u).forEach(([x,g])=>{A.setFont("helvetica","bold"),A.setFillColor(240,240,240),A.rect(l,c-4,o-l*2,6,"F"),A.text(x,l+2,c),c+=6,A.setFontSize(9),A.setFont("helvetica","bold"),[{text:s.analysisName,x:l},{text:s.result,x:l+70},{text:s.unit,x:l+100},{text:s.reference,x:l+120},{text:s.status,x:l+160}].forEach(y=>A.text(y.text,y.x,c)),c+=4,A.setFont("helvetica","normal"),g.forEach(y=>{c>270&&(A.addPage(),c=l),y.status.toUpperCase()==="ABNORMAL"?A.setTextColor(200,0,0):A.setTextColor(0,0,0),A.text(y.analysis.name,l,c),A.text(y.value||"-",l+70,c),A.text(y.unit||"-",l+100,c),A.text(y.reference||"-",l+120,c),A.text(i(y.status),l+160,c),c+=4}),A.setTextColor(0,0,0),c+=3}):(A.setFontSize(10),A.text(s.noResults,l,c),c+=5),c+=5,A.setFont("helvetica","bold"),A.text(s.interpretation,l,c),c+=5,A.setFont("helvetica","normal"),A.setFontSize(9),A.text("All parameters within normal limits unless indicated in red. Please consult a physician for further interpretation.",l,c,{maxWidth:o-l*2}),c+=10,A.setFontSize(8),A.setFont("helvetica","italic"),A.text(s.disclaimer,o/2,285,{align:"center"});const h=`CBC_Report_${e.patient.firstName}_${e.patient.lastName}.pdf`;return A.save(h),h}catch(s){throw console.error(s),s}};function hL({request:e,onClose:t}){var h;const{language:a}=At(),[s,n]=L.useState(!1),i={fr:{labName:"Laboratoire SIL",labAddress:"123 Rue de la Sant, Casablanca, Maroc",labPhone:"Tl: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"RAPPORT D'ANALYSES MDICALES",patientInfo:"INFORMATIONS PATIENT",doctorInfo:"MDECIN PRESCRIPTEUR",requestInfo:"INFORMATIONS DEMANDE",analysisResults:"RSULTATS D'ANALYSES",patientName:"Nom du patient",patientId:"ID Patient",dateOfBirth:"Date de naissance",gender:"Sexe",cnssNumber:"Numro CNSS",doctorName:"Nom du mdecin",specialty:"Spcialit",requestId:"ID Demande",requestDate:"Date de demande",analysisName:"Analyse",result:"Rsultat",unit:"Unit",reference:"Valeurs de rfrence",status:"Statut",notes:"Notes",normal:"Normal",abnormal:"Anormal",pending:"En attente",validated:"Valid",completed:"Termin",reportDate:"Date du rapport",validatedBy:"Valid par",signature:"Signature",disclaimer:"Ce rapport est gnr automatiquement par le systme SIL. Pour toute question, veuillez contacter le laboratoire.",print:"Imprimer",close:"Fermer"},en:{labName:"SIL Laboratory",labAddress:"123 Health Street, Casablanca, Morocco",labPhone:"Phone: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"MEDICAL ANALYSIS REPORT",patientInfo:"PATIENT INFORMATION",doctorInfo:"PRESCRIBING DOCTOR",requestInfo:"REQUEST INFORMATION",analysisResults:"ANALYSIS RESULTS",patientName:"Patient Name",patientId:"Patient ID",dateOfBirth:"Date of Birth",gender:"Gender",cnssNumber:"CNSS Number",doctorName:"Doctor Name",specialty:"Specialty",requestId:"Request ID",requestDate:"Request Date",analysisName:"Analysis",result:"Result",unit:"Unit",reference:"Reference Values",status:"Status",notes:"Notes",normal:"Normal",abnormal:"Abnormal",pending:"Pending",validated:"Validated",completed:"Completed",reportDate:"Report Date",validatedBy:"Validated by",signature:"Signature",disclaimer:"This report is automatically generated by the SIL system. For any questions, please contact the laboratory.",print:"Print",close:"Close"}}[a],A=x=>{switch(x){case"VALIDATED":return i.validated;case"COMPLETED":return i.completed;case"PENDING":return i.pending;default:return x}},o=x=>{switch(x){case"VALIDATED":return"text-green-600";case"COMPLETED":return"text-blue-600";case"PENDING":return"text-yellow-600";default:return"text-gray-600"}},l=x=>new Date(x).toLocaleDateString(a==="fr"?"fr-FR":"en-US"),c=()=>{window.print()},u=async()=>{try{n(!0),await KB(e,a)}catch(x){console.error("Error generating PDF:",x),alert(a==="fr"?"Erreur lors de la gnration du PDF":"Error generating PDF")}finally{n(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 print-container",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto print-container",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center no-print",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i.reportTitle}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:u,disabled:s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:a==="fr"?"Gnration...":"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("span",{children:a==="fr"?"Gnrer PDF":"Generate PDF"})]})}),r.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:i.print}),r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:i.close})]})]}),r.jsxs("div",{id:"result-report-content",className:"p-6 print:p-0",children:[r.jsxs("div",{className:"text-center mb-8 print:mb-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.labName}),r.jsx("p",{className:"text-gray-600",children:i.labAddress}),r.jsx("p",{className:"text-gray-600",children:i.labPhone}),r.jsx("p",{className:"text-gray-600",children:i.labEmail})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 print:mb-4",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:i.patientInfo}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[i.patientName,":"]}),r.jsxs("span",{className:"ml-2",children:[e.patient.firstName," ",e.patient.lastName]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[i.patientId,":"]}),r.jsx("span",{className:"ml-2",children:e.patient.id})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[i.dateOfBirth,":"]}),r.jsx("span",{className:"ml-2",children:l(e.patient.dateOfBirth)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[i.gender,":"]}),r.jsx("span",{className:"ml-2",children:e.patient.gender})]}),e.patient.cnssNumber&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[i.cnssNumber,":"]}),r.jsx("span",{className:"ml-2",children:e.patient.cnssNumber})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:i.doctorInfo}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[i.doctorName,":"]}),r.jsx("span",{className:"ml-2",children:e.doctor?`Dr. ${e.doctor.firstName} ${e.doctor.lastName}`:"N/A"})]}),((h=e.doctor)==null?void 0:h.specialty)&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[i.specialty,":"]}),r.jsx("span",{className:"ml-2",children:e.doctor.specialty})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-8 print:mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:i.requestInfo}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[i.requestId,":"]}),r.jsx("span",{className:"ml-2 font-mono",children:e.id})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[i.requestDate,":"]}),r.jsx("span",{className:"ml-2",children:l(e.createdAt)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[i.reportDate,":"]}),r.jsx("span",{className:"ml-2",children:l(new Date().toISOString())})]})]})]}),r.jsxs("div",{className:"mb-8 print:mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:i.analysisResults}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full border border-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:i.analysisName}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:i.result}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:i.unit}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:i.reference}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:i.status}),r.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:i.notes})]})}),r.jsx("tbody",{children:e.results&&e.results.length>0?e.results.map(x=>r.jsxs("tr",{children:[r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:x.analysis.name}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm font-medium",children:x.value||"-"}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:x.unit||"-"}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:x.reference||"-"}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:r.jsx("span",{className:o(x.status),children:A(x.status)})}),r.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:x.notes||"-"})]},x.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"border border-gray-200 px-4 py-4 text-center text-gray-500",children:a==="fr"?"Aucun rsultat disponible":"No results available"})})})]})})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6 print:pt-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[i.validatedBy,":"]}),r.jsx("div",{className:"border-t-2 border-gray-400 w-32 pt-2",children:r.jsx("p",{className:"text-sm font-medium",children:"Dr. Biologist"})})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[i.signature,":"]}),r.jsx("div",{className:"border-t-2 border-gray-400 w-32 ml-auto pt-2",children:r.jsx("p",{className:"text-sm font-medium",children:"Lab Director"})})]})]}),r.jsx("div",{className:"mt-6 print:mt-4 text-center",children:r.jsx("p",{className:"text-xs text-gray-500",children:i.disclaimer})})]})]})]})})}function gL(){const{language:e}=At(),[t,a]=L.useState([]),[s,n]=L.useState([]),[i,A]=L.useState(null),[o,l]=L.useState(!1),[c,u]=L.useState(null),[h,x]=L.useState(!1),[g,v]=L.useState(null),[y,N]=L.useState(!1),[p,m]=L.useState({patientName:"",patientId:"",cnssNumber:"",requestId:"",status:"",analysisCode:""}),w={fr:{title:"Livraison des Rsultats",subtitle:"Panel de rception pour la rcupration des rsultats",searchPlaceholder:"Nom, ID, CNSS ou rfrence",search:"Rechercher",patient:"Patient",request:"Demande",doctor:"Mdecin",date:"Date d'analyse",status:"Statut",actions:"Actions",notFound:"Aucun rsultat trouv",error:"Erreur lors de la rcupration",noResults:"Aucun rsultat trouv",generateReport:"Gnrer Rapport",print:"Imprimer",download:"Tlcharger",view:"Voir",markDelivered:"Marquer comme Livr",delivered:"Livr",inProgress:"En cours",completed:"Termin",validated:"Valid",pending:"En attente",rejected:"Rejet",allStatuses:"Tous les statuts",clearFilters:"Effacer les filtres",refresh:"Actualiser",patientName:"Nom du patient",patientId:"ID Patient",cnssNumber:"Numro CNSS",requestId:"ID Demande",analysisCode:"Code Analyse",test:"Test",value:"Valeur",reference:"Rfrence",printTest:"Imprimer Test",printIndividualTest:"Imprimer Test Individuel",notReady:"Pas encore prt pour l'impression",loading:"Chargement...",requestsFound:"demandes trouves",resultsFound:"rsultats trouvs"},en:{title:"Result Delivery",subtitle:"Reception panel for result retrieval",searchPlaceholder:"Name, ID, CNSS or reference",search:"Search",patient:"Patient",request:"Request",doctor:"Doctor",date:"Analysis Date",status:"Status",actions:"Actions",notFound:"No results found",error:"Error fetching data",noResults:"No results found",generateReport:"Generate Report",print:"Print",download:"Download",view:"View",markDelivered:"Mark as Delivered",delivered:"Delivered",inProgress:"In Progress",completed:"Completed",validated:"Validated",pending:"Pending",rejected:"Rejected",allStatuses:"All Statuses",clearFilters:"Clear Filters",refresh:"Refresh",patientName:"Patient Name",patientId:"Patient ID",cnssNumber:"CNSS Number",requestId:"Request ID",analysisCode:"Analysis Code",test:"Test",value:"Value",reference:"Reference",printTest:"Print Test",printIndividualTest:"Print Individual Test",notReady:"Not ready for printing",loading:"Loading...",requestsFound:"requests found",resultsFound:"results found"}}[e];L.useEffect(()=>{E()},[]),L.useEffect(()=>{U()},[t,p]);const E=async()=>{x(!0),v(null);try{const j=await Hc.getResults({limit:100,include:"request,analysis"});a(j.results||[])}catch(j){console.error("Error loading results:",j),v(w.error)}finally{x(!1)}},U=()=>{let j=t;p.patientName&&(j=j.filter(T=>T.request.patient.firstName.toLowerCase().includes(p.patientName.toLowerCase())||T.request.patient.lastName.toLowerCase().includes(p.patientName.toLowerCase()))),p.patientId&&(j=j.filter(T=>T.request.id.toLowerCase().includes(p.patientId.toLowerCase()))),p.cnssNumber&&(j=j.filter(T=>{var z;return(z=T.request.patient.cnssNumber)==null?void 0:z.toLowerCase().includes(p.cnssNumber.toLowerCase())})),p.requestId&&(j=j.filter(T=>T.request.id.toLowerCase().includes(p.requestId.toLowerCase()))),p.analysisCode&&(j=j.filter(T=>T.analysis.code.toLowerCase().includes(p.analysisCode.toLowerCase())||T.analysis.name.toLowerCase().includes(p.analysisCode.toLowerCase()))),p.status&&p.status!=="all"&&(j=j.filter(T=>T.status===p.status)),n(j)},D=(j,T)=>{m(z=>({...z,[j]:T}))},F=()=>{m({patientName:"",patientId:"",cnssNumber:"",requestId:"",status:"",analysisCode:""})},C=j=>{switch(j){case"VALIDATED":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"COMPLETED":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";case"REJECTED":return"text-red-600 bg-red-100 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},K=j=>{switch(j){case"VALIDATED":return w.validated;case"COMPLETED":return w.completed;case"PENDING":return w.pending;case"REJECTED":return w.rejected;default:return j}},M=async j=>{try{N(!0);const T=await RA.getRequest(j.request.id),z=await Hc.getResultsByRequest(j.request.id),H={...T,results:z||[]};console.log("Complete request for PDF:",H),await KB(H,e)}catch(T){console.error("Error generating PDF:",T),alert(e==="fr"?"Erreur lors de la gnration du PDF":"Error generating PDF")}finally{N(!1)}},Q=async j=>{try{const T=window.open("","_blank");T&&(T.document.write(`
          <html>
            <head>
              <title>${j.analysis.name} - ${j.request.patient.firstName} ${j.request.patient.lastName}</title>
              <style>
                body { font-family: Arial, sans-serif; margin: 20px; }
                .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
                .info { margin-bottom: 20px; }
                .result { border: 2px solid #2563eb; padding: 20px; margin: 20px 0; border-radius: 8px; }
                .value { font-size: 24px; font-weight: bold; color: #2563eb; }
                .reference { color: #666; font-size: 16px; }
                .status { color: #059669; font-weight: bold; }
                @media print { body { margin: 0; } }
              </style>
            </head>
            <body>
              <div class="header">
                <h1>Rsultat d'Analyse Mdicale</h1>
                <h2>${j.analysis.name} (${j.analysis.code})</h2>
              </div>
              <div class="info">
                <p><strong>Patient:</strong> ${j.request.patient.firstName} ${j.request.patient.lastName}</p>
                <p><strong>Date de naissance:</strong> ${new Date(j.request.patient.dateOfBirth).toLocaleDateString()}</p>
                <p><strong>Sexe:</strong> ${j.request.patient.gender}</p>
                <p><strong>Date d'analyse:</strong> ${new Date(j.request.createdAt).toLocaleDateString()}</p>
                <p><strong>Numro de demande:</strong> ${j.request.id}</p>
                ${j.request.patient.cnssNumber?`<p><strong>CNSS:</strong> ${j.request.patient.cnssNumber}</p>`:""}
              </div>
              <div class="result">
                <p><strong>Rsultat:</strong> <span class="value">${j.value||"N/A"} ${j.unit||""}</span></p>
                <p><strong>Valeurs de rfrence:</strong> <span class="reference">${j.reference||"N/A"}</span></p>
                <p><strong>Statut:</strong> <span class="status">${K(j.status)}</span></p>
                ${j.notes?`<p><strong>Notes:</strong> ${j.notes}</p>`:""}
              </div>
              <div style="margin-top: 40px; text-align: center;">
                <p><em>Ce rapport a t gnr automatiquement par le systme SIL Lab</em></p>
              </div>
            </body>
          </html>
        `),T.document.close(),T.print())}catch(T){console.error("Error printing individual test:",T),alert(e==="fr"?"Erreur lors de l'impression du test":"Error printing test")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:w.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:w.subtitle})]}),r.jsxs("button",{onClick:E,disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[r.jsx(Hs,{className:`h-4 w-4 ${h?"animate-spin":""}`}),r.jsx("span",{children:w.refresh})]})]}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:e==="fr"?"Comment imprimer les rsultats":"How to print results"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:e==="fr"?`1. Trouvez un rsultat avec statut "Valid" 2. Cliquez sur l'icne imprimante pour imprimer le test individuel 3. Ou cliquez sur "Voir" puis "Gnrer PDF" pour le rapport complet`:'1. Find a result with "Validated" status 2. Click the printer icon to print individual test 3. Or click "View" then "Generate PDF" for complete report'})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",value:p.patientName,onChange:j=>D("patientName",j.target.value),placeholder:w.patientName,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r.jsx("div",{children:r.jsx("input",{type:"text",value:p.patientId,onChange:j=>D("patientId",j.target.value),placeholder:w.patientId,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),r.jsx("div",{children:r.jsx("input",{type:"text",value:p.cnssNumber,onChange:j=>D("cnssNumber",j.target.value),placeholder:w.cnssNumber,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),r.jsx("div",{children:r.jsx("input",{type:"text",value:p.requestId,onChange:j=>D("requestId",j.target.value),placeholder:w.requestId,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),r.jsx("div",{children:r.jsx("input",{type:"text",value:p.analysisCode,onChange:j=>D("analysisCode",j.target.value),placeholder:w.analysisCode,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),r.jsx("div",{children:r.jsxs("select",{value:p.status,onChange:j=>D("status",j.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:w.allStatuses}),r.jsx("option",{value:"PENDING",children:w.pending}),r.jsx("option",{value:"COMPLETED",children:w.completed}),r.jsx("option",{value:"VALIDATED",children:w.validated}),r.jsx("option",{value:"REJECTED",children:w.rejected})]})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{onClick:F,className:"px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-2",children:[r.jsx(Bl,{size:16}),r.jsx("span",{children:w.clearFilters})]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.length," ",w.resultsFound]})]})]}),g&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hn,{className:"text-red-600",size:20}),r.jsx("span",{className:"text-red-800 dark:text-red-200",children:g})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.patient}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.test}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.value}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.reference}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.date}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:w.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:h?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:w.loading})]})})}):s.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:w.notFound})}):s.map(j=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:r.jsx(ma,{className:"h-5 w-5 text-blue-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[j.request.patient.firstName," ",j.request.patient.lastName]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:j.request.patient.cnssNumber||"N/A"})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:j.analysis.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[j.analysis.code," - ",j.analysis.category]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[j.value||"-"," ",j.unit]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:j.reference||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(j.request.createdAt).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C(j.status)}`,children:K(j.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>A(j),className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:w.view,children:r.jsx(ms,{size:16})}),j.status==="VALIDATED"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>Q(j),className:"text-purple-600 hover:text-purple-900 dark:hover:text-purple-400",title:w.printIndividualTest,children:r.jsx(CA,{size:16})}),r.jsx("button",{onClick:()=>M(j),disabled:y,className:"text-green-600 hover:text-green-900 dark:hover:text-green-400 disabled:opacity-50 disabled:cursor-not-allowed",title:e==="fr"?"Gnrer PDF":"Generate PDF",children:y?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})]})})]},j.id))})]})})}),i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[i.analysis.name," - ",i.request.patient.firstName," ",i.request.patient.lastName]}),r.jsx("button",{onClick:()=>A(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Hn,{size:20})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:w.patient}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.request.patient.firstName," ",i.request.patient.lastName]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["CNSS: ",i.request.patient.cnssNumber||"N/A"]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:w.status}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C(i.status)}`,children:K(i.status)})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:w.test}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.analysis.name," (",i.analysis.code,")"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.analysis.category})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:w.value}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.value||"-"," ",i.unit]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Rfrence: ",i.reference||"-"]})]})]}),r.jsx("div",{className:"flex justify-end space-x-3",children:i.status==="VALIDATED"?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>Q(i),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center space-x-2",children:[r.jsx(CA,{size:16}),r.jsx("span",{children:w.printIndividualTest})]}),r.jsx("button",{onClick:()=>M(i),disabled:y,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:e==="fr"?"Gnration...":"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("span",{children:e==="fr"?"Gnrer PDF":"Generate PDF"})]})})]}):r.jsxs("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 flex items-center space-x-2",children:[r.jsx(Ka,{size:16}),r.jsx("span",{children:w.notReady})]})})]})]})}),o&&c&&r.jsx(hL,{request:c,onClose:()=>{l(!1),u(null)}})]})}function fL(){const{language:e}=At(),[t,a]=L.useState([]),[s,n]=L.useState(!1),[i,A]=L.useState(null),[o,l]=L.useState(null),[c,u]=L.useState(!1),[h,x]=L.useState(null),[g,v]=L.useState(""),y={fr:{title:"Validation des Rsultats",subtitle:"Panel de validation pour les biologistes",searchPlaceholder:"Nom du patient, code analyse...",patient:"Patient",analysis:"Analyse",value:"Valeur",reference:"Rfrence",status:"Statut",actions:"Actions",pending:"En attente",validated:"Valid",rejected:"Rejet",validate:"Valider",reject:"Rejeter",view:"Voir",refresh:"Actualiser",notFound:"Aucun rsultat trouv",error:"Erreur lors de la rcupration",loading:"Chargement...",confirmValidation:"Confirmer la validation",confirmRejection:"Confirmer le rejet",validationNotes:"Notes de validation",cancel:"Annuler",confirm:"Confirmer",validationSuccess:"Rsultat valid avec succs",rejectionSuccess:"Rsultat rejet avec succs",validationError:"Erreur lors de la validation",rejectionError:"Erreur lors du rejet",close:"Fermer",doctor:"Mdecin",specialty:"Spcialit",notes:"Notes"},en:{title:"Result Validation",subtitle:"Biologist validation panel",searchPlaceholder:"Patient name, analysis code...",patient:"Patient",analysis:"Analysis",value:"Value",reference:"Reference",status:"Status",actions:"Actions",pending:"Pending",validated:"Validated",rejected:"Rejected",validate:"Validate",reject:"Reject",view:"View",refresh:"Refresh",notFound:"No results found",error:"Error fetching data",loading:"Loading...",confirmValidation:"Confirm validation",confirmRejection:"Confirm rejection",validationNotes:"Validation notes",cancel:"Cancel",confirm:"Confirm",validationSuccess:"Result validated successfully",rejectionSuccess:"Result rejected successfully",validationError:"Error during validation",rejectionError:"Error during rejection",close:"Close",doctor:"Doctor",specialty:"Specialty",notes:"Notes"}}[e];L.useEffect(()=>{N()},[]);const N=async()=>{try{n(!0),A(null);const F=await Hc.getResults({limit:100,include:"request,analysis"});a(F.results||[])}catch(F){console.error("Error loading results:",F),A(y.error)}finally{n(!1)}},p=F=>{switch(F){case"VALIDATED":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"REJECTED":return"text-red-600 bg-red-100 dark:bg-red-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},m=F=>{switch(F){case"VALIDATED":return y.validated;case"REJECTED":return y.rejected;case"PENDING":return y.pending;default:return F}},w=async F=>{try{x(F.id),await Hc.validateResult(F.id,"biologist-user"),a(C=>C.map(K=>K.id===F.id?{...K,status:"VALIDATED"}:K)),(o==null?void 0:o.id)===F.id&&(u(!1),l(null)),alert(y.validationSuccess)}catch(C){console.error("Error validating result:",C),alert(y.validationError)}finally{x(null)}},E=async F=>{try{x(F.id),await Hc.updateResult(F.id,{status:"REJECTED"}),a(C=>C.map(K=>K.id===F.id?{...K,status:"REJECTED"}:K)),(o==null?void 0:o.id)===F.id&&(u(!1),l(null)),alert(y.rejectionSuccess)}catch(C){console.error("Error rejecting result:",C),alert(y.rejectionError)}finally{x(null)}},U=t.filter(F=>{if(!g)return!0;const C=g.toLowerCase();return F.request.patient.firstName.toLowerCase().includes(C)||F.request.patient.lastName.toLowerCase().includes(C)||F.analysis.code.toLowerCase().includes(C)||F.analysis.name.toLowerCase().includes(C)}),D=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[o==null?void 0:o.analysis.name," - ",o==null?void 0:o.request.patient.firstName," ",o==null?void 0:o.request.patient.lastName]}),r.jsx("button",{onClick:()=>{u(!1),l(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:20})})]}),o&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:y.patient}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.request.patient.firstName," ",o.request.patient.lastName]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.request.patient.gender,", ",new Date(o.request.patient.dateOfBirth).toLocaleDateString()]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:y.analysis}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.analysis.name," (",o.analysis.code,")"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.analysis.category})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:y.value}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.value||"-"," ",o.unit]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:y.reference}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.reference||"-"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:y.status}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(o.status)}`,children:m(o.status)})]}),o.request.doctor&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:y.doctor}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.request.doctor.firstName," ",o.request.doctor.lastName]}),o.request.doctor.specialty&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.request.doctor.specialty})]}),o.notes&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:y.notes}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.notes})]})]}),o&&o.status==="PENDING"&&r.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>E(o),disabled:h===o.id,className:"px-4 py-2 text-red-600 bg-red-100 rounded-lg hover:bg-red-200 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 disabled:opacity-50",children:h===o.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):y.reject}),r.jsx("button",{onClick:()=>w(o),disabled:h===o.id,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:h===o.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):y.validate})]})]})})});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:y.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:y.subtitle})]}),r.jsxs("button",{onClick:N,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[r.jsx(Hs,{className:`h-4 w-4 ${s?"animate-spin":""}`}),r.jsx("span",{children:y.refresh})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:y.searchPlaceholder,value:g,onChange:F=>v(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:y.patient}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:y.analysis}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:y.value}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:y.reference}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:y.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:y.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:y.loading})]})})}):U.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:y.notFound})}):U.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[F.request.patient.firstName," ",F.request.patient.lastName]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[F.request.patient.gender,", ",new Date(F.request.patient.dateOfBirth).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:F.analysis.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[F.analysis.code," - ",F.analysis.category]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[F.value||"-"," ",F.unit]}),r.jsx(Wt,{size:16,className:"text-green-500"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:F.reference||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(F.status)}`,children:m(F.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[F.status==="PENDING"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>w(F),disabled:h===F.id,className:"text-green-600 hover:text-green-900 dark:hover:text-green-400 disabled:opacity-50",title:y.validate,children:h===F.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):r.jsx(TC,{size:16})}),r.jsx("button",{onClick:()=>E(F),disabled:h===F.id,className:"text-red-600 hover:text-red-900 dark:hover:text-red-400 disabled:opacity-50",title:y.reject,children:h===F.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):r.jsx(ht,{size:16})})]}),r.jsx("button",{onClick:()=>{l(F),u(!0)},className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:y.view,children:r.jsx(ms,{size:16})})]})})]},F.id))})]})}),c&&r.jsx(D,{})]})}function mL(){const{language:e}=At(),[t,a]=L.useState(!1),[s,n]=L.useState(!1),[i,A]=L.useState(null),o={fr:{title:"Module de Facturation",newInvoice:"Nouvelle Facture",invoice:"Facture",patient:"Patient",amount:"Montant",status:"Statut",payer:"Payeur",date:"Date",actions:"Actions",export:"Exporter",close:"Fermer",save:"Enregistrer",cancel:"Annuler",send:"Envoyer"},en:{title:"Billing Module",newInvoice:"New Invoice",invoice:"Invoice",patient:"Patient",amount:"Amount",status:"Status",payer:"Payer",date:"Date",actions:"Actions",export:"Export",close:"Close",save:"Save",cancel:"Cancel",send:"Send"}}[e],[l]=L.useState([{id:"FAC001",patientName:"Dupont, Marie",amount:125.5,status:"paid",payer:"CPAM",date:"2024-01-15"},{id:"FAC002",patientName:"Martin, Pierre",amount:89.2,status:"sent",payer:"MGEN",date:"2024-01-14"}]),c=y=>({pending:"bg-yellow-100 text-yellow-800",sent:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[y]||"bg-gray-100 text-gray-800",u=y=>{A(y),n(!0)},h=y=>{console.log("Sending invoice:",y.id)},x=()=>{console.log("Exporting invoices...")},g=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o.newInvoice}),r.jsx("button",{onClick:()=>a(!1),children:r.jsx(ht,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Nom du patient",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"number",placeholder:"Montant",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{children:"Slectionner payeur"}),r.jsx("option",{children:"CPAM"}),r.jsx("option",{children:"MGEN"}),r.jsx("option",{children:"Harmonie"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:o.cancel}),r.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:o.save})]})]})}),v=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Dtails de la facture"}),r.jsx("button",{onClick:()=>n(!1),children:r.jsx(ht,{size:20,className:"text-gray-500"})})]}),i&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"ID:"})," ",i.id]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Patient:"})," ",i.patientName]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Montant:"})," dh",i.amount]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Statut:"})," ",i.status]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Payeur:"})," ",i.payer]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Date:"})," ",i.date]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:o.close})})]})});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:o.title}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:x,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Jn,{size:20,className:"mr-2"}),o.export]}),r.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:20,className:"mr-2"}),o.newInvoice]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.invoice}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.patient}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.amount}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.payer}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.date}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.map(y=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:y.id}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:y.patientName}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["dh",y.amount]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(y.status)}`,children:y.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:y.payer}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:y.date}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("button",{onClick:()=>u(y),className:"text-blue-600 hover:text-blue-900 mr-3",children:r.jsx(ms,{size:16})}),r.jsx("button",{onClick:()=>h(y),className:"text-green-600 hover:text-green-900",children:r.jsx(e3,{size:16})})]})]},y.id))})]})}),t&&r.jsx(g,{}),s&&r.jsx(v,{})]})}function pL(){const{language:e}=At(),[t,a]=L.useState({labName:"Laboratoire Central",address:"123 Rue de la Sant, 75014 Paris",phone:"01.42.34.56.78",email:"contact@lab.fr",autoprint:!0,defaultPrinter:"HP LaserJet Pro",smsNotifications:!0,emailNotifications:!0}),[s,n]=L.useState([{code:"4005",nom:"Hmogramme (CBC)",category:"Hmatologie",price:45,tva:20},{code:"4010",nom:"Glycmie (Blood Sugar)",category:"Biochimie",price:25,tva:20},{code:"4015",nom:"Cholestrol Total",category:"Lipides",price:30,tva:20},{code:"4020",nom:"HDL Cholestrol",category:"Lipides",price:35,tva:20},{code:"4025",nom:"LDL Cholestrol",category:"Lipides",price:35,tva:20},{code:"4030",nom:"Triglycrides",category:"Lipides",price:30,tva:20},{code:"4035",nom:"Cratininmie",category:"Biochimie",price:28,tva:20},{code:"4040",nom:"Ure",category:"Biochimie",price:25,tva:20},{code:"4045",nom:"Bilan hpatique",category:"Biochimie",price:55,tva:20},{code:"4050",nom:"TSH",category:"Hormonologie",price:40,tva:20},{code:"4055",nom:"T4 Libre",category:"Hormonologie",price:45,tva:20},{code:"4060",nom:"T3 Libre",category:"Hormonologie",price:45,tva:20},{code:"4070",nom:"Groupe Sanguin",category:"Immunologie",price:35,tva:20},{code:"4075",nom:"CRP",category:"Inflammation",price:32,tva:20},{code:"4080",nom:"VS",category:"Inflammation",price:20,tva:20}]),i={fr:{title:"Centre de Configuration",labSettings:"Paramtres du Laboratoire",labName:"Nom du Laboratoire",address:"Adresse",phone:"Tlphone",email:"Email",printSettings:"Paramtres d'Impression",autoprint:"Impression automatique",defaultPrinter:"Imprimante par dfaut",notifications:"Notifications",smsNotifications:"Notifications SMS",emailNotifications:"Notifications Email",pricing:"Tarification des Analyses",analysisCode:"Code",analysisName:"Nom de l'Analyse",category:"Catgorie",price:"Prix HT",tva:"TVA (%)",totalPrice:"Prix TTC",save:"Enregistrer",savePrices:"Enregistrer les Prix"},en:{title:"Configuration Center",labSettings:"Laboratory Settings",labName:"Laboratory Name",address:"Address",phone:"Phone",email:"Email",printSettings:"Print Settings",autoprint:"Auto-print",defaultPrinter:"Default Printer",notifications:"Notifications",smsNotifications:"SMS Notifications",emailNotifications:"Email Notifications",pricing:"Analysis Pricing",analysisCode:"Code",analysisName:"Analysis Name",category:"Category",price:"Price (excl. tax)",tva:"VAT (%)",totalPrice:"Total Price",save:"Save",savePrices:"Save Prices"}}[e],A=(u,h)=>{a(x=>({...x,[u]:h}))},o=(u,h,x)=>{n(g=>g.map(v=>v.code===u?{...v,[h]:x}:v))},l=()=>{console.log("Saving configuration:",t),localStorage.setItem("sil_lab_config",JSON.stringify(t)),localStorage.setItem("sil_lab_prices",JSON.stringify(s)),alert("Configuration sauvegarde avec succs!")},c=(u,h)=>u*(1+h/100);return r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:i.title}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(fn,{className:"h-6 w-6 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i.labSettings})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.labName}),r.jsx("input",{type:"text",value:t.labName,onChange:u=>A("labName",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.address}),r.jsx("input",{type:"text",value:t.address,onChange:u=>A("address",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.phone}),r.jsx("input",{type:"text",value:t.phone,onChange:u=>A("phone",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.email}),r.jsx("input",{type:"email",value:t.email,onChange:u=>A("email",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(CA,{className:"h-6 w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i.printSettings})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.autoprint,onChange:u=>A("autoprint",u.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:i.autoprint})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.defaultPrinter}),r.jsx("input",{type:"text",value:t.defaultPrinter,onChange:u=>A("defaultPrinter",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Qa,{className:"h-6 w-6 text-purple-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i.notifications})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.smsNotifications,onChange:u=>A("smsNotifications",u.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:i.smsNotifications})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.emailNotifications,onChange:u=>A("emailNotifications",u.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:i.emailNotifications})]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("button",{onClick:l,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[r.jsx(oa,{size:20,className:"mr-2"}),i.save]})})]}),r.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"h-6 w-6 text-green-600 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i.pricing})]}),r.jsxs("button",{onClick:l,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(oa,{size:16,className:"mr-2"}),i.savePrices]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i.analysisCode}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i.analysisName}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i.category}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i.price}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i.tva}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i.totalPrice})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(u=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:u.code}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:u.nom}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:u.category}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",min:"0",value:u.price,onChange:h=>o(u.code,"price",parseFloat(h.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:u.tva,onChange:h=>o(u.code,"tva",parseFloat(h.target.value)||0),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400",children:[c(u.price,u.tva).toFixed(2)," dh"]})]},u.code))})]})})]})]})}function xL(){const{language:e}=At(),[t,a]=L.useState([]),[s,n]=L.useState({symbol:"dh",code:"MAD",position:"after",decimalPlaces:2}),[i,A]=L.useState(""),[o,l]=L.useState("all"),[c,u]=L.useState(!1),[h,x]=L.useState(null),[g,v]=L.useState(!0),y={fr:{title:"Gestion des Prix",subtitle:"Configuration des tarifs des analyses",currency:"Devise",currencySymbol:"Symbole de devise",currencyCode:"Code devise",currencyPosition:"Position du symbole",decimalPlaces:"Dcimales",before:"Avant",after:"Aprs",search:"Rechercher...",filter:"Filtrer par catgorie",allCategories:"Toutes les catgories",addPrice:"Ajouter un prix",editPrice:"Modifier le prix",code:"Code",name:"Nom",category:"Catgorie",price:"Prix HT",tva:"TVA (%)",cost:"Cot",profit:"Marge",totalPrice:"Prix TTC",lastUpdated:"Dernire mise  jour",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",saveAll:"Enregistrer tout",priceHistory:"Historique des prix",profitAnalysis:"Analyse des marges",totalRevenue:"Revenu total",averagePrice:"Prix moyen",totalAnalyses:"Total analyses",priceChanges:"Changements de prix",success:"Prix enregistr avec succs",error:"Erreur lors de l'enregistrement",confirmDelete:"tes-vous sr de vouloir supprimer ce prix ?"},en:{title:"Price Management",subtitle:"Analysis pricing configuration",currency:"Currency",currencySymbol:"Currency symbol",currencyCode:"Currency code",currencyPosition:"Symbol position",decimalPlaces:"Decimal places",before:"Before",after:"After",search:"Search...",filter:"Filter by category",allCategories:"All categories",addPrice:"Add price",editPrice:"Edit price",code:"Code",name:"Name",category:"Category",price:"Price (excl. tax)",tva:"VAT (%)",cost:"Cost",profit:"Profit",totalPrice:"Total price",lastUpdated:"Last updated",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",saveAll:"Save all",priceHistory:"Price history",profitAnalysis:"Profit analysis",totalRevenue:"Total revenue",averagePrice:"Average price",totalAnalyses:"Total analyses",priceChanges:"Price changes",success:"Price saved successfully",error:"Error saving price",confirmDelete:"Are you sure you want to delete this price?"}}[e];L.useEffect(()=>{N()},[]);const N=async()=>{try{const S=await tl.getPrices();a(S.length>0?S:p());const X=await tl.getCurrencySettings();X&&n(X),v(!1)}catch(S){console.error("Error loading data:",S),a(p()),v(!1)}},p=()=>[{code:"4005",nom:"Hmogramme (CBC)",category:"Hmatologie",price:45,tva:20,cost:15,profit:30},{code:"4010",nom:"Glycmie (Blood Sugar)",category:"Biochimie",price:25,tva:20,cost:8,profit:17},{code:"4015",nom:"Cholestrol Total",category:"Lipides",price:30,tva:20,cost:10,profit:20},{code:"4020",nom:"HDL Cholestrol",category:"Lipides",price:35,tva:20,cost:12,profit:23},{code:"4025",nom:"LDL Cholestrol",category:"Lipides",price:35,tva:20,cost:12,profit:23},{code:"4030",nom:"Triglycrides",category:"Lipides",price:30,tva:20,cost:10,profit:20},{code:"4035",nom:"Cratininmie",category:"Biochimie",price:28,tva:20,cost:9,profit:19},{code:"4040",nom:"Ure",category:"Biochimie",price:25,tva:20,cost:8,profit:17},{code:"4045",nom:"Bilan hpatique",category:"Biochimie",price:55,tva:20,cost:18,profit:37},{code:"4050",nom:"TSH",category:"Hormonologie",price:40,tva:20,cost:13,profit:27},{code:"4055",nom:"T4 Libre",category:"Hormonologie",price:45,tva:20,cost:15,profit:30},{code:"4060",nom:"T3 Libre",category:"Hormonologie",price:45,tva:20,cost:15,profit:30},{code:"4070",nom:"Groupe Sanguin",category:"Immunologie",price:35,tva:20,cost:11,profit:24},{code:"4075",nom:"CRP",category:"Inflammation",price:32,tva:20,cost:10,profit:22},{code:"4080",nom:"VS",category:"Inflammation",price:20,tva:20,cost:6,profit:14}],m=["Hmatologie","Biochimie","Lipides","Hormonologie","Immunologie","Inflammation"],w=t.filter(S=>{const X=S.nom.toLowerCase().includes(i.toLowerCase())||S.code.includes(i),q=o==="all"||S.category===o;return X&&q}),E=(S,X)=>S*(1+X/100),U=(S,X=0)=>S-X,D=S=>{const X=S.toFixed(s.decimalPlaces);return s.position==="before"?`${s.symbol}${X}`:`${X}${s.symbol}`},F=(S,X,q)=>{a(te=>te.map(ie=>{if(ie.code===S){const pe={...ie,[X]:q};return(X==="price"||X==="cost")&&(pe.profit=U(pe.price,pe.cost)),pe}return ie}))},C=()=>{try{tl.savePrices(t),localStorage.setItem("sil_lab_currency",JSON.stringify(s)),alert(y.success)}catch(S){console.error("Save error:",S),alert(y.error)}},K=S=>{window.confirm(y.confirmDelete)&&a(X=>X.filter(q=>q.code!==S))},M=()=>{const S={code:"",nom:"",category:"Biochimie",price:0,tva:20,cost:0,profit:0,lastUpdated:new Date().toISOString()};x(S),u(!0)},Q=()=>{if(h&&h.code&&h.nom){const S={...h,profit:U(h.price,h.cost),lastUpdated:new Date().toISOString()};a(X=>[...X,S]),x(null),u(!1)}},j=t.reduce((S,X)=>S+X.price,0),T=j/t.length,z=t.reduce((S,X)=>S+(X.profit||0),0),H=j>0?z/j*100:0;return g?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:y.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:y.subtitle})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:y.currency}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.currencySymbol}),r.jsx("input",{type:"text",value:s.symbol,onChange:S=>n(X=>({...X,symbol:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",maxLength:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.currencyCode}),r.jsx("input",{type:"text",value:s.code,onChange:S=>n(X=>({...X,code:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",maxLength:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.currencyPosition}),r.jsxs("select",{value:s.position,onChange:S=>n(X=>({...X,position:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"before",children:y.before}),r.jsx("option",{value:"after",children:y.after})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.decimalPlaces}),r.jsx("input",{type:"number",min:"0",max:"4",value:s.decimalPlaces,onChange:S=>n(X=>({...X,decimalPlaces:parseInt(S.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.totalRevenue}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D(j)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Vn,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.averagePrice}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D(T)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Vn,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.profitAnalysis}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D(z)})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ki,{className:"h-8 w-8 text-orange-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Marge (%)"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[H.toFixed(1),"%"]})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:i,onChange:S=>A(S.target.value),placeholder:y.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:o,onChange:S=>l(S.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:y.allCategories}),m.map(S=>r.jsx("option",{value:S,children:S},S))]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:M,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:16,className:"mr-2"}),y.addPrice]}),r.jsxs("button",{onClick:C,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(oa,{size:16,className:"mr-2"}),y.saveAll]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.name}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.category}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.price}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.tva}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.cost}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.profit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.totalPrice}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:y.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:w.map(S=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:S.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:S.nom}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:S.category}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",min:"0",value:S.price,onChange:X=>F(S.code,"price",parseFloat(X.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:S.tva,onChange:X=>F(S.code,"tva",parseFloat(X.target.value)||0),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",min:"0",value:S.cost||0,onChange:X=>F(S.code,"cost",parseFloat(X.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400",children:D(S.profit||0)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 dark:text-blue-400",children:D(E(S.price,S.tva))}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("button",{onClick:()=>K(S.code),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(qs,{size:16})})})]},S.code))})]})})}),c&&h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:y.addPrice}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.code}),r.jsx("input",{type:"text",value:h.code,onChange:S=>x(X=>X?{...X,code:S.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.name}),r.jsx("input",{type:"text",value:h.nom,onChange:S=>x(X=>X?{...X,nom:S.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.category}),r.jsx("select",{value:h.category,onChange:S=>x(X=>X?{...X,category:S.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:m.map(S=>r.jsx("option",{value:S,children:S},S))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.price}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:h.price,onChange:S=>x(X=>X?{...X,price:parseFloat(S.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.tva}),r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:h.tva,onChange:S=>x(X=>X?{...X,tva:parseFloat(S.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>{u(!1),x(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:y.cancel}),r.jsx("button",{onClick:Q,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:y.save})]})]})})]})}function yL(){const{language:e}=At(),[t,a]=L.useState(!1),[s,n]=L.useState(!1),[i,A]=L.useState(null),[o,l]=L.useState(!1),c={fr:{title:"Gestion des Utilisateurs",newUser:"Nouvel Utilisateur",name:"Nom",email:"Email",role:"Rle",status:"Statut",permissions:"Permissions",actions:"Actions",active:"Actif",inactive:"Inactif",admin:"Administrateur",biologist:"Biologiste",technician:"Technicien",secretary:"Secrtaire",close:"Fermer",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Confirmer la suppression"},en:{title:"User Management",newUser:"New User",name:"Name",email:"Email",role:"Role",status:"Status",permissions:"Permissions",actions:"Actions",active:"Active",inactive:"Inactive",admin:"Administrator",biologist:"Biologist",technician:"Technician",secretary:"Secretary",close:"Close",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Confirm deletion"}}[e],[u]=L.useState([{id:"1",name:"Dr. Admin",email:"admin@lab.fr",role:"admin",status:"active",permissions:["all"]},{id:"2",name:"Dr. Biologiste",email:"bio@lab.fr",role:"biologist",status:"active",permissions:["validate_results","view_all_requests"]},{id:"3",name:"Tech Support",email:"tech@lab.fr",role:"technician",status:"active",permissions:["enter_results","manage_samples"]}]),h=w=>({admin:"bg-purple-100 text-purple-800",biologist:"bg-blue-100 text-blue-800",technician:"bg-green-100 text-green-800",secretary:"bg-yellow-100 text-yellow-800"})[w]||"bg-gray-100 text-gray-800",x=w=>w==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",g=w=>{A(w),n(!0)},v=w=>{A(w),l(!0)},y=()=>{console.log("Deleting user:",i==null?void 0:i.id),l(!1)},N=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.newUser}),r.jsx("button",{onClick:()=>a(!1),children:r.jsx(ht,{size:20,className:"text-gray-500"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Nom complet",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{children:"Slectionner un rle"}),r.jsx("option",{value:"admin",children:"Administrateur"}),r.jsx("option",{value:"biologist",children:"Biologiste"}),r.jsx("option",{value:"technician",children:"Technicien"}),r.jsx("option",{value:"secretary",children:"Secrtaire"})]}),r.jsx("input",{type:"password",placeholder:"Mot de passe",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),r.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c.save})]})]})}),p=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Modifier utilisateur"}),r.jsx("button",{onClick:()=>n(!1),children:r.jsx(ht,{size:20,className:"text-gray-500"})})]}),i&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",defaultValue:i.name,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsx("input",{type:"email",defaultValue:i.email,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),r.jsxs("select",{defaultValue:i.role,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"admin",children:"Administrateur"}),r.jsx("option",{value:"biologist",children:"Biologiste"}),r.jsx("option",{value:"technician",children:"Technicien"}),r.jsx("option",{value:"secretary",children:"Secrtaire"})]}),r.jsxs("select",{defaultValue:i.status,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"active",children:"Actif"}),r.jsx("option",{value:"inactive",children:"Inactif"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),r.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c.save})]})]})}),m=()=>r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.confirmDelete}),r.jsx("button",{onClick:()=>l(!1),children:r.jsx(ht,{size:20,className:"text-gray-500"})})]}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["tes-vous sr de vouloir supprimer l'utilisateur ",i==null?void 0:i.name," ?"]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),r.jsx("button",{onClick:y,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:c.delete})]})]})});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:c.title}),r.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:20,className:"mr-2"}),c.newUser]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.name}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.email}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.role}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.permissions}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:u.map(w=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:w.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:w.email}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(w.role)}`,children:c[w.role]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(w.status)}`,children:w.status==="active"?c.active:c.inactive})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:r.jsxs("span",{className:"inline-flex items-center",children:[r.jsx(Zo,{size:16,className:"mr-1"}),w.permissions.length]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("button",{onClick:()=>g(w),className:"text-blue-600 hover:text-blue-900 mr-3",children:r.jsx(Xn,{size:16})}),r.jsx("button",{onClick:()=>v(w),className:"text-red-600 hover:text-red-900",children:r.jsx(a3,{size:16})})]})]},w.id))})]})}),t&&r.jsx(N,{}),s&&r.jsx(p,{}),o&&r.jsx(m,{})]})}function bL({onClose:e,onSuccess:t}){const{user:a,language:s}=At(),[n,i]=L.useState({productId:"",quantity:0,lotNumber:"",expiryDate:"",location:"",unitCost:0,notes:"",receivedBy:(a==null?void 0:a.name)||""}),[A,o]=L.useState([]),[l,c]=L.useState([]),[u,h]=L.useState(!1),[x,g]=L.useState({}),[v,y]=L.useState(!1);L.useState(!1);const[N,p]=L.useState(""),[m,w]=L.useState(""),E={title:s==="fr"?"Ajouter Stock":"Add Stock Entry",subtitle:s==="fr"?"Enregistrer un nouvel arrivage":"Record new stock arrival",product:s==="fr"?"Produit":"Product",selectProduct:s==="fr"?"Slectionner un produit":"Select a product",searchProduct:s==="fr"?"Rechercher un produit...":"Search for a product...",quantity:s==="fr"?"Quantit":"Quantity",lotNumber:s==="fr"?"Numro de lot":"Lot Number",expiryDate:s==="fr"?"Date d'expiration":"Expiry Date",location:s==="fr"?"Emplacement":"Location",unitCost:s==="fr"?"Cot unitaire":"Unit Cost",notes:"Notes",receivedBy:s==="fr"?"Reu par":"Received By",supplier:s==="fr"?"Fournisseur":"Supplier",selectSupplier:s==="fr"?"Slectionner un fournisseur":"Select a supplier",searchSupplier:s==="fr"?"Rechercher un fournisseur...":"Search for a supplier...",addNewProduct:s==="fr"?"Ajouter un nouveau produit":"Add New Product",addNewSupplier:s==="fr"?"Ajouter un nouveau fournisseur":"Add New Supplier",save:s==="fr"?"Enregistrer":"Save",cancel:s==="fr"?"Annuler":"Cancel",required:s==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:s==="fr"?"La quantit doit tre suprieure  0":"Quantity must be greater than 0",invalidCost:s==="fr"?"Le cot doit tre positif":"Cost must be positive",invalidDate:s==="fr"?"La date d'expiration doit tre dans le futur":"Expiry date must be in the future",success:s==="fr"?"Stock ajout avec succs":"Stock added successfully",error:s==="fr"?"Erreur lors de l'ajout du stock":"Error adding stock",loading:s==="fr"?"Enregistrement...":"Saving...",noProducts:s==="fr"?"Aucun produit trouv":"No products found",noSuppliers:s==="fr"?"Aucun fournisseur trouv":"No suppliers found",createProduct:s==="fr"?"Crer un produit":"Create Product",createSupplier:s==="fr"?"Crer un fournisseur":"Create Supplier",productName:s==="fr"?"Nom du produit":"Product Name",productCode:s==="fr"?"Code du produit":"Product Code",category:s==="fr"?"Catgorie":"Category",unit:s==="fr"?"Unit":"Unit",minQuantity:s==="fr"?"Quantit minimale":"Minimum Quantity",supplierName:s==="fr"?"Nom du fournisseur":"Supplier Name",supplierEmail:s==="fr"?"Email du fournisseur":"Supplier Email",supplierPhone:s==="fr"?"Tlphone du fournisseur":"Supplier Phone",supplierAddress:s==="fr"?"Adresse du fournisseur":"Supplier Address",contactPerson:s==="fr"?"Personne de contact":"Contact Person"};L.useEffect(()=>{U(),D()},[]);const U=async()=>{try{const Q=await kt.getProducts({limit:100});o(Q.products||[])}catch(Q){console.error("Error loading products:",Q)}},D=async()=>{try{const Q=await kt.getSuppliers({limit:100});c(Q.suppliers||[])}catch(Q){console.error("Error loading suppliers:",Q)}},F=()=>{const Q={};return n.productId||(Q.productId=E.required),(!n.quantity||n.quantity<=0)&&(Q.quantity=E.invalidQuantity),n.location||(Q.location=E.required),n.receivedBy||(Q.receivedBy=E.required),n.unitCost<0&&(Q.unitCost=E.invalidCost),n.expiryDate&&new Date(n.expiryDate)<=new Date&&(Q.expiryDate=E.invalidDate),g(Q),Object.keys(Q).length===0},C=async Q=>{if(Q.preventDefault(),!!F()){h(!0);try{await kt.addStockEntry(n),t==null||t(),e()}catch(j){console.error("Error adding stock entry:",j),alert(E.error)}finally{h(!1)}}},K=(Q,j)=>{i(T=>({...T,[Q]:j})),x[Q]&&g(T=>({...T,[Q]:""}))},M=A.filter(Q=>Q.name.toLowerCase().includes(N.toLowerCase())||Q.code.toLowerCase().includes(N.toLowerCase())||Q.category.toLowerCase().includes(N.toLowerCase()));return l.filter(Q=>Q.name.toLowerCase().includes(m.toLowerCase())),r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:E.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:E.subtitle})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:24})})]}),r.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[E.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:E.selectProduct,value:N,onChange:Q=>p(Q.target.value),onClick:()=>y(!0),readOnly:!0,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(Br,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),x.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.productId})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[E.quantity," *"]}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:n.quantity,onChange:Q=>K("quantity",parseFloat(Q.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),x.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.quantity})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:E.lotNumber}),r.jsx("input",{type:"text",value:n.lotNumber,onChange:Q=>K("lotNumber",Q.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:E.expiryDate}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",value:n.expiryDate,onChange:Q=>K("expiryDate",Q.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.expiryDate?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(Va,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),x.expiryDate&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.expiryDate})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[E.location," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:n.location,onChange:Q=>K("location",Q.target.value),placeholder:"e.g., Fridge A, Cabinet 3",className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.location?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(TA,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),x.location&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.location})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:E.unitCost}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",step:"0.01",min:"0",value:n.unitCost,onChange:Q=>K("unitCost",parseFloat(Q.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.unitCost?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(fs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),x.unitCost&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.unitCost})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[E.receivedBy," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:n.receivedBy,onChange:Q=>K("receivedBy",Q.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.receivedBy?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(ma,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),x.receivedBy&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.receivedBy})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:E.notes}),r.jsx("textarea",{value:n.notes,onChange:Q=>K("notes",Q.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:E.cancel}),r.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),E.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),E.save]})})]})]})]}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:E.selectProduct}),r.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:E.searchProduct,value:N,onChange:Q=>p(Q.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:M.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:E.noProducts}):M.map(Q=>r.jsxs("button",{onClick:()=>{i(j=>({...j,productId:Q.id})),p(Q.name),y(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Q.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Q.code,"  ",Q.category,"  ",Q.unit]})]},Q.id))}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("button",{onClick:()=>{y(!1)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[r.jsx(mr,{size:16,className:"mr-2"}),E.addNewProduct]})})]})]})})]})}const qB=e=>{switch(e){case"OK":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"LOW":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EXPIRED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"EXPIRING":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},zB=(e,t)=>{switch(e){case"OK":return t.ok;case"LOW":return t.low;case"EXPIRED":return t.expired;case"EXPIRING":return t.expiring;default:return e}};function wL(){const{language:e}=At(),[t,a]=L.useState(null),[s,n]=L.useState([]),[i,A]=L.useState(!0),[o,l]=L.useState(""),[c,u]=L.useState(""),[h,x]=L.useState(""),[g,v]=L.useState(!1),[y,N]=L.useState(!1),[p,m]=L.useState(!1),[w,E]=L.useState(null),[U,D]=L.useState(null),[F,C]=L.useState(""),K={title:e==="fr"?"Gestion des Stocks":"Stock Management",subtitle:e==="fr"?"Vue d'ensemble de l'inventaire":"Inventory Overview",totalProducts:e==="fr"?"Total Produits":"Total Products",totalValue:e==="fr"?"Valeur Totale":"Total Value",expiringSoon:e==="fr"?"Expire Bientt":"Expiring Soon",lowStock:e==="fr"?"Stock Faible":"Low Stock",addStock:e==="fr"?"Ajouter Stock":"Add Stock",export:e==="fr"?"Exporter":"Export",search:e==="fr"?"Rechercher...":"Search...",category:e==="fr"?"Catgorie":"Category",status:e==="fr"?"Statut":"Status",allCategories:e==="fr"?"Toutes les catgories":"All Categories",allStatus:e==="fr"?"Tous les statuts":"All Status",product:e==="fr"?"Produit":"Product",code:"Code",stock:"Stock",unit:e==="fr"?"Unit":"Unit",expiry:e==="fr"?"Expiration":"Expiry",location:e==="fr"?"Emplacement":"Location",supplier:e==="fr"?"Fournisseur":"Supplier",actions:"Actions",view:e==="fr"?"Voir":"View",edit:e==="fr"?"Modifier":"Edit",delete:e==="fr"?"Supprimer":"Delete",noData:e==="fr"?"Aucune donne":"No data available",loading:e==="fr"?"Chargement...":"Loading...",ok:"OK",low:e==="fr"?"FAIBLE":"LOW",expired:e==="fr"?"EXPIR":"EXPIRED",expiring:e==="fr"?"EXPIRE":"EXPIRING"},M=q=>{switch(q){case"AVAILABLE":return"OK";case"LOW_STOCK":return"LOW";case"OUT_OF_STOCK":return"LOW";case"EXPIRED":return"EXPIRED";default:return"OK"}},Q=async()=>{try{const q=await kt.getDashboard();a(q)}catch(q){console.error("Error loading dashboard data:",q)}},j=async()=>{try{A(!0);const q=await kt.getProducts({search:F,category:c,status:h}),ie=(Array.isArray(q)?q:[]).map(pe=>{var $;const R=pe.stockEntries&&pe.stockEntries.length>0?($=pe.stockEntries.filter(Y=>Y.expiryDate).sort((Y,re)=>new Date(Y.expiryDate).getTime()-new Date(re.expiryDate).getTime())[0])==null?void 0:$.expiryDate:null;return{...pe,status:M(pe.stockStatus||"AVAILABLE"),earliestExpiry:R}});n(ie)}catch(q){console.error("Error loading products:",q),n([])}finally{A(!1)}};L.useEffect(()=>{Q(),j()},[]),L.useEffect(()=>{const q=setTimeout(()=>{C(o)},500);return()=>clearTimeout(q)},[o]),L.useEffect(()=>{(F!==""||c!==""||h!=="")&&j()},[F,c,h]);const T=q=>q?new Date(q).toLocaleDateString():"-",z=async()=>{try{const q={search:F,category:c,status:h},te=await kt.exportStockReport(q);if(te&&Array.isArray(te)){const ie=Object.keys(te[0]).join(","),pe=te.map(ee=>Object.values(ee).join(",")),R=[ie,...pe].join(`
`),$=new Blob([R],{type:"text/csv;charset=utf-8;"}),Y=URL.createObjectURL($),re=document.createElement("a");re.setAttribute("href",Y),re.setAttribute("download",`stock-report-${new Date().toISOString().split("T")[0]}.csv`),re.style.visibility="hidden",document.body.appendChild(re),re.click(),document.body.removeChild(re)}else console.error("Invalid response format for export")}catch(q){console.error("Error exporting stock report:",q)}},H=q=>{const te=s.find(ie=>ie.id===q);te&&(E(te),N(!0))},S=q=>{const te=s.find(ie=>ie.id===q);te&&(D(te),m(!0))},X=async q=>{if(window.confirm(e==="fr"?"tes-vous sr de vouloir supprimer ce produit ?":"Are you sure you want to delete this product?"))try{await kt.deleteProduct(q),j()}catch(te){console.error("Error deleting product:",te)}};return i&&!t?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:K.loading})]})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:K.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:K.subtitle})]}),t&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ga,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:K.totalProducts}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalProducts})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:K.totalValue}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.totalValue.toFixed(2)," dh"]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ka,{className:"h-8 w-8 text-orange-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:K.expiringSoon}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.expiringSoon})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zt,{className:"h-8 w-8 text-yellow-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:K.lowStock}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.lowStock})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:K.search,value:o,onChange:q=>l(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("select",{value:c,onChange:q=>u(q.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:r.jsx("option",{value:"",children:K.allCategories})}),r.jsxs("select",{value:h,onChange:q=>x(q.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:K.allStatus}),r.jsx("option",{value:"OK",children:K.ok}),r.jsx("option",{value:"LOW",children:K.low}),r.jsx("option",{value:"EXPIRED",children:K.expired}),r.jsx("option",{value:"EXPIRING",children:K.expiring})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:16,className:"mr-2"}),K.addStock]}),r.jsxs("button",{onClick:z,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Jn,{size:16,className:"mr-2"}),K.export]})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[g&&r.jsx(bL,{onClose:()=>v(!1),onSuccess:()=>{Q(),j(),v(!1)}}),y&&w&&r.jsx(vL,{product:w,onClose:()=>{N(!1),E(null)},t:K}),p&&U&&r.jsx(BL,{product:U,onClose:()=>{m(!1),D(null)},onSuccess:()=>{j(),m(!1),D(null)},t:K}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:K.product}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:K.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:K.stock}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:K.unit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:K.expiry}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:K.location}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:K.supplier}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:K.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:K.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:i?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:K.loading})]})})}):s.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:K.noData})}):s.map(q=>{var te;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:q.name}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:q.category})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:q.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:q.currentStock}),q.currentStock<=q.minStock&&r.jsx(Ki,{className:"ml-2 h-4 w-4 text-red-500"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:q.unit}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:T(q.earliestExpiry)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:((te=q.supplier)==null?void 0:te.name)||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${qB(q.status)}`,children:zB(q.status,K)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>H(q.id),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(ms,{size:16})}),r.jsx("button",{onClick:()=>S(q.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:r.jsx(Xn,{size:16})}),r.jsx("button",{onClick:()=>X(q.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(qs,{size:16})})]})})]},q.id)})})]})})]})]})}function vL({product:e,onClose:t,t:a}){var s;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.viewProduct||"View Product"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:20})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.code}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.code})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.product}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.category}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.stock}),r.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.currentStock," ",e.unit]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.expiry}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.earliestExpiry?new Date(e.earliestExpiry).toLocaleDateString():"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.status}),r.jsx("p",{children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${qB(e.status)}`,children:zB(e.status,a)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.supplier||"Supplier"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:((s=e.supplier)==null?void 0:s.name)||"-"})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",children:a.close||"Close"})})]})})}function BL({product:e,onClose:t,onSuccess:a,t:s}){const[n,i]=L.useState({name:e.name,code:e.code,category:e.category,unit:e.unit,minStock:e.minStock||0,maxStock:e.maxStock||0}),[A,o]=L.useState(!1),[l,c]=L.useState({}),u=(g,v)=>{i(y=>({...y,[g]:v})),l[g]&&c(y=>({...y,[g]:""}))},h=()=>{const g={};return n.name.trim()||(g.name=s.required||"This field is required"),n.code.trim()||(g.code=s.required||"This field is required"),n.category.trim()||(g.category=s.required||"This field is required"),n.unit.trim()||(g.unit=s.required||"This field is required"),n.minStock<0&&(g.minStock=s.invalidMinStock||"Minimum stock cannot be negative"),n.maxStock<n.minStock&&(g.maxStock=s.invalidMaxStock||"Maximum stock must be greater than minimum stock"),c(g),Object.keys(g).length===0},x=async g=>{if(g.preventDefault(),!!h()){o(!0);try{await kt.updateProduct(e.id,n),a()}catch(v){console.error("Error updating product:",v)}finally{o(!1)}}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s.editProduct||"Edit Product"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:20})})]}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.code," *"]}),r.jsx("input",{type:"text",value:n.code,onChange:g=>u("code",g.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.code?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.code&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.code})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.product," *"]}),r.jsx("input",{type:"text",value:n.name,onChange:g=>u("name",g.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.name?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.category," *"]}),r.jsx("input",{type:"text",value:n.category,onChange:g=>u("category",g.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.category?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.category&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.unit," *"]}),r.jsx("input",{type:"text",value:n.unit,onChange:g=>u("unit",g.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.unit?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.unit&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.unit})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s.minStock||"Min Stock"}),r.jsx("input",{type:"number",min:"0",value:n.minStock,onChange:g=>u("minStock",parseInt(g.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.minStock?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.minStock&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.minStock})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s.maxStock||"Max Stock"}),r.jsx("input",{type:"number",min:"0",value:n.maxStock,onChange:g=>u("maxStock",parseInt(g.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.maxStock?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.maxStock&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.maxStock})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:s.cancel||"Cancel"}),r.jsx("button",{type:"submit",disabled:A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:A?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s.loading||"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),s.save||"Save"]})})]})]})]})})}function NL({isOpen:e,onClose:t,onSuccess:a}){const{language:s}=At(),[n,i]=L.useState(!1),[A,o]=L.useState(""),[l,c]=L.useState({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""}),u={fr:{title:"Crer un nouveau produit",productName:"Nom du produit",productNamePlaceholder:"Entrez le nom du produit",description:"Description",descriptionPlaceholder:"Description dtaille du produit",category:"Catgorie",categoryPlaceholder:"Slectionnez une catgorie",sku:"Code SKU",skuPlaceholder:"Code unique du produit",barcode:"Code-barres",barcodePlaceholder:"Code-barres du produit",unitPrice:"Prix unitaire",costPrice:"Prix de revient",unit:"Unit",unitPlaceholder:"Ex: pice, bote, ml",minStock:"Stock minimum",maxStock:"Stock maximum",reorderLevel:"Niveau de rapprovisionnement",supplier:"Fournisseur",supplierPlaceholder:"Nom du fournisseur",expirationDate:"Date d'expiration",batchNumber:"Numro de lot",batchNumberPlaceholder:"Numro de lot du produit",location:"Emplacement",locationPlaceholder:"Emplacement de stockage",notes:"Notes",notesPlaceholder:"Notes supplmentaires",save:"Enregistrer le produit",cancel:"Annuler",required:"Champ obligatoire",success:"Produit cr avec succs!",error:"Erreur lors de la cration du produit",categories:{reagents:"Ractifs",consumables:"Consommables",equipment:"quipements",maintenance:"Maintenance",calibration:"talonnage",quality_control:"Contrle qualit",other:"Autre"}},en:{title:"Create New Product",productName:"Product Name",productNamePlaceholder:"Enter product name",description:"Description",descriptionPlaceholder:"Detailed product description",category:"Category",categoryPlaceholder:"Select a category",sku:"SKU Code",skuPlaceholder:"Unique product code",barcode:"Barcode",barcodePlaceholder:"Product barcode",unitPrice:"Unit Price",costPrice:"Cost Price",unit:"Unit",unitPlaceholder:"Ex: piece, box, ml",minStock:"Minimum Stock",maxStock:"Maximum Stock",reorderLevel:"Reorder Level",supplier:"Supplier",supplierPlaceholder:"Supplier name",expirationDate:"Expiration Date",batchNumber:"Batch Number",batchNumberPlaceholder:"Product batch number",location:"Location",locationPlaceholder:"Storage location",notes:"Notes",notesPlaceholder:"Additional notes",save:"Save Product",cancel:"Cancel",required:"Required field",success:"Product created successfully!",error:"Error creating product",categories:{reagents:"Reagents",consumables:"Consumables",equipment:"Equipment",maintenance:"Maintenance",calibration:"Calibration",quality_control:"Quality Control",other:"Other"}}}[s],h=N=>{const{name:p,value:m}=N.target;c(w=>({...w,[p]:p.includes("Price")||p.includes("Stock")||p==="reorderLevel"?parseFloat(m)||0:m}))},x=()=>{const N=Date.now().toString().slice(-6),p=Math.random().toString(36).substring(2,5).toUpperCase();return`${l.category?l.category.substring(0,3).toUpperCase():"PRD"}-${p}-${N}`},g=()=>{c(N=>({...N,sku:x()}))},v=()=>l.name.trim()?l.category?l.sku.trim()?l.unit.trim()?!0:(o("L'unit est obligatoire"),!1):(o("Le code SKU est obligatoire"),!1):(o("La catgorie est obligatoire"),!1):(o("Le nom du produit est obligatoire"),!1),y=async N=>{if(N.preventDefault(),o(""),!!v()){i(!0);try{const p={...l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),id:`product_${Date.now()}`,currentStock:0,status:"active"};await new Promise(w=>setTimeout(w,1e3));const m=JSON.parse(localStorage.getItem("sil_products")||"[]");m.push(p),localStorage.setItem("sil_products",JSON.stringify(m)),a==null||a(p),t(),c({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""})}catch{o(u.error)}finally{i(!1)}}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ga,{size:24,className:"text-blue-600"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:u.title})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:24})})]}),A&&r.jsx("div",{className:"mx-6 mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Hn,{size:20,className:"text-red-500 mr-3"}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:A})]})}),r.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.productName," *"]}),r.jsx("input",{type:"text",name:"name",value:l.name,onChange:h,placeholder:u.productNamePlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.category," *"]}),r.jsxs("select",{name:"category",value:l.category,onChange:h,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:u.categoryPlaceholder}),r.jsx("option",{value:"reagents",children:u.categories.reagents}),r.jsx("option",{value:"consumables",children:u.categories.consumables}),r.jsx("option",{value:"equipment",children:u.categories.equipment}),r.jsx("option",{value:"maintenance",children:u.categories.maintenance}),r.jsx("option",{value:"calibration",children:u.categories.calibration}),r.jsx("option",{value:"quality_control",children:u.categories.quality_control}),r.jsx("option",{value:"other",children:u.categories.other})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.sku," *"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",name:"sku",value:l.sku,onChange:h,placeholder:u.skuPlaceholder,className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx("button",{type:"button",onClick:g,className:"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-500 text-sm",children:"Auto"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.unit," *"]}),r.jsx("input",{type:"text",name:"unit",value:l.unit,onChange:h,placeholder:u.unitPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.unitPrice}),r.jsx("input",{type:"number",name:"unitPrice",value:l.unitPrice,onChange:h,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.costPrice}),r.jsx("input",{type:"number",name:"costPrice",value:l.costPrice,onChange:h,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.minStock}),r.jsx("input",{type:"number",name:"minStock",value:l.minStock,onChange:h,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.reorderLevel}),r.jsx("input",{type:"number",name:"reorderLevel",value:l.reorderLevel,onChange:h,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.supplier}),r.jsx("input",{type:"text",name:"supplier",value:l.supplier,onChange:h,placeholder:u.supplierPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.location}),r.jsx("input",{type:"text",name:"location",value:l.location,onChange:h,placeholder:u.locationPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.description}),r.jsx("textarea",{name:"description",value:l.description,onChange:h,placeholder:u.descriptionPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.cancel}),r.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),u.save]})})]})]})]})}):null}function kL(){const{user:e,language:t}=At(),a=Ks(),[s,n]=L.useState({productId:"",quantity:0,lotNumber:"",expiryDate:"",location:"Main Storage",unitCost:0,notes:"",receivedBy:(e==null?void 0:e.name)||""}),[i,A]=L.useState([]),[o,l]=L.useState(null),[c,u]=L.useState(!1),[h,x]=L.useState(!1),[g,v]=L.useState(!1),[y,N]=L.useState(""),[p,m]=L.useState(!1),[w,E]=L.useState(!1),[U,D]=L.useState(""),F={fr:{title:"Ajouter Stock",subtitle:"Enregistrer un nouvel arrivage de stock",backToStock:"Retour aux stocks",product:"Produit",selectProduct:"Slectionner un produit",searchProduct:"Rechercher un produit...",quantity:"Quantit",lotNumber:"Numro de lot",expiryDate:"Date d'expiration",location:"Emplacement",unitCost:"Cot unitaire",notes:"Notes",receivedBy:"Reu par",save:"Enregistrer",cancel:"Annuler",createNewProduct:"Crer un nouveau produit",required:"Ce champ est requis",success:"Stock ajout avec succs!",error:"Erreur lors de l'ajout du stock",loading:"Enregistrement...",noProducts:"Aucun produit trouv",additionalNotes:"Notes supplmentaires...",redirecting:"Redirection vers le tableau de bord..."},en:{title:"Add Stock Entry",subtitle:"Record new stock arrival",backToStock:"Back to Stock",product:"Product",selectProduct:"Select a product",searchProduct:"Search for a product...",quantity:"Quantity",lotNumber:"Lot Number",expiryDate:"Expiry Date",location:"Location",unitCost:"Unit Cost",notes:"Notes",receivedBy:"Received By",save:"Save",cancel:"Cancel",createNewProduct:"Create New Product",required:"This field is required",success:"Stock added successfully!",error:"Error adding stock",loading:"Saving...",noProducts:"No products found",additionalNotes:"Additional notes...",redirecting:"Redirecting to dashboard..."}}[t];L.useEffect(()=>{C()},[]);const C=async()=>{try{u(!0);const H=await kt.getProducts();A(H.products||[])}catch(H){console.error("Error loading products:",H),N("Erreur lors du chargement des produits")}finally{u(!1)}},K=H=>{const{name:S,value:X}=H.target;n(q=>({...q,[S]:S==="quantity"||S==="unitCost"?parseFloat(X)||0:X}))},M=H=>{l(H),n(S=>({...S,productId:H.id})),m(!1),D("")},Q=i.filter(H=>H.name.toLowerCase().includes(U.toLowerCase())||H.code.toLowerCase().includes(U.toLowerCase())),j=()=>s.productId?s.quantity<=0?(N("La quantit doit tre suprieure  0"),!1):s.lotNumber.trim()?s.location.trim()?!0:(N("L'emplacement est requis"),!1):(N("Le numro de lot est requis"),!1):(N("Veuillez slectionner un produit"),!1),T=async H=>{if(H.preventDefault(),N(""),!!j()){x(!0);try{const S={productId:s.productId,quantity:s.quantity,lotNumber:s.lotNumber,expiryDate:s.expiryDate||null,location:s.location,unitCost:s.unitCost,notes:s.notes,receivedBy:s.receivedBy,receivedAt:new Date().toISOString(),type:"stock_in"};await kt.addStock(S),v(!0),setTimeout(()=>{a("/stock/dashboard")},2e3)}catch(S){console.error("Error adding stock:",S),N("Erreur lors de l'ajout du stock. Veuillez ressayer.")}finally{x(!1)}}},z=H=>{A(S=>[...S,H]),l(H),n(S=>({...S,productId:H.id}))};return g?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Wt,{size:64,className:"mx-auto text-green-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:F.success}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:[o==null?void 0:o.name," - ",s.quantity," ",o==null?void 0:o.unit]}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:F.redirecting}),r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mt-4"})]})})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:[r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>a("/stock/dashboard"),className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mb-4",children:[r.jsx(DA,{size:20,className:"mr-2"}),F.backToStock]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ga,{size:32,className:"text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:F.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:F.subtitle})]})]})]}),y&&r.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Hn,{size:20,className:"text-red-500 mr-3"}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:y})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsxs("form",{onSubmit:T,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[F.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",readOnly:!0,placeholder:F.selectProduct,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600 cursor-pointer",value:o?`${o.name} (${o.code})`:"",onClick:()=>m(!0)}),r.jsx(Br,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[F.quantity," *"]}),r.jsx("input",{type:"number",name:"quantity",value:s.quantity,onChange:K,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"0",min:"0",step:"1",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[F.lotNumber," *"]}),r.jsx("input",{type:"text",name:"lotNumber",value:s.lotNumber,onChange:K,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"LOT-001",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.expiryDate}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",name:"expiryDate",value:s.expiryDate,onChange:K,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600"}),r.jsx(Va,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[F.location," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",name:"location",value:s.location,onChange:K,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"Main Storage",required:!0}),r.jsx(TA,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.unitCost}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",name:"unitCost",value:s.unitCost,onChange:K,step:"0.01",className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"0.00",min:"0"}),r.jsx(fs,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.receivedBy}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",name:"receivedBy",value:s.receivedBy,onChange:K,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),r.jsx(ma,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:F.notes}),r.jsx("textarea",{name:"notes",value:s.notes,onChange:K,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:F.additionalNotes})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:()=>a("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:F.cancel}),r.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),F.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),F.save]})})]})]})})]}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:F.selectProduct}),r.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex space-x-2 mb-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",placeholder:F.searchProduct,value:U,onChange:H=>D(H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(Br,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),r.jsxs("button",{onClick:()=>{m(!1),E(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(mr,{size:16,className:"mr-2"}),F.createNewProduct]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:c?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):Q.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:F.noProducts}):r.jsx("div",{className:"space-y-2",children:Q.map(H=>r.jsxs("button",{onClick:()=>M(H),className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:H.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[H.code,"  ",H.category,"  ",H.unit]})]},H.id))})})]})]})}),r.jsx(NL,{isOpen:w,onClose:()=>E(!1),onSuccess:z})]})}function jL(){const{language:e}=At(),t=Ks(),[a,s]=L.useState(!1),[n,i]=L.useState(!1),[A,o]=L.useState(""),[l,c]=L.useState({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""}),u={fr:{title:"Crer un nouveau produit",subtitle:"Ajouter un nouveau produit au systme de gestion des stocks",backToStock:"Retour aux stocks",productInfo:"Informations du produit",pricingInfo:"Informations de prix",stockInfo:"Informations de stock",additionalInfo:"Informations supplmentaires",productName:"Nom du produit",productNamePlaceholder:"Entrez le nom du produit",description:"Description",descriptionPlaceholder:"Description dtaille du produit",category:"Catgorie",categoryPlaceholder:"Slectionnez une catgorie",sku:"Code SKU",skuPlaceholder:"Code unique du produit",barcode:"Code-barres",barcodePlaceholder:"Code-barres du produit",unitPrice:"Prix unitaire",costPrice:"Prix de revient",unit:"Unit",unitPlaceholder:"Ex: pice, bote, ml",minStock:"Stock minimum",maxStock:"Stock maximum",reorderLevel:"Niveau de rapprovisionnement",supplier:"Fournisseur",supplierPlaceholder:"Nom du fournisseur",expirationDate:"Date d'expiration",batchNumber:"Numro de lot",batchNumberPlaceholder:"Numro de lot du produit",location:"Emplacement",locationPlaceholder:"Emplacement de stockage",notes:"Notes",notesPlaceholder:"Notes supplmentaires",save:"Enregistrer le produit",cancel:"Annuler",required:"Champ obligatoire",success:"Produit cr avec succs!",error:"Erreur lors de la cration du produit",categories:{reagents:"Ractifs",consumables:"Consommables",equipment:"quipements",maintenance:"Maintenance",calibration:"talonnage",quality_control:"Contrle qualit",other:"Autre"}},en:{title:"Create New Product",subtitle:"Add a new product to the stock management system",backToStock:"Back to Stock",productInfo:"Product Information",pricingInfo:"Pricing Information",stockInfo:"Stock Information",additionalInfo:"Additional Information",productName:"Product Name",productNamePlaceholder:"Enter product name",description:"Description",descriptionPlaceholder:"Detailed product description",category:"Category",categoryPlaceholder:"Select a category",sku:"SKU Code",skuPlaceholder:"Unique product code",barcode:"Barcode",barcodePlaceholder:"Product barcode",unitPrice:"Unit Price",costPrice:"Cost Price",unit:"Unit",unitPlaceholder:"Ex: piece, box, ml",minStock:"Minimum Stock",maxStock:"Maximum Stock",reorderLevel:"Reorder Level",supplier:"Supplier",supplierPlaceholder:"Supplier name",expirationDate:"Expiration Date",batchNumber:"Batch Number",batchNumberPlaceholder:"Product batch number",location:"Location",locationPlaceholder:"Storage location",notes:"Notes",notesPlaceholder:"Additional notes",save:"Save Product",cancel:"Cancel",required:"Required field",success:"Product created successfully!",error:"Error creating product",categories:{reagents:"Reagents",consumables:"Consumables",equipment:"Equipment",maintenance:"Maintenance",calibration:"Calibration",quality_control:"Quality Control",other:"Other"}}}[e],h=p=>{const{name:m,value:w}=p.target;c(E=>({...E,[m]:m.includes("Price")||m.includes("Stock")||m==="reorderLevel"?parseFloat(w)||0:w}))},x=()=>{const p=Date.now().toString().slice(-6),m=Math.random().toString(36).substring(2,5).toUpperCase();return`${l.category?l.category.substring(0,3).toUpperCase():"PRD"}-${m}-${p}`},g=()=>{c(p=>({...p,sku:x()}))},v=()=>l.name.trim()?l.category?l.sku.trim()?l.unit.trim()?l.unitPrice<0||l.costPrice<0?(o("Les prix ne peuvent pas tre ngatifs"),!1):l.minStock<0||l.maxStock<0||l.reorderLevel<0?(o("Les quantits de stock ne peuvent pas tre ngatives"),!1):l.maxStock>0&&l.minStock>l.maxStock?(o("Le stock minimum ne peut pas tre suprieur au stock maximum"),!1):!0:(o("L'unit est obligatoire"),!1):(o("Le code SKU est obligatoire"),!1):(o("La catgorie est obligatoire"),!1):(o("Le nom du produit est obligatoire"),!1),y=async p=>{if(p.preventDefault(),o(""),!!v()){s(!0);try{const m={...l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),id:`product_${Date.now()}`,currentStock:0,status:"active"};await new Promise(E=>setTimeout(E,1e3));const w=JSON.parse(localStorage.getItem("sil_products")||"[]");w.push(m),localStorage.setItem("sil_products",JSON.stringify(w)),i(!0),setTimeout(()=>{t("/stock/dashboard")},2e3)}catch{o(u.error)}finally{s(!1)}}},N=()=>{t("/stock/dashboard")};return n?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Wt,{size:64,className:"mx-auto text-green-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:u.success}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:['Le produit "',l.name,'" a t cr avec succs.']}),r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})]})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:N,className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mb-4",children:[r.jsx(DA,{size:20,className:"mr-2"}),u.backToStock]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ga,{size:32,className:"text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u.subtitle})]})]})]}),A&&r.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Hn,{size:20,className:"text-red-500 mr-3"}),r.jsx("span",{className:"text-red-700 dark:text-red-300",children:A})]})}),r.jsxs("form",{onSubmit:y,className:"space-y-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(t3,{size:20,className:"mr-2 text-blue-600"}),u.productInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.productName," *"]}),r.jsx("input",{type:"text",name:"name",value:l.name,onChange:h,placeholder:u.productNamePlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.category," *"]}),r.jsxs("select",{name:"category",value:l.category,onChange:h,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:u.categoryPlaceholder}),r.jsx("option",{value:"reagents",children:u.categories.reagents}),r.jsx("option",{value:"consumables",children:u.categories.consumables}),r.jsx("option",{value:"equipment",children:u.categories.equipment}),r.jsx("option",{value:"maintenance",children:u.categories.maintenance}),r.jsx("option",{value:"calibration",children:u.categories.calibration}),r.jsx("option",{value:"quality_control",children:u.categories.quality_control}),r.jsx("option",{value:"other",children:u.categories.other})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.description}),r.jsx("textarea",{name:"description",value:l.description,onChange:h,placeholder:u.descriptionPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.sku," *"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",name:"sku",value:l.sku,onChange:h,placeholder:u.skuPlaceholder,className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r.jsx("button",{type:"button",onClick:g,className:"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-500",children:"Gnrer"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.barcode}),r.jsxs("div",{className:"relative",children:[r.jsx(l5,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),r.jsx("input",{type:"text",name:"barcode",value:l.barcode,onChange:h,placeholder:u.barcodePlaceholder,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.unit," *"]}),r.jsx("input",{type:"text",name:"unit",value:l.unit,onChange:h,placeholder:u.unitPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(fs,{size:20,className:"mr-2 text-green-600"}),u.pricingInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.unitPrice}),r.jsx("input",{type:"number",name:"unitPrice",value:l.unitPrice,onChange:h,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.costPrice}),r.jsx("input",{type:"number",name:"costPrice",value:l.costPrice,onChange:h,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(Ga,{size:20,className:"mr-2 text-purple-600"}),u.stockInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.minStock}),r.jsx("input",{type:"number",name:"minStock",value:l.minStock,onChange:h,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.maxStock}),r.jsx("input",{type:"number",name:"maxStock",value:l.maxStock,onChange:h,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.reorderLevel}),r.jsx("input",{type:"number",name:"reorderLevel",value:l.reorderLevel,onChange:h,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[r.jsx(zr,{size:20,className:"mr-2 text-orange-600"}),u.additionalInfo]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.supplier}),r.jsxs("div",{className:"relative",children:[r.jsx(Ri,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),r.jsx("input",{type:"text",name:"supplier",value:l.supplier,onChange:h,placeholder:u.supplierPlaceholder,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.expirationDate}),r.jsxs("div",{className:"relative",children:[r.jsx(Va,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),r.jsx("input",{type:"date",name:"expirationDate",value:l.expirationDate,onChange:h,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.batchNumber}),r.jsx("input",{type:"text",name:"batchNumber",value:l.batchNumber,onChange:h,placeholder:u.batchNumberPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.location}),r.jsx("input",{type:"text",name:"location",value:l.location,onChange:h,placeholder:u.locationPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.notes}),r.jsx("textarea",{name:"notes",value:l.notes,onChange:h,placeholder:u.notesPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{type:"button",onClick:N,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.cancel}),r.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),u.save]})})]})]})]})})}function CL(){const{user:e,language:t}=At(),a=Ks(),[s,n]=L.useState({productId:"",quantity:0,usedBy:(e==null?void 0:e.name)||"",department:"",purpose:"",notes:""}),[i,A]=L.useState([]),[o,l]=L.useState(!1),[c,u]=L.useState({}),[h,x]=L.useState(!1),[g,v]=L.useState(""),[y,N]=L.useState(null),p={title:t==="fr"?"Utiliser Stock":"Use Stock",subtitle:t==="fr"?"Enregistrer l'utilisation de stock":"Record stock usage",product:t==="fr"?"Produit":"Product",selectProduct:t==="fr"?"Slectionner un produit":"Select a product",searchProduct:t==="fr"?"Rechercher un produit...":"Search for a product...",quantity:t==="fr"?"Quantit utilise":"Quantity Used",usedBy:t==="fr"?"Utilis par":"Used By",department:t==="fr"?"Dpartement":"Department",purpose:t==="fr"?"Objectif":"Purpose",notes:"Notes",currentStock:t==="fr"?"Stock actuel":"Current Stock",availableStock:t==="fr"?"Stock disponible":"Available Stock",save:t==="fr"?"Enregistrer":"Save",cancel:t==="fr"?"Annuler":"Cancel",back:t==="fr"?"Retour":"Back",required:t==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:t==="fr"?"La quantit doit tre suprieure  0":"Quantity must be greater than 0",insufficientStock:t==="fr"?"Stock insuffisant":"Insufficient stock",success:t==="fr"?"Utilisation enregistre avec succs":"Usage recorded successfully",error:t==="fr"?"Erreur lors de l'enregistrement":"Error recording usage",loading:t==="fr"?"Enregistrement...":"Saving...",noProducts:t==="fr"?"Aucun produit trouv":"No products found",departments:{lab:t==="fr"?"Laboratoire":"Laboratory",research:t==="fr"?"Recherche":"Research",quality:t==="fr"?"Contrle Qualit":"Quality Control",maintenance:"Maintenance",other:t==="fr"?"Autre":"Other"},purposes:{testing:t==="fr"?"Tests":"Testing",calibration:t==="fr"?"talonnage":"Calibration",maintenance:"Maintenance",research:t==="fr"?"Recherche":"Research",other:t==="fr"?"Autre":"Other"}};L.useEffect(()=>{m()},[]);const m=async()=>{try{const F=await kt.getProducts({limit:100});A(Array.isArray(F)?F:[])}catch(F){console.error("Error loading products:",F)}},w=()=>{const F={};return s.productId||(F.productId=p.required),s.quantity<=0?F.quantity=p.invalidQuantity:y&&s.quantity>y.currentStock&&(F.quantity=p.insufficientStock),s.department.trim()||(F.department=p.required),s.purpose.trim()||(F.purpose=p.required),u(F),Object.keys(F).length===0},E=async F=>{if(F.preventDefault(),!!w()){l(!0);try{await kt.useStock(s),alert(p.success),a("/stock/dashboard")}catch(C){console.error("Error using stock:",C),alert(p.error)}finally{l(!1)}}},U=(F,C)=>{n(K=>({...K,[F]:C})),c[F]&&u(K=>({...K,[F]:""}))},D=i.filter(F=>F.name.toLowerCase().includes(g.toLowerCase())||F.code.toLowerCase().includes(g.toLowerCase()));return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>a("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[r.jsx(DA,{size:20,className:"mr-2"}),p.back]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:p.subtitle})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsxs("form",{onSubmit:E,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:(y==null?void 0:y.name)||"",onClick:()=>x(!0),readOnly:!0,placeholder:p.selectProduct,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(Br,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),c.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.productId})]}),y&&r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[p.currentStock,":"]}),r.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[y.currentStock," ",y.unit]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.quantity," *"]}),r.jsx("input",{type:"number",value:s.quantity,onChange:F=>U("quantity",parseInt(F.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),c.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.quantity})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.department," *"]}),r.jsxs("select",{value:s.department,onChange:F=>U("department",F.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.department?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:p.selectProduct}),r.jsx("option",{value:p.departments.lab,children:p.departments.lab}),r.jsx("option",{value:p.departments.research,children:p.departments.research}),r.jsx("option",{value:p.departments.quality,children:p.departments.quality}),r.jsx("option",{value:p.departments.maintenance,children:p.departments.maintenance}),r.jsx("option",{value:p.departments.other,children:p.departments.other})]}),c.department&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.department})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.purpose," *"]}),r.jsxs("select",{value:s.purpose,onChange:F=>U("purpose",F.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.purpose?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:p.selectProduct}),r.jsx("option",{value:p.purposes.testing,children:p.purposes.testing}),r.jsx("option",{value:p.purposes.calibration,children:p.purposes.calibration}),r.jsx("option",{value:p.purposes.maintenance,children:p.purposes.maintenance}),r.jsx("option",{value:p.purposes.research,children:p.purposes.research}),r.jsx("option",{value:p.purposes.other,children:p.purposes.other})]}),c.purpose&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.purpose})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.usedBy}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:s.usedBy,onChange:F=>U("usedBy",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),r.jsx(ma,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.notes}),r.jsx("textarea",{value:s.notes,onChange:F=>U("notes",F.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:()=>a("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:p.cancel}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),p.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),p.save]})})]})]})}),h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:p.selectProduct}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:p.searchProduct,value:g,onChange:F=>v(F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:D.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:p.noProducts}):D.map(F=>r.jsxs("button",{onClick:()=>{n(C=>({...C,productId:F.id})),N(F),v(F.name),x(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:F.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[F.code,"  ",F.category,"  ",F.unit]}),r.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[p.currentStock,": ",F.currentStock]})]},F.id))})})]})})]})}function SL({onClose:e,onSuccess:t}){const{user:a,language:s}=At(),[n,i]=L.useState({productId:"",fromLocation:"",toLocation:"",quantity:0,transferredBy:(a==null?void 0:a.name)||"",notes:""}),[A,o]=L.useState([]),[l,c]=L.useState(!1),[u,h]=L.useState({}),[x,g]=L.useState(!1),[v,y]=L.useState(""),[N,p]=L.useState(null),m={title:s==="fr"?"Transfrer Stock":"Transfer Stock",subtitle:s==="fr"?"Dplacer du stock entre emplacements":"Move stock between locations",product:s==="fr"?"Produit":"Product",selectProduct:s==="fr"?"Slectionner un produit":"Select a product",searchProduct:s==="fr"?"Rechercher un produit...":"Search for a product...",fromLocation:s==="fr"?"Emplacement source":"Source Location",toLocation:s==="fr"?"Emplacement destination":"Destination Location",quantity:s==="fr"?"Quantit  transfrer":"Quantity to Transfer",transferredBy:s==="fr"?"Transfr par":"Transferred By",notes:"Notes",currentStock:s==="fr"?"Stock actuel":"Current Stock",save:s==="fr"?"Transfrer":"Transfer",cancel:s==="fr"?"Annuler":"Cancel",required:s==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:s==="fr"?"La quantit doit tre suprieure  0":"Quantity must be greater than 0",insufficientStock:s==="fr"?"Stock insuffisant  l'emplacement source":"Insufficient stock at source location",sameLocation:s==="fr"?"Les emplacements source et destination doivent tre diffrents":"Source and destination locations must be different",success:s==="fr"?"Transfert effectu avec succs":"Transfer completed successfully",error:s==="fr"?"Erreur lors du transfert":"Error during transfer",loading:s==="fr"?"Transfert en cours...":"Transferring...",noProducts:s==="fr"?"Aucun produit trouv":"No products found",commonLocations:{fridge:s==="fr"?"Rfrigrateur":"Fridge",freezer:s==="fr"?"Conglateur":"Freezer",cabinet1:s==="fr"?"Armoire 1":"Cabinet 1",cabinet2:s==="fr"?"Armoire 2":"Cabinet 2",cabinet3:s==="fr"?"Armoire 3":"Cabinet 3",shelf1:s==="fr"?"tagre 1":"Shelf 1",shelf2:s==="fr"?"tagre 2":"Shelf 2",other:s==="fr"?"Autre":"Other"}};L.useEffect(()=>{w()},[]);const w=async()=>{try{const C=await kt.getProducts({limit:100});o(C.products||[])}catch(C){console.error("Error loading products:",C)}},E=()=>{const C={};return n.productId||(C.productId=m.required),n.fromLocation||(C.fromLocation=m.required),n.toLocation||(C.toLocation=m.required),n.fromLocation===n.toLocation&&(C.toLocation=m.sameLocation),(!n.quantity||n.quantity<=0)&&(C.quantity=m.invalidQuantity),n.transferredBy||(C.transferredBy=m.required),N&&n.quantity>N.currentStock&&(C.quantity=m.insufficientStock),h(C),Object.keys(C).length===0},U=async C=>{if(C.preventDefault(),!!E()){c(!0);try{await kt.transferStock(n),t==null||t(),e()}catch(K){console.error("Error transferring stock:",K),alert(m.error)}finally{c(!1)}}},D=(C,K)=>{i(M=>({...M,[C]:K})),u[C]&&h(M=>({...M,[C]:""}))},F=A.filter(C=>C.name.toLowerCase().includes(v.toLowerCase())||C.code.toLowerCase().includes(v.toLowerCase())||C.category.toLowerCase().includes(v.toLowerCase()));return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:m.subtitle})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:24})})]}),r.jsxs("form",{onSubmit:U,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:m.selectProduct,value:v,onChange:C=>y(C.target.value),onClick:()=>g(!0),readOnly:!0,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(Br,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),u.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.productId}),N&&r.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:[m.currentStock,": ",N.currentStock," ",N.unit]}),N.currentStock<=0&&r.jsx(Zt,{className:"h-4 w-4 text-red-500"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.fromLocation," *"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:n.fromLocation,onChange:C=>D("fromLocation",C.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.fromLocation?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:m.commonLocations.other}),r.jsx("option",{value:"fridge",children:m.commonLocations.fridge}),r.jsx("option",{value:"freezer",children:m.commonLocations.freezer}),r.jsx("option",{value:"cabinet1",children:m.commonLocations.cabinet1}),r.jsx("option",{value:"cabinet2",children:m.commonLocations.cabinet2}),r.jsx("option",{value:"cabinet3",children:m.commonLocations.cabinet3}),r.jsx("option",{value:"shelf1",children:m.commonLocations.shelf1}),r.jsx("option",{value:"shelf2",children:m.commonLocations.shelf2})]}),r.jsx(TA,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 pointer-events-none"})]}),u.fromLocation&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.fromLocation})]}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(Ah,{className:"h-6 w-6 text-gray-400"})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.toLocation," *"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:n.toLocation,onChange:C=>D("toLocation",C.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.toLocation?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:m.commonLocations.other}),r.jsx("option",{value:"fridge",children:m.commonLocations.fridge}),r.jsx("option",{value:"freezer",children:m.commonLocations.freezer}),r.jsx("option",{value:"cabinet1",children:m.commonLocations.cabinet1}),r.jsx("option",{value:"cabinet2",children:m.commonLocations.cabinet2}),r.jsx("option",{value:"cabinet3",children:m.commonLocations.cabinet3}),r.jsx("option",{value:"shelf1",children:m.commonLocations.shelf1}),r.jsx("option",{value:"shelf2",children:m.commonLocations.shelf2})]}),r.jsx(TA,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 pointer-events-none"})]}),u.toLocation&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.toLocation})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.quantity," *"]}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:n.quantity,onChange:C=>D("quantity",parseFloat(C.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),u.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.quantity})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.transferredBy," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:n.transferredBy,onChange:C=>D("transferredBy",C.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.transferredBy?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(ma,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),u.transferredBy&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.transferredBy})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.notes}),r.jsx("textarea",{value:n.notes,onChange:C=>D("notes",C.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes about the transfer..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:m.cancel}),r.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),m.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),m.save]})})]})]})]}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.selectProduct}),r.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:m.searchProduct,value:v,onChange:C=>y(C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:F.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:m.noProducts}):F.map(C=>r.jsxs("button",{onClick:()=>{i(K=>({...K,productId:C.id})),y(C.name),p(C),g(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:C.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[C.code,"  ",C.category,"  ",C.unit]}),r.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:[m.currentStock,": ",C.currentStock," ",C.unit]})]},C.id))})})]})})]})}function FL(){const{user:e,language:t}=At(),a=Ks(),[s,n]=L.useState({productId:"",newQuantity:0,reason:"",adjustedBy:(e==null?void 0:e.name)||"",notes:""}),[i,A]=L.useState([]),[o,l]=L.useState(!1),[c,u]=L.useState({}),[h,x]=L.useState(!1),[g,v]=L.useState(""),[y,N]=L.useState(null),p={title:t==="fr"?"Ajuster Inventaire":"Adjust Inventory",subtitle:t==="fr"?"Corriger manuellement les niveaux de stock":"Manually correct stock levels",product:t==="fr"?"Produit":"Product",selectProduct:t==="fr"?"Slectionner un produit":"Select a product",searchProduct:t==="fr"?"Rechercher un produit...":"Search for a product...",currentQuantity:t==="fr"?"Quantit actuelle":"Current Quantity",newQuantity:t==="fr"?"Nouvelle quantit":"New Quantity",difference:t==="fr"?"Diffrence":"Difference",reason:t==="fr"?"Raison de l'ajustement":"Adjustment Reason",adjustedBy:t==="fr"?"Ajust par":"Adjusted By",notes:"Notes",save:t==="fr"?"Ajuster":"Adjust",cancel:t==="fr"?"Annuler":"Cancel",back:t==="fr"?"Retour":"Back",required:t==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:t==="fr"?"La quantit doit tre positive":"Quantity must be positive",invalidReason:t==="fr"?"La raison doit contenir au moins 5 caractres":"Reason must be at least 5 characters",success:t==="fr"?"Ajustement effectu avec succs":"Adjustment completed successfully",error:t==="fr"?"Erreur lors de l'ajustement":"Error during adjustment",loading:t==="fr"?"Ajustement en cours...":"Adjusting...",noProducts:t==="fr"?"Aucun produit trouv":"No products found",reasons:{damage:t==="fr"?"Produit endommag":"Damaged product",loss:t==="fr"?"Perte de stock":"Stock loss",found:t==="fr"?"Stock retrouv":"Stock found",correction:t==="fr"?"Correction d'erreur":"Error correction",audit:t==="fr"?"Audit d'inventaire":"Inventory audit",other:t==="fr"?"Autre":"Other"}};L.useEffect(()=>{m()},[]);const m=async()=>{try{const M=await kt.getProducts({limit:100});A(Array.isArray(M)?M:[])}catch(M){console.error("Error loading products:",M)}},w=()=>{const M={};return s.productId||(M.productId=p.required),s.newQuantity<0&&(M.newQuantity=p.invalidQuantity),(!s.reason.trim()||s.reason.trim().length<5)&&(M.reason=p.invalidReason),u(M),Object.keys(M).length===0},E=async M=>{if(M.preventDefault(),!!w()){l(!0);try{await kt.adjustInventory(s),alert(p.success),a("/stock/dashboard")}catch(Q){console.error("Error adjusting inventory:",Q),alert(p.error)}finally{l(!1)}}},U=(M,Q)=>{n(j=>({...j,[M]:Q})),c[M]&&u(j=>({...j,[M]:""}))},D=()=>y?s.newQuantity-y.currentStock:0,F=()=>{const M=D();return M>0?"text-green-600 dark:text-green-400":M<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"},C=()=>{const M=D();return M>0?r.jsx(Vn,{size:16,className:"text-green-600 dark:text-green-400"}):M<0?r.jsx(Ki,{size:16,className:"text-red-600 dark:text-red-400"}):null},K=i.filter(M=>M.name.toLowerCase().includes(g.toLowerCase())||M.code.toLowerCase().includes(g.toLowerCase()));return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>a("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[r.jsx(DA,{size:20,className:"mr-2"}),p.back]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:p.subtitle})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsxs("form",{onSubmit:E,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.product," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:(y==null?void 0:y.name)||"",onClick:()=>x(!0),readOnly:!0,placeholder:p.selectProduct,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),r.jsx(Br,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),c.productId&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.productId})]}),y&&r.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[p.currentQuantity,":"]}),r.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[y.currentStock," ",y.unit]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.newQuantity," *"]}),r.jsx("input",{type:"number",value:s.newQuantity,onChange:M=>U("newQuantity",parseInt(M.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.newQuantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),c.newQuantity&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.newQuantity})]}),y&&r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[p.difference,":"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[C(),r.jsxs("span",{className:`text-lg font-semibold ${F()}`,children:[D()>0?"+":"",D()," ",y.unit]})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.reason," *"]}),r.jsxs("select",{value:s.reason,onChange:M=>U("reason",M.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.reason?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[r.jsx("option",{value:"",children:p.selectProduct}),r.jsx("option",{value:p.reasons.damage,children:p.reasons.damage}),r.jsx("option",{value:p.reasons.loss,children:p.reasons.loss}),r.jsx("option",{value:p.reasons.found,children:p.reasons.found}),r.jsx("option",{value:p.reasons.correction,children:p.reasons.correction}),r.jsx("option",{value:p.reasons.audit,children:p.reasons.audit}),r.jsx("option",{value:p.reasons.other,children:p.reasons.other})]}),c.reason&&r.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.reason})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.adjustedBy}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:s.adjustedBy,onChange:M=>U("adjustedBy",M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),r.jsx(ma,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.notes}),r.jsx("textarea",{value:s.notes,onChange:M=>U("notes",M.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:()=>a("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:p.cancel}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),p.loading]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),p.save]})})]})]})}),h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:p.selectProduct}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(ht,{size:20})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("input",{type:"text",placeholder:p.searchProduct,value:g,onChange:M=>v(M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:K.length===0?r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:p.noProducts}):K.map(M=>r.jsxs("button",{onClick:()=>{n(Q=>({...Q,productId:M.id})),N(M),v(M.name),x(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:M.name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[M.code,"  ",M.category,"  ",M.unit]}),r.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[p.currentQuantity,": ",M.currentStock]})]},M.id))})})]})})]})}function EL(){const{language:e}=At(),[t,a]=L.useState([]),[s,n]=L.useState([]),[i,A]=L.useState(""),[o,l]=L.useState("all"),[c,u]=L.useState(!0),[h,x]=L.useState(!1),[g,v]=L.useState(null),[y,N]=L.useState(null),p={fr:{title:"Gestion des Fournisseurs",subtitle:"Grez vos fournisseurs et partenaires",addSupplier:"Ajouter Fournisseur",editSupplier:"Modifier Fournisseur",viewSupplier:"Dtails Fournisseur",search:"Rechercher...",filter:"Filtrer par statut",all:"Tous",active:"Actif",inactive:"Inactif",code:"Code",name:"Nom",email:"Email",phone:"Tlphone",address:"Adresse",contactPerson:"Personne de contact",status:"Statut",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"tes-vous sr de vouloir supprimer ce fournisseur ?",success:"Fournisseur enregistr avec succs",error:"Erreur lors de l'enregistrement",noSuppliers:"Aucun fournisseur trouv",totalSuppliers:"Total Fournisseurs",activeSuppliers:"Fournisseurs Actifs",recentSuppliers:"Fournisseurs Rcents"},en:{title:"Suppliers Management",subtitle:"Manage your suppliers and partners",addSupplier:"Add Supplier",editSupplier:"Edit Supplier",viewSupplier:"View Supplier",search:"Search...",filter:"Filter by status",all:"All",active:"Active",inactive:"Inactive",code:"Code",name:"Name",email:"Email",phone:"Phone",address:"Address",contactPerson:"Contact Person",status:"Status",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Are you sure you want to delete this supplier?",success:"Supplier saved successfully",error:"Error saving supplier",noSuppliers:"No suppliers found",totalSuppliers:"Total Suppliers",activeSuppliers:"Active Suppliers",recentSuppliers:"Recent Suppliers"}}[e];L.useEffect(()=>{m()},[]),L.useEffect(()=>{w()},[t,i,o]);const m=async()=>{try{u(!0);const C=await kt.getSuppliers();a(C)}catch(C){console.error("Error loading suppliers:",C)}finally{u(!1)}},w=()=>{let C=t;i&&(C=C.filter(K=>{var M;return K.name.toLowerCase().includes(i.toLowerCase())||K.code.toLowerCase().includes(i.toLowerCase())||((M=K.email)==null?void 0:M.toLowerCase().includes(i.toLowerCase()))})),o!=="all"&&(C=C.filter(K=>o==="active"?K.isActive:!K.isActive)),n(C)},E=async C=>{try{g?await kt.updateSupplier(g.id,C):await kt.createSupplier(C),await m(),x(!1),v(null),alert(p.success)}catch(K){console.error("Error saving supplier:",K),alert(p.error)}},U=async C=>{if(window.confirm(p.confirmDelete))try{await kt.deleteSupplier(C),await m()}catch(K){console.error("Error deleting supplier:",K),alert(p.error)}},D=t.filter(C=>C.isActive).length,F=t.filter(C=>{const K=new Date(C.createdAt),M=new Date;return M.setDate(M.getDate()-30),K>M}).length;return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:p.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:p.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ri,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.totalSuppliers}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ri,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.activeSuppliers}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ri,{className:"h-8 w-8 text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p.recentSuppliers}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:i,onChange:C=>A(C.target.value),placeholder:p.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:o,onChange:C=>l(C.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:p.all}),r.jsx("option",{value:"active",children:p.active}),r.jsx("option",{value:"inactive",children:p.inactive})]})]}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs("button",{onClick:()=>x(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:16,className:"mr-2"}),p.addSupplier]})})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.name}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.contactPerson}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.email}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.phone}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:p.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(C=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:C.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:C.contactPerson||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:C.email||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:C.phone||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:C.isActive?p.active:p.inactive})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>N(C),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(ms,{size:16})}),r.jsx("button",{onClick:()=>{v(C),x(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:r.jsx(Xn,{size:16})}),r.jsx("button",{onClick:()=>U(C.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(qs,{size:16})})]})})]},C.id))})]})}),s.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:p.noSuppliers})})]}),h&&r.jsx(QL,{supplier:g,onSave:E,onCancel:()=>{x(!1),v(null)},t:p}),y&&r.jsx(UL,{supplier:y,onClose:()=>N(null),t:p})]})}function QL({supplier:e,onSave:t,onCancel:a,t:s}){const[n,i]=L.useState({name:(e==null?void 0:e.name)||"",code:(e==null?void 0:e.code)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",contactPerson:(e==null?void 0:e.contactPerson)||"",isActive:(e==null?void 0:e.isActive)??!0}),A=o=>{o.preventDefault(),t(n)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e?s.editSupplier:s.addSupplier}),r.jsxs("form",{onSubmit:A,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.code}),r.jsx("input",{type:"text",value:n.code,onChange:o=>i(l=>({...l,code:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.name}),r.jsx("input",{type:"text",value:n.name,onChange:o=>i(l=>({...l,name:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.contactPerson}),r.jsx("input",{type:"text",value:n.contactPerson,onChange:o=>i(l=>({...l,contactPerson:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.email}),r.jsx("input",{type:"email",value:n.email,onChange:o=>i(l=>({...l,email:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.phone}),r.jsx("input",{type:"tel",value:n.phone,onChange:o=>i(l=>({...l,phone:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.address}),r.jsx("textarea",{value:n.address,onChange:o=>i(l=>({...l,address:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:o=>i(l=>({...l,isActive:o.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:s.active})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:s.cancel}),r.jsx("button",{onClick:()=>t(n),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:s.save})]})]})})}function UL({supplier:e,onClose:t,t:a}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a.viewSupplier}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.code}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.code})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.name}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.contactPerson}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.contactPerson||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.email}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.email||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.phone}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.phone||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.address}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.address||"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.status}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:e.isActive?a.active:a.inactive})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a.cancel})})]})})}function LL(){const{language:e}=At(),[t,a]=L.useState([]),[s,n]=L.useState([]),[i,A]=L.useState([]),[o,l]=L.useState([]),[c,u]=L.useState(""),[h,x]=L.useState("all"),[g,v]=L.useState(!0),[y,N]=L.useState(!1),[p,m]=L.useState(null),[w,E]=L.useState(null),U={fr:{title:"Gestion des Commandes",subtitle:"Grez vos commandes de stock",addOrder:"Nouvelle Commande",editOrder:"Modifier Commande",viewOrder:"Dtails Commande",search:"Rechercher...",filter:"Filtrer par statut",all:"Tous",draft:"Brouillon",pending:"En attente",confirmed:"Confirme",shipped:"Expdie",delivered:"Livre",cancelled:"Annule",orderNumber:"N Commande",supplier:"Fournisseur",status:"Statut",orderDate:"Date Commande",expectedDate:"Date Livraison",totalAmount:"Montant Total",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"tes-vous sr de vouloir supprimer cette commande ?",success:"Commande enregistre avec succs",error:"Erreur lors de l'enregistrement",noOrders:"Aucune commande trouve",totalOrders:"Total Commandes",pendingOrders:"Commandes En Attente",totalValue:"Valeur Totale"},en:{title:"Orders Management",subtitle:"Manage your stock orders",addOrder:"New Order",editOrder:"Edit Order",viewOrder:"View Order",search:"Search...",filter:"Filter by status",all:"All",draft:"Draft",pending:"Pending",confirmed:"Confirmed",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",orderNumber:"Order Number",supplier:"Supplier",status:"Status",orderDate:"Order Date",expectedDate:"Expected Date",totalAmount:"Total Amount",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Are you sure you want to delete this order?",success:"Order saved successfully",error:"Error saving order",noOrders:"No orders found",totalOrders:"Total Orders",pendingOrders:"Pending Orders",totalValue:"Total Value"}}[e];L.useEffect(()=>{D()},[]),L.useEffect(()=>{F()},[t,c,h]);const D=async()=>{try{v(!0);const[z,H,S]=await Promise.all([kt.getOrders(),kt.getSuppliers(),kt.getProducts()]);a(z),A(H),l(S)}catch(z){console.error("Error loading data:",z)}finally{v(!1)}},F=()=>{let z=t;c&&(z=z.filter(H=>H.orderNumber.toLowerCase().includes(c.toLowerCase())||H.supplier.name.toLowerCase().includes(c.toLowerCase()))),h!=="all"&&(z=z.filter(H=>H.status===h.toUpperCase())),n(z)},C=async z=>{try{p?await kt.updateOrder(p.id,z):await kt.createOrder(z),await D(),N(!1),m(null),alert(U.success)}catch(H){console.error("Error saving order:",H),alert(U.error)}},K=async z=>{if(window.confirm(U.confirmDelete))try{await kt.deleteOrder(z),await D()}catch(H){console.error("Error deleting order:",H),alert(U.error)}},M=z=>{switch(z){case"DRAFT":return r.jsx(Ka,{className:"h-4 w-4 text-gray-500"});case"PENDING":return r.jsx(Ka,{className:"h-4 w-4 text-yellow-500"});case"CONFIRMED":return r.jsx(Wt,{className:"h-4 w-4 text-blue-500"});case"SHIPPED":return r.jsx(u5,{className:"h-4 w-4 text-purple-500"});case"DELIVERED":return r.jsx(Wt,{className:"h-4 w-4 text-green-500"});case"CANCELLED":return r.jsx(qi,{className:"h-4 w-4 text-red-500"});default:return r.jsx(Ka,{className:"h-4 w-4 text-gray-500"})}},Q=z=>{switch(z){case"DRAFT":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"CONFIRMED":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"SHIPPED":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"DELIVERED":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"CANCELLED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},j=t.filter(z=>z.status==="PENDING").length,T=t.reduce((z,H)=>z+H.totalAmount,0);return g?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:U.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:U.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(d5,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:U.totalOrders}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ka,{className:"h-8 w-8 text-yellow-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:U.pendingOrders}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"h-8 w-8 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:U.totalValue}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[T.toFixed(2)," dh"]})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",value:c,onChange:z=>u(z.target.value),placeholder:U.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:h,onChange:z=>x(z.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:U.all}),r.jsx("option",{value:"draft",children:U.draft}),r.jsx("option",{value:"pending",children:U.pending}),r.jsx("option",{value:"confirmed",children:U.confirmed}),r.jsx("option",{value:"shipped",children:U.shipped}),r.jsx("option",{value:"delivered",children:U.delivered}),r.jsx("option",{value:"cancelled",children:U.cancelled})]})]}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs("button",{onClick:()=>N(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:16,className:"mr-2"}),U.addOrder]})})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.orderNumber}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.supplier}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.orderDate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.expectedDate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.totalAmount}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.actions})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(z=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:z.orderNumber}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:z.supplier.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[M(z.status),r.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Q(z.status)}`,children:U[z.status.toLowerCase()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(z.orderDate).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:z.expectedDate?new Date(z.expectedDate).toLocaleDateString():"-"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:[z.totalAmount.toFixed(2)," dh"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>E(z),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(ms,{size:16})}),r.jsx("button",{onClick:()=>{m(z),N(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:r.jsx(Xn,{size:16})}),r.jsx("button",{onClick:()=>K(z.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(qs,{size:16})})]})})]},z.id))})]})}),s.length===0&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:U.noOrders})})]}),y&&r.jsx(IL,{order:p,suppliers:i,products:o,onSave:C,onCancel:()=>{N(!1),m(null)},t:U}),w&&r.jsx(PL,{order:w,onClose:()=>E(null),t:U})]})}function IL({order:e,suppliers:t,products:a,onSave:s,onCancel:n,t:i}){const[A,o]=L.useState({supplierId:(e==null?void 0:e.supplierId)||"",status:(e==null?void 0:e.status)||"DRAFT",expectedDate:e!=null&&e.expectedDate?e.expectedDate.split("T")[0]:"",notes:(e==null?void 0:e.notes)||"",orderItems:(e==null?void 0:e.orderItems)||[]}),[l,c]=L.useState({productId:"",quantity:1,unitPrice:0}),u=()=>{if(l.productId&&l.quantity>0){const g=a.find(y=>y.id===l.productId),v=l.quantity*l.unitPrice;o(y=>({...y,orderItems:[...y.orderItems,{id:Date.now().toString(),productId:l.productId,product:g,quantity:l.quantity,unitPrice:l.unitPrice,totalPrice:v}]})),c({productId:"",quantity:1,unitPrice:0})}},h=g=>{o(v=>({...v,orderItems:v.orderItems.filter((y,N)=>N!==g)}))},x=g=>{g.preventDefault();const v=A.orderItems.reduce((y,N)=>y+N.totalPrice,0);s({...A,totalAmount:v})};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e?i.editOrder:i.addOrder}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.supplier}),r.jsxs("select",{value:A.supplierId,onChange:g=>o(v=>({...v,supplierId:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0,children:[r.jsx("option",{value:"",children:i.supplier}),t.map(g=>r.jsxs("option",{value:g.id,children:[g.name," (",g.code,")"]},g.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.status}),r.jsxs("select",{value:A.status,onChange:g=>o(v=>({...v,status:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"DRAFT",children:i.draft}),r.jsx("option",{value:"PENDING",children:i.pending}),r.jsx("option",{value:"CONFIRMED",children:i.confirmed}),r.jsx("option",{value:"SHIPPED",children:i.shipped}),r.jsx("option",{value:"DELIVERED",children:i.delivered}),r.jsx("option",{value:"CANCELLED",children:i.cancelled})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.expectedDate}),r.jsx("input",{type:"date",value:A.expectedDate,onChange:g=>o(v=>({...v,expectedDate:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),r.jsx("textarea",{value:A.notes,onChange:g=>o(v=>({...v,notes:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-4",children:[r.jsxs("select",{value:l.productId,onChange:g=>{const v=a.find(y=>y.id===g.target.value);c(y=>({...y,productId:g.target.value,unitPrice:(v==null?void 0:v.price)||0}))},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"",children:"Select Product"}),a.map(g=>r.jsxs("option",{value:g.id,children:[g.name," (",g.code,")"]},g.id))]}),r.jsx("input",{type:"number",placeholder:"Quantity",value:l.quantity,onChange:g=>c(v=>({...v,quantity:parseInt(g.target.value)||0})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",min:"1"}),r.jsx("input",{type:"number",placeholder:"Unit Price",value:l.unitPrice,onChange:g=>c(v=>({...v,unitPrice:parseFloat(g.target.value)||0})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",step:"0.01",min:"0"}),r.jsx("button",{type:"button",onClick:u,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Add Item"})]}),r.jsx("div",{className:"space-y-2",children:A.orderItems.map((g,v)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:g.product.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.quantity," x ",g.unitPrice.toFixed(2)," dh = ",g.totalPrice.toFixed(2)," dh"]})]}),r.jsx("button",{type:"button",onClick:()=>h(v),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:r.jsx(qs,{size:16})})]},g.id))}),r.jsx("div",{className:"text-right mt-4",children:r.jsxs("p",{className:"text-lg font-bold",children:["Total: ",A.orderItems.reduce((g,v)=>g+v.totalPrice,0).toFixed(2)," dh"]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:i.cancel}),r.jsx("button",{onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:i.save})]})]})})}function PL({order:e,onClose:t,t:a}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a.viewOrder}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.orderNumber}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.orderNumber})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.supplier}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.supplier.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.status}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:a[e.status.toLowerCase()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.orderDate}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:new Date(e.orderDate).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.expectedDate}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.expectedDate?new Date(e.expectedDate).toLocaleDateString():"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a.totalAmount}),r.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.totalAmount.toFixed(2)," dh"]})]})]}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),r.jsx("p",{className:"text-gray-900 dark:text-white",children:e.notes})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),r.jsx("div",{className:"space-y-2",children:e.orderItems.map(s=>r.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:s.product.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.quantity," x ",s.unitPrice.toFixed(2)," dh = ",s.totalPrice.toFixed(2)," dh"]})]})},s.id))})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a.cancel})})]})})}function VB(e,t){return function(){return e.apply(t,arguments)}}const{toString:DL}=Object.prototype,{getPrototypeOf:ey}=Object,{iterator:sg,toStringTag:GB}=Symbol,ng=(e=>t=>{const a=DL.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Ws=e=>(e=e.toLowerCase(),t=>ng(t)===e),ig=e=>t=>typeof t===e,{isArray:kl}=Array,md=ig("undefined");function kd(e){return e!==null&&!md(e)&&e.constructor!==null&&!md(e.constructor)&&Ua(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const WB=Ws("ArrayBuffer");function TL(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&WB(e.buffer),t}const RL=ig("string"),Ua=ig("function"),$B=ig("number"),jd=e=>e!==null&&typeof e=="object",HL=e=>e===!0||e===!1,F0=e=>{if(ng(e)!=="object")return!1;const t=ey(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(GB in e)&&!(sg in e)},ML=e=>{if(!jd(e)||kd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},OL=Ws("Date"),_L=Ws("File"),KL=Ws("Blob"),qL=Ws("FileList"),zL=e=>jd(e)&&Ua(e.pipe),VL=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ua(e.append)&&((t=ng(e))==="formdata"||t==="object"&&Ua(e.toString)&&e.toString()==="[object FormData]"))},GL=Ws("URLSearchParams"),[WL,$L,JL,XL]=["ReadableStream","Request","Response","Headers"].map(Ws),YL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cd(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),kl(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(kd(e))return;const i=a?Object.getOwnPropertyNames(e):Object.keys(e),A=i.length;let o;for(s=0;s<A;s++)o=i[s],t.call(null,e[o],o,e)}}function JB(e,t){if(kd(e))return null;t=t.toLowerCase();const a=Object.keys(e);let s=a.length,n;for(;s-- >0;)if(n=a[s],t===n.toLowerCase())return n;return null}const NA=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),XB=e=>!md(e)&&e!==NA;function Hp(){const{caseless:e}=XB(this)&&this||{},t={},a=(s,n)=>{const i=e&&JB(t,n)||n;F0(t[i])&&F0(s)?t[i]=Hp(t[i],s):F0(s)?t[i]=Hp({},s):kl(s)?t[i]=s.slice():t[i]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&Cd(arguments[s],a);return t}const ZL=(e,t,a,{allOwnKeys:s}={})=>(Cd(t,(n,i)=>{a&&Ua(n)?e[i]=VB(n,a):e[i]=n},{allOwnKeys:s}),e),eI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),tI=(e,t,a,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},rI=(e,t,a,s)=>{let n,i,A;const o={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)A=n[i],(!s||s(A,e,t))&&!o[A]&&(t[A]=e[A],o[A]=!0);e=a!==!1&&ey(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},aI=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const s=e.indexOf(t,a);return s!==-1&&s===a},sI=e=>{if(!e)return null;if(kl(e))return e;let t=e.length;if(!$B(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},nI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ey(Uint8Array)),iI=(e,t)=>{const s=(e&&e[sg]).call(e);let n;for(;(n=s.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},AI=(e,t)=>{let a;const s=[];for(;(a=e.exec(t))!==null;)s.push(a);return s},oI=Ws("HTMLFormElement"),lI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,n){return s.toUpperCase()+n}),Bv=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),cI=Ws("RegExp"),YB=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),s={};Cd(a,(n,i)=>{let A;(A=t(n,i,e))!==!1&&(s[i]=A||n)}),Object.defineProperties(e,s)},dI=e=>{YB(e,(t,a)=>{if(Ua(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=e[a];if(Ua(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},uI=(e,t)=>{const a={},s=n=>{n.forEach(i=>{a[i]=!0})};return kl(e)?s(e):s(String(e).split(t)),a},hI=()=>{},gI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function fI(e){return!!(e&&Ua(e.append)&&e[GB]==="FormData"&&e[sg])}const mI=e=>{const t=new Array(10),a=(s,n)=>{if(jd(s)){if(t.indexOf(s)>=0)return;if(kd(s))return s;if(!("toJSON"in s)){t[n]=s;const i=kl(s)?[]:{};return Cd(s,(A,o)=>{const l=a(A,n+1);!md(l)&&(i[o]=l)}),t[n]=void 0,i}}return s};return a(e,0)},pI=Ws("AsyncFunction"),xI=e=>e&&(jd(e)||Ua(e))&&Ua(e.then)&&Ua(e.catch),ZB=((e,t)=>e?setImmediate:t?((a,s)=>(NA.addEventListener("message",({source:n,data:i})=>{n===NA&&i===a&&s.length&&s.shift()()},!1),n=>{s.push(n),NA.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Ua(NA.postMessage)),yI=typeof queueMicrotask<"u"?queueMicrotask.bind(NA):typeof process<"u"&&process.nextTick||ZB,bI=e=>e!=null&&Ua(e[sg]),fe={isArray:kl,isArrayBuffer:WB,isBuffer:kd,isFormData:VL,isArrayBufferView:TL,isString:RL,isNumber:$B,isBoolean:HL,isObject:jd,isPlainObject:F0,isEmptyObject:ML,isReadableStream:WL,isRequest:$L,isResponse:JL,isHeaders:XL,isUndefined:md,isDate:OL,isFile:_L,isBlob:KL,isRegExp:cI,isFunction:Ua,isStream:zL,isURLSearchParams:GL,isTypedArray:nI,isFileList:qL,forEach:Cd,merge:Hp,extend:ZL,trim:YL,stripBOM:eI,inherits:tI,toFlatObject:rI,kindOf:ng,kindOfTest:Ws,endsWith:aI,toArray:sI,forEachEntry:iI,matchAll:AI,isHTMLForm:oI,hasOwnProperty:Bv,hasOwnProp:Bv,reduceDescriptors:YB,freezeMethods:dI,toObjectSet:uI,toCamelCase:lI,noop:hI,toFiniteNumber:gI,findKey:JB,global:NA,isContextDefined:XB,isSpecCompliantForm:fI,toJSONObject:mI,isAsyncFn:pI,isThenable:xI,setImmediate:ZB,asap:yI,isIterable:bI};function ct(e,t,a,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}fe.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const eN=ct.prototype,tN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tN[e]={value:e}});Object.defineProperties(ct,tN);Object.defineProperty(eN,"isAxiosError",{value:!0});ct.from=(e,t,a,s,n,i)=>{const A=Object.create(eN);return fe.toFlatObject(e,A,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ct.call(A,e.message,t,a,s,n),A.cause=e,A.name=e.name,i&&Object.assign(A,i),A};const wI=null;function Mp(e){return fe.isPlainObject(e)||fe.isArray(e)}function rN(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function Nv(e,t,a){return e?e.concat(t).map(function(n,i){return n=rN(n),!a&&i?"["+n+"]":n}).join(a?".":""):t}function vI(e){return fe.isArray(e)&&!e.some(Mp)}const BI=fe.toFlatObject(fe,{},null,function(t){return/^is[A-Z]/.test(t)});function Ag(e,t,a){if(!fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=fe.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,N){return!fe.isUndefined(N[y])});const s=a.metaTokens,n=a.visitor||u,i=a.dots,A=a.indexes,l=(a.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(t);if(!fe.isFunction(n))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(fe.isDate(v))return v.toISOString();if(fe.isBoolean(v))return v.toString();if(!l&&fe.isBlob(v))throw new ct("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(v)||fe.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,y,N){let p=v;if(v&&!N&&typeof v=="object"){if(fe.endsWith(y,"{}"))y=s?y:y.slice(0,-2),v=JSON.stringify(v);else if(fe.isArray(v)&&vI(v)||(fe.isFileList(v)||fe.endsWith(y,"[]"))&&(p=fe.toArray(v)))return y=rN(y),p.forEach(function(w,E){!(fe.isUndefined(w)||w===null)&&t.append(A===!0?Nv([y],E,i):A===null?y:y+"[]",c(w))}),!1}return Mp(v)?!0:(t.append(Nv(N,y,i),c(v)),!1)}const h=[],x=Object.assign(BI,{defaultVisitor:u,convertValue:c,isVisitable:Mp});function g(v,y){if(!fe.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(v),fe.forEach(v,function(p,m){(!(fe.isUndefined(p)||p===null)&&n.call(t,p,fe.isString(m)?m.trim():m,y,x))===!0&&g(p,y?y.concat(m):[m])}),h.pop()}}if(!fe.isObject(e))throw new TypeError("data must be an object");return g(e),t}function kv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function ty(e,t){this._pairs=[],e&&Ag(e,this,t)}const aN=ty.prototype;aN.append=function(t,a){this._pairs.push([t,a])};aN.toString=function(t){const a=t?function(s){return t.call(this,s,kv)}:kv;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function NI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sN(e,t,a){if(!t)return e;const s=a&&a.encode||NI;fe.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(t,a):i=fe.isURLSearchParams(t)?t.toString():new ty(t,a).toString(s),i){const A=e.indexOf("#");A!==-1&&(e=e.slice(0,A)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class kI{constructor(){this.handlers=[]}use(t,a,s){return this.handlers.push({fulfilled:t,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){fe.forEach(this.handlers,function(s){s!==null&&t(s)})}}const jv=kI,nN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jI=typeof URLSearchParams<"u"?URLSearchParams:ty,CI=typeof FormData<"u"?FormData:null,SI=typeof Blob<"u"?Blob:null,FI={isBrowser:!0,classes:{URLSearchParams:jI,FormData:CI,Blob:SI},protocols:["http","https","file","blob","url","data"]},ry=typeof window<"u"&&typeof document<"u",Op=typeof navigator=="object"&&navigator||void 0,EI=ry&&(!Op||["ReactNative","NativeScript","NS"].indexOf(Op.product)<0),QI=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),UI=ry&&window.location.href||"http://localhost",LI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ry,hasStandardBrowserEnv:EI,hasStandardBrowserWebWorkerEnv:QI,navigator:Op,origin:UI},Symbol.toStringTag,{value:"Module"})),ia={...LI,...FI};function II(e,t){return Ag(e,new ia.classes.URLSearchParams,{visitor:function(a,s,n,i){return ia.isNode&&fe.isBuffer(a)?(this.append(s,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function PI(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function DI(e){const t={},a=Object.keys(e);let s;const n=a.length;let i;for(s=0;s<n;s++)i=a[s],t[i]=e[i];return t}function iN(e){function t(a,s,n,i){let A=a[i++];if(A==="__proto__")return!0;const o=Number.isFinite(+A),l=i>=a.length;return A=!A&&fe.isArray(n)?n.length:A,l?(fe.hasOwnProp(n,A)?n[A]=[n[A],s]:n[A]=s,!o):((!n[A]||!fe.isObject(n[A]))&&(n[A]=[]),t(a,s,n[A],i)&&fe.isArray(n[A])&&(n[A]=DI(n[A])),!o)}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const a={};return fe.forEachEntry(e,(s,n)=>{t(PI(s),n,a,0)}),a}return null}function TI(e,t,a){if(fe.isString(e))try{return(t||JSON.parse)(e),fe.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(e)}const ay={transitional:nN,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const s=a.getContentType()||"",n=s.indexOf("application/json")>-1,i=fe.isObject(t);if(i&&fe.isHTMLForm(t)&&(t=new FormData(t)),fe.isFormData(t))return n?JSON.stringify(iN(t)):t;if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t)||fe.isReadableStream(t))return t;if(fe.isArrayBufferView(t))return t.buffer;if(fe.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return II(t,this.formSerializer).toString();if((o=fe.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ag(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),TI(t)):t}],transformResponse:[function(t){const a=this.transitional||ay.transitional,s=a&&a.forcedJSONParsing,n=this.responseType==="json";if(fe.isResponse(t)||fe.isReadableStream(t))return t;if(t&&fe.isString(t)&&(s&&!this.responseType||n)){const A=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(o){if(A)throw o.name==="SyntaxError"?ct.from(o,ct.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ia.classes.FormData,Blob:ia.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],e=>{ay.headers[e]={}});const sy=ay,RI=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HI=e=>{const t={};let a,s,n;return e&&e.split(`
`).forEach(function(A){n=A.indexOf(":"),a=A.substring(0,n).trim().toLowerCase(),s=A.substring(n+1).trim(),!(!a||t[a]&&RI[a])&&(a==="set-cookie"?t[a]?t[a].push(s):t[a]=[s]:t[a]=t[a]?t[a]+", "+s:s)}),t},Cv=Symbol("internals");function pc(e){return e&&String(e).trim().toLowerCase()}function E0(e){return e===!1||e==null?e:fe.isArray(e)?e.map(E0):String(e)}function MI(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(e);)t[s[1]]=s[2];return t}const OI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function im(e,t,a,s,n){if(fe.isFunction(s))return s.call(this,t,a);if(n&&(t=a),!!fe.isString(t)){if(fe.isString(s))return t.indexOf(s)!==-1;if(fe.isRegExp(s))return s.test(t)}}function _I(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,s)=>a.toUpperCase()+s)}function KI(e,t){const a=fe.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+a,{value:function(n,i,A){return this[s].call(this,t,n,i,A)},configurable:!0})})}class og{constructor(t){t&&this.set(t)}set(t,a,s){const n=this;function i(o,l,c){const u=pc(l);if(!u)throw new Error("header name must be a non-empty string");const h=fe.findKey(n,u);(!h||n[h]===void 0||c===!0||c===void 0&&n[h]!==!1)&&(n[h||l]=E0(o))}const A=(o,l)=>fe.forEach(o,(c,u)=>i(c,u,l));if(fe.isPlainObject(t)||t instanceof this.constructor)A(t,a);else if(fe.isString(t)&&(t=t.trim())&&!OI(t))A(HI(t),a);else if(fe.isObject(t)&&fe.isIterable(t)){let o={},l,c;for(const u of t){if(!fe.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(l=o[c])?fe.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}A(o,a)}else t!=null&&i(a,t,s);return this}get(t,a){if(t=pc(t),t){const s=fe.findKey(this,t);if(s){const n=this[s];if(!a)return n;if(a===!0)return MI(n);if(fe.isFunction(a))return a.call(this,n,s);if(fe.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=pc(t),t){const s=fe.findKey(this,t);return!!(s&&this[s]!==void 0&&(!a||im(this,this[s],s,a)))}return!1}delete(t,a){const s=this;let n=!1;function i(A){if(A=pc(A),A){const o=fe.findKey(s,A);o&&(!a||im(s,s[o],o,a))&&(delete s[o],n=!0)}}return fe.isArray(t)?t.forEach(i):i(t),n}clear(t){const a=Object.keys(this);let s=a.length,n=!1;for(;s--;){const i=a[s];(!t||im(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const a=this,s={};return fe.forEach(this,(n,i)=>{const A=fe.findKey(s,i);if(A){a[A]=E0(n),delete a[i];return}const o=t?_I(i):String(i).trim();o!==i&&delete a[i],a[o]=E0(n),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return fe.forEach(this,(s,n)=>{s!=null&&s!==!1&&(a[n]=t&&fe.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const s=new this(t);return a.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[Cv]=this[Cv]={accessors:{}}).accessors,n=this.prototype;function i(A){const o=pc(A);s[o]||(KI(n,A),s[o]=!0)}return fe.isArray(t)?t.forEach(i):i(t),this}}og.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(og.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[a]=s}}});fe.freezeMethods(og);const Ms=og;function Am(e,t){const a=this||sy,s=t||a,n=Ms.from(s.headers);let i=s.data;return fe.forEach(e,function(o){i=o.call(a,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function AN(e){return!!(e&&e.__CANCEL__)}function jl(e,t,a){ct.call(this,e??"canceled",ct.ERR_CANCELED,t,a),this.name="CanceledError"}fe.inherits(jl,ct,{__CANCEL__:!0});function oN(e,t,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?e(a):t(new ct("Request failed with status code "+a.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function qI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zI(e,t){e=e||10;const a=new Array(e),s=new Array(e);let n=0,i=0,A;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=s[i];A||(A=c),a[n]=l,s[n]=c;let h=i,x=0;for(;h!==n;)x+=a[h++],h=h%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),c-A<t)return;const g=u&&c-u;return g?Math.round(x*1e3/g):void 0}}function VI(e,t){let a=0,s=1e3/t,n,i;const A=(c,u=Date.now())=>{a=u,n=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),h=u-a;h>=s?A(c,u):(n=c,i||(i=setTimeout(()=>{i=null,A(n)},s-h)))},()=>n&&A(n)]}const vh=(e,t,a=3)=>{let s=0;const n=zI(50,250);return VI(i=>{const A=i.loaded,o=i.lengthComputable?i.total:void 0,l=A-s,c=n(l),u=A<=o;s=A;const h={loaded:A,total:o,progress:o?A/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-A)/c:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},a)},Sv=(e,t)=>{const a=e!=null;return[s=>t[0]({lengthComputable:a,total:e,loaded:s}),t[1]]},Fv=e=>(...t)=>fe.asap(()=>e(...t)),GI=ia.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,ia.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(ia.origin),ia.navigator&&/(msie|trident)/i.test(ia.navigator.userAgent)):()=>!0,WI=ia.hasStandardBrowserEnv?{write(e,t,a,s,n,i){const A=[e+"="+encodeURIComponent(t)];fe.isNumber(a)&&A.push("expires="+new Date(a).toGMTString()),fe.isString(s)&&A.push("path="+s),fe.isString(n)&&A.push("domain="+n),i===!0&&A.push("secure"),document.cookie=A.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $I(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function JI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function lN(e,t,a){let s=!$I(t);return e&&(s||a==!1)?JI(e,t):t}const Ev=e=>e instanceof Ms?{...e}:e;function HA(e,t){t=t||{};const a={};function s(c,u,h,x){return fe.isPlainObject(c)&&fe.isPlainObject(u)?fe.merge.call({caseless:x},c,u):fe.isPlainObject(u)?fe.merge({},u):fe.isArray(u)?u.slice():u}function n(c,u,h,x){if(fe.isUndefined(u)){if(!fe.isUndefined(c))return s(void 0,c,h,x)}else return s(c,u,h,x)}function i(c,u){if(!fe.isUndefined(u))return s(void 0,u)}function A(c,u){if(fe.isUndefined(u)){if(!fe.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function o(c,u,h){if(h in t)return s(c,u);if(h in e)return s(void 0,c)}const l={url:i,method:i,data:i,baseURL:A,transformRequest:A,transformResponse:A,paramsSerializer:A,timeout:A,timeoutMessage:A,withCredentials:A,withXSRFToken:A,adapter:A,responseType:A,xsrfCookieName:A,xsrfHeaderName:A,onUploadProgress:A,onDownloadProgress:A,decompress:A,maxContentLength:A,maxBodyLength:A,beforeRedirect:A,transport:A,httpAgent:A,httpsAgent:A,cancelToken:A,socketPath:A,responseEncoding:A,validateStatus:o,headers:(c,u,h)=>n(Ev(c),Ev(u),h,!0)};return fe.forEach(Object.keys({...e,...t}),function(u){const h=l[u]||n,x=h(e[u],t[u],u);fe.isUndefined(x)&&h!==o||(a[u]=x)}),a}const cN=e=>{const t=HA({},e);let{data:a,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:A,auth:o}=t;t.headers=A=Ms.from(A),t.url=sN(lN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&A.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(fe.isFormData(a)){if(ia.hasStandardBrowserEnv||ia.hasStandardBrowserWebWorkerEnv)A.setContentType(void 0);else if((l=A.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];A.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ia.hasStandardBrowserEnv&&(s&&fe.isFunction(s)&&(s=s(t)),s||s!==!1&&GI(t.url))){const c=n&&i&&WI.read(i);c&&A.set(n,c)}return t},XI=typeof XMLHttpRequest<"u",YI=XI&&function(e){return new Promise(function(a,s){const n=cN(e);let i=n.data;const A=Ms.from(n.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=n,u,h,x,g,v;function y(){g&&g(),v&&v(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let N=new XMLHttpRequest;N.open(n.method.toUpperCase(),n.url,!0),N.timeout=n.timeout;function p(){if(!N)return;const w=Ms.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),U={data:!o||o==="text"||o==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:w,config:e,request:N};oN(function(F){a(F),y()},function(F){s(F),y()},U),N=null}"onloadend"in N?N.onloadend=p:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(p)},N.onabort=function(){N&&(s(new ct("Request aborted",ct.ECONNABORTED,e,N)),N=null)},N.onerror=function(){s(new ct("Network Error",ct.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let E=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const U=n.transitional||nN;n.timeoutErrorMessage&&(E=n.timeoutErrorMessage),s(new ct(E,U.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,e,N)),N=null},i===void 0&&A.setContentType(null),"setRequestHeader"in N&&fe.forEach(A.toJSON(),function(E,U){N.setRequestHeader(U,E)}),fe.isUndefined(n.withCredentials)||(N.withCredentials=!!n.withCredentials),o&&o!=="json"&&(N.responseType=n.responseType),c&&([x,v]=vh(c,!0),N.addEventListener("progress",x)),l&&N.upload&&([h,g]=vh(l),N.upload.addEventListener("progress",h),N.upload.addEventListener("loadend",g)),(n.cancelToken||n.signal)&&(u=w=>{N&&(s(!w||w.type?new jl(null,e,N):w),N.abort(),N=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const m=qI(n.url);if(m&&ia.protocols.indexOf(m)===-1){s(new ct("Unsupported protocol "+m+":",ct.ERR_BAD_REQUEST,e));return}N.send(i||null)})},ZI=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let s=new AbortController,n;const i=function(c){if(!n){n=!0,o();const u=c instanceof Error?c:this.reason;s.abort(u instanceof ct?u:new jl(u instanceof Error?u.message:u))}};let A=t&&setTimeout(()=>{A=null,i(new ct(`timeout ${t} of ms exceeded`,ct.ETIMEDOUT))},t);const o=()=>{e&&(A&&clearTimeout(A),A=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=s;return l.unsubscribe=()=>fe.asap(o),l}},e7=ZI,t7=function*(e,t){let a=e.byteLength;if(!t||a<t){yield e;return}let s=0,n;for(;s<a;)n=s+t,yield e.slice(s,n),s=n},r7=async function*(e,t){for await(const a of a7(e))yield*t7(a,t)},a7=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:s}=await t.read();if(a)break;yield s}}finally{await t.cancel()}},Qv=(e,t,a,s)=>{const n=r7(e,t);let i=0,A,o=l=>{A||(A=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await n.next();if(c){o(),l.close();return}let h=u.byteLength;if(a){let x=i+=h;a(x)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),n.return()}},{highWaterMark:2})},lg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dN=lg&&typeof ReadableStream=="function",s7=lg&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),uN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},n7=dN&&uN(()=>{let e=!1;const t=new Request(ia.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Uv=64*1024,_p=dN&&uN(()=>fe.isReadableStream(new Response("").body)),Bh={stream:_p&&(e=>e.body)};lg&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Bh[t]&&(Bh[t]=fe.isFunction(e[t])?a=>a[t]():(a,s)=>{throw new ct(`Response type '${t}' is not supported`,ct.ERR_NOT_SUPPORT,s)})})})(new Response);const i7=async e=>{if(e==null)return 0;if(fe.isBlob(e))return e.size;if(fe.isSpecCompliantForm(e))return(await new Request(ia.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(e)||fe.isArrayBuffer(e))return e.byteLength;if(fe.isURLSearchParams(e)&&(e=e+""),fe.isString(e))return(await s7(e)).byteLength},A7=async(e,t)=>{const a=fe.toFiniteNumber(e.getContentLength());return a??i7(t)},o7=lg&&(async e=>{let{url:t,method:a,data:s,signal:n,cancelToken:i,timeout:A,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:x}=cN(e);c=c?(c+"").toLowerCase():"text";let g=e7([n,i&&i.toAbortSignal()],A),v;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let N;try{if(l&&n7&&a!=="get"&&a!=="head"&&(N=await A7(u,s))!==0){let U=new Request(t,{method:"POST",body:s,duplex:"half"}),D;if(fe.isFormData(s)&&(D=U.headers.get("content-type"))&&u.setContentType(D),U.body){const[F,C]=Sv(N,vh(Fv(l)));s=Qv(U.body,Uv,F,C)}}fe.isString(h)||(h=h?"include":"omit");const p="credentials"in Request.prototype;v=new Request(t,{...x,signal:g,method:a.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:p?h:void 0});let m=await fetch(v,x);const w=_p&&(c==="stream"||c==="response");if(_p&&(o||w&&y)){const U={};["status","statusText","headers"].forEach(K=>{U[K]=m[K]});const D=fe.toFiniteNumber(m.headers.get("content-length")),[F,C]=o&&Sv(D,vh(Fv(o),!0))||[];m=new Response(Qv(m.body,Uv,F,()=>{C&&C(),y&&y()}),U)}c=c||"text";let E=await Bh[fe.findKey(Bh,c)||"text"](m,e);return!w&&y&&y(),await new Promise((U,D)=>{oN(U,D,{data:E,headers:Ms.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:v})})}catch(p){throw y&&y(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new ct("Network Error",ct.ERR_NETWORK,e,v),{cause:p.cause||p}):ct.from(p,p&&p.code,e,v)}}),Kp={http:wI,xhr:YI,fetch:o7};fe.forEach(Kp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Lv=e=>`- ${e}`,l7=e=>fe.isFunction(e)||e===null||e===!1,hN={getAdapter:e=>{e=fe.isArray(e)?e:[e];const{length:t}=e;let a,s;const n={};for(let i=0;i<t;i++){a=e[i];let A;if(s=a,!l7(a)&&(s=Kp[(A=String(a)).toLowerCase()],s===void 0))throw new ct(`Unknown adapter '${A}'`);if(s)break;n[A||"#"+i]=s}if(!s){const i=Object.entries(n).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let A=t?i.length>1?`since :
`+i.map(Lv).join(`
`):" "+Lv(i[0]):"as no adapter specified";throw new ct("There is no suitable adapter to dispatch the request "+A,"ERR_NOT_SUPPORT")}return s},adapters:Kp};function om(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jl(null,e)}function Iv(e){return om(e),e.headers=Ms.from(e.headers),e.data=Am.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hN.getAdapter(e.adapter||sy.adapter)(e).then(function(s){return om(e),s.data=Am.call(e,e.transformResponse,s),s.headers=Ms.from(s.headers),s},function(s){return AN(s)||(om(e),s&&s.response&&(s.response.data=Am.call(e,e.transformResponse,s.response),s.response.headers=Ms.from(s.response.headers))),Promise.reject(s)})}const gN="1.11.0",cg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{cg[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Pv={};cg.transitional=function(t,a,s){function n(i,A){return"[Axios v"+gN+"] Transitional option '"+i+"'"+A+(s?". "+s:"")}return(i,A,o)=>{if(t===!1)throw new ct(n(A," has been removed"+(a?" in "+a:"")),ct.ERR_DEPRECATED);return a&&!Pv[A]&&(Pv[A]=!0,console.warn(n(A," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(i,A,o):!0}};cg.spelling=function(t){return(a,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function c7(e,t,a){if(typeof e!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const i=s[n],A=t[i];if(A){const o=e[i],l=o===void 0||A(o,i,e);if(l!==!0)throw new ct("option "+i+" must be "+l,ct.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new ct("Unknown option "+i,ct.ERR_BAD_OPTION)}}const Q0={assertOptions:c7,validators:cg},on=Q0.validators;class Nh{constructor(t){this.defaults=t||{},this.interceptors={request:new jv,response:new jv}}async request(t,a){try{return await this._request(t,a)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=HA(this.defaults,a);const{transitional:s,paramsSerializer:n,headers:i}=a;s!==void 0&&Q0.assertOptions(s,{silentJSONParsing:on.transitional(on.boolean),forcedJSONParsing:on.transitional(on.boolean),clarifyTimeoutError:on.transitional(on.boolean)},!1),n!=null&&(fe.isFunction(n)?a.paramsSerializer={serialize:n}:Q0.assertOptions(n,{encode:on.function,serialize:on.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Q0.assertOptions(a,{baseUrl:on.spelling("baseURL"),withXsrfToken:on.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let A=i&&fe.merge(i.common,i[a.method]);i&&fe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),a.headers=Ms.concat(A,i);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(a)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,h=0,x;if(!l){const v=[Iv.bind(this),void 0];for(v.unshift(...o),v.push(...c),x=v.length,u=Promise.resolve(a);h<x;)u=u.then(v[h++],v[h++]);return u}x=o.length;let g=a;for(h=0;h<x;){const v=o[h++],y=o[h++];try{g=v(g)}catch(N){y.call(this,N);break}}try{u=Iv.call(this,g)}catch(v){return Promise.reject(v)}for(h=0,x=c.length;h<x;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=HA(this.defaults,t);const a=lN(t.baseURL,t.url,t.allowAbsoluteUrls);return sN(a,t.params,t.paramsSerializer)}}fe.forEach(["delete","get","head","options"],function(t){Nh.prototype[t]=function(a,s){return this.request(HA(s||{},{method:t,url:a,data:(s||{}).data}))}});fe.forEach(["post","put","patch"],function(t){function a(s){return function(i,A,o){return this.request(HA(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:A}))}}Nh.prototype[t]=a(),Nh.prototype[t+"Form"]=a(!0)});const U0=Nh;class ny{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const A=new Promise(o=>{s.subscribe(o),i=o}).then(n);return A.cancel=function(){s.unsubscribe(i)},A},t(function(i,A,o){s.reason||(s.reason=new jl(i,A,o),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=s=>{t.abort(s)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new ny(function(n){t=n}),cancel:t}}}const d7=ny;function u7(e){return function(a){return e.apply(null,a)}}function h7(e){return fe.isObject(e)&&e.isAxiosError===!0}const qp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qp).forEach(([e,t])=>{qp[t]=e});const g7=qp;function fN(e){const t=new U0(e),a=VB(U0.prototype.request,t);return fe.extend(a,U0.prototype,t,{allOwnKeys:!0}),fe.extend(a,t,null,{allOwnKeys:!0}),a.create=function(n){return fN(HA(e,n))},a}const Nr=fN(sy);Nr.Axios=U0;Nr.CanceledError=jl;Nr.CancelToken=d7;Nr.isCancel=AN;Nr.VERSION=gN;Nr.toFormData=Ag;Nr.AxiosError=ct;Nr.Cancel=Nr.CanceledError;Nr.all=function(t){return Promise.all(t)};Nr.spread=u7;Nr.isAxiosError=h7;Nr.mergeConfig=HA;Nr.AxiosHeaders=Ms;Nr.formToJSON=e=>iN(fe.isHTMLForm(e)?new FormData(e):e);Nr.getAdapter=hN.getAdapter;Nr.HttpStatusCode=g7;Nr.default=Nr;const f7=Nr,m7=()=>{const[e,t]=L.useState([]),[a,s]=L.useState({startDate:"",endDate:"",action:"",userId:""});L.useEffect(()=>{n()},[a]);const n=async()=>{try{const i=await f7.get("/api/audit-logs",{params:a});t(i.data)}catch(i){console.error("Error fetching audit logs:",i)}};return r.jsx("div",{className:"min-h-full bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Audit Trail"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track and monitor all system activities"})]})})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("input",{type:"date",value:a.startDate,onChange:i=>s({...a,startDate:i.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Start Date"}),r.jsx("input",{type:"date",value:a.endDate,onChange:i=>s({...a,endDate:i.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"End Date"}),r.jsx("input",{type:"text",value:a.action,onChange:i=>s({...a,action:i.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Filter by Action"}),r.jsx("input",{type:"text",value:a.userId,onChange:i=>s({...a,userId:i.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Filter by User"})]})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"IP Address"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(i=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:new Date(i.timestamp).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:i.userId}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:i.action}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-gray-300",children:i.details}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:i.ipAddress})]},i.id))})]})}),e.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No audit logs found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No logs match your current filters."})]})]})]})})};function p7({isOpen:e,onClose:t,onSuccess:a}){const{language:s}=At(),[n,i]=L.useState(!1),[A,o]=L.useState({name:"",type:"",manufacturer:"",protocol:"HL7",connection:"tcp",config:{autoSendWorklist:!0,autoReceiveResults:!0,enableQCMonitoring:!0},enabled:!0}),l={fr:{title:"Ajouter un Automate",name:"Nom de l'automate",type:"Type",manufacturer:"Fabricant",protocol:"Protocole",connection:"Type de connexion",ipAddress:"Adresse IP",port:"Port",comPort:"Port COM",baudRate:"Dbit en bauds",ftpHost:"Hte FTP",ftpPort:"Port FTP",ftpUser:"Utilisateur FTP",ftpPass:"Mot de passe FTP",autoSendWorklist:"Envoi automatique de la liste de travail",autoReceiveResults:"Rception automatique des rsultats",enableQCMonitoring:"Activer la surveillance QC",enabled:"Activ",save:"Enregistrer",cancel:"Annuler",required:"Ce champ est requis",success:"Automate ajout avec succs",error:"Erreur lors de l'ajout de l'automate"},en:{title:"Add New Automate",name:"Automate Name",type:"Type",manufacturer:"Manufacturer",protocol:"Protocol",connection:"Connection Type",ipAddress:"IP Address",port:"Port",comPort:"COM Port",baudRate:"Baud Rate",ftpHost:"FTP Host",ftpPort:"FTP Port",ftpUser:"FTP User",ftpPass:"FTP Password",autoSendWorklist:"Auto-send Worklist",autoReceiveResults:"Auto-receive Results",enableQCMonitoring:"Enable QC Monitoring",enabled:"Enabled",save:"Save",cancel:"Cancel",required:"This field is required",success:"Automate added successfully",error:"Error adding automate"}}[s],c=["Immunoassay","Clinical Chemistry","Hematology","Coagulation","Molecular","Microbiology","Other"],u=["Roche","Abbott","Siemens","Beckman Coulter","Ortho Clinical Diagnostics","Sysmex","Bio-Rad","DiaSorin","Other"],h=[{value:"HL7",label:"HL7"},{value:"ASTM",label:"ASTM"},{value:"LIS2-A2",label:"LIS2-A2"}],x=[{value:"tcp",label:"TCP/IP"},{value:"serial",label:"Serial"},{value:"ftp",label:"FTP"}],g=(y,N)=>{if(y.includes(".")){const[p,m]=y.split(".");o(w=>({...w,[p]:{...w[p],[m]:N}}))}else o(p=>({...p,[y]:N}))},v=async y=>{if(y.preventDefault(),!A.name||!A.type||!A.manufacturer){alert(l.required);return}i(!0);try{await Oa.createAutomate(A),alert(l.success),a(),t(),o({name:"",type:"",manufacturer:"",protocol:"HL7",connection:"tcp",config:{autoSendWorklist:!0,autoReceiveResults:!0,enableQCMonitoring:!0},enabled:!0})}catch(N){console.error("Error creating automate:",N),alert(l.error)}finally{i(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[r.jsx(Qa,{size:20,className:"mr-2"}),l.title]}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(ht,{size:20})})]}),r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l.name," *"]}),r.jsx("input",{type:"text",value:A.name,onChange:y=>g("name",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l.type," *"]}),r.jsxs("select",{value:A.type,onChange:y=>g("type",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:s==="fr"?"Slectionner un type":"Select type"}),c.map(y=>r.jsx("option",{value:y,children:y},y))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l.manufacturer," *"]}),r.jsxs("select",{value:A.manufacturer,onChange:y=>g("manufacturer",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:s==="fr"?"Slectionner un fabricant":"Select manufacturer"}),u.map(y=>r.jsx("option",{value:y,children:y},y))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.protocol}),r.jsx("select",{value:A.protocol,onChange:y=>g("protocol",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(y=>r.jsx("option",{value:y.value,children:y.label},y.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.connection}),r.jsx("select",{value:A.connection,onChange:y=>g("connection",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:x.map(y=>r.jsx("option",{value:y.value,children:y.label},y.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.enabled}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:A.enabled,onChange:y=>g("enabled",y.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:A.enabled?s==="fr"?"Activ":"Enabled":s==="fr"?"Dsactiv":"Disabled"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:s==="fr"?"Configuration de connexion":"Connection Configuration"}),A.connection==="tcp"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ipAddress}),r.jsx("input",{type:"text",value:A.config.ipAddress||"",onChange:y=>g("config.ipAddress",y.target.value),placeholder:"192.168.1.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.port}),r.jsx("input",{type:"number",value:A.config.port||"",onChange:y=>g("config.port",parseInt(y.target.value)||void 0),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),A.connection==="serial"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.comPort}),r.jsx("input",{type:"text",value:A.config.comPort||"",onChange:y=>g("config.comPort",y.target.value),placeholder:"COM3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.baudRate}),r.jsxs("select",{value:A.config.baudRate||"",onChange:y=>g("config.baudRate",parseInt(y.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:s==="fr"?"Slectionner":"Select"}),r.jsx("option",{value:"9600",children:"9600"}),r.jsx("option",{value:"19200",children:"19200"}),r.jsx("option",{value:"38400",children:"38400"}),r.jsx("option",{value:"57600",children:"57600"}),r.jsx("option",{value:"115200",children:"115200"})]})]})]}),A.connection==="ftp"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpHost}),r.jsx("input",{type:"text",value:A.config.ftpHost||"",onChange:y=>g("config.ftpHost",y.target.value),placeholder:"ftp.example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpPort}),r.jsx("input",{type:"number",value:A.config.ftpPort||"",onChange:y=>g("config.ftpPort",parseInt(y.target.value)||void 0),placeholder:"21",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpUser}),r.jsx("input",{type:"text",value:A.config.ftpUser||"",onChange:y=>g("config.ftpUser",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpPass}),r.jsx("input",{type:"password",value:A.config.ftpPass||"",onChange:y=>g("config.ftpPass",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:s==="fr"?"Paramtres d'automatisation":"Automation Settings"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:A.config.autoSendWorklist,onChange:y=>g("config.autoSendWorklist",y.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:l.autoSendWorklist})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:A.config.autoReceiveResults,onChange:y=>g("config.autoReceiveResults",y.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:l.autoReceiveResults})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:A.config.enableQCMonitoring,onChange:y=>g("config.enableQCMonitoring",y.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:l.enableQCMonitoring})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:l.cancel}),r.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s==="fr"?"Enregistrement...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),l.save]})})]})]})]})}):null}function x7({automates:e,onRefresh:t}){const{language:a}=At(),[s,n]=L.useState(null),[i,A]=L.useState(!1),[o,l]=L.useState({}),c={fr:{title:"Configuration des Automates",subtitle:"Grez les paramtres de connexion et de configuration de vos automates",selectAutomate:"Slectionner un automate",connectionSettings:"Paramtres de connexion",automationSettings:"Paramtres d'automatisation",generalSettings:"Paramtres gnraux",save:"Enregistrer",test:"Tester la connexion",reset:"Rinitialiser",success:"Configuration mise  jour avec succs",error:"Erreur lors de la mise  jour",connectionTest:"Test de connexion",connectionSuccess:"Connexion russie",connectionFailed:"chec de la connexion",ipAddress:"Adresse IP",port:"Port",comPort:"Port COM",baudRate:"Dbit en bauds",ftpHost:"Hte FTP",ftpPort:"Port FTP",ftpUser:"Utilisateur FTP",ftpPass:"Mot de passe FTP",autoSendWorklist:"Envoi automatique de la liste de travail",autoReceiveResults:"Rception automatique des rsultats",enableQCMonitoring:"Activer la surveillance QC",enabled:"Activ",protocol:"Protocole",connection:"Type de connexion",manufacturer:"Fabricant",type:"Type"},en:{title:"Automate Configuration",subtitle:"Manage connection and configuration settings for your automates",selectAutomate:"Select an automate",connectionSettings:"Connection Settings",automationSettings:"Automation Settings",generalSettings:"General Settings",save:"Save",test:"Test Connection",reset:"Reset",success:"Configuration updated successfully",error:"Error updating configuration",connectionTest:"Connection Test",connectionSuccess:"Connection successful",connectionFailed:"Connection failed",ipAddress:"IP Address",port:"Port",comPort:"COM Port",baudRate:"Baud Rate",ftpHost:"FTP Host",ftpPort:"FTP Port",ftpUser:"FTP User",ftpPass:"FTP Password",autoSendWorklist:"Auto-send Worklist",autoReceiveResults:"Auto-receive Results",enableQCMonitoring:"Enable QC Monitoring",enabled:"Enabled",protocol:"Protocol",connection:"Connection Type",manufacturer:"Manufacturer",type:"Type"}}[a];L.useEffect(()=>{s&&l(s.config||{})},[s]);const u=(y,N)=>{l(p=>({...p,[y]:N}))},h=async()=>{if(s){A(!0);try{await Oa.updateAutomate(s.id,{config:o}),alert(c.success),t()}catch(y){console.error("Error updating configuration:",y),alert(c.error)}finally{A(!1)}}},x=async()=>{if(s){A(!0);try{await new Promise(y=>setTimeout(y,2e3)),alert(c.connectionSuccess)}catch{alert(c.connectionFailed)}finally{A(!1)}}},g=()=>{s&&l(s.config||{})},v=y=>{switch(y){case"tcp":return r.jsx(h5,{size:16});case"serial":return r.jsx(s3,{size:16});case"ftp":return r.jsx(o5,{size:16});default:return r.jsx(Qa,{size:16})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(fn,{size:24,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:c.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c.subtitle})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c.selectAutomate}),r.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:y=>{const N=e.find(p=>p.id===y.target.value);n(N||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Slectionner un automate":"Select an automate"}),e.map(y=>r.jsxs("option",{value:y.id,children:[y.name," (",y.manufacturer,")"]},y.id))]})]})]}),s&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(Qa,{size:20,className:"mr-2"}),c.generalSettings]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.name}),r.jsx("input",{type:"text",value:s.name,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.manufacturer}),r.jsx("input",{type:"text",value:s.manufacturer,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.type}),r.jsx("input",{type:"text",value:s.type,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.protocol}),r.jsx("input",{type:"text",value:s.protocol,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.connection}),r.jsxs("div",{className:"flex items-center",children:[v(s.connection),r.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 capitalize",children:s.connection})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[v(s.connection),r.jsx("span",{className:"ml-2",children:c.connectionSettings})]}),s.connection==="tcp"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ipAddress}),r.jsx("input",{type:"text",value:o.ipAddress||"",onChange:y=>u("ipAddress",y.target.value),placeholder:"192.168.1.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.port}),r.jsx("input",{type:"number",value:o.port||"",onChange:y=>u("port",parseInt(y.target.value)||void 0),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.connection==="serial"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.comPort}),r.jsx("input",{type:"text",value:o.comPort||"",onChange:y=>u("comPort",y.target.value),placeholder:"COM3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.baudRate}),r.jsxs("select",{value:o.baudRate||"",onChange:y=>u("baudRate",parseInt(y.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Slectionner":"Select"}),r.jsx("option",{value:"9600",children:"9600"}),r.jsx("option",{value:"19200",children:"19200"}),r.jsx("option",{value:"38400",children:"38400"}),r.jsx("option",{value:"57600",children:"57600"}),r.jsx("option",{value:"115200",children:"115200"})]})]})]}),s.connection==="ftp"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpHost}),r.jsx("input",{type:"text",value:o.ftpHost||"",onChange:y=>u("ftpHost",y.target.value),placeholder:"ftp.example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpPort}),r.jsx("input",{type:"number",value:o.ftpPort||"",onChange:y=>u("ftpPort",parseInt(y.target.value)||void 0),placeholder:"21",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpUser}),r.jsx("input",{type:"text",value:o.ftpUser||"",onChange:y=>u("ftpUser",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpPass}),r.jsx("input",{type:"password",value:o.ftpPass||"",onChange:y=>u("ftpPass",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:c.automationSettings}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:o.autoSendWorklist||!1,onChange:y=>u("autoSendWorklist",y.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.autoSendWorklist})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:o.autoReceiveResults||!1,onChange:y=>u("autoReceiveResults",y.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.autoReceiveResults})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:o.enableQCMonitoring||!1,onChange:y=>u("enableQCMonitoring",y.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.enableQCMonitoring})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:s.enabled,disabled:!0,className:"mr-3 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.enabled})]})]}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsx("button",{onClick:h,disabled:i,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a==="fr"?"Enregistrement...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),c.save]})}),r.jsxs("button",{onClick:x,disabled:i,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[r.jsx(Hs,{size:16,className:"mr-2"}),c.test]}),r.jsx("button",{onClick:g,disabled:i,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:c.reset})]})]})]})]})}function y7({automates:e,onRefresh:t}){const{language:a}=At(),[s,n]=L.useState(null),[i,A]=L.useState(!1),[o,l]=L.useState(!1),[c,u]=L.useState(null),[h,x]=L.useState(!1),[g,v]=L.useState(""),[y,N]=L.useState({codeAutomate:"",silTestName:"",sampleType:"Sang",unit:"",refRangeLow:null,refRangeHigh:null}),p={fr:{title:"Mapping des Codes",subtitle:"Grez la correspondance entre les codes des automates et les tests SIL",selectAutomate:"Slectionner un automate",addMapping:"Ajouter un mapping",editMapping:"Modifier le mapping",codeAutomate:"Code Automate",silTestName:"Nom du test SIL",sampleType:"Type d'chantillon",unit:"Unit",refRangeLow:"Valeur de rfrence basse",refRangeHigh:"Valeur de rfrence haute",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",search:"Rechercher...",noMappings:"Aucun mapping trouv",success:"Mapping enregistr avec succs",error:"Erreur lors de l'enregistrement",deleteConfirm:"tes-vous sr de vouloir supprimer ce mapping ?",deleteSuccess:"Mapping supprim avec succs",deleteError:"Erreur lors de la suppression"},en:{title:"Code Mapping",subtitle:"Manage the mapping between automate codes and SIL tests",selectAutomate:"Select an automate",addMapping:"Add Mapping",editMapping:"Edit Mapping",codeAutomate:"Automate Code",silTestName:"SIL Test Name",sampleType:"Sample Type",unit:"Unit",refRangeLow:"Reference Range Low",refRangeHigh:"Reference Range High",save:"Save",cancel:"Cancel",delete:"Delete",search:"Search...",noMappings:"No mappings found",success:"Mapping saved successfully",error:"Error saving mapping",deleteConfirm:"Are you sure you want to delete this mapping?",deleteSuccess:"Mapping deleted successfully",deleteError:"Error deleting mapping"}}[a],m=["Sang","Serum","Plasma","Urine","Saliva","Stool","CSF","Other"],w=["g/L","mg/dL","mmol/L","mol/L","U/L","mIU/L","ng/mL","pg/mL","%","10^9/L","10^12/L","Other"],E=(s==null?void 0:s.driverCodes.filter(M=>M.codeAutomate.toLowerCase().includes(g.toLowerCase())||M.silTestName.toLowerCase().includes(g.toLowerCase())))||[],U=()=>{N({codeAutomate:"",silTestName:"",sampleType:"Sang",unit:"",refRangeLow:null,refRangeHigh:null}),A(!0)},D=M=>{u(M),N({codeAutomate:M.codeAutomate,silTestName:M.silTestName,sampleType:M.sampleType,unit:M.unit||"",refRangeLow:M.refRangeLow,refRangeHigh:M.refRangeHigh}),l(!0)},F=async M=>{if(!(!s||!confirm(p.deleteConfirm))){x(!0);try{await Oa.deleteCodeMapping(s.id,M),alert(p.deleteSuccess),t()}catch(Q){console.error("Error deleting mapping:",Q),alert(p.deleteError)}finally{x(!1)}}},C=async M=>{if(M.preventDefault(),!!s){x(!0);try{o&&c?await Oa.updateCodeMapping(s.id,c.id,y):await Oa.addCodeMapping(s.id,y),alert(p.success),A(!1),l(!1),t()}catch(Q){console.error("Error saving mapping:",Q),alert(p.error)}finally{x(!1)}}},K=(M,Q)=>{N(j=>({...j,[M]:Q}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(A5,{size:24,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:p.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:p.subtitle})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.selectAutomate}),r.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:M=>{const Q=e.find(j=>j.id===M.target.value);n(Q||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Slectionner un automate":"Select an automate"}),e.map(M=>r.jsxs("option",{value:M.id,children:[M.name," (",M.manufacturer,")"]},M.id))]})]})]}),s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Br,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:p.search,value:g,onChange:M=>v(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("button",{onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:16,className:"mr-2"}),p.addMapping]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.codeAutomate}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.silTestName}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.sampleType}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.unit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Rfrence"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:E.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:p.noMappings})}):E.map(M=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:M.codeAutomate}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:M.silTestName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:M.sampleType}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:M.unit||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:M.refRangeLow&&M.refRangeHigh?`${M.refRangeLow} - ${M.refRangeHigh}`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>D(M),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:r.jsx(Xn,{size:16})}),r.jsx("button",{onClick:()=>F(M.id),disabled:h,className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50",children:r.jsx(qs,{size:16})})]})})]},M.id))})]})})})]}),(i||o)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o?p.editMapping:p.addMapping}),r.jsx("button",{onClick:()=>{A(!1),l(!1)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:r.jsx(ht,{size:20})})]}),r.jsxs("form",{onSubmit:C,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.codeAutomate," *"]}),r.jsx("input",{type:"text",value:y.codeAutomate,onChange:M=>K("codeAutomate",M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p.silTestName," *"]}),r.jsx("input",{type:"text",value:y.silTestName,onChange:M=>K("silTestName",M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.sampleType}),r.jsx("select",{value:y.sampleType,onChange:M=>K("sampleType",M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:m.map(M=>r.jsx("option",{value:M,children:M},M))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.unit}),r.jsxs("select",{value:y.unit,onChange:M=>K("unit",M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:a==="fr"?"Slectionner":"Select"}),w.map(M=>r.jsx("option",{value:M,children:M},M))]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.refRangeLow}),r.jsx("input",{type:"number",step:"0.01",value:y.refRangeLow||"",onChange:M=>K("refRangeLow",parseFloat(M.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:p.refRangeHigh}),r.jsx("input",{type:"number",step:"0.01",value:y.refRangeHigh||"",onChange:M=>K("refRangeHigh",parseFloat(M.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{A(!1),l(!1)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:p.cancel}),r.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a==="fr"?"Enregistrement...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16,className:"mr-2"}),p.save]})})]})]})]})})]})}function b7({automates:e,onRefresh:t}){var z;const{language:a}=At(),[s,n]=L.useState(null),[i,A]=L.useState("all"),[o,l]=L.useState("all"),[c,u]=L.useState("24h"),[h,x]=L.useState({}),[g,v]=L.useState(!1);L.useEffect(()=>{let H=!1;const S=async()=>{v(!0);try{const X=await Promise.all((e||[]).map(async q=>{try{const te=await Oa.getTransferLogs(q.id,{limit:50});return[q.id,te.logs||[]]}catch(te){return console.error("Failed to load logs for",q.id,te),[q.id,[]]}}));if(!H){const q={};for(const[te,ie]of X)q[te]=ie;x(q)}}finally{H||v(!1)}};return e&&e.length&&S(),()=>{H=!0}},[e]);const y=s?h[s.id]||((z=e.find(H=>H.id===s.id))==null?void 0:z.transferLogs)||[]:(e||[]).flatMap(H=>h[H.id]||H.transferLogs||[]),N={fr:{title:"Logs et Monitoring",subtitle:"Surveillez les transferts de donnes et l'tat de vos automates",selectAutomate:"Slectionner un automate",allAutomates:"Tous les automates",status:"Statut",type:"Type",duration:"Dure",timestamp:"Horodatage",error:"Erreur",noLogs:"Aucun log trouv",export:"Exporter",refresh:"Actualiser",filter:"Filtrer",all:"Tous",success:"Succs",warning:"Avertissement",info:"Information",worklist:"Liste de travail",results:"Rsultats",qc:"Contrle qualit",last24h:"Dernires 24h",last7d:"Derniers 7 jours",last30d:"Derniers 30 jours",allTime:"Tout le temps",online:"En ligne",offline:"Hors ligne",lastSync:"Dernire synchronisation",never:"Jamais",totalLogs:"Total des logs",successRate:"Taux de succs",avgDuration:"Dure moyenne"},en:{title:"Logs and Monitoring",subtitle:"Monitor data transfers and automate status",selectAutomate:"Select an automate",allAutomates:"All automates",status:"Status",type:"Type",duration:"Duration",timestamp:"Timestamp",error:"Error",noLogs:"No logs found",export:"Export",refresh:"Refresh",filter:"Filter",all:"All",success:"Success",warning:"Warning",info:"Information",worklist:"Worklist",results:"Results",qc:"Quality Control",last24h:"Last 24h",last7d:"Last 7 days",last30d:"Last 30 days",allTime:"All time",online:"Online",offline:"Offline",lastSync:"Last sync",never:"Never",totalLogs:"Total logs",successRate:"Success rate",avgDuration:"Average duration"}}[a],p=[{value:"all",label:N.all},{value:"success",label:N.success},{value:"error",label:N.error},{value:"warning",label:N.warning}],m=[{value:"all",label:N.all},{value:"worklist",label:N.worklist},{value:"results",label:N.results},{value:"qc",label:N.qc}],w=[{value:"24h",label:N.last24h},{value:"7d",label:N.last7d},{value:"30d",label:N.last30d},{value:"all",label:N.allTime}],E=H=>{switch(H){case"success":return r.jsx(Wt,{size:16,className:"text-green-500"});case"error":return r.jsx(qi,{size:16,className:"text-red-500"});case"warning":return r.jsx(Zt,{size:16,className:"text-yellow-500"});default:return r.jsx(Ds,{size:16,className:"text-blue-500"})}},U=H=>{switch(H){case"success":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}},D=H=>{switch(H){case"online":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"offline":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},F=H=>H?H<1e3?`${H}ms`:`${(H/1e3).toFixed(1)}s`:"-",C=H=>new Date(H).toLocaleString(a==="fr"?"fr-FR":"en-US"),K=y.filter(H=>{const S=i==="all"||H.status===i,X=o==="all"||H.type===o;return S&&X}),Q=(e||[]).flatMap(H=>(H.transferLogs||[]).map(S=>({...S,automateName:H.name}))).filter(H=>{const S=i==="all"||H.status===i,X=o==="all"||H.type===o;return S&&X}),j={totalLogs:Q.length,successRate:Q.length>0?Math.round(Q.filter(H=>H.status==="success").length/Q.length*100):0,avgDuration:Q.length>0?Math.round(Q.reduce((H,S)=>H+(S.duration||0),0)/Q.length):0},T=()=>{const H=[["Timestamp","Automate","Type","Status","Duration","Error"].join(","),...Q.map(te=>[C(te.timestamp),te.automateName||(s==null?void 0:s.name)||"",te.type,te.status,F(te.duration),te.errorMsg||""].join(","))].join(`
`),S=new Blob([H],{type:"text/csv"}),X=window.URL.createObjectURL(S),q=document.createElement("a");q.href=X,q.download=`automate-logs-${new Date().toISOString().split("T")[0]}.csv`,q.click(),window.URL.revokeObjectURL(X)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Ds,{size:24,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:N.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:N.subtitle})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:N.selectAutomate}),r.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:H=>{const S=e.find(X=>X.id===H.target.value);n(S||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:N.allAutomates}),e.map(H=>r.jsxs("option",{value:H.id,children:[H.name," (",H.manufacturer,")"]},H.id))]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ds,{size:20,className:"text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:N.totalLogs}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j.totalLogs})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Wt,{size:20,className:"text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:N.successRate}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[j.successRate,"%"]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ka,{size:20,className:"text-purple-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:N.avgDuration}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F(j.avgDuration)})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:a==="fr"?"tat des automates":"Automate Status"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(H=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:H.name}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${D(H.status)}`,children:H.status})]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[H.manufacturer," - ",H.type]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[N.lastSync,": ",H.lastSync?C(H.lastSync):N.never]})]},H.id))})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bl,{size:16,className:"text-gray-500"}),r.jsx("select",{value:i,onChange:H=>A(H.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:p.map(H=>r.jsx("option",{value:H.value,children:H.label},H.value))})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("select",{value:o,onChange:H=>l(H.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:m.map(H=>r.jsx("option",{value:H.value,children:H.label},H.value))})}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("select",{value:c,onChange:H=>u(H.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:w.map(H=>r.jsx("option",{value:H.value,children:H.label},H.value))})})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:T,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Jn,{size:16,className:"mr-2"}),N.export]}),r.jsxs("button",{onClick:async()=>{if(s)try{const H=await Oa.getTransferLogs(s.id,{limit:50});x(S=>({...S,[s.id]:H.logs||[]}))}catch(H){console.error("Refresh logs failed",H)}else try{const H=await Promise.all((e||[]).map(async X=>{try{const q=await Oa.getTransferLogs(X.id,{limit:50});return[X.id,q.logs||[]]}catch{return[X.id,[]]}})),S={};for(const[X,q]of H)S[X]=q;x(S)}catch(H){console.error("Refresh all logs failed",H)}t()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(Hs,{size:16,className:"mr-2"}),N.refresh]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:N.timestamp}),!s&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Automate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:N.type}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:N.status}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:N.duration}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:N.error})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:(s?K:Q).length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:s?5:6,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:N.noLogs})}):(s?K:Q).map(H=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C(H.timestamp)}),!s&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:H.automateName||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize",children:H.type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[E(H.status),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${U(H.status)}`,children:H.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:F(H.duration)}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate",children:H.errorMsg||"-"})]},H.id))})]})})})]})}function w7(){const{language:e}=At(),[t,a]=L.useState("list"),[s,n]=L.useState([]),[i,A]=L.useState(null),[o,l]=L.useState(!0),[c,u]=L.useState(!1);L.useState(!1);const[h,x]=L.useState(!1),[g,v]=L.useState([]),y={fr:{title:"Intgration Automates",subtitle:"Gestion des analyseurs de laboratoire",automatesList:"Liste des Automates",configuration:"Configuration",codeMapping:"Mapping des Codes",logs:"Logs et Monitoring",addNew:"Ajouter un Automate",status:{online:"Connect",offline:"Hors ligne",error:"Erreur"},lastSync:"Dernire synchronisation",viewLogs:"Voir les Logs",noAutomates:"Aucun automate configur",loading:"Chargement..."},en:{title:"Automate Integration",subtitle:"Laboratory analyzer management",automatesList:"Automates List",configuration:"Configuration",codeMapping:"Code Mapping",logs:"Logs & Monitoring",addNew:"Add New Automate",status:{online:"Connected",offline:"Offline",error:"Error"},lastSync:"Last sync",viewLogs:"View Logs",noAutomates:"No automates configured",loading:"Loading..."}}[e];L.useEffect(()=>{N()},[]);const N=async()=>{try{l(!0);const F=await Oa.getAutomates();n(F.automates||[])}catch(F){console.error("Error loading automates:",F)}finally{l(!1)}},p=F=>{switch(F){case"online":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"offline":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},m=F=>{switch(F){case"online":return r.jsx(h5,{size:16});case"offline":return r.jsx(ew,{size:16});case"error":return r.jsx(Zt,{size:16});default:return r.jsx(ew,{size:16})}},w=async F=>{A(F);try{const C=await Oa.getTransferLogs(F.id);v(C.logs||[]),x(!0)}catch(C){console.error("Error loading logs:",C)}},E=async F=>{try{await Oa.updateStatus(F.id,{status:"offline"}),setTimeout(()=>{Oa.updateStatus(F.id,{status:"online"})},2e3),N()}catch(C){console.error("Error restarting interface:",C)}},U=async F=>{try{await Oa.updateStatus(F.id,{status:"online",lastSync:new Date().toISOString()}),N()}catch(C){console.error("Error syncing:",C)}},D=[{id:"list",label:y.automatesList,icon:Qa},{id:"config",label:y.configuration,icon:fn},{id:"mapping",label:y.codeMapping,icon:A5},{id:"logs",label:y.logs,icon:_s}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:y.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:y.subtitle})]}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:D.map(F=>r.jsxs("button",{onClick:()=>a(F.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===F.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(F.icon,{size:16}),r.jsx("span",{children:F.label})]},F.id))})}),r.jsxs("div",{className:"mt-6",children:[t==="list"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:y.automatesList}),r.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(mr,{size:20,className:"mr-2"}),y.addNew]})]}),o?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:y.loading})]}):s.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Qa,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:y.noAutomates}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Commencez par ajouter votre premier automate de laboratoire."}),r.jsx("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:y.addNew})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(F=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:F.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.manufacturer," - ",F.type]})]}),r.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${p(F.status)}`,children:[m(F.status),r.jsx("span",{className:"ml-1",children:y.status[F.status]})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Protocol:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:F.protocol})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Connection:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:F.connection})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Code Mappings:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:F._count.driverCodes})]}),F.lastSync&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[y.lastSync,":"]}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:new Date(F.lastSync).toLocaleString()})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>w(F),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded text-sm hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center",children:[r.jsx(ms,{size:14,className:"mr-1"}),y.viewLogs]}),r.jsx("button",{onClick:()=>E(F),className:"bg-yellow-100 text-yellow-800 px-3 py-2 rounded text-sm hover:bg-yellow-200 flex items-center",title:"Restart Interface",children:r.jsx(Hs,{size:14})}),r.jsx("button",{onClick:()=>U(F),className:"bg-green-100 text-green-800 px-3 py-2 rounded text-sm hover:bg-green-200 flex items-center",title:"Sync Now",children:r.jsx(c5,{size:14})})]})]},F.id))})]}),t==="config"&&r.jsx(x7,{automates:s,onRefresh:N}),t==="mapping"&&r.jsx(y7,{automates:s,onRefresh:N}),t==="logs"&&r.jsx(b7,{automates:s,onRefresh:N})]}),r.jsx(p7,{isOpen:c,onClose:()=>u(!1),onSuccess:N}),h&&i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Logs - ",i.name]}),r.jsx("button",{onClick:()=>x(!1),children:r.jsx("span",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:""})})]}),r.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Error"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:g.map(F=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(F.timestamp).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:F.type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F.status==="success"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:F.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:F.duration?`${F.duration}ms`:"-"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:F.errorMsg||"-"})]},F.id))})]})})]})})]})}function v7(){const{language:e}=At(),{refreshModules:t}=Kx(),[a,s]=L.useState([]),[n,i]=L.useState([]),[A,o]=L.useState(!0),[l,c]=L.useState("store"),[u,h]=L.useState(!1),[x,g]=L.useState(null),[v,y]=L.useState(""),[N,p]=L.useState(""),[m,w]=L.useState(""),[E,U]=L.useState(!1),[D,F]=L.useState(""),C={fr:{title:"Store de Modules",subtitle:"tendez les fonctionnalits de votre laboratoire",store:"Store",installed:"Installs",install:"Installer",startTrial:"Essai Gratuit",enterLicense:"Entrer la Licence",licenseKey:"Cl de Licence",organizationName:"Nom de l'Organisation",contactEmail:"Email de Contact",activate:"Activer",cancel:"Annuler",trial:"Essai",active:"Actif",expired:"Expir",daysLeft:"jours restants",features:"Fonctionnalits",version:"Version",author:"Auteur",category:"Catgorie",price:"Prix",free:"Gratuit",deactivate:"Dsactiver",refresh:"Actualiser",noModules:"Aucun module disponible",noInstalled:"Aucun module install",installSuccess:"Module install avec succs!",trialStarted:"Essai gratuit dmarr!",invalidLicense:"Cl de licence invalide",licenseInUse:"Cette cl de licence est dj utilise",installError:"Erreur lors de l'installation",generateDemo:"Gnrer Cl Demo"},en:{title:"Module Store",subtitle:"Extend your laboratory functionality",store:"Store",installed:"Installed",install:"Install",startTrial:"Start Trial",enterLicense:"Enter License",licenseKey:"License Key",organizationName:"Organization Name",contactEmail:"Contact Email",activate:"Activate",cancel:"Cancel",trial:"Trial",active:"Active",expired:"Expired",daysLeft:"days left",features:"Features",version:"Version",author:"Author",category:"Category",price:"Price",free:"Free",deactivate:"Deactivate",refresh:"Refresh",noModules:"No modules available",noInstalled:"No modules installed",installSuccess:"Module installed successfully!",trialStarted:"Trial started successfully!",invalidLicense:"Invalid license key",licenseInUse:"License key already in use",installError:"Installation error",generateDemo:"Generate Demo Key"}}[e];L.useEffect(()=>{K()},[]);const K=async()=>{o(!0),F("");try{console.log("Loading modules data...");const[S,X]=await Promise.all([ta.getModules(),ta.getInstalledModules()]);console.log("Modules loaded:",S.length,"available,",X.length,"installed"),s(S),i(X)}catch(S){console.error("Error loading modules:",S),F(`Failed to load modules: ${S.message}`)}finally{o(!1)}},M=S=>{g(S),h(!0),y(""),p(""),w(""),F("")},Q=async S=>{U(!0);try{console.log("Starting trial for module:",S.id,"with org:",N,"email:",m),await ta.startTrial(S.id,N||"Demo Organization",m||"demo@example.com"),F(""),await K(),t(),F(C.trialStarted),setTimeout(()=>F(""),3e3)}catch(X){console.error("Trial start error:",X),F(X.message||C.installError)}finally{U(!1)}},j=async()=>{if(!x||!v.trim()){F("License key is required");return}U(!0);try{await ta.installModule(x.id,v.trim(),N.trim()||void 0,m.trim()||void 0),h(!1),F(""),await K(),t(),F(C.installSuccess),setTimeout(()=>F(""),3e3)}catch(S){F(S.message||C.installError)}finally{U(!1)}},T=async S=>{if(confirm("Are you sure you want to deactivate this module?"))try{await ta.deactivateModule(S),await K(),t()}catch(X){F(X.message||"Failed to deactivate module")}},z=()=>{if(x){const S=ta.generateLicenseKey(x.name);y(S)}},H=(S,X)=>S==="EXPIRED"||X<=0?r.jsx(qi,{className:"w-4 h-4"}):S==="TRIAL"||X<=7?r.jsx(Zt,{className:"w-4 h-4"}):r.jsx(Wt,{className:"w-4 h-4"});return A?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Ga,{size:32,className:"text-amber-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:C.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:C.subtitle})]})]}),r.jsxs("div",{className:"flex space-x-1 bg-gray-200 dark:bg-gray-700 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>c("store"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${l==="store"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:C.store}),r.jsxs("button",{onClick:()=>c("installed"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${l==="installed"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:[C.installed," (",n.length,")"]})]})]}),D&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${D.includes("success")||D.includes("started")?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300"}`,children:D}),r.jsx("div",{className:"mb-6 flex justify-end",children:r.jsxs("button",{onClick:K,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(Hs,{size:16,className:"mr-2"}),C.refresh]})}),l==="store"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.length===0?r.jsx("div",{className:"col-span-full text-center py-12 text-gray-500 dark:text-gray-400",children:C.noModules}):a.map(S=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/20 rounded-lg",children:r.jsx(Ga,{size:24,className:"text-amber-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.displayName}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["v",S.version,"  ",S.author]})]})]}),S.isInstalled&&r.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${ta.getStatusBadgeColor(S.licenseStatus||"",S.daysRemaining)}`,children:[H(S.licenseStatus||"",S.daysRemaining),r.jsx("span",{children:S.licenseStatus})]})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:S.description}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[C.category,":"]}),r.jsx("span",{className:"text-gray-900 dark:text-white capitalize",children:S.category})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[C.price,":"]}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:S.price===0?C.free:`$${S.price}`})]}),S.isInstalled&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status:"}),r.jsx("span",{className:ta.getStatusColor(S.licenseStatus||"",S.daysRemaining),children:ta.formatDaysRemaining(S.daysRemaining)})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[C.features,":"]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.features.slice(0,3).map((X,q)=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:X},q)),S.features.length>3&&r.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded",children:["+",S.features.length-3," more"]})]})]}),r.jsx("div",{className:"flex space-x-2",children:S.isInstalled?r.jsxs("div",{className:"flex-1 flex items-center justify-center px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-lg text-sm",children:[r.jsx(Wt,{size:14,className:"mr-1"}),"Installed"]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>Q(S),disabled:E,className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm",children:[r.jsx(c5,{size:14,className:"mr-1"}),C.startTrial]}),r.jsxs("button",{onClick:()=>M(S),disabled:E,className:"flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 text-sm",children:[r.jsx(Xb,{size:14,className:"mr-1"}),C.install]})]})})]},S.id))}),l==="installed"&&r.jsx("div",{className:"space-y-4",children:n.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:C.noInstalled}):n.map(S=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/20 rounded-lg",children:r.jsx(Ga,{size:24,className:"text-amber-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.displayName}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["License: ",S.licenseKey]}),S.organizationName&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Organization: ",S.organizationName]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${ta.getStatusBadgeColor(S.status,S.daysRemaining)}`,children:[H(S.status,S.daysRemaining),r.jsx("span",{children:S.status})]}),r.jsx("p",{className:`text-sm mt-1 ${ta.getStatusColor(S.status,S.daysRemaining)}`,children:ta.formatDaysRemaining(S.daysRemaining)}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Expires: ",new Date(S.expiresAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(dd,{size:14}),r.jsxs("span",{children:["Max ",S.maxUsers," users"]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Va,{size:14}),r.jsxs("span",{children:["Since ",new Date(S.activatedAt).toLocaleDateString()]})]})]}),r.jsxs("button",{onClick:()=>T(S.id),className:"flex items-center px-3 py-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-sm",children:[r.jsx(qs,{size:14,className:"mr-1"}),C.deactivate]})]})]},S.id))}),u&&x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:C.enterLicense}),r.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Installing: ",r.jsx("strong",{children:x.displayName})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[C.licenseKey," *"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:v,onChange:S=>y(S.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your license key"}),r.jsx("button",{onClick:z,className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm",title:C.generateDemo,children:r.jsx(n3,{size:16})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:C.organizationName}),r.jsx("input",{type:"text",value:N,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your organization name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:C.contactEmail}),r.jsx("input",{type:"email",value:m,onChange:S=>w(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contact@example.com"})]}),D&&r.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm",children:D})]}),r.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:C.cancel}),r.jsx("button",{onClick:j,disabled:E||!v.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:E?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Installing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Xb,{size:16,className:"mr-2"}),C.activate]})})]})]})})]})})}function B7(){const{language:e}=At(),[t,a]=L.useState([]),[s,n]=L.useState(null),[i,A]=L.useState(!0),[o,l]=L.useState({productId:"",type:"",startDate:"",endDate:"",limit:100}),c={title:e==="fr"?"Rapport d'Activit Stock":"Stock Activity Report",subtitle:e==="fr"?"Historique complet des activits de stock":"Complete stock activity history",filter:e==="fr"?"Filtrer":"Filter",export:e==="fr"?"Exporter":"Export",search:e==="fr"?"Rechercher...":"Search...",product:e==="fr"?"Produit":"Product",type:"Type",date:"Date",startDate:e==="fr"?"Date de dbut":"Start Date",endDate:e==="fr"?"Date de fin":"End Date",limit:e==="fr"?"Limite":"Limit",allTypes:e==="fr"?"Tous les types":"All Types",stockIn:e==="fr"?"Ajout Stock":"Stock In",stockOut:e==="fr"?"Utilisation Stock":"Stock Out",transfer:e==="fr"?"Transfert":"Transfer",adjustment:e==="fr"?"Ajustement":"Adjustment",quantity:e==="fr"?"Quantit":"Quantity",location:e==="fr"?"Emplacement":"Location",performedBy:e==="fr"?"Effectu par":"Performed By",notes:"Notes",department:e==="fr"?"Dpartement":"Department",purpose:e==="fr"?"Objectif":"Purpose",supplier:e==="fr"?"Fournisseur":"Supplier",lotNumber:e==="fr"?"Numro de lot":"Lot Number",expiryDate:e==="fr"?"Date d'expiration":"Expiry Date",unitCost:e==="fr"?"Cot unitaire":"Unit Cost",reason:e==="fr"?"Raison":"Reason",fromLocation:e==="fr"?"De":"From",toLocation:e==="fr"?"Vers":"To",oldQuantity:e==="fr"?"Ancienne quantit":"Old Quantity",newQuantity:e==="fr"?"Nouvelle quantit":"New Quantity",noData:e==="fr"?"Aucune donne":"No data available",loading:e==="fr"?"Chargement...":"Loading...",summary:e==="fr"?"Rsum":"Summary",total:"Total",clearFilters:e==="fr"?"Effacer les filtres":"Clear Filters",applyFilters:e==="fr"?"Appliquer":"Apply"},u=async()=>{try{A(!0);const m=await kt.getStockActivities(o);a(m.activities||[]),n(m.summary||null)}catch(m){console.error("Error loading activities:",m),a([]),n(null)}finally{A(!1)}};L.useEffect(()=>{u()},[o]);const h=(m,w)=>{l(E=>({...E,[m]:w}))},x=()=>{l({productId:"",type:"",startDate:"",endDate:"",limit:100})},g=m=>{switch(m){case"STOCK_IN":return r.jsx(Vn,{size:16,className:"text-green-600"});case"STOCK_OUT":return r.jsx(Ki,{size:16,className:"text-red-600"});case"TRANSFER":return r.jsx(Ah,{size:16,className:"text-blue-600"});case"ADJUSTMENT":return r.jsx(fn,{size:16,className:"text-orange-600"});default:return r.jsx(Ga,{size:16,className:"text-gray-600"})}},v=m=>{switch(m){case"STOCK_IN":return"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800";case"STOCK_OUT":return"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800";case"TRANSFER":return"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800";case"ADJUSTMENT":return"bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:border-orange-800";default:return"bg-gray-50 border-gray-200 dark:bg-gray-900/20 dark:border-gray-800"}},y=m=>new Date(m).toLocaleString(),N=m=>`${m>0?"+":""}${m}`,p=async()=>{try{const w=(await kt.getStockActivities(o)).activities||[],E=["Date","Type","Product","Code","Category","Quantity","Location","Performed By","Notes","Department","Purpose","Supplier","Lot Number","Expiry Date","Unit Cost","Reason","From Location","To Location"],U=w.map(M=>[y(M.date),M.type,M.productName,M.productCode,M.category,N(M.quantity),M.location,M.performedBy||"",M.notes||"",M.department||"",M.purpose||"",M.supplier||"",M.lotNumber||"",M.expiryDate?new Date(M.expiryDate).toLocaleDateString():"",M.unitCost||"",M.reason||"",M.fromLocation||"",M.toLocation||""]),D=[E,...U].map(M=>M.join(",")).join(`
`),F=new Blob([D],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(F),K=document.createElement("a");K.setAttribute("href",C),K.setAttribute("download",`stock-activities-${new Date().toISOString().split("T")[0]}.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K)}catch(m){console.error("Error exporting report:",m),alert(e==="fr"?"Erreur lors de l'exportation":"Error exporting report")}};return r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:c.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:c.subtitle})]}),s&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ga,{className:"h-6 w-6 text-gray-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.total}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.total})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Vn,{className:"h-6 w-6 text-green-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.stockIn}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.stockIn})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ki,{className:"h-6 w-6 text-red-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.stockOut}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.stockOut})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ah,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.transfer}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.transfers})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(fn,{className:"h-6 w-6 text-orange-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.adjustment}),r.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.adjustments})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[r.jsx(Bl,{className:"h-5 w-5 mr-2"}),c.filter]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:x,className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:c.clearFilters}),r.jsxs("button",{onClick:p,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center",children:[r.jsx(Jn,{size:14,className:"mr-1"}),c.export]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.type}),r.jsxs("select",{value:o.type,onChange:m=>h("type",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:c.allTypes}),r.jsx("option",{value:"STOCK_IN",children:c.stockIn}),r.jsx("option",{value:"STOCK_OUT",children:c.stockOut}),r.jsx("option",{value:"TRANSFER",children:c.transfer}),r.jsx("option",{value:"ADJUSTMENT",children:c.adjustment})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.startDate}),r.jsx("input",{type:"date",value:o.startDate,onChange:m=>h("startDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.endDate}),r.jsx("input",{type:"date",value:o.endDate,onChange:m=>h("endDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.limit}),r.jsxs("select",{value:o.limit,onChange:m=>h("limit",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"}),r.jsx("option",{value:200,children:"200"}),r.jsx("option",{value:500,children:"500"})]})]})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:c.loading})]})}):t.length===0?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ga,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:c.noData})]})}):r.jsx("div",{className:"space-y-4 p-6",children:t.map(m=>r.jsx("div",{className:`border rounded-lg p-4 ${v(m.type)}`,children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"mt-1",children:g(m.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:m.productName}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",m.productCode,")"]}),r.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:m.category})]}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:m.description}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.quantity,":"]}),r.jsx("span",{className:`ml-1 ${m.quantity>0?"text-green-600":"text-red-600"}`,children:N(m.quantity)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.location,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.location})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.performedBy,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.performedBy||"-"})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.date,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y(m.date)})]})]}),m.type==="STOCK_IN"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[m.supplier&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.supplier,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.supplier})]}),m.lotNumber&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.lotNumber,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.lotNumber})]}),m.expiryDate&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.expiryDate,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:new Date(m.expiryDate).toLocaleDateString()})]}),m.unitCost>0&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.unitCost,":"]}),r.jsxs("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:["$",m.unitCost]})]})]}),m.type==="STOCK_OUT"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[m.department&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.department,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.department})]}),m.purpose&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.purpose,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.purpose})]})]}),m.type==="TRANSFER"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.fromLocation,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.fromLocation})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.toLocation,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.toLocation})]})]}),m.type==="ADJUSTMENT"&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.oldQuantity,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.oldQuantity})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.newQuantity,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.newQuantity})]}),m.reason&&r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.reason,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.reason})]})]}),m.notes&&r.jsxs("div",{className:"mt-2 text-sm",children:[r.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.notes,":"]}),r.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:m.notes})]})]})]})})},m.id))})})]})}function N7(){const{language:e}=At(),t=Ks(),[a,s]=L.useState([]),[n,i]=L.useState(!0),[A,o]=L.useState(""),[l,c]=L.useState(""),[u,h]=L.useState("summary"),x={title:e==="fr"?"Rapport de Stock":"Stock Report",subtitle:e==="fr"?"Visualiser et exporter les donnes de stock":"View and export stock data",search:e==="fr"?"Rechercher...":"Search...",allCategories:e==="fr"?"Toutes les catgories":"All Categories",export:e==="fr"?"Exporter":"Export",back:e==="fr"?"Retour":"Back",loading:e==="fr"?"Chargement...":"Loading...",product:e==="fr"?"Produit":"Product",code:"Code",category:e==="fr"?"Catgorie":"Category",currentStock:e==="fr"?"Stock Actuel":"Current Stock",expiringStock:e==="fr"?"Stock Expirant":"Expiring Stock",unit:e==="fr"?"Unit":"Unit",minStock:e==="fr"?"Stock Minimum":"Min Stock",noData:e==="fr"?"Aucune donne disponible":"No data available",summary:e==="fr"?"Rsum":"Summary",activities:e==="fr"?"Activits":"Activities",stockSummary:e==="fr"?"Rsum du Stock":"Stock Summary",stockActivities:e==="fr"?"Activits de Stock":"Stock Activities"};L.useEffect(()=>{g()},[]);const g=async()=>{i(!0);try{const p=await kt.exportStockReport();s(Array.isArray(p)?p:[])}catch(p){console.error("Error loading report:",p)}finally{i(!1)}},v=async()=>{try{const p={search:A,category:l},m=await kt.exportStockReport(p);if(m&&Array.isArray(m)){const w=Object.keys(m[0]).join(","),E=m.map(K=>Object.values(K).join(",")),U=[w,...E].join(`
`),D=new Blob([U],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(D),C=document.createElement("a");C.setAttribute("href",F),C.setAttribute("download",`stock-report-${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)}else console.error("Invalid response format for export")}catch(p){console.error("Error exporting stock report:",p)}},y=a.filter(p=>{const m=A===""||p.name.toLowerCase().includes(A.toLowerCase())||p.code.toLowerCase().includes(A.toLowerCase()),w=l===""||p.category===l;return m&&w}),N=[...new Set(a.map(p=>p.category))].filter(Boolean);return r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>t("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[r.jsx(DA,{size:20,className:"mr-2"}),x.back]}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:x.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:x.subtitle})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsxs("button",{onClick:()=>h("summary"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${u==="summary"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(_s,{size:16,className:"mr-2"}),x.stockSummary]}),r.jsxs("button",{onClick:()=>h("activities"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${u==="activities"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.jsx(Ds,{size:16,className:"mr-2"}),x.stockActivities]})]})})}),u==="summary"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:x.search,value:A,onChange:p=>o(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:l,onChange:p=>c(p.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:x.allCategories}),N.map(p=>r.jsx("option",{value:p,children:p},p))]})]}),r.jsx("div",{children:r.jsxs("button",{onClick:v,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[r.jsx(Jn,{size:16,className:"mr-2"}),x.export]})})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:x.loading})]})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.code}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.product}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.category}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.currentStock}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.expiringStock}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.unit}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.minStock})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:y.length>0?y.map((p,m)=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:p.code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:p.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:p.category}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:p.currentStock}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:p.expiringStock}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:p.unit}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:p.minStock})]},m)):r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:x.noData})})})]})})})]}):r.jsx(B7,{})]})}const mN=L.createContext(void 0),At=()=>{const e=L.useContext(mN);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function k7(){const[e,t]=L.useState(()=>{const g=localStorage.getItem("sil_lab_token"),v=localStorage.getItem("sil_lab_user");if(g&&v)try{return JSON.parse(v)}catch(y){console.error("Error parsing user data:",y),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}return null}),[a,s]=L.useState(()=>{const g=localStorage.getItem("sil_lab_theme");return g||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),[n,i]=L.useState(()=>localStorage.getItem("sil_lab_language")||"fr");L.useEffect(()=>{const g=window.document.documentElement;g.classList.remove("light","dark"),g.classList.add(a),localStorage.setItem("sil_lab_theme",a)},[a]),L.useEffect(()=>{localStorage.setItem("sil_lab_language",n)},[n]),L.useEffect(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)"),v=y=>{localStorage.getItem("sil_lab_theme")||s(y.matches?"dark":"light")};return g.addEventListener("change",v),()=>g.removeEventListener("change",v)},[]),L.useEffect(()=>{(async()=>{const v=localStorage.getItem("sil_lab_token");if(v&&!e)try{const y=await fetch("http://localhost:5001/api/auth/me",{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}});if(y.ok){const N=await y.json();t(N.user),localStorage.setItem("sil_lab_user",JSON.stringify(N.user))}else localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}catch(y){console.error("Error validating token:",y),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}})()},[e]);const u={user:e,login:async(g,v)=>{try{const y=await fetch("http://localhost:5001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g,password:v})});if(y.ok){const N=await y.json();return t(N.user),localStorage.setItem("sil_lab_token",N.token),localStorage.setItem("sil_lab_user",JSON.stringify(N.user)),!0}else return console.error("Login failed"),!1}catch(y){return console.error("Login error:",y),!1}},logout:()=>{t(null),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")},theme:a,toggleTheme:()=>{s(g=>g==="light"?"dark":"light")},language:n,toggleLanguage:()=>{i(g=>g==="fr"?"en":"fr")}},[h,x]=L.useState(!1);return r.jsx(mN.Provider,{value:u,children:r.jsx(c3,{children:r.jsx("div",{className:`min-h-screen ${a==="dark"?"dark bg-gray-900":"bg-gray-50"}`,children:e?r.jsxs("div",{className:"flex flex-col lg:flex-row h-screen overflow-hidden",children:[h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>x(!1)}),r.jsx("div",{className:`fixed lg:static z-30 transform ${h?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out`,children:r.jsx(B3,{onClose:()=>x(!1)})}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:[r.jsx(A3,{onMenuClick:()=>x(!h)}),r.jsx("main",{className:"flex-1 overflow-y-auto p-2 sm:p-4 lg:p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx(v3,{children:r.jsxs(s5,{children:[r.jsx(Nt,{path:"/",element:r.jsx(Cf,{to:"/dashboard",replace:!0})}),r.jsx(Nt,{path:"/dashboard",element:r.jsx(E3,{})}),r.jsx(Nt,{path:"/patients",element:r.jsx(Q3,{})}),r.jsx(Nt,{path:"/doctors",element:r.jsx(U3,{})}),r.jsx(Nt,{path:"/requests",element:r.jsx(L3,{})}),r.jsx(Nt,{path:"/new-request",element:r.jsx(K3,{})}),r.jsx(Nt,{path:"/analyses",element:r.jsx(I3,{})}),r.jsx(Nt,{path:"/results",element:r.jsx(gL,{})}),r.jsx(Nt,{path:"/validation",element:r.jsx(fL,{})}),r.jsx(Nt,{path:"/billing",element:r.jsx(mL,{})}),r.jsx(Nt,{path:"/config",element:r.jsx(pL,{})}),r.jsx(Nt,{path:"/config/prices",element:r.jsx(xL,{})}),r.jsx(Nt,{path:"/config/users",element:r.jsx(yL,{})}),r.jsx(Nt,{path:"/config/modules",element:r.jsx(v7,{})}),r.jsx(Nt,{path:"/config/audit",element:r.jsx(m7,{})}),r.jsx(Nt,{path:"/config/backup",element:r.jsx(f5,{})}),r.jsx(Nt,{path:"/automates",element:r.jsx(w7,{})}),r.jsx(Nt,{path:"/quality-control",element:r.jsx(m5,{})}),r.jsx(Nt,{path:"/stock",element:r.jsx(Cf,{to:"/stock/dashboard",replace:!0})}),r.jsx(Nt,{path:"/stock/dashboard",element:r.jsx(wL,{})}),r.jsx(Nt,{path:"/stock/add",element:r.jsx(kL,{})}),r.jsx(Nt,{path:"/stock/create-product",element:r.jsx(jL,{})}),r.jsx(Nt,{path:"/stock/use",element:r.jsx(CL,{})}),r.jsx(Nt,{path:"/stock/transfer",element:r.jsx(SL,{onClose:()=>{}})}),r.jsx(Nt,{path:"/stock/adjust",element:r.jsx(FL,{})}),r.jsx(Nt,{path:"/stock/suppliers",element:r.jsx(EL,{})}),r.jsx(Nt,{path:"/stock/orders",element:r.jsx(LL,{})}),r.jsx(Nt,{path:"/stock/reports",element:r.jsx(N7,{})}),r.jsx(Nt,{path:"*",element:r.jsx(Cf,{to:"/dashboard",replace:!0})})]})})})})]})]}):r.jsx(N3,{})})})})}window.debugRequests=S3;W2(document.getElementById("root")).render(r.jsx(L.StrictMode,{children:r.jsx(kC,{children:r.jsx(k7,{})})}));export{Qt as _,j7 as c,tk as g};
