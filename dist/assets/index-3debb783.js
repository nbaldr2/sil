function HN(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const A=Object.getOwnPropertyDescriptor(s,n);A&&Object.defineProperty(e,n,A.get?A:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const A of n)if(A.type==="childList")for(const i of A.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const A={};return n.integrity&&(A.integrity=n.integrity),n.referrerPolicy&&(A.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?A.credentials="include":n.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function s(n){if(n.ep)return;n.ep=!0;const A=r(n);fetch(n.href,A)}})();var e7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cw={exports:{}},yh={},Sw={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud=Symbol.for("react.element"),ON=Symbol.for("react.portal"),_N=Symbol.for("react.fragment"),KN=Symbol.for("react.strict_mode"),qN=Symbol.for("react.profiler"),zN=Symbol.for("react.provider"),VN=Symbol.for("react.context"),GN=Symbol.for("react.forward_ref"),WN=Symbol.for("react.suspense"),JN=Symbol.for("react.memo"),$N=Symbol.for("react.lazy"),Ny=Symbol.iterator;function XN(e){return e===null||typeof e!="object"?null:(e=Ny&&e[Ny]||e["@@iterator"],typeof e=="function"?e:null)}var Fw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ew=Object.assign,Qw={};function hl(e,t,r){this.props=e,this.context=t,this.refs=Qw,this.updater=r||Fw}hl.prototype.isReactComponent={};hl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uw(){}Uw.prototype=hl.prototype;function Dp(e,t,r){this.props=e,this.context=t,this.refs=Qw,this.updater=r||Fw}var Tp=Dp.prototype=new Uw;Tp.constructor=Dp;Ew(Tp,hl.prototype);Tp.isPureReactComponent=!0;var ky=Array.isArray,Lw=Object.prototype.hasOwnProperty,Rp={current:null},Iw={key:!0,ref:!0,__self:!0,__source:!0};function Pw(e,t,r){var s,n={},A=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(A=""+t.key),t)Lw.call(t,s)&&!Iw.hasOwnProperty(s)&&(n[s]=t[s]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];n.children=l}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)n[s]===void 0&&(n[s]=o[s]);return{$$typeof:ud,type:e,key:A,ref:i,props:n,_owner:Rp.current}}function YN(e,t){return{$$typeof:ud,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hp(e){return typeof e=="object"&&e!==null&&e.$$typeof===ud}function ZN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jy=/\/+/g;function Gf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZN(""+e.key):t.toString(36)}function a0(e,t,r,s,n){var A=typeof e;(A==="undefined"||A==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(A){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ud:case ON:i=!0}}if(i)return i=e,n=n(i),e=s===""?"."+Gf(i,0):s,ky(n)?(r="",e!=null&&(r=e.replace(jy,"$&/")+"/"),a0(n,t,r,"",function(c){return c})):n!=null&&(Hp(n)&&(n=YN(n,r+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(jy,"$&/")+"/")+e)),t.push(n)),1;if(i=0,s=s===""?".":s+":",ky(e))for(var o=0;o<e.length;o++){A=e[o];var l=s+Gf(A,o);i+=a0(A,t,r,l,n)}else if(l=XN(e),typeof l=="function")for(e=l.call(e),o=0;!(A=e.next()).done;)A=A.value,l=s+Gf(A,o++),i+=a0(A,t,r,l,n);else if(A==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function uu(e,t,r){if(e==null)return e;var s=[],n=0;return a0(e,s,"","",function(A){return t.call(r,A,n++)}),s}function e4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ga={current:null},s0={transition:null},t4={ReactCurrentDispatcher:ga,ReactCurrentBatchConfig:s0,ReactCurrentOwner:Rp};function Dw(){throw Error("act(...) is not supported in production builds of React.")}ht.Children={map:uu,forEach:function(e,t,r){uu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return uu(e,function(){t++}),t},toArray:function(e){return uu(e,function(t){return t})||[]},only:function(e){if(!Hp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ht.Component=hl;ht.Fragment=_N;ht.Profiler=qN;ht.PureComponent=Dp;ht.StrictMode=KN;ht.Suspense=WN;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t4;ht.act=Dw;ht.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ew({},e.props),n=e.key,A=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(A=t.ref,i=Rp.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Lw.call(t,l)&&!Iw.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];s.children=o}return{$$typeof:ud,type:e.type,key:n,ref:A,props:s,_owner:i}};ht.createContext=function(e){return e={$$typeof:VN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zN,_context:e},e.Consumer=e};ht.createElement=Pw;ht.createFactory=function(e){var t=Pw.bind(null,e);return t.type=e,t};ht.createRef=function(){return{current:null}};ht.forwardRef=function(e){return{$$typeof:GN,render:e}};ht.isValidElement=Hp;ht.lazy=function(e){return{$$typeof:$N,_payload:{_status:-1,_result:e},_init:e4}};ht.memo=function(e,t){return{$$typeof:JN,type:e,compare:t===void 0?null:t}};ht.startTransition=function(e){var t=s0.transition;s0.transition={};try{e()}finally{s0.transition=t}};ht.unstable_act=Dw;ht.useCallback=function(e,t){return ga.current.useCallback(e,t)};ht.useContext=function(e){return ga.current.useContext(e)};ht.useDebugValue=function(){};ht.useDeferredValue=function(e){return ga.current.useDeferredValue(e)};ht.useEffect=function(e,t){return ga.current.useEffect(e,t)};ht.useId=function(){return ga.current.useId()};ht.useImperativeHandle=function(e,t,r){return ga.current.useImperativeHandle(e,t,r)};ht.useInsertionEffect=function(e,t){return ga.current.useInsertionEffect(e,t)};ht.useLayoutEffect=function(e,t){return ga.current.useLayoutEffect(e,t)};ht.useMemo=function(e,t){return ga.current.useMemo(e,t)};ht.useReducer=function(e,t,r){return ga.current.useReducer(e,t,r)};ht.useRef=function(e){return ga.current.useRef(e)};ht.useState=function(e){return ga.current.useState(e)};ht.useSyncExternalStore=function(e,t,r){return ga.current.useSyncExternalStore(e,t,r)};ht.useTransition=function(){return ga.current.useTransition()};ht.version="18.3.1";Sw.exports=ht;var T=Sw.exports;const r4=MN(T),a4=HN({__proto__:null,default:r4},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s4=T,n4=Symbol.for("react.element"),A4=Symbol.for("react.fragment"),i4=Object.prototype.hasOwnProperty,o4=s4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l4={key:!0,ref:!0,__self:!0,__source:!0};function Tw(e,t,r){var s,n={},A=null,i=null;r!==void 0&&(A=""+r),t.key!==void 0&&(A=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)i4.call(t,s)&&!l4.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:n4,type:e,key:A,ref:i,props:n,_owner:o4.current}}yh.Fragment=A4;yh.jsx=Tw;yh.jsxs=Tw;Cw.exports=yh;var a=Cw.exports,Rw={exports:{}},Ka={},Hw={exports:{}},Mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,te){var se=K.length;K.push(te);e:for(;0<se;){var he=se-1>>>1,Q=K[he];if(0<n(Q,te))K[he]=te,K[se]=Q,se=he;else break e}}function r(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var te=K[0],se=K.pop();if(se!==te){K[0]=se;e:for(var he=0,Q=K.length,J=Q>>>1;he<J;){var X=2*(he+1)-1,ee=K[X],ne=X+1,ce=K[ne];if(0>n(ee,se))ne<Q&&0>n(ce,ee)?(K[he]=ce,K[ne]=se,he=ne):(K[he]=ee,K[X]=se,he=X);else if(ne<Q&&0>n(ce,se))K[he]=ce,K[ne]=se,he=ne;else break e}}return te}function n(K,te){var se=K.sortIndex-te.sortIndex;return se!==0?se:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var A=performance;e.unstable_now=function(){return A.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],u=1,f=null,p=3,h=!1,B=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(K){for(var te=r(c);te!==null;){if(te.callback===null)s(c);else if(te.startTime<=K)s(c),te.sortIndex=te.expirationTime,t(l,te);else break;te=r(c)}}function E(K){if(x=!1,v(K),!B)if(r(l)!==null)B=!0,O(U);else{var te=r(c);te!==null&&Z(E,te.startTime-K)}}function U(K,te){B=!1,x&&(x=!1,m(C),C=-1),h=!0;var se=p;try{for(v(te),f=r(l);f!==null&&(!(f.expirationTime>te)||K&&!F());){var he=f.callback;if(typeof he=="function"){f.callback=null,p=f.priorityLevel;var Q=he(f.expirationTime<=te);te=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(l)&&s(l),v(te)}else s(l);f=r(l)}if(f!==null)var J=!0;else{var X=r(c);X!==null&&Z(E,X.startTime-te),J=!1}return J}finally{f=null,p=se,h=!1}}var V=!1,S=null,C=-1,_=5,H=-1;function F(){return!(e.unstable_now()-H<_)}function j(){if(S!==null){var K=e.unstable_now();H=K;var te=!0;try{te=S(!0,K)}finally{te?P():(V=!1,S=null)}}else V=!1}var P;if(typeof y=="function")P=function(){y(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=j,P=function(){D.postMessage(null)}}else P=function(){N(j,0)};function O(K){S=K,V||(V=!0,P())}function Z(K,te){C=N(function(){K(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){B||h||(B=!0,O(U))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(K){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var se=p;p=te;try{return K()}finally{p=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=p;p=K;try{return te()}finally{p=se}},e.unstable_scheduleCallback=function(K,te,se){var he=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?he+se:he):se=he,K){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=se+Q,K={id:u++,callback:te,priorityLevel:K,startTime:se,expirationTime:Q,sortIndex:-1},se>he?(K.sortIndex=se,t(c,K),r(l)===null&&K===r(c)&&(x?(m(C),C=-1):x=!0,Z(E,se-he))):(K.sortIndex=Q,t(l,K),B||h||(B=!0,O(U))),K},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(K){var te=p;return function(){var se=p;p=te;try{return K.apply(this,arguments)}finally{p=se}}}})(Mw);Hw.exports=Mw;var c4=Hw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4=T,_a=c4;function Se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ow=new Set,Oc={};function Ri(e,t){sl(e,t),sl(e+"Capture",t)}function sl(e,t){for(Oc[e]=t,e=0;e<t.length;e++)Ow.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),em=Object.prototype.hasOwnProperty,u4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cy={},Sy={};function h4(e){return em.call(Sy,e)?!0:em.call(Cy,e)?!1:u4.test(e)?Sy[e]=!0:(Cy[e]=!0,!1)}function f4(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function g4(e,t,r,s){if(t===null||typeof t>"u"||f4(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ma(e,t,r,s,n,A,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=A,this.removeEmptyString=i}var qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qr[e]=new ma(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qr[t]=new ma(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qr[e]=new ma(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qr[e]=new ma(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qr[e]=new ma(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qr[e]=new ma(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qr[e]=new ma(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qr[e]=new ma(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qr[e]=new ma(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mp=/[\-:]([a-z])/g;function Op(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mp,Op);qr[t]=new ma(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mp,Op);qr[t]=new ma(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mp,Op);qr[t]=new ma(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qr[e]=new ma(e,1,!1,e.toLowerCase(),null,!1,!1)});qr.xlinkHref=new ma("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qr[e]=new ma(e,1,!1,e.toLowerCase(),null,!0,!0)});function _p(e,t,r,s){var n=qr.hasOwnProperty(t)?qr[t]:null;(n!==null?n.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(g4(t,r,n,s)&&(r=null),s||n===null?h4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,s=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var _n=d4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),Qo=Symbol.for("react.portal"),Uo=Symbol.for("react.fragment"),Kp=Symbol.for("react.strict_mode"),tm=Symbol.for("react.profiler"),_w=Symbol.for("react.provider"),Kw=Symbol.for("react.context"),qp=Symbol.for("react.forward_ref"),rm=Symbol.for("react.suspense"),am=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),dA=Symbol.for("react.lazy"),qw=Symbol.for("react.offscreen"),Fy=Symbol.iterator;function Zl(e){return e===null||typeof e!="object"?null:(e=Fy&&e[Fy]||e["@@iterator"],typeof e=="function"?e:null)}var Yt=Object.assign,Wf;function fc(e){if(Wf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Wf=t&&t[1]||""}return`
`+Wf+e}var Jf=!1;function $f(e,t){if(!e||Jf)return"";Jf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),A=s.stack.split(`
`),i=n.length-1,o=A.length-1;1<=i&&0<=o&&n[i]!==A[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==A[o]){if(i!==1||o!==1)do if(i--,o--,0>o||n[i]!==A[o]){var l=`
`+n[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{Jf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fc(e):""}function m4(e){switch(e.tag){case 5:return fc(e.type);case 16:return fc("Lazy");case 13:return fc("Suspense");case 19:return fc("SuspenseList");case 0:case 2:case 15:return e=$f(e.type,!1),e;case 11:return e=$f(e.type.render,!1),e;case 1:return e=$f(e.type,!0),e;default:return""}}function sm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Uo:return"Fragment";case Qo:return"Portal";case tm:return"Profiler";case Kp:return"StrictMode";case rm:return"Suspense";case am:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kw:return(e.displayName||"Context")+".Consumer";case _w:return(e._context.displayName||"Context")+".Provider";case qp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zp:return t=e.displayName||null,t!==null?t:sm(e.type)||"Memo";case dA:t=e._payload,e=e._init;try{return sm(e(t))}catch{}}return null}function p4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sm(t);case 8:return t===Kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function DA(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x4(e){var t=zw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,A=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){s=""+i,A.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fu(e){e._valueTracker||(e._valueTracker=x4(e))}function Vw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=zw(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function C0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nm(e,t){var r=t.checked;return Yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ey(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=DA(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gw(e,t){t=t.checked,t!=null&&_p(e,"checked",t,!1)}function Am(e,t){Gw(e,t);var r=DA(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?im(e,t.type,r):t.hasOwnProperty("defaultValue")&&im(e,t.type,DA(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function im(e,t,r){(t!=="number"||C0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var gc=Array.isArray;function zo(e,t,r,s){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&s&&(e[r].defaultSelected=!0)}else{for(r=""+DA(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function om(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Se(92));if(gc(r)){if(1<r.length)throw Error(Se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:DA(r)}}function Ww(e,t){var r=DA(t.value),s=DA(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Ly(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gu,$w=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gu=gu||document.createElement("div"),gu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _c(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var kc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y4=["Webkit","ms","Moz","O"];Object.keys(kc).forEach(function(e){y4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kc[t]=kc[e]})});function Xw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||kc.hasOwnProperty(e)&&kc[e]?(""+t).trim():t+"px"}function Yw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,n=Xw(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,n):e[r]=n}}var w4=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cm(e,t){if(t){if(w4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Se(62))}}function dm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=null;function Vp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hm=null,Vo=null,Go=null;function Iy(e){if(e=gd(e)){if(typeof hm!="function")throw Error(Se(280));var t=e.stateNode;t&&(t=Nh(t),hm(e.stateNode,e.type,t))}}function Zw(e){Vo?Go?Go.push(e):Go=[e]:Vo=e}function ev(){if(Vo){var e=Vo,t=Go;if(Go=Vo=null,Iy(e),t)for(e=0;e<t.length;e++)Iy(t[e])}}function tv(e,t){return e(t)}function rv(){}var Xf=!1;function av(e,t,r){if(Xf)return e(t,r);Xf=!0;try{return tv(e,t,r)}finally{Xf=!1,(Vo!==null||Go!==null)&&(rv(),ev())}}function Kc(e,t){var r=e.stateNode;if(r===null)return null;var s=Nh(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Se(231,t,typeof r));return r}var fm=!1;if(Dn)try{var ec={};Object.defineProperty(ec,"passive",{get:function(){fm=!0}}),window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{fm=!1}function v4(e,t,r,s,n,A,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var jc=!1,S0=null,F0=!1,gm=null,b4={onError:function(e){jc=!0,S0=e}};function B4(e,t,r,s,n,A,i,o,l){jc=!1,S0=null,v4.apply(b4,arguments)}function N4(e,t,r,s,n,A,i,o,l){if(B4.apply(this,arguments),jc){if(jc){var c=S0;jc=!1,S0=null}else throw Error(Se(198));F0||(F0=!0,gm=c)}}function Hi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function sv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Py(e){if(Hi(e)!==e)throw Error(Se(188))}function k4(e){var t=e.alternate;if(!t){if(t=Hi(e),t===null)throw Error(Se(188));return t!==e?null:e}for(var r=e,s=t;;){var n=r.return;if(n===null)break;var A=n.alternate;if(A===null){if(s=n.return,s!==null){r=s;continue}break}if(n.child===A.child){for(A=n.child;A;){if(A===r)return Py(n),e;if(A===s)return Py(n),t;A=A.sibling}throw Error(Se(188))}if(r.return!==s.return)r=n,s=A;else{for(var i=!1,o=n.child;o;){if(o===r){i=!0,r=n,s=A;break}if(o===s){i=!0,s=n,r=A;break}o=o.sibling}if(!i){for(o=A.child;o;){if(o===r){i=!0,r=A,s=n;break}if(o===s){i=!0,s=A,r=n;break}o=o.sibling}if(!i)throw Error(Se(189))}}if(r.alternate!==s)throw Error(Se(190))}if(r.tag!==3)throw Error(Se(188));return r.stateNode.current===r?e:t}function nv(e){return e=k4(e),e!==null?Av(e):null}function Av(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Av(e);if(t!==null)return t;e=e.sibling}return null}var iv=_a.unstable_scheduleCallback,Dy=_a.unstable_cancelCallback,j4=_a.unstable_shouldYield,C4=_a.unstable_requestPaint,cr=_a.unstable_now,S4=_a.unstable_getCurrentPriorityLevel,Gp=_a.unstable_ImmediatePriority,ov=_a.unstable_UserBlockingPriority,E0=_a.unstable_NormalPriority,F4=_a.unstable_LowPriority,lv=_a.unstable_IdlePriority,wh=null,nn=null;function E4(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(wh,e,void 0,(e.current.flags&128)===128)}catch{}}var Us=Math.clz32?Math.clz32:L4,Q4=Math.log,U4=Math.LN2;function L4(e){return e>>>=0,e===0?32:31-(Q4(e)/U4|0)|0}var mu=64,pu=4194304;function mc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Q0(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,n=e.suspendedLanes,A=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~n;o!==0?s=mc(o):(A&=i,A!==0&&(s=mc(A)))}else i=r&~n,i!==0?s=mc(i):A!==0&&(s=mc(A));if(s===0)return 0;if(t!==0&&t!==s&&!(t&n)&&(n=s&-s,A=t&-t,n>=A||n===16&&(A&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Us(t),n=1<<r,s|=e[r],t&=~n;return s}function I4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P4(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,A=e.pendingLanes;0<A;){var i=31-Us(A),o=1<<i,l=n[i];l===-1?(!(o&r)||o&s)&&(n[i]=I4(o,t)):l<=t&&(e.expiredLanes|=o),A&=~o}}function mm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cv(){var e=mu;return mu<<=1,!(mu&4194240)&&(mu=64),e}function Yf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Us(t),e[t]=r}function D4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Us(r),A=1<<n;t[n]=0,s[n]=-1,e[n]=-1,r&=~A}}function Wp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Us(r),n=1<<s;n&t|e[s]&t&&(e[s]|=t),r&=~n}}var Ut=0;function dv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uv,Jp,hv,fv,gv,pm=!1,xu=[],BA=null,NA=null,kA=null,qc=new Map,zc=new Map,fA=[],T4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ty(e,t){switch(e){case"focusin":case"focusout":BA=null;break;case"dragenter":case"dragleave":NA=null;break;case"mouseover":case"mouseout":kA=null;break;case"pointerover":case"pointerout":qc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(t.pointerId)}}function tc(e,t,r,s,n,A){return e===null||e.nativeEvent!==A?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:A,targetContainers:[n]},t!==null&&(t=gd(t),t!==null&&Jp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function R4(e,t,r,s,n){switch(t){case"focusin":return BA=tc(BA,e,t,r,s,n),!0;case"dragenter":return NA=tc(NA,e,t,r,s,n),!0;case"mouseover":return kA=tc(kA,e,t,r,s,n),!0;case"pointerover":var A=n.pointerId;return qc.set(A,tc(qc.get(A)||null,e,t,r,s,n)),!0;case"gotpointercapture":return A=n.pointerId,zc.set(A,tc(zc.get(A)||null,e,t,r,s,n)),!0}return!1}function mv(e){var t=gi(e.target);if(t!==null){var r=Hi(t);if(r!==null){if(t=r.tag,t===13){if(t=sv(r),t!==null){e.blockedOn=t,gv(e.priority,function(){hv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function n0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=xm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);um=s,r.target.dispatchEvent(s),um=null}else return t=gd(r),t!==null&&Jp(t),e.blockedOn=r,!1;t.shift()}return!0}function Ry(e,t,r){n0(e)&&r.delete(t)}function H4(){pm=!1,BA!==null&&n0(BA)&&(BA=null),NA!==null&&n0(NA)&&(NA=null),kA!==null&&n0(kA)&&(kA=null),qc.forEach(Ry),zc.forEach(Ry)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,pm||(pm=!0,_a.unstable_scheduleCallback(_a.unstable_NormalPriority,H4)))}function Vc(e){function t(n){return rc(n,e)}if(0<xu.length){rc(xu[0],e);for(var r=1;r<xu.length;r++){var s=xu[r];s.blockedOn===e&&(s.blockedOn=null)}}for(BA!==null&&rc(BA,e),NA!==null&&rc(NA,e),kA!==null&&rc(kA,e),qc.forEach(t),zc.forEach(t),r=0;r<fA.length;r++)s=fA[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<fA.length&&(r=fA[0],r.blockedOn===null);)mv(r),r.blockedOn===null&&fA.shift()}var Wo=_n.ReactCurrentBatchConfig,U0=!0;function M4(e,t,r,s){var n=Ut,A=Wo.transition;Wo.transition=null;try{Ut=1,$p(e,t,r,s)}finally{Ut=n,Wo.transition=A}}function O4(e,t,r,s){var n=Ut,A=Wo.transition;Wo.transition=null;try{Ut=4,$p(e,t,r,s)}finally{Ut=n,Wo.transition=A}}function $p(e,t,r,s){if(U0){var n=xm(e,t,r,s);if(n===null)og(e,t,s,L0,r),Ty(e,s);else if(R4(n,e,t,r,s))s.stopPropagation();else if(Ty(e,s),t&4&&-1<T4.indexOf(e)){for(;n!==null;){var A=gd(n);if(A!==null&&uv(A),A=xm(e,t,r,s),A===null&&og(e,t,s,L0,r),A===n)break;n=A}n!==null&&s.stopPropagation()}else og(e,t,s,null,r)}}var L0=null;function xm(e,t,r,s){if(L0=null,e=Vp(s),e=gi(e),e!==null)if(t=Hi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=sv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return L0=e,null}function pv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S4()){case Gp:return 1;case ov:return 4;case E0:case F4:return 16;case lv:return 536870912;default:return 16}default:return 16}}var mA=null,Xp=null,A0=null;function xv(){if(A0)return A0;var e,t=Xp,r=t.length,s,n="value"in mA?mA.value:mA.textContent,A=n.length;for(e=0;e<r&&t[e]===n[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===n[A-s];s++);return A0=n.slice(e,1<s?1-s:void 0)}function i0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yu(){return!0}function Hy(){return!1}function qa(e){function t(r,s,n,A,i){this._reactName=r,this._targetInst=n,this.type=s,this.nativeEvent=A,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(A):A[o]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?yu:Hy,this.isPropagationStopped=Hy,this}return Yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),t}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yp=qa(fl),fd=Yt({},fl,{view:0,detail:0}),_4=qa(fd),Zf,eg,ac,vh=Yt({},fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ac&&(ac&&e.type==="mousemove"?(Zf=e.screenX-ac.screenX,eg=e.screenY-ac.screenY):eg=Zf=0,ac=e),Zf)},movementY:function(e){return"movementY"in e?e.movementY:eg}}),My=qa(vh),K4=Yt({},vh,{dataTransfer:0}),q4=qa(K4),z4=Yt({},fd,{relatedTarget:0}),tg=qa(z4),V4=Yt({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),G4=qa(V4),W4=Yt({},fl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),J4=qa(W4),$4=Yt({},fl,{data:0}),Oy=qa($4),X4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ek(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Z4[e])?!!t[e]:!1}function Zp(){return ek}var tk=Yt({},fd,{key:function(e){if(e.key){var t=X4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=i0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Y4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zp,charCode:function(e){return e.type==="keypress"?i0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?i0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rk=qa(tk),ak=Yt({},vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_y=qa(ak),sk=Yt({},fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zp}),nk=qa(sk),Ak=Yt({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ik=qa(Ak),ok=Yt({},vh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lk=qa(ok),ck=[9,13,27,32],ex=Dn&&"CompositionEvent"in window,Cc=null;Dn&&"documentMode"in document&&(Cc=document.documentMode);var dk=Dn&&"TextEvent"in window&&!Cc,yv=Dn&&(!ex||Cc&&8<Cc&&11>=Cc),Ky=String.fromCharCode(32),qy=!1;function wv(e,t){switch(e){case"keyup":return ck.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lo=!1;function uk(e,t){switch(e){case"compositionend":return vv(t);case"keypress":return t.which!==32?null:(qy=!0,Ky);case"textInput":return e=t.data,e===Ky&&qy?null:e;default:return null}}function hk(e,t){if(Lo)return e==="compositionend"||!ex&&wv(e,t)?(e=xv(),A0=Xp=mA=null,Lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yv&&t.locale!=="ko"?null:t.data;default:return null}}var fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fk[e.type]:t==="textarea"}function bv(e,t,r,s){Zw(s),t=I0(t,"onChange"),0<t.length&&(r=new Yp("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Sc=null,Gc=null;function gk(e){Lv(e,0)}function bh(e){var t=Do(e);if(Vw(t))return e}function mk(e,t){if(e==="change")return t}var Bv=!1;if(Dn){var rg;if(Dn){var ag="oninput"in document;if(!ag){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),ag=typeof Vy.oninput=="function"}rg=ag}else rg=!1;Bv=rg&&(!document.documentMode||9<document.documentMode)}function Gy(){Sc&&(Sc.detachEvent("onpropertychange",Nv),Gc=Sc=null)}function Nv(e){if(e.propertyName==="value"&&bh(Gc)){var t=[];bv(t,Gc,e,Vp(e)),av(gk,t)}}function pk(e,t,r){e==="focusin"?(Gy(),Sc=t,Gc=r,Sc.attachEvent("onpropertychange",Nv)):e==="focusout"&&Gy()}function xk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bh(Gc)}function yk(e,t){if(e==="click")return bh(t)}function wk(e,t){if(e==="input"||e==="change")return bh(t)}function vk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ds=typeof Object.is=="function"?Object.is:vk;function Wc(e,t){if(Ds(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!em.call(t,n)||!Ds(e[n],t[n]))return!1}return!0}function Wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jy(e,t){var r=Wy(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wy(r)}}function kv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jv(){for(var e=window,t=C0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=C0(e.document)}return t}function tx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bk(e){var t=jv(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kv(r.ownerDocument.documentElement,r)){if(s!==null&&tx(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,A=Math.min(s.start,n);s=s.end===void 0?A:Math.min(s.end,n),!e.extend&&A>s&&(n=s,s=A,A=n),n=Jy(r,A);var i=Jy(r,s);n&&i&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),A>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bk=Dn&&"documentMode"in document&&11>=document.documentMode,Io=null,ym=null,Fc=null,wm=!1;function $y(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wm||Io==null||Io!==C0(s)||(s=Io,"selectionStart"in s&&tx(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fc&&Wc(Fc,s)||(Fc=s,s=I0(ym,"onSelect"),0<s.length&&(t=new Yp("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Io)))}function wu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Po={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},sg={},Cv={};Dn&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Bh(e){if(sg[e])return sg[e];if(!Po[e])return e;var t=Po[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Cv)return sg[e]=t[r];return e}var Sv=Bh("animationend"),Fv=Bh("animationiteration"),Ev=Bh("animationstart"),Qv=Bh("transitionend"),Uv=new Map,Xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _A(e,t){Uv.set(e,t),Ri(t,[e])}for(var ng=0;ng<Xy.length;ng++){var Ag=Xy[ng],Nk=Ag.toLowerCase(),kk=Ag[0].toUpperCase()+Ag.slice(1);_A(Nk,"on"+kk)}_A(Sv,"onAnimationEnd");_A(Fv,"onAnimationIteration");_A(Ev,"onAnimationStart");_A("dblclick","onDoubleClick");_A("focusin","onFocus");_A("focusout","onBlur");_A(Qv,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jk=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function Yy(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,N4(s,t,void 0,e),e.currentTarget=null}function Lv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],n=s.event;s=s.listeners;e:{var A=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==A&&n.isPropagationStopped())break e;Yy(n,o,c),A=l}else for(i=0;i<s.length;i++){if(o=s[i],l=o.instance,c=o.currentTarget,o=o.listener,l!==A&&n.isPropagationStopped())break e;Yy(n,o,c),A=l}}}if(F0)throw e=gm,F0=!1,gm=null,e}function _t(e,t){var r=t[km];r===void 0&&(r=t[km]=new Set);var s=e+"__bubble";r.has(s)||(Iv(t,e,2,!1),r.add(s))}function ig(e,t,r){var s=0;t&&(s|=4),Iv(r,e,s,t)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[vu]){e[vu]=!0,Ow.forEach(function(r){r!=="selectionchange"&&(jk.has(r)||ig(r,!1,e),ig(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vu]||(t[vu]=!0,ig("selectionchange",!1,t))}}function Iv(e,t,r,s){switch(pv(t)){case 1:var n=M4;break;case 4:n=O4;break;default:n=$p}r=n.bind(null,t,r,e),n=void 0,!fm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function og(e,t,r,s,n){var A=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(i===4)for(i=s.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;i=i.return}for(;o!==null;){if(i=gi(o),i===null)return;if(l=i.tag,l===5||l===6){s=A=i;continue e}o=o.parentNode}}s=s.return}av(function(){var c=A,u=Vp(r),f=[];e:{var p=Uv.get(e);if(p!==void 0){var h=Yp,B=e;switch(e){case"keypress":if(i0(r)===0)break e;case"keydown":case"keyup":h=rk;break;case"focusin":B="focus",h=tg;break;case"focusout":B="blur",h=tg;break;case"beforeblur":case"afterblur":h=tg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=My;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=q4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=nk;break;case Sv:case Fv:case Ev:h=G4;break;case Qv:h=ik;break;case"scroll":h=_4;break;case"wheel":h=lk;break;case"copy":case"cut":case"paste":h=J4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_y}var x=(t&4)!==0,N=!x&&e==="scroll",m=x?p!==null?p+"Capture":null:p;x=[];for(var y=c,v;y!==null;){v=y;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,m!==null&&(E=Kc(y,m),E!=null&&x.push($c(y,E,v)))),N)break;y=y.return}0<x.length&&(p=new h(p,B,null,r,u),f.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==um&&(B=r.relatedTarget||r.fromElement)&&(gi(B)||B[Tn]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(B=r.relatedTarget||r.toElement,h=c,B=B?gi(B):null,B!==null&&(N=Hi(B),B!==N||B.tag!==5&&B.tag!==6)&&(B=null)):(h=null,B=c),h!==B)){if(x=My,E="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=_y,E="onPointerLeave",m="onPointerEnter",y="pointer"),N=h==null?p:Do(h),v=B==null?p:Do(B),p=new x(E,y+"leave",h,r,u),p.target=N,p.relatedTarget=v,E=null,gi(u)===c&&(x=new x(m,y+"enter",B,r,u),x.target=v,x.relatedTarget=N,E=x),N=E,h&&B)t:{for(x=h,m=B,y=0,v=x;v;v=po(v))y++;for(v=0,E=m;E;E=po(E))v++;for(;0<y-v;)x=po(x),y--;for(;0<v-y;)m=po(m),v--;for(;y--;){if(x===m||m!==null&&x===m.alternate)break t;x=po(x),m=po(m)}x=null}else x=null;h!==null&&Zy(f,p,h,x,!1),B!==null&&N!==null&&Zy(f,N,B,x,!0)}}e:{if(p=c?Do(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var U=mk;else if(zy(p))if(Bv)U=wk;else{U=xk;var V=pk}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(U=yk);if(U&&(U=U(e,c))){bv(f,U,r,u);break e}V&&V(e,p,c),e==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&im(p,"number",p.value)}switch(V=c?Do(c):window,e){case"focusin":(zy(V)||V.contentEditable==="true")&&(Io=V,ym=c,Fc=null);break;case"focusout":Fc=ym=Io=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,$y(f,r,u);break;case"selectionchange":if(Bk)break;case"keydown":case"keyup":$y(f,r,u)}var S;if(ex)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Lo?wv(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(yv&&r.locale!=="ko"&&(Lo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Lo&&(S=xv()):(mA=u,Xp="value"in mA?mA.value:mA.textContent,Lo=!0)),V=I0(c,C),0<V.length&&(C=new Oy(C,e,null,r,u),f.push({event:C,listeners:V}),S?C.data=S:(S=vv(r),S!==null&&(C.data=S)))),(S=dk?uk(e,r):hk(e,r))&&(c=I0(c,"onBeforeInput"),0<c.length&&(u=new Oy("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=S))}Lv(f,t)})}function $c(e,t,r){return{instance:e,listener:t,currentTarget:r}}function I0(e,t){for(var r=t+"Capture",s=[];e!==null;){var n=e,A=n.stateNode;n.tag===5&&A!==null&&(n=A,A=Kc(e,r),A!=null&&s.unshift($c(e,A,n)),A=Kc(e,t),A!=null&&s.push($c(e,A,n))),e=e.return}return s}function po(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zy(e,t,r,s,n){for(var A=t._reactName,i=[];r!==null&&r!==s;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===s)break;o.tag===5&&c!==null&&(o=c,n?(l=Kc(r,A),l!=null&&i.unshift($c(r,l,o))):n||(l=Kc(r,A),l!=null&&i.push($c(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Ck=/\r\n?/g,Sk=/\u0000|\uFFFD/g;function e1(e){return(typeof e=="string"?e:""+e).replace(Ck,`
`).replace(Sk,"")}function bu(e,t,r){if(t=e1(t),e1(e)!==t&&r)throw Error(Se(425))}function P0(){}var vm=null,bm=null;function Bm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nm=typeof setTimeout=="function"?setTimeout:void 0,Fk=typeof clearTimeout=="function"?clearTimeout:void 0,t1=typeof Promise=="function"?Promise:void 0,Ek=typeof queueMicrotask=="function"?queueMicrotask:typeof t1<"u"?function(e){return t1.resolve(null).then(e).catch(Qk)}:Nm;function Qk(e){setTimeout(function(){throw e})}function lg(e,t){var r=t,s=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){e.removeChild(n),Vc(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=n}while(r);Vc(t)}function jA(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function r1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var gl=Math.random().toString(36).slice(2),rn="__reactFiber$"+gl,Xc="__reactProps$"+gl,Tn="__reactContainer$"+gl,km="__reactEvents$"+gl,Uk="__reactListeners$"+gl,Lk="__reactHandles$"+gl;function gi(e){var t=e[rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tn]||r[rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=r1(e);e!==null;){if(r=e[rn])return r;e=r1(e)}return t}e=r,r=e.parentNode}return null}function gd(e){return e=e[rn]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Do(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Se(33))}function Nh(e){return e[Xc]||null}var jm=[],To=-1;function KA(e){return{current:e}}function qt(e){0>To||(e.current=jm[To],jm[To]=null,To--)}function Ot(e,t){To++,jm[To]=e.current,e.current=t}var TA={},na=KA(TA),ja=KA(!1),Ci=TA;function nl(e,t){var r=e.type.contextTypes;if(!r)return TA;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n={},A;for(A in r)n[A]=t[A];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ca(e){return e=e.childContextTypes,e!=null}function D0(){qt(ja),qt(na)}function a1(e,t,r){if(na.current!==TA)throw Error(Se(168));Ot(na,t),Ot(ja,r)}function Pv(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var n in s)if(!(n in t))throw Error(Se(108,p4(e)||"Unknown",n));return Yt({},r,s)}function T0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||TA,Ci=na.current,Ot(na,e),Ot(ja,ja.current),!0}function s1(e,t,r){var s=e.stateNode;if(!s)throw Error(Se(169));r?(e=Pv(e,t,Ci),s.__reactInternalMemoizedMergedChildContext=e,qt(ja),qt(na),Ot(na,e)):qt(ja),Ot(ja,r)}var Qn=null,kh=!1,cg=!1;function Dv(e){Qn===null?Qn=[e]:Qn.push(e)}function Ik(e){kh=!0,Dv(e)}function qA(){if(!cg&&Qn!==null){cg=!0;var e=0,t=Ut;try{var r=Qn;for(Ut=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Qn=null,kh=!1}catch(n){throw Qn!==null&&(Qn=Qn.slice(e+1)),iv(Gp,qA),n}finally{Ut=t,cg=!1}}return null}var Ro=[],Ho=0,R0=null,H0=0,es=[],ts=0,Si=null,Un=1,Ln="";function ci(e,t){Ro[Ho++]=H0,Ro[Ho++]=R0,R0=e,H0=t}function Tv(e,t,r){es[ts++]=Un,es[ts++]=Ln,es[ts++]=Si,Si=e;var s=Un;e=Ln;var n=32-Us(s)-1;s&=~(1<<n),r+=1;var A=32-Us(t)+n;if(30<A){var i=n-n%5;A=(s&(1<<i)-1).toString(32),s>>=i,n-=i,Un=1<<32-Us(t)+n|r<<n|s,Ln=A+e}else Un=1<<A|r<<n|s,Ln=e}function rx(e){e.return!==null&&(ci(e,1),Tv(e,1,0))}function ax(e){for(;e===R0;)R0=Ro[--Ho],Ro[Ho]=null,H0=Ro[--Ho],Ro[Ho]=null;for(;e===Si;)Si=es[--ts],es[ts]=null,Ln=es[--ts],es[ts]=null,Un=es[--ts],es[ts]=null}var Oa=null,Ha=null,Gt=!1,Fs=null;function Rv(e,t){var r=as(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function n1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oa=e,Ha=jA(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oa=e,Ha=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Si!==null?{id:Un,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=as(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Oa=e,Ha=null,!0):!1;default:return!1}}function Cm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sm(e){if(Gt){var t=Ha;if(t){var r=t;if(!n1(e,t)){if(Cm(e))throw Error(Se(418));t=jA(r.nextSibling);var s=Oa;t&&n1(e,t)?Rv(s,r):(e.flags=e.flags&-4097|2,Gt=!1,Oa=e)}}else{if(Cm(e))throw Error(Se(418));e.flags=e.flags&-4097|2,Gt=!1,Oa=e}}}function A1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oa=e}function Bu(e){if(e!==Oa)return!1;if(!Gt)return A1(e),Gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bm(e.type,e.memoizedProps)),t&&(t=Ha)){if(Cm(e))throw Hv(),Error(Se(418));for(;t;)Rv(e,t),t=jA(t.nextSibling)}if(A1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ha=jA(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ha=null}}else Ha=Oa?jA(e.stateNode.nextSibling):null;return!0}function Hv(){for(var e=Ha;e;)e=jA(e.nextSibling)}function Al(){Ha=Oa=null,Gt=!1}function sx(e){Fs===null?Fs=[e]:Fs.push(e)}var Pk=_n.ReactCurrentBatchConfig;function sc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Se(309));var s=r.stateNode}if(!s)throw Error(Se(147,e));var n=s,A=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===A?t.ref:(t=function(i){var o=n.refs;i===null?delete o[A]:o[A]=i},t._stringRef=A,t)}if(typeof e!="string")throw Error(Se(284));if(!r._owner)throw Error(Se(290,e))}return e}function Nu(e,t){throw e=Object.prototype.toString.call(t),Error(Se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i1(e){var t=e._init;return t(e._payload)}function Mv(e){function t(m,y){if(e){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function r(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function s(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function n(m,y){return m=EA(m,y),m.index=0,m.sibling=null,m}function A(m,y,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,y,v,E){return y===null||y.tag!==6?(y=pg(v,m.mode,E),y.return=m,y):(y=n(y,v),y.return=m,y)}function l(m,y,v,E){var U=v.type;return U===Uo?u(m,y,v.props.children,E,v.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===dA&&i1(U)===y.type)?(E=n(y,v.props),E.ref=sc(m,y,v),E.return=m,E):(E=f0(v.type,v.key,v.props,null,m.mode,E),E.ref=sc(m,y,v),E.return=m,E)}function c(m,y,v,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=xg(v,m.mode,E),y.return=m,y):(y=n(y,v.children||[]),y.return=m,y)}function u(m,y,v,E,U){return y===null||y.tag!==7?(y=bi(v,m.mode,E,U),y.return=m,y):(y=n(y,v),y.return=m,y)}function f(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pg(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hu:return v=f0(y.type,y.key,y.props,null,m.mode,v),v.ref=sc(m,null,y),v.return=m,v;case Qo:return y=xg(y,m.mode,v),y.return=m,y;case dA:var E=y._init;return f(m,E(y._payload),v)}if(gc(y)||Zl(y))return y=bi(y,m.mode,v,null),y.return=m,y;Nu(m,y)}return null}function p(m,y,v,E){var U=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return U!==null?null:o(m,y,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hu:return v.key===U?l(m,y,v,E):null;case Qo:return v.key===U?c(m,y,v,E):null;case dA:return U=v._init,p(m,y,U(v._payload),E)}if(gc(v)||Zl(v))return U!==null?null:u(m,y,v,E,null);Nu(m,v)}return null}function h(m,y,v,E,U){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(v)||null,o(y,m,""+E,U);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hu:return m=m.get(E.key===null?v:E.key)||null,l(y,m,E,U);case Qo:return m=m.get(E.key===null?v:E.key)||null,c(y,m,E,U);case dA:var V=E._init;return h(m,y,v,V(E._payload),U)}if(gc(E)||Zl(E))return m=m.get(v)||null,u(y,m,E,U,null);Nu(y,E)}return null}function B(m,y,v,E){for(var U=null,V=null,S=y,C=y=0,_=null;S!==null&&C<v.length;C++){S.index>C?(_=S,S=null):_=S.sibling;var H=p(m,S,v[C],E);if(H===null){S===null&&(S=_);break}e&&S&&H.alternate===null&&t(m,S),y=A(H,y,C),V===null?U=H:V.sibling=H,V=H,S=_}if(C===v.length)return r(m,S),Gt&&ci(m,C),U;if(S===null){for(;C<v.length;C++)S=f(m,v[C],E),S!==null&&(y=A(S,y,C),V===null?U=S:V.sibling=S,V=S);return Gt&&ci(m,C),U}for(S=s(m,S);C<v.length;C++)_=h(S,m,C,v[C],E),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?C:_.key),y=A(_,y,C),V===null?U=_:V.sibling=_,V=_);return e&&S.forEach(function(F){return t(m,F)}),Gt&&ci(m,C),U}function x(m,y,v,E){var U=Zl(v);if(typeof U!="function")throw Error(Se(150));if(v=U.call(v),v==null)throw Error(Se(151));for(var V=U=null,S=y,C=y=0,_=null,H=v.next();S!==null&&!H.done;C++,H=v.next()){S.index>C?(_=S,S=null):_=S.sibling;var F=p(m,S,H.value,E);if(F===null){S===null&&(S=_);break}e&&S&&F.alternate===null&&t(m,S),y=A(F,y,C),V===null?U=F:V.sibling=F,V=F,S=_}if(H.done)return r(m,S),Gt&&ci(m,C),U;if(S===null){for(;!H.done;C++,H=v.next())H=f(m,H.value,E),H!==null&&(y=A(H,y,C),V===null?U=H:V.sibling=H,V=H);return Gt&&ci(m,C),U}for(S=s(m,S);!H.done;C++,H=v.next())H=h(S,m,C,H.value,E),H!==null&&(e&&H.alternate!==null&&S.delete(H.key===null?C:H.key),y=A(H,y,C),V===null?U=H:V.sibling=H,V=H);return e&&S.forEach(function(j){return t(m,j)}),Gt&&ci(m,C),U}function N(m,y,v,E){if(typeof v=="object"&&v!==null&&v.type===Uo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case hu:e:{for(var U=v.key,V=y;V!==null;){if(V.key===U){if(U=v.type,U===Uo){if(V.tag===7){r(m,V.sibling),y=n(V,v.props.children),y.return=m,m=y;break e}}else if(V.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===dA&&i1(U)===V.type){r(m,V.sibling),y=n(V,v.props),y.ref=sc(m,V,v),y.return=m,m=y;break e}r(m,V);break}else t(m,V);V=V.sibling}v.type===Uo?(y=bi(v.props.children,m.mode,E,v.key),y.return=m,m=y):(E=f0(v.type,v.key,v.props,null,m.mode,E),E.ref=sc(m,y,v),E.return=m,m=E)}return i(m);case Qo:e:{for(V=v.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(m,y.sibling),y=n(y,v.children||[]),y.return=m,m=y;break e}else{r(m,y);break}else t(m,y);y=y.sibling}y=xg(v,m.mode,E),y.return=m,m=y}return i(m);case dA:return V=v._init,N(m,y,V(v._payload),E)}if(gc(v))return B(m,y,v,E);if(Zl(v))return x(m,y,v,E);Nu(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(m,y.sibling),y=n(y,v),y.return=m,m=y):(r(m,y),y=pg(v,m.mode,E),y.return=m,m=y),i(m)):r(m,y)}return N}var il=Mv(!0),Ov=Mv(!1),M0=KA(null),O0=null,Mo=null,nx=null;function Ax(){nx=Mo=O0=null}function ix(e){var t=M0.current;qt(M0),e._currentValue=t}function Fm(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Jo(e,t){O0=e,nx=Mo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ka=!0),e.firstContext=null)}function is(e){var t=e._currentValue;if(nx!==e)if(e={context:e,memoizedValue:t,next:null},Mo===null){if(O0===null)throw Error(Se(308));Mo=e,O0.dependencies={lanes:0,firstContext:e}}else Mo=Mo.next=e;return t}var mi=null;function ox(e){mi===null?mi=[e]:mi.push(e)}function _v(e,t,r,s){var n=t.interleaved;return n===null?(r.next=r,ox(t)):(r.next=n.next,n.next=r),t.interleaved=r,Rn(e,s)}function Rn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var uA=!1;function lx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function CA(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,yt&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,Rn(e,r)}return n=s.interleaved,n===null?(t.next=t,ox(s)):(t.next=n.next,n.next=t),s.interleaved=t,Rn(e,r)}function o0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Wp(e,r)}}function o1(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var n=null,A=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};A===null?n=A=i:A=A.next=i,r=r.next}while(r!==null);A===null?n=A=t:A=A.next=t}else n=A=t;r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:A,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _0(e,t,r,s){var n=e.updateQueue;uA=!1;var A=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,c=l.next;l.next=null,i===null?A=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(A!==null){var f=n.baseState;i=0,u=c=l=null,o=A;do{var p=o.lane,h=o.eventTime;if((s&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var B=e,x=o;switch(p=t,h=r,x.tag){case 1:if(B=x.payload,typeof B=="function"){f=B.call(h,f,p);break e}f=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=x.payload,p=typeof B=="function"?B.call(h,f,p):B,p==null)break e;f=Yt({},f,p);break e;case 2:uA=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=n.effects,p===null?n.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,i|=p;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;p=o,o=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(1);if(u===null&&(l=f),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do i|=n.lane,n=n.next;while(n!==t)}else A===null&&(n.shared.lanes=0);Ei|=i,e.lanes=i,e.memoizedState=f}}function l1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(n!==null){if(s.callback=null,s=r,typeof n!="function")throw Error(Se(191,n));n.call(s)}}}var md={},An=KA(md),Yc=KA(md),Zc=KA(md);function pi(e){if(e===md)throw Error(Se(174));return e}function cx(e,t){switch(Ot(Zc,t),Ot(Yc,e),Ot(An,md),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lm(t,e)}qt(An),Ot(An,t)}function ol(){qt(An),qt(Yc),qt(Zc)}function qv(e){pi(Zc.current);var t=pi(An.current),r=lm(t,e.type);t!==r&&(Ot(Yc,e),Ot(An,r))}function dx(e){Yc.current===e&&(qt(An),qt(Yc))}var Jt=KA(0);function K0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dg=[];function ux(){for(var e=0;e<dg.length;e++)dg[e]._workInProgressVersionPrimary=null;dg.length=0}var l0=_n.ReactCurrentDispatcher,ug=_n.ReactCurrentBatchConfig,Fi=0,$t=null,kr=null,Ur=null,q0=!1,Ec=!1,ed=0,Dk=0;function Wr(){throw Error(Se(321))}function hx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ds(e[r],t[r]))return!1;return!0}function fx(e,t,r,s,n,A){if(Fi=A,$t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,l0.current=e===null||e.memoizedState===null?Mk:Ok,e=r(s,n),Ec){A=0;do{if(Ec=!1,ed=0,25<=A)throw Error(Se(301));A+=1,Ur=kr=null,t.updateQueue=null,l0.current=_k,e=r(s,n)}while(Ec)}if(l0.current=z0,t=kr!==null&&kr.next!==null,Fi=0,Ur=kr=$t=null,q0=!1,t)throw Error(Se(300));return e}function gx(){var e=ed!==0;return ed=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?$t.memoizedState=Ur=e:Ur=Ur.next=e,Ur}function os(){if(kr===null){var e=$t.alternate;e=e!==null?e.memoizedState:null}else e=kr.next;var t=Ur===null?$t.memoizedState:Ur.next;if(t!==null)Ur=t,kr=e;else{if(e===null)throw Error(Se(310));kr=e,e={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Ur===null?$t.memoizedState=Ur=e:Ur=Ur.next=e}return Ur}function td(e,t){return typeof t=="function"?t(e):t}function hg(e){var t=os(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var s=kr,n=s.baseQueue,A=r.pending;if(A!==null){if(n!==null){var i=n.next;n.next=A.next,A.next=i}s.baseQueue=n=A,r.pending=null}if(n!==null){A=n.next,s=s.baseState;var o=i=null,l=null,c=A;do{var u=c.lane;if((Fi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,i=s):l=l.next=f,$t.lanes|=u,Ei|=u}c=c.next}while(c!==null&&c!==A);l===null?i=s:l.next=o,Ds(s,t.memoizedState)||(ka=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=l,r.lastRenderedState=s}if(e=r.interleaved,e!==null){n=e;do A=n.lane,$t.lanes|=A,Ei|=A,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fg(e){var t=os(),r=t.queue;if(r===null)throw Error(Se(311));r.lastRenderedReducer=e;var s=r.dispatch,n=r.pending,A=t.memoizedState;if(n!==null){r.pending=null;var i=n=n.next;do A=e(A,i.action),i=i.next;while(i!==n);Ds(A,t.memoizedState)||(ka=!0),t.memoizedState=A,t.baseQueue===null&&(t.baseState=A),r.lastRenderedState=A}return[A,s]}function zv(){}function Vv(e,t){var r=$t,s=os(),n=t(),A=!Ds(s.memoizedState,n);if(A&&(s.memoizedState=n,ka=!0),s=s.queue,mx(Jv.bind(null,r,s,e),[e]),s.getSnapshot!==t||A||Ur!==null&&Ur.memoizedState.tag&1){if(r.flags|=2048,rd(9,Wv.bind(null,r,s,n,t),void 0,null),Ir===null)throw Error(Se(349));Fi&30||Gv(r,t,n)}return n}function Gv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Wv(e,t,r,s){t.value=r,t.getSnapshot=s,$v(t)&&Xv(e)}function Jv(e,t,r){return r(function(){$v(t)&&Xv(e)})}function $v(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ds(e,r)}catch{return!0}}function Xv(e){var t=Rn(e,1);t!==null&&Ls(t,e,1,-1)}function c1(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:e},t.queue=e,e=e.dispatch=Hk.bind(null,$t,e),[t.memoizedState,e]}function rd(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Yv(){return os().memoizedState}function c0(e,t,r,s){var n=tn();$t.flags|=e,n.memoizedState=rd(1|t,r,void 0,s===void 0?null:s)}function jh(e,t,r,s){var n=os();s=s===void 0?null:s;var A=void 0;if(kr!==null){var i=kr.memoizedState;if(A=i.destroy,s!==null&&hx(s,i.deps)){n.memoizedState=rd(t,r,A,s);return}}$t.flags|=e,n.memoizedState=rd(1|t,r,A,s)}function d1(e,t){return c0(8390656,8,e,t)}function mx(e,t){return jh(2048,8,e,t)}function Zv(e,t){return jh(4,2,e,t)}function eb(e,t){return jh(4,4,e,t)}function tb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rb(e,t,r){return r=r!=null?r.concat([e]):null,jh(4,4,tb.bind(null,t,e),r)}function px(){}function ab(e,t){var r=os();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&hx(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function sb(e,t){var r=os();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&hx(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function nb(e,t,r){return Fi&21?(Ds(r,t)||(r=cv(),$t.lanes|=r,Ei|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ka=!0),e.memoizedState=r)}function Tk(e,t){var r=Ut;Ut=r!==0&&4>r?r:4,e(!0);var s=ug.transition;ug.transition={};try{e(!1),t()}finally{Ut=r,ug.transition=s}}function Ab(){return os().memoizedState}function Rk(e,t,r){var s=FA(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},ib(e))ob(t,r);else if(r=_v(e,t,r,s),r!==null){var n=ha();Ls(r,e,s,n),lb(r,t,s)}}function Hk(e,t,r){var s=FA(e),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(ib(e))ob(t,n);else{var A=e.alternate;if(e.lanes===0&&(A===null||A.lanes===0)&&(A=t.lastRenderedReducer,A!==null))try{var i=t.lastRenderedState,o=A(i,r);if(n.hasEagerState=!0,n.eagerState=o,Ds(o,i)){var l=t.interleaved;l===null?(n.next=n,ox(t)):(n.next=l.next,l.next=n),t.interleaved=n;return}}catch{}finally{}r=_v(e,t,n,s),r!==null&&(n=ha(),Ls(r,e,s,n),lb(r,t,s))}}function ib(e){var t=e.alternate;return e===$t||t!==null&&t===$t}function ob(e,t){Ec=q0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function lb(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Wp(e,r)}}var z0={readContext:is,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},Mk={readContext:is,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:is,useEffect:d1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,c0(4194308,4,tb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return c0(4194308,4,e,t)},useInsertionEffect:function(e,t){return c0(4,2,e,t)},useMemo:function(e,t){var r=tn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=tn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Rk.bind(null,$t,e),[s.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:c1,useDebugValue:px,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=c1(!1),t=e[0];return e=Tk.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=$t,n=tn();if(Gt){if(r===void 0)throw Error(Se(407));r=r()}else{if(r=t(),Ir===null)throw Error(Se(349));Fi&30||Gv(s,t,r)}n.memoizedState=r;var A={value:r,getSnapshot:t};return n.queue=A,d1(Jv.bind(null,s,A,e),[e]),s.flags|=2048,rd(9,Wv.bind(null,s,A,r,t),void 0,null),r},useId:function(){var e=tn(),t=Ir.identifierPrefix;if(Gt){var r=Ln,s=Un;r=(s&~(1<<32-Us(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=ed++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Dk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ok={readContext:is,useCallback:ab,useContext:is,useEffect:mx,useImperativeHandle:rb,useInsertionEffect:Zv,useLayoutEffect:eb,useMemo:sb,useReducer:hg,useRef:Yv,useState:function(){return hg(td)},useDebugValue:px,useDeferredValue:function(e){var t=os();return nb(t,kr.memoizedState,e)},useTransition:function(){var e=hg(td)[0],t=os().memoizedState;return[e,t]},useMutableSource:zv,useSyncExternalStore:Vv,useId:Ab,unstable_isNewReconciler:!1},_k={readContext:is,useCallback:ab,useContext:is,useEffect:mx,useImperativeHandle:rb,useInsertionEffect:Zv,useLayoutEffect:eb,useMemo:sb,useReducer:fg,useRef:Yv,useState:function(){return fg(td)},useDebugValue:px,useDeferredValue:function(e){var t=os();return kr===null?t.memoizedState=e:nb(t,kr.memoizedState,e)},useTransition:function(){var e=fg(td)[0],t=os().memoizedState;return[e,t]},useMutableSource:zv,useSyncExternalStore:Vv,useId:Ab,unstable_isNewReconciler:!1};function js(e,t){if(e&&e.defaultProps){t=Yt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Em(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Yt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ch={isMounted:function(e){return(e=e._reactInternals)?Hi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ha(),n=FA(e),A=In(s,n);A.payload=t,r!=null&&(A.callback=r),t=CA(e,A,n),t!==null&&(Ls(t,e,n,s),o0(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ha(),n=FA(e),A=In(s,n);A.tag=1,A.payload=t,r!=null&&(A.callback=r),t=CA(e,A,n),t!==null&&(Ls(t,e,n,s),o0(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ha(),s=FA(e),n=In(r,s);n.tag=2,t!=null&&(n.callback=t),t=CA(e,n,s),t!==null&&(Ls(t,e,s,r),o0(t,e,s))}};function u1(e,t,r,s,n,A,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,A,i):t.prototype&&t.prototype.isPureReactComponent?!Wc(r,s)||!Wc(n,A):!0}function cb(e,t,r){var s=!1,n=TA,A=t.contextType;return typeof A=="object"&&A!==null?A=is(A):(n=Ca(t)?Ci:na.current,s=t.contextTypes,A=(s=s!=null)?nl(e,n):TA),t=new t(r,A),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ch,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=A),t}function h1(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Ch.enqueueReplaceState(t,t.state,null)}function Qm(e,t,r,s){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},lx(e);var A=t.contextType;typeof A=="object"&&A!==null?n.context=is(A):(A=Ca(t)?Ci:na.current,n.context=nl(e,A)),n.state=e.memoizedState,A=t.getDerivedStateFromProps,typeof A=="function"&&(Em(e,t,A,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&Ch.enqueueReplaceState(n,n.state,null),_0(e,r,n,s),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function ll(e,t){try{var r="",s=t;do r+=m4(s),s=s.return;while(s);var n=r}catch(A){n=`
Error generating stack: `+A.message+`
`+A.stack}return{value:e,source:t,stack:n,digest:null}}function gg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Um(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Kk=typeof WeakMap=="function"?WeakMap:Map;function db(e,t,r){r=In(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){G0||(G0=!0,_m=s),Um(e,t)},r}function ub(e,t,r){r=In(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var n=t.value;r.payload=function(){return s(n)},r.callback=function(){Um(e,t)}}var A=e.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){Um(e,t),typeof s!="function"&&(SA===null?SA=new Set([this]):SA.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function f1(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Kk;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(r)||(n.add(r),e=aj.bind(null,e,t,r),t.then(e,e))}function g1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function m1(e,t,r,s,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=In(-1,1),t.tag=2,CA(r,t,1))),r.lanes|=1),e)}var qk=_n.ReactCurrentOwner,ka=!1;function ua(e,t,r,s){t.child=e===null?Ov(t,null,r,s):il(t,e.child,r,s)}function p1(e,t,r,s,n){r=r.render;var A=t.ref;return Jo(t,n),s=fx(e,t,r,s,A,n),r=gx(),e!==null&&!ka?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Hn(e,t,n)):(Gt&&r&&rx(t),t.flags|=1,ua(e,t,s,n),t.child)}function x1(e,t,r,s,n){if(e===null){var A=r.type;return typeof A=="function"&&!kx(A)&&A.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=A,hb(e,t,A,s,n)):(e=f0(r.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(A=e.child,!(e.lanes&n)){var i=A.memoizedProps;if(r=r.compare,r=r!==null?r:Wc,r(i,s)&&e.ref===t.ref)return Hn(e,t,n)}return t.flags|=1,e=EA(A,s),e.ref=t.ref,e.return=t,t.child=e}function hb(e,t,r,s,n){if(e!==null){var A=e.memoizedProps;if(Wc(A,s)&&e.ref===t.ref)if(ka=!1,t.pendingProps=s=A,(e.lanes&n)!==0)e.flags&131072&&(ka=!0);else return t.lanes=e.lanes,Hn(e,t,n)}return Lm(e,t,r,s,n)}function fb(e,t,r){var s=t.pendingProps,n=s.children,A=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(_o,Ta),Ta|=r;else{if(!(r&1073741824))return e=A!==null?A.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ot(_o,Ta),Ta|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=A!==null?A.baseLanes:r,Ot(_o,Ta),Ta|=s}else A!==null?(s=A.baseLanes|r,t.memoizedState=null):s=r,Ot(_o,Ta),Ta|=s;return ua(e,t,n,r),t.child}function gb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lm(e,t,r,s,n){var A=Ca(r)?Ci:na.current;return A=nl(t,A),Jo(t,n),r=fx(e,t,r,s,A,n),s=gx(),e!==null&&!ka?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Hn(e,t,n)):(Gt&&s&&rx(t),t.flags|=1,ua(e,t,r,n),t.child)}function y1(e,t,r,s,n){if(Ca(r)){var A=!0;T0(t)}else A=!1;if(Jo(t,n),t.stateNode===null)d0(e,t),cb(t,r,s),Qm(t,r,s,n),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=is(c):(c=Ca(r)?Ci:na.current,c=nl(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||l!==c)&&h1(t,i,s,c),uA=!1;var p=t.memoizedState;i.state=p,_0(t,s,i,n),l=t.memoizedState,o!==s||p!==l||ja.current||uA?(typeof u=="function"&&(Em(t,r,u,s),l=t.memoizedState),(o=uA||u1(t,r,o,s,p,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),i.props=s,i.state=l,i.context=c,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Kv(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:js(t.type,o),i.props=c,f=t.pendingProps,p=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=is(l):(l=Ca(r)?Ci:na.current,l=nl(t,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||p!==l)&&h1(t,i,s,l),uA=!1,p=t.memoizedState,i.state=p,_0(t,s,i,n);var B=t.memoizedState;o!==f||p!==B||ja.current||uA?(typeof h=="function"&&(Em(t,r,h,s),B=t.memoizedState),(c=uA||u1(t,r,c,s,p,B,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,B,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,B,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=B),i.props=s,i.state=B,i.context=l,s=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return Im(e,t,r,s,A,n)}function Im(e,t,r,s,n,A){gb(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return n&&s1(t,r,!1),Hn(e,t,A);s=t.stateNode,qk.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=il(t,e.child,null,A),t.child=il(t,null,o,A)):ua(e,t,o,A),t.memoizedState=s.state,n&&s1(t,r,!0),t.child}function mb(e){var t=e.stateNode;t.pendingContext?a1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&a1(e,t.context,!1),cx(e,t.containerInfo)}function w1(e,t,r,s,n){return Al(),sx(n),t.flags|=256,ua(e,t,r,s),t.child}var Pm={dehydrated:null,treeContext:null,retryLane:0};function Dm(e){return{baseLanes:e,cachePool:null,transitions:null}}function pb(e,t,r){var s=t.pendingProps,n=Jt.current,A=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(A=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Ot(Jt,n&1),e===null)return Sm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,A?(s=t.mode,A=t.child,i={mode:"hidden",children:i},!(s&1)&&A!==null?(A.childLanes=0,A.pendingProps=i):A=Eh(i,s,0,null),e=bi(e,s,r,null),A.return=t,e.return=t,A.sibling=e,t.child=A,t.child.memoizedState=Dm(r),t.memoizedState=Pm,e):xx(t,i));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return zk(e,t,i,s,o,n,r);if(A){A=s.fallback,i=t.mode,n=e.child,o=n.sibling;var l={mode:"hidden",children:s.children};return!(i&1)&&t.child!==n?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=EA(n,l),s.subtreeFlags=n.subtreeFlags&14680064),o!==null?A=EA(o,A):(A=bi(A,i,r,null),A.flags|=2),A.return=t,s.return=t,s.sibling=A,t.child=s,s=A,A=t.child,i=e.child.memoizedState,i=i===null?Dm(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},A.memoizedState=i,A.childLanes=e.childLanes&~r,t.memoizedState=Pm,s}return A=e.child,e=A.sibling,s=EA(A,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function xx(e,t){return t=Eh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ku(e,t,r,s){return s!==null&&sx(s),il(t,e.child,null,r),e=xx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zk(e,t,r,s,n,A,i){if(r)return t.flags&256?(t.flags&=-257,s=gg(Error(Se(422))),ku(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(A=s.fallback,n=t.mode,s=Eh({mode:"visible",children:s.children},n,0,null),A=bi(A,n,i,null),A.flags|=2,s.return=t,A.return=t,s.sibling=A,t.child=s,t.mode&1&&il(t,e.child,null,i),t.child.memoizedState=Dm(i),t.memoizedState=Pm,A);if(!(t.mode&1))return ku(e,t,i,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var o=s.dgst;return s=o,A=Error(Se(419)),s=gg(A,s,void 0),ku(e,t,i,s)}if(o=(i&e.childLanes)!==0,ka||o){if(s=Ir,s!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|i)?0:n,n!==0&&n!==A.retryLane&&(A.retryLane=n,Rn(e,n),Ls(s,e,n,-1))}return Nx(),s=gg(Error(Se(421))),ku(e,t,i,s)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=sj.bind(null,e),n._reactRetry=t,null):(e=A.treeContext,Ha=jA(n.nextSibling),Oa=t,Gt=!0,Fs=null,e!==null&&(es[ts++]=Un,es[ts++]=Ln,es[ts++]=Si,Un=e.id,Ln=e.overflow,Si=t),t=xx(t,s.children),t.flags|=4096,t)}function v1(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Fm(e.return,t,r)}function mg(e,t,r,s,n){var A=e.memoizedState;A===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(A.isBackwards=t,A.rendering=null,A.renderingStartTime=0,A.last=s,A.tail=r,A.tailMode=n)}function xb(e,t,r){var s=t.pendingProps,n=s.revealOrder,A=s.tail;if(ua(e,t,s.children,r),s=Jt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&v1(e,r,t);else if(e.tag===19)v1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ot(Jt,s),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&K0(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),mg(t,!1,n,r,A);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&K0(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}mg(t,!0,r,null,A);break;case"together":mg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function d0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ei|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Se(153));if(t.child!==null){for(e=t.child,r=EA(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=EA(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Vk(e,t,r){switch(t.tag){case 3:mb(t),Al();break;case 5:qv(t);break;case 1:Ca(t.type)&&T0(t);break;case 4:cx(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;Ot(M0,s._currentValue),s._currentValue=n;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ot(Jt,Jt.current&1),t.flags|=128,null):r&t.child.childLanes?pb(e,t,r):(Ot(Jt,Jt.current&1),e=Hn(e,t,r),e!==null?e.sibling:null);Ot(Jt,Jt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return xb(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ot(Jt,Jt.current),s)break;return null;case 22:case 23:return t.lanes=0,fb(e,t,r)}return Hn(e,t,r)}var yb,Tm,wb,vb;yb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tm=function(){};wb=function(e,t,r,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,pi(An.current);var A=null;switch(r){case"input":n=nm(e,n),s=nm(e,s),A=[];break;case"select":n=Yt({},n,{value:void 0}),s=Yt({},s,{value:void 0}),A=[];break;case"textarea":n=om(e,n),s=om(e,s),A=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=P0)}cm(r,s);var i;r=null;for(c in n)if(!s.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var o=n[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Oc.hasOwnProperty(c)?A||(A=[]):(A=A||[]).push(c,null));for(c in s){var l=s[c];if(o=n!=null?n[c]:void 0,s.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(A||(A=[]),A.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(A=A||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(A=A||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Oc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_t("scroll",e),A||o===l||(A=[])):(A=A||[]).push(c,l))}r&&(A=A||[]).push("style",r);var c=A;(t.updateQueue=c)&&(t.flags|=4)}};vb=function(e,t,r,s){r!==s&&(t.flags|=4)};function nc(e,t){if(!Gt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Gk(e,t,r){var s=t.pendingProps;switch(ax(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(t),null;case 1:return Ca(t.type)&&D0(),Jr(t),null;case 3:return s=t.stateNode,ol(),qt(ja),qt(na),ux(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fs!==null&&(zm(Fs),Fs=null))),Tm(e,t),Jr(t),null;case 5:dx(t);var n=pi(Zc.current);if(r=t.type,e!==null&&t.stateNode!=null)wb(e,t,r,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Se(166));return Jr(t),null}if(e=pi(An.current),Bu(t)){s=t.stateNode,r=t.type;var A=t.memoizedProps;switch(s[rn]=t,s[Xc]=A,e=(t.mode&1)!==0,r){case"dialog":_t("cancel",s),_t("close",s);break;case"iframe":case"object":case"embed":_t("load",s);break;case"video":case"audio":for(n=0;n<pc.length;n++)_t(pc[n],s);break;case"source":_t("error",s);break;case"img":case"image":case"link":_t("error",s),_t("load",s);break;case"details":_t("toggle",s);break;case"input":Ey(s,A),_t("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!A.multiple},_t("invalid",s);break;case"textarea":Uy(s,A),_t("invalid",s)}cm(r,A),n=null;for(var i in A)if(A.hasOwnProperty(i)){var o=A[i];i==="children"?typeof o=="string"?s.textContent!==o&&(A.suppressHydrationWarning!==!0&&bu(s.textContent,o,e),n=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(A.suppressHydrationWarning!==!0&&bu(s.textContent,o,e),n=["children",""+o]):Oc.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&_t("scroll",s)}switch(r){case"input":fu(s),Qy(s,A,!0);break;case"textarea":fu(s),Ly(s);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(s.onclick=P0)}s=n,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[rn]=t,e[Xc]=s,yb(e,t,!1,!1),t.stateNode=e;e:{switch(i=dm(r,s),r){case"dialog":_t("cancel",e),_t("close",e),n=s;break;case"iframe":case"object":case"embed":_t("load",e),n=s;break;case"video":case"audio":for(n=0;n<pc.length;n++)_t(pc[n],e);n=s;break;case"source":_t("error",e),n=s;break;case"img":case"image":case"link":_t("error",e),_t("load",e),n=s;break;case"details":_t("toggle",e),n=s;break;case"input":Ey(e,s),n=nm(e,s),_t("invalid",e);break;case"option":n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=Yt({},s,{value:void 0}),_t("invalid",e);break;case"textarea":Uy(e,s),n=om(e,s),_t("invalid",e);break;default:n=s}cm(r,n),o=n;for(A in o)if(o.hasOwnProperty(A)){var l=o[A];A==="style"?Yw(e,l):A==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$w(e,l)):A==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_c(e,l):typeof l=="number"&&_c(e,""+l):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Oc.hasOwnProperty(A)?l!=null&&A==="onScroll"&&_t("scroll",e):l!=null&&_p(e,A,l,i))}switch(r){case"input":fu(e),Qy(e,s,!1);break;case"textarea":fu(e),Ly(e);break;case"option":s.value!=null&&e.setAttribute("value",""+DA(s.value));break;case"select":e.multiple=!!s.multiple,A=s.value,A!=null?zo(e,!!s.multiple,A,!1):s.defaultValue!=null&&zo(e,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=P0)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jr(t),null;case 6:if(e&&t.stateNode!=null)vb(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Se(166));if(r=pi(Zc.current),pi(An.current),Bu(t)){if(s=t.stateNode,r=t.memoizedProps,s[rn]=t,(A=s.nodeValue!==r)&&(e=Oa,e!==null))switch(e.tag){case 3:bu(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bu(s.nodeValue,r,(e.mode&1)!==0)}A&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[rn]=t,t.stateNode=s}return Jr(t),null;case 13:if(qt(Jt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gt&&Ha!==null&&t.mode&1&&!(t.flags&128))Hv(),Al(),t.flags|=98560,A=!1;else if(A=Bu(t),s!==null&&s.dehydrated!==null){if(e===null){if(!A)throw Error(Se(318));if(A=t.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(Se(317));A[rn]=t}else Al(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jr(t),A=!1}else Fs!==null&&(zm(Fs),Fs=null),A=!0;if(!A)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Jt.current&1?Cr===0&&(Cr=3):Nx())),t.updateQueue!==null&&(t.flags|=4),Jr(t),null);case 4:return ol(),Tm(e,t),e===null&&Jc(t.stateNode.containerInfo),Jr(t),null;case 10:return ix(t.type._context),Jr(t),null;case 17:return Ca(t.type)&&D0(),Jr(t),null;case 19:if(qt(Jt),A=t.memoizedState,A===null)return Jr(t),null;if(s=(t.flags&128)!==0,i=A.rendering,i===null)if(s)nc(A,!1);else{if(Cr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=K0(e),i!==null){for(t.flags|=128,nc(A,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)A=r,e=s,A.flags&=14680066,i=A.alternate,i===null?(A.childLanes=0,A.lanes=e,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=i.childLanes,A.lanes=i.lanes,A.child=i.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=i.memoizedProps,A.memoizedState=i.memoizedState,A.updateQueue=i.updateQueue,A.type=i.type,e=i.dependencies,A.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ot(Jt,Jt.current&1|2),t.child}e=e.sibling}A.tail!==null&&cr()>cl&&(t.flags|=128,s=!0,nc(A,!1),t.lanes=4194304)}else{if(!s)if(e=K0(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),nc(A,!0),A.tail===null&&A.tailMode==="hidden"&&!i.alternate&&!Gt)return Jr(t),null}else 2*cr()-A.renderingStartTime>cl&&r!==1073741824&&(t.flags|=128,s=!0,nc(A,!1),t.lanes=4194304);A.isBackwards?(i.sibling=t.child,t.child=i):(r=A.last,r!==null?r.sibling=i:t.child=i,A.last=i)}return A.tail!==null?(t=A.tail,A.rendering=t,A.tail=t.sibling,A.renderingStartTime=cr(),t.sibling=null,r=Jt.current,Ot(Jt,s?r&1|2:r&1),t):(Jr(t),null);case 22:case 23:return Bx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ta&1073741824&&(Jr(t),t.subtreeFlags&6&&(t.flags|=8192)):Jr(t),null;case 24:return null;case 25:return null}throw Error(Se(156,t.tag))}function Wk(e,t){switch(ax(t),t.tag){case 1:return Ca(t.type)&&D0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(),qt(ja),qt(na),ux(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dx(t),null;case 13:if(qt(Jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Se(340));Al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(Jt),null;case 4:return ol(),null;case 10:return ix(t.type._context),null;case 22:case 23:return Bx(),null;case 24:return null;default:return null}}var ju=!1,ra=!1,Jk=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Oo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){sr(e,t,s)}else r.current=null}function Rm(e,t,r){try{r()}catch(s){sr(e,t,s)}}var b1=!1;function $k(e,t){if(vm=U0,e=jv(),tx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var n=s.anchorOffset,A=s.focusNode;s=s.focusOffset;try{r.nodeType,A.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,c=0,u=0,f=e,p=null;t:for(;;){for(var h;f!==r||n!==0&&f.nodeType!==3||(o=i+n),f!==A||s!==0&&f.nodeType!==3||(l=i+s),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++c===n&&(o=i),p===A&&++u===s&&(l=i),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(bm={focusedElem:e,selectionRange:r},U0=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){t=ze;try{var B=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var x=B.memoizedProps,N=B.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:js(t.type,x),N);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(E){sr(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}return B=b1,b1=!1,B}function Qc(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var A=n.destroy;n.destroy=void 0,A!==void 0&&Rm(t,r,A)}n=n.next}while(n!==s)}}function Sh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Hm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function bb(e){var t=e.alternate;t!==null&&(e.alternate=null,bb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[Xc],delete t[km],delete t[Uk],delete t[Lk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bb(e){return e.tag===5||e.tag===3||e.tag===4}function B1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mm(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=P0));else if(s!==4&&(e=e.child,e!==null))for(Mm(e,t,r),e=e.sibling;e!==null;)Mm(e,t,r),e=e.sibling}function Om(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Om(e,t,r),e=e.sibling;e!==null;)Om(e,t,r),e=e.sibling}var Hr=null,Ss=!1;function AA(e,t,r){for(r=r.child;r!==null;)Nb(e,t,r),r=r.sibling}function Nb(e,t,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(wh,r)}catch{}switch(r.tag){case 5:ra||Oo(r,t);case 6:var s=Hr,n=Ss;Hr=null,AA(e,t,r),Hr=s,Ss=n,Hr!==null&&(Ss?(e=Hr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Hr.removeChild(r.stateNode));break;case 18:Hr!==null&&(Ss?(e=Hr,r=r.stateNode,e.nodeType===8?lg(e.parentNode,r):e.nodeType===1&&lg(e,r),Vc(e)):lg(Hr,r.stateNode));break;case 4:s=Hr,n=Ss,Hr=r.stateNode.containerInfo,Ss=!0,AA(e,t,r),Hr=s,Ss=n;break;case 0:case 11:case 14:case 15:if(!ra&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var A=n,i=A.destroy;A=A.tag,i!==void 0&&(A&2||A&4)&&Rm(r,t,i),n=n.next}while(n!==s)}AA(e,t,r);break;case 1:if(!ra&&(Oo(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){sr(r,t,o)}AA(e,t,r);break;case 21:AA(e,t,r);break;case 22:r.mode&1?(ra=(s=ra)||r.memoizedState!==null,AA(e,t,r),ra=s):AA(e,t,r);break;default:AA(e,t,r)}}function N1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Jk),t.forEach(function(s){var n=nj.bind(null,e,s);r.has(s)||(r.add(s),s.then(n,n))})}}function bs(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var n=r[s];try{var A=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Hr=o.stateNode,Ss=!1;break e;case 3:Hr=o.stateNode.containerInfo,Ss=!0;break e;case 4:Hr=o.stateNode.containerInfo,Ss=!0;break e}o=o.return}if(Hr===null)throw Error(Se(160));Nb(A,i,n),Hr=null,Ss=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(c){sr(n,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kb(t,e),t=t.sibling}function kb(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bs(t,e),Xs(e),s&4){try{Qc(3,e,e.return),Sh(3,e)}catch(x){sr(e,e.return,x)}try{Qc(5,e,e.return)}catch(x){sr(e,e.return,x)}}break;case 1:bs(t,e),Xs(e),s&512&&r!==null&&Oo(r,r.return);break;case 5:if(bs(t,e),Xs(e),s&512&&r!==null&&Oo(r,r.return),e.flags&32){var n=e.stateNode;try{_c(n,"")}catch(x){sr(e,e.return,x)}}if(s&4&&(n=e.stateNode,n!=null)){var A=e.memoizedProps,i=r!==null?r.memoizedProps:A,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&A.type==="radio"&&A.name!=null&&Gw(n,A),dm(o,i);var c=dm(o,A);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?Yw(n,f):u==="dangerouslySetInnerHTML"?$w(n,f):u==="children"?_c(n,f):_p(n,u,f,c)}switch(o){case"input":Am(n,A);break;case"textarea":Ww(n,A);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!A.multiple;var h=A.value;h!=null?zo(n,!!A.multiple,h,!1):p!==!!A.multiple&&(A.defaultValue!=null?zo(n,!!A.multiple,A.defaultValue,!0):zo(n,!!A.multiple,A.multiple?[]:"",!1))}n[Xc]=A}catch(x){sr(e,e.return,x)}}break;case 6:if(bs(t,e),Xs(e),s&4){if(e.stateNode===null)throw Error(Se(162));n=e.stateNode,A=e.memoizedProps;try{n.nodeValue=A}catch(x){sr(e,e.return,x)}}break;case 3:if(bs(t,e),Xs(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Vc(t.containerInfo)}catch(x){sr(e,e.return,x)}break;case 4:bs(t,e),Xs(e);break;case 13:bs(t,e),Xs(e),n=e.child,n.flags&8192&&(A=n.memoizedState!==null,n.stateNode.isHidden=A,!A||n.alternate!==null&&n.alternate.memoizedState!==null||(vx=cr())),s&4&&N1(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ra=(c=ra)||u,bs(t,e),ra=c):bs(t,e),Xs(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ze=e,u=e.child;u!==null;){for(f=ze=u;ze!==null;){switch(p=ze,h=p.child,p.tag){case 0:case 11:case 14:case 15:Qc(4,p,p.return);break;case 1:Oo(p,p.return);var B=p.stateNode;if(typeof B.componentWillUnmount=="function"){s=p,r=p.return;try{t=s,B.props=t.memoizedProps,B.state=t.memoizedState,B.componentWillUnmount()}catch(x){sr(s,r,x)}}break;case 5:Oo(p,p.return);break;case 22:if(p.memoizedState!==null){j1(f);continue}}h!==null?(h.return=p,ze=h):j1(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{n=f.stateNode,c?(A=n.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(o=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Xw("display",i))}catch(x){sr(e,e.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){sr(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bs(t,e),Xs(e),s&4&&N1(e);break;case 21:break;default:bs(t,e),Xs(e)}}function Xs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bb(r)){var s=r;break e}r=r.return}throw Error(Se(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(_c(n,""),s.flags&=-33);var A=B1(e);Om(e,A,n);break;case 3:case 4:var i=s.stateNode.containerInfo,o=B1(e);Mm(e,o,i);break;default:throw Error(Se(161))}}catch(l){sr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xk(e,t,r){ze=e,jb(e)}function jb(e,t,r){for(var s=(e.mode&1)!==0;ze!==null;){var n=ze,A=n.child;if(n.tag===22&&s){var i=n.memoizedState!==null||ju;if(!i){var o=n.alternate,l=o!==null&&o.memoizedState!==null||ra;o=ju;var c=ra;if(ju=i,(ra=l)&&!c)for(ze=n;ze!==null;)i=ze,l=i.child,i.tag===22&&i.memoizedState!==null?C1(n):l!==null?(l.return=i,ze=l):C1(n);for(;A!==null;)ze=A,jb(A),A=A.sibling;ze=n,ju=o,ra=c}k1(e)}else n.subtreeFlags&8772&&A!==null?(A.return=n,ze=A):k1(e)}}function k1(e){for(;ze!==null;){var t=ze;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ra||Sh(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ra)if(r===null)s.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:js(t.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var A=t.updateQueue;A!==null&&l1(t,A,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}l1(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Vc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}ra||t.flags&512&&Hm(t)}catch(p){sr(t,t.return,p)}}if(t===e){ze=null;break}if(r=t.sibling,r!==null){r.return=t.return,ze=r;break}ze=t.return}}function j1(e){for(;ze!==null;){var t=ze;if(t===e){ze=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ze=r;break}ze=t.return}}function C1(e){for(;ze!==null;){var t=ze;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sh(4,t)}catch(l){sr(t,r,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var n=t.return;try{s.componentDidMount()}catch(l){sr(t,n,l)}}var A=t.return;try{Hm(t)}catch(l){sr(t,A,l)}break;case 5:var i=t.return;try{Hm(t)}catch(l){sr(t,i,l)}}}catch(l){sr(t,t.return,l)}if(t===e){ze=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ze=o;break}ze=t.return}}var Yk=Math.ceil,V0=_n.ReactCurrentDispatcher,yx=_n.ReactCurrentOwner,As=_n.ReactCurrentBatchConfig,yt=0,Ir=null,yr=null,_r=0,Ta=0,_o=KA(0),Cr=0,ad=null,Ei=0,Fh=0,wx=0,Uc=null,Na=null,vx=0,cl=1/0,En=null,G0=!1,_m=null,SA=null,Cu=!1,pA=null,W0=0,Lc=0,Km=null,u0=-1,h0=0;function ha(){return yt&6?cr():u0!==-1?u0:u0=cr()}function FA(e){return e.mode&1?yt&2&&_r!==0?_r&-_r:Pk.transition!==null?(h0===0&&(h0=cv()),h0):(e=Ut,e!==0||(e=window.event,e=e===void 0?16:pv(e.type)),e):1}function Ls(e,t,r,s){if(50<Lc)throw Lc=0,Km=null,Error(Se(185));hd(e,r,s),(!(yt&2)||e!==Ir)&&(e===Ir&&(!(yt&2)&&(Fh|=r),Cr===4&&gA(e,_r)),Sa(e,s),r===1&&yt===0&&!(t.mode&1)&&(cl=cr()+500,kh&&qA()))}function Sa(e,t){var r=e.callbackNode;P4(e,t);var s=Q0(e,e===Ir?_r:0);if(s===0)r!==null&&Dy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Dy(r),t===1)e.tag===0?Ik(S1.bind(null,e)):Dv(S1.bind(null,e)),Ek(function(){!(yt&6)&&qA()}),r=null;else{switch(dv(s)){case 1:r=Gp;break;case 4:r=ov;break;case 16:r=E0;break;case 536870912:r=lv;break;default:r=E0}r=Ib(r,Cb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Cb(e,t){if(u0=-1,h0=0,yt&6)throw Error(Se(327));var r=e.callbackNode;if($o()&&e.callbackNode!==r)return null;var s=Q0(e,e===Ir?_r:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=J0(e,s);else{t=s;var n=yt;yt|=2;var A=Fb();(Ir!==e||_r!==t)&&(En=null,cl=cr()+500,vi(e,t));do try{tj();break}catch(o){Sb(e,o)}while(1);Ax(),V0.current=A,yt=n,yr!==null?t=0:(Ir=null,_r=0,t=Cr)}if(t!==0){if(t===2&&(n=mm(e),n!==0&&(s=n,t=qm(e,n))),t===1)throw r=ad,vi(e,0),gA(e,s),Sa(e,cr()),r;if(t===6)gA(e,s);else{if(n=e.current.alternate,!(s&30)&&!Zk(n)&&(t=J0(e,s),t===2&&(A=mm(e),A!==0&&(s=A,t=qm(e,A))),t===1))throw r=ad,vi(e,0),gA(e,s),Sa(e,cr()),r;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error(Se(345));case 2:di(e,Na,En);break;case 3:if(gA(e,s),(s&130023424)===s&&(t=vx+500-cr(),10<t)){if(Q0(e,0)!==0)break;if(n=e.suspendedLanes,(n&s)!==s){ha(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Nm(di.bind(null,e,Na,En),t);break}di(e,Na,En);break;case 4:if(gA(e,s),(s&4194240)===s)break;for(t=e.eventTimes,n=-1;0<s;){var i=31-Us(s);A=1<<i,i=t[i],i>n&&(n=i),s&=~A}if(s=n,s=cr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Yk(s/1960))-s,10<s){e.timeoutHandle=Nm(di.bind(null,e,Na,En),s);break}di(e,Na,En);break;case 5:di(e,Na,En);break;default:throw Error(Se(329))}}}return Sa(e,cr()),e.callbackNode===r?Cb.bind(null,e):null}function qm(e,t){var r=Uc;return e.current.memoizedState.isDehydrated&&(vi(e,t).flags|=256),e=J0(e,t),e!==2&&(t=Na,Na=r,t!==null&&zm(t)),e}function zm(e){Na===null?Na=e:Na.push.apply(Na,e)}function Zk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var n=r[s],A=n.getSnapshot;n=n.value;try{if(!Ds(A(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gA(e,t){for(t&=~wx,t&=~Fh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Us(t),s=1<<r;e[r]=-1,t&=~s}}function S1(e){if(yt&6)throw Error(Se(327));$o();var t=Q0(e,0);if(!(t&1))return Sa(e,cr()),null;var r=J0(e,t);if(e.tag!==0&&r===2){var s=mm(e);s!==0&&(t=s,r=qm(e,s))}if(r===1)throw r=ad,vi(e,0),gA(e,t),Sa(e,cr()),r;if(r===6)throw Error(Se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,di(e,Na,En),Sa(e,cr()),null}function bx(e,t){var r=yt;yt|=1;try{return e(t)}finally{yt=r,yt===0&&(cl=cr()+500,kh&&qA())}}function Qi(e){pA!==null&&pA.tag===0&&!(yt&6)&&$o();var t=yt;yt|=1;var r=As.transition,s=Ut;try{if(As.transition=null,Ut=1,e)return e()}finally{Ut=s,As.transition=r,yt=t,!(yt&6)&&qA()}}function Bx(){Ta=_o.current,qt(_o)}function vi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Fk(r)),yr!==null)for(r=yr.return;r!==null;){var s=r;switch(ax(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&D0();break;case 3:ol(),qt(ja),qt(na),ux();break;case 5:dx(s);break;case 4:ol();break;case 13:qt(Jt);break;case 19:qt(Jt);break;case 10:ix(s.type._context);break;case 22:case 23:Bx()}r=r.return}if(Ir=e,yr=e=EA(e.current,null),_r=Ta=t,Cr=0,ad=null,wx=Fh=Ei=0,Na=Uc=null,mi!==null){for(t=0;t<mi.length;t++)if(r=mi[t],s=r.interleaved,s!==null){r.interleaved=null;var n=s.next,A=r.pending;if(A!==null){var i=A.next;A.next=n,s.next=i}r.pending=s}mi=null}return e}function Sb(e,t){do{var r=yr;try{if(Ax(),l0.current=z0,q0){for(var s=$t.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}q0=!1}if(Fi=0,Ur=kr=$t=null,Ec=!1,ed=0,yx.current=null,r===null||r.return===null){Cr=1,ad=t,yr=null;break}e:{var A=e,i=r.return,o=r,l=t;if(t=_r,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=g1(i);if(h!==null){h.flags&=-257,m1(h,i,o,A,t),h.mode&1&&f1(A,c,t),t=h,l=c;var B=t.updateQueue;if(B===null){var x=new Set;x.add(l),t.updateQueue=x}else B.add(l);break e}else{if(!(t&1)){f1(A,c,t),Nx();break e}l=Error(Se(426))}}else if(Gt&&o.mode&1){var N=g1(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),m1(N,i,o,A,t),sx(ll(l,o));break e}}A=l=ll(l,o),Cr!==4&&(Cr=2),Uc===null?Uc=[A]:Uc.push(A),A=i;do{switch(A.tag){case 3:A.flags|=65536,t&=-t,A.lanes|=t;var m=db(A,l,t);o1(A,m);break e;case 1:o=l;var y=A.type,v=A.stateNode;if(!(A.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(SA===null||!SA.has(v)))){A.flags|=65536,t&=-t,A.lanes|=t;var E=ub(A,o,t);o1(A,E);break e}}A=A.return}while(A!==null)}Qb(r)}catch(U){t=U,yr===r&&r!==null&&(yr=r=r.return);continue}break}while(1)}function Fb(){var e=V0.current;return V0.current=z0,e===null?z0:e}function Nx(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Ir===null||!(Ei&268435455)&&!(Fh&268435455)||gA(Ir,_r)}function J0(e,t){var r=yt;yt|=2;var s=Fb();(Ir!==e||_r!==t)&&(En=null,vi(e,t));do try{ej();break}catch(n){Sb(e,n)}while(1);if(Ax(),yt=r,V0.current=s,yr!==null)throw Error(Se(261));return Ir=null,_r=0,Cr}function ej(){for(;yr!==null;)Eb(yr)}function tj(){for(;yr!==null&&!j4();)Eb(yr)}function Eb(e){var t=Lb(e.alternate,e,Ta);e.memoizedProps=e.pendingProps,t===null?Qb(e):yr=t,yx.current=null}function Qb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Wk(r,t),r!==null){r.flags&=32767,yr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Cr=6,yr=null;return}}else if(r=Gk(r,t,Ta),r!==null){yr=r;return}if(t=t.sibling,t!==null){yr=t;return}yr=t=e}while(t!==null);Cr===0&&(Cr=5)}function di(e,t,r){var s=Ut,n=As.transition;try{As.transition=null,Ut=1,rj(e,t,r,s)}finally{As.transition=n,Ut=s}return null}function rj(e,t,r,s){do $o();while(pA!==null);if(yt&6)throw Error(Se(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Se(177));e.callbackNode=null,e.callbackPriority=0;var A=r.lanes|r.childLanes;if(D4(e,A),e===Ir&&(yr=Ir=null,_r=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cu||(Cu=!0,Ib(E0,function(){return $o(),null})),A=(r.flags&15990)!==0,r.subtreeFlags&15990||A){A=As.transition,As.transition=null;var i=Ut;Ut=1;var o=yt;yt|=4,yx.current=null,$k(e,r),kb(r,e),bk(bm),U0=!!vm,bm=vm=null,e.current=r,Xk(r),C4(),yt=o,Ut=i,As.transition=A}else e.current=r;if(Cu&&(Cu=!1,pA=e,W0=n),A=e.pendingLanes,A===0&&(SA=null),E4(r.stateNode),Sa(e,cr()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(G0)throw G0=!1,e=_m,_m=null,e;return W0&1&&e.tag!==0&&$o(),A=e.pendingLanes,A&1?e===Km?Lc++:(Lc=0,Km=e):Lc=0,qA(),null}function $o(){if(pA!==null){var e=dv(W0),t=As.transition,r=Ut;try{if(As.transition=null,Ut=16>e?16:e,pA===null)var s=!1;else{if(e=pA,pA=null,W0=0,yt&6)throw Error(Se(331));var n=yt;for(yt|=4,ze=e.current;ze!==null;){var A=ze,i=A.child;if(ze.flags&16){var o=A.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ze=c;ze!==null;){var u=ze;switch(u.tag){case 0:case 11:case 15:Qc(8,u,A)}var f=u.child;if(f!==null)f.return=u,ze=f;else for(;ze!==null;){u=ze;var p=u.sibling,h=u.return;if(bb(u),u===c){ze=null;break}if(p!==null){p.return=h,ze=p;break}ze=h}}}var B=A.alternate;if(B!==null){var x=B.child;if(x!==null){B.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}ze=A}}if(A.subtreeFlags&2064&&i!==null)i.return=A,ze=i;else e:for(;ze!==null;){if(A=ze,A.flags&2048)switch(A.tag){case 0:case 11:case 15:Qc(9,A,A.return)}var m=A.sibling;if(m!==null){m.return=A.return,ze=m;break e}ze=A.return}}var y=e.current;for(ze=y;ze!==null;){i=ze;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,ze=v;else e:for(i=y;ze!==null;){if(o=ze,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sh(9,o)}}catch(U){sr(o,o.return,U)}if(o===i){ze=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,ze=E;break e}ze=o.return}}if(yt=n,qA(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(wh,e)}catch{}s=!0}return s}finally{Ut=r,As.transition=t}}return!1}function F1(e,t,r){t=ll(r,t),t=db(e,t,1),e=CA(e,t,1),t=ha(),e!==null&&(hd(e,1,t),Sa(e,t))}function sr(e,t,r){if(e.tag===3)F1(e,e,r);else for(;t!==null;){if(t.tag===3){F1(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(SA===null||!SA.has(s))){e=ll(r,e),e=ub(t,e,1),t=CA(t,e,1),e=ha(),t!==null&&(hd(t,1,e),Sa(t,e));break}}t=t.return}}function aj(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=ha(),e.pingedLanes|=e.suspendedLanes&r,Ir===e&&(_r&r)===r&&(Cr===4||Cr===3&&(_r&130023424)===_r&&500>cr()-vx?vi(e,0):wx|=r),Sa(e,t)}function Ub(e,t){t===0&&(e.mode&1?(t=pu,pu<<=1,!(pu&130023424)&&(pu=4194304)):t=1);var r=ha();e=Rn(e,t),e!==null&&(hd(e,t,r),Sa(e,r))}function sj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ub(e,r)}function nj(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Se(314))}s!==null&&s.delete(t),Ub(e,r)}var Lb;Lb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ja.current)ka=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ka=!1,Vk(e,t,r);ka=!!(e.flags&131072)}else ka=!1,Gt&&t.flags&1048576&&Tv(t,H0,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;d0(e,t),e=t.pendingProps;var n=nl(t,na.current);Jo(t,r),n=fx(null,t,s,e,n,r);var A=gx();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ca(s)?(A=!0,T0(t)):A=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,lx(t),n.updater=Ch,t.stateNode=n,n._reactInternals=t,Qm(t,s,e,r),t=Im(null,t,s,!0,A,r)):(t.tag=0,Gt&&A&&rx(t),ua(null,t,n,r),t=t.child),t;case 16:s=t.elementType;e:{switch(d0(e,t),e=t.pendingProps,n=s._init,s=n(s._payload),t.type=s,n=t.tag=ij(s),e=js(s,e),n){case 0:t=Lm(null,t,s,e,r);break e;case 1:t=y1(null,t,s,e,r);break e;case 11:t=p1(null,t,s,e,r);break e;case 14:t=x1(null,t,s,js(s.type,e),r);break e}throw Error(Se(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:js(s,n),Lm(e,t,s,n,r);case 1:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:js(s,n),y1(e,t,s,n,r);case 3:e:{if(mb(t),e===null)throw Error(Se(387));s=t.pendingProps,A=t.memoizedState,n=A.element,Kv(e,t),_0(t,s,null,r);var i=t.memoizedState;if(s=i.element,A.isDehydrated)if(A={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=A,t.memoizedState=A,t.flags&256){n=ll(Error(Se(423)),t),t=w1(e,t,s,r,n);break e}else if(s!==n){n=ll(Error(Se(424)),t),t=w1(e,t,s,r,n);break e}else for(Ha=jA(t.stateNode.containerInfo.firstChild),Oa=t,Gt=!0,Fs=null,r=Ov(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Al(),s===n){t=Hn(e,t,r);break e}ua(e,t,s,r)}t=t.child}return t;case 5:return qv(t),e===null&&Sm(t),s=t.type,n=t.pendingProps,A=e!==null?e.memoizedProps:null,i=n.children,Bm(s,n)?i=null:A!==null&&Bm(s,A)&&(t.flags|=32),gb(e,t),ua(e,t,i,r),t.child;case 6:return e===null&&Sm(t),null;case 13:return pb(e,t,r);case 4:return cx(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=il(t,null,s,r):ua(e,t,s,r),t.child;case 11:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:js(s,n),p1(e,t,s,n,r);case 7:return ua(e,t,t.pendingProps,r),t.child;case 8:return ua(e,t,t.pendingProps.children,r),t.child;case 12:return ua(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,A=t.memoizedProps,i=n.value,Ot(M0,s._currentValue),s._currentValue=i,A!==null)if(Ds(A.value,i)){if(A.children===n.children&&!ja.current){t=Hn(e,t,r);break e}}else for(A=t.child,A!==null&&(A.return=t);A!==null;){var o=A.dependencies;if(o!==null){i=A.child;for(var l=o.firstContext;l!==null;){if(l.context===s){if(A.tag===1){l=In(-1,r&-r),l.tag=2;var c=A.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}A.lanes|=r,l=A.alternate,l!==null&&(l.lanes|=r),Fm(A.return,r,t),o.lanes|=r;break}l=l.next}}else if(A.tag===10)i=A.type===t.type?null:A.child;else if(A.tag===18){if(i=A.return,i===null)throw Error(Se(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Fm(i,r,t),i=A.sibling}else i=A.child;if(i!==null)i.return=A;else for(i=A;i!==null;){if(i===t){i=null;break}if(A=i.sibling,A!==null){A.return=i.return,i=A;break}i=i.return}A=i}ua(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,Jo(t,r),n=is(n),s=s(n),t.flags|=1,ua(e,t,s,r),t.child;case 14:return s=t.type,n=js(s,t.pendingProps),n=js(s.type,n),x1(e,t,s,n,r);case 15:return hb(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:js(s,n),d0(e,t),t.tag=1,Ca(s)?(e=!0,T0(t)):e=!1,Jo(t,r),cb(t,s,n),Qm(t,s,n,r),Im(null,t,s,!0,e,r);case 19:return xb(e,t,r);case 22:return fb(e,t,r)}throw Error(Se(156,t.tag))};function Ib(e,t){return iv(e,t)}function Aj(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(e,t,r,s){return new Aj(e,t,r,s)}function kx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ij(e){if(typeof e=="function")return kx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qp)return 11;if(e===zp)return 14}return 2}function EA(e,t){var r=e.alternate;return r===null?(r=as(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function f0(e,t,r,s,n,A){var i=2;if(s=e,typeof e=="function")kx(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Uo:return bi(r.children,n,A,t);case Kp:i=8,n|=8;break;case tm:return e=as(12,r,t,n|2),e.elementType=tm,e.lanes=A,e;case rm:return e=as(13,r,t,n),e.elementType=rm,e.lanes=A,e;case am:return e=as(19,r,t,n),e.elementType=am,e.lanes=A,e;case qw:return Eh(r,n,A,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _w:i=10;break e;case Kw:i=9;break e;case qp:i=11;break e;case zp:i=14;break e;case dA:i=16,s=null;break e}throw Error(Se(130,e==null?e:typeof e,""))}return t=as(i,r,t,n),t.elementType=e,t.type=s,t.lanes=A,t}function bi(e,t,r,s){return e=as(7,e,s,t),e.lanes=r,e}function Eh(e,t,r,s){return e=as(22,e,s,t),e.elementType=qw,e.lanes=r,e.stateNode={isHidden:!1},e}function pg(e,t,r){return e=as(6,e,null,t),e.lanes=r,e}function xg(e,t,r){return t=as(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oj(e,t,r,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yf(0),this.expirationTimes=Yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yf(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function jx(e,t,r,s,n,A,i,o,l){return e=new oj(e,t,r,o,l),t===1?(t=1,A===!0&&(t|=8)):t=0,A=as(3,null,null,t),e.current=A,A.stateNode=e,A.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lx(A),e}function lj(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qo,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Pb(e){if(!e)return TA;e=e._reactInternals;e:{if(Hi(e)!==e||e.tag!==1)throw Error(Se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ca(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Se(171))}if(e.tag===1){var r=e.type;if(Ca(r))return Pv(e,r,t)}return t}function Db(e,t,r,s,n,A,i,o,l){return e=jx(r,s,!0,e,n,A,i,o,l),e.context=Pb(null),r=e.current,s=ha(),n=FA(r),A=In(s,n),A.callback=t??null,CA(r,A,n),e.current.lanes=n,hd(e,n,s),Sa(e,s),e}function Qh(e,t,r,s){var n=t.current,A=ha(),i=FA(n);return r=Pb(r),t.context===null?t.context=r:t.pendingContext=r,t=In(A,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=CA(n,t,i),e!==null&&(Ls(e,n,i,A),o0(e,n,i)),i}function $0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function E1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cx(e,t){E1(e,t),(e=e.alternate)&&E1(e,t)}function cj(){return null}var Tb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sx(e){this._internalRoot=e}Uh.prototype.render=Sx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Se(409));Qh(e,t,null,null)};Uh.prototype.unmount=Sx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qi(function(){Qh(null,e,null,null)}),t[Tn]=null}};function Uh(e){this._internalRoot=e}Uh.prototype.unstable_scheduleHydration=function(e){if(e){var t=fv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fA.length&&t!==0&&t<fA[r].priority;r++);fA.splice(r,0,e),r===0&&mv(e)}};function Fx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Q1(){}function dj(e,t,r,s,n){if(n){if(typeof s=="function"){var A=s;s=function(){var c=$0(i);A.call(c)}}var i=Db(t,s,e,0,null,!1,!1,"",Q1);return e._reactRootContainer=i,e[Tn]=i.current,Jc(e.nodeType===8?e.parentNode:e),Qi(),i}for(;n=e.lastChild;)e.removeChild(n);if(typeof s=="function"){var o=s;s=function(){var c=$0(l);o.call(c)}}var l=jx(e,0,!1,null,null,!1,!1,"",Q1);return e._reactRootContainer=l,e[Tn]=l.current,Jc(e.nodeType===8?e.parentNode:e),Qi(function(){Qh(t,l,r,s)}),l}function Ih(e,t,r,s,n){var A=r._reactRootContainer;if(A){var i=A;if(typeof n=="function"){var o=n;n=function(){var l=$0(i);o.call(l)}}Qh(t,i,e,n)}else i=dj(r,t,e,n,s);return $0(i)}uv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mc(t.pendingLanes);r!==0&&(Wp(t,r|1),Sa(t,cr()),!(yt&6)&&(cl=cr()+500,qA()))}break;case 13:Qi(function(){var s=Rn(e,1);if(s!==null){var n=ha();Ls(s,e,1,n)}}),Cx(e,1)}};Jp=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var r=ha();Ls(t,e,134217728,r)}Cx(e,134217728)}};hv=function(e){if(e.tag===13){var t=FA(e),r=Rn(e,t);if(r!==null){var s=ha();Ls(r,e,t,s)}Cx(e,t)}};fv=function(){return Ut};gv=function(e,t){var r=Ut;try{return Ut=e,t()}finally{Ut=r}};hm=function(e,t,r){switch(t){case"input":if(Am(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var n=Nh(s);if(!n)throw Error(Se(90));Vw(s),Am(s,n)}}}break;case"textarea":Ww(e,r);break;case"select":t=r.value,t!=null&&zo(e,!!r.multiple,t,!1)}};tv=bx;rv=Qi;var uj={usingClientEntryPoint:!1,Events:[gd,Do,Nh,Zw,ev,bx]},Ac={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hj={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nv(e),e===null?null:e.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||cj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{wh=Su.inject(hj),nn=Su}catch{}}Ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uj;Ka.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fx(t))throw Error(Se(200));return lj(e,t,null,r)};Ka.createRoot=function(e,t){if(!Fx(e))throw Error(Se(299));var r=!1,s="",n=Tb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=jx(e,1,!1,null,null,r,!1,s,n),e[Tn]=t.current,Jc(e.nodeType===8?e.parentNode:e),new Sx(t)};Ka.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Se(188)):(e=Object.keys(e).join(","),Error(Se(268,e)));return e=nv(t),e=e===null?null:e.stateNode,e};Ka.flushSync=function(e){return Qi(e)};Ka.hydrate=function(e,t,r){if(!Lh(t))throw Error(Se(200));return Ih(null,e,t,!0,r)};Ka.hydrateRoot=function(e,t,r){if(!Fx(e))throw Error(Se(405));var s=r!=null&&r.hydratedSources||null,n=!1,A="",i=Tb;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(A=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Db(t,null,e,1,r??null,n,!1,A,i),e[Tn]=t.current,Jc(e),s)for(e=0;e<s.length;e++)r=s[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Uh(t)};Ka.render=function(e,t,r){if(!Lh(t))throw Error(Se(200));return Ih(null,e,t,!1,r)};Ka.unmountComponentAtNode=function(e){if(!Lh(e))throw Error(Se(40));return e._reactRootContainer?(Qi(function(){Ih(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1};Ka.unstable_batchedUpdates=bx;Ka.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Lh(r))throw Error(Se(200));if(e==null||e._reactInternals===void 0)throw Error(Se(38));return Ih(e,t,r,!1,s)};Ka.version="18.3.1-next-f1338f8080-20240426";function Rb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rb)}catch(e){console.error(e)}}Rb(),Rw.exports=Ka;var fj=Rw.exports,Hb,U1=fj;Hb=U1.createRoot,U1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},sd.apply(this,arguments)}var xA;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xA||(xA={}));const L1="popstate";function gj(e){e===void 0&&(e={});function t(s,n){let{pathname:A,search:i,hash:o}=s.location;return Vm("",{pathname:A,search:i,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(s,n){return typeof n=="string"?n:X0(n)}return pj(t,r,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mj(){return Math.random().toString(36).substr(2,8)}function I1(e,t){return{usr:e.state,key:e.key,idx:t}}function Vm(e,t,r,s){return r===void 0&&(r=null),sd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ml(t):t,{state:r,key:t&&t.key||s||mj()})}function X0(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ml(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function pj(e,t,r,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:A=!1}=s,i=n.history,o=xA.Pop,l=null,c=u();c==null&&(c=0,i.replaceState(sd({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function f(){o=xA.Pop;let N=u(),m=N==null?null:N-c;c=N,l&&l({action:o,location:x.location,delta:m})}function p(N,m){o=xA.Push;let y=Vm(x.location,N,m);r&&r(y,N),c=u()+1;let v=I1(y,c),E=x.createHref(y);try{i.pushState(v,"",E)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;n.location.assign(E)}A&&l&&l({action:o,location:x.location,delta:1})}function h(N,m){o=xA.Replace;let y=Vm(x.location,N,m);r&&r(y,N),c=u();let v=I1(y,c),E=x.createHref(y);i.replaceState(v,"",E),A&&l&&l({action:o,location:x.location,delta:0})}function B(N){let m=n.location.origin!=="null"?n.location.origin:n.location.href,y=typeof N=="string"?N:X0(N);return y=y.replace(/ $/,"%20"),Xt(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let x={get action(){return o},get location(){return e(n,i)},listen(N){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(L1,f),l=N,()=>{n.removeEventListener(L1,f),l=null}},createHref(N){return t(n,N)},createURL:B,encodeLocation(N){let m=B(N);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:h,go(N){return i.go(N)}};return x}var P1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(P1||(P1={}));function xj(e,t,r){return r===void 0&&(r="/"),yj(e,t,r,!1)}function yj(e,t,r,s){let n=typeof t=="string"?ml(t):t,A=dl(n.pathname||"/",r);if(A==null)return null;let i=Ob(e);wj(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let c=Qj(A);o=Fj(i[l],c,s)}return o}function Ob(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let n=(A,i,o)=>{let l={relativePath:o===void 0?A.path||"":o,caseSensitive:A.caseSensitive===!0,childrenIndex:i,route:A};l.relativePath.startsWith("/")&&(Xt(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=QA([s,l.relativePath]),u=r.concat(l);A.children&&A.children.length>0&&(Xt(A.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ob(A.children,t,u,c)),!(A.path==null&&!A.index)&&t.push({path:c,score:Cj(c,A.index),routesMeta:u})};return e.forEach((A,i)=>{var o;if(A.path===""||!((o=A.path)!=null&&o.includes("?")))n(A,i);else for(let l of _b(A.path))n(A,i,l)}),t}function _b(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,n=r.endsWith("?"),A=r.replace(/\?$/,"");if(s.length===0)return n?[A,""]:[A];let i=_b(s.join("/")),o=[];return o.push(...i.map(l=>l===""?A:[A,l].join("/"))),n&&o.push(...i),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function wj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Sj(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const vj=/^:[\w-]+$/,bj=3,Bj=2,Nj=1,kj=10,jj=-2,D1=e=>e==="*";function Cj(e,t){let r=e.split("/"),s=r.length;return r.some(D1)&&(s+=jj),t&&(s+=Bj),r.filter(n=>!D1(n)).reduce((n,A)=>n+(vj.test(A)?bj:A===""?Nj:kj),s)}function Sj(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function Fj(e,t,r){r===void 0&&(r=!1);let{routesMeta:s}=e,n={},A="/",i=[];for(let o=0;o<s.length;++o){let l=s[o],c=o===s.length-1,u=A==="/"?t:t.slice(A.length)||"/",f=Y0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f&&c&&r&&!s[s.length-1].route.index&&(f=Y0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(n,f.params),i.push({params:n,pathname:QA([A,f.pathname]),pathnameBase:Pj(QA([A,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(A=QA([A,f.pathnameBase]))}return i}function Y0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=Ej(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let A=n[0],i=A.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:s.reduce((c,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let x=o[f]||"";i=A.slice(0,A.length-x.length).replace(/(.)\/+$/,"$1")}const B=o[f];return h&&!B?c[p]=void 0:c[p]=(B||"").replace(/%2F/g,"/"),c},{}),pathname:A,pathnameBase:i,pattern:e}}function Ej(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Mb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(s.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function Qj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function Uj(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:n=""}=typeof e=="string"?ml(e):e;return{pathname:r?r.startsWith("/")?r:Lj(r,t):t,search:Dj(s),hash:Tj(n)}}function Lj(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function yg(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ij(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ex(e,t){let r=Ij(e);return t?r.map((s,n)=>n===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Qx(e,t,r,s){s===void 0&&(s=!1);let n;typeof e=="string"?n=ml(e):(n=sd({},e),Xt(!n.pathname||!n.pathname.includes("?"),yg("?","pathname","search",n)),Xt(!n.pathname||!n.pathname.includes("#"),yg("#","pathname","hash",n)),Xt(!n.search||!n.search.includes("#"),yg("#","search","hash",n)));let A=e===""||n.pathname==="",i=A?"/":n.pathname,o;if(i==null)o=r;else{let f=t.length-1;if(!s&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;n.pathname=p.join("/")}o=f>=0?t[f]:"/"}let l=Uj(n,o),c=i&&i!=="/"&&i.endsWith("/"),u=(A||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const QA=e=>e.join("/").replace(/\/\/+/g,"/"),Pj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Tj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Kb=["post","put","patch","delete"];new Set(Kb);const Hj=["get",...Kb];new Set(Hj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},nd.apply(this,arguments)}const Ph=T.createContext(null),qb=T.createContext(null),Kn=T.createContext(null),Dh=T.createContext(null),zA=T.createContext({outlet:null,matches:[],isDataRoute:!1}),zb=T.createContext(null);function Mj(e,t){let{relative:r}=t===void 0?{}:t;pl()||Xt(!1);let{basename:s,navigator:n}=T.useContext(Kn),{hash:A,pathname:i,search:o}=Th(e,{relative:r}),l=i;return s!=="/"&&(l=i==="/"?s:QA([s,i])),n.createHref({pathname:l,search:o,hash:A})}function pl(){return T.useContext(Dh)!=null}function xl(){return pl()||Xt(!1),T.useContext(Dh).location}function Vb(e){T.useContext(Kn).static||T.useLayoutEffect(e)}function un(){let{isDataRoute:e}=T.useContext(zA);return e?Zj():Oj()}function Oj(){pl()||Xt(!1);let e=T.useContext(Ph),{basename:t,future:r,navigator:s}=T.useContext(Kn),{matches:n}=T.useContext(zA),{pathname:A}=xl(),i=JSON.stringify(Ex(n,r.v7_relativeSplatPath)),o=T.useRef(!1);return Vb(()=>{o.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){s.go(c);return}let f=Qx(c,JSON.parse(i),A,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:QA([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,i,A,e])}function Th(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=T.useContext(Kn),{matches:n}=T.useContext(zA),{pathname:A}=xl(),i=JSON.stringify(Ex(n,s.v7_relativeSplatPath));return T.useMemo(()=>Qx(e,JSON.parse(i),A,r==="path"),[e,i,A,r])}function _j(e,t){return Kj(e,t)}function Kj(e,t,r,s){pl()||Xt(!1);let{navigator:n}=T.useContext(Kn),{matches:A}=T.useContext(zA),i=A[A.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=xl(),u;if(t){var f;let N=typeof t=="string"?ml(t):t;l==="/"||(f=N.pathname)!=null&&f.startsWith(l)||Xt(!1),u=N}else u=c;let p=u.pathname||"/",h=p;if(l!=="/"){let N=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(N.length).join("/")}let B=xj(e,{pathname:h}),x=Wj(B&&B.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:QA([l,n.encodeLocation?n.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?l:QA([l,n.encodeLocation?n.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),A,r,s);return t&&x?T.createElement(Dh.Provider,{value:{location:nd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xA.Pop}},x):x}function qj(){let e=Yj(),t=Rj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},A=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:n},r):null,A)}const zj=T.createElement(qj,null);class Vj extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?T.createElement(zA.Provider,{value:this.props.routeContext},T.createElement(zb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gj(e){let{routeContext:t,match:r,children:s}=e,n=T.useContext(Ph);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(zA.Provider,{value:t},s)}function Wj(e,t,r,s){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var A;if(!r)return null;if(r.errors)e=r.matches;else if((A=s)!=null&&A.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(n=r)==null?void 0:n.errors;if(o!=null){let u=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Xt(!1),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:h}=r,B=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||B){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,f,p)=>{let h,B=!1,x=null,N=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||zj,l&&(c<0&&p===0?(eC("route-fallback",!1),B=!0,N=null):c===p&&(B=!0,N=f.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,p+1)),y=()=>{let v;return h?v=x:B?v=N:f.route.Component?v=T.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=u,T.createElement(Gj,{match:f,routeContext:{outlet:u,matches:m,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(Vj,{location:r.location,revalidation:r.revalidation,component:x,error:h,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var Gb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gb||{}),Z0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Z0||{});function Jj(e){let t=T.useContext(Ph);return t||Xt(!1),t}function $j(e){let t=T.useContext(qb);return t||Xt(!1),t}function Xj(e){let t=T.useContext(zA);return t||Xt(!1),t}function Wb(e){let t=Xj(),r=t.matches[t.matches.length-1];return r.route.id||Xt(!1),r.route.id}function Yj(){var e;let t=T.useContext(zb),r=$j(Z0.UseRouteError),s=Wb(Z0.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Zj(){let{router:e}=Jj(Gb.UseNavigateStable),t=Wb(Z0.UseNavigateStable),r=T.useRef(!1);return Vb(()=>{r.current=!0}),T.useCallback(function(n,A){A===void 0&&(A={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,nd({fromRouteId:t},A)))},[e,t])}const T1={};function eC(e,t,r){!t&&!T1[e]&&(T1[e]=!0)}function tC(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function wg(e){let{to:t,replace:r,state:s,relative:n}=e;pl()||Xt(!1);let{future:A,static:i}=T.useContext(Kn),{matches:o}=T.useContext(zA),{pathname:l}=xl(),c=un(),u=Qx(t,Ex(o,A.v7_relativeSplatPath),l,n==="path"),f=JSON.stringify(u);return T.useEffect(()=>c(JSON.parse(f),{replace:r,state:s,relative:n}),[c,f,n,r,s]),null}function Ct(e){Xt(!1)}function rC(e){let{basename:t="/",children:r=null,location:s,navigationType:n=xA.Pop,navigator:A,static:i=!1,future:o}=e;pl()&&Xt(!1);let l=t.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:A,static:i,future:nd({v7_relativeSplatPath:!1},o)}),[l,o,A,i]);typeof s=="string"&&(s=ml(s));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:B="default"}=s,x=T.useMemo(()=>{let N=dl(u,l);return N==null?null:{location:{pathname:N,search:f,hash:p,state:h,key:B},navigationType:n}},[l,u,f,p,h,B,n]);return x==null?null:T.createElement(Kn.Provider,{value:c},T.createElement(Dh.Provider,{children:r,value:x}))}function aC(e){let{children:t,location:r}=e;return _j(Gm(t),r)}new Promise(()=>{});function Gm(e,t){t===void 0&&(t=[]);let r=[];return T.Children.forEach(e,(s,n)=>{if(!T.isValidElement(s))return;let A=[...t,n];if(s.type===T.Fragment){r.push.apply(r,Gm(s.props.children,A));return}s.type!==Ct&&Xt(!1),!s.props.index||!s.props.children||Xt(!1);let i={id:s.props.id||A.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Gm(s.props.children,A)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},eh.apply(this,arguments)}function Jb(e,t){if(e==null)return{};var r={},s=Object.keys(e),n,A;for(A=0;A<s.length;A++)n=s[A],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function sC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nC(e,t){return e.button===0&&(!t||t==="_self")&&!sC(e)}const AC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],oC="6";try{window.__reactRouterVersion=oC}catch{}const lC=T.createContext({isTransitioning:!1}),cC="startTransition",R1=a4[cC];function dC(e){let{basename:t,children:r,future:s,window:n}=e,A=T.useRef();A.current==null&&(A.current=gj({window:n,v5Compat:!0}));let i=A.current,[o,l]=T.useState({action:i.action,location:i.location}),{v7_startTransition:c}=s||{},u=T.useCallback(f=>{c&&R1?R1(()=>l(f)):l(f)},[l,c]);return T.useLayoutEffect(()=>i.listen(u),[i,u]),T.useEffect(()=>tC(s),[s]),T.createElement(rC,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:s})}const uC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fC=T.forwardRef(function(t,r){let{onClick:s,relative:n,reloadDocument:A,replace:i,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,p=Jb(t,AC),{basename:h}=T.useContext(Kn),B,x=!1;if(typeof c=="string"&&hC.test(c)&&(B=c,uC))try{let v=new URL(window.location.href),E=c.startsWith("//")?new URL(v.protocol+c):new URL(c),U=dl(E.pathname,h);E.origin===v.origin&&U!=null?c=U+E.search+E.hash:x=!0}catch{}let N=Mj(c,{relative:n}),m=mC(c,{replace:i,state:o,target:l,preventScrollReset:u,relative:n,viewTransition:f});function y(v){s&&s(v),v.defaultPrevented||m(v)}return T.createElement("a",eh({},p,{href:B||N,onClick:x||A?s:y,ref:r,target:l}))}),H1=T.forwardRef(function(t,r){let{"aria-current":s="page",caseSensitive:n=!1,className:A="",end:i=!1,style:o,to:l,viewTransition:c,children:u}=t,f=Jb(t,iC),p=Th(l,{relative:f.relative}),h=xl(),B=T.useContext(qb),{navigator:x,basename:N}=T.useContext(Kn),m=B!=null&&pC(p)&&c===!0,y=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,v=h.pathname,E=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;n||(v=v.toLowerCase(),E=E?E.toLowerCase():null,y=y.toLowerCase()),E&&N&&(E=dl(E,N)||E);const U=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let V=v===y||!i&&v.startsWith(y)&&v.charAt(U)==="/",S=E!=null&&(E===y||!i&&E.startsWith(y)&&E.charAt(y.length)==="/"),C={isActive:V,isPending:S,isTransitioning:m},_=V?s:void 0,H;typeof A=="function"?H=A(C):H=[A,V?"active":null,S?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(C):o;return T.createElement(fC,eh({},f,{"aria-current":_,className:H,ref:r,style:F,to:l,viewTransition:c}),typeof u=="function"?u(C):u)});var Wm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wm||(Wm={}));var M1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(M1||(M1={}));function gC(e){let t=T.useContext(Ph);return t||Xt(!1),t}function mC(e,t){let{target:r,replace:s,state:n,preventScrollReset:A,relative:i,viewTransition:o}=t===void 0?{}:t,l=un(),c=xl(),u=Th(e,{relative:i});return T.useCallback(f=>{if(nC(f,r)){f.preventDefault();let p=s!==void 0?s:X0(c)===X0(u);l(e,{replace:p,state:n,preventScrollReset:A,relative:i,viewTransition:o})}},[c,l,u,s,n,r,e,A,i,o])}function pC(e,t){t===void 0&&(t={});let r=T.useContext(lC);r==null&&Xt(!1);let{basename:s}=gC(Wm.useViewTransitionState),n=Th(e,{relative:t.relative});if(!r.isTransitioning)return!1;let A=dl(r.currentLocation.pathname,s)||r.currentLocation.pathname,i=dl(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Y0(n.pathname,i)!=null||Y0(n.pathname,A)!=null}var xC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Te=(e,t)=>{const r=T.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:A=2,absoluteStrokeWidth:i,children:o,...l},c)=>T.createElement("svg",{ref:c,...xC,width:n,height:n,stroke:s,strokeWidth:i?Number(A)*24/Number(n):A,className:`lucide lucide-${yC(e)}`,...l},[...t.map(([u,f])=>T.createElement(u,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r},Es=Te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),an=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Kr=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["line",{x1:"12",x2:"12",y1:"9",y2:"13",key:"1gkch0"}],["line",{x1:"12",x2:"12.01",y1:"17",y2:"17",key:"io3f8k"}]]),wC=Te("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),Ui=Te("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]),th=Te("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),vC=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Is=Te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),bC=Te("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),$b=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),UA=Te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),on=Te("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Pr=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Xb=Te("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),BC=Te("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),NC=Te("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),O1=Te("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Qs=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Yb=Te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),rh=Te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Li=Te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ls=Te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),VA=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),qn=Te("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]]),cs=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),kC=Te("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Aa=Te("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),yl=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),jC=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),CC=Te("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Zb=Te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),SC=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),FC=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ux=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ii=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),EC=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),QC=Te("Minus",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),_1=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),UC=Te("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),ln=Te("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),LC=Te("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Lx=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),IC=Te("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),PC=Te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),wr=Te("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),Bi=Te("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),DC=Te("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]),GA=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ia=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),vr=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),TC=Te("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]]),LA=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),e5=Te("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),t5=Te("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),RC=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Ad=Te("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),K1=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),HC=Te("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),MC=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),zn=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),OC=Te("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),RA=Te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Mn=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),r5=Te("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),q1=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),_C=Te("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]),KC=Te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),fa=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ah=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),z1=Te("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),a5=Te("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Pi=Te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]),wt=Te("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]]),ii="http://localhost:5001/api",oi=()=>({Authorization:`Bearer ${localStorage.getItem("sil_lab_token")}`,"Content-Type":"application/json"}),cn={async getAllQCResults(e={}){const t=new URLSearchParams;Object.entries(e).forEach(([s,n])=>{n!==void 0&&n!==""&&t.append(s,n.toString())});const r=await fetch(`${ii}/automates/qc-results/all?${t}`,{headers:oi()});if(!r.ok)throw new Error("Failed to fetch QC results");return r.json()},async getAutomateQCResults(e,t={}){const r=new URLSearchParams;Object.entries(t).forEach(([n,A])=>{A!==void 0&&A!==""&&r.append(n,A.toString())});const s=await fetch(`${ii}/automates/${e}/qc-results?${r}`,{headers:oi()});if(!s.ok)throw new Error("Failed to fetch automate QC results");return s.json()},async getQCStats(e,t=30){const r=await fetch(`${ii}/automates/${e}/qc-stats?days=${t}`,{headers:oi()});if(!r.ok)throw new Error("Failed to fetch QC statistics");return r.json()},async createQCResult(e,t){const r=await fetch(`${ii}/automates/${e}/qc-results`,{method:"POST",headers:oi(),body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to create QC result");return r.json()},async updateQCResult(e,t){const r=await fetch(`${ii}/automates/qc-results/${e}`,{method:"PUT",headers:oi(),body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to update QC result");return r.json()},async deleteQCResult(e){const t=await fetch(`${ii}/automates/qc-results/${e}`,{method:"DELETE",headers:oi()});if(!t.ok)throw new Error("Failed to delete QC result");return t.json()},async getAutomates(){const e=await fetch(`${ii}/automates`,{headers:oi()});if(!e.ok)throw new Error("Failed to fetch automates");return e.json()}};function qC(){const{language:e}=dt(),[t,r]=T.useState([]),[s,n]=T.useState(!1),[A,i]=T.useState(!1),o={fr:{qcAlerts:"Alertes CQ",noAlerts:"Aucune alerte",warning:"Avertissement",fail:"Échec",deviation:"Déviation",viewAll:"Voir toutes les alertes",newAlert:"Nouvelle alerte CQ"},en:{qcAlerts:"QC Alerts",noAlerts:"No alerts",warning:"Warning",fail:"Fail",deviation:"Deviation",viewAll:"View all alerts",newAlert:"New QC alert"}}[e];T.useEffect(()=>{l();const p=setInterval(l,6e4);return()=>clearInterval(p)},[]);const l=async()=>{try{i(!0);const h=(await cn.getAllQCResults({limit:20})).qcResults.filter(B=>{const x=new Date(B.timestamp).getTime(),N=Date.now()-24*60*60*1e3;return(B.status==="warning"||B.status==="fail")&&x>N}).map(B=>({id:B.id,automateId:B.automateId,automateName:B.automate.name,testName:B.testName,status:B.status,deviation:B.deviation,timestamp:B.timestamp}));r(h)}catch(p){console.error("Error loading QC notifications:",p)}finally{i(!1)}},c=p=>{switch(p){case"fail":return a.jsx(Pi,{className:"h-4 w-4 text-red-500"});case"warning":return a.jsx(Kr,{className:"h-4 w-4 text-yellow-500"});default:return null}},u=p=>{switch(p){case"fail":return"text-red-600";case"warning":return"text-yellow-600";default:return"text-gray-600"}},f=t.length;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>n(!s),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg",children:[a.jsx($b,{size:20}),f>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:f>9?"9+":f})]}),s&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:o.qcAlerts})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:A?a.jsx("div",{className:"p-4 text-center",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):t.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:o.noAlerts}):a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.slice(0,5).map(p=>a.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[c(p.status),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:p.automateName}),a.jsx("span",{className:`text-xs font-medium ${u(p.status)}`,children:p.status==="fail"?o.fail:o.warning})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:p.testName}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[o.deviation,": ",p.deviation>0?"+":"",p.deviation.toFixed(1),"%"]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(p.timestamp).toLocaleTimeString()})]})]})]})},p.id))})}),t.length>0&&a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx("button",{onClick:()=>{n(!1),window.location.href="/quality-control"},className:"w-full text-center text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:o.viewAll})})]}),s&&a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)})]})}function zC({onMenuClick:e}){const{user:t,logout:r,theme:s,toggleTheme:n,language:A,setLanguage:i}=dt();return a.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 h-16 flex items-center justify-between px-3 sm:px-4 lg:px-6",children:[a.jsxs("div",{className:"flex items-center min-w-0",children:[a.jsx("button",{onClick:e,className:"mr-2 p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 lg:hidden transition-colors","aria-label":"Toggle menu",children:a.jsx(EC,{size:24})}),a.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 dark:text-white truncate",children:"SIL Laboratory System"})]}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-4",children:[a.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors sm:hidden","aria-label":s==="light"?"Switch to dark mode":"Switch to light mode",children:s==="light"?a.jsx(_1,{size:18,className:"text-gray-600 dark:text-gray-300"}):a.jsx(K1,{size:18,className:"text-gray-600 dark:text-gray-300"})}),a.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[a.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":s==="light"?"Switch to dark mode":"Switch to light mode",children:s==="light"?a.jsx(_1,{size:20,className:"text-gray-600 dark:text-gray-300"}):a.jsx(K1,{size:20,className:"text-gray-600 dark:text-gray-300"})}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(jC,{size:18,className:"text-gray-600 dark:text-gray-300"}),a.jsxs("select",{value:A,onChange:o=>i(o.target.value),className:"bg-transparent text-sm text-gray-700 dark:text-gray-300 focus:outline-none",children:[a.jsx("option",{value:"fr",children:"FR"}),a.jsx("option",{value:"en",children:"EN"})]})]})]}),((t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="BIOLOGIST"||(t==null?void 0:t.role)==="TECHNICIAN")&&a.jsx(qC,{}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 lg:space-x-3",children:[a.jsx("span",{className:"hidden sm:inline text-sm text-gray-700 dark:text-gray-300 truncate max-w-[100px] lg:max-w-[120px]",children:t==null?void 0:t.name}),a.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Logout",children:a.jsx(FC,{size:18,className:"sm:w-5 sm:h-5 text-gray-600 dark:text-gray-300"})})]})]})]})}function VC({onClose:e}){const{user:t,language:r}=dt(),[s,n]=T.useState(null),A={fr:{dashboard:"Tableau de bord",patients:"Patients",doctors:"Médecins",analyses:"Analyses",requests:"Demandes",newRequest:"Nouvelle Demande",results:"Résultats",validation:"Validation",billing:"Facturation",config:"Configuration",logout:"Déconnexion",stockManagement:"Gestion des Stocks",stockDashboard:"Tableau de bord",addStock:"Ajouter Stock",createProduct:"Créer un nouveau produit",useStock:"Utiliser Stock",transferStock:"Transférer Stock",adjustInventory:"Ajuster Inventaire",suppliers:"Fournisseurs",orders:"Commandes",reports:"Rapports",priceManagement:"Gestion des Prix",userManagement:"Gestion des Utilisateurs",systemSettings:"Paramètres Système",moduleStore:"Store de Modules",auditTrail:"Journal d'Audit",backupRestore:"Sauvegarde & Restauration",automates:"Intégration Automates",qualityControl:"Contrôle Qualité"},en:{dashboard:"Dashboard",patients:"Patients",doctors:"Doctors",analyses:"Analyses",requests:"Requests",newRequest:"New Request",results:"Results",validation:"Validation",billing:"Billing",config:"Configuration",logout:"Logout",stockManagement:"Stock Management",stockDashboard:"Stock Dashboard",addStock:"Add Stock",createProduct:"Create New Product",useStock:"Use Stock",transferStock:"Transfer Stock",adjustInventory:"Adjust Inventory",suppliers:"Suppliers",orders:"Orders",reports:"Reports",priceManagement:"Price Management",userManagement:"User Management",systemSettings:"System Settings",moduleStore:"Module Store",auditTrail:"Audit Trail",backupRestore:"Backup & Restore",automates:"Automate Integration",qualityControl:"Quality Control"}}[r],o=[{id:"dashboard",label:A.dashboard,icon:a.jsx(SC,{size:20}),path:"/dashboard",roles:["ADMIN","BIOLOGIST","TECHNICIAN","SECRETARY"]},{id:"patients",label:A.patients,icon:a.jsx(ah,{size:20}),path:"/patients",roles:["ADMIN","SECRETARY"]},{id:"doctors",label:A.doctors,icon:a.jsx(KC,{size:20}),path:"/doctors",roles:["ADMIN","SECRETARY"]},{id:"analyses",label:A.analyses,icon:a.jsx(Aa,{size:20}),path:"/analyses",roles:["ADMIN","BIOLOGIST"]},{id:"requests",label:A.requests,icon:a.jsx(O1,{size:20}),path:"/requests",roles:["ADMIN","SECRETARY","BIOLOGIST"],subItems:[{id:"requests-list",label:A.requests,icon:a.jsx(O1,{size:16}),path:"/requests",roles:["ADMIN","SECRETARY","BIOLOGIST"]},{id:"new-request",label:A.newRequest,icon:a.jsx(wr,{size:16}),path:"/new-request",roles:["ADMIN","SECRETARY","BIOLOGIST"]}]},{id:"results",label:A.results,icon:a.jsx(Is,{size:20}),path:"/results",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"validation",label:A.validation,icon:a.jsx(Pr,{size:20}),path:"/validation",roles:["ADMIN","BIOLOGIST"]},{id:"stock",label:A.stockManagement,icon:a.jsx(ln,{size:20}),path:"/stock",roles:["ADMIN","TECHNICIAN"],subItems:[{id:"stock-dashboard",label:A.stockDashboard,icon:a.jsx(Is,{size:16}),path:"/stock/dashboard",roles:["ADMIN","TECHNICIAN"]},{id:"add-stock",label:A.addStock,icon:a.jsx(wr,{size:16}),path:"/stock/add",roles:["ADMIN","TECHNICIAN"]},{id:"create-product",label:A.createProduct,icon:a.jsx(UC,{size:16}),path:"/stock/create-product",roles:["ADMIN","TECHNICIAN"]},{id:"use-stock",label:A.useStock,icon:a.jsx(QC,{size:16}),path:"/stock/use",roles:["ADMIN","TECHNICIAN"]},{id:"transfer-stock",label:A.transferStock,icon:a.jsx(wC,{size:16}),path:"/stock/transfer",roles:["ADMIN","TECHNICIAN"]},{id:"adjust-inventory",label:A.adjustInventory,icon:a.jsx(LA,{size:16}),path:"/stock/adjust",roles:["ADMIN","TECHNICIAN"]},{id:"suppliers",label:A.suppliers,icon:a.jsx(r5,{size:16}),path:"/stock/suppliers",roles:["ADMIN","TECHNICIAN"]},{id:"orders",label:A.orders,icon:a.jsx(t5,{size:16}),path:"/stock/orders",roles:["ADMIN","TECHNICIAN"]},{id:"reports",label:A.reports,icon:a.jsx(kC,{size:16}),path:"/stock/reports",roles:["ADMIN","TECHNICIAN"]}]},{id:"billing",label:A.billing,icon:a.jsx(ls,{size:20}),path:"/billing",roles:["ADMIN","SECRETARY"]},{id:"automates",label:A.automates,icon:a.jsx(Li,{size:20}),path:"/automates",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"quality-control",label:A.qualityControl,icon:a.jsx(e5,{size:20}),path:"/quality-control",roles:["ADMIN","BIOLOGIST","TECHNICIAN"]},{id:"config",label:A.config,icon:a.jsx(LA,{size:20}),path:"/config",roles:["ADMIN"],subItems:[{id:"price-management",label:A.priceManagement,icon:a.jsx(ls,{size:16}),path:"/config/prices",roles:["ADMIN"]},{id:"user-management",label:A.userManagement,icon:a.jsx(ah,{size:16}),path:"/config/users",roles:["ADMIN"]},{id:"system-settings",label:A.systemSettings,icon:a.jsx(LA,{size:16}),path:"/config/system",roles:["ADMIN"]},{id:"moduleStore",label:A.moduleStore,icon:a.jsx(ln,{size:20}),path:"/config/modules",roles:["ADMIN"]},{id:"auditTrail",label:A.auditTrail,icon:a.jsx(Aa,{size:20}),path:"/config/audit",roles:["ADMIN"]},{id:"backupRestore",label:A.backupRestore,icon:a.jsx(Is,{size:20}),path:"/config/backup",roles:["ADMIN"]}]}].filter(c=>c.roles.includes((t==null?void 0:t.role)||"")),l=()=>{e&&e()};return a.jsxs("nav",{className:"fixed lg:static top-0 left-0 h-full w-64 max-w-full bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col z-30 transition-transform lg:translate-x-0 overflow-y-auto shadow-lg lg:shadow-none",children:[a.jsxs("div",{className:"flex lg:hidden items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Menu"}),a.jsx("button",{onClick:e,className:"p-2 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close menu",children:a.jsx(wt,{size:24})})]}),a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 hidden lg:block",children:a.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"SIL Lab System"})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:o.map(c=>a.jsx("div",{children:c.subItems?a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"w-full flex items-center justify-between px-3 sm:px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",onClick:()=>n(s===c.id?null:c.id),children:[a.jsxs("span",{className:"flex items-center min-w-0",children:[c.icon,a.jsx("span",{className:"ml-2 sm:ml-3 text-sm font-medium truncate",children:c.label})]}),s===c.id?a.jsx(BC,{size:18}):a.jsx(NC,{size:18})]}),s===c.id&&a.jsx("div",{className:"ml-4 sm:ml-6 mt-1 space-y-1",children:c.subItems.filter(u=>u.roles.includes((t==null?void 0:t.role)||"")).map(u=>a.jsxs(H1,{to:u.path,className:({isActive:f})=>`flex items-center px-2 sm:px-3 py-2 text-sm rounded-lg transition-colors ${f?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"}`,onClick:l,children:[u.icon,a.jsx("span",{className:"ml-2 truncate",children:u.label})]},u.id))})]}):a.jsxs(H1,{to:c.path,className:({isActive:u})=>`flex items-center px-3 sm:px-4 py-2 text-sm rounded-lg transition-colors ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-100":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:l,children:[c.icon,a.jsx("span",{className:"ml-2 sm:ml-3 font-medium truncate",children:c.label})]})},c.id))}),a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 mt-auto",children:a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 text-center",children:"v1.0.0"})})]})}function GC(){const[e,t]=T.useState(""),[r,s]=T.useState(""),[n,A]=T.useState(""),{login:i}=dt(),o=async l=>{l.preventDefault(),A(""),await i(e,r)||A("Invalid credentials")};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:a.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8 p-6 sm:p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4",children:"🧪"}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"SIL Laboratory"}),a.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Sign in to your account"})]}),a.jsxs("form",{className:"mt-6 sm:mt-8 space-y-4 sm:space-y-6",onSubmit:o,children:[a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:l=>t(l.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-sm sm:text-base",placeholder:"admin@lab.fr"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:l=>s(l.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 text-sm sm:text-base",placeholder:"admin"})]})]}),n&&a.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:n}),a.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800 transition-colors",children:"Sign in"})]}),a.jsxs("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:[a.jsx("div",{className:"hidden sm:block",children:"Demo credentials: admin@sil-lab.com / admin123 | secretary@sil-lab.com / sec123"}),a.jsx("div",{className:"sm:hidden",children:"Demo: admin@sil-lab.com / admin123"})]})]})})}const WC="http://localhost:5001/api";let V1=localStorage.getItem("sil_lab_token");const qe=async(e,t={},r=2)=>{const s=`${WC}${e}`,n={"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",...t.headers||{}};V1&&(n.Authorization=`Bearer ${V1}`),console.log("API Request:",s,n);try{const A=await fetch(s,{...t,headers:n,cache:"no-store"});if(A.status===304&&r>0){const o=s.includes("?")?`${s}&_=${Date.now()}`:`${s}?_=${Date.now()}`,l=await fetch(o,{...t,headers:n,cache:"no-store"});if(!l.ok){const u=await l.json().catch(()=>({}));throw new Error(u.error||`HTTP error! status: ${l.status}`)}const c=await l.json();return console.log("API Response (retry):",e,c),c}if(!A.ok){const o=await A.json().catch(()=>({}));if(A.status===429&&r>0){const l=Math.pow(2,3-r)*1e3;return await new Promise(c=>setTimeout(c,l)),qe(e,t,r-1)}throw new Error(o.error||`HTTP error! status: ${A.status}`)}const i=await A.json();return console.log("API Response:",e,i),i}catch(A){throw console.error("API request failed:",A),A}},jo={getPatients:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/patients?${t}`)},getPatient:async e=>(await qe(`/patients/${e}`)).patient,createPatient:async e=>(await qe("/patients",{method:"POST",body:JSON.stringify(e)})).patient,updatePatient:async(e,t)=>(await qe(`/patients/${e}`,{method:"PUT",body:JSON.stringify(t)})).patient,deletePatient:async e=>{await qe(`/patients/${e}`,{method:"DELETE"})},getPatientStats:async()=>await qe("/patients/stats/overview")},JC={getDoctors:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/doctors?${t}`)},getDoctor:async e=>(await qe(`/doctors/${e}`)).doctor,createDoctor:async e=>(await qe("/doctors",{method:"POST",body:JSON.stringify(e)})).doctor,updateDoctor:async(e,t)=>(await qe(`/doctors/${e}`,{method:"PUT",body:JSON.stringify(t)})).doctor,deleteDoctor:async e=>{await qe(`/doctors/${e}`,{method:"DELETE"})},searchDoctors:async e=>(await qe(`/doctors/search/autocomplete?q=${encodeURIComponent(e)}`)).doctors,getDoctorStats:async()=>await qe("/doctors/stats/overview")},Jm={getAnalyses:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/analyses?${t}`)},getAnalysis:async e=>(await qe(`/analyses/${e}`)).analysis,createAnalysis:async e=>(await qe("/analyses",{method:"POST",body:JSON.stringify(e)})).analysis,updateAnalysis:async(e,t)=>(await qe(`/analyses/${e}`,{method:"PUT",body:JSON.stringify(t)})).analysis,deleteAnalysis:async e=>{await qe(`/analyses/${e}`,{method:"DELETE"})},getCategories:async()=>(await qe("/analyses/categories/list")).categories,searchAnalyses:async e=>(await qe(`/analyses/search/autocomplete?q=${encodeURIComponent(e)}`)).analyses,bulkUpdatePrices:async e=>await qe("/analyses/prices/bulk",{method:"PUT",body:JSON.stringify({updates:e})}),getAnalysisStats:async()=>await qe("/analyses/stats/overview")},Di={getRequests:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/requests?${t}`)},getRequest:async e=>(await qe(`/requests/${e}?_=${Date.now()}`)).request,createRequest:async e=>(await qe("/requests",{method:"POST",body:JSON.stringify(e)})).request,updateRequest:async(e,t)=>(await qe(`/requests/${e}`,{method:"PUT",body:JSON.stringify(t)})).request,updateRequestStatus:async(e,t)=>(await qe(`/requests/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})})).request,deleteRequest:async e=>{await qe(`/requests/${e}`,{method:"DELETE"})},getRequestStats:async(e="month")=>await qe(`/requests/stats/overview?period=${e}`),markAsDelivered:async(e,t)=>(await qe(`/requests/${e}/deliver`,{method:"PATCH",body:JSON.stringify({deliveredBy:t})})).request},Ic={getResults:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/results?${t}`)},getResult:async e=>(await qe(`/results/${e}`)).result,createResult:async e=>(await qe("/results",{method:"POST",body:JSON.stringify(e)})).result,updateResult:async(e,t)=>(await qe(`/results/${e}`,{method:"PUT",body:JSON.stringify(t)})).result,validateResult:async(e,t)=>(await qe(`/results/${e}/validate`,{method:"PATCH",body:JSON.stringify({validatedBy:t})})).result,getResultsByRequest:async e=>(await qe(`/results/request/${e}`)).results,getResultStats:async()=>await qe("/results/stats/overview")},$C={saveRequest:async e=>{try{return{success:!0,data:await Di.createRequest(e)}}catch(t){return console.error("Save request error:",t),{success:!1,error:t.message}}},getRequests:async()=>{try{return{success:!0,data:(await Di.getRequests()).requests}}catch(e){return console.error("Get requests error:",e),{success:!1,error:e.message}}}},Xo={getPrices:async()=>{try{return(await Jm.getAnalyses()).analyses.map(t=>({code:t.code,nom:t.nom,category:t.category,price:t.price,tva:t.tva,cost:t.cost}))}catch(e){return console.error("Get prices error:",e),[]}},savePrices:async e=>{try{const t=e.map(s=>({id:s.id,price:s.price,tva:s.tva}));return(await Jm.bulkUpdatePrices(t)).results.every(s=>s.success)}catch(t){return console.error("Save prices error:",t),!1}},calculateRequestTotal:(e,t=0,r=0)=>{let s=0,n=0;e.forEach(c=>{const u=c.price||0,f=c.tva||20,p=u*(f/100);s+=u,n+=p});const A=s+n,i=A*(t/100),o=A-i,l=o-r;return{subtotal:s,tvaTotal:n,totalBeforeDiscount:A,discount:t,discountAmount:i,totalAfterDiscount:o,advancePayment:r,amountDue:l}}},G1={printLabels:e=>{var n,A,i,o,l,c;const t=window.open("","_blank");if(!t)return;const r=`SIL${Date.now()}`,s=`
      <html>
        <head>
          <title>Sample Labels</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .label { border: 2px solid #000; padding: 10px; margin: 10px 0; width: 300px; }
            .barcode { font-family: monospace; font-size: 12px; }
            .urgent { background-color: #ffebee; border-color: #f44336; }
          </style>
        </head>
        <body>
          <div class="label ${e.urgent?"urgent":""}">
            <h3>SIL Laboratory</h3>
            <p><strong>Patient:</strong> ${(n=e.patient)==null?void 0:n.prenom} ${(A=e.patient)==null?void 0:A.nom}</p>
            <p><strong>CNSS:</strong> ${(i=e.patient)==null?void 0:i.numeroCNSS}</p>
            <p><strong>Date:</strong> ${(o=e.appointment)==null?void 0:o.date} ${(l=e.appointment)==null?void 0:l.time}</p>
            <p><strong>Analyses:</strong></p>
            <ul>
              ${((c=e.analyses)==null?void 0:c.map(u=>`<li>${u.nom}</li>`).join(""))||""}
            </ul>
            <p class="barcode">${r}</p>
            ${e.urgent?'<p style="color: red; font-weight: bold;">URGENT</p>':""}
          </div>
        </body>
      </html>
    `;t.document.write(s),t.document.close(),t.print()},printReceipt:(e,t)=>{var n,A,i;const r=window.open("","_blank");if(!r)return;const s=`
      <html>
        <head>
          <title>Payment Receipt</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .receipt { border: 1px solid #ccc; padding: 20px; width: 400px; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; }
            .item { display: flex; justify-content: space-between; margin: 5px 0; }
            .total { border-top: 1px solid #000; padding-top: 10px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h2>SIL Laboratory</h2>
              <p>123 Medical Center, City, Country</p>
              <p>Phone: +1234567890 | Email: info@sil.lab</p>
            </div>
            
            <h3>Payment Receipt</h3>
            <p><strong>Patient:</strong> ${(n=e.patient)==null?void 0:n.prenom} ${(A=e.patient)==null?void 0:A.nom}</p>
            <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
            <p><strong>Request ID:</strong> ${e.id}</p>
            
            <h4>Analyses:</h4>
            ${((i=e.analyses)==null?void 0:i.map(o=>`
              <div class="item">
                <span>${o.nom}</span>
                <span>${o.price} €</span>
              </div>
            `).join(""))||""}
            
            <div class="total">
              <div class="item">
                <span>Subtotal:</span>
                <span>${t.subtotal} €</span>
              </div>
              <div class="item">
                <span>TVA:</span>
                <span>${t.tvaTotal} €</span>
              </div>
              ${t.discount>0?`
                <div class="item">
                  <span>Discount (${t.discount}%):</span>
                  <span>-${t.discountAmount} €</span>
                </div>
              `:""}
              ${t.advancePayment>0?`
                <div class="item">
                  <span>Advance Payment:</span>
                  <span>-${t.advancePayment} €</span>
                </div>
              `:""}
              <div class="item">
                <span><strong>Amount Due:</strong></span>
                <span><strong>${t.amountDue} €</strong></span>
              </div>
            </div>
            
            <p style="margin-top: 20px; text-align: center;">
              Thank you for choosing SIL Laboratory
            </p>
          </div>
        </body>
      </html>
    `;r.document.write(s),r.document.close(),r.print()}},Nt={getDashboard:()=>qe("/stock/dashboard"),getProducts:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/products?${t}`)},createProduct:e=>qe("/stock/products",{method:"POST",body:JSON.stringify(e)}),updateProduct:(e,t)=>qe(`/stock/products/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteProduct:e=>qe(`/stock/products/${e}`,{method:"DELETE"}),getSuppliers:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/suppliers?${t}`)},createSupplier:e=>qe("/stock/suppliers",{method:"POST",body:JSON.stringify(e)}),updateSupplier:(e,t)=>qe(`/stock/suppliers/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteSupplier:e=>qe(`/stock/suppliers/${e}`,{method:"DELETE"}),getOrders:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/orders?${t}`)},createOrder:e=>qe("/stock/orders",{method:"POST",body:JSON.stringify(e)}),updateOrder:(e,t)=>qe(`/stock/orders/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteOrder:e=>qe(`/stock/orders/${e}`,{method:"DELETE"}),addStock:e=>qe("/stock/stock-in",{method:"POST",body:JSON.stringify(e)}),useStock:e=>qe("/stock/stock-out",{method:"POST",body:JSON.stringify(e)}),transferStock:e=>qe("/stock/transfer",{method:"POST",body:JSON.stringify(e)}),adjustInventory:e=>qe("/stock/adjust",{method:"POST",body:JSON.stringify(e)}),getStockHistory:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/history?${t}`)},getStockActivities:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/activities?${t}`)},exportStockReport:(e={})=>{const t=new URLSearchParams(e).toString();return qe(`/stock/export?${t}`)}},XC=()=>{console.log("Debug function - API is now connected to PostgreSQL backend"),console.log("Use the browser network tab to see API requests")},Ra={getAutomates:async(e={})=>{const t=new URLSearchParams(e).toString();return await qe(`/automates?${t}`)},getAutomate:async e=>await qe(`/automates/${e}`),createAutomate:async e=>await qe("/automates",{method:"POST",body:JSON.stringify(e)}),updateAutomate:async(e,t)=>await qe(`/automates/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteAutomate:async e=>await qe(`/automates/${e}`,{method:"DELETE"}),addCodeMapping:async(e,t)=>await qe(`/automates/${e}/codes`,{method:"POST",body:JSON.stringify(t)}),updateCodeMapping:async(e,t,r)=>await qe(`/automates/${e}/codes/${t}`,{method:"PUT",body:JSON.stringify(r)}),deleteCodeMapping:async(e,t)=>await qe(`/automates/${e}/codes/${t}`,{method:"DELETE"}),getTransferLogs:async(e,t={})=>{const r=new URLSearchParams(t).toString();return await qe(`/automates/${e}/logs?${r}`)},updateStatus:async(e,t)=>await qe(`/automates/${e}/status`,{method:"PATCH",body:JSON.stringify(t)})};function YC(){const{language:e,user:t}=dt(),r=un(),[s,n]=T.useState({totalRequests:0,pendingRequests:0,completedRequests:0,urgentRequests:0,totalRevenue:0,averageRevenue:0,totalPatients:0,totalDoctors:0,monthlyGrowth:0,topAnalyses:[],recentRequests:[],revenueByMonth:[],statusDistribution:[],expiringProducts:[],lowStockProducts:[]}),[A,i]=T.useState(!0),[o,l]=T.useState("month"),c={fr:{title:"Tableau de Bord",subtitle:"Vue d'ensemble du laboratoire",totalRequests:"Total Demandes",pendingRequests:"Demandes en Attente",completedRequests:"Demandes Terminées",urgentRequests:"Demandes Urgentes",totalRevenue:"Revenu Total",averageRevenue:"Revenu Moyen",totalPatients:"Total Patients",totalDoctors:"Total Médecins",monthlyGrowth:"Croissance Mensuelle",topAnalyses:"Analyses les Plus Demandées",recentRequests:"Demandes Récentes",revenueByMonth:"Revenus par Mois",statusDistribution:"Répartition par Statut",efficiencyMetrics:"Métriques d'Efficacité",qualityMetrics:"Métriques de Qualité",performance:"Performance",turnaroundTime:"Temps de Traitement",accuracy:"Précision",satisfaction:"Satisfaction",hours:"heures",percentage:"%",outOf:"/5",newPatients:"Nouveaux Patients",returningPatients:"Patients Récurrents",doctorReferrals:"Références Médecins",viewAll:"Voir Tout",period:"Période",today:"Aujourd'hui",week:"Cette Semaine",month:"Ce Mois",quarter:"Ce Trimestre",year:"Cette Année",patient:"Patient",doctor:"Médecin",analyses:"Analyses",status:"Statut",date:"Date",amount:"Montant",urgent:"Urgent",normal:"Normal",pending:"En attente",completed:"Terminé",processing:"En cours",cancelled:"Annulé",noData:"Aucune donnée disponible",loading:"Chargement...",rating:"Note",averageTime:"Temps Moyen",productivity:"Productivité",topDoctors:"Médecins les Plus Actifs",revenueTrend:"Tendance des Revenus",requestTrend:"Tendance des Demandes",financialMetrics:"Métriques Financières",operationalMetrics:"Métriques Opérationnelles",expiringProducts:"Produits Expirant Bientôt",lowStockProducts:"Produits en Stock Faible",expiryDate:"expire bientôt",currentStock:"Stock actuel",minStock:"Stock min",viewStockReport:"Voir Rapport Complet"},en:{title:"Dashboard",subtitle:"Laboratory Overview",totalRequests:"Total Requests",pendingRequests:"Pending Requests",completedRequests:"Completed Requests",urgentRequests:"Urgent Requests",totalRevenue:"Total Revenue",averageRevenue:"Average Revenue",totalPatients:"Total Patients",totalDoctors:"Total Doctors",monthlyGrowth:"Monthly Growth",topAnalyses:"Top Analyses",recentRequests:"Recent Requests",revenueByMonth:"Revenue by Month",statusDistribution:"Status Distribution",efficiencyMetrics:"Efficiency Metrics",qualityMetrics:"Quality Metrics",performance:"Performance",turnaroundTime:"Turnaround Time",accuracy:"Accuracy",satisfaction:"Satisfaction",hours:"hours",percentage:"%",outOf:"/5",newPatients:"New Patients",returningPatients:"Returning Patients",doctorReferrals:"Doctor Referrals",viewAll:"View All",period:"Period",today:"Today",week:"This Week",month:"This Month",quarter:"This Quarter",year:"This Year",patient:"Patient",doctor:"Doctor",analyses:"Analyses",status:"Status",date:"Date",amount:"Amount",urgent:"Urgent",normal:"Normal",pending:"Pending",completed:"Completed",processing:"Processing",cancelled:"Cancelled",noData:"No data available",loading:"Loading...",rating:"Rating",averageTime:"Average Time",productivity:"Productivity",topDoctors:"Most Active Doctors",revenueTrend:"Revenue Trend",requestTrend:"Request Trend",financialMetrics:"Financial Metrics",operationalMetrics:"Operational Metrics",expiringProducts:"Expiring Products",lowStockProducts:"Low Stock Products",expiryDate:"expiring soon",currentStock:"Current stock",minStock:"Min stock",viewStockReport:"View Full Report"}}[e];T.useEffect(()=>{u()},[o]);const u=async()=>{i(!0);try{const B=(await Di.getRequests({_t:Date.now()})).requests||[],x=Xo.getPrices(),N=B.length,m=B.filter(he=>he.status==="PENDING"||he.status==="PROCESSING").length,y=B.filter(he=>he.status==="COMPLETED").length,v=B.filter(he=>he.priority==="URGENT").length;let E=0;const U={};B.forEach(he=>{E+=he.totalAmount||0,he.requestAnalyses&&he.requestAnalyses.forEach(Q=>{const J=Q.analysis.name;U[J]=(U[J]||0)+1})});const V=N>0?E/N:0,S=new Set(B.map(he=>{var Q;return(Q=he.patient)==null?void 0:Q.id})).size,C=new Set(B.map(he=>{var Q;return(Q=he.doctor)==null?void 0:Q.id})).size,_=new Date().getMonth(),H=new Date;H.setMonth(_-1);const F=B.filter(he=>new Date(he.createdAt).getMonth()===_).length,j=B.filter(he=>new Date(he.createdAt).getMonth()===H.getMonth()).length,P=j>0?(F-j)/j*100:0,z=Object.entries(U).map(([he,Q])=>{let J=0;return B.forEach(X=>{X.requestAnalyses&&X.requestAnalyses.forEach(ee=>{ee.analysis.name===he&&(J+=ee.price)})}),{name:he,count:Q,revenue:J}}).sort((he,Q)=>Q.count-he.count).slice(0,5),D=B.sort((he,Q)=>new Date(Q.createdAt).getTime()-new Date(he.createdAt).getTime()).slice(0,5),O=[];for(let he=5;he>=0;he--){const Q=new Date;Q.setMonth(Q.getMonth()-he);const J=Q.toLocaleDateString(e==="fr"?"fr-FR":"en-US",{month:"short"}),X=B.filter(ne=>{const ce=new Date(ne.createdAt);return ce.getMonth()===Q.getMonth()&&ce.getFullYear()===Q.getFullYear()});let ee=0;X.forEach(ne=>{ee+=ne.totalAmount||0}),O.push({month:J,revenue:ee})}const Z={};B.forEach(he=>{const Q=he.status||"pending";Z[Q]=(Z[Q]||0)+1});const K=Object.entries(Z).map(([he,Q])=>({status:he,count:Q,percentage:Q/N*100}));let te=[],se=[];try{const he=await Nt.exportStockReport();he&&Array.isArray(he)&&(te=he.filter(Q=>Q.expiringStock>0).sort((Q,J)=>J.expiringStock-Q.expiringStock).slice(0,5).map(Q=>({name:Q.name,code:Q.code,expiringStock:Q.expiringStock,currentStock:Q.currentStock,expiryDate:Q.earliestExpiryDate})),se=he.filter(Q=>Q.currentStock<=Q.minStock&&Q.currentStock>0).sort((Q,J)=>Q.currentStock/Q.minStock-J.currentStock/J.minStock).slice(0,5).map(Q=>({name:Q.name,code:Q.code,currentStock:Q.currentStock,minStock:Q.minStock})))}catch(he){console.error("Error loading stock data:",he)}n({totalRequests:N,pendingRequests:m,completedRequests:y,urgentRequests:v,totalRevenue:E,averageRevenue:V,totalPatients:S,totalDoctors:C,monthlyGrowth:P,topAnalyses:z,recentRequests:D,revenueByMonth:O,statusDistribution:K,expiringProducts:te,lowStockProducts:se})}catch(h){console.error("Error loading dashboard data:",h)}finally{i(!1)}},f=h=>{switch(h){case"completed":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"processing":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"pending":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20 dark:text-yellow-400";case"cancelled":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20 dark:text-gray-400"}},p=h=>{switch(h){case"completed":return c.completed;case"processing":return c.processing;case"pending":return c.pending;case"cancelled":return c.cancelled;default:return c.pending}};return A?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"mb-6 sm:mb-8",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:c.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:c.subtitle})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:["today","week","month","quarter","year"].map(h=>a.jsx("button",{onClick:()=>l(h),className:`px-3 sm:px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===h?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:c[h]},h))})}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:e==="fr"?"Actions Rapides":"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[a.jsxs("button",{onClick:()=>r("/new-request"),className:"flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[a.jsx(Aa,{size:16,className:"mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Nouvelle Demande":"New Request"}),a.jsx("span",{className:"sm:hidden",children:e==="fr"?"Demande":"Request"})]}),a.jsxs("button",{onClick:()=>r("/patients"),className:"flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm sm:text-base",children:[a.jsx(ah,{size:16,className:"mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Nouveau Patient":"New Patient"}),a.jsx("span",{className:"sm:hidden",children:"Patient"})]}),a.jsxs("button",{onClick:()=>r("/results"),className:"flex items-center px-3 sm:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm sm:text-base",children:[a.jsx(Is,{size:16,className:"mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:e==="fr"?"Saisir Résultats":"Enter Results"}),a.jsx("span",{className:"sm:hidden",children:e==="fr"?"Résultats":"Results"})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Aa,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 mr-2 sm:mr-3"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:c.totalRequests}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:s.totalRequests})]})]}),a.jsxs("div",{className:"mt-2 flex items-center text-xs sm:text-sm",children:[s.monthlyGrowth>0?a.jsx(Mn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 mr-1"}):a.jsx(RA,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600 mr-1"}),a.jsxs("span",{className:s.monthlyGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(s.monthlyGrowth).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ls,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 mr-2 sm:mr-3"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:c.totalRevenue}),a.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:[s.totalRevenue.toFixed(2)," dh"]})]})]}),a.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[c.averageRevenue,": ",s.averageRevenue.toFixed(2)," dh"]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ah,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600 mr-2 sm:mr-3"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:c.totalPatients}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:s.totalPatients})]})]}),a.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[c.totalDoctors,": ",s.totalDoctors]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600 mr-2 sm:mr-3"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:c.urgentRequests}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:s.urgentRequests})]})]}),a.jsxs("div",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[c.pendingRequests,": ",s.pendingRequests]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qs,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600 mr-2"}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.expiringProducts})]}),a.jsx("button",{onClick:()=>r("/stock/reports"),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:c.viewStockReport})]}),a.jsx("div",{className:"space-y-2",children:s.expiringProducts&&s.expiringProducts.length>0?s.expiringProducts.map((h,B)=>a.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:h.code})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[h.expiringStock," ",c.expiryDate]}),h.expiryDate&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(h.expiryDate).toLocaleDateString(e==="fr"?"fr-FR":"en-US")}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[c.currentStock,": ",h.currentStock]})]})]},B)):a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:c.noData})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-600 mr-2"}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.lowStockProducts})]}),a.jsx("button",{onClick:()=>r("/stock/reports"),className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:c.viewStockReport})]}),a.jsx("div",{className:"space-y-2",children:s.lowStockProducts&&s.lowStockProducts.length>0?s.lowStockProducts.map((h,B)=>a.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:h.code})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-yellow-600",children:[h.currentStock," / ",h.minStock]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[c.minStock,": ",h.minStock]})]})]},B)):a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:c.noData})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[a.jsx(Es,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.efficiencyMetrics})]}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.turnaroundTime,":"]}),a.jsxs("span",{className:"font-medium",children:["24 ",c.hours]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.accuracy,":"]}),a.jsxs("span",{className:"font-medium text-green-600",children:["99.8",c.percentage]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.satisfaction,":"]}),a.jsxs("span",{className:"font-medium",children:["4.8 ",c.outOf]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[a.jsx(MC,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 mr-2"}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.qualityMetrics})]}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.completedRequests,":"]}),a.jsx("span",{className:"font-medium text-green-600",children:s.completedRequests})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.processing,":"]}),a.jsx("span",{className:"font-medium text-blue-600",children:s.pendingRequests})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.urgentRequests,":"]}),a.jsx("span",{className:"font-medium text-orange-600",children:s.urgentRequests})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[a.jsx(vC,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.performance})]}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.newPatients,":"]}),a.jsx("span",{className:"font-medium",children:Math.floor(s.totalPatients*.3)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.returningPatients,":"]}),a.jsx("span",{className:"font-medium",children:Math.floor(s.totalPatients*.7)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[c.doctorReferrals,":"]}),a.jsx("span",{className:"font-medium",children:s.totalDoctors})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.topAnalyses}),a.jsx(Is,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),a.jsx("div",{className:"space-y-2 sm:space-y-3",children:s.topAnalyses.length>0?s.topAnalyses.map((h,B)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[a.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mr-2 sm:mr-3 flex-shrink-0",children:a.jsx("span",{className:"text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400",children:B+1})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:h.name}),a.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[h.count," ",c.analyses]})]})]}),a.jsxs("span",{className:"text-sm font-medium text-green-600 ml-2 flex-shrink-0",children:[h.revenue.toFixed(2)," dh"]})]},h.name)):a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:c.noData})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.statusDistribution}),a.jsx(IC,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),a.jsx("div",{className:"space-y-2 sm:space-y-3",children:s.statusDistribution.length>0?s.statusDistribution.map(h=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[a.jsx("div",{className:"w-3 h-3 rounded-full mr-2 sm:mr-3 bg-blue-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white truncate",children:p(h.status)})]}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-shrink-0",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.count}),a.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["(",h.percentage.toFixed(1),"%)"]})]})]},h.status)):a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:c.noData})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:c.recentRequests}),a.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:c.viewAll})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.patient}),a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:c.doctor}),a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.analyses}),a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.status}),a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:c.date}),a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.amount})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.recentRequests.length>0?s.recentRequests.map(h=>{var B,x;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white",children:a.jsx("div",{className:"truncate max-w-[120px] sm:max-w-none",children:h.patient?`${h.patient.firstName} ${h.patient.lastName}`:"N/A"})}),a.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden sm:table-cell",children:a.jsx("div",{className:"truncate max-w-[120px]",children:h.doctor?`Dr. ${h.doctor.firstName} ${h.doctor.lastName}`:"N/A"})}),a.jsxs("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:[((B=h.requestAnalyses)==null?void 0:B.length)||0," ",c.analyses]}),a.jsx("td",{className:"px-3 sm:px-6 py-4",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(h.status)}`,children:p(h.status)})}),a.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-600 dark:text-gray-400 hidden lg:table-cell",children:new Date(h.createdAt).toLocaleDateString()}),a.jsxs("td",{className:"px-3 sm:px-6 py-4 text-sm font-medium text-green-600",children:[((x=h.amountDue)==null?void 0:x.toFixed(2))||"0.00"," dh"]})]},h.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:c.noData})})})]})})]})]})}function ZC(){const{language:e}=dt(),[t,r]=T.useState(""),[s,n]=T.useState(!1),[A,i]=T.useState(!1),[o,l]=T.useState(null),c={fr:{title:"Gestion des Patients",newPatient:"Nouveau Patient",search:"Rechercher un patient...",name:"Nom",birthDate:"Date de Naissance",socialSecurity:"Sécurité Sociale",phone:"Téléphone",email:"Email",lastVisit:"Dernière Visite",actions:"Actions",close:"Fermer",save:"Enregistrer",cancel:"Annuler"},en:{title:"Patient Management",newPatient:"New Patient",search:"Search patient...",name:"Name",birthDate:"Birth Date",socialSecurity:"Social Security",phone:"Phone",email:"Email",lastVisit:"Last Visit",actions:"Actions",close:"Close",save:"Save",cancel:"Cancel"}}[e],[u,f]=T.useState([]),[p,h]=T.useState(!0);T.useEffect(()=>{(async()=>{try{const v=await jo.getPatients();v.patients?f(v.patients):f([])}catch(v){console.error("Error loading patients:",v),f([])}finally{h(!1)}})()},[]);const B=y=>{l(y),i(!0)},x=y=>{l(y),n(!0)},N=()=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:o?"Modifier Patient":c.newPatient}),a.jsx("button",{onClick:()=>n(!1),className:"p-1",children:a.jsx(wt,{size:20,className:"text-gray-500"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",placeholder:"Prénom",defaultValue:(o==null?void 0:o.firstName)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsx("input",{type:"text",placeholder:"Nom",defaultValue:(o==null?void 0:o.lastName)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsx("input",{type:"date",defaultValue:o!=null&&o.dateOfBirth?new Date(o.dateOfBirth).toISOString().split("T")[0]:"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsx("input",{type:"text",placeholder:"Sécurité Sociale",defaultValue:(o==null?void 0:o.cnssNumber)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsx("input",{type:"tel",placeholder:"Téléphone",defaultValue:(o==null?void 0:o.phone)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsx("input",{type:"email",placeholder:"Email",defaultValue:(o==null?void 0:o.email)||"",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),a.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c.save})]})]})}),m=()=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Détails du patient"}),a.jsx("button",{onClick:()=>i(!1),className:"p-1",children:a.jsx(wt,{size:20,className:"text-gray-500"})})]}),o&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"ID:"})," ",o.id]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Nom:"})," ",`${o.firstName} ${o.lastName}`]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Date de naissance:"})," ",new Date(o.dateOfBirth).toLocaleDateString()]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Genre:"})," ",o.gender]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Sécurité Sociale:"})," ",o.cnssNumber||"N/A"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Téléphone:"})," ",o.phone]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Email:"})," ",o.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Adresse:"})," ",o.address||"N/A"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Créé le:"})," ",new Date(o.createdAt).toLocaleDateString()]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:c.close})})]})});return a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-4",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:c.title}),a.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center transition-colors",children:[a.jsx(wr,{size:18,className:"mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:c.newPatient}),a.jsx("span",{className:"sm:hidden",children:"+"})]})]}),a.jsx("div",{className:"mb-4 sm:mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(vr,{size:18,className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:c.search,value:t,onChange:y=>r(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm sm:text-base"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.name}),a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:c.birthDate}),a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:c.socialSecurity}),a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden md:table-cell",children:c.phone}),a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:c.lastVisit}),a.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:p?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Chargement..."})]})})}):u.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-3 sm:px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"Aucun patient enregistré."})}):u.map(y=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:a.jsx("div",{className:"truncate max-w-[120px] sm:max-w-none",children:`${y.firstName} ${y.lastName}`})}),a.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden sm:table-cell",children:new Date(y.dateOfBirth).toLocaleDateString()}),a.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden lg:table-cell",children:a.jsx("div",{className:"truncate max-w-[120px]",children:y.cnssNumber||"N/A"})}),a.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden md:table-cell",children:y.phone}),a.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-900 dark:text-white hidden lg:table-cell",children:new Date(y.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-3 sm:px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>B(y),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"View",children:a.jsx(cs,{size:16})}),a.jsx("button",{onClick:()=>x(y),className:"text-green-600 hover:text-green-900 transition-colors",title:"Edit",children:a.jsx(qn,{size:16})})]})})]},y.id))})]})})}),s&&a.jsx(N,{}),A&&a.jsx(m,{})]})}function e3(){const{language:e}=dt(),[t,r]=T.useState([]),[s,n]=T.useState(""),[A,i]=T.useState("all"),[o,l]=T.useState("all"),[c,u]=T.useState(!1),[f,p]=T.useState(null),[h,B]=T.useState(!0),x={fr:{title:"Gestion des Médecins",subtitle:"Gestion des médecins référents",search:"Rechercher un médecin...",filter:"Filtrer",allSpecialties:"Toutes les spécialités",allStatus:"Tous les statuts",addDoctor:"Ajouter un médecin",editDoctor:"Modifier le médecin",nom:"Nom",prenom:"Prénom",specialite:"Spécialité",email:"Email",telephone:"Téléphone",adresse:"Adresse",numeroOrdre:"Numéro d'ordre",dateInscription:"Date d'inscription",statut:"Statut",notes:"Notes",actif:"Actif",inactif:"Inactif",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",actions:"Actions",totalDoctors:"Total médecins",activeDoctors:"Médecins actifs",specialties:"Spécialités",recentRegistrations:"Inscriptions récentes",success:"Médecin enregistré avec succès",error:"Erreur lors de l'enregistrement",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce médecin ?",doctorDetails:"Détails du médecin",noDoctors:"Aucun médecin trouvé",addNewDoctor:"Ajouter un nouveau médecin"},en:{title:"Doctor Management",subtitle:"Managing referring doctors",search:"Search for a doctor...",filter:"Filter",allSpecialties:"All specialties",allStatus:"All status",addDoctor:"Add doctor",editDoctor:"Edit doctor",nom:"Last Name",prenom:"First Name",specialite:"Specialty",email:"Email",telephone:"Phone",adresse:"Address",numeroOrdre:"License Number",dateInscription:"Registration Date",statut:"Status",notes:"Notes",actif:"Active",inactif:"Inactive",save:"Save",cancel:"Cancel",delete:"Delete",actions:"Actions",totalDoctors:"Total doctors",activeDoctors:"Active doctors",specialties:"Specialties",recentRegistrations:"Recent registrations",success:"Doctor saved successfully",error:"Error saving doctor",confirmDelete:"Are you sure you want to delete this doctor?",doctorDetails:"Doctor details",noDoctors:"No doctors found",addNewDoctor:"Add new doctor"}}[e],N=["Médecine générale","Cardiologie","Endocrinologie","Dermatologie","Gastroentérologie","Neurologie","Pneumologie","Rhumatologie","Urologie","Gynécologie","Pédiatrie","Psychiatrie","Radiologie","Chirurgie générale","Orthopédie"];T.useEffect(()=>{m()},[]);const m=()=>{try{const j=localStorage.getItem("sil_lab_doctors");if(j)r(JSON.parse(j));else{const P=[{id:"1",nom:"Boulahcen",prenom:"Hicham",specialite:"Médecine générale",email:"h.boulahcen@medecin.fr",telephone:"01.42.34.56.78",adresse:"123 Rue de la Santé, 75014 Paris",numeroOrdre:"12345678",dateInscription:"2020-01-15",statut:"actif",notes:"Médecin généraliste expérimenté"},{id:"2",nom:"Bensaïd",prenom:"Youssef",specialite:"Cardiologie",email:"y.bensaid@cardio.fr",telephone:"01.42.34.56.79",adresse:"456 Avenue des Médecins, 75016 Paris",numeroOrdre:"87654321",dateInscription:"2019-03-20",statut:"actif",notes:"Cardiologue spécialisé en échographie"},{id:"3",nom:"Alaoui",prenom:"Fatima",specialite:"Endocrinologie",email:"f.alaoui@endo.fr",telephone:"01.42.34.56.80",adresse:"789 Boulevard de la Médecine, 75008 Paris",numeroOrdre:"11223344",dateInscription:"2021-06-10",statut:"actif",notes:"Spécialiste en diabétologie"},{id:"4",nom:"Tazi",prenom:"Mohamed",specialite:"Médecine générale",email:"m.tazi@medecin.fr",telephone:"01.42.34.56.81",adresse:"321 Rue du Médecin, 75011 Paris",numeroOrdre:"55667788",dateInscription:"2018-09-05",statut:"actif",notes:"Médecin de famille"},{id:"5",nom:"El Amrani",prenom:"Karim",specialite:"Dermatologie",email:"k.elamrani@dermato.fr",telephone:"01.42.34.56.82",adresse:"654 Avenue de la Dermatologie, 75006 Paris",numeroOrdre:"99887766",dateInscription:"2022-01-12",statut:"actif",notes:"Dermatologue esthétique"}];r(P),localStorage.setItem("sil_lab_doctors",JSON.stringify(P))}B(!1)}catch(j){console.error("Error loading doctors:",j),B(!1)}},y=t.filter(j=>{const P=`${j.prenom} ${j.nom}`.toLowerCase().includes(s.toLowerCase())||j.specialite.toLowerCase().includes(s.toLowerCase())||j.email.toLowerCase().includes(s.toLowerCase()),z=A==="all"||j.specialite===A,D=o==="all"||j.statut===o;return P&&z&&D}),v=()=>{try{localStorage.setItem("sil_lab_doctors",JSON.stringify(t)),alert(x.success)}catch(j){console.error("Save error:",j),alert(x.error)}},E=()=>{const j={id:Date.now().toString(),nom:"",prenom:"",specialite:"Médecine générale",email:"",telephone:"",adresse:"",numeroOrdre:"",dateInscription:new Date().toISOString().split("T")[0],statut:"actif",notes:""};p(j),u(!0)},U=j=>{p(j),u(!0)},V=j=>{if(window.confirm(x.confirmDelete)){const P=t.filter(z=>z.id!==j);r(P),localStorage.setItem("sil_lab_doctors",JSON.stringify(P))}},S=()=>{if(f&&f.nom&&f.prenom){let j;if(f.id&&t.find(P=>P.id===f.id))j=t.map(P=>P.id===f.id?f:P);else{const P={...f,id:Date.now().toString()};j=[...t,P]}r(j),localStorage.setItem("sil_lab_doctors",JSON.stringify(j)),p(null),u(!1),alert(x.success)}},C=t.length,_=t.filter(j=>j.statut==="actif").length,H=new Set(t.map(j=>j.specialite)).size,F=t.filter(j=>{const P=new Date(j.dateInscription),z=new Date;return z.setMonth(z.getMonth()-3),P>z}).length;return h?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:x.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:x.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(fa,{className:"h-8 w-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.totalDoctors}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:C})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ad,{className:"h-8 w-8 text-green-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.activeDoctors}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:_})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(yl,{className:"h-8 w-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.specialties}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:H})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(fa,{className:"h-8 w-8 text-orange-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.recentRegistrations}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",value:s,onChange:j=>n(j.target.value),placeholder:x.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:A,onChange:j=>i(j.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:x.allSpecialties}),N.map(j=>a.jsx("option",{value:j,children:j},j))]}),a.jsxs("select",{value:o,onChange:j=>l(j.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:x.allStatus}),a.jsx("option",{value:"actif",children:x.actif}),a.jsx("option",{value:"inactif",children:x.inactif})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:E,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:16,className:"mr-2"}),x.addDoctor]}),a.jsx("button",{onClick:v,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Sauvegarder"})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.doctorDetails}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.specialite}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.statut}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:y.length>0?y.map(j=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Dr. ",j.prenom," ",j.nom]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[x.numeroOrdre,": ",j.numeroOrdre]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[x.dateInscription,": ",new Date(j.dateInscription).toLocaleDateString()]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:j.specialite}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Ux,{size:14,className:"mr-2 text-gray-400"}),j.email]}),a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Lx,{size:14,className:"mr-2 text-gray-400"}),j.telephone]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ii,{size:14,className:"mr-2 text-gray-400"}),j.adresse]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j.statut==="actif"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:j.statut==="actif"?x.actif:x.inactif})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>U(j),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:a.jsx(qn,{size:16})}),a.jsx("button",{onClick:()=>V(j.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(zn,{size:16})})]})})]},j.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:x.noDoctors})})})]})})}),c&&f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:f.id&&t.find(j=>j.id===f.id)?x.editDoctor:x.addNewDoctor}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[x.nom," *"]}),a.jsx("input",{type:"text",required:!0,value:f.nom,onChange:j=>p(P=>P?{...P,nom:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[x.prenom," *"]}),a.jsx("input",{type:"text",required:!0,value:f.prenom,onChange:j=>p(P=>P?{...P,prenom:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[x.specialite," *"]}),a.jsx("select",{value:f.specialite,onChange:j=>p(P=>P?{...P,specialite:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:N.map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[x.email," *"]}),a.jsx("input",{type:"email",required:!0,value:f.email,onChange:j=>p(P=>P?{...P,email:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[x.telephone," *"]}),a.jsx("input",{type:"tel",required:!0,value:f.telephone,onChange:j=>p(P=>P?{...P,telephone:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[x.numeroOrdre," *"]}),a.jsx("input",{type:"text",required:!0,value:f.numeroOrdre,onChange:j=>p(P=>P?{...P,numeroOrdre:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.dateInscription}),a.jsx("input",{type:"date",value:f.dateInscription,onChange:j=>p(P=>P?{...P,dateInscription:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.statut}),a.jsxs("select",{value:f.statut,onChange:j=>p(P=>P?{...P,statut:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"actif",children:x.actif}),a.jsx("option",{value:"inactif",children:x.inactif})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.adresse}),a.jsx("input",{type:"text",value:f.adresse,onChange:j=>p(P=>P?{...P,adresse:j.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.notes}),a.jsx("textarea",{value:f.notes||"",onChange:j=>p(P=>P?{...P,notes:j.target.value}:null),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>{u(!1),p(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:x.cancel}),a.jsx("button",{onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:x.save})]})]})})]})}function t3(){const{language:e}=dt(),t=un(),[r,s]=T.useState(""),[n,A]=T.useState(!1),[i,o]=T.useState(!1),[l,c]=T.useState(null),[u,f]=T.useState(!1),[p,h]=T.useState([]),[B,x]=T.useState(!0),[N,m]=T.useState("ALL"),[y,v]=T.useState("ALL"),[E,U]=T.useState(""),[V,S]=T.useState("createdAt"),[C,_]=T.useState("desc"),[H,F]=T.useState(1),[j,P]=T.useState(10),[z,D]=T.useState(0),O={fr:{title:"Gestion des Demandes",newRequest:"Nouvelle Demande",search:"Rechercher...",id:"ID",patient:"Patient",tests:"Analyses",status:"Statut",priority:"Priorité",sampleType:"Type d'échantillon",date:"Date",actions:"Actions",close:"Fermer",save:"Enregistrer",cancel:"Annuler",refresh:"Actualiser",export:"Exporter",print:"Imprimer",filter:"Filtrer",allStatuses:"Tous les statuts",allPriorities:"Toutes priorités",itemsPerPage:"Éléments par page",page:"Page",of:"sur",previous:"Précédent",next:"Suivant",deleteConfirm:"Êtes-vous sûr de vouloir supprimer cette demande?",viewResults:"Voir résultats",enterResults:"Saisir résultats",validateResults:"Valider résultats",printReport:"Imprimer rapport",created:"Créé",pending:"En attente",processing:"En traitement",completed:"Terminé",cancelled:"Annulé",normal:"Normal",urgent:"Urgent",emergency:"Urgence",paymentStatus:"Statut paiement",paid:"Payé",partiallyPaid:"Partiellement payé",unpaid:"Non payé",totalAmount:"Montant total",amountDue:"Montant dû",doctor:"Médecin",collectionDate:"Date de prélèvement",collectionTime:"Heure de prélèvement",notes:"Notes",createdAt:"Créé le",updatedAt:"Mis à jour le"},en:{title:"Request Management",newRequest:"New Request",search:"Search...",id:"ID",patient:"Patient",tests:"Tests",status:"Status",priority:"Priority",sampleType:"Sample Type",date:"Date",actions:"Actions",close:"Close",save:"Save",cancel:"Cancel",refresh:"Refresh",export:"Export",print:"Print",filter:"Filter",allStatuses:"All statuses",allPriorities:"All priorities",itemsPerPage:"Items per page",page:"Page",of:"of",previous:"Previous",next:"Next",deleteConfirm:"Are you sure you want to delete this request?",viewResults:"View results",enterResults:"Enter results",validateResults:"Validate results",printReport:"Print report",created:"Created",pending:"Pending",processing:"Processing",completed:"Completed",cancelled:"Cancelled",normal:"Normal",urgent:"Urgent",emergency:"Emergency",paymentStatus:"Payment status",paid:"Paid",partiallyPaid:"Partially paid",unpaid:"Unpaid",totalAmount:"Total amount",amountDue:"Amount due",doctor:"Doctor",collectionDate:"Collection date",collectionTime:"Collection time",notes:"Notes",createdAt:"Created at",updatedAt:"Updated at"}}[e];T.useEffect(()=>{(async()=>{try{x(!0);const _e=await Di.getRequests({_t:Date.now()});_e.requests?h(_e.requests):h([])}catch(_e){console.error("Error loading requests:",_e),h([])}finally{x(!1)}})()},[z]);const Z=p.filter(G=>{var tt,at,ct,ft,bt;const _e=`${((tt=G.patient)==null?void 0:tt.firstName)||""} ${((at=G.patient)==null?void 0:at.lastName)||""}`.toLowerCase(),Qe=((ct=G.requestAnalyses)==null?void 0:ct.map(Xe=>Xe.analysis.name.toLowerCase()))||[],je=`${((ft=G.doctor)==null?void 0:ft.firstName)||""} ${((bt=G.doctor)==null?void 0:bt.lastName)||""}`.toLowerCase(),Fe=_e.includes(r.toLowerCase())||G.id.toLowerCase().includes(r.toLowerCase())||Qe.some(Xe=>Xe.includes(r.toLowerCase()))||je.includes(r.toLowerCase()),De=N==="ALL"||G.status===N,Ie=y==="ALL"||G.priority===y,Ge=!E||G.collectionDate&&G.collectionDate.includes(E);return Fe&&De&&Ie&&Ge}).sort((G,_e)=>{if(V==="createdAt")return C==="asc"?new Date(G.createdAt).getTime()-new Date(_e.createdAt).getTime():new Date(_e.createdAt).getTime()-new Date(G.createdAt).getTime();if(V==="priority"){const Qe={NORMAL:0,URGENT:1,EMERGENCY:2};return C==="asc"?(Qe[G.priority]||0)-(Qe[_e.priority]||0):(Qe[_e.priority]||0)-(Qe[G.priority]||0)}else if(V==="status"){const Qe={CREATED:0,PENDING:1,PROCESSING:2,COMPLETED:3,CANCELLED:4};return C==="asc"?(Qe[G.status]||0)-(Qe[_e.status]||0):(Qe[_e.status]||0)-(Qe[G.status]||0)}return 0}),K=Math.ceil(Z.length/j),te=Z.slice((H-1)*j,H*j),se=G=>({CREATED:"bg-gray-100 text-gray-800",PENDING:"bg-yellow-100 text-yellow-800",PROCESSING:"bg-blue-100 text-blue-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[G]||"bg-gray-100 text-gray-800",he=G=>({NORMAL:"bg-gray-100 text-gray-800",URGENT:"bg-orange-100 text-orange-800",EMERGENCY:"bg-red-100 text-red-800"})[G]||"bg-gray-100 text-gray-800",Q=G=>G.amountDue<=0?"bg-green-100 text-green-800":G.advancePayment>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",J=G=>G.amountDue<=0?e==="fr"?"Payé":"Paid":G.advancePayment>0?e==="fr"?"Partiellement payé":"Partially paid":e==="fr"?"Non payé":"Unpaid",X=G=>{c(G),o(!0)},ee=G=>{c(G),A(!0)},ne=async G=>{if(window.confirm(O.deleteConfirm))try{await Di.deleteRequest(G.id),D(_e=>_e+1)}catch(_e){console.error("Error deleting request:",_e),alert("Error deleting request")}},ce=()=>{D(G=>G+1)},re=async()=>{try{alert("Export functionality would be implemented here")}catch(G){console.error("Error exporting data:",G)}},de=()=>{window.print()},Ne=G=>{t(`/results?requestId=${G.id}`)},Ce=G=>{t(`/results/entry?requestId=${G.id}`)},Le=G=>{t(`/results/print?requestId=${G.id}`)},Ee=G=>{V===G?_(C==="asc"?"desc":"asc"):(S(G),_("asc"))},$e=()=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l?"Modifier Demande":O.newRequest}),a.jsx("button",{onClick:()=>A(!1),children:a.jsx(wt,{size:20,className:"text-gray-500"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",placeholder:"Nom du patient",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{children:"Sélectionner tests"}),a.jsx("option",{children:"Hémogramme"}),a.jsx("option",{children:"Glycémie"})]}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{children:"Priorité normale"}),a.jsx("option",{children:"Urgent"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:O.cancel}),a.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:O.save})]})]})}),ye=()=>{var G,_e;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e==="fr"?"Détails de la demande":"Request Details"}),a.jsx("button",{onClick:()=>o(!1),children:a.jsx(wt,{size:20,className:"text-gray-500"})})]}),l&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations patient":"Patient Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[O.patient,":"]})," ",l.patient?`${l.patient.firstName} ${l.patient.lastName}`:"N/A"]}),((G=l.patient)==null?void 0:G.cnssNumber)&&a.jsxs("div",{children:[a.jsx("strong",{children:"CNSS:"})," ",l.patient.cnssNumber]})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Statut de la demande":"Request Status"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("strong",{className:"mr-2",children:[O.status,":"]}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${se(l.status)}`,children:l.status})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsxs("strong",{className:"mr-2",children:[O.priority,":"]}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${he(l.priority)}`,children:l.priority})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsxs("strong",{className:"mr-2",children:[O.paymentStatus,":"]}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Q(l)}`,children:J(l)})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Analyses demandées":"Requested Tests"}),a.jsx("ul",{className:"list-disc list-inside space-y-1",children:(_e=l.requestAnalyses)==null?void 0:_e.map(Qe=>a.jsxs("li",{children:[Qe.analysis.name," ",a.jsxs("span",{className:"text-gray-500",children:["(",Qe.analysis.code,")"]})]},Qe.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations de prélèvement":"Collection Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[O.sampleType,":"]})," ",l.sampleType]}),l.tubeType&&a.jsxs("div",{children:[a.jsxs("strong",{children:[e==="fr"?"Type de tube":"Tube Type",":"]})," ",l.tubeType]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[O.collectionDate,":"]})," ",l.collectionDate?new Date(l.collectionDate).toLocaleString():"N/A"]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[O.collectionTime,":"]})," ",l.collectionTime||"N/A"]})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations financières":"Financial Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[O.totalAmount,":"]})," ",l.totalAmount.toFixed(2)," MAD"]}),l.discount>0&&a.jsxs("div",{children:[a.jsxs("strong",{children:[e==="fr"?"Remise":"Discount",":"]})," ",l.discount,"%"]}),l.advancePayment>0&&a.jsxs("div",{children:[a.jsxs("strong",{children:[e==="fr"?"Avance":"Advance Payment",":"]})," ",l.advancePayment.toFixed(2)," MAD"]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[O.amountDue,":"]})," ",l.amountDue.toFixed(2)," MAD"]})]})]})]}),l.doctor&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Médecin référent":"Referring Doctor"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[O.doctor,":"]})," ",`${l.doctor.firstName} ${l.doctor.lastName}`]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[e==="fr"?"Spécialité":"Specialty",":"]})," ",l.doctor.specialty]})]})]}),l.notes&&a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:O.notes}),a.jsx("p",{className:"whitespace-pre-line",children:l.notes})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:e==="fr"?"Informations système":"System Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"ID:"})," ",l.id]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[O.createdAt,":"]})," ",new Date(l.createdAt).toLocaleString()]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[O.updatedAt,":"]})," ",new Date(l.updatedAt).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap justify-end gap-2 mt-6",children:[a.jsxs("button",{onClick:()=>Ne(l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(cs,{size:16,className:"mr-2"}),O.viewResults]}),a.jsxs("button",{onClick:()=>Ce(l),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[a.jsx(Aa,{size:16,className:"mr-2"}),O.enterResults]}),a.jsxs("button",{onClick:()=>Le(l),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[a.jsx(Bi,{size:16,className:"mr-2"}),O.printReport]}),a.jsxs("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 flex items-center",children:[a.jsx(wt,{size:16,className:"mr-2"}),O.close]})]})]})})};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:O.title}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:ce,className:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center",children:[a.jsx(GA,{size:16,className:"mr-2"}),O.refresh]}),a.jsxs("button",{onClick:re,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[a.jsx(VA,{size:16,className:"mr-2"}),O.export]}),a.jsxs("button",{onClick:de,className:"bg-purple-600 text-white px-3 py-2 rounded-lg hover:bg-purple-700 flex items-center",children:[a.jsx(Bi,{size:16,className:"mr-2"}),O.print]}),a.jsxs("button",{onClick:()=>t("/new-request"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:16,className:"mr-2"}),O.newRequest]})]})]}),a.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(vr,{size:20,className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:O.search,value:r,onChange:G=>s(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),a.jsxs("button",{onClick:()=>f(!u),className:`px-4 py-2 rounded-lg flex items-center ${u?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[a.jsx(yl,{size:16,className:"mr-2"}),O.filter]})]}),u&&a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:O.status}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:N,onChange:G=>m(G.target.value),children:[a.jsx("option",{value:"ALL",children:O.allStatuses}),a.jsx("option",{value:"CREATED",children:O.created}),a.jsx("option",{value:"PENDING",children:O.pending}),a.jsx("option",{value:"PROCESSING",children:O.processing}),a.jsx("option",{value:"COMPLETED",children:O.completed}),a.jsx("option",{value:"CANCELLED",children:O.cancelled})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:O.priority}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:y,onChange:G=>v(G.target.value),children:[a.jsx("option",{value:"ALL",children:O.allPriorities}),a.jsx("option",{value:"NORMAL",children:O.normal}),a.jsx("option",{value:"URGENT",children:O.urgent}),a.jsx("option",{value:"EMERGENCY",children:O.emergency})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:O.date}),a.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:E,onChange:G=>U(G.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:O.itemsPerPage}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",value:j,onChange:G=>P(Number(G.target.value)),children:[a.jsx("option",{value:"5",children:"5"}),a.jsx("option",{value:"10",children:"10"}),a.jsx("option",{value:"25",children:"25"}),a.jsx("option",{value:"50",children:"50"}),a.jsx("option",{value:"100",children:"100"})]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("id"),children:a.jsxs("div",{className:"flex items-center",children:[O.id,V==="id"&&a.jsx("span",{className:"ml-1",children:C==="asc"?"↑":"↓"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.patient}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.tests}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("status"),children:a.jsxs("div",{className:"flex items-center",children:[O.status,V==="status"&&a.jsx("span",{className:"ml-1",children:C==="asc"?"↑":"↓"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("priority"),children:a.jsxs("div",{className:"flex items-center",children:[O.priority,V==="priority"&&a.jsx("span",{className:"ml-1",children:C==="asc"?"↑":"↓"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.paymentStatus}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.sampleType}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>Ee("createdAt"),children:a.jsxs("div",{className:"flex items-center",children:[O.date,V==="createdAt"&&a.jsx("span",{className:"ml-1",children:C==="asc"?"↑":"↓"})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:O.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:B?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:e==="fr"?"Chargement...":"Loading..."})]})})}):te.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-8 text-center",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:r||N!=="ALL"||y!=="ALL"||E?e==="fr"?"Aucune demande trouvée pour cette recherche.":"No requests found for this search.":e==="fr"?"Aucune demande enregistrée.":"No requests recorded."})})}):te.map(G=>{var _e,Qe,je;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:G.id}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[G.patient?`${G.patient.firstName} ${G.patient.lastName}`:"N/A",((_e=G.patient)==null?void 0:_e.cnssNumber)&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["CNSS: ",G.patient.cnssNumber]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[a.jsx("div",{className:"max-w-xs truncate",children:((Qe=G.requestAnalyses)==null?void 0:Qe.map(Fe=>Fe.analysis.name).join(", "))||"N/A"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[((je=G.requestAnalyses)==null?void 0:je.length)||0," ","test(s)"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${se(G.status)}`,children:G.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${he(G.priority)}`,children:G.priority})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Q(G)}`,children:J(G)})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[G.sampleType,G.tubeType&&a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:["(",G.tubeType,")"]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[a.jsx("div",{children:new Date(G.createdAt).toLocaleDateString()}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(G.createdAt).toLocaleTimeString()})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>X(G),className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:e==="fr"?"Voir détails":"View details",children:a.jsx(cs,{size:16})}),a.jsx("button",{onClick:()=>ee(G),className:"text-green-600 hover:text-green-900 dark:hover:text-green-400",title:e==="fr"?"Modifier":"Edit",children:a.jsx(qn,{size:16})}),a.jsx("button",{onClick:()=>Ne(G),className:"text-purple-600 hover:text-purple-900 dark:hover:text-purple-400",title:e==="fr"?"Voir résultats":"View results",children:a.jsx(Aa,{size:16})}),a.jsx("button",{onClick:()=>Le(G),className:"text-indigo-600 hover:text-indigo-900 dark:hover:text-indigo-400",title:e==="fr"?"Imprimer rapport":"Print report",children:a.jsx(Bi,{size:16})}),a.jsx("button",{onClick:()=>ne(G),className:"text-red-600 hover:text-red-900 dark:hover:text-red-400",title:e==="fr"?"Supprimer":"Delete",children:a.jsx(zn,{size:16})})]})})]},G.id)})})]})})}),te.length>0&&a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[O.page," ",H," ",O.of," ",K]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>F(G=>Math.max(G-1,1)),disabled:H===1,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md disabled:opacity-50",children:O.previous}),a.jsx("button",{onClick:()=>F(G=>Math.min(G+1,K)),disabled:H===K,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md disabled:opacity-50",children:O.next})]})]}),n&&a.jsx($e,{}),i&&a.jsx(ye,{})]})}function r3(){const{language:e}=dt(),[t,r]=T.useState({nom:"",prenom:"",dateNaissance:"",numeroCNSS:"",sexe:"M"}),[s,n]=T.useState([{code:"4005",nom:"Hémogramme (CBC)",selected:!1,category:"Hématologie"},{code:"4010",nom:"Glycémie (Blood Sugar)",selected:!1,category:"Biochimie"},{code:"4015",nom:"Cholestérol Total",selected:!1,category:"Lipides"},{code:"4020",nom:"HDL Cholestérol",selected:!1,category:"Lipides"},{code:"4025",nom:"LDL Cholestérol",selected:!1,category:"Lipides"},{code:"4030",nom:"Triglycérides",selected:!1,category:"Lipides"},{code:"4035",nom:"Créatininémie",selected:!1,category:"Biochimie"},{code:"4040",nom:"Urée",selected:!1,category:"Biochimie"},{code:"4045",nom:"Bilan hépatique",selected:!1,category:"Biochimie"},{code:"4050",nom:"TSH",selected:!1,category:"Hormonologie"},{code:"4055",nom:"T4 Libre",selected:!1,category:"Hormonologie"},{code:"4060",nom:"T3 Libre",selected:!1,category:"Hormonologie"},{code:"4070",nom:"Groupe Sanguin",selected:!1,category:"Immunologie"},{code:"4075",nom:"CRP",selected:!1,category:"Inflammation"},{code:"4080",nom:"VS",selected:!1,category:"Inflammation"}]),[A,i]=T.useState(""),[o,l]=T.useState(null),[c,u]=T.useState(""),[f,p]=T.useState(""),[h,B]=T.useState(""),[x,N]=T.useState(!1),[m,y]=T.useState(!1),[v,E]=T.useState(""),[U,V]=T.useState("success"),[S,C]=T.useState(!1),[_,H]=T.useState(!1),[F,j]=T.useState(0),[P,z]=T.useState(0),[D,O]=T.useState({subtotal:0,tvaTotal:0,totalBeforeDiscount:0,discount:0,discountAmount:0,totalAfterDiscount:0,advancePayment:0,amountDue:0}),Z=[{id:"1",nom:"Boulahcen",prenom:"Hicham",specialite:"Médecine générale"},{id:"2",nom:"Bensaïd",prenom:"Youssef",specialite:"Cardiologie"},{id:"3",nom:"Alaoui",prenom:"Fatima",specialite:"Endocrinologie"},{id:"4",nom:"Tazi",prenom:"Mohamed",specialite:"Médecine générale"},{id:"5",nom:"El Amrani",prenom:"Karim",specialite:"Dermatologie"}],K={fr:{title:"Nouvelle Demande d'Analyse",subtitle:"Interface Réceptionniste",patientInfo:"Informations Patient",nom:"Nom",prenom:"Prénom",dateNaissance:"Date de naissance",numeroCNSS:"Numéro CNSS",sexe:"Sexe",analyses:"Analyses Prescrites",addAnalysis:"Ajouter des analyses",searchAnalyses:"Rechercher des analyses...",selectedAnalyses:"Analyses sélectionnées",doctor:"Médecin Référent",searchDoctor:"Rechercher un médecin...",appointment:"Prélèvement",date:"Date",time:"Heure",urgent:"Demande Urgente",pricing:"Tarification",subtotal:"Sous-total HT",tva:"TVA",totalBeforeDiscount:"Total TTC",discount:"Remise (%)",discountAmount:"Montant remise",totalAfterDiscount:"Total après remise",advancePayment:"Acompte",amountDue:"Montant dû",submit:"Soumettre la Demande",clear:"Effacer le Formulaire",success:"Demande enregistrée avec succès",error:"Erreur lors de l'enregistrement",selectDoctor:"Sélectionner un médecin",noAnalysesSelected:"Aucune analyse sélectionnée",validationError:"Veuillez remplir tous les champs obligatoires",printLabels:"Imprimer Étiquettes",printReceipt:"Imprimer Reçu"},en:{title:"New Analysis Request",subtitle:"Receptionist Interface",patientInfo:"Patient Information",nom:"Last Name",prenom:"First Name",dateNaissance:"Date of Birth",numeroCNSS:"CNSS Number",sexe:"Gender",analyses:"Prescribed Analyses",addAnalysis:"Add Analyses",searchAnalyses:"Search analyses...",selectedAnalyses:"Selected Analyses",doctor:"Referring Doctor",searchDoctor:"Search for a doctor...",appointment:"Sample Collection",date:"Date",time:"Time",urgent:"Urgent Request",pricing:"Pricing",subtotal:"Subtotal (excl. tax)",tva:"VAT",totalBeforeDiscount:"Total (incl. tax)",discount:"Discount (%)",discountAmount:"Discount amount",totalAfterDiscount:"Total after discount",advancePayment:"Advance payment",amountDue:"Amount due",submit:"Submit Request",clear:"Clear Form",success:"Request saved successfully",error:"Error saving request",selectDoctor:"Select a doctor",noAnalysesSelected:"No analyses selected",validationError:"Please fill in all required fields",printLabels:"Print Labels",printReceipt:"Print Receipt"}}[e],te=s.filter(re=>re.nom.toLowerCase().includes(A.toLowerCase())||re.code.includes(A)),se=Z.filter(re=>`${re.prenom} ${re.nom}`.toLowerCase().includes(c.toLowerCase())||re.specialite.toLowerCase().includes(c.toLowerCase())),he=s.filter(re=>re.selected);T.useEffect(()=>{const re=Xo.calculateRequestTotal(he,F,P);O(re)},[he,F,P]);const Q=re=>{n(de=>de.map(Ne=>Ne.code===re?{...Ne,selected:!Ne.selected}:Ne))},J=re=>{n(de=>de.map(Ne=>Ne.code===re?{...Ne,selected:!1}:Ne))},X=(re,de="success")=>{E(re),V(de),y(!0),setTimeout(()=>y(!1),5e3)},ee=()=>!t.nom||!t.prenom||!t.dateNaissance||!t.numeroCNSS?(X(K.validationError,"error"),!1):he.length===0?(X(K.noAnalysesSelected,"error"),!1):o?!f||!h?(X("Veuillez sélectionner une date et heure de prélèvement","error"),!1):!0:(X(K.selectDoctor,"error"),!1),ne=async re=>{if(re.preventDefault(),!!ee()){C(!0);try{const de={patient:{nom:t.nom,prenom:t.prenom,dateNaissance:t.dateNaissance,numeroCNSS:t.numeroCNSS,sexe:t.sexe},analyses:he.map(Ce=>({code:Ce.code,nom:Ce.nom})),doctor:o,appointment:{date:f,time:h},urgent:x,pricing:D,timestamp:new Date().toISOString()},Ne=await $C.saveRequest(de);Ne.success?(X(K.success,"success"),setTimeout(()=>{G1.printLabels(Ne.data),setTimeout(()=>{G1.printReceipt(Ne.data,{...D,prices:Xo.getPrices()})},1e3)},500),ce()):X(K.error,"error")}catch(de){console.error("Submit error:",de),X("Erreur de connexion. Les données ont été sauvegardées localement.","error"),ce()}finally{C(!1)}}},ce=()=>{r({nom:"",prenom:"",dateNaissance:"",numeroCNSS:"",sexe:"M"}),n(re=>re.map(de=>({...de,selected:!1}))),l(null),u(""),p(""),B(""),N(!1),i(""),j(0),z(0)};return T.useEffect(()=>{const re=new Date;re.setDate(re.getDate()+1);const de=re.toISOString().split("T")[0];p(de)},[]),a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:K.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:K.subtitle})]}),a.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(fa,{className:"h-6 w-6 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:K.patientInfo})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[K.nom," *"]}),a.jsx("input",{type:"text",required:!0,value:t.nom,onChange:re=>r(de=>({...de,nom:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"El Amrani"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[K.prenom," *"]}),a.jsx("input",{type:"text",required:!0,value:t.prenom,onChange:re=>r(de=>({...de,prenom:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Soukaina"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[K.dateNaissance," *"]}),a.jsx("input",{type:"date",required:!0,value:t.dateNaissance,onChange:re=>r(de=>({...de,dateNaissance:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[K.numeroCNSS," *"]}),a.jsx("input",{type:"text",required:!0,value:t.numeroCNSS,onChange:re=>r(de=>({...de,numeroCNSS:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"J123456789"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:K.sexe}),a.jsxs("select",{value:t.sexe,onChange:re=>r(de=>({...de,sexe:re.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"M",children:"Masculin"}),a.jsx("option",{value:"F",children:"Féminin"})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:K.analyses}),a.jsxs("button",{type:"button",onClick:()=>H(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:16,className:"mr-2"}),K.addAnalysis]})]}),he.length>0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:K.selectedAnalyses}),a.jsx("div",{className:"flex flex-wrap gap-2",children:he.map(re=>a.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full flex items-center",children:[a.jsx("span",{className:"text-sm",children:re.nom}),a.jsx("button",{type:"button",onClick:()=>J(re.code),className:"ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:a.jsx(wt,{size:14})})]},re.code))})]}):a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:K.noAnalysesSelected})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:K.doctor}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",value:c,onChange:re=>u(re.target.value),placeholder:K.searchDoctor,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:se.map(re=>a.jsxs("button",{type:"button",onClick:()=>{l(re),u("")},className:`w-full text-left p-3 rounded-lg border transition-colors ${(o==null?void 0:o.id)===re.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[a.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:["Dr. ",re.prenom," ",re.nom]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:re.specialite})]},re.id))}),o&&a.jsxs("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[a.jsxs("div",{className:"font-medium text-green-800 dark:text-green-200",children:["Médecin sélectionné: Dr. ",o.prenom," ",o.nom]}),a.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:o.specialite})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(on,{className:"h-6 w-6 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:K.appointment})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[K.date," *"]}),a.jsx("input",{type:"date",required:!0,value:f,onChange:re=>p(re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[K.time," *"]}),a.jsx("input",{type:"time",required:!0,value:h,onChange:re=>B(re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsx("div",{className:"mt-4",children:a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:re=>N(re.target.checked),className:"form-checkbox h-5 w-5 text-red-600 focus:ring-red-500"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"h-5 w-5 text-red-600 mr-2"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:K.urgent})]})]})})]}),he.length>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(ls,{className:"h-6 w-6 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:K.pricing})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[K.subtotal,":"]}),a.jsxs("span",{className:"font-medium",children:[D.subtotal.toFixed(2)," dh"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[K.tva,":"]}),a.jsxs("span",{className:"font-medium",children:[D.tvaTotal.toFixed(2)," dh"]})]}),a.jsxs("div",{className:"flex justify-between border-t pt-2",children:[a.jsxs("span",{className:"font-medium",children:[K.totalBeforeDiscount,":"]}),a.jsxs("span",{className:"font-bold text-lg",children:[D.totalBeforeDiscount.toFixed(2)," dh"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:K.discount}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:F,onChange:re=>j(parseFloat(re.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:K.advancePayment}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:P,onChange:re=>z(parseFloat(re.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),F>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[K.discountAmount,":"]}),a.jsxs("span",{className:"text-red-600",children:["-",D.discountAmount.toFixed(2)," dh"]})]}),a.jsxs("div",{className:"flex justify-between border-t pt-2",children:[a.jsxs("span",{className:"font-bold text-lg",children:[K.amountDue,":"]}),a.jsxs("span",{className:"font-bold text-lg text-green-600",children:[D.amountDue.toFixed(2)," dh"]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:ce,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:K.clear}),a.jsxs("button",{type:"submit",disabled:S,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center transition-colors",children:[S?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):a.jsx(Pr,{size:20,className:"mr-2"}),K.submit]})]})]}),_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:K.analyses}),a.jsx("button",{onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(wt,{size:24})})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",value:A,onChange:re=>i(re.target.value),placeholder:K.searchAnalyses,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:te.map(re=>a.jsxs("label",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:re.selected,onChange:()=>Q(re.code),className:"form-checkbox h-5 w-5 text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:re.nom}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Code: ",re.code," • ",re.category]})]})]},re.code))}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx("button",{onClick:()=>H(!1),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Fermer"})})]})}),m&&a.jsxs("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg flex items-center z-50 ${U==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[U==="success"?a.jsx(Pr,{size:20,className:"mr-2"}):a.jsx(Kr,{size:20,className:"mr-2"}),v,a.jsx("button",{onClick:()=>y(!1),className:"ml-4",children:a.jsx(wt,{size:16})})]})]})}const a3="modulepreload",s3=function(e){return"/"+e},W1={},xi=function(t,r,s){if(!r||r.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(r.map(A=>{if(A=s3(A),A in W1)return;W1[A]=!0;const i=A.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(!!s)for(let u=n.length-1;u>=0;u--){const f=n[u];if(f.href===A&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${A}"]${o}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":a3,i||(c.as="script",c.crossOrigin=""),c.href=A,document.head.appendChild(c),i)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${A}`)))})})).then(()=>t()).catch(A=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=A,window.dispatchEvent(i),!i.defaultPrevented)throw A})};function n3({data:e,updateData:t,language:r}){const s={title:r==="fr"?"Informations du Patient":"Patient Information",subtitle:r==="fr"?"Saisissez les informations personnelles du patient":"Enter the patient's personal information",firstName:r==="fr"?"Prénom":"First Name",lastName:r==="fr"?"Nom":"Last Name",dateOfBirth:r==="fr"?"Date de naissance":"Date of Birth",gender:r==="fr"?"Genre":"Gender",male:r==="fr"?"Masculin":"Male",female:r==="fr"?"Féminin":"Female",phone:r==="fr"?"Téléphone":"Phone",email:"Email",cnssNumber:r==="fr"?"Numéro CNSS":"CNSS Number",address:r==="fr"?"Adresse":"Address",required:r==="fr"?"Ce champ est requis":"This field is required",invalidEmail:r==="fr"?"Email invalide":"Invalid email",invalidPhone:r==="fr"?"Numéro de téléphone invalide":"Invalid phone number"},n=(A,i)=>{t(A,i)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.firstName," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:e.firstName,onChange:A=>n("firstName",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:s.firstName,required:!0}),a.jsx(fa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.lastName," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:e.lastName,onChange:A=>n("lastName",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:s.lastName,required:!0}),a.jsx(fa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.dateOfBirth," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",value:e.dateOfBirth,onChange:A=>n("dateOfBirth",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.jsx(on,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.gender}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"gender",value:"M",checked:e.gender==="M",onChange:A=>n("gender",A.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.male]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"gender",value:"F",checked:e.gender==="F",onChange:A=>n("gender",A.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),s.female]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.phone," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"tel",value:e.phone,onChange:A=>n("phone",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+212-6-12-345678",required:!0}),a.jsx(Lx,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.email}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"email",value:e.email,onChange:A=>n("email",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"patient@email.com"}),a.jsx(Ux,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.cnssNumber}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:e.cnssNumber,onChange:A=>n("cnssNumber",A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"CNSS-123456"}),a.jsx(Zb,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.address}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:e.address,onChange:A=>n("address",A.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123 Rue Example, Ville, Code Postal"}),a.jsx(Ii,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]})]})}function A3({data:e,prescription:t,updateData:r,updatePrescription:s,language:n}){const[A,i]=T.useState([]),[o,l]=T.useState(""),[c,u]=T.useState(""),[f,p]=T.useState(!1),[h,B]=T.useState(!1),[x,N]=T.useState([]),m={title:n==="fr"?"Sélection des Analyses":"Analysis Selection",subtitle:n==="fr"?"Sélectionnez les analyses à effectuer et téléchargez l'ordonnance":"Select the analyses to perform and upload the prescription",searchAnalyses:n==="fr"?"Rechercher des analyses...":"Search analyses...",category:n==="fr"?"Catégorie":"Category",allCategories:n==="fr"?"Toutes les catégories":"All Categories",selectedAnalyses:n==="fr"?"Analyses sélectionnées":"Selected Analyses",noAnalysesSelected:n==="fr"?"Aucune analyse sélectionnée":"No analyses selected",prescription:n==="fr"?"Ordonnance":"Prescription",uploadPrescription:n==="fr"?"Télécharger l'ordonnance":"Upload Prescription",dragDropText:n==="fr"?"Glissez-déposez un fichier ici ou cliquez pour sélectionner":"Drag and drop a file here or click to select",supportedFormats:n==="fr"?"Formats supportés: PDF, JPG, PNG":"Supported formats: PDF, JPG, PNG",remove:n==="fr"?"Supprimer":"Remove",addAnalysis:n==="fr"?"Ajouter des analyses":"Add Analyses",selectAll:n==="fr"?"Tout sélectionner":"Select All",deselectAll:n==="fr"?"Tout désélectionner":"Deselect All",addSelected:n==="fr"?"Ajouter sélectionnés":"Add Selected",selectedCount:n==="fr"?"sélectionnés":"selected",code:"Code",name:n==="fr"?"Nom":"Name",price:n==="fr"?"Prix":"Price",tva:n==="fr"?"TVA":"VAT",total:"Total",noAnalysesFound:n==="fr"?"Aucune analyse trouvée":"No analyses found",loading:n==="fr"?"Chargement...":"Loading..."};T.useEffect(()=>{y()},[]);const y=async()=>{p(!0);try{const P=await Jm.getAnalyses(),z=P.analyses||P||[];i(z)}catch(P){console.error("Error loading analyses:",P),i([])}finally{p(!1)}},v=P=>{const z=P.filter(D=>!e.find(O=>O.id===D.id));z.length>0&&r([...e,...z])},E=P=>{r(e.filter(z=>z.id!==P))},U=P=>{var D;const z=(D=P.target.files)==null?void 0:D[0];z&&s(z)},V=P=>{P.preventDefault();const z=P.dataTransfer.files[0];z&&s(z)},S=P=>{P.preventDefault()},C=A.filter(P=>{const z=P.name.toLowerCase().includes(o.toLowerCase())||P.code.toLowerCase().includes(o.toLowerCase()),D=!c||P.category===c;return z&&D}),_=[...new Set(A.map(P=>P.category))],H=e.reduce((P,z)=>P+z.price,0),F=e.reduce((P,z)=>P+z.price*z.tva/100,0),j=H+F;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:m.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:m.selectedAnalyses}),a.jsxs("button",{onClick:()=>B(!0),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[a.jsx(wr,{size:16,className:"mr-1"}),m.addAnalysis]})]}),e.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:m.noAnalysesSelected}):a.jsx("div",{className:"space-y-3",children:e.map(P=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:P.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[P.code," • ",P.category]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[P.price," dh"]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",P.tva,"%"]})]}),a.jsx("button",{onClick:()=>E(P.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(wt,{size:16})})]})]},P.id))}),e.length>0&&a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[m.total,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[j.toFixed(2)," dh"]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:m.prescription}),a.jsx("div",{onDrop:V,onDragOver:S,className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors",children:t?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Aa,{size:32,className:"mx-auto text-green-600 dark:text-green-400"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(t.size/1024/1024).toFixed(2)," MB"]}),a.jsx("button",{onClick:()=>s(void 0),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm",children:m.remove})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(q1,{size:32,className:"mx-auto text-gray-400"}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:m.dragDropText}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.supportedFormats}),a.jsxs("label",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[a.jsx(q1,{size:16,className:"mr-2"}),m.uploadPrescription,a.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:U,className:"hidden"})]})]})})]})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.addAnalysis}),a.jsx("button",{onClick:()=>{B(!1),N([])},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:20})})]}),a.jsxs("div",{className:"mt-4 space-y-4",children:[a.jsx("input",{type:"text",placeholder:m.searchAnalyses,value:o,onChange:P=>l(P.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsxs("select",{value:c,onChange:P=>u(P.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:m.allCategories}),_.map(P=>a.jsx("option",{value:P,children:P},P))]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{const P=C.filter(z=>!e.find(D=>D.id===z.id));N(P)},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:m.selectAll}),a.jsx("button",{onClick:()=>N([]),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:m.deselectAll})]}),x.length>0&&a.jsxs("button",{onClick:()=>{v(x),N([]),B(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[a.jsx(wr,{size:16,className:"mr-2"}),m.addSelected," (",x.length,")"]})]})]})]}),a.jsx("div",{className:"p-6",children:f?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:m.loading})]}):a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:C.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:m.noAnalysesFound}):C.map(P=>{const z=e.find(O=>O.id===P.id),D=x.find(O=>O.id===P.id);return a.jsx("div",{className:`w-full text-left p-3 border rounded-lg cursor-pointer transition-colors ${z?"border-gray-300 bg-gray-100 dark:bg-gray-700 opacity-50 cursor-not-allowed":D?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>{z||N(D?x.filter(O=>O.id!==P.id):[...x,P])},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[!z&&a.jsx("input",{type:"checkbox",checked:!!D,onChange:()=>{},className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:P.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[P.code," • ",P.category]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[P.price," dh"]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",P.tva,"%"]})]})]})},P.id)})})})]})})]})}function i3({data:e,updateData:t,language:r}){const[s,n]=T.useState([]),[A,i]=T.useState(""),[o,l]=T.useState(!1),[c,u]=T.useState(!1),[f,p]=T.useState(!1);T.useState(!1);const h={title:r==="fr"?"Référence du Médecin":"Doctor Reference",subtitle:r==="fr"?"Sélectionnez le médecin prescripteur ou ajoutez un nouveau":"Select the prescribing doctor or add a new one",searchDoctor:r==="fr"?"Rechercher un médecin...":"Search for a doctor...",selectDoctor:r==="fr"?"Sélectionner un médecin":"Select a doctor",addNewDoctor:r==="fr"?"Ajouter un nouveau médecin":"Add new doctor",firstName:r==="fr"?"Prénom":"First Name",lastName:r==="fr"?"Nom":"Last Name",email:"Email",phone:r==="fr"?"Téléphone":"Phone",specialty:r==="fr"?"Spécialité":"Specialty",orderNumber:r==="fr"?"Numéro d'ordre":"Order Number",selectedDoctor:r==="fr"?"Médecin sélectionné":"Selected Doctor",noDoctorSelected:r==="fr"?"Aucun médecin sélectionné":"No doctor selected",required:r==="fr"?"Ce champ est requis":"This field is required",noDoctorsFound:r==="fr"?"Aucun médecin trouvé":"No doctors found",loading:r==="fr"?"Chargement...":"Loading...",specialties:{cardiology:r==="fr"?"Cardiologie":"Cardiology",endocrinology:r==="fr"?"Endocrinologie":"Endocrinology",gastroenterology:r==="fr"?"Gastro-entérologie":"Gastroenterology",dermatology:r==="fr"?"Dermatologie":"Dermatology",neurology:r==="fr"?"Neurologie":"Neurology",oncology:r==="fr"?"Oncologie":"Oncology",pediatrics:r==="fr"?"Pédiatrie":"Pediatrics",psychiatry:r==="fr"?"Psychiatrie":"Psychiatry",radiology:r==="fr"?"Radiologie":"Radiology",surgery:r==="fr"?"Chirurgie":"Surgery",other:r==="fr"?"Autre":"Other"}};T.useEffect(()=>{console.log("Step3DoctorRef mounted, loading doctors..."),B()},[]);const B=async()=>{l(!0);try{const v=await JC.getDoctors();console.log("Doctors API response:",v);const E=v.doctors||v||[];console.log("Processed doctors:",E),n(E)}catch(v){console.error("Error loading doctors:",v),n([])}finally{l(!1)}},x=v=>{t("id",v.id),t("firstName",v.firstName||""),t("lastName",v.lastName||""),t("email",v.email||""),t("phone",v.phone||""),t("specialty",v.specialty||""),t("orderNumber",v.orderNumber||""),u(!1),p(!1)},N=()=>{t("id",""),t("firstName",""),t("lastName",""),t("email",""),t("phone",""),t("specialty",""),t("orderNumber",""),p(!0)},m=s.filter(v=>{const E=v.firstName||"",U=v.lastName||"",V=v.specialty||"";return E.toLowerCase().includes(A.toLowerCase())||U.toLowerCase().includes(A.toLowerCase())||V.toLowerCase().includes(A.toLowerCase())});console.log("Available doctors:",s),console.log("Filtered doctors:",m),console.log("Search term:",A);const y=(v,E)=>{t(v,E)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:h.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:h.selectedDoctor}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>{console.log("Opening doctor modal, available doctors:",s),u(!0)},className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[a.jsx(vr,{size:16,className:"mr-1"}),h.selectDoctor]}),a.jsxs("button",{onClick:N,className:"flex items-center px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:[a.jsx(wr,{size:16,className:"mr-1"}),h.addNewDoctor]})]})]}),a.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Debug: availableDoctors=",s.length,", loading=",o.toString(),", modal=",c.toString()]}),!e.id&&!f?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:h.noDoctorSelected}):a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ad,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.firstName," ",e.lastName]})]}),e.id&&a.jsx("button",{onClick:N,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(wt,{size:16})})]}),e.specialty&&a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.specialty}),e.email&&a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.email}),e.phone&&a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.phone})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:f?h.addNewDoctor:h.selectDoctor}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[h.firstName," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:e.firstName,onChange:v=>y("firstName",v.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:h.firstName}),a.jsx(fa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[h.lastName," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:e.lastName,onChange:v=>y("lastName",v.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:h.lastName}),a.jsx(fa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:h.email}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"email",value:e.email,onChange:v=>y("email",v.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"doctor@email.com"}),a.jsx(Ux,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:h.phone}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"tel",value:e.phone,onChange:v=>y("phone",v.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+212-6-12-345678"}),a.jsx(Lx,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:h.specialty}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:e.specialty,onChange:v=>y("specialty",v.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:h.selectDoctor}),Object.entries(h.specialties).map(([v,E])=>a.jsx("option",{value:E,children:E},v))]}),a.jsx(UA,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:h.orderNumber}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:e.orderNumber,onChange:v=>y("orderNumber",v.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ORD-001"}),a.jsx(UA,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]})]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:h.selectDoctor}),a.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:20})})]}),a.jsx("div",{className:"mt-4",children:a.jsx("input",{type:"text",placeholder:h.searchDoctor,value:A,onChange:v=>i(v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),a.jsx("div",{className:"p-6",children:o?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:h.loading})]}):a.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["Total doctors: ",s.length,", Filtered: ",m.length]}),m.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:h.noDoctorsFound}):m.map(v=>a.jsx("button",{onClick:()=>x(v),className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[v.firstName," ",v.lastName]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:v.specialty}),v.email&&a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:v.email})]}),a.jsx(Ad,{size:20,className:"text-blue-600 dark:text-blue-400"})]})},v.id))]})})]})})]})}function o3({data:e,updateData:t,language:r}){const s={title:r==="fr"?"Rendez-vous":"Appointment",subtitle:r==="fr"?"Planifiez le rendez-vous pour la collecte d'échantillons":"Schedule the appointment for sample collection",date:"Date",time:r==="fr"?"Heure":"Time",location:r==="fr"?"Lieu":"Location",urgency:r==="fr"?"Urgence":"Urgency",sampleType:r==="fr"?"Type d'échantillon":"Sample Type",tubeType:r==="fr"?"Type de tube":"Tube Type",notes:"Notes",normal:"Normal",urgent:"Urgent",emergency:r==="fr"?"Urgence":"Emergency",required:r==="fr"?"Ce champ est requis":"This field is required",selectDate:r==="fr"?"Sélectionner une date":"Select a date",selectTime:r==="fr"?"Sélectionner une heure":"Select a time",enterLocation:r==="fr"?"Entrer le lieu":"Enter location",addNotes:r==="fr"?"Ajouter des notes":"Add notes",urgencyLevels:{normal:r==="fr"?"Résultats dans 24-48h":"Results in 24-48h",urgent:r==="fr"?"Résultats dans 2-4h":"Results in 2-4h",emergency:r==="fr"?"Résultats immédiats":"Immediate results"}},n=(o,l)=>{t(o,l)},A=o=>{switch(o){case"NORMAL":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"URGENT":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EMERGENCY":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},i=o=>{switch(o){case"NORMAL":return a.jsx(on,{size:16});case"URGENT":return a.jsx(Qs,{size:16});case"EMERGENCY":return a.jsx(Kr,{size:16});default:return a.jsx(on,{size:16})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.date," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",value:e.date,onChange:o=>n("date",o.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.jsx(on,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.time," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"time",value:e.time,onChange:o=>n("time",o.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.jsx(Qs,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.location}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:e.location,onChange:o=>n("location",o.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Laboratoire principal"}),a.jsx(Ii,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.urgency}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"urgency",value:"NORMAL",checked:e.urgency==="NORMAL",onChange:o=>n("urgency",o.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-2",children:s.normal}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${A("NORMAL")}`,children:i("NORMAL")})]})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"urgency",value:"URGENT",checked:e.urgency==="URGENT",onChange:o=>n("urgency",o.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-2",children:s.urgent}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${A("URGENT")}`,children:i("URGENT")})]})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"urgency",value:"EMERGENCY",checked:e.urgency==="EMERGENCY",onChange:o=>n("urgency",o.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-2",children:s.emergency}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${A("EMERGENCY")}`,children:i("EMERGENCY")})]})]})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s.sampleType," *"]}),a.jsxs("select",{value:e.sampleType,onChange:o=>n("sampleType",o.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"BLOOD",children:r==="fr"?"Sang":"Blood"}),a.jsx("option",{value:"URINE",children:"Urine"}),a.jsx("option",{value:"SALIVA",children:r==="fr"?"Salive":"Saliva"}),a.jsx("option",{value:"STOOL",children:r==="fr"?"Selles":"Stool"}),a.jsx("option",{value:"SPUTUM",children:r==="fr"?"Expectoration":"Sputum"}),a.jsx("option",{value:"CEREBROSPINAL_FLUID",children:r==="fr"?"Liquide céphalo-rachidien":"Cerebrospinal Fluid"}),a.jsx("option",{value:"SYNOVIAL_FLUID",children:r==="fr"?"Liquide synovial":"Synovial Fluid"}),a.jsx("option",{value:"PLEURAL_FLUID",children:r==="fr"?"Liquide pleural":"Pleural Fluid"}),a.jsx("option",{value:"PERITONEAL_FLUID",children:r==="fr"?"Liquide péritonéal":"Peritoneal Fluid"}),a.jsx("option",{value:"OTHER",children:r==="fr"?"Autre":"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.tubeType}),a.jsxs("select",{value:e.tubeType||"",onChange:o=>n("tubeType",o.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:r==="fr"?"Sélectionner un type de tube":"Select tube type"}),a.jsx("option",{value:"EDTA",children:"EDTA"}),a.jsx("option",{value:"CITRATE",children:"Citrate"}),a.jsx("option",{value:"HEPARIN",children:"Héparine"}),a.jsx("option",{value:"SERUM",children:"Sérum"}),a.jsx("option",{value:"PLAIN",children:"Tube sec"}),a.jsx("option",{value:"FLUORIDE",children:"Fluorure"}),a.jsx("option",{value:"OTHER",children:r==="fr"?"Autre":"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.notes}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:e.notes,onChange:o=>n("notes",o.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Instructions spéciales, allergies, etc."}),a.jsx(Aa,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Kr,{size:20,className:"text-blue-600 dark:text-blue-400 mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:[s.urgency," - ",s.urgencyLevels[e.urgency.toLowerCase()]]}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.urgency==="NORMAL"&&(r==="fr"?"Les résultats seront disponibles dans les 24-48 heures suivant la collecte.":"Results will be available within 24-48 hours after collection."),e.urgency==="URGENT"&&(r==="fr"?"Les résultats seront disponibles dans les 2-4 heures suivant la collecte.":"Results will be available within 2-4 hours after collection."),e.urgency==="EMERGENCY"&&(r==="fr"?"Les résultats seront disponibles immédiatement après la collecte.":"Results will be available immediately after collection.")]})]})]})})]})}function l3({data:e,analyses:t,updateData:r,language:s}){const n={title:s==="fr"?"Facturation":"Billing",subtitle:s==="fr"?"Informations de paiement et d'assurance":"Payment and insurance information",payer:s==="fr"?"Payeur":"Payer",patient:"Patient",insurance:s==="fr"?"Assurance":"Insurance",company:s==="fr"?"Entreprise":"Company",insuranceCompany:s==="fr"?"Compagnie d'assurance":"Insurance Company",insuranceNumber:s==="fr"?"Numéro d'assurance":"Insurance Number",discount:s==="fr"?"Remise (%)":"Discount (%)",advancePayment:s==="fr"?"Acompte":"Advance Payment",notes:"Notes",summary:s==="fr"?"Résumé de facturation":"Billing Summary",subtotal:s==="fr"?"Sous-total":"Subtotal",tva:s==="fr"?"TVA":"VAT",totalBeforeDiscount:s==="fr"?"Total avant remise":"Total before discount",discountAmount:s==="fr"?"Montant de la remise":"Discount amount",totalAfterDiscount:s==="fr"?"Total après remise":"Total after discount",amountDue:s==="fr"?"Montant dû":"Amount due",required:s==="fr"?"Ce champ est requis":"This field is required",invalidDiscount:s==="fr"?"La remise doit être entre 0 et 100":"Discount must be between 0 and 100",invalidAdvance:s==="fr"?"L'acompte ne peut pas dépasser le total":"Advance payment cannot exceed total"},A=(p,h)=>{r(p,h)},i=t.reduce((p,h)=>p+h.price,0),o=t.reduce((p,h)=>p+h.price*h.tva/100,0),l=i+o,c=l*(e.discount/100),u=l-c,f=u-e.advancePayment;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.payer}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"payer",value:"PATIENT",checked:e.payer==="PATIENT",onChange:p=>A("payer",p.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),a.jsx(rh,{size:16,className:"mr-2 text-gray-400"}),n.patient]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"payer",value:"INSURANCE",checked:e.payer==="INSURANCE",onChange:p=>A("payer",p.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),a.jsx(UA,{size:16,className:"mr-2 text-gray-400"}),n.insurance]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"payer",value:"COMPANY",checked:e.payer==="COMPANY",onChange:p=>A("payer",p.target.value),className:"mr-2 text-blue-600 focus:ring-blue-500"}),a.jsx(UA,{size:16,className:"mr-2 text-gray-400"}),n.company]})]})]}),e.payer==="INSURANCE"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.insuranceCompany}),a.jsx("input",{type:"text",value:e.insuranceCompany,onChange:p=>A("insuranceCompany",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nom de la compagnie d'assurance"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.insuranceNumber}),a.jsx("input",{type:"text",value:e.insuranceNumber,onChange:p=>A("insuranceNumber",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Numéro de police"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.discount}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:e.discount,onChange:p=>A("discount",parseFloat(p.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"}),a.jsx(LC,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.advancePayment}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",min:"0",step:"0.01",value:e.advancePayment,onChange:p=>A("advancePayment",parseFloat(p.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"}),a.jsx(ls,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n.notes}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:e.notes,onChange:p=>A("notes",p.target.value),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notes de facturation..."}),a.jsx(Aa,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:n.summary}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.subtotal,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[i.toFixed(2)," dh"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.tva,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[o.toFixed(2)," dh"]})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.totalBeforeDiscount,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[l.toFixed(2)," dh"]})]})}),e.discount>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.discountAmount,":"]}),a.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:["-",c.toFixed(2)," dh"]})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.totalAfterDiscount,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[u.toFixed(2)," dh"]})]})})]}),e.advancePayment>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[n.advancePayment,":"]}),a.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["-",e.advancePayment.toFixed(2)," dh"]})]}),a.jsx("div",{className:"border-t-2 border-gray-300 dark:border-gray-500 pt-2",children:a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsxs("span",{className:"text-gray-900 dark:text-white",children:[n.amountDue,":"]}),a.jsxs("span",{className:`${f>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[f.toFixed(2)," dh"]})]})})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(rh,{size:20,className:"text-blue-600 dark:text-blue-400 mr-3"}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:[e.payer==="PATIENT"&&n.patient,e.payer==="INSURANCE"&&n.insurance,e.payer==="COMPANY"&&n.company]}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.payer==="PATIENT"&&(s==="fr"?"Le patient paiera directement":"Patient will pay directly"),e.payer==="INSURANCE"&&(s==="fr"?"Paiement par assurance":"Payment by insurance"),e.payer==="COMPANY"&&(s==="fr"?"Paiement par entreprise":"Payment by company")]})]})]})})]})]})]})}function c3({data:e,language:t}){const r={title:t==="fr"?"Révision et Soumission":"Review and Submit",subtitle:t==="fr"?"Vérifiez toutes les informations avant de soumettre la demande":"Review all information before submitting the request",patientInfo:t==="fr"?"Informations du Patient":"Patient Information",analyses:"Analyses",doctorInfo:t==="fr"?"Informations du Médecin":"Doctor Information",appointment:t==="fr"?"Rendez-vous":"Appointment",billing:t==="fr"?"Facturation":"Billing",prescription:t==="fr"?"Ordonnance":"Prescription",name:t==="fr"?"Nom":"Name",dateOfBirth:t==="fr"?"Date de naissance":"Date of Birth",gender:t==="fr"?"Genre":"Gender",phone:t==="fr"?"Téléphone":"Phone",email:"Email",cnssNumber:t==="fr"?"Numéro CNSS":"CNSS Number",address:t==="fr"?"Adresse":"Address",specialty:t==="fr"?"Spécialité":"Specialty",orderNumber:t==="fr"?"Numéro d'ordre":"Order Number",date:"Date",time:t==="fr"?"Heure":"Time",location:t==="fr"?"Lieu":"Location",urgency:t==="fr"?"Urgence":"Urgency",notes:"Notes",payer:t==="fr"?"Payeur":"Payer",insuranceCompany:t==="fr"?"Compagnie d'assurance":"Insurance Company",insuranceNumber:t==="fr"?"Numéro d'assurance":"Insurance Number",discount:t==="fr"?"Remise":"Discount",advancePayment:t==="fr"?"Acompte":"Advance Payment",subtotal:t==="fr"?"Sous-total":"Subtotal",tva:t==="fr"?"TVA":"VAT",total:"Total",amountDue:t==="fr"?"Montant dû":"Amount due",uploaded:t==="fr"?"Téléchargé":"Uploaded",notUploaded:t==="fr"?"Non téléchargé":"Not uploaded",male:t==="fr"?"Masculin":"Male",female:t==="fr"?"Féminin":"Female",normal:"Normal",urgent:"Urgent",emergency:t==="fr"?"Urgence":"Emergency",patient:"Patient",insurance:t==="fr"?"Assurance":"Insurance",company:t==="fr"?"Entreprise":"Company",noData:t==="fr"?"Aucune donnée":"No data",readyToSubmit:t==="fr"?"Prêt à soumettre":"Ready to submit",reviewComplete:t==="fr"?"Révision terminée":"Review complete"},s=e.analyses.reduce((f,p)=>f+p.price,0),n=e.analyses.reduce((f,p)=>f+p.price*p.tva/100,0),A=s+n,i=A*(e.billing.discount/100),l=A-i-e.billing.advancePayment,c=f=>f?new Date(f).toLocaleDateString(t==="fr"?"fr-FR":"en-US"):r.noData,u=f=>{switch(f){case"NORMAL":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"URGENT":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EMERGENCY":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(fa,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.patientInfo})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.name,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.patient.firstName," ",e.patient.lastName]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.dateOfBirth,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c(e.patient.dateOfBirth)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.gender,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.gender==="M"?r.male:r.female})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.phone,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.phone})]}),e.patient.email&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.email,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.email})]}),e.patient.cnssNumber&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.cnssNumber,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.cnssNumber})]}),e.patient.address&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.address,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.patient.address})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Ad,{size:20,className:"text-green-600 dark:text-green-400 mr-2"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.doctorInfo})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.name,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.doctor.firstName," ",e.doctor.lastName]})]}),e.doctor.specialty&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.specialty,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.specialty})]}),e.doctor.email&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.email,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.email})]}),e.doctor.phone&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.phone,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.phone})]}),e.doctor.orderNumber&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.orderNumber,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.doctor.orderNumber})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(on,{size:20,className:"text-purple-600 dark:text-purple-400 mr-2"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.appointment})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.date,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c(e.appointment.date)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.time,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.time})]}),e.appointment.location&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.location,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.location})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.urgency,":"]}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${u(e.appointment.urgency)}`,children:[e.appointment.urgency==="NORMAL"&&r.normal,e.appointment.urgency==="URGENT"&&r.urgent,e.appointment.urgency==="EMERGENCY"&&r.emergency]})]}),e.appointment.notes&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.notes,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.appointment.notes})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(rh,{size:20,className:"text-orange-600 dark:text-orange-400 mr-2"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.billing})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.payer,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.payer==="PATIENT"&&r.patient,e.billing.payer==="INSURANCE"&&r.insurance,e.billing.payer==="COMPANY"&&r.company]})]}),e.billing.payer==="INSURANCE"&&e.billing.insuranceCompany&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.insuranceCompany,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.billing.insuranceCompany})]}),e.billing.payer==="INSURANCE"&&e.billing.insuranceNumber&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.insuranceNumber,":"]}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.billing.insuranceNumber})]}),e.billing.discount>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.discount,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.discount,"%"]})]}),e.billing.advancePayment>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.advancePayment,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.billing.advancePayment," dh"]})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.amountDue,":"]}),a.jsxs("span",{className:`font-bold ${l>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[l.toFixed(2)," dh"]})]})})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Aa,{size:20,className:"text-indigo-600 dark:text-indigo-400 mr-2"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.analyses})]}),a.jsxs("div",{className:"space-y-3",children:[e.analyses.map(f=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:f.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f.code," • ",f.category]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[f.price," dh"]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["TVA: ",f.tva,"%"]})]})]},f.id)),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.subtotal,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[s.toFixed(2)," dh"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r.tva,":"]}),a.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[n.toFixed(2)," dh"]})]}),a.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[a.jsxs("span",{className:"text-gray-900 dark:text-white",children:[r.total,":"]}),a.jsxs("span",{className:"text-gray-900 dark:text-white",children:[A.toFixed(2)," dh"]})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Aa,{size:20,className:"text-blue-600 dark:text-blue-400 mr-2"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:r.prescription})]}),a.jsx("div",{className:"flex items-center",children:e.prescription?a.jsxs(a.Fragment,{children:[a.jsx(Pr,{size:20,className:"text-green-600 dark:text-green-400 mr-2"}),a.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:r.uploaded}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:["(",e.prescription.name,")"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Kr,{size:20,className:"text-yellow-600 dark:text-yellow-400 mr-2"}),a.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:r.notUploaded})]})})]}),a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pr,{size:24,className:"text-green-600 dark:text-green-400 mr-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100",children:r.readyToSubmit}),a.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:r.reviewComplete})]})]})})]})}const Fu=[{id:1,title:"Patient Info",icon:fa},{id:2,title:"Analyses",icon:Aa},{id:3,title:"Doctor Ref",icon:Ad},{id:4,title:"Appointment",icon:on},{id:5,title:"Billing",icon:rh},{id:6,title:"Review",icon:cs}];function d3(){const{language:e}=dt(),t=un(),[r,s]=T.useState(1),[n,A]=T.useState(!1),[i,o]=T.useState({patient:{firstName:"",lastName:"",dateOfBirth:"",gender:"M",phone:"",email:"",cnssNumber:"",address:""},analyses:[],doctor:{id:"",firstName:"",lastName:"",email:"",phone:"",specialty:"",orderNumber:""},appointment:{date:"",time:"",location:"",urgency:"NORMAL",sampleType:"BLOOD",tubeType:void 0,notes:""},billing:{payer:"PATIENT",insuranceCompany:"",insuranceNumber:"",discount:0,advancePayment:0,notes:""}}),l={title:e==="fr"?"Nouvelle Demande d'Analyse":"New Analysis Request",subtitle:e==="fr"?"Créer une nouvelle demande d'analyse de laboratoire":"Create a new laboratory analysis request",back:e==="fr"?"Retour":"Back",next:e==="fr"?"Suivant":"Next",submit:e==="fr"?"Soumettre":"Submit",loading:e==="fr"?"Envoi en cours...":"Submitting...",success:e==="fr"?"Demande créée avec succès":"Request created successfully",error:e==="fr"?"Erreur lors de la création":"Error creating request",step:e==="fr"?"Étape":"Step",of:e==="fr"?"sur":"of"},c=(N,m)=>{o(y=>({...y,[N]:m}))},u=(N,m,y)=>{o(v=>({...v,[N]:{...v[N],[m]:y}}))},f=()=>{r<Fu.length&&s(r+1)},p=()=>{r>1&&s(r-1)},h=async()=>{A(!0);try{const N=i.analyses.reduce((H,F)=>H+F.price,0),m=i.analyses.reduce((H,F)=>H+F.price*F.tva/100,0),y=N+m,v=y*(i.billing.discount/100),U=y-v-i.billing.advancePayment;let V;if(i.patient.cnssNumber)try{const H=await jo.getPatients({cnssNumber:i.patient.cnssNumber}),F=H.patients||H||[];if(F.length>0){const j=F[0];if(V=j.id,j.firstName!==i.patient.firstName||j.lastName!==i.patient.lastName||(j.gender||"")!==i.patient.gender||(j.phone||"")!==i.patient.phone||(j.email||"")!==i.patient.email||(j.address||"")!==i.patient.address||(j.dateOfBirth?j.dateOfBirth.slice(0,10):"")!==i.patient.dateOfBirth)try{await jo.updatePatient(j.id,{firstName:i.patient.firstName,lastName:i.patient.lastName,dateOfBirth:new Date(i.patient.dateOfBirth).toISOString(),gender:i.patient.gender,phone:i.patient.phone,email:i.patient.email,cnssNumber:i.patient.cnssNumber,address:i.patient.address})}catch{console.warn("Patient update failed, proceeding with existing data")}}else V=(await jo.createPatient({firstName:i.patient.firstName,lastName:i.patient.lastName,dateOfBirth:new Date(i.patient.dateOfBirth).toISOString(),gender:i.patient.gender,phone:i.patient.phone,email:i.patient.email,cnssNumber:i.patient.cnssNumber,address:i.patient.address})).id}catch{V=(await jo.createPatient({firstName:i.patient.firstName,lastName:i.patient.lastName,dateOfBirth:new Date(i.patient.dateOfBirth).toISOString(),gender:i.patient.gender,phone:i.patient.phone,email:i.patient.email,cnssNumber:i.patient.cnssNumber,address:i.patient.address})).id}else V=(await jo.createPatient({firstName:i.patient.firstName,lastName:i.patient.lastName,dateOfBirth:new Date(i.patient.dateOfBirth).toISOString(),gender:i.patient.gender,phone:i.patient.phone,email:i.patient.email,address:i.patient.address})).id;const S=i.analyses.map(H=>({analysisId:H.id,price:H.price,tva:H.tva})),C={patientId:V,doctorId:i.doctor.id||void 0,appointmentDate:new Date(i.appointment.date).toISOString(),appointmentTime:i.appointment.time,sampleType:i.appointment.sampleType,tubeType:i.appointment.tubeType,urgent:i.appointment.urgency==="URGENT"||i.appointment.urgency==="EMERGENCY",discount:i.billing.discount,advancePayment:i.billing.advancePayment,notes:i.appointment.notes+(i.billing.notes?`
Billing: ${i.billing.notes}`:""),analyses:S},_=await Di.createRequest(C);alert(e==="fr"?"Demande créée avec succès!":"Request created successfully!");try{if(window.confirm(e==="fr"?"Imprimer le reçu patient ?":"Print patient receipt?")){const{printReceipt:z}=await xi(()=>import("./printing-cfcc767e.js"),[]);z(_,{amountPaid:i.billing.advancePayment,paymentMethod:i.billing.payer})}if(window.confirm(e==="fr"?"Imprimer la fiche de prélèvement ?":"Print collection sheet?")){const{printCollectionSheet:z}=await xi(()=>import("./printing-cfcc767e.js"),[]);z(_)}if(window.confirm(e==="fr"?"Imprimer les étiquettes des tubes ?":"Print tube labels?")){const{printTubeLabels:z}=await xi(()=>import("./printing-cfcc767e.js"),[]);z(_)}if(window.confirm(e==="fr"?"Imprimer le bordereau de routage interne ?":"Print internal routing slip?")){const{printRoutingSlip:z}=await xi(()=>import("./printing-cfcc767e.js"),[]);z(_)}}catch(H){console.warn("Printing flow error",H)}t("/requests")}catch(N){console.error("Error submitting request:",N),alert(e==="fr"?"Erreur lors de la création de la demande":"Error creating request")}finally{A(!1)}},B=()=>{switch(r){case 1:return a.jsx(n3,{data:i.patient,updateData:(N,m)=>u("patient",N,m),language:e});case 2:return a.jsx(A3,{data:i.analyses,prescription:i.prescription,updateData:N=>c("analyses",N),updatePrescription:N=>c("prescription",N),language:e});case 3:return a.jsx(i3,{data:i.doctor,updateData:(N,m)=>u("doctor",N,m),language:e});case 4:return a.jsx(o3,{data:i.appointment,updateData:(N,m)=>u("appointment",N,m),language:e});case 5:return a.jsx(l3,{data:i.billing,analyses:i.analyses,updateData:(N,m)=>u("billing",N,m),language:e});case 6:return a.jsx(c3,{data:i,language:e});default:return null}},x=()=>{switch(r){case 1:return i.patient.firstName&&i.patient.lastName&&i.patient.dateOfBirth&&i.patient.phone;case 2:return i.analyses.length>0;case 3:return i.doctor.id||i.doctor.firstName&&i.doctor.lastName;case 4:return i.appointment.date&&i.appointment.time;case 5:return!0;case 6:return!0;default:return!1}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("button",{onClick:()=>t("/requests"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mr-4",children:[a.jsx(Ui,{size:20,className:"mr-2"}),l.back]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:l.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l.subtitle})]})]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l.step," ",r," ",l.of," ",Fu.length]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:e==="fr"?"Progression":"Progress"}),a.jsx("nav",{className:"space-y-2",children:Fu.map((N,m)=>{const y=N.icon,v=r===N.id,E=r>N.id;return a.jsxs("div",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-colors ${v?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700":E?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700":"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600"}`,onClick:()=>s(N.id),children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full mr-3",children:E?a.jsx(Pr,{size:20,className:"text-green-600 dark:text-green-400"}):a.jsx(y,{size:20,className:v?"text-blue-600 dark:text-blue-400":"text-gray-400"})}),a.jsx("span",{className:`text-sm font-medium ${v?"text-blue-900 dark:text-blue-100":E?"text-green-900 dark:text-green-100":"text-gray-600 dark:text-gray-400"}`,children:N.title})]},N.id)})})]})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"p-6",children:B()}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("button",{onClick:p,disabled:r===1,className:"flex items-center px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Ui,{size:16,className:"mr-2"}),l.back]}),a.jsx("div",{className:"flex items-center space-x-3",children:r<Fu.length?a.jsxs("button",{onClick:f,disabled:!x(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.next,a.jsx(th,{size:16,className:"ml-2"})]}):a.jsx("button",{onClick:h,disabled:!x()||n,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),l.loading]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),l.submit]})})})]})]})})]})})]})}function Qt(e){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(e)}var aa=Uint8Array,Ma=Uint16Array,Ix=Int32Array,Rh=new aa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hh=new aa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$m=new aa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s5=function(e,t){for(var r=new Ma(31),s=0;s<31;++s)r[s]=t+=1<<e[s-1];for(var n=new Ix(r[30]),s=1;s<30;++s)for(var A=r[s];A<r[s+1];++A)n[A]=A-r[s]<<5|s;return{b:r,r:n}},n5=s5(Rh,2),A5=n5.b,Xm=n5.r;A5[28]=258,Xm[258]=28;var i5=s5(Hh,0),u3=i5.b,J1=i5.r,Ym=new Ma(32768);for(var Kt=0;Kt<32768;++Kt){var iA=(Kt&43690)>>1|(Kt&21845)<<1;iA=(iA&52428)>>2|(iA&13107)<<2,iA=(iA&61680)>>4|(iA&3855)<<4,Ym[Kt]=((iA&65280)>>8|(iA&255)<<8)>>1}var dn=function(e,t,r){for(var s=e.length,n=0,A=new Ma(t);n<s;++n)e[n]&&++A[e[n]-1];var i=new Ma(t);for(n=1;n<t;++n)i[n]=i[n-1]+A[n-1]<<1;var o;if(r){o=new Ma(1<<t);var l=15-t;for(n=0;n<s;++n)if(e[n])for(var c=n<<4|e[n],u=t-e[n],f=i[e[n]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)o[Ym[f]>>l]=c}else for(o=new Ma(s),n=0;n<s;++n)e[n]&&(o[n]=Ym[i[e[n]-1]++]>>15-e[n]);return o},HA=new aa(288);for(var Kt=0;Kt<144;++Kt)HA[Kt]=8;for(var Kt=144;Kt<256;++Kt)HA[Kt]=9;for(var Kt=256;Kt<280;++Kt)HA[Kt]=7;for(var Kt=280;Kt<288;++Kt)HA[Kt]=8;var id=new aa(32);for(var Kt=0;Kt<32;++Kt)id[Kt]=5;var h3=dn(HA,9,0),f3=dn(HA,9,1),g3=dn(id,5,0),m3=dn(id,5,1),vg=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Bs=function(e,t,r){var s=t/8|0;return(e[s]|e[s+1]<<8)>>(t&7)&r},bg=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Px=function(e){return(e+7)/8|0},o5=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new aa(e.subarray(t,r))},p3=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Cs=function(e,t,r){var s=new Error(t||p3[e]);if(s.code=e,Error.captureStackTrace&&Error.captureStackTrace(s,Cs),!r)throw s;return s},x3=function(e,t,r,s){var n=e.length,A=s?s.length:0;if(!n||t.f&&!t.l)return r||new aa(0);var i=!r,o=i||t.i!=2,l=t.i;i&&(r=new aa(n*3));var c=function(Ce){var Le=r.length;if(Ce>Le){var Ee=new aa(Math.max(Le*2,Ce));Ee.set(r),r=Ee}},u=t.f||0,f=t.p||0,p=t.b||0,h=t.l,B=t.d,x=t.m,N=t.n,m=n*8;do{if(!h){u=Bs(e,f,1);var y=Bs(e,f+1,3);if(f+=3,y)if(y==1)h=f3,B=m3,x=9,N=5;else if(y==2){var V=Bs(e,f,31)+257,S=Bs(e,f+10,15)+4,C=V+Bs(e,f+5,31)+1;f+=14;for(var _=new aa(C),H=new aa(19),F=0;F<S;++F)H[$m[F]]=Bs(e,f+F*3,7);f+=S*3;for(var j=vg(H),P=(1<<j)-1,z=dn(H,j,1),F=0;F<C;){var D=z[Bs(e,f,P)];f+=D&15;var v=D>>4;if(v<16)_[F++]=v;else{var O=0,Z=0;for(v==16?(Z=3+Bs(e,f,3),f+=2,O=_[F-1]):v==17?(Z=3+Bs(e,f,7),f+=3):v==18&&(Z=11+Bs(e,f,127),f+=7);Z--;)_[F++]=O}}var K=_.subarray(0,V),te=_.subarray(V);x=vg(K),N=vg(te),h=dn(K,x,1),B=dn(te,N,1)}else Cs(1);else{var v=Px(f)+4,E=e[v-4]|e[v-3]<<8,U=v+E;if(U>n){l&&Cs(0);break}o&&c(p+E),r.set(e.subarray(v,U),p),t.b=p+=E,t.p=f=U*8,t.f=u;continue}if(f>m){l&&Cs(0);break}}o&&c(p+131072);for(var se=(1<<x)-1,he=(1<<N)-1,Q=f;;Q=f){var O=h[bg(e,f)&se],J=O>>4;if(f+=O&15,f>m){l&&Cs(0);break}if(O||Cs(2),J<256)r[p++]=J;else if(J==256){Q=f,h=null;break}else{var X=J-254;if(J>264){var F=J-257,ee=Rh[F];X=Bs(e,f,(1<<ee)-1)+A5[F],f+=ee}var ne=B[bg(e,f)&he],ce=ne>>4;ne||Cs(3),f+=ne&15;var te=u3[ce];if(ce>3){var ee=Hh[ce];te+=bg(e,f)&(1<<ee)-1,f+=ee}if(f>m){l&&Cs(0);break}o&&c(p+131072);var re=p+X;if(p<te){var de=A-te,Ne=Math.min(te,re);for(de+p<0&&Cs(3);p<Ne;++p)r[p]=s[de+p]}for(;p<re;++p)r[p]=r[p-te]}}t.l=h,t.p=Q,t.b=p,t.f=u,h&&(u=1,t.m=x,t.d=B,t.n=N)}while(!u);return p!=r.length&&i?o5(r,0,p):r.subarray(0,p)},Cn=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8},ic=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8,e[s+2]|=r>>16},Bg=function(e,t){for(var r=[],s=0;s<e.length;++s)e[s]&&r.push({s,f:e[s]});var n=r.length,A=r.slice();if(!n)return{t:c5,l:0};if(n==1){var i=new aa(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(U,V){return U.f-V.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=n-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=A[0].s,s=1;s<n;++s)A[s].s>p&&(p=A[s].s);var h=new Ma(p+1),B=Zm(r[u-1],h,0);if(B>t){var s=0,x=0,N=B-t,m=1<<N;for(A.sort(function(V,S){return h[S.s]-h[V.s]||V.f-S.f});s<n;++s){var y=A[s].s;if(h[y]>t)x+=m-(1<<B-h[y]),h[y]=t;else break}for(x>>=N;x>0;){var v=A[s].s;h[v]<t?x-=1<<t-h[v]++-1:++s}for(;s>=0&&x;--s){var E=A[s].s;h[E]==t&&(--h[E],++x)}B=t}return{t:new aa(h),l:B}},Zm=function(e,t,r){return e.s==-1?Math.max(Zm(e.l,t,r+1),Zm(e.r,t,r+1)):t[e.s]=r},$1=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ma(++t),s=0,n=e[0],A=1,i=function(l){r[s++]=l},o=1;o<=t;++o)if(e[o]==n&&o!=t)++A;else{if(!n&&A>2){for(;A>138;A-=138)i(32754);A>2&&(i(A>10?A-11<<5|28690:A-3<<5|12305),A=0)}else if(A>3){for(i(n),--A;A>6;A-=6)i(8304);A>2&&(i(A-3<<5|8208),A=0)}for(;A--;)i(n);A=1,n=e[o]}return{c:r.subarray(0,s),n:t}},oc=function(e,t){for(var r=0,s=0;s<t.length;++s)r+=e[s]*t[s];return r},l5=function(e,t,r){var s=r.length,n=Px(t+2);e[n]=s&255,e[n+1]=s>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var A=0;A<s;++A)e[n+A+4]=r[A];return(n+4+s)*8},X1=function(e,t,r,s,n,A,i,o,l,c,u){Cn(t,u++,r),++n[256];for(var f=Bg(n,15),p=f.t,h=f.l,B=Bg(A,15),x=B.t,N=B.l,m=$1(p),y=m.c,v=m.n,E=$1(x),U=E.c,V=E.n,S=new Ma(19),C=0;C<y.length;++C)++S[y[C]&31];for(var C=0;C<U.length;++C)++S[U[C]&31];for(var _=Bg(S,7),H=_.t,F=_.l,j=19;j>4&&!H[$m[j-1]];--j);var P=c+5<<3,z=oc(n,HA)+oc(A,id)+i,D=oc(n,p)+oc(A,x)+i+14+3*j+oc(S,H)+2*S[16]+3*S[17]+7*S[18];if(l>=0&&P<=z&&P<=D)return l5(t,u,e.subarray(l,l+c));var O,Z,K,te;if(Cn(t,u,1+(D<z)),u+=2,D<z){O=dn(p,h,0),Z=p,K=dn(x,N,0),te=x;var se=dn(H,F,0);Cn(t,u,v-257),Cn(t,u+5,V-1),Cn(t,u+10,j-4),u+=14;for(var C=0;C<j;++C)Cn(t,u+3*C,H[$m[C]]);u+=3*j;for(var he=[y,U],Q=0;Q<2;++Q)for(var J=he[Q],C=0;C<J.length;++C){var X=J[C]&31;Cn(t,u,se[X]),u+=H[X],X>15&&(Cn(t,u,J[C]>>5&127),u+=J[C]>>12)}}else O=h3,Z=HA,K=g3,te=id;for(var C=0;C<o;++C){var ee=s[C];if(ee>255){var X=ee>>18&31;ic(t,u,O[X+257]),u+=Z[X+257],X>7&&(Cn(t,u,ee>>23&31),u+=Rh[X]);var ne=ee&31;ic(t,u,K[ne]),u+=te[ne],ne>3&&(ic(t,u,ee>>5&8191),u+=Hh[ne])}else ic(t,u,O[ee]),u+=Z[ee]}return ic(t,u,O[256]),u+Z[256]},y3=new Ix([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),c5=new aa(0),w3=function(e,t,r,s,n,A){var i=A.z||e.length,o=new aa(s+i+5*(1+Math.ceil(i/7e3))+n),l=o.subarray(s,o.length-n),c=A.l,u=(A.r||0)&7;if(t){u&&(l[0]=A.r>>3);for(var f=y3[t-1],p=f>>13,h=f&8191,B=(1<<r)-1,x=A.p||new Ma(32768),N=A.h||new Ma(B+1),m=Math.ceil(r/3),y=2*m,v=function($e){return(e[$e]^e[$e+1]<<m^e[$e+2]<<y)&B},E=new Ix(25e3),U=new Ma(288),V=new Ma(32),S=0,C=0,_=A.i||0,H=0,F=A.w||0,j=0;_+2<i;++_){var P=v(_),z=_&32767,D=N[P];if(x[z]=D,N[P]=z,F<=_){var O=i-_;if((S>7e3||H>24576)&&(O>423||!c)){u=X1(e,l,0,E,U,V,C,H,j,_-j,u),H=S=C=0,j=_;for(var Z=0;Z<286;++Z)U[Z]=0;for(var Z=0;Z<30;++Z)V[Z]=0}var K=2,te=0,se=h,he=z-D&32767;if(O>2&&P==v(_-he))for(var Q=Math.min(p,O)-1,J=Math.min(32767,_),X=Math.min(258,O);he<=J&&--se&&z!=D;){if(e[_+K]==e[_+K-he]){for(var ee=0;ee<X&&e[_+ee]==e[_+ee-he];++ee);if(ee>K){if(K=ee,te=he,ee>Q)break;for(var ne=Math.min(he,ee-2),ce=0,Z=0;Z<ne;++Z){var re=_-he+Z&32767,de=x[re],Ne=re-de&32767;Ne>ce&&(ce=Ne,D=re)}}}z=D,D=x[z],he+=z-D&32767}if(te){E[H++]=268435456|Xm[K]<<18|J1[te];var Ce=Xm[K]&31,Le=J1[te]&31;C+=Rh[Ce]+Hh[Le],++U[257+Ce],++V[Le],F=_+K,++S}else E[H++]=e[_],++U[e[_]]}}for(_=Math.max(_,F);_<i;++_)E[H++]=e[_],++U[e[_]];u=X1(e,l,c,E,U,V,C,H,j,_-j,u),c||(A.r=u&7|l[u/8|0]<<3,u-=7,A.h=N,A.p=x,A.i=_,A.w=F)}else{for(var _=A.w||0;_<i+c;_+=65535){var Ee=_+65535;Ee>=i&&(l[u/8|0]=c,Ee=i),u=l5(l,u+1,e.subarray(_,Ee))}A.i=i}return o5(o,0,s+Px(u)+n)},d5=function(){var e=1,t=0;return{p:function(r){for(var s=e,n=t,A=r.length|0,i=0;i!=A;){for(var o=Math.min(i+2655,A);i<o;++i)n+=s+=r[i];s=(s&65535)+15*(s>>16),n=(n&65535)+15*(n>>16)}e=s,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},v3=function(e,t,r,s,n){if(!n&&(n={l:1},t.dictionary)){var A=t.dictionary.subarray(-32768),i=new aa(A.length+e.length);i.set(A),i.set(e,A.length),e=i,n.w=A.length}return w3(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,s,n)},u5=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},b3=function(e,t){var r=t.level,s=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=d5();n.p(t.dictionary),u5(e,2,n.d())}},B3=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Cs(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Cs(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function ep(e,t){t||(t={});var r=d5();r.p(e);var s=v3(e,t,t.dictionary?6:2,4);return b3(s,t),u5(s,s.length-4,r.d()),s}function N3(e,t){return x3(e.subarray(B3(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var k3=typeof TextDecoder<"u"&&new TextDecoder,j3=0;try{k3.decode(c5,{stream:!0}),j3=1}catch{}var et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ng(){et.console&&typeof et.console.log=="function"&&et.console.log.apply(et.console,arguments)}var Tt={log:Ng,warn:function(e){et.console&&(typeof et.console.warn=="function"?et.console.warn.apply(et.console,arguments):Ng.call(null,arguments))},error:function(e){et.console&&(typeof et.console.error=="function"?et.console.error.apply(et.console,arguments):Ng(e))}};function kg(e,t,r){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){ui(s.response,t,r)},s.onerror=function(){Tt.error("could not download file")},s.send()}function Y1(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Eu(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Pc,tp,ui=et.saveAs||((typeof window>"u"?"undefined":Qt(window))!=="object"||window!==et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var s=et.URL||et.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?Y1(n.href)?kg(e,t,r):Eu(n,n.target="_blank"):Eu(n)):(n.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(n.href)},4e4),setTimeout(function(){Eu(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Y1(e))kg(e,t,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){Eu(s)})}else navigator.msSaveOrOpenBlob(function(n,A){return A===void 0?A={autoBom:!1}:Qt(A)!=="object"&&(Tt.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n}(e,r),t)}:function(e,t,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return kg(e,t,r);var n=e.type==="application/octet-stream",A=/constructor/i.test(et.HTMLElement)||et.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||n&&A)&&(typeof FileReader>"u"?"undefined":Qt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=i?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},o.readAsDataURL(e)}else{var l=et.URL||et.webkitURL,c=l.createObjectURL(e);s?s.location=c:location.href=c,s=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function h5(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],s=0;s<r.length;s++){var n=r[s].re,A=r[s].process,i=n.exec(e);i&&(t=A(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function jg(e,t){var r=e[0],s=e[1],n=e[2],A=e[3];r=$r(r,s,n,A,t[0],7,-680876936),A=$r(A,r,s,n,t[1],12,-389564586),n=$r(n,A,r,s,t[2],17,606105819),s=$r(s,n,A,r,t[3],22,-1044525330),r=$r(r,s,n,A,t[4],7,-176418897),A=$r(A,r,s,n,t[5],12,1200080426),n=$r(n,A,r,s,t[6],17,-1473231341),s=$r(s,n,A,r,t[7],22,-45705983),r=$r(r,s,n,A,t[8],7,1770035416),A=$r(A,r,s,n,t[9],12,-1958414417),n=$r(n,A,r,s,t[10],17,-42063),s=$r(s,n,A,r,t[11],22,-1990404162),r=$r(r,s,n,A,t[12],7,1804603682),A=$r(A,r,s,n,t[13],12,-40341101),n=$r(n,A,r,s,t[14],17,-1502002290),r=Xr(r,s=$r(s,n,A,r,t[15],22,1236535329),n,A,t[1],5,-165796510),A=Xr(A,r,s,n,t[6],9,-1069501632),n=Xr(n,A,r,s,t[11],14,643717713),s=Xr(s,n,A,r,t[0],20,-373897302),r=Xr(r,s,n,A,t[5],5,-701558691),A=Xr(A,r,s,n,t[10],9,38016083),n=Xr(n,A,r,s,t[15],14,-660478335),s=Xr(s,n,A,r,t[4],20,-405537848),r=Xr(r,s,n,A,t[9],5,568446438),A=Xr(A,r,s,n,t[14],9,-1019803690),n=Xr(n,A,r,s,t[3],14,-187363961),s=Xr(s,n,A,r,t[8],20,1163531501),r=Xr(r,s,n,A,t[13],5,-1444681467),A=Xr(A,r,s,n,t[2],9,-51403784),n=Xr(n,A,r,s,t[7],14,1735328473),r=Yr(r,s=Xr(s,n,A,r,t[12],20,-1926607734),n,A,t[5],4,-378558),A=Yr(A,r,s,n,t[8],11,-2022574463),n=Yr(n,A,r,s,t[11],16,1839030562),s=Yr(s,n,A,r,t[14],23,-35309556),r=Yr(r,s,n,A,t[1],4,-1530992060),A=Yr(A,r,s,n,t[4],11,1272893353),n=Yr(n,A,r,s,t[7],16,-155497632),s=Yr(s,n,A,r,t[10],23,-1094730640),r=Yr(r,s,n,A,t[13],4,681279174),A=Yr(A,r,s,n,t[0],11,-358537222),n=Yr(n,A,r,s,t[3],16,-722521979),s=Yr(s,n,A,r,t[6],23,76029189),r=Yr(r,s,n,A,t[9],4,-640364487),A=Yr(A,r,s,n,t[12],11,-421815835),n=Yr(n,A,r,s,t[15],16,530742520),r=Zr(r,s=Yr(s,n,A,r,t[2],23,-995338651),n,A,t[0],6,-198630844),A=Zr(A,r,s,n,t[7],10,1126891415),n=Zr(n,A,r,s,t[14],15,-1416354905),s=Zr(s,n,A,r,t[5],21,-57434055),r=Zr(r,s,n,A,t[12],6,1700485571),A=Zr(A,r,s,n,t[3],10,-1894986606),n=Zr(n,A,r,s,t[10],15,-1051523),s=Zr(s,n,A,r,t[1],21,-2054922799),r=Zr(r,s,n,A,t[8],6,1873313359),A=Zr(A,r,s,n,t[15],10,-30611744),n=Zr(n,A,r,s,t[6],15,-1560198380),s=Zr(s,n,A,r,t[13],21,1309151649),r=Zr(r,s,n,A,t[4],6,-145523070),A=Zr(A,r,s,n,t[11],10,-1120210379),n=Zr(n,A,r,s,t[2],15,718787259),s=Zr(s,n,A,r,t[9],21,-343485551),e[0]=yA(r,e[0]),e[1]=yA(s,e[1]),e[2]=yA(n,e[2]),e[3]=yA(A,e[3])}function Mh(e,t,r,s,n,A){return t=yA(yA(t,e),yA(s,A)),yA(t<<n|t>>>32-n,r)}function $r(e,t,r,s,n,A,i){return Mh(t&r|~t&s,e,t,n,A,i)}function Xr(e,t,r,s,n,A,i){return Mh(t&s|r&~s,e,t,n,A,i)}function Yr(e,t,r,s,n,A,i){return Mh(t^r^s,e,t,n,A,i)}function Zr(e,t,r,s,n,A,i){return Mh(r^(t|~s),e,t,n,A,i)}function f5(e){var t,r=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)jg(s,C3(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(jg(s,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,jg(s,n),s}function C3(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Pc=et.atob.bind(et),tp=et.btoa.bind(et);var Z1="0123456789abcdef".split("");function S3(e){for(var t="",r=0;r<4;r++)t+=Z1[e>>8*r+4&15]+Z1[e>>8*r&15];return t}function F3(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function rp(e){return f5(e).map(F3).join("")}var E3=function(e){for(var t=0;t<e.length;t++)e[t]=S3(e[t]);return e.join("")}(f5("hello"))!="5d41402abc4b2a76b9719d911017c592";function yA(e,t){if(E3){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ap(e,t){var r,s,n,A;if(e!==r){for(var i=(n=e,A=1+(256/e.length>>0),new Array(A+1).join(n)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+i.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,s=o}else o=s;var f=t.length,p=0,h=0,B="";for(l=0;l<f;l++)h=(h+(u=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=u,i=o[(o[p]+o[h])%256],B+=String.fromCharCode(t.charCodeAt(l)^i);return B}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var e2={print:4,modify:8,copy:16,"annot-forms":32};function Co(e,t,r,s){this.v=1,this.r=2;var n=192;e.forEach(function(o){if(e2.perm!==void 0)throw new Error("Invalid permission: "+o);n+=e2[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var A=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(A,i),this.P=-(1+(255^n)),this.encryptionKey=rp(A+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=ap(this.encryptionKey,this.padding)}function So(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,s=0;s<r;s++){var n=e.charCodeAt(s);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?t+="#"+("0"+n.toString(16)).slice(-2):t+=e[s]}return t}function t2(e){if(Qt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,s,n){if(n=n||!1,typeof r!="string"||typeof s!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var A=Math.random().toString(35);return t[r][A]=[s,!!n],A},this.unsubscribe=function(r){for(var s in t)if(t[s][r])return delete t[s][r],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),n=[];for(var A in t[r]){var i=t[r][A];try{i[0].apply(e,s)}catch(o){et.console&&Tt.error("jsPDF PubSub Error",o.message,o)}i[1]&&n.push(A)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function sh(e){if(!(this instanceof sh))return new sh(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function g5(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function hi(e,t,r,s,n){if(!(this instanceof hi))return new hi(e,t,r,s,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,g5.call(this,s,n)}function Ko(e,t,r,s,n){if(!(this instanceof Ko))return new Ko(e,t,r,s,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,g5.call(this,s,n)}function Ze(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],n=arguments[2],A=arguments[3],i=[],o=1,l=16,c="S",u=null;Qt(e=e||{})==="object"&&(r=e.orientation,s=e.unit||s,n=e.format||n,A=e.compress||e.compressPdf||A,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),i=e.filters||(A===!0?["FlateEncode"]:i),s=s||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=t2;var B="1.3",x=h.__private__.getPdfVersion=function(){return B};h.__private__.setPdfVersion=function(w){B=w};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return N};var m=h.__private__.getPageFormat=function(w){return N[w]};n=n||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},v=y.COMPAT;function E(){this.saveGraphicsState(),G(new Ye(Re,0,0,-Re,0,Wn()*Re).toString()+" cm"),this.setFontSize(this.getFontSize()/Re),c="n",v=y.ADVANCED}function U(){this.restoreGraphicsState(),c="S",v=y.COMPAT}var V=h.__private__.combineFontStyleAndFontWeight=function(w,I){if(w=="bold"&&I=="normal"||w=="bold"&&I==400||w=="normal"&&I=="italic"||w=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(w=I==400||I==="normal"?w==="italic"?"italic":"normal":I!=700&&I!=="bold"||w!=="normal"?(I==700?"bold":I)+""+w:"bold"),w};h.advancedAPI=function(w){var I=v===y.COMPAT;return I&&E.call(this),typeof w!="function"||(w(this),I&&U.call(this)),this},h.compatAPI=function(w){var I=v===y.ADVANCED;return I&&U.call(this),typeof w!="function"||(w(this),I&&E.call(this)),this},h.isAdvancedAPI=function(){return v===y.ADVANCED};var S,C=function(w){if(v!==y.ADVANCED)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_=h.roundToPrecision=h.__private__.roundToPrecision=function(w,I){var Y=t||I;if(isNaN(w)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(Y).replace(/0+$/,"")};S=h.hpf=h.__private__.hpf=typeof l=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return _(w,l)}:l==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return _(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return _(w,16)};var H=h.f2=h.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return _(w,2)},F=h.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return _(w,3)},j=h.scale=h.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return v===y.COMPAT?w*Re:v===y.ADVANCED?w:void 0},P=function(w){return v===y.COMPAT?Wn()-w:v===y.ADVANCED?w:void 0},z=function(w){return j(P(w))};h.__private__.setPrecision=h.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var D,O="00000000000000000000000000000000",Z=h.__private__.getFileId=function(){return O},K=h.__private__.setFileId=function(w){return O=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():O.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Vr=new Co(u.userPermissions,u.userPassword,u.ownerPassword,O)),O};h.setFileId=function(w){return K(w),this},h.getFileId=function(){return Z()};var te=h.__private__.convertDateToPDFDate=function(w){var I=w.getTimezoneOffset(),Y=I<0?"+":"-",ae=Math.floor(Math.abs(I/60)),ue=Math.abs(I%60),xe=[Y,X(ae),"'",X(ue),"'"].join("");return["D:",w.getFullYear(),X(w.getMonth()+1),X(w.getDate()),X(w.getHours()),X(w.getMinutes()),X(w.getSeconds()),xe].join("")},se=h.__private__.convertPDFDateToDate=function(w){var I=parseInt(w.substr(2,4),10),Y=parseInt(w.substr(6,2),10)-1,ae=parseInt(w.substr(8,2),10),ue=parseInt(w.substr(10,2),10),xe=parseInt(w.substr(12,2),10),ke=parseInt(w.substr(14,2),10);return new Date(I,Y,ae,ue,xe,ke,0)},he=h.__private__.setCreationDate=function(w){var I;if(w===void 0&&(w=new Date),w instanceof Date)I=te(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=w}return D=I},Q=h.__private__.getCreationDate=function(w){var I=D;return w==="jsDate"&&(I=se(D)),I};h.setCreationDate=function(w){return he(w),this},h.getCreationDate=function(w){return Q(w)};var J,X=h.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ee=h.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ne=0,ce=[],re=[],de=0,Ne=[],Ce=[],Le=!1,Ee=re,$e=function(){ne=0,de=0,re=[],ce=[],Ne=[],pn=fr(),fs=fr()};h.__private__.setCustomOutputDestination=function(w){Le=!0,Ee=w};var ye=function(w){Le||(Ee=w)};h.__private__.resetCustomOutputDestination=function(){Le=!1,Ee=re};var G=h.__private__.out=function(w){return w=w.toString(),de+=w.length+1,Ee.push(w),Ee},_e=h.__private__.write=function(w){return G(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Qe=h.__private__.getArrayBuffer=function(w){for(var I=w.length,Y=new ArrayBuffer(I),ae=new Uint8Array(Y);I--;)ae[I]=w.charCodeAt(I);return Y},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return je};var Fe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(w){return Fe=v===y.ADVANCED?w/Re:w,this};var De,Ie=h.__private__.getFontSize=h.getFontSize=function(){return v===y.COMPAT?Fe:Fe*Re},Ge=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(w){return Ge=w,this},h.__private__.getR2L=h.getR2L=function(){return Ge};var tt,at=h.__private__.setZoomMode=function(w){var I=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))De=w;else if(isNaN(w)){if(I.indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');De=w}else De=parseInt(w,10)};h.__private__.getZoomMode=function(){return De};var ct,ft=h.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');tt=w};h.__private__.getPageMode=function(){return tt};var bt=h.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');ct=w};h.__private__.getLayoutMode=function(){return ct},h.__private__.setDisplayMode=h.setDisplayMode=function(w,I,Y){return at(w),bt(I),ft(Y),this};var Xe={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(w){if(Object.keys(Xe).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xe[w]},h.__private__.getDocumentProperties=function(){return Xe},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(w){for(var I in Xe)Xe.hasOwnProperty(I)&&w[I]&&(Xe[I]=w[I]);return this},h.__private__.setDocumentProperty=function(w,I){if(Object.keys(Xe).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xe[w]=I};var ut,Re,zr,vt,ds,Pt={},zt={},Os=[],kt={},WA={},Zt={},us={},mn=null,er=0,st=[],jt=new t2(h),JA=e.hotfixes||[],Dr={},_s={},Ks=[],Ye=function w(I,Y,ae,ue,xe,ke){if(!(this instanceof w))return new w(I,Y,ae,ue,xe,ke);isNaN(I)&&(I=1),isNaN(Y)&&(Y=0),isNaN(ae)&&(ae=0),isNaN(ue)&&(ue=1),isNaN(xe)&&(xe=0),isNaN(ke)&&(ke=0),this._matrix=[I,Y,ae,ue,xe,ke]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(w)},Ye.prototype.multiply=function(w){var I=w.sx*this.sx+w.shy*this.shx,Y=w.sx*this.shy+w.shy*this.sy,ae=w.shx*this.sx+w.sy*this.shx,ue=w.shx*this.shy+w.sy*this.sy,xe=w.tx*this.sx+w.ty*this.shx+this.tx,ke=w.tx*this.shy+w.ty*this.sy+this.ty;return new Ye(I,Y,ae,ue,xe,ke)},Ye.prototype.decompose=function(){var w=this.sx,I=this.shy,Y=this.shx,ae=this.sy,ue=this.tx,xe=this.ty,ke=Math.sqrt(w*w+I*I),Me=(w/=ke)*Y+(I/=ke)*ae;Y-=w*Me,ae-=I*Me;var We=Math.sqrt(Y*Y+ae*ae);return Me/=We,w*(ae/=We)<I*(Y/=We)&&(w=-w,I=-I,Me=-Me,ke=-ke),{scale:new Ye(ke,0,0,We,0,0),translate:new Ye(1,0,0,1,ue,xe),rotate:new Ye(w,I,-I,w,0,0),skew:new Ye(1,0,Me,1,0,0)}},Ye.prototype.toString=function(w){return this.join(" ")},Ye.prototype.inversed=function(){var w=this.sx,I=this.shy,Y=this.shx,ae=this.sy,ue=this.tx,xe=this.ty,ke=1/(w*ae-I*Y),Me=ae*ke,We=-I*ke,it=-Y*ke,nt=w*ke;return new Ye(Me,We,it,nt,-Me*ue-it*xe,-We*ue-nt*xe)},Ye.prototype.applyToPoint=function(w){var I=w.x*this.sx+w.y*this.shx+this.tx,Y=w.x*this.shy+w.y*this.sy+this.ty;return new eo(I,Y)},Ye.prototype.applyToRectangle=function(w){var I=this.applyToPoint(w),Y=this.applyToPoint(new eo(w.x+w.w,w.y+w.h));return new Ll(I.x,I.y,Y.x-I.x,Y.y-I.y)},Ye.prototype.clone=function(){var w=this.sx,I=this.shy,Y=this.shx,ae=this.sy,ue=this.tx,xe=this.ty;return new Ye(w,I,Y,ae,ue,xe)},h.Matrix=Ye;var hs=h.matrixMult=function(w,I){return I.multiply(w)},qs=new Ye(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=qs;var pa=function(w,I){if(!WA[w]){var Y=(I instanceof hi?"Sh":"P")+(Object.keys(kt).length+1).toString(10);I.id=Y,WA[w]=Y,kt[Y]=I,jt.publish("addPattern",I)}};h.ShadingPattern=hi,h.TilingPattern=Ko,h.addShadingPattern=function(w,I){return C("addShadingPattern()"),pa(w,I),this},h.beginTilingPattern=function(w){C("beginTilingPattern()"),Md(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},h.endTilingPattern=function(w,I){C("endTilingPattern()"),I.stream=Ce[J].join(`
`),pa(w,I),jt.publish("endTilingPattern",I),Ks.pop().restore()};var Br=h.__private__.newObject=function(){var w=fr();return Qa(w,!0),w},fr=h.__private__.newObjectDeferred=function(){return ne++,ce[ne]=function(){return de},ne},Qa=function(w,I){return I=typeof I=="boolean"&&I,ce[w]=de,I&&G(w+" 0 obj"),w},Oi=h.__private__.newAdditionalObject=function(){var w={objId:fr(),content:""};return Ne.push(w),w},pn=fr(),fs=fr(),gs=h.__private__.decodeColorString=function(w){var I=w.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length===5&&(I[4]==="k"||I[4]==="K")&&(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var Y=parseFloat(I[0]);I=[Y,Y,Y,"r"]}for(var ae="#",ue=0;ue<3;ue++)ae+=("0"+Math.floor(255*parseFloat(I[ue])).toString(16)).slice(-2);return ae},ms=h.__private__.encodeColorString=function(w){var I;typeof w=="string"&&(w={ch1:w});var Y=w.ch1,ae=w.ch2,ue=w.ch3,xe=w.ch4,ke=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var Me=new h5(Y);if(Me.ok)Y=Me.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var We=parseInt(Y.substr(1),16);Y=We>>16&255,ae=We>>8&255,ue=255&We}if(ae===void 0||xe===void 0&&Y===ae&&ae===ue)if(typeof Y=="string")I=Y+" "+ke[0];else switch(w.precision){case 2:I=H(Y/255)+" "+ke[0];break;case 3:default:I=F(Y/255)+" "+ke[0]}else if(xe===void 0||Qt(xe)==="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return I=["1.","1.","1.",ke[1]].join(" ");if(typeof Y=="string")I=[Y,ae,ue,ke[1]].join(" ");else switch(w.precision){case 2:I=[H(Y/255),H(ae/255),H(ue/255),ke[1]].join(" ");break;default:case 3:I=[F(Y/255),F(ae/255),F(ue/255),ke[1]].join(" ")}}else if(typeof Y=="string")I=[Y,ae,ue,xe,ke[2]].join(" ");else switch(w.precision){case 2:I=[H(Y),H(ae),H(ue),H(xe),ke[2]].join(" ");break;case 3:default:I=[F(Y),F(ae),F(ue),F(xe),ke[2]].join(" ")}return I},zs=h.__private__.getFilters=function(){return i},za=h.__private__.putStream=function(w){var I=(w=w||{}).data||"",Y=w.filters||zs(),ae=w.alreadyAppliedFilters||[],ue=w.addLength1||!1,xe=I.length,ke=w.objectId,Me=function(Gr){return Gr};if(u!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Me=Vr.encryptor(ke,0));var We={};Y===!0&&(Y=["FlateEncode"]);var it=w.additionalKeyValues||[],nt=(We=Ze.API.processDataByFilters!==void 0?Ze.API.processDataByFilters(I,Y):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(We.data.length!==0&&(it.push({key:"Length",value:We.data.length}),ue===!0&&it.push({key:"Length1",value:xe})),nt.length!=0)if(nt.split("/").length-1==1)it.push({key:"Filter",value:nt});else{it.push({key:"Filter",value:"["+nt+"]"});for(var pt=0;pt<it.length;pt+=1)if(it[pt].key==="DecodeParms"){for(var Wt=[],tr=0;tr<We.reverseChain.split("/").length-1;tr+=1)Wt.push("null");Wt.push(it[pt].value),it[pt].value="["+Wt.join(" ")+"]"}}G("<<");for(var gr=0;gr<it.length;gr++)G("/"+it[gr].key+" "+it[gr].value);G(">>"),We.data.length!==0&&(G("stream"),G(Me(We.data)),G("endstream"))},Vs=h.__private__.putPage=function(w){var I=w.number,Y=w.data,ae=w.objId,ue=w.contentsObjId;Qa(ae,!0),G("<</Type /Page"),G("/Parent "+w.rootDictionaryObjId+" 0 R"),G("/Resources "+w.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(S(w.mediaBox.bottomLeftX))+" "+parseFloat(S(w.mediaBox.bottomLeftY))+" "+S(w.mediaBox.topRightX)+" "+S(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&G("/CropBox ["+S(w.cropBox.bottomLeftX)+" "+S(w.cropBox.bottomLeftY)+" "+S(w.cropBox.topRightX)+" "+S(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&G("/BleedBox ["+S(w.bleedBox.bottomLeftX)+" "+S(w.bleedBox.bottomLeftY)+" "+S(w.bleedBox.topRightX)+" "+S(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&G("/TrimBox ["+S(w.trimBox.bottomLeftX)+" "+S(w.trimBox.bottomLeftY)+" "+S(w.trimBox.topRightX)+" "+S(w.trimBox.topRightY)+"]"),w.artBox!==null&&G("/ArtBox ["+S(w.artBox.bottomLeftX)+" "+S(w.artBox.bottomLeftY)+" "+S(w.artBox.topRightX)+" "+S(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&G("/UserUnit "+w.userUnit),jt.publish("putPage",{objId:ae,pageContext:st[I],pageNumber:I,page:Y}),G("/Contents "+ue+" 0 R"),G(">>"),G("endobj");var xe=Y.join(`
`);return v===y.ADVANCED&&(xe+=`
Q`),Qa(ue,!0),za({data:xe,filters:zs(),objectId:ue}),G("endobj"),ae},$A=h.__private__.putPages=function(){var w,I,Y=[];for(w=1;w<=er;w++)st[w].objId=fr(),st[w].contentsObjId=fr();for(w=1;w<=er;w++)Y.push(Vs({number:w,data:Ce[w],objId:st[w].objId,contentsObjId:st[w].contentsObjId,mediaBox:st[w].mediaBox,cropBox:st[w].cropBox,bleedBox:st[w].bleedBox,trimBox:st[w].trimBox,artBox:st[w].artBox,userUnit:st[w].userUnit,rootDictionaryObjId:pn,resourceDictionaryObjId:fs}));Qa(pn,!0),G("<</Type /Pages");var ae="/Kids [";for(I=0;I<er;I++)ae+=Y[I]+" 0 R ";G(ae+"]"),G("/Count "+er),G(">>"),G("endobj"),jt.publish("postPutPages")},_i=function(w){jt.publish("putFont",{font:w,out:G,newObject:Br,putStream:za}),w.isAlreadyPutted!==!0&&(w.objectNumber=Br(),G("<<"),G("/Type /Font"),G("/BaseFont /"+So(w.postScriptName)),G("/Subtype /Type1"),typeof w.encoding=="string"&&G("/Encoding /"+w.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},Ki=function(){for(var w in Pt)Pt.hasOwnProperty(w)&&(f===!1||f===!0&&p.hasOwnProperty(w))&&_i(Pt[w])},qi=function(w){w.objectNumber=Br();var I=[];I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Form"}),I.push({key:"BBox",value:"["+[S(w.x),S(w.y),S(w.x+w.width),S(w.y+w.height)].join(" ")+"]"}),I.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var Y=w.pages[1].join(`
`);za({data:Y,additionalKeyValues:I,objectId:w.objectNumber}),G("endobj")},zi=function(){for(var w in Dr)Dr.hasOwnProperty(w)&&qi(Dr[w])},bd=function(w,I){var Y,ae=[],ue=1/(I-1);for(Y=0;Y<1;Y+=ue)ae.push(Y);if(ae.push(1),w[0].offset!=0){var xe={offset:0,color:w[0].color};w.unshift(xe)}if(w[w.length-1].offset!=1){var ke={offset:1,color:w[w.length-1].color};w.push(ke)}for(var Me="",We=0,it=0;it<ae.length;it++){for(Y=ae[it];Y>w[We+1].offset;)We++;var nt=w[We].offset,pt=(Y-nt)/(w[We+1].offset-nt),Wt=w[We].color,tr=w[We+1].color;Me+=ee(Math.round((1-pt)*Wt[0]+pt*tr[0]).toString(16))+ee(Math.round((1-pt)*Wt[1]+pt*tr[1]).toString(16))+ee(Math.round((1-pt)*Wt[2]+pt*tr[2]).toString(16))}return Me.trim()},sf=function(w,I){I||(I=21);var Y=Br(),ae=bd(w.colors,I),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+I+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),za({data:ae,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),G("endobj"),w.objectNumber=Br(),G("<< /ShadingType "+w.type),G("/ColorSpace /DeviceRGB");var xe="/Coords ["+S(parseFloat(w.coords[0]))+" "+S(parseFloat(w.coords[1]))+" ";w.type===2?xe+=S(parseFloat(w.coords[2]))+" "+S(parseFloat(w.coords[3])):xe+=S(parseFloat(w.coords[2]))+" "+S(parseFloat(w.coords[3]))+" "+S(parseFloat(w.coords[4]))+" "+S(parseFloat(w.coords[5])),G(xe+="]"),w.matrix&&G("/Matrix ["+w.matrix.toString()+"]"),G("/Function "+Y+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},nf=function(w,I){var Y=fr(),ae=Br();I.push({resourcesOid:Y,objectOid:ae}),w.objectNumber=ae;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+w.boundingBox.map(S).join(" ")+"]"}),ue.push({key:"XStep",value:S(w.xStep)}),ue.push({key:"YStep",value:S(w.yStep)}),ue.push({key:"Resources",value:Y+" 0 R"}),w.matrix&&ue.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),za({data:w.stream,additionalKeyValues:ue,objectId:w.objectNumber}),G("endobj")},Vi=function(w){var I;for(I in kt)kt.hasOwnProperty(I)&&(kt[I]instanceof hi?sf(kt[I]):kt[I]instanceof Ko&&nf(kt[I],w))},Bd=function(w){for(var I in w.objectNumber=Br(),G("<<"),w)switch(I){case"opacity":G("/ca "+H(w[I]));break;case"stroke-opacity":G("/CA "+H(w[I]))}G(">>"),G("endobj")},Af=function(){var w;for(w in Zt)Zt.hasOwnProperty(w)&&Bd(Zt[w])},Bl=function(){for(var w in G("/XObject <<"),Dr)Dr.hasOwnProperty(w)&&Dr[w].objectNumber>=0&&G("/"+w+" "+Dr[w].objectNumber+" 0 R");jt.publish("putXobjectDict"),G(">>")},of=function(){Vr.oid=Br(),G("<<"),G("/Filter /Standard"),G("/V "+Vr.v),G("/R "+Vr.r),G("/U <"+Vr.toHexString(Vr.U)+">"),G("/O <"+Vr.toHexString(Vr.O)+">"),G("/P "+Vr.P),G(">>"),G("endobj")},Nd=function(){for(var w in G("/Font <<"),Pt)Pt.hasOwnProperty(w)&&(f===!1||f===!0&&p.hasOwnProperty(w))&&G("/"+w+" "+Pt[w].objectNumber+" 0 R");G(">>")},lf=function(){if(Object.keys(kt).length>0){for(var w in G("/Shading <<"),kt)kt.hasOwnProperty(w)&&kt[w]instanceof hi&&kt[w].objectNumber>=0&&G("/"+w+" "+kt[w].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),G(">>")}},Gi=function(w){if(Object.keys(kt).length>0){for(var I in G("/Pattern <<"),kt)kt.hasOwnProperty(I)&&kt[I]instanceof h.TilingPattern&&kt[I].objectNumber>=0&&kt[I].objectNumber<w&&G("/"+I+" "+kt[I].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),G(">>")}},cf=function(){if(Object.keys(Zt).length>0){var w;for(w in G("/ExtGState <<"),Zt)Zt.hasOwnProperty(w)&&Zt[w].objectNumber>=0&&G("/"+w+" "+Zt[w].objectNumber+" 0 R");jt.publish("putGStateDict"),G(">>")}},nr=function(w){Qa(w.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Nd(),lf(),Gi(w.objectOid),cf(),Bl(),G(">>"),G("endobj")},kd=function(){var w=[];Ki(),Af(),zi(),Vi(w),jt.publish("putResources"),w.forEach(nr),nr({resourcesOid:fs,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},jd=function(){jt.publish("putAdditionalObjects");for(var w=0;w<Ne.length;w++){var I=Ne[w];Qa(I.objId,!0),G(I.content),G("endobj")}jt.publish("postPutAdditionalObjects")},Cd=function(w){zt[w.fontName]=zt[w.fontName]||{},zt[w.fontName][w.fontStyle]=w.id},Nl=function(w,I,Y,ae,ue){var xe={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:w,fontName:I,fontStyle:Y,encoding:ae,isStandardFont:ue||!1,metadata:{}};return jt.publish("addFont",{font:xe,instance:this}),Pt[xe.id]=xe,Cd(xe),xe.id},df=function(w){for(var I=0,Y=je.length;I<Y;I++){var ae=Nl.call(this,w[I][0],w[I][1],w[I][2],je[I][3],!0);f===!1&&(p[ae]=!0);var ue=w[I][0].split("-");Cd({id:ae,fontName:ue[0],fontStyle:ue[1]||""})}jt.publish("addFonts",{fonts:Pt,dictionary:zt})},ps=function(w){return w.foo=function(){try{return w.apply(this,arguments)}catch(ae){var I=ae.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var Y="Error in function "+I.split(`
`)[0].split("<")[0]+": "+ae.message;if(!et.console)throw new Error(Y);et.console.error(Y,ae),et.alert&&alert(Y)}},w.foo.bar=w,w.foo},Wi=function(w,I){var Y,ae,ue,xe,ke,Me,We,it,nt;if(ue=(I=I||{}).sourceEncoding||"Unicode",ke=I.outputEncoding,(I.autoencode||ke)&&Pt[ut].metadata&&Pt[ut].metadata[ue]&&Pt[ut].metadata[ue].encoding&&(xe=Pt[ut].metadata[ue].encoding,!ke&&Pt[ut].encoding&&(ke=Pt[ut].encoding),!ke&&xe.codePages&&(ke=xe.codePages[0]),typeof ke=="string"&&(ke=xe[ke]),ke)){for(We=!1,Me=[],Y=0,ae=w.length;Y<ae;Y++)(it=ke[w.charCodeAt(Y)])?Me.push(String.fromCharCode(it)):Me.push(w[Y]),Me[Y].charCodeAt(0)>>8&&(We=!0);w=Me.join("")}for(Y=w.length;We===void 0&&Y!==0;)w.charCodeAt(Y-1)>>8&&(We=!0),Y--;if(!We)return w;for(Me=I.noBOM?[]:[254,255],Y=0,ae=w.length;Y<ae;Y++){if((nt=(it=w.charCodeAt(Y))>>8)>>8)throw new Error("Character at position "+Y+" of string '"+w+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Me.push(nt),Me.push(it-(nt<<8))}return String.fromCharCode.apply(void 0,Me)},xa=h.__private__.pdfEscape=h.pdfEscape=function(w,I){return Wi(w,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kl=h.__private__.beginPage=function(w){Ce[++er]=[],st[er]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},Fd(er),ye(Ce[J])},Sd=function(w,I){var Y,ae,ue;switch(r=I||r,typeof w=="string"&&(Y=m(w.toLowerCase()),Array.isArray(Y)&&(ae=Y[0],ue=Y[1])),Array.isArray(w)&&(ae=w[0]*Re,ue=w[1]*Re),isNaN(ae)&&(ae=n[0],ue=n[1]),(ae>14400||ue>14400)&&(Tt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),ue=Math.min(14400,ue)),n=[ae,ue],r.substr(0,1)){case"l":ue>ae&&(n=[ue,ae]);break;case"p":ae>ue&&(n=[ue,ae])}kl(n),Pd(Fl),G(xs),Ql!==0&&G(Ql+" J"),Ul!==0&&G(Ul+" j"),jt.publish("addPage",{pageNumber:er})},uf=function(w){w>0&&w<=er&&(Ce.splice(w,1),st.splice(w,1),er--,J>er&&(J=er),this.setPage(J))},Fd=function(w){w>0&&w<=er&&(J=w)},hf=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ce.length-1},Ed=function(w,I,Y){var ae,ue=void 0;return Y=Y||{},w=w!==void 0?w:Pt[ut].fontName,I=I!==void 0?I:Pt[ut].fontStyle,ae=w.toLowerCase(),zt[ae]!==void 0&&zt[ae][I]!==void 0?ue=zt[ae][I]:zt[w]!==void 0&&zt[w][I]!==void 0?ue=zt[w][I]:Y.disableWarning===!1&&Tt.warn("Unable to look up font label for font '"+w+"', '"+I+"'. Refer to getFontList() for available fonts."),ue||Y.noFallback||(ue=zt.times[I])==null&&(ue=zt.times.normal),ue},ff=h.__private__.putInfo=function(){var w=Br(),I=function(ae){return ae};for(var Y in u!==null&&(I=Vr.encryptor(w,0)),G("<<"),G("/Producer ("+xa(I("jsPDF "+Ze.version))+")"),Xe)Xe.hasOwnProperty(Y)&&Xe[Y]&&G("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+xa(I(Xe[Y]))+")");G("/CreationDate ("+xa(I(D))+")"),G(">>"),G("endobj")},jl=h.__private__.putCatalog=function(w){var I=(w=w||{}).rootDictionaryObjId||pn;switch(Br(),G("<<"),G("/Type /Catalog"),G("/Pages "+I+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+De;Y.substr(Y.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&G("/OpenAction [3 0 R /XYZ null null "+H(De)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}tt&&G("/PageMode /"+tt),jt.publish("putCatalog"),G(">>"),G("endobj")},gf=h.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(ne+1)),G("/Root "+ne+" 0 R"),G("/Info "+(ne-1)+" 0 R"),u!==null&&G("/Encrypt "+Vr.oid+" 0 R"),G("/ID [ <"+O+"> <"+O+"> ]"),G(">>")},mf=h.__private__.putHeader=function(){G("%PDF-"+B),G("%ºß¬à")},pf=h.__private__.putXRef=function(){var w="0000000000";G("xref"),G("0 "+(ne+1)),G("0000000000 65535 f ");for(var I=1;I<=ne;I++)typeof ce[I]=="function"?G((w+ce[I]()).slice(-10)+" 00000 n "):ce[I]!==void 0?G((w+ce[I]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},xn=h.__private__.buildDocument=function(){$e(),ye(re),jt.publish("buildDocument"),mf(),$A(),jd(),kd(),u!==null&&of(),ff(),jl();var w=de;return pf(),gf(),G("startxref"),G(""+w),G("%%EOF"),ye(Ce[J]),re.join(`
`)},Ji=h.__private__.getBlob=function(w){return new Blob([Qe(w)],{type:"application/pdf"})},$i=h.output=h.__private__.output=ps(function(w,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",w){case void 0:return xn();case"save":h.save(I.filename);break;case"arraybuffer":return Qe(xn());case"blob":return Ji(xn());case"bloburi":case"bloburl":if(et.URL!==void 0&&typeof et.URL.createObjectURL=="function")return et.URL&&et.URL.createObjectURL(Ji(xn()))||void 0;Tt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",ae=xn();try{Y=tp(ae)}catch{Y=tp(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+I.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';I.pdfObjectUrl&&(ue=I.pdfObjectUrl,xe="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");<\/script></body></html>",Me=et.open();return Me!==null&&Me.document.write(ke),Me}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',it=et.open();if(it!==null){it.document.write(We);var nt=this;it.document.documentElement.querySelector("#pdfViewer").onload=function(){it.document.title=I.filename,it.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nt.output("bloburl"))}}return it}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',Wt=et.open();if(Wt!==null&&(Wt.document.write(pt),Wt.document.title=I.filename),Wt||typeof safari>"u")return Wt;break;case"datauri":case"dataurl":return et.document.location.href=this.output("datauristring",I);default:return null}}),Qd=function(w){return Array.isArray(JA)===!0&&JA.indexOf(w)>-1};switch(s){case"pt":Re=1;break;case"mm":Re=72/25.4;break;case"cm":Re=72/2.54;break;case"in":Re=72;break;case"px":Re=Qd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Re=12;break;case"ex":Re=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Re=s}var Vr=null;he(),K();var xf=function(w){return u!==null?Vr.encryptor(w,0):function(I){return I}},Ud=h.__private__.getPageInfo=h.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[w].objId,pageNumber:w,pageContext:st[w]}},rt=h.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in st)if(st[I].objId===w)break;return Ud(I)},yf=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:st[J].objId,pageNumber:J,pageContext:st[J]}};h.addPage=function(){return Sd.apply(this,arguments),this},h.setPage=function(){return Fd.apply(this,arguments),ye.call(this,Ce[J]),this},h.insertPage=function(w){return this.addPage(),this.movePage(J,w),this},h.movePage=function(w,I){var Y,ae;if(w>I){Y=Ce[w],ae=st[w];for(var ue=w;ue>I;ue--)Ce[ue]=Ce[ue-1],st[ue]=st[ue-1];Ce[I]=Y,st[I]=ae,this.setPage(I)}else if(w<I){Y=Ce[w],ae=st[w];for(var xe=w;xe<I;xe++)Ce[xe]=Ce[xe+1],st[xe]=st[xe+1];Ce[I]=Y,st[I]=ae,this.setPage(I)}return this},h.deletePage=function(){return uf.apply(this,arguments),this},h.__private__.text=h.text=function(w,I,Y,ae,ue){var xe,ke,Me,We,it,nt,pt,Wt,tr,gr=(ae=ae||{}).scope||this;if(typeof w=="number"&&typeof I=="number"&&(typeof Y=="string"||Array.isArray(Y))){var Gr=Y;Y=I,I=w,w=Gr}if(arguments[3]instanceof Ye?(C("The transform parameter of text() with a Matrix value"),tr=ue):(Me=arguments[4],We=arguments[5],Qt(pt=arguments[3])==="object"&&pt!==null||(typeof Me=="string"&&(We=Me,Me=null),typeof pt=="string"&&(We=pt,pt=null),typeof pt=="number"&&(Me=pt,pt=null),ae={flags:pt,angle:Me,align:We})),isNaN(I)||isNaN(Y)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return gr;var Sr="",ys=!1,Ua=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:YA,Js=gr.internal.scaleFactor;function Od(Rt){return Rt=Rt.split("	").join(Array(ae.TabLen||9).join(" ")),xa(Rt,pt)}function Tl(Rt){for(var Ht,ir=Rt.concat(),Nr=[],Bn=ir.length;Bn--;)typeof(Ht=ir.shift())=="string"?Nr.push(Ht):Array.isArray(Rt)&&(Ht.length===1||Ht[1]===void 0&&Ht[2]===void 0)?Nr.push(Ht[0]):Nr.push([Ht[0],Ht[1],Ht[2]]);return Nr}function Rl(Rt,Ht){var ir;if(typeof Rt=="string")ir=Ht(Rt)[0];else if(Array.isArray(Rt)){for(var Nr,Bn,Vl=Rt.concat(),uo=[],Vd=Vl.length;Vd--;)typeof(Nr=Vl.shift())=="string"?uo.push(Ht(Nr)[0]):Array.isArray(Nr)&&typeof Nr[0]=="string"&&(Bn=Ht(Nr[0],Nr[1],Nr[2]),uo.push([Bn[0],Bn[1],Bn[2]]));ir=uo}return ir}var ro=!1,Hl=!0;if(typeof w=="string")ro=!0;else if(Array.isArray(w)){var Ml=w.concat();ke=[];for(var ao,Tr=Ml.length;Tr--;)(typeof(ao=Ml.shift())!="string"||Array.isArray(ao)&&typeof ao[0]!="string")&&(Hl=!1);ro=Hl}if(ro===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var so=Fe/gr.internal.scaleFactor,no=so*(Ua-1);switch(ae.baseline){case"bottom":Y-=no;break;case"top":Y+=so-no;break;case"hanging":Y+=so-2*no;break;case"middle":Y+=so/2-no}if((nt=ae.maxWidth||0)>0&&(typeof w=="string"?w=gr.splitTextToSize(w,nt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Rt,Ht){return Rt.concat(gr.splitTextToSize(Ht,nt))},[]))),xe={text:w,x:I,y:Y,options:ae,mutex:{pdfEscape:xa,activeFontKey:ut,fonts:Pt,activeFontSize:Fe}},jt.publish("preProcessText",xe),w=xe.text,Me=(ae=xe.options).angle,!(tr instanceof Ye)&&Me&&typeof Me=="number"){Me*=Math.PI/180,ae.rotationDirection===0&&(Me=-Me),v===y.ADVANCED&&(Me=-Me);var Ao=Math.cos(Me),Ol=Math.sin(Me);tr=new Ye(Ao,Ol,-Ol,Ao,0,0)}else Me&&Me instanceof Ye&&(tr=Me);v!==y.ADVANCED||tr||(tr=qs),(it=ae.charSpace||Zi)!==void 0&&(Sr+=S(j(it))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wt=ae.horizontalScale)!==void 0&&(Sr+=S(100*Wt)+` Tz
`),ae.lang;var ya=-1,Ff=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,_l=gr.internal.getCurrentPageInfo().pageContext;switch(Ff){case 0:case!1:case"fill":ya=0;break;case 1:case!0:case"stroke":ya=1;break;case 2:case"fillThenStroke":ya=2;break;case 3:case"invisible":ya=3;break;case 4:case"fillAndAddForClipping":ya=4;break;case 5:case"strokeAndAddPathForClipping":ya=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ya=6;break;case 7:case"addToPathForClipping":ya=7}var _d=_l.usedRenderingMode!==void 0?_l.usedRenderingMode:-1;ya!==-1?Sr+=ya+` Tr
`:_d!==-1&&(Sr+=`0 Tr
`),ya!==-1&&(_l.usedRenderingMode=ya),We=ae.align||"left";var Va,io=Fe*Ua,Kd=gr.internal.pageSize.getWidth(),qd=Pt[ut];it=ae.charSpace||Zi,nt=ae.maxWidth||0,pt=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Jn=[],ti=function(Rt){return gr.getStringUnitWidth(Rt,{font:qd,charSpace:it,fontSize:Fe,doKerning:!1})*Fe/Js};if(Object.prototype.toString.call(w)==="[object Array]"){var wa;ke=Tl(w),We!=="left"&&(Va=ke.map(ti));var oa,$n=0;if(We==="right"){I-=Va[0],w=[],Tr=ke.length;for(var wn=0;wn<Tr;wn++)wn===0?(oa=Ws(I),wa=yn(Y)):(oa=j($n-Va[wn]),wa=-io),w.push([ke[wn],oa,wa]),$n=Va[wn]}else if(We==="center"){I-=Va[0]/2,w=[],Tr=ke.length;for(var vn=0;vn<Tr;vn++)vn===0?(oa=Ws(I),wa=yn(Y)):(oa=j(($n-Va[vn])/2),wa=-io),w.push([ke[vn],oa,wa]),$n=Va[vn]}else if(We==="left"){w=[],Tr=ke.length;for(var oo=0;oo<Tr;oo++)w.push(ke[oo])}else if(We==="justify"&&qd.encoding==="Identity-H"){w=[],Tr=ke.length,nt=nt!==0?nt:Kd;for(var bn=0,Ar=0;Ar<Tr;Ar++)if(wa=Ar===0?yn(Y):-io,oa=Ar===0?Ws(I):bn,Ar<Tr-1){var Kl=j((nt-Va[Ar])/(ke[Ar].split(" ").length-1)),la=ke[Ar].split(" ");w.push([la[0]+" ",oa,wa]),bn=0;for(var Ga=1;Ga<la.length;Ga++){var lo=(ti(la[Ga-1]+" "+la[Ga])-ti(la[Ga]))*Js+Kl;Ga==la.length-1?w.push([la[Ga],lo,0]):w.push([la[Ga]+" ",lo,0]),bn-=lo}}else w.push([ke[Ar],oa,wa]);w.push(["",bn,0])}else{if(We!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Tr=ke.length,nt=nt!==0?nt:Kd,Ar=0;Ar<Tr;Ar++)wa=Ar===0?yn(Y):-io,oa=Ar===0?Ws(I):0,Ar<Tr-1?Jn.push(S(j((nt-Va[Ar])/(ke[Ar].split(" ").length-1)))):Jn.push(0),w.push([ke[Ar],oa,wa])}}var zd=typeof ae.R2L=="boolean"?ae.R2L:Ge;zd===!0&&(w=Rl(w,function(Rt,Ht,ir){return[Rt.split("").reverse().join(""),Ht,ir]})),xe={text:w,x:I,y:Y,options:ae,mutex:{pdfEscape:xa,activeFontKey:ut,fonts:Pt,activeFontSize:Fe}},jt.publish("postProcessText",xe),w=xe.text,ys=xe.mutex.isHex||!1;var ql=Pt[ut].encoding;ql!=="WinAnsiEncoding"&&ql!=="StandardEncoding"||(w=Rl(w,function(Rt,Ht,ir){return[Od(Rt),Ht,ir]})),ke=Tl(w),w=[];for(var ri,ai,Xn,si=0,co=1,ni=Array.isArray(ke[0])?co:si,Yn="",zl=function(Rt,Ht,ir){var Nr="";return ir instanceof Ye?(ir=typeof ae.angle=="number"?hs(ir,new Ye(1,0,0,1,Rt,Ht)):hs(new Ye(1,0,0,1,Rt,Ht),ir),v===y.ADVANCED&&(ir=hs(new Ye(1,0,0,-1,0,0),ir)),Nr=ir.join(" ")+` Tm
`):Nr=S(Rt)+" "+S(Ht)+` Td
`,Nr},Wa=0;Wa<ke.length;Wa++){switch(Yn="",ni){case co:Xn=(ys?"<":"(")+ke[Wa][0]+(ys?">":")"),ri=parseFloat(ke[Wa][1]),ai=parseFloat(ke[Wa][2]);break;case si:Xn=(ys?"<":"(")+ke[Wa]+(ys?">":")"),ri=Ws(I),ai=yn(Y)}Jn!==void 0&&Jn[Wa]!==void 0&&(Yn=Jn[Wa]+` Tw
`),Wa===0?w.push(Yn+zl(ri,ai,tr)+Xn):ni===si?w.push(Yn+Xn):ni===co&&w.push(Yn+zl(ri,ai,tr)+Xn)}w=ni===si?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Ja=`BT
/`;return Ja+=ut+" "+Fe+` Tf
`,Ja+=S(Fe*Ua)+` TL
`,Ja+=ZA+`
`,Ja+=Sr,Ja+=w,G(Ja+="ET"),p[ut]=!0,gr};var wf=h.__private__.clip=h.clip=function(w){return G(w==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return wf("evenodd")},h.__private__.discardPath=h.discardPath=function(){return G("n"),this};var Gs=h.__private__.isValidStyle=function(w){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(I=!0),I};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(w){return Gs(w)&&(c=w),this};var Ld=h.__private__.getStyle=h.getStyle=function(w){var I=c;switch(w){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=w}return I},Id=h.close=function(){return G("h"),this};h.stroke=function(){return G("S"),this},h.fill=function(w){return Xi("f",w),this},h.fillEvenOdd=function(w){return Xi("f*",w),this},h.fillStroke=function(w){return Xi("B",w),this},h.fillStrokeEvenOdd=function(w){return Xi("B*",w),this};var Xi=function(w,I){Qt(I)==="object"?bf(I,w):G(w)},Cl=function(w){w===null||v===y.ADVANCED&&w===void 0||(w=Ld(w),G(w))};function vf(w,I,Y,ae,ue){var xe=new Ko(I||this.boundingBox,Y||this.xStep,ae||this.yStep,this.gState,ue||this.matrix);xe.stream=this.stream;var ke=w+"$$"+this.cloneIndex+++"$$";return pa(ke,xe),xe}var bf=function(w,I){var Y=WA[w.key],ae=kt[Y];if(ae instanceof hi)G("q"),G(Bf(I)),ae.gState&&h.setGState(ae.gState),G(w.matrix.toString()+" cm"),G("/"+Y+" sh"),G("Q");else if(ae instanceof Ko){var ue=new Ye(1,0,0,-1,0,Wn());w.matrix&&(ue=ue.multiply(w.matrix||qs),Y=vf.call(ae,w.key,w.boundingBox,w.xStep,w.yStep,ue).id),G("q"),G("/Pattern cs"),G("/"+Y+" scn"),ae.gState&&h.setGState(ae.gState),G(I),G("Q")}},Bf=function(w){switch(w){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Sl=h.moveTo=function(w,I){return G(S(j(w))+" "+S(z(I))+" m"),this},XA=h.lineTo=function(w,I){return G(S(j(w))+" "+S(z(I))+" l"),this},Vn=h.curveTo=function(w,I,Y,ae,ue,xe){return G([S(j(w)),S(z(I)),S(j(Y)),S(z(ae)),S(j(ue)),S(z(xe)),"c"].join(" ")),this};h.__private__.line=h.line=function(w,I,Y,ae,ue){if(isNaN(w)||isNaN(I)||isNaN(Y)||isNaN(ae)||!Gs(ue))throw new Error("Invalid arguments passed to jsPDF.line");return v===y.COMPAT?this.lines([[Y-w,ae-I]],w,I,[1,1],ue||"S"):this.lines([[Y-w,ae-I]],w,I,[1,1]).stroke()},h.__private__.lines=h.lines=function(w,I,Y,ae,ue,xe){var ke,Me,We,it,nt,pt,Wt,tr,gr,Gr,Sr,ys;if(typeof w=="number"&&(ys=Y,Y=I,I=w,w=ys),ae=ae||[1,1],xe=xe||!1,isNaN(I)||isNaN(Y)||!Array.isArray(w)||!Array.isArray(ae)||!Gs(ue)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Sl(I,Y),ke=ae[0],Me=ae[1],it=w.length,Gr=I,Sr=Y,We=0;We<it;We++)(nt=w[We]).length===2?(Gr=nt[0]*ke+Gr,Sr=nt[1]*Me+Sr,XA(Gr,Sr)):(pt=nt[0]*ke+Gr,Wt=nt[1]*Me+Sr,tr=nt[2]*ke+Gr,gr=nt[3]*Me+Sr,Gr=nt[4]*ke+Gr,Sr=nt[5]*Me+Sr,Vn(pt,Wt,tr,gr,Gr,Sr));return xe&&Id(),Cl(ue),this},h.path=function(w){for(var I=0;I<w.length;I++){var Y=w[I],ae=Y.c;switch(Y.op){case"m":Sl(ae[0],ae[1]);break;case"l":XA(ae[0],ae[1]);break;case"c":Vn.apply(this,ae);break;case"h":Id()}}return this},h.__private__.rect=h.rect=function(w,I,Y,ae,ue){if(isNaN(w)||isNaN(I)||isNaN(Y)||isNaN(ae)||!Gs(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return v===y.COMPAT&&(ae=-ae),G([S(j(w)),S(z(I)),S(j(Y)),S(j(ae)),"re"].join(" ")),Cl(ue),this},h.__private__.triangle=h.triangle=function(w,I,Y,ae,ue,xe,ke){if(isNaN(w)||isNaN(I)||isNaN(Y)||isNaN(ae)||isNaN(ue)||isNaN(xe)||!Gs(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-w,ae-I],[ue-Y,xe-ae],[w-ue,I-xe]],w,I,[1,1],ke,!0),this},h.__private__.roundedRect=h.roundedRect=function(w,I,Y,ae,ue,xe,ke){if(isNaN(w)||isNaN(I)||isNaN(Y)||isNaN(ae)||isNaN(ue)||isNaN(xe)||!Gs(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Me=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*Y),xe=Math.min(xe,.5*ae),this.lines([[Y-2*ue,0],[ue*Me,0,ue,xe-xe*Me,ue,xe],[0,ae-2*xe],[0,xe*Me,-ue*Me,xe,-ue,xe],[2*ue-Y,0],[-ue*Me,0,-ue,-xe*Me,-ue,-xe],[0,2*xe-ae],[0,-xe*Me,ue*Me,-xe,ue,-xe]],w+ue,I,[1,1],ke,!0),this},h.__private__.ellipse=h.ellipse=function(w,I,Y,ae,ue){if(isNaN(w)||isNaN(I)||isNaN(Y)||isNaN(ae)||!Gs(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*Y,ke=4/3*(Math.SQRT2-1)*ae;return Sl(w+Y,I),Vn(w+Y,I-ke,w+xe,I-ae,w,I-ae),Vn(w-xe,I-ae,w-Y,I-ke,w-Y,I),Vn(w-Y,I+ke,w-xe,I+ae,w,I+ae),Vn(w+xe,I+ae,w+Y,I+ke,w+Y,I),Cl(ue),this},h.__private__.circle=h.circle=function(w,I,Y,ae){if(isNaN(w)||isNaN(I)||isNaN(Y)||!Gs(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,I,Y,Y,ae)},h.setFont=function(w,I,Y){return Y&&(I=V(I,Y)),ut=Ed(w,I,{disableWarning:!1}),this};var Nf=h.__private__.getFont=h.getFont=function(){return Pt[Ed.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var w,I,Y={};for(w in zt)if(zt.hasOwnProperty(w))for(I in Y[w]=[],zt[w])zt[w].hasOwnProperty(I)&&Y[w].push(I);return Y},h.addFont=function(w,I,Y,ae,ue){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&(Y=V(Y,ae)),ue=ue||"Identity-H",Nl.call(this,w,I,Y,ue)};var YA,Fl=e.lineWidth||.200025,Yi=h.__private__.getLineWidth=h.getLineWidth=function(){return Fl},Pd=h.__private__.setLineWidth=h.setLineWidth=function(w){return Fl=w,G(S(j(w))+" w"),this};h.__private__.setLineDash=Ze.API.setLineDash=Ze.API.setLineDashPattern=function(w,I){if(w=w||[],I=I||0,isNaN(I)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(Y){return S(j(Y))}).join(" "),I=S(j(I)),G("["+w+"] "+I+" d"),this};var Dd=h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*YA};h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*YA};var Td=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(YA=w),this},Rd=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return YA};Td(e.lineHeight);var Ws=h.__private__.getHorizontalCoordinate=function(w){return j(w)},yn=h.__private__.getVerticalCoordinate=function(w){return v===y.ADVANCED?w:st[J].mediaBox.topRightY-st[J].mediaBox.bottomLeftY-j(w)},kf=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(w){return S(Ws(w))},Gn=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(w){return S(yn(w))},xs=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return gs(xs)},h.__private__.setStrokeColor=h.setDrawColor=function(w,I,Y,ae){return xs=ms({ch1:w,ch2:I,ch3:Y,ch4:ae,pdfColorType:"draw",precision:2}),G(xs),this};var El=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return gs(El)},h.__private__.setFillColor=h.setFillColor=function(w,I,Y,ae){return El=ms({ch1:w,ch2:I,ch3:Y,ch4:ae,pdfColorType:"fill",precision:2}),G(El),this};var ZA=e.textColor||"0 g",jf=h.__private__.getTextColor=h.getTextColor=function(){return gs(ZA)};h.__private__.setTextColor=h.setTextColor=function(w,I,Y,ae){return ZA=ms({ch1:w,ch2:I,ch3:Y,ch4:ae,pdfColorType:"text",precision:3}),this};var Zi=e.charSpace,Cf=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Zi||0)};h.__private__.setCharSpace=h.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zi=w,this};var Ql=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(w){var I=h.CapJoinStyles[w];if(I===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ql=I,G(I+" J"),this};var Ul=0;h.__private__.setLineJoin=h.setLineJoin=function(w){var I=h.CapJoinStyles[w];if(I===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ul=I,G(I+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(S(j(w))+" M"),this},h.GState=sh,h.setGState=function(w){(w=typeof w=="string"?Zt[us[w]]:Hd(null,w)).equals(mn)||(G("/"+w.id+" gs"),mn=w)};var Hd=function(w,I){if(!w||!us[w]){var Y=!1;for(var ae in Zt)if(Zt.hasOwnProperty(ae)&&Zt[ae].equals(I)){Y=!0;break}if(Y)I=Zt[ae];else{var ue="GS"+(Object.keys(Zt).length+1).toString(10);Zt[ue]=I,I.id=ue}return w&&(us[w]=I.id),jt.publish("addGState",I),I}};h.addGState=function(w,I){return Hd(w,I),this},h.saveGraphicsState=function(){return G("q"),Os.push({key:ut,size:Fe,color:ZA}),this},h.restoreGraphicsState=function(){G("Q");var w=Os.pop();return ut=w.key,Fe=w.size,ZA=w.color,mn=null,this},h.setCurrentTransformationMatrix=function(w){return G(w.toString()+" cm"),this},h.comment=function(w){return G("#"+w),this};var eo=function(w,I){var Y=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(xe){isNaN(xe)||(Y=parseFloat(xe))}});var ae=I||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(xe){isNaN(xe)||(ae=parseFloat(xe))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(xe){ue=xe.toString()}}),this},Ll=function(w,I,Y,ae){eo.call(this,w,I),this.type="rect";var ue=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(ke){isNaN(ke)||(ue=parseFloat(ke))}});var xe=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(ke){isNaN(ke)||(xe=parseFloat(ke))}}),this},Il=function(){this.page=er,this.currentPage=J,this.pages=Ce.slice(0),this.pagesContext=st.slice(0),this.x=zr,this.y=vt,this.matrix=ds,this.width=ei(J),this.height=Wn(J),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Il.prototype.restore=function(){er=this.page,J=this.currentPage,st=this.pagesContext,Ce=this.pages,zr=this.x,vt=this.y,ds=this.matrix,Pl(J,this.width),Dl(J,this.height),Ee=this.outputDestination};var Md=function(w,I,Y,ae,ue){Ks.push(new Il),er=J=0,Ce=[],zr=w,vt=I,ds=ue,kl([Y,ae])},Sf=function(w){if(_s[w])Ks.pop().restore();else{var I=new Il,Y="Xo"+(Object.keys(Dr).length+1).toString(10);I.id=Y,_s[w]=Y,Dr[Y]=I,jt.publish("addFormObject",I),Ks.pop().restore()}};for(var to in h.beginFormObject=function(w,I,Y,ae,ue){return Md(w,I,Y,ae,ue),this},h.endFormObject=function(w){return Sf(w),this},h.doFormObject=function(w,I){var Y=Dr[_s[w]];return G("q"),G(I.toString()+" cm"),G("/"+Y.id+" Do"),G("Q"),this},h.getFormObject=function(w){var I=Dr[_s[w]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},h.save=function(w,I){return w=w||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(ui(Ji(xn()),w),typeof ui.unload=="function"&&et.setTimeout&&setTimeout(ui.unload,911),this):new Promise(function(Y,ae){try{var ue=ui(Ji(xn()),w);typeof ui.unload=="function"&&et.setTimeout&&setTimeout(ui.unload,911),Y(ue)}catch(xe){ae(xe.message)}})},Ze.API)Ze.API.hasOwnProperty(to)&&(to==="events"&&Ze.API.events.length?function(w,I){var Y,ae,ue;for(ue=I.length-1;ue!==-1;ue--)Y=I[ue][0],ae=I[ue][1],w.subscribe.apply(w,[Y].concat(typeof ae=="function"?[ae]:ae))}(jt,Ze.API.events):h[to]=Ze.API[to]);var ei=h.getPageWidth=function(w){return(st[w=w||J].mediaBox.topRightX-st[w].mediaBox.bottomLeftX)/Re},Pl=h.setPageWidth=function(w,I){st[w].mediaBox.topRightX=I*Re+st[w].mediaBox.bottomLeftX},Wn=h.getPageHeight=function(w){return(st[w=w||J].mediaBox.topRightY-st[w].mediaBox.bottomLeftY)/Re},Dl=h.setPageHeight=function(w,I){st[w].mediaBox.topRightY=I*Re+st[w].mediaBox.bottomLeftY};return h.internal={pdfEscape:xa,getStyle:Ld,getFont:Nf,getFontSize:Ie,getCharSpace:Cf,getTextColor:jf,getLineHeight:Dd,getLineHeightFactor:Rd,getLineWidth:Yi,write:_e,getHorizontalCoordinate:Ws,getVerticalCoordinate:yn,getCoordinateString:kf,getVerticalCoordinateString:Gn,collections:{},newObject:Br,newAdditionalObject:Oi,newObjectDeferred:fr,newObjectDeferredBegin:Qa,getFilters:zs,putStream:za,events:jt,scaleFactor:Re,pageSize:{getWidth:function(){return ei(J)},setWidth:function(w){Pl(J,w)},getHeight:function(){return Wn(J)},setHeight:function(w){Dl(J,w)}},encryptionOptions:u,encryption:Vr,getEncryptor:xf,output:$i,getNumberOfPages:hf,pages:Ce,out:G,f2:H,f3:F,getPageInfo:Ud,getPageInfoByObjId:rt,getCurrentPageInfo:yf,getPDFVersion:x,Point:eo,Rectangle:Ll,Matrix:Ye,hasHotfix:Qd},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ei(J)},set:function(w){Pl(J,w)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Wn(J)},set:function(w){Dl(J,w)},enumerable:!0,configurable:!0}),df.call(h,je),ut="F1",Sd(n,r),jt.publish("initialized"),h}Co.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Co.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Co.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Co.prototype.processOwnerPassword=function(e,t){return ap(rp(t).substr(0,5),e)},Co.prototype.encryptor=function(e,t){var r=rp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return ap(r,s)}},sh.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Qt(e)!==Qt(this))return!1;var s=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&s--;return s===0},Ze.API={events:[]},Ze.version="3.0.1";var ar=Ze.API,Dx=1,Mi=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xo=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(e){return e.toFixed(2)},oA=function(e){return e.toFixed(5)};ar.__acroform__={};var Ea=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},r2=function(e){return e*Dx},en=function(e){var t=new p5,r=Ve.internal.getHeight(e)||0,s=Ve.internal.getWidth(e)||0;return t.BBox=[0,0,Number(At(s)),Number(At(r))],t},Q3=ar.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},U3=ar.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},L3=ar.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},dr=ar.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return L3(e,t-1)},ur=ar.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Q3(e,t-1)},hr=ar.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return U3(e,t-1)},I3=ar.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,n=e[0],A=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=r(n)||0,l.lowerLeft_Y=s(A+o)||0,l.upperRight_X=r(n+i)||0,l.upperRight_Y=s(A)||0,[Number(At(l.lowerLeft_X)),Number(At(l.lowerLeft_Y)),Number(At(l.upperRight_X)),Number(At(l.upperRight_Y))]},P3=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,s=sp(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+At(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var A=en(e);return A.scope=e.scope,A.stream=t.join(`
`),A}},sp=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(F){return F.split(`
`)}):n.map(function(F){return[F]});var A=r,i=Ve.internal.getHeight(e)||0;i=i<0?-i:i;var o=Ve.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(F,j,P){if(F+1<n.length){var z=j+" "+n[F+1][0];return Qu(z,e,P).width<=o-4}return!1};A++;e:for(;A>0;){t="",A--;var c,u,f=Qu("3",e,A).height,p=e.multiline?i-A:(i-f)/2,h=p+=2,B=0,x=0,N=0;if(A<=0){t=`(...) Tj
`,t+="% Width of Text: "+Qu(t,e,A=12).width+", FieldWidth:"+o+`
`;break}for(var m="",y=0,v=0;v<n.length;v++)if(n.hasOwnProperty(v)){var E=!1;if(n[v].length!==1&&N!==n[v].length-1){if((f+2)*(y+2)+2>i)continue e;m+=n[v][N],E=!0,x=v,v--}else{m=(m+=n[v][N]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var U=parseInt(v),V=l(U,m,A),S=v>=n.length-1;if(V&&!S){m+=" ",N=0;continue}if(V||S){if(S)x=U;else if(e.multiline&&(f+2)*(y+2)+2>i)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>i)continue e;x=U}}for(var C="",_=B;_<=x;_++){var H=n[_];if(e.multiline){if(_===x){C+=H[N]+" ",N=(N+1)%H.length;continue}if(_===B){C+=H[H.length-1]+" ";continue}}C+=H[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=Qu(C,e,A).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=At(c)+" "+At(h)+` Td
`,t+="("+Mi(C)+`) Tj
`,t+=-At(c)+` 0 Td
`,h=-(A+2),u=0,B=E?x:x+1,y++,m=""}break}return s.text=t,s.fontSize=A,s},Qu=function(e,t,r){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},D3={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},T3=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},R3=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var s=r,n=e[r];t.internal.newObjectDeferredBegin(n.objId,!0),Qt(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete e[s]}},H3=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ts.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(D3)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Dx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new x5,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in s)if(s.hasOwnProperty(n)){var A=s[n];A.objId=void 0,A.hasAnnotation&&T3(A,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(s,n){var A=!s;for(var i in s||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(i)){var o=s[i],l=[],c=o.Rect;if(o.Rect&&(o.Rect=I3(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ve.createDefaultAppearanceStream(o),Qt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=P3(o);l.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var i in h)if(h.hasOwnProperty(i)){var B=h[i];typeof B=="function"&&(B=B.call(n,o)),f+="/"+i+" "+B+" ",n.internal.acroformPlugin.xForms.indexOf(B)>=0||n.internal.acroformPlugin.xForms.push(B)}}else typeof(B=h)=="function"&&(B=B.call(n,o)),f+="/"+i+" "+B,n.internal.acroformPlugin.xForms.indexOf(B)>=0||n.internal.acroformPlugin.xForms.push(B);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:o.objId}),n.internal.out("endobj")}A&&R3(n.internal.acroformPlugin.xForms,n)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},m5=ar.__acroform__.arrayToPdfArray=function(e,t,r){var s=function(i){return i};if(Array.isArray(e)){for(var n="[",A=0;A<e.length;A++)switch(A!==0&&(n+=" "),Qt(e[A])){case"boolean":case"number":case"object":n+=e[A].toString();break;case"string":e[A].substr(0,1)!=="/"?(t!==void 0&&r&&(s=r.internal.getEncryptor(t)),n+="("+Mi(s(e[A].toString()))+")"):n+=e[A].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Cg=function(e,t,r){var s=function(n){return n};return t!==void 0&&r&&(s=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Mi(s(e))+")"},sn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sn.prototype.toString=function(){return this.objId+" 0 R"},sn.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},sn.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(A){return A!="content"&&A!="appearanceStreamContent"&&A!="scope"&&A!="objId"&&A.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var s=t[r],n=this[s];n&&(Array.isArray(n)?e.push({key:s,value:m5(n,this.objId,this.scope)}):n instanceof sn?(n.scope=this.scope,e.push({key:s,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:s,value:n}))}return e};var p5=function(){sn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ea(p5,sn);var x5=function(){sn.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Mi(r(e))+")"}},set:function(r){e=r}})};Ea(x5,sn);var Ts=function e(){sn.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');t=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!dr(t,3)},set:function(m){m?this.F=ur(t,3):this.F=hr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');r=m}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(m){s=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(m){s[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(m){s[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(m){s[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(m){s[3]=m}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var A=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!A||A.length<1){if(this instanceof nh)return;A="FieldObject"+e.FieldNum++}var m=function(y){return y};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Mi(m(A))+")"},set:function(m){A=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return A},set:function(m){A=m}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(m){i=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Dx:c},set:function(m){c=m}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(m){u=m}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof nh||this instanceof Ni))return Cg(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=m}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Lr?p:Cg(p,this.objId,this.scope)},set:function(m){m=m.toString(),p=this instanceof Lr?m:m.substr(0,1)==="("?xo(m.substr(1,m.length-2)):xo(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?xo(p.substr(1,p.length-1)):p},set:function(m){m=m.toString(),p=this instanceof Lr?"/"+m:m}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Lr?h:Cg(h,this.objId,this.scope)},set:function(m){m=m.toString(),h=this instanceof Lr?m:m.substr(0,1)==="("?xo(m.substr(1,m.length-2)):xo(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?xo(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof Lr?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var B,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(m){m=!!m,x=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(B)return B},set:function(m){B=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,1)},set:function(m){m?this.Ff=ur(this.Ff,1):this.Ff=hr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,2)},set:function(m){m?this.Ff=ur(this.Ff,2):this.Ff=hr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,3)},set:function(m){m?this.Ff=ur(this.Ff,3):this.Ff=hr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');N=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(N){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};Ea(Ts,sn);var Yo=function(){Ts.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return m5(t,this.objId,this.scope)},set:function(r){var s,n;n=[],typeof(s=r)=="string"&&(n=function(A,i,o){o||(o=1);for(var l,c=[];l=i.exec(A);)c.push(l[o]);return c}(s,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,18)},set:function(r){r?this.Ff=ur(this.Ff,18):this.Ff=hr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ur(this.Ff,19):this.Ff=hr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,20)},set:function(r){r?(this.Ff=ur(this.Ff,20),t.sort()):this.Ff=hr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,22)},set:function(r){r?this.Ff=ur(this.Ff,22):this.Ff=hr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,23)},set:function(r){r?this.Ff=ur(this.Ff,23):this.Ff=hr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,27)},set:function(r){r?this.Ff=ur(this.Ff,27):this.Ff=hr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ea(Yo,Ts);var Zo=function(){Yo.call(this),this.fontName="helvetica",this.combo=!1};Ea(Zo,Yo);var el=function(){Zo.call(this),this.combo=!0};Ea(el,Zo);var g0=function(){el.call(this),this.edit=!0};Ea(g0,el);var Lr=function(){Ts.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,15)},set:function(r){r?this.Ff=ur(this.Ff,15):this.Ff=hr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,16)},set:function(r){r?this.Ff=ur(this.Ff,16):this.Ff=hr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,17)},set:function(r){r?this.Ff=ur(this.Ff,17):this.Ff=hr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,26)},set:function(r){r?this.Ff=ur(this.Ff,26):this.Ff=hr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(A){return A};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,n=[];for(s in n.push("<<"),t)n.push("/"+s+" ("+Mi(r(t[s]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Qt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ea(Lr,Ts);var m0=function(){Lr.call(this),this.pushButton=!0};Ea(m0,Lr);var tl=function(){Lr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ea(tl,Lr);var nh=function(){var e,t;Ts.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var A,i=[];for(A in i.push("<<"),s)i.push("/"+A+" ("+Mi(n(s[A]))+")");return i.push(">>"),i.join(`
`)},set:function(n){Qt(n)==="object"&&(s=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(n){typeof n=="string"&&(s.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ve.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ea(nh,Ts),tl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},tl.prototype.createOption=function(e){var t=new nh;return t.Parent=this,t.optionName=e,this.Kids.push(t),M3.call(this.scope,t),t};var p0=function(){Lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ve.CheckBox.createAppearanceStream()};Ea(p0,Lr);var Ni=function(){Ts.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,13)},set:function(t){t?this.Ff=ur(this.Ff,13):this.Ff=hr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,21)},set:function(t){t?this.Ff=ur(this.Ff,21):this.Ff=hr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,23)},set:function(t){t?this.Ff=ur(this.Ff,23):this.Ff=hr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,24)},set:function(t){t?this.Ff=ur(this.Ff,24):this.Ff=hr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,25)},set:function(t){t?this.Ff=ur(this.Ff,25):this.Ff=hr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,26)},set:function(t){t?this.Ff=ur(this.Ff,26):this.Ff=hr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ea(Ni,Ts);var x0=function(){Ni.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,14)},set:function(e){e?this.Ff=ur(this.Ff,14):this.Ff=hr(this.Ff,14)}}),this.password=!0};Ea(x0,Ni);var Ve={CheckBox:{createAppearanceStream:function(){return{N:{On:Ve.CheckBox.YesNormal},D:{On:Ve.CheckBox.YesPushDown,Off:Ve.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=en(e);t.scope=e.scope;var r=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),A=sp(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+At(Ve.internal.getWidth(e))+" "+At(Ve.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+At(A.fontSize)+" Tf "+n),r.push("BT"),r.push(A.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=en(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),n=[],A=Ve.internal.getHeight(e),i=Ve.internal.getWidth(e),o=sp(e,e.caption);return n.push("1 g"),n.push("0 0 "+At(i)+" "+At(A)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+At(i-1)+" "+At(A-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+At(o.fontSize)+" Tf "+s),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=en(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ve.internal.getWidth(e))+" "+At(Ve.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Circle.YesNormal,t.D[e]=Ve.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=en(e);t.scope=e.scope;var r=[],s=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=Ve.internal.Bezier_C,A=Number((s*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+oA(Ve.internal.getWidth(e)/2)+" "+oA(Ve.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+A+" "+A+" "+s+" 0 "+s+" c"),r.push("-"+A+" "+s+" -"+s+" "+A+" -"+s+" 0 c"),r.push("-"+s+" -"+A+" -"+A+" -"+s+" 0 -"+s+" c"),r.push(A+" -"+s+" "+s+" -"+A+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=en(e);t.scope=e.scope;var r=[],s=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),A=Number((n*Ve.internal.Bezier_C).toFixed(5)),i=Number((s*Ve.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+oA(Ve.internal.getWidth(e)/2)+" "+oA(Ve.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+oA(Ve.internal.getWidth(e)/2)+" "+oA(Ve.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=en(e);t.scope=e.scope;var r=[],s=Ve.internal.getWidth(e)<=Ve.internal.getHeight(e)?Ve.internal.getWidth(e)/4:Ve.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),A=Number((n*Ve.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+oA(Ve.internal.getWidth(e)/2)+" "+oA(Ve.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ve.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ve.RadioButton.Cross.YesNormal,t.D[e]=Ve.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=en(e);t.scope=e.scope;var r=[],s=Ve.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+At(Ve.internal.getWidth(e)-2)+" "+At(Ve.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(At(s.x1.x)+" "+At(s.x1.y)+" m"),r.push(At(s.x2.x)+" "+At(s.x2.y)+" l"),r.push(At(s.x4.x)+" "+At(s.x4.y)+" m"),r.push(At(s.x3.x)+" "+At(s.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=en(e);t.scope=e.scope;var r=Ve.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+At(Ve.internal.getWidth(e))+" "+At(Ve.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+At(Ve.internal.getWidth(e)-2)+" "+At(Ve.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),s.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),s.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),s.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=en(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ve.internal.getWidth(e))+" "+At(Ve.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ve.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ve.internal.getWidth(e),r=Ve.internal.getHeight(e),s=Math.min(t,r);return{x1:{x:(t-s)/2,y:(r-s)/2+s},x2:{x:(t-s)/2+s,y:(r-s)/2},x3:{x:(t-s)/2,y:(r-s)/2},x4:{x:(t-s)/2+s,y:(r-s)/2+s}}}},Ve.internal.getWidth=function(e){var t=0;return Qt(e)==="object"&&(t=r2(e.Rect[2])),t},Ve.internal.getHeight=function(e){var t=0;return Qt(e)==="object"&&(t=r2(e.Rect[3])),t};var M3=ar.addField=function(e){if(H3(this,e),!(e instanceof Ts))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ar.AcroFormChoiceField=Yo,ar.AcroFormListBox=Zo,ar.AcroFormComboBox=el,ar.AcroFormEditBox=g0,ar.AcroFormButton=Lr,ar.AcroFormPushButton=m0,ar.AcroFormRadioButton=tl,ar.AcroFormCheckBox=p0,ar.AcroFormTextField=Ni,ar.AcroFormPasswordField=x0,ar.AcroFormAppearance=Ve,ar.AcroForm={ChoiceField:Yo,ListBox:Zo,ComboBox:el,EditBox:g0,Button:Lr,PushButton:m0,RadioButton:tl,CheckBox:p0,TextField:Ni,PasswordField:x0,Appearance:Ve},Ze.AcroForm={ChoiceField:Yo,ListBox:Zo,ComboBox:el,EditBox:g0,Button:Lr,PushButton:m0,RadioButton:tl,CheckBox:p0,TextField:Ni,PasswordField:x0,Appearance:Ve};function y5(e){return e.reduce(function(t,r,s){return t[r]=s,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(F,j){var P,z,D,O,Z,K=t;if((j=j||t)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(V(F))for(Z in r)for(D=r[Z],P=0;P<D.length;P+=1){for(O=!0,z=0;z<D[P].length;z+=1)if(D[P][z]!==void 0&&D[P][z]!==F[z]){O=!1;break}if(O===!0){K=Z;break}}else for(Z in r)for(D=r[Z],P=0;P<D.length;P+=1){for(O=!0,z=0;z<D[P].length;z+=1)if(D[P][z]!==void 0&&D[P][z]!==F.charCodeAt(z)){O=!1;break}if(O===!0){K=Z;break}}return K===t&&j!==t&&(K=j),K},n=function F(j){for(var P=this.internal.write,z=this.internal.putStream,D=(0,this.internal.getFilters)();D.indexOf("FlateEncode")!==-1;)D.splice(D.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var O=[];if(O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Image"}),O.push({key:"Width",value:j.width}),O.push({key:"Height",value:j.height}),j.colorSpace===N.INDEXED?O.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(O.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===N.DEVICE_CMYK&&O.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),O.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&O.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var Z="",K=0,te=j.transparency.length;K<te;K++)Z+=j.transparency[K]+" "+j.transparency[K]+" ";O.push({key:"Mask",value:"["+Z+"]"})}j.sMask!==void 0&&O.push({key:"SMask",value:j.objectId+1+" 0 R"});var se=j.filter!==void 0?["/"+j.filter]:void 0;if(z({data:j.data,additionalKeyValues:O,alreadyAppliedFilters:se,objectId:j.objectId}),P("endobj"),"sMask"in j&&j.sMask!==void 0){var he="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,Q={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:he,data:j.sMask};"filter"in j&&(Q.filter=j.filter),F.call(this,Q)}if(j.colorSpace===N.INDEXED){var J=this.internal.newObject();z({data:C(new Uint8Array(j.palette)),objectId:J}),P("endobj")}},A=function(){var F=this.internal.collections.addImage_images;for(var j in F)n.call(this,F[j])},i=function(){var F,j=this.internal.collections.addImage_images,P=this.internal.write;for(var z in j)P("/I"+(F=j[z]).index,F.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",A),this.internal.events.subscribe("putXobjectDict",i))},l=function(){var F=this.internal.collections.addImage_images;return o.call(this),F},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(F){return typeof e["process"+F.toUpperCase()]=="function"},f=function(F){return Qt(F)==="object"&&F.nodeType===1},p=function(F,j){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var P=""+F.getAttribute("src");if(P.indexOf("data:image/")===0)return Pc(unescape(P).split("base64,").pop());var z=e.loadFile(P,!0);if(z!==void 0)return z}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var D;switch(j){case"PNG":D="image/png";break;case"WEBP":D="image/webp";break;case"JPEG":case"JPG":default:D="image/jpeg"}return Pc(F.toDataURL(D,1).split("base64,").pop())}},h=function(F){var j=this.internal.collections.addImage_images;if(j){for(var P in j)if(F===j[P].alias)return j[P]}},B=function(F,j,P){return F||j||(F=-96,j=-96),F<0&&(F=-1*P.width*72/F/this.internal.scaleFactor),j<0&&(j=-1*P.height*72/j/this.internal.scaleFactor),F===0&&(F=j*P.width/P.height),j===0&&(j=F*P.height/P.width),[F,j]},x=function(F,j,P,z,D,O){var Z=B.call(this,P,z,D),K=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,se=l.call(this);if(P=Z[0],z=Z[1],se[D.index]=D,O){O*=Math.PI/180;var he=Math.cos(O),Q=Math.sin(O),J=function(ee){return ee.toFixed(4)},X=[J(he),J(Q),J(-1*Q),J(he),0,0,"cm"]}this.internal.write("q"),O?(this.internal.write([1,"0","0",1,K(F),te(j+z),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([K(P),"0","0",K(z),"0","0","cm"].join(" "))):this.internal.write([K(P),"0","0",K(z),K(F),te(j+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+D.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(F){var j,P,z=0;if(typeof F=="string")for(P=F.length,j=0;j<P;j++)z=(z<<5)-z+F.charCodeAt(j),z|=0;else if(V(F))for(P=F.byteLength/2,j=0;j<P;j++)z=(z<<5)-z+F[j],z|=0;return z},v=e.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var j=!0;return F.length===0&&(j=!1),F.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(j=!1),j},E=e.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var j=F.indexOf(",");return j<0?null:F.substring(0,j).trim().endsWith("base64")?F.substring(j+1):null},U=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(F){return U()&&F instanceof ArrayBuffer};var V=e.__addimage__.isArrayBufferView=function(F){return U()&&typeof Uint32Array<"u"&&(F instanceof Int8Array||F instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},S=e.__addimage__.binaryStringToUint8Array=function(F){for(var j=F.length,P=new Uint8Array(j),z=0;z<j;z++)P[z]=F.charCodeAt(z);return P},C=e.__addimage__.arrayBufferToBinaryString=function(F){for(var j="",P=V(F)?F:new Uint8Array(F),z=0;z<P.length;z+=8192)j+=String.fromCharCode.apply(null,P.subarray(z,z+8192));return j};e.addImage=function(){var F,j,P,z,D,O,Z,K,te;if(typeof arguments[1]=="number"?(j=t,P=arguments[1],z=arguments[2],D=arguments[3],O=arguments[4],Z=arguments[5],K=arguments[6],te=arguments[7]):(j=arguments[1],P=arguments[2],z=arguments[3],D=arguments[4],O=arguments[5],Z=arguments[6],K=arguments[7],te=arguments[8]),Qt(F=arguments[0])==="object"&&!f(F)&&"imageData"in F){var se=F;F=se.imageData,j=se.format||j||t,P=se.x||P||0,z=se.y||z||0,D=se.w||se.width||D,O=se.h||se.height||O,Z=se.alias||Z,K=se.compression||K,te=se.rotation||se.angle||te}var he=this.internal.getFilters();if(K===void 0&&he.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(P)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var Q=_.call(this,F,j,Z,K);return x.call(this,P,z,D,O,Q,te),this};var _=function(F,j,P,z){var D,O,Z;if(typeof F=="string"&&s(F)===t){F=unescape(F);var K=H(F,!1);(K!==""||(K=e.loadFile(F,!0))!==void 0)&&(F=K)}if(f(F)&&(F=p(F,j)),j=s(F,j),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((Z=P)==null||Z.length===0)&&(P=function(te){return typeof te=="string"||V(te)?y(te):V(te.data)?y(te.data):null}(F)),(D=h.call(this,P))||(U()&&(F instanceof Uint8Array||j==="RGBA"||(O=F,F=S(F))),D=this["process"+j.toUpperCase()](F,c.call(this),P,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:m.NONE}(z),O)),!D)throw new Error("An unknown error occurred whilst processing the image.");return D},H=e.__addimage__.convertBase64ToBinaryString=function(F,j){j=typeof j!="boolean"||j;var P,z="";if(typeof F=="string"){var D;P=(D=E(F))!==null&&D!==void 0?D:F;try{z=Pc(P)}catch(O){if(j)throw v(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+O.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(F){var j,P,z="";if(f(F)&&(F=p(F)),typeof F=="string"&&s(F)===t&&((z=H(F,!1))===""&&(z=e.loadFile(F)||""),F=z),P=s(F),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(!U()||F instanceof Uint8Array||(F=S(F)),!(j=this["process"+P.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=P,j}})(Ze.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ze.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var s,n,A,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((s=c[f]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){s=c[p];var h=this.internal.pdfEscape,B=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(x.objId),y=s.title||"Note";A="<</Type /Annot /Subtype /Text "+(n="/Rect ["+i(s.bounds.x)+" "+o(s.bounds.y+s.bounds.h)+" "+i(s.bounds.x+s.bounds.w)+" "+o(s.bounds.y)+"] ")+"/Contents ("+h(m(s.contents))+")",A+=" /Popup "+N.objId+" 0 R",A+=" /P "+l.objId+" 0 R",A+=" /T ("+h(m(y))+") >>",x.content=A;var v=x.objId+" 0 R";A="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+i(s.bounds.x+30)+" "+o(s.bounds.y+s.bounds.h)+" "+i(s.bounds.x+s.bounds.w+30)+" "+o(s.bounds.y)+"] ")+" /Parent "+v,s.open&&(A+=" /Open true"),A+=" >>",N.content=A,this.internal.write(x.objId,"0 R",N.objId,"0 R");break;case"freetext":n="/Rect ["+i(s.bounds.x)+" "+o(s.bounds.y)+" "+i(s.bounds.x+s.bounds.w)+" "+o(s.bounds.y+s.bounds.h)+"] ";var E=s.color||"#000000";A="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(B(s.contents))+")",A+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",A+=" /Border [0 0 0]",A+=" >>",this.internal.write(A);break;case"link":if(s.options.name){var U=this.annotations._nameMap[s.options.name];s.options.pageNumber=U.page,s.options.top=U.y}else s.options.top||(s.options.top=0);if(n="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",A="",s.options.url)A="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(B(s.options.url))+") >>";else if(s.options.pageNumber)switch(A="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":A+=" /Fit]";break;case"FitH":A+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,A+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var V=o(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),A+=" /XYZ "+s.options.left+" "+V+" "+s.options.zoom+"]"}A!=""&&(A+=" >>",this.internal.write(A))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},e.link=function(r,s,n,A,i){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(s),w:l(r+n),h:c(s+A)},options:i,type:"link"})},e.textWithLink=function(r,s,n,A){var i,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(A.maxWidth!==void 0){o=A.maxWidth;var u=this.splitTextToSize(r,o).length;i=Math.ceil(c*u)}else o=l,i=c;return this.text(r,s,n,A),n+=.2*c,A.align==="center"&&(s-=l/2),A.align==="right"&&(s-=l),this.link(s,n-c,o,i,A),l},e.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}}(Ze.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var A=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=e.__arabicParser__.isArabicEndLetter=function(x){return i(x)&&A(x)&&t[x.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(x){return i(x)&&n.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return i(x)&&A(x)&&t[x.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return i(x)&&A(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return i(x)&&A(x)&&t[x.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return i(x)&&A(x)&&t[x.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(x){var N=0,m=r,y="",v=0;for(N=0;N<x.length;N+=1)m[x.charCodeAt(N)]!==void 0?(v++,typeof(m=m[x.charCodeAt(N)])=="number"&&(y+=String.fromCharCode(m),m=r,v=0),N===x.length-1&&(m=r,y+=x.charAt(N-(v-1)),N-=v-1,v=0)):(m=r,y+=x.charAt(N-v),N-=v,v=0);return y};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&s[x.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(x,N,m){return i(x)?A(x)===!1?-1:!c(x)||!i(N)&&!i(m)||!i(m)&&o(N)||o(x)&&!i(N)||o(x)&&l(N)||o(x)&&o(N)?0:u(x)&&i(N)&&!o(N)&&i(m)&&c(m)?3:o(x)||!i(m)?1:2:-1},h=function(x){var N=0,m=0,y=0,v="",E="",U="",V=(x=x||"").split("\\s+"),S=[];for(N=0;N<V.length;N+=1){for(S.push(""),m=0;m<V[N].length;m+=1)v=V[N][m],E=V[N][m-1],U=V[N][m+1],i(v)?(y=p(v,E,U),S[N]+=y!==-1?String.fromCharCode(t[v.charCodeAt(0)][y]):v):S[N]+=v;S[N]=f(S[N])}return S.join(" ")},B=e.__arabicParser__.processArabic=e.processArabic=function(){var x,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(N)){var y=0;for(m=[],y=0;y<N.length;y+=1)Array.isArray(N[y])?m.push([h(N[y][0]),N[y][1],N[y][2]]):m.push([h(N[y])]);x=m}else x=h(N);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",B])}(Ze.API),Ze.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var A=[];Object.defineProperty(this,"childNodes",{get:function(){return A},set:function(o){A=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,s){var n;if((r=r||"2d")!=="2d")return null;for(n in s)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=s[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ze.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new A,this.internal.__cell__.pages=1},A=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var B=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return B},set:function(x){B=x}}),this};A.prototype.clone=function(){return new A(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},A.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return s.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){s.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,B=0,x=0,N=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=c.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(v,E){return v.concat(N.splitTextToSize(E,m))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)h<(x=this.getStringUnitWidth(l[y],{font:f})*u)&&(h=x);return h!==0&&(B=l.length),{w:h/=p,h:Math.max((B*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new A(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var l;l=arguments[0]instanceof A?arguments[0]:new A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,p){if(s.call(this),!u)throw new Error("No data for PDF table.");var h,B,x,N,m=[],y=[],v=[],E={},U={},V=[],S=[],C=(p=p||{}).autoSize||!1,_=p.printHeaders!==!1,H=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,F=p.margins||Object.assign({width:this.getPageWidth()},t),j=typeof p.padding=="number"?p.padding:3,P=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=z,this.setFontSize(H),f==null)y=m=Object.keys(u[0]),v=m.map(function(){return"left"});else if(Array.isArray(f)&&Qt(f[0])==="object")for(m=f.map(function(se){return se.name}),y=f.map(function(se){return se.prompt||se.name||""}),v=f.map(function(se){return se.align||"left"}),h=0;h<f.length;h+=1)U[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=m=f,v=m.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<m.length;h+=1){for(E[N=m[h]]=u.map(function(se){return se[N]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(y[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),B=E[N],this.setFont(void 0,"normal"),x=0;x<B.length;x+=1)V.push(this.getTextDimensions(B[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[N]=Math.max.apply(null,V)+j+j,V=[]}if(_){var D={};for(h=0;h<m.length;h+=1)D[m[h]]={},D[m[h]].text=y[h],D[m[h]].align=v[h];var O=o.call(this,D,U);S=m.map(function(se){return new A(l,c,U[se],O,D[se].text,void 0,D[se].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var Z=f.reduce(function(se,he){return se[he.name]=he.align,se},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var K=o.call(this,u[h],U);for(x=0;x<m.length;x+=1){var te=u[h][m[x]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:x,data:te},this),i.call(this,new A(l,c,U[m[x]],K,te,h+2,Z[m[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var B=l[h];return this.splitTextToSize(B.hasOwnProperty("text")?B.text:B,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+u+u},this).reduce(function(h,B){return Math.max(h,B)},0)};e.setTableHeaderRow=function(l){s.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new A(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var B=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,u),this.setTextColor(B)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Ze.API);var w5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},v5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],np=y5(v5),b5=[100,200,300,400,500,600,700,800,900],O3=y5(b5);function Ap(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(A){return w5[A=A||"normal"]?A:"normal"}(e.style),s=function(A){if(!A)return 400;if(typeof A=="number")return A>=100&&A<=900&&A%100==0?A:400;if(/^\d00$/.test(A))return parseInt(A);switch(A){case"bold":return 700;case"normal":default:return 400}}(e.weight),n=function(A){return typeof np[A=A||"normal"]=="number"?A:"normal"}(e.stretch);return{family:t,style:r,weight:s,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,r,s].join(" ")}}}function a2(e,t,r,s){var n;for(n=r;n>=0&&n<t.length;n+=s)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=s)if(e[t[n]])return e[t[n]]}var _3={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},s2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function n2(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function K3(e,t,r){for(var s=(r=r||{}).defaultFontFamily||"times",n=Object.assign({},_3,r.genericFontFamilies||{}),A=null,i=null,o=0;o<t.length;++o)if(n[(A=Ap(t[o])).family]&&(A.family=n[A.family]),e.hasOwnProperty(A.family)){i=e[A.family];break}if(!(i=i||e[s]))throw new Error("Could not find a font-family for the rule '"+n2(A)+"' and default family '"+s+"'.");if(i=function(l,c){if(c[l])return c[l];var u=np[l],f=u<=np.normal?-1:1,p=a2(c,v5,u,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(A.stretch,i),i=function(l,c){if(c[l])return c[l];for(var u=w5[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(A.style,i),!(i=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=O3[l],f=a2(c,b5,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(A.weight,i)))throw new Error("Failed to resolve a font for the rule '"+n2(A)+"'.");return i}function A2(e){return e.trimLeft()}function q3(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function z3(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Uu,i2,o2,Sg=["times"];(function(e){var t,r,s,n,A,i,o,l,c,u=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new l,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new i,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new i,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,A=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=Q;Object.defineProperty(this,"pdf",{get:function(){return J}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(ye){X=!!ye}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(ye){ee=!!ye}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(ye){isNaN(ye)||(ne=ye)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ye){isNaN(ye)||(ce=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var G;typeof ye=="number"?G=[ye,ye,ye,ye]:((G=new Array(4))[0]=ye[0],G[1]=ye.length>=2?ye[1]:G[0],G[2]=ye.length>=3?ye[2]:G[0],G[3]=ye.length>=4?ye[3]:G[1]),c.margin=G}});var re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return re},set:function(ye){re=ye}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ye){de=ye}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(ye){Ne=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof u&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(ye){Ce=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var G;G=p(ye),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var G=p(ye);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Le=null;function Ee(ye,G){if(Le===null){var _e=function(Qe){var je=[];return Object.keys(Qe).forEach(function(Fe){Qe[Fe].forEach(function(De){var Ie=null;switch(De){case"bold":Ie={family:Fe,weight:"bold"};break;case"italic":Ie={family:Fe,style:"italic"};break;case"bolditalic":Ie={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Fe}}Ie!==null&&(Ie.ref={name:Fe,style:De},je.push(Ie))})}),je}(ye.getFontList());Le=function(Qe){for(var je={},Fe=0;Fe<Qe.length;++Fe){var De=Ap(Qe[Fe]),Ie=De.family,Ge=De.stretch,tt=De.style,at=De.weight;je[Ie]=je[Ie]||{},je[Ie][Ge]=je[Ie][Ge]||{},je[Ie][Ge][tt]=je[Ie][Ge][tt]||{},je[Ie][Ge][tt][at]=De}return je}(_e.concat(G))}return Le}var $e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(ye){Le=null,$e=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var G;if(this.ctx.font=ye,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var _e=G[1];G[2];var Qe=G[3],je=G[4];G[5];var Fe=G[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(De==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var Ie=function(Xe){var ut,Re,zr=[],vt=Xe.trim();if(vt==="")return Sg;if(vt in s2)return[s2[vt]];for(;vt!=="";){switch(Re=null,ut=(vt=A2(vt)).charAt(0)){case'"':case"'":Re=q3(vt.substring(1),ut);break;default:Re=z3(vt)}if(Re===null||(zr.push(Re[0]),(vt=A2(Re[1]))!==""&&vt.charAt(0)!==","))return Sg;vt=vt.replace(/^,/,"")}return zr}(Fe);if(this.fontFaces){var Ge=K3(Ee(this.pdf,this.fontFaces),Ie.map(function(Xe){return{family:Xe,stretch:"normal",weight:Qe,style:_e}}));this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var tt="";(Qe==="bold"||parseInt(Qe,10)>=700||_e==="bold")&&(tt="bold"),_e==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var at="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<Ie.length;ft++){if(this.pdf.internal.getFont(Ie[ft],tt,{noFallback:!0,disableWarning:!0})!==void 0){at=Ie[ft];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Ie[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Ie[ft],tt="bold";else if(this.pdf.internal.getFont(Ie[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Ie[ft],tt="normal";break}}if(at===""){for(var bt=0;bt<Ie.length;bt++)if(ct[Ie[bt]]){at=ct[Ie[bt]];break}}at=at===""?"Times":at,this.pdf.setFont(at,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(Q){this.lineDash=Q},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){E.call(this,"fill",!1)},f.prototype.stroke=function(){E.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(Q,J){if(isNaN(Q)||isNaN(J))throw Tt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new i(Q,J));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new i(Q,J)},f.prototype.closePath=function(){var Q=new i(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Qt(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){Q=new i(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(Q.x,Q.y)},f.prototype.lineTo=function(Q,J){if(isNaN(Q)||isNaN(J))throw Tt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new i(Q,J));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new i(X.x,X.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},f.prototype.quadraticCurveTo=function(Q,J,X,ee){if(isNaN(X)||isNaN(ee)||isNaN(Q)||isNaN(J))throw Tt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new i(X,ee)),ce=this.ctx.transform.applyToPoint(new i(Q,J));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new i(ne.x,ne.y)},f.prototype.bezierCurveTo=function(Q,J,X,ee,ne,ce){if(isNaN(ne)||isNaN(ce)||isNaN(Q)||isNaN(J)||isNaN(X)||isNaN(ee))throw Tt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var re=this.ctx.transform.applyToPoint(new i(ne,ce)),de=this.ctx.transform.applyToPoint(new i(Q,J)),Ne=this.ctx.transform.applyToPoint(new i(X,ee));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:Ne.x,y2:Ne.y,x:re.x,y:re.y}),this.ctx.lastPoint=new i(re.x,re.y)},f.prototype.arc=function(Q,J,X,ee,ne,ce){if(isNaN(Q)||isNaN(J)||isNaN(X)||isNaN(ee)||isNaN(ne))throw Tt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var re=this.ctx.transform.applyToPoint(new i(Q,J));Q=re.x,J=re.y;var de=this.ctx.transform.applyToPoint(new i(0,X)),Ne=this.ctx.transform.applyToPoint(new i(0,0));X=Math.sqrt(Math.pow(de.x-Ne.x,2)+Math.pow(de.y-Ne.y,2))}Math.abs(ne-ee)>=2*Math.PI&&(ee=0,ne=2*Math.PI),this.path.push({type:"arc",x:Q,y:J,radius:X,startAngle:ee,endAngle:ne,counterclockwise:ce})},f.prototype.arcTo=function(Q,J,X,ee,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(Q,J,X,ee){if(isNaN(Q)||isNaN(J)||isNaN(X)||isNaN(ee))throw Tt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,J),this.lineTo(Q+X,J),this.lineTo(Q+X,J+ee),this.lineTo(Q,J+ee),this.lineTo(Q,J),this.lineTo(Q+X,J),this.lineTo(Q,J)},f.prototype.fillRect=function(Q,J,X,ee){if(isNaN(Q)||isNaN(J)||isNaN(X)||isNaN(ee))throw Tt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,J,X,ee),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(Q,J,X,ee){if(isNaN(Q)||isNaN(J)||isNaN(X)||isNaN(ee))throw Tt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");B.call(this)||(this.beginPath(),this.rect(Q,J,X,ee),this.stroke())},f.prototype.clearRect=function(Q,J,X,ee){if(isNaN(Q)||isNaN(J)||isNaN(X)||isNaN(ee))throw Tt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,J,X,ee))},f.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},f.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(J),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(Q){var J,X,ee,ne;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))J=0,X=0,ee=0,ne=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(ce!==null)J=parseInt(ce[1]),X=parseInt(ce[2]),ee=parseInt(ce[3]),ne=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)J=parseInt(ce[1]),X=parseInt(ce[2]),ee=parseInt(ce[3]),ne=parseFloat(ce[4]);else{if(ne=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var re=new h5(Q);Q=re.ok?re.toHex():"#000000"}Q.length===4?(J=Q.substring(1,2),J+=J,X=Q.substring(2,3),X+=X,ee=Q.substring(3,4),ee+=ee):(J=Q.substring(1,3),X=Q.substring(3,5),ee=Q.substring(5,7)),J=parseInt(J,16),X=parseInt(X,16),ee=parseInt(ee,16)}}return{r:J,g:X,b:ee,a:ne,style:Q}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},B=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(Q,J,X,ee){if(isNaN(J)||isNaN(X)||typeof Q!="string")throw Tt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!h.call(this)){var ne=K(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;j.call(this,{text:Q,x:J,y:X,scale:ce,angle:ne,align:this.textAlign,maxWidth:ee})}},f.prototype.strokeText=function(Q,J,X,ee){if(isNaN(J)||isNaN(X)||typeof Q!="string")throw Tt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!B.call(this)){ee=isNaN(ee)?void 0:ee;var ne=K(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;j.call(this,{text:Q,x:J,y:X,scale:ce,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:ee})}},f.prototype.measureText=function(Q){if(typeof Q!="string")throw Tt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,X=this.pdf.internal.scaleFactor,ee=J.internal.getFontSize(),ne=J.getStringUnitWidth(Q)*ee/J.internal.scaleFactor,ce=function(re){var de=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new ce({width:ne*=Math.round(96*X/72*1e4)/1e4})},f.prototype.scale=function(Q,J){if(isNaN(Q)||isNaN(J))throw Tt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(Q,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.rotate=function(Q){if(isNaN(Q))throw Tt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new l(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.translate=function(Q,J){if(isNaN(Q)||isNaN(J))throw Tt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,Q,J);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.transform=function(Q,J,X,ee,ne,ce){if(isNaN(Q)||isNaN(J)||isNaN(X)||isNaN(ee)||isNaN(ne)||isNaN(ce))throw Tt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var re=new l(Q,J,X,ee,ne,ce);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.setTransform=function(Q,J,X,ee,ne,ce){Q=isNaN(Q)?1:Q,J=isNaN(J)?0:J,X=isNaN(X)?0:X,ee=isNaN(ee)?1:ee,ne=isNaN(ne)?0:ne,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(Q,J,X,ee,ne,ce)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(Q,J,X,ee,ne,ce,re,de,Ne){var Ce=this.pdf.getImageProperties(Q),Le=1,Ee=1,$e=1,ye=1;ee!==void 0&&de!==void 0&&($e=de/ee,ye=Ne/ne,Le=Ce.width/ee*de/ee,Ee=Ce.height/ne*Ne/ne),ce===void 0&&(ce=J,re=X,J=0,X=0),ee!==void 0&&de===void 0&&(de=ee,Ne=ne),ee===void 0&&de===void 0&&(de=Ce.width,Ne=Ce.height);for(var G,_e=this.ctx.transform.decompose(),Qe=K(_e.rotate.shx),je=new l,Fe=(je=(je=(je=je.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale)).applyToRectangle(new o(ce-J*$e,re-X*ye,ee*Le,ne*Ee)),De=N.call(this,Fe),Ie=[],Ge=0;Ge<De.length;Ge+=1)Ie.indexOf(De[Ge])===-1&&Ie.push(De[Ge]);if(v(Ie),this.autoPaging)for(var tt=Ie[0],at=Ie[Ie.length-1],ct=tt;ct<at+1;ct++){this.pdf.setPage(ct);var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=ct===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Re=ct===1?0:Xe+(ct-2)*ut;if(this.ctx.clip_path.length!==0){var zr=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(G,this.posX+this.margin[3],-Re+bt+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=zr}var vt=JSON.parse(JSON.stringify(Fe));vt=y([vt],this.posX+this.margin[3],-Re+bt+this.ctx.prevPageLastElemOffset)[0];var ds=(ct>tt||ct<at)&&x.call(this);ds&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,ut,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Qe),ds&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Qe)};var N=function(Q,J,X){var ee=[];J=J||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":ee.push(Math.floor((Q.y+ne)/X)+1);break;case"arc":ee.push(Math.floor((Q.y+ne-Q.radius)/X)+1),ee.push(Math.floor((Q.y+ne+Q.radius)/X)+1);break;case"qct":var ce=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);ee.push(Math.floor((ce.y+ne)/X)+1),ee.push(Math.floor((ce.y+ce.h+ne)/X)+1);break;case"bct":var re=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);ee.push(Math.floor((re.y+ne)/X)+1),ee.push(Math.floor((re.y+re.h+ne)/X)+1);break;case"rect":ee.push(Math.floor((Q.y+ne)/X)+1),ee.push(Math.floor((Q.y+Q.h+ne)/X)+1)}for(var de=0;de<ee.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<ee[de];)m.call(this);return ee},m=function(){var Q=this.fillStyle,J=this.strokeStyle,X=this.font,ee=this.lineCap,ne=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=J,this.font=X,this.lineCap=ee,this.lineWidth=ne,this.lineJoin=ce},y=function(Q,J,X){for(var ee=0;ee<Q.length;ee++)switch(Q[ee].type){case"bct":Q[ee].x2+=J,Q[ee].y2+=X;case"qct":Q[ee].x1+=J,Q[ee].y1+=X;case"mt":case"lt":case"arc":default:Q[ee].x+=J,Q[ee].y+=X}return Q},v=function(Q){return Q.sort(function(J,X){return J-X})},E=function(Q,J){for(var X,ee,ne=this.fillStyle,ce=this.strokeStyle,re=this.lineCap,de=this.lineWidth,Ne=Math.abs(de*this.ctx.transform.scaleX),Ce=this.lineJoin,Le=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),$e=[],ye=0;ye<Ee.length;ye++)if(Ee[ye].x!==void 0)for(var G=N.call(this,Ee[ye]),_e=0;_e<G.length;_e+=1)$e.indexOf(G[_e])===-1&&$e.push(G[_e]);for(var Qe=0;Qe<$e.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<$e[Qe];)m.call(this);if(v($e),this.autoPaging)for(var je=$e[0],Fe=$e[$e.length-1],De=je;De<Fe+1;De++){this.pdf.setPage(De),this.fillStyle=ne,this.strokeStyle=ce,this.lineCap=re,this.lineWidth=Ne,this.lineJoin=Ce;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=De===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=De===1?0:tt+(De-2)*at;if(this.ctx.clip_path.length!==0){var ft=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(X,this.posX+this.margin[3],-ct+Ge+this.ctx.prevPageLastElemOffset),U.call(this,Q,!0),this.path=ft}if(ee=JSON.parse(JSON.stringify(Le)),this.path=y(ee,this.posX+this.margin[3],-ct+Ge+this.ctx.prevPageLastElemOffset),J===!1||De===0){var bt=(De>je||De<Fe)&&x.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,at,null).clip().discardPath()),U.call(this,Q,J),bt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=Ne,U.call(this,Q,J),this.lineWidth=de;this.path=Le},U=function(Q,J){if((Q!=="stroke"||J||!B.call(this))&&(Q==="stroke"||J||!h.call(this))){for(var X,ee,ne=[],ce=this.path,re=0;re<ce.length;re++){var de=ce[re];switch(de.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:de,deltas:[],abs:[]});break;case"lt":var Ne=ne.length;if(ce[re-1]&&!isNaN(ce[re-1].x)&&(X=[de.x-ce[re-1].x,de.y-ce[re-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ne[Ne-1].close!==!0&&ne[Ne-1].begin!==!0){ne[Ne-1].deltas.push(X),ne[Ne-1].abs.push(de);break}}break;case"bct":X=[de.x1-ce[re-1].x,de.y1-ce[re-1].y,de.x2-ce[re-1].x,de.y2-ce[re-1].y,de.x-ce[re-1].x,de.y-ce[re-1].y],ne[ne.length-1].deltas.push(X);break;case"qct":var Ce=ce[re-1].x+2/3*(de.x1-ce[re-1].x),Le=ce[re-1].y+2/3*(de.y1-ce[re-1].y),Ee=de.x+2/3*(de.x1-de.x),$e=de.y+2/3*(de.y1-de.y),ye=de.x,G=de.y;X=[Ce-ce[re-1].x,Le-ce[re-1].y,Ee-ce[re-1].x,$e-ce[re-1].y,ye-ce[re-1].x,G-ce[re-1].y],ne[ne.length-1].deltas.push(X);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(de)}}ee=J?null:Q==="stroke"?"stroke":"fill";for(var _e=!1,Qe=0;Qe<ne.length;Qe++)if(ne[Qe].arc)for(var je=ne[Qe].abs,Fe=0;Fe<je.length;Fe++){var De=je[Fe];De.type==="arc"?C.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,J,!_e):P.call(this,De.x,De.y),_e=!0}else if(ne[Qe].close===!0)this.pdf.internal.out("h"),_e=!1;else if(ne[Qe].begin!==!0){var Ie=ne[Qe].start.x,Ge=ne[Qe].start.y;z.call(this,ne[Qe].deltas,Ie,Ge),_e=!0}ee&&_.call(this,ee),J&&H.call(this)}},V=function(Q){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-X;case"top":return Q+J-X;case"hanging":return Q+J-2*X;case"middle":return Q+J/2-X;case"ideographic":return Q;case"alphabetic":default:return Q}},S=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(J,X){this.colorStops.push([J,X])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(Q,J,X,ee,ne,ce,re,de,Ne){for(var Ce=O.call(this,X,ee,ne,ce),Le=0;Le<Ce.length;Le++){var Ee=Ce[Le];Le===0&&(Ne?F.call(this,Ee.x1+Q,Ee.y1+J):P.call(this,Ee.x1+Q,Ee.y1+J)),D.call(this,Q,J,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}de?H.call(this):_.call(this,re)},_=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(Q,J){this.pdf.internal.out(r(Q)+" "+s(J)+" m")},j=function(Q){var J;switch(Q.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var X=this.pdf.getTextDimensions(Q.text),ee=V.call(this,Q.y),ne=S.call(this,ee)-X.h,ce=this.ctx.transform.applyToPoint(new i(Q.x,ee)),re=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(re.translate)).multiply(re.skew)).multiply(re.scale);for(var Ne,Ce,Le,Ee=this.ctx.transform.applyToRectangle(new o(Q.x,ee,X.w,X.h)),$e=de.applyToRectangle(new o(Q.x,ne,X.w,X.h)),ye=N.call(this,$e),G=[],_e=0;_e<ye.length;_e+=1)G.indexOf(ye[_e])===-1&&G.push(ye[_e]);if(v(G),this.autoPaging)for(var Qe=G[0],je=G[G.length-1],Fe=Qe;Fe<je+1;Fe++){this.pdf.setPage(Fe);var De=Fe===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],tt=Ge-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],ct=at-this.margin[3],ft=Fe===1?0:Ie+(Fe-2)*tt;if(this.ctx.clip_path.length!==0){var bt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Ne,this.posX+this.margin[3],-1*ft+De),U.call(this,"fill",!0),this.path=bt}var Xe=y([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-ft+De+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*Q.scale),Le=this.lineWidth,this.lineWidth=Le*Q.scale);var ut=this.autoPaging!=="text";if(ut||Xe.y+Xe.h<=Ge){if(ut||Xe.y>=De&&Xe.x<=at){var Re=ut?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||at-Xe.x)[0],zr=y([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-ft+De+this.ctx.prevPageLastElemOffset)[0],vt=ut&&(Fe>Qe||Fe<je)&&x.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,tt,null).clip().discardPath()),this.pdf.text(Re,zr.x,zr.y,{angle:Q.angle,align:J,renderingMode:Q.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else Xe.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-Xe.y);Q.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Le)}else Q.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*Q.scale),Le=this.lineWidth,this.lineWidth=Le*Q.scale),this.pdf.text(Q.text,ce.x+this.posX,ce.y+this.posY,{angle:Q.angle,align:J,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Le)},P=function(Q,J,X,ee){X=X||0,ee=ee||0,this.pdf.internal.out(r(Q+X)+" "+s(J+ee)+" l")},z=function(Q,J,X){return this.pdf.lines(Q,J,X,null,null)},D=function(Q,J,X,ee,ne,ce,re,de){this.pdf.internal.out([t(n(X+Q)),t(A(ee+J)),t(n(ne+Q)),t(A(ce+J)),t(n(re+Q)),t(A(de+J)),"c"].join(" "))},O=function(Q,J,X,ee){for(var ne=2*Math.PI,ce=Math.PI/2;J>X;)J-=ne;var re=Math.abs(X-J);re<ne&&ee&&(re=ne-re);for(var de=[],Ne=ee?-1:1,Ce=J;re>1e-5;){var Le=Ce+Ne*Math.min(re,ce);de.push(Z.call(this,Q,Ce,Le)),re-=Math.abs(Le-Ce),Ce=Le}return de},Z=function(Q,J,X){var ee=(X-J)/2,ne=Q*Math.cos(ee),ce=Q*Math.sin(ee),re=ne,de=-ce,Ne=re*re+de*de,Ce=Ne+re*ne+de*ce,Le=4/3*(Math.sqrt(2*Ne*Ce)-Ce)/(re*ce-de*ne),Ee=re-Le*de,$e=de+Le*re,ye=Ee,G=-$e,_e=ee+J,Qe=Math.cos(_e),je=Math.sin(_e);return{x1:Q*Math.cos(J),y1:Q*Math.sin(J),x2:Ee*Qe-$e*je,y2:Ee*je+$e*Qe,x3:ye*Qe-G*je,y3:ye*je+G*Qe,x4:Q*Math.cos(X),y4:Q*Math.sin(X)}},K=function(Q){return 180*Q/Math.PI},te=function(Q,J,X,ee,ne,ce){var re=Q+.5*(X-Q),de=J+.5*(ee-J),Ne=ne+.5*(X-ne),Ce=ce+.5*(ee-ce),Le=Math.min(Q,ne,re,Ne),Ee=Math.max(Q,ne,re,Ne),$e=Math.min(J,ce,de,Ce),ye=Math.max(J,ce,de,Ce);return new o(Le,$e,Ee-Le,ye-$e)},se=function(Q,J,X,ee,ne,ce,re,de){var Ne,Ce,Le,Ee,$e,ye,G,_e,Qe,je,Fe,De,Ie,Ge,tt=X-Q,at=ee-J,ct=ne-X,ft=ce-ee,bt=re-ne,Xe=de-ce;for(Ce=0;Ce<41;Ce++)Qe=(G=(Le=Q+(Ne=Ce/40)*tt)+Ne*(($e=X+Ne*ct)-Le))+Ne*($e+Ne*(ne+Ne*bt-$e)-G),je=(_e=(Ee=J+Ne*at)+Ne*((ye=ee+Ne*ft)-Ee))+Ne*(ye+Ne*(ce+Ne*Xe-ye)-_e),Ce==0?(Fe=Qe,De=je,Ie=Qe,Ge=je):(Fe=Math.min(Fe,Qe),De=Math.min(De,je),Ie=Math.max(Ie,Qe),Ge=Math.max(Ge,je));return new o(Math.round(Fe),Math.round(De),Math.round(Ie-Fe),Math.round(Ge-De))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,J,X=(Q=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:J}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Ze.API),function(e){var t=function(A){var i,o,l,c,u,f,p,h,B,x;for(o=[],l=0,c=(A+=i="\0\0\0\0".slice(A.length%4||4)).length;c>l;l+=4)(u=(A.charCodeAt(l)<<24)+(A.charCodeAt(l+1)<<16)+(A.charCodeAt(l+2)<<8)+A.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(x=u%85))/85)-(B=u%85))/85)-(h=u%85))/85)-(p=u%85))/85)%85,o.push(f+33,p+33,h+33,B+33,x+33)):o.push(122);return function(N,m){for(var y=m;y>0;y--)N.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},r=function(A){var i,o,l,c,u,f=String,p="length",h=255,B="charCodeAt",x="slice",N="replace";for(A[x](-2),A=A[x](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),l=[],c=0,u=(A+=i="uuuuu"[x](A[p]%5||5))[p];u>c;c+=5)o=52200625*(A[B](c)-33)+614125*(A[B](c+1)-33)+7225*(A[B](c+2)-33)+85*(A[B](c+3)-33)+(A[B](c+4)-33),l.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(m,y){for(var v=y;v>0;v--)m.pop()}(l,i[p]),f.fromCharCode.apply(f,l)},s=function(A){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((A=A.replace(/\s/g,"")).indexOf(">")!==-1&&(A=A.substr(0,A.indexOf(">"))),A.length%2&&(A+="0"),i.test(A)===!1)return"";for(var o="",l=0;l<A.length;l+=2)o+=String.fromCharCode("0x"+(A[l]+A[l+1]));return o},n=function(A){for(var i=new Uint8Array(A.length),o=A.length;o--;)i[o]=A.charCodeAt(o);return A=(i=ep(i)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(A,i){var o=0,l=A||"",c=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=s(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=n(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ze.API),function(e){e.loadFile=function(t,r,s){return function(n,A,i){A=A!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,p=0,h=function(B){var x=B.length,N=[],m=String.fromCharCode;for(p=0;p<x;p+=1)N.push(m(255&B.charCodeAt(p)));return N.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(n,A,i)}catch{}return o}(t,r,s)},e.loadImageFile=e.loadFile}(Ze.API),function(e){function t(){return(et.html2canvas?Promise.resolve(et.html2canvas):xi(()=>Promise.resolve().then(()=>IU),void 0)).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(et.DOMPurify?Promise.resolve(et.DOMPurify):xi(()=>import("./purify.es-31816194.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var s=function(i){var o=Qt(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},n=function(i,o){var l=document.createElement(i);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},A=function i(o){var l=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),c=i.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,i,1,[i])).set(o)};(A.prototype=Object.create(Promise.prototype)).constructor=A,A.convert=function(i,o){return i.__proto__=o||A.prototype,i},A.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},A.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(l){switch(s(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(l){return this.set({src:n("div",{innerHTML:i,dompurify:l})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},A.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},A.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},A.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},A.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var h=c[p],B=h.src.find(function(x){return x.format==="truetype"});B&&l.addFont(B.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},A.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},A.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},A.prototype.output=function(i,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},A.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},A.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},A.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},A.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},A.prototype.set=function(i){if(s(i)!=="object")return this;var o=Object.keys(i||{}).map(function(l){if(l in A.template.prop)return function(){this.prop[l]=i[l]};switch(l){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[l]=i[l]}}},this);return this.then(function(){return this.thenList(o)})},A.prototype.get=function(i,o){return this.then(function(){var l=i in A.template.prop?this.prop[i]:this.opt[i];return o?o(l):l})},A.prototype.setMargin=function(i){return this.then(function(){switch(s(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},A.prototype.setPageSize=function(i){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(i=i||Ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},A.prototype.setProgress=function(i,o,l,c){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},A.prototype.updateProgress=function(i,o,l,c){return this.setProgress(i?this.progress.val+i:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},A.prototype.then=function(i,o){var l=this;return this.thenCore(i,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},A.prototype.thenCore=function(i,o,l){l=l||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:A.convert(Object.assign({},this),Promise.prototype),u=l.call(c,i,o);return A.convert(u,this.__proto__)},A.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},A.prototype.thenList=function(i){var o=this;return i.forEach(function(l){o=o.thenCore(l)}),o},A.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return A.convert(o,this)},A.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},A.prototype.error=function(i){return this.then(function(){throw new Error(i)})},A.prototype.using=A.prototype.set,A.prototype.saveAs=A.prototype.save,A.prototype.export=A.prototype.output,A.prototype.run=A.prototype.then,Ze.getPageSize=function(i,o,l){if(Qt(i)==="object"){var c=i;i=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",i=(""+(i||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var h,B=0,x=0;if(p.hasOwnProperty(f))B=p[f][1]/u,x=p[f][0]/u;else try{B=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(i==="p"||i==="portrait")i="p",x>B&&(h=x,x=B,B=h);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",B>x&&(h=x,x=B,B=h)}return{width:x,height:B,unit:o,k:u,orientation:i}},e.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Ap):null;var l=new A(o);return o.worker?l:l.from(i).doCallback()}}(Ze.API),Ze.API.addJS=function(e){return o2=e,this.internal.events.subscribe("postPutResources",function(){Uu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Uu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),i2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+o2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Uu!==void 0&&i2!==void 0&&this.internal.out("/Names <</JavaScript "+Uu+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),A=0;A<n.length;A++){var i=n[A],o=s.exec(i);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(A=0;A<c;A++){var f=r.internal.newObject();u.push(f);var p=r.internal.getPageInfo(A+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),A=0;A<u.length;A++)r.internal.write("(page_"+(A+1)+")"+u[A]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,n,A){var i={title:n,options:A,children:[]};return s==null&&(s=this.root),s.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var n=0;n<s.children.length;n++)this.genIds_r(s.children[n])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,A=0;A<s.children.length;A++){var i=s.children[A];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(s)),A>0&&this.line("/Prev "+this.makeRef(s.children[A-1])),A<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[A+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var l=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<s.children.length;c++)this.renderItems(s.children[c])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,n){for(var A=0;A<n.children.length;A++)s.count++,this.count_r(s,n.children[A]);return s.count}}])}(Ze.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,s,n,A,i,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),B=f.length,x={width:0,height:0,numcomponents:1},N=4;N<B;N+=2){if(N+=h,t.indexOf(f.charCodeAt(N+1))!==-1){p=256*f.charCodeAt(N+5)+f.charCodeAt(N+6),x={width:256*f.charCodeAt(N+7)+f.charCodeAt(N+8),height:p,numcomponents:f.charCodeAt(N+9)};break}h=256*f.charCodeAt(N+2)+f.charCodeAt(N+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:s,alias:n}}return u}}(Ze.API);var yo,Lu,l2,c2,d2,V3=function(){var e,t,r;function s(A){var i,o,l,c,u,f,p,h,B,x,N,m,y,v;for(this.data=A,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(i=this.readUInt32(),B=(function(){var E,U;for(U=[],E=0;E<4;++E)U.push(String.fromCharCode(this.data[this.pos++]));return U}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(B==="fdAT"&&(this.pos+=4,i-=4),A=(f!=null?f.data:void 0)||this.imgData,m=0;0<=i?m<i:m>i;0<=i?++m:--m)A.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((x=l-this.transparency.indexed.length)>0)for(y=0;0<=x?y<x:y>x;0<=x?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":p=(N=this.read(i)).indexOf(0),h=String.fromCharCode.apply(String,N.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,N.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(v=this.colorType)===4||v===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(A){var i,o;for(o=[],i=0;0<=A?i<A:i>A;0<=A?++i:--i)o.push(this.data[this.pos++]);return o},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(A){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),l=0,c=this;if(A==null&&(A=this.imgData),A.length===0)return new Uint8Array(0);function u(f,p,h,B){var x,N,m,y,v,E,U,V,S,C,_,H,F,j,P,z,D,O,Z,K,te,se=Math.ceil((c.width-f)/h),he=Math.ceil((c.height-p)/B),Q=c.width==se&&c.height==he;for(j=i*se,H=Q?o:new Uint8Array(j*he),E=A.length,F=0,N=0;F<he&&l<E;){switch(A[l++]){case 0:for(y=D=0;D<j;y=D+=1)H[N++]=A[l++];break;case 1:for(y=O=0;O<j;y=O+=1)x=A[l++],v=y<i?0:H[N-i],H[N++]=(x+v)%256;break;case 2:for(y=Z=0;Z<j;y=Z+=1)x=A[l++],m=(y-y%i)/i,P=F&&H[(F-1)*j+m*i+y%i],H[N++]=(P+x)%256;break;case 3:for(y=K=0;K<j;y=K+=1)x=A[l++],m=(y-y%i)/i,v=y<i?0:H[N-i],P=F&&H[(F-1)*j+m*i+y%i],H[N++]=(x+Math.floor((v+P)/2))%256;break;case 4:for(y=te=0;te<j;y=te+=1)x=A[l++],m=(y-y%i)/i,v=y<i?0:H[N-i],F===0?P=z=0:(P=H[(F-1)*j+m*i+y%i],z=m&&H[(F-1)*j+(m-1)*i+y%i]),U=v+P-z,V=Math.abs(U-v),C=Math.abs(U-P),_=Math.abs(U-z),S=V<=C&&V<=_?v:C<=_?P:z,H[N++]=(x+S)%256;break;default:throw new Error("Invalid filter algorithm: "+A[l-1])}if(!Q){var J=((p+F*B)*c.width+f)*i,X=F*j;for(y=0;y<se;y+=1){for(var ee=0;ee<i;ee+=1)o[J++]=H[X++];J+=(h-1)*i}}F++}}return A=N3(A),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},s.prototype.decodePalette=function(){var A,i,o,l,c,u,f,p,h;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,A=0,i=f=0,p=o.length;f<p;i=f+=3)c[l++]=o[i],c[l++]=o[i+1],c[l++]=o[i+2],c[l++]=(h=u[A++])!=null?h:255;return c},s.prototype.copyToImageData=function(A,i){var o,l,c,u,f,p,h,B,x,N,m;if(l=this.colors,x=null,o=this.hasAlphaChannel,this.palette.length&&(x=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),l=4,o=!0),B=(c=A.data||A).length,f=x||i,u=p=0,l===1)for(;u<B;)h=x?4*i[u/4]:p,N=f[h++],c[u++]=N,c[u++]=N,c[u++]=N,c[u++]=o?f[h++]:255,p=h;else for(;u<B;)h=x?4*i[u/4]:p,c[u++]=f[h++],c[u++]=f[h++],c[u++]=f[h++],c[u++]=o?f[h++]:255,p=h},s.prototype.decode=function(){var A;return A=new Uint8Array(this.width*this.height*4),this.copyToImageData(A,this.decodePixels()),A};var n=function(){if(Object.prototype.toString.call(et)==="[object Window]"){try{t=et.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return n(),e=function(A){var i;if(n()===!0)return r.width=A.width,r.height=A.height,r.clearRect(0,0,A.width,A.height),r.putImageData(A,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(A){var i,o,l,c,u,f,p,h;if(this.animation){for(h=[],o=u=0,f=(p=this.animation.frames).length;u<f;o=++u)i=p[o],l=A.createImageData(i.width,i.height),c=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(l,c),i.imageData=l,h.push(i.image=e(l));return h}},s.prototype.renderFrame=function(A,i){var o,l,c;return o=(l=this.animation.frames)[i],c=l[i-1],i===0&&A.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?A.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&A.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&A.clearRect(o.xOffset,o.yOffset,o.width,o.height),A.drawImage(o.image,o.xOffset,o.yOffset)},s.prototype.animate=function(A){var i,o,l,c,u,f,p=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(i=function(){var h,B;if(h=o++%c,B=l[h],p.renderFrame(A,h),c>1&&o/c<u)return p.animation._timeout=setTimeout(i,B.delay)})()},s.prototype.stopAnimation=function(){var A;return clearTimeout((A=this.animation)!=null?A._timeout:void 0)},s.prototype.render=function(A){var i,o;return A._png&&A._png.stopAnimation(),A._png=this,A.width=this.width,A.height=this.height,i=A.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function G3(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,n=e[t++],A=n>>7,i=1<<(7&n)+1;e[t++],e[t++];var o=null,l=null;A&&(o=t,l=i,t+=3*i);var c=!0,u=[],f=0,p=null,h=0,B=null;for(this.width=r,this.height=s;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,B=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],!(1&x)&&(p=null),h=x>>2&7,t++;break;case 254:for(;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,E=e[t++],U=E>>6&1,V=1<<(7&E)+1,S=o,C=l,_=!1;E>>7&&(_=!0,S=t,C=V,t+=3*V);var H=t;for(t++;;){var F;if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}u.push({x:N,y:m,width:y,height:v,has_local_palette:_,palette_offset:S,palette_size:C,data_offset:H,data_length:t-H,transparent_index:p,interlaced:!!U,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return B},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,P){var z=this.frameInfo(j),D=z.width*z.height,O=new Uint8Array(D);u2(e,z.data_offset,O,D);var Z=z.palette_offset,K=z.transparent_index;K===null&&(K=256);var te=z.width,se=r-te,he=te,Q=4*(z.y*r+z.x),J=4*((z.y+z.height)*r+z.x),X=Q,ee=4*se;z.interlaced===!0&&(ee+=4*r*7);for(var ne=8,ce=0,re=O.length;ce<re;++ce){var de=O[ce];if(he===0&&(he=te,(X+=ee)>=J&&(ee=4*se+4*r*(ne-1),X=Q+(te+se)*(ne<<1),ne>>=1)),de===K)X+=4;else{var Ne=e[Z+3*de],Ce=e[Z+3*de+1],Le=e[Z+3*de+2];P[X++]=Le,P[X++]=Ce,P[X++]=Ne,P[X++]=255}--he}},this.decodeAndBlitFrameRGBA=function(j,P){var z=this.frameInfo(j),D=z.width*z.height,O=new Uint8Array(D);u2(e,z.data_offset,O,D);var Z=z.palette_offset,K=z.transparent_index;K===null&&(K=256);var te=z.width,se=r-te,he=te,Q=4*(z.y*r+z.x),J=4*((z.y+z.height)*r+z.x),X=Q,ee=4*se;z.interlaced===!0&&(ee+=4*r*7);for(var ne=8,ce=0,re=O.length;ce<re;++ce){var de=O[ce];if(he===0&&(he=te,(X+=ee)>=J&&(ee=4*se+4*r*(ne-1),X=Q+(te+se)*(ne<<1),ne>>=1)),de===K)X+=4;else{var Ne=e[Z+3*de],Ce=e[Z+3*de+1],Le=e[Z+3*de+2];P[X++]=Ne,P[X++]=Ce,P[X++]=Le,P[X++]=255}--he}}}function u2(e,t,r,s){for(var n=e[t++],A=1<<n,i=A+1,o=i+1,l=n+1,c=(1<<l)-1,u=0,f=0,p=0,h=e[t++],B=new Int32Array(4096),x=null;;){for(;u<16&&h!==0;)f|=e[t++]<<u,u+=8,h===1?h=e[t++]:--h;if(u<l)break;var N=f&c;if(f>>=l,u-=l,N!==A){if(N===i)break;for(var m=N<o?N:x,y=0,v=m;v>A;)v=B[v]>>8,++y;var E=v;if(p+y+(m!==N?1:0)>s)return void Tt.log("Warning, gif stream longer than expected.");r[p++]=E;var U=p+=y;for(m!==N&&(r[p++]=E),v=m;y--;)v=B[v],r[--U]=255&v,v>>=8;x!==null&&o<4096&&(B[o++]=x<<8|E,o>=c+1&&l<12&&(++l,c=c<<1|1)),x=N}else o=i+1,c=(1<<(l=n+1))-1,x=null}return p!==s&&Tt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fg(e){var t,r,s,n,A,i=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),B=new Array(64),x=[],N=0,m=7,y=new Array(64),v=new Array(64),E=new Array(64),U=new Array(256),V=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],D=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(Q,J){for(var X=0,ee=0,ne=new Array,ce=1;ce<=16;ce++){for(var re=1;re<=Q[ce];re++)ne[J[ee]]=[],ne[J[ee]][0]=X,ne[J[ee]][1]=ce,ee++,X++;X*=2}return ne}function Z(Q){for(var J=Q[0],X=Q[1]-1;X>=0;)J&1<<X&&(N|=1<<m),X--,--m<0&&(N==255?(K(255),K(0)):K(N),m=7,N=0)}function K(Q){x.push(Q)}function te(Q){K(Q>>8&255),K(255&Q)}function se(Q,J,X,ee,ne){for(var ce,re=ne[0],de=ne[240],Ne=function(je,Fe){var De,Ie,Ge,tt,at,ct,ft,bt,Xe,ut,Re=0;for(Xe=0;Xe<8;++Xe){De=je[Re],Ie=je[Re+1],Ge=je[Re+2],tt=je[Re+3],at=je[Re+4],ct=je[Re+5],ft=je[Re+6];var zr=De+(bt=je[Re+7]),vt=De-bt,ds=Ie+ft,Pt=Ie-ft,zt=Ge+ct,Os=Ge-ct,kt=tt+at,WA=tt-at,Zt=zr+kt,us=zr-kt,mn=ds+zt,er=ds-zt;je[Re]=Zt+mn,je[Re+4]=Zt-mn;var st=.707106781*(er+us);je[Re+2]=us+st,je[Re+6]=us-st;var jt=.382683433*((Zt=WA+Os)-(er=Pt+vt)),JA=.5411961*Zt+jt,Dr=1.306562965*er+jt,_s=.707106781*(mn=Os+Pt),Ks=vt+_s,Ye=vt-_s;je[Re+5]=Ye+JA,je[Re+3]=Ye-JA,je[Re+1]=Ks+Dr,je[Re+7]=Ks-Dr,Re+=8}for(Re=0,Xe=0;Xe<8;++Xe){De=je[Re],Ie=je[Re+8],Ge=je[Re+16],tt=je[Re+24],at=je[Re+32],ct=je[Re+40],ft=je[Re+48];var hs=De+(bt=je[Re+56]),qs=De-bt,pa=Ie+ft,Br=Ie-ft,fr=Ge+ct,Qa=Ge-ct,Oi=tt+at,pn=tt-at,fs=hs+Oi,gs=hs-Oi,ms=pa+fr,zs=pa-fr;je[Re]=fs+ms,je[Re+32]=fs-ms;var za=.707106781*(zs+gs);je[Re+16]=gs+za,je[Re+48]=gs-za;var Vs=.382683433*((fs=pn+Qa)-(zs=Br+qs)),$A=.5411961*fs+Vs,_i=1.306562965*zs+Vs,Ki=.707106781*(ms=Qa+Br),qi=qs+Ki,zi=qs-Ki;je[Re+40]=zi+$A,je[Re+24]=zi-$A,je[Re+8]=qi+_i,je[Re+56]=qi-_i,Re++}for(Xe=0;Xe<64;++Xe)ut=je[Xe]*Fe[Xe],h[Xe]=ut>0?ut+.5|0:ut-.5|0;return h}(Q,J),Ce=0;Ce<64;++Ce)B[S[Ce]]=Ne[Ce];var Le=B[0]-X;X=B[0],Le==0?Z(ee[0]):(Z(ee[p[ce=32767+Le]]),Z(f[ce]));for(var Ee=63;Ee>0&&B[Ee]==0;)Ee--;if(Ee==0)return Z(re),X;for(var $e,ye=1;ye<=Ee;){for(var G=ye;B[ye]==0&&ye<=Ee;)++ye;var _e=ye-G;if(_e>=16){$e=_e>>4;for(var Qe=1;Qe<=$e;++Qe)Z(de);_e&=15}ce=32767+B[ye],Z(ne[(_e<<4)+p[ce]]),Z(f[ce]),ye++}return Ee!=63&&Z(re),X}function he(Q){Q=Math.min(Math.max(Q,1),100),A!=Q&&(function(J){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ne=i((X[ee]*J+50)/100);ne=Math.min(Math.max(ne,1),255),o[S[ee]]=ne}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],re=0;re<64;re++){var de=i((ce[re]*J+50)/100);de=Math.min(Math.max(de,1),255),l[S[re]]=de}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Le=0;Le<8;Le++)for(var Ee=0;Ee<8;Ee++)c[Ce]=1/(o[S[Ce]]*Ne[Le]*Ne[Ee]*8),u[Ce]=1/(l[S[Ce]]*Ne[Le]*Ne[Ee]*8),Ce++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),A=Q)}this.encode=function(Q,J){J&&he(J),x=new Array,N=0,m=7,te(65496),te(65504),te(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),te(1),te(1),K(0),K(0),function(){te(65499),te(132),K(0);for(var Ie=0;Ie<64;Ie++)K(o[Ie]);K(1);for(var Ge=0;Ge<64;Ge++)K(l[Ge])}(),function(Ie,Ge){te(65472),te(17),K(8),te(Ge),te(Ie),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(Q.width,Q.height),function(){te(65476),te(418),K(0);for(var Ie=0;Ie<16;Ie++)K(C[Ie+1]);for(var Ge=0;Ge<=11;Ge++)K(_[Ge]);K(16);for(var tt=0;tt<16;tt++)K(H[tt+1]);for(var at=0;at<=161;at++)K(F[at]);K(1);for(var ct=0;ct<16;ct++)K(j[ct+1]);for(var ft=0;ft<=11;ft++)K(P[ft]);K(17);for(var bt=0;bt<16;bt++)K(z[bt+1]);for(var Xe=0;Xe<=161;Xe++)K(D[Xe])}(),te(65498),te(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var X=0,ee=0,ne=0;N=0,m=7,this.encode.displayName="_encode_";for(var ce,re,de,Ne,Ce,Le,Ee,$e,ye,G=Q.data,_e=Q.width,Qe=Q.height,je=4*_e,Fe=0;Fe<Qe;){for(ce=0;ce<je;){for(Ce=je*Fe+ce,Ee=-1,$e=0,ye=0;ye<64;ye++)Le=Ce+($e=ye>>3)*je+(Ee=4*(7&ye)),Fe+$e>=Qe&&(Le-=je*(Fe+1+$e-Qe)),ce+Ee>=je&&(Le-=ce+Ee-je+4),re=G[Le++],de=G[Le++],Ne=G[Le++],y[ye]=(V[re]+V[de+256>>0]+V[Ne+512>>0]>>16)-128,v[ye]=(V[re+768>>0]+V[de+1024>>0]+V[Ne+1280>>0]>>16)-128,E[ye]=(V[re+1280>>0]+V[de+1536>>0]+V[Ne+1792>>0]>>16)-128;X=se(y,c,X,t,s),ee=se(v,u,ee,r,n),ne=se(E,u,ne,r,n),ce+=32}Fe+=8}if(m>=0){var De=[];De[1]=m+1,De[0]=(1<<m+1)-1,Z(De)}return te(65497),new Uint8Array(x)},e=e||50,function(){for(var Q=String.fromCharCode,J=0;J<256;J++)U[J]=Q(J)}(),t=O(C,_),r=O(j,P),s=O(H,F),n=O(z,D),function(){for(var Q=1,J=2,X=1;X<=15;X++){for(var ee=Q;ee<J;ee++)p[32767+ee]=X,f[32767+ee]=[],f[32767+ee][1]=X,f[32767+ee][0]=ee;for(var ne=-(J-1);ne<=-Q;ne++)p[32767+ne]=X,f[32767+ne]=[],f[32767+ne][1]=X,f[32767+ne][0]=J-1+ne;Q<<=1,J<<=1}}(),function(){for(var Q=0;Q<256;Q++)V[Q]=19595*Q,V[Q+256>>0]=38470*Q,V[Q+512>>0]=7471*Q+32768,V[Q+768>>0]=-11059*Q,V[Q+1024>>0]=-21709*Q,V[Q+1280>>0]=32768*Q+8421375,V[Q+1536>>0]=-27439*Q,V[Q+1792>>0]=-5329*Q}(),he(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ns(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function h2(e){function t(C){if(!C)throw Error("assert :P")}function r(C,_,H){for(var F=0;4>F;F++)if(C[_+F]!=H.charCodeAt(F))return!0;return!1}function s(C,_,H,F,j){for(var P=0;P<j;P++)C[_+P]=H[F+P]}function n(C,_,H,F){for(var j=0;j<F;j++)C[_+j]=H}function A(C){return new Int32Array(C)}function i(C,_){for(var H=[],F=0;F<C;F++)H.push(new _);return H}function o(C,_){var H=[];return function F(j,P,z){for(var D=z[P],O=0;O<D&&(j.push(z.length>P+1?[]:new _),!(z.length<P+1));O++)F(j[O],P+1,z)}(H,0,C),H}var l=function(){var C=this;function _(d,g){for(var b=1<<g-1>>>0;d&b;)b>>>=1;return b?(d&b-1)+b:d}function H(d,g,b,k,L){t(!(k%b));do d[g+(k-=b)]=L;while(0<k)}function F(d,g,b,k,L){if(t(2328>=L),512>=L)var R=A(512);else if((R=A(L))==null)return 0;return function(M,q,W,$,Ae,fe){var ge,le,be=q,pe=1<<W,ie=A(16),oe=A(16);for(t(Ae!=0),t($!=null),t(M!=null),t(0<W),le=0;le<Ae;++le){if(15<$[le])return 0;++ie[$[le]]}if(ie[0]==Ae)return 0;for(oe[1]=0,ge=1;15>ge;++ge){if(ie[ge]>1<<ge)return 0;oe[ge+1]=oe[ge]+ie[ge]}for(le=0;le<Ae;++le)ge=$[le],0<$[le]&&(fe[oe[ge]++]=le);if(oe[15]==1)return($=new j).g=0,$.value=fe[0],H(M,be,1,pe,$),pe;var we,Be=-1,ve=pe-1,Oe=0,Ue=1,Je=1,Pe=1<<W;for(le=0,ge=1,Ae=2;ge<=W;++ge,Ae<<=1){if(Ue+=Je<<=1,0>(Je-=ie[ge]))return 0;for(;0<ie[ge];--ie[ge])($=new j).g=ge,$.value=fe[le++],H(M,be+Oe,Ae,Pe,$),Oe=_(Oe,ge)}for(ge=W+1,Ae=2;15>=ge;++ge,Ae<<=1){if(Ue+=Je<<=1,0>(Je-=ie[ge]))return 0;for(;0<ie[ge];--ie[ge]){if($=new j,(Oe&ve)!=Be){for(be+=Pe,we=1<<(Be=ge)-W;15>Be&&!(0>=(we-=ie[Be]));)++Be,we<<=1;pe+=Pe=1<<(we=Be-W),M[q+(Be=Oe&ve)].g=we+W,M[q+Be].value=be-q-Be}$.g=ge-W,$.value=fe[le++],H(M,be+(Oe>>W),Ae,Pe,$),Oe=_(Oe,ge)}}return Ue!=2*oe[15]-1?0:pe}(d,g,b,k,L,R)}function j(){this.value=this.g=0}function P(){this.value=this.g=0}function z(){this.G=i(5,j),this.H=A(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Tr,P)}function D(d,g,b,k){t(d!=null),t(g!=null),t(2147483648>k),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=b,d.Jd=g,d.Yc=b+k,d.Zc=4<=k?b+k-4+1:b,ce(d)}function O(d,g){for(var b=0;0<g--;)b|=de(d,128)<<g;return b}function Z(d,g){var b=O(d,g);return re(d)?-b:b}function K(d,g,b,k){var L,R=0;for(t(d!=null),t(g!=null),t(4294967288>k),d.Sb=k,d.Ra=0,d.u=0,d.h=0,4<k&&(k=4),L=0;L<k;++L)R+=g[b+L]<<8*L;d.Ra=R,d.bb=k,d.oa=g,d.pa=b}function te(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Ao-8>>>0,++d.bb,d.u-=8;X(d)&&(d.h=1,d.u=0)}function se(d,g){if(t(0<=g),!d.h&&g<=no){var b=J(d)&so[g];return d.u+=g,te(d),b}return d.h=1,d.u=0}function he(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(d){return d.Ra>>>(d.u&Ao-1)>>>0}function X(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Ao}function ee(d,g){d.u=g,d.h=X(d)}function ne(d){d.u>=Ol&&(t(d.u>=Ol),te(d))}function ce(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function re(d){return O(d,1)}function de(d,g){var b=d.Ca;0>d.b&&ce(d);var k=d.b,L=b*g>>>8,R=(d.I>>>k>L)+0;for(R?(b-=L,d.I-=L+1<<k>>>0):b=L+1,k=b,L=0;256<=k;)L+=8,k>>=8;return k=7^L+ya[k],d.b-=k,d.Ca=(b<<k)-1,R}function Ne(d,g,b){d[g+0]=b>>24&255,d[g+1]=b>>16&255,d[g+2]=b>>8&255,d[g+3]=b>>0&255}function Ce(d,g){return d[g+0]<<0|d[g+1]<<8}function Le(d,g){return Ce(d,g)|d[g+2]<<16}function Ee(d,g){return Ce(d,g)|Ce(d,g+2)<<16}function $e(d,g){var b=1<<g;return t(d!=null),t(0<g),d.X=A(b),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function ye(d,g){t(d!=null),t(g!=null),t(d.Xa==g.Xa),s(g.X,0,d.X,0,1<<g.Xa)}function G(){this.X=[],this.Xa=this.Mb=0}function _e(d,g,b,k){t(b!=null),t(k!=null);var L=b[0],R=k[0];return L==0&&(L=(d*R+g/2)/g),R==0&&(R=(g*L+d/2)/d),0>=L||0>=R?0:(b[0]=L,k[0]=R,1)}function Qe(d,g){return d+(1<<g)-1>>>g}function je(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function Fe(d,g){C[g]=function(b,k,L,R,M,q,W){var $;for($=0;$<M;++$){var Ae=C[d](q[W+$-1],L,R+$);q[W+$]=je(b[k+$],Ae)}}}function De(){this.ud=this.hd=this.jd=0}function Ie(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function Ge(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function tt(d,g){return Ge(d+(d-g+.5>>1))}function at(d,g,b){return Math.abs(g-b)-Math.abs(d-b)}function ct(d,g,b,k,L,R,M){for(k=R[M-1],b=0;b<L;++b)R[M+b]=k=je(d[g+b],k)}function ft(d,g,b,k,L){var R;for(R=0;R<b;++R){var M=d[g+R],q=M>>8&255,W=16711935&(W=(W=16711935&M)+((q<<16)+q));k[L+R]=(4278255360&M)+W>>>0}}function bt(d,g){g.jd=d>>0&255,g.hd=d>>8&255,g.ud=d>>16&255}function Xe(d,g,b,k,L,R){var M;for(M=0;M<k;++M){var q=g[b+M],W=q>>>8,$=q,Ae=255&(Ae=(Ae=q>>>16)+((d.jd<<24>>24)*(W<<24>>24)>>>5));$=255&($=($=$+((d.hd<<24>>24)*(W<<24>>24)>>>5))+((d.ud<<24>>24)*(Ae<<24>>24)>>>5)),L[R+M]=(4278255360&q)+(Ae<<16)+$}}function ut(d,g,b,k,L){C[g]=function(R,M,q,W,$,Ae,fe,ge,le){for(W=fe;W<ge;++W)for(fe=0;fe<le;++fe)$[Ae++]=L(q[k(R[M++])])},C[d]=function(R,M,q,W,$,Ae,fe){var ge=8>>R.b,le=R.Ea,be=R.K[0],pe=R.w;if(8>ge)for(R=(1<<R.b)-1,pe=(1<<ge)-1;M<q;++M){var ie,oe=0;for(ie=0;ie<le;++ie)ie&R||(oe=k(W[$++])),Ae[fe++]=L(be[oe&pe]),oe>>=ge}else C["VP8LMapColor"+b](W,$,be,pe,Ae,fe,M,q,le)}}function Re(d,g,b,k,L){for(b=g+b;g<b;){var R=d[g++];k[L++]=R>>16&255,k[L++]=R>>8&255,k[L++]=R>>0&255}}function zr(d,g,b,k,L){for(b=g+b;g<b;){var R=d[g++];k[L++]=R>>16&255,k[L++]=R>>8&255,k[L++]=R>>0&255,k[L++]=R>>24&255}}function vt(d,g,b,k,L){for(b=g+b;g<b;){var R=(M=d[g++])>>16&240|M>>12&15,M=M>>0&240|M>>28&15;k[L++]=R,k[L++]=M}}function ds(d,g,b,k,L){for(b=g+b;g<b;){var R=(M=d[g++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;k[L++]=R,k[L++]=M}}function Pt(d,g,b,k,L){for(b=g+b;g<b;){var R=d[g++];k[L++]=R>>0&255,k[L++]=R>>8&255,k[L++]=R>>16&255}}function zt(d,g,b,k,L,R){if(R==0)for(b=g+b;g<b;)Ne(k,((R=d[g++])[0]>>24|R[1]>>8&65280|R[2]<<8&16711680|R[3]<<24)>>>0),L+=32;else s(k,L,d,g,b)}function Os(d,g){C[g][0]=C[d+"0"],C[g][1]=C[d+"1"],C[g][2]=C[d+"2"],C[g][3]=C[d+"3"],C[g][4]=C[d+"4"],C[g][5]=C[d+"5"],C[g][6]=C[d+"6"],C[g][7]=C[d+"7"],C[g][8]=C[d+"8"],C[g][9]=C[d+"9"],C[g][10]=C[d+"10"],C[g][11]=C[d+"11"],C[g][12]=C[d+"12"],C[g][13]=C[d+"13"],C[g][14]=C[d+"0"],C[g][15]=C[d+"0"]}function kt(d){return d==Uf||d==Lf||d==Yd||d==If}function WA(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function us(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new WA,this.f.kb=new Zt,this.sd=null}function mn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function er(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function jt(d,g){var b=d.T,k=g.ba.f.RGBA,L=k.eb,R=k.fb+d.ka*k.A,M=Xa[g.ba.S],q=d.y,W=d.O,$=d.f,Ae=d.N,fe=d.ea,ge=d.W,le=g.cc,be=g.dc,pe=g.Mc,ie=g.Nc,oe=d.ka,we=d.ka+d.T,Be=d.U,ve=Be+1>>1;for(oe==0?M(q,W,null,null,$,Ae,fe,ge,$,Ae,fe,ge,L,R,null,null,Be):(M(g.ec,g.fc,q,W,le,be,pe,ie,$,Ae,fe,ge,L,R-k.A,L,R,Be),++b);oe+2<we;oe+=2)le=$,be=Ae,pe=fe,ie=ge,Ae+=d.Rc,ge+=d.Rc,R+=2*k.A,M(q,(W+=2*d.fa)-d.fa,q,W,le,be,pe,ie,$,Ae,fe,ge,L,R-k.A,L,R,Be);return W+=d.fa,d.j+we<d.o?(s(g.ec,g.fc,q,W,Be),s(g.cc,g.dc,$,Ae,ve),s(g.Mc,g.Nc,fe,ge,ve),b--):1&we||M(q,W,null,null,$,Ae,fe,ge,$,Ae,fe,ge,L,R+k.A,null,null,Be),b}function JA(d,g,b){var k=d.F,L=[d.J];if(k!=null){var R=d.U,M=g.ba.S,q=M==Xd||M==Yd;g=g.ba.f.RGBA;var W=[0],$=d.ka;W[0]=d.T,d.Kb&&($==0?--W[0]:(--$,L[0]-=d.width),d.j+d.ka+d.T==d.o&&(W[0]=d.o-d.j-$));var Ae=g.eb;$=g.fb+$*g.A,d=Ht(k,L[0],d.width,R,W,Ae,$+(q?0:3),g.A),t(b==W),d&&kt(M)&&Ja(Ae,$,q,R,W,g.A)}return 0}function Dr(d){var g=d.ma,b=g.ba.S,k=11>b,L=b==Jd||b==$d||b==Xd||b==Qf||b==12||kt(b);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Hl(g.Oa,d,L?11:12))return 0;if(L&&kt(b)&&ke(),d.da)alert("todo:use_scaling");else{if(k){if(g.Ib=st,d.Kb){if(b=d.U+1>>1,g.memory=A(d.U+2*b),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+b,g.Ib=jt,ke()}}else alert("todo:EmitYUV");L&&(g.Jb=JA,k&&ue())}if(k&&!Ay){for(d=0;256>d;++d)wN[d]=89858*(d-128)+eu>>Zd,BN[d]=-22014*(d-128)+eu,bN[d]=-45773*(d-128),vN[d]=113618*(d-128)+eu>>Zd;for(d=Wl;d<Tf;++d)g=76283*(d-16)+eu>>Zd,NN[d-Wl]=Ua(g,255),kN[d-Wl]=Ua(g+8>>4,15);Ay=1}return 1}function _s(d){var g=d.ma,b=d.U,k=d.T;return t(!(1&d.ka)),0>=b||0>=k?0:(b=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,b),g.Dc+=b,1)}function Ks(d){d.ma.memory=null}function Ye(d,g,b,k){return se(d,8)!=47?0:(g[0]=se(d,14)+1,b[0]=se(d,14)+1,k[0]=se(d,1),se(d,3)!=0?0:!d.h)}function hs(d,g){if(4>d)return d+1;var b=d-2>>1;return(2+(1&d)<<b)+se(g,b)+1}function qs(d,g){return 120<g?g-120:1<=(b=((b=AN[g-1])>>4)*d+(8-(15&b)))?b:1;var b}function pa(d,g,b){var k=J(b),L=d[g+=255&k].g-8;return 0<L&&(ee(b,b.u+8),k=J(b),g+=d[g].value,g+=k&(1<<L)-1),ee(b,b.u+d[g].g),d[g].value}function Br(d,g,b){return b.g+=d.g,b.value+=d.value<<g>>>0,t(8>=b.g),d.g}function fr(d,g,b){var k=d.xc;return t((g=k==0?0:d.vc[d.md*(b>>k)+(g>>k)])<d.Wb),d.Ya[g]}function Qa(d,g,b,k){var L=d.ab,R=d.c*g,M=d.C;g=M+g;var q=b,W=k;for(k=d.Ta,b=d.Ua;0<L--;){var $=d.gc[L],Ae=M,fe=g,ge=q,le=W,be=(W=k,q=b,$.Ea);switch(t(Ae<fe),t(fe<=$.nc),$.hc){case 2:_d(ge,le,(fe-Ae)*be,W,q);break;case 0:var pe=Ae,ie=fe,oe=W,we=q,Be=(Pe=$).Ea;pe==0&&(Ff(ge,le,null,null,1,oe,we),ct(ge,le+1,0,0,Be-1,oe,we+1),le+=Be,we+=Be,++pe);for(var ve=1<<Pe.b,Oe=ve-1,Ue=Qe(Be,Pe.b),Je=Pe.K,Pe=Pe.w+(pe>>Pe.b)*Ue;pe<ie;){var Bt=Je,Ft=Pe,xt=1;for(_l(ge,le,oe,we-Be,1,oe,we);xt<Be;){var gt=(xt&~Oe)+ve;gt>Be&&(gt=Be),(0,Jn[Bt[Ft++]>>8&15])(ge,le+ +xt,oe,we+xt-Be,gt-xt,oe,we+xt),xt=gt}le+=Be,we+=Be,++pe&Oe||(Pe+=Ue)}fe!=$.nc&&s(W,q-be,W,q+(fe-Ae-1)*be,be);break;case 1:for(be=ge,ie=le,Be=(ge=$.Ea)-(we=ge&~(oe=(le=1<<$.b)-1)),pe=Qe(ge,$.b),ve=$.K,$=$.w+(Ae>>$.b)*pe;Ae<fe;){for(Oe=ve,Ue=$,Je=new De,Pe=ie+we,Bt=ie+ge;ie<Pe;)bt(Oe[Ue++],Je),ti(Je,be,ie,le,W,q),ie+=le,q+=le;ie<Bt&&(bt(Oe[Ue++],Je),ti(Je,be,ie,Be,W,q),ie+=Be,q+=Be),++Ae&oe||($+=pe)}break;case 3:if(ge==W&&le==q&&0<$.b){for(ie=W,ge=be=q+(fe-Ae)*be-(we=(fe-Ae)*Qe($.Ea,$.b)),le=W,oe=q,pe=[],we=(Be=we)-1;0<=we;--we)pe[we]=le[oe+we];for(we=Be-1;0<=we;--we)ie[ge+we]=pe[we];Va($,Ae,fe,W,be,W,q)}else Va($,Ae,fe,ge,le,W,q)}q=k,W=b}W!=b&&s(k,b,q,W,R)}function Oi(d,g){var b=d.V,k=d.Ba+d.c*d.C,L=g-d.C;if(t(g<=d.l.o),t(16>=L),0<L){var R=d.l,M=d.Ta,q=d.Ua,W=R.width;if(Qa(d,L,b,k),L=q=[q],t((b=d.C)<(k=g)),t(R.v<R.va),k>R.o&&(k=R.o),b<R.j){var $=R.j-b;b=R.j,L[0]+=$*W}if(b>=k?b=0:(L[0]+=4*R.v,R.ka=b-R.j,R.U=R.va-R.v,R.T=k-b,b=1),b){if(q=q[0],11>(b=d.ca).S){var Ae=b.f.RGBA,fe=(k=b.S,L=R.U,R=R.T,$=Ae.eb,Ae.A),ge=R;for(Ae=Ae.fb+d.Ma*Ae.A;0<ge--;){var le=M,be=q,pe=L,ie=$,oe=Ae;switch(k){case Wd:wa(le,be,pe,ie,oe);break;case Jd:oa(le,be,pe,ie,oe);break;case Uf:oa(le,be,pe,ie,oe),Ja(ie,oe,0,pe,1,0);break;case $x:vn(le,be,pe,ie,oe);break;case $d:zt(le,be,pe,ie,oe,1);break;case Lf:zt(le,be,pe,ie,oe,1),Ja(ie,oe,0,pe,1,0);break;case Xd:zt(le,be,pe,ie,oe,0);break;case Yd:zt(le,be,pe,ie,oe,0),Ja(ie,oe,1,pe,1,0);break;case Qf:$n(le,be,pe,ie,oe);break;case If:$n(le,be,pe,ie,oe),Rt(ie,oe,pe,1,0);break;case Xx:wn(le,be,pe,ie,oe);break;default:t(0)}q+=W,Ae+=fe}d.Ma+=R}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=b.height)}}d.C=g,t(d.C<=d.i)}function pn(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var b=d.Ya[g].G,k=d.Ya[g].H;if(0<b[1][k[1]+0].g||0<b[2][k[2]+0].g||0<b[3][k[3]+0].g)return 0}return 1}function fs(d,g,b,k,L,R){if(d.Z!=0){var M=d.qd,q=d.rd;for(t(eA[d.Z]!=null);g<b;++g)eA[d.Z](M,q,k,L,k,L,R),M=k,q=L,L+=R;d.qd=M,d.rd=q}}function gs(d,g){var b=d.l.ma,k=b.Z==0||b.Z==1?d.l.j:d.C;if(k=d.C<k?k:d.C,t(g<=d.l.o),g>k){var L=d.l.width,R=b.ca,M=b.tb+L*k,q=d.V,W=d.Ba+d.c*k,$=d.gc;t(d.ab==1),t($[0].hc==3),Kd($[0],k,g,q,W,R,M),fs(b,k,g,R,M,L)}d.C=d.Ma=g}function ms(d,g,b,k,L,R,M){var q=d.$/k,W=d.$%k,$=d.m,Ae=d.s,fe=b+d.$,ge=fe;L=b+k*L;var le=b+k*R,be=280+Ae.ua,pe=d.Pb?q:16777216,ie=0<Ae.ua?Ae.Wa:null,oe=Ae.wc,we=fe<le?fr(Ae,W,q):null;t(d.C<R),t(le<=L);var Be=!1;e:for(;;){for(;Be||fe<le;){var ve=0;if(q>=pe){var Oe=fe-b;t((pe=d).Pb),pe.wd=pe.m,pe.xd=Oe,0<pe.s.ua&&ye(pe.s.Wa,pe.s.vb),pe=q+oN}if(W&oe||(we=fr(Ae,W,q)),t(we!=null),we.Qb&&(g[fe]=we.qb,Be=!0),!Be)if(ne($),we.jc){ve=$,Oe=g;var Ue=fe,Je=we.pd[J(ve)&Tr-1];t(we.jc),256>Je.g?(ee(ve,ve.u+Je.g),Oe[Ue]=Je.value,ve=0):(ee(ve,ve.u+Je.g-256),t(256<=Je.value),ve=Je.value),ve==0&&(Be=!0)}else ve=pa(we.G[0],we.H[0],$);if($.h)break;if(Be||256>ve){if(!Be)if(we.nd)g[fe]=(we.qb|ve<<8)>>>0;else{if(ne($),Be=pa(we.G[1],we.H[1],$),ne($),Oe=pa(we.G[2],we.H[2],$),Ue=pa(we.G[3],we.H[3],$),$.h)break;g[fe]=(Ue<<24|Be<<16|ve<<8|Oe)>>>0}if(Be=!1,++fe,++W>=k&&(W=0,++q,M!=null&&q<=R&&!(q%16)&&M(d,q),ie!=null))for(;ge<fe;)ve=g[ge++],ie.X[(506832829*ve&4294967295)>>>ie.Mb]=ve}else if(280>ve){if(ve=hs(ve-256,$),Oe=pa(we.G[4],we.H[4],$),ne($),Oe=qs(k,Oe=hs(Oe,$)),$.h)break;if(fe-b<Oe||L-fe<ve)break e;for(Ue=0;Ue<ve;++Ue)g[fe+Ue]=g[fe+Ue-Oe];for(fe+=ve,W+=ve;W>=k;)W-=k,++q,M!=null&&q<=R&&!(q%16)&&M(d,q);if(t(fe<=L),W&oe&&(we=fr(Ae,W,q)),ie!=null)for(;ge<fe;)ve=g[ge++],ie.X[(506832829*ve&4294967295)>>>ie.Mb]=ve}else{if(!(ve<be))break e;for(Be=ve-280,t(ie!=null);ge<fe;)ve=g[ge++],ie.X[(506832829*ve&4294967295)>>>ie.Mb]=ve;ve=fe,t(!(Be>>>(Oe=ie).Xa)),g[ve]=Oe.X[Be],Be=!0}Be||t($.h==X($))}if(d.Pb&&$.h&&fe<L)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&ye(d.s.vb,d.s.Wa);else{if($.h)break e;M!=null&&M(d,q>R?R:q),d.a=0,d.$=fe-b}return 1}return d.a=3,0}function zs(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,t(d!=null)}function za(){var d=new Sf;return d==null?null:(d.a=0,d.xb=ey,Os("Predictor","VP8LPredictors"),Os("Predictor","VP8LPredictors_C"),Os("PredictorAdd","VP8LPredictorsAdd"),Os("PredictorAdd","VP8LPredictorsAdd_C"),_d=ft,ti=Xe,wa=Re,oa=zr,$n=vt,wn=ds,vn=Pt,C.VP8LMapColor32b=io,C.VP8LMapColor8b=qd,d)}function Vs(d,g,b,k,L){var R=1,M=[d],q=[g],W=k.m,$=k.s,Ae=null,fe=0;e:for(;;){if(b)for(;R&&se(W,1);){var ge=M,le=q,be=k,pe=1,ie=be.m,oe=be.gc[be.ab],we=se(ie,2);if(be.Oc&1<<we)R=0;else{switch(be.Oc|=1<<we,oe.hc=we,oe.Ea=ge[0],oe.nc=le[0],oe.K=[null],++be.ab,t(4>=be.ab),we){case 0:case 1:oe.b=se(ie,3)+2,pe=Vs(Qe(oe.Ea,oe.b),Qe(oe.nc,oe.b),0,be,oe.K),oe.K=oe.K[0];break;case 3:var Be,ve=se(ie,8)+1,Oe=16<ve?0:4<ve?1:2<ve?2:3;if(ge[0]=Qe(oe.Ea,Oe),oe.b=Oe,Be=pe=Vs(ve,1,0,be,oe.K)){var Ue,Je=ve,Pe=oe,Bt=1<<(8>>Pe.b),Ft=A(Bt);if(Ft==null)Be=0;else{var xt=Pe.K[0],gt=Pe.w;for(Ft[0]=Pe.K[0][0],Ue=1;Ue<1*Je;++Ue)Ft[Ue]=je(xt[gt+Ue],Ft[Ue-1]);for(;Ue<4*Bt;++Ue)Ft[Ue]=0;Pe.K[0]=null,Pe.K[0]=Ft,Be=1}}pe=Be;break;case 2:break;default:t(0)}R=pe}}if(M=M[0],q=q[0],R&&se(W,1)&&!(R=1<=(fe=se(W,4))&&11>=fe)){k.a=3;break e}var Dt;if(Dt=R)t:{var Lt,ot,mr,va=k,pr=M,ba=q,Et=fe,Ia=b,Pa=va.m,Fr=va.s,Rr=[null],ca=1,Ya=0,$s=iN[Et];r:for(;;){if(Ia&&se(Pa,1)){var Er=se(Pa,3)+2,kn=Qe(pr,Er),Ai=Qe(ba,Er),ho=kn*Ai;if(!Vs(kn,Ai,0,va,Rr))break r;for(Rr=Rr[0],Fr.xc=Er,Lt=0;Lt<ho;++Lt){var tA=Rr[Lt]>>8&65535;Rr[Lt]=tA,tA>=ca&&(ca=tA+1)}}if(Pa.h)break r;for(ot=0;5>ot;++ot){var rr=Yx[ot];!ot&&0<Et&&(rr+=1<<Et),Ya<rr&&(Ya=rr)}var Rf=i(ca*$s,j),ly=ca,cy=i(ly,z);if(cy==null)var ru=null;else t(65536>=ly),ru=cy;var Jl=A(Ya);if(ru==null||Jl==null||Rf==null){va.a=1;break r}var au=Rf;for(Lt=mr=0;Lt<ca;++Lt){var vs=ru[Lt],fo=vs.G,go=vs.H,dy=0,su=1,uy=0;for(ot=0;5>ot;++ot){rr=Yx[ot],fo[ot]=au,go[ot]=mr,!ot&&0<Et&&(rr+=1<<Et);s:{var nu,Hf=rr,Au=va,$l=Jl,SN=au,FN=mr,Mf=0,rA=Au.m,EN=se(rA,1);if(n($l,0,0,Hf),EN){var QN=se(rA,1)+1,UN=se(rA,1),hy=se(rA,UN==0?1:8);$l[hy]=1,QN==2&&($l[hy=se(rA,8)]=1);var iu=1}else{var fy=A(19),gy=se(rA,4)+4;if(19<gy){Au.a=3;var ou=0;break s}for(nu=0;nu<gy;++nu)fy[nN[nu]]=se(rA,3);var Of=void 0,Xl=void 0,my=Au,LN=fy,lu=Hf,py=$l,_f=0,aA=my.m,xy=8,yy=i(128,j);a:for(;F(yy,0,7,LN,19);){if(se(aA,1)){var IN=2+2*se(aA,3);if((Of=2+se(aA,IN))>lu)break a}else Of=lu;for(Xl=0;Xl<lu&&Of--;){ne(aA);var wy=yy[0+(127&J(aA))];ee(aA,aA.u+wy.g);var mo=wy.value;if(16>mo)py[Xl++]=mo,mo!=0&&(xy=mo);else{var PN=mo==16,vy=mo-16,DN=aN[vy],by=se(aA,rN[vy])+DN;if(Xl+by>lu)break a;for(var TN=PN?xy:0;0<by--;)py[Xl++]=TN}}_f=1;break a}_f||(my.a=3),iu=_f}(iu=iu&&!rA.h)&&(Mf=F(SN,FN,8,$l,Hf)),iu&&Mf!=0?ou=Mf:(Au.a=3,ou=0)}if(ou==0)break r;if(su&&sN[ot]==1&&(su=au[mr].g==0),dy+=au[mr].g,mr+=ou,3>=ot){var Yl,Kf=Jl[0];for(Yl=1;Yl<rr;++Yl)Jl[Yl]>Kf&&(Kf=Jl[Yl]);uy+=Kf}}if(vs.nd=su,vs.Qb=0,su&&(vs.qb=(fo[3][go[3]+0].value<<24|fo[1][go[1]+0].value<<16|fo[2][go[2]+0].value)>>>0,dy==0&&256>fo[0][go[0]+0].value&&(vs.Qb=1,vs.qb+=fo[0][go[0]+0].value<<8)),vs.jc=!vs.Qb&&6>uy,vs.jc){var cu,jn=vs;for(cu=0;cu<Tr;++cu){var sA=cu,nA=jn.pd[sA],du=jn.G[0][jn.H[0]+sA];256<=du.value?(nA.g=du.g+256,nA.value=du.value):(nA.g=0,nA.value=0,sA>>=Br(du,8,nA),sA>>=Br(jn.G[1][jn.H[1]+sA],16,nA),sA>>=Br(jn.G[2][jn.H[2]+sA],0,nA),Br(jn.G[3][jn.H[3]+sA],24,nA))}}}Fr.vc=Rr,Fr.Wb=ca,Fr.Ya=ru,Fr.yc=Rf,Dt=1;break t}Dt=0}if(!(R=Dt)){k.a=3;break e}if(0<fe){if($.ua=1<<fe,!$e($.Wa,fe)){k.a=1,R=0;break e}}else $.ua=0;var qf=k,By=M,RN=q,zf=qf.s,Vf=zf.xc;if(qf.c=By,qf.i=RN,zf.md=Qe(By,Vf),zf.wc=Vf==0?-1:(1<<Vf)-1,b){k.xb=gN;break e}if((Ae=A(M*q))==null){k.a=1,R=0;break e}R=(R=ms(k,Ae,0,M,q,q,null))&&!W.h;break e}return R?(L!=null?L[0]=Ae:(t(Ae==null),t(b)),k.$=0,b||zs($)):zs($),R}function $A(d,g){var b=d.c*d.i,k=b+g+16*g;return t(d.c<=g),d.V=A(k),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+b+g,1)}function _i(d,g){var b=d.C,k=g-b,L=d.V,R=d.Ba+d.c*b;for(t(g<=d.l.o);0<k;){var M=16<k?16:k,q=d.l.ma,W=d.l.width,$=W*M,Ae=q.ca,fe=q.tb+W*b,ge=d.Ta,le=d.Ua;Qa(d,M,L,R),ir(ge,le,Ae,fe,$),fs(q,b,b+M,Ae,fe,W),k-=M,L+=M*d.c,b+=M}t(b==g),d.C=d.Ma=g}function Ki(){this.ub=this.yd=this.td=this.Rb=0}function qi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zi(){this.Fb=this.Bb=this.Cb=0,this.Zb=A(4),this.Lb=A(4)}function bd(){this.Yb=function(){var d=[];return function g(b,k,L){for(var R=L[k],M=0;M<R&&(b.push(L.length>k+1?[]:0),!(L.length<k+1));M++)g(b[M],k+1,L)}(d,0,[3,11]),d}()}function sf(){this.jb=A(3),this.Wc=o([4,8],bd),this.Xc=o([4,17],bd)}function nf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new A(4),this.od=new A(4)}function Vi(){this.ld=this.La=this.dd=this.tc=0}function Bd(){this.Na=this.la=0}function Af(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bl(){this.ad=A(384),this.Za=0,this.Ob=A(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function of(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vi),this.Y=0,this.ya=Array(new Bl),this.aa=0,this.l=new Gi}function Nd(){this.y=A(16),this.f=A(8),this.ea=A(8)}function lf(){this.cb=this.a=0,this.sc="",this.m=new he,this.Od=new Ki,this.Kc=new qi,this.ed=new nf,this.Qa=new zi,this.Ic=this.$c=this.Aa=0,this.D=new of,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,he),this.ia=0,this.pb=i(4,Af),this.Pa=new sf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nd),this.Hd=0,this.rb=Array(new Bd),this.sb=0,this.wa=Array(new Vi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bl),this.L=this.aa=0,this.gd=o([4,2],Vi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function cf(){var d=new lf;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Gl||(Gl=Cd)),d}function nr(d,g,b){return d.a==0&&(d.a=g,d.sc=b,d.cb=0),0}function kd(d,g,b){return 3<=b&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function jd(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return nr(d,2,"null VP8Io passed to VP8GetHeaders()");var b=g.data,k=g.w,L=g.ha;if(4>L)return nr(d,7,"Truncated header.");var R=b[k+0]|b[k+1]<<8|b[k+2]<<16,M=d.Od;if(M.Rb=!(1&R),M.td=R>>1&7,M.yd=R>>4&1,M.ub=R>>5,3<M.td)return nr(d,3,"Incorrect keyframe parameters.");if(!M.yd)return nr(d,4,"Frame not displayable.");k+=3,L-=3;var q=d.Kc;if(M.Rb){if(7>L)return nr(d,7,"cannot parse picture header");if(!kd(b,k,L))return nr(d,3,"Bad code word");q.c=16383&(b[k+4]<<8|b[k+3]),q.Td=b[k+4]>>6,q.i=16383&(b[k+6]<<8|b[k+5]),q.Ud=b[k+6]>>6,k+=7,L-=7,d.za=q.c+15>>4,d.Ub=q.i+15>>4,g.width=q.c,g.height=q.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,n((R=d.Pa).jb,0,255,R.jb.length),t((R=d.Qa)!=null),R.Cb=0,R.Bb=0,R.Fb=1,n(R.Zb,0,0,R.Zb.length),n(R.Lb,0,0,R.Lb)}if(M.ub>L)return nr(d,7,"bad partition length");D(R=d.m,b,k,M.ub),k+=M.ub,L-=M.ub,M.Rb&&(q.Ld=re(R),q.Kd=re(R)),q=d.Qa;var W,$=d.Pa;if(t(R!=null),t(q!=null),q.Cb=re(R),q.Cb){if(q.Bb=re(R),re(R)){for(q.Fb=re(R),W=0;4>W;++W)q.Zb[W]=re(R)?Z(R,7):0;for(W=0;4>W;++W)q.Lb[W]=re(R)?Z(R,6):0}if(q.Bb)for(W=0;3>W;++W)$.jb[W]=re(R)?O(R,8):255}else q.Bb=0;if(R.Ka)return nr(d,3,"cannot parse segment header");if((q=d.ed).zd=re(R),q.Tb=O(R,6),q.wb=O(R,3),q.Pc=re(R),q.Pc&&re(R)){for($=0;4>$;++$)re(R)&&(q.vd[$]=Z(R,6));for($=0;4>$;++$)re(R)&&(q.od[$]=Z(R,6))}if(d.L=q.Tb==0?0:q.zd?1:2,R.Ka)return nr(d,3,"cannot parse filter header");var Ae=L;if(L=W=k,k=W+Ae,q=Ae,d.Xb=(1<<O(d.m,2))-1,Ae<3*($=d.Xb))b=7;else{for(W+=3*$,q-=3*$,Ae=0;Ae<$;++Ae){var fe=b[L+0]|b[L+1]<<8|b[L+2]<<16;fe>q&&(fe=q),D(d.Jc[+Ae],b,W,fe),W+=fe,q-=fe,L+=3}D(d.Jc[+$],b,W,q),b=W<k?0:5}if(b!=0)return nr(d,b,"cannot parse partitions");for(b=O(W=d.m,7),L=re(W)?Z(W,4):0,k=re(W)?Z(W,4):0,q=re(W)?Z(W,4):0,$=re(W)?Z(W,4):0,W=re(W)?Z(W,4):0,Ae=d.Qa,fe=0;4>fe;++fe){if(Ae.Cb){var ge=Ae.Zb[fe];Ae.Fb||(ge+=b)}else{if(0<fe){d.pb[fe]=d.pb[0];continue}ge=b}var le=d.pb[fe];le.Sc[0]=Pf[Ua(ge+L,127)],le.Sc[1]=Df[Ua(ge+0,127)],le.Eb[0]=2*Pf[Ua(ge+k,127)],le.Eb[1]=101581*Df[Ua(ge+q,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=Pf[Ua(ge+$,117)],le.Qc[1]=Df[Ua(ge+W,127)],le.lc=ge+W}if(!M.Rb)return nr(d,4,"Not a key frame.");for(re(R),M=d.Pa,b=0;4>b;++b){for(L=0;8>L;++L)for(k=0;3>k;++k)for(q=0;11>q;++q)$=de(R,hN[b][L][k][q])?O(R,8):dN[b][L][k][q],M.Wc[b][L].Yb[k][q]=$;for(L=0;17>L;++L)M.Xc[b][L]=M.Wc[b][fN[L]]}return d.kc=re(R),d.kc&&(d.Bd=O(R,8)),d.cb=1}function Cd(d,g,b,k,L,R,M){var q=g[L].Yb[b];for(b=0;16>L;++L){if(!de(d,q[b+0]))return L;for(;!de(d,q[b+1]);)if(q=g[++L].Yb[0],b=0,L==16)return 16;var W=g[L+1].Yb;if(de(d,q[b+2])){var $=d,Ae=0;if(de($,(ge=q)[(fe=b)+3]))if(de($,ge[fe+6])){for(q=0,fe=2*(Ae=de($,ge[fe+8]))+(ge=de($,ge[fe+9+Ae])),Ae=0,ge=lN[fe];ge[q];++q)Ae+=Ae+de($,ge[q]);Ae+=3+(8<<fe)}else de($,ge[fe+7])?(Ae=7+2*de($,165),Ae+=de($,145)):Ae=5+de($,159);else Ae=de($,ge[fe+4])?3+de($,ge[fe+5]):2;q=W[2]}else Ae=1,q=W[1];W=M+cN[L],0>($=d).b&&ce($);var fe,ge=$.b,le=(fe=$.Ca>>1)-($.I>>ge)>>31;--$.b,$.Ca+=le,$.Ca|=1,$.I-=(fe+1&le)<<ge,R[W]=((Ae^le)-le)*k[(0<L)+0]}return 16}function Nl(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,n(d.zc,0,0,d.zc.length),d.ja=0}function df(d,g){if(d==null)return 0;if(g==null)return nr(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!jd(d,g))return 0;if(t(d.cb),g.ac==null||g.ac(g)){g.ob&&(d.L=0);var b=tu[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=g.v-b>>4,d.zb=g.j-b>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=g.o+15+b>>4,d.Hb=g.va+15+b>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var k=d.ed;for(b=0;4>b;++b){var L;if(d.Qa.Cb){var R=d.Qa.Lb[b];d.Qa.Fb||(R+=k.Tb)}else R=k.Tb;for(L=0;1>=L;++L){var M=d.gd[b][L],q=R;if(k.Pc&&(q+=k.vd[0],L&&(q+=k.od[0])),0<(q=0>q?0:63<q?63:q)){var W=q;0<k.wb&&(W=4<k.wb?W>>2:W>>1)>9-k.wb&&(W=9-k.wb),1>W&&(W=1),M.dd=W,M.tc=2*q+W,M.ld=40<=q?2:15<=q?1:0}else M.tc=0;M.La=L}}}b=0}else nr(d,6,"Frame setup failed"),b=d.a;if(b=b==0){if(b){d.$c=0,0<d.Aa||(d.Ic=CN);e:{b=d.Ic,k=4*(W=d.za);var $=32*W,Ae=W+1,fe=0<d.L?W*(0<d.Aa?2:1):0,ge=(d.Aa==2?2:1)*W;if((M=k+832+(L=3*(16*b+tu[d.L])/2*$)+(R=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=M)b=0;else{if(M>d.Vb){if(d.Vb=0,d.Ec=A(M),d.Fc=0,d.Ec==null){b=nr(d,1,"no memory during frame initialization.");break e}d.Vb=M}M=d.Ec,q=d.Fc,d.Ac=M,d.Bc=q,q+=k,d.Gd=i($,Nd),d.Hd=0,d.rb=i(Ae+1,Bd),d.sb=1,d.wa=fe?i(fe,Vi):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=W),t(!0),d.oc=M,d.pc=q,q+=832,d.ya=i(ge,Bl),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=W),d.R=16*W,d.B=8*W,W=($=tu[d.L])*d.R,$=$/2*d.B,d.sa=M,d.ta=q+W,d.qa=d.sa,d.ra=d.ta+16*b*d.R+$,d.Ha=d.qa,d.Ia=d.ra+8*b*d.B+$,d.$c=0,q+=L,d.mb=R?M:null,d.nb=R?q:null,t(q+R<=d.Fc+d.Vb),Nl(d),n(d.Ac,d.Bc,0,k),b=1}}if(b){if(g.ka=0,g.y=d.sa,g.O=d.ta,g.f=d.qa,g.N=d.ra,g.ea=d.Ha,g.Vd=d.Ia,g.fa=d.R,g.Rc=d.B,g.F=null,g.J=0,!Vd){for(b=-255;255>=b;++b)Nr[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)Bn[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)Vl[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)uo[255+b]=0>b?0:255<b?255:b;Vd=1}oo=ff,bn=uf,Kl=Fd,la=hf,Ga=Ed,Ar=Sd,lo=El,zd=ZA,ql=Cf,ri=Ql,ai=jf,Xn=Zi,si=Ul,co=Hd,ni=Rd,Yn=Ws,zl=yn,Wa=kf,ws[0]=Gs,ws[1]=gf,ws[2]=yf,ws[3]=wf,ws[4]=Ld,ws[5]=Xi,ws[6]=Id,ws[7]=Cl,ws[8]=bf,ws[9]=vf,Zn[0]=Qd,Zn[1]=pf,Zn[2]=xn,Zn[3]=Ji,Zn[4]=Vr,Zn[5]=xf,Zn[6]=Ud,Nn[0]=Vn,Nn[1]=mf,Nn[2]=Bf,Nn[3]=Sl,Nn[4]=YA,Nn[5]=Nf,Nn[6]=Fl,b=1}else b=0}b&&(b=function(le,be){for(le.M=0;le.M<le.Va;++le.M){var pe,ie=le.Jc[le.M&le.Xb],oe=le.m,we=le;for(pe=0;pe<we.za;++pe){var Be=oe,ve=we,Oe=ve.Ac,Ue=ve.Bc+4*pe,Je=ve.zc,Pe=ve.ya[ve.aa+pe];if(ve.Qa.Bb?Pe.$b=de(Be,ve.Pa.jb[0])?2+de(Be,ve.Pa.jb[2]):de(Be,ve.Pa.jb[1]):Pe.$b=0,ve.kc&&(Pe.Ad=de(Be,ve.Bd)),Pe.Za=!de(Be,145)+0,Pe.Za){var Bt=Pe.Ob,Ft=0;for(ve=0;4>ve;++ve){var xt,gt=Je[0+ve];for(xt=0;4>xt;++xt){gt=uN[Oe[Ue+xt]][gt];for(var Dt=Zx[de(Be,gt[0])];0<Dt;)Dt=Zx[2*Dt+de(Be,gt[Dt])];gt=-Dt,Oe[Ue+xt]=gt}s(Bt,Ft,Oe,Ue,4),Ft+=4,Je[0+ve]=gt}}else gt=de(Be,156)?de(Be,128)?1:3:de(Be,163)?2:0,Pe.Ob[0]=gt,n(Oe,Ue,gt,4),n(Je,0,gt,4);Pe.Dd=de(Be,142)?de(Be,114)?de(Be,183)?1:3:2:0}if(we.m.Ka)return nr(le,7,"Premature end-of-partition0 encountered.");for(;le.ja<le.za;++le.ja){if(we=ie,Be=(oe=le).rb[oe.sb-1],Oe=oe.rb[oe.sb+oe.ja],pe=oe.ya[oe.aa+oe.ja],Ue=oe.kc?pe.Ad:0)Be.la=Oe.la=0,pe.Za||(Be.Na=Oe.Na=0),pe.Hc=0,pe.Gc=0,pe.ia=0;else{var Lt,ot;if(Be=Oe,Oe=we,Ue=oe.Pa.Xc,Je=oe.ya[oe.aa+oe.ja],Pe=oe.pb[Je.$b],ve=Je.ad,Bt=0,Ft=oe.rb[oe.sb-1],gt=xt=0,n(ve,Bt,0,384),Je.Za)var mr=0,va=Ue[3];else{Dt=A(16);var pr=Be.Na+Ft.Na;if(pr=Gl(Oe,Ue[1],pr,Pe.Eb,0,Dt,0),Be.Na=Ft.Na=(0<pr)+0,1<pr)oo(Dt,0,ve,Bt);else{var ba=Dt[0]+3>>3;for(Dt=0;256>Dt;Dt+=16)ve[Bt+Dt]=ba}mr=1,va=Ue[0]}var Et=15&Be.la,Ia=15&Ft.la;for(Dt=0;4>Dt;++Dt){var Pa=1&Ia;for(ba=ot=0;4>ba;++ba)Et=Et>>1|(Pa=(pr=Gl(Oe,va,pr=Pa+(1&Et),Pe.Sc,mr,ve,Bt))>mr)<<7,ot=ot<<2|(3<pr?3:1<pr?2:ve[Bt+0]!=0),Bt+=16;Et>>=4,Ia=Ia>>1|Pa<<7,xt=(xt<<8|ot)>>>0}for(va=Et,mr=Ia>>4,Lt=0;4>Lt;Lt+=2){for(ot=0,Et=Be.la>>4+Lt,Ia=Ft.la>>4+Lt,Dt=0;2>Dt;++Dt){for(Pa=1&Ia,ba=0;2>ba;++ba)pr=Pa+(1&Et),Et=Et>>1|(Pa=0<(pr=Gl(Oe,Ue[2],pr,Pe.Qc,0,ve,Bt)))<<3,ot=ot<<2|(3<pr?3:1<pr?2:ve[Bt+0]!=0),Bt+=16;Et>>=2,Ia=Ia>>1|Pa<<5}gt|=ot<<4*Lt,va|=Et<<4<<Lt,mr|=(240&Ia)<<Lt}Be.la=va,Ft.la=mr,Je.Hc=xt,Je.Gc=gt,Je.ia=43690&gt?0:Pe.ia,Ue=!(xt|gt)}if(0<oe.L&&(oe.wa[oe.Y+oe.ja]=oe.gd[pe.$b][pe.Za],oe.wa[oe.Y+oe.ja].La|=!Ue),we.Ka)return nr(le,7,"Premature end-of-file encountered.")}if(Nl(le),oe=be,we=1,pe=(ie=le).D,Be=0<ie.L&&ie.M>=ie.zb&&ie.M<=ie.Va,ie.Aa==0)e:{if(pe.M=ie.M,pe.uc=Be,Rl(ie,pe),we=1,pe=(ot=ie.D).Nb,Be=(gt=tu[ie.L])*ie.R,Oe=gt/2*ie.B,Dt=16*pe*ie.R,ba=8*pe*ie.B,Ue=ie.sa,Je=ie.ta-Be+Dt,Pe=ie.qa,ve=ie.ra-Oe+ba,Bt=ie.Ha,Ft=ie.Ia-Oe+ba,Ia=(Et=ot.M)==0,xt=Et>=ie.Va-1,ie.Aa==2&&Rl(ie,ot),ot.uc)for(Pa=(pr=ie).D.M,t(pr.D.uc),ot=pr.yb;ot<pr.Hb;++ot){mr=ot,va=Pa;var Fr=(Rr=(rr=pr).D).Nb;Lt=rr.R;var Rr=Rr.wa[Rr.Y+mr],ca=rr.sa,Ya=rr.ta+16*Fr*Lt+16*mr,$s=Rr.dd,Er=Rr.tc;if(Er!=0)if(t(3<=Er),rr.L==1)0<mr&&Yn(ca,Ya,Lt,Er+4),Rr.La&&Wa(ca,Ya,Lt,Er),0<va&&ni(ca,Ya,Lt,Er+4),Rr.La&&zl(ca,Ya,Lt,Er);else{var kn=rr.B,Ai=rr.qa,ho=rr.ra+8*Fr*kn+8*mr,tA=rr.Ha,rr=rr.Ia+8*Fr*kn+8*mr;Fr=Rr.ld,0<mr&&(zd(ca,Ya,Lt,Er+4,$s,Fr),ri(Ai,ho,tA,rr,kn,Er+4,$s,Fr)),Rr.La&&(Xn(ca,Ya,Lt,Er,$s,Fr),co(Ai,ho,tA,rr,kn,Er,$s,Fr)),0<va&&(lo(ca,Ya,Lt,Er+4,$s,Fr),ql(Ai,ho,tA,rr,kn,Er+4,$s,Fr)),Rr.La&&(ai(ca,Ya,Lt,Er,$s,Fr),si(Ai,ho,tA,rr,kn,Er,$s,Fr))}}if(ie.ia&&alert("todo:DitherRow"),oe.put!=null){if(ot=16*Et,Et=16*(Et+1),Ia?(oe.y=ie.sa,oe.O=ie.ta+Dt,oe.f=ie.qa,oe.N=ie.ra+ba,oe.ea=ie.Ha,oe.W=ie.Ia+ba):(ot-=gt,oe.y=Ue,oe.O=Je,oe.f=Pe,oe.N=ve,oe.ea=Bt,oe.W=Ft),xt||(Et-=gt),Et>oe.o&&(Et=oe.o),oe.F=null,oe.J=null,ie.Fa!=null&&0<ie.Fa.length&&ot<Et&&(oe.J=Dl(ie,oe,ot,Et-ot),oe.F=ie.mb,oe.F==null&&oe.F.length==0)){we=nr(ie,3,"Could not decode alpha data.");break e}ot<oe.j&&(gt=oe.j-ot,ot=oe.j,t(!(1&gt)),oe.O+=ie.R*gt,oe.N+=ie.B*(gt>>1),oe.W+=ie.B*(gt>>1),oe.F!=null&&(oe.J+=oe.width*gt)),ot<Et&&(oe.O+=oe.v,oe.N+=oe.v>>1,oe.W+=oe.v>>1,oe.F!=null&&(oe.J+=oe.v),oe.ka=ot-oe.j,oe.U=oe.va-oe.v,oe.T=Et-ot,we=oe.put(oe))}pe+1!=ie.Ic||xt||(s(ie.sa,ie.ta-Be,Ue,Je+16*ie.R,Be),s(ie.qa,ie.ra-Oe,Pe,ve+8*ie.B,Oe),s(ie.Ha,ie.Ia-Oe,Bt,Ft+8*ie.B,Oe))}if(!we)return nr(le,6,"Output aborted.")}return 1}(d,g)),g.bc!=null&&g.bc(g),b&=1}return b?(d.cb=0,b):0}function ps(d,g,b,k,L){L=d[g+b+32*k]+(L>>3),d[g+b+32*k]=-256&L?0>L?0:255:L}function Wi(d,g,b,k,L,R){ps(d,g,0,b,k+L),ps(d,g,1,b,k+R),ps(d,g,2,b,k-R),ps(d,g,3,b,k-L)}function xa(d){return(20091*d>>16)+d}function kl(d,g,b,k){var L,R=0,M=A(16);for(L=0;4>L;++L){var q=d[g+0]+d[g+8],W=d[g+0]-d[g+8],$=(35468*d[g+4]>>16)-xa(d[g+12]),Ae=xa(d[g+4])+(35468*d[g+12]>>16);M[R+0]=q+Ae,M[R+1]=W+$,M[R+2]=W-$,M[R+3]=q-Ae,R+=4,g++}for(L=R=0;4>L;++L)q=(d=M[R+0]+4)+M[R+8],W=d-M[R+8],$=(35468*M[R+4]>>16)-xa(M[R+12]),ps(b,k,0,0,q+(Ae=xa(M[R+4])+(35468*M[R+12]>>16))),ps(b,k,1,0,W+$),ps(b,k,2,0,W-$),ps(b,k,3,0,q-Ae),R++,k+=32}function Sd(d,g,b,k){var L=d[g+0]+4,R=35468*d[g+4]>>16,M=xa(d[g+4]),q=35468*d[g+1]>>16;Wi(b,k,0,L+M,d=xa(d[g+1]),q),Wi(b,k,1,L+R,d,q),Wi(b,k,2,L-R,d,q),Wi(b,k,3,L-M,d,q)}function uf(d,g,b,k,L){kl(d,g,b,k),L&&kl(d,g+16,b,k+4)}function Fd(d,g,b,k){bn(d,g+0,b,k,1),bn(d,g+32,b,k+128,1)}function hf(d,g,b,k){var L;for(d=d[g+0]+4,L=0;4>L;++L)for(g=0;4>g;++g)ps(b,k,g,L,d)}function Ed(d,g,b,k){d[g+0]&&la(d,g+0,b,k),d[g+16]&&la(d,g+16,b,k+4),d[g+32]&&la(d,g+32,b,k+128),d[g+48]&&la(d,g+48,b,k+128+4)}function ff(d,g,b,k){var L,R=A(16);for(L=0;4>L;++L){var M=d[g+0+L]+d[g+12+L],q=d[g+4+L]+d[g+8+L],W=d[g+4+L]-d[g+8+L],$=d[g+0+L]-d[g+12+L];R[0+L]=M+q,R[8+L]=M-q,R[4+L]=$+W,R[12+L]=$-W}for(L=0;4>L;++L)M=(d=R[0+4*L]+3)+R[3+4*L],q=R[1+4*L]+R[2+4*L],W=R[1+4*L]-R[2+4*L],$=d-R[3+4*L],b[k+0]=M+q>>3,b[k+16]=$+W>>3,b[k+32]=M-q>>3,b[k+48]=$-W>>3,k+=64}function jl(d,g,b){var k,L=g-32,R=La,M=255-d[L-1];for(k=0;k<b;++k){var q,W=R,$=M+d[g-1];for(q=0;q<b;++q)d[g+q]=W[$+d[L+q]];g+=32}}function gf(d,g){jl(d,g,4)}function mf(d,g){jl(d,g,8)}function pf(d,g){jl(d,g,16)}function xn(d,g){var b;for(b=0;16>b;++b)s(d,g+32*b,d,g-32,16)}function Ji(d,g){var b;for(b=16;0<b;--b)n(d,g,d[g-1],16),g+=32}function $i(d,g,b){var k;for(k=0;16>k;++k)n(g,b+32*k,d,16)}function Qd(d,g){var b,k=16;for(b=0;16>b;++b)k+=d[g-1+32*b]+d[g+b-32];$i(k>>5,d,g)}function Vr(d,g){var b,k=8;for(b=0;16>b;++b)k+=d[g-1+32*b];$i(k>>4,d,g)}function xf(d,g){var b,k=8;for(b=0;16>b;++b)k+=d[g+b-32];$i(k>>4,d,g)}function Ud(d,g){$i(128,d,g)}function rt(d,g,b){return d+2*g+b+2>>2}function yf(d,g){var b,k=g-32;for(k=new Uint8Array([rt(d[k-1],d[k+0],d[k+1]),rt(d[k+0],d[k+1],d[k+2]),rt(d[k+1],d[k+2],d[k+3]),rt(d[k+2],d[k+3],d[k+4])]),b=0;4>b;++b)s(d,g+32*b,k,0,k.length)}function wf(d,g){var b=d[g-1],k=d[g-1+32],L=d[g-1+64],R=d[g-1+96];Ne(d,g+0,16843009*rt(d[g-1-32],b,k)),Ne(d,g+32,16843009*rt(b,k,L)),Ne(d,g+64,16843009*rt(k,L,R)),Ne(d,g+96,16843009*rt(L,R,R))}function Gs(d,g){var b,k=4;for(b=0;4>b;++b)k+=d[g+b-32]+d[g-1+32*b];for(k>>=3,b=0;4>b;++b)n(d,g+32*b,k,4)}function Ld(d,g){var b=d[g-1+0],k=d[g-1+32],L=d[g-1+64],R=d[g-1-32],M=d[g+0-32],q=d[g+1-32],W=d[g+2-32],$=d[g+3-32];d[g+0+96]=rt(k,L,d[g-1+96]),d[g+1+96]=d[g+0+64]=rt(b,k,L),d[g+2+96]=d[g+1+64]=d[g+0+32]=rt(R,b,k),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=rt(M,R,b),d[g+3+64]=d[g+2+32]=d[g+1+0]=rt(q,M,R),d[g+3+32]=d[g+2+0]=rt(W,q,M),d[g+3+0]=rt($,W,q)}function Id(d,g){var b=d[g+1-32],k=d[g+2-32],L=d[g+3-32],R=d[g+4-32],M=d[g+5-32],q=d[g+6-32],W=d[g+7-32];d[g+0+0]=rt(d[g+0-32],b,k),d[g+1+0]=d[g+0+32]=rt(b,k,L),d[g+2+0]=d[g+1+32]=d[g+0+64]=rt(k,L,R),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=rt(L,R,M),d[g+3+32]=d[g+2+64]=d[g+1+96]=rt(R,M,q),d[g+3+64]=d[g+2+96]=rt(M,q,W),d[g+3+96]=rt(q,W,W)}function Xi(d,g){var b=d[g-1+0],k=d[g-1+32],L=d[g-1+64],R=d[g-1-32],M=d[g+0-32],q=d[g+1-32],W=d[g+2-32],$=d[g+3-32];d[g+0+0]=d[g+1+64]=R+M+1>>1,d[g+1+0]=d[g+2+64]=M+q+1>>1,d[g+2+0]=d[g+3+64]=q+W+1>>1,d[g+3+0]=W+$+1>>1,d[g+0+96]=rt(L,k,b),d[g+0+64]=rt(k,b,R),d[g+0+32]=d[g+1+96]=rt(b,R,M),d[g+1+32]=d[g+2+96]=rt(R,M,q),d[g+2+32]=d[g+3+96]=rt(M,q,W),d[g+3+32]=rt(q,W,$)}function Cl(d,g){var b=d[g+0-32],k=d[g+1-32],L=d[g+2-32],R=d[g+3-32],M=d[g+4-32],q=d[g+5-32],W=d[g+6-32],$=d[g+7-32];d[g+0+0]=b+k+1>>1,d[g+1+0]=d[g+0+64]=k+L+1>>1,d[g+2+0]=d[g+1+64]=L+R+1>>1,d[g+3+0]=d[g+2+64]=R+M+1>>1,d[g+0+32]=rt(b,k,L),d[g+1+32]=d[g+0+96]=rt(k,L,R),d[g+2+32]=d[g+1+96]=rt(L,R,M),d[g+3+32]=d[g+2+96]=rt(R,M,q),d[g+3+64]=rt(M,q,W),d[g+3+96]=rt(q,W,$)}function vf(d,g){var b=d[g-1+0],k=d[g-1+32],L=d[g-1+64],R=d[g-1+96];d[g+0+0]=b+k+1>>1,d[g+2+0]=d[g+0+32]=k+L+1>>1,d[g+2+32]=d[g+0+64]=L+R+1>>1,d[g+1+0]=rt(b,k,L),d[g+3+0]=d[g+1+32]=rt(k,L,R),d[g+3+32]=d[g+1+64]=rt(L,R,R),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=R}function bf(d,g){var b=d[g-1+0],k=d[g-1+32],L=d[g-1+64],R=d[g-1+96],M=d[g-1-32],q=d[g+0-32],W=d[g+1-32],$=d[g+2-32];d[g+0+0]=d[g+2+32]=b+M+1>>1,d[g+0+32]=d[g+2+64]=k+b+1>>1,d[g+0+64]=d[g+2+96]=L+k+1>>1,d[g+0+96]=R+L+1>>1,d[g+3+0]=rt(q,W,$),d[g+2+0]=rt(M,q,W),d[g+1+0]=d[g+3+32]=rt(b,M,q),d[g+1+32]=d[g+3+64]=rt(k,b,M),d[g+1+64]=d[g+3+96]=rt(L,k,b),d[g+1+96]=rt(R,L,k)}function Bf(d,g){var b;for(b=0;8>b;++b)s(d,g+32*b,d,g-32,8)}function Sl(d,g){var b;for(b=0;8>b;++b)n(d,g,d[g-1],8),g+=32}function XA(d,g,b){var k;for(k=0;8>k;++k)n(g,b+32*k,d,8)}function Vn(d,g){var b,k=8;for(b=0;8>b;++b)k+=d[g+b-32]+d[g-1+32*b];XA(k>>4,d,g)}function Nf(d,g){var b,k=4;for(b=0;8>b;++b)k+=d[g+b-32];XA(k>>3,d,g)}function YA(d,g){var b,k=4;for(b=0;8>b;++b)k+=d[g-1+32*b];XA(k>>3,d,g)}function Fl(d,g){XA(128,d,g)}function Yi(d,g,b){var k=d[g-b],L=d[g+0],R=3*(L-k)+Ef[1020+d[g-2*b]-d[g+b]],M=Gd[112+(R+4>>3)];d[g-b]=La[255+k+Gd[112+(R+3>>3)]],d[g+0]=La[255+L-M]}function Pd(d,g,b,k){var L=d[g+0],R=d[g+b];return $a[255+d[g-2*b]-d[g-b]]>k||$a[255+R-L]>k}function Dd(d,g,b,k){return 4*$a[255+d[g-b]-d[g+0]]+$a[255+d[g-2*b]-d[g+b]]<=k}function Td(d,g,b,k,L){var R=d[g-3*b],M=d[g-2*b],q=d[g-b],W=d[g+0],$=d[g+b],Ae=d[g+2*b],fe=d[g+3*b];return 4*$a[255+q-W]+$a[255+M-$]>k?0:$a[255+d[g-4*b]-R]<=L&&$a[255+R-M]<=L&&$a[255+M-q]<=L&&$a[255+fe-Ae]<=L&&$a[255+Ae-$]<=L&&$a[255+$-W]<=L}function Rd(d,g,b,k){var L=2*k+1;for(k=0;16>k;++k)Dd(d,g+k,b,L)&&Yi(d,g+k,b)}function Ws(d,g,b,k){var L=2*k+1;for(k=0;16>k;++k)Dd(d,g+k*b,1,L)&&Yi(d,g+k*b,1)}function yn(d,g,b,k){var L;for(L=3;0<L;--L)Rd(d,g+=4*b,b,k)}function kf(d,g,b,k){var L;for(L=3;0<L;--L)Ws(d,g+=4,b,k)}function Gn(d,g,b,k,L,R,M,q){for(R=2*R+1;0<L--;){if(Td(d,g,b,R,M))if(Pd(d,g,b,q))Yi(d,g,b);else{var W=d,$=g,Ae=b,fe=W[$-2*Ae],ge=W[$-Ae],le=W[$+0],be=W[$+Ae],pe=W[$+2*Ae],ie=27*(we=Ef[1020+3*(le-ge)+Ef[1020+fe-be]])+63>>7,oe=18*we+63>>7,we=9*we+63>>7;W[$-3*Ae]=La[255+W[$-3*Ae]+we],W[$-2*Ae]=La[255+fe+oe],W[$-Ae]=La[255+ge+ie],W[$+0]=La[255+le-ie],W[$+Ae]=La[255+be-oe],W[$+2*Ae]=La[255+pe-we]}g+=k}}function xs(d,g,b,k,L,R,M,q){for(R=2*R+1;0<L--;){if(Td(d,g,b,R,M))if(Pd(d,g,b,q))Yi(d,g,b);else{var W=d,$=g,Ae=b,fe=W[$-Ae],ge=W[$+0],le=W[$+Ae],be=Gd[112+((pe=3*(ge-fe))+4>>3)],pe=Gd[112+(pe+3>>3)],ie=be+1>>1;W[$-2*Ae]=La[255+W[$-2*Ae]+ie],W[$-Ae]=La[255+fe+pe],W[$+0]=La[255+ge-be],W[$+Ae]=La[255+le-ie]}g+=k}}function El(d,g,b,k,L,R){Gn(d,g,b,1,16,k,L,R)}function ZA(d,g,b,k,L,R){Gn(d,g,1,b,16,k,L,R)}function jf(d,g,b,k,L,R){var M;for(M=3;0<M;--M)xs(d,g+=4*b,b,1,16,k,L,R)}function Zi(d,g,b,k,L,R){var M;for(M=3;0<M;--M)xs(d,g+=4,1,b,16,k,L,R)}function Cf(d,g,b,k,L,R,M,q){Gn(d,g,L,1,8,R,M,q),Gn(b,k,L,1,8,R,M,q)}function Ql(d,g,b,k,L,R,M,q){Gn(d,g,1,L,8,R,M,q),Gn(b,k,1,L,8,R,M,q)}function Ul(d,g,b,k,L,R,M,q){xs(d,g+4*L,L,1,8,R,M,q),xs(b,k+4*L,L,1,8,R,M,q)}function Hd(d,g,b,k,L,R,M,q){xs(d,g+4,1,L,8,R,M,q),xs(b,k+4,1,L,8,R,M,q)}function eo(){this.ba=new us,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new er,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ll(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Il(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Md(){this.ua=0,this.Wa=new G,this.vb=new G,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new j}function Sf(){this.xb=this.a=0,this.l=new Gi,this.ca=new us,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Md,this.ab=0,this.gc=i(4,Il),this.Oc=0}function to(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ei(d,g,b,k,L,R,M){for(d=d==null?0:d[g+0],g=0;g<M;++g)L[R+g]=d+b[k+g]&255,d=L[R+g]}function Pl(d,g,b,k,L,R,M){var q;if(d==null)ei(null,null,b,k,L,R,M);else for(q=0;q<M;++q)L[R+q]=d[g+q]+b[k+q]&255}function Wn(d,g,b,k,L,R,M){if(d==null)ei(null,null,b,k,L,R,M);else{var q,W=d[g+0],$=W,Ae=W;for(q=0;q<M;++q)$=Ae+(W=d[g+q])-$,Ae=b[k+q]+(-256&$?0>$?0:255:$)&255,$=W,L[R+q]=Ae}}function Dl(d,g,b,k){var L=g.width,R=g.o;if(t(d!=null&&g!=null),0>b||0>=k||b+k>R)return null;if(!d.Cc){if(d.ga==null){var M;if(d.ga=new to,(M=d.ga==null)||(M=g.width*g.o,t(d.Gb.length==0),d.Gb=A(M),d.Uc=0,d.Gb==null?M=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,M=1),M=!M),!M){M=d.ga;var q=d.Fa,W=d.P,$=d.qc,Ae=d.mb,fe=d.nb,ge=W+1,le=$-1,be=M.l;if(t(q!=null&&Ae!=null&&g!=null),eA[0]=null,eA[1]=ei,eA[2]=Pl,eA[3]=Wn,M.ca=Ae,M.tb=fe,M.c=g.width,M.i=g.height,t(0<M.c&&0<M.i),1>=$)g=0;else if(M.$a=q[W+0]>>0&3,M.Z=q[W+0]>>2&3,M.Lc=q[W+0]>>4&3,W=q[W+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||W)g=0;else if(be.put=_s,be.ac=Dr,be.bc=Ks,be.ma=M,be.width=g.width,be.height=g.height,be.Da=g.Da,be.v=g.v,be.va=g.va,be.j=g.j,be.o=g.o,M.$a)e:{t(M.$a==1),g=za();t:for(;;){if(g==null){g=0;break e}if(t(M!=null),M.mc=g,g.c=M.c,g.i=M.i,g.l=M.l,g.l.ma=M,g.l.width=M.c,g.l.height=M.i,g.a=0,K(g.m,q,ge,le),!Vs(M.c,M.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&pn(g.s)?(M.ic=1,q=g.c*g.i,g.Ta=null,g.Ua=0,g.V=A(q),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(M.ic=0,g=$A(g,M.c)),!g))break t;g=1;break e}M.mc=null,g=0}else g=le>=M.c*M.i;M=!g}if(M)return null;d.ga.Lc!=1?d.Ga=0:k=R-b}t(d.ga!=null),t(b+k<=R);e:{if(g=(q=d.ga).c,R=q.l.o,q.$a==0){if(ge=d.rc,le=d.Vc,be=d.Fa,W=d.P+1+b*g,$=d.mb,Ae=d.nb+b*g,t(W<=d.P+d.qc),q.Z!=0)for(t(eA[q.Z]!=null),M=0;M<k;++M)eA[q.Z](ge,le,be,W,$,Ae,g),ge=$,le=Ae,Ae+=g,W+=g;else for(M=0;M<k;++M)s($,Ae,be,W,g),ge=$,le=Ae,Ae+=g,W+=g;d.rc=ge,d.Vc=le}else{if(t(q.mc!=null),g=b+k,t((M=q.mc)!=null),t(g<=M.i),M.C>=g)g=1;else if(q.ic||ue(),q.ic){q=M.V,ge=M.Ba,le=M.c;var pe=M.i,ie=(be=1,W=M.$/le,$=M.$%le,Ae=M.m,fe=M.s,M.$),oe=le*pe,we=le*g,Be=fe.wc,ve=ie<we?fr(fe,$,W):null;t(ie<=oe),t(g<=pe),t(pn(fe));t:for(;;){for(;!Ae.h&&ie<we;){if($&Be||(ve=fr(fe,$,W)),t(ve!=null),ne(Ae),256>(pe=pa(ve.G[0],ve.H[0],Ae)))q[ge+ie]=pe,++ie,++$>=le&&($=0,++W<=g&&!(W%16)&&gs(M,W));else{if(!(280>pe)){be=0;break t}pe=hs(pe-256,Ae);var Oe,Ue=pa(ve.G[4],ve.H[4],Ae);if(ne(Ae),!(ie>=(Ue=qs(le,Ue=hs(Ue,Ae)))&&oe-ie>=pe)){be=0;break t}for(Oe=0;Oe<pe;++Oe)q[ge+ie+Oe]=q[ge+ie+Oe-Ue];for(ie+=pe,$+=pe;$>=le;)$-=le,++W<=g&&!(W%16)&&gs(M,W);ie<we&&$&Be&&(ve=fr(fe,$,W))}t(Ae.h==X(Ae))}gs(M,W>g?g:W);break t}!be||Ae.h&&ie<oe?(be=0,M.a=Ae.h?5:3):M.$=ie,g=be}else g=ms(M,M.V,M.Ba,M.c,M.i,g,_i);if(!g){k=0;break e}}b+k>=R&&(d.Cc=1),k=1}if(!k)return null;if(d.Cc&&((k=d.ga)!=null&&(k.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+b*L}function w(d,g,b,k,L,R){for(;0<L--;){var M,q=d,W=g+(b?1:0),$=d,Ae=g+(b?0:3);for(M=0;M<k;++M){var fe=$[Ae+4*M];fe!=255&&(fe*=32897,q[W+4*M+0]=q[W+4*M+0]*fe>>23,q[W+4*M+1]=q[W+4*M+1]*fe>>23,q[W+4*M+2]=q[W+4*M+2]*fe>>23)}g+=R}}function I(d,g,b,k,L){for(;0<k--;){var R;for(R=0;R<b;++R){var M=d[g+2*R+0],q=15&($=d[g+2*R+1]),W=4369*q,$=(240&$|$>>4)*W>>16;d[g+2*R+0]=(240&M|M>>4)*W>>16&240|(15&M|M<<4)*W>>16>>4&15,d[g+2*R+1]=240&$|q}g+=L}}function Y(d,g,b,k,L,R,M,q){var W,$,Ae=255;for($=0;$<L;++$){for(W=0;W<k;++W){var fe=d[g+W];R[M+4*W]=fe,Ae&=fe}g+=b,M+=q}return Ae!=255}function ae(d,g,b,k,L){var R;for(R=0;R<L;++R)b[k+R]=d[g+R]>>8}function ue(){Ja=w,Rt=I,Ht=Y,ir=ae}function xe(d,g,b){C[d]=function(k,L,R,M,q,W,$,Ae,fe,ge,le,be,pe,ie,oe,we,Be){var ve,Oe=Be-1>>1,Ue=q[W+0]|$[Ae+0]<<16,Je=fe[ge+0]|le[be+0]<<16;t(k!=null);var Pe=3*Ue+Je+131074>>2;for(g(k[L+0],255&Pe,Pe>>16,pe,ie),R!=null&&(Pe=3*Je+Ue+131074>>2,g(R[M+0],255&Pe,Pe>>16,oe,we)),ve=1;ve<=Oe;++ve){var Bt=q[W+ve]|$[Ae+ve]<<16,Ft=fe[ge+ve]|le[be+ve]<<16,xt=Ue+Bt+Je+Ft+524296,gt=xt+2*(Bt+Je)>>3;Pe=gt+Ue>>1,Ue=(xt=xt+2*(Ue+Ft)>>3)+Bt>>1,g(k[L+2*ve-1],255&Pe,Pe>>16,pe,ie+(2*ve-1)*b),g(k[L+2*ve-0],255&Ue,Ue>>16,pe,ie+(2*ve-0)*b),R!=null&&(Pe=xt+Je>>1,Ue=gt+Ft>>1,g(R[M+2*ve-1],255&Pe,Pe>>16,oe,we+(2*ve-1)*b),g(R[M+2*ve+0],255&Ue,Ue>>16,oe,we+(2*ve+0)*b)),Ue=Bt,Je=Ft}1&Be||(Pe=3*Ue+Je+131074>>2,g(k[L+Be-1],255&Pe,Pe>>16,pe,ie+(Be-1)*b),R!=null&&(Pe=3*Je+Ue+131074>>2,g(R[M+Be-1],255&Pe,Pe>>16,oe,we+(Be-1)*b)))}}function ke(){Xa[Wd]=mN,Xa[Jd]=ty,Xa[$x]=pN,Xa[$d]=ry,Xa[Xd]=ay,Xa[Qf]=sy,Xa[Xx]=xN,Xa[Uf]=ty,Xa[Lf]=ry,Xa[Yd]=ay,Xa[If]=sy}function Me(d){return d&~yN?0>d?0:255:d>>ny}function We(d,g){return Me((19077*d>>8)+(26149*g>>8)-14234)}function it(d,g,b){return Me((19077*d>>8)-(6419*g>>8)-(13320*b>>8)+8708)}function nt(d,g){return Me((19077*d>>8)+(33050*g>>8)-17685)}function pt(d,g,b,k,L){k[L+0]=We(d,b),k[L+1]=it(d,g,b),k[L+2]=nt(d,g)}function Wt(d,g,b,k,L){k[L+0]=nt(d,g),k[L+1]=it(d,g,b),k[L+2]=We(d,b)}function tr(d,g,b,k,L){var R=it(d,g,b);g=R<<3&224|nt(d,g)>>3,k[L+0]=248&We(d,b)|R>>5,k[L+1]=g}function gr(d,g,b,k,L){var R=240&nt(d,g)|15;k[L+0]=240&We(d,b)|it(d,g,b)>>4,k[L+1]=R}function Gr(d,g,b,k,L){k[L+0]=255,pt(d,g,b,k,L+1)}function Sr(d,g,b,k,L){Wt(d,g,b,k,L),k[L+3]=255}function ys(d,g,b,k,L){pt(d,g,b,k,L),k[L+3]=255}function Ua(d,g){return 0>d?0:d>g?g:d}function Js(d,g,b){C[d]=function(k,L,R,M,q,W,$,Ae,fe){for(var ge=Ae+(-2&fe)*b;Ae!=ge;)g(k[L+0],R[M+0],q[W+0],$,Ae),g(k[L+1],R[M+0],q[W+0],$,Ae+b),L+=2,++M,++W,Ae+=2*b;1&fe&&g(k[L+0],R[M+0],q[W+0],$,Ae)}}function Od(d,g,b){return b==0?d==0?g==0?6:5:g==0?4:0:b}function Tl(d,g,b,k,L){switch(d>>>30){case 3:bn(g,b,k,L,0);break;case 2:Ar(g,b,k,L);break;case 1:la(g,b,k,L)}}function Rl(d,g){var b,k,L=g.M,R=g.Nb,M=d.oc,q=d.pc+40,W=d.oc,$=d.pc+584,Ae=d.oc,fe=d.pc+600;for(b=0;16>b;++b)M[q+32*b-1]=129;for(b=0;8>b;++b)W[$+32*b-1]=129,Ae[fe+32*b-1]=129;for(0<L?M[q-1-32]=W[$-1-32]=Ae[fe-1-32]=129:(n(M,q-32-1,127,21),n(W,$-32-1,127,9),n(Ae,fe-32-1,127,9)),k=0;k<d.za;++k){var ge=g.ya[g.aa+k];if(0<k){for(b=-1;16>b;++b)s(M,q+32*b-4,M,q+32*b+12,4);for(b=-1;8>b;++b)s(W,$+32*b-4,W,$+32*b+4,4),s(Ae,fe+32*b-4,Ae,fe+32*b+4,4)}var le=d.Gd,be=d.Hd+k,pe=ge.ad,ie=ge.Hc;if(0<L&&(s(M,q-32,le[be].y,0,16),s(W,$-32,le[be].f,0,8),s(Ae,fe-32,le[be].ea,0,8)),ge.Za){var oe=M,we=q-32+16;for(0<L&&(k>=d.za-1?n(oe,we,le[be].y[15],4):s(oe,we,le[be+1].y,0,4)),b=0;4>b;b++)oe[we+128+b]=oe[we+256+b]=oe[we+384+b]=oe[we+0+b];for(b=0;16>b;++b,ie<<=2)oe=M,we=q+iy[b],ws[ge.Ob[b]](oe,we),Tl(ie,pe,16*+b,oe,we)}else if(oe=Od(k,L,ge.Ob[0]),Zn[oe](M,q),ie!=0)for(b=0;16>b;++b,ie<<=2)Tl(ie,pe,16*+b,M,q+iy[b]);for(b=ge.Gc,oe=Od(k,L,ge.Dd),Nn[oe](W,$),Nn[oe](Ae,fe),ie=pe,oe=W,we=$,255&(ge=b>>0)&&(170&ge?Kl(ie,256,oe,we):Ga(ie,256,oe,we)),ge=Ae,ie=fe,255&(b>>=8)&&(170&b?Kl(pe,320,ge,ie):Ga(pe,320,ge,ie)),L<d.Ub-1&&(s(le[be].y,0,M,q+480,16),s(le[be].f,0,W,$+224,8),s(le[be].ea,0,Ae,fe+224,8)),b=8*R*d.B,le=d.sa,be=d.ta+16*k+16*R*d.R,pe=d.qa,ge=d.ra+8*k+b,ie=d.Ha,oe=d.Ia+8*k+b,b=0;16>b;++b)s(le,be+b*d.R,M,q+32*b,16);for(b=0;8>b;++b)s(pe,ge+b*d.B,W,$+32*b,8),s(ie,oe+b*d.B,Ae,fe+32*b,8)}}function ro(d,g,b,k,L,R,M,q,W){var $=[0],Ae=[0],fe=0,ge=W!=null?W.kd:0,le=W??new Ll;if(d==null||12>b)return 7;le.data=d,le.w=g,le.ha=b,g=[g],b=[b],le.gb=[le.gb];e:{var be=g,pe=b,ie=le.gb;if(t(d!=null),t(pe!=null),t(ie!=null),ie[0]=0,12<=pe[0]&&!r(d,be[0],"RIFF")){if(r(d,be[0]+8,"WEBP")){ie=3;break e}var oe=Ee(d,be[0]+4);if(12>oe||4294967286<oe){ie=3;break e}if(ge&&oe>pe[0]-8){ie=7;break e}ie[0]=oe,be[0]+=12,pe[0]-=12}ie=0}if(ie!=0)return ie;for(oe=0<le.gb[0],b=b[0];;){e:{var we=d;pe=g,ie=b;var Be=$,ve=Ae,Oe=be=[0];if((Pe=fe=[fe])[0]=0,8>ie[0])ie=7;else{if(!r(we,pe[0],"VP8X")){if(Ee(we,pe[0]+4)!=10){ie=3;break e}if(18>ie[0]){ie=7;break e}var Ue=Ee(we,pe[0]+8),Je=1+Le(we,pe[0]+12);if(2147483648<=Je*(we=1+Le(we,pe[0]+15))){ie=3;break e}Oe!=null&&(Oe[0]=Ue),Be!=null&&(Be[0]=Je),ve!=null&&(ve[0]=we),pe[0]+=18,ie[0]-=18,Pe[0]=1}ie=0}}if(fe=fe[0],be=be[0],ie!=0)return ie;if(pe=!!(2&be),!oe&&fe)return 3;if(R!=null&&(R[0]=!!(16&be)),M!=null&&(M[0]=pe),q!=null&&(q[0]=0),M=$[0],be=Ae[0],fe&&pe&&W==null){ie=0;break}if(4>b){ie=7;break}if(oe&&fe||!oe&&!fe&&!r(d,g[0],"ALPH")){b=[b],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{Ue=d,ie=g,oe=b;var Pe=le.gb;Be=le.na,ve=le.P,Oe=le.Sa,Je=22,t(Ue!=null),t(oe!=null),we=ie[0];var Bt=oe[0];for(t(Be!=null),t(Oe!=null),Be[0]=null,ve[0]=null,Oe[0]=0;;){if(ie[0]=we,oe[0]=Bt,8>Bt){ie=7;break e}var Ft=Ee(Ue,we+4);if(4294967286<Ft){ie=3;break e}var xt=8+Ft+1&-2;if(Je+=xt,0<Pe&&Je>Pe){ie=3;break e}if(!r(Ue,we,"VP8 ")||!r(Ue,we,"VP8L")){ie=0;break e}if(Bt[0]<xt){ie=7;break e}r(Ue,we,"ALPH")||(Be[0]=Ue,ve[0]=we+8,Oe[0]=Ft),we+=xt,Bt-=xt}}if(b=b[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],ie!=0)break}b=[b],le.Ja=[le.Ja],le.xa=[le.xa];e:if(Pe=d,ie=g,oe=b,Be=le.gb[0],ve=le.Ja,Oe=le.xa,Ue=ie[0],we=!r(Pe,Ue,"VP8 "),Je=!r(Pe,Ue,"VP8L"),t(Pe!=null),t(oe!=null),t(ve!=null),t(Oe!=null),8>oe[0])ie=7;else{if(we||Je){if(Pe=Ee(Pe,Ue+4),12<=Be&&Pe>Be-12){ie=3;break e}if(ge&&Pe>oe[0]-8){ie=7;break e}ve[0]=Pe,ie[0]+=8,oe[0]-=8,Oe[0]=Je}else Oe[0]=5<=oe[0]&&Pe[Ue+0]==47&&!(Pe[Ue+4]>>5),ve[0]=oe[0];ie=0}if(b=b[0],le.Ja=le.Ja[0],le.xa=le.xa[0],g=g[0],ie!=0)break;if(4294967286<le.Ja)return 3;if(q==null||pe||(q[0]=le.xa?2:1),M=[M],be=[be],le.xa){if(5>b){ie=7;break}q=M,ge=be,pe=R,d==null||5>b?d=0:5<=b&&d[g+0]==47&&!(d[g+4]>>5)?(oe=[0],Pe=[0],Be=[0],K(ve=new Q,d,g,b),Ye(ve,oe,Pe,Be)?(q!=null&&(q[0]=oe[0]),ge!=null&&(ge[0]=Pe[0]),pe!=null&&(pe[0]=Be[0]),d=1):d=0):d=0}else{if(10>b){ie=7;break}q=be,d==null||10>b||!kd(d,g+3,b-3)?d=0:(ge=d[g+0]|d[g+1]<<8|d[g+2]<<16,pe=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=le.Ja||!pe||!d?d=0:(M&&(M[0]=pe),q&&(q[0]=d),d=1))}if(!d||(M=M[0],be=be[0],fe&&($[0]!=M||Ae[0]!=be)))return 3;W!=null&&(W[0]=le,W.offset=g-W.w,t(4294967286>g-W.w),t(W.offset==W.ha-b));break}return ie==0||ie==7&&fe&&W==null?(R!=null&&(R[0]|=le.na!=null&&0<le.na.length),k!=null&&(k[0]=M),L!=null&&(L[0]=be),0):ie}function Hl(d,g,b){var k=g.width,L=g.height,R=0,M=0,q=k,W=L;if(g.Da=d!=null&&0<d.Da,g.Da&&(q=d.cd,W=d.bd,R=d.v,M=d.j,11>b||(R&=-2,M&=-2),0>R||0>M||0>=q||0>=W||R+q>k||M+W>L))return 0;if(g.v=R,g.j=M,g.va=R+q,g.o=M+W,g.U=q,g.T=W,g.da=d!=null&&0<d.da,g.da){if(!_e(q,W,b=[d.ib],R=[d.hb]))return 0;g.ib=b[0],g.hb=R[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*k/4&&g.hb<3*L/4,g.Kb=0),1}function Ml(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function ao(d,g,b,k){if(k==null||0>=d||0>=g)return 2;if(b!=null){if(b.Da){var L=b.cd,R=b.bd,M=-2&b.v,q=-2&b.j;if(0>M||0>q||0>=L||0>=R||M+L>d||q+R>g)return 2;d=L,g=R}if(b.da){if(!_e(d,g,L=[b.ib],R=[b.hb]))return 2;d=L[0],g=R[0]}}k.width=d,k.height=g;e:{var W=k.width,$=k.height;if(d=k.S,0>=W||0>=$||!(d>=Wd&&13>d))d=2;else{if(0>=k.Rd&&k.sd==null){M=R=L=g=0;var Ae=(q=W*oy[d])*$;if(11>d||(R=($+1)/2*(g=(W+1)/2),d==12&&(M=(L=W)*$)),($=A(Ae+2*R+M))==null){d=1;break e}k.sd=$,11>d?((W=k.f.RGBA).eb=$,W.fb=0,W.A=q,W.size=Ae):((W=k.f.kb).y=$,W.O=0,W.fa=q,W.Fd=Ae,W.f=$,W.N=0+Ae,W.Ab=g,W.Cd=R,W.ea=$,W.W=0+Ae+R,W.Db=g,W.Ed=R,d==12&&(W.F=$,W.J=0+Ae+2*R),W.Tc=M,W.lb=L)}if(g=1,L=k.S,R=k.width,M=k.height,L>=Wd&&13>L)if(11>L)d=k.f.RGBA,g&=(q=Math.abs(d.A))*(M-1)+R<=d.size,g&=q>=R*oy[L],g&=d.eb!=null;else{d=k.f.kb,q=(R+1)/2,Ae=(M+1)/2,W=Math.abs(d.fa),$=Math.abs(d.Ab);var fe=Math.abs(d.Db),ge=Math.abs(d.lb),le=ge*(M-1)+R;g&=W*(M-1)+R<=d.Fd,g&=$*(Ae-1)+q<=d.Cd,g=(g&=fe*(Ae-1)+q<=d.Ed)&W>=R&$>=q&fe>=q,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,L==12&&(g&=ge>=R,g&=le<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||b!=null&&b.fd&&(d=Ml(k)),d}var Tr=64,so=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],no=24,Ao=32,Ol=8,ya=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(d){return d},C.Predictor2=function(d,g,b){return g[b+0]},C.Predictor3=function(d,g,b){return g[b+1]},C.Predictor4=function(d,g,b){return g[b-1]},C.Predictor5=function(d,g,b){return Ie(Ie(d,g[b+1]),g[b+0])},C.Predictor6=function(d,g,b){return Ie(d,g[b-1])},C.Predictor7=function(d,g,b){return Ie(d,g[b+0])},C.Predictor8=function(d,g,b){return Ie(g[b-1],g[b+0])},C.Predictor9=function(d,g,b){return Ie(g[b+0],g[b+1])},C.Predictor10=function(d,g,b){return Ie(Ie(d,g[b-1]),Ie(g[b+0],g[b+1]))},C.Predictor11=function(d,g,b){var k=g[b+0];return 0>=at(k>>24&255,d>>24&255,(g=g[b-1])>>24&255)+at(k>>16&255,d>>16&255,g>>16&255)+at(k>>8&255,d>>8&255,g>>8&255)+at(255&k,255&d,255&g)?k:d},C.Predictor12=function(d,g,b){var k=g[b+0];return(Ge((d>>24&255)+(k>>24&255)-((g=g[b-1])>>24&255))<<24|Ge((d>>16&255)+(k>>16&255)-(g>>16&255))<<16|Ge((d>>8&255)+(k>>8&255)-(g>>8&255))<<8|Ge((255&d)+(255&k)-(255&g)))>>>0},C.Predictor13=function(d,g,b){var k=g[b-1];return(tt((d=Ie(d,g[b+0]))>>24&255,k>>24&255)<<24|tt(d>>16&255,k>>16&255)<<16|tt(d>>8&255,k>>8&255)<<8|tt(d>>0&255,k>>0&255))>>>0};var Ff=C.PredictorAdd0;C.PredictorAdd1=ct,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var _l=C.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var _d,Va=C.ColorIndexInverseTransform,io=C.MapARGB,Kd=C.VP8LColorIndexInverseTransformAlpha,qd=C.MapAlpha,Jn=C.VP8LPredictorsAdd=[];Jn.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var ti,wa,oa,$n,wn,vn,oo,bn,Ar,Kl,la,Ga,lo,zd,ql,ri,ai,Xn,si,co,ni,Yn,zl,Wa,Ja,Rt,Ht,ir,Nr=A(511),Bn=A(2041),Vl=A(225),uo=A(767),Vd=0,Ef=Bn,Gd=Vl,La=uo,$a=Nr,Wd=0,Jd=1,$x=2,$d=3,Xd=4,Qf=5,Xx=6,Uf=7,Lf=8,Yd=9,If=10,rN=[2,3,7],aN=[3,3,11],Yx=[280,256,256,256,40],sN=[0,1,1,1,0],nN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],AN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],iN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],oN=8,Pf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Df=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Gl=null,lN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],uN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],hN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zn=[],ws=[],Nn=[],gN=1,ey=2,eA=[],Xa=[];xe("UpsampleRgbLinePair",pt,3),xe("UpsampleBgrLinePair",Wt,3),xe("UpsampleRgbaLinePair",ys,4),xe("UpsampleBgraLinePair",Sr,4),xe("UpsampleArgbLinePair",Gr,4),xe("UpsampleRgba4444LinePair",gr,2),xe("UpsampleRgb565LinePair",tr,2);var mN=C.UpsampleRgbLinePair,pN=C.UpsampleBgrLinePair,ty=C.UpsampleRgbaLinePair,ry=C.UpsampleBgraLinePair,ay=C.UpsampleArgbLinePair,sy=C.UpsampleRgba4444LinePair,xN=C.UpsampleRgb565LinePair,Zd=16,eu=1<<Zd-1,Wl=-227,Tf=482,ny=6,yN=(256<<ny)-1,Ay=0,wN=A(256),vN=A(256),bN=A(256),BN=A(256),NN=A(Tf-Wl),kN=A(Tf-Wl);Js("YuvToRgbRow",pt,3),Js("YuvToBgrRow",Wt,3),Js("YuvToRgbaRow",ys,4),Js("YuvToBgraRow",Sr,4),Js("YuvToArgbRow",Gr,4),Js("YuvToRgba4444Row",gr,2),Js("YuvToRgb565Row",tr,2);var iy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tu=[0,2,8],jN=[8,7,6,4,4,2,2,2,1,1,1,1],CN=1;this.WebPDecodeRGBA=function(d,g,b,k,L){var R=Jd,M=new eo,q=new us;M.ba=q,q.S=R,q.width=[q.width],q.height=[q.height];var W=q.width,$=q.height,Ae=new mn;if(Ae==null||d==null)var fe=2;else t(Ae!=null),fe=ro(d,g,b,Ae.width,Ae.height,Ae.Pd,Ae.Qd,Ae.format,null);if(fe!=0?W=0:(W!=null&&(W[0]=Ae.width[0]),$!=null&&($[0]=Ae.height[0]),W=1),W){q.width=q.width[0],q.height=q.height[0],k!=null&&(k[0]=q.width),L!=null&&(L[0]=q.height);e:{if(k=new Gi,(L=new Ll).data=d,L.w=g,L.ha=b,L.kd=1,g=[0],t(L!=null),((d=ro(L.data,L.w,L.ha,null,null,null,g,null,L))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(t(M!=null),k.data=L.data,k.w=L.w+L.offset,k.ha=L.ha-L.offset,k.put=_s,k.ac=Dr,k.bc=Ks,k.ma=M,L.xa){if((d=za())==null){M=1;break e}if(function(ge,le){var be=[0],pe=[0],ie=[0];t:for(;;){if(ge==null)return 0;if(le==null)return ge.a=2,0;if(ge.l=le,ge.a=0,K(ge.m,le.data,le.w,le.ha),!Ye(ge.m,be,pe,ie)){ge.a=3;break t}if(ge.xb=ey,le.width=be[0],le.height=pe[0],!Vs(be[0],pe[0],1,ge,null))break t;return 1}return t(ge.a!=0),0}(d,k)){if(k=(g=ao(k.width,k.height,M.Oa,M.ba))==0){t:{k=d;r:for(;;){if(k==null){k=0;break t}if(t(k.s.yc!=null),t(k.s.Ya!=null),t(0<k.s.Wb),t((b=k.l)!=null),t((L=b.ma)!=null),k.xb!=0){if(k.ca=L.ba,k.tb=L.tb,t(k.ca!=null),!Hl(L.Oa,b,$d)){k.a=2;break r}if(!$A(k,b.width)||b.da)break r;if((b.da||kt(k.ca.S))&&ue(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&ue()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!$e(k.s.vb,k.s.Wa.Xa)){k.a=1;break r}k.xb=0}if(!ms(k,k.V,k.Ba,k.c,k.i,b.o,Oi))break r;L.Dc=k.Ma,k=1;break t}t(k.a!=0),k=0}k=!k}k&&(g=d.a)}else g=d.a}else{if((d=new cf)==null){M=1;break e}if(d.Fa=L.na,d.P=L.P,d.qc=L.Sa,jd(d,k)){if((g=ao(k.width,k.height,M.Oa,M.ba))==0){if(d.Aa=0,b=M.Oa,t((L=d)!=null),b!=null){if(0<(W=0>(W=b.Md)?0:100<W?255:255*W/100)){for($=Ae=0;4>$;++$)12>(fe=L.pb[$]).lc&&(fe.ia=W*jN[0>fe.lc?0:fe.lc]>>3),Ae|=fe.ia;Ae&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=b.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}df(d,k)||(g=d.a)}}else g=d.a}g==0&&M.Oa!=null&&M.Oa.fd&&(g=Ml(M.ba))}M=g}R=M!=0?null:11>R?q.f.RGBA.eb:q.f.kb.y}else R=null;return R};var oy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,_){for(var H="",F=0;F<4;F++)H+=String.fromCharCode(C[_++]);return H}function u(C,_){return(C[_+0]<<0|C[_+1]<<8|C[_+2]<<16)>>>0}function f(C,_){return(C[_+0]<<0|C[_+1]<<8|C[_+2]<<16|C[_+3]<<24)>>>0}new l;var p=[0],h=[0],B=[],x=new l,N=e,m=function(C,_){var H={},F=0,j=!1,P=0,z=0;if(H.frames=[],!function(J,X,ee,ne){for(var ce=0;ce<ne;ce++)if(J[X+ce]!=ee.charCodeAt(ce))return!0;return!1}(C,_,"RIFF",4)){for(f(C,_+=4),_+=8;_<C.length;){var D=c(C,_),O=f(C,_+=4);_+=4;var Z=O+(1&O);switch(D){case"VP8 ":case"VP8L":H.frames[F]===void 0&&(H.frames[F]={}),(se=H.frames[F]).src_off=j?z:_-8,se.src_size=P+O+8,F++,j&&(j=!1,P=0,z=0);break;case"VP8X":(se=H.header={}).feature_flags=C[_];var K=_+4;se.canvas_width=1+u(C,K),K+=3,se.canvas_height=1+u(C,K),K+=3;break;case"ALPH":j=!0,P=Z+8,z=_-8;break;case"ANIM":(se=H.header).bgcolor=f(C,_),K=_+4,se.loop_count=(he=C)[(Q=K)+0]<<0|he[Q+1]<<8,K+=2;break;case"ANMF":var te,se;(se=H.frames[F]={}).offset_x=2*u(C,_),_+=3,se.offset_y=2*u(C,_),_+=3,se.width=1+u(C,_),_+=3,se.height=1+u(C,_),_+=3,se.duration=u(C,_),_+=3,te=C[_++],se.dispose=1&te,se.blend=te>>1&1}D!="ANMF"&&(_+=Z)}var he,Q;return H}}(N,0);m.response=N,m.rgbaoutput=!0,m.dataurl=!1;var y=m.header?m.header:null,v=m.frames?m.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],h=[y.canvas_width];for(var E=0;E<v.length&&v[E].blend!=0;E++);}var U=v[0],V=x.WebPDecodeRGBA(N,U.src_off,U.src_size,h,p);U.rgba=V,U.imgwidth=h[0],U.imgheight=p[0];for(var S=0;S<h[0]*p[0]*4;S++)B[S]=V[S];return this.width=h,this.height=p,this.data=B,this}(function(e){var t=function(){return typeof ep=="function"},r=function(p,h,B,x){var N=4,m=i;switch(x){case e.image_compression.FAST:N=1,m=A;break;case e.image_compression.MEDIUM:N=6,m=o;break;case e.image_compression.SLOW:N=9,m=l}p=s(p,h,B,m);var y=ep(p,{level:N});return e.__addimage__.arrayBufferToBinaryString(y)},s=function(p,h,B,x){for(var N,m,y,v=p.length/h,E=new Uint8Array(p.length+v),U=u(),V=0;V<v;V+=1){if(y=V*h,N=p.subarray(y,y+h),x)E.set(x(N,B,m),y+V);else{for(var S,C=U.length,_=[];S<C;S+=1)_[S]=U[S](N,B,m);var H=f(_.concat());E.set(_[H],y+V)}m=N}return E},n=function(p){var h=Array.apply([],p);return h.unshift(0),h},A=function(p,h){var B,x=[],N=p.length;x[0]=1;for(var m=0;m<N;m+=1)B=p[m-h]||0,x[m+1]=p[m]-B+256&255;return x},i=function(p,h,B){var x,N=[],m=p.length;N[0]=2;for(var y=0;y<m;y+=1)x=B&&B[y]||0,N[y+1]=p[y]-x+256&255;return N},o=function(p,h,B){var x,N,m=[],y=p.length;m[0]=3;for(var v=0;v<y;v+=1)x=p[v-h]||0,N=B&&B[v]||0,m[v+1]=p[v]+256-(x+N>>>1)&255;return m},l=function(p,h,B){var x,N,m,y,v=[],E=p.length;v[0]=4;for(var U=0;U<E;U+=1)x=p[U-h]||0,N=B&&B[U]||0,m=B&&B[U-h]||0,y=c(x,N,m),v[U+1]=p[U]-y+256&255;return v},c=function(p,h,B){if(p===h&&h===B)return p;var x=Math.abs(h-B),N=Math.abs(p-B),m=Math.abs(p+h-B-B);return x<=N&&x<=m?p:N<=m?h:B},u=function(){return[n,A,i,o,l]},f=function(p){var h=p.map(function(B){return B.reduce(function(x,N){return x+Math.abs(N)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(p,h,B,x){var N,m,y,v,E,U,V,S,C,_,H,F,j,P,z,D=this.decode.FLATE_DECODE,O="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(y=new V3(p)).imgData,m=y.bits,N=y.colorSpace,E=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){C=(S=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,H=new Uint8Array(C*y.colors),_=new Uint8Array(C);var Z,K=y.pixelBitlength-y.bits;for(P=0,z=0;P<C;P++){for(j=S[P],Z=0;Z<K;)H[z++]=j>>>Z&255,Z+=y.bits;_[P]=j>>>Z&255}}if(y.bits===16){C=(S=new Uint32Array(y.decodePixels().buffer)).length,H=new Uint8Array(C*(32/y.pixelBitlength)*y.colors),_=new Uint8Array(C*(32/y.pixelBitlength)),F=y.colors>1,P=0,z=0;for(var te=0;P<C;)j=S[P++],H[z++]=j>>>0&255,F&&(H[z++]=j>>>16&255,j=S[P++],H[z++]=j>>>0&255),_[te++]=j>>>16&255;m=8}x!==e.image_compression.NONE&&t()?(p=r(H,y.width*y.colors,y.colors,x),V=r(_,y.width,1,x)):(p=H,V=_,D=void 0)}if(y.colorType===3&&(N=this.color_spaces.INDEXED,U=y.palette,y.transparency.indexed)){var se=y.transparency.indexed,he=0;for(P=0,C=se.length;P<C;++P)he+=se[P];if((he/=255)===C-1&&se.indexOf(0)!==-1)v=[se.indexOf(0)];else if(he!==C){for(S=y.decodePixels(),_=new Uint8Array(S.length),P=0,C=S.length;P<C;P++)_[P]=se[S[P]];V=r(_,y.width,1)}}var Q=function(J){var X;switch(J){case e.image_compression.FAST:X=11;break;case e.image_compression.MEDIUM:X=13;break;case e.image_compression.SLOW:X=14;break;default:X=12}return X}(x);return D===this.decode.FLATE_DECODE&&(O="/Predictor "+Q+" "),O+="/Colors "+E+" /BitsPerComponent "+m+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:B,data:p,index:h,filter:D,decodeParameters:O,transparency:v,palette:U,sMask:V,predictor:Q,width:y.width,height:y.height,bitsPerComponent:m,colorSpace:N}}}})(Ze.API),function(e){e.processGIF89A=function(t,r,s,n){var A=new G3(t),i=A.width,o=A.height,l=[];A.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:i,height:o},u=new Fg(100).encode(c,100);return e.processJPEG.call(this,u,r,s,n)},e.processGIF87A=e.processGIF89A}(Ze.API),Ns.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:s,blue:r,quad:A}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ns.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Tt.log("bit decode error:"+r)}},Ns.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var A=this.datav.getUint8(this.pos++,!0),i=s*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var l=this.palette[A>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ns.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var A=this.datav.getUint8(this.pos++,!0),i=s*this.width*4+2*n*4,o=A>>4,l=15&A,c=this.palette[o];if(this.data[i]=c.blue,this.data[i+1]=c.green,this.data[i+2]=c.red,this.data[i+3]=255,2*n+1>=this.width)break;c=this.palette[l],this.data[i+4]=c.blue,this.data[i+4+1]=c.green,this.data[i+4+2]=c.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},Ns.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),A=r*this.width*4+4*s;if(n<this.palette.length){var i=this.palette[n];this.data[A]=i.red,this.data[A+1]=i.green,this.data[A+2]=i.blue,this.data[A+3]=255}else this.data[A]=255,this.data[A+1]=255,this.data[A+2]=255,this.data[A+3]=255}e!==0&&(this.pos+=4-e)}},Ns.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(A&t)/t*255|0,o=(A>>5&t)/t*255|0,l=(A>>10&t)/t*255|0,c=A>>15?255:0,u=s*this.width*4+4*n;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=i,this.data[u+3]=c}this.pos+=e}},Ns.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,A=0;A<this.width;A++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&r)/r*255|0,c=(i>>11)/t*255|0,u=n*this.width*4+4*A;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Ns.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=A,this.data[i+1]=n,this.data[i+2]=s,this.data[i+3]=255}this.pos+=this.width%4}},Ns.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=A,this.data[o+1]=n,this.data[o+2]=s,this.data[o+3]=i}},Ns.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,s,n){var A=new Ns(t,!1),i=A.width,o=A.height,l={data:A.getData(),width:i,height:o},c=new Fg(100).encode(l,100);return e.processJPEG.call(this,c,r,s,n)}}(Ze.API),h2.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,s,n){var A=new h2(t),i=A.width,o=A.height,l={data:A.getData(),width:i,height:o},c=new Fg(100).encode(l,100);return e.processJPEG.call(this,c,r,s,n)}}(Ze.API),Ze.API.processRGBA=function(e,t,r){for(var s=e.data,n=s.length,A=new Uint8Array(n/4*3),i=new Uint8Array(n/4),o=0,l=0,c=0;c<n;c+=4){var u=s[c],f=s[c+1],p=s[c+2],h=s[c+3];A[o++]=u,A[o++]=f,A[o++]=p,i[l++]=h}var B=this.__addimage__.arrayBufferToBinaryString(A);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:B,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ze.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},yo=Ze.API,Lu=yo.getCharWidthsArray=function(e,t){var r,s,n=(t=t||{}).font||this.internal.getFont(),A=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:n.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,p=0,h=e.length,B=0,x=o[0]||l,N=[];for(r=0;r<h;r++)s=e.charCodeAt(r),typeof n.metadata.widthOfString=="function"?N.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(s))+i*(1e3/A)||0)/1e3):(p=f&&Qt(c[s])==="object"&&!isNaN(parseInt(c[s][B],10))?c[s][B]/u:0,N.push((o[s]||x)/l+p)),B=s;return N},l2=yo.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return yo.processArabic&&(e=yo.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,r,n)/r:Lu.apply(this,arguments).reduce(function(A,i){return A+i},0)},c2=function(e,t,r,s){for(var n=[],A=0,i=e.length,o=0;A!==i&&o+t[A]<r;)o+=t[A],A++;n.push(e.slice(0,A));var l=A;for(o=0;A!==i;)o+t[A]>s&&(n.push(e.slice(l,A)),o=0,l=A),o+=t[A],A++;return l!==A&&n.push(e.slice(l,A)),n},d2=function(e,t,r){r||(r={});var s,n,A,i,o,l,c,u=[],f=[u],p=r.textIndent||0,h=0,B=0,x=e.split(" "),N=Lu.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var m=Array(l).join(" "),y=[];x.map(function(E){(E=E.split(/\s*\n/)).length>1?y=y.concat(E.map(function(U,V){return(V&&U.length?`
`:"")+U})):y.push(E[0])}),x=y,l=l2.apply(this,[m,r])}for(A=0,i=x.length;A<i;A++){var v=0;if(s=x[A],l&&s[0]==`
`&&(s=s.substr(1),v=1),p+h+(B=(n=Lu.apply(this,[s,r])).reduce(function(E,U){return E+U},0))>t||v){if(B>t){for(o=c2.apply(this,[s,n,t-(p+h),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);B=n.slice(s.length-(u[0]?u[0].length:0)).reduce(function(E,U){return E+U},0)}else u=[s];f.push(u),p=B+l,h=N}else u.push(s),p+=h+B,h=N}return c=l?function(E,U){return(U?m:"")+E.join(" ")}:function(E){return E.join(" ")},f.map(c)},yo.splitTextToSize=function(e,t,r){var s,n=(r=r||{}).fontSize||this.internal.getFontSize(),A=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/n;A.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,A.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=s.length;o<l;o++)c=c.concat(d2.apply(this,[s[o],i,A]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},s={},n=0;n<t.length;n++)r[t[n]]="0123456789abcdef"[n],s["0123456789abcdef"[n]]=t[n];var A=function(f){return"0x"+parseInt(f,10).toString(16)},i=e.__fontmetrics__.compress=function(f){var p,h,B,x,N=["{"];for(var m in f){if(p=f[m],isNaN(parseInt(m,10))?h="'"+m+"'":(m=parseInt(m,10),h=(h=A(m).slice(2)).slice(0,-1)+s[h.slice(-1)]),typeof p=="number")p<0?(B=A(p).slice(3),x="-"):(B=A(p).slice(2),x=""),B=x+B.slice(0,-1)+s[B.slice(-1)];else{if(Qt(p)!=="object")throw new Error("Don't know what to do with value type "+Qt(p)+".");B=i(p)}N.push(h+B)}return N.push("}"),N.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,B,x,N={},m=1,y=N,v=[],E="",U="",V=f.length-1,S=1;S<V;S+=1)(x=f[S])=="'"?p?(B=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(v.push([y,B]),y={},B=void 0):x=="}"?((h=v.pop())[0][h[1]]=y,B=void 0,y=h[0]):x=="-"?m=-1:B===void 0?r.hasOwnProperty(x)?(E+=r[x],B=parseInt(E,16)*m,m=1,E=""):E+=x:r.hasOwnProperty(x)?(U+=r[x],y[B]=parseInt(U,16)*m,m=1,B=void 0,U=""):U+=x;return N},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var p=f.font,h=u.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var B=c.Unicode[p.postScriptName];B&&(p.metadata.Unicode.encoding=B,p.encoding=B.codePages[0])}])}(Ze.API),function(e){var t=function(r){for(var s=r.length,n=new Uint8Array(s),A=0;A<s;A++)n[A]=r.charCodeAt(A);return n};e.API.events.push(["addFont",function(r){var s=void 0,n=r.font,A=r.instance;if(!n.isStandardFont){if(A===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(s=A.existsFileInVFS(n.postScriptName)===!1?A.loadFile(n.postScriptName):A.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Pc(o)),i.metadata=e.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(n,s)}}])}(Ze),function(e){function t(){return(et.canvg?Promise.resolve(et.canvg):xi(()=>import("./index.es-59dcd3be.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ze.API.addSvgAsImage=function(r,s,n,A,i,o,l,c){if(isNaN(s)||isNaN(n))throw Tt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(A)||isNaN(i))throw Tt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=A,u.height=i;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(B){return B.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(B){return B.render(p)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),s,n,A,i,l,c)})}}(),Ze.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var n=0;n<this.internal.pages[s].length;n++)this.internal.pages[s][n]=this.internal.pages[s][n].replace(t,r);return this},Ze.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var s,n,A,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],c=0,u=0,f=0;function p(B,x){var N,m=!1;for(N=0;N<B.length;N+=1)B[N]===x&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Qt(e)==="object"){for(n in e)if(A=e[n],p(o,n)&&A!==void 0){if(r[n].type==="boolean"&&typeof A=="boolean")r[n].value=A;else if(r[n].type==="name"&&p(r[n].valueSet,A))r[n].value=A;else if(r[n].type==="integer"&&Number.isInteger(A))r[n].value=A;else if(r[n].type==="array"){for(c=0;c<A.length;c+=1)if(s=!0,A[c].length===1&&typeof A[c][0]=="number")l.push(String(A[c]-1));else if(A[c].length>1){for(u=0;u<A[c].length;u+=1)typeof A[c][u]!="number"&&(s=!1);s===!0&&l.push([A[c][0]-1,A[c][1]-1].join(" "))}r[n].value="["+l.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var B,x=[];for(B in r)r[B].explicitSet===!0&&(r[B].type==="name"?x.push("/"+B+" /"+r[B].value):x.push("/"+B+" "+r[B].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),A=unescape(encodeURIComponent(s)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=A.length+i.length+o.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+A+i+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ze.API),function(e){var t=e.API,r=t.pdfEscape16=function(A,i){for(var o,l=i.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,p=A.length;f<p;++f){if(o=i.metadata.characterToGlyph(A.charCodeAt(f)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=A.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},s=function(A){var i,o,l,c,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(A).sort(function(h,B){return h-B})).length;f<p;f++)i=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),A[i]!==void 0&&A[i]!==null&&typeof A[i].toString=="function"&&(c=("0000"+A[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),l.push("<"+i+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(A){(function(i){var o=i.font,l=i.out,c=i.newObject,u=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",B=0;B<p.length;B++)h+=String.fromCharCode(p[B]);var x=c();u({data:h,addLength1:!0,objectId:x}),l("endobj");var N=c();u({data:s(o.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var m=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+So(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+So(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+N+" 0 R"),l("/BaseFont /"+So(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(A)}]),t.events.push(["putFont",function(A){(function(i){var o=i.font,l=i.out,c=i.newObject,u=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var B=c();u({data:p,addLength1:!0,objectId:B}),l("endobj");var x=c();u({data:s(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var N=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+B+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+So(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+So(o.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(A)}]);var n=function(A){var i,o=A.text||"",l=A.x,c=A.y,u=A.options||{},f=A.mutex||{},p=f.pdfEscape,h=f.activeFontKey,B=f.fonts,x=h,N="",m=0,y="",v=B[x].encoding;if(B[x].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(y=o,x=h,Array.isArray(o)&&(y=o[0]),m=0;m<y.length;m+=1)B[x].metadata.hasOwnProperty("cmap")&&(i=B[x].metadata.cmap.unicode.codeMap[y[m].charCodeAt(0)]),i||y[m].charCodeAt(0)<256&&B[x].metadata.hasOwnProperty("Unicode")?N+=y[m]:N+="";var E="";return parseInt(x.slice(1))<14||v==="WinAnsiEncoding"?E=p(N,x).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(E=r(N,B[x])),f.isHex=!0,{text:E,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(A){var i=A.text||"",o=[],l={text:i,x:A.x,y:A.y,options:A.options,mutex:A.mutex};if(Array.isArray(i)){var c=0;for(c=0;c<i.length;c+=1)Array.isArray(i[c])&&i[c].length===3?o.push([n(Object.assign({},l,{text:i[c][0]})).text,i[c][1],i[c][2]]):o.push(n(Object.assign({},l,{text:i[c]})).text);A.text=o}else A.text=n(Object.assign({},l,{text:i})).text}])}(Ze),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,s){return t.call(this),this.internal.vFS[r]=s,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ze.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var n,A,i,o,l,c,u,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],B={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,v=0;this.__bidiEngine__={};var E=function(F){var j=F.charCodeAt(),P=j>>8,z=x[P];return z!==void 0?f[256*z+(255&j)]:P===252||P===253?"AL":m.test(P)?"L":P===8?"R":"N"},U=function(F){for(var j,P=0;P<F.length;P++){if((j=E(F.charAt(P)))==="L")return!1;if(j==="R")return!0}return!1},V=function(F,j,P,z){var D,O,Z,K,te=j[z];switch(te){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(te="AN");break;case"AL":y=!0,te="R";break;case"WS":te="N";break;case"CS":z<1||z+1>=j.length||(D=P[z-1])!=="EN"&&D!=="AN"||(O=j[z+1])!=="EN"&&O!=="AN"?te="N":y&&(O="AN"),te=O===D?O:"N";break;case"ES":te=(D=z>0?P[z-1]:"B")==="EN"&&z+1<j.length&&j[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&P[z-1]==="EN"){te="EN";break}if(y){te="N";break}for(Z=z+1,K=j.length;Z<K&&j[Z]==="ET";)Z++;te=Z<K&&j[Z]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(K=j.length,Z=z+1;Z<K&&j[Z]==="NSM";)Z++;if(Z<K){var se=F[z],he=se>=1425&&se<=2303||se===64286;if(D=j[Z],he&&(D==="R"||D==="AL")){te="R";break}}}te=z<1||(D=j[z-1])==="B"?"N":P[z-1];break;case"B":y=!1,n=!0,te=v;break;case"S":A=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":te="N"}return te},S=function(F,j,P){var z=F.split("");return P&&C(z,P,{hiLevel:v}),z.reverse(),j&&j.reverse(),z.join("")},C=function(F,j,P){var z,D,O,Z,K,te=-1,se=F.length,he=0,Q=[],J=v?h:p,X=[];for(y=!1,n=!1,A=!1,D=0;D<se;D++)X[D]=E(F[D]);for(O=0;O<se;O++){if(K=he,Q[O]=V(F,X,Q,O),z=240&(he=J[K][B[Q[O]]]),he&=15,j[O]=Z=J[he][5],z>0)if(z===16){for(D=te;D<O;D++)j[D]=1;te=-1}else te=-1;if(J[he][6])te===-1&&(te=O);else if(te>-1){for(D=te;D<O;D++)j[D]=Z;te=-1}X[O]==="B"&&(j[O]=0),P.hiLevel|=Z}A&&function(ee,ne,ce){for(var re=0;re<ce;re++)if(ee[re]==="S"){ne[re]=v;for(var de=re-1;de>=0&&ee[de]==="WS";de--)ne[de]=v}}(X,j,se)},_=function(F,j,P,z,D){if(!(D.hiLevel<F)){if(F===1&&v===1&&!n)return j.reverse(),void(P&&P.reverse());for(var O,Z,K,te,se=j.length,he=0;he<se;){if(z[he]>=F){for(K=he+1;K<se&&z[K]>=F;)K++;for(te=he,Z=K-1;te<Z;te++,Z--)O=j[te],j[te]=j[Z],j[Z]=O,P&&(O=P[te],P[te]=P[Z],P[Z]=O);he=K}he++}}},H=function(F,j,P){var z=F.split(""),D={hiLevel:v};return P||(P=[]),C(z,P,D),function(O,Z,K){if(K.hiLevel!==0&&u)for(var te,se=0;se<O.length;se++)Z[se]===1&&(te=N.indexOf(O[se]))>=0&&(O[se]=N[te+1])}(z,P,D),_(2,z,j,P,D),_(1,z,j,P,D),z.join("")};return this.__bidiEngine__.doBidiReorder=function(F,j,P){if(function(D,O){if(O)for(var Z=0;Z<D.length;Z++)O[Z]=Z;o===void 0&&(o=U(D)),c===void 0&&(c=U(D))}(F,j),i||!l||c)if(i&&l&&o^c)v=o?1:0,F=S(F,j,P);else if(!i&&l&&c)v=o?1:0,F=H(F,j,P),F=S(F,j);else if(!i||o||l||c){if(i&&!l&&o^c)F=S(F,j),o?(v=0,F=H(F,j,P)):(v=1,F=H(F,j,P),F=S(F,j));else if(i&&o&&!l&&c)v=1,F=H(F,j,P),F=S(F,j);else if(!i&&!l&&o^c){var z=u;o?(v=1,F=H(F,j,P),v=0,u=!1,F=H(F,j,P),u=z):(v=0,F=H(F,j,P),F=S(F,j),v=1,u=!1,F=H(F,j,P),u=z,F=S(F,j))}}else v=0,F=H(F,j,P);else v=o?1:0,F=H(F,j,P);return F},this.__bidiEngine__.setOptions=function(F){F&&(i=F.isInputVisual,l=F.isOutputVisual,o=F.isInputRtl,c=F.isOutputRtl,u=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var n=s.text;s.x,s.y;var A=s.options||{};s.mutex,A.lang;var i=[];if(A.isInputVisual=typeof A.isInputVisual!="boolean"||A.isInputVisual,r.setOptions(A),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(i=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?i.push([r.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):i.push([r.doBidiReorder(n[o])]);s.text=i}else s.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])}(Ze),Ze.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new MA(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new o6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new W3(this.contents),this.head=new $3(this),this.name=new t6(this),this.cmap=new B5(this),this.toUnicode={},this.hhea=new X3(this),this.maxp=new r6(this),this.hmtx=new a6(this),this.post=new Z3(this),this.os2=new Y3(this),this.loca=new i6(this),this.glyf=new s6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,s,n,A;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,l,c;for(c=[],i=0,o=(l=this.bbox).length;i<o;i++)t=l[i],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(s=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(A=this.familyClass)===1||A===2||A===3||A===4||A===5||A===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,s){var n,A,i,o;for(i=0,A=0,o=(t=""+t).length;0<=o?A<o:A>o;A=0<=o?++A:--A)n=t.charCodeAt(A),i+=this.widthOfGlyph(this.characterToGlyph(n))+s*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var Rs,MA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,s;for(s=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var r,s,n;for(n=[],r=0,s=t.length;0<=s?r<s:r>s;r=0<=s?++r:--r)n.push(this.writeByte(t.charCodeAt(r)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,s,n,A,i,o,l;return t=this.readByte(),r=this.readByte(),s=this.readByte(),n=this.readByte(),A=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^n)+16777216*(255^A)+65536*(255^i)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*s+4294967296*n+16777216*A+65536*i+256*o+l},e.prototype.writeLongLong=function(t){var r,s;return r=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,s;for(r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push(this.readByte());return r},e.prototype.write=function(t){var r,s,n,A;for(A=[],s=0,n=t.length;s<n;s++)r=t[s],A.push(this.writeByte(r));return A},e}(),W3=function(){var e;function t(r){var s,n,A;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,A=this.tableCount;0<=A?n<A:n>A;n=0<=A?++n:--n)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(r){var s,n,A,i,o,l,c,u,f,p,h,B,x;for(x in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),i=Math.floor(f/l),u=16*h-f,(n=new MA).writeInt(this.scalarType),n.writeShort(h),n.writeShort(f),n.writeShort(i),n.writeShort(u),A=16*h,c=n.pos+A,o=null,B=[],r)for(p=r[x],n.writeString(x),n.writeInt(e(p)),n.writeInt(c),n.writeInt(p.length),B=B.concat(p),x==="head"&&(o=c),c+=p.length;c%4;)B.push(0),c++;return n.write(B),s=2981146554-e(n.data),n.pos=o+8,n.writeUInt32(s),n.data},e=function(r){var s,n,A,i;for(r=N5.call(r);r.length%4;)r.push(0);for(A=new MA(r),n=0,s=0,i=r.length;s<i;s=s+=4)n+=A.readUInt32();return 4294967295&n},t}(),J3={}.hasOwnProperty,hn=function(e,t){for(var r in t)J3.call(t,r)&&(e[r]=t[r]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};Rs=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var $3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hn(t,Rs),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var s;return(s=new MA).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(r),s.writeShort(this.glyphDataFormat),s.data},t}(),f2=function(){function e(t,r){var s,n,A,i,o,l,c,u,f,p,h,B,x,N,m,y,v;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,A=function(){var E,U;for(U=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)U.push(t.readUInt16());return U}(),t.pos+=2,x=function(){var E,U;for(U=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)U.push(t.readUInt16());return U}(),c=function(){var E,U;for(U=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)U.push(t.readUInt16());return U}(),u=function(){var E,U;for(U=[],l=E=0;0<=p?E<p:E>p;l=0<=p?++E:--E)U.push(t.readUInt16());return U}(),n=(this.length-t.pos+this.offset)/2,o=function(){var E,U;for(U=[],l=E=0;0<=n?E<n:E>n;l=0<=n?++E:--E)U.push(t.readUInt16());return U}(),l=m=0,v=A.length;m<v;l=++m)for(N=A[l],s=y=B=x[l];B<=N?y<=N:y>=N;s=B<=N?++y:--y)u[l]===0?i=s+c[l]:(i=o[u[l]/2+(s-B)-(p-l)]||0)!==0&&(i+=c[l]),this.codeMap[s]=65535&i}t.pos=f}return e.encode=function(t,r){var s,n,A,i,o,l,c,u,f,p,h,B,x,N,m,y,v,E,U,V,S,C,_,H,F,j,P,z,D,O,Z,K,te,se,he,Q,J,X,ee,ne,ce,re,de,Ne,Ce,Le;switch(z=new MA,i=Object.keys(t).sort(function(Ee,$e){return Ee-$e}),r){case"macroman":for(x=0,N=function(){var Ee=[];for(B=0;B<256;++B)Ee.push(0);return Ee}(),y={0:0},A={},D=0,te=i.length;D<te;D++)y[de=t[n=i[D]]]==null&&(y[de]=++x),A[n]={old:t[n],new:y[t[n]]},N[n]=y[t[n]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(N),{charMap:A,subtable:z.data,maxGlyphID:x+1};case"unicode":for(j=[],f=[],v=0,y={},s={},m=c=null,O=0,se=i.length;O<se;O++)y[U=t[n=i[O]]]==null&&(y[U]=++v),s[n]={old:U,new:y[U]},o=y[U]-n,m!=null&&o===c||(m&&f.push(m),j.push(n),c=o),m=n;for(m&&f.push(m),f.push(65535),j.push(65535),H=2*(_=j.length),C=2*Math.pow(Math.log(_)/Math.LN2,2),p=Math.log(C/2)/Math.LN2,S=2*_-C,l=[],V=[],h=[],B=Z=0,he=j.length;Z<he;B=++Z){if(F=j[B],u=f[B],F===65535){l.push(0),V.push(0);break}if(F-(P=s[F].new)>=32768)for(l.push(0),V.push(2*(h.length+_-B)),n=K=F;F<=u?K<=u:K>=u;n=F<=u?++K:--K)h.push(s[n].new);else l.push(P-F),V.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*_+2*h.length),z.writeUInt16(0),z.writeUInt16(H),z.writeUInt16(C),z.writeUInt16(p),z.writeUInt16(S),ce=0,Q=f.length;ce<Q;ce++)n=f[ce],z.writeUInt16(n);for(z.writeUInt16(0),re=0,J=j.length;re<J;re++)n=j[re],z.writeUInt16(n);for(Ne=0,X=l.length;Ne<X;Ne++)o=l[Ne],z.writeUInt16(o);for(Ce=0,ee=V.length;Ce<ee;Ce++)E=V[Ce],z.writeUInt16(E);for(Le=0,ne=h.length;Le<ne;Le++)x=h[Le],z.writeUInt16(x);return{charMap:s,subtable:z.data,maxGlyphID:v+1}}},e}(),B5=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hn(t,Rs),t.prototype.tag="cmap",t.prototype.parse=function(r){var s,n,A;for(r.pos=this.offset,this.version=r.readUInt16(),A=r.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=A?n<A:n>A;n=0<=A?++n:--n)s=new f2(r,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(r,s){var n,A;return s==null&&(s="macroman"),n=f2.encode(r,s),(A=new MA).writeUInt16(0),A.writeUInt16(1),n.table=A.data.concat(n.subtable),n},t}(),X3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hn(t,Rs),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Y3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hn(t,Rs),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var s,n;for(n=[],s=0;s<10;++s)n.push(r.readByte());return n}(),this.charRange=function(){var s,n;for(n=[],s=0;s<4;++s)n.push(r.readInt());return n}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var s,n;for(n=[],s=0;s<2;s=++s)n.push(r.readInt());return n}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Z3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hn(t,Rs),t.prototype.tag="post",t.prototype.parse=function(r){var s,n,A;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(n=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],A=[];r.pos<this.offset+this.length;)s=r.readByte(),A.push(this.names.push(r.readString(s)));return A;case 151552:return n=r.readUInt16(),this.offsets=r.read(n);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),e6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},t6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hn(t,Rs),t.prototype.tag="name",t.prototype.parse=function(r){var s,n,A,i,o,l,c,u,f,p,h;for(r.pos=this.offset,r.readShort(),s=r.readShort(),l=r.readShort(),n=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},i=f=0,p=n.length;f<p;i=++f)A=n[i],r.pos=A.offset,u=r.readString(A.length),o=new e6(u,A),c[h=A.nameID]==null&&(c[h]=[]),c[A.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),r6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hn(t,Rs),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),a6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hn(t,Rs),t.prototype.tag="hmtx",t.prototype.parse=function(r){var s,n,A,i,o,l,c;for(r.pos=this.offset,this.metrics=[],s=0,l=this.file.hhea.numberOfMetrics;0<=l?s<l:s>l;s=0<=l?++s:--s)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(A=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],s=u=0;0<=A?u<A:u>A;s=0<=A?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,p,h;for(h=[],u=0,f=(p=this.metrics).length;u<f;u++)i=p[u],h.push(i.advance);return h}).call(this),n=this.widths[this.widths.length-1],c=[],s=o=0;0<=A?o<A:o>A;s=0<=A?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),N5=[].slice,s6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hn(t,Rs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var s,n,A,i,o,l,c,u,f,p;return r in this.cache?this.cache[r]:(i=this.file.loca,s=this.file.contents,n=i.indexOf(r),(A=i.lengthOf(r))===0?this.cache[r]=null:(s.pos=this.offset+n,o=(l=new MA(s.read(A))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new A6(l,u,p,c,f):new n6(l,o,u,p,c,f),this.cache[r]))},t.prototype.encode=function(r,s,n){var A,i,o,l,c;for(o=[],i=[],l=0,c=s.length;l<c;l++)A=r[s[l]],i.push(o.length),A&&(o=o.concat(A.encode(n)));return i.push(o.length),{table:o,offsets:i}},t}(),n6=function(){function e(t,r,s,n,A,i){this.raw=t,this.numberOfContours=r,this.xMin=s,this.yMin=n,this.xMax=A,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),A6=function(){function e(t,r,s,n,A){var i,o;for(this.raw=t,this.xMin=r,this.yMin=s,this.xMax=n,this.yMax=A,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,s;for(r=new MA(N5.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),i6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hn(t,Rs),t.prototype.tag="loca",t.prototype.parse=function(r){var s,n;return r.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var A,i;for(i=[],n=0,A=this.length;n<A;n+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var A,i;for(i=[],n=0,A=this.length;n<A;n+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,s){for(var n=new Uint32Array(this.offsets.length),A=0,i=0,o=0;o<n.length;++o)if(n[o]=A,i<s.length&&s[i]==o){++i,n[o]=A;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(A+=c)}for(var u=new Array(4*n.length),f=0;f<n.length;++f)u[4*f+3]=255&n[f],u[4*f+2]=(65280&n[f])>>8,u[4*f+1]=(16711680&n[f])>>16,u[4*f]=(4278190080&n[f])>>24;return u},t}(),o6=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,s,n,A;for(r in n=this.font.cmap.tables[0].codeMap,t={},A=this.subset)s=A[r],t[r]=n[s];return t},e.prototype.glyphsFor=function(t){var r,s,n,A,i,o,l;for(n={},i=0,o=t.length;i<o;i++)n[A=t[i]]=this.font.glyf.glyphFor(A);for(A in r=[],n)(s=n[A])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(A in l=this.glyphsFor(r))s=l[A],n[A]=s;return n},e.prototype.encode=function(t,r){var s,n,A,i,o,l,c,u,f,p,h,B,x,N,m;for(n in s=B5.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),h={0:0},m=s.charMap)h[(l=m[n]).old]=l.new;for(B in p=s.maxGlyphID,i)B in h||(h[B]=p++);return u=function(y){var v,E;for(v in E={},y)E[y[v]]=v;return E}(h),f=Object.keys(u).sort(function(y,v){return y-v}),x=function(){var y,v,E;for(E=[],y=0,v=f.length;y<v;y++)o=f[y],E.push(u[o]);return E}(),A=this.font.glyf.encode(i,x,h),c=this.font.loca.encode(A.offsets,x),N={cmap:this.font.cmap.raw(),glyf:A.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();Ze.API.PDFObject=function(){var e;function t(){}return e=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},t.convert=function(r){var s,n,A,i;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)s=r[o],c.push(t.convert(s));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in A=["<<"],r)i=r[n],A.push("/"+n+" "+t.convert(i));return A.push(">>"),A.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ip=function(e,t){return ip=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},ip(e,t)};function Hs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ip(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var op=function(){return op=Object.assign||function(t){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(t[A]=r[A])}return t},op.apply(this,arguments)};function da(e,t,r,s){function n(A){return A instanceof r?A:new r(function(i){i(A)})}return new(r||(r=Promise))(function(A,i){function o(u){try{c(s.next(u))}catch(f){i(f)}}function l(u){try{c(s.throw(u))}catch(f){i(f)}}function c(u){u.done?A(u.value):n(u.value).then(o,l)}c((s=s.apply(e,t||[])).next())})}function ea(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},s,n,A,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;r;)try{if(s=1,n&&(A=c[0]&2?n.return:c[0]?n.throw||((A=n.return)&&A.call(n),0):n.next)&&!(A=A.call(n,c[1])).done)return A;switch(n=0,A&&(c=[c[0]&2,A.value]),c[0]){case 0:case 1:A=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!A||c[1]>A[0]&&c[1]<A[3])){r.label=c[1];break}if(c[0]===6&&r.label<A[1]){r.label=A[1],A=c;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(c);break}A[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],n=0}finally{s=A=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Iu(e,t,r){if(r||arguments.length===2)for(var s=0,n=t.length,A;s<n;s++)(A||!(s in t))&&(A||(A=Array.prototype.slice.call(t,0,s)),A[s]=t[s]);return e.concat(A||t)}var On=function(){function e(t,r,s,n){this.left=t,this.top=r,this.width=s,this.height=n}return e.prototype.add=function(t,r,s,n){return new e(this.left+t,this.top+r,this.width+s,this.height+n)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var s=Array.from(r).find(function(n){return n.width!==0});return s?new e(s.left+t.windowBounds.left,s.top+t.windowBounds.top,s.width,s.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Oh=function(e,t){return On.fromClientRect(e,t.getBoundingClientRect())},l6=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var s=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),n=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new On(0,0,s,n)},_h=function(e){for(var t=[],r=0,s=e.length;r<s;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<s){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((n&1023)<<10)+(A&1023)+65536):(t.push(n),r--)}else t.push(n)}return t},lr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var s=[],n=-1,A="";++n<r;){var i=e[n];i<=65535?s.push(i):(i-=65536,s.push((i>>10)+55296,i%1024+56320)),(n+1===r||s.length>16384)&&(A+=String.fromCharCode.apply(String,s),s.length=0)}return A},g2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Pu=0;Pu<g2.length;Pu++)c6[g2.charCodeAt(Pu)]=Pu;var m2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Du=0;Du<m2.length;Du++)xc[m2.charCodeAt(Du)]=Du;var d6=function(e){var t=e.length*.75,r=e.length,s,n=0,A,i,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(s=0;s<r;s+=4)A=xc[e.charCodeAt(s)],i=xc[e.charCodeAt(s+1)],o=xc[e.charCodeAt(s+2)],l=xc[e.charCodeAt(s+3)],u[n++]=A<<2|i>>4,u[n++]=(i&15)<<4|o>>2,u[n++]=(o&3)<<6|l&63;return c},u6=function(e){for(var t=e.length,r=[],s=0;s<t;s+=2)r.push(e[s+1]<<8|e[s]);return r},h6=function(e){for(var t=e.length,r=[],s=0;s<t;s+=4)r.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return r},ki=5,Tx=6+5,Eg=2,f6=Tx-ki,k5=65536>>ki,g6=1<<ki,Qg=g6-1,m6=1024>>ki,p6=k5+m6,x6=p6,y6=32,w6=x6+y6,v6=65536>>Tx,b6=1<<f6,B6=b6-1,p2=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},N6=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},k6=function(e,t){var r=d6(e),s=Array.isArray(r)?h6(r):new Uint32Array(r),n=Array.isArray(r)?u6(r):new Uint16Array(r),A=24,i=p2(n,A/2,s[4]/2),o=s[5]===2?p2(n,(A+s[4])/2):N6(s,Math.ceil((A+s[4])/4));return new j6(s[0],s[1],s[2],s[3],i,o)},j6=function(){function e(t,r,s,n,A,i){this.initialValue=t,this.errorValue=r,this.highStart=s,this.highValueIndex=n,this.index=A,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>ki],r=(r<<Eg)+(t&Qg),this.data[r];if(t<=65535)return r=this.index[k5+(t-55296>>ki)],r=(r<<Eg)+(t&Qg),this.data[r];if(t<this.highStart)return r=w6-v6+(t>>Tx),r=this.index[r],r+=t>>ki&B6,r=this.index[r],r=(r<<Eg)+(t&Qg),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),x2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Tu=0;Tu<x2.length;Tu++)C6[x2.charCodeAt(Tu)]=Tu;var S6="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",y2=50,F6=1,j5=2,C5=3,E6=4,Q6=5,w2=7,S5=8,v2=9,wA=10,lp=11,b2=12,cp=13,U6=14,yc=15,dp=16,Ru=17,lc=18,L6=19,B2=20,up=21,cc=22,Ug=23,wo=24,Da=25,wc=26,vc=27,vo=28,I6=29,fi=30,P6=31,Hu=32,Mu=33,hp=34,fp=35,gp=36,od=37,mp=38,y0=39,w0=40,Lg=41,F5=42,D6=43,T6=[9001,65288],E5="!",mt="×",Ou="÷",pp=k6(S6),Sn=[fi,gp],xp=[F6,j5,C5,Q6],Q5=[wA,S5],N2=[vc,wc],R6=xp.concat(Q5),k2=[mp,y0,w0,hp,fp],H6=[yc,cp],M6=function(e,t){t===void 0&&(t="strict");var r=[],s=[],n=[];return e.forEach(function(A,i){var o=pp.get(A);if(o>y2?(n.push(!0),o-=y2):n.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(A)!==-1)return s.push(i),r.push(dp);if(o===E6||o===lp){if(i===0)return s.push(i),r.push(fi);var l=r[i-1];return R6.indexOf(l)===-1?(s.push(s[i-1]),r.push(l)):(s.push(i),r.push(fi))}if(s.push(i),o===P6)return r.push(t==="strict"?up:od);if(o===F5||o===I6)return r.push(fi);if(o===D6)return A>=131072&&A<=196605||A>=196608&&A<=262141?r.push(od):r.push(fi);r.push(o)}),[s,r,n]},Ig=function(e,t,r,s){var n=s[r];if(Array.isArray(e)?e.indexOf(n)!==-1:e===n)for(var A=r;A<=s.length;){A++;var i=s[A];if(i===t)return!0;if(i!==wA)break}if(n===wA)for(var A=r;A>0;){A--;var o=s[A];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var l=r;l<=s.length;){l++;var i=s[l];if(i===t)return!0;if(i!==wA)break}if(o!==wA)break}return!1},j2=function(e,t){for(var r=e;r>=0;){var s=t[r];if(s===wA)r--;else return s}return 0},O6=function(e,t,r,s,n){if(r[s]===0)return mt;var A=s-1;if(Array.isArray(n)&&n[A]===!0)return mt;var i=A-1,o=A+1,l=t[A],c=i>=0?t[i]:0,u=t[o];if(l===j5&&u===C5)return mt;if(xp.indexOf(l)!==-1)return E5;if(xp.indexOf(u)!==-1||Q5.indexOf(u)!==-1)return mt;if(j2(A,t)===S5)return Ou;if(pp.get(e[A])===lp||(l===Hu||l===Mu)&&pp.get(e[o])===lp||l===w2||u===w2||l===v2||[wA,cp,yc].indexOf(l)===-1&&u===v2||[Ru,lc,L6,wo,vo].indexOf(u)!==-1||j2(A,t)===cc||Ig(Ug,cc,A,t)||Ig([Ru,lc],up,A,t)||Ig(b2,b2,A,t))return mt;if(l===wA)return Ou;if(l===Ug||u===Ug)return mt;if(u===dp||l===dp)return Ou;if([cp,yc,up].indexOf(u)!==-1||l===U6||c===gp&&H6.indexOf(l)!==-1||l===vo&&u===gp||u===B2||Sn.indexOf(u)!==-1&&l===Da||Sn.indexOf(l)!==-1&&u===Da||l===vc&&[od,Hu,Mu].indexOf(u)!==-1||[od,Hu,Mu].indexOf(l)!==-1&&u===wc||Sn.indexOf(l)!==-1&&N2.indexOf(u)!==-1||N2.indexOf(l)!==-1&&Sn.indexOf(u)!==-1||[vc,wc].indexOf(l)!==-1&&(u===Da||[cc,yc].indexOf(u)!==-1&&t[o+1]===Da)||[cc,yc].indexOf(l)!==-1&&u===Da||l===Da&&[Da,vo,wo].indexOf(u)!==-1)return mt;if([Da,vo,wo,Ru,lc].indexOf(u)!==-1)for(var f=A;f>=0;){var p=t[f];if(p===Da)return mt;if([vo,wo].indexOf(p)!==-1)f--;else break}if([vc,wc].indexOf(u)!==-1)for(var f=[Ru,lc].indexOf(l)!==-1?i:A;f>=0;){var p=t[f];if(p===Da)return mt;if([vo,wo].indexOf(p)!==-1)f--;else break}if(mp===l&&[mp,y0,hp,fp].indexOf(u)!==-1||[y0,hp].indexOf(l)!==-1&&[y0,w0].indexOf(u)!==-1||[w0,fp].indexOf(l)!==-1&&u===w0||k2.indexOf(l)!==-1&&[B2,wc].indexOf(u)!==-1||k2.indexOf(u)!==-1&&l===vc||Sn.indexOf(l)!==-1&&Sn.indexOf(u)!==-1||l===wo&&Sn.indexOf(u)!==-1||Sn.concat(Da).indexOf(l)!==-1&&u===cc&&T6.indexOf(e[o])===-1||Sn.concat(Da).indexOf(u)!==-1&&l===lc)return mt;if(l===Lg&&u===Lg){for(var h=r[A],B=1;h>0&&(h--,t[h]===Lg);)B++;if(B%2!==0)return mt}return l===Hu&&u===Mu?mt:Ou},_6=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=M6(e,t.lineBreak),s=r[0],n=r[1],A=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(n=n.map(function(o){return[Da,fi,F5].indexOf(o)!==-1?od:o}));var i=t.wordBreak==="keep-all"?A.map(function(o,l){return o&&e[l]>=19968&&e[l]<=40959}):void 0;return[s,n,i]},K6=function(){function e(t,r,s,n){this.codePoints=t,this.required=r===E5,this.start=s,this.end=n}return e.prototype.slice=function(){return lr.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),q6=function(e,t){var r=_h(e),s=_6(r,t),n=s[0],A=s[1],i=s[2],o=r.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var u=mt;c<o&&(u=O6(r,A,n,++c,i))===mt;);if(u!==mt||c===o){var f=new K6(r,u,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},z6=1,V6=2,pd=4,C2=8,Ah=10,S2=47,Dc=92,G6=9,W6=32,_u=34,dc=61,J6=35,$6=36,X6=37,Ku=39,qu=40,uc=41,Y6=95,Ba=45,Z6=33,eS=60,tS=62,rS=64,aS=91,sS=93,nS=61,AS=123,zu=63,iS=125,F2=124,oS=126,lS=128,E2=65533,Pg=42,yi=43,cS=44,dS=58,uS=59,ld=46,hS=0,fS=8,gS=11,mS=14,pS=31,xS=127,Ys=-1,U5=48,L5=97,I5=101,yS=102,wS=117,vS=122,P5=65,D5=69,T5=70,bS=85,BS=90,ta=function(e){return e>=U5&&e<=57},NS=function(e){return e>=55296&&e<=57343},bo=function(e){return ta(e)||e>=P5&&e<=T5||e>=L5&&e<=yS},kS=function(e){return e>=L5&&e<=vS},jS=function(e){return e>=P5&&e<=BS},CS=function(e){return kS(e)||jS(e)},SS=function(e){return e>=lS},Vu=function(e){return e===Ah||e===G6||e===W6},ih=function(e){return CS(e)||SS(e)||e===Y6},Q2=function(e){return ih(e)||ta(e)||e===Ba},FS=function(e){return e>=hS&&e<=fS||e===gS||e>=mS&&e<=pS||e===xS},hA=function(e,t){return e!==Dc?!1:t!==Ah},Gu=function(e,t,r){return e===Ba?ih(t)||hA(t,r):ih(e)?!0:!!(e===Dc&&hA(e,t))},Dg=function(e,t,r){return e===yi||e===Ba?ta(t)?!0:t===ld&&ta(r):ta(e===ld?t:e)},ES=function(e){var t=0,r=1;(e[t]===yi||e[t]===Ba)&&(e[t]===Ba&&(r=-1),t++);for(var s=[];ta(e[t]);)s.push(e[t++]);var n=s.length?parseInt(lr.apply(void 0,s),10):0;e[t]===ld&&t++;for(var A=[];ta(e[t]);)A.push(e[t++]);var i=A.length,o=i?parseInt(lr.apply(void 0,A),10):0;(e[t]===D5||e[t]===I5)&&t++;var l=1;(e[t]===yi||e[t]===Ba)&&(e[t]===Ba&&(l=-1),t++);for(var c=[];ta(e[t]);)c.push(e[t++]);var u=c.length?parseInt(lr.apply(void 0,c),10):0;return r*(n+o*Math.pow(10,-i))*Math.pow(10,l*u)},QS={type:2},US={type:3},LS={type:4},IS={type:13},PS={type:8},DS={type:21},TS={type:9},RS={type:10},HS={type:11},MS={type:12},OS={type:14},Wu={type:23},_S={type:1},KS={type:25},qS={type:24},zS={type:26},VS={type:27},GS={type:28},WS={type:29},JS={type:31},yp={type:32},R5=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(_h(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==yp;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case _u:return this.consumeStringToken(_u);case J6:var r=this.peekCodePoint(0),s=this.peekCodePoint(1),n=this.peekCodePoint(2);if(Q2(r)||hA(s,n)){var A=Gu(r,s,n)?V6:z6,i=this.consumeName();return{type:5,value:i,flags:A}}break;case $6:if(this.peekCodePoint(0)===dc)return this.consumeCodePoint(),IS;break;case Ku:return this.consumeStringToken(Ku);case qu:return QS;case uc:return US;case Pg:if(this.peekCodePoint(0)===dc)return this.consumeCodePoint(),OS;break;case yi:if(Dg(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case cS:return LS;case Ba:var o=t,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Dg(o,l,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Gu(o,l,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Ba&&c===tS)return this.consumeCodePoint(),this.consumeCodePoint(),qS;break;case ld:if(Dg(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case S2:if(this.peekCodePoint(0)===Pg)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Pg&&(u=this.consumeCodePoint(),u===S2))return this.consumeToken();if(u===Ys)return this.consumeToken()}break;case dS:return zS;case uS:return VS;case eS:if(this.peekCodePoint(0)===Z6&&this.peekCodePoint(1)===Ba&&this.peekCodePoint(2)===Ba)return this.consumeCodePoint(),this.consumeCodePoint(),KS;break;case rS:var f=this.peekCodePoint(0),p=this.peekCodePoint(1),h=this.peekCodePoint(2);if(Gu(f,p,h)){var i=this.consumeName();return{type:7,value:i}}break;case aS:return GS;case Dc:if(hA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case sS:return WS;case nS:if(this.peekCodePoint(0)===dc)return this.consumeCodePoint(),PS;break;case AS:return HS;case iS:return MS;case wS:case bS:var B=this.peekCodePoint(0),x=this.peekCodePoint(1);return B===yi&&(bo(x)||x===zu)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case F2:if(this.peekCodePoint(0)===dc)return this.consumeCodePoint(),TS;if(this.peekCodePoint(0)===F2)return this.consumeCodePoint(),DS;break;case oS:if(this.peekCodePoint(0)===dc)return this.consumeCodePoint(),RS;break;case Ys:return yp}return Vu(t)?(this.consumeWhiteSpace(),JS):ta(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):ih(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:lr(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();bo(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var s=!1;r===zu&&t.length<6;)t.push(r),r=this.consumeCodePoint(),s=!0;if(s){var n=parseInt(lr.apply(void 0,t.map(function(l){return l===zu?U5:l})),16),A=parseInt(lr.apply(void 0,t.map(function(l){return l===zu?T5:l})),16);return{type:30,start:n,end:A}}var i=parseInt(lr.apply(void 0,t),16);if(this.peekCodePoint(0)===Ba&&bo(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];bo(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var A=parseInt(lr.apply(void 0,o),16);return{type:30,start:i,end:A}}else return{type:30,start:i,end:i}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===qu?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===qu?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ys)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Ku||r===_u){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ys||this.peekCodePoint(0)===uc)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),Wu)}for(;;){var n=this.consumeCodePoint();if(n===Ys||n===uc)return{type:22,value:lr.apply(void 0,t)};if(Vu(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ys||this.peekCodePoint(0)===uc?(this.consumeCodePoint(),{type:22,value:lr.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Wu);if(n===_u||n===Ku||n===qu||FS(n))return this.consumeBadUrlRemnants(),Wu;if(n===Dc)if(hA(n,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Wu;else t.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;Vu(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===uc||t===Ys)return;hA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,s="";t>0;){var n=Math.min(r,t);s+=lr.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),s},e.prototype.consumeStringToken=function(t){var r="",s=0;do{var n=this._value[s];if(n===Ys||n===void 0||n===t)return r+=this.consumeStringSlice(s),{type:0,value:r};if(n===Ah)return this._value.splice(0,s),_S;if(n===Dc){var A=this._value[s+1];A!==Ys&&A!==void 0&&(A===Ah?(r+=this.consumeStringSlice(s),s=-1,this._value.shift()):hA(n,A)&&(r+=this.consumeStringSlice(s),r+=lr(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=pd,s=this.peekCodePoint(0);for((s===yi||s===Ba)&&t.push(this.consumeCodePoint());ta(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(s===ld&&ta(n))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=C2;ta(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0),n=this.peekCodePoint(1);var A=this.peekCodePoint(2);if((s===D5||s===I5)&&((n===yi||n===Ba)&&ta(A)||ta(n)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=C2;ta(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[ES(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],s=t[1],n=this.peekCodePoint(0),A=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Gu(n,A,i)){var o=this.consumeName();return{type:15,number:r,flags:s,unit:o}}return n===X6?(this.consumeCodePoint(),{type:16,number:r,flags:s}):{type:17,number:r,flags:s}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(bo(t)){for(var r=lr(t);bo(this.peekCodePoint(0))&&r.length<6;)r+=lr(this.consumeCodePoint());Vu(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(r,16);return s===0||NS(s)||s>1114111?E2:s}return t===Ys?E2:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(Q2(r))t+=lr(r);else if(hA(r,this.peekCodePoint(0)))t+=lr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),H5=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new R5;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},s=this.consumeToken();;){if(s.type===32||XS(s,t))return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue()),s=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?yp:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),xd=function(e){return e.type===15},wl=function(e){return e.type===17},It=function(e){return e.type===20},$S=function(e){return e.type===0},wp=function(e,t){return It(e)&&e.value===t},M5=function(e){return e.type!==31},ul=function(e){return e.type!==31&&e.type!==4},fn=function(e){var t=[],r=[];return e.forEach(function(s){if(s.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}s.type!==31&&r.push(s)}),r.length&&t.push(r),t},XS=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},OA=function(e){return e.type===17||e.type===15},xr=function(e){return e.type===16||OA(e)},O5=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Or={type:17,number:0,flags:pd},Rx={type:16,number:50,flags:pd},vA={type:16,number:100,flags:pd},bc=function(e,t,r){var s=e[0],n=e[1];return[Mt(s,t),Mt(typeof n<"u"?n:s,r)]},Mt=function(e,t){if(e.type===16)return e.number/100*t;if(xd(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},_5="deg",K5="grad",q5="rad",z5="turn",Kh={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case _5:return Math.PI*t.number/180;case K5:return Math.PI/200*t.number;case q5:return t.number;case z5:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},V5=function(e){return e.type===15&&(e.unit===_5||e.unit===K5||e.unit===q5||e.unit===z5)},G5=function(e){var t=e.filter(It).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Or,Or];case"to top":case"bottom":return ss(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Or,vA];case"to right":case"left":return ss(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[vA,vA];case"to bottom":case"top":return ss(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[vA,Or];case"to left":case"right":return ss(270)}return 0},ss=function(e){return Math.PI*e/180},IA={name:"color",parse:function(e,t){if(t.type===18){var r=YS[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var s=t.value.substring(0,1),n=t.value.substring(1,2),A=t.value.substring(2,3);return bA(parseInt(s+s,16),parseInt(n+n,16),parseInt(A+A,16),1)}if(t.value.length===4){var s=t.value.substring(0,1),n=t.value.substring(1,2),A=t.value.substring(2,3),i=t.value.substring(3,4);return bA(parseInt(s+s,16),parseInt(n+n,16),parseInt(A+A,16),parseInt(i+i,16)/255)}if(t.value.length===6){var s=t.value.substring(0,2),n=t.value.substring(2,4),A=t.value.substring(4,6);return bA(parseInt(s,16),parseInt(n,16),parseInt(A,16),1)}if(t.value.length===8){var s=t.value.substring(0,2),n=t.value.substring(2,4),A=t.value.substring(4,6),i=t.value.substring(6,8);return bA(parseInt(s,16),parseInt(n,16),parseInt(A,16),parseInt(i,16)/255)}}if(t.type===20){var o=Pn[t.value.toUpperCase()];if(typeof o<"u")return o}return Pn.TRANSPARENT}},PA=function(e){return(255&e)===0},Qr=function(e){var t=255&e,r=255&e>>8,s=255&e>>16,n=255&e>>24;return t<255?"rgba("+n+","+s+","+r+","+t/255+")":"rgb("+n+","+s+","+r+")"},bA=function(e,t,r,s){return(e<<24|t<<16|r<<8|Math.round(s*255)<<0)>>>0},U2=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},L2=function(e,t){var r=t.filter(ul);if(r.length===3){var s=r.map(U2),n=s[0],A=s[1],i=s[2];return bA(n,A,i,1)}if(r.length===4){var o=r.map(U2),n=o[0],A=o[1],i=o[2],l=o[3];return bA(n,A,i,l)}return 0};function Tg(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var I2=function(e,t){var r=t.filter(ul),s=r[0],n=r[1],A=r[2],i=r[3],o=(s.type===17?ss(s.number):Kh.parse(e,s))/(Math.PI*2),l=xr(n)?n.number/100:0,c=xr(A)?A.number/100:0,u=typeof i<"u"&&xr(i)?Mt(i,1):1;if(l===0)return bA(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,p=c*2-f,h=Tg(p,f,o+1/3),B=Tg(p,f,o),x=Tg(p,f,o-1/3);return bA(h*255,B*255,x*255,u)},YS={hsl:I2,hsla:I2,rgb:L2,rgba:L2},Tc=function(e,t){return IA.parse(e,H5.create(t).parseComponentValue())},Pn={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ZS={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(It(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},eF={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qh=function(e,t){var r=IA.parse(e,t[0]),s=t[1];return s&&xr(s)?{color:r,stop:s}:{color:r,stop:null}},P2=function(e,t){var r=e[0],s=e[e.length-1];r.stop===null&&(r.stop=Or),s.stop===null&&(s.stop=vA);for(var n=[],A=0,i=0;i<e.length;i++){var o=e[i].stop;if(o!==null){var l=Mt(o,t);l>A?n.push(l):n.push(A),A=l}else n.push(null)}for(var c=null,i=0;i<n.length;i++){var u=n[i];if(u===null)c===null&&(c=i);else if(c!==null){for(var f=i-c,p=n[c-1],h=(u-p)/(f+1),B=1;B<=f;B++)n[c+B-1]=h*B;c=null}}return e.map(function(x,N){var m=x.color;return{color:m,stop:Math.max(Math.min(1,n[N]/t),0)}})},tF=function(e,t,r){var s=t/2,n=r/2,A=Mt(e[0],t)-s,i=n-Mt(e[1],r);return(Math.atan2(i,A)+Math.PI*2)%(Math.PI*2)},rF=function(e,t,r){var s=typeof e=="number"?e:tF(e,t,r),n=Math.abs(t*Math.sin(s))+Math.abs(r*Math.cos(s)),A=t/2,i=r/2,o=n/2,l=Math.sin(s-Math.PI/2)*o,c=Math.cos(s-Math.PI/2)*o;return[n,A-c,A+c,i-l,i+l]},ks=function(e,t){return Math.sqrt(e*e+t*t)},D2=function(e,t,r,s,n){var A=[[0,0],[0,t],[e,0],[e,t]];return A.reduce(function(i,o){var l=o[0],c=o[1],u=ks(r-l,s-c);return(n?u<i.optimumDistance:u>i.optimumDistance)?{optimumCorner:o,optimumDistance:u}:i},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},aF=function(e,t,r,s,n){var A=0,i=0;switch(e.size){case 0:e.shape===0?A=i=Math.min(Math.abs(t),Math.abs(t-s),Math.abs(r),Math.abs(r-n)):e.shape===1&&(A=Math.min(Math.abs(t),Math.abs(t-s)),i=Math.min(Math.abs(r),Math.abs(r-n)));break;case 2:if(e.shape===0)A=i=Math.min(ks(t,r),ks(t,r-n),ks(t-s,r),ks(t-s,r-n));else if(e.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-n))/Math.min(Math.abs(t),Math.abs(t-s)),l=D2(s,n,t,r,!0),c=l[0],u=l[1];A=ks(c-t,(u-r)/o),i=o*A}break;case 1:e.shape===0?A=i=Math.max(Math.abs(t),Math.abs(t-s),Math.abs(r),Math.abs(r-n)):e.shape===1&&(A=Math.max(Math.abs(t),Math.abs(t-s)),i=Math.max(Math.abs(r),Math.abs(r-n)));break;case 3:if(e.shape===0)A=i=Math.max(ks(t,r),ks(t,r-n),ks(t-s,r),ks(t-s,r-n));else if(e.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-n))/Math.max(Math.abs(t),Math.abs(t-s)),f=D2(s,n,t,r,!1),c=f[0],u=f[1];A=ks(c-t,(u-r)/o),i=o*A}break}return Array.isArray(e.size)&&(A=Mt(e.size[0],s),i=e.size.length===2?Mt(e.size[1],n):A),[A,i]},sF=function(e,t){var r=ss(180),s=[];return fn(t).forEach(function(n,A){if(A===0){var i=n[0];if(i.type===20&&i.value==="to"){r=G5(n);return}else if(V5(i)){r=Kh.parse(e,i);return}}var o=qh(e,n);s.push(o)}),{angle:r,stops:s,type:1}},Ju=function(e,t){var r=ss(180),s=[];return fn(t).forEach(function(n,A){if(A===0){var i=n[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){r=G5(n);return}else if(V5(i)){r=(Kh.parse(e,i)+ss(270))%ss(360);return}}var o=qh(e,n);s.push(o)}),{angle:r,stops:s,type:1}},nF=function(e,t){var r=ss(180),s=[],n=1,A=0,i=3,o=[];return fn(t).forEach(function(l,c){var u=l[0];if(c===0){if(It(u)&&u.value==="linear"){n=1;return}else if(It(u)&&u.value==="radial"){n=2;return}}if(u.type===18){if(u.name==="from"){var f=IA.parse(e,u.values[0]);s.push({stop:Or,color:f})}else if(u.name==="to"){var f=IA.parse(e,u.values[0]);s.push({stop:vA,color:f})}else if(u.name==="color-stop"){var p=u.values.filter(ul);if(p.length===2){var f=IA.parse(e,p[1]),h=p[0];wl(h)&&s.push({stop:{type:16,number:h.number*100,flags:h.flags},color:f})}}}}),n===1?{angle:(r+ss(180))%ss(360),stops:s,type:n}:{size:i,shape:A,stops:s,position:o,type:n}},W5="closest-side",J5="farthest-side",$5="closest-corner",X5="farthest-corner",Y5="circle",Z5="ellipse",eB="cover",tB="contain",AF=function(e,t){var r=0,s=3,n=[],A=[];return fn(t).forEach(function(i,o){var l=!0;if(o===0){var c=!1;l=i.reduce(function(f,p){if(c)if(It(p))switch(p.value){case"center":return A.push(Rx),f;case"top":case"left":return A.push(Or),f;case"right":case"bottom":return A.push(vA),f}else(xr(p)||OA(p))&&A.push(p);else if(It(p))switch(p.value){case Y5:return r=0,!1;case Z5:return r=1,!1;case"at":return c=!0,!1;case W5:return s=0,!1;case eB:case J5:return s=1,!1;case tB:case $5:return s=2,!1;case X5:return s=3,!1}else if(OA(p)||xr(p))return Array.isArray(s)||(s=[]),s.push(p),!1;return f},l)}if(l){var u=qh(e,i);n.push(u)}}),{size:s,shape:r,stops:n,position:A,type:2}},$u=function(e,t){var r=0,s=3,n=[],A=[];return fn(t).forEach(function(i,o){var l=!0;if(o===0?l=i.reduce(function(u,f){if(It(f))switch(f.value){case"center":return A.push(Rx),!1;case"top":case"left":return A.push(Or),!1;case"right":case"bottom":return A.push(vA),!1}else if(xr(f)||OA(f))return A.push(f),!1;return u},l):o===1&&(l=i.reduce(function(u,f){if(It(f))switch(f.value){case Y5:return r=0,!1;case Z5:return r=1,!1;case tB:case W5:return s=0,!1;case J5:return s=1,!1;case $5:return s=2,!1;case eB:case X5:return s=3,!1}else if(OA(f)||xr(f))return Array.isArray(s)||(s=[]),s.push(f),!1;return u},l)),l){var c=qh(e,i);n.push(c)}}),{size:s,shape:r,stops:n,position:A,type:2}},iF=function(e){return e.type===1},oF=function(e){return e.type===2},Hx={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var s=rB[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return s(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function lF(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!rB[e.name])}var rB={"linear-gradient":sF,"-moz-linear-gradient":Ju,"-ms-linear-gradient":Ju,"-o-linear-gradient":Ju,"-webkit-linear-gradient":Ju,"radial-gradient":AF,"-moz-radial-gradient":$u,"-ms-radial-gradient":$u,"-o-radial-gradient":$u,"-webkit-radial-gradient":$u,"-webkit-gradient":nF},cF={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(s){return ul(s)&&lF(s)}).map(function(s){return Hx.parse(e,s)})}},dF={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(It(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uF={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return fn(t).map(function(r){return r.filter(xr)}).map(O5)}},hF={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return fn(t).map(function(r){return r.filter(It).map(function(s){return s.value}).join(" ")}).map(fF)}},fF=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},rl;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(rl||(rl={}));var gF={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return fn(t).map(function(r){return r.filter(mF)})}},mF=function(e){return It(e)||xr(e)},zh=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},pF=zh("top"),xF=zh("right"),yF=zh("bottom"),wF=zh("left"),Vh=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return O5(r.filter(xr))}}},vF=Vh("top-left"),bF=Vh("top-right"),BF=Vh("bottom-right"),NF=Vh("bottom-left"),Gh=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},kF=Gh("top"),jF=Gh("right"),CF=Gh("bottom"),SF=Gh("left"),Wh=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return xd(r)?r.number:0}}},FF=Wh("top"),EF=Wh("right"),QF=Wh("bottom"),UF=Wh("left"),LF={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},IF={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},PF={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(It).reduce(function(r,s){return r|DF(s.value)},0)}},DF=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},TF={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},RF={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},oh;(function(e){e.NORMAL="normal",e.STRICT="strict"})(oh||(oh={}));var HF={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return oh.STRICT;case"normal":default:return oh.NORMAL}}},MF={name:"line-height",initialValue:"normal",prefix:!1,type:4},T2=function(e,t){return It(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:xr(e)?Mt(e,t):t},OF={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:Hx.parse(e,t)}},_F={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},vp={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Jh=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},KF=Jh("top"),qF=Jh("right"),zF=Jh("bottom"),VF=Jh("left"),GF={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(It).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},WF={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},$h=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},JF=$h("top"),$F=$h("right"),XF=$h("bottom"),YF=$h("left"),ZF={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},eE={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},tE={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&wp(t[0],"none")?[]:fn(t).map(function(r){for(var s={color:Pn.TRANSPARENT,offsetX:Or,offsetY:Or,blur:Or},n=0,A=0;A<r.length;A++){var i=r[A];OA(i)?(n===0?s.offsetX=i:n===1?s.offsetY=i:s.blur=i,n++):s.color=IA.parse(e,i)}return s})}},rE={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},aE={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=AE[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},sE=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},nE=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],s=t[1];t[2],t[3];var n=t[4],A=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],t.length===16?[r,s,n,A,i,o]:null},AE={matrix:sE,matrix3d:nE},R2={type:16,number:50,flags:pd},iE=[R2,R2],oE={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(xr);return r.length!==2?iE:[r[0],r[1]]}},lE={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Rc;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Rc||(Rc={}));var cE={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Rc.BREAK_ALL;case"keep-all":return Rc.KEEP_ALL;case"normal":default:return Rc.NORMAL}}},dE={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(wl(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},aB={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},uE={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return wl(t)?t.number:1}},hE={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fE={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(It).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},gE={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],s=[];return t.forEach(function(n){switch(n.type){case 20:case 0:r.push(n.value);break;case 17:r.push(n.number.toString());break;case 4:s.push(r.join(" ")),r.length=0;break}}),r.length&&s.push(r.join(" ")),s.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},mE={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},pE={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(wl(t))return t.number;if(It(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},xE={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(It).map(function(r){return r.value})}},yE={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},jr=function(e,t){return(e&t)!==0},wE={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},vE={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var s=[],n=t.filter(M5),A=0;A<n.length;A++){var i=n[A],o=n[A+1];if(i.type===20){var l=o&&wl(o)?o.number:1;s.push({counter:i.value,increment:l})}}return s}},bE={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],s=t.filter(M5),n=0;n<s.length;n++){var A=s[n],i=s[n+1];if(It(A)&&A.value!=="none"){var o=i&&wl(i)?i.number:0;r.push({counter:A.value,reset:o})}}return r}},BE={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(xd).map(function(r){return aB.parse(e,r)})}},NE={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var s=[],n=t.filter($S);if(n.length%2!==0)return null;for(var A=0;A<n.length;A+=2){var i=n[A].value,o=n[A+1].value;s.push({open:i,close:o})}return s}},H2=function(e,t,r){if(!e)return"";var s=e[Math.min(t,e.length-1)];return s?r?s.open:s.close:""},kE={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&wp(t[0],"none")?[]:fn(t).map(function(r){for(var s={color:255,offsetX:Or,offsetY:Or,blur:Or,spread:Or,inset:!1},n=0,A=0;A<r.length;A++){var i=r[A];wp(i,"inset")?s.inset=!0:OA(i)?(n===0?s.offsetX=i:n===1?s.offsetY=i:n===2?s.blur=i:s.spread=i,n++):s.color=IA.parse(e,i)}return s})}},jE={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],s=[];return t.filter(It).forEach(function(n){switch(n.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),r.forEach(function(n){s.indexOf(n)===-1&&s.push(n)}),s}},CE={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},SE={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return xd(t)?t.number:0}},FE=function(){function e(t,r){var s,n;this.animationDuration=Ke(t,BE,r.animationDuration),this.backgroundClip=Ke(t,ZS,r.backgroundClip),this.backgroundColor=Ke(t,eF,r.backgroundColor),this.backgroundImage=Ke(t,cF,r.backgroundImage),this.backgroundOrigin=Ke(t,dF,r.backgroundOrigin),this.backgroundPosition=Ke(t,uF,r.backgroundPosition),this.backgroundRepeat=Ke(t,hF,r.backgroundRepeat),this.backgroundSize=Ke(t,gF,r.backgroundSize),this.borderTopColor=Ke(t,pF,r.borderTopColor),this.borderRightColor=Ke(t,xF,r.borderRightColor),this.borderBottomColor=Ke(t,yF,r.borderBottomColor),this.borderLeftColor=Ke(t,wF,r.borderLeftColor),this.borderTopLeftRadius=Ke(t,vF,r.borderTopLeftRadius),this.borderTopRightRadius=Ke(t,bF,r.borderTopRightRadius),this.borderBottomRightRadius=Ke(t,BF,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ke(t,NF,r.borderBottomLeftRadius),this.borderTopStyle=Ke(t,kF,r.borderTopStyle),this.borderRightStyle=Ke(t,jF,r.borderRightStyle),this.borderBottomStyle=Ke(t,CF,r.borderBottomStyle),this.borderLeftStyle=Ke(t,SF,r.borderLeftStyle),this.borderTopWidth=Ke(t,FF,r.borderTopWidth),this.borderRightWidth=Ke(t,EF,r.borderRightWidth),this.borderBottomWidth=Ke(t,QF,r.borderBottomWidth),this.borderLeftWidth=Ke(t,UF,r.borderLeftWidth),this.boxShadow=Ke(t,kE,r.boxShadow),this.color=Ke(t,LF,r.color),this.direction=Ke(t,IF,r.direction),this.display=Ke(t,PF,r.display),this.float=Ke(t,TF,r.cssFloat),this.fontFamily=Ke(t,gE,r.fontFamily),this.fontSize=Ke(t,mE,r.fontSize),this.fontStyle=Ke(t,yE,r.fontStyle),this.fontVariant=Ke(t,xE,r.fontVariant),this.fontWeight=Ke(t,pE,r.fontWeight),this.letterSpacing=Ke(t,RF,r.letterSpacing),this.lineBreak=Ke(t,HF,r.lineBreak),this.lineHeight=Ke(t,MF,r.lineHeight),this.listStyleImage=Ke(t,OF,r.listStyleImage),this.listStylePosition=Ke(t,_F,r.listStylePosition),this.listStyleType=Ke(t,vp,r.listStyleType),this.marginTop=Ke(t,KF,r.marginTop),this.marginRight=Ke(t,qF,r.marginRight),this.marginBottom=Ke(t,zF,r.marginBottom),this.marginLeft=Ke(t,VF,r.marginLeft),this.opacity=Ke(t,uE,r.opacity);var A=Ke(t,GF,r.overflow);this.overflowX=A[0],this.overflowY=A[A.length>1?1:0],this.overflowWrap=Ke(t,WF,r.overflowWrap),this.paddingTop=Ke(t,JF,r.paddingTop),this.paddingRight=Ke(t,$F,r.paddingRight),this.paddingBottom=Ke(t,XF,r.paddingBottom),this.paddingLeft=Ke(t,YF,r.paddingLeft),this.paintOrder=Ke(t,jE,r.paintOrder),this.position=Ke(t,eE,r.position),this.textAlign=Ke(t,ZF,r.textAlign),this.textDecorationColor=Ke(t,hE,(s=r.textDecorationColor)!==null&&s!==void 0?s:r.color),this.textDecorationLine=Ke(t,fE,(n=r.textDecorationLine)!==null&&n!==void 0?n:r.textDecoration),this.textShadow=Ke(t,tE,r.textShadow),this.textTransform=Ke(t,rE,r.textTransform),this.transform=Ke(t,aE,r.transform),this.transformOrigin=Ke(t,oE,r.transformOrigin),this.visibility=Ke(t,lE,r.visibility),this.webkitTextStrokeColor=Ke(t,CE,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ke(t,SE,r.webkitTextStrokeWidth),this.wordBreak=Ke(t,cE,r.wordBreak),this.zIndex=Ke(t,dE,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return PA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return jr(this.display,4)||jr(this.display,33554432)||jr(this.display,268435456)||jr(this.display,536870912)||jr(this.display,67108864)||jr(this.display,134217728)},e}(),EE=function(){function e(t,r){this.content=Ke(t,wE,r.content),this.quotes=Ke(t,NE,r.quotes)}return e}(),M2=function(){function e(t,r){this.counterIncrement=Ke(t,vE,r.counterIncrement),this.counterReset=Ke(t,bE,r.counterReset)}return e}(),Ke=function(e,t,r){var s=new R5,n=r!==null&&typeof r<"u"?r.toString():t.initialValue;s.write(n);var A=new H5(s.read());switch(t.type){case 2:var i=A.parseComponentValue();return t.parse(e,It(i)?i.value:t.initialValue);case 0:return t.parse(e,A.parseComponentValue());case 1:return t.parse(e,A.parseComponentValues());case 4:return A.parseComponentValue();case 3:switch(t.format){case"angle":return Kh.parse(e,A.parseComponentValue());case"color":return IA.parse(e,A.parseComponentValue());case"image":return Hx.parse(e,A.parseComponentValue());case"length":var o=A.parseComponentValue();return OA(o)?o:Or;case"length-percentage":var l=A.parseComponentValue();return xr(l)?l:Or;case"time":return aB.parse(e,A.parseComponentValue())}break}},QE="data-html2canvas-debug",UE=function(e){var t=e.getAttribute(QE);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},bp=function(e,t){var r=UE(e);return r===1||t===r},gn=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,bp(r,3))debugger;this.styles=new FE(t,window.getComputedStyle(r,null)),kp(r)&&(this.styles.animationDuration.some(function(s){return s>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Oh(this.context,r),bp(r,4)&&(this.flags|=16)}return e}(),LE="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",O2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xu=0;Xu<O2.length;Xu++)Bc[O2.charCodeAt(Xu)]=Xu;var IE=function(e){var t=e.length*.75,r=e.length,s,n=0,A,i,o,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(s=0;s<r;s+=4)A=Bc[e.charCodeAt(s)],i=Bc[e.charCodeAt(s+1)],o=Bc[e.charCodeAt(s+2)],l=Bc[e.charCodeAt(s+3)],u[n++]=A<<2|i>>4,u[n++]=(i&15)<<4|o>>2,u[n++]=(o&3)<<6|l&63;return c},PE=function(e){for(var t=e.length,r=[],s=0;s<t;s+=2)r.push(e[s+1]<<8|e[s]);return r},DE=function(e){for(var t=e.length,r=[],s=0;s<t;s+=4)r.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return r},ji=5,Mx=6+5,Rg=2,TE=Mx-ji,sB=65536>>ji,RE=1<<ji,Hg=RE-1,HE=1024>>ji,ME=sB+HE,OE=ME,_E=32,KE=OE+_E,qE=65536>>Mx,zE=1<<TE,VE=zE-1,_2=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},GE=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},WE=function(e,t){var r=IE(e),s=Array.isArray(r)?DE(r):new Uint32Array(r),n=Array.isArray(r)?PE(r):new Uint16Array(r),A=24,i=_2(n,A/2,s[4]/2),o=s[5]===2?_2(n,(A+s[4])/2):GE(s,Math.ceil((A+s[4])/4));return new JE(s[0],s[1],s[2],s[3],i,o)},JE=function(){function e(t,r,s,n,A,i){this.initialValue=t,this.errorValue=r,this.highStart=s,this.highValueIndex=n,this.index=A,this.data=i}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>ji],r=(r<<Rg)+(t&Hg),this.data[r];if(t<=65535)return r=this.index[sB+(t-55296>>ji)],r=(r<<Rg)+(t&Hg),this.data[r];if(t<this.highStart)return r=KE-qE+(t>>Mx),r=this.index[r],r+=t>>ji&VE,r=this.index[r],r=(r<<Rg)+(t&Hg),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),K2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$E=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yu=0;Yu<K2.length;Yu++)$E[K2.charCodeAt(Yu)]=Yu;var XE=1,Mg=2,Og=3,q2=4,z2=5,YE=7,V2=8,_g=9,Kg=10,G2=11,W2=12,J2=13,$2=14,qg=15,ZE=function(e){for(var t=[],r=0,s=e.length;r<s;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<s){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((n&1023)<<10)+(A&1023)+65536):(t.push(n),r--)}else t.push(n)}return t},eQ=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var s=[],n=-1,A="";++n<r;){var i=e[n];i<=65535?s.push(i):(i-=65536,s.push((i>>10)+55296,i%1024+56320)),(n+1===r||s.length>16384)&&(A+=String.fromCharCode.apply(String,s),s.length=0)}return A},tQ=WE(LE),Za="×",zg="÷",rQ=function(e){return tQ.get(e)},aQ=function(e,t,r){var s=r-2,n=t[s],A=t[r-1],i=t[r];if(A===Mg&&i===Og)return Za;if(A===Mg||A===Og||A===q2||i===Mg||i===Og||i===q2)return zg;if(A===V2&&[V2,_g,G2,W2].indexOf(i)!==-1||(A===G2||A===_g)&&(i===_g||i===Kg)||(A===W2||A===Kg)&&i===Kg||i===J2||i===z2||i===YE||A===XE)return Za;if(A===J2&&i===$2){for(;n===z2;)n=t[--s];if(n===$2)return Za}if(A===qg&&i===qg){for(var o=0;n===qg;)o++,n=t[--s];if(o%2===0)return Za}return zg},sQ=function(e){var t=ZE(e),r=t.length,s=0,n=0,A=t.map(rQ);return{next:function(){if(s>=r)return{done:!0,value:null};for(var i=Za;s<r&&(i=aQ(t,A,++s))===Za;);if(i!==Za||s===r){var o=eQ.apply(null,t.slice(n,s));return n=s,{value:o,done:!1}}return{done:!0,value:null}}}},nQ=function(e){for(var t=sQ(e),r=[],s;!(s=t.next()).done;)s.value&&r.push(s.value.slice());return r},AQ=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var s=e.createElement("boundtest");s.style.height=t+"px",s.style.display="block",e.body.appendChild(s),r.selectNode(s);var n=r.getBoundingClientRect(),A=Math.round(n.height);if(e.body.removeChild(s),A===t)return!0}}return!1},iQ=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=t.firstChild,n=_h(s.data).map(function(l){return lr(l)}),A=0,i={},o=n.every(function(l,c){r.setStart(s,A),r.setEnd(s,A+l.length);var u=r.getBoundingClientRect();A+=l.length;var f=u.x>i.x||u.y>i.y;return i=u,c===0?!0:f});return e.body.removeChild(t),o},oQ=function(){return typeof new Image().crossOrigin<"u"},lQ=function(){return typeof new XMLHttpRequest().responseType=="string"},cQ=function(e){var t=new Image,r=e.createElement("canvas"),s=r.getContext("2d");if(!s)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},X2=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},dQ=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var s=t.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,r,r);var n=new Image,A=t.toDataURL();n.src=A;var i=Bp(r,r,0,0,n);return s.fillStyle="red",s.fillRect(0,0,r,r),Y2(i).then(function(o){s.drawImage(o,0,0);var l=s.getImageData(0,0,r,r).data;s.fillStyle="red",s.fillRect(0,0,r,r);var c=e.createElement("div");return c.style.backgroundImage="url("+A+")",c.style.height=r+"px",X2(l)?Y2(Bp(r,r,0,0,c)):Promise.reject(!1)}).then(function(o){return s.drawImage(o,0,0),X2(s.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Bp=function(e,t,r,s,n){var A="http://www.w3.org/2000/svg",i=document.createElementNS(A,"svg"),o=document.createElementNS(A,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",s.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(n),i},Y2=function(e){return new Promise(function(t,r){var s=new Image;s.onload=function(){return t(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Mr={get SUPPORT_RANGE_BOUNDS(){var e=AQ(document);return Object.defineProperty(Mr,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Mr.SUPPORT_RANGE_BOUNDS&&iQ(document);return Object.defineProperty(Mr,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=cQ(document);return Object.defineProperty(Mr,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?dQ(document):Promise.resolve(!1);return Object.defineProperty(Mr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=oQ();return Object.defineProperty(Mr,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=lQ();return Object.defineProperty(Mr,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Mr,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Mr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Hc=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),uQ=function(e,t,r,s){var n=gQ(t,r),A=[],i=0;return n.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Mr.SUPPORT_RANGE_BOUNDS){var l=Z2(s,i,o.length).getClientRects();if(l.length>1){var c=Ox(o),u=0;c.forEach(function(p){A.push(new Hc(p,On.fromDOMRectList(e,Z2(s,u+i,p.length).getClientRects()))),u+=p.length})}else A.push(new Hc(o,On.fromDOMRectList(e,l)))}else{var f=s.splitText(o.length);A.push(new Hc(o,hQ(e,s))),s=f}else Mr.SUPPORT_RANGE_BOUNDS||(s=s.splitText(o.length));i+=o.length}),A},hQ=function(e,t){var r=t.ownerDocument;if(r){var s=r.createElement("html2canvaswrapper");s.appendChild(t.cloneNode(!0));var n=t.parentNode;if(n){n.replaceChild(s,t);var A=Oh(e,s);return s.firstChild&&n.replaceChild(s.firstChild,s),A}}return On.EMPTY},Z2=function(e,t,r){var s=e.ownerDocument;if(!s)throw new Error("Node has no owner document");var n=s.createRange();return n.setStart(e,t),n.setEnd(e,t+r),n},Ox=function(e){if(Mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return nQ(e)},fQ=function(e,t){if(Mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(s){return s.segment})}return pQ(e,t)},gQ=function(e,t){return t.letterSpacing!==0?Ox(e):fQ(e,t)},mQ=[32,160,4961,65792,65793,4153,4241],pQ=function(e,t){for(var r=q6(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),s=[],n,A=function(){if(n.value){var i=n.value.slice(),o=_h(i),l="";o.forEach(function(c){mQ.indexOf(c)===-1?l+=lr(c):(l.length&&s.push(l),s.push(lr(c)),l="")}),l.length&&s.push(l)}};!(n=r.next()).done;)A();return s},xQ=function(){function e(t,r,s){this.text=yQ(r.data,s.textTransform),this.textBounds=uQ(t,this.text,s,r)}return e}(),yQ=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(wQ,vQ);case 2:return e.toUpperCase();default:return e}},wQ=/(^|\s|:|-|\(|\))([a-z])/g,vQ=function(e,t,r){return e.length>0?t+r.toUpperCase():e},nB=function(e){Hs(t,e);function t(r,s){var n=e.call(this,r,s)||this;return n.src=s.currentSrc||s.src,n.intrinsicWidth=s.naturalWidth,n.intrinsicHeight=s.naturalHeight,n.context.cache.addImage(n.src),n}return t}(gn),AB=function(e){Hs(t,e);function t(r,s){var n=e.call(this,r,s)||this;return n.canvas=s,n.intrinsicWidth=s.width,n.intrinsicHeight=s.height,n}return t}(gn),iB=function(e){Hs(t,e);function t(r,s){var n=e.call(this,r,s)||this,A=new XMLSerializer,i=Oh(r,s);return s.setAttribute("width",i.width+"px"),s.setAttribute("height",i.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(A.serializeToString(s)),n.intrinsicWidth=s.width.baseVal.value,n.intrinsicHeight=s.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t}(gn),oB=function(e){Hs(t,e);function t(r,s){var n=e.call(this,r,s)||this;return n.value=s.value,n}return t}(gn),Np=function(e){Hs(t,e);function t(r,s){var n=e.call(this,r,s)||this;return n.start=s.start,n.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,n}return t}(gn),bQ=[{type:15,flags:0,unit:"px",number:3}],BQ=[{type:16,flags:0,number:50}],NQ=function(e){return e.width>e.height?new On(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new On(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},kQ=function(e){var t=e.type===jQ?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},lh="checkbox",ch="radio",jQ="password",ew=707406591,_x=function(e){Hs(t,e);function t(r,s){var n=e.call(this,r,s)||this;switch(n.type=s.type.toLowerCase(),n.checked=s.checked,n.value=kQ(s),(n.type===lh||n.type===ch)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=NQ(n.bounds)),n.type){case lh:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=bQ;break;case ch:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=BQ;break}return n}return t}(gn),lB=function(e){Hs(t,e);function t(r,s){var n=e.call(this,r,s)||this,A=s.options[s.selectedIndex||0];return n.value=A&&A.text||"",n}return t}(gn),cB=function(e){Hs(t,e);function t(r,s){var n=e.call(this,r,s)||this;return n.value=s.value,n}return t}(gn),dB=function(e){Hs(t,e);function t(r,s){var n=e.call(this,r,s)||this;n.src=s.src,n.width=parseInt(s.width,10)||0,n.height=parseInt(s.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){n.tree=hB(r,s.contentWindow.document.documentElement);var A=s.contentWindow.document.documentElement?Tc(r,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):Pn.TRANSPARENT,i=s.contentWindow.document.body?Tc(r,getComputedStyle(s.contentWindow.document.body).backgroundColor):Pn.TRANSPARENT;n.backgroundColor=PA(A)?PA(i)?n.styles.backgroundColor:i:A}}catch{}return n}return t}(gn),CQ=["OL","UL","MENU"],v0=function(e,t,r,s){for(var n=t.firstChild,A=void 0;n;n=A)if(A=n.nextSibling,fB(n)&&n.data.trim().length>0)r.textNodes.push(new xQ(e,n,r.styles));else if(qo(n))if(xB(n)&&n.assignedNodes)n.assignedNodes().forEach(function(o){return v0(e,o,r,s)});else{var i=uB(e,n);i.styles.isVisible()&&(SQ(n,i,s)?i.flags|=4:FQ(i.styles)&&(i.flags|=2),CQ.indexOf(n.tagName)!==-1&&(i.flags|=8),r.elements.push(i),n.slot,n.shadowRoot?v0(e,n.shadowRoot,i,s):!dh(n)&&!gB(n)&&!uh(n)&&v0(e,n,i,s))}},uB=function(e,t){return jp(t)?new nB(e,t):mB(t)?new AB(e,t):gB(t)?new iB(e,t):EQ(t)?new oB(e,t):QQ(t)?new Np(e,t):UQ(t)?new _x(e,t):uh(t)?new lB(e,t):dh(t)?new cB(e,t):pB(t)?new dB(e,t):new gn(e,t)},hB=function(e,t){var r=uB(e,t);return r.flags|=4,v0(e,t,r,r),r},SQ=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Kx(e)&&r.styles.isTransparent()},FQ=function(e){return e.isPositioned()||e.isFloating()},fB=function(e){return e.nodeType===Node.TEXT_NODE},qo=function(e){return e.nodeType===Node.ELEMENT_NODE},kp=function(e){return qo(e)&&typeof e.style<"u"&&!b0(e)},b0=function(e){return typeof e.className=="object"},EQ=function(e){return e.tagName==="LI"},QQ=function(e){return e.tagName==="OL"},UQ=function(e){return e.tagName==="INPUT"},LQ=function(e){return e.tagName==="HTML"},gB=function(e){return e.tagName==="svg"},Kx=function(e){return e.tagName==="BODY"},mB=function(e){return e.tagName==="CANVAS"},tw=function(e){return e.tagName==="VIDEO"},jp=function(e){return e.tagName==="IMG"},pB=function(e){return e.tagName==="IFRAME"},rw=function(e){return e.tagName==="STYLE"},IQ=function(e){return e.tagName==="SCRIPT"},dh=function(e){return e.tagName==="TEXTAREA"},uh=function(e){return e.tagName==="SELECT"},xB=function(e){return e.tagName==="SLOT"},aw=function(e){return e.tagName.indexOf("-")>0},PQ=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(s){return r.counters[s].pop()})},e.prototype.parse=function(t){var r=this,s=t.counterIncrement,n=t.counterReset,A=!0;s!==null&&s.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(A=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var i=[];return A&&n.forEach(function(o){var l=r.counters[o.counter];i.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),i},e}(),sw={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},nw={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},DQ={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},TQ={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Bo=function(e,t,r,s,n,A){return e<t||e>r?cd(e,n,A.length>0):s.integers.reduce(function(i,o,l){for(;e>=o;)e-=o,i+=s.values[l];return i},"")+A},yB=function(e,t,r,s){var n="";do r||e--,n=s(e)+n,e/=t;while(e*t>=t);return n},or=function(e,t,r,s,n){var A=r-t+1;return(e<0?"-":"")+(yB(Math.abs(e),A,s,function(i){return lr(Math.floor(i%A)+t)})+n)},li=function(e,t,r){r===void 0&&(r=". ");var s=t.length;return yB(Math.abs(e),s,!1,function(n){return t[Math.floor(n%s)]})+r},Fo=1,lA=2,cA=4,Nc=8,Fn=function(e,t,r,s,n,A){if(e<-9999||e>9999)return cd(e,4,n.length>0);var i=Math.abs(e),o=n;if(i===0)return t[0]+o;for(var l=0;i>0&&l<=4;l++){var c=i%10;c===0&&jr(A,Fo)&&o!==""?o=t[c]+o:c>1||c===1&&l===0||c===1&&l===1&&jr(A,lA)||c===1&&l===1&&jr(A,cA)&&e>100||c===1&&l>1&&jr(A,Nc)?o=t[c]+(l>0?r[l-1]:"")+o:c===1&&l>0&&(o=r[l-1]+o),i=Math.floor(i/10)}return(e<0?s:"")+o},Aw="十百千萬",iw="拾佰仟萬",ow="マイナス",Vg="마이너스",cd=function(e,t,r){var s=r?". ":"",n=r?"、":"",A=r?", ":"",i=r?" ":"";switch(t){case 0:return"•"+i;case 1:return"◦"+i;case 2:return"◾"+i;case 5:var o=or(e,48,57,!0,s);return o.length<4?"0"+o:o;case 4:return li(e,"〇一二三四五六七八九",n);case 6:return Bo(e,1,3999,sw,3,s).toLowerCase();case 7:return Bo(e,1,3999,sw,3,s);case 8:return or(e,945,969,!1,s);case 9:return or(e,97,122,!1,s);case 10:return or(e,65,90,!1,s);case 11:return or(e,1632,1641,!0,s);case 12:case 49:return Bo(e,1,9999,nw,3,s);case 35:return Bo(e,1,9999,nw,3,s).toLowerCase();case 13:return or(e,2534,2543,!0,s);case 14:case 30:return or(e,6112,6121,!0,s);case 15:return li(e,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return li(e,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return Fn(e,"零一二三四五六七八九",Aw,"負",n,lA|cA|Nc);case 47:return Fn(e,"零壹貳參肆伍陸柒捌玖",iw,"負",n,Fo|lA|cA|Nc);case 42:return Fn(e,"零一二三四五六七八九",Aw,"负",n,lA|cA|Nc);case 41:return Fn(e,"零壹贰叁肆伍陆柒捌玖",iw,"负",n,Fo|lA|cA|Nc);case 26:return Fn(e,"〇一二三四五六七八九","十百千万",ow,n,0);case 25:return Fn(e,"零壱弐参四伍六七八九","拾百千万",ow,n,Fo|lA|cA);case 31:return Fn(e,"영일이삼사오육칠팔구","십백천만",Vg,A,Fo|lA|cA);case 33:return Fn(e,"零一二三四五六七八九","十百千萬",Vg,A,0);case 32:return Fn(e,"零壹貳參四五六七八九","拾百千",Vg,A,Fo|lA|cA);case 18:return or(e,2406,2415,!0,s);case 20:return Bo(e,1,19999,TQ,3,s);case 21:return or(e,2790,2799,!0,s);case 22:return or(e,2662,2671,!0,s);case 22:return Bo(e,1,10999,DQ,3,s);case 23:return li(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return li(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return or(e,3302,3311,!0,s);case 28:return li(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return li(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return or(e,3792,3801,!0,s);case 37:return or(e,6160,6169,!0,s);case 38:return or(e,4160,4169,!0,s);case 39:return or(e,2918,2927,!0,s);case 40:return or(e,1776,1785,!0,s);case 43:return or(e,3046,3055,!0,s);case 44:return or(e,3174,3183,!0,s);case 45:return or(e,3664,3673,!0,s);case 46:return or(e,3872,3881,!0,s);case 3:default:return or(e,48,57,!0,s)}},wB="data-html2canvas-ignore",lw=function(){function e(t,r,s){if(this.context=t,this.options=s,this.scrolledElements=[],this.referenceElement=r,this.counters=new PQ,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var s=this,n=RQ(t,r);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var A=t.defaultView.pageXOffset,i=t.defaultView.pageYOffset,o=n.contentWindow,l=o.document,c=OQ(n).then(function(){return da(s,void 0,void 0,function(){var u,f;return ea(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(zQ),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,MQ(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,f)}).then(function(){return n})]:[2,n]}})})});return l.open(),l.write(KQ(document.doctype)+"<html></html>"),qQ(this.referenceElement.ownerDocument,A,i),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(t){if(bp(t,2))debugger;if(mB(t))return this.createCanvasClone(t);if(tw(t))return this.createVideoClone(t);if(rw(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return jp(r)&&(jp(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),aw(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return Gg(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var s=[].slice.call(r.cssRules,0).reduce(function(A,i){return i&&typeof i.cssText=="string"?A+i.cssText:A},""),n=t.cloneNode(!1);return n.textContent=s,n}}catch(A){if(this.context.logger.error("Unable to access cssRules property",A),A.name!=="SecurityError")throw A}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var s=t.ownerDocument.createElement("img");try{return s.src=t.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var A=t.getContext("2d"),i=n.getContext("2d");if(i)if(!this.options.allowTaint&&A)i.putImageData(A.getImageData(0,0,t.width,t.height),0,0);else{var o=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}i.drawImage(t,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return n},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var s=r.getContext("2d");try{return s&&(s.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||s.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var n=t.ownerDocument.createElement("canvas");return n.width=t.offsetWidth,n.height=t.offsetHeight,n},e.prototype.appendChildNode=function(t,r,s){(!qo(r)||!IQ(r)&&!r.hasAttribute(wB)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!qo(r)||!rw(r))&&t.appendChild(this.cloneNode(r,s))},e.prototype.cloneChildNodes=function(t,r,s){for(var n=this,A=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;A;A=A.nextSibling)if(qo(A)&&xB(A)&&typeof A.assignedNodes=="function"){var i=A.assignedNodes();i.length&&i.forEach(function(o){return n.appendChildNode(r,o,s)})}else this.appendChildNode(r,A,s)},e.prototype.cloneNode=function(t,r){if(fB(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var s=t.ownerDocument.defaultView;if(s&&qo(t)&&(kp(t)||b0(t))){var n=this.createElementClone(t);n.style.transitionProperty="none";var A=s.getComputedStyle(t),i=s.getComputedStyle(t,":before"),o=s.getComputedStyle(t,":after");this.referenceElement===t&&kp(n)&&(this.clonedReferenceElement=n),Kx(n)&&WQ(n);var l=this.counters.parse(new M2(this.context,A)),c=this.resolvePseudoContent(t,n,i,Mc.BEFORE);aw(t)&&(r=!0),tw(t)||this.cloneChildNodes(t,n,r),c&&n.insertBefore(c,n.firstChild);var u=this.resolvePseudoContent(t,n,o,Mc.AFTER);return u&&n.appendChild(u),this.counters.pop(l),(A&&(this.options.copyStyles||b0(t))&&!pB(t)||r)&&Gg(A,n),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(dh(t)||uh(t))&&(dh(n)||uh(n))&&(n.value=t.value),n}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,s,n){var A=this;if(s){var i=s.content,o=r.ownerDocument;if(!(!o||!i||i==="none"||i==="-moz-alt-content"||s.display==="none")){this.counters.parse(new M2(this.context,s));var l=new EE(this.context,s),c=o.createElement("html2canvaspseudoelement");Gg(s,c),l.content.forEach(function(f){if(f.type===0)c.appendChild(o.createTextNode(f.value));else if(f.type===22){var p=o.createElement("img");p.src=f.value,p.style.opacity="1",c.appendChild(p)}else if(f.type===18){if(f.name==="attr"){var h=f.values.filter(It);h.length&&c.appendChild(o.createTextNode(t.getAttribute(h[0].value)||""))}else if(f.name==="counter"){var B=f.values.filter(ul),x=B[0],N=B[1];if(x&&It(x)){var m=A.counters.getCounterValue(x.value),y=N&&It(N)?vp.parse(A.context,N.value):3;c.appendChild(o.createTextNode(cd(m,y,!1)))}}else if(f.name==="counters"){var v=f.values.filter(ul),x=v[0],E=v[1],N=v[2];if(x&&It(x)){var U=A.counters.getCounterValues(x.value),V=N&&It(N)?vp.parse(A.context,N.value):3,S=E&&E.type===0?E.value:"",C=U.map(function(F){return cd(F,V,!1)}).join(S);c.appendChild(o.createTextNode(C))}}}else if(f.type===20)switch(f.value){case"open-quote":c.appendChild(o.createTextNode(H2(l.quotes,A.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(H2(l.quotes,--A.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(f.value))}}),c.className=Cp+" "+Sp;var u=n===Mc.BEFORE?" "+Cp:" "+Sp;return b0(r)?r.className.baseValue+=u:r.className+=u,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Mc;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Mc||(Mc={}));var RQ=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(wB,"true"),e.body.appendChild(r),r},HQ=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},MQ=function(e){return Promise.all([].slice.call(e.images,0).map(HQ))},OQ=function(e){return new Promise(function(t,r){var s=e.contentWindow;if(!s)return r("No window assigned for iframe");var n=s.document;s.onload=e.onload=function(){s.onload=e.onload=null;var A=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(A),t(e))},50)}})},_Q=["all","d","content"],Gg=function(e,t){for(var r=e.length-1;r>=0;r--){var s=e.item(r);_Q.indexOf(s)===-1&&t.style.setProperty(s,e.getPropertyValue(s))}return t},KQ=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},qQ=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},zQ=function(e){var t=e[0],r=e[1],s=e[2];t.scrollLeft=r,t.scrollTop=s},VQ=":before",GQ=":after",Cp="___html2canvas___pseudoelement_before",Sp="___html2canvas___pseudoelement_after",cw=`{
    content: "" !important;
    display: none !important;
}`,WQ=function(e){JQ(e,"."+Cp+VQ+cw+`
         .`+Sp+GQ+cw)},JQ=function(e,t){var r=e.ownerDocument;if(r){var s=r.createElement("style");s.textContent=t,e.appendChild(s)}},vB=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),$Q=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(Jg(t)||eU(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return da(this,void 0,void 0,function(){var r,s,n,A,i=this;return ea(this,function(o){switch(o.label){case 0:return r=vB.isSameOrigin(t),s=!Wg(t)&&this._options.useCORS===!0&&Mr.SUPPORT_CORS_IMAGES&&!r,n=!Wg(t)&&!r&&!Jg(t)&&typeof this._options.proxy=="string"&&Mr.SUPPORT_CORS_XHR&&!s,!r&&this._options.allowTaint===!1&&!Wg(t)&&!Jg(t)&&!n&&!s?[2]:(A=t,n?[4,this.proxy(A)]:[3,2]);case 1:A=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(tU(A)||s)&&(u.crossOrigin="anonymous"),u.src=A,u.complete===!0&&setTimeout(function(){return l(u)},500),i._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var n=t.substring(0,256);return new Promise(function(A,i){var o=Mr.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")A(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return A(f.result)},!1),f.addEventListener("error",function(p){return i(p)},!1),f.readAsDataURL(l.response)}else i("Failed to proxy resource "+n+" with status code "+l.status)},l.onerror=i;var c=s.indexOf("?")>-1?"&":"?";if(l.open("GET",""+s+c+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return i("Timed out ("+u+"ms) proxying "+n)}}l.send()})},e}(),XQ=/^data:image\/svg\+xml/i,YQ=/^data:image\/.*;base64,/i,ZQ=/^data:image\/.*/i,eU=function(e){return Mr.SUPPORT_SVG_DRAWING||!rU(e)},Wg=function(e){return ZQ.test(e)},tU=function(e){return YQ.test(e)},Jg=function(e){return e.substr(0,4)==="blob"},rU=function(e){return e.substr(-3).toLowerCase()==="svg"||XQ.test(e)},He=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),No=function(e,t,r){return new He(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},Zu=function(){function e(t,r,s,n){this.type=1,this.start=t,this.startControl=r,this.endControl=s,this.end=n}return e.prototype.subdivide=function(t,r){var s=No(this.start,this.startControl,t),n=No(this.startControl,this.endControl,t),A=No(this.endControl,this.end,t),i=No(s,n,t),o=No(n,A,t),l=No(i,o,t);return r?new e(this.start,s,i,l):new e(l,o,A,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),rs=function(e){return e.type===1},aU=function(){function e(t){var r=t.styles,s=t.bounds,n=bc(r.borderTopLeftRadius,s.width,s.height),A=n[0],i=n[1],o=bc(r.borderTopRightRadius,s.width,s.height),l=o[0],c=o[1],u=bc(r.borderBottomRightRadius,s.width,s.height),f=u[0],p=u[1],h=bc(r.borderBottomLeftRadius,s.width,s.height),B=h[0],x=h[1],N=[];N.push((A+l)/s.width),N.push((B+f)/s.width),N.push((i+x)/s.height),N.push((c+p)/s.height);var m=Math.max.apply(Math,N);m>1&&(A/=m,i/=m,l/=m,c/=m,f/=m,p/=m,B/=m,x/=m);var y=s.width-l,v=s.height-p,E=s.width-f,U=s.height-x,V=r.borderTopWidth,S=r.borderRightWidth,C=r.borderBottomWidth,_=r.borderLeftWidth,H=Mt(r.paddingTop,t.bounds.width),F=Mt(r.paddingRight,t.bounds.width),j=Mt(r.paddingBottom,t.bounds.width),P=Mt(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=A>0||i>0?Vt(s.left+_/3,s.top+V/3,A-_/3,i-V/3,St.TOP_LEFT):new He(s.left+_/3,s.top+V/3),this.topRightBorderDoubleOuterBox=A>0||i>0?Vt(s.left+y,s.top+V/3,l-S/3,c-V/3,St.TOP_RIGHT):new He(s.left+s.width-S/3,s.top+V/3),this.bottomRightBorderDoubleOuterBox=f>0||p>0?Vt(s.left+E,s.top+v,f-S/3,p-C/3,St.BOTTOM_RIGHT):new He(s.left+s.width-S/3,s.top+s.height-C/3),this.bottomLeftBorderDoubleOuterBox=B>0||x>0?Vt(s.left+_/3,s.top+U,B-_/3,x-C/3,St.BOTTOM_LEFT):new He(s.left+_/3,s.top+s.height-C/3),this.topLeftBorderDoubleInnerBox=A>0||i>0?Vt(s.left+_*2/3,s.top+V*2/3,A-_*2/3,i-V*2/3,St.TOP_LEFT):new He(s.left+_*2/3,s.top+V*2/3),this.topRightBorderDoubleInnerBox=A>0||i>0?Vt(s.left+y,s.top+V*2/3,l-S*2/3,c-V*2/3,St.TOP_RIGHT):new He(s.left+s.width-S*2/3,s.top+V*2/3),this.bottomRightBorderDoubleInnerBox=f>0||p>0?Vt(s.left+E,s.top+v,f-S*2/3,p-C*2/3,St.BOTTOM_RIGHT):new He(s.left+s.width-S*2/3,s.top+s.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=B>0||x>0?Vt(s.left+_*2/3,s.top+U,B-_*2/3,x-C*2/3,St.BOTTOM_LEFT):new He(s.left+_*2/3,s.top+s.height-C*2/3),this.topLeftBorderStroke=A>0||i>0?Vt(s.left+_/2,s.top+V/2,A-_/2,i-V/2,St.TOP_LEFT):new He(s.left+_/2,s.top+V/2),this.topRightBorderStroke=A>0||i>0?Vt(s.left+y,s.top+V/2,l-S/2,c-V/2,St.TOP_RIGHT):new He(s.left+s.width-S/2,s.top+V/2),this.bottomRightBorderStroke=f>0||p>0?Vt(s.left+E,s.top+v,f-S/2,p-C/2,St.BOTTOM_RIGHT):new He(s.left+s.width-S/2,s.top+s.height-C/2),this.bottomLeftBorderStroke=B>0||x>0?Vt(s.left+_/2,s.top+U,B-_/2,x-C/2,St.BOTTOM_LEFT):new He(s.left+_/2,s.top+s.height-C/2),this.topLeftBorderBox=A>0||i>0?Vt(s.left,s.top,A,i,St.TOP_LEFT):new He(s.left,s.top),this.topRightBorderBox=l>0||c>0?Vt(s.left+y,s.top,l,c,St.TOP_RIGHT):new He(s.left+s.width,s.top),this.bottomRightBorderBox=f>0||p>0?Vt(s.left+E,s.top+v,f,p,St.BOTTOM_RIGHT):new He(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=B>0||x>0?Vt(s.left,s.top+U,B,x,St.BOTTOM_LEFT):new He(s.left,s.top+s.height),this.topLeftPaddingBox=A>0||i>0?Vt(s.left+_,s.top+V,Math.max(0,A-_),Math.max(0,i-V),St.TOP_LEFT):new He(s.left+_,s.top+V),this.topRightPaddingBox=l>0||c>0?Vt(s.left+Math.min(y,s.width-S),s.top+V,y>s.width+S?0:Math.max(0,l-S),Math.max(0,c-V),St.TOP_RIGHT):new He(s.left+s.width-S,s.top+V),this.bottomRightPaddingBox=f>0||p>0?Vt(s.left+Math.min(E,s.width-_),s.top+Math.min(v,s.height-C),Math.max(0,f-S),Math.max(0,p-C),St.BOTTOM_RIGHT):new He(s.left+s.width-S,s.top+s.height-C),this.bottomLeftPaddingBox=B>0||x>0?Vt(s.left+_,s.top+Math.min(U,s.height-C),Math.max(0,B-_),Math.max(0,x-C),St.BOTTOM_LEFT):new He(s.left+_,s.top+s.height-C),this.topLeftContentBox=A>0||i>0?Vt(s.left+_+P,s.top+V+H,Math.max(0,A-(_+P)),Math.max(0,i-(V+H)),St.TOP_LEFT):new He(s.left+_+P,s.top+V+H),this.topRightContentBox=l>0||c>0?Vt(s.left+Math.min(y,s.width+_+P),s.top+V+H,y>s.width+_+P?0:l-_+P,c-(V+H),St.TOP_RIGHT):new He(s.left+s.width-(S+F),s.top+V+H),this.bottomRightContentBox=f>0||p>0?Vt(s.left+Math.min(E,s.width-(_+P)),s.top+Math.min(v,s.height+V+H),Math.max(0,f-(S+F)),p-(C+j),St.BOTTOM_RIGHT):new He(s.left+s.width-(S+F),s.top+s.height-(C+j)),this.bottomLeftContentBox=B>0||x>0?Vt(s.left+_+P,s.top+U,Math.max(0,B-(_+P)),x-(C+j),St.BOTTOM_LEFT):new He(s.left+_+P,s.top+s.height-(C+j))}return e}(),St;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(St||(St={}));var Vt=function(e,t,r,s,n){var A=4*((Math.sqrt(2)-1)/3),i=r*A,o=s*A,l=e+r,c=t+s;switch(n){case St.TOP_LEFT:return new Zu(new He(e,c),new He(e,c-o),new He(l-i,t),new He(l,t));case St.TOP_RIGHT:return new Zu(new He(e,t),new He(e+i,t),new He(l,c-o),new He(l,c));case St.BOTTOM_RIGHT:return new Zu(new He(l,t),new He(l,t+o),new He(e+i,c),new He(e,c));case St.BOTTOM_LEFT:default:return new Zu(new He(l,c),new He(l-i,c),new He(e,t+o),new He(e,t))}},hh=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},sU=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},fh=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},nU=function(){function e(t,r,s){this.offsetX=t,this.offsetY=r,this.matrix=s,this.type=0,this.target=6}return e}(),e0=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),AU=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),iU=function(e){return e.type===0},bB=function(e){return e.type===1},oU=function(e){return e.type===2},dw=function(e,t){return e.length===t.length?e.some(function(r,s){return r===t[s]}):!1},lU=function(e,t,r,s,n){return e.map(function(A,i){switch(i){case 0:return A.add(t,r);case 1:return A.add(t+s,r);case 2:return A.add(t+s,r+n);case 3:return A.add(t,r+n)}return A})},BB=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),NB=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new aU(this.container),this.container.styles.opacity<1&&this.effects.push(new AU(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,A=this.container.styles.transform;this.effects.push(new nU(s,n,A))}if(this.container.styles.overflowX!==0){var i=hh(this.curves),o=fh(this.curves);dw(i,o)?this.effects.push(new e0(i,6)):(this.effects.push(new e0(i,2)),this.effects.push(new e0(o,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,n=this.effects.slice(0);s;){var A=s.effects.filter(function(l){return!bB(l)});if(r||s.container.styles.position!==0||!s.parent){if(n.unshift.apply(n,A),r=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var i=hh(s.curves),o=fh(s.curves);dw(i,o)||n.unshift(new e0(o,6))}}else n.unshift.apply(n,A);s=s.parent}return n.filter(function(l){return jr(l.target,t)})},e}(),Fp=function(e,t,r,s){e.container.elements.forEach(function(n){var A=jr(n.flags,4),i=jr(n.flags,2),o=new NB(n,e);jr(n.styles.display,2048)&&s.push(o);var l=jr(n.flags,8)?[]:s;if(A||i){var c=A||n.styles.isPositioned()?r:t,u=new BB(o);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var f=n.styles.zIndex.order;if(f<0){var p=0;c.negativeZIndex.some(function(B,x){return f>B.element.container.styles.zIndex.order?(p=x,!1):p>0}),c.negativeZIndex.splice(p,0,u)}else if(f>0){var h=0;c.positiveZIndex.some(function(B,x){return f>=B.element.container.styles.zIndex.order?(h=x+1,!1):h>0}),c.positiveZIndex.splice(h,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else n.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Fp(o,u,A?u:r,l)}else n.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Fp(o,t,r,l);jr(n.flags,8)&&kB(n,l)})},kB=function(e,t){for(var r=e instanceof Np?e.start:1,s=e instanceof Np?e.reversed:!1,n=0;n<t.length;n++){var A=t[n];A.container instanceof oB&&typeof A.container.value=="number"&&A.container.value!==0&&(r=A.container.value),A.listValue=cd(r,A.container.styles.listStyleType,!0),r+=s?-1:1}},cU=function(e){var t=new NB(e,null),r=new BB(t),s=[];return Fp(t,r,r,s),kB(t.container,s),r},uw=function(e,t){switch(t){case 0:return ns(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ns(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ns(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ns(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},dU=function(e,t){switch(t){case 0:return ns(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ns(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ns(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ns(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},uU=function(e,t){switch(t){case 0:return ns(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ns(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ns(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ns(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},hU=function(e,t){switch(t){case 0:return t0(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return t0(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return t0(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return t0(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},t0=function(e,t){var r=[];return rs(e)?r.push(e.subdivide(.5,!1)):r.push(e),rs(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},ns=function(e,t,r,s){var n=[];return rs(e)?n.push(e.subdivide(.5,!1)):n.push(e),rs(r)?n.push(r.subdivide(.5,!0)):n.push(r),rs(s)?n.push(s.subdivide(.5,!0).reverse()):n.push(s),rs(t)?n.push(t.subdivide(.5,!1).reverse()):n.push(t),n},jB=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},gh=function(e){var t=e.styles,r=e.bounds,s=Mt(t.paddingLeft,r.width),n=Mt(t.paddingRight,r.width),A=Mt(t.paddingTop,r.width),i=Mt(t.paddingBottom,r.width);return r.add(s+t.borderLeftWidth,A+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+s+n),-(t.borderTopWidth+t.borderBottomWidth+A+i))},fU=function(e,t){return e===0?t.bounds:e===2?gh(t):jB(t)},gU=function(e,t){return e===0?t.bounds:e===2?gh(t):jB(t)},$g=function(e,t,r){var s=fU(Eo(e.styles.backgroundOrigin,t),e),n=gU(Eo(e.styles.backgroundClip,t),e),A=mU(Eo(e.styles.backgroundSize,t),r,s),i=A[0],o=A[1],l=bc(Eo(e.styles.backgroundPosition,t),s.width-i,s.height-o),c=pU(Eo(e.styles.backgroundRepeat,t),l,A,s,n),u=Math.round(s.left+l[0]),f=Math.round(s.top+l[1]);return[c,u,f,i,o]},ko=function(e){return It(e)&&e.value===rl.AUTO},r0=function(e){return typeof e=="number"},mU=function(e,t,r){var s=t[0],n=t[1],A=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(xr(i)&&o&&xr(o))return[Mt(i,r.width),Mt(o,r.height)];var l=r0(A);if(It(i)&&(i.value===rl.CONTAIN||i.value===rl.COVER)){if(r0(A)){var c=r.width/r.height;return c<A!=(i.value===rl.COVER)?[r.width,r.width/A]:[r.height*A,r.height]}return[r.width,r.height]}var u=r0(s),f=r0(n),p=u||f;if(ko(i)&&(!o||ko(o))){if(u&&f)return[s,n];if(!l&&!p)return[r.width,r.height];if(p&&l){var h=u?s:n*A,B=f?n:s/A;return[h,B]}var x=u?s:r.width,N=f?n:r.height;return[x,N]}if(l){var m=0,y=0;return xr(i)?m=Mt(i,r.width):xr(o)&&(y=Mt(o,r.height)),ko(i)?m=y*A:(!o||ko(o))&&(y=m/A),[m,y]}var v=null,E=null;if(xr(i)?v=Mt(i,r.width):o&&xr(o)&&(E=Mt(o,r.height)),v!==null&&(!o||ko(o))&&(E=u&&f?v/s*n:r.height),E!==null&&ko(i)&&(v=u&&f?E/n*s:r.width),v!==null&&E!==null)return[v,E];throw new Error("Unable to calculate background-size for element")},Eo=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},pU=function(e,t,r,s,n){var A=t[0],i=t[1],o=r[0],l=r[1];switch(e){case 2:return[new He(Math.round(s.left),Math.round(s.top+i)),new He(Math.round(s.left+s.width),Math.round(s.top+i)),new He(Math.round(s.left+s.width),Math.round(l+s.top+i)),new He(Math.round(s.left),Math.round(l+s.top+i))];case 3:return[new He(Math.round(s.left+A),Math.round(s.top)),new He(Math.round(s.left+A+o),Math.round(s.top)),new He(Math.round(s.left+A+o),Math.round(s.height+s.top)),new He(Math.round(s.left+A),Math.round(s.height+s.top))];case 1:return[new He(Math.round(s.left+A),Math.round(s.top+i)),new He(Math.round(s.left+A+o),Math.round(s.top+i)),new He(Math.round(s.left+A+o),Math.round(s.top+i+l)),new He(Math.round(s.left+A),Math.round(s.top+i+l))];default:return[new He(Math.round(n.left),Math.round(n.top)),new He(Math.round(n.left+n.width),Math.round(n.top)),new He(Math.round(n.left+n.width),Math.round(n.height+n.top)),new He(Math.round(n.left),Math.round(n.height+n.top))]}},xU="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",hw="Hidden Text",yU=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var s=this._document.createElement("div"),n=this._document.createElement("img"),A=this._document.createElement("span"),i=this._document.body;s.style.visibility="hidden",s.style.fontFamily=t,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",i.appendChild(s),n.src=xU,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",A.style.fontFamily=t,A.style.fontSize=r,A.style.margin="0",A.style.padding="0",A.appendChild(this._document.createTextNode(hw)),s.appendChild(A),s.appendChild(n);var o=n.offsetTop-A.offsetTop+2;s.removeChild(A),s.appendChild(this._document.createTextNode(hw)),s.style.lineHeight="normal",n.style.verticalAlign="super";var l=n.offsetTop-s.offsetTop+2;return i.removeChild(s),{baseline:o,middle:l}},e.prototype.getMetrics=function(t,r){var s=t+" "+r;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(t,r)),this._data[s]},e}(),CB=function(){function e(t,r){this.context=t,this.options=r}return e}(),wU=1e4,vU=function(e){Hs(t,e);function t(r,s){var n=e.call(this,r,s)||this;return n._activeEffects=[],n.canvas=s.canvas?s.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),s.canvas||(n.canvas.width=Math.floor(s.width*s.scale),n.canvas.height=Math.floor(s.height*s.scale),n.canvas.style.width=s.width+"px",n.canvas.style.height=s.height+"px"),n.fontMetrics=new yU(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-s.x,-s.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),n}return t.prototype.applyEffects=function(r){for(var s=this;this._activeEffects.length;)this.popEffect();r.forEach(function(n){return s.applyEffect(n)})},t.prototype.applyEffect=function(r){this.ctx.save(),oU(r)&&(this.ctx.globalAlpha=r.opacity),iU(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),bB(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return da(this,void 0,void 0,function(){var s;return ea(this,function(n){switch(n.label){case 0:return s=r.element.container.styles,s.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return da(this,void 0,void 0,function(){return ea(this,function(s){switch(s.label){case 0:if(jr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(r)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,s,n){var A=this;if(s===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+n);else{var i=Ox(r.text);i.reduce(function(o,l){return A.ctx.fillText(l,o,r.bounds.top+n),o+A.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var s=r.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),n=jU(r.fontFamily).join(", "),A=xd(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,s,r.fontWeight,A,n].join(" "),n,A]},t.prototype.renderTextNode=function(r,s){return da(this,void 0,void 0,function(){var n,A,i,o,l,c,u,f,p=this;return ea(this,function(h){return n=this.createFontStyle(s),A=n[0],i=n[1],o=n[2],this.ctx.font=A,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(i,o),c=l.baseline,u=l.middle,f=s.paintOrder,r.textBounds.forEach(function(B){f.forEach(function(x){switch(x){case 0:p.ctx.fillStyle=Qr(s.color),p.renderTextWithLetterSpacing(B,s.letterSpacing,c);var N=s.textShadow;N.length&&B.text.trim().length&&(N.slice(0).reverse().forEach(function(m){p.ctx.shadowColor=Qr(m.color),p.ctx.shadowOffsetX=m.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=m.offsetY.number*p.options.scale,p.ctx.shadowBlur=m.blur.number,p.renderTextWithLetterSpacing(B,s.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),s.textDecorationLine.length&&(p.ctx.fillStyle=Qr(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(m){switch(m){case 1:p.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top+c),B.bounds.width,1);break;case 2:p.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top),B.bounds.width,1);break;case 3:p.ctx.fillRect(B.bounds.left,Math.ceil(B.bounds.top+u),B.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&B.text.trim().length&&(p.ctx.strokeStyle=Qr(s.webkitTextStrokeColor),p.ctx.lineWidth=s.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(B.text,B.bounds.left,B.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,s,n){if(n&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var A=gh(r),i=fh(s);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,r.intrinsicWidth,r.intrinsicHeight,A.left,A.top,A.width,A.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return da(this,void 0,void 0,function(){var s,n,A,i,o,l,y,y,c,u,f,p,E,h,B,U,x,N,m,y,v,E,U;return ea(this,function(V){switch(V.label){case 0:this.applyEffects(r.getEffects(4)),s=r.container,n=r.curves,A=s.styles,i=0,o=s.textNodes,V.label=1;case 1:return i<o.length?(l=o[i],[4,this.renderTextNode(l,A)]):[3,4];case 2:V.sent(),V.label=3;case 3:return i++,[3,1];case 4:if(!(s instanceof nB))return[3,8];V.label=5;case 5:return V.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return y=V.sent(),this.renderReplacedElement(s,n,y),[3,8];case 7:return V.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof AB&&this.renderReplacedElement(s,n,s.canvas),!(s instanceof iB))return[3,12];V.label=9;case 9:return V.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return y=V.sent(),this.renderReplacedElement(s,n,y),[3,12];case 11:return V.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof dB&&s.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,c.render(s.tree)]):[3,14];case 13:u=V.sent(),s.width&&s.height&&this.ctx.drawImage(u,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),V.label=14;case 14:if(s instanceof _x&&(f=Math.min(s.bounds.width,s.bounds.height),s.type===lh?s.checked&&(this.ctx.save(),this.path([new He(s.bounds.left+f*.39363,s.bounds.top+f*.79),new He(s.bounds.left+f*.16,s.bounds.top+f*.5549),new He(s.bounds.left+f*.27347,s.bounds.top+f*.44071),new He(s.bounds.left+f*.39694,s.bounds.top+f*.5649),new He(s.bounds.left+f*.72983,s.bounds.top+f*.23),new He(s.bounds.left+f*.84,s.bounds.top+f*.34085),new He(s.bounds.left+f*.39363,s.bounds.top+f*.79)]),this.ctx.fillStyle=Qr(ew),this.ctx.fill(),this.ctx.restore()):s.type===ch&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+f/2,s.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=Qr(ew),this.ctx.fill(),this.ctx.restore())),bU(s)&&s.value.length){switch(p=this.createFontStyle(A),E=p[0],h=p[1],B=this.fontMetrics.getMetrics(E,h).baseline,this.ctx.font=E,this.ctx.fillStyle=Qr(A.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=NU(s.styles.textAlign),U=gh(s),x=0,s.styles.textAlign){case 1:x+=U.width/2;break;case 2:x+=U.width;break}N=U.add(x,0,0,-U.height/2+1),this.ctx.save(),this.path([new He(U.left,U.top),new He(U.left+U.width,U.top),new He(U.left+U.width,U.top+U.height),new He(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Hc(s.value,N),A.letterSpacing,B),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!jr(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(m=s.styles.listStyleImage,m.type!==0)return[3,18];y=void 0,v=m.url,V.label=15;case 15:return V.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return y=V.sent(),this.ctx.drawImage(y,s.bounds.left-(y.width+10),s.bounds.top),[3,18];case 17:return V.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:r.listValue&&s.styles.listStyleType!==-1&&(E=this.createFontStyle(A)[0],this.ctx.font=E,this.ctx.fillStyle=Qr(A.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",U=new On(s.bounds.left,s.bounds.top+Mt(s.styles.paddingTop,s.bounds.width),s.bounds.width,T2(A.lineHeight,A.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Hc(r.listValue,U),A.letterSpacing,T2(A.lineHeight,A.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),V.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return da(this,void 0,void 0,function(){var s,n,m,A,i,m,o,l,m,c,u,m,f,p,m,h,B,m,x,N,m;return ea(this,function(y){switch(y.label){case 0:if(jr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),s=0,n=r.negativeZIndex,y.label=2;case 2:return s<n.length?(m=n[s],[4,this.renderStack(m)]):[3,5];case 3:y.sent(),y.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),A=0,i=r.nonInlineLevel,y.label=7;case 7:return A<i.length?(m=i[A],[4,this.renderNode(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return A++,[3,7];case 10:o=0,l=r.nonPositionedFloats,y.label=11;case 11:return o<l.length?(m=l[o],[4,this.renderStack(m)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:c=0,u=r.nonPositionedInlineLevel,y.label=15;case 15:return c<u.length?(m=u[c],[4,this.renderStack(m)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:f=0,p=r.inlineLevel,y.label=19;case 19:return f<p.length?(m=p[f],[4,this.renderNode(m)]):[3,22];case 20:y.sent(),y.label=21;case 21:return f++,[3,19];case 22:h=0,B=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return h<B.length?(m=B[h],[4,this.renderStack(m)]):[3,26];case 24:y.sent(),y.label=25;case 25:return h++,[3,23];case 26:x=0,N=r.positiveZIndex,y.label=27;case 27:return x<N.length?(m=N[x],[4,this.renderStack(m)]):[3,30];case 28:y.sent(),y.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var s=this;r.forEach(function(n,A){var i=rs(n)?n.start:n;A===0?s.ctx.moveTo(i.x,i.y):s.ctx.lineTo(i.x,i.y),rs(n)&&s.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},t.prototype.renderRepeat=function(r,s,n,A){this.path(r),this.ctx.fillStyle=s,this.ctx.translate(n,A),this.ctx.fill(),this.ctx.translate(-n,-A)},t.prototype.resizeImage=function(r,s,n){var A;if(r.width===s&&r.height===n)return r;var i=(A=this.canvas.ownerDocument)!==null&&A!==void 0?A:document,o=i.createElement("canvas");o.width=Math.max(1,s),o.height=Math.max(1,n);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,s,n),o},t.prototype.renderBackgroundImage=function(r){return da(this,void 0,void 0,function(){var s,n,A,i,o,l;return ea(this,function(c){switch(c.label){case 0:s=r.styles.backgroundImage.length-1,n=function(u){var f,p,h,H,O,Z,P,z,C,B,H,O,Z,P,z,x,N,m,y,v,E,U,V,S,C,_,H,F,j,P,z,D,O,Z,K,te,se,he,Q,J,X,ee;return ea(this,function(ne){switch(ne.label){case 0:if(u.type!==0)return[3,5];f=void 0,p=u.url,ne.label=1;case 1:return ne.trys.push([1,3,,4]),[4,A.context.cache.match(p)];case 2:return f=ne.sent(),[3,4];case 3:return ne.sent(),A.context.logger.error("Error loading background-image "+p),[3,4];case 4:return f&&(h=$g(r,s,[f.width,f.height,f.width/f.height]),H=h[0],O=h[1],Z=h[2],P=h[3],z=h[4],C=A.ctx.createPattern(A.resizeImage(f,P,z),"repeat"),A.renderRepeat(H,C,O,Z)),[3,6];case 5:iF(u)?(B=$g(r,s,[null,null,null]),H=B[0],O=B[1],Z=B[2],P=B[3],z=B[4],x=rF(u.angle,P,z),N=x[0],m=x[1],y=x[2],v=x[3],E=x[4],U=document.createElement("canvas"),U.width=P,U.height=z,V=U.getContext("2d"),S=V.createLinearGradient(m,v,y,E),P2(u.stops,N).forEach(function(ce){return S.addColorStop(ce.stop,Qr(ce.color))}),V.fillStyle=S,V.fillRect(0,0,P,z),P>0&&z>0&&(C=A.ctx.createPattern(U,"repeat"),A.renderRepeat(H,C,O,Z))):oF(u)&&(_=$g(r,s,[null,null,null]),H=_[0],F=_[1],j=_[2],P=_[3],z=_[4],D=u.position.length===0?[Rx]:u.position,O=Mt(D[0],P),Z=Mt(D[D.length-1],z),K=aF(u,O,Z,P,z),te=K[0],se=K[1],te>0&&se>0&&(he=A.ctx.createRadialGradient(F+O,j+Z,0,F+O,j+Z,te),P2(u.stops,te*2).forEach(function(ce){return he.addColorStop(ce.stop,Qr(ce.color))}),A.path(H),A.ctx.fillStyle=he,te!==se?(Q=r.bounds.left+.5*r.bounds.width,J=r.bounds.top+.5*r.bounds.height,X=se/te,ee=1/X,A.ctx.save(),A.ctx.translate(Q,J),A.ctx.transform(1,0,0,X,0,0),A.ctx.translate(-Q,-J),A.ctx.fillRect(F,ee*(j-J)+J,P,z*ee),A.ctx.restore()):A.ctx.fill())),ne.label=6;case 6:return s--,[2]}})},A=this,i=0,o=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return i<o.length?(l=o[i],[5,n(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,s,n){return da(this,void 0,void 0,function(){return ea(this,function(A){return this.path(uw(n,s)),this.ctx.fillStyle=Qr(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,s,n,A){return da(this,void 0,void 0,function(){var i,o;return ea(this,function(l){switch(l.label){case 0:return s<3?[4,this.renderSolidBorder(r,n,A)]:[3,2];case 1:return l.sent(),[2];case 2:return i=dU(A,n),this.path(i),this.ctx.fillStyle=Qr(r),this.ctx.fill(),o=uU(A,n),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return da(this,void 0,void 0,function(){var s,n,A,i,o,l,c,u,f=this;return ea(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),s=r.container.styles,n=!PA(s.backgroundColor)||s.backgroundImage.length,A=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],i=BU(Eo(s.backgroundClip,0),r.curves),n||s.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),PA(s.backgroundColor)||(this.ctx.fillStyle=Qr(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(h){f.ctx.save();var B=hh(r.curves),x=h.inset?0:wU,N=lU(B,-x+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(f.path(B),f.ctx.clip(),f.mask(N)):(f.mask(B),f.ctx.clip(),f.path(N)),f.ctx.shadowOffsetX=h.offsetX.number+x,f.ctx.shadowOffsetY=h.offsetY.number,f.ctx.shadowColor=Qr(h.color),f.ctx.shadowBlur=h.blur.number,f.ctx.fillStyle=h.inset?Qr(h.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),p.label=2;case 2:o=0,l=0,c=A,p.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!PA(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,s,n,A,i){return da(this,void 0,void 0,function(){var o,l,c,u,f,p,h,B,x,N,m,y,v,E,U,V,U,V;return ea(this,function(S){return this.ctx.save(),o=hU(A,n),l=uw(A,n),i===2&&(this.path(l),this.ctx.clip()),rs(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),rs(l[1])?(f=l[1].end.x,p=l[1].end.y):(f=l[1].x,p=l[1].y),n===0||n===2?h=Math.abs(c-f):h=Math.abs(u-p),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(l.slice(0,2)),B=s<3?s*3:s*2,x=s<3?s*2:s,i===3&&(B=s,x=s),N=!0,h<=B*2?N=!1:h<=B*2+x?(m=h/(2*B+x),B*=m,x*=m):(y=Math.floor((h+x)/(B+x)),v=(h-y*B)/(y-1),E=(h-(y+1)*B)/y,x=E<=0||Math.abs(x-v)<Math.abs(x-E)?v:E),N&&(i===3?this.ctx.setLineDash([0,B+x]):this.ctx.setLineDash([B,x])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=Qr(r),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(rs(l[0])&&(U=l[3],V=l[0],this.ctx.beginPath(),this.formatPath([new He(U.end.x,U.end.y),new He(V.start.x,V.start.y)]),this.ctx.stroke()),rs(l[1])&&(U=l[1],V=l[2],this.ctx.beginPath(),this.formatPath([new He(U.end.x,U.end.y),new He(V.start.x,V.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return da(this,void 0,void 0,function(){var s;return ea(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Qr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=cU(r),[4,this.renderStack(s)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(CB),bU=function(e){return e instanceof cB||e instanceof lB?!0:e instanceof _x&&e.type!==ch&&e.type!==lh},BU=function(e,t){switch(e){case 0:return hh(t);case 2:return sU(t);case 1:default:return fh(t)}},NU=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},kU=["-apple-system","system-ui"],jU=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return kU.indexOf(t)===-1}):e},CU=function(e){Hs(t,e);function t(r,s){var n=e.call(this,r,s)||this;return n.canvas=s.canvas?s.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=s,n.canvas.width=Math.floor(s.width*s.scale),n.canvas.height=Math.floor(s.height*s.scale),n.canvas.style.width=s.width+"px",n.canvas.style.height=s.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-s.x,-s.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),n}return t.prototype.render=function(r){return da(this,void 0,void 0,function(){var s,n;return ea(this,function(A){switch(A.label){case 0:return s=Bp(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,SU(s)];case 1:return n=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Qr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(CB),SU=function(e){return new Promise(function(t,r){var s=new Image;s.onload=function(){t(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},FU=function(){function e(t){var r=t.id,s=t.enabled;this.id=r,this.enabled=s,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Iu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Iu([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Iu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Iu([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),EU=function(){function e(t,r){var s;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new FU({id:this.instanceName,enabled:t.logging}),this.cache=(s=t.cache)!==null&&s!==void 0?s:new $Q(this,t)}return e.instanceCount=1,e}(),QU=function(e,t){return t===void 0&&(t={}),UU(e,t)};typeof window<"u"&&vB.setContext(window);var UU=function(e,t){return da(void 0,void 0,void 0,function(){var r,s,n,A,i,o,l,c,u,f,p,h,B,x,N,m,y,v,E,U,S,V,S,C,_,H,F,j,P,z,D,O,Z,K,te,se,he,Q,J,X;return ea(this,function(ee){switch(ee.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(s=r.defaultView,!s)throw new Error("Document is not attached to a Window");return n={allowTaint:(C=t.allowTaint)!==null&&C!==void 0?C:!1,imageTimeout:(_=t.imageTimeout)!==null&&_!==void 0?_:15e3,proxy:t.proxy,useCORS:(H=t.useCORS)!==null&&H!==void 0?H:!1},A=op({logging:(F=t.logging)!==null&&F!==void 0?F:!0,cache:t.cache},n),i={windowWidth:(j=t.windowWidth)!==null&&j!==void 0?j:s.innerWidth,windowHeight:(P=t.windowHeight)!==null&&P!==void 0?P:s.innerHeight,scrollX:(z=t.scrollX)!==null&&z!==void 0?z:s.pageXOffset,scrollY:(D=t.scrollY)!==null&&D!==void 0?D:s.pageYOffset},o=new On(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),l=new EU(A,o),c=(O=t.foreignObjectRendering)!==null&&O!==void 0?O:!1,u={allowTaint:(Z=t.allowTaint)!==null&&Z!==void 0?Z:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new lw(l,e,u),p=f.clonedReferenceElement,p?[4,f.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=ee.sent(),B=Kx(p)||LQ(p)?l6(p.ownerDocument):Oh(l,p),x=B.width,N=B.height,m=B.left,y=B.top,v=LU(l,p,t.backgroundColor),E={canvas:t.canvas,backgroundColor:v,scale:(te=(K=t.scale)!==null&&K!==void 0?K:s.devicePixelRatio)!==null&&te!==void 0?te:1,x:((se=t.x)!==null&&se!==void 0?se:0)+m,y:((he=t.y)!==null&&he!==void 0?he:0)+y,width:(Q=t.width)!==null&&Q!==void 0?Q:Math.ceil(x),height:(J=t.height)!==null&&J!==void 0?J:Math.ceil(N)},c?(l.logger.debug("Document cloned, using foreign object rendering"),S=new CU(l,E),[4,S.render(p)]):[3,3];case 2:return U=ee.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+m+","+y+" with size "+x+"x"+N+" using computed rendering"),l.logger.debug("Starting DOM parsing"),V=hB(l,p),v===V.styles.backgroundColor&&(V.styles.backgroundColor=Pn.TRANSPARENT),l.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),S=new vU(l,E),[4,S.render(V)];case 4:U=ee.sent(),ee.label=5;case 5:return(!((X=t.removeContainer)!==null&&X!==void 0)||X)&&(lw.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,U]}})})},LU=function(e,t,r){var s=t.ownerDocument,n=s.documentElement?Tc(e,getComputedStyle(s.documentElement).backgroundColor):Pn.TRANSPARENT,A=s.body?Tc(e,getComputedStyle(s.body).backgroundColor):Pn.TRANSPARENT,i=typeof r=="string"?Tc(e,r):r===null?Pn.TRANSPARENT:4294967295;return t===s.documentElement?PA(n)?PA(A)?i:A:n:i};const IU=Object.freeze(Object.defineProperty({__proto__:null,default:QU},Symbol.toStringTag,{value:"Module"})),SB=async(e,t="en")=>{var r;try{if(!(e!=null&&e.patient))throw new Error("Invalid request data");const s={en:{labName:"SIL Laboratory",labAddress:"123 Health Street, Casablanca, Morocco",labPhone:"Phone: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"COMPLETE BLOOD COUNT (CBC)",patientInfo:"PATIENT INFORMATION",doctorInfo:"PRESCRIBING DOCTOR",requestInfo:"REQUEST DETAILS",analysisName:"Test",result:"Result",unit:"Unit",reference:"Ref. Range",status:"Status",notes:"Notes",normal:"Normal",abnormal:"Abnormal",pending:"Pending",validated:"Validated",reportDate:"Report Date",interpretation:"Interpretation",validatedBy:"Validated by",signature:"Signature",disclaimer:"This report is generated automatically by SIL Laboratory System and is intended for medical professionals.",noResults:"No results available"},fr:{labName:"Laboratoire SIL",labAddress:"123 Rue de la Santé, Casablanca, Maroc",labPhone:"Tél: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"NUMÉRATION FORMULE SANGUINE (NFS)",patientInfo:"INFORMATIONS PATIENT",doctorInfo:"MÉDECIN PRESCRIPTEUR",requestInfo:"DÉTAILS DEMANDE",analysisName:"Analyse",result:"Résultat",unit:"Unité",reference:"Valeurs de réf.",status:"Statut",notes:"Notes",normal:"Normal",abnormal:"Anormal",pending:"En attente",validated:"Validé",reportDate:"Date du rapport",interpretation:"Interprétation",validatedBy:"Validé par",signature:"Signature",disclaimer:"Ce rapport est généré automatiquement par le système SIL et destiné aux professionnels de santé.",noResults:"Aucun résultat disponible"}}[t],n=p=>new Date(p).toLocaleDateString(t==="fr"?"fr-FR":"en-US"),A=p=>{switch(p){case"VALIDATED":return s.validated;case"PENDING":return s.pending;default:return p}},i=new Ze("p","mm","a4"),o=i.internal.pageSize.getWidth(),l=14;let c=l;i.setFont("helvetica","bold"),i.setFontSize(20),i.text(s.labName,o/2,c,{align:"center"}),c+=7,i.setFontSize(10),i.setFont("helvetica","normal"),i.text(s.labAddress,o/2,c,{align:"center"}),c+=5,i.text(s.labPhone,o/2,c,{align:"center"}),c+=5,i.text(s.labEmail,o/2,c,{align:"center"}),c+=8,i.setDrawColor(0),i.setLineWidth(.5),i.line(l,c,o-l,c),c+=6,i.setFont("helvetica","bold"),i.setFontSize(14),i.text(s.reportTitle,o/2,c,{align:"center"}),c+=8,i.line(l,c,o-l,c),c+=6,i.setFont("helvetica","bold"),i.text(s.patientInfo,l,c),c+=5,i.setFont("helvetica","normal"),i.setFontSize(10),i.text(`${e.patient.firstName} ${e.patient.lastName}`,l,c),i.text(`${s.reportDate}: ${n(new Date().toISOString())}`,o-l,c,{align:"right"}),c+=5,i.text(`${s.analysisName}: CBC`,l,c),i.text(`${s.patientInfo}: ${e.patient.gender}`,o-l,c,{align:"right"}),c+=8;const u=(r=e.results)==null?void 0:r.reduce((p,h)=>{const B=h.analysis.category||"Other";return p[B]||(p[B]=[]),p[B].push(h),p},{});u?Object.entries(u).forEach(([p,h])=>{i.setFont("helvetica","bold"),i.setFillColor(240,240,240),i.rect(l,c-4,o-l*2,6,"F"),i.text(p,l+2,c),c+=6,i.setFontSize(9),i.setFont("helvetica","bold"),[{text:s.analysisName,x:l},{text:s.result,x:l+70},{text:s.unit,x:l+100},{text:s.reference,x:l+120},{text:s.status,x:l+160}].forEach(x=>i.text(x.text,x.x,c)),c+=4,i.setFont("helvetica","normal"),h.forEach(x=>{c>270&&(i.addPage(),c=l),x.status.toUpperCase()==="ABNORMAL"?i.setTextColor(200,0,0):i.setTextColor(0,0,0),i.text(x.analysis.name,l,c),i.text(x.value||"-",l+70,c),i.text(x.unit||"-",l+100,c),i.text(x.reference||"-",l+120,c),i.text(A(x.status),l+160,c),c+=4}),i.setTextColor(0,0,0),c+=3}):(i.setFontSize(10),i.text(s.noResults,l,c),c+=5),c+=5,i.setFont("helvetica","bold"),i.text(s.interpretation,l,c),c+=5,i.setFont("helvetica","normal"),i.setFontSize(9),i.text("All parameters within normal limits unless indicated in red. Please consult a physician for further interpretation.",l,c,{maxWidth:o-l*2}),c+=10,i.setFontSize(8),i.setFont("helvetica","italic"),i.text(s.disclaimer,o/2,285,{align:"center"});const f=`CBC_Report_${e.patient.firstName}_${e.patient.lastName}.pdf`;return i.save(f),f}catch(s){throw console.error(s),s}};function PU({request:e,onClose:t}){var f;const{language:r}=dt(),[s,n]=T.useState(!1),A={fr:{labName:"Laboratoire SIL",labAddress:"123 Rue de la Santé, Casablanca, Maroc",labPhone:"Tél: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"RAPPORT D'ANALYSES MÉDICALES",patientInfo:"INFORMATIONS PATIENT",doctorInfo:"MÉDECIN PRESCRIPTEUR",requestInfo:"INFORMATIONS DEMANDE",analysisResults:"RÉSULTATS D'ANALYSES",patientName:"Nom du patient",patientId:"ID Patient",dateOfBirth:"Date de naissance",gender:"Sexe",cnssNumber:"Numéro CNSS",doctorName:"Nom du médecin",specialty:"Spécialité",requestId:"ID Demande",requestDate:"Date de demande",analysisName:"Analyse",result:"Résultat",unit:"Unité",reference:"Valeurs de référence",status:"Statut",notes:"Notes",normal:"Normal",abnormal:"Anormal",pending:"En attente",validated:"Validé",completed:"Terminé",reportDate:"Date du rapport",validatedBy:"Validé par",signature:"Signature",disclaimer:"Ce rapport est généré automatiquement par le système SIL. Pour toute question, veuillez contacter le laboratoire.",print:"Imprimer",close:"Fermer"},en:{labName:"SIL Laboratory",labAddress:"123 Health Street, Casablanca, Morocco",labPhone:"Phone: +212 5 22 123 456",labEmail:"Email: contact@sil-lab.ma",reportTitle:"MEDICAL ANALYSIS REPORT",patientInfo:"PATIENT INFORMATION",doctorInfo:"PRESCRIBING DOCTOR",requestInfo:"REQUEST INFORMATION",analysisResults:"ANALYSIS RESULTS",patientName:"Patient Name",patientId:"Patient ID",dateOfBirth:"Date of Birth",gender:"Gender",cnssNumber:"CNSS Number",doctorName:"Doctor Name",specialty:"Specialty",requestId:"Request ID",requestDate:"Request Date",analysisName:"Analysis",result:"Result",unit:"Unit",reference:"Reference Values",status:"Status",notes:"Notes",normal:"Normal",abnormal:"Abnormal",pending:"Pending",validated:"Validated",completed:"Completed",reportDate:"Report Date",validatedBy:"Validated by",signature:"Signature",disclaimer:"This report is automatically generated by the SIL system. For any questions, please contact the laboratory.",print:"Print",close:"Close"}}[r],i=p=>{switch(p){case"VALIDATED":return A.validated;case"COMPLETED":return A.completed;case"PENDING":return A.pending;default:return p}},o=p=>{switch(p){case"VALIDATED":return"text-green-600";case"COMPLETED":return"text-blue-600";case"PENDING":return"text-yellow-600";default:return"text-gray-600"}},l=p=>new Date(p).toLocaleDateString(r==="fr"?"fr-FR":"en-US"),c=()=>{window.print()},u=async()=>{try{n(!0),await SB(e,r)}catch(p){console.error("Error generating PDF:",p),alert(r==="fr"?"Erreur lors de la génération du PDF":"Error generating PDF")}finally{n(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 print-container",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto print-container",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center no-print",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:A.reportTitle}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:u,disabled:s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:r==="fr"?"Génération...":"Generating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{children:r==="fr"?"Générer PDF":"Generate PDF"})]})}),a.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:A.print}),a.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:A.close})]})]}),a.jsxs("div",{id:"result-report-content",className:"p-6 print:p-0",children:[a.jsxs("div",{className:"text-center mb-8 print:mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:A.labName}),a.jsx("p",{className:"text-gray-600",children:A.labAddress}),a.jsx("p",{className:"text-gray-600",children:A.labPhone}),a.jsx("p",{className:"text-gray-600",children:A.labEmail})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 print:mb-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:A.patientInfo}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[A.patientName,":"]}),a.jsxs("span",{className:"ml-2",children:[e.patient.firstName," ",e.patient.lastName]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[A.patientId,":"]}),a.jsx("span",{className:"ml-2",children:e.patient.id})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[A.dateOfBirth,":"]}),a.jsx("span",{className:"ml-2",children:l(e.patient.dateOfBirth)})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[A.gender,":"]}),a.jsx("span",{className:"ml-2",children:e.patient.gender})]}),e.patient.cnssNumber&&a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[A.cnssNumber,":"]}),a.jsx("span",{className:"ml-2",children:e.patient.cnssNumber})]})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:A.doctorInfo}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[A.doctorName,":"]}),a.jsx("span",{className:"ml-2",children:e.doctor?`Dr. ${e.doctor.firstName} ${e.doctor.lastName}`:"N/A"})]}),((f=e.doctor)==null?void 0:f.specialty)&&a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[A.specialty,":"]}),a.jsx("span",{className:"ml-2",children:e.doctor.specialty})]})]})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-8 print:mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:A.requestInfo}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[A.requestId,":"]}),a.jsx("span",{className:"ml-2 font-mono",children:e.id})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[A.requestDate,":"]}),a.jsx("span",{className:"ml-2",children:l(e.createdAt)})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[A.reportDate,":"]}),a.jsx("span",{className:"ml-2",children:l(new Date().toISOString())})]})]})]}),a.jsxs("div",{className:"mb-8 print:mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:A.analysisResults}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full border border-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.analysisName}),a.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.result}),a.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.unit}),a.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.reference}),a.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.status}),a.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left text-sm font-medium text-gray-900",children:A.notes})]})}),a.jsx("tbody",{children:e.results&&e.results.length>0?e.results.map(p=>a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:p.analysis.name}),a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm font-medium",children:p.value||"-"}),a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:p.unit||"-"}),a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:p.reference||"-"}),a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:a.jsx("span",{className:o(p.status),children:i(p.status)})}),a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-sm",children:p.notes||"-"})]},p.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"border border-gray-200 px-4 py-4 text-center text-gray-500",children:r==="fr"?"Aucun résultat disponible":"No results available"})})})]})})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-6 print:pt-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[A.validatedBy,":"]}),a.jsx("div",{className:"border-t-2 border-gray-400 w-32 pt-2",children:a.jsx("p",{className:"text-sm font-medium",children:"Dr. Biologist"})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[A.signature,":"]}),a.jsx("div",{className:"border-t-2 border-gray-400 w-32 ml-auto pt-2",children:a.jsx("p",{className:"text-sm font-medium",children:"Lab Director"})})]})]}),a.jsx("div",{className:"mt-6 print:mt-4 text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:A.disclaimer})})]})]})]})})}function DU(){const{language:e}=dt(),[t,r]=T.useState([]),[s,n]=T.useState([]),[A,i]=T.useState(null),[o,l]=T.useState(!1),[c,u]=T.useState(null),[f,p]=T.useState(!1),[h,B]=T.useState(null),[x,N]=T.useState(!1),[m,y]=T.useState({patientName:"",patientId:"",cnssNumber:"",requestId:"",status:"",analysisCode:""}),v={fr:{title:"Livraison des Résultats",subtitle:"Panel de réception pour la récupération des résultats",searchPlaceholder:"Nom, ID, CNSS ou référence",search:"Rechercher",patient:"Patient",request:"Demande",doctor:"Médecin",date:"Date d'analyse",status:"Statut",actions:"Actions",notFound:"Aucun résultat trouvé",error:"Erreur lors de la récupération",noResults:"Aucun résultat trouvé",generateReport:"Générer Rapport",print:"Imprimer",download:"Télécharger",view:"Voir",markDelivered:"Marquer comme Livré",delivered:"Livré",inProgress:"En cours",completed:"Terminé",validated:"Validé",pending:"En attente",rejected:"Rejeté",allStatuses:"Tous les statuts",clearFilters:"Effacer les filtres",refresh:"Actualiser",patientName:"Nom du patient",patientId:"ID Patient",cnssNumber:"Numéro CNSS",requestId:"ID Demande",analysisCode:"Code Analyse",test:"Test",value:"Valeur",reference:"Référence",printTest:"Imprimer Test",printIndividualTest:"Imprimer Test Individuel",notReady:"Pas encore prêt pour l'impression",loading:"Chargement...",requestsFound:"demandes trouvées",resultsFound:"résultats trouvés"},en:{title:"Result Delivery",subtitle:"Reception panel for result retrieval",searchPlaceholder:"Name, ID, CNSS or reference",search:"Search",patient:"Patient",request:"Request",doctor:"Doctor",date:"Analysis Date",status:"Status",actions:"Actions",notFound:"No results found",error:"Error fetching data",noResults:"No results found",generateReport:"Generate Report",print:"Print",download:"Download",view:"View",markDelivered:"Mark as Delivered",delivered:"Delivered",inProgress:"In Progress",completed:"Completed",validated:"Validated",pending:"Pending",rejected:"Rejected",allStatuses:"All Statuses",clearFilters:"Clear Filters",refresh:"Refresh",patientName:"Patient Name",patientId:"Patient ID",cnssNumber:"CNSS Number",requestId:"Request ID",analysisCode:"Analysis Code",test:"Test",value:"Value",reference:"Reference",printTest:"Print Test",printIndividualTest:"Print Individual Test",notReady:"Not ready for printing",loading:"Loading...",requestsFound:"requests found",resultsFound:"results found"}}[e];T.useEffect(()=>{E()},[]),T.useEffect(()=>{U()},[t,m]);const E=async()=>{p(!0),B(null);try{const j=await Ic.getResults({limit:100,include:"request,analysis"});r(j.results||[])}catch(j){console.error("Error loading results:",j),B(v.error)}finally{p(!1)}},U=()=>{let j=t;m.patientName&&(j=j.filter(P=>P.request.patient.firstName.toLowerCase().includes(m.patientName.toLowerCase())||P.request.patient.lastName.toLowerCase().includes(m.patientName.toLowerCase()))),m.patientId&&(j=j.filter(P=>P.request.id.toLowerCase().includes(m.patientId.toLowerCase()))),m.cnssNumber&&(j=j.filter(P=>{var z;return(z=P.request.patient.cnssNumber)==null?void 0:z.toLowerCase().includes(m.cnssNumber.toLowerCase())})),m.requestId&&(j=j.filter(P=>P.request.id.toLowerCase().includes(m.requestId.toLowerCase()))),m.analysisCode&&(j=j.filter(P=>P.analysis.code.toLowerCase().includes(m.analysisCode.toLowerCase())||P.analysis.name.toLowerCase().includes(m.analysisCode.toLowerCase()))),m.status&&m.status!=="all"&&(j=j.filter(P=>P.status===m.status)),n(j)},V=(j,P)=>{y(z=>({...z,[j]:P}))},S=()=>{y({patientName:"",patientId:"",cnssNumber:"",requestId:"",status:"",analysisCode:""})},C=j=>{switch(j){case"VALIDATED":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"COMPLETED":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";case"REJECTED":return"text-red-600 bg-red-100 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},_=j=>{switch(j){case"VALIDATED":return v.validated;case"COMPLETED":return v.completed;case"PENDING":return v.pending;case"REJECTED":return v.rejected;default:return j}},H=async j=>{try{N(!0);const P=await Di.getRequest(j.request.id),z=await Ic.getResultsByRequest(j.request.id),D={...P,results:z||[]};console.log("Complete request for PDF:",D),await SB(D,e)}catch(P){console.error("Error generating PDF:",P),alert(e==="fr"?"Erreur lors de la génération du PDF":"Error generating PDF")}finally{N(!1)}},F=async j=>{try{const P=window.open("","_blank");P&&(P.document.write(`
          <html>
            <head>
              <title>${j.analysis.name} - ${j.request.patient.firstName} ${j.request.patient.lastName}</title>
              <style>
                body { font-family: Arial, sans-serif; margin: 20px; }
                .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
                .info { margin-bottom: 20px; }
                .result { border: 2px solid #2563eb; padding: 20px; margin: 20px 0; border-radius: 8px; }
                .value { font-size: 24px; font-weight: bold; color: #2563eb; }
                .reference { color: #666; font-size: 16px; }
                .status { color: #059669; font-weight: bold; }
                @media print { body { margin: 0; } }
              </style>
            </head>
            <body>
              <div class="header">
                <h1>Résultat d'Analyse Médicale</h1>
                <h2>${j.analysis.name} (${j.analysis.code})</h2>
              </div>
              <div class="info">
                <p><strong>Patient:</strong> ${j.request.patient.firstName} ${j.request.patient.lastName}</p>
                <p><strong>Date de naissance:</strong> ${new Date(j.request.patient.dateOfBirth).toLocaleDateString()}</p>
                <p><strong>Sexe:</strong> ${j.request.patient.gender}</p>
                <p><strong>Date d'analyse:</strong> ${new Date(j.request.createdAt).toLocaleDateString()}</p>
                <p><strong>Numéro de demande:</strong> ${j.request.id}</p>
                ${j.request.patient.cnssNumber?`<p><strong>CNSS:</strong> ${j.request.patient.cnssNumber}</p>`:""}
              </div>
              <div class="result">
                <p><strong>Résultat:</strong> <span class="value">${j.value||"N/A"} ${j.unit||""}</span></p>
                <p><strong>Valeurs de référence:</strong> <span class="reference">${j.reference||"N/A"}</span></p>
                <p><strong>Statut:</strong> <span class="status">${_(j.status)}</span></p>
                ${j.notes?`<p><strong>Notes:</strong> ${j.notes}</p>`:""}
              </div>
              <div style="margin-top: 40px; text-align: center;">
                <p><em>Ce rapport a été généré automatiquement par le système SIL Lab</em></p>
              </div>
            </body>
          </html>
        `),P.document.close(),P.print())}catch(P){console.error("Error printing individual test:",P),alert(e==="fr"?"Erreur lors de l'impression du test":"Error printing test")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:v.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:v.subtitle})]}),a.jsxs("button",{onClick:E,disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[a.jsx(GA,{className:`h-4 w-4 ${f?"animate-spin":""}`}),a.jsx("span",{children:v.refresh})]})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:e==="fr"?"Comment imprimer les résultats":"How to print results"}),a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:e==="fr"?`1. Trouvez un résultat avec statut "Validé" 2. Cliquez sur l'icône imprimante pour imprimer le test individuel 3. Ou cliquez sur "Voir" puis "Générer PDF" pour le rapport complet`:'1. Find a result with "Validated" status 2. Click the printer icon to print individual test 3. Or click "View" then "Generate PDF" for complete report'})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",value:m.patientName,onChange:j=>V("patientName",j.target.value),placeholder:v.patientName,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsx("div",{children:a.jsx("input",{type:"text",value:m.patientId,onChange:j=>V("patientId",j.target.value),placeholder:v.patientId,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),a.jsx("div",{children:a.jsx("input",{type:"text",value:m.cnssNumber,onChange:j=>V("cnssNumber",j.target.value),placeholder:v.cnssNumber,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),a.jsx("div",{children:a.jsx("input",{type:"text",value:m.requestId,onChange:j=>V("requestId",j.target.value),placeholder:v.requestId,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),a.jsx("div",{children:a.jsx("input",{type:"text",value:m.analysisCode,onChange:j=>V("analysisCode",j.target.value),placeholder:v.analysisCode,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),a.jsx("div",{children:a.jsxs("select",{value:m.status,onChange:j=>V("status",j.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:v.allStatuses}),a.jsx("option",{value:"PENDING",children:v.pending}),a.jsx("option",{value:"COMPLETED",children:v.completed}),a.jsx("option",{value:"VALIDATED",children:v.validated}),a.jsx("option",{value:"REJECTED",children:v.rejected})]})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("button",{onClick:S,className:"px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-2",children:[a.jsx(yl,{size:16}),a.jsx("span",{children:v.clearFilters})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.length," ",v.resultsFound]})]})]}),h&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(an,{className:"text-red-600",size:20}),a.jsx("span",{className:"text-red-800 dark:text-red-200",children:h})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:v.patient}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:v.test}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:v.value}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:v.reference}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:v.date}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:v.status}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:v.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:f?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:v.loading})]})})}):s.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:v.notFound})}):s.map(j=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:a.jsx(fa,{className:"h-5 w-5 text-blue-600"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[j.request.patient.firstName," ",j.request.patient.lastName]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:j.request.patient.cnssNumber||"N/A"})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:j.analysis.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[j.analysis.code," - ",j.analysis.category]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[j.value||"-"," ",j.unit]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:j.reference||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(j.request.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C(j.status)}`,children:_(j.status)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>i(j),className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:v.view,children:a.jsx(cs,{size:16})}),j.status==="VALIDATED"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>F(j),className:"text-purple-600 hover:text-purple-900 dark:hover:text-purple-400",title:v.printIndividualTest,children:a.jsx(Bi,{size:16})}),a.jsx("button",{onClick:()=>H(j),disabled:x,className:"text-green-600 hover:text-green-900 dark:hover:text-green-400 disabled:opacity-50 disabled:cursor-not-allowed",title:e==="fr"?"Générer PDF":"Generate PDF",children:x?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})]})})]},j.id))})]})})}),A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[A.analysis.name," - ",A.request.patient.firstName," ",A.request.patient.lastName]}),a.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(an,{size:20})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:v.patient}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[A.request.patient.firstName," ",A.request.patient.lastName]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["CNSS: ",A.request.patient.cnssNumber||"N/A"]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:v.status}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C(A.status)}`,children:_(A.status)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:v.test}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[A.analysis.name," (",A.analysis.code,")"]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:A.analysis.category})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:v.value}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[A.value||"-"," ",A.unit]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Référence: ",A.reference||"-"]})]})]}),a.jsx("div",{className:"flex justify-end space-x-3",children:A.status==="VALIDATED"?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>F(A),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center space-x-2",children:[a.jsx(Bi,{size:16}),a.jsx("span",{children:v.printIndividualTest})]}),a.jsx("button",{onClick:()=>H(A),disabled:x,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:x?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:e==="fr"?"Génération...":"Generating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{children:e==="fr"?"Générer PDF":"Generate PDF"})]})})]}):a.jsxs("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 flex items-center space-x-2",children:[a.jsx(Qs,{size:16}),a.jsx("span",{children:v.notReady})]})})]})]})}),o&&c&&a.jsx(PU,{request:c,onClose:()=>{l(!1),u(null)}})]})}function TU(){const{language:e}=dt(),[t,r]=T.useState([]),[s,n]=T.useState(!1),[A,i]=T.useState(null),[o,l]=T.useState(null),[c,u]=T.useState(!1),[f,p]=T.useState(null),[h,B]=T.useState(""),x={fr:{title:"Validation des Résultats",subtitle:"Panel de validation pour les biologistes",searchPlaceholder:"Nom du patient, code analyse...",patient:"Patient",analysis:"Analyse",value:"Valeur",reference:"Référence",status:"Statut",actions:"Actions",pending:"En attente",validated:"Validé",rejected:"Rejeté",validate:"Valider",reject:"Rejeter",view:"Voir",refresh:"Actualiser",notFound:"Aucun résultat trouvé",error:"Erreur lors de la récupération",loading:"Chargement...",confirmValidation:"Confirmer la validation",confirmRejection:"Confirmer le rejet",validationNotes:"Notes de validation",cancel:"Annuler",confirm:"Confirmer",validationSuccess:"Résultat validé avec succès",rejectionSuccess:"Résultat rejeté avec succès",validationError:"Erreur lors de la validation",rejectionError:"Erreur lors du rejet",close:"Fermer",doctor:"Médecin",specialty:"Spécialité",notes:"Notes"},en:{title:"Result Validation",subtitle:"Biologist validation panel",searchPlaceholder:"Patient name, analysis code...",patient:"Patient",analysis:"Analysis",value:"Value",reference:"Reference",status:"Status",actions:"Actions",pending:"Pending",validated:"Validated",rejected:"Rejected",validate:"Validate",reject:"Reject",view:"View",refresh:"Refresh",notFound:"No results found",error:"Error fetching data",loading:"Loading...",confirmValidation:"Confirm validation",confirmRejection:"Confirm rejection",validationNotes:"Validation notes",cancel:"Cancel",confirm:"Confirm",validationSuccess:"Result validated successfully",rejectionSuccess:"Result rejected successfully",validationError:"Error during validation",rejectionError:"Error during rejection",close:"Close",doctor:"Doctor",specialty:"Specialty",notes:"Notes"}}[e];T.useEffect(()=>{N()},[]);const N=async()=>{try{n(!0),i(null);const S=await Ic.getResults({limit:100,include:"request,analysis"});r(S.results||[])}catch(S){console.error("Error loading results:",S),i(x.error)}finally{n(!1)}},m=S=>{switch(S){case"VALIDATED":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"REJECTED":return"text-red-600 bg-red-100 dark:bg-red-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},y=S=>{switch(S){case"VALIDATED":return x.validated;case"REJECTED":return x.rejected;case"PENDING":return x.pending;default:return S}},v=async S=>{try{p(S.id),await Ic.validateResult(S.id,"biologist-user"),r(C=>C.map(_=>_.id===S.id?{..._,status:"VALIDATED"}:_)),(o==null?void 0:o.id)===S.id&&(u(!1),l(null)),alert(x.validationSuccess)}catch(C){console.error("Error validating result:",C),alert(x.validationError)}finally{p(null)}},E=async S=>{try{p(S.id),await Ic.updateResult(S.id,{status:"REJECTED"}),r(C=>C.map(_=>_.id===S.id?{..._,status:"REJECTED"}:_)),(o==null?void 0:o.id)===S.id&&(u(!1),l(null)),alert(x.rejectionSuccess)}catch(C){console.error("Error rejecting result:",C),alert(x.rejectionError)}finally{p(null)}},U=t.filter(S=>{if(!h)return!0;const C=h.toLowerCase();return S.request.patient.firstName.toLowerCase().includes(C)||S.request.patient.lastName.toLowerCase().includes(C)||S.analysis.code.toLowerCase().includes(C)||S.analysis.name.toLowerCase().includes(C)}),V=()=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[o==null?void 0:o.analysis.name," - ",o==null?void 0:o.request.patient.firstName," ",o==null?void 0:o.request.patient.lastName]}),a.jsx("button",{onClick:()=>{u(!1),l(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:20})})]}),o&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:x.patient}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.request.patient.firstName," ",o.request.patient.lastName]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.request.patient.gender,", ",new Date(o.request.patient.dateOfBirth).toLocaleDateString()]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:x.analysis}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.analysis.name," (",o.analysis.code,")"]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.analysis.category})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:x.value}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.value||"-"," ",o.unit]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:x.reference}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.reference||"-"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:x.status}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(o.status)}`,children:y(o.status)})]}),o.request.doctor&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:x.doctor}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.request.doctor.firstName," ",o.request.doctor.lastName]}),o.request.doctor.specialty&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.request.doctor.specialty})]}),o.notes&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:x.notes}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.notes})]})]}),o&&o.status==="PENDING"&&a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{onClick:()=>E(o),disabled:f===o.id,className:"px-4 py-2 text-red-600 bg-red-100 rounded-lg hover:bg-red-200 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 disabled:opacity-50",children:f===o.id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):x.reject}),a.jsx("button",{onClick:()=>v(o),disabled:f===o.id,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:f===o.id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):x.validate})]})]})})});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:x.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:x.subtitle})]}),a.jsxs("button",{onClick:N,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[a.jsx(GA,{className:`h-4 w-4 ${s?"animate-spin":""}`}),a.jsx("span",{children:x.refresh})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),a.jsx("input",{type:"text",placeholder:x.searchPlaceholder,value:h,onChange:S=>B(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.patient}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.analysis}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.value}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.reference}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.status}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:x.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:x.loading})]})})}):U.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:x.notFound})}):U.map(S=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[S.request.patient.firstName," ",S.request.patient.lastName]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[S.request.patient.gender,", ",new Date(S.request.patient.dateOfBirth).toLocaleDateString()]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:S.analysis.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[S.analysis.code," - ",S.analysis.category]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[S.value||"-"," ",S.unit]}),a.jsx(Pr,{size:16,className:"text-green-500"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:S.reference||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(S.status)}`,children:y(S.status)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[S.status==="PENDING"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>v(S),disabled:f===S.id,className:"text-green-600 hover:text-green-900 dark:hover:text-green-400 disabled:opacity-50",title:x.validate,children:f===S.id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):a.jsx(Xb,{size:16})}),a.jsx("button",{onClick:()=>E(S),disabled:f===S.id,className:"text-red-600 hover:text-red-900 dark:hover:text-red-400 disabled:opacity-50",title:x.reject,children:f===S.id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):a.jsx(wt,{size:16})})]}),a.jsx("button",{onClick:()=>{l(S),u(!0)},className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400",title:x.view,children:a.jsx(cs,{size:16})})]})})]},S.id))})]})}),c&&a.jsx(V,{})]})}function RU(){const{language:e}=dt(),[t,r]=T.useState(!1),[s,n]=T.useState(!1),[A,i]=T.useState(null),o={fr:{title:"Module de Facturation",newInvoice:"Nouvelle Facture",invoice:"Facture",patient:"Patient",amount:"Montant",status:"Statut",payer:"Payeur",date:"Date",actions:"Actions",export:"Exporter",close:"Fermer",save:"Enregistrer",cancel:"Annuler",send:"Envoyer"},en:{title:"Billing Module",newInvoice:"New Invoice",invoice:"Invoice",patient:"Patient",amount:"Amount",status:"Status",payer:"Payer",date:"Date",actions:"Actions",export:"Export",close:"Close",save:"Save",cancel:"Cancel",send:"Send"}}[e],[l]=T.useState([{id:"FAC001",patientName:"Dupont, Marie",amount:125.5,status:"paid",payer:"CPAM",date:"2024-01-15"},{id:"FAC002",patientName:"Martin, Pierre",amount:89.2,status:"sent",payer:"MGEN",date:"2024-01-14"}]),c=x=>({pending:"bg-yellow-100 text-yellow-800",sent:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[x]||"bg-gray-100 text-gray-800",u=x=>{i(x),n(!0)},f=x=>{console.log("Sending invoice:",x.id)},p=()=>{console.log("Exporting invoices...")},h=()=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o.newInvoice}),a.jsx("button",{onClick:()=>r(!1),children:a.jsx(wt,{size:20,className:"text-gray-500"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",placeholder:"Nom du patient",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsx("input",{type:"number",placeholder:"Montant",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{children:"Sélectionner payeur"}),a.jsx("option",{children:"CPAM"}),a.jsx("option",{children:"MGEN"}),a.jsx("option",{children:"Harmonie"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:o.cancel}),a.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:o.save})]})]})}),B=()=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Détails de la facture"}),a.jsx("button",{onClick:()=>n(!1),children:a.jsx(wt,{size:20,className:"text-gray-500"})})]}),A&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"ID:"})," ",A.id]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Patient:"})," ",A.patientName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Montant:"})," dh",A.amount]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Statut:"})," ",A.status]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Payeur:"})," ",A.payer]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Date:"})," ",A.date]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:o.close})})]})});return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:o.title}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:p,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[a.jsx(VA,{size:20,className:"mr-2"}),o.export]}),a.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:20,className:"mr-2"}),o.newInvoice]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.invoice}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.patient}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.amount}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.status}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.payer}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.date}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:o.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.map(x=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:x.id}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:x.patientName}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["dh",x.amount]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(x.status)}`,children:x.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:x.payer}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:x.date}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[a.jsx("button",{onClick:()=>u(x),className:"text-blue-600 hover:text-blue-900 mr-3",children:a.jsx(cs,{size:16})}),a.jsx("button",{onClick:()=>f(x),className:"text-green-600 hover:text-green-900",children:a.jsx(TC,{size:16})})]})]},x.id))})]})}),t&&a.jsx(h,{}),s&&a.jsx(B,{})]})}function HU(){const{language:e}=dt(),[t,r]=T.useState({labName:"Laboratoire Central",address:"123 Rue de la Santé, 75014 Paris",phone:"01.42.34.56.78",email:"contact@lab.fr",autoprint:!0,defaultPrinter:"HP LaserJet Pro",smsNotifications:!0,emailNotifications:!0}),[s,n]=T.useState([{code:"4005",nom:"Hémogramme (CBC)",category:"Hématologie",price:45,tva:20},{code:"4010",nom:"Glycémie (Blood Sugar)",category:"Biochimie",price:25,tva:20},{code:"4015",nom:"Cholestérol Total",category:"Lipides",price:30,tva:20},{code:"4020",nom:"HDL Cholestérol",category:"Lipides",price:35,tva:20},{code:"4025",nom:"LDL Cholestérol",category:"Lipides",price:35,tva:20},{code:"4030",nom:"Triglycérides",category:"Lipides",price:30,tva:20},{code:"4035",nom:"Créatininémie",category:"Biochimie",price:28,tva:20},{code:"4040",nom:"Urée",category:"Biochimie",price:25,tva:20},{code:"4045",nom:"Bilan hépatique",category:"Biochimie",price:55,tva:20},{code:"4050",nom:"TSH",category:"Hormonologie",price:40,tva:20},{code:"4055",nom:"T4 Libre",category:"Hormonologie",price:45,tva:20},{code:"4060",nom:"T3 Libre",category:"Hormonologie",price:45,tva:20},{code:"4070",nom:"Groupe Sanguin",category:"Immunologie",price:35,tva:20},{code:"4075",nom:"CRP",category:"Inflammation",price:32,tva:20},{code:"4080",nom:"VS",category:"Inflammation",price:20,tva:20}]),A={fr:{title:"Centre de Configuration",labSettings:"Paramètres du Laboratoire",labName:"Nom du Laboratoire",address:"Adresse",phone:"Téléphone",email:"Email",printSettings:"Paramètres d'Impression",autoprint:"Impression automatique",defaultPrinter:"Imprimante par défaut",notifications:"Notifications",smsNotifications:"Notifications SMS",emailNotifications:"Notifications Email",pricing:"Tarification des Analyses",analysisCode:"Code",analysisName:"Nom de l'Analyse",category:"Catégorie",price:"Prix HT",tva:"TVA (%)",totalPrice:"Prix TTC",save:"Enregistrer",savePrices:"Enregistrer les Prix"},en:{title:"Configuration Center",labSettings:"Laboratory Settings",labName:"Laboratory Name",address:"Address",phone:"Phone",email:"Email",printSettings:"Print Settings",autoprint:"Auto-print",defaultPrinter:"Default Printer",notifications:"Notifications",smsNotifications:"SMS Notifications",emailNotifications:"Email Notifications",pricing:"Analysis Pricing",analysisCode:"Code",analysisName:"Analysis Name",category:"Category",price:"Price (excl. tax)",tva:"VAT (%)",totalPrice:"Total Price",save:"Save",savePrices:"Save Prices"}}[e],i=(u,f)=>{r(p=>({...p,[u]:f}))},o=(u,f,p)=>{n(h=>h.map(B=>B.code===u?{...B,[f]:p}:B))},l=()=>{console.log("Saving configuration:",t),localStorage.setItem("sil_lab_config",JSON.stringify(t)),localStorage.setItem("sil_lab_prices",JSON.stringify(s)),alert("Configuration sauvegardée avec succès!")},c=(u,f)=>u*(1+f/100);return a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:A.title}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(LA,{className:"h-6 w-6 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:A.labSettings})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.labName}),a.jsx("input",{type:"text",value:t.labName,onChange:u=>i("labName",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.address}),a.jsx("input",{type:"text",value:t.address,onChange:u=>i("address",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.phone}),a.jsx("input",{type:"text",value:t.phone,onChange:u=>i("phone",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.email}),a.jsx("input",{type:"email",value:t.email,onChange:u=>i("email",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Bi,{className:"h-6 w-6 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:A.printSettings})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.autoprint,onChange:u=>i("autoprint",u.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:A.autoprint})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.defaultPrinter}),a.jsx("input",{type:"text",value:t.defaultPrinter,onChange:u=>i("defaultPrinter",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Li,{className:"h-6 w-6 text-purple-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:A.notifications})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.smsNotifications,onChange:u=>i("smsNotifications",u.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:A.smsNotifications})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.emailNotifications,onChange:u=>i("emailNotifications",u.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:A.emailNotifications})]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("button",{onClick:l,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[a.jsx(ia,{size:20,className:"mr-2"}),A.save]})})]}),a.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ls,{className:"h-6 w-6 text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:A.pricing})]}),a.jsxs("button",{onClick:l,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[a.jsx(ia,{size:16,className:"mr-2"}),A.savePrices]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.analysisCode}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.analysisName}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.category}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.price}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.tva}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:A.totalPrice})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(u=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:u.code}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:u.nom}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:u.category}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("input",{type:"number",step:"0.01",min:"0",value:u.price,onChange:f=>o(u.code,"price",parseFloat(f.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:u.tva,onChange:f=>o(u.code,"tva",parseFloat(f.target.value)||0),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),a.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400",children:[c(u.price,u.tva).toFixed(2)," dh"]})]},u.code))})]})})]})]})}function MU(){const{language:e}=dt(),[t,r]=T.useState([]),[s,n]=T.useState({symbol:"dh",code:"MAD",position:"after",decimalPlaces:2}),[A,i]=T.useState(""),[o,l]=T.useState("all"),[c,u]=T.useState(!1),[f,p]=T.useState(null),[h,B]=T.useState(!0),x={fr:{title:"Gestion des Prix",subtitle:"Configuration des tarifs des analyses",currency:"Devise",currencySymbol:"Symbole de devise",currencyCode:"Code devise",currencyPosition:"Position du symbole",decimalPlaces:"Décimales",before:"Avant",after:"Après",search:"Rechercher...",filter:"Filtrer par catégorie",allCategories:"Toutes les catégories",addPrice:"Ajouter un prix",editPrice:"Modifier le prix",code:"Code",name:"Nom",category:"Catégorie",price:"Prix HT",tva:"TVA (%)",cost:"Coût",profit:"Marge",totalPrice:"Prix TTC",lastUpdated:"Dernière mise à jour",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",saveAll:"Enregistrer tout",priceHistory:"Historique des prix",profitAnalysis:"Analyse des marges",totalRevenue:"Revenu total",averagePrice:"Prix moyen",totalAnalyses:"Total analyses",priceChanges:"Changements de prix",success:"Prix enregistré avec succès",error:"Erreur lors de l'enregistrement",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce prix ?"},en:{title:"Price Management",subtitle:"Analysis pricing configuration",currency:"Currency",currencySymbol:"Currency symbol",currencyCode:"Currency code",currencyPosition:"Symbol position",decimalPlaces:"Decimal places",before:"Before",after:"After",search:"Search...",filter:"Filter by category",allCategories:"All categories",addPrice:"Add price",editPrice:"Edit price",code:"Code",name:"Name",category:"Category",price:"Price (excl. tax)",tva:"VAT (%)",cost:"Cost",profit:"Profit",totalPrice:"Total price",lastUpdated:"Last updated",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",saveAll:"Save all",priceHistory:"Price history",profitAnalysis:"Profit analysis",totalRevenue:"Total revenue",averagePrice:"Average price",totalAnalyses:"Total analyses",priceChanges:"Price changes",success:"Price saved successfully",error:"Error saving price",confirmDelete:"Are you sure you want to delete this price?"}}[e];T.useEffect(()=>{N()},[]);const N=async()=>{try{const O=await Xo.getPrices();r(O.length>0?O:m());const Z=await Xo.getCurrencySettings();Z&&n(Z),B(!1)}catch(O){console.error("Error loading data:",O),r(m()),B(!1)}},m=()=>[{code:"4005",nom:"Hémogramme (CBC)",category:"Hématologie",price:45,tva:20,cost:15,profit:30},{code:"4010",nom:"Glycémie (Blood Sugar)",category:"Biochimie",price:25,tva:20,cost:8,profit:17},{code:"4015",nom:"Cholestérol Total",category:"Lipides",price:30,tva:20,cost:10,profit:20},{code:"4020",nom:"HDL Cholestérol",category:"Lipides",price:35,tva:20,cost:12,profit:23},{code:"4025",nom:"LDL Cholestérol",category:"Lipides",price:35,tva:20,cost:12,profit:23},{code:"4030",nom:"Triglycérides",category:"Lipides",price:30,tva:20,cost:10,profit:20},{code:"4035",nom:"Créatininémie",category:"Biochimie",price:28,tva:20,cost:9,profit:19},{code:"4040",nom:"Urée",category:"Biochimie",price:25,tva:20,cost:8,profit:17},{code:"4045",nom:"Bilan hépatique",category:"Biochimie",price:55,tva:20,cost:18,profit:37},{code:"4050",nom:"TSH",category:"Hormonologie",price:40,tva:20,cost:13,profit:27},{code:"4055",nom:"T4 Libre",category:"Hormonologie",price:45,tva:20,cost:15,profit:30},{code:"4060",nom:"T3 Libre",category:"Hormonologie",price:45,tva:20,cost:15,profit:30},{code:"4070",nom:"Groupe Sanguin",category:"Immunologie",price:35,tva:20,cost:11,profit:24},{code:"4075",nom:"CRP",category:"Inflammation",price:32,tva:20,cost:10,profit:22},{code:"4080",nom:"VS",category:"Inflammation",price:20,tva:20,cost:6,profit:14}],y=["Hématologie","Biochimie","Lipides","Hormonologie","Immunologie","Inflammation"],v=t.filter(O=>{const Z=O.nom.toLowerCase().includes(A.toLowerCase())||O.code.includes(A),K=o==="all"||O.category===o;return Z&&K}),E=(O,Z)=>O*(1+Z/100),U=(O,Z=0)=>O-Z,V=O=>{const Z=O.toFixed(s.decimalPlaces);return s.position==="before"?`${s.symbol}${Z}`:`${Z}${s.symbol}`},S=(O,Z,K)=>{r(te=>te.map(se=>{if(se.code===O){const he={...se,[Z]:K};return(Z==="price"||Z==="cost")&&(he.profit=U(he.price,he.cost)),he}return se}))},C=()=>{try{Xo.savePrices(t),localStorage.setItem("sil_lab_currency",JSON.stringify(s)),alert(x.success)}catch(O){console.error("Save error:",O),alert(x.error)}},_=O=>{window.confirm(x.confirmDelete)&&r(Z=>Z.filter(K=>K.code!==O))},H=()=>{const O={code:"",nom:"",category:"Biochimie",price:0,tva:20,cost:0,profit:0,lastUpdated:new Date().toISOString()};p(O),u(!0)},F=()=>{if(f&&f.code&&f.nom){const O={...f,profit:U(f.price,f.cost),lastUpdated:new Date().toISOString()};r(Z=>[...Z,O]),p(null),u(!1)}},j=t.reduce((O,Z)=>O+Z.price,0),P=j/t.length,z=t.reduce((O,Z)=>O+(Z.profit||0),0),D=j>0?z/j*100:0;return h?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:x.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:x.subtitle})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:x.currency}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.currencySymbol}),a.jsx("input",{type:"text",value:s.symbol,onChange:O=>n(Z=>({...Z,symbol:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",maxLength:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.currencyCode}),a.jsx("input",{type:"text",value:s.code,onChange:O=>n(Z=>({...Z,code:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",maxLength:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.currencyPosition}),a.jsxs("select",{value:s.position,onChange:O=>n(Z=>({...Z,position:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"before",children:x.before}),a.jsx("option",{value:"after",children:x.after})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.decimalPlaces}),a.jsx("input",{type:"number",min:"0",max:"4",value:s.decimalPlaces,onChange:O=>n(Z=>({...Z,decimalPlaces:parseInt(O.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ls,{className:"h-8 w-8 text-green-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.totalRevenue}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:V(j)})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mn,{className:"h-8 w-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.averagePrice}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:V(P)})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mn,{className:"h-8 w-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.profitAnalysis}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:V(z)})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(RA,{className:"h-8 w-8 text-orange-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Marge (%)"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[D.toFixed(1),"%"]})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",value:A,onChange:O=>i(O.target.value),placeholder:x.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:o,onChange:O=>l(O.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:x.allCategories}),y.map(O=>a.jsx("option",{value:O,children:O},O))]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:H,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:16,className:"mr-2"}),x.addPrice]}),a.jsxs("button",{onClick:C,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[a.jsx(ia,{size:16,className:"mr-2"}),x.saveAll]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.code}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.name}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.category}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.price}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.tva}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.cost}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.profit}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.totalPrice}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:x.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:v.map(O=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:O.code}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:O.nom}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:O.category}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"number",step:"0.01",min:"0",value:O.price,onChange:Z=>S(O.code,"price",parseFloat(Z.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:O.tva,onChange:Z=>S(O.code,"tva",parseFloat(Z.target.value)||0),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"number",step:"0.01",min:"0",value:O.cost||0,onChange:Z=>S(O.code,"cost",parseFloat(Z.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700 dark:text-white text-sm"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600 dark:text-green-400",children:V(O.profit||0)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 dark:text-blue-400",children:V(E(O.price,O.tva))}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>_(O.code),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(zn,{size:16})})})]},O.code))})]})})}),c&&f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:x.addPrice}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.code}),a.jsx("input",{type:"text",value:f.code,onChange:O=>p(Z=>Z?{...Z,code:O.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.name}),a.jsx("input",{type:"text",value:f.nom,onChange:O=>p(Z=>Z?{...Z,nom:O.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.category}),a.jsx("select",{value:f.category,onChange:O=>p(Z=>Z?{...Z,category:O.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:y.map(O=>a.jsx("option",{value:O,children:O},O))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.price}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:f.price,onChange:O=>p(Z=>Z?{...Z,price:parseFloat(O.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:x.tva}),a.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:f.tva,onChange:O=>p(Z=>Z?{...Z,tva:parseFloat(O.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>{u(!1),p(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:x.cancel}),a.jsx("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:x.save})]})]})})]})}function OU(){const{language:e}=dt(),[t,r]=T.useState(!1),[s,n]=T.useState(!1),[A,i]=T.useState(null),[o,l]=T.useState(!1),c={fr:{title:"Gestion des Utilisateurs",newUser:"Nouvel Utilisateur",name:"Nom",email:"Email",role:"Rôle",status:"Statut",permissions:"Permissions",actions:"Actions",active:"Actif",inactive:"Inactif",admin:"Administrateur",biologist:"Biologiste",technician:"Technicien",secretary:"Secrétaire",close:"Fermer",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Confirmer la suppression"},en:{title:"User Management",newUser:"New User",name:"Name",email:"Email",role:"Role",status:"Status",permissions:"Permissions",actions:"Actions",active:"Active",inactive:"Inactive",admin:"Administrator",biologist:"Biologist",technician:"Technician",secretary:"Secretary",close:"Close",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Confirm deletion"}}[e],[u]=T.useState([{id:"1",name:"Dr. Admin",email:"admin@lab.fr",role:"admin",status:"active",permissions:["all"]},{id:"2",name:"Dr. Biologiste",email:"bio@lab.fr",role:"biologist",status:"active",permissions:["validate_results","view_all_requests"]},{id:"3",name:"Tech Support",email:"tech@lab.fr",role:"technician",status:"active",permissions:["enter_results","manage_samples"]}]),f=v=>({admin:"bg-purple-100 text-purple-800",biologist:"bg-blue-100 text-blue-800",technician:"bg-green-100 text-green-800",secretary:"bg-yellow-100 text-yellow-800"})[v]||"bg-gray-100 text-gray-800",p=v=>v==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",h=v=>{i(v),n(!0)},B=v=>{i(v),l(!0)},x=()=>{console.log("Deleting user:",A==null?void 0:A.id),l(!1)},N=()=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.newUser}),a.jsx("button",{onClick:()=>r(!1),children:a.jsx(wt,{size:20,className:"text-gray-500"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",placeholder:"Nom complet",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{children:"Sélectionner un rôle"}),a.jsx("option",{value:"admin",children:"Administrateur"}),a.jsx("option",{value:"biologist",children:"Biologiste"}),a.jsx("option",{value:"technician",children:"Technicien"}),a.jsx("option",{value:"secretary",children:"Secrétaire"})]}),a.jsx("input",{type:"password",placeholder:"Mot de passe",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),a.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c.save})]})]})}),m=()=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Modifier utilisateur"}),a.jsx("button",{onClick:()=>n(!1),children:a.jsx(wt,{size:20,className:"text-gray-500"})})]}),A&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",defaultValue:A.name,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsx("input",{type:"email",defaultValue:A.email,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),a.jsxs("select",{defaultValue:A.role,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"admin",children:"Administrateur"}),a.jsx("option",{value:"biologist",children:"Biologiste"}),a.jsx("option",{value:"technician",children:"Technicien"}),a.jsx("option",{value:"secretary",children:"Secrétaire"})]}),a.jsxs("select",{defaultValue:A.status,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"active",children:"Actif"}),a.jsx("option",{value:"inactive",children:"Inactif"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),a.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:c.save})]})]})}),y=()=>a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.confirmDelete}),a.jsx("button",{onClick:()=>l(!1),children:a.jsx(wt,{size:20,className:"text-gray-500"})})]}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Êtes-vous sûr de vouloir supprimer l'utilisateur ",A==null?void 0:A.name," ?"]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:c.cancel}),a.jsx("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:c.delete})]})]})});return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:c.title}),a.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:20,className:"mr-2"}),c.newUser]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.name}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.email}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.role}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.status}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.permissions}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:u.map(v=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:v.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:v.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f(v.role)}`,children:c[v.role]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(v.status)}`,children:v.status==="active"?c.active:c.inactive})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(e5,{size:16,className:"mr-1"}),v.permissions.length]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[a.jsx("button",{onClick:()=>h(v),className:"text-blue-600 hover:text-blue-900 mr-3",children:a.jsx(qn,{size:16})}),a.jsx("button",{onClick:()=>B(v),className:"text-red-600 hover:text-red-900",children:a.jsx(OC,{size:16})})]})]},v.id))})]})}),t&&a.jsx(N,{}),s&&a.jsx(m,{}),o&&a.jsx(y,{})]})}function _U({onClose:e,onSuccess:t}){const{user:r,language:s}=dt(),[n,A]=T.useState({productId:"",quantity:0,lotNumber:"",expiryDate:"",location:"",unitCost:0,notes:"",receivedBy:(r==null?void 0:r.name)||""}),[i,o]=T.useState([]),[l,c]=T.useState([]),[u,f]=T.useState(!1),[p,h]=T.useState({}),[B,x]=T.useState(!1);T.useState(!1);const[N,m]=T.useState(""),[y,v]=T.useState(""),E={title:s==="fr"?"Ajouter Stock":"Add Stock Entry",subtitle:s==="fr"?"Enregistrer un nouvel arrivage":"Record new stock arrival",product:s==="fr"?"Produit":"Product",selectProduct:s==="fr"?"Sélectionner un produit":"Select a product",searchProduct:s==="fr"?"Rechercher un produit...":"Search for a product...",quantity:s==="fr"?"Quantité":"Quantity",lotNumber:s==="fr"?"Numéro de lot":"Lot Number",expiryDate:s==="fr"?"Date d'expiration":"Expiry Date",location:s==="fr"?"Emplacement":"Location",unitCost:s==="fr"?"Coût unitaire":"Unit Cost",notes:"Notes",receivedBy:s==="fr"?"Reçu par":"Received By",supplier:s==="fr"?"Fournisseur":"Supplier",selectSupplier:s==="fr"?"Sélectionner un fournisseur":"Select a supplier",searchSupplier:s==="fr"?"Rechercher un fournisseur...":"Search for a supplier...",addNewProduct:s==="fr"?"Ajouter un nouveau produit":"Add New Product",addNewSupplier:s==="fr"?"Ajouter un nouveau fournisseur":"Add New Supplier",save:s==="fr"?"Enregistrer":"Save",cancel:s==="fr"?"Annuler":"Cancel",required:s==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:s==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",invalidCost:s==="fr"?"Le coût doit être positif":"Cost must be positive",invalidDate:s==="fr"?"La date d'expiration doit être dans le futur":"Expiry date must be in the future",success:s==="fr"?"Stock ajouté avec succès":"Stock added successfully",error:s==="fr"?"Erreur lors de l'ajout du stock":"Error adding stock",loading:s==="fr"?"Enregistrement...":"Saving...",noProducts:s==="fr"?"Aucun produit trouvé":"No products found",noSuppliers:s==="fr"?"Aucun fournisseur trouvé":"No suppliers found",createProduct:s==="fr"?"Créer un produit":"Create Product",createSupplier:s==="fr"?"Créer un fournisseur":"Create Supplier",productName:s==="fr"?"Nom du produit":"Product Name",productCode:s==="fr"?"Code du produit":"Product Code",category:s==="fr"?"Catégorie":"Category",unit:s==="fr"?"Unité":"Unit",minQuantity:s==="fr"?"Quantité minimale":"Minimum Quantity",supplierName:s==="fr"?"Nom du fournisseur":"Supplier Name",supplierEmail:s==="fr"?"Email du fournisseur":"Supplier Email",supplierPhone:s==="fr"?"Téléphone du fournisseur":"Supplier Phone",supplierAddress:s==="fr"?"Adresse du fournisseur":"Supplier Address",contactPerson:s==="fr"?"Personne de contact":"Contact Person"};T.useEffect(()=>{U(),V()},[]);const U=async()=>{try{const F=await Nt.getProducts({limit:100});o(F.products||[])}catch(F){console.error("Error loading products:",F)}},V=async()=>{try{const F=await Nt.getSuppliers({limit:100});c(F.suppliers||[])}catch(F){console.error("Error loading suppliers:",F)}},S=()=>{const F={};return n.productId||(F.productId=E.required),(!n.quantity||n.quantity<=0)&&(F.quantity=E.invalidQuantity),n.location||(F.location=E.required),n.receivedBy||(F.receivedBy=E.required),n.unitCost<0&&(F.unitCost=E.invalidCost),n.expiryDate&&new Date(n.expiryDate)<=new Date&&(F.expiryDate=E.invalidDate),h(F),Object.keys(F).length===0},C=async F=>{if(F.preventDefault(),!!S()){f(!0);try{await Nt.addStockEntry(n),t==null||t(),e()}catch(j){console.error("Error adding stock entry:",j),alert(E.error)}finally{f(!1)}}},_=(F,j)=>{A(P=>({...P,[F]:j})),p[F]&&h(P=>({...P,[F]:""}))},H=i.filter(F=>F.name.toLowerCase().includes(N.toLowerCase())||F.code.toLowerCase().includes(N.toLowerCase())||F.category.toLowerCase().includes(N.toLowerCase()));return l.filter(F=>F.name.toLowerCase().includes(y.toLowerCase())),a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:E.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:E.subtitle})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:24})})]}),a.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[E.product," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:E.selectProduct,value:N,onChange:F=>m(F.target.value),onClick:()=>x(!0),readOnly:!0,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),a.jsx(vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),p.productId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.productId})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[E.quantity," *"]}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:n.quantity,onChange:F=>_("quantity",parseFloat(F.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),p.quantity&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.quantity})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:E.lotNumber}),a.jsx("input",{type:"text",value:n.lotNumber,onChange:F=>_("lotNumber",F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:E.expiryDate}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",value:n.expiryDate,onChange:F=>_("expiryDate",F.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.expiryDate?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),a.jsx(on,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),p.expiryDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.expiryDate})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[E.location," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:n.location,onChange:F=>_("location",F.target.value),placeholder:"e.g., Fridge A, Cabinet 3",className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.location?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),a.jsx(Ii,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),p.location&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.location})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:E.unitCost}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",step:"0.01",min:"0",value:n.unitCost,onChange:F=>_("unitCost",parseFloat(F.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.unitCost?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),a.jsx(ls,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),p.unitCost&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.unitCost})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[E.receivedBy," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:n.receivedBy,onChange:F=>_("receivedBy",F.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.receivedBy?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),a.jsx(fa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),p.receivedBy&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.receivedBy})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:E.notes}),a.jsx("textarea",{value:n.notes,onChange:F=>_("notes",F.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:E.cancel}),a.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),E.loading]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),E.save]})})]})]})]}),B&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:E.selectProduct}),a.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:20})})]}),a.jsx("div",{className:"mt-4",children:a.jsx("input",{type:"text",placeholder:E.searchProduct,value:N,onChange:F=>m(F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:H.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:E.noProducts}):H.map(F=>a.jsxs("button",{onClick:()=>{A(j=>({...j,productId:F.id})),m(F.name),x(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:F.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[F.code," • ",F.category," • ",F.unit]})]},F.id))}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("button",{onClick:()=>{x(!1)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[a.jsx(wr,{size:16,className:"mr-2"}),E.addNewProduct]})})]})]})})]})}const FB=e=>{switch(e){case"OK":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"LOW":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"EXPIRED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"EXPIRING":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},EB=(e,t)=>{switch(e){case"OK":return t.ok;case"LOW":return t.low;case"EXPIRED":return t.expired;case"EXPIRING":return t.expiring;default:return e}};function KU(){const{language:e}=dt(),[t,r]=T.useState(null),[s,n]=T.useState([]),[A,i]=T.useState(!0),[o,l]=T.useState(""),[c,u]=T.useState(""),[f,p]=T.useState(""),[h,B]=T.useState(!1),[x,N]=T.useState(!1),[m,y]=T.useState(!1),[v,E]=T.useState(null),[U,V]=T.useState(null),[S,C]=T.useState(""),_={title:e==="fr"?"Gestion des Stocks":"Stock Management",subtitle:e==="fr"?"Vue d'ensemble de l'inventaire":"Inventory Overview",totalProducts:e==="fr"?"Total Produits":"Total Products",totalValue:e==="fr"?"Valeur Totale":"Total Value",expiringSoon:e==="fr"?"Expire Bientôt":"Expiring Soon",lowStock:e==="fr"?"Stock Faible":"Low Stock",addStock:e==="fr"?"Ajouter Stock":"Add Stock",export:e==="fr"?"Exporter":"Export",search:e==="fr"?"Rechercher...":"Search...",category:e==="fr"?"Catégorie":"Category",status:e==="fr"?"Statut":"Status",allCategories:e==="fr"?"Toutes les catégories":"All Categories",allStatus:e==="fr"?"Tous les statuts":"All Status",product:e==="fr"?"Produit":"Product",code:"Code",stock:"Stock",unit:e==="fr"?"Unité":"Unit",expiry:e==="fr"?"Expiration":"Expiry",location:e==="fr"?"Emplacement":"Location",supplier:e==="fr"?"Fournisseur":"Supplier",actions:"Actions",view:e==="fr"?"Voir":"View",edit:e==="fr"?"Modifier":"Edit",delete:e==="fr"?"Supprimer":"Delete",noData:e==="fr"?"Aucune donnée":"No data available",loading:e==="fr"?"Chargement...":"Loading...",ok:"OK",low:e==="fr"?"FAIBLE":"LOW",expired:e==="fr"?"EXPIRÉ":"EXPIRED",expiring:e==="fr"?"EXPIRE":"EXPIRING"},H=K=>{switch(K){case"AVAILABLE":return"OK";case"LOW_STOCK":return"LOW";case"OUT_OF_STOCK":return"LOW";case"EXPIRED":return"EXPIRED";default:return"OK"}},F=async()=>{try{const K=await Nt.getDashboard();r(K)}catch(K){console.error("Error loading dashboard data:",K)}},j=async()=>{try{i(!0);const K=await Nt.getProducts({search:S,category:c,status:f}),se=(Array.isArray(K)?K:[]).map(he=>{var J;const Q=he.stockEntries&&he.stockEntries.length>0?(J=he.stockEntries.filter(X=>X.expiryDate).sort((X,ee)=>new Date(X.expiryDate).getTime()-new Date(ee.expiryDate).getTime())[0])==null?void 0:J.expiryDate:null;return{...he,status:H(he.stockStatus||"AVAILABLE"),earliestExpiry:Q}});n(se)}catch(K){console.error("Error loading products:",K),n([])}finally{i(!1)}};T.useEffect(()=>{F(),j()},[]),T.useEffect(()=>{const K=setTimeout(()=>{C(o)},500);return()=>clearTimeout(K)},[o]),T.useEffect(()=>{(S!==""||c!==""||f!=="")&&j()},[S,c,f]);const P=K=>K?new Date(K).toLocaleDateString():"-",z=async()=>{try{const K={search:S,category:c,status:f},te=await Nt.exportStockReport(K);if(te&&Array.isArray(te)){const se=Object.keys(te[0]).join(","),he=te.map(ne=>Object.values(ne).join(",")),Q=[se,...he].join(`
`),J=new Blob([Q],{type:"text/csv;charset=utf-8;"}),X=URL.createObjectURL(J),ee=document.createElement("a");ee.setAttribute("href",X),ee.setAttribute("download",`stock-report-${new Date().toISOString().split("T")[0]}.csv`),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)}else console.error("Invalid response format for export")}catch(K){console.error("Error exporting stock report:",K)}},D=K=>{const te=s.find(se=>se.id===K);te&&(E(te),N(!0))},O=K=>{const te=s.find(se=>se.id===K);te&&(V(te),y(!0))},Z=async K=>{if(window.confirm(e==="fr"?"Êtes-vous sûr de vouloir supprimer ce produit ?":"Are you sure you want to delete this product?"))try{await Nt.deleteProduct(K),j()}catch(te){console.error("Error deleting product:",te)}};return A&&!t?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:_.loading})]})}):a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:_.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:_.subtitle})]}),t&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ln,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:_.totalProducts}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalProducts})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ls,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:_.totalValue}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.totalValue.toFixed(2)," dh"]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qs,{className:"h-8 w-8 text-orange-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:_.expiringSoon}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.expiringSoon})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kr,{className:"h-8 w-8 text-yellow-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:_.lowStock}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.lowStock})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:_.search,value:o,onChange:K=>l(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsx("select",{value:c,onChange:K=>u(K.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:a.jsx("option",{value:"",children:_.allCategories})}),a.jsxs("select",{value:f,onChange:K=>p(K.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:_.allStatus}),a.jsx("option",{value:"OK",children:_.ok}),a.jsx("option",{value:"LOW",children:_.low}),a.jsx("option",{value:"EXPIRED",children:_.expired}),a.jsx("option",{value:"EXPIRING",children:_.expiring})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>B(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:16,className:"mr-2"}),_.addStock]}),a.jsxs("button",{onClick:z,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[a.jsx(VA,{size:16,className:"mr-2"}),_.export]})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[h&&a.jsx(_U,{onClose:()=>B(!1),onSuccess:()=>{F(),j(),B(!1)}}),x&&v&&a.jsx(qU,{product:v,onClose:()=>{N(!1),E(null)},t:_}),m&&U&&a.jsx(zU,{product:U,onClose:()=>{y(!1),V(null)},onSuccess:()=>{j(),y(!1),V(null)},t:_}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:_.product}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:_.code}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:_.stock}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:_.unit}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:_.expiry}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:_.location}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:_.supplier}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:_.status}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:_.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:A?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:_.loading})]})})}):s.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:_.noData})}):s.map(K=>{var te;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:K.name}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:K.category})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:K.code}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:K.currentStock}),K.currentStock<=K.minStock&&a.jsx(RA,{className:"ml-2 h-4 w-4 text-red-500"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:K.unit}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:P(K.earliestExpiry)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:((te=K.supplier)==null?void 0:te.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${FB(K.status)}`,children:EB(K.status,_)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>D(K.id),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:a.jsx(cs,{size:16})}),a.jsx("button",{onClick:()=>O(K.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:a.jsx(qn,{size:16})}),a.jsx("button",{onClick:()=>Z(K.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(zn,{size:16})})]})})]},K.id)})})]})})]})]})}function qU({product:e,onClose:t,t:r}){var s;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.viewProduct||"View Product"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:20})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.code}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.code})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.product}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.category}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.category})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.stock}),a.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.currentStock," ",e.unit]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.expiry}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.earliestExpiry?new Date(e.earliestExpiry).toLocaleDateString():"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.status}),a.jsx("p",{children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${FB(e.status)}`,children:EB(e.status,r)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.supplier||"Supplier"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:((s=e.supplier)==null?void 0:s.name)||"-"})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",children:r.close||"Close"})})]})})}function zU({product:e,onClose:t,onSuccess:r,t:s}){const[n,A]=T.useState({name:e.name,code:e.code,category:e.category,unit:e.unit,minStock:e.minStock||0,maxStock:e.maxStock||0}),[i,o]=T.useState(!1),[l,c]=T.useState({}),u=(h,B)=>{A(x=>({...x,[h]:B})),l[h]&&c(x=>({...x,[h]:""}))},f=()=>{const h={};return n.name.trim()||(h.name=s.required||"This field is required"),n.code.trim()||(h.code=s.required||"This field is required"),n.category.trim()||(h.category=s.required||"This field is required"),n.unit.trim()||(h.unit=s.required||"This field is required"),n.minStock<0&&(h.minStock=s.invalidMinStock||"Minimum stock cannot be negative"),n.maxStock<n.minStock&&(h.maxStock=s.invalidMaxStock||"Maximum stock must be greater than minimum stock"),c(h),Object.keys(h).length===0},p=async h=>{if(h.preventDefault(),!!f()){o(!0);try{await Nt.updateProduct(e.id,n),r()}catch(B){console.error("Error updating product:",B)}finally{o(!1)}}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s.editProduct||"Edit Product"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:20})})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.code," *"]}),a.jsx("input",{type:"text",value:n.code,onChange:h=>u("code",h.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.code?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.code&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.code})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.product," *"]}),a.jsx("input",{type:"text",value:n.name,onChange:h=>u("name",h.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.name?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.category," *"]}),a.jsx("input",{type:"text",value:n.category,onChange:h=>u("category",h.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.category?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.category&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[s.unit," *"]}),a.jsx("input",{type:"text",value:n.unit,onChange:h=>u("unit",h.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.unit?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.unit&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.unit})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s.minStock||"Min Stock"}),a.jsx("input",{type:"number",min:"0",value:n.minStock,onChange:h=>u("minStock",parseInt(h.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.minStock?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.minStock&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.minStock})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s.maxStock||"Max Stock"}),a.jsx("input",{type:"number",min:"0",value:n.maxStock,onChange:h=>u("maxStock",parseInt(h.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.maxStock?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),l.maxStock&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.maxStock})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:s.cancel||"Cancel"}),a.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s.loading||"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),s.save||"Save"]})})]})]})]})})}function VU({isOpen:e,onClose:t,onSuccess:r}){const{language:s}=dt(),[n,A]=T.useState(!1),[i,o]=T.useState(""),[l,c]=T.useState({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""}),u={fr:{title:"Créer un nouveau produit",productName:"Nom du produit",productNamePlaceholder:"Entrez le nom du produit",description:"Description",descriptionPlaceholder:"Description détaillée du produit",category:"Catégorie",categoryPlaceholder:"Sélectionnez une catégorie",sku:"Code SKU",skuPlaceholder:"Code unique du produit",barcode:"Code-barres",barcodePlaceholder:"Code-barres du produit",unitPrice:"Prix unitaire",costPrice:"Prix de revient",unit:"Unité",unitPlaceholder:"Ex: pièce, boîte, ml",minStock:"Stock minimum",maxStock:"Stock maximum",reorderLevel:"Niveau de réapprovisionnement",supplier:"Fournisseur",supplierPlaceholder:"Nom du fournisseur",expirationDate:"Date d'expiration",batchNumber:"Numéro de lot",batchNumberPlaceholder:"Numéro de lot du produit",location:"Emplacement",locationPlaceholder:"Emplacement de stockage",notes:"Notes",notesPlaceholder:"Notes supplémentaires",save:"Enregistrer le produit",cancel:"Annuler",required:"Champ obligatoire",success:"Produit créé avec succès!",error:"Erreur lors de la création du produit",categories:{reagents:"Réactifs",consumables:"Consommables",equipment:"Équipements",maintenance:"Maintenance",calibration:"Étalonnage",quality_control:"Contrôle qualité",other:"Autre"}},en:{title:"Create New Product",productName:"Product Name",productNamePlaceholder:"Enter product name",description:"Description",descriptionPlaceholder:"Detailed product description",category:"Category",categoryPlaceholder:"Select a category",sku:"SKU Code",skuPlaceholder:"Unique product code",barcode:"Barcode",barcodePlaceholder:"Product barcode",unitPrice:"Unit Price",costPrice:"Cost Price",unit:"Unit",unitPlaceholder:"Ex: piece, box, ml",minStock:"Minimum Stock",maxStock:"Maximum Stock",reorderLevel:"Reorder Level",supplier:"Supplier",supplierPlaceholder:"Supplier name",expirationDate:"Expiration Date",batchNumber:"Batch Number",batchNumberPlaceholder:"Product batch number",location:"Location",locationPlaceholder:"Storage location",notes:"Notes",notesPlaceholder:"Additional notes",save:"Save Product",cancel:"Cancel",required:"Required field",success:"Product created successfully!",error:"Error creating product",categories:{reagents:"Reagents",consumables:"Consumables",equipment:"Equipment",maintenance:"Maintenance",calibration:"Calibration",quality_control:"Quality Control",other:"Other"}}}[s],f=N=>{const{name:m,value:y}=N.target;c(v=>({...v,[m]:m.includes("Price")||m.includes("Stock")||m==="reorderLevel"?parseFloat(y)||0:y}))},p=()=>{const N=Date.now().toString().slice(-6),m=Math.random().toString(36).substring(2,5).toUpperCase();return`${l.category?l.category.substring(0,3).toUpperCase():"PRD"}-${m}-${N}`},h=()=>{c(N=>({...N,sku:p()}))},B=()=>l.name.trim()?l.category?l.sku.trim()?l.unit.trim()?!0:(o("L'unité est obligatoire"),!1):(o("Le code SKU est obligatoire"),!1):(o("La catégorie est obligatoire"),!1):(o("Le nom du produit est obligatoire"),!1),x=async N=>{if(N.preventDefault(),o(""),!!B()){A(!0);try{const m={...l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),id:`product_${Date.now()}`,currentStock:0,status:"active"};await new Promise(v=>setTimeout(v,1e3));const y=JSON.parse(localStorage.getItem("sil_products")||"[]");y.push(m),localStorage.setItem("sil_products",JSON.stringify(y)),r==null||r(m),t(),c({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""})}catch{o(u.error)}finally{A(!1)}}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ln,{size:24,className:"text-blue-600"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:u.title})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:24})})]}),i&&a.jsx("div",{className:"mx-6 mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(an,{size:20,className:"text-red-500 mr-3"}),a.jsx("span",{className:"text-red-700 dark:text-red-300",children:i})]})}),a.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.productName," *"]}),a.jsx("input",{type:"text",name:"name",value:l.name,onChange:f,placeholder:u.productNamePlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.category," *"]}),a.jsxs("select",{name:"category",value:l.category,onChange:f,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"",children:u.categoryPlaceholder}),a.jsx("option",{value:"reagents",children:u.categories.reagents}),a.jsx("option",{value:"consumables",children:u.categories.consumables}),a.jsx("option",{value:"equipment",children:u.categories.equipment}),a.jsx("option",{value:"maintenance",children:u.categories.maintenance}),a.jsx("option",{value:"calibration",children:u.categories.calibration}),a.jsx("option",{value:"quality_control",children:u.categories.quality_control}),a.jsx("option",{value:"other",children:u.categories.other})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.sku," *"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",name:"sku",value:l.sku,onChange:f,placeholder:u.skuPlaceholder,className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.jsx("button",{type:"button",onClick:h,className:"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-500 text-sm",children:"Auto"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.unit," *"]}),a.jsx("input",{type:"text",name:"unit",value:l.unit,onChange:f,placeholder:u.unitPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.unitPrice}),a.jsx("input",{type:"number",name:"unitPrice",value:l.unitPrice,onChange:f,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.costPrice}),a.jsx("input",{type:"number",name:"costPrice",value:l.costPrice,onChange:f,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.minStock}),a.jsx("input",{type:"number",name:"minStock",value:l.minStock,onChange:f,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.reorderLevel}),a.jsx("input",{type:"number",name:"reorderLevel",value:l.reorderLevel,onChange:f,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.supplier}),a.jsx("input",{type:"text",name:"supplier",value:l.supplier,onChange:f,placeholder:u.supplierPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.location}),a.jsx("input",{type:"text",name:"location",value:l.location,onChange:f,placeholder:u.locationPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.description}),a.jsx("textarea",{name:"description",value:l.description,onChange:f,placeholder:u.descriptionPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.cancel}),a.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),u.save]})})]})]})]})}):null}function GU(){const{user:e,language:t}=dt(),r=un(),[s,n]=T.useState({productId:"",quantity:0,lotNumber:"",expiryDate:"",location:"Main Storage",unitCost:0,notes:"",receivedBy:(e==null?void 0:e.name)||""}),[A,i]=T.useState([]),[o,l]=T.useState(null),[c,u]=T.useState(!1),[f,p]=T.useState(!1),[h,B]=T.useState(!1),[x,N]=T.useState(""),[m,y]=T.useState(!1),[v,E]=T.useState(!1),[U,V]=T.useState(""),S={fr:{title:"Ajouter Stock",subtitle:"Enregistrer un nouvel arrivage de stock",backToStock:"Retour aux stocks",product:"Produit",selectProduct:"Sélectionner un produit",searchProduct:"Rechercher un produit...",quantity:"Quantité",lotNumber:"Numéro de lot",expiryDate:"Date d'expiration",location:"Emplacement",unitCost:"Coût unitaire",notes:"Notes",receivedBy:"Reçu par",save:"Enregistrer",cancel:"Annuler",createNewProduct:"Créer un nouveau produit",required:"Ce champ est requis",success:"Stock ajouté avec succès!",error:"Erreur lors de l'ajout du stock",loading:"Enregistrement...",noProducts:"Aucun produit trouvé",additionalNotes:"Notes supplémentaires...",redirecting:"Redirection vers le tableau de bord..."},en:{title:"Add Stock Entry",subtitle:"Record new stock arrival",backToStock:"Back to Stock",product:"Product",selectProduct:"Select a product",searchProduct:"Search for a product...",quantity:"Quantity",lotNumber:"Lot Number",expiryDate:"Expiry Date",location:"Location",unitCost:"Unit Cost",notes:"Notes",receivedBy:"Received By",save:"Save",cancel:"Cancel",createNewProduct:"Create New Product",required:"This field is required",success:"Stock added successfully!",error:"Error adding stock",loading:"Saving...",noProducts:"No products found",additionalNotes:"Additional notes...",redirecting:"Redirecting to dashboard..."}}[t];T.useEffect(()=>{C()},[]);const C=async()=>{try{u(!0);const D=await Nt.getProducts();i(D.products||[])}catch(D){console.error("Error loading products:",D),N("Erreur lors du chargement des produits")}finally{u(!1)}},_=D=>{const{name:O,value:Z}=D.target;n(K=>({...K,[O]:O==="quantity"||O==="unitCost"?parseFloat(Z)||0:Z}))},H=D=>{l(D),n(O=>({...O,productId:D.id})),y(!1),V("")},F=A.filter(D=>D.name.toLowerCase().includes(U.toLowerCase())||D.code.toLowerCase().includes(U.toLowerCase())),j=()=>s.productId?s.quantity<=0?(N("La quantité doit être supérieure à 0"),!1):s.lotNumber.trim()?s.location.trim()?!0:(N("L'emplacement est requis"),!1):(N("Le numéro de lot est requis"),!1):(N("Veuillez sélectionner un produit"),!1),P=async D=>{if(D.preventDefault(),N(""),!!j()){p(!0);try{const O={productId:s.productId,quantity:s.quantity,lotNumber:s.lotNumber,expiryDate:s.expiryDate||null,location:s.location,unitCost:s.unitCost,notes:s.notes,receivedBy:s.receivedBy,receivedAt:new Date().toISOString(),type:"stock_in"};await Nt.addStock(O),B(!0),setTimeout(()=>{r("/stock/dashboard")},2e3)}catch(O){console.error("Error adding stock:",O),N("Erreur lors de l'ajout du stock. Veuillez réessayer.")}finally{p(!1)}}},z=D=>{i(O=>[...O,D]),l(D),n(O=>({...O,productId:D.id}))};return h?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Pr,{size:64,className:"mx-auto text-green-500 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:S.success}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:[o==null?void 0:o.name," - ",s.quantity," ",o==null?void 0:o.unit]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:S.redirecting}),a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mt-4"})]})})}):a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:[a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>r("/stock/dashboard"),className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mb-4",children:[a.jsx(Ui,{size:20,className:"mr-2"}),S.backToStock]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ln,{size:32,className:"text-blue-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:S.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:S.subtitle})]})]})]}),x&&a.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(an,{size:20,className:"text-red-500 mr-3"}),a.jsx("span",{className:"text-red-700 dark:text-red-300",children:x})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:a.jsxs("form",{onSubmit:P,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[S.product," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",readOnly:!0,placeholder:S.selectProduct,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600 cursor-pointer",value:o?`${o.name} (${o.code})`:"",onClick:()=>y(!0)}),a.jsx(vr,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[S.quantity," *"]}),a.jsx("input",{type:"number",name:"quantity",value:s.quantity,onChange:_,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"0",min:"0",step:"1",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[S.lotNumber," *"]}),a.jsx("input",{type:"text",name:"lotNumber",value:s.lotNumber,onChange:_,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"LOT-001",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:S.expiryDate}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",name:"expiryDate",value:s.expiryDate,onChange:_,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600"}),a.jsx(on,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[S.location," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",name:"location",value:s.location,onChange:_,className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"Main Storage",required:!0}),a.jsx(Ii,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:S.unitCost}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",name:"unitCost",value:s.unitCost,onChange:_,step:"0.01",className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent border-gray-300 dark:border-gray-600",placeholder:"0.00",min:"0"}),a.jsx(ls,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:S.receivedBy}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",name:"receivedBy",value:s.receivedBy,onChange:_,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),a.jsx(fa,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:S.notes}),a.jsx("textarea",{name:"notes",value:s.notes,onChange:_,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:S.additionalNotes})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:()=>r("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:S.cancel}),a.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),S.loading]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),S.save]})})]})]})})]}),m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.selectProduct}),a.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"×"})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex space-x-2 mb-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",placeholder:S.searchProduct,value:U,onChange:D=>V(D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx(vr,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),a.jsxs("button",{onClick:()=>{y(!1),E(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[a.jsx(wr,{size:16,className:"mr-2"}),S.createNewProduct]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:c?a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):F.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:S.noProducts}):a.jsx("div",{className:"space-y-2",children:F.map(D=>a.jsxs("button",{onClick:()=>H(D),className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:D.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[D.code," • ",D.category," • ",D.unit]})]},D.id))})})]})]})}),a.jsx(VU,{isOpen:v,onClose:()=>E(!1),onSuccess:z})]})}function WU(){const{language:e}=dt(),t=un(),[r,s]=T.useState(!1),[n,A]=T.useState(!1),[i,o]=T.useState(""),[l,c]=T.useState({name:"",description:"",category:"",sku:"",barcode:"",unitPrice:0,costPrice:0,unit:"",minStock:0,maxStock:0,reorderLevel:0,supplier:"",expirationDate:"",batchNumber:"",location:"",notes:""}),u={fr:{title:"Créer un nouveau produit",subtitle:"Ajouter un nouveau produit au système de gestion des stocks",backToStock:"Retour aux stocks",productInfo:"Informations du produit",pricingInfo:"Informations de prix",stockInfo:"Informations de stock",additionalInfo:"Informations supplémentaires",productName:"Nom du produit",productNamePlaceholder:"Entrez le nom du produit",description:"Description",descriptionPlaceholder:"Description détaillée du produit",category:"Catégorie",categoryPlaceholder:"Sélectionnez une catégorie",sku:"Code SKU",skuPlaceholder:"Code unique du produit",barcode:"Code-barres",barcodePlaceholder:"Code-barres du produit",unitPrice:"Prix unitaire",costPrice:"Prix de revient",unit:"Unité",unitPlaceholder:"Ex: pièce, boîte, ml",minStock:"Stock minimum",maxStock:"Stock maximum",reorderLevel:"Niveau de réapprovisionnement",supplier:"Fournisseur",supplierPlaceholder:"Nom du fournisseur",expirationDate:"Date d'expiration",batchNumber:"Numéro de lot",batchNumberPlaceholder:"Numéro de lot du produit",location:"Emplacement",locationPlaceholder:"Emplacement de stockage",notes:"Notes",notesPlaceholder:"Notes supplémentaires",save:"Enregistrer le produit",cancel:"Annuler",required:"Champ obligatoire",success:"Produit créé avec succès!",error:"Erreur lors de la création du produit",categories:{reagents:"Réactifs",consumables:"Consommables",equipment:"Équipements",maintenance:"Maintenance",calibration:"Étalonnage",quality_control:"Contrôle qualité",other:"Autre"}},en:{title:"Create New Product",subtitle:"Add a new product to the stock management system",backToStock:"Back to Stock",productInfo:"Product Information",pricingInfo:"Pricing Information",stockInfo:"Stock Information",additionalInfo:"Additional Information",productName:"Product Name",productNamePlaceholder:"Enter product name",description:"Description",descriptionPlaceholder:"Detailed product description",category:"Category",categoryPlaceholder:"Select a category",sku:"SKU Code",skuPlaceholder:"Unique product code",barcode:"Barcode",barcodePlaceholder:"Product barcode",unitPrice:"Unit Price",costPrice:"Cost Price",unit:"Unit",unitPlaceholder:"Ex: piece, box, ml",minStock:"Minimum Stock",maxStock:"Maximum Stock",reorderLevel:"Reorder Level",supplier:"Supplier",supplierPlaceholder:"Supplier name",expirationDate:"Expiration Date",batchNumber:"Batch Number",batchNumberPlaceholder:"Product batch number",location:"Location",locationPlaceholder:"Storage location",notes:"Notes",notesPlaceholder:"Additional notes",save:"Save Product",cancel:"Cancel",required:"Required field",success:"Product created successfully!",error:"Error creating product",categories:{reagents:"Reagents",consumables:"Consumables",equipment:"Equipment",maintenance:"Maintenance",calibration:"Calibration",quality_control:"Quality Control",other:"Other"}}}[e],f=m=>{const{name:y,value:v}=m.target;c(E=>({...E,[y]:y.includes("Price")||y.includes("Stock")||y==="reorderLevel"?parseFloat(v)||0:v}))},p=()=>{const m=Date.now().toString().slice(-6),y=Math.random().toString(36).substring(2,5).toUpperCase();return`${l.category?l.category.substring(0,3).toUpperCase():"PRD"}-${y}-${m}`},h=()=>{c(m=>({...m,sku:p()}))},B=()=>l.name.trim()?l.category?l.sku.trim()?l.unit.trim()?l.unitPrice<0||l.costPrice<0?(o("Les prix ne peuvent pas être négatifs"),!1):l.minStock<0||l.maxStock<0||l.reorderLevel<0?(o("Les quantités de stock ne peuvent pas être négatives"),!1):l.maxStock>0&&l.minStock>l.maxStock?(o("Le stock minimum ne peut pas être supérieur au stock maximum"),!1):!0:(o("L'unité est obligatoire"),!1):(o("Le code SKU est obligatoire"),!1):(o("La catégorie est obligatoire"),!1):(o("Le nom du produit est obligatoire"),!1),x=async m=>{if(m.preventDefault(),o(""),!!B()){s(!0);try{const y={...l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),id:`product_${Date.now()}`,currentStock:0,status:"active"};await new Promise(E=>setTimeout(E,1e3));const v=JSON.parse(localStorage.getItem("sil_products")||"[]");v.push(y),localStorage.setItem("sil_products",JSON.stringify(v)),A(!0),setTimeout(()=>{t("/stock/dashboard")},2e3)}catch{o(u.error)}finally{s(!1)}}},N=()=>{t("/stock/dashboard")};return n?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Pr,{size:64,className:"mx-auto text-green-500 mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:u.success}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:['Le produit "',l.name,'" a été créé avec succès.']}),a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:N,className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mb-4",children:[a.jsx(Ui,{size:20,className:"mr-2"}),u.backToStock]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ln,{size:32,className:"text-blue-600"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:u.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:u.subtitle})]})]})]}),i&&a.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(an,{size:20,className:"text-red-500 mr-3"}),a.jsx("span",{className:"text-red-700 dark:text-red-300",children:i})]})}),a.jsxs("form",{onSubmit:x,className:"space-y-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[a.jsx(HC,{size:20,className:"mr-2 text-blue-600"}),u.productInfo]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.productName," *"]}),a.jsx("input",{type:"text",name:"name",value:l.name,onChange:f,placeholder:u.productNamePlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.category," *"]}),a.jsxs("select",{name:"category",value:l.category,onChange:f,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"",children:u.categoryPlaceholder}),a.jsx("option",{value:"reagents",children:u.categories.reagents}),a.jsx("option",{value:"consumables",children:u.categories.consumables}),a.jsx("option",{value:"equipment",children:u.categories.equipment}),a.jsx("option",{value:"maintenance",children:u.categories.maintenance}),a.jsx("option",{value:"calibration",children:u.categories.calibration}),a.jsx("option",{value:"quality_control",children:u.categories.quality_control}),a.jsx("option",{value:"other",children:u.categories.other})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.description}),a.jsx("textarea",{name:"description",value:l.description,onChange:f,placeholder:u.descriptionPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.sku," *"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",name:"sku",value:l.sku,onChange:f,placeholder:u.skuPlaceholder,className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.jsx("button",{type:"button",onClick:h,className:"bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-500",children:"Générer"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.barcode}),a.jsxs("div",{className:"relative",children:[a.jsx(Zb,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"text",name:"barcode",value:l.barcode,onChange:f,placeholder:u.barcodePlaceholder,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.unit," *"]}),a.jsx("input",{type:"text",name:"unit",value:l.unit,onChange:f,placeholder:u.unitPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[a.jsx(ls,{size:20,className:"mr-2 text-green-600"}),u.pricingInfo]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.unitPrice}),a.jsx("input",{type:"number",name:"unitPrice",value:l.unitPrice,onChange:f,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.costPrice}),a.jsx("input",{type:"number",name:"costPrice",value:l.costPrice,onChange:f,min:"0",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[a.jsx(ln,{size:20,className:"mr-2 text-purple-600"}),u.stockInfo]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.minStock}),a.jsx("input",{type:"number",name:"minStock",value:l.minStock,onChange:f,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.maxStock}),a.jsx("input",{type:"number",name:"maxStock",value:l.maxStock,onChange:f,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.reorderLevel}),a.jsx("input",{type:"number",name:"reorderLevel",value:l.reorderLevel,onChange:f,min:"0",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[a.jsx(Aa,{size:20,className:"mr-2 text-orange-600"}),u.additionalInfo]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.supplier}),a.jsxs("div",{className:"relative",children:[a.jsx(UA,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"text",name:"supplier",value:l.supplier,onChange:f,placeholder:u.supplierPlaceholder,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.expirationDate}),a.jsxs("div",{className:"relative",children:[a.jsx(on,{size:20,className:"absolute left-3 top-2.5 text-gray-400"}),a.jsx("input",{type:"date",name:"expirationDate",value:l.expirationDate,onChange:f,className:"w-full pl-10 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.batchNumber}),a.jsx("input",{type:"text",name:"batchNumber",value:l.batchNumber,onChange:f,placeholder:u.batchNumberPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.location}),a.jsx("input",{type:"text",name:"location",value:l.location,onChange:f,placeholder:u.locationPlaceholder,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:u.notes}),a.jsx("textarea",{name:"notes",value:l.notes,onChange:f,placeholder:u.notesPlaceholder,rows:3,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:N,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.cancel}),a.jsx("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enregistrement..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),u.save]})})]})]})]})})}function JU(){const{user:e,language:t}=dt(),r=un(),[s,n]=T.useState({productId:"",quantity:0,usedBy:(e==null?void 0:e.name)||"",department:"",purpose:"",notes:""}),[A,i]=T.useState([]),[o,l]=T.useState(!1),[c,u]=T.useState({}),[f,p]=T.useState(!1),[h,B]=T.useState(""),[x,N]=T.useState(null),m={title:t==="fr"?"Utiliser Stock":"Use Stock",subtitle:t==="fr"?"Enregistrer l'utilisation de stock":"Record stock usage",product:t==="fr"?"Produit":"Product",selectProduct:t==="fr"?"Sélectionner un produit":"Select a product",searchProduct:t==="fr"?"Rechercher un produit...":"Search for a product...",quantity:t==="fr"?"Quantité utilisée":"Quantity Used",usedBy:t==="fr"?"Utilisé par":"Used By",department:t==="fr"?"Département":"Department",purpose:t==="fr"?"Objectif":"Purpose",notes:"Notes",currentStock:t==="fr"?"Stock actuel":"Current Stock",availableStock:t==="fr"?"Stock disponible":"Available Stock",save:t==="fr"?"Enregistrer":"Save",cancel:t==="fr"?"Annuler":"Cancel",back:t==="fr"?"Retour":"Back",required:t==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:t==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",insufficientStock:t==="fr"?"Stock insuffisant":"Insufficient stock",success:t==="fr"?"Utilisation enregistrée avec succès":"Usage recorded successfully",error:t==="fr"?"Erreur lors de l'enregistrement":"Error recording usage",loading:t==="fr"?"Enregistrement...":"Saving...",noProducts:t==="fr"?"Aucun produit trouvé":"No products found",departments:{lab:t==="fr"?"Laboratoire":"Laboratory",research:t==="fr"?"Recherche":"Research",quality:t==="fr"?"Contrôle Qualité":"Quality Control",maintenance:"Maintenance",other:t==="fr"?"Autre":"Other"},purposes:{testing:t==="fr"?"Tests":"Testing",calibration:t==="fr"?"Étalonnage":"Calibration",maintenance:"Maintenance",research:t==="fr"?"Recherche":"Research",other:t==="fr"?"Autre":"Other"}};T.useEffect(()=>{y()},[]);const y=async()=>{try{const S=await Nt.getProducts({limit:100});i(Array.isArray(S)?S:[])}catch(S){console.error("Error loading products:",S)}},v=()=>{const S={};return s.productId||(S.productId=m.required),s.quantity<=0?S.quantity=m.invalidQuantity:x&&s.quantity>x.currentStock&&(S.quantity=m.insufficientStock),s.department.trim()||(S.department=m.required),s.purpose.trim()||(S.purpose=m.required),u(S),Object.keys(S).length===0},E=async S=>{if(S.preventDefault(),!!v()){l(!0);try{await Nt.useStock(s),alert(m.success),r("/stock/dashboard")}catch(C){console.error("Error using stock:",C),alert(m.error)}finally{l(!1)}}},U=(S,C)=>{n(_=>({..._,[S]:C})),c[S]&&u(_=>({..._,[S]:""}))},V=A.filter(S=>S.name.toLowerCase().includes(h.toLowerCase())||S.code.toLowerCase().includes(h.toLowerCase()));return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>r("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[a.jsx(Ui,{size:20,className:"mr-2"}),m.back]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:m.subtitle})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:a.jsxs("form",{onSubmit:E,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.product," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:(x==null?void 0:x.name)||"",onClick:()=>p(!0),readOnly:!0,placeholder:m.selectProduct,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),a.jsx(vr,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),c.productId&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.productId})]}),x&&a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[m.currentStock,":"]}),a.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[x.currentStock," ",x.unit]})]})}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.quantity," *"]}),a.jsx("input",{type:"number",value:s.quantity,onChange:S=>U("quantity",parseInt(S.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),c.quantity&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.quantity})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.department," *"]}),a.jsxs("select",{value:s.department,onChange:S=>U("department",S.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.department?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[a.jsx("option",{value:"",children:m.selectProduct}),a.jsx("option",{value:m.departments.lab,children:m.departments.lab}),a.jsx("option",{value:m.departments.research,children:m.departments.research}),a.jsx("option",{value:m.departments.quality,children:m.departments.quality}),a.jsx("option",{value:m.departments.maintenance,children:m.departments.maintenance}),a.jsx("option",{value:m.departments.other,children:m.departments.other})]}),c.department&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.department})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.purpose," *"]}),a.jsxs("select",{value:s.purpose,onChange:S=>U("purpose",S.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.purpose?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[a.jsx("option",{value:"",children:m.selectProduct}),a.jsx("option",{value:m.purposes.testing,children:m.purposes.testing}),a.jsx("option",{value:m.purposes.calibration,children:m.purposes.calibration}),a.jsx("option",{value:m.purposes.maintenance,children:m.purposes.maintenance}),a.jsx("option",{value:m.purposes.research,children:m.purposes.research}),a.jsx("option",{value:m.purposes.other,children:m.purposes.other})]}),c.purpose&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.purpose})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.usedBy}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:s.usedBy,onChange:S=>U("usedBy",S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),a.jsx(fa,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.notes}),a.jsx("textarea",{value:s.notes,onChange:S=>U("notes",S.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:()=>r("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:m.cancel}),a.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),m.loading]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),m.save]})})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.selectProduct}),a.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:20})})]}),a.jsx("div",{className:"mt-4",children:a.jsx("input",{type:"text",placeholder:m.searchProduct,value:h,onChange:S=>B(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:V.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:m.noProducts}):V.map(S=>a.jsxs("button",{onClick:()=>{n(C=>({...C,productId:S.id})),N(S),B(S.name),p(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:S.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[S.code," • ",S.category," • ",S.unit]}),a.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[m.currentStock,": ",S.currentStock]})]},S.id))})})]})})]})}function $U({onClose:e,onSuccess:t}){const{user:r,language:s}=dt(),[n,A]=T.useState({productId:"",fromLocation:"",toLocation:"",quantity:0,transferredBy:(r==null?void 0:r.name)||"",notes:""}),[i,o]=T.useState([]),[l,c]=T.useState(!1),[u,f]=T.useState({}),[p,h]=T.useState(!1),[B,x]=T.useState(""),[N,m]=T.useState(null),y={title:s==="fr"?"Transférer Stock":"Transfer Stock",subtitle:s==="fr"?"Déplacer du stock entre emplacements":"Move stock between locations",product:s==="fr"?"Produit":"Product",selectProduct:s==="fr"?"Sélectionner un produit":"Select a product",searchProduct:s==="fr"?"Rechercher un produit...":"Search for a product...",fromLocation:s==="fr"?"Emplacement source":"Source Location",toLocation:s==="fr"?"Emplacement destination":"Destination Location",quantity:s==="fr"?"Quantité à transférer":"Quantity to Transfer",transferredBy:s==="fr"?"Transféré par":"Transferred By",notes:"Notes",currentStock:s==="fr"?"Stock actuel":"Current Stock",save:s==="fr"?"Transférer":"Transfer",cancel:s==="fr"?"Annuler":"Cancel",required:s==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:s==="fr"?"La quantité doit être supérieure à 0":"Quantity must be greater than 0",insufficientStock:s==="fr"?"Stock insuffisant à l'emplacement source":"Insufficient stock at source location",sameLocation:s==="fr"?"Les emplacements source et destination doivent être différents":"Source and destination locations must be different",success:s==="fr"?"Transfert effectué avec succès":"Transfer completed successfully",error:s==="fr"?"Erreur lors du transfert":"Error during transfer",loading:s==="fr"?"Transfert en cours...":"Transferring...",noProducts:s==="fr"?"Aucun produit trouvé":"No products found",commonLocations:{fridge:s==="fr"?"Réfrigérateur":"Fridge",freezer:s==="fr"?"Congélateur":"Freezer",cabinet1:s==="fr"?"Armoire 1":"Cabinet 1",cabinet2:s==="fr"?"Armoire 2":"Cabinet 2",cabinet3:s==="fr"?"Armoire 3":"Cabinet 3",shelf1:s==="fr"?"Étagère 1":"Shelf 1",shelf2:s==="fr"?"Étagère 2":"Shelf 2",other:s==="fr"?"Autre":"Other"}};T.useEffect(()=>{v()},[]);const v=async()=>{try{const C=await Nt.getProducts({limit:100});o(C.products||[])}catch(C){console.error("Error loading products:",C)}},E=()=>{const C={};return n.productId||(C.productId=y.required),n.fromLocation||(C.fromLocation=y.required),n.toLocation||(C.toLocation=y.required),n.fromLocation===n.toLocation&&(C.toLocation=y.sameLocation),(!n.quantity||n.quantity<=0)&&(C.quantity=y.invalidQuantity),n.transferredBy||(C.transferredBy=y.required),N&&n.quantity>N.currentStock&&(C.quantity=y.insufficientStock),f(C),Object.keys(C).length===0},U=async C=>{if(C.preventDefault(),!!E()){c(!0);try{await Nt.transferStock(n),t==null||t(),e()}catch(_){console.error("Error transferring stock:",_),alert(y.error)}finally{c(!1)}}},V=(C,_)=>{A(H=>({...H,[C]:_})),u[C]&&f(H=>({...H,[C]:""}))},S=i.filter(C=>C.name.toLowerCase().includes(B.toLowerCase())||C.code.toLowerCase().includes(B.toLowerCase())||C.category.toLowerCase().includes(B.toLowerCase()));return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:y.subtitle})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:24})})]}),a.jsxs("form",{onSubmit:U,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.product," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:y.selectProduct,value:B,onChange:C=>x(C.target.value),onClick:()=>h(!0),readOnly:!0,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),a.jsx(vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),u.productId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.productId}),N&&a.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:[y.currentStock,": ",N.currentStock," ",N.unit]}),N.currentStock<=0&&a.jsx(Kr,{className:"h-4 w-4 text-red-500"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.fromLocation," *"]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:n.fromLocation,onChange:C=>V("fromLocation",C.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.fromLocation?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[a.jsx("option",{value:"",children:y.commonLocations.other}),a.jsx("option",{value:"fridge",children:y.commonLocations.fridge}),a.jsx("option",{value:"freezer",children:y.commonLocations.freezer}),a.jsx("option",{value:"cabinet1",children:y.commonLocations.cabinet1}),a.jsx("option",{value:"cabinet2",children:y.commonLocations.cabinet2}),a.jsx("option",{value:"cabinet3",children:y.commonLocations.cabinet3}),a.jsx("option",{value:"shelf1",children:y.commonLocations.shelf1}),a.jsx("option",{value:"shelf2",children:y.commonLocations.shelf2})]}),a.jsx(Ii,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 pointer-events-none"})]}),u.fromLocation&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.fromLocation})]}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(th,{className:"h-6 w-6 text-gray-400"})}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.toLocation," *"]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:n.toLocation,onChange:C=>V("toLocation",C.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.toLocation?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[a.jsx("option",{value:"",children:y.commonLocations.other}),a.jsx("option",{value:"fridge",children:y.commonLocations.fridge}),a.jsx("option",{value:"freezer",children:y.commonLocations.freezer}),a.jsx("option",{value:"cabinet1",children:y.commonLocations.cabinet1}),a.jsx("option",{value:"cabinet2",children:y.commonLocations.cabinet2}),a.jsx("option",{value:"cabinet3",children:y.commonLocations.cabinet3}),a.jsx("option",{value:"shelf1",children:y.commonLocations.shelf1}),a.jsx("option",{value:"shelf2",children:y.commonLocations.shelf2})]}),a.jsx(Ii,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 pointer-events-none"})]}),u.toLocation&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.toLocation})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.quantity," *"]}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:n.quantity,onChange:C=>V("quantity",parseFloat(C.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),u.quantity&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.quantity})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[y.transferredBy," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:n.transferredBy,onChange:C=>V("transferredBy",C.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.transferredBy?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),a.jsx(fa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]}),u.transferredBy&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.transferredBy})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:y.notes}),a.jsx("textarea",{value:n.notes,onChange:C=>V("notes",C.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes about the transfer..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:y.cancel}),a.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),y.loading]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),y.save]})})]})]})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:y.selectProduct}),a.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:20})})]}),a.jsx("div",{className:"mt-4",children:a.jsx("input",{type:"text",placeholder:y.searchProduct,value:B,onChange:C=>x(C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:S.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:y.noProducts}):S.map(C=>a.jsxs("button",{onClick:()=>{A(_=>({..._,productId:C.id})),x(C.name),m(C),h(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:C.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[C.code," • ",C.category," • ",C.unit]}),a.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:[y.currentStock,": ",C.currentStock," ",C.unit]})]},C.id))})})]})})]})}function XU(){const{user:e,language:t}=dt(),r=un(),[s,n]=T.useState({productId:"",newQuantity:0,reason:"",adjustedBy:(e==null?void 0:e.name)||"",notes:""}),[A,i]=T.useState([]),[o,l]=T.useState(!1),[c,u]=T.useState({}),[f,p]=T.useState(!1),[h,B]=T.useState(""),[x,N]=T.useState(null),m={title:t==="fr"?"Ajuster Inventaire":"Adjust Inventory",subtitle:t==="fr"?"Corriger manuellement les niveaux de stock":"Manually correct stock levels",product:t==="fr"?"Produit":"Product",selectProduct:t==="fr"?"Sélectionner un produit":"Select a product",searchProduct:t==="fr"?"Rechercher un produit...":"Search for a product...",currentQuantity:t==="fr"?"Quantité actuelle":"Current Quantity",newQuantity:t==="fr"?"Nouvelle quantité":"New Quantity",difference:t==="fr"?"Différence":"Difference",reason:t==="fr"?"Raison de l'ajustement":"Adjustment Reason",adjustedBy:t==="fr"?"Ajusté par":"Adjusted By",notes:"Notes",save:t==="fr"?"Ajuster":"Adjust",cancel:t==="fr"?"Annuler":"Cancel",back:t==="fr"?"Retour":"Back",required:t==="fr"?"Ce champ est requis":"This field is required",invalidQuantity:t==="fr"?"La quantité doit être positive":"Quantity must be positive",invalidReason:t==="fr"?"La raison doit contenir au moins 5 caractères":"Reason must be at least 5 characters",success:t==="fr"?"Ajustement effectué avec succès":"Adjustment completed successfully",error:t==="fr"?"Erreur lors de l'ajustement":"Error during adjustment",loading:t==="fr"?"Ajustement en cours...":"Adjusting...",noProducts:t==="fr"?"Aucun produit trouvé":"No products found",reasons:{damage:t==="fr"?"Produit endommagé":"Damaged product",loss:t==="fr"?"Perte de stock":"Stock loss",found:t==="fr"?"Stock retrouvé":"Stock found",correction:t==="fr"?"Correction d'erreur":"Error correction",audit:t==="fr"?"Audit d'inventaire":"Inventory audit",other:t==="fr"?"Autre":"Other"}};T.useEffect(()=>{y()},[]);const y=async()=>{try{const H=await Nt.getProducts({limit:100});i(Array.isArray(H)?H:[])}catch(H){console.error("Error loading products:",H)}},v=()=>{const H={};return s.productId||(H.productId=m.required),s.newQuantity<0&&(H.newQuantity=m.invalidQuantity),(!s.reason.trim()||s.reason.trim().length<5)&&(H.reason=m.invalidReason),u(H),Object.keys(H).length===0},E=async H=>{if(H.preventDefault(),!!v()){l(!0);try{await Nt.adjustInventory(s),alert(m.success),r("/stock/dashboard")}catch(F){console.error("Error adjusting inventory:",F),alert(m.error)}finally{l(!1)}}},U=(H,F)=>{n(j=>({...j,[H]:F})),c[H]&&u(j=>({...j,[H]:""}))},V=()=>x?s.newQuantity-x.currentStock:0,S=()=>{const H=V();return H>0?"text-green-600 dark:text-green-400":H<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"},C=()=>{const H=V();return H>0?a.jsx(Mn,{size:16,className:"text-green-600 dark:text-green-400"}):H<0?a.jsx(RA,{size:16,className:"text-red-600 dark:text-red-400"}):null},_=A.filter(H=>H.name.toLowerCase().includes(h.toLowerCase())||H.code.toLowerCase().includes(h.toLowerCase()));return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>r("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[a.jsx(Ui,{size:20,className:"mr-2"}),m.back]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:m.subtitle})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:a.jsxs("form",{onSubmit:E,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.product," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:(x==null?void 0:x.name)||"",onClick:()=>p(!0),readOnly:!0,placeholder:m.selectProduct,className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.productId?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),a.jsx(vr,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),c.productId&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.productId})]}),x&&a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[m.currentQuantity,":"]}),a.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[x.currentStock," ",x.unit]})]})}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.newQuantity," *"]}),a.jsx("input",{type:"number",value:s.newQuantity,onChange:H=>U("newQuantity",parseInt(H.target.value)||0),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.newQuantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0"}),c.newQuantity&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.newQuantity})]}),x&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[m.difference,":"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[C(),a.jsxs("span",{className:`text-lg font-semibold ${S()}`,children:[V()>0?"+":"",V()," ",x.unit]})]})]})}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.reason," *"]}),a.jsxs("select",{value:s.reason,onChange:H=>U("reason",H.target.value),className:`w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.reason?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[a.jsx("option",{value:"",children:m.selectProduct}),a.jsx("option",{value:m.reasons.damage,children:m.reasons.damage}),a.jsx("option",{value:m.reasons.loss,children:m.reasons.loss}),a.jsx("option",{value:m.reasons.found,children:m.reasons.found}),a.jsx("option",{value:m.reasons.correction,children:m.reasons.correction}),a.jsx("option",{value:m.reasons.audit,children:m.reasons.audit}),a.jsx("option",{value:m.reasons.other,children:m.reasons.other})]}),c.reason&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.reason})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.adjustedBy}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:s.adjustedBy,onChange:H=>U("adjustedBy",H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your name"}),a.jsx(fa,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.notes}),a.jsx("textarea",{value:s.notes,onChange:H=>U("notes",H.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:()=>r("/stock/dashboard"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:m.cancel}),a.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),m.loading]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),m.save]})})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.selectProduct}),a.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:20})})]}),a.jsx("div",{className:"mt-4",children:a.jsx("input",{type:"text",placeholder:m.searchProduct,value:h,onChange:H=>B(H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:_.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:m.noProducts}):_.map(H=>a.jsxs("button",{onClick:()=>{n(F=>({...F,productId:H.id})),N(H),B(H.name),p(!1)},className:"w-full text-left p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:H.name}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[H.code," • ",H.category," • ",H.unit]}),a.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[m.currentQuantity,": ",H.currentStock]})]},H.id))})})]})})]})}function YU(){const{language:e}=dt(),[t,r]=T.useState([]),[s,n]=T.useState([]),[A,i]=T.useState(""),[o,l]=T.useState("all"),[c,u]=T.useState(!0),[f,p]=T.useState(!1),[h,B]=T.useState(null),[x,N]=T.useState(null),m={fr:{title:"Gestion des Fournisseurs",subtitle:"Gérez vos fournisseurs et partenaires",addSupplier:"Ajouter Fournisseur",editSupplier:"Modifier Fournisseur",viewSupplier:"Détails Fournisseur",search:"Rechercher...",filter:"Filtrer par statut",all:"Tous",active:"Actif",inactive:"Inactif",code:"Code",name:"Nom",email:"Email",phone:"Téléphone",address:"Adresse",contactPerson:"Personne de contact",status:"Statut",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Êtes-vous sûr de vouloir supprimer ce fournisseur ?",success:"Fournisseur enregistré avec succès",error:"Erreur lors de l'enregistrement",noSuppliers:"Aucun fournisseur trouvé",totalSuppliers:"Total Fournisseurs",activeSuppliers:"Fournisseurs Actifs",recentSuppliers:"Fournisseurs Récents"},en:{title:"Suppliers Management",subtitle:"Manage your suppliers and partners",addSupplier:"Add Supplier",editSupplier:"Edit Supplier",viewSupplier:"View Supplier",search:"Search...",filter:"Filter by status",all:"All",active:"Active",inactive:"Inactive",code:"Code",name:"Name",email:"Email",phone:"Phone",address:"Address",contactPerson:"Contact Person",status:"Status",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Are you sure you want to delete this supplier?",success:"Supplier saved successfully",error:"Error saving supplier",noSuppliers:"No suppliers found",totalSuppliers:"Total Suppliers",activeSuppliers:"Active Suppliers",recentSuppliers:"Recent Suppliers"}}[e];T.useEffect(()=>{y()},[]),T.useEffect(()=>{v()},[t,A,o]);const y=async()=>{try{u(!0);const C=await Nt.getSuppliers();r(C)}catch(C){console.error("Error loading suppliers:",C)}finally{u(!1)}},v=()=>{let C=t;A&&(C=C.filter(_=>{var H;return _.name.toLowerCase().includes(A.toLowerCase())||_.code.toLowerCase().includes(A.toLowerCase())||((H=_.email)==null?void 0:H.toLowerCase().includes(A.toLowerCase()))})),o!=="all"&&(C=C.filter(_=>o==="active"?_.isActive:!_.isActive)),n(C)},E=async C=>{try{h?await Nt.updateSupplier(h.id,C):await Nt.createSupplier(C),await y(),p(!1),B(null),alert(m.success)}catch(_){console.error("Error saving supplier:",_),alert(m.error)}},U=async C=>{if(window.confirm(m.confirmDelete))try{await Nt.deleteSupplier(C),await y()}catch(_){console.error("Error deleting supplier:",_),alert(m.error)}},V=t.filter(C=>C.isActive).length,S=t.filter(C=>{const _=new Date(C.createdAt),H=new Date;return H.setDate(H.getDate()-30),_>H}).length;return c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:m.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:m.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(UA,{className:"h-8 w-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.totalSuppliers}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(UA,{className:"h-8 w-8 text-green-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.activeSuppliers}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:V})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(UA,{className:"h-8 w-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.recentSuppliers}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:S})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",value:A,onChange:C=>i(C.target.value),placeholder:m.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:o,onChange:C=>l(C.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:m.all}),a.jsx("option",{value:"active",children:m.active}),a.jsx("option",{value:"inactive",children:m.inactive})]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:16,className:"mr-2"}),m.addSupplier]})})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.code}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.name}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.contactPerson}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.email}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.phone}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.status}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:m.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(C=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:C.code}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:C.contactPerson||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:C.email||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:C.phone||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:C.isActive?m.active:m.inactive})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>N(C),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:a.jsx(cs,{size:16})}),a.jsx("button",{onClick:()=>{B(C),p(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:a.jsx(qn,{size:16})}),a.jsx("button",{onClick:()=>U(C.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(zn,{size:16})})]})})]},C.id))})]})}),s.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m.noSuppliers})})]}),f&&a.jsx(ZU,{supplier:h,onSave:E,onCancel:()=>{p(!1),B(null)},t:m}),x&&a.jsx(eL,{supplier:x,onClose:()=>N(null),t:m})]})}function ZU({supplier:e,onSave:t,onCancel:r,t:s}){const[n,A]=T.useState({name:(e==null?void 0:e.name)||"",code:(e==null?void 0:e.code)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",contactPerson:(e==null?void 0:e.contactPerson)||"",isActive:(e==null?void 0:e.isActive)??!0}),i=o=>{o.preventDefault(),t(n)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e?s.editSupplier:s.addSupplier}),a.jsxs("form",{onSubmit:i,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.code}),a.jsx("input",{type:"text",value:n.code,onChange:o=>A(l=>({...l,code:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.name}),a.jsx("input",{type:"text",value:n.name,onChange:o=>A(l=>({...l,name:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.contactPerson}),a.jsx("input",{type:"text",value:n.contactPerson,onChange:o=>A(l=>({...l,contactPerson:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.email}),a.jsx("input",{type:"email",value:n.email,onChange:o=>A(l=>({...l,email:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.phone}),a.jsx("input",{type:"tel",value:n.phone,onChange:o=>A(l=>({...l,phone:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s.address}),a.jsx("textarea",{value:n.address,onChange:o=>A(l=>({...l,address:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:o=>A(l=>({...l,isActive:o.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:s.active})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:s.cancel}),a.jsx("button",{onClick:()=>t(n),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:s.save})]})]})})}function eL({supplier:e,onClose:t,t:r}){return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.viewSupplier}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.code}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.code})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.name}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.contactPerson}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.contactPerson||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.email}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.email||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.phone}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.phone||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.address}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.address||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.status}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:e.isActive?r.active:r.inactive})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:r.cancel})})]})})}function tL(){const{language:e}=dt(),[t,r]=T.useState([]),[s,n]=T.useState([]),[A,i]=T.useState([]),[o,l]=T.useState([]),[c,u]=T.useState(""),[f,p]=T.useState("all"),[h,B]=T.useState(!0),[x,N]=T.useState(!1),[m,y]=T.useState(null),[v,E]=T.useState(null),U={fr:{title:"Gestion des Commandes",subtitle:"Gérez vos commandes de stock",addOrder:"Nouvelle Commande",editOrder:"Modifier Commande",viewOrder:"Détails Commande",search:"Rechercher...",filter:"Filtrer par statut",all:"Tous",draft:"Brouillon",pending:"En attente",confirmed:"Confirmée",shipped:"Expédiée",delivered:"Livrée",cancelled:"Annulée",orderNumber:"N° Commande",supplier:"Fournisseur",status:"Statut",orderDate:"Date Commande",expectedDate:"Date Livraison",totalAmount:"Montant Total",actions:"Actions",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",confirmDelete:"Êtes-vous sûr de vouloir supprimer cette commande ?",success:"Commande enregistrée avec succès",error:"Erreur lors de l'enregistrement",noOrders:"Aucune commande trouvée",totalOrders:"Total Commandes",pendingOrders:"Commandes En Attente",totalValue:"Valeur Totale"},en:{title:"Orders Management",subtitle:"Manage your stock orders",addOrder:"New Order",editOrder:"Edit Order",viewOrder:"View Order",search:"Search...",filter:"Filter by status",all:"All",draft:"Draft",pending:"Pending",confirmed:"Confirmed",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",orderNumber:"Order Number",supplier:"Supplier",status:"Status",orderDate:"Order Date",expectedDate:"Expected Date",totalAmount:"Total Amount",actions:"Actions",save:"Save",cancel:"Cancel",delete:"Delete",confirmDelete:"Are you sure you want to delete this order?",success:"Order saved successfully",error:"Error saving order",noOrders:"No orders found",totalOrders:"Total Orders",pendingOrders:"Pending Orders",totalValue:"Total Value"}}[e];T.useEffect(()=>{V()},[]),T.useEffect(()=>{S()},[t,c,f]);const V=async()=>{try{B(!0);const[z,D,O]=await Promise.all([Nt.getOrders(),Nt.getSuppliers(),Nt.getProducts()]);r(z),i(D),l(O)}catch(z){console.error("Error loading data:",z)}finally{B(!1)}},S=()=>{let z=t;c&&(z=z.filter(D=>D.orderNumber.toLowerCase().includes(c.toLowerCase())||D.supplier.name.toLowerCase().includes(c.toLowerCase()))),f!=="all"&&(z=z.filter(D=>D.status===f.toUpperCase())),n(z)},C=async z=>{try{m?await Nt.updateOrder(m.id,z):await Nt.createOrder(z),await V(),N(!1),y(null),alert(U.success)}catch(D){console.error("Error saving order:",D),alert(U.error)}},_=async z=>{if(window.confirm(U.confirmDelete))try{await Nt.deleteOrder(z),await V()}catch(D){console.error("Error deleting order:",D),alert(U.error)}},H=z=>{switch(z){case"DRAFT":return a.jsx(Qs,{className:"h-4 w-4 text-gray-500"});case"PENDING":return a.jsx(Qs,{className:"h-4 w-4 text-yellow-500"});case"CONFIRMED":return a.jsx(Pr,{className:"h-4 w-4 text-blue-500"});case"SHIPPED":return a.jsx(r5,{className:"h-4 w-4 text-purple-500"});case"DELIVERED":return a.jsx(Pr,{className:"h-4 w-4 text-green-500"});case"CANCELLED":return a.jsx(Pi,{className:"h-4 w-4 text-red-500"});default:return a.jsx(Qs,{className:"h-4 w-4 text-gray-500"})}},F=z=>{switch(z){case"DRAFT":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"CONFIRMED":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"SHIPPED":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"DELIVERED":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"CANCELLED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},j=t.filter(z=>z.status==="PENDING").length,P=t.reduce((z,D)=>z+D.totalAmount,0);return h?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:U.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:U.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(t5,{className:"h-8 w-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:U.totalOrders}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qs,{className:"h-8 w-8 text-yellow-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:U.pendingOrders}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ls,{className:"h-8 w-8 text-green-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:U.totalValue}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[P.toFixed(2)," dh"]})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",value:c,onChange:z=>u(z.target.value),placeholder:U.search,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:f,onChange:z=>p(z.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:U.all}),a.jsx("option",{value:"draft",children:U.draft}),a.jsx("option",{value:"pending",children:U.pending}),a.jsx("option",{value:"confirmed",children:U.confirmed}),a.jsx("option",{value:"shipped",children:U.shipped}),a.jsx("option",{value:"delivered",children:U.delivered}),a.jsx("option",{value:"cancelled",children:U.cancelled})]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:()=>N(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:16,className:"mr-2"}),U.addOrder]})})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.orderNumber}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.supplier}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.status}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.orderDate}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.expectedDate}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.totalAmount}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:U.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(z=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:z.orderNumber}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:z.supplier.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[H(z.status),a.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(z.status)}`,children:U[z.status.toLowerCase()]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(z.orderDate).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:z.expectedDate?new Date(z.expectedDate).toLocaleDateString():"-"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:[z.totalAmount.toFixed(2)," dh"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>E(z),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:a.jsx(cs,{size:16})}),a.jsx("button",{onClick:()=>{y(z),N(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:a.jsx(qn,{size:16})}),a.jsx("button",{onClick:()=>_(z.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(zn,{size:16})})]})})]},z.id))})]})}),s.length===0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:U.noOrders})})]}),x&&a.jsx(rL,{order:m,suppliers:A,products:o,onSave:C,onCancel:()=>{N(!1),y(null)},t:U}),v&&a.jsx(aL,{order:v,onClose:()=>E(null),t:U})]})}function rL({order:e,suppliers:t,products:r,onSave:s,onCancel:n,t:A}){const[i,o]=T.useState({supplierId:(e==null?void 0:e.supplierId)||"",status:(e==null?void 0:e.status)||"DRAFT",expectedDate:e!=null&&e.expectedDate?e.expectedDate.split("T")[0]:"",notes:(e==null?void 0:e.notes)||"",orderItems:(e==null?void 0:e.orderItems)||[]}),[l,c]=T.useState({productId:"",quantity:1,unitPrice:0}),u=()=>{if(l.productId&&l.quantity>0){const h=r.find(x=>x.id===l.productId),B=l.quantity*l.unitPrice;o(x=>({...x,orderItems:[...x.orderItems,{id:Date.now().toString(),productId:l.productId,product:h,quantity:l.quantity,unitPrice:l.unitPrice,totalPrice:B}]})),c({productId:"",quantity:1,unitPrice:0})}},f=h=>{o(B=>({...B,orderItems:B.orderItems.filter((x,N)=>N!==h)}))},p=h=>{h.preventDefault();const B=i.orderItems.reduce((x,N)=>x+N.totalPrice,0);s({...i,totalAmount:B})};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e?A.editOrder:A.addOrder}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.supplier}),a.jsxs("select",{value:i.supplierId,onChange:h=>o(B=>({...B,supplierId:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",required:!0,children:[a.jsx("option",{value:"",children:A.supplier}),t.map(h=>a.jsxs("option",{value:h.id,children:[h.name," (",h.code,")"]},h.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.status}),a.jsxs("select",{value:i.status,onChange:h=>o(B=>({...B,status:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"DRAFT",children:A.draft}),a.jsx("option",{value:"PENDING",children:A.pending}),a.jsx("option",{value:"CONFIRMED",children:A.confirmed}),a.jsx("option",{value:"SHIPPED",children:A.shipped}),a.jsx("option",{value:"DELIVERED",children:A.delivered}),a.jsx("option",{value:"CANCELLED",children:A.cancelled})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:A.expectedDate}),a.jsx("input",{type:"date",value:i.expectedDate,onChange:h=>o(B=>({...B,expectedDate:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),a.jsx("textarea",{value:i.notes,onChange:h=>o(B=>({...B,notes:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:3})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-4",children:[a.jsxs("select",{value:l.productId,onChange:h=>{const B=r.find(x=>x.id===h.target.value);c(x=>({...x,productId:h.target.value,unitPrice:(B==null?void 0:B.price)||0}))},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"Select Product"}),r.map(h=>a.jsxs("option",{value:h.id,children:[h.name," (",h.code,")"]},h.id))]}),a.jsx("input",{type:"number",placeholder:"Quantity",value:l.quantity,onChange:h=>c(B=>({...B,quantity:parseInt(h.target.value)||0})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",min:"1"}),a.jsx("input",{type:"number",placeholder:"Unit Price",value:l.unitPrice,onChange:h=>c(B=>({...B,unitPrice:parseFloat(h.target.value)||0})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",step:"0.01",min:"0"}),a.jsx("button",{type:"button",onClick:u,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Add Item"})]}),a.jsx("div",{className:"space-y-2",children:i.orderItems.map((h,B)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:h.product.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.quantity," x ",h.unitPrice.toFixed(2)," dh = ",h.totalPrice.toFixed(2)," dh"]})]}),a.jsx("button",{type:"button",onClick:()=>f(B),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(zn,{size:16})})]},h.id))}),a.jsx("div",{className:"text-right mt-4",children:a.jsxs("p",{className:"text-lg font-bold",children:["Total: ",i.orderItems.reduce((h,B)=>h+B.totalPrice,0).toFixed(2)," dh"]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:A.cancel}),a.jsx("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:A.save})]})]})})}function aL({order:e,onClose:t,t:r}){return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.viewOrder}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.orderNumber}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.orderNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.supplier}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.supplier.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.status}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:r[e.status.toLowerCase()]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.orderDate}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:new Date(e.orderDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.expectedDate}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.expectedDate?new Date(e.expectedDate).toLocaleDateString():"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.totalAmount}),a.jsxs("p",{className:"text-gray-900 dark:text-white",children:[e.totalAmount.toFixed(2)," dh"]})]})]}),e.notes&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:e.notes})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),a.jsx("div",{className:"space-y-2",children:e.orderItems.map(s=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:s.product.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.quantity," x ",s.unitPrice.toFixed(2)," dh = ",s.totalPrice.toFixed(2)," dh"]})]})},s.id))})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:r.cancel})})]})})}function QB(e,t){return function(){return e.apply(t,arguments)}}const{toString:sL}=Object.prototype,{getPrototypeOf:qx}=Object,{iterator:Xh,toStringTag:UB}=Symbol,Yh=(e=>t=>{const r=sL.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ms=e=>(e=e.toLowerCase(),t=>Yh(t)===e),Zh=e=>t=>typeof t===e,{isArray:vl}=Array,dd=Zh("undefined");function yd(e){return e!==null&&!dd(e)&&e.constructor!==null&&!dd(e.constructor)&&Fa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const LB=Ms("ArrayBuffer");function nL(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&LB(e.buffer),t}const AL=Zh("string"),Fa=Zh("function"),IB=Zh("number"),wd=e=>e!==null&&typeof e=="object",iL=e=>e===!0||e===!1,B0=e=>{if(Yh(e)!=="object")return!1;const t=qx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(UB in e)&&!(Xh in e)},oL=e=>{if(!wd(e)||yd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lL=Ms("Date"),cL=Ms("File"),dL=Ms("Blob"),uL=Ms("FileList"),hL=e=>wd(e)&&Fa(e.pipe),fL=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fa(e.append)&&((t=Yh(e))==="formdata"||t==="object"&&Fa(e.toString)&&e.toString()==="[object FormData]"))},gL=Ms("URLSearchParams"),[mL,pL,xL,yL]=["ReadableStream","Request","Response","Headers"].map(Ms),wL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vd(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),vl(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(yd(e))return;const A=r?Object.getOwnPropertyNames(e):Object.keys(e),i=A.length;let o;for(s=0;s<i;s++)o=A[s],t.call(null,e[o],o,e)}}function PB(e,t){if(yd(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const wi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),DB=e=>!dd(e)&&e!==wi;function Ep(){const{caseless:e}=DB(this)&&this||{},t={},r=(s,n)=>{const A=e&&PB(t,n)||n;B0(t[A])&&B0(s)?t[A]=Ep(t[A],s):B0(s)?t[A]=Ep({},s):vl(s)?t[A]=s.slice():t[A]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&vd(arguments[s],r);return t}const vL=(e,t,r,{allOwnKeys:s}={})=>(vd(t,(n,A)=>{r&&Fa(n)?e[A]=QB(n,r):e[A]=n},{allOwnKeys:s}),e),bL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),BL=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},NL=(e,t,r,s)=>{let n,A,i;const o={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),A=n.length;A-- >0;)i=n[A],(!s||s(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&qx(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kL=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},jL=e=>{if(!e)return null;if(vl(e))return e;let t=e.length;if(!IB(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},CL=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qx(Uint8Array)),SL=(e,t)=>{const s=(e&&e[Xh]).call(e);let n;for(;(n=s.next())&&!n.done;){const A=n.value;t.call(e,A[0],A[1])}},FL=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},EL=Ms("HTMLFormElement"),QL=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),fw=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),UL=Ms("RegExp"),TB=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};vd(r,(n,A)=>{let i;(i=t(n,A,e))!==!1&&(s[A]=i||n)}),Object.defineProperties(e,s)},LL=e=>{TB(e,(t,r)=>{if(Fa(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Fa(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},IL=(e,t)=>{const r={},s=n=>{n.forEach(A=>{r[A]=!0})};return vl(e)?s(e):s(String(e).split(t)),r},PL=()=>{},DL=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function TL(e){return!!(e&&Fa(e.append)&&e[UB]==="FormData"&&e[Xh])}const RL=e=>{const t=new Array(10),r=(s,n)=>{if(wd(s)){if(t.indexOf(s)>=0)return;if(yd(s))return s;if(!("toJSON"in s)){t[n]=s;const A=vl(s)?[]:{};return vd(s,(i,o)=>{const l=r(i,n+1);!dd(l)&&(A[o]=l)}),t[n]=void 0,A}}return s};return r(e,0)},HL=Ms("AsyncFunction"),ML=e=>e&&(wd(e)||Fa(e))&&Fa(e.then)&&Fa(e.catch),RB=((e,t)=>e?setImmediate:t?((r,s)=>(wi.addEventListener("message",({source:n,data:A})=>{n===wi&&A===r&&s.length&&s.shift()()},!1),n=>{s.push(n),wi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Fa(wi.postMessage)),OL=typeof queueMicrotask<"u"?queueMicrotask.bind(wi):typeof process<"u"&&process.nextTick||RB,_L=e=>e!=null&&Fa(e[Xh]),me={isArray:vl,isArrayBuffer:LB,isBuffer:yd,isFormData:fL,isArrayBufferView:nL,isString:AL,isNumber:IB,isBoolean:iL,isObject:wd,isPlainObject:B0,isEmptyObject:oL,isReadableStream:mL,isRequest:pL,isResponse:xL,isHeaders:yL,isUndefined:dd,isDate:lL,isFile:cL,isBlob:dL,isRegExp:UL,isFunction:Fa,isStream:hL,isURLSearchParams:gL,isTypedArray:CL,isFileList:uL,forEach:vd,merge:Ep,extend:vL,trim:wL,stripBOM:bL,inherits:BL,toFlatObject:NL,kindOf:Yh,kindOfTest:Ms,endsWith:kL,toArray:jL,forEachEntry:SL,matchAll:FL,isHTMLForm:EL,hasOwnProperty:fw,hasOwnProp:fw,reduceDescriptors:TB,freezeMethods:LL,toObjectSet:IL,toCamelCase:QL,noop:PL,toFiniteNumber:DL,findKey:PB,global:wi,isContextDefined:DB,isSpecCompliantForm:TL,toJSONObject:RL,isAsyncFn:HL,isThenable:ML,setImmediate:RB,asap:OL,isIterable:_L};function lt(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}me.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const HB=lt.prototype,MB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{MB[e]={value:e}});Object.defineProperties(lt,MB);Object.defineProperty(HB,"isAxiosError",{value:!0});lt.from=(e,t,r,s,n,A)=>{const i=Object.create(HB);return me.toFlatObject(e,i,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),lt.call(i,e.message,t,r,s,n),i.cause=e,i.name=e.name,A&&Object.assign(i,A),i};const KL=null;function Qp(e){return me.isPlainObject(e)||me.isArray(e)}function OB(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function gw(e,t,r){return e?e.concat(t).map(function(n,A){return n=OB(n),!r&&A?"["+n+"]":n}).join(r?".":""):t}function qL(e){return me.isArray(e)&&!e.some(Qp)}const zL=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function ef(e,t,r){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,N){return!me.isUndefined(N[x])});const s=r.metaTokens,n=r.visitor||u,A=r.dots,i=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(n))throw new TypeError("visitor must be a function");function c(B){if(B===null)return"";if(me.isDate(B))return B.toISOString();if(me.isBoolean(B))return B.toString();if(!l&&me.isBlob(B))throw new lt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(B)||me.isTypedArray(B)?l&&typeof Blob=="function"?new Blob([B]):Buffer.from(B):B}function u(B,x,N){let m=B;if(B&&!N&&typeof B=="object"){if(me.endsWith(x,"{}"))x=s?x:x.slice(0,-2),B=JSON.stringify(B);else if(me.isArray(B)&&qL(B)||(me.isFileList(B)||me.endsWith(x,"[]"))&&(m=me.toArray(B)))return x=OB(x),m.forEach(function(v,E){!(me.isUndefined(v)||v===null)&&t.append(i===!0?gw([x],E,A):i===null?x:x+"[]",c(v))}),!1}return Qp(B)?!0:(t.append(gw(N,x,A),c(B)),!1)}const f=[],p=Object.assign(zL,{defaultVisitor:u,convertValue:c,isVisitable:Qp});function h(B,x){if(!me.isUndefined(B)){if(f.indexOf(B)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(B),me.forEach(B,function(m,y){(!(me.isUndefined(m)||m===null)&&n.call(t,m,me.isString(y)?y.trim():y,x,p))===!0&&h(m,x?x.concat(y):[y])}),f.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return h(e),t}function mw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function zx(e,t){this._pairs=[],e&&ef(e,this,t)}const _B=zx.prototype;_B.append=function(t,r){this._pairs.push([t,r])};_B.toString=function(t){const r=t?function(s){return t.call(this,s,mw)}:mw;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function VL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KB(e,t,r){if(!t)return e;const s=r&&r.encode||VL;me.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let A;if(n?A=n(t,r):A=me.isURLSearchParams(t)?t.toString():new zx(t,r).toString(s),A){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+A}return e}class GL{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(s){s!==null&&t(s)})}}const pw=GL,qB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WL=typeof URLSearchParams<"u"?URLSearchParams:zx,JL=typeof FormData<"u"?FormData:null,$L=typeof Blob<"u"?Blob:null,XL={isBrowser:!0,classes:{URLSearchParams:WL,FormData:JL,Blob:$L},protocols:["http","https","file","blob","url","data"]},Vx=typeof window<"u"&&typeof document<"u",Up=typeof navigator=="object"&&navigator||void 0,YL=Vx&&(!Up||["ReactNative","NativeScript","NS"].indexOf(Up.product)<0),ZL=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),eI=Vx&&window.location.href||"http://localhost",tI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vx,hasStandardBrowserEnv:YL,hasStandardBrowserWebWorkerEnv:ZL,navigator:Up,origin:eI},Symbol.toStringTag,{value:"Module"})),sa={...tI,...XL};function rI(e,t){return ef(e,new sa.classes.URLSearchParams,{visitor:function(r,s,n,A){return sa.isNode&&me.isBuffer(r)?(this.append(s,r.toString("base64")),!1):A.defaultVisitor.apply(this,arguments)},...t})}function aI(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sI(e){const t={},r=Object.keys(e);let s;const n=r.length;let A;for(s=0;s<n;s++)A=r[s],t[A]=e[A];return t}function zB(e){function t(r,s,n,A){let i=r[A++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),l=A>=r.length;return i=!i&&me.isArray(n)?n.length:i,l?(me.hasOwnProp(n,i)?n[i]=[n[i],s]:n[i]=s,!o):((!n[i]||!me.isObject(n[i]))&&(n[i]=[]),t(r,s,n[i],A)&&me.isArray(n[i])&&(n[i]=sI(n[i])),!o)}if(me.isFormData(e)&&me.isFunction(e.entries)){const r={};return me.forEachEntry(e,(s,n)=>{t(aI(s),n,r,0)}),r}return null}function nI(e,t,r){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Gx={transitional:qB,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,A=me.isObject(t);if(A&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return n?JSON.stringify(zB(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(A){if(s.indexOf("application/x-www-form-urlencoded")>-1)return rI(t,this.formSerializer).toString();if((o=me.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ef(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return A||n?(r.setContentType("application/json",!1),nI(t)):t}],transformResponse:[function(t){const r=this.transitional||Gx.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(s&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?lt.from(o,lt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sa.classes.FormData,Blob:sa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{Gx.headers[e]={}});const Wx=Gx,AI=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iI=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),s=i.substring(n+1).trim(),!(!r||t[r]&&AI[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},xw=Symbol("internals");function hc(e){return e&&String(e).trim().toLowerCase()}function N0(e){return e===!1||e==null?e:me.isArray(e)?e.map(N0):String(e)}function oI(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const lI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xg(e,t,r,s,n){if(me.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!me.isString(t)){if(me.isString(s))return t.indexOf(s)!==-1;if(me.isRegExp(s))return s.test(t)}}function cI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function dI(e,t){const r=me.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,A,i){return this[s].call(this,t,n,A,i)},configurable:!0})})}class tf{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function A(o,l,c){const u=hc(l);if(!u)throw new Error("header name must be a non-empty string");const f=me.findKey(n,u);(!f||n[f]===void 0||c===!0||c===void 0&&n[f]!==!1)&&(n[f||l]=N0(o))}const i=(o,l)=>me.forEach(o,(c,u)=>A(c,u,l));if(me.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(me.isString(t)&&(t=t.trim())&&!lI(t))i(iI(t),r);else if(me.isObject(t)&&me.isIterable(t)){let o={},l,c;for(const u of t){if(!me.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(l=o[c])?me.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(o,r)}else t!=null&&A(r,t,s);return this}get(t,r){if(t=hc(t),t){const s=me.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return oI(n);if(me.isFunction(r))return r.call(this,n,s);if(me.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=hc(t),t){const s=me.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Xg(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function A(i){if(i=hc(i),i){const o=me.findKey(s,i);o&&(!r||Xg(s,s[o],o,r))&&(delete s[o],n=!0)}}return me.isArray(t)?t.forEach(A):A(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const A=r[s];(!t||Xg(this,this[A],A,t,!0))&&(delete this[A],n=!0)}return n}normalize(t){const r=this,s={};return me.forEach(this,(n,A)=>{const i=me.findKey(s,A);if(i){r[i]=N0(n),delete r[A];return}const o=t?cI(A):String(A).trim();o!==A&&delete r[A],r[o]=N0(n),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return me.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&me.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[xw]=this[xw]={accessors:{}}).accessors,n=this.prototype;function A(i){const o=hc(i);s[o]||(dI(n,i),s[o]=!0)}return me.isArray(t)?t.forEach(A):A(t),this}}tf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(tf.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});me.freezeMethods(tf);const Ps=tf;function Yg(e,t){const r=this||Wx,s=t||r,n=Ps.from(s.headers);let A=s.data;return me.forEach(e,function(o){A=o.call(r,A,n.normalize(),t?t.status:void 0)}),n.normalize(),A}function VB(e){return!!(e&&e.__CANCEL__)}function bl(e,t,r){lt.call(this,e??"canceled",lt.ERR_CANCELED,t,r),this.name="CanceledError"}me.inherits(bl,lt,{__CANCEL__:!0});function GB(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new lt("Request failed with status code "+r.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hI(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,A=0,i;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=s[A];i||(i=c),r[n]=l,s[n]=c;let f=A,p=0;for(;f!==n;)p+=r[f++],f=f%e;if(n=(n+1)%e,n===A&&(A=(A+1)%e),c-i<t)return;const h=u&&c-u;return h?Math.round(p*1e3/h):void 0}}function fI(e,t){let r=0,s=1e3/t,n,A;const i=(c,u=Date.now())=>{r=u,n=null,A&&(clearTimeout(A),A=null),e(...c)};return[(...c)=>{const u=Date.now(),f=u-r;f>=s?i(c,u):(n=c,A||(A=setTimeout(()=>{A=null,i(n)},s-f)))},()=>n&&i(n)]}const mh=(e,t,r=3)=>{let s=0;const n=hI(50,250);return fI(A=>{const i=A.loaded,o=A.lengthComputable?A.total:void 0,l=i-s,c=n(l),u=i<=o;s=i;const f={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-i)/c:void 0,event:A,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},yw=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},ww=e=>(...t)=>me.asap(()=>e(...t)),gI=sa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,sa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(sa.origin),sa.navigator&&/(msie|trident)/i.test(sa.navigator.userAgent)):()=>!0,mI=sa.hasStandardBrowserEnv?{write(e,t,r,s,n,A){const i=[e+"="+encodeURIComponent(t)];me.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),me.isString(s)&&i.push("path="+s),me.isString(n)&&i.push("domain="+n),A===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function WB(e,t,r){let s=!pI(t);return e&&(s||r==!1)?xI(e,t):t}const vw=e=>e instanceof Ps?{...e}:e;function Ti(e,t){t=t||{};const r={};function s(c,u,f,p){return me.isPlainObject(c)&&me.isPlainObject(u)?me.merge.call({caseless:p},c,u):me.isPlainObject(u)?me.merge({},u):me.isArray(u)?u.slice():u}function n(c,u,f,p){if(me.isUndefined(u)){if(!me.isUndefined(c))return s(void 0,c,f,p)}else return s(c,u,f,p)}function A(c,u){if(!me.isUndefined(u))return s(void 0,u)}function i(c,u){if(me.isUndefined(u)){if(!me.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function o(c,u,f){if(f in t)return s(c,u);if(f in e)return s(void 0,c)}const l={url:A,method:A,data:A,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(c,u,f)=>n(vw(c),vw(u),f,!0)};return me.forEach(Object.keys({...e,...t}),function(u){const f=l[u]||n,p=f(e[u],t[u],u);me.isUndefined(p)&&f!==o||(r[u]=p)}),r}const JB=e=>{const t=Ti({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:A,headers:i,auth:o}=t;t.headers=i=Ps.from(i),t.url=KB(WB(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(me.isFormData(r)){if(sa.hasStandardBrowserEnv||sa.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(sa.hasStandardBrowserEnv&&(s&&me.isFunction(s)&&(s=s(t)),s||s!==!1&&gI(t.url))){const c=n&&A&&mI.read(A);c&&i.set(n,c)}return t},yI=typeof XMLHttpRequest<"u",wI=yI&&function(e){return new Promise(function(r,s){const n=JB(e);let A=n.data;const i=Ps.from(n.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=n,u,f,p,h,B;function x(){h&&h(),B&&B(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let N=new XMLHttpRequest;N.open(n.method.toUpperCase(),n.url,!0),N.timeout=n.timeout;function m(){if(!N)return;const v=Ps.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),U={data:!o||o==="text"||o==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:v,config:e,request:N};GB(function(S){r(S),x()},function(S){s(S),x()},U),N=null}"onloadend"in N?N.onloadend=m:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(m)},N.onabort=function(){N&&(s(new lt("Request aborted",lt.ECONNABORTED,e,N)),N=null)},N.onerror=function(){s(new lt("Network Error",lt.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let E=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const U=n.transitional||qB;n.timeoutErrorMessage&&(E=n.timeoutErrorMessage),s(new lt(E,U.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,e,N)),N=null},A===void 0&&i.setContentType(null),"setRequestHeader"in N&&me.forEach(i.toJSON(),function(E,U){N.setRequestHeader(U,E)}),me.isUndefined(n.withCredentials)||(N.withCredentials=!!n.withCredentials),o&&o!=="json"&&(N.responseType=n.responseType),c&&([p,B]=mh(c,!0),N.addEventListener("progress",p)),l&&N.upload&&([f,h]=mh(l),N.upload.addEventListener("progress",f),N.upload.addEventListener("loadend",h)),(n.cancelToken||n.signal)&&(u=v=>{N&&(s(!v||v.type?new bl(null,e,N):v),N.abort(),N=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const y=uI(n.url);if(y&&sa.protocols.indexOf(y)===-1){s(new lt("Unsupported protocol "+y+":",lt.ERR_BAD_REQUEST,e));return}N.send(A||null)})},vI=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,n;const A=function(c){if(!n){n=!0,o();const u=c instanceof Error?c:this.reason;s.abort(u instanceof lt?u:new bl(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,A(new lt(`timeout ${t} of ms exceeded`,lt.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(A):c.removeEventListener("abort",A)}),e=null)};e.forEach(c=>c.addEventListener("abort",A));const{signal:l}=s;return l.unsubscribe=()=>me.asap(o),l}},bI=vI,BI=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let s=0,n;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},NI=async function*(e,t){for await(const r of kI(e))yield*BI(r,t)},kI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},bw=(e,t,r,s)=>{const n=NI(e,t);let A=0,i,o=l=>{i||(i=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await n.next();if(c){o(),l.close();return}let f=u.byteLength;if(r){let p=A+=f;r(p)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),n.return()}},{highWaterMark:2})},rf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$B=rf&&typeof ReadableStream=="function",jI=rf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),XB=(e,...t)=>{try{return!!e(...t)}catch{return!1}},CI=$B&&XB(()=>{let e=!1;const t=new Request(sa.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Bw=64*1024,Lp=$B&&XB(()=>me.isReadableStream(new Response("").body)),ph={stream:Lp&&(e=>e.body)};rf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ph[t]&&(ph[t]=me.isFunction(e[t])?r=>r[t]():(r,s)=>{throw new lt(`Response type '${t}' is not supported`,lt.ERR_NOT_SUPPORT,s)})})})(new Response);const SI=async e=>{if(e==null)return 0;if(me.isBlob(e))return e.size;if(me.isSpecCompliantForm(e))return(await new Request(sa.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(me.isArrayBufferView(e)||me.isArrayBuffer(e))return e.byteLength;if(me.isURLSearchParams(e)&&(e=e+""),me.isString(e))return(await jI(e)).byteLength},FI=async(e,t)=>{const r=me.toFiniteNumber(e.getContentLength());return r??SI(t)},EI=rf&&(async e=>{let{url:t,method:r,data:s,signal:n,cancelToken:A,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:p}=JB(e);c=c?(c+"").toLowerCase():"text";let h=bI([n,A&&A.toAbortSignal()],i),B;const x=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let N;try{if(l&&CI&&r!=="get"&&r!=="head"&&(N=await FI(u,s))!==0){let U=new Request(t,{method:"POST",body:s,duplex:"half"}),V;if(me.isFormData(s)&&(V=U.headers.get("content-type"))&&u.setContentType(V),U.body){const[S,C]=yw(N,mh(ww(l)));s=bw(U.body,Bw,S,C)}}me.isString(f)||(f=f?"include":"omit");const m="credentials"in Request.prototype;B=new Request(t,{...p,signal:h,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:m?f:void 0});let y=await fetch(B,p);const v=Lp&&(c==="stream"||c==="response");if(Lp&&(o||v&&x)){const U={};["status","statusText","headers"].forEach(_=>{U[_]=y[_]});const V=me.toFiniteNumber(y.headers.get("content-length")),[S,C]=o&&yw(V,mh(ww(o),!0))||[];y=new Response(bw(y.body,Bw,S,()=>{C&&C(),x&&x()}),U)}c=c||"text";let E=await ph[me.findKey(ph,c)||"text"](y,e);return!v&&x&&x(),await new Promise((U,V)=>{GB(U,V,{data:E,headers:Ps.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:B})})}catch(m){throw x&&x(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,e,B),{cause:m.cause||m}):lt.from(m,m&&m.code,e,B)}}),Ip={http:KL,xhr:wI,fetch:EI};me.forEach(Ip,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Nw=e=>`- ${e}`,QI=e=>me.isFunction(e)||e===null||e===!1,YB={getAdapter:e=>{e=me.isArray(e)?e:[e];const{length:t}=e;let r,s;const n={};for(let A=0;A<t;A++){r=e[A];let i;if(s=r,!QI(r)&&(s=Ip[(i=String(r)).toLowerCase()],s===void 0))throw new lt(`Unknown adapter '${i}'`);if(s)break;n[i||"#"+A]=s}if(!s){const A=Object.entries(n).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=t?A.length>1?`since :
`+A.map(Nw).join(`
`):" "+Nw(A[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Ip};function Zg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bl(null,e)}function kw(e){return Zg(e),e.headers=Ps.from(e.headers),e.data=Yg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),YB.getAdapter(e.adapter||Wx.adapter)(e).then(function(s){return Zg(e),s.data=Yg.call(e,e.transformResponse,s),s.headers=Ps.from(s.headers),s},function(s){return VB(s)||(Zg(e),s&&s.response&&(s.response.data=Yg.call(e,e.transformResponse,s.response),s.response.headers=Ps.from(s.response.headers))),Promise.reject(s)})}const ZB="1.11.0",af={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{af[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const jw={};af.transitional=function(t,r,s){function n(A,i){return"[Axios v"+ZB+"] Transitional option '"+A+"'"+i+(s?". "+s:"")}return(A,i,o)=>{if(t===!1)throw new lt(n(i," has been removed"+(r?" in "+r:"")),lt.ERR_DEPRECATED);return r&&!jw[i]&&(jw[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(A,i,o):!0}};af.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function UI(e,t,r){if(typeof e!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const A=s[n],i=t[A];if(i){const o=e[A],l=o===void 0||i(o,A,e);if(l!==!0)throw new lt("option "+A+" must be "+l,lt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new lt("Unknown option "+A,lt.ERR_BAD_OPTION)}}const k0={assertOptions:UI,validators:af},Zs=k0.validators;class xh{constructor(t){this.defaults=t||{},this.interceptors={request:new pw,response:new pw}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const A=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?A&&!String(s.stack).endsWith(A.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+A):s.stack=A}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ti(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:A}=r;s!==void 0&&k0.assertOptions(s,{silentJSONParsing:Zs.transitional(Zs.boolean),forcedJSONParsing:Zs.transitional(Zs.boolean),clarifyTimeoutError:Zs.transitional(Zs.boolean)},!1),n!=null&&(me.isFunction(n)?r.paramsSerializer={serialize:n}:k0.assertOptions(n,{encode:Zs.function,serialize:Zs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),k0.assertOptions(r,{baseUrl:Zs.spelling("baseURL"),withXsrfToken:Zs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=A&&me.merge(A.common,A[r.method]);A&&me.forEach(["delete","get","head","post","put","patch","common"],B=>{delete A[B]}),r.headers=Ps.concat(i,A);const o=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(l=l&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let u,f=0,p;if(!l){const B=[kw.bind(this),void 0];for(B.unshift(...o),B.push(...c),p=B.length,u=Promise.resolve(r);f<p;)u=u.then(B[f++],B[f++]);return u}p=o.length;let h=r;for(f=0;f<p;){const B=o[f++],x=o[f++];try{h=B(h)}catch(N){x.call(this,N);break}}try{u=kw.call(this,h)}catch(B){return Promise.reject(B)}for(f=0,p=c.length;f<p;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=Ti(this.defaults,t);const r=WB(t.baseURL,t.url,t.allowAbsoluteUrls);return KB(r,t.params,t.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(t){xh.prototype[t]=function(r,s){return this.request(Ti(s||{},{method:t,url:r,data:(s||{}).data}))}});me.forEach(["post","put","patch"],function(t){function r(s){return function(A,i,o){return this.request(Ti(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:A,data:i}))}}xh.prototype[t]=r(),xh.prototype[t+"Form"]=r(!0)});const j0=xh;class Jx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(A){r=A});const s=this;this.promise.then(n=>{if(!s._listeners)return;let A=s._listeners.length;for(;A-- >0;)s._listeners[A](n);s._listeners=null}),this.promise.then=n=>{let A;const i=new Promise(o=>{s.subscribe(o),A=o}).then(n);return i.cancel=function(){s.unsubscribe(A)},i},t(function(A,i,o){s.reason||(s.reason=new bl(A,i,o),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Jx(function(n){t=n}),cancel:t}}}const LI=Jx;function II(e){return function(r){return e.apply(null,r)}}function PI(e){return me.isObject(e)&&e.isAxiosError===!0}const Pp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pp).forEach(([e,t])=>{Pp[t]=e});const DI=Pp;function eN(e){const t=new j0(e),r=QB(j0.prototype.request,t);return me.extend(r,j0.prototype,t,{allOwnKeys:!0}),me.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return eN(Ti(e,n))},r}const br=eN(Wx);br.Axios=j0;br.CanceledError=bl;br.CancelToken=LI;br.isCancel=VB;br.VERSION=ZB;br.toFormData=ef;br.AxiosError=lt;br.Cancel=br.CanceledError;br.all=function(t){return Promise.all(t)};br.spread=II;br.isAxiosError=PI;br.mergeConfig=Ti;br.AxiosHeaders=Ps;br.formToJSON=e=>zB(me.isHTMLForm(e)?new FormData(e):e);br.getAdapter=YB.getAdapter;br.HttpStatusCode=DI;br.default=br;const al=br,TI=()=>{const[e,t]=T.useState([]),[r,s]=T.useState(!1),[n,A]=T.useState("all"),[i,o]=T.useState(""),l=[{id:"all",name:"All Plugins"},{id:"analytics",name:"Analytics"},{id:"reports",name:"Reports & Export"},{id:"interface",name:"Interface"},{id:"integration",name:"Integrations"}];T.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const h=await al.get("http://localhost:5001/api/plugins");t(h.data)}catch(h){console.error("Error fetching plugins:",h)}s(!1)},u=async h=>{try{await al.post(`http://localhost:5001/api/plugins/install/${h.id}`),c()}catch(B){console.error("Error installing plugin:",B)}},f=async h=>{try{await al.delete(`http://localhost:5001/api/plugins/${h.id}/uninstall`),c()}catch(B){console.error("Error uninstalling plugin:",B)}},p=e.filter(h=>{const B=h.name.toLowerCase().includes(i.toLowerCase())||h.description.toLowerCase().includes(i.toLowerCase()),x=n==="all"||h.tags.includes(n);return B&&x});return a.jsx("div",{className:"min-h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Plugin Marketplace"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Enhance your lab management system with powerful add-ons"})]}),a.jsxs("button",{onClick:c,className:"flex items-center px-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors text-gray-700 dark:text-gray-300",children:[a.jsx(GA,{size:16,className:"mr-2"}),"Refresh"]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",placeholder:"Search plugins...",value:i,onChange:h=>o(h.target.value),className:"w-full px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})}),a.jsx("select",{value:n,onChange:h=>A(h.target.value),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:l.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:p.map(h=>a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 flex items-center",children:[h.name,!h.isCompatible&&a.jsx("span",{title:"Compatibility warning",children:a.jsx(an,{size:16,className:"text-amber-500 ml-2"})})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(RC,{size:14,className:"text-yellow-400 mr-1"}),h.rating.toFixed(1)]}),a.jsx("span",{className:"mx-2",children:"•"}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(VA,{size:14,className:"mr-1"}),h.downloads.toLocaleString()]})]})]}),h.installed?a.jsxs("button",{onClick:()=>f(h),className:"inline-flex items-center px-3 py-1 text-sm text-red-600 dark:text-red-400 border border-red-600 dark:border-red-400 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",children:[a.jsx(wt,{size:14,className:"mr-1"}),"Uninstall"]}):a.jsxs("button",{onClick:()=>u(h),className:`inline-flex items-center px-3 py-1 text-sm rounded-lg ${h.isCompatible?"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,disabled:!h.isCompatible,children:[a.jsx(Xb,{size:14,className:"mr-1"}),"Install"]})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:h.description}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:h.tags.map(B=>a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full",children:B},B))}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between text-xs text-gray-500 dark:text-gray-400 gap-2",children:[a.jsxs("span",{children:["By ",h.author]}),a.jsxs("span",{children:["v",h.version," • Updated ",new Date(h.lastUpdated).toLocaleDateString()]})]})]})},h.id))}),r&&a.jsx("div",{className:"flex justify-center items-center mt-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),!r&&p.length===0&&a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[a.jsx(DC,{size:48,className:"mx-auto text-gray-400 dark:text-gray-600 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No plugins found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filter criteria"})]})]})})},RI=()=>{const[e,t]=T.useState([]),[r,s]=T.useState({startDate:"",endDate:"",action:"",userId:""});T.useEffect(()=>{n()},[r]);const n=async()=>{try{const A=await al.get("/api/audit-logs",{params:r});t(A.data)}catch(A){console.error("Error fetching audit logs:",A)}};return a.jsx("div",{className:"min-h-full bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Audit Trail"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track and monitor all system activities"})]})})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8 p-6",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("input",{type:"date",value:r.startDate,onChange:A=>s({...r,startDate:A.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Start Date"}),a.jsx("input",{type:"date",value:r.endDate,onChange:A=>s({...r,endDate:A.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"End Date"}),a.jsx("input",{type:"text",value:r.action,onChange:A=>s({...r,action:A.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Filter by Action"}),a.jsx("input",{type:"text",value:r.userId,onChange:A=>s({...r,userId:A.target.value}),className:"px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Filter by User"})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Details"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"IP Address"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:new Date(A.timestamp).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:A.userId}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:A.action}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-gray-300",children:A.details}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:A.ipAddress})]},A.id))})]})}),e.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No audit logs found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No logs match your current filters."})]})]})]})})},HI=()=>{const[e,t]=T.useState([]),[r,s]=T.useState(!1);T.useEffect(()=>{n()},[]);const n=async()=>{try{const i=await al.get("/api/backups");t(i.data)}catch(i){console.error("Error fetching backups:",i)}},A=async()=>{s(!0);try{await al.post("/api/backup"),n()}catch(i){console.error("Error creating backup:",i)}s(!1)};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Backup & Restore"}),a.jsx("button",{onClick:A,disabled:r,className:"bg-blue-500 text-white px-4 py-2 rounded",children:r?"Creating Backup...":"Create Backup"})]}),a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 border-b",children:"Date"}),a.jsx("th",{className:"px-6 py-3 border-b",children:"Size"}),a.jsx("th",{className:"px-6 py-3 border-b",children:"Status"}),a.jsx("th",{className:"px-6 py-3 border-b",children:"Actions"})]})}),a.jsx("tbody",{children:e.map(i=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:new Date(i.date).toLocaleString()}),a.jsx("td",{className:"px-6 py-4",children:MI(i.size)}),a.jsx("td",{className:"px-6 py-4",children:i.status}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("button",{className:"text-blue-500 hover:underline mr-4",children:"Download"}),a.jsx("button",{className:"text-green-500 hover:underline",children:"Restore"})]})]},i.id))})]})})]})},MI=e=>{const t=["Bytes","KB","MB","GB"];if(e===0)return"0 Bytes";const r=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,r)).toFixed(2)+" "+t[r]};function OI({isOpen:e,onClose:t,onSuccess:r}){const{language:s}=dt(),[n,A]=T.useState(!1),[i,o]=T.useState({name:"",type:"",manufacturer:"",protocol:"HL7",connection:"tcp",config:{autoSendWorklist:!0,autoReceiveResults:!0,enableQCMonitoring:!0},enabled:!0}),l={fr:{title:"Ajouter un Automate",name:"Nom de l'automate",type:"Type",manufacturer:"Fabricant",protocol:"Protocole",connection:"Type de connexion",ipAddress:"Adresse IP",port:"Port",comPort:"Port COM",baudRate:"Débit en bauds",ftpHost:"Hôte FTP",ftpPort:"Port FTP",ftpUser:"Utilisateur FTP",ftpPass:"Mot de passe FTP",autoSendWorklist:"Envoi automatique de la liste de travail",autoReceiveResults:"Réception automatique des résultats",enableQCMonitoring:"Activer la surveillance QC",enabled:"Activé",save:"Enregistrer",cancel:"Annuler",required:"Ce champ est requis",success:"Automate ajouté avec succès",error:"Erreur lors de l'ajout de l'automate"},en:{title:"Add New Automate",name:"Automate Name",type:"Type",manufacturer:"Manufacturer",protocol:"Protocol",connection:"Connection Type",ipAddress:"IP Address",port:"Port",comPort:"COM Port",baudRate:"Baud Rate",ftpHost:"FTP Host",ftpPort:"FTP Port",ftpUser:"FTP User",ftpPass:"FTP Password",autoSendWorklist:"Auto-send Worklist",autoReceiveResults:"Auto-receive Results",enableQCMonitoring:"Enable QC Monitoring",enabled:"Enabled",save:"Save",cancel:"Cancel",required:"This field is required",success:"Automate added successfully",error:"Error adding automate"}}[s],c=["Immunoassay","Clinical Chemistry","Hematology","Coagulation","Molecular","Microbiology","Other"],u=["Roche","Abbott","Siemens","Beckman Coulter","Ortho Clinical Diagnostics","Sysmex","Bio-Rad","DiaSorin","Other"],f=[{value:"HL7",label:"HL7"},{value:"ASTM",label:"ASTM"},{value:"LIS2-A2",label:"LIS2-A2"}],p=[{value:"tcp",label:"TCP/IP"},{value:"serial",label:"Serial"},{value:"ftp",label:"FTP"}],h=(x,N)=>{if(x.includes(".")){const[m,y]=x.split(".");o(v=>({...v,[m]:{...v[m],[y]:N}}))}else o(m=>({...m,[x]:N}))},B=async x=>{if(x.preventDefault(),!i.name||!i.type||!i.manufacturer){alert(l.required);return}A(!0);try{await Ra.createAutomate(i),alert(l.success),r(),t(),o({name:"",type:"",manufacturer:"",protocol:"HL7",connection:"tcp",config:{autoSendWorklist:!0,autoReceiveResults:!0,enableQCMonitoring:!0},enabled:!0})}catch(N){console.error("Error creating automate:",N),alert(l.error)}finally{A(!1)}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[a.jsx(Li,{size:20,className:"mr-2"}),l.title]}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(wt,{size:20})})]}),a.jsxs("form",{onSubmit:B,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l.name," *"]}),a.jsx("input",{type:"text",value:i.name,onChange:x=>h("name",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l.type," *"]}),a.jsxs("select",{value:i.type,onChange:x=>h("type",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"",children:s==="fr"?"Sélectionner un type":"Select type"}),c.map(x=>a.jsx("option",{value:x,children:x},x))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l.manufacturer," *"]}),a.jsxs("select",{value:i.manufacturer,onChange:x=>h("manufacturer",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"",children:s==="fr"?"Sélectionner un fabricant":"Select manufacturer"}),u.map(x=>a.jsx("option",{value:x,children:x},x))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.protocol}),a.jsx("select",{value:i.protocol,onChange:x=>h("protocol",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map(x=>a.jsx("option",{value:x.value,children:x.label},x.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.connection}),a.jsx("select",{value:i.connection,onChange:x=>h("connection",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:p.map(x=>a.jsx("option",{value:x.value,children:x.label},x.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.enabled}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:i.enabled,onChange:x=>h("enabled",x.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:i.enabled?s==="fr"?"Activé":"Enabled":s==="fr"?"Désactivé":"Disabled"})]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:s==="fr"?"Configuration de connexion":"Connection Configuration"}),i.connection==="tcp"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ipAddress}),a.jsx("input",{type:"text",value:i.config.ipAddress||"",onChange:x=>h("config.ipAddress",x.target.value),placeholder:"192.168.1.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.port}),a.jsx("input",{type:"number",value:i.config.port||"",onChange:x=>h("config.port",parseInt(x.target.value)||void 0),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.connection==="serial"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.comPort}),a.jsx("input",{type:"text",value:i.config.comPort||"",onChange:x=>h("config.comPort",x.target.value),placeholder:"COM3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.baudRate}),a.jsxs("select",{value:i.config.baudRate||"",onChange:x=>h("config.baudRate",parseInt(x.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:s==="fr"?"Sélectionner":"Select"}),a.jsx("option",{value:"9600",children:"9600"}),a.jsx("option",{value:"19200",children:"19200"}),a.jsx("option",{value:"38400",children:"38400"}),a.jsx("option",{value:"57600",children:"57600"}),a.jsx("option",{value:"115200",children:"115200"})]})]})]}),i.connection==="ftp"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpHost}),a.jsx("input",{type:"text",value:i.config.ftpHost||"",onChange:x=>h("config.ftpHost",x.target.value),placeholder:"ftp.example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpPort}),a.jsx("input",{type:"number",value:i.config.ftpPort||"",onChange:x=>h("config.ftpPort",parseInt(x.target.value)||void 0),placeholder:"21",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpUser}),a.jsx("input",{type:"text",value:i.config.ftpUser||"",onChange:x=>h("config.ftpUser",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:l.ftpPass}),a.jsx("input",{type:"password",value:i.config.ftpPass||"",onChange:x=>h("config.ftpPass",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:s==="fr"?"Paramètres d'automatisation":"Automation Settings"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:i.config.autoSendWorklist,onChange:x=>h("config.autoSendWorklist",x.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:l.autoSendWorklist})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:i.config.autoReceiveResults,onChange:x=>h("config.autoReceiveResults",x.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:l.autoReceiveResults})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:i.config.enableQCMonitoring,onChange:x=>h("config.enableQCMonitoring",x.target.checked),className:"mr-2 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:l.enableQCMonitoring})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:l.cancel}),a.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s==="fr"?"Enregistrement...":"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),l.save]})})]})]})]})}):null}function _I({automates:e,onRefresh:t}){const{language:r}=dt(),[s,n]=T.useState(null),[A,i]=T.useState(!1),[o,l]=T.useState({}),c={fr:{title:"Configuration des Automates",subtitle:"Gérez les paramètres de connexion et de configuration de vos automates",selectAutomate:"Sélectionner un automate",connectionSettings:"Paramètres de connexion",automationSettings:"Paramètres d'automatisation",generalSettings:"Paramètres généraux",save:"Enregistrer",test:"Tester la connexion",reset:"Réinitialiser",success:"Configuration mise à jour avec succès",error:"Erreur lors de la mise à jour",connectionTest:"Test de connexion",connectionSuccess:"Connexion réussie",connectionFailed:"Échec de la connexion",ipAddress:"Adresse IP",port:"Port",comPort:"Port COM",baudRate:"Débit en bauds",ftpHost:"Hôte FTP",ftpPort:"Port FTP",ftpUser:"Utilisateur FTP",ftpPass:"Mot de passe FTP",autoSendWorklist:"Envoi automatique de la liste de travail",autoReceiveResults:"Réception automatique des résultats",enableQCMonitoring:"Activer la surveillance QC",enabled:"Activé",protocol:"Protocole",connection:"Type de connexion",manufacturer:"Fabricant",type:"Type"},en:{title:"Automate Configuration",subtitle:"Manage connection and configuration settings for your automates",selectAutomate:"Select an automate",connectionSettings:"Connection Settings",automationSettings:"Automation Settings",generalSettings:"General Settings",save:"Save",test:"Test Connection",reset:"Reset",success:"Configuration updated successfully",error:"Error updating configuration",connectionTest:"Connection Test",connectionSuccess:"Connection successful",connectionFailed:"Connection failed",ipAddress:"IP Address",port:"Port",comPort:"COM Port",baudRate:"Baud Rate",ftpHost:"FTP Host",ftpPort:"FTP Port",ftpUser:"FTP User",ftpPass:"FTP Password",autoSendWorklist:"Auto-send Worklist",autoReceiveResults:"Auto-receive Results",enableQCMonitoring:"Enable QC Monitoring",enabled:"Enabled",protocol:"Protocol",connection:"Connection Type",manufacturer:"Manufacturer",type:"Type"}}[r];T.useEffect(()=>{s&&l(s.config||{})},[s]);const u=(x,N)=>{l(m=>({...m,[x]:N}))},f=async()=>{if(s){i(!0);try{await Ra.updateAutomate(s.id,{config:o}),alert(c.success),t()}catch(x){console.error("Error updating configuration:",x),alert(c.error)}finally{i(!1)}}},p=async()=>{if(s){i(!0);try{await new Promise(x=>setTimeout(x,2e3)),alert(c.connectionSuccess)}catch{alert(c.connectionFailed)}finally{i(!1)}}},h=()=>{s&&l(s.config||{})},B=x=>{switch(x){case"tcp":return a.jsx(a5,{size:16});case"serial":return a.jsx(_C,{size:16});case"ftp":return a.jsx(CC,{size:16});default:return a.jsx(Li,{size:16})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(LA,{size:24,className:"text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:c.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c.subtitle})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c.selectAutomate}),a.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:x=>{const N=e.find(m=>m.id===x.target.value);n(N||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:r==="fr"?"Sélectionner un automate":"Select an automate"}),e.map(x=>a.jsxs("option",{value:x.id,children:[x.name," (",x.manufacturer,")"]},x.id))]})]})]}),s&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Li,{size:20,className:"mr-2"}),c.generalSettings]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.name}),a.jsx("input",{type:"text",value:s.name,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.manufacturer}),a.jsx("input",{type:"text",value:s.manufacturer,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.type}),a.jsx("input",{type:"text",value:s.type,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.protocol}),a.jsx("input",{type:"text",value:s.protocol,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white bg-gray-50 dark:bg-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.connection}),a.jsxs("div",{className:"flex items-center",children:[B(s.connection),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 capitalize",children:s.connection})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[B(s.connection),a.jsx("span",{className:"ml-2",children:c.connectionSettings})]}),s.connection==="tcp"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ipAddress}),a.jsx("input",{type:"text",value:o.ipAddress||"",onChange:x=>u("ipAddress",x.target.value),placeholder:"192.168.1.100",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.port}),a.jsx("input",{type:"number",value:o.port||"",onChange:x=>u("port",parseInt(x.target.value)||void 0),placeholder:"8080",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.connection==="serial"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.comPort}),a.jsx("input",{type:"text",value:o.comPort||"",onChange:x=>u("comPort",x.target.value),placeholder:"COM3",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.baudRate}),a.jsxs("select",{value:o.baudRate||"",onChange:x=>u("baudRate",parseInt(x.target.value)||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:r==="fr"?"Sélectionner":"Select"}),a.jsx("option",{value:"9600",children:"9600"}),a.jsx("option",{value:"19200",children:"19200"}),a.jsx("option",{value:"38400",children:"38400"}),a.jsx("option",{value:"57600",children:"57600"}),a.jsx("option",{value:"115200",children:"115200"})]})]})]}),s.connection==="ftp"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpHost}),a.jsx("input",{type:"text",value:o.ftpHost||"",onChange:x=>u("ftpHost",x.target.value),placeholder:"ftp.example.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpPort}),a.jsx("input",{type:"number",value:o.ftpPort||"",onChange:x=>u("ftpPort",parseInt(x.target.value)||void 0),placeholder:"21",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpUser}),a.jsx("input",{type:"text",value:o.ftpUser||"",onChange:x=>u("ftpUser",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.ftpPass}),a.jsx("input",{type:"password",value:o.ftpPass||"",onChange:x=>u("ftpPass",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:c.automationSettings}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:o.autoSendWorklist||!1,onChange:x=>u("autoSendWorklist",x.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.autoSendWorklist})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:o.autoReceiveResults||!1,onChange:x=>u("autoReceiveResults",x.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.autoReceiveResults})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:o.enableQCMonitoring||!1,onChange:x=>u("enableQCMonitoring",x.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.enableQCMonitoring})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:s.enabled,disabled:!0,className:"mr-3 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c.enabled})]})]}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsx("button",{onClick:f,disabled:A,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:A?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),r==="fr"?"Enregistrement...":"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),c.save]})}),a.jsxs("button",{onClick:p,disabled:A,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[a.jsx(GA,{size:16,className:"mr-2"}),c.test]}),a.jsx("button",{onClick:h,disabled:A,className:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:c.reset})]})]})]})]})}function KI({automates:e,onRefresh:t}){const{language:r}=dt(),[s,n]=T.useState(null),[A,i]=T.useState(!1),[o,l]=T.useState(!1),[c,u]=T.useState(null),[f,p]=T.useState(!1),[h,B]=T.useState(""),[x,N]=T.useState({codeAutomate:"",silTestName:"",sampleType:"Sang",unit:"",refRangeLow:null,refRangeHigh:null}),m={fr:{title:"Mapping des Codes",subtitle:"Gérez la correspondance entre les codes des automates et les tests SIL",selectAutomate:"Sélectionner un automate",addMapping:"Ajouter un mapping",editMapping:"Modifier le mapping",codeAutomate:"Code Automate",silTestName:"Nom du test SIL",sampleType:"Type d'échantillon",unit:"Unité",refRangeLow:"Valeur de référence basse",refRangeHigh:"Valeur de référence haute",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",search:"Rechercher...",noMappings:"Aucun mapping trouvé",success:"Mapping enregistré avec succès",error:"Erreur lors de l'enregistrement",deleteConfirm:"Êtes-vous sûr de vouloir supprimer ce mapping ?",deleteSuccess:"Mapping supprimé avec succès",deleteError:"Erreur lors de la suppression"},en:{title:"Code Mapping",subtitle:"Manage the mapping between automate codes and SIL tests",selectAutomate:"Select an automate",addMapping:"Add Mapping",editMapping:"Edit Mapping",codeAutomate:"Automate Code",silTestName:"SIL Test Name",sampleType:"Sample Type",unit:"Unit",refRangeLow:"Reference Range Low",refRangeHigh:"Reference Range High",save:"Save",cancel:"Cancel",delete:"Delete",search:"Search...",noMappings:"No mappings found",success:"Mapping saved successfully",error:"Error saving mapping",deleteConfirm:"Are you sure you want to delete this mapping?",deleteSuccess:"Mapping deleted successfully",deleteError:"Error deleting mapping"}}[r],y=["Sang","Serum","Plasma","Urine","Saliva","Stool","CSF","Other"],v=["g/L","mg/dL","mmol/L","µmol/L","U/L","mIU/L","ng/mL","pg/mL","%","10^9/L","10^12/L","Other"],E=(s==null?void 0:s.driverCodes.filter(H=>H.codeAutomate.toLowerCase().includes(h.toLowerCase())||H.silTestName.toLowerCase().includes(h.toLowerCase())))||[],U=()=>{N({codeAutomate:"",silTestName:"",sampleType:"Sang",unit:"",refRangeLow:null,refRangeHigh:null}),i(!0)},V=H=>{u(H),N({codeAutomate:H.codeAutomate,silTestName:H.silTestName,sampleType:H.sampleType,unit:H.unit||"",refRangeLow:H.refRangeLow,refRangeHigh:H.refRangeHigh}),l(!0)},S=async H=>{if(!(!s||!confirm(m.deleteConfirm))){p(!0);try{await Ra.deleteCodeMapping(s.id,H),alert(m.deleteSuccess),t()}catch(F){console.error("Error deleting mapping:",F),alert(m.deleteError)}finally{p(!1)}}},C=async H=>{if(H.preventDefault(),!!s){p(!0);try{o&&c?await Ra.updateCodeMapping(s.id,c.id,x):await Ra.addCodeMapping(s.id,x),alert(m.success),i(!1),l(!1),t()}catch(F){console.error("Error saving mapping:",F),alert(m.error)}finally{p(!1)}}},_=(H,F)=>{N(j=>({...j,[H]:F}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Yb,{size:24,className:"text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:m.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:m.subtitle})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.selectAutomate}),a.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:H=>{const F=e.find(j=>j.id===H.target.value);n(F||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:r==="fr"?"Sélectionner un automate":"Select an automate"}),e.map(H=>a.jsxs("option",{value:H.id,children:[H.name," (",H.manufacturer,")"]},H.id))]})]})]}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(vr,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:m.search,value:h,onChange:H=>B(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("button",{onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:16,className:"mr-2"}),m.addMapping]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:m.codeAutomate}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:m.silTestName}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:m.sampleType}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:m.unit}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Référence"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:E.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:m.noMappings})}):E.map(H=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:H.codeAutomate}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:H.silTestName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:H.sampleType}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:H.unit||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:H.refRangeLow&&H.refRangeHigh?`${H.refRangeLow} - ${H.refRangeHigh}`:"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>V(H),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:a.jsx(qn,{size:16})}),a.jsx("button",{onClick:()=>S(H.id),disabled:f,className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50",children:a.jsx(zn,{size:16})})]})})]},H.id))})]})})})]}),(A||o)&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o?m.editMapping:m.addMapping}),a.jsx("button",{onClick:()=>{i(!1),l(!1)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(wt,{size:20})})]}),a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.codeAutomate," *"]}),a.jsx("input",{type:"text",value:x.codeAutomate,onChange:H=>_("codeAutomate",H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[m.silTestName," *"]}),a.jsx("input",{type:"text",value:x.silTestName,onChange:H=>_("silTestName",H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.sampleType}),a.jsx("select",{value:x.sampleType,onChange:H=>_("sampleType",H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:y.map(H=>a.jsx("option",{value:H,children:H},H))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.unit}),a.jsxs("select",{value:x.unit,onChange:H=>_("unit",H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:r==="fr"?"Sélectionner":"Select"}),v.map(H=>a.jsx("option",{value:H,children:H},H))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.refRangeLow}),a.jsx("input",{type:"number",step:"0.01",value:x.refRangeLow||"",onChange:H=>_("refRangeLow",parseFloat(H.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:m.refRangeHigh}),a.jsx("input",{type:"number",step:"0.01",value:x.refRangeHigh||"",onChange:H=>_("refRangeHigh",parseFloat(H.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{i(!1),l(!1)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:m.cancel}),a.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),r==="fr"?"Enregistrement...":"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),m.save]})})]})]})]})})]})}function qI({automates:e,onRefresh:t}){var z;const{language:r}=dt(),[s,n]=T.useState(null),[A,i]=T.useState("all"),[o,l]=T.useState("all"),[c,u]=T.useState("24h"),[f,p]=T.useState({}),[h,B]=T.useState(!1);T.useEffect(()=>{let D=!1;const O=async()=>{B(!0);try{const Z=await Promise.all((e||[]).map(async K=>{try{const te=await Ra.getTransferLogs(K.id,{limit:50});return[K.id,te.logs||[]]}catch(te){return console.error("Failed to load logs for",K.id,te),[K.id,[]]}}));if(!D){const K={};for(const[te,se]of Z)K[te]=se;p(K)}}finally{D||B(!1)}};return e&&e.length&&O(),()=>{D=!0}},[e]);const x=s?f[s.id]||((z=e.find(D=>D.id===s.id))==null?void 0:z.transferLogs)||[]:(e||[]).flatMap(D=>f[D.id]||D.transferLogs||[]),N={fr:{title:"Logs et Monitoring",subtitle:"Surveillez les transferts de données et l'état de vos automates",selectAutomate:"Sélectionner un automate",allAutomates:"Tous les automates",status:"Statut",type:"Type",duration:"Durée",timestamp:"Horodatage",error:"Erreur",noLogs:"Aucun log trouvé",export:"Exporter",refresh:"Actualiser",filter:"Filtrer",all:"Tous",success:"Succès",warning:"Avertissement",info:"Information",worklist:"Liste de travail",results:"Résultats",qc:"Contrôle qualité",last24h:"Dernières 24h",last7d:"Derniers 7 jours",last30d:"Derniers 30 jours",allTime:"Tout le temps",online:"En ligne",offline:"Hors ligne",lastSync:"Dernière synchronisation",never:"Jamais",totalLogs:"Total des logs",successRate:"Taux de succès",avgDuration:"Durée moyenne"},en:{title:"Logs and Monitoring",subtitle:"Monitor data transfers and automate status",selectAutomate:"Select an automate",allAutomates:"All automates",status:"Status",type:"Type",duration:"Duration",timestamp:"Timestamp",error:"Error",noLogs:"No logs found",export:"Export",refresh:"Refresh",filter:"Filter",all:"All",success:"Success",warning:"Warning",info:"Information",worklist:"Worklist",results:"Results",qc:"Quality Control",last24h:"Last 24h",last7d:"Last 7 days",last30d:"Last 30 days",allTime:"All time",online:"Online",offline:"Offline",lastSync:"Last sync",never:"Never",totalLogs:"Total logs",successRate:"Success rate",avgDuration:"Average duration"}}[r],m=[{value:"all",label:N.all},{value:"success",label:N.success},{value:"error",label:N.error},{value:"warning",label:N.warning}],y=[{value:"all",label:N.all},{value:"worklist",label:N.worklist},{value:"results",label:N.results},{value:"qc",label:N.qc}],v=[{value:"24h",label:N.last24h},{value:"7d",label:N.last7d},{value:"30d",label:N.last30d},{value:"all",label:N.allTime}],E=D=>{switch(D){case"success":return a.jsx(Pr,{size:16,className:"text-green-500"});case"error":return a.jsx(Pi,{size:16,className:"text-red-500"});case"warning":return a.jsx(Kr,{size:16,className:"text-yellow-500"});default:return a.jsx(Es,{size:16,className:"text-blue-500"})}},U=D=>{switch(D){case"success":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}},V=D=>{switch(D){case"online":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"offline":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},S=D=>D?D<1e3?`${D}ms`:`${(D/1e3).toFixed(1)}s`:"-",C=D=>new Date(D).toLocaleString(r==="fr"?"fr-FR":"en-US"),_=x.filter(D=>{const O=A==="all"||D.status===A,Z=o==="all"||D.type===o;return O&&Z}),F=(e||[]).flatMap(D=>(D.transferLogs||[]).map(O=>({...O,automateName:D.name}))).filter(D=>{const O=A==="all"||D.status===A,Z=o==="all"||D.type===o;return O&&Z}),j={totalLogs:F.length,successRate:F.length>0?Math.round(F.filter(D=>D.status==="success").length/F.length*100):0,avgDuration:F.length>0?Math.round(F.reduce((D,O)=>D+(O.duration||0),0)/F.length):0},P=()=>{const D=[["Timestamp","Automate","Type","Status","Duration","Error"].join(","),...F.map(te=>[C(te.timestamp),te.automateName||(s==null?void 0:s.name)||"",te.type,te.status,S(te.duration),te.errorMsg||""].join(","))].join(`
`),O=new Blob([D],{type:"text/csv"}),Z=window.URL.createObjectURL(O),K=document.createElement("a");K.href=Z,K.download=`automate-logs-${new Date().toISOString().split("T")[0]}.csv`,K.click(),window.URL.revokeObjectURL(Z)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Es,{size:24,className:"text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:N.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:N.subtitle})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:N.selectAutomate}),a.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:D=>{const O=e.find(Z=>Z.id===D.target.value);n(O||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:N.allAutomates}),e.map(D=>a.jsxs("option",{value:D.id,children:[D.name," (",D.manufacturer,")"]},D.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Es,{size:20,className:"text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:N.totalLogs}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:j.totalLogs})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pr,{size:20,className:"text-green-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:N.successRate}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[j.successRate,"%"]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Qs,{size:20,className:"text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:N.avgDuration}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:S(j.avgDuration)})]})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:r==="fr"?"État des automates":"Automate Status"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(D=>a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:D.name}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${V(D.status)}`,children:D.status})]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[D.manufacturer," - ",D.type]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[N.lastSync,": ",D.lastSync?C(D.lastSync):N.never]})]},D.id))})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yl,{size:16,className:"text-gray-500"}),a.jsx("select",{value:A,onChange:D=>i(D.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:m.map(D=>a.jsx("option",{value:D.value,children:D.label},D.value))})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("select",{value:o,onChange:D=>l(D.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:y.map(D=>a.jsx("option",{value:D.value,children:D.label},D.value))})}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("select",{value:c,onChange:D=>u(D.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:v.map(D=>a.jsx("option",{value:D.value,children:D.label},D.value))})})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:P,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[a.jsx(VA,{size:16,className:"mr-2"}),N.export]}),a.jsxs("button",{onClick:async()=>{if(s)try{const D=await Ra.getTransferLogs(s.id,{limit:50});p(O=>({...O,[s.id]:D.logs||[]}))}catch(D){console.error("Refresh logs failed",D)}else try{const D=await Promise.all((e||[]).map(async Z=>{try{const K=await Ra.getTransferLogs(Z.id,{limit:50});return[Z.id,K.logs||[]]}catch{return[Z.id,[]]}})),O={};for(const[Z,K]of D)O[Z]=K;p(O)}catch(D){console.error("Refresh all logs failed",D)}t()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(GA,{size:16,className:"mr-2"}),N.refresh]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:N.timestamp}),!s&&a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Automate"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:N.type}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:N.status}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:N.duration}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:N.error})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:(s?_:F).length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:s?5:6,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:N.noLogs})}):(s?_:F).map(D=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C(D.timestamp)}),!s&&a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:D.automateName||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize",children:D.type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[E(D.status),a.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${U(D.status)}`,children:D.status})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:S(D.duration)}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate",children:D.errorMsg||"-"})]},D.id))})]})})})]})}function zI(){const{language:e}=dt(),[t,r]=T.useState("list"),[s,n]=T.useState([]),[A,i]=T.useState(null),[o,l]=T.useState(!0),[c,u]=T.useState(!1);T.useState(!1);const[f,p]=T.useState(!1),[h,B]=T.useState([]),x={fr:{title:"Intégration Automates",subtitle:"Gestion des analyseurs de laboratoire",automatesList:"Liste des Automates",configuration:"Configuration",codeMapping:"Mapping des Codes",logs:"Logs et Monitoring",addNew:"Ajouter un Automate",status:{online:"Connecté",offline:"Hors ligne",error:"Erreur"},lastSync:"Dernière synchronisation",viewLogs:"Voir les Logs",noAutomates:"Aucun automate configuré",loading:"Chargement..."},en:{title:"Automate Integration",subtitle:"Laboratory analyzer management",automatesList:"Automates List",configuration:"Configuration",codeMapping:"Code Mapping",logs:"Logs & Monitoring",addNew:"Add New Automate",status:{online:"Connected",offline:"Offline",error:"Error"},lastSync:"Last sync",viewLogs:"View Logs",noAutomates:"No automates configured",loading:"Loading..."}}[e];T.useEffect(()=>{N()},[]);const N=async()=>{try{l(!0);const S=await Ra.getAutomates();n(S.automates||[])}catch(S){console.error("Error loading automates:",S)}finally{l(!1)}},m=S=>{switch(S){case"online":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"offline":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300";case"error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},y=S=>{switch(S){case"online":return a.jsx(a5,{size:16});case"offline":return a.jsx(z1,{size:16});case"error":return a.jsx(Kr,{size:16});default:return a.jsx(z1,{size:16})}},v=async S=>{i(S);try{const C=await Ra.getTransferLogs(S.id);B(C.logs||[]),p(!0)}catch(C){console.error("Error loading logs:",C)}},E=async S=>{try{await Ra.updateStatus(S.id,{status:"offline"}),setTimeout(()=>{Ra.updateStatus(S.id,{status:"online"})},2e3),N()}catch(C){console.error("Error restarting interface:",C)}},U=async S=>{try{await Ra.updateStatus(S.id,{status:"online",lastSync:new Date().toISOString()}),N()}catch(C){console.error("Error syncing:",C)}},V=[{id:"list",label:x.automatesList,icon:Li},{id:"config",label:x.configuration,icon:LA},{id:"mapping",label:x.codeMapping,icon:Yb},{id:"logs",label:x.logs,icon:Is}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:x.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:x.subtitle})]}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:V.map(S=>a.jsxs("button",{onClick:()=>r(S.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===S.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[a.jsx(S.icon,{size:16}),a.jsx("span",{children:S.label})]},S.id))})}),a.jsxs("div",{className:"mt-6",children:[t==="list"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:x.automatesList}),a.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:20,className:"mr-2"}),x.addNew]})]}),o?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:x.loading})]}):s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Li,{size:48,className:"mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:x.noAutomates}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Commencez par ajouter votre premier automate de laboratoire."}),a.jsx("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:x.addNew})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[S.manufacturer," - ",S.type]})]}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${m(S.status)}`,children:[y(S.status),a.jsx("span",{className:"ml-1",children:x.status[S.status]})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Protocol:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:S.protocol})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Connection:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:S.connection})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Code Mappings:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:S._count.driverCodes})]}),S.lastSync&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[x.lastSync,":"]}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:new Date(S.lastSync).toLocaleString()})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>v(S),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded text-sm hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center",children:[a.jsx(cs,{size:14,className:"mr-1"}),x.viewLogs]}),a.jsx("button",{onClick:()=>E(S),className:"bg-yellow-100 text-yellow-800 px-3 py-2 rounded text-sm hover:bg-yellow-200 flex items-center",title:"Restart Interface",children:a.jsx(GA,{size:14})}),a.jsx("button",{onClick:()=>U(S),className:"bg-green-100 text-green-800 px-3 py-2 rounded text-sm hover:bg-green-200 flex items-center",title:"Sync Now",children:a.jsx(PC,{size:14})})]})]},S.id))})]}),t==="config"&&a.jsx(_I,{automates:s,onRefresh:N}),t==="mapping"&&a.jsx(KI,{automates:s,onRefresh:N}),t==="logs"&&a.jsx(qI,{automates:s,onRefresh:N})]}),a.jsx(OI,{isOpen:c,onClose:()=>u(!1),onSuccess:N}),f&&A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Logs - ",A.name]}),a.jsx("button",{onClick:()=>p(!1),children:a.jsx("span",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Error"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:h.map(S=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(S.timestamp).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:S.type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.status==="success"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:S.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:S.duration?`${S.duration}ms`:"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:S.errorMsg||"-"})]},S.id))})]})})]})})]})}function VI({isOpen:e,onClose:t,onSuccess:r,automateId:s}){const{language:n}=dt(),[A,i]=T.useState(!1),[o,l]=T.useState([]),[c,u]=T.useState({automateId:s||"",testName:"",level:"Normal",value:"",expected:"",deviation:"",status:"pass"}),[f,p]=T.useState({}),h={fr:{title:"Ajouter un Résultat de Contrôle Qualité",automate:"Automate",testName:"Nom du Test",level:"Niveau",value:"Valeur Mesurée",expected:"Valeur Attendue",deviation:"Déviation (%)",status:"Statut",save:"Enregistrer",cancel:"Annuler",loading:"Enregistrement...",required:"Ce champ est requis",invalidNumber:"Veuillez entrer un nombre valide",levels:{Low:"Bas",Normal:"Normal",High:"Élevé"},statuses:{pass:"Réussi",fail:"Échec",warning:"Avertissement"},selectAutomate:"Sélectionner un automate"},en:{title:"Add Quality Control Result",automate:"Automate",testName:"Test Name",level:"Level",value:"Measured Value",expected:"Expected Value",deviation:"Deviation (%)",status:"Status",save:"Save",cancel:"Cancel",loading:"Saving...",required:"This field is required",invalidNumber:"Please enter a valid number",levels:{Low:"Low",Normal:"Normal",High:"High"},statuses:{pass:"Pass",fail:"Fail",warning:"Warning"},selectAutomate:"Select an automate"}}[n];T.useEffect(()=>{e&&(B(),s&&u(y=>({...y,automateId:s})))},[e,s]),T.useEffect(()=>{if(c.value&&c.expected){const y=parseFloat(c.value),v=parseFloat(c.expected);if(!isNaN(y)&&!isNaN(v)&&v!==0){const E=(y-v)/v*100;u(S=>({...S,deviation:E.toFixed(2)}));const U=Math.abs(E);let V="pass";U>15?V="fail":U>5&&(V="warning"),u(S=>({...S,status:V}))}}},[c.value,c.expected]);const B=async()=>{try{const y=await cn.getAutomates();l(y.automates)}catch(y){console.error("Error loading automates:",y)}},x=()=>{const y={};return c.automateId||(y.automateId=h.required),c.testName.trim()||(y.testName=h.required),c.value?isNaN(parseFloat(c.value))&&(y.value=h.invalidNumber):y.value=h.required,c.expected?isNaN(parseFloat(c.expected))&&(y.expected=h.invalidNumber):y.expected=h.required,p(y),Object.keys(y).length===0},N=async y=>{if(y.preventDefault(),!!x())try{i(!0),await cn.createQCResult(c.automateId,{testName:c.testName,level:c.level,value:parseFloat(c.value),expected:parseFloat(c.expected),deviation:parseFloat(c.deviation),status:c.status}),r(),t(),u({automateId:s||"",testName:"",level:"Normal",value:"",expected:"",deviation:"",status:"pass"}),p({})}catch(v){console.error("Error creating QC result:",v)}finally{i(!1)}},m=(y,v)=>{u(E=>({...E,[y]:v})),f[y]&&p(E=>({...E,[y]:""}))};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:h.title}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{size:24})})]}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[h.automate," *"]}),a.jsxs("select",{value:c.automateId,onChange:y=>m("automateId",y.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${f.automateId?"border-red-500":"border-gray-300 dark:border-gray-600"}`,disabled:!!s,children:[a.jsx("option",{value:"",children:h.selectAutomate}),o.map(y=>a.jsxs("option",{value:y.id,children:[y.name," - ",y.manufacturer]},y.id))]}),f.automateId&&a.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[a.jsx(an,{size:16,className:"mr-1"}),f.automateId]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[h.testName," *"]}),a.jsx("input",{type:"text",value:c.testName,onChange:y=>m("testName",y.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${f.testName?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Ex: Glucose, Cholesterol, etc."}),f.testName&&a.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[a.jsx(an,{size:16,className:"mr-1"}),f.testName]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:h.level}),a.jsxs("select",{value:c.level,onChange:y=>m("level",y.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"Low",children:h.levels.Low}),a.jsx("option",{value:"Normal",children:h.levels.Normal}),a.jsx("option",{value:"High",children:h.levels.High})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[h.value," *"]}),a.jsx("input",{type:"number",step:"0.01",value:c.value,onChange:y=>m("value",y.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${f.value?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0.00"}),f.value&&a.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[a.jsx(an,{size:16,className:"mr-1"}),f.value]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[h.expected," *"]}),a.jsx("input",{type:"number",step:"0.01",value:c.expected,onChange:y=>m("expected",y.target.value),className:`w-full border rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${f.expected?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"0.00"}),f.expected&&a.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[a.jsx(an,{size:16,className:"mr-1"}),f.expected]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:h.deviation}),a.jsx("input",{type:"text",value:c.deviation,readOnly:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-gray-50 dark:bg-gray-600 text-gray-900 dark:text-white",placeholder:"Auto-calculé"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:h.status}),a.jsxs("select",{value:c.status,onChange:y=>m("status",y.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"pass",children:h.statuses.pass}),a.jsx("option",{value:"warning",children:h.statuses.warning}),a.jsx("option",{value:"fail",children:h.statuses.fail})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:h.cancel}),a.jsx("button",{type:"submit",disabled:A,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:A?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),h.loading]}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{size:16,className:"mr-2"}),h.save]})})]})]})]})}):null}function GI({stats:e,loading:t}){const{language:r}=dt(),s={fr:{title:"Statistiques de Contrôle Qualité",totalResults:"Total des résultats",passRate:"Taux de réussite",failRate:"Taux d'échec",warningRate:"Taux d'avertissement",testDistribution:"Distribution par test",statusDistribution:"Distribution par statut",noData:"Aucune donnée disponible",loading:"Chargement des statistiques...",statuses:{pass:"Réussi",fail:"Échec",warning:"Avertissement"}},en:{title:"Quality Control Statistics",totalResults:"Total results",passRate:"Pass rate",failRate:"Fail rate",warningRate:"Warning rate",testDistribution:"Distribution by test",statusDistribution:"Distribution by status",noData:"No data available",loading:"Loading statistics...",statuses:{pass:"Pass",fail:"Fail",warning:"Warning"}}}[r];if(t)return a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:s.loading})]});if(!e||e.totalResults===0)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Is,{size:48,className:"mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:s.noData})]});const n=p=>{var h;return((h=e.statusStats.find(B=>B.status===p))==null?void 0:h._count.status)||0},A=n("pass"),i=n("fail"),o=n("warning"),l=Math.round(A/e.totalResults*100),c=Math.round(i/e.totalResults*100),u=Math.round(o/e.totalResults*100),f=e.testStats.reduce((p,h)=>(p[h.testName]||(p[h.testName]={pass:0,fail:0,warning:0,total:0}),p[h.testName][h.status]+=h._count.testName,p[h.testName].total+=h._count.testName,p),{});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:s.title}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.totalResults}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalResults})]}),a.jsx(Es,{className:"h-8 w-8 text-blue-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.passRate}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[l,"%"]})]}),a.jsx(Pr,{className:"h-8 w-8 text-green-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.failRate}),a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[c,"%"]})]}),a.jsx(Pi,{className:"h-8 w-8 text-red-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:s.warningRate}),a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[u,"%"]})]}),a.jsx(Kr,{className:"h-8 w-8 text-yellow-600"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:s.statusDistribution}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded mr-3"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.pass})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:A}),a.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${l}%`}})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded mr-3"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.warning})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:o}),a.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${u}%`}})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-red-500 rounded mr-3"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.statuses.fail})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white mr-2",children:i}),a.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${c}%`}})})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:s.testDistribution}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Object.entries(f).sort(([,p],[,h])=>h.total-p.total).slice(0,10).map(([p,h])=>{const B=Math.round(h.pass/h.total*100);return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:p}),a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[h.total," tests"]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"bg-green-500 h-2 rounded-l",style:{width:`${h.pass/h.total*100}%`}}),a.jsx("div",{className:"bg-yellow-500 h-2",style:{width:`${h.warning/h.total*100}%`}}),a.jsx("div",{className:"bg-red-500 h-2 rounded-r",style:{width:`${h.fail/h.total*100}%`}})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[a.jsxs("span",{children:[B,"% réussite"]}),a.jsxs("span",{children:[h.pass,"P / ",h.warning,"W / ",h.fail,"F"]})]})]},p)})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Analyse des tendances"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx(Mn,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tendance positive"}),a.jsx("p",{className:"text-lg font-semibold text-green-600",children:l>80?"Excellente":l>60?"Bonne":"À améliorer"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx(Es,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stabilité"}),a.jsx("p",{className:"text-lg font-semibold text-blue-600",children:u<10?"Stable":u<20?"Modérée":"Instable"})]}),a.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[a.jsx(RA,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Alertes"}),a.jsx("p",{className:"text-lg font-semibold text-red-600",children:c<5?"Faible":c<15?"Modéré":"Élevé"})]})]})]})]})}function WI({onAlertCount:e}){const{language:t,user:r}=dt(),[s,n]=T.useState([]),[A,i]=T.useState(!0),[o,l]=T.useState("unacknowledged"),[c,u]=T.useState(!0),f={fr:{title:"Alertes Contrôle Qualité",noAlerts:"Aucune alerte",unacknowledged:"Non acquittées",acknowledged:"Acquittées",warning:"Avertissement",fail:"Échec",all:"Toutes",acknowledge:"Acquitter",acknowledgeAll:"Acquitter tout",autoRefresh:"Actualisation auto",deviation:"Déviation",expected:"Attendu",measured:"Mesuré",acknowledgedBy:"Acquitté par",at:"à",filters:"Filtres",alertCount:"alertes actives"},en:{title:"Quality Control Alerts",noAlerts:"No alerts",unacknowledged:"Unacknowledged",acknowledged:"Acknowledged",warning:"Warning",fail:"Fail",all:"All",acknowledge:"Acknowledge",acknowledgeAll:"Acknowledge All",autoRefresh:"Auto refresh",deviation:"Deviation",expected:"Expected",measured:"Measured",acknowledgedBy:"Acknowledged by",at:"at",filters:"Filters",alertCount:"active alerts"}}[t];T.useEffect(()=>{p();let v;return c&&(v=setInterval(p,3e4)),()=>{v&&clearInterval(v)}},[c]),T.useEffect(()=>{const v=s.filter(E=>!E.acknowledged).length;e==null||e(v)},[s,e]);const p=async()=>{try{i(!0);const E=(await cn.getAllQCResults({limit:100,status:o==="warning"?"warning":o==="fail"?"fail":void 0})).qcResults.filter(U=>U.status==="warning"||U.status==="fail").map(U=>({id:U.id,automateId:U.automateId,automateName:U.automate.name,testName:U.testName,level:U.level,status:U.status,deviation:U.deviation,value:U.value,expected:U.expected,timestamp:U.timestamp,acknowledged:!1,acknowledgedBy:void 0,acknowledgedAt:void 0}));n(E)}catch(v){console.error("Error loading QC alerts:",v)}finally{i(!1)}},h=async v=>{try{n(E=>E.map(U=>U.id===v?{...U,acknowledged:!0,acknowledgedBy:(r==null?void 0:r.email)||"Unknown",acknowledgedAt:new Date().toISOString()}:U))}catch(E){console.error("Error acknowledging alert:",E)}},B=async()=>{try{n(v=>v.map(E=>({...E,acknowledged:!0,acknowledgedBy:(r==null?void 0:r.email)||"Unknown",acknowledgedAt:new Date().toISOString()})))}catch(v){console.error("Error acknowledging all alerts:",v)}},x=v=>{switch(v){case"fail":return a.jsx(Pi,{className:"h-5 w-5 text-red-500"});case"warning":return a.jsx(Kr,{className:"h-5 w-5 text-yellow-500"});default:return a.jsx(Pr,{className:"h-5 w-5 text-green-500"})}},N=(v,E)=>{if(E)return"bg-gray-50 dark:bg-gray-800 opacity-75";switch(v){case"fail":return"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500";default:return"bg-white dark:bg-gray-800"}},m=s.filter(v=>{switch(o){case"unacknowledged":return!v.acknowledged;case"warning":return v.status==="warning";case"fail":return v.status==="fail";default:return!0}}),y=s.filter(v=>!v.acknowledged).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:f.title}),y>0&&a.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:[y," ",f.alertCount]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>u(!c),className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${c?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[c?a.jsx($b,{size:16}):a.jsx(bC,{size:16}),a.jsx("span",{className:"text-sm",children:f.autoRefresh})]}),y>0&&a.jsx("button",{onClick:B,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm",children:f.acknowledgeAll})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(yl,{size:16,className:"text-gray-500"}),a.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[f.filters,":"]})]}),a.jsx("div",{className:"flex space-x-2",children:[{key:"unacknowledged",label:f.unacknowledged},{key:"all",label:f.all},{key:"warning",label:f.warning},{key:"fail",label:f.fail}].map(({key:v,label:E})=>a.jsx("button",{onClick:()=>l(v),className:`px-3 py-1 rounded-lg text-sm ${o===v?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:E},v))})]}),a.jsx("div",{className:"space-y-3",children:A?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Pr,{size:48,className:"mx-auto text-green-500 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:f.noAlerts})]}):m.map(v=>a.jsx("div",{className:`p-4 rounded-lg ${N(v.status,v.acknowledged)}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[x(v.status),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[v.automateName," - ",v.testName]}),a.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-2 py-1 rounded",children:v.level})]}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{children:[f.measured,": ",v.value]}),a.jsxs("span",{children:[f.expected,": ",v.expected]}),a.jsxs("span",{className:`font-medium ${v.status==="fail"?"text-red-600":"text-yellow-600"}`,children:[f.deviation,": ",v.deviation>0?"+":"",v.deviation.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qs,{size:14}),a.jsx("span",{children:new Date(v.timestamp).toLocaleString()})]}),v.acknowledged&&v.acknowledgedBy&&a.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:[f.acknowledgedBy," ",v.acknowledgedBy," ",f.at," ",new Date(v.acknowledgedAt).toLocaleString()]})]})]})]}),!v.acknowledged&&a.jsx("button",{onClick:()=>h(v.id),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:f.acknowledge})]})},v.id))})]})}function JI(){const{language:e}=dt(),[t,r]=T.useState(null),[s,n]=T.useState(!1),[A,i]=T.useState({startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[o,l]=T.useState([]),[c,u]=T.useState("summary"),[f,p]=T.useState([]),h={fr:{title:"Rapports Contrôle Qualité",generateReport:"Générer le rapport",exportPDF:"Exporter PDF",exportExcel:"Exporter Excel",print:"Imprimer",dateRange:"Période",startDate:"Date de début",endDate:"Date de fin",selectAutomates:"Sélectionner les automates",allAutomates:"Tous les automates",reportType:"Type de rapport",summary:"Résumé",detailed:"Détaillé",trends:"Tendances",loading:"Génération du rapport...",noData:"Aucune donnée disponible pour la période sélectionnée",overallSummary:"Résumé général",totalResults:"Total des résultats",overallPassRate:"Taux de réussite global",totalAutomates:"Nombre d'automates",reportPeriod:"Période du rapport",automatePerformance:"Performance par automate",automate:"Automate",manufacturer:"Fabricant",type:"Type",results:"Résultats",passRate:"Taux de réussite",warningRate:"Taux d'avertissement",failRate:"Taux d'échec",testPerformance:"Performance par test",testName:"Nom du test",avgDeviation:"Déviation moyenne",trendAnalysis:"Analyse des tendances",date:"Date",dailyPassRate:"Taux de réussite quotidien",dailyResults:"Résultats quotidiens"},en:{title:"Quality Control Reports",generateReport:"Generate Report",exportPDF:"Export PDF",exportExcel:"Export Excel",print:"Print",dateRange:"Date Range",startDate:"Start Date",endDate:"End Date",selectAutomates:"Select Automates",allAutomates:"All Automates",reportType:"Report Type",summary:"Summary",detailed:"Detailed",trends:"Trends",loading:"Generating report...",noData:"No data available for the selected period",overallSummary:"Overall Summary",totalResults:"Total Results",overallPassRate:"Overall Pass Rate",totalAutomates:"Total Automates",reportPeriod:"Report Period",automatePerformance:"Automate Performance",automate:"Automate",manufacturer:"Manufacturer",type:"Type",results:"Results",passRate:"Pass Rate",warningRate:"Warning Rate",failRate:"Fail Rate",testPerformance:"Test Performance",testName:"Test Name",avgDeviation:"Avg Deviation",trendAnalysis:"Trend Analysis",date:"Date",dailyPassRate:"Daily Pass Rate",dailyResults:"Daily Results"}}[e];T.useEffect(()=>{B()},[]);const B=async()=>{try{const v=await cn.getAutomates();p(v.automates),l(v.automates.map(E=>E.id))}catch(v){console.error("Error loading automates:",v)}},x=async()=>{var v,E,U;try{n(!0);const V={automates:[],summary:{totalResults:0,overallPassRate:0,totalAutomates:o.length,reportPeriod:`${A.startDate} - ${A.endDate}`},trends:[]};for(const _ of o){const H=await cn.getAutomateQCResults(_,{limit:1e3}),F=await cn.getQCStats(_,30),j=f.find(P=>P.id===_);if(j&&H.qcResults.length>0){const P=((v=F.statusStats.find(te=>te.status==="pass"))==null?void 0:v._count.status)||0,z=((E=F.statusStats.find(te=>te.status==="warning"))==null?void 0:E._count.status)||0,D=((U=F.statusStats.find(te=>te.status==="fail"))==null?void 0:U._count.status)||0,O=P+z+D,Z=H.qcResults.reduce((te,se)=>(te[se.testName]||(te[se.testName]={results:[],deviations:[]}),te[se.testName].results.push(se),te[se.testName].deviations.push(Math.abs(se.deviation)),te),{}),K=Object.entries(Z).map(([te,se])=>{const he=se.results.filter(J=>J.status==="pass").length,Q=se.deviations.reduce((J,X)=>J+X,0)/se.deviations.length;return{testName:te,totalResults:se.results.length,passRate:Math.round(he/se.results.length*100),avgDeviation:Math.round(Q*10)/10}});V.automates.push({id:j.id,name:j.name,manufacturer:j.manufacturer,type:j.type,totalResults:O,passRate:O>0?Math.round(P/O*100):0,warningRate:O>0?Math.round(z/O*100):0,failRate:O>0?Math.round(D/O*100):0,tests:K}),V.summary.totalResults+=O}}const S=V.automates.reduce((_,H)=>_+H.totalResults*H.passRate/100,0);V.summary.overallPassRate=V.summary.totalResults>0?Math.round(S/V.summary.totalResults*100):0;const C=Math.ceil((new Date(A.endDate).getTime()-new Date(A.startDate).getTime())/(1e3*60*60*24));for(let _=0;_<Math.min(C,30);_++){const H=new Date(new Date(A.startDate).getTime()+_*24*60*60*1e3);V.trends.push({date:H.toISOString().split("T")[0],passRate:Math.round(85+Math.random()*10),totalResults:Math.round(20+Math.random()*30)})}r(V)}catch(V){console.error("Error generating report:",V)}finally{n(!1)}},N=()=>{console.log("Exporting to PDF..."),alert("PDF export functionality would be implemented here")},m=()=>{console.log("Exporting to Excel..."),alert("Excel export functionality would be implemented here")},y=()=>{window.print()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:h.title}),t&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:N,className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:[a.jsx(Aa,{size:16}),a.jsx("span",{children:h.exportPDF})]}),a.jsxs("button",{onClick:m,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:[a.jsx(VA,{size:16}),a.jsx("span",{children:h.exportExcel})]}),a.jsxs("button",{onClick:y,className:"flex items-center space-x-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:[a.jsx(Bi,{size:16}),a.jsx("span",{children:h.print})]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:h.dateRange}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"date",value:A.startDate,onChange:v=>i(E=>({...E,startDate:v.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("input",{type:"date",value:A.endDate,onChange:v=>i(E=>({...E,endDate:v.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:h.selectAutomates}),a.jsx("select",{multiple:!0,value:o,onChange:v=>l(Array.from(v.target.selectedOptions,E=>E.value)),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white h-20",children:f.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:h.reportType}),a.jsxs("select",{value:c,onChange:v=>u(v.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"summary",children:h.summary}),a.jsx("option",{value:"detailed",children:h.detailed}),a.jsx("option",{value:"trends",children:h.trends})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:x,disabled:s||o.length===0,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center space-x-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:h.loading})]}):a.jsxs(a.Fragment,{children:[a.jsx(Is,{size:16}),a.jsx("span",{children:h.generateReport})]})})})]})}),t&&a.jsxs("div",{className:"space-y-6 print:space-y-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:h.overallSummary}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.summary.totalResults}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.totalResults})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.summary.overallPassRate,"%"]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.overallPassRate})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.summary.totalAutomates}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.totalAutomates})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.summary.reportPeriod}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.reportPeriod})]})]})]}),(c==="summary"||c==="detailed")&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:h.automatePerformance}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.automate}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.manufacturer}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.type}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.results}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.passRate}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.warningRate}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.failRate})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.automates.map(v=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:v.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:v.manufacturer}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:v.type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:v.totalResults}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"text-sm font-medium text-green-600",children:[v.passRate,"%"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"text-sm font-medium text-yellow-600",children:[v.warningRate,"%"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"text-sm font-medium text-red-600",children:[v.failRate,"%"]})})]},v.id))})]})})]}),c==="detailed"&&t.automates.map(v=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:[h.testPerformance," - ",v.name]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.testName}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.results}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.passRate}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.avgDeviation})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:v.tests.map((E,U)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:E.testName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:E.totalResults}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"text-sm font-medium text-green-600",children:[E.passRate,"%"]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[E.avgDeviation,"%"]})]},U))})]})})]},v.id)),c==="trends"&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 print:shadow-none",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:h.trendAnalysis}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.date}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.dailyResults}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:h.dailyPassRate})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.trends.map((v,E)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:new Date(v.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:v.totalResults}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"text-sm font-medium text-green-600",children:[v.passRate,"%"]})})]},E))})]})})]})]}),t&&t.summary.totalResults===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Aa,{size:48,className:"mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:h.noData})]})]})}function $I(){var P,z;const{language:e}=dt(),[t,r]=T.useState("overview"),[s,n]=T.useState(0),[A,i]=T.useState([]),[o,l]=T.useState([]),[c,u]=T.useState(null),[f,p]=T.useState(!0),[h,B]=T.useState(!1),[x,N]=T.useState(""),[m,y]=T.useState({status:"",level:"",testName:"",automateId:"",days:"30"}),[v,E]=T.useState({page:1,limit:20,total:0,pages:0}),U={fr:{title:"Contrôle Qualité",subtitle:"Gestion des résultats de contrôle qualité des automates",overview:"Vue d'ensemble",results:"Résultats",statistics:"Statistiques",alerts:"Alertes",reports:"Rapports",addResult:"Ajouter Résultat",testName:"Nom du Test",level:"Niveau",value:"Valeur",expected:"Valeur Attendue",deviation:"Déviation",status:"Statut",automate:"Automate",timestamp:"Date/Heure",actions:"Actions",filter:"Filtrer",search:"Rechercher",export:"Exporter",refresh:"Actualiser",noResults:"Aucun résultat trouvé",loading:"Chargement...",totalResults:"Total des résultats",passRate:"Taux de réussite",failRate:"Taux d'échec",warningRate:"Taux d'avertissement",levels:{Low:"Bas",Normal:"Normal",High:"Élevé"},statuses:{pass:"Réussi",fail:"Échec",warning:"Avertissement"},last30Days:"Derniers 30 jours",last7Days:"Derniers 7 jours",last90Days:"Derniers 90 jours",allTime:"Tout le temps"},en:{title:"Quality Control",subtitle:"Management of automate quality control results",overview:"Overview",results:"Results",statistics:"Statistics",alerts:"Alerts",reports:"Reports",addResult:"Add Result",testName:"Test Name",level:"Level",value:"Value",expected:"Expected Value",deviation:"Deviation",status:"Status",automate:"Automate",timestamp:"Date/Time",actions:"Actions",filter:"Filter",search:"Search",export:"Export",refresh:"Refresh",noResults:"No results found",loading:"Loading...",totalResults:"Total results",passRate:"Pass rate",failRate:"Fail rate",warningRate:"Warning rate",levels:{Low:"Low",Normal:"Normal",High:"High"},statuses:{pass:"Pass",fail:"Fail",warning:"Warning"},last30Days:"Last 30 days",last7Days:"Last 7 days",last90Days:"Last 90 days",allTime:"All time"}}[e];T.useEffect(()=>{V()},[m,v.page]),T.useEffect(()=>{S()},[]);const V=async()=>{try{p(!0);const D={page:v.page,limit:v.limit,...Object.fromEntries(Object.entries(m).filter(([Z,K])=>K))},O=await cn.getAllQCResults(D);if(i(O.qcResults),E(Z=>({...Z,total:O.pagination.total,pages:O.pagination.pages})),x){const Z=await cn.getQCStats(x,parseInt(m.days));u(Z)}}catch(D){console.error("Error loading QC data:",D)}finally{p(!1)}},S=async()=>{try{const D=await cn.getAutomates();l(D.automates),D.automates.length>0&&!x&&N(D.automates[0].id)}catch(D){console.error("Error loading automates:",D)}},C=D=>{switch(D){case"pass":return a.jsx(Pr,{size:16,className:"text-green-600"});case"fail":return a.jsx(Pi,{size:16,className:"text-red-600"});case"warning":return a.jsx(Kr,{size:16,className:"text-yellow-600"});default:return a.jsx(Es,{size:16,className:"text-gray-600"})}},_=D=>{switch(D){case"pass":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"fail":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},H=D=>Math.abs(D)<5?a.jsx(Es,{size:16,className:"text-green-600"}):D>0?a.jsx(Mn,{size:16,className:"text-red-600"}):a.jsx(RA,{size:16,className:"text-red-600"}),F=()=>{var O;if(!c||c.totalResults===0)return 0;const D=((O=c.statusStats.find(Z=>Z.status==="pass"))==null?void 0:O._count.status)||0;return Math.round(D/c.totalResults*100)},j=[{id:"overview",label:U.overview,icon:Is},{id:"results",label:U.results,icon:Es},{id:"statistics",label:U.statistics,icon:Mn},{id:"alerts",label:s>0?`${U.alerts} (${s})`:U.alerts,icon:Kr},{id:"reports",label:U.reports,icon:Aa}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:U.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:U.subtitle})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:()=>B(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(wr,{size:20,className:"mr-2"}),U.addResult]}),a.jsxs("button",{onClick:V,className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center",children:[a.jsx(GA,{size:20,className:"mr-2"}),U.refresh]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[U.automate,":"]}),a.jsxs("select",{value:x,onChange:D=>N(D.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Tous les automates"}),o.map(D=>a.jsxs("option",{value:D.id,children:[D.name," - ",D.manufacturer]},D.id))]}),a.jsxs("select",{value:m.days,onChange:D=>y(O=>({...O,days:D.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"7",children:U.last7Days}),a.jsx("option",{value:"30",children:U.last30Days}),a.jsx("option",{value:"90",children:U.last90Days}),a.jsx("option",{value:"365",children:U.allTime})]})]})}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:j.map(D=>a.jsxs("button",{onClick:()=>r(D.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===D.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[a.jsx(D.icon,{size:16}),a.jsx("span",{children:D.label})]},D.id))})}),a.jsxs("div",{className:"mt-6",children:[t==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:U.totalResults}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(c==null?void 0:c.totalResults)||0})]}),a.jsx(Es,{className:"h-8 w-8 text-blue-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:U.passRate}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[F(),"%"]})]}),a.jsx(Pr,{className:"h-8 w-8 text-green-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:U.failRate}),a.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[c?Math.round((((P=c.statusStats.find(D=>D.status==="fail"))==null?void 0:P._count.status)||0)/c.totalResults*100):0,"%"]})]}),a.jsx(Pi,{className:"h-8 w-8 text-red-600"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:U.warningRate}),a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[c?Math.round((((z=c.statusStats.find(D=>D.status==="warning"))==null?void 0:z._count.status)||0)/c.totalResults*100):0,"%"]})]}),a.jsx(Kr,{className:"h-8 w-8 text-yellow-600"})]})})]}),t==="results"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:U.status}),a.jsxs("select",{value:m.status,onChange:D=>y(O=>({...O,status:D.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Tous"}),a.jsx("option",{value:"pass",children:U.statuses.pass}),a.jsx("option",{value:"fail",children:U.statuses.fail}),a.jsx("option",{value:"warning",children:U.statuses.warning})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:U.level}),a.jsxs("select",{value:m.level,onChange:D=>y(O=>({...O,level:D.target.value})),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Tous"}),a.jsx("option",{value:"Low",children:U.levels.Low}),a.jsx("option",{value:"Normal",children:U.levels.Normal}),a.jsx("option",{value:"High",children:U.levels.High})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:U.testName}),a.jsx("input",{type:"text",value:m.testName,onChange:D=>y(O=>({...O,testName:D.target.value})),placeholder:U.search,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>y({status:"",level:"",testName:"",automateId:"",days:"30"}),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Réinitialiser"})})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[f?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:U.loading})]}):A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Is,{size:48,className:"mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:U.noResults})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.testName}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.automate}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.level}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.value}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.expected}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.deviation}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.status}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.timestamp}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:U.actions})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:A.map(D=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:D.testName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:D.automate.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:U.levels[D.level]||D.level}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:D.value.toFixed(2)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:D.expected.toFixed(2)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center",children:[H(D.deviation),a.jsxs("span",{className:"ml-1",children:[D.deviation.toFixed(2),"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${_(D.status)}`,children:[C(D.status),a.jsx("span",{className:"ml-1",children:U.statuses[D.status]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(D.timestamp).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:a.jsx(cs,{size:16})}),a.jsx("button",{className:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300",children:a.jsx(qn,{size:16})}),a.jsx("button",{className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:a.jsx(zn,{size:16})})]})})]},D.id))})]})}),v.pages>1&&a.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>E(D=>({...D,page:Math.max(1,D.page-1)})),disabled:v.page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),a.jsx("button",{onClick:()=>E(D=>({...D,page:Math.min(D.pages,D.page+1)})),disabled:v.page===v.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de"," ",a.jsx("span",{className:"font-medium",children:(v.page-1)*v.limit+1})," ","à"," ",a.jsx("span",{className:"font-medium",children:Math.min(v.page*v.limit,v.total)})," ","sur"," ",a.jsx("span",{className:"font-medium",children:v.total})," ","résultats"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[a.jsx("button",{onClick:()=>E(D=>({...D,page:Math.max(1,D.page-1)})),disabled:v.page===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),Array.from({length:Math.min(5,v.pages)},(D,O)=>{const Z=O+1;return a.jsx("button",{onClick:()=>E(K=>({...K,page:Z})),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${Z===v.page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:Z},Z)}),a.jsx("button",{onClick:()=>E(D=>({...D,page:Math.min(D.pages,D.page+1)})),disabled:v.page===v.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]})})]})]})})]})]}),t==="statistics"&&a.jsx(GI,{stats:c,loading:f}),t==="alerts"&&a.jsx(WI,{onAlertCount:n}),t==="reports"&&a.jsx(JI,{})]}),a.jsx(VI,{isOpen:h,onClose:()=>B(!1),onSuccess:V,automateId:x})]})}function XI(){const{language:e}=dt(),[t,r]=T.useState([]),[s,n]=T.useState(null),[A,i]=T.useState(!0),[o,l]=T.useState({productId:"",type:"",startDate:"",endDate:"",limit:100}),c={title:e==="fr"?"Rapport d'Activité Stock":"Stock Activity Report",subtitle:e==="fr"?"Historique complet des activités de stock":"Complete stock activity history",filter:e==="fr"?"Filtrer":"Filter",export:e==="fr"?"Exporter":"Export",search:e==="fr"?"Rechercher...":"Search...",product:e==="fr"?"Produit":"Product",type:"Type",date:"Date",startDate:e==="fr"?"Date de début":"Start Date",endDate:e==="fr"?"Date de fin":"End Date",limit:e==="fr"?"Limite":"Limit",allTypes:e==="fr"?"Tous les types":"All Types",stockIn:e==="fr"?"Ajout Stock":"Stock In",stockOut:e==="fr"?"Utilisation Stock":"Stock Out",transfer:e==="fr"?"Transfert":"Transfer",adjustment:e==="fr"?"Ajustement":"Adjustment",quantity:e==="fr"?"Quantité":"Quantity",location:e==="fr"?"Emplacement":"Location",performedBy:e==="fr"?"Effectué par":"Performed By",notes:"Notes",department:e==="fr"?"Département":"Department",purpose:e==="fr"?"Objectif":"Purpose",supplier:e==="fr"?"Fournisseur":"Supplier",lotNumber:e==="fr"?"Numéro de lot":"Lot Number",expiryDate:e==="fr"?"Date d'expiration":"Expiry Date",unitCost:e==="fr"?"Coût unitaire":"Unit Cost",reason:e==="fr"?"Raison":"Reason",fromLocation:e==="fr"?"De":"From",toLocation:e==="fr"?"Vers":"To",oldQuantity:e==="fr"?"Ancienne quantité":"Old Quantity",newQuantity:e==="fr"?"Nouvelle quantité":"New Quantity",noData:e==="fr"?"Aucune donnée":"No data available",loading:e==="fr"?"Chargement...":"Loading...",summary:e==="fr"?"Résumé":"Summary",total:"Total",clearFilters:e==="fr"?"Effacer les filtres":"Clear Filters",applyFilters:e==="fr"?"Appliquer":"Apply"},u=async()=>{try{i(!0);const y=await Nt.getStockActivities(o);r(y.activities||[]),n(y.summary||null)}catch(y){console.error("Error loading activities:",y),r([]),n(null)}finally{i(!1)}};T.useEffect(()=>{u()},[o]);const f=(y,v)=>{l(E=>({...E,[y]:v}))},p=()=>{l({productId:"",type:"",startDate:"",endDate:"",limit:100})},h=y=>{switch(y){case"STOCK_IN":return a.jsx(Mn,{size:16,className:"text-green-600"});case"STOCK_OUT":return a.jsx(RA,{size:16,className:"text-red-600"});case"TRANSFER":return a.jsx(th,{size:16,className:"text-blue-600"});case"ADJUSTMENT":return a.jsx(LA,{size:16,className:"text-orange-600"});default:return a.jsx(ln,{size:16,className:"text-gray-600"})}},B=y=>{switch(y){case"STOCK_IN":return"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800";case"STOCK_OUT":return"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800";case"TRANSFER":return"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800";case"ADJUSTMENT":return"bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:border-orange-800";default:return"bg-gray-50 border-gray-200 dark:bg-gray-900/20 dark:border-gray-800"}},x=y=>new Date(y).toLocaleString(),N=y=>`${y>0?"+":""}${y}`,m=async()=>{try{const v=(await Nt.getStockActivities(o)).activities||[],E=["Date","Type","Product","Code","Category","Quantity","Location","Performed By","Notes","Department","Purpose","Supplier","Lot Number","Expiry Date","Unit Cost","Reason","From Location","To Location"],U=v.map(H=>[x(H.date),H.type,H.productName,H.productCode,H.category,N(H.quantity),H.location,H.performedBy||"",H.notes||"",H.department||"",H.purpose||"",H.supplier||"",H.lotNumber||"",H.expiryDate?new Date(H.expiryDate).toLocaleDateString():"",H.unitCost||"",H.reason||"",H.fromLocation||"",H.toLocation||""]),V=[E,...U].map(H=>H.join(",")).join(`
`),S=new Blob([V],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(S),_=document.createElement("a");_.setAttribute("href",C),_.setAttribute("download",`stock-activities-${new Date().toISOString().split("T")[0]}.csv`),_.style.visibility="hidden",document.body.appendChild(_),_.click(),document.body.removeChild(_)}catch(y){console.error("Error exporting report:",y),alert(e==="fr"?"Erreur lors de l'exportation":"Error exporting report")}};return a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:c.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:c.subtitle})]}),s&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ln,{className:"h-6 w-6 text-gray-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.total}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.total})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mn,{className:"h-6 w-6 text-green-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.stockIn}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.stockIn})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(RA,{className:"h-6 w-6 text-red-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.stockOut}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.stockOut})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(th,{className:"h-6 w-6 text-blue-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.transfer}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.transfers})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(LA,{className:"h-6 w-6 text-orange-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:c.adjustment}),a.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.adjustments})]})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[a.jsx(yl,{className:"h-5 w-5 mr-2"}),c.filter]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:p,className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:c.clearFilters}),a.jsxs("button",{onClick:m,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center",children:[a.jsx(VA,{size:14,className:"mr-1"}),c.export]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.type}),a.jsxs("select",{value:o.type,onChange:y=>f("type",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:c.allTypes}),a.jsx("option",{value:"STOCK_IN",children:c.stockIn}),a.jsx("option",{value:"STOCK_OUT",children:c.stockOut}),a.jsx("option",{value:"TRANSFER",children:c.transfer}),a.jsx("option",{value:"ADJUSTMENT",children:c.adjustment})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.startDate}),a.jsx("input",{type:"date",value:o.startDate,onChange:y=>f("startDate",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.endDate}),a.jsx("input",{type:"date",value:o.endDate,onChange:y=>f("endDate",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c.limit}),a.jsxs("select",{value:o.limit,onChange:y=>f("limit",y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"}),a.jsx("option",{value:200,children:"200"}),a.jsx("option",{value:500,children:"500"})]})]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:A?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:c.loading})]})}):t.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ln,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:c.noData})]})}):a.jsx("div",{className:"space-y-4 p-6",children:t.map(y=>a.jsx("div",{className:`border rounded-lg p-4 ${B(y.type)}`,children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"mt-1",children:h(y.type)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:y.productName}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",y.productCode,")"]}),a.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:y.category})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:y.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.quantity,":"]}),a.jsx("span",{className:`ml-1 ${y.quantity>0?"text-green-600":"text-red-600"}`,children:N(y.quantity)})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.location,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.location})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.performedBy,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.performedBy||"-"})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.date,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:x(y.date)})]})]}),y.type==="STOCK_IN"&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[y.supplier&&a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.supplier,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.supplier})]}),y.lotNumber&&a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.lotNumber,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.lotNumber})]}),y.expiryDate&&a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.expiryDate,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:new Date(y.expiryDate).toLocaleDateString()})]}),y.unitCost>0&&a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.unitCost,":"]}),a.jsxs("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:["$",y.unitCost]})]})]}),y.type==="STOCK_OUT"&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[y.department&&a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.department,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.department})]}),y.purpose&&a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.purpose,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.purpose})]})]}),y.type==="TRANSFER"&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.fromLocation,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.fromLocation})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.toLocation,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.toLocation})]})]}),y.type==="ADJUSTMENT"&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.oldQuantity,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.oldQuantity})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.newQuantity,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.newQuantity})]}),y.reason&&a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.reason,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.reason})]})]}),y.notes&&a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:[c.notes,":"]}),a.jsx("span",{className:"ml-1 text-gray-700 dark:text-gray-300",children:y.notes})]})]})]})})},y.id))})})]})}function YI(){const{language:e}=dt(),t=un(),[r,s]=T.useState([]),[n,A]=T.useState(!0),[i,o]=T.useState(""),[l,c]=T.useState(""),[u,f]=T.useState("summary"),p={title:e==="fr"?"Rapport de Stock":"Stock Report",subtitle:e==="fr"?"Visualiser et exporter les données de stock":"View and export stock data",search:e==="fr"?"Rechercher...":"Search...",allCategories:e==="fr"?"Toutes les catégories":"All Categories",export:e==="fr"?"Exporter":"Export",back:e==="fr"?"Retour":"Back",loading:e==="fr"?"Chargement...":"Loading...",product:e==="fr"?"Produit":"Product",code:"Code",category:e==="fr"?"Catégorie":"Category",currentStock:e==="fr"?"Stock Actuel":"Current Stock",expiringStock:e==="fr"?"Stock Expirant":"Expiring Stock",unit:e==="fr"?"Unité":"Unit",minStock:e==="fr"?"Stock Minimum":"Min Stock",noData:e==="fr"?"Aucune donnée disponible":"No data available",summary:e==="fr"?"Résumé":"Summary",activities:e==="fr"?"Activités":"Activities",stockSummary:e==="fr"?"Résumé du Stock":"Stock Summary",stockActivities:e==="fr"?"Activités de Stock":"Stock Activities"};T.useEffect(()=>{h()},[]);const h=async()=>{A(!0);try{const m=await Nt.exportStockReport();s(Array.isArray(m)?m:[])}catch(m){console.error("Error loading report:",m)}finally{A(!1)}},B=async()=>{try{const m={search:i,category:l},y=await Nt.exportStockReport(m);if(y&&Array.isArray(y)){const v=Object.keys(y[0]).join(","),E=y.map(_=>Object.values(_).join(",")),U=[v,...E].join(`
`),V=new Blob([U],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(V),C=document.createElement("a");C.setAttribute("href",S),C.setAttribute("download",`stock-report-${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)}else console.error("Invalid response format for export")}catch(m){console.error("Error exporting stock report:",m)}},x=r.filter(m=>{const y=i===""||m.name.toLowerCase().includes(i.toLowerCase())||m.code.toLowerCase().includes(i.toLowerCase()),v=l===""||m.category===l;return y&&v}),N=[...new Set(r.map(m=>m.category))].filter(Boolean);return a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>t("/stock/dashboard"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[a.jsx(Ui,{size:20,className:"mr-2"}),p.back]}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:p.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:p.subtitle})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>f("summary"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${u==="summary"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[a.jsx(Is,{size:16,className:"mr-2"}),p.stockSummary]}),a.jsxs("button",{onClick:()=>f("activities"),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${u==="activities"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[a.jsx(Es,{size:16,className:"mr-2"}),p.stockActivities]})]})})}),u==="summary"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:p.search,value:i,onChange:m=>o(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:l,onChange:m=>c(m.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:p.allCategories}),N.map(m=>a.jsx("option",{value:m,children:m},m))]})]}),a.jsx("div",{children:a.jsxs("button",{onClick:B,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[a.jsx(VA,{size:16,className:"mr-2"}),p.export]})})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:p.loading})]})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.code}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.product}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.category}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.currentStock}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.expiringStock}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.unit}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:p.minStock})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:x.length>0?x.map((m,y)=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.code}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.category}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.currentStock}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.expiringStock}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.unit}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.minStock})]},y)):a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:p.noData})})})]})})})]}):a.jsx(XI,{})]})}const tN=T.createContext(void 0),dt=()=>{const e=T.useContext(tN);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function ZI(){const[e,t]=T.useState(()=>{const h=localStorage.getItem("sil_lab_token"),B=localStorage.getItem("sil_lab_user");if(h&&B)try{return JSON.parse(B)}catch(x){console.error("Error parsing user data:",x),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}return null}),[r,s]=T.useState(()=>{const h=localStorage.getItem("sil_lab_theme");return h||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),[n,A]=T.useState(()=>localStorage.getItem("sil_lab_language")||"fr");T.useEffect(()=>{const h=window.document.documentElement;h.classList.remove("light","dark"),h.classList.add(r),localStorage.setItem("sil_lab_theme",r)},[r]),T.useEffect(()=>{localStorage.setItem("sil_lab_language",n)},[n]),T.useEffect(()=>{const h=window.matchMedia("(prefers-color-scheme: dark)"),B=x=>{localStorage.getItem("sil_lab_theme")||s(x.matches?"dark":"light")};return h.addEventListener("change",B),()=>h.removeEventListener("change",B)},[]),T.useEffect(()=>{(async()=>{const B=localStorage.getItem("sil_lab_token");if(B&&!e)try{const x=await fetch("http://localhost:5001/api/auth/me",{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}});if(x.ok){const N=await x.json();t(N.user),localStorage.setItem("sil_lab_user",JSON.stringify(N.user))}else localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}catch(x){console.error("Error validating token:",x),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")}})()},[e]);const u={user:e,login:async(h,B)=>{try{const x=await fetch("http://localhost:5001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,password:B})});if(x.ok){const N=await x.json();return t(N.user),localStorage.setItem("sil_lab_token",N.token),localStorage.setItem("sil_lab_user",JSON.stringify(N.user)),!0}else return console.error("Login failed"),!1}catch(x){return console.error("Login error:",x),!1}},logout:()=>{t(null),localStorage.removeItem("sil_lab_token"),localStorage.removeItem("sil_lab_user")},theme:r,toggleTheme:()=>{s(h=>h==="light"?"dark":"light")},language:n,toggleLanguage:()=>{A(h=>h==="fr"?"en":"fr")}},[f,p]=T.useState(!1);return a.jsx(tN.Provider,{value:u,children:a.jsx("div",{className:`min-h-screen ${r==="dark"?"dark bg-gray-900":"bg-gray-50"}`,children:e?a.jsxs("div",{className:"flex flex-col lg:flex-row h-screen overflow-hidden",children:[f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>p(!1)}),a.jsx("div",{className:`fixed lg:static z-30 transform ${f?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out`,children:a.jsx(VC,{onClose:()=>p(!1)})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:[a.jsx(zC,{onMenuClick:()=>p(!f)}),a.jsx("main",{className:"flex-1 overflow-y-auto p-2 sm:p-4 lg:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(aC,{children:[a.jsx(Ct,{path:"/",element:a.jsx(wg,{to:"/dashboard",replace:!0})}),a.jsx(Ct,{path:"/dashboard",element:a.jsx(YC,{})}),a.jsx(Ct,{path:"/patients",element:a.jsx(ZC,{})}),a.jsx(Ct,{path:"/doctors",element:a.jsx(e3,{})}),a.jsx(Ct,{path:"/requests",element:a.jsx(t3,{})}),a.jsx(Ct,{path:"/new-request",element:a.jsx(d3,{})}),a.jsx(Ct,{path:"/analyses",element:a.jsx(r3,{})}),a.jsx(Ct,{path:"/results",element:a.jsx(DU,{})}),a.jsx(Ct,{path:"/validation",element:a.jsx(TU,{})}),a.jsx(Ct,{path:"/billing",element:a.jsx(RU,{})}),a.jsx(Ct,{path:"/config",element:a.jsx(HU,{})}),a.jsx(Ct,{path:"/config/prices",element:a.jsx(MU,{})}),a.jsx(Ct,{path:"/config/users",element:a.jsx(OU,{})}),a.jsx(Ct,{path:"/config/modules",element:a.jsx(TI,{})}),a.jsx(Ct,{path:"/config/audit",element:a.jsx(RI,{})}),a.jsx(Ct,{path:"/config/backup",element:a.jsx(HI,{})}),a.jsx(Ct,{path:"/automates",element:a.jsx(zI,{})}),a.jsx(Ct,{path:"/quality-control",element:a.jsx($I,{})}),a.jsx(Ct,{path:"/stock",element:a.jsx(wg,{to:"/stock/dashboard",replace:!0})}),a.jsx(Ct,{path:"/stock/dashboard",element:a.jsx(KU,{})}),a.jsx(Ct,{path:"/stock/add",element:a.jsx(GU,{})}),a.jsx(Ct,{path:"/stock/create-product",element:a.jsx(WU,{})}),a.jsx(Ct,{path:"/stock/use",element:a.jsx(JU,{})}),a.jsx(Ct,{path:"/stock/transfer",element:a.jsx($U,{onClose:()=>{}})}),a.jsx(Ct,{path:"/stock/adjust",element:a.jsx(XU,{})}),a.jsx(Ct,{path:"/stock/suppliers",element:a.jsx(YU,{})}),a.jsx(Ct,{path:"/stock/orders",element:a.jsx(tL,{})}),a.jsx(Ct,{path:"/stock/reports",element:a.jsx(YI,{})}),a.jsx(Ct,{path:"*",element:a.jsx(wg,{to:"/dashboard",replace:!0})})]})})})]})]}):a.jsx(GC,{})})})}window.debugRequests=XC;Hb(document.getElementById("root")).render(a.jsx(T.StrictMode,{children:a.jsx(dC,{children:a.jsx(ZI,{})})}));export{Qt as _,e7 as c,MN as g};
